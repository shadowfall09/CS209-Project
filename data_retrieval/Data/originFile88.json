{"items":[{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698834572,"post_id":77401758,"comment_id":136454274,"body_markdown":"Your code is wrong. Ditch that ugly `HibernateUtils`, ditch the `hibernate.cfg.xml`. Inject the `SessionFactory` which is created by `LocalSessionFactoryBean`. And no you should really use a transaction, if you don&#39;t you would need to use `openSession` instead of `getCurrentSession` which would also make you need to manage the session lifecycle (properly close it etc.) with a transaction all of that is managed for you.","body":"Your code is wrong. Ditch that ugly <code>HibernateUtils</code>, ditch the <code>hibernate.cfg.xml</code>. Inject the <code>SessionFactory</code> which is created by <code>LocalSessionFactoryBean</code>. And no you should really use a transaction, if you don&#39;t you would need to use <code>openSession</code> instead of <code>getCurrentSession</code> which would also make you need to manage the session lifecycle (properly close it etc.) with a transaction all of that is managed for you."},{"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"score":0,"creation_date":1698838229,"post_id":77401758,"comment_id":136454902,"body_markdown":"@M.Deinum without the hibernate.cfg.xml how are we going to set the properties in that case? Could you please share some example to help me understand? Thanks","body":"@M.Deinum without the hibernate.cfg.xml how are we going to set the properties in that case? Could you please share some example to help me understand? Thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698838918,"post_id":77401758,"comment_id":136455016,"body_markdown":"Through the `LocalSessionFactoryBean`. You don&#39;t need the connection stuff, you shouldn&#39;t be setting the `current.context` stuff. The datasource is your connection pool. Everything else are already properties on that class.","body":"Through the <code>LocalSessionFactoryBean</code>. You don&#39;t need the connection stuff, you shouldn&#39;t be setting the <code>current.context</code> stuff. The datasource is your connection pool. Everything else are already properties on that class."}],"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698832995,"creation_date":1698832995,"question_id":77401758,"body_markdown":"I am using Spring and Hibernate, and am ideally looking at spring to manage my transactions. However I am getting an error - &#39;Calling method &#39;createCriteria&#39; is not valid without an active transaction (Current status: NOT_ACTIVE)&#39; exception.\r\n\r\nThis is how my hibernate.cfg.xml looks like\r\n\r\n\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- JDBC Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://abc.def:1111/db_name?useSSL=false&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;200&lt;/property&gt;\r\n        &lt;!-- Echo the SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;!-- Set the current session context --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n                \r\n\r\n        &lt;!-- dbcp connection pool configuration --&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.initialSize&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.maxTotal&quot;&gt;100&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.maxIdle&quot;&gt;80&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.minIdle&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.maxWaitMillis&quot;&gt;-1&lt;/property&gt;\r\n        &lt;mapping class=&quot;com.mypackage.com.model.ABC&quot; /&gt;\r\n        .... //mapping classes\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nThis is my HibernateUtils.java\r\n```\r\npublic class HibernateUtils {\r\n    private static StandardServiceRegistry registry;\r\n    private static SessionFactory sessionFactory;\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n        if (sessionFactory == null) {\r\n            try {\r\n                // Create registry\r\n                registry = new StandardServiceRegistryBuilder().configure().build();\r\n\r\n                // Create MetadataSources\r\n                MetadataSources sources = new MetadataSources(registry);\r\n\r\n                // Create Metadata\r\n                Metadata metadata = sources.getMetadataBuilder().build();\r\n\r\n                // Create SessionFactory\r\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                if (registry != null) {\r\n                    StandardServiceRegistryBuilder.destroy(registry);\r\n                }\r\n            }\r\n        }\r\n        return sessionFactory;\r\n    }\r\n\r\n    public static void shutdown() {\r\n        if (registry != null) {\r\n            StandardServiceRegistryBuilder.destroy(registry);\r\n        }\r\n    }\r\n}\r\n```\r\nI have added this in application.properties \r\n```\r\n&lt;bean id=&quot;mySessionFactory&quot;\r\n    class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n    &lt;property name=&quot;mappingResources&quot;&gt;\r\n        &lt;list&gt;\r\n            &lt;value&gt;hibernate.cfg.xml&lt;/value&gt;\r\n        &lt;/list&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n        &lt;value&gt;\r\n            hibernate.dialect=org.hibernate.dialect.HSQLDialect\r\n        &lt;/value&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot; /&gt;\r\n&lt;/bean&gt; \r\n\r\n&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;  /&gt;\r\n```\r\n\r\nFinally my DB calls look like this:\r\n```\r\nSession session = HibernateUtils.getSessionFactory().getCurrentSession();\r\nCriteria criteria = session.createCriteria(ABC.class); //Error line\r\nABC obj = (ABC) criteria.add(Restrictions.eq(&quot;userId&quot;, userId)).uniqueResult();\r\nif(obj == null) return null;\r\nreturn obj;\r\n```\r\nMy pom looks like\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.8.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Create criteria without active transaction in Hibernate","body":"<p>I am using Spring and Hibernate, and am ideally looking at spring to manage my transactions. However I am getting an error - 'Calling method 'createCriteria' is not valid without an active transaction (Current status: NOT_ACTIVE)' exception.</p>\n<p>This is how my hibernate.cfg.xml looks like</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- JDBC Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://abc.def:1111/db_name?useSSL=false&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;200&lt;/property&gt;\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;!-- Set the current session context --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n                \n\n        &lt;!-- dbcp connection pool configuration --&gt;\n        &lt;property name=&quot;hibernate.dbcp.initialSize&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.maxTotal&quot;&gt;100&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.maxIdle&quot;&gt;80&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.minIdle&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.maxWaitMillis&quot;&gt;-1&lt;/property&gt;\n        &lt;mapping class=&quot;com.mypackage.com.model.ABC&quot; /&gt;\n        .... //mapping classes\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>This is my HibernateUtils.java</p>\n<pre><code>public class HibernateUtils {\n    private static StandardServiceRegistry registry;\n    private static SessionFactory sessionFactory;\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n            try {\n                // Create registry\n                registry = new StandardServiceRegistryBuilder().configure().build();\n\n                // Create MetadataSources\n                MetadataSources sources = new MetadataSources(registry);\n\n                // Create Metadata\n                Metadata metadata = sources.getMetadataBuilder().build();\n\n                // Create SessionFactory\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                if (registry != null) {\n                    StandardServiceRegistryBuilder.destroy(registry);\n                }\n            }\n        }\n        return sessionFactory;\n    }\n\n    public static void shutdown() {\n        if (registry != null) {\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n}\n</code></pre>\n<p>I have added this in application.properties</p>\n<pre><code>&lt;bean id=&quot;mySessionFactory&quot;\n    class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\n    &lt;property name=&quot;mappingResources&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;hibernate.cfg.xml&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;value&gt;\n            hibernate.dialect=org.hibernate.dialect.HSQLDialect\n        &lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot; /&gt;\n&lt;/bean&gt; \n\n&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;  /&gt;\n</code></pre>\n<p>Finally my DB calls look like this:</p>\n<pre><code>Session session = HibernateUtils.getSessionFactory().getCurrentSession();\nCriteria criteria = session.createCriteria(ABC.class); //Error line\nABC obj = (ABC) criteria.add(Restrictions.eq(&quot;userId&quot;, userId)).uniqueResult();\nif(obj == null) return null;\nreturn obj;\n</code></pre>\n<p>My pom looks like</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.8.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","netbeans","awt","netbeans-platform"],"answers":[{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698832850,"creation_date":1698832205,"answer_id":77401688,"question_id":77395723,"body_markdown":"I don&#39;t know if there is a Netbeans API for this. But it&#39;s a Java app so you can use the JDK flag `sun.java2d.uiScale`. \r\n\r\nFor example with an Ant-based NB app, your app could update file `nbproject/project.properties` with `run.args.extra=-J-Dsun.java2d.uiScale=1.5`\r\n\r\nIt&#39;s not truly dynamic as you need to restart the app (after user confirmation) to apply the changes, but it might be acceptable for this kind of setting.\r\n\r\n\r\n","title":"How can I dynamically scale (enlarge) all GUI controls in my NetBeans Platform-based application to support accessibility?","body":"<p>I don't know if there is a Netbeans API for this. But it's a Java app so you can use the JDK flag <code>sun.java2d.uiScale</code>.</p>\n<p>For example with an Ant-based NB app, your app could update file <code>nbproject/project.properties</code> with <code>run.args.extra=-J-Dsun.java2d.uiScale=1.5</code></p>\n<p>It's not truly dynamic as you need to restart the app (after user confirmation) to apply the changes, but it might be acceptable for this kind of setting.</p>\n"}],"owner":{"account_id":18637040,"reputation":518,"user_id":13583700,"display_name":"Dawid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77401688,"answer_count":1,"score":1,"last_activity_date":1698832850,"creation_date":1698753838,"question_id":77395723,"body_markdown":"I&#39;m working on a **NetBeans Platform application** and want to ensure accessibility by **dynamically** scaling up the GUI components for users with visual impairments. Is there a way to achieve this programmatically for **all** GUI controls?\r\n\r\nPrimarily, I&#39;m looking for a way to iterate through all the UI controls in the NetBeans Platform and somehow (are there setters for this?!) dynamically set the scaling in both the x and y dimensions based on the user&#39;s previous adjustment through the GUI. I would greatly appreciate it if someone could show me how to perform such an iteration and the API for setting the scaling.\r\n\r\n","title":"How can I dynamically scale (enlarge) all GUI controls in my NetBeans Platform-based application to support accessibility?","body":"<p>I'm working on a <strong>NetBeans Platform application</strong> and want to ensure accessibility by <strong>dynamically</strong> scaling up the GUI components for users with visual impairments. Is there a way to achieve this programmatically for <strong>all</strong> GUI controls?</p>\n<p>Primarily, I'm looking for a way to iterate through all the UI controls in the NetBeans Platform and somehow (are there setters for this?!) dynamically set the scaling in both the x and y dimensions based on the user's previous adjustment through the GUI. I would greatly appreciate it if someone could show me how to perform such an iteration and the API for setting the scaling.</p>\n"},{"tags":["java","sql","spring","oracle","jpa"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1698437291,"post_id":77375602,"comment_id":136410406,"body_markdown":"Does this answer your question? [How to build where clause with optional search parameters](https://stackoverflow.com/questions/30454886/how-to-build-where-clause-with-optional-search-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30454886/how-to-build-where-clause-with-optional-search-parameters\">How to build where clause with optional search parameters</a>"}],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135377,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698429487,"creation_date":1698429487,"answer_id":77376212,"question_id":77375602,"body_markdown":"Usually, we do it as\r\n\r\n    AND (credittype IN (:credittypeVAR) or :credittypeVAR is null)\r\n\r\nYou&#39;d apply it to all parameters.","title":"If the null or empty list does not filter","body":"<p>Usually, we do it as</p>\n<pre><code>AND (credittype IN (:credittypeVAR) or :credittypeVAR is null)\n</code></pre>\n<p>You'd apply it to all parameters.</p>\n"},{"tags":[],"owner":{"account_id":8647787,"reputation":29,"user_id":6474497,"display_name":"BDehylz Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698832811,"creation_date":1698832811,"answer_id":77401747,"question_id":77375602,"body_markdown":"I don&#39;t know why this way doesn&#39;t work in Oracle, it should... But I solved it another way.\r\n\r\nI&#39;m using Oracle and that might be why it doesn&#39;t do it the simple way... I created logic for the lists and I&#39;m using it this way\r\n\r\n“AND ((credittype IN (:credittypeVAR)) OR (‘all’) IN (:credittypeVAR)) \\r\\n”\r\n\r\nIf the list is null or empty, I put the value ‘all’ (I created a method for this).","title":"If the null or empty list does not filter","body":"<p>I don't know why this way doesn't work in Oracle, it should... But I solved it another way.</p>\n<p>I'm using Oracle and that might be why it doesn't do it the simple way... I created logic for the lists and I'm using it this way</p>\n<p>“AND ((credittype IN (:credittypeVAR)) OR (‘all’) IN (:credittypeVAR)) \\r\\n”</p>\n<p>If the list is null or empty, I put the value ‘all’ (I created a method for this).</p>\n"}],"owner":{"account_id":8647787,"reputation":29,"user_id":6474497,"display_name":"BDehylz Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698832811,"creation_date":1698422726,"question_id":77375602,"body_markdown":"Does anyone know how I can do it if the List is null or empty and does not search the list (Bring all elements)?\r\n\r\n\r\n    @Query(&quot;SELECT new ReasonCodeCounter(credittype, reasontext, reasoncode, decisionresult, SUM(total))\\r\\n&quot;\r\n    \r\n    + &quot;FROM ReasonCodeCounter\\r\\n&quot;\r\n    \r\n    + &quot;WHERE createdate &gt;= :startDate AND createdate &lt;= :endDate\\r\\n&quot;\r\n    \r\n    + &quot;AND (credittype IN (:credittypeVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (decisionresult IN (:decisionresultVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (valoracaoproposta IN (:valoracaopropostaVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (produto IN (:produtoVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (regiaobalcao IN (:regiaobalcaoVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (ctransorigid IN (:ctransorigidVAR))\\r\\n&quot;\r\n    \r\n    + &quot;GROUP BY credittype, reasontext, reasoncode, decisionresult&quot;)\r\n    \r\n    List&lt;ReasonCodeCounterParent&gt; getOccurrencesOfReasonCodesFilters(LocalDate startDate, LocalDate endDate,\r\n    \r\n    List&lt;String&gt; credittypeVAR, List&lt;String&gt; decisionresultVAR, List&lt;String&gt; valoracaopropostaVAR, List&lt;String&gt; produtoVAR,\r\n    \r\n    List&lt;String&gt; regiaobalcaoVAR, List&lt;String&gt; ctransorigidVAR);","title":"If the null or empty list does not filter","body":"<p>Does anyone know how I can do it if the List is null or empty and does not search the list (Bring all elements)?</p>\n<pre><code>@Query(&quot;SELECT new ReasonCodeCounter(credittype, reasontext, reasoncode, decisionresult, SUM(total))\\r\\n&quot;\n\n+ &quot;FROM ReasonCodeCounter\\r\\n&quot;\n\n+ &quot;WHERE createdate &gt;= :startDate AND createdate &lt;= :endDate\\r\\n&quot;\n\n+ &quot;AND (credittype IN (:credittypeVAR))\\r\\n&quot;\n\n+ &quot;AND (decisionresult IN (:decisionresultVAR))\\r\\n&quot;\n\n+ &quot;AND (valoracaoproposta IN (:valoracaopropostaVAR))\\r\\n&quot;\n\n+ &quot;AND (produto IN (:produtoVAR))\\r\\n&quot;\n\n+ &quot;AND (regiaobalcao IN (:regiaobalcaoVAR))\\r\\n&quot;\n\n+ &quot;AND (ctransorigid IN (:ctransorigidVAR))\\r\\n&quot;\n\n+ &quot;GROUP BY credittype, reasontext, reasoncode, decisionresult&quot;)\n\nList&lt;ReasonCodeCounterParent&gt; getOccurrencesOfReasonCodesFilters(LocalDate startDate, LocalDate endDate,\n\nList&lt;String&gt; credittypeVAR, List&lt;String&gt; decisionresultVAR, List&lt;String&gt; valoracaopropostaVAR, List&lt;String&gt; produtoVAR,\n\nList&lt;String&gt; regiaobalcaoVAR, List&lt;String&gt; ctransorigidVAR);\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697728170,"post_id":77324851,"comment_id":136318858,"body_markdown":"possible to add pom.xml?","body":"possible to add pom.xml?"},{"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"score":0,"creation_date":1697728837,"post_id":77324851,"comment_id":136319043,"body_markdown":"added above @prasannajoshi","body":"added above @prasannajoshi"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697729875,"post_id":77324851,"comment_id":136319260,"body_markdown":"&lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}&lt;/outputDirectory&gt;\n                    &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n                    &lt;resources&gt;\n    &lt;resource&gt;\n&lt;/resources&gt;\n &lt;artifactItems&gt;\n\ntry adding resource under Configuration like above","body":"&lt;configuration&gt;                     &lt;outputDirectory&gt;${basedir}&lt;/outputDirectory&gt;                     &lt;stripVersion&gt;true&lt;/stripVersion&gt;                     &lt;resources&gt;     &lt;resource&gt; &lt;/resources&gt;  &lt;artifactItems&gt;  try adding resource under Configuration like above"},{"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"score":0,"creation_date":1697735903,"post_id":77324851,"comment_id":136320423,"body_markdown":"I am getting &quot;Unrecognised tag: &#39;configuration&#39;&quot; I guess it should be part of a plug in to be able to use the configuration tag","body":"I am getting &quot;Unrecognised tag: &#39;configuration&#39;&quot; I guess it should be part of a plug in to be able to use the configuration tag"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697763874,"post_id":77324851,"comment_id":136323897,"body_markdown":"You setup is simply outdated.. the plugin version is of 2014!! That means not updated for such a long time... Also using Maven 3.2.3 the same time... upgrade.... also this copying with maven-dependency-plugin etc. looks strange... and also using maven-assembly-plugin which not using maven-assembly-plugin instead etc. Resources in `src/main/java`??","body":"You setup is simply outdated.. the plugin version is of 2014!! That means not updated for such a long time... Also using Maven 3.2.3 the same time... upgrade.... also this copying with maven-dependency-plugin etc. looks strange... and also using maven-assembly-plugin which not using maven-assembly-plugin instead etc. Resources in <code>src&#47;main&#47;java</code>??"},{"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"score":0,"creation_date":1697787232,"post_id":77324851,"comment_id":136326046,"body_markdown":"@khmarbaise Thanx for your comment. Your first point is to update to a new verion of maven which I have replied in the below comment. Is there another point or question?","body":"@khmarbaise Thanx for your comment. Your first point is to update to a new verion of maven which I have replied in the below comment. Is there another point or question?"}],"answers":[{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697734708,"creation_date":1697734708,"answer_id":77325743,"question_id":77324851,"body_markdown":"You mentioned that you are using Maven 3.2.3, which is quite outdated. Consider upgrading to a more recent version of Maven, as newer versions often come with improvements and bug fixes. Also you can enable Maven debugging to get more detailed information about what&#39;s happening. Add the -X or --debug flag to your Maven commands, e.g., mvn clean install -X","title":"Java is failing in the midle of a copy from src to target","body":"<p>You mentioned that you are using Maven 3.2.3, which is quite outdated. Consider upgrading to a more recent version of Maven, as newer versions often come with improvements and bug fixes. Also you can enable Maven debugging to get more detailed information about what's happening. Add the -X or --debug flag to your Maven commands, e.g., mvn clean install -X</p>\n"},{"tags":[],"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698676700,"creation_date":1698055635,"answer_id":77344309,"question_id":77324851,"body_markdown":"tried the below but still fails. The problem is not consisten either. sometimes after a restart it is working for a while and then it fails again. I believe that it is reaching some limmit because I am tring to copy a lot of files.\r\n\r\n 1. run this script to all ther resources (-Recurse) using PowerShell:\r\n    [https://stackoverflow.com/questions/12098282/is-there-a-tool-to-batch-convert-utf-8-filenames-back-to-iso-8859-1-on-windows][1]\r\n\r\n 2. Change the re pom.xml resource section to the below:\r\n\r\n        &lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/java/com/AAA/microwave/XXX/&lt;/directory&gt;\r\n\t\t        &lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;about.properties&lt;/include&gt;\r\n        \t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12098282/is-there-a-tool-to-batch-convert-utf-8-filenames-back-to-iso-8859-1-on-windows","title":"Java is failing in the midle of a copy from src to target","body":"<p>tried the below but still fails. The problem is not consisten either. sometimes after a restart it is working for a while and then it fails again. I believe that it is reaching some limmit because I am tring to copy a lot of files.</p>\n<ol>\n<li><p>run this script to all ther resources (-Recurse) using PowerShell:\n<a href=\"https://stackoverflow.com/questions/12098282/is-there-a-tool-to-batch-convert-utf-8-filenames-back-to-iso-8859-1-on-windows\">Is there a tool to batch convert UTF-8 filenames back to ISO-8859-1 on windows?</a></p>\n</li>\n<li><p>Change the re pom.xml resource section to the below:</p>\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/java/com/AAA/microwave/XXX/&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;about.properties&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698832352,"creation_date":1698832352,"answer_id":77401703,"question_id":77324851,"body_markdown":"I do not believe that it took me two weeks to solve this thing.\r\n\r\nThe problem is discribed here in great detail [here][1] and you may find the solution there too.\r\n\r\nI am just adding the solution here too, which is to a registry in windows.\r\n\r\nAdding this registry: HKLM\\System\\CurrentControlSet\\Services\\LanmanWorkstation\\Parameters\\**DirectoryCacheLifetime=0 (DWORD)**\r\n\r\n  [1]: https://stackoverflow.com/questions/58825588/does-java-need-to-support-error-no-more-files-when-canonicalizing-paths-on-windo/77401318#77401318","title":"Java is failing in the midle of a copy from src to target","body":"<p>I do not believe that it took me two weeks to solve this thing.</p>\n<p>The problem is discribed here in great detail <a href=\"https://stackoverflow.com/questions/58825588/does-java-need-to-support-error-no-more-files-when-canonicalizing-paths-on-windo/77401318#77401318\">here</a> and you may find the solution there too.</p>\n<p>I am just adding the solution here too, which is to a registry in windows.</p>\n<p>Adding this registry: HKLM\\System\\CurrentControlSet\\Services\\LanmanWorkstation\\Parameters*<em>DirectoryCacheLifetime=0 (DWORD)</em>*</p>\n"}],"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77401703,"answer_count":3,"score":0,"last_activity_date":1698832352,"creation_date":1697727164,"question_id":77324851,"body_markdown":"Suddenly I am getting this error while building my project.\r\n\r\n\r\n```\r\ntyp[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-cli) on project utk: There are no more files -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-cli) on project utk: There are no more files\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: There are no more files\r\n\tat org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:306)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n\t... 19 more\r\nCaused by: org.apache.maven.shared.filtering.MavenFilteringException: There are no more files\r\n\tat org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:129)\r\n\tat org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources(DefaultMavenResourcesFiltering.java:264)\r\n\tat org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:300)\r\n\t... 21 more\r\nCaused by: java.io.IOException: There are no more files\r\n\tat java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n\tat java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:428)\r\n\tat java.io.File.getCanonicalPath(File.java:618)\r\n\tat org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:821)\r\n\tat org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1868)\r\n\tat org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:122)\r\n\t... 23 more\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionExceptione here\r\n```\r\n\r\nFirst I got this during &#39;mvn clean build&#39;. but I am also getting this during &#39;mvn resources:resources&#39; \r\n\r\nThe strange think is that I havent really change anything on my code, the only significand change was that I moved from Avast security to Windws Defender Security but that might be irrelevant..\r\n\r\nSo back to the issue, the project has 3036 files under resources, most of them are .txt and .properties files. During the copy I am getting this error message, not at the same file everytime.\r\n\r\nI am wondering if it is a memory issue or cache size, I dont know.\r\n\r\n\r\nI am using java 1.8 and maven 3.2.3.\r\n\r\n\r\nTried maven update, update repository, restart, checkout the code again, adding eclipse and java to Windows Firewall excepsions and many other things I found online. Nothing seams to work..\r\n\r\n\r\nI tried to delete most of the resources files and tried to build again with 1003 files, still failing.\r\n\r\n\r\n\r\nAdding the pom.xml build section after request:\r\n\r\n    &lt;build&gt;\r\n\t&lt;resources&gt;\r\n\t\t&lt;resource&gt;\r\n\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t&lt;/resource&gt;\r\n\t\t&lt;resource&gt;\r\n\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t\t&lt;include&gt;com/AAA/microwave/XXX/about.properties&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t\t&lt;/resource&gt;\r\n\t&lt;/resources&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t&lt;mainClass&gt;com.AAA.microwave.XXX.XXXMain&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t&lt;/archive&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;test-jar&lt;/id&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;test-jar&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.AAA.microwave.XXX.XXXTestMain&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t&lt;Class-Path&gt;${project.artifactId}-${project.version}-tests.jar ${project.artifactId}-${project.version}.jar MMM-XXX-${project.version}.jar MMM-ubt-${MMMVersion}.jar&lt;/Class-Path&gt;\r\n\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;copy&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;stripVersion&gt;true&lt;/stripVersion&gt;\r\n\t\t\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.rxtx&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;rxtxparallel&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t&lt;type&gt;dll&lt;/type&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.rxtx&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;rxtxserial&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t&lt;type&gt;dll&lt;/type&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;${delivery.directory}&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;XXXAppli&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;finalName&gt;XXXAppli&lt;/finalName&gt;\r\n\t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/XXX_exe_zip.xml&lt;/descriptor&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;","title":"Java is failing in the midle of a copy from src to target","body":"<p>Suddenly I am getting this error while building my project.</p>\n<pre><code>typ[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-cli) on project utk: There are no more files -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-cli) on project utk: There are no more files\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.MojoExecutionException: There are no more files\n    at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:306)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    ... 19 more\nCaused by: org.apache.maven.shared.filtering.MavenFilteringException: There are no more files\n    at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:129)\n    at org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources(DefaultMavenResourcesFiltering.java:264)\n    at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:300)\n    ... 21 more\nCaused by: java.io.IOException: There are no more files\n    at java.io.WinNTFileSystem.canonicalize0(Native Method)\n    at java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:428)\n    at java.io.File.getCanonicalPath(File.java:618)\n    at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:821)\n    at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1868)\n    at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:122)\n    ... 23 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionExceptione here\n</code></pre>\n<p>First I got this during 'mvn clean build'. but I am also getting this during 'mvn resources:resources'</p>\n<p>The strange think is that I havent really change anything on my code, the only significand change was that I moved from Avast security to Windws Defender Security but that might be irrelevant..</p>\n<p>So back to the issue, the project has 3036 files under resources, most of them are .txt and .properties files. During the copy I am getting this error message, not at the same file everytime.</p>\n<p>I am wondering if it is a memory issue or cache size, I dont know.</p>\n<p>I am using java 1.8 and maven 3.2.3.</p>\n<p>Tried maven update, update repository, restart, checkout the code again, adding eclipse and java to Windows Firewall excepsions and many other things I found online. Nothing seams to work..</p>\n<p>I tried to delete most of the resources files and tried to build again with 1003 files, still failing.</p>\n<p>Adding the pom.xml build section after request:</p>\n<pre><code>&lt;build&gt;\n&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;com/AAA/microwave/XXX/about.properties&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;mainClass&gt;com.AAA.microwave.XXX.XXXMain&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;test-jar&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;test-jar&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;com.AAA.microwave.XXX.XXXTestMain&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Class-Path&gt;${project.artifactId}-${project.version}-tests.jar ${project.artifactId}-${project.version}.jar MMM-XXX-${project.version}.jar MMM-ubt-${MMMVersion}.jar&lt;/Class-Path&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;copy&lt;/id&gt;\n                &lt;phase&gt;process-resources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;copy&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}&lt;/outputDirectory&gt;\n                    &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n                    &lt;artifactItems&gt;\n                        &lt;artifactItem&gt;\n                            &lt;groupId&gt;org.rxtx&lt;/groupId&gt;\n                            &lt;artifactId&gt;rxtxparallel&lt;/artifactId&gt;\n                            &lt;version&gt;1.0&lt;/version&gt;\n                            &lt;type&gt;dll&lt;/type&gt;\n                        &lt;/artifactItem&gt;\n                        &lt;artifactItem&gt;\n                            &lt;groupId&gt;org.rxtx&lt;/groupId&gt;\n                            &lt;artifactId&gt;rxtxserial&lt;/artifactId&gt;\n                            &lt;version&gt;1.0&lt;/version&gt;\n                            &lt;type&gt;dll&lt;/type&gt;\n                        &lt;/artifactItem&gt;\n                    &lt;/artifactItems&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;outputDirectory&gt;${delivery.directory}&lt;/outputDirectory&gt;\n            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;XXXAppli&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;XXXAppli&lt;/finalName&gt;\n                    &lt;descriptor&gt;src/main/assembly/XXX_exe_zip.xml&lt;/descriptor&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1655378353,"creation_date":1600681636,"answer_id":63989843,"question_id":63989767,"body_markdown":"&gt; **Which versions of JVM does Kotlin target?**\r\n&gt;\r\n&gt; Kotlin lets you choose the version of JVM for execution. By default,\r\n&gt; the Kotlin/JVM compiler produces Java 8 compatible bytecode. If you\r\n&gt; want to make use of optimizations available in newer versions of Java,\r\n&gt; you can explicitly specify the target Java version from 9 to 18\r\n\r\nhttps://kotlinlang.org/docs/reference/faq.html#which-versions-of-jvm-does-kotlin-target","title":"Which versions of Kotlin are compatible with which versions of Java?","body":"<blockquote>\n<p><strong>Which versions of JVM does Kotlin target?</strong></p>\n<p>Kotlin lets you choose the version of JVM for execution. By default,\nthe Kotlin/JVM compiler produces Java 8 compatible bytecode. If you\nwant to make use of optimizations available in newer versions of Java,\nyou can explicitly specify the target Java version from 9 to 18</p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/docs/reference/faq.html#which-versions-of-jvm-does-kotlin-target\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/faq.html#which-versions-of-jvm-does-kotlin-target</a></p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1698832318,"creation_date":1695724788,"answer_id":77179226,"question_id":63989767,"body_markdown":"The following table shows the Kotlin compiler version that had first started supporting each new JVM target:\r\n\r\n|Kotlin version|Release date|JVM targets|\r\n|:------------:|:----------:|-----------|\r\n|1.0           |15/2/2016   |1.6 only   |\r\n|1.1           |7/2/2017    |1.6 to 1.8 |\r\n|1.3.30        |11/4/2019   |1.6 to 12  |\r\n|1.3.70        |3/3/2020    |1.6 to 13  |\r\n|1.4.0         |14/8/2020   |1.6 to 14  |\r\n|1.4.20        |19/11/2020  |1.6 to 15  |\r\n|1.5.0         |26/4/2021   |1.6 to 16  |\r\n|1.6.0         |16/11/2021  |1.8 to 17  |\r\n|1.6.20        |4/4/2022    |1.8 to 18  |\r\n|1.8.0         |28/12/2022  |1.8 to 19  |\r\n|1.9.0         |6/7/2023    |1.8 to 20  |\r\n|1.9.20        |1/11/2023   |1.8 to 21  |\r\n","title":"Which versions of Kotlin are compatible with which versions of Java?","body":"<p>The following table shows the Kotlin compiler version that had first started supporting each new JVM target:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Kotlin version</th>\n<th style=\"text-align: center;\">Release date</th>\n<th>JVM targets</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1.0</td>\n<td style=\"text-align: center;\">15/2/2016</td>\n<td>1.6 only</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.1</td>\n<td style=\"text-align: center;\">7/2/2017</td>\n<td>1.6 to 1.8</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.3.30</td>\n<td style=\"text-align: center;\">11/4/2019</td>\n<td>1.6 to 12</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.3.70</td>\n<td style=\"text-align: center;\">3/3/2020</td>\n<td>1.6 to 13</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.4.0</td>\n<td style=\"text-align: center;\">14/8/2020</td>\n<td>1.6 to 14</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.4.20</td>\n<td style=\"text-align: center;\">19/11/2020</td>\n<td>1.6 to 15</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.5.0</td>\n<td style=\"text-align: center;\">26/4/2021</td>\n<td>1.6 to 16</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.6.0</td>\n<td style=\"text-align: center;\">16/11/2021</td>\n<td>1.8 to 17</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.6.20</td>\n<td style=\"text-align: center;\">4/4/2022</td>\n<td>1.8 to 18</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.8.0</td>\n<td style=\"text-align: center;\">28/12/2022</td>\n<td>1.8 to 19</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.9.0</td>\n<td style=\"text-align: center;\">6/7/2023</td>\n<td>1.8 to 20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1.9.20</td>\n<td style=\"text-align: center;\">1/11/2023</td>\n<td>1.8 to 21</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":17613443,"reputation":213,"user_id":12781011,"display_name":"speed_star777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6160,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":63989843,"answer_count":2,"score":13,"last_activity_date":1698832318,"creation_date":1600681321,"question_id":63989767,"body_markdown":"I know Kotlin requires Java when running Kotlin. For example, I use Kotlin 1.4.0 and I use Java 14. However, I&#39;m not sure about Kotlin and Java version compatibility.\r\n\r\nIs there a Kotlin and Java version compatibility table?\r\n\r\nI looked through [the official document][1], but I couldn&#39;t find the information that I wanted.\r\n\r\n\r\n  [1]: https://kotlinlang.org/","title":"Which versions of Kotlin are compatible with which versions of Java?","body":"<p>I know Kotlin requires Java when running Kotlin. For example, I use Kotlin 1.4.0 and I use Java 14. However, I'm not sure about Kotlin and Java version compatibility.</p>\n<p>Is there a Kotlin and Java version compatibility table?</p>\n<p>I looked through <a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">the official document</a>, but I couldn't find the information that I wanted.</p>\n"},{"tags":["java","spring","oracle","junit","h2"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698834657,"post_id":77401686,"comment_id":136454286,"body_markdown":"Do you really have multiple datasources in your project? If not use the Sprng Boot test support to simply reconfigure your database automatically.","body":"Do you really have multiple datasources in your project? If not use the Sprng Boot test support to simply reconfigure your database automatically."},{"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"score":0,"creation_date":1698837172,"post_id":77401686,"comment_id":136454740,"body_markdown":"yes. I have multiple datasources in project.@M.Deinum","body":"yes. I have multiple datasources in project.@M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698838958,"post_id":77401686,"comment_id":136455022,"body_markdown":"Just override the datasource I don&#39;t see why you reconfigure everything.","body":"Just override the datasource I don&#39;t see why you reconfigure everything."},{"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"score":0,"creation_date":1698839762,"post_id":77401686,"comment_id":136455154,"body_markdown":"Can you explain more? @M.Deinum","body":"Can you explain more? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698840295,"post_id":77401686,"comment_id":136455263,"body_markdown":"I don&#39;t see why you are reconfiguring everything. You should only need to reconfigure the datasource, everything else should stay the same (or maybe even better, don&#39;t use H2 but testcontainers with an actual Oracle database).","body":"I don&#39;t see why you are reconfiguring everything. You should only need to reconfigure the datasource, everything else should stay the same (or maybe even better, don&#39;t use H2 but testcontainers with an actual Oracle database)."}],"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698832187,"creation_date":1698832187,"question_id":77401686,"body_markdown":"I have Spring project with Oracle DB with following configuration:\r\n\r\n    @Configuration\r\n    @PropertySource({&quot;classpath:application.properties&quot;})\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;oracleEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;oracleTransactionManager&quot;,\r\n            basePackages = {\r\n                    &quot;com.dsi.system.baseinfo.repositories&quot;,\r\n                    &quot;com.dsi.system.repositorieslib.*&quot;\r\n            }\r\n    )\r\n    @RequiredArgsConstructor\r\n    public class OracleDataSourceConfiguration {\r\n    \r\n        private final JpaProperties jpaProperties;\r\n   \r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;spring.datasource.sample&quot;)\r\n        public DataSourceProperties primaryDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name = &quot;primaryDataSource&quot;)\r\n        @ConfigurationProperties(&quot;spring.datasource.sample.configuration&quot;)\r\n        public DataSource primaryDataSource() {\r\n            return primaryDataSourceProperties()\r\n                    .initializeDataSourceBuilder()\r\n                    .type(HikariDataSource.class)\r\n                    .password(&quot;123&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;oracleEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean oracleEntityManagerFactory() {\r\n            HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            HashMap&lt;String, Object&gt; properties = jpaProperties.getJPAProperties(&quot;sample&quot;);\r\n    \r\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(primaryDataSource());\r\n            em.setPackagesToScan(\r\n                    &quot;com.dsi.system.core.entities&quot;,\r\n                    &quot;com.dsi.system.core.sign.entity&quot;,\r\n                    &quot;com.dsi.system.baseinfo.entities&quot;\r\n            );\r\n            em.setPersistenceUnitName(&quot;sample&quot;);\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaPropertyMap(properties);\r\n    \r\n            return em;\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;oracleTransactionManager&quot;)\r\n        public PlatformTransactionManager oracleTransactionManager(\r\n                final @Qualifier(&quot;chequeEntityManagerFactory&quot;)\r\n                LocalContainerEntityManagerFactoryBean chequeEntityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(chequeEntityManagerFactory.getObject());\r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\nand I want create my Junit with H2 DB and this is my H2DataSourceConfiguration:\r\n\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;h2EntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;h2TransactionManager&quot;,\r\n            basePackages = {\r\n                    &quot;com.dsi.system.baseinfo.repositories&quot;,\r\n                    &quot;com.dsi.system.repositorieslib.*&quot;\r\n            }\r\n    )\r\n    public class H2DataSourceConfiguration {\r\n        private final JpaProperties jpaProperties;\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;spring.h2.datasource.cheque&quot;)\r\n        public DataSourceProperties h2PrimaryDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n    \r\n        @Bean(name = &quot;h2PrimaryDataSource&quot;)\r\n        public DataSource dataSource() {\r\n            Mode.getInstance(&quot;ORACLE&quot;).numericWithBooleanComparison = true;\r\n            return h2PrimaryDataSourceProperties()\r\n                    .initializeDataSourceBuilder()\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean(name = &quot;h2EntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean h2EntityManagerFactory() {\r\n            HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            HashMap&lt;String, Object&gt; properties = jpaProperties.getJPAProperties(&quot;sample&quot;);\r\n    \r\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(this.dataSource());\r\n            em.setPackagesToScan(\r\n                    &quot;com.dsi.system.core.entities&quot;,\r\n                    &quot;com.dsi.system.core.sign.entity&quot;,\r\n                    &quot;com.dsi.system.baseinfo.entities&quot;\r\n            );\r\n            em.setPersistenceUnitName(&quot;sample&quot;);\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaPropertyMap(properties);\r\n    \r\n            return em;\r\n        }\r\n    \r\n        @Bean(name = &quot;h2TransactionManager&quot;)\r\n        public PlatformTransactionManager h2TransactionManager(\r\n                final @Qualifier(&quot;h2EntityManagerFactory&quot;)\r\n                LocalContainerEntityManagerFactoryBean h2EntityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(h2EntityManagerFactory.getObject());\r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\nafter run my test I get following **BeanDefinitionOverrideException**:\r\n\r\n\r\n    org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;batchRevokeRepository&#39; defined in com.dsi.system.repositorieslib.revoke.BatchRevokeRepository defined in @EnableJpaRepositories declared on ChequeDataSourceConfiguration: Cannot register bean definition [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in com.dsi.system.repositorieslib.revoke.BatchRevokeRepository defined in @EnableJpaRepositories declared on ChequeDataSourceConfiguration] for bean &#39;batchRevokeRepository&#39; since there is already [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in com.dsi.system.repositorieslib.revoke.BatchRevokeRepository defined in @EnableJpaRepositories declared on H2ChequeDataSourceConfiguration] bound.\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:1015)\r\n    \tat org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:197)\r\n    \tat org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:94)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148)\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n    \t... 72 more\r\n\r\n\r\nif I disable **OracleDataSourceConfiguration** from my code, run test successfully.\r\nmaybe I should disable that when my test run but I can&#39;t do it and I don&#39;t confident this way is correct.\r\ncan any one help me to fix it?\r\n\r\nthanks :)","title":"fix Junit h2 datasource configuration","body":"<p>I have Spring project with Oracle DB with following configuration:</p>\n<pre><code>@Configuration\n@PropertySource({&quot;classpath:application.properties&quot;})\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;oracleEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;oracleTransactionManager&quot;,\n        basePackages = {\n                &quot;com.dsi.system.baseinfo.repositories&quot;,\n                &quot;com.dsi.system.repositorieslib.*&quot;\n        }\n)\n@RequiredArgsConstructor\npublic class OracleDataSourceConfiguration {\n\n    private final JpaProperties jpaProperties;\n\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.sample&quot;)\n    public DataSourceProperties primaryDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;primaryDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.datasource.sample.configuration&quot;)\n    public DataSource primaryDataSource() {\n        return primaryDataSourceProperties()\n                .initializeDataSourceBuilder()\n                .type(HikariDataSource.class)\n                .password(&quot;123&quot;)\n                .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;oracleEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean oracleEntityManagerFactory() {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        HashMap&lt;String, Object&gt; properties = jpaProperties.getJPAProperties(&quot;sample&quot;);\n\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(primaryDataSource());\n        em.setPackagesToScan(\n                &quot;com.dsi.system.core.entities&quot;,\n                &quot;com.dsi.system.core.sign.entity&quot;,\n                &quot;com.dsi.system.baseinfo.entities&quot;\n        );\n        em.setPersistenceUnitName(&quot;sample&quot;);\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaPropertyMap(properties);\n\n        return em;\n    }\n\n    @Primary\n    @Bean(name = &quot;oracleTransactionManager&quot;)\n    public PlatformTransactionManager oracleTransactionManager(\n            final @Qualifier(&quot;chequeEntityManagerFactory&quot;)\n            LocalContainerEntityManagerFactoryBean chequeEntityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(chequeEntityManagerFactory.getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>and I want create my Junit with H2 DB and this is my H2DataSourceConfiguration:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;h2EntityManagerFactory&quot;,\n        transactionManagerRef = &quot;h2TransactionManager&quot;,\n        basePackages = {\n                &quot;com.dsi.system.baseinfo.repositories&quot;,\n                &quot;com.dsi.system.repositorieslib.*&quot;\n        }\n)\npublic class H2DataSourceConfiguration {\n    private final JpaProperties jpaProperties;\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.h2.datasource.cheque&quot;)\n    public DataSourceProperties h2PrimaryDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n\n    @Bean(name = &quot;h2PrimaryDataSource&quot;)\n    public DataSource dataSource() {\n        Mode.getInstance(&quot;ORACLE&quot;).numericWithBooleanComparison = true;\n        return h2PrimaryDataSourceProperties()\n                .initializeDataSourceBuilder()\n                .build();\n    }\n\n\n    @Bean(name = &quot;h2EntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean h2EntityManagerFactory() {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        HashMap&lt;String, Object&gt; properties = jpaProperties.getJPAProperties(&quot;sample&quot;);\n\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(this.dataSource());\n        em.setPackagesToScan(\n                &quot;com.dsi.system.core.entities&quot;,\n                &quot;com.dsi.system.core.sign.entity&quot;,\n                &quot;com.dsi.system.baseinfo.entities&quot;\n        );\n        em.setPersistenceUnitName(&quot;sample&quot;);\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaPropertyMap(properties);\n\n        return em;\n    }\n\n    @Bean(name = &quot;h2TransactionManager&quot;)\n    public PlatformTransactionManager h2TransactionManager(\n            final @Qualifier(&quot;h2EntityManagerFactory&quot;)\n            LocalContainerEntityManagerFactoryBean h2EntityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(h2EntityManagerFactory.getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>after run my test I get following <strong>BeanDefinitionOverrideException</strong>:</p>\n<pre><code>org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'batchRevokeRepository' defined in com.dsi.system.repositorieslib.revoke.BatchRevokeRepository defined in @EnableJpaRepositories declared on ChequeDataSourceConfiguration: Cannot register bean definition [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in com.dsi.system.repositorieslib.revoke.BatchRevokeRepository defined in @EnableJpaRepositories declared on ChequeDataSourceConfiguration] for bean 'batchRevokeRepository' since there is already [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in com.dsi.system.repositorieslib.revoke.BatchRevokeRepository defined in @EnableJpaRepositories declared on H2ChequeDataSourceConfiguration] bound.\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:1015)\n    at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:197)\n    at org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:94)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:427)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n    ... 72 more\n</code></pre>\n<p>if I disable <strong>OracleDataSourceConfiguration</strong> from my code, run test successfully.\nmaybe I should disable that when my test run but I can't do it and I don't confident this way is correct.\ncan any one help me to fix it?</p>\n<p>thanks :)</p>\n"},{"tags":["java","spring","ehcache","spring-el"],"answers":[{"tags":[],"owner":{"account_id":5058163,"reputation":2221,"user_id":4060708,"accept_rate":75,"display_name":"amdg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515404344,"creation_date":1515404344,"answer_id":48147572,"question_id":48117137,"body_markdown":"If you are using Spring 4.1, you can try using `CacheResolver`. See [here][1]. \r\n\r\n&gt; One of the nicest features we found in JSR-107 was the ability to\r\n&gt; resolve the cache to use at runtime, that is based on the actual\r\n&gt; method execution.\r\n\r\n  [1]: https://spring.io/blog/2014/06/16/further-cache-improvements-in-spring-4-1","title":"@Cacheable use SpEL for &#39;value&#39; filed?","body":"<p>If you are using Spring 4.1, you can try using <code>CacheResolver</code>. See <a href=\"https://spring.io/blog/2014/06/16/further-cache-improvements-in-spring-4-1\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<blockquote>\n  <p>One of the nicest features we found in JSR-107 was the ability to\n  resolve the cache to use at runtime, that is based on the actual\n  method execution.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13844819,"reputation":53,"user_id":9994213,"display_name":"Claudio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698831988,"creation_date":1698831988,"answer_id":77401663,"question_id":48117137,"body_markdown":"My solution to this which may or may not help in the original question. It doesn&#39;t fully evaluate SpEL but you can access parameters by their index:\r\n\r\n```java\r\n@Bean(&quot;methodParameterIndexCacheResolver&quot;)\r\npublic MethodParameterIndexCacheResolver customCacheResolver(CacheManager cacheManager) {\r\n        return new MethodParameterIndexCacheResolver(cacheManager);\r\n}\r\n```\r\n\r\n```java\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.interceptor.CacheOperationInvocationContext;\r\nimport org.springframework.cache.interceptor.SimpleCacheResolver;\r\nimport org.springframework.expression.ExpressionParser;\r\nimport org.springframework.expression.ParserContext;\r\nimport org.springframework.expression.spel.standard.SpelExpressionParser;\r\nimport org.springframework.expression.spel.support.StandardEvaluationContext;\r\n\r\npublic class MethodParameterIndexCacheResolver extends SimpleCacheResolver {\r\n\r\n    private static final ExpressionParser PARSER = new SpelExpressionParser();\r\n\r\n    protected MethodParameterIndexCacheResolver(CacheManager cacheManager) {\r\n        super(cacheManager);\r\n    }\r\n\r\n    @Override\r\n    protected Collection&lt;String&gt; getCacheNames(CacheOperationInvocationContext&lt;?&gt; context) {\r\n        return context.getOperation().getCacheNames().stream()\r\n                .map(it -&gt; PARSER.parseExpression(it, ParserContext.TEMPLATE_EXPRESSION)\r\n                        .getValue(new StandardEvaluationContext(context.getArgs()), String.class))\r\n                .toList();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Cacheable(value = &quot;cachedMethodName-#{[0]}-#{[1].toEpochDay()}&quot;, cacheResolver = &quot;methodParameterIndexCacheResolver&quot;)\r\npublic Other cachedMethod(String foo, \r\n        LocalDate bar, int other, String params) {\r\n   ...\r\n}\r\n```","title":"@Cacheable use SpEL for &#39;value&#39; filed?","body":"<p>My solution to this which may or may not help in the original question. It doesn't fully evaluate SpEL but you can access parameters by their index:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;methodParameterIndexCacheResolver&quot;)\npublic MethodParameterIndexCacheResolver customCacheResolver(CacheManager cacheManager) {\n        return new MethodParameterIndexCacheResolver(cacheManager);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.cache.CacheManager;\nimport org.springframework.cache.interceptor.CacheOperationInvocationContext;\nimport org.springframework.cache.interceptor.SimpleCacheResolver;\nimport org.springframework.expression.ExpressionParser;\nimport org.springframework.expression.ParserContext;\nimport org.springframework.expression.spel.standard.SpelExpressionParser;\nimport org.springframework.expression.spel.support.StandardEvaluationContext;\n\npublic class MethodParameterIndexCacheResolver extends SimpleCacheResolver {\n\n    private static final ExpressionParser PARSER = new SpelExpressionParser();\n\n    protected MethodParameterIndexCacheResolver(CacheManager cacheManager) {\n        super(cacheManager);\n    }\n\n    @Override\n    protected Collection&lt;String&gt; getCacheNames(CacheOperationInvocationContext&lt;?&gt; context) {\n        return context.getOperation().getCacheNames().stream()\n                .map(it -&gt; PARSER.parseExpression(it, ParserContext.TEMPLATE_EXPRESSION)\n                        .getValue(new StandardEvaluationContext(context.getArgs()), String.class))\n                .toList();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(value = &quot;cachedMethodName-#{[0]}-#{[1].toEpochDay()}&quot;, cacheResolver = &quot;methodParameterIndexCacheResolver&quot;)\npublic Other cachedMethod(String foo, \n        LocalDate bar, int other, String params) {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":936916,"reputation":530,"user_id":965691,"accept_rate":11,"display_name":"pijushcse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698831988,"creation_date":1515168132,"question_id":48117137,"body_markdown":"Here is a code snippet:\r\n\r\n      @Cacheable(value = &quot;employee&quot;, key = &quot;#surname&quot;)\r\n      public Person findEmployeeBySurname(String firstName, \r\n            String surname, int age) {\r\n         return new Person(firstName, surname, age);\r\n      }\r\n\r\nIt looks like &#39;**key**&#39; filed supports SpEL, I was wondering is it possible to use SpEL in the &#39;**value**&#39; field? The reason is- I don&#39;t want to hardcode the &#39;cache name&#39; inside @**Cacheable** but, also &#39;value&#39; doesn&#39;t support to load the cache name from property or using Apache Common Configuration. So, I was just looking for is there any way I can avoid hardcoding the &#39;cache name&#39; and use SpEL.  TIA   ","title":"@Cacheable use SpEL for &#39;value&#39; filed?","body":"<p>Here is a code snippet:</p>\n\n<pre><code>  @Cacheable(value = \"employee\", key = \"#surname\")\n  public Person findEmployeeBySurname(String firstName, \n        String surname, int age) {\n     return new Person(firstName, surname, age);\n  }\n</code></pre>\n\n<p>It looks like '<strong>key</strong>' filed supports SpEL, I was wondering is it possible to use SpEL in the '<strong>value</strong>' field? The reason is- I don't want to hardcode the 'cache name' inside @<strong>Cacheable</strong> but, also 'value' doesn't support to load the cache name from property or using Apache Common Configuration. So, I was just looking for is there any way I can avoid hardcoding the 'cache name' and use SpEL.  TIA   </p>\n"},{"tags":["java","authentication","spring-security","saml"],"owner":{"account_id":29764711,"reputation":1,"user_id":22811302,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698831799,"creation_date":1698387130,"question_id":77371863,"body_markdown":"**this is SAML Security Configuration code :**\r\n\r\n```\r\n`package in.gov.mca.helpdesk.saml;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.extensions.saml2.config.SAMLConfigurer;\r\nimport org.springframework.security.saml.userdetails.SAMLUserDetailsService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\npublic class SAMLSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Value(&quot;${saml2.metadata-path}&quot;)\r\n\tprivate String metadataPath;\r\n\r\n\t@Value(&quot;${saml2.sp.protocol}&quot;)\r\n\tprivate String spProtocol;\r\n\t@Value(&quot;${saml2.sp.host}&quot;)\r\n\tprivate String spHost;\r\n\t@Value(&quot;${saml2.sp.path}&quot;)\r\n\tprivate String spBashPath;\r\n\t@Value(&quot;${saml2.sp.key-store.file}&quot;)\r\n\tprivate String keyStoreFile;\r\n\t@Value(&quot;${saml2.sp.key-store.password}&quot;)\r\n\tprivate String keyStorePassword;\r\n\t@Value(&quot;${saml2.sp.key-store.alias}&quot;)\r\n\tprivate String keyStoreAlias;\r\n\t\r\n\t@Value(&quot;${saml2.entity-id}&quot;)\r\n\tprivate String entityID;\r\n\r\n\t@Autowired\r\n\tprivate SAMLUserDetailsService samlUserService;\r\n\r\n\t@Override\r\n\tprotected void configure(final HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.csrf().and().authorizeRequests().antMatchers(&quot;/helpdesk/&quot;).permitAll().anyRequest().authenticated().and().apply(saml())/* .and().saml2Login() */;\r\n         \r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic  SAMLConfigurer saml() throws Exception {\r\n\r\n\t\treturn SAMLConfigurer.saml().userDetailsService(samlUserService)\r\n\t\t\t\t.serviceProvider().protocol(spProtocol)\r\n\t\t\t.hostname(spHost).basePath(spBashPath).keyStore().storeFilePath(keyStoreFile)\r\n\t\t\t\t.keyPassword(keyStorePassword)\r\n\t\t\t\t.keyname(keyStoreAlias) .and().and()\r\n\t\t\t\t.identityProvider()\r\n\t\t\t\t.metadataFilePath(metadataPath).and();\r\n\t}`\r\n```\r\n\r\n**application.properties file :**\r\n\r\n`saml2.metadata-path=classpath:static/samlauthentication/idammetadata.xml saml2.entity-id=http://172.18.102.233:14100/oam/fed saml2.sp.protocol=http saml2.sp.host=172.18.21.156:8080 saml2.sp.path=/ saml2.sp.key-store.file=classpath:static/samlauthentication/helpdeskkeystore.p12 saml2.sp.key-store.alias=helpdeskmcasamlauth saml2.sp.key-store.password=changeit.`\r\n\r\n**this is my controller page**\r\n\\`@Controller\r\npublic class LandingPageController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model) {\r\n    \t// Add any common model attributes for the landing page\r\n    \tmodel.addAttribute(&quot;searchType&quot;, &quot;searchfouser&quot;);\r\n    \treturn &quot;index&quot;; // Return the main page template (index.html)\r\n    }\r\n\r\n}\\`\r\n\r\nabove are the code I am looking for a SAML authentication for my helpdesk application on virtual machine(server).\r\nwhat I am doing maven install after that war file will generate I am taking that war file and kept it inside the virtual machine&#39;s atomcat webapps folder and I am triggering the url\r\n\r\n\r\nit&#39;s given me whitelabel error 505 internal server error\r\n\r\nI tried changing few code and tried change url and different war files but still get same issue it&#39;s not able to trigger the Idam login page , struck in the whilelabel error .\r\n\r\nwhat I am expecting here is check my code for saml authentication for Idam , I need to change any code . and any things , give me solution  as soon as possible .\r\n\r\n```\r\ntype here\r\n```","title":"Idam Identity Server Integration with Spring Boot and Spring Security – SAML2 Protocol for my application and deploy my war file in virtual","body":"<p><strong>this is SAML Security Configuration code :</strong></p>\n<pre><code>`package in.gov.mca.helpdesk.saml;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.extensions.saml2.config.SAMLConfigurer;\nimport org.springframework.security.saml.userdetails.SAMLUserDetailsService;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SAMLSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(&quot;${saml2.metadata-path}&quot;)\n    private String metadataPath;\n\n    @Value(&quot;${saml2.sp.protocol}&quot;)\n    private String spProtocol;\n    @Value(&quot;${saml2.sp.host}&quot;)\n    private String spHost;\n    @Value(&quot;${saml2.sp.path}&quot;)\n    private String spBashPath;\n    @Value(&quot;${saml2.sp.key-store.file}&quot;)\n    private String keyStoreFile;\n    @Value(&quot;${saml2.sp.key-store.password}&quot;)\n    private String keyStorePassword;\n    @Value(&quot;${saml2.sp.key-store.alias}&quot;)\n    private String keyStoreAlias;\n    \n    @Value(&quot;${saml2.entity-id}&quot;)\n    private String entityID;\n\n    @Autowired\n    private SAMLUserDetailsService samlUserService;\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n\n        http.csrf().and().authorizeRequests().antMatchers(&quot;/helpdesk/&quot;).permitAll().anyRequest().authenticated().and().apply(saml())/* .and().saml2Login() */;\n         \n\n    }\n\n    @Bean\n    public  SAMLConfigurer saml() throws Exception {\n\n        return SAMLConfigurer.saml().userDetailsService(samlUserService)\n                .serviceProvider().protocol(spProtocol)\n            .hostname(spHost).basePath(spBashPath).keyStore().storeFilePath(keyStoreFile)\n                .keyPassword(keyStorePassword)\n                .keyname(keyStoreAlias) .and().and()\n                .identityProvider()\n                .metadataFilePath(metadataPath).and();\n    }`\n</code></pre>\n<p><strong>application.properties file :</strong></p>\n<p><code>saml2.metadata-path=classpath:static/samlauthentication/idammetadata.xml saml2.entity-id=http://172.18.102.233:14100/oam/fed saml2.sp.protocol=http saml2.sp.host=172.18.21.156:8080 saml2.sp.path=/ saml2.sp.key-store.file=classpath:static/samlauthentication/helpdeskkeystore.p12 saml2.sp.key-store.alias=helpdeskmcasamlauth saml2.sp.key-store.password=changeit.</code></p>\n<p><strong>this is my controller page</strong>\n`@Controller\npublic class LandingPageController {</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String index(Model model) {\n    // Add any common model attributes for the landing page\n    model.addAttribute(&quot;searchType&quot;, &quot;searchfouser&quot;);\n    return &quot;index&quot;; // Return the main page template (index.html)\n}\n</code></pre>\n<p>}`</p>\n<p>above are the code I am looking for a SAML authentication for my helpdesk application on virtual machine(server).\nwhat I am doing maven install after that war file will generate I am taking that war file and kept it inside the virtual machine's atomcat webapps folder and I am triggering the url</p>\n<p>it's given me whitelabel error 505 internal server error</p>\n<p>I tried changing few code and tried change url and different war files but still get same issue it's not able to trigger the Idam login page , struck in the whilelabel error .</p>\n<p>what I am expecting here is check my code for saml authentication for Idam , I need to change any code . and any things , give me solution  as soon as possible .</p>\n<pre><code>type here\n</code></pre>\n"},{"tags":["java","parsing","mediawiki"],"comments":[{"owner":{"account_id":1042959,"reputation":638606,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":0,"creation_date":1343045118,"post_id":11612118,"comment_id":15373672,"body_markdown":"To what do you want to parse the wikitext? Or: How do you want to customize the HTML?","body":"To what do you want to parse the wikitext? Or: How do you want to customize the HTML?"},{"owner":{"account_id":1238057,"reputation":2740,"user_id":1201238,"accept_rate":78,"display_name":"No_name"},"score":0,"creation_date":1343069402,"post_id":11612118,"comment_id":15384472,"body_markdown":"I want to convert the wikitext to html, but be able to change the kind output ie italizing (&#39;&#39;) to something else.","body":"I want to convert the wikitext to html, but be able to change the kind output ie italizing (&#39;&#39;) to something else."},{"owner":{"account_id":1042959,"reputation":638606,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":0,"creation_date":1343069702,"post_id":11612118,"comment_id":15384591,"body_markdown":"Can&#39;t you do that afterwards, i.e. changing &lt;i&gt; to something else?","body":"Can&#39;t you do that afterwards, i.e. changing &lt;i&gt; to something else?"},{"owner":{"account_id":1238057,"reputation":2740,"user_id":1201238,"accept_rate":78,"display_name":"No_name"},"score":0,"creation_date":1343070474,"post_id":11612118,"comment_id":15384949,"body_markdown":"Less conversion passes, the better.","body":"Less conversion passes, the better."}],"answers":[{"tags":[],"owner":{"account_id":682279,"reputation":1830,"user_id":790878,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1343069542,"creation_date":1343069542,"answer_id":11618617,"question_id":11612118,"body_markdown":"[Sweble](http://sweble.org/) is probably the best Java parser of wikitext. It [claims to be 100% compliant](http://sweble.org/wiki/Sweble_Wikitext_Parser/Features) with wikitext, but I seriously doubt that. It parses wikitext into an abstract syntax tree that you then have to do something with (like convert it to HTML).\r\n\r\n[There is a page on mediawiki.org](http://www.mediawiki.org/wiki/Alternative_parsers) that lists wikitext parsers in various programming languages. I don&#39;t think any of them do 99+% of wikitext though. In general parsing wikitext is a really complex problem. Wikitext isn&#39;t even formally defined anywhere outside of the MediaWiki parser itself.\r\n","title":"Java Wikitext Parser","body":"<p><a href=\"http://sweble.org/\" rel=\"noreferrer\">Sweble</a> is probably the best Java parser of wikitext. It <a href=\"http://sweble.org/wiki/Sweble_Wikitext_Parser/Features\" rel=\"noreferrer\">claims to be 100% compliant</a> with wikitext, but I seriously doubt that. It parses wikitext into an abstract syntax tree that you then have to do something with (like convert it to HTML).</p>\n\n<p><a href=\"http://www.mediawiki.org/wiki/Alternative_parsers\" rel=\"noreferrer\">There is a page on mediawiki.org</a> that lists wikitext parsers in various programming languages. I don't think any of them do 99+% of wikitext though. In general parsing wikitext is a really complex problem. Wikitext isn't even formally defined anywhere outside of the MediaWiki parser itself.</p>\n"},{"tags":[],"owner":{"account_id":42763,"reputation":4037,"user_id":124696,"accept_rate":76,"display_name":"HappyEngineer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1435526125,"creation_date":1435526125,"answer_id":31104834,"question_id":11612118,"body_markdown":"This question was answered years ago, but I wanted to save future visitors the effort I had to take to figure out how to use Sweble.\r\n\r\nYou can try the documentation at their site, but I couldn&#39;t figure it out. Just look at the example source code. Download the source jar for swc-example-basic at https://repo1.maven.org/maven2/org/sweble/wikitext/swc-example-basic/2.0.0/swc-example-basic-2.0.0-sources.jar and look at App.java and TextConverter.java.\r\n\r\nBasically, to parse a page and convert it to another form, you first add the following dependency to your project:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.sweble.wikitext&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swc-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThen, do the following:\r\n\r\n    public String convertWikiText(String title, String wikiText, int maxLineLength) throws LinkTargetException, EngineException {\r\n        // Set-up a simple wiki configuration\r\n        WikiConfig config = DefaultConfigEnWp.generate();\r\n        // Instantiate a compiler for wiki pages\r\n        WtEngineImpl engine = new WtEngineImpl(config);\r\n        // Retrieve a page\r\n        PageTitle pageTitle = PageTitle.make(config, title);\r\n        PageId pageId = new PageId(pageTitle, -1);\r\n        // Compile the retrieved page\r\n        EngProcessedPage cp = engine.postprocess(pageId, wikiText, null);\r\n        TextConverter p = new TextConverter(config, maxLineLength);\r\n        return (String)p.go(cp.getPage());\r\n    }\r\n\r\nThe TextConverter is a class you&#39;ll find in the examples I mentioned above. Customize it to do whatever you want. For example, the following makes sure all bold text is surrounded by &quot;**&quot;:\r\n\r\n    public void visit(WtBold b)\r\n    {\r\n        write(&quot;**&quot;);\r\n        iterate(b);\r\n        write(&quot;**&quot;);\r\n    }\r\n\r\nThere are a bunch of visit methods on that class for each type of element that you&#39;ll encounter.\r\n","title":"Java Wikitext Parser","body":"<p>This question was answered years ago, but I wanted to save future visitors the effort I had to take to figure out how to use Sweble.</p>\n\n<p>You can try the documentation at their site, but I couldn't figure it out. Just look at the example source code. Download the source jar for swc-example-basic at <a href=\"https://repo1.maven.org/maven2/org/sweble/wikitext/swc-example-basic/2.0.0/swc-example-basic-2.0.0-sources.jar\" rel=\"noreferrer\">https://repo1.maven.org/maven2/org/sweble/wikitext/swc-example-basic/2.0.0/swc-example-basic-2.0.0-sources.jar</a> and look at App.java and TextConverter.java.</p>\n\n<p>Basically, to parse a page and convert it to another form, you first add the following dependency to your project:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.sweble.wikitext&lt;/groupId&gt;\n        &lt;artifactId&gt;swc-engine&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Then, do the following:</p>\n\n<pre><code>public String convertWikiText(String title, String wikiText, int maxLineLength) throws LinkTargetException, EngineException {\n    // Set-up a simple wiki configuration\n    WikiConfig config = DefaultConfigEnWp.generate();\n    // Instantiate a compiler for wiki pages\n    WtEngineImpl engine = new WtEngineImpl(config);\n    // Retrieve a page\n    PageTitle pageTitle = PageTitle.make(config, title);\n    PageId pageId = new PageId(pageTitle, -1);\n    // Compile the retrieved page\n    EngProcessedPage cp = engine.postprocess(pageId, wikiText, null);\n    TextConverter p = new TextConverter(config, maxLineLength);\n    return (String)p.go(cp.getPage());\n}\n</code></pre>\n\n<p>The TextConverter is a class you'll find in the examples I mentioned above. Customize it to do whatever you want. For example, the following makes sure all bold text is surrounded by \"**\":</p>\n\n<pre><code>public void visit(WtBold b)\n{\n    write(\"**\");\n    iterate(b);\n    write(\"**\");\n}\n</code></pre>\n\n<p>There are a bunch of visit methods on that class for each type of element that you'll encounter.</p>\n"},{"tags":[],"owner":{"account_id":51256,"reputation":165,"user_id":153102,"display_name":"Vincent Massol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698825511,"creation_date":1438532401,"answer_id":31773906,"question_id":11612118,"body_markdown":"You could also use XWiki&#39;s rendering engine (http://rendering.xwiki.org). Here&#39;s an example of how you&#39;d parse some mediawiki content:\r\n\r\n    // Initialize Rendering components and allow getting instances\r\n    EmbeddableComponentManager componentManager = new EmbeddableComponentManager();\r\n    componentManager.initialize(this.getClass().getClassLoader());\r\n\r\n    // Get the MediaWiki Parser\r\n    Parser parser = componentManager.getInstance(Parser.class, &quot;mediawiki/1.0&quot;);\r\n\r\n    // Parse the content in mediawiki markup and generate an AST (it&#39;s also possible to use a streaming parser for large content)\r\n    XDOM xdom = parser.parse(new StringReader(&quot;... input here&quot;));\r\n\r\n    // Perform any transformation you wish to the XDOM here\r\n    ...\r\n\r\n    // Generate XHTML out of the modified XDOM\r\n    WikiPrinter printer = new DefaultWikiPrinter();\r\n    BlockRenderer renderer = componentManager.getInstance(BlockRenderer.class, &quot;xhtml/1.0&quot;);\r\n    renderer.render(xdom, printer);\r\n\r\n    // The result is now in the printer object\r\n    printer.toString();\r\n\r\nSee more examples at http://rendering.xwiki.org/xwiki/bin/view/Main/GettingStarted\r\n\r\nHope it helps.\r\n","title":"Java Wikitext Parser","body":"<p>You could also use XWiki's rendering engine (<a href=\"http://rendering.xwiki.org\" rel=\"nofollow noreferrer\">http://rendering.xwiki.org</a>). Here's an example of how you'd parse some mediawiki content:</p>\n<pre><code>// Initialize Rendering components and allow getting instances\nEmbeddableComponentManager componentManager = new EmbeddableComponentManager();\ncomponentManager.initialize(this.getClass().getClassLoader());\n\n// Get the MediaWiki Parser\nParser parser = componentManager.getInstance(Parser.class, &quot;mediawiki/1.0&quot;);\n\n// Parse the content in mediawiki markup and generate an AST (it's also possible to use a streaming parser for large content)\nXDOM xdom = parser.parse(new StringReader(&quot;... input here&quot;));\n\n// Perform any transformation you wish to the XDOM here\n...\n\n// Generate XHTML out of the modified XDOM\nWikiPrinter printer = new DefaultWikiPrinter();\nBlockRenderer renderer = componentManager.getInstance(BlockRenderer.class, &quot;xhtml/1.0&quot;);\nrenderer.render(xdom, printer);\n\n// The result is now in the printer object\nprinter.toString();\n</code></pre>\n<p>See more examples at <a href=\"http://rendering.xwiki.org/xwiki/bin/view/Main/GettingStarted\" rel=\"nofollow noreferrer\">http://rendering.xwiki.org/xwiki/bin/view/Main/GettingStarted</a></p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481739629,"creation_date":1481739629,"answer_id":41149444,"question_id":11612118,"body_markdown":"I just had success with Bliki: https://bitbucket.org/axelclk/info.bliki.wiki/wiki/Mediawiki2HTML\r\n\r\nBliki is what is used by XWiki and usage is very easy:\r\n\r\n    String htmlText = WikiModel.toHtml(&quot;This is a simple [[Hello World]] wiki tag&quot;);\r\n\r\nHere is a list of downloads:\r\nhttps://oss.sonatype.org/content/repositories/snapshots/info/bliki/wiki/bliki-core/\r\n\r\nBut it is much easier to use this with Maven.\r\n","title":"Java Wikitext Parser","body":"<p>I just had success with Bliki: <a href=\"https://bitbucket.org/axelclk/info.bliki.wiki/wiki/Mediawiki2HTML\" rel=\"nofollow noreferrer\">https://bitbucket.org/axelclk/info.bliki.wiki/wiki/Mediawiki2HTML</a></p>\n\n<p>Bliki is what is used by XWiki and usage is very easy:</p>\n\n<pre><code>String htmlText = WikiModel.toHtml(\"This is a simple [[Hello World]] wiki tag\");\n</code></pre>\n\n<p>Here is a list of downloads:\n<a href=\"https://oss.sonatype.org/content/repositories/snapshots/info/bliki/wiki/bliki-core/\" rel=\"nofollow noreferrer\">https://oss.sonatype.org/content/repositories/snapshots/info/bliki/wiki/bliki-core/</a></p>\n\n<p>But it is much easier to use this with Maven.</p>\n"}],"owner":{"account_id":1238057,"reputation":2740,"user_id":1201238,"accept_rate":78,"display_name":"No_name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8819,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"closed_date":1604340206,"accepted_answer_id":11618617,"answer_count":4,"score":10,"last_activity_date":1698831508,"creation_date":1343044875,"question_id":11612118,"body_markdown":"Any ideas for a nice parser with an easy to use API that is configurable? I&#39;m looking to feed it data such as http://wikitravel.org/wiki/en/api.php?format=xml&amp;action=parse&amp;prop=wikitext&amp;page=San%20Francisco, choose sections of data I want, and output custom html for each unique type of element? Java would be preferred, but if there&#39;s a PHP/js solution that is compatible with most (99%+) wikitext, that would be okay as well. ","title":"Java Wikitext Parser","body":"<p>Any ideas for a nice parser with an easy to use API that is configurable? I'm looking to feed it data such as <a href=\"http://wikitravel.org/wiki/en/api.php?format=xml&amp;action=parse&amp;prop=wikitext&amp;page=San%20Francisco\" rel=\"nofollow noreferrer\">http://wikitravel.org/wiki/en/api.php?format=xml&amp;action=parse&amp;prop=wikitext&amp;page=San%20Francisco</a>, choose sections of data I want, and output custom html for each unique type of element? Java would be preferred, but if there's a PHP/js solution that is compatible with most (99%+) wikitext, that would be okay as well.</p>\n"},{"tags":["java","grpc","quarkus","proto","graalvm"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1647545941,"post_id":71514683,"comment_id":126404813,"body_markdown":"Please open an issue in our tracker with a small reproducer: https://github.com/quarkusio/quarkus/issues","body":"Please open an issue in our tracker with a small reproducer: <a href=\"https://github.com/quarkusio/quarkus/issues\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues</a>"},{"owner":{"account_id":1948180,"reputation":885,"user_id":1752867,"display_name":"KEYSAN"},"score":0,"creation_date":1647696456,"post_id":71514683,"comment_id":126438303,"body_markdown":"https://github.com/quarkusio/quarkus/issues/24393","body":"<a href=\"https://github.com/quarkusio/quarkus/issues/24393\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/24393</a>"}],"owner":{"account_id":1948180,"reputation":885,"user_id":1752867,"display_name":"KEYSAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698831427,"creation_date":1647529819,"question_id":71514683,"body_markdown":"Quarkus maven install command doesn&#39;t work after platform version 2.6.3.Final.\r\n\r\npom.xml ;\r\n\r\n    &lt;properties&gt;\r\n        &lt;quarkus.platform.version&gt;2.7.4.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;/properties&gt;\r\nEverything is normal in version 2.6.3.Final, but for versions after 2.7.**, even if it is exist in the /target,  it&#39;s getting an error as follows;\r\n\r\n    com.google.protobuf-protoc-linux-x86_64-exe: 1: cannot open !--: No such file\r\n\r\n[![enter image description here][1]][1]\r\n----------------\r\n\r\n    ROG-PC:/Projects/$ mvn clean install\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------&lt; microservice:configurator &gt;------------\r\n    [INFO] Building Configurator Microservice 1.0.0.0\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ configurator ---\r\n    [INFO] Deleting /Projects/Source/configurator-microservice/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configurator ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 2 resources\r\n    [INFO] \r\n    [INFO] --- quarkus-maven-plugin:2.7.4.Final:generate-code (default) @ configurator ---\r\n    /Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe: 1: cannot open !--: No such file\r\n    /Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe: 3: Copyright: not found\r\n    /Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe: 5: Syntax error: &quot;(&quot; unexpected\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.602 s\r\n    [INFO] Finished at: 2022-03-17T17:30:45+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.4.Final:generate-code (default) on project configurator: \r\n    Quarkus code generation phase has failed: InvocationTargetException: Failed to generate Java classes from proto files:\r\n     [/Projects/Source/configurator-microservice/src/main/proto/customer_configuration.proto] to\r\n     /Projects/Source/configurator-microservice/target/generated-sources/grpc with command /Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe \r\n\r\nmvn version;\r\n\r\n    \r\n    ROG-PC:/Projects/$ mvnq -v\r\n       Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\r\n       Maven home: /Projects/Applications/apache-maven-3.8.4\r\n       Java version: 17.0.1, vendor: GraalVM Community, runtime: /usr/lib/jvm/graalvm-ce-java17-21.3.0\r\n       Default locale: en_US, platform encoding: UTF-8\r\n       OS name: &quot;linux&quot;, version: &quot;5.13.0-19-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n\r\n\r\n**NOTE: This error occurs only if there are .proto files in the project.**\r\n\r\nAll Quarkus Dependencies added to pom.xml.\r\n\r\nI don&#39;t know what is difference between quarkus platform version 2.6.3 and 2.7.** and why this getting this error. \r\nThank you for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wrlp2.png","title":"Quarkus : com.google.protobuf-protoc-linux-x86_64-exe: 1: cannot open !--: No such file","body":"<p>Quarkus maven install command doesn't work after platform version 2.6.3.Final.</p>\n<p>pom.xml ;</p>\n<pre><code>&lt;properties&gt;\n    &lt;quarkus.platform.version&gt;2.7.4.Final&lt;/quarkus.platform.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Everything is normal in version 2.6.3.Final, but for versions after 2.7.**, even if it is exist in the /target,  it's getting an error as follows;</p>\n<pre><code>com.google.protobuf-protoc-linux-x86_64-exe: 1: cannot open !--: No such file\n</code></pre>\n<h2><a href=\"https://i.stack.imgur.com/Wrlp2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wrlp2.png\" alt=\"enter image description here\" /></a></h2>\n<pre><code>ROG-PC:/Projects/$ mvn clean install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------&lt; microservice:configurator &gt;------------\n[INFO] Building Configurator Microservice 1.0.0.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ configurator ---\n[INFO] Deleting /Projects/Source/configurator-microservice/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configurator ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.7.4.Final:generate-code (default) @ configurator ---\n/Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe: 1: cannot open !--: No such file\n/Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe: 3: Copyright: not found\n/Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe: 5: Syntax error: &quot;(&quot; unexpected\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.602 s\n[INFO] Finished at: 2022-03-17T17:30:45+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.4.Final:generate-code (default) on project configurator: \nQuarkus code generation phase has failed: InvocationTargetException: Failed to generate Java classes from proto files:\n [/Projects/Source/configurator-microservice/src/main/proto/customer_configuration.proto] to\n /Projects/Source/configurator-microservice/target/generated-sources/grpc with command /Projects/Source/configurator-microservice/target/com.google.protobuf-protoc-linux-x86_64-exe \n</code></pre>\n<p>mvn version;</p>\n<pre><code>ROG-PC:/Projects/$ mvnq -v\n   Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\n   Maven home: /Projects/Applications/apache-maven-3.8.4\n   Java version: 17.0.1, vendor: GraalVM Community, runtime: /usr/lib/jvm/graalvm-ce-java17-21.3.0\n   Default locale: en_US, platform encoding: UTF-8\n   OS name: &quot;linux&quot;, version: &quot;5.13.0-19-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p><strong>NOTE: This error occurs only if there are .proto files in the project.</strong></p>\n<p>All Quarkus Dependencies added to pom.xml.</p>\n<p>I don't know what is difference between quarkus platform version 2.6.3 and 2.7.** and why this getting this error.\nThank you for your help.</p>\n"},{"tags":["java","selenium-webdriver","salesforce"],"comments":[{"owner":{"account_id":8683001,"reputation":93,"user_id":6498292,"display_name":"Mkrish"},"score":0,"creation_date":1698804679,"post_id":77399817,"comment_id":136451060,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/55761810/how-to-automate-shadow-dom-elements-using-selenium","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/55761810/how-to-automate-shadow-dom-elements-using-selenium\" title=\"how to automate shadow dom elements using selenium\">stackoverflow.com/questions/55761810/&hellip;</a>"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698806560,"post_id":77399817,"comment_id":136451189,"body_markdown":"Does this answer your question? [How to automate shadow DOM elements using selenium?](https://stackoverflow.com/questions/55761810/how-to-automate-shadow-dom-elements-using-selenium)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55761810/how-to-automate-shadow-dom-elements-using-selenium\">How to automate shadow DOM elements using selenium?</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698806583,"post_id":77399817,"comment_id":136451190,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698831174,"creation_date":1698801029,"question_id":77399817,"body_markdown":"In the dropdown there is values to be selected, unable to click on the drop down. The locators XPATH is pointing to the dropdown but the click is not happening. Tried using `click()` method, `action` class and `javascript executor` click functions but the click is not happening. Observed many changes on manually clicking the dropdown one of them is \r\n\r\nWhen the dropdown is opened the class name is \r\n\r\n    //div[@class=&#39;slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open&#39;]\r\n\r\nWhen the dropdown is closed the class name is \r\n\r\n    //div[@class=&#39;slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click]\r\n\r\nThe HTML is below\r\n\r\n````\r\n&lt;div lwc-24on3e8rogg=&quot;&quot; class=&quot;slds-form-element__control&quot;&gt;&lt;lightning-base-combobox lwc-24on3e8rogg=&quot;&quot; class=&quot;slds-combobox_container&quot; lwc-4kb6kaqheak-host=&quot;&quot; invalid=&quot;&quot;&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox_container&quot;&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click&quot;&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right&quot; role=&quot;none&quot;&gt;&lt;button lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox__input slds-input_faux&quot; id=&quot;combobox-button-32&quot; type=&quot;button&quot; aria-expanded=&quot;false&quot; aria-haspopup=&quot;listbox&quot; role=&quot;combobox&quot; data-value=&quot;&quot; aria-label=&quot;Tipo de via, Seleccione una opci&#243;n&quot; aria-required=&quot;true&quot; aria-controls=&quot;dropdown-element-32&quot; aria-describedby=&quot;combobox-label-31 help-text-31&quot;&gt;&lt;span lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-truncate&quot;&gt;Seleccione una opci&#243;n&lt;/span&gt;&lt;/button&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-input__icon-group slds-input__icon-group_right&quot;&gt;&lt;lightning-icon lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-input__icon slds-input__icon_right slds-icon-utility-down slds-icon_container&quot; icon-name=&quot;utility:down&quot;&gt;&lt;span style=&quot;--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)&quot; part=&quot;boundary&quot;&gt;&lt;lightning-primitive-icon size=&quot;xx-small&quot; variant=&quot;&quot;&gt;&lt;svg class=&quot;slds-icon slds-icon-text-default slds-icon_xx-small&quot; focusable=&quot;false&quot; data-key=&quot;down&quot; aria-hidden=&quot;true&quot; viewBox=&quot;0 0 52 52&quot; part=&quot;icon&quot;&gt;&lt;g&gt;&lt;path d=&quot;M8.3 14h35.4c1 0 1.7 1.3.9 2.2L27.3 37.4c-.6.8-1.9.8-2.5 0L7.3 16.2c-.7-.9-.1-2.2 1-2.2z&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/lightning-primitive-icon&gt;&lt;/span&gt;&lt;/lightning-icon&gt;&lt;/div&gt;&lt;/div&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid slds-dropdown_left&quot; id=&quot;dropdown-element-32&quot; data-dropdown-element=&quot;&quot; role=&quot;listbox&quot; part=&quot;dropdown overlay&quot;&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-0&quot; data-value=&quot;Camino&quot; role=&quot;option&quot; id=&quot;combobox-button-32-0-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Camino&quot;&gt;Camino&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-1&quot; data-value=&quot;Otro&quot; role=&quot;option&quot; id=&quot;combobox-button-32-1-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Otro&quot;&gt;Otro&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-2&quot; data-value=&quot;Avenida&quot; role=&quot;option&quot; id=&quot;combobox-button-32-2-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Avenida&quot;&gt;Avenida&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-3&quot; data-value=&quot;Pol&#237;gono&quot; role=&quot;option&quot; id=&quot;combobox-button-32-3-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Pol&#237;gono&quot;&gt;Pol&#237;gono&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-4&quot; data-value=&quot;Paseo&quot; role=&quot;option&quot; id=&quot;combobox-button-32-4-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Paseo&quot;&gt;Paseo&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-5&quot; data-value=&quot;Ronda&quot; role=&quot;option&quot; id=&quot;combobox-button-32-5-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Ronda&quot;&gt;Ronda&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-6&quot; data-value=&quot;Carretera&quot; role=&quot;option&quot; id=&quot;combobox-button-32-6-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Carretera&quot;&gt;Carretera&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-7&quot; data-value=&quot;Pasaje&quot; role=&quot;option&quot; id=&quot;combobox-button-32-7-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Pasaje&quot;&gt;Pasaje&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-8&quot; data-value=&quot;Rambla&quot; role=&quot;option&quot; id=&quot;combobox-button-32-8-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Rambla&quot;&gt;Rambla&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-9&quot; data-value=&quot;Calle&quot; role=&quot;option&quot; id=&quot;combobox-button-32-9-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Calle&quot;&gt;Calle&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-10&quot; data-value=&quot;Plaza&quot; role=&quot;option&quot; id=&quot;combobox-button-32-10-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Plaza&quot;&gt;Plaza&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/lightning-base-combobox&gt;&lt;/div&gt;\r\n````\r\n","title":"Unable to click on the dropdown in the Salesforce using Selenium Java","body":"<p>In the dropdown there is values to be selected, unable to click on the drop down. The locators XPATH is pointing to the dropdown but the click is not happening. Tried using <code>click()</code> method, <code>action</code> class and <code>javascript executor</code> click functions but the click is not happening. Observed many changes on manually clicking the dropdown one of them is</p>\n<p>When the dropdown is opened the class name is</p>\n<pre><code>//div[@class='slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open']\n</code></pre>\n<p>When the dropdown is closed the class name is</p>\n<pre><code>//div[@class='slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click]\n</code></pre>\n<p>The HTML is below</p>\n<pre><code>&lt;div lwc-24on3e8rogg=&quot;&quot; class=&quot;slds-form-element__control&quot;&gt;&lt;lightning-base-combobox lwc-24on3e8rogg=&quot;&quot; class=&quot;slds-combobox_container&quot; lwc-4kb6kaqheak-host=&quot;&quot; invalid=&quot;&quot;&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox_container&quot;&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click&quot;&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right&quot; role=&quot;none&quot;&gt;&lt;button lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-combobox__input slds-input_faux&quot; id=&quot;combobox-button-32&quot; type=&quot;button&quot; aria-expanded=&quot;false&quot; aria-haspopup=&quot;listbox&quot; role=&quot;combobox&quot; data-value=&quot;&quot; aria-label=&quot;Tipo de via, Seleccione una opción&quot; aria-required=&quot;true&quot; aria-controls=&quot;dropdown-element-32&quot; aria-describedby=&quot;combobox-label-31 help-text-31&quot;&gt;&lt;span lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-truncate&quot;&gt;Seleccione una opción&lt;/span&gt;&lt;/button&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-input__icon-group slds-input__icon-group_right&quot;&gt;&lt;lightning-icon lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-input__icon slds-input__icon_right slds-icon-utility-down slds-icon_container&quot; icon-name=&quot;utility:down&quot;&gt;&lt;span style=&quot;--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)&quot; part=&quot;boundary&quot;&gt;&lt;lightning-primitive-icon size=&quot;xx-small&quot; variant=&quot;&quot;&gt;&lt;svg class=&quot;slds-icon slds-icon-text-default slds-icon_xx-small&quot; focusable=&quot;false&quot; data-key=&quot;down&quot; aria-hidden=&quot;true&quot; viewBox=&quot;0 0 52 52&quot; part=&quot;icon&quot;&gt;&lt;g&gt;&lt;path d=&quot;M8.3 14h35.4c1 0 1.7 1.3.9 2.2L27.3 37.4c-.6.8-1.9.8-2.5 0L7.3 16.2c-.7-.9-.1-2.2 1-2.2z&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/lightning-primitive-icon&gt;&lt;/span&gt;&lt;/lightning-icon&gt;&lt;/div&gt;&lt;/div&gt;&lt;div lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid slds-dropdown_left&quot; id=&quot;dropdown-element-32&quot; data-dropdown-element=&quot;&quot; role=&quot;listbox&quot; part=&quot;dropdown overlay&quot;&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-0&quot; data-value=&quot;Camino&quot; role=&quot;option&quot; id=&quot;combobox-button-32-0-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Camino&quot;&gt;Camino&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-1&quot; data-value=&quot;Otro&quot; role=&quot;option&quot; id=&quot;combobox-button-32-1-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Otro&quot;&gt;Otro&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-2&quot; data-value=&quot;Avenida&quot; role=&quot;option&quot; id=&quot;combobox-button-32-2-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Avenida&quot;&gt;Avenida&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-3&quot; data-value=&quot;Polígono&quot; role=&quot;option&quot; id=&quot;combobox-button-32-3-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Polígono&quot;&gt;Polígono&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-4&quot; data-value=&quot;Paseo&quot; role=&quot;option&quot; id=&quot;combobox-button-32-4-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Paseo&quot;&gt;Paseo&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-5&quot; data-value=&quot;Ronda&quot; role=&quot;option&quot; id=&quot;combobox-button-32-5-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Ronda&quot;&gt;Ronda&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-6&quot; data-value=&quot;Carretera&quot; role=&quot;option&quot; id=&quot;combobox-button-32-6-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Carretera&quot;&gt;Carretera&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-7&quot; data-value=&quot;Pasaje&quot; role=&quot;option&quot; id=&quot;combobox-button-32-7-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Pasaje&quot;&gt;Pasaje&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-8&quot; data-value=&quot;Rambla&quot; role=&quot;option&quot; id=&quot;combobox-button-32-8-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Rambla&quot;&gt;Rambla&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-9&quot; data-value=&quot;Calle&quot; role=&quot;option&quot; id=&quot;combobox-button-32-9-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Calle&quot;&gt;Calle&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;lightning-base-combobox-item lwc-4kb6kaqheak=&quot;&quot; class=&quot;slds-media slds-listbox__option slds-media_center slds-media_small slds-listbox__option_plain&quot; data-item-id=&quot;combobox-button-32-10&quot; data-value=&quot;Plaza&quot; role=&quot;option&quot; id=&quot;combobox-button-32-10-32&quot; aria-checked=&quot;false&quot; aria-selected=&quot;false&quot;&gt;&lt;span class=&quot;slds-media__figure slds-listbox__option-icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;slds-media__body&quot;&gt;&lt;span class=&quot;slds-truncate&quot; title=&quot;Plaza&quot;&gt;Plaza&lt;/span&gt;&lt;/span&gt;&lt;/lightning-base-combobox-item&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/lightning-base-combobox&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","webrtc","tls1.2","tls1.3","dtls"],"answers":[{"tags":[],"owner":{"account_id":8220985,"reputation":114,"user_id":6185517,"display_name":"DMakeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698831135,"creation_date":1698831135,"answer_id":77401575,"question_id":77391617,"body_markdown":"OpenSSL doesn&#39;t have DTLS 1.3 support for now afaik:\r\nhttps://github.com/openssl/openssl/issues/13900\r\n\r\nAs an additional security level you can consider using end-to-end encryption of WebRTC traffic (Insertable Streams API gives you access to the frames and you can encode/decode them with your own keys). Some code to write, but it looks like an additional benefit of the secure communication app.","title":"Webrtc with DTLS 1.3","body":"<p>OpenSSL doesn't have DTLS 1.3 support for now afaik:\n<a href=\"https://github.com/openssl/openssl/issues/13900\" rel=\"nofollow noreferrer\">https://github.com/openssl/openssl/issues/13900</a></p>\n<p>As an additional security level you can consider using end-to-end encryption of WebRTC traffic (Insertable Streams API gives you access to the frames and you can encode/decode them with your own keys). Some code to write, but it looks like an additional benefit of the secure communication app.</p>\n"}],"owner":{"account_id":29760443,"reputation":1,"user_id":22808177,"display_name":"Lugalkiennn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698831135,"creation_date":1698697319,"question_id":77391617,"body_markdown":"I&#39;m trying to implement a desktop secure video calling service using WebRTC. As far as I know, it uses DTLS technology, including for establishing an SRTP connection. But the DTLS version 1.2 is used. \r\nHow can I force WebRTC to use DTLS version 1.3 instead of 1.2?\r\n\r\n\r\n[Wireshark package](https://i.stack.imgur.com/wRwHx.png)\r\nI use wireshark for package capture, and I see 1.2 version.\r\n\r\nClient on Windows 11 has enabled TLS 1.3.\r\nClient on Linux has OpenSSL 3.0.2","title":"Webrtc with DTLS 1.3","body":"<p>I'm trying to implement a desktop secure video calling service using WebRTC. As far as I know, it uses DTLS technology, including for establishing an SRTP connection. But the DTLS version 1.2 is used.\nHow can I force WebRTC to use DTLS version 1.3 instead of 1.2?</p>\n<p><a href=\"https://i.stack.imgur.com/wRwHx.png\" rel=\"nofollow noreferrer\">Wireshark package</a>\nI use wireshark for package capture, and I see 1.2 version.</p>\n<p>Client on Windows 11 has enabled TLS 1.3.\nClient on Linux has OpenSSL 3.0.2</p>\n"},{"tags":["java","xpages","lotus-domino","domino-designer-eclipse","ibm-domino"],"comments":[{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":1,"creation_date":1698245419,"post_id":77360244,"comment_id":136381247,"body_markdown":"How do you load the classes? A simple reproducer might help.","body":"How do you load the classes? A simple reproducer might help."},{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":0,"creation_date":1698248270,"post_id":77360244,"comment_id":136381871,"body_markdown":"@stwissel have added the lines to the question - hope that helps ?","body":"@stwissel have added the lines to the question - hope that helps ?"},{"owner":{"account_id":1221348,"reputation":3461,"user_id":1187943,"accept_rate":71,"display_name":"Fredrik Norling"},"score":1,"creation_date":1698391558,"post_id":77360244,"comment_id":136401943,"body_markdown":"NoClassDefFoundError occurs when a compiled class references another class that isn’t on the runtime classpath. Any relation to time http has been up ?\nDo you restart the http every night, if not try that if that solves the problem.","body":"NoClassDefFoundError occurs when a compiled class references another class that isn’t on the runtime classpath. Any relation to time http has been up ? Do you restart the http every night, if not try that if that solves the problem."},{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":0,"creation_date":1698684409,"post_id":77360244,"comment_id":136433677,"body_markdown":"@FredrikNorling thanks for that - It&#39;s a client&#39;s server so I don&#39;t have full control, but I can advise them. Currently I believe they restart the server twice a week: Thursday night and Sunday. Interesting thought re uptime though, thank you.","body":"@FredrikNorling thanks for that - It&#39;s a client&#39;s server so I don&#39;t have full control, but I can advise them. Currently I believe they restart the server twice a week: Thursday night and Sunday. Interesting thought re uptime though, thank you."}],"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698830738,"creation_date":1698242876,"question_id":77360244,"body_markdown":"We are using HCL Domino 11.0.1 FP7\r\n\r\nWe have an xpages application which uses Java, used only via web browser. Generally, it works fine.\r\n\r\nAfter a while, perhaps once or twice a week, with no exact pattern, this error is thrown:\r\n\r\n```java.lang.NoClassDefFoundError: (classname)```\r\n\r\nThe (classname) varies - it&#39;s not one particular class causing the problem, but is one of our Java classes as opposed to something built-in.\r\n\r\nNo design elements have changed, the app hasn&#39;t been edited in any way.\r\n\r\n&#39;Cleaning&#39; the project (Project -&gt; clean...) from HCL Designer fixes it again.\r\n\r\nCan anyone shed any light on why this error might be thrown?\r\n\r\nEdit:\r\nExample line:\r\n\r\n    public  AssignmentDAO getModelDAO() {\r\n        return new AssignmentDAO();\r\n    }\r\n\r\nthe &quot;return new.. &quot; line threw the error: java.lang.NoClassDefFoundError\r\n","title":"Why does Xpages app throw java.lang.NoClassDefFoundError at seemingly random intervals?","body":"<p>We are using HCL Domino 11.0.1 FP7</p>\n<p>We have an xpages application which uses Java, used only via web browser. Generally, it works fine.</p>\n<p>After a while, perhaps once or twice a week, with no exact pattern, this error is thrown:</p>\n<p><code>java.lang.NoClassDefFoundError: (classname)</code></p>\n<p>The (classname) varies - it's not one particular class causing the problem, but is one of our Java classes as opposed to something built-in.</p>\n<p>No design elements have changed, the app hasn't been edited in any way.</p>\n<p>'Cleaning' the project (Project -&gt; clean...) from HCL Designer fixes it again.</p>\n<p>Can anyone shed any light on why this error might be thrown?</p>\n<p>Edit:\nExample line:</p>\n<pre><code>public  AssignmentDAO getModelDAO() {\n    return new AssignmentDAO();\n}\n</code></pre>\n<p>the &quot;return new.. &quot; line threw the error: java.lang.NoClassDefFoundError</p>\n"},{"tags":["java","junit","thread-safety"],"comments":[{"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"score":0,"creation_date":1698829509,"post_id":15938538,"comment_id":136453463,"body_markdown":"This answer provides an example utility method that will wait for a specified arbitrary amount of time: https://stackoverflow.com/a/77401398/328275","body":"This answer provides an example utility method that will wait for a specified arbitrary amount of time: <a href=\"https://stackoverflow.com/a/77401398/328275\">stackoverflow.com/a/77401398/328275</a>"}],"answers":[{"tags":[],"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"down_vote_count":37,"up_vote_count":165,"is_accepted":true,"score":128,"last_activity_date":1375063862,"creation_date":1365638057,"answer_id":15938548,"question_id":15938538,"body_markdown":"How about `Thread.sleep(2000);` ? :) ","title":"How can I make a JUnit test wait?","body":"<p>How about <code>Thread.sleep(2000);</code> ? :) </p>\n"},{"tags":[],"owner":{"account_id":904009,"reputation":3296,"user_id":939352,"accept_rate":91,"display_name":"Ben Glasser"},"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1432692464,"creation_date":1432692464,"answer_id":30471990,"question_id":15938538,"body_markdown":"Thread.sleep() could work in most cases, but usually if you&#39;re waiting, you are actually waiting for a particular condition or state to occur.  Thread.sleep() does not guarantee that whatever you&#39;re waiting for has actually happened.  \r\n\r\nIf you are waiting on a rest request for example maybe it usually return in 5 seconds, but if you set your sleep for 5 seconds the day your request comes back in 10 seconds your test is going to fail.\r\n\r\nTo remedy this JayWay has a great utility called [Awatility][1] which is perfect for ensuring that a specific condition occurs before you move on.\r\n\r\nIt has a nice fluent api as well\r\n\r\n    await().until(() -&gt; \r\n    {\r\n        return yourConditionIsMet();\r\n    });  \r\n\r\nhttps://github.com/jayway/awaitility\r\n\r\n\r\n  [1]: https://github.com/jayway/awaitility","title":"How can I make a JUnit test wait?","body":"<p>Thread.sleep() could work in most cases, but usually if you're waiting, you are actually waiting for a particular condition or state to occur.  Thread.sleep() does not guarantee that whatever you're waiting for has actually happened.  </p>\n\n<p>If you are waiting on a rest request for example maybe it usually return in 5 seconds, but if you set your sleep for 5 seconds the day your request comes back in 10 seconds your test is going to fail.</p>\n\n<p>To remedy this JayWay has a great utility called <a href=\"https://github.com/jayway/awaitility\">Awatility</a> which is perfect for ensuring that a specific condition occurs before you move on.</p>\n\n<p>It has a nice fluent api as well</p>\n\n<pre><code>await().until(() -&gt; \n{\n    return yourConditionIsMet();\n});  \n</code></pre>\n\n<p><a href=\"https://github.com/jayway/awaitility\">https://github.com/jayway/awaitility</a></p>\n"},{"tags":[],"owner":{"account_id":1240648,"reputation":661,"user_id":1203332,"display_name":"Pierre Voisin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1454447565,"creation_date":1454447565,"answer_id":35163873,"question_id":15938538,"body_markdown":"You could also use the `CountDownLatch` object like explained [here](https://stackoverflow.com/questions/19025366/wait-until-boolean-value-changes-it-state).","title":"How can I make a JUnit test wait?","body":"<p>You could also use the <code>CountDownLatch</code> object like explained <a href=\"https://stackoverflow.com/questions/19025366/wait-until-boolean-value-changes-it-state\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4250230,"reputation":1766,"user_id":3477539,"accept_rate":83,"display_name":"Rostislav V"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1568715263,"creation_date":1533204077,"answer_id":51650781,"question_id":15938538,"body_markdown":"In case your static code analyzer (like SonarQube) complaints, but you can not think of another way, rather than sleep, you may try with a hack like:\r\n`Awaitility.await().pollDelay(Durations.ONE_SECOND).until(() -&gt; true);`\r\nIt&#39;s conceptually incorrect, but it is the same as `Thread.sleep(1000)`.\r\n\r\nThe best way, of course, is to pass a Callable, with your appropriate condition, rather than `true`, which I have.\r\n\r\nhttps://github.com/awaitility/awaitility","title":"How can I make a JUnit test wait?","body":"<p>In case your static code analyzer (like SonarQube) complaints, but you can not think of another way, rather than sleep, you may try with a hack like:\n<code>Awaitility.await().pollDelay(Durations.ONE_SECOND).until(() -&gt; true);</code>\nIt's conceptually incorrect, but it is the same as <code>Thread.sleep(1000)</code>.</p>\n\n<p>The best way, of course, is to pass a Callable, with your appropriate condition, rather than <code>true</code>, which I have.</p>\n\n<p><a href=\"https://github.com/awaitility/awaitility\" rel=\"noreferrer\">https://github.com/awaitility/awaitility</a></p>\n"},{"tags":[],"owner":{"account_id":16080190,"reputation":317,"user_id":11606329,"display_name":"Akshay Pagar"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1559771709,"creation_date":1559771709,"answer_id":56468551,"question_id":15938538,"body_markdown":"You can use java.util.concurrent.TimeUnit library which internally uses Thread.sleep. The syntax should look like this : \r\n\r\n    @Test\r\n    public void testExipres(){\r\n        SomeCacheObject sco = new SomeCacheObject();\r\n        sco.putWithExipration(&quot;foo&quot;, 1000);\r\n        \r\n        TimeUnit.MINUTES.sleep(2);\r\n       \r\n        assertNull(sco.getIfNotExipred(&quot;foo&quot;));\r\n    }\r\n\r\nThis library provides more clear interpretation for time unit. You can use &#39;HOURS&#39;/&#39;MINUTES&#39;/&#39;SECONDS&#39;.\r\n","title":"How can I make a JUnit test wait?","body":"<p>You can use java.util.concurrent.TimeUnit library which internally uses Thread.sleep. The syntax should look like this : </p>\n\n<pre><code>@Test\npublic void testExipres(){\n    SomeCacheObject sco = new SomeCacheObject();\n    sco.putWithExipration(\"foo\", 1000);\n\n    TimeUnit.MINUTES.sleep(2);\n\n    assertNull(sco.getIfNotExipred(\"foo\"));\n}\n</code></pre>\n\n<p>This library provides more clear interpretation for time unit. You can use 'HOURS'/'MINUTES'/'SECONDS'.</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611075422,"creation_date":1562074640,"answer_id":56853786,"question_id":15938538,"body_markdown":"There is a general problem: it&#39;s hard to mock time. Also, it&#39;s really bad practice to place long running/waiting code in a unit test.\r\n\r\nSo, for making a scheduling API testable, I used an interface with a real and a mock implementation like this:\r\n\r\n```java\r\npublic interface Clock {\r\n    \r\n    public long getCurrentMillis();\r\n    \r\n    public void sleep(long millis) throws InterruptedException;\r\n    \r\n}\r\n\r\npublic static class SystemClock implements Clock {\r\n\r\n    @Override\r\n    public long getCurrentMillis() {\r\n        return System.currentTimeMillis();\r\n    }\r\n\r\n    @Override\r\n    public void sleep(long millis) throws InterruptedException {\r\n        Thread.sleep(millis);\r\n    }\r\n    \r\n}\r\n\r\npublic static class MockClock implements Clock {\r\n\r\n    private final AtomicLong currentTime = new AtomicLong(0);\r\n    \r\n\r\n    public MockClock() {\r\n        this(System.currentTimeMillis());\r\n    }\r\n    \r\n    public MockClock(long currentTime) {\r\n        this.currentTime.set(currentTime);\r\n    }\r\n    \r\n\r\n    @Override\r\n    public long getCurrentMillis() {\r\n        return currentTime.addAndGet(5);\r\n    }\r\n\r\n    @Override\r\n    public void sleep(long millis) {\r\n        currentTime.addAndGet(millis);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nWith this, you could imitate time in your test:\r\n\r\n```java\r\n@Test\r\npublic void testExpiration() {\r\n    MockClock clock = new MockClock();\r\n    SomeCacheObject sco = new SomeCacheObject();\r\n    sco.putWithExpiration(&quot;foo&quot;, 1000);\r\n    clock.sleep(2000) // wait for 2 seconds\r\n    assertNull(sco.getIfNotExpired(&quot;foo&quot;));\r\n}\r\n```\r\n\r\nAn advanced multi-threading mock for `Clock` is much more complex, of course, but you can make it with `ThreadLocal` references and a good time synchronization strategy, for example.","title":"How can I make a JUnit test wait?","body":"<p>There is a general problem: it's hard to mock time. Also, it's really bad practice to place long running/waiting code in a unit test.</p>\n<p>So, for making a scheduling API testable, I used an interface with a real and a mock implementation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Clock {\n    \n    public long getCurrentMillis();\n    \n    public void sleep(long millis) throws InterruptedException;\n    \n}\n\npublic static class SystemClock implements Clock {\n\n    @Override\n    public long getCurrentMillis() {\n        return System.currentTimeMillis();\n    }\n\n    @Override\n    public void sleep(long millis) throws InterruptedException {\n        Thread.sleep(millis);\n    }\n    \n}\n\npublic static class MockClock implements Clock {\n\n    private final AtomicLong currentTime = new AtomicLong(0);\n    \n\n    public MockClock() {\n        this(System.currentTimeMillis());\n    }\n    \n    public MockClock(long currentTime) {\n        this.currentTime.set(currentTime);\n    }\n    \n\n    @Override\n    public long getCurrentMillis() {\n        return currentTime.addAndGet(5);\n    }\n\n    @Override\n    public void sleep(long millis) {\n        currentTime.addAndGet(millis);\n    }\n    \n}\n</code></pre>\n<p>With this, you could imitate time in your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testExpiration() {\n    MockClock clock = new MockClock();\n    SomeCacheObject sco = new SomeCacheObject();\n    sco.putWithExpiration(&quot;foo&quot;, 1000);\n    clock.sleep(2000) // wait for 2 seconds\n    assertNull(sco.getIfNotExpired(&quot;foo&quot;));\n}\n</code></pre>\n<p>An advanced multi-threading mock for <code>Clock</code> is much more complex, of course, but you can make it with <code>ThreadLocal</code> references and a good time synchronization strategy, for example.</p>\n"},{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1604319373,"creation_date":1604319373,"answer_id":64645442,"question_id":15938538,"body_markdown":"If it is an absolute must to generate delay in a test `CountDownLatch` is a simple solution. In your test class declare:\r\n\r\n    private final CountDownLatch waiter = new CountDownLatch(1);\r\n\r\nand in the test where needed:\r\n\r\n    waiter.await(1000 * 1000, TimeUnit.NANOSECONDS); // 1ms\r\n\r\nMaybe unnecessary to say but keeping in mind that you should keep wait times small and not cumulate waits to too many places.","title":"How can I make a JUnit test wait?","body":"<p>If it is an absolute must to generate delay in a test <code>CountDownLatch</code> is a simple solution. In your test class declare:</p>\n<pre><code>private final CountDownLatch waiter = new CountDownLatch(1);\n</code></pre>\n<p>and in the test where needed:</p>\n<pre><code>waiter.await(1000 * 1000, TimeUnit.NANOSECONDS); // 1ms\n</code></pre>\n<p>Maybe unnecessary to say but keeping in mind that you should keep wait times small and not cumulate waits to too many places.</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1644961476,"creation_date":1644961476,"answer_id":71133771,"question_id":15938538,"body_markdown":"[**Mockito**](https://site.mockito.org/) (which is already provided via transitive dependencies for Spring Boot projects)  has a couple of ways to wait for asynchronous events, respectively conditions to happen.\r\n\r\nA simple pattern which currently works very well for us is:\r\n\r\n~~~java\r\n// ARRANGE – instantiate Mocks, setup test conditions\r\n\r\n// ACT – the action to test, followed by:\r\nMockito.verify(myMockOrSpy, timeout(5000).atLeastOnce()).delayedStuff();\r\n// further execution paused until `delayedStuff()` is called – or fails after timeout\r\n\r\n// ASSERT – assertThat(...)\r\n~~~\r\n\r\nTwo slightly more complex yet more sophisticated are described in [this article](https://web.archive.org/web/20211024124855/https://fernandocejas.com/blog/engineering/2014-04-08-unit-testing-asynchronous-methods-with-mockito/) by [@fernando-cejas](https://stackoverflow.com/users/760596/fernando-cejas) \r\n\r\n---\r\n\r\nMy urgent advice regarding the current top answers given here: you want your tests to \r\n1. finish as fast as possible\r\n2. have consistent results, independent of the test environment (non-&quot;flaky&quot;)\r\n\r\n... so just don&#39;t be silly by using `Thread.sleep()` in your test code.\r\n\r\nInstead, have your production code use dependency injection (or, a little &quot;dirtier&quot;, expose some mockable/spyable methods) then use Mockito, [Awaitly](https://stackoverflow.com/questions/15938538#30471990), [ConcurrentUnit](https://github.com/jhalterman/concurrentunit) or others to ensure asynchronous preconditions are met before assertions happen.","title":"How can I make a JUnit test wait?","body":"<p><a href=\"https://site.mockito.org/\" rel=\"noreferrer\"><strong>Mockito</strong></a> (which is already provided via transitive dependencies for Spring Boot projects)  has a couple of ways to wait for asynchronous events, respectively conditions to happen.</p>\n<p>A simple pattern which currently works very well for us is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ARRANGE – instantiate Mocks, setup test conditions\n\n// ACT – the action to test, followed by:\nMockito.verify(myMockOrSpy, timeout(5000).atLeastOnce()).delayedStuff();\n// further execution paused until `delayedStuff()` is called – or fails after timeout\n\n// ASSERT – assertThat(...)\n</code></pre>\n<p>Two slightly more complex yet more sophisticated are described in <a href=\"https://web.archive.org/web/20211024124855/https://fernandocejas.com/blog/engineering/2014-04-08-unit-testing-asynchronous-methods-with-mockito/\" rel=\"noreferrer\">this article</a> by <a href=\"https://stackoverflow.com/users/760596/fernando-cejas\">@fernando-cejas</a></p>\n<hr />\n<p>My urgent advice regarding the current top answers given here: you want your tests to</p>\n<ol>\n<li>finish as fast as possible</li>\n<li>have consistent results, independent of the test environment (non-&quot;flaky&quot;)</li>\n</ol>\n<p>... so just don't be silly by using <code>Thread.sleep()</code> in your test code.</p>\n<p>Instead, have your production code use dependency injection (or, a little &quot;dirtier&quot;, expose some mockable/spyable methods) then use Mockito, <a href=\"https://stackoverflow.com/questions/15938538#30471990\">Awaitly</a>, <a href=\"https://github.com/jhalterman/concurrentunit\" rel=\"noreferrer\">ConcurrentUnit</a> or others to ensure asynchronous preconditions are met before assertions happen.</p>\n"},{"tags":[],"owner":{"account_id":9303417,"reputation":1170,"user_id":6908062,"display_name":"Akhil Ghatiki"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1655287671,"creation_date":1655287671,"answer_id":72629492,"question_id":15938538,"body_markdown":"Using Thread.sleep in a test is not a good practice. It creates brittle tests that can fail unpredictably depending on environment (&quot;Passes on my machine!&quot;) or load. Don’t rely on timing (use mocks) or use libraries such as Awaitility for asynchroneous testing.\r\n\r\n`Dependency : testImplementation &#39;org.awaitility:awaitility:3.0.0&#39;`\r\n\r\n    await().pollInterval(Duration.FIVE_SECONDS).atLeast(Duration.FIVE_SECONDS).atMost(Duration.FIVE_SECONDS).untilAsserted(() -&gt; {\r\n          // your assertion\r\n        });","title":"How can I make a JUnit test wait?","body":"<p>Using Thread.sleep in a test is not a good practice. It creates brittle tests that can fail unpredictably depending on environment (&quot;Passes on my machine!&quot;) or load. Don’t rely on timing (use mocks) or use libraries such as Awaitility for asynchroneous testing.</p>\n<p><code>Dependency : testImplementation 'org.awaitility:awaitility:3.0.0'</code></p>\n<pre><code>await().pollInterval(Duration.FIVE_SECONDS).atLeast(Duration.FIVE_SECONDS).atMost(Duration.FIVE_SECONDS).untilAsserted(() -&gt; {\n      // your assertion\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698830067,"creation_date":1698828903,"answer_id":77401398,"question_id":15938538,"body_markdown":"Use the Awaitility library.\r\n\r\nMaven Dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n      &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n \r\nUnit test utility method to wait for some specified amount of time:\r\n\r\n     public void waitFor(Duration duration) {\r\n        final Instant startTime = Instant.now();\r\n        Awaitility\r\n          .await()\r\n          .atMost(duration.plus(Duration.ofSeconds(1)))\r\n          .with()\r\n          .pollInterval(duration)\r\n          .until(() -&gt; {\r\n            Duration elapsed = Duration.between(Instant.now(), startTime);\r\n            return elapsed.abs().compareTo(duration) &gt;= 0;\r\n          });\r\n      }\r\n\r\nExample usage based on OP:\r\n\r\n\r\n    @Test\r\n    public void testExipres(){\r\n        SomeCacheObject sco = new SomeCacheObject();\r\n        sco.putWithExipration(&quot;foo&quot;, 1000);\r\n        Duration pt2s = java.time.Duration.ofSeconds(2);\r\n        waitFor(pt2s);\r\n        assertNull(sco.getIfNotExipred(&quot;foo&quot;));\r\n    }\r\n","title":"How can I make a JUnit test wait?","body":"<p>Use the Awaitility library.</p>\n<p>Maven Dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n  &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n  &lt;version&gt;${awaitility.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Unit test utility method to wait for some specified amount of time:</p>\n<pre><code> public void waitFor(Duration duration) {\n    final Instant startTime = Instant.now();\n    Awaitility\n      .await()\n      .atMost(duration.plus(Duration.ofSeconds(1)))\n      .with()\n      .pollInterval(duration)\n      .until(() -&gt; {\n        Duration elapsed = Duration.between(Instant.now(), startTime);\n        return elapsed.abs().compareTo(duration) &gt;= 0;\n      });\n  }\n</code></pre>\n<p>Example usage based on OP:</p>\n<pre><code>@Test\npublic void testExipres(){\n    SomeCacheObject sco = new SomeCacheObject();\n    sco.putWithExipration(&quot;foo&quot;, 1000);\n    Duration pt2s = java.time.Duration.ofSeconds(2);\n    waitFor(pt2s);\n    assertNull(sco.getIfNotExipred(&quot;foo&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":80795,"reputation":8986,"user_id":228208,"accept_rate":88,"display_name":"Kylar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193654,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":15938548,"answer_count":10,"score":140,"last_activity_date":1698830067,"creation_date":1365638010,"question_id":15938538,"body_markdown":"I have a JUnit test that I want to wait for a period of time synchronously. My JUnit test looks like this:\r\n\r\n    @Test\r\n    public void testExipres(){\r\n        SomeCacheObject sco = new SomeCacheObject();\r\n        sco.putWithExipration(&quot;foo&quot;, 1000);\r\n        // WAIT FOR 2 SECONDS\r\n        assertNull(sco.getIfNotExipred(&quot;foo&quot;));\r\n    }\r\n\r\nI tried `Thread.currentThread().wait()`, but it throws an **IllegalMonitorStateException** (as expected).\r\n\r\nIs there some trick to it or do I need a different monitor?","title":"How can I make a JUnit test wait?","body":"<p>I have a JUnit test that I want to wait for a period of time synchronously. My JUnit test looks like this:</p>\n<pre><code>@Test\npublic void testExipres(){\n    SomeCacheObject sco = new SomeCacheObject();\n    sco.putWithExipration(&quot;foo&quot;, 1000);\n    // WAIT FOR 2 SECONDS\n    assertNull(sco.getIfNotExipred(&quot;foo&quot;));\n}\n</code></pre>\n<p>I tried <code>Thread.currentThread().wait()</code>, but it throws an <strong>IllegalMonitorStateException</strong> (as expected).</p>\n<p>Is there some trick to it or do I need a different monitor?</p>\n"},{"tags":["java","svn","svnkit"],"comments":[{"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"score":0,"creation_date":1698746191,"post_id":77394625,"comment_id":136441419,"body_markdown":"Perhaps provide a path to the working copy which you want to update?","body":"Perhaps provide a path to the working copy which you want to update?"},{"owner":{"account_id":24262796,"reputation":31,"user_id":18212150,"display_name":"Guhan"},"score":0,"creation_date":1698746577,"post_id":77394625,"comment_id":136441495,"body_markdown":"The whole parent path of the file instead of the file?","body":"The whole parent path of the file instead of the file?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1698752693,"post_id":77394625,"comment_id":136442605,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":24262796,"reputation":31,"user_id":18212150,"display_name":"Guhan"},"score":0,"creation_date":1698830065,"post_id":77394625,"comment_id":136453551,"body_markdown":"Actually I have cleared the exception. The mistake I did was trying to update the repository before adding the non working copies.","body":"Actually I have cleared the exception. The mistake I did was trying to update the repository before adding the non working copies."}],"owner":{"account_id":24262796,"reputation":31,"user_id":18212150,"display_name":"Guhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698829932,"creation_date":1698743715,"question_id":77394625,"body_markdown":"So I am trying to update my repository before committing my files using SVN Kit. So I update my repository `svnUpdateClient.doUpdate(file, SVNRevision.HEAD, SVNDepth.INFINITY, false, false);` . But when the doUpdate() method gets called I get the following error.\r\n`org.tmatesoft.svn.core.SVNException: svn: E155007: None of the targets are working copies`. What should I do to not get this exception?\r\n\r\nHere is minimal reproducible example.\r\n\r\n```java\r\n//Updates the repository\r\nSVNUpdateClient svnUpdateClient = clientManager.getUpdateClient();\r\nsvnUpdateClient.doUpdate(files, SVNRevision.HEAD, SVNDepth.INFINITY, false, false);\r\n\r\n//adds the non working copy to the repository\r\nSVNWCClient wcClient = clientManager.getWCClient();\r\nwcClient.doAdd(file, false, false, false, SVNDepth.INFINITY, false, false);\r\n\r\n//commits the added/modified copy to the repository\r\nSVNCommitClient commitClient = clientManager.getCommitClient();\r\ncommitClient.doCommit(files, false, commitMessage, null, null, false, false, SVNDepth.INFINITY);\r\n```\r\n\r\n","title":"org.tmatesoft.svn.core.SVNException: svn: E155007: None of the targets are working copies while calling doUpdate() method","body":"<p>So I am trying to update my repository before committing my files using SVN Kit. So I update my repository <code>svnUpdateClient.doUpdate(file, SVNRevision.HEAD, SVNDepth.INFINITY, false, false);</code> . But when the doUpdate() method gets called I get the following error.\n<code>org.tmatesoft.svn.core.SVNException: svn: E155007: None of the targets are working copies</code>. What should I do to not get this exception?</p>\n<p>Here is minimal reproducible example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Updates the repository\nSVNUpdateClient svnUpdateClient = clientManager.getUpdateClient();\nsvnUpdateClient.doUpdate(files, SVNRevision.HEAD, SVNDepth.INFINITY, false, false);\n\n//adds the non working copy to the repository\nSVNWCClient wcClient = clientManager.getWCClient();\nwcClient.doAdd(file, false, false, false, SVNDepth.INFINITY, false, false);\n\n//commits the added/modified copy to the repository\nSVNCommitClient commitClient = clientManager.getCommitClient();\ncommitClient.doCommit(files, false, commitMessage, null, null, false, false, SVNDepth.INFINITY);\n</code></pre>\n"},{"tags":["java","android-studio","android-camerax"],"owner":{"account_id":2664106,"reputation":185,"user_id":2303069,"display_name":"Clint William Theron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698829112,"creation_date":1698829112,"question_id":77401416,"body_markdown":"I&#39;m trying to start a camera preview, by using [this tutorial](https://developer.android.com/training/camerax/preview &quot;Implement a camera preview | Android Developers&quot;), in Android Studio (Java). \r\n\r\nAfter implementing the code I get a &quot;cannot resolve symbol &#39;previewView&#39;&quot; error on the following line:\r\n````\r\npreview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n````\r\nSo, I tried to replace it with:\r\n````\r\nPreviewView mPreviewView = findViewById(R.id.viewFinder);\r\npreview.setSurfaceProvider(mPreviewView.getSurfaceProvider());\r\n````\r\nNow, the app compiles successfully but the camera preview is not showing.  \r\nI added the camera permission in the manifest, like so\r\n````\r\n&lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n````\r\nand the dependencies in the build.gradle.kts module\r\n````\r\nimplementation (&quot;androidx.camera:camera-core:1.2.2&quot;)\r\nimplementation (&quot;androidx.camera:camera-camera2:1.2.2&quot;)\r\nimplementation (&quot;androidx.camera:camera-lifecycle:1.2.2&quot;)\r\nimplementation (&quot;androidx.camera:camera-video:1.2.2&quot;)\r\n\r\nimplementation (&quot;androidx.camera:camera-view:1.2.2&quot;)\r\nimplementation (&quot;androidx.camera:camera-extensions:1.2.2&quot;)\r\n````  \r\n\r\nI think it&#39;s the way I&#39;m referencing the preview view from the layout. What should I do to correct my mistake? Thanks. ","title":"How to implement a camera preview with CameraX","body":"<p>I'm trying to start a camera preview, by using <a href=\"https://developer.android.com/training/camerax/preview\" rel=\"nofollow noreferrer\" title=\"Implement a camera preview | Android Developers\">this tutorial</a>, in Android Studio (Java).</p>\n<p>After implementing the code I get a &quot;cannot resolve symbol 'previewView'&quot; error on the following line:</p>\n<pre><code>preview.setSurfaceProvider(previewView.getSurfaceProvider());\n</code></pre>\n<p>So, I tried to replace it with:</p>\n<pre><code>PreviewView mPreviewView = findViewById(R.id.viewFinder);\npreview.setSurfaceProvider(mPreviewView.getSurfaceProvider());\n</code></pre>\n<p>Now, the app compiles successfully but the camera preview is not showing.<br />\nI added the camera permission in the manifest, like so</p>\n<pre><code>&lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>and the dependencies in the build.gradle.kts module</p>\n<pre><code>implementation (&quot;androidx.camera:camera-core:1.2.2&quot;)\nimplementation (&quot;androidx.camera:camera-camera2:1.2.2&quot;)\nimplementation (&quot;androidx.camera:camera-lifecycle:1.2.2&quot;)\nimplementation (&quot;androidx.camera:camera-video:1.2.2&quot;)\n\nimplementation (&quot;androidx.camera:camera-view:1.2.2&quot;)\nimplementation (&quot;androidx.camera:camera-extensions:1.2.2&quot;)\n</code></pre>\n<p>I think it's the way I'm referencing the preview view from the layout. What should I do to correct my mistake? Thanks.</p>\n"},{"tags":["java","spring-boot","aws-lambda","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":2405328,"reputation":196,"user_id":2101963,"display_name":"batflix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698827940,"creation_date":1542404154,"answer_id":53345741,"question_id":53344676,"body_markdown":"Instead of returning `InputStreamResource` , you shud return content of the stream may be `byte[]`.   \r\n\r\n    byte[] content = IOUtils.toByteArray(object.getObjectContent());\r\n    return content ;\r\n\r\n","title":"java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times","body":"<p>Instead of returning <code>InputStreamResource</code> , you shud return content of the stream may be <code>byte[]</code>.</p>\n<pre><code>byte[] content = IOUtils.toByteArray(object.getObjectContent());\nreturn content ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1542405433,"creation_date":1542404538,"answer_id":53345819,"question_id":53344676,"body_markdown":"The docs suggest using ByteArrayResource to cache the content in memory, rather than InputStreamResource.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/InputStreamResource.html\r\n\r\nJust change the returns part like this:\r\n\r\n    //As suggested by berzerk\r\n    byte[] content = IOUtils.toByteArray(object.getObjectContent()); \r\n    \r\n    //Then\r\n    return new ByteArrayResource( content );","title":"java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times","body":"<p>The docs suggest using ByteArrayResource to cache the content in memory, rather than InputStreamResource.</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/InputStreamResource.html</a></p>\n\n<p>Just change the returns part like this:</p>\n\n<pre><code>//As suggested by berzerk\nbyte[] content = IOUtils.toByteArray(object.getObjectContent()); \n\n//Then\nreturn new ByteArrayResource( content );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5303358,"reputation":844,"user_id":4232185,"display_name":"Abhishek Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595589160,"creation_date":1595589160,"answer_id":63072416,"question_id":53344676,"body_markdown":"So I had to send in JSON/XML object as Output Stream. I was using the InputStreamResource and was getting the same error as OP.\r\n\r\nHere&#39;s the solution that worked for me. \r\n\r\n        @Override\r\n        public Resource dataExportForFieldExtractorModel() {\r\n    \r\n            ObjectMapper xmlMapper = new XmlMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n            byte[] data;\r\n            Resource resource = null;\r\n            try {\r\n                data = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsBytes(new DataExportResponse());\r\n                resource = new ByteArrayResource(data);\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return resource;\r\n        }\r\n\r\nAs the resource needs to be `byte[]`, I changed `resource = new InputStreamResource(new ByteArrayInputStream(data));` to \r\n`resource = new ByteArrayResource(data);`.","title":"java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times","body":"<p>So I had to send in JSON/XML object as Output Stream. I was using the InputStreamResource and was getting the same error as OP.</p>\n<p>Here's the solution that worked for me.</p>\n<pre><code>    @Override\n    public Resource dataExportForFieldExtractorModel() {\n\n        ObjectMapper xmlMapper = new XmlMapper().enable(SerializationFeature.INDENT_OUTPUT);\n        byte[] data;\n        Resource resource = null;\n        try {\n            data = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsBytes(new DataExportResponse());\n            resource = new ByteArrayResource(data);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        }\n        return resource;\n    }\n</code></pre>\n<p>As the resource needs to be <code>byte[]</code>, I changed <code>resource = new InputStreamResource(new ByteArrayInputStream(data));</code> to\n<code>resource = new ByteArrayResource(data);</code>.</p>\n"}],"owner":{"account_id":14455833,"reputation":660,"user_id":10443925,"display_name":"Maana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13853,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":53345819,"answer_count":3,"score":9,"last_activity_date":1698827940,"creation_date":1542398883,"question_id":53344676,"body_markdown":"I am trying to read a file from aws s3 bucket and set it as resource inside my spring batch reader class. When I test the application on aws lambda function I got below error. any suggestion experts? \r\n\r\n    \tCaused by: java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times\r\n\t\tat org.springframework.core.io.InputStreamResource.getInputStream(InputStreamResource.java:97) ~[task/:na]\r\n\t\tat org.springframework.batch.item.file.DefaultBufferedReaderFactory.create(DefaultBufferedReaderFactory.java:34) ~[task/:na]\r\n\t\tat org.springframework.batch.item.file.FlatFileItemReader.doOpen(FlatFileItemReader.java:266) ~[task/:na]\r\n\t\tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:146) ~[task/:na]\r\n\r\n    Class to read from s3 bucket\r\n    @Service\r\n\tpublic class S3BucketProcessing {\r\n\tprivate static final AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();\r\n\r\n\tpublic InputStreamResource readFile() throws IOException{\r\n\t\t\r\n\t   String bucketName = &quot;mybuckey&quot;;\r\n\t   String key = &quot;File.txt&quot;;\r\n     \r\n       S3Object object = s3.getObject(new GetObjectRequest(bucketName, key));    \r\n       \r\n       return new InputStreamResource(object.getObjectContent());\r\n\t\t\r\n\t}\r\n Spring batch reader class \r\n\r\n    \t@Component\r\n\tpublic class MyReader extends FlatFileItemReader&lt;MyEntity&gt; {\r\n\r\n\t\tMyLineMapper mapper;\r\n\t\tMyTokenizer tokenizer;\r\n\t\tS3BucketProcessing s3BucketProcessing;\r\n\r\n\t\t@Autowired\r\n\t\tpublic MyReader(MyTokenizer tokenizer, MyLineMapper mapper, S3BucketProcessing s3BucketProcessing) throws Exception{\r\n\t\t\tLOG.info(&quot;CardCustomerNotificationReader constructor&quot;);\r\n\t\t\tthis.mapper = mapper;\r\n\t\t\tthis.tokenizer = tokenizer;\r\n\t\t\tthis.s3BucketProcessing= s3BucketProcessing;\r\n\t\t\tthis.setResource(s3BucketProcessing.readFile());\r\n\t\t\tmapper.setLineTokenizer(tokenizer);\r\n\t\t\tthis.setLineMapper(mapper);\r\n\t\t}\r\n\t}\r\n","title":"java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times","body":"<p>I am trying to read a file from aws s3 bucket and set it as resource inside my spring batch reader class. When I test the application on aws lambda function I got below error. any suggestion experts? </p>\n\n<pre><code>    Caused by: java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times\n    at org.springframework.core.io.InputStreamResource.getInputStream(InputStreamResource.java:97) ~[task/:na]\n    at org.springframework.batch.item.file.DefaultBufferedReaderFactory.create(DefaultBufferedReaderFactory.java:34) ~[task/:na]\n    at org.springframework.batch.item.file.FlatFileItemReader.doOpen(FlatFileItemReader.java:266) ~[task/:na]\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:146) ~[task/:na]\n\nClass to read from s3 bucket\n@Service\npublic class S3BucketProcessing {\nprivate static final AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();\n\npublic InputStreamResource readFile() throws IOException{\n\n   String bucketName = \"mybuckey\";\n   String key = \"File.txt\";\n\n   S3Object object = s3.getObject(new GetObjectRequest(bucketName, key));    \n\n   return new InputStreamResource(object.getObjectContent());\n\n}\n</code></pre>\n\n<p>Spring batch reader class </p>\n\n<pre><code>    @Component\npublic class MyReader extends FlatFileItemReader&lt;MyEntity&gt; {\n\n    MyLineMapper mapper;\n    MyTokenizer tokenizer;\n    S3BucketProcessing s3BucketProcessing;\n\n    @Autowired\n    public MyReader(MyTokenizer tokenizer, MyLineMapper mapper, S3BucketProcessing s3BucketProcessing) throws Exception{\n        LOG.info(\"CardCustomerNotificationReader constructor\");\n        this.mapper = mapper;\n        this.tokenizer = tokenizer;\n        this.s3BucketProcessing= s3BucketProcessing;\n        this.setResource(s3BucketProcessing.readFile());\n        mapper.setLineTokenizer(tokenizer);\n        this.setLineMapper(mapper);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1698673585,"post_id":77388955,"comment_id":136431337,"body_markdown":"Only the controller instance managed by an `FXMLLoader` has its fields injected; you have to get the controller from the loader after calling the instance `load` method. Additionally, it does not make much sense to keep a static reference to an FXML controller.","body":"Only the controller instance managed by an <code>FXMLLoader</code> has its fields injected; you have to get the controller from the loader after calling the instance <code>load</code> method. Additionally, it does not make much sense to keep a static reference to an FXML controller."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1698680583,"post_id":77388955,"comment_id":136432848,"body_markdown":"You did not show much code, but looking at what you have, it appears to be bad coding structure/logic. I would suggest learning MVC [here](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx)","body":"You did not show much code, but looking at what you have, it appears to be bad coding structure/logic. I would suggest learning MVC <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698827708,"creation_date":1698827329,"answer_id":77401261,"question_id":77388955,"body_markdown":"**Explanation:**\r\n\r\nYour code CAN NOT work. \r\n\r\n1. When you start your application your controller is generally null and all fields inside too.\r\n2. When your application loads a Scene, then it checks if the Scene has a controller assigned.\r\n3. If the Scene has a controller assigned, the application creates an instance of the assigned controller and assigns it to the Scene. \r\n4. While creating the instance of the controller, it checks, if there are any fields with @FXML annotations.\r\n5. For all @FXML annotated fields, there will be an instance created and assigned to that field. Until now, all fields are null. \r\n6. If your Scene is gone, the garbage collector will destroy the controller, because it is not used anymore (sets it to null)\r\n\r\nWhy is your code not working although there is an @FXML annotation? Because the controller is not created by loading Scene, but by yourself in code. @FXML only works when loading a Scene.\r\n\r\n**Solution 1 (Bad):**\r\n\r\n    public class Controller {\r\n        @FXML\r\n        private TextField myText = new TextField();\r\n    }\r\n\r\nThis does &quot;work&quot; but it may not fit your needs. \r\n\r\n**Solution 2 (Good):**\r\n\r\n1. Learn object orientated programming\r\n2. Never use static again until you really know what you are doing.\r\n3. Lean JavaFX basics.\r\n4. Rewrite your code.\r\n5. Profit.\r\n\r\nYou will not get happy without that. ","title":"Don&#39;t work JavaFX textField getter, in another class return value is null","body":"<p><strong>Explanation:</strong></p>\n<p>Your code CAN NOT work.</p>\n<ol>\n<li>When you start your application your controller is generally null and all fields inside too.</li>\n<li>When your application loads a Scene, then it checks if the Scene has a controller assigned.</li>\n<li>If the Scene has a controller assigned, the application creates an instance of the assigned controller and assigns it to the Scene.</li>\n<li>While creating the instance of the controller, it checks, if there are any fields with @FXML annotations.</li>\n<li>For all @FXML annotated fields, there will be an instance created and assigned to that field. Until now, all fields are null.</li>\n<li>If your Scene is gone, the garbage collector will destroy the controller, because it is not used anymore (sets it to null)</li>\n</ol>\n<p>Why is your code not working although there is an @FXML annotation? Because the controller is not created by loading Scene, but by yourself in code. @FXML only works when loading a Scene.</p>\n<p><strong>Solution 1 (Bad):</strong></p>\n<pre><code>public class Controller {\n    @FXML\n    private TextField myText = new TextField();\n}\n</code></pre>\n<p>This does &quot;work&quot; but it may not fit your needs.</p>\n<p><strong>Solution 2 (Good):</strong></p>\n<ol>\n<li>Learn object orientated programming</li>\n<li>Never use static again until you really know what you are doing.</li>\n<li>Lean JavaFX basics.</li>\n<li>Rewrite your code.</li>\n<li>Profit.</li>\n</ol>\n<p>You will not get happy without that.</p>\n"}],"owner":{"account_id":29786386,"reputation":3,"user_id":22827650,"display_name":"JohnnyStyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77401261,"answer_count":1,"score":0,"last_activity_date":1698827708,"creation_date":1698671714,"question_id":77388955,"body_markdown":"I have 2 classes\r\nfirst class is controller\r\n\r\n```\r\npublic class Controller {\r\n    @FXML\r\n    private TextField myText;\r\n\r\n    public TextField getMyText() {\r\n        return myText;\r\n    }\r\n}\r\n```\r\n\r\nand second class\r\n\r\n```\r\npublic class Print {\r\n    private static Controller controller = new Controller();\r\n\r\n    public void print() {\r\n    System.out.println(controller.getMyText().getText());\r\n    }\r\n}\r\n```\r\nI enter a value in the textField and code throws exception\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextField.getText()&quot; because the return value of &quot;Controller.getMyText()&quot; is null.\r\n\r\nWhy? Thanks.\r\n\r\nin fxml `TextField fx:id=&quot;myText&quot; /`\r\n\r\nand if set\r\n\r\n```\r\nSystem.out.println(myText.getText());\r\n```\r\nin controller class all OK.","title":"Don&#39;t work JavaFX textField getter, in another class return value is null","body":"<p>I have 2 classes\nfirst class is controller</p>\n<pre><code>public class Controller {\n    @FXML\n    private TextField myText;\n\n    public TextField getMyText() {\n        return myText;\n    }\n}\n</code></pre>\n<p>and second class</p>\n<pre><code>public class Print {\n    private static Controller controller = new Controller();\n\n    public void print() {\n    System.out.println(controller.getMyText().getText());\n    }\n}\n</code></pre>\n<p>I enter a value in the textField and code throws exception\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextField.getText()&quot; because the return value of &quot;Controller.getMyText()&quot; is null.</p>\n<p>Why? Thanks.</p>\n<p>in fxml <code>TextField fx:id=&quot;myText&quot; /</code></p>\n<p>and if set</p>\n<pre><code>System.out.println(myText.getText());\n</code></pre>\n<p>in controller class all OK.</p>\n"},{"tags":["java","hibernate","batching"],"answers":[{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698827546,"creation_date":1499678163,"answer_id":45008120,"question_id":45007743,"body_markdown":"      //flush a batch of inserts and release memory:\r\n        session.flush();\r\n        session.clear();\r\n\r\nyou should call `flush()` method for force generate sql queries and execute  them. If you don&#39;t call flush() manually, if called by hibernate and commit transaction time. \r\n\r\nyou should call `clear()` method for deletion information about entities from persistence context to avoid OutOffMemeoryException, as you might have a batch with huge amount of entities and them might consume a lot of memory.  \r\n\r\n\r\nYou should control batch operation manually as not for all hibernate&#39;s operation you need batch mode.\r\n\r\n&quot;Why should I be doing flush() and clear() manually? Isn&#39;t this something that should be done automatically by hibernate since &quot; -- mainly, hibernate does it for at commit time. Methods flush() and clear()  are  independent of using batch_size, you can call them despite do you have batch mode or not. \r\n\r\nYou might have a case when inside on dao method you call N times flush() - when you need synchronization between entity and db level, and call flush() - when you don&#39;t work with entity anymore, and want to clean session.\r\n\r\nFrom your example, you have 1000000 elements. Without calling flush and clear you keep information in first level cache for all 1000000 elements. You add one by one new entity into session context every new iteration in cycle, but you don&#39;t need this information after batch is ready / prepared, that&#39;s why you should call flush, clear - to delete information that you don&#39;t need anymore. \r\n","title":"Hibernate: Why should I manually flush() even if I set batch_size in configuration file?","body":"<pre><code>  //flush a batch of inserts and release memory:\n    session.flush();\n    session.clear();\n</code></pre>\n<p>you should call <code>flush()</code> method for force generate sql queries and execute  them. If you don't call flush() manually, if called by hibernate and commit transaction time.</p>\n<p>you should call <code>clear()</code> method for deletion information about entities from persistence context to avoid OutOffMemeoryException, as you might have a batch with huge amount of entities and them might consume a lot of memory.</p>\n<p>You should control batch operation manually as not for all hibernate's operation you need batch mode.</p>\n<p>&quot;Why should I be doing flush() and clear() manually? Isn't this something that should be done automatically by hibernate since &quot; -- mainly, hibernate does it for at commit time. Methods flush() and clear()  are  independent of using batch_size, you can call them despite do you have batch mode or not.</p>\n<p>You might have a case when inside on dao method you call N times flush() - when you need synchronization between entity and db level, and call flush() - when you don't work with entity anymore, and want to clean session.</p>\n<p>From your example, you have 1000000 elements. Without calling flush and clear you keep information in first level cache for all 1000000 elements. You add one by one new entity into session context every new iteration in cycle, but you don't need this information after batch is ready / prepared, that's why you should call flush, clear - to delete information that you don't need anymore.</p>\n"},{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1698827475,"creation_date":1499706118,"answer_id":45017844,"question_id":45007743,"body_markdown":"The use specifying a JDBC batch_size value in the configuration versus manually controlling the flush/clear of the persistence context are two independent strategies and serve very different purposes.\r\n\r\nThe primary goal for using `flush()` paired with `clear()` is to minimize the memory consumption on the java application side used by the PersistenceContext as you save your student records.  It&#39;s important to remember that when you&#39;re using a stateful `Session` as your example illustrates, Hibernate maintains an attached/managed copy of the entity in memory and so it&#39;s important to clear and flush this to the database at regular intervals to avoid running out of memory or impacting performance.  \r\n\r\nThe JDBC batch_size setting itself influences how frequent the actual driver flushes statements to the database in order to improve performance.  Let&#39;s take a slightly modified example:\r\n\r\n    Session session = sessionFactory.openSession();\r\n    try {\r\n      session.getTransaction().begin();\r\n      for ( int i = 0; i &lt; 10000; ++i ) {\r\n        Student student = new Student();\r\n        ...        \r\n        session.save( student );\r\n      }\r\n      session.getTransaction().commit();\r\n    }\r\n    catch( Throwable t ) {\r\n      if ( session.getTransaction().getStatus() == TransactionStatus.ACTIVE ) {\r\n        session.getTransaction().rollback();\r\n      }\r\n      throw t;\r\n    }\r\n    finally {\r\n      session.close();\r\n    }\r\n\r\nAs you can see, we&#39;re not using `flush()` or `clear()` here.  \r\n\r\nWhat happens here is that as Hibernate performs the flush at commit time, the driver will send batch_size number of inserts to the database in bulk rather than each one individually.  So rather than 10,000 network packets being sent, if batch_size were 250 it would only send 40 packets.\r\n\r\nNow what is important to recognize is there are factors that can _disable_ batching such as using identity based identifiers like `IDENTITY` or `AUTO_INCREMENT`.  Why?\r\n\r\nThat is because in order for Hibernate to store the entity in the PersistenceContext, it must know the entity&#39;s ID and the only way to obtain that value when using `IDENTITY` based identifier generation is to actually query the database for the value after each insert operation.  Therefore, inserts cannot be batched.  \r\n\r\nThis is precisely why people doing bulk insert operations often observe poor performance because they don&#39;t realize the impact the identifier generation strategy they pick can have.\r\n\r\nIt&#39;s best to use some type of cached sequence generator or some manually application assigned identifier instead when you want to optimize batch loading.\r\n\r\nNow going back to your example using `flush()` and `clear()`, the same problems hold true with identifier generation strategy.  If you want those operations to be bulk/batch sent to the database, be mindful of the identifier strategy you&#39;re using for `Student`.","title":"Hibernate: Why should I manually flush() even if I set batch_size in configuration file?","body":"<p>The use specifying a JDBC batch_size value in the configuration versus manually controlling the flush/clear of the persistence context are two independent strategies and serve very different purposes.</p>\n<p>The primary goal for using <code>flush()</code> paired with <code>clear()</code> is to minimize the memory consumption on the java application side used by the PersistenceContext as you save your student records.  It's important to remember that when you're using a stateful <code>Session</code> as your example illustrates, Hibernate maintains an attached/managed copy of the entity in memory and so it's important to clear and flush this to the database at regular intervals to avoid running out of memory or impacting performance.</p>\n<p>The JDBC batch_size setting itself influences how frequent the actual driver flushes statements to the database in order to improve performance.  Let's take a slightly modified example:</p>\n<pre><code>Session session = sessionFactory.openSession();\ntry {\n  session.getTransaction().begin();\n  for ( int i = 0; i &lt; 10000; ++i ) {\n    Student student = new Student();\n    ...        \n    session.save( student );\n  }\n  session.getTransaction().commit();\n}\ncatch( Throwable t ) {\n  if ( session.getTransaction().getStatus() == TransactionStatus.ACTIVE ) {\n    session.getTransaction().rollback();\n  }\n  throw t;\n}\nfinally {\n  session.close();\n}\n</code></pre>\n<p>As you can see, we're not using <code>flush()</code> or <code>clear()</code> here.</p>\n<p>What happens here is that as Hibernate performs the flush at commit time, the driver will send batch_size number of inserts to the database in bulk rather than each one individually.  So rather than 10,000 network packets being sent, if batch_size were 250 it would only send 40 packets.</p>\n<p>Now what is important to recognize is there are factors that can <em>disable</em> batching such as using identity based identifiers like <code>IDENTITY</code> or <code>AUTO_INCREMENT</code>.  Why?</p>\n<p>That is because in order for Hibernate to store the entity in the PersistenceContext, it must know the entity's ID and the only way to obtain that value when using <code>IDENTITY</code> based identifier generation is to actually query the database for the value after each insert operation.  Therefore, inserts cannot be batched.</p>\n<p>This is precisely why people doing bulk insert operations often observe poor performance because they don't realize the impact the identifier generation strategy they pick can have.</p>\n<p>It's best to use some type of cached sequence generator or some manually application assigned identifier instead when you want to optimize batch loading.</p>\n<p>Now going back to your example using <code>flush()</code> and <code>clear()</code>, the same problems hold true with identifier generation strategy.  If you want those operations to be bulk/batch sent to the database, be mindful of the identifier strategy you're using for <code>Student</code>.</p>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557349197,"creation_date":1557349197,"answer_id":56048983,"question_id":45007743,"body_markdown":"Answer to your questions you asked in the description, as I have studied it, flush()-ing the batch/transaction is different than commit()-ing the transaction.\r\n\r\nYou are flushing the transactions after every 50 chunk, means you are **synchronizing** the transactions to the database as batch of 50. The chunk of 50 has been synchronized with the db but yet to commit.    \r\n                        But when you define the batch-size in configuration file, you are telling the Hibernate to **commit** the batch of 40 (assume you have set the batch size 40 in conf file.)","title":"Hibernate: Why should I manually flush() even if I set batch_size in configuration file?","body":"<p>Answer to your questions you asked in the description, as I have studied it, flush()-ing the batch/transaction is different than commit()-ing the transaction.</p>\n\n<p>You are flushing the transactions after every 50 chunk, means you are <strong>synchronizing</strong> the transactions to the database as batch of 50. The chunk of 50 has been synchronized with the db but yet to commit.<br>\n                        But when you define the batch-size in configuration file, you are telling the Hibernate to <strong>commit</strong> the batch of 40 (assume you have set the batch size 40 in conf file.)</p>\n"}],"owner":{"account_id":5613172,"reputation":717,"user_id":4445338,"accept_rate":100,"display_name":"Said A. Sryheni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4810,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45017844,"answer_count":3,"score":5,"last_activity_date":1698827546,"creation_date":1499677114,"question_id":45007743,"body_markdown":"I&#39;m learning to use java&#39;s hibernate 5.2.10. I started with a few tutorials online but faced the following question.\r\n\r\nWhen using batching, all the tutorials I have seen first set the `hibernate.jdbc.batch_size` in the configuration file. After that the code is similar to this:\r\n\r\n    Session session = SessionFactory.openSession();\r\n    Transaction tx = session.beginTransaction();\r\n    for ( int i=0; i&lt;1000000; i++ ) \r\n    {\r\n        Student student = new Student(.....);\r\n        session.save(employee);\r\n        if( i % 50 == 0 ) // Same as the JDBC batch size\r\n        { \r\n            //flush a batch of inserts and release memory:\r\n            session.flush();\r\n            session.clear();\r\n        }\r\n    }\r\n    tx.commit();\r\n    session.close();\r\n\r\nWhy should I be doing `flush()` and `clear()` manually? Isn&#39;t this something that should be done automatically by hibernate since I have already set `hibernate.jdbc.batch_size` in the configuration file?\r\n\r\nFor me it seems like I&#39;m batching my operations manually, so why do I have to set the value of `hibernate.jdbc.batch_size` then?","title":"Hibernate: Why should I manually flush() even if I set batch_size in configuration file?","body":"<p>I'm learning to use java's hibernate 5.2.10. I started with a few tutorials online but faced the following question.</p>\n\n<p>When using batching, all the tutorials I have seen first set the <code>hibernate.jdbc.batch_size</code> in the configuration file. After that the code is similar to this:</p>\n\n<pre><code>Session session = SessionFactory.openSession();\nTransaction tx = session.beginTransaction();\nfor ( int i=0; i&lt;1000000; i++ ) \n{\n    Student student = new Student(.....);\n    session.save(employee);\n    if( i % 50 == 0 ) // Same as the JDBC batch size\n    { \n        //flush a batch of inserts and release memory:\n        session.flush();\n        session.clear();\n    }\n}\ntx.commit();\nsession.close();\n</code></pre>\n\n<p>Why should I be doing <code>flush()</code> and <code>clear()</code> manually? Isn't this something that should be done automatically by hibernate since I have already set <code>hibernate.jdbc.batch_size</code> in the configuration file?</p>\n\n<p>For me it seems like I'm batching my operations manually, so why do I have to set the value of <code>hibernate.jdbc.batch_size</code> then?</p>\n"},{"tags":["java","swing","jxbrowser"],"answers":[{"tags":[],"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698826815,"creation_date":1698826815,"answer_id":77401212,"question_id":77376046,"body_markdown":"JxBrowser doesn&#39;t support extensions at the moment. This feature has been in the roadmap for a long time and, hopefully, will be released this year. We&#39;re finishing it up.\r\n\r\nIf you are a license holder (a trial license will do), there are preview builds already available. Reach out to the company to get one.\r\n\r\nThis particular extension, Windows Accounts, works well. We checked it.\r\n\r\nHere&#39;s the an example of the new API:\r\n\r\n```java\r\n// Install the extension from URL or CRX file.\r\nExtension extension = profile.install(UBLOCK_URL); \r\n\r\n// Work with the extension action (it&#39;s like an icon in the extension toolbar in Chrome).\r\nExtensionAction action = extension.action(browser);\r\n\r\n// Click on the &quot;icon&quot;.\r\naction.click();\r\n\r\nbrowser.set(OpenExtensionActionPopupCallback.class, (params) -&gt; {\r\n  // Allow extension to open a popup after a click on the action.\r\n  return Response.open();\r\n});\r\n\r\n```","title":"Does JXBrowser support loading chrome extensions?","body":"<p>JxBrowser doesn't support extensions at the moment. This feature has been in the roadmap for a long time and, hopefully, will be released this year. We're finishing it up.</p>\n<p>If you are a license holder (a trial license will do), there are preview builds already available. Reach out to the company to get one.</p>\n<p>This particular extension, Windows Accounts, works well. We checked it.</p>\n<p>Here's the an example of the new API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Install the extension from URL or CRX file.\nExtension extension = profile.install(UBLOCK_URL); \n\n// Work with the extension action (it's like an icon in the extension toolbar in Chrome).\nExtensionAction action = extension.action(browser);\n\n// Click on the &quot;icon&quot;.\naction.click();\n\nbrowser.set(OpenExtensionActionPopupCallback.class, (params) -&gt; {\n  // Allow extension to open a popup after a click on the action.\n  return Response.open();\n});\n\n</code></pre>\n"}],"owner":{"account_id":27669888,"reputation":33,"user_id":21120949,"display_name":"Jakub Kochański"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77401212,"answer_count":1,"score":3,"last_activity_date":1698826815,"creation_date":1698427744,"question_id":77376046,"body_markdown":"I need to allow Windows Accounts chrome [extension](https://chrome.google.com/webstore/detail/windows-accounts/ppnbnpeolgkicgegkbkbjmhlideopiji) to be loaded into JXBrowser. Is there a way to achieve that or allow Conditional Access Policy to be supported by JXBrowser?\r\n\r\nI use JXBrowser in version 7.35.2.\r\n\r\n1) Use EngineOptions.Builder addSwitch [API](https://jxbrowser-support.teamdev.com/docs/guides/engine.html#chromium-switches) with --load-extension switch\r\n2) Use EngineOptions.Builder userDataDir [API](https://jxbrowser-support.teamdev.com/docs/guides/engine.html#user-data-directory) and point it to directory, in which google chrome stores its data ($home/.config/google-chrome)\r\n3) Download extension into a launched JXBrowser instance by manually navigating to chrome web store.\r\n\r\nWhat I&#39;ve expected with each of these approaches is to have Windows Accounts extension installed into chromium. Unfortunately, the extension did not get loaded.","title":"Does JXBrowser support loading chrome extensions?","body":"<p>I need to allow Windows Accounts chrome <a href=\"https://chrome.google.com/webstore/detail/windows-accounts/ppnbnpeolgkicgegkbkbjmhlideopiji\" rel=\"nofollow noreferrer\">extension</a> to be loaded into JXBrowser. Is there a way to achieve that or allow Conditional Access Policy to be supported by JXBrowser?</p>\n<p>I use JXBrowser in version 7.35.2.</p>\n<ol>\n<li>Use EngineOptions.Builder addSwitch <a href=\"https://jxbrowser-support.teamdev.com/docs/guides/engine.html#chromium-switches\" rel=\"nofollow noreferrer\">API</a> with --load-extension switch</li>\n<li>Use EngineOptions.Builder userDataDir <a href=\"https://jxbrowser-support.teamdev.com/docs/guides/engine.html#user-data-directory\" rel=\"nofollow noreferrer\">API</a> and point it to directory, in which google chrome stores its data ($home/.config/google-chrome)</li>\n<li>Download extension into a launched JXBrowser instance by manually navigating to chrome web store.</li>\n</ol>\n<p>What I've expected with each of these approaches is to have Windows Accounts extension installed into chromium. Unfortunately, the extension did not get loaded.</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698827289,"post_id":77399803,"comment_id":136453158,"body_markdown":"Study [modena.css](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css).   [css reference](https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/doc-files/cssref.html). [oracle tutorial](https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/apply-css.htm#CHDGHCDG).  Then practice (a lot).  There is no shortcut. CSS in JavaFX 21 and 8 is almost identical, as long as it uses modena, it is not outdated and tutorials and rules will still apply.","body":"Study <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\" rel=\"nofollow noreferrer\">modena.css</a>.   <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/doc-files/cssref.html\" rel=\"nofollow noreferrer\">css reference</a>. <a href=\"https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/apply-css.htm#CHDGHCDG\" rel=\"nofollow noreferrer\">oracle tutorial</a>.  Then practice (a lot).  There is no shortcut. CSS in JavaFX 21 and 8 is almost identical, as long as it uses modena, it is not outdated and tutorials and rules will still apply."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1698827729,"post_id":77399803,"comment_id":136453229,"body_markdown":"Prefer style sheets over coded or inline styles almost always.","body":"Prefer style sheets over coded or inline styles almost always."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1698838201,"post_id":77399803,"comment_id":136454898,"body_markdown":"What specifically does not work when you use an external style sheet?","body":"What specifically does not work when you use an external style sheet?"},{"owner":{"account_id":16599007,"reputation":11,"user_id":11995233,"display_name":"George Economou"},"score":1,"creation_date":1698857300,"post_id":77399803,"comment_id":136458889,"body_markdown":"Thank you. I haven&#39;t used a style sheet. I&#39;ve just done everything short of that. I was just hoping to setup the framework of what I&#39;m working on in Java alone before learning CSS to do so. I recognize why it would be better, I&#39;ve simply never used it before. It seems like I have to, though, because now this is gonna bug me.","body":"Thank you. I haven&#39;t used a style sheet. I&#39;ve just done everything short of that. I was just hoping to setup the framework of what I&#39;m working on in Java alone before learning CSS to do so. I recognize why it would be better, I&#39;ve simply never used it before. It seems like I have to, though, because now this is gonna bug me."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698810303,"creation_date":1698810303,"answer_id":77400239,"question_id":77399803,"body_markdown":"The style class for the label is `color-picker-label`. You can set the desired color of the label in the css file as below:\r\n\r\n    .color-picker .color-picker-label {\r\n        -fx-text-fill: #FFFFFF;\r\n    }\r\n\r\nHowever, if you are looking to set these colors dynamically, you can create a variable in css for the colors you want. And only update these variables in progrom using `setStyle()`.\r\n\r\nFor demonstration purpose, you can check the below demo code, that updates the background and foreground color of the color picker based on the value it has. I hope this can provide you some direction.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ColorPicker;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ColorPickerDemo extends Application {\r\n        // YOu can keep the below code in the css file also.\r\n        public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\r\n                &quot;&quot;&quot;\r\n                        .color-picker{\r\n                            -fx-cp-background: #000000;\r\n                            -fx-cp-foreground: #FFFFFF;\r\n                            -fx-background-color: -fx-cp-background;\r\n                            -fx-border-color: -fx-cp-foreground;\r\n                        }\r\n                        \r\n                        .color-picker .color-picker-label {\r\n                            -fx-text-fill: -fx-cp-foreground;\r\n                        }\r\n                        \r\n                        .color-picker .picker-color-rect{\r\n                            -fx-stroke: -fx-cp-foreground;\r\n                        }\r\n                        &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            ColorPicker colorPicker = new ColorPicker(Color.BLACK);\r\n            colorPicker.valueProperty().addListener((obs, old, color) -&gt; {\r\n                String bg = toHexString(color);\r\n                String contrast = toHexString(color.invert());\r\n                colorPicker.setStyle(&quot;-fx-cp-background:&quot; + bg + &quot;;-fx-cp-foreground:&quot; + contrast + &quot;;&quot;);\r\n            });\r\n    \r\n            StackPane root = new StackPane(colorPicker);\r\n            Scene scene = new Scene(root, 250, 200);\r\n            scene.getStylesheets().add(CSS);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;ColorPicker&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        // The below code is picked from StackOverflow\r\n        public String toHexString(Color value) {\r\n            return &quot;#&quot; + (format(value.getRed()) + format(value.getGreen()) + format(value.getBlue()) + format(value.getOpacity()))\r\n                    .toUpperCase();\r\n        }\r\n    \r\n        private String format(double val) {\r\n            String in = Integer.toHexString((int) Math.round(val * 255));\r\n            return in.length() == 1 ? &quot;0&quot; + in : in;\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HbOcu.gif","title":"Is the text label of a ColorPicker in Javafx customizable?","body":"<p>The style class for the label is <code>color-picker-label</code>. You can set the desired color of the label in the css file as below:</p>\n<pre><code>.color-picker .color-picker-label {\n    -fx-text-fill: #FFFFFF;\n}\n</code></pre>\n<p>However, if you are looking to set these colors dynamically, you can create a variable in css for the colors you want. And only update these variables in progrom using <code>setStyle()</code>.</p>\n<p>For demonstration purpose, you can check the below demo code, that updates the background and foreground color of the color picker based on the value it has. I hope this can provide you some direction.</p>\n<p><a href=\"https://i.stack.imgur.com/HbOcu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbOcu.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class ColorPickerDemo extends Application {\n    // YOu can keep the below code in the css file also.\n    public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\n            &quot;&quot;&quot;\n                    .color-picker{\n                        -fx-cp-background: #000000;\n                        -fx-cp-foreground: #FFFFFF;\n                        -fx-background-color: -fx-cp-background;\n                        -fx-border-color: -fx-cp-foreground;\n                    }\n                    \n                    .color-picker .color-picker-label {\n                        -fx-text-fill: -fx-cp-foreground;\n                    }\n                    \n                    .color-picker .picker-color-rect{\n                        -fx-stroke: -fx-cp-foreground;\n                    }\n                    &quot;&quot;&quot;;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        ColorPicker colorPicker = new ColorPicker(Color.BLACK);\n        colorPicker.valueProperty().addListener((obs, old, color) -&gt; {\n            String bg = toHexString(color);\n            String contrast = toHexString(color.invert());\n            colorPicker.setStyle(&quot;-fx-cp-background:&quot; + bg + &quot;;-fx-cp-foreground:&quot; + contrast + &quot;;&quot;);\n        });\n\n        StackPane root = new StackPane(colorPicker);\n        Scene scene = new Scene(root, 250, 200);\n        scene.getStylesheets().add(CSS);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;ColorPicker&quot;);\n        primaryStage.show();\n    }\n\n    // The below code is picked from StackOverflow\n    public String toHexString(Color value) {\n        return &quot;#&quot; + (format(value.getRed()) + format(value.getGreen()) + format(value.getBlue()) + format(value.getOpacity()))\n                .toUpperCase();\n    }\n\n    private String format(double val) {\n        String in = Integer.toHexString((int) Math.round(val * 255));\n        return in.length() == 1 ? &quot;0&quot; + in : in;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698826361,"creation_date":1698825452,"answer_id":77401100,"question_id":77399803,"body_markdown":"**Preface:**\r\n\r\nJust a summary of my comment above. \r\n\r\n**Explanation:**\r\n\r\nWhy does your way not work? I hope you are familiar with FXML or at least HTML. There are standalone tags (components) like label or div (HTML), but there are also tags like Colorpicker or media (HTML), which are a summary of many other tags.\r\n\r\nA Colorpicker has a Label component inside it (in HTML you would say in its Shadow Dom). \r\n\r\nWith setStyle() you can only apply CSS to the root element itself (e.g. Colorpicker), but NOT to their child elements (Label). \r\n\r\nSo you have to create a CSS file in which you CAN specify the styling of child elements.\r\n\r\nThis `.color-picker{...}` means &quot;put style on ColorPicker.\r\n\r\nThis  `.color-picker .color-picker-label {...}` means &quot;put style on all ColorPickerLabels inside ColorPicker&quot;.\r\n\r\n\r\n**Solution:**\r\n\r\nStep 1: Create a **CSS FILE** as String\r\n\r\n    public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\r\n                &quot;&quot;&quot;\r\n                        .color-picker{\r\n                            -fx-cp-background: #000000;\r\n                            -fx-cp-foreground: #FFFFFF;\r\n                            -fx-background-color: -fx-cp-background;\r\n                            -fx-border-color: -fx-cp-foreground;\r\n                        }\r\n                        \r\n                        .color-picker .color-picker-label {\r\n                            -fx-text-fill: -fx-cp-foreground;\r\n                        }\r\n                        \r\n                        .color-picker .picker-color-rect{\r\n                            -fx-stroke: -fx-cp-foreground;\r\n                        }\r\n                        &quot;&quot;&quot;;\r\n\r\nStep 2: Add the CSS FILE to your Scene\r\n\r\n`scene.getStylesheets().add(CSS)`;\r\n\r\nNote: \r\n\r\nThis `&quot;data:text/css,&quot;` must be the first part of your CSS String. Do not forget it!\r\n\r\n","title":"Is the text label of a ColorPicker in Javafx customizable?","body":"<p><strong>Preface:</strong></p>\n<p>Just a summary of my comment above.</p>\n<p><strong>Explanation:</strong></p>\n<p>Why does your way not work? I hope you are familiar with FXML or at least HTML. There are standalone tags (components) like label or div (HTML), but there are also tags like Colorpicker or media (HTML), which are a summary of many other tags.</p>\n<p>A Colorpicker has a Label component inside it (in HTML you would say in its Shadow Dom).</p>\n<p>With setStyle() you can only apply CSS to the root element itself (e.g. Colorpicker), but NOT to their child elements (Label).</p>\n<p>So you have to create a CSS file in which you CAN specify the styling of child elements.</p>\n<p>This <code>.color-picker{...}</code> means &quot;put style on ColorPicker.</p>\n<p>This  <code>.color-picker .color-picker-label {...}</code> means &quot;put style on all ColorPickerLabels inside ColorPicker&quot;.</p>\n<p><strong>Solution:</strong></p>\n<p>Step 1: Create a <strong>CSS FILE</strong> as String</p>\n<pre><code>public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\n            &quot;&quot;&quot;\n                    .color-picker{\n                        -fx-cp-background: #000000;\n                        -fx-cp-foreground: #FFFFFF;\n                        -fx-background-color: -fx-cp-background;\n                        -fx-border-color: -fx-cp-foreground;\n                    }\n                    \n                    .color-picker .color-picker-label {\n                        -fx-text-fill: -fx-cp-foreground;\n                    }\n                    \n                    .color-picker .picker-color-rect{\n                        -fx-stroke: -fx-cp-foreground;\n                    }\n                    &quot;&quot;&quot;;\n</code></pre>\n<p>Step 2: Add the CSS FILE to your Scene</p>\n<p><code>scene.getStylesheets().add(CSS)</code>;</p>\n<p>Note:</p>\n<p>This <code>&quot;data:text/css,&quot;</code> must be the first part of your CSS String. Do not forget it!</p>\n"}],"owner":{"account_id":16599007,"reputation":11,"user_id":11995233,"display_name":"George Economou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698826361,"creation_date":1698800661,"question_id":77399803,"body_markdown":"Let me be clear that I am *not* trying to use the output of a ColorPicker with this question. I figured out how to do that. I&#39;m just trying to modify it.\r\n\r\nBy default, the ColorPicker has a white-ish background with a black-ish text color.\r\n\r\nThe only thing that isn&#39;t default about this is the fact that I&#39;ve assigned the starting color to be black.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPerusing the javadocs has led me to finding that I can change the borders and the background of the ColorPicker just fine:\r\n\r\n```Color color = new Color(0, 0, 0, 1);\r\nColor contrast = color.invert();\r\n\r\ncolorPicker.setBorder(new Border(new BorderStroke(contrast, BorderStrokeStyle.SOLID, null, null)));\r\ncolorPicker.setBackground(new Background(new BackgroundFill(color, null, null)));\r\n```\r\n\r\nThat gets you the following:\r\n\r\nMoved onto a black background so you can see the white border.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nQuestions like these (https://stackoverflow.com/questions/58792858/javafx-colorpicker-customizable-via-css) that have images of people having done this before have led me to believe that this is possible. Perhaps they are dated (I&#39;m using javafx v21). However, despite my best efforts, I haven&#39;t manage to accomplish something similar to this using either built-in methods or css through `colorPicker.setStyle()`. I&#39;ve tried most of what I can think of *aside from* making an entire css stylesheet, which I think is overkill (which is my way of implying that I have no idea how to do that, so if you have suggestions for tutorials on how to create css stylesheets, I would appreciate them, since most of the ones I&#39;ve found talk about using css once you&#39;ve set it up instead of how to integrate it into a Java project, which is the part I need a tutorial on because picking up a language is not what I&#39;m confused about with these things).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CyUh9.png\r\n  [2]: https://i.stack.imgur.com/TgX3R.png","title":"Is the text label of a ColorPicker in Javafx customizable?","body":"<p>Let me be clear that I am <em>not</em> trying to use the output of a ColorPicker with this question. I figured out how to do that. I'm just trying to modify it.</p>\n<p>By default, the ColorPicker has a white-ish background with a black-ish text color.</p>\n<p>The only thing that isn't default about this is the fact that I've assigned the starting color to be black.</p>\n<p><a href=\"https://i.stack.imgur.com/CyUh9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyUh9.png\" alt=\"enter image description here\" /></a></p>\n<p>Perusing the javadocs has led me to finding that I can change the borders and the background of the ColorPicker just fine:</p>\n<pre><code>Color contrast = color.invert();\n\ncolorPicker.setBorder(new Border(new BorderStroke(contrast, BorderStrokeStyle.SOLID, null, null)));\ncolorPicker.setBackground(new Background(new BackgroundFill(color, null, null)));\n</code></pre>\n<p>That gets you the following:</p>\n<p>Moved onto a black background so you can see the white border.</p>\n<p><a href=\"https://i.stack.imgur.com/TgX3R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TgX3R.png\" alt=\"enter image description here\" /></a></p>\n<p>Questions like these (<a href=\"https://stackoverflow.com/questions/58792858/javafx-colorpicker-customizable-via-css\">JavaFX ColorPicker customizable via CSS</a>) that have images of people having done this before have led me to believe that this is possible. Perhaps they are dated (I'm using javafx v21). However, despite my best efforts, I haven't manage to accomplish something similar to this using either built-in methods or css through <code>colorPicker.setStyle()</code>. I've tried most of what I can think of <em>aside from</em> making an entire css stylesheet, which I think is overkill (which is my way of implying that I have no idea how to do that, so if you have suggestions for tutorials on how to create css stylesheets, I would appreciate them, since most of the ones I've found talk about using css once you've set it up instead of how to integrate it into a Java project, which is the part I need a tutorial on because picking up a language is not what I'm confused about with these things).</p>\n"},{"tags":["java","linux","ubuntu","javafx","javasound"],"comments":[{"owner":{"account_id":19607000,"reputation":45,"user_id":14350432,"display_name":"Daniel Hardeman"},"score":0,"creation_date":1698494676,"post_id":77378128,"comment_id":136414637,"body_markdown":"Thanks everyone for the replies so far. I will look into trying out AudioClip and see how that works. The thing is, I am not getting any errors, the sounds are technically working using MediaPlayers, it is just that for whatever reason, the audio playback for a couple of the sounds is either not playing back the full sound (the audio cuts out) or the volume drops even though the MediaPlayer&#39;s actual volume attribute is not lowered. As for creating a new MediaPlayer each time a sound needs to be played, I tried that, but due I found that it caused lag when there is rapid user input.","body":"Thanks everyone for the replies so far. I will look into trying out AudioClip and see how that works. The thing is, I am not getting any errors, the sounds are technically working using MediaPlayers, it is just that for whatever reason, the audio playback for a couple of the sounds is either not playing back the full sound (the audio cuts out) or the volume drops even though the MediaPlayer&#39;s actual volume attribute is not lowered. As for creating a new MediaPlayer each time a sound needs to be played, I tried that, but due I found that it caused lag when there is rapid user input."},{"owner":{"account_id":19607000,"reputation":45,"user_id":14350432,"display_name":"Daniel Hardeman"},"score":0,"creation_date":1698494703,"post_id":77378128,"comment_id":136414640,"body_markdown":"I will also try different JDK&#39;s and see if that helps and will try a different Linux distro in virtual box on my windows to see if it is merely an issue with my specific laptop on the hardware end not playing nice with Linux, which I suspect for a few reasons. Thanks.","body":"I will also try different JDK&#39;s and see if that helps and will try a different Linux distro in virtual box on my windows to see if it is merely an issue with my specific laptop on the hardware end not playing nice with Linux, which I suspect for a few reasons. Thanks."},{"owner":{"account_id":19607000,"reputation":45,"user_id":14350432,"display_name":"Daniel Hardeman"},"score":1,"creation_date":1698594673,"post_id":77378128,"comment_id":136422575,"body_markdown":"Thanks for the suggestions. I ended up using AudioClips instead of MediaPlayers as it seems they are designed more for creating and object once and then using that same instance for repeated playback rather than creating and disposing of MediaPlayers. Everything is working great now.","body":"Thanks for the suggestions. I ended up using AudioClips instead of MediaPlayers as it seems they are designed more for creating and object once and then using that same instance for repeated playback rather than creating and disposing of MediaPlayers. Everything is working great now."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698594024,"creation_date":1698594024,"answer_id":77384014,"question_id":77378128,"body_markdown":"The open-source *[AudioCue][1]* library ([obtainable via Maven][2]) is basically a `Clip` that has been written to support multi-threading. It should work for you, and is free to use.\r\n\r\nThere are multiple good points in the comments (which are supposed to be for asking questions and clarifications of the original post, afaik) that seem to me could well be listed as &quot;answers. My answer here will duplicate some of those points.\r\n\r\nFor short cues, prefer a class which is just loaded one time only and can played back multiple times directly from memory: `Clip`, `AudioClip`, to classes which require reading from files or other forms of streaming: `SourceDataLine`, `MediaPlayer`.\r\n\r\nThe nice thing about `AudioClip` is that it *does* support concurrent playback, unlike `Clip` or the streaming playback methods. So, you can take the same `AudioClip` and play it multiple times without first calling a `stop` method and repositioning its playback position. Each iteration should play through to the end.\r\n\r\nThere was a time when some Linux operating systems would only allow a single sound source to play at a given moment, but that was quite a while ago. IDK if that might be the issue for the particular OS configuration you are testing. If it is, going back to the `AudioCue` library I mentioned at the start, it has a class, `AudioMixer`, for funneling all the sound cues into a single output line which would be a workaround for that situation.\r\n\r\n\r\n  [1]: https://github.com/philfrei/AudioCue-maven\r\n  [2]: https://mvnrepository.com/artifact/com.adonax/audiocue","title":"Why is JavaFX MediaPlayer audio playback working perfectly on windows and mac, but having issues on Linux (popOS/Ubuntu)?","body":"<p>The open-source <em><a href=\"https://github.com/philfrei/AudioCue-maven\" rel=\"nofollow noreferrer\">AudioCue</a></em> library (<a href=\"https://mvnrepository.com/artifact/com.adonax/audiocue\" rel=\"nofollow noreferrer\">obtainable via Maven</a>) is basically a <code>Clip</code> that has been written to support multi-threading. It should work for you, and is free to use.</p>\n<p>There are multiple good points in the comments (which are supposed to be for asking questions and clarifications of the original post, afaik) that seem to me could well be listed as &quot;answers. My answer here will duplicate some of those points.</p>\n<p>For short cues, prefer a class which is just loaded one time only and can played back multiple times directly from memory: <code>Clip</code>, <code>AudioClip</code>, to classes which require reading from files or other forms of streaming: <code>SourceDataLine</code>, <code>MediaPlayer</code>.</p>\n<p>The nice thing about <code>AudioClip</code> is that it <em>does</em> support concurrent playback, unlike <code>Clip</code> or the streaming playback methods. So, you can take the same <code>AudioClip</code> and play it multiple times without first calling a <code>stop</code> method and repositioning its playback position. Each iteration should play through to the end.</p>\n<p>There was a time when some Linux operating systems would only allow a single sound source to play at a given moment, but that was quite a while ago. IDK if that might be the issue for the particular OS configuration you are testing. If it is, going back to the <code>AudioCue</code> library I mentioned at the start, it has a class, <code>AudioMixer</code>, for funneling all the sound cues into a single output line which would be a workaround for that situation.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698826216,"creation_date":1698700304,"answer_id":77391861,"question_id":77378128,"body_markdown":"I moved my and Slaw&#39;s notes from comments to an answer.  They might not solve the actual issue, instead, they are guides to troubleshooting some issues with JavaFX Media playback.\r\n\r\n**Use AudioClip for short audio playback**\r\n\r\n[`javafx.scene.media.AudioClip`][1] is typically more appropriate for short sound effects.\r\n\r\nSee further explanation in [Phil&#39;s answer][2] and also the description from the `AudioClip` javadoc:\r\n\r\n&gt; An AudioClip represents a segment of audio that can be played with minimal latency. Clips are loaded similarly to Media objects but have different behavior, for example, a Media cannot play itself. AudioClips are also usable immediately. Playback behavior is fire and forget: once one of the play methods is called the only operable control is stop(). An AudioClip may also be played multiple times simultaneously. \r\n&gt; \r\n&gt; To accomplish the same task using Media one would have to create a new MediaPlayer object for each sound played in parallel. Media objects are however better suited for long-playing sounds. This is primarily because AudioClip stores in memory the raw, uncompressed audio data for the entire sound, which can be quite large for long audio clips. A MediaPlayer will only have enough decompressed audio data pre-rolled in memory to play for a short amount of time so it is much more memory efficient for long clips, especially if they are compressed.\r\n\r\nAs noted in comments:\r\n\r\n&gt; I ended up using AudioClips instead of MediaPlayers as it seems they are designed more for creating and object once and then using that same instance for repeated playback rather than creating and disposing of MediaPlayers. Everything is working great now.\r\n\r\n**Implement error handling for MediaPlayers**\r\n\r\n&gt; I am not getting any errors \r\n\r\nThere is error handling code in the [media package javadoc][3]. Try it and see if it reports anything.\r\n\r\nMost media errors are not reported if handled by default, it can just silently fail.  If you want to report and handle them thoroughly, then you need to implement the full and extensive media exception logic from the media player package documentation. \r\n\r\nOf course, even then there may still be no actual error reported if the issue is actually in your code or the system does not accurately detect and provide feedback for a problem.\r\n\r\n**Check your code logic for correctness**\r\n\r\n&gt; not playing back the full sound (the audio cuts out) \r\n\r\nYour code stops the player. then starts playing from the start. Depending on timing of calls, cutting off existing sounds before they complete playing would be expected. \r\n\r\n**Disregard `java.sound` APIs and documentation if you don&#39;t use them**\r\n\r\n`java.sound` isn&#39;t related to JavaFX media, configuring it won&#39;t help you with the playing sounds using the JavaFX `MediaPlayer` or `AudioClip` APIs. \r\n\r\n**Consider asynchronous operation**\r\n\r\nUnlike a lot of things in JavaFX where the framework is mostly single-threaded, when you look at the [MediaPlayer doc][4], it notes that: \r\n\r\n&gt; The operation of a MediaPlayer is inherently asynchronous.\r\n\r\nUsually, you don&#39;t need to worry much about this, but it could be causing issues in your case on your platform. Methods like `seek` won&#39;t work if the player is in an [`UNKNOWN`][5] state. \r\n\r\n**Consider creating new MediaPlayers rather than reusing them**\r\n\r\nRather than reusing MediaPlayers, you could create a new one each time you use one if they are getting into a broken state on your platform after repeated use as you describe. But I guess avoid that if possible as it may take time and resources to ready the players each time a new one is created. \r\n\r\nAs noted by the asker:\r\n\r\n&gt; As for creating a new MediaPlayer each time a sound needs to be played, I tried that, but due I found that it caused lag when there is rapid user input.\r\n\r\n**Ensure you have the correct native platform dependencies installed**\r\n\r\nJavaFX media uses [GStreamer Lite][6] for playback (the media module ships with the native gstreamer library, you don&#39;t need to install it). It may have some dependencies on other components in the OS. For instance [JavaFX 21 requires GTK 3][7]. But I don&#39;t know what those dependencies may be and what you would do if the unknown dependencies aren&#39;t met :-)\r\n\r\nPerhaps try installing a packaged JDK that includes JavaFX for your Linux platform (like [Liberica Full JDK][8]) from a native package type for the platform (like an RPM or DEB). If it is properly packaged, the package manager would ensure any native dependencies are installed at the right versions on the platform. I don&#39;t know if this would make any difference for you, but may be something to consider.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/AudioClip.html\r\n  [2]: https://stackoverflow.com/a/77384014/1155209\r\n  [3]: https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/package-summary.html\r\n  [4]: https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/MediaPlayer.html\r\n  [5]: https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/MediaPlayer.Status.html#UNKNOWN\r\n  [6]: https://gstreamer.freedesktop.org/download/\r\n  [7]: https://gluonhq.com/products/javafx/openjfx-21-release-notes/\r\n  [8]: https://bell-sw.com/pages/downloads/","title":"Why is JavaFX MediaPlayer audio playback working perfectly on windows and mac, but having issues on Linux (popOS/Ubuntu)?","body":"<p>I moved my and Slaw's notes from comments to an answer.  They might not solve the actual issue, instead, they are guides to troubleshooting some issues with JavaFX Media playback.</p>\n<p><strong>Use AudioClip for short audio playback</strong></p>\n<p><a href=\"https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/AudioClip.html\" rel=\"nofollow noreferrer\"><code>javafx.scene.media.AudioClip</code></a> is typically more appropriate for short sound effects.</p>\n<p>See further explanation in <a href=\"https://stackoverflow.com/a/77384014/1155209\">Phil's answer</a> and also the description from the <code>AudioClip</code> javadoc:</p>\n<blockquote>\n<p>An AudioClip represents a segment of audio that can be played with minimal latency. Clips are loaded similarly to Media objects but have different behavior, for example, a Media cannot play itself. AudioClips are also usable immediately. Playback behavior is fire and forget: once one of the play methods is called the only operable control is stop(). An AudioClip may also be played multiple times simultaneously.</p>\n<p>To accomplish the same task using Media one would have to create a new MediaPlayer object for each sound played in parallel. Media objects are however better suited for long-playing sounds. This is primarily because AudioClip stores in memory the raw, uncompressed audio data for the entire sound, which can be quite large for long audio clips. A MediaPlayer will only have enough decompressed audio data pre-rolled in memory to play for a short amount of time so it is much more memory efficient for long clips, especially if they are compressed.</p>\n</blockquote>\n<p>As noted in comments:</p>\n<blockquote>\n<p>I ended up using AudioClips instead of MediaPlayers as it seems they are designed more for creating and object once and then using that same instance for repeated playback rather than creating and disposing of MediaPlayers. Everything is working great now.</p>\n</blockquote>\n<p><strong>Implement error handling for MediaPlayers</strong></p>\n<blockquote>\n<p>I am not getting any errors</p>\n</blockquote>\n<p>There is error handling code in the <a href=\"https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/package-summary.html\" rel=\"nofollow noreferrer\">media package javadoc</a>. Try it and see if it reports anything.</p>\n<p>Most media errors are not reported if handled by default, it can just silently fail.  If you want to report and handle them thoroughly, then you need to implement the full and extensive media exception logic from the media player package documentation.</p>\n<p>Of course, even then there may still be no actual error reported if the issue is actually in your code or the system does not accurately detect and provide feedback for a problem.</p>\n<p><strong>Check your code logic for correctness</strong></p>\n<blockquote>\n<p>not playing back the full sound (the audio cuts out)</p>\n</blockquote>\n<p>Your code stops the player. then starts playing from the start. Depending on timing of calls, cutting off existing sounds before they complete playing would be expected.</p>\n<p><strong>Disregard <code>java.sound</code> APIs and documentation if you don't use them</strong></p>\n<p><code>java.sound</code> isn't related to JavaFX media, configuring it won't help you with the playing sounds using the JavaFX <code>MediaPlayer</code> or <code>AudioClip</code> APIs.</p>\n<p><strong>Consider asynchronous operation</strong></p>\n<p>Unlike a lot of things in JavaFX where the framework is mostly single-threaded, when you look at the <a href=\"https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/MediaPlayer.html\" rel=\"nofollow noreferrer\">MediaPlayer doc</a>, it notes that:</p>\n<blockquote>\n<p>The operation of a MediaPlayer is inherently asynchronous.</p>\n</blockquote>\n<p>Usually, you don't need to worry much about this, but it could be causing issues in your case on your platform. Methods like <code>seek</code> won't work if the player is in an <a href=\"https://openjfx.io/javadoc/21/javafx.media/javafx/scene/media/MediaPlayer.Status.html#UNKNOWN\" rel=\"nofollow noreferrer\"><code>UNKNOWN</code></a> state.</p>\n<p><strong>Consider creating new MediaPlayers rather than reusing them</strong></p>\n<p>Rather than reusing MediaPlayers, you could create a new one each time you use one if they are getting into a broken state on your platform after repeated use as you describe. But I guess avoid that if possible as it may take time and resources to ready the players each time a new one is created.</p>\n<p>As noted by the asker:</p>\n<blockquote>\n<p>As for creating a new MediaPlayer each time a sound needs to be played, I tried that, but due I found that it caused lag when there is rapid user input.</p>\n</blockquote>\n<p><strong>Ensure you have the correct native platform dependencies installed</strong></p>\n<p>JavaFX media uses <a href=\"https://gstreamer.freedesktop.org/download/\" rel=\"nofollow noreferrer\">GStreamer Lite</a> for playback (the media module ships with the native gstreamer library, you don't need to install it). It may have some dependencies on other components in the OS. For instance <a href=\"https://gluonhq.com/products/javafx/openjfx-21-release-notes/\" rel=\"nofollow noreferrer\">JavaFX 21 requires GTK 3</a>. But I don't know what those dependencies may be and what you would do if the unknown dependencies aren't met :-)</p>\n<p>Perhaps try installing a packaged JDK that includes JavaFX for your Linux platform (like <a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">Liberica Full JDK</a>) from a native package type for the platform (like an RPM or DEB). If it is properly packaged, the package manager would ensure any native dependencies are installed at the right versions on the platform. I don't know if this would make any difference for you, but may be something to consider.</p>\n"}],"owner":{"account_id":19607000,"reputation":45,"user_id":14350432,"display_name":"Daniel Hardeman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77384014,"answer_count":2,"score":2,"last_activity_date":1698826216,"creation_date":1698470318,"question_id":77378128,"body_markdown":"I have a JavaFX Tetris game that uses the MediaPlayer class to play music and sound effects. Specifically, in my SoundPlayer class that handles all audio, I load in the game&#39;s .wav files when game is started, and iterate each file, creating a Media object for each one, and then a MediaPlayer object for each Media object. The MediaPlayers, one for each sound, are stored in an array for future playback using the class&#39;s playSound method that accepts an integer argument that indicates the index of the MediaPlayer that corresponds to the desired sound effect. It works perfectly on windows and mac, but on my laptop that runs popOS, while it technically works, it has the following issues:\r\n\r\n- when the game launches, some sounds will play correctly, but after a few times of playing, the playback volume will become so quiet that you can barely hear it, even though the actual volume attribute of the MediaPlayer does not change\r\n\r\n- some sounds do not play the entire sound, only playing part of it.\r\n\r\nThe background music and most sounds work correctly, but for some, these issues occur.\r\nHere is my code for playing a sound when triggered by the game:\r\n\r\n\r\n```\r\npublic void playSound(int index)\r\n{\r\n     MediaPlayer mediaPlayer = mediaPlayerList[index];\r\n     mediaPlayer.stop();\r\n     mediaPlayer.seek(Duration.ZERO);\r\n     mediaPlayer.play();\r\n}\r\n```\r\n\r\n\r\nThis works perfectly on my other computers, but I only have this issue on my popOS laptop.\r\nDoes anyone know if this is a Linux issue with the way Java.sound works, or if perhaps it is an issue with my laptop hardware? I have tried configuring the java.sound.config file to no avail and am at a loss.\r\n\r\nAs stated above, I have tried looking up fixes for java.sound config file and nothing I have found seems to work, so I am starting to think it might be an issue with my laptop, but I thought I would ask to see if anyone is aware of anything I may have missed. I am a CS student currently and this is my first attempt at a project using Java for audio playback, so I am fairly ignorant on how it works at a low level. Any help would be greatly appreciated if anyone is aware of any fixes or potential causes for this. Also, my audio driver is up to date and all other audio playback i have tried on this laptop works fine.\r\n\r\nInitially, I was using the Java Sound API&#39;s Clip class to playback sound effects, and the audio playback worked correctly with Clips, but my issue with Clips was that when sounds were rapidly triggered by user input, as is frequently the case in my game, I found that audio skipped somewhat frequently likely due to my limited knowledge of multi-threading, so I decided to try out JavaFX&#39;s MediaPlayer instead, which is far more responsive and optimized, and as I said, works perfectly on my Windows machine and mac.....it is only having this issue on my Linux laptop. If it is any help, I am using openjdk-17....I don&#39;t know if this is an issue specifically with open-jdk vs oracle jdk, or something of that nature.","title":"Why is JavaFX MediaPlayer audio playback working perfectly on windows and mac, but having issues on Linux (popOS/Ubuntu)?","body":"<p>I have a JavaFX Tetris game that uses the MediaPlayer class to play music and sound effects. Specifically, in my SoundPlayer class that handles all audio, I load in the game's .wav files when game is started, and iterate each file, creating a Media object for each one, and then a MediaPlayer object for each Media object. The MediaPlayers, one for each sound, are stored in an array for future playback using the class's playSound method that accepts an integer argument that indicates the index of the MediaPlayer that corresponds to the desired sound effect. It works perfectly on windows and mac, but on my laptop that runs popOS, while it technically works, it has the following issues:</p>\n<ul>\n<li><p>when the game launches, some sounds will play correctly, but after a few times of playing, the playback volume will become so quiet that you can barely hear it, even though the actual volume attribute of the MediaPlayer does not change</p>\n</li>\n<li><p>some sounds do not play the entire sound, only playing part of it.</p>\n</li>\n</ul>\n<p>The background music and most sounds work correctly, but for some, these issues occur.\nHere is my code for playing a sound when triggered by the game:</p>\n<pre><code>public void playSound(int index)\n{\n     MediaPlayer mediaPlayer = mediaPlayerList[index];\n     mediaPlayer.stop();\n     mediaPlayer.seek(Duration.ZERO);\n     mediaPlayer.play();\n}\n</code></pre>\n<p>This works perfectly on my other computers, but I only have this issue on my popOS laptop.\nDoes anyone know if this is a Linux issue with the way Java.sound works, or if perhaps it is an issue with my laptop hardware? I have tried configuring the java.sound.config file to no avail and am at a loss.</p>\n<p>As stated above, I have tried looking up fixes for java.sound config file and nothing I have found seems to work, so I am starting to think it might be an issue with my laptop, but I thought I would ask to see if anyone is aware of anything I may have missed. I am a CS student currently and this is my first attempt at a project using Java for audio playback, so I am fairly ignorant on how it works at a low level. Any help would be greatly appreciated if anyone is aware of any fixes or potential causes for this. Also, my audio driver is up to date and all other audio playback i have tried on this laptop works fine.</p>\n<p>Initially, I was using the Java Sound API's Clip class to playback sound effects, and the audio playback worked correctly with Clips, but my issue with Clips was that when sounds were rapidly triggered by user input, as is frequently the case in my game, I found that audio skipped somewhat frequently likely due to my limited knowledge of multi-threading, so I decided to try out JavaFX's MediaPlayer instead, which is far more responsive and optimized, and as I said, works perfectly on my Windows machine and mac.....it is only having this issue on my Linux laptop. If it is any help, I am using openjdk-17....I don't know if this is an issue specifically with open-jdk vs oracle jdk, or something of that nature.</p>\n"},{"tags":["java","intellij-idea","plugins","gitignore","jpa-buddy"],"answers":[{"tags":[],"owner":{"account_id":28492010,"reputation":179,"user_id":21804501,"display_name":"Dino Letic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698750047,"creation_date":1698750047,"answer_id":77395312,"question_id":77373893,"body_markdown":"Yes, it is safe to share it to Git. It&#39;s a shareable configuration for the whole team and if you want to share it with colleagues, please feel free to do so. Incase not, it can be excluded. \r\n\r\nAlso, in future, if you have similar questions, especially security wise, it&#39;s best to contact JB support directly. ","title":"Should I add to gitignore JPA Buddy plugin configurations","body":"<p>Yes, it is safe to share it to Git. It's a shareable configuration for the whole team and if you want to share it with colleagues, please feel free to do so. Incase not, it can be excluded.</p>\n<p>Also, in future, if you have similar questions, especially security wise, it's best to contact JB support directly.</p>\n"}],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77395312,"answer_count":1,"score":0,"last_activity_date":1698826198,"creation_date":1698407052,"question_id":77373893,"body_markdown":"At IDEA Java project, I&#39;ve tried to create new &quot;Liquibase Diff Changelog&quot; for the first time, and the JPA Buddy plugin has asked for some configurations. The plugin has created a new file with settings. \r\n[![part of project stucture][1]][1]\r\nRight now the file seems to just describe the general project metadata so I&#39;d rather add it to the Git.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;DatabaseMigrationSettings&quot;&gt;\r\n    &lt;database-infos&gt;\r\n      &lt;database-info&gt;\r\n        &lt;option name=&quot;enabled&quot; value=&quot;true&quot; /&gt;\r\n        &lt;dbms-id&gt;postgres&lt;/dbms-id&gt;\r\n      &lt;/database-info&gt;\r\n    &lt;/database-infos&gt;\r\n  &lt;/component&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nMy concern is that later the plugin may store some credentials or other sensitive things to this file. Is it safe to include it into Git?\r\n\r\n  [1]: https://i.stack.imgur.com/RkGic.png","title":"Should I add to gitignore JPA Buddy plugin configurations","body":"<p>At IDEA Java project, I've tried to create new &quot;Liquibase Diff Changelog&quot; for the first time, and the JPA Buddy plugin has asked for some configurations. The plugin has created a new file with settings.\n<a href=\"https://i.stack.imgur.com/RkGic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkGic.png\" alt=\"part of project stucture\" /></a>\nRight now the file seems to just describe the general project metadata so I'd rather add it to the Git.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;DatabaseMigrationSettings&quot;&gt;\n    &lt;database-infos&gt;\n      &lt;database-info&gt;\n        &lt;option name=&quot;enabled&quot; value=&quot;true&quot; /&gt;\n        &lt;dbms-id&gt;postgres&lt;/dbms-id&gt;\n      &lt;/database-info&gt;\n    &lt;/database-infos&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My concern is that later the plugin may store some credentials or other sensitive things to this file. Is it safe to include it into Git?</p>\n"},{"tags":["java","spring","caching","redis","native"],"answers":[{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698796516,"creation_date":1698796516,"answer_id":77399649,"question_id":77399291,"body_markdown":"&quot;Failure putting into cache: user_identities_proto. Cannot serialize&quot; indicates that GraalVM cannot serialize the `UserIdentitiesResponse` object when you&#39;re trying to cache it using Redis.\r\nThe `@Cacheable` annotation in Spring uses Java&#39;s default serialization mechanism, but protobuf classes do not support Java serialization out of the box. They need to be serialized using protobuf&#39;s own serialization mechanisms.\r\n `JdkSerializationRedisSerializer` relies on Java&#39;s built-in serialization, which is incompatible with protobuf objects.\r\nYou should use a different Redis serializer compatible with protobuf. Spring Data Redis provides a few options, but you might need to implement your own or find a third-party library that supports protobuf.","title":"Spring boot native image can not serialize protobuf object","body":"<p>&quot;Failure putting into cache: user_identities_proto. Cannot serialize&quot; indicates that GraalVM cannot serialize the <code>UserIdentitiesResponse</code> object when you're trying to cache it using Redis.\nThe <code>@Cacheable</code> annotation in Spring uses Java's default serialization mechanism, but protobuf classes do not support Java serialization out of the box. They need to be serialized using protobuf's own serialization mechanisms.\n<code>JdkSerializationRedisSerializer</code> relies on Java's built-in serialization, which is incompatible with protobuf objects.\nYou should use a different Redis serializer compatible with protobuf. Spring Data Redis provides a few options, but you might need to implement your own or find a third-party library that supports protobuf.</p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698826159,"creation_date":1698789669,"question_id":77399291,"body_markdown":"I have a method \r\n  \r\n\r\n      @Cacheable(value = USER_IDENTITIES_PROTO_CACHE)\r\n        public UserIdentitiesResponseOuterClass.UserIdentitiesResponse findUserIdentitiesProto(UUID userId) {\r\n\r\nwhere `UserIdentitiesResponseOuterClass.UserIdentitiesResponse` is a class generated by protobuff.\r\n\r\nWhen using JVM everything works well but in the native image I am getting the exception \r\n\r\n&gt; &quot;Failure putting into cache: user_identities_proto. Cannot serialize&quot;\r\n\r\nI have tried to add\r\n\r\n     hints.serialization()\r\n                    .registerType(TypeReference.of(UserIdentitiesResponseOuterClass.class))\r\n                    .registerType(UserIdentitiesResponseOuterClass.UserIdentity.class)\r\n                    .registerType(UserIdentitiesResponseOuterClass.UserIdentitiesResponse.class);\r\n\r\n\r\nbut it did not help.\r\n\r\nI am using Redis as a cache and using `JdkSerializationRedisSerializer` to serialize.\r\n\r\nContent of proto file below:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package identity;\r\n    \r\n    message UserIdentity {\r\n      string provider = 1;\r\n      string sub = 2;\r\n    }\r\n    \r\n    message UserIdentitiesResponse {\r\n      UserIdentity primary = 1;\r\n      repeated UserIdentity identities = 2;\r\n    }\r\n\r\n\r\nif an application is run in JVM mode (not native) protobuff object is successfully serialized/deserialized. But in native image the mentioned problem happens. \r\n\r\nI am assuming the solution would be to add the   runtime hints.serialization(), but as I mentioned I did it and it did not help, so something is still missing, but it&#39;s not clear what exactly\r\n\r\nHow to fix it?\r\n","title":"Spring boot native image can not serialize protobuf object","body":"<p>I have a method</p>\n<pre><code>  @Cacheable(value = USER_IDENTITIES_PROTO_CACHE)\n    public UserIdentitiesResponseOuterClass.UserIdentitiesResponse findUserIdentitiesProto(UUID userId) {\n</code></pre>\n<p>where <code>UserIdentitiesResponseOuterClass.UserIdentitiesResponse</code> is a class generated by protobuff.</p>\n<p>When using JVM everything works well but in the native image I am getting the exception</p>\n<blockquote>\n<p>&quot;Failure putting into cache: user_identities_proto. Cannot serialize&quot;</p>\n</blockquote>\n<p>I have tried to add</p>\n<pre><code> hints.serialization()\n                .registerType(TypeReference.of(UserIdentitiesResponseOuterClass.class))\n                .registerType(UserIdentitiesResponseOuterClass.UserIdentity.class)\n                .registerType(UserIdentitiesResponseOuterClass.UserIdentitiesResponse.class);\n</code></pre>\n<p>but it did not help.</p>\n<p>I am using Redis as a cache and using <code>JdkSerializationRedisSerializer</code> to serialize.</p>\n<p>Content of proto file below:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage identity;\n\nmessage UserIdentity {\n  string provider = 1;\n  string sub = 2;\n}\n\nmessage UserIdentitiesResponse {\n  UserIdentity primary = 1;\n  repeated UserIdentity identities = 2;\n}\n</code></pre>\n<p>if an application is run in JVM mode (not native) protobuff object is successfully serialized/deserialized. But in native image the mentioned problem happens.</p>\n<p>I am assuming the solution would be to add the   runtime hints.serialization(), but as I mentioned I did it and it did not help, so something is still missing, but it's not clear what exactly</p>\n<p>How to fix it?</p>\n"},{"tags":["java","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":14209280,"reputation":665,"user_id":10264998,"display_name":"Gnk"},"score":0,"creation_date":1536869996,"post_id":52320419,"comment_id":91589992,"body_markdown":"did you include in your persistence.xml &lt;class&gt;com.sit.sit2job.Company.Entity.CompanyEntity&lt;/class&gt;","body":"did you include in your persistence.xml &lt;class&gt;com.sit.sit2job.Company.Entity.CompanyEntity&lt;/class&gt;"}],"answers":[{"tags":[],"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536869171,"creation_date":1536869171,"answer_id":52321066,"question_id":52320419,"body_markdown":"It seems that you are mapping a `companyId` with a `userId` you also need to provide the name of the column like this: `@JoinColumn(name=&quot;company_id&quot;)`\r\n\r\n\r\nSo you maybe want something like this:\r\n\r\n    @OneToOne(mappedBy = &quot;companyId&quot;, cascade = CascadeType.ALL)\r\n    @PrimaryKeyJoinColumn\r\n    @JoinColumn(name=&quot;company_id&quot;)\r\n    private CompanyEntity companyId;","title":"Caused by: org.hibernate.MappingException: Could not determine type for:","body":"<p>It seems that you are mapping a <code>companyId</code> with a <code>userId</code> you also need to provide the name of the column like this: <code>@JoinColumn(name=\"company_id\")</code></p>\n\n<p>So you maybe want something like this:</p>\n\n<pre><code>@OneToOne(mappedBy = \"companyId\", cascade = CascadeType.ALL)\n@PrimaryKeyJoinColumn\n@JoinColumn(name=\"company_id\")\nprivate CompanyEntity companyId;\n</code></pre>\n"}],"owner":{"account_id":14342455,"reputation":21,"user_id":10360270,"display_name":"Pattanan Jirapaskul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15997,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698826050,"creation_date":1536866338,"question_id":52320419,"body_markdown":"My code have some problem about Hibernate mapping.\r\nIt told me that **Caused by: org.hibernate.MappingException: Could not determine type for:**\r\nHere is CompanyEntity class\r\n\r\n    @Entity\r\n    @Table(name = &quot;company&quot;, schema = &quot;sit2job&quot;)\r\n    public class CompanyEntity {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private int companyId;\r\n        private String address;\r\n        private String contactPersonName;\r\n        private String description;\r\n        private String detail;\r\n        private String email;\r\n        private String faxNo;\r\n        private String name;\r\n        private String phoneNo;\r\n        private String website;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name=&quot;user_id&quot;)\r\n        private UserEntity userId;\r\n    \r\n        public UserEntity getUserId() {\r\n            return userId;\r\n        }\r\n    \r\n        public void setUserId(UserEntity userId) {\r\n            this.userId = userId;\r\n        }\r\n    \r\n        @Id\r\n        @Column(name = &quot;company_id&quot;, nullable = false)\r\n        public int getCompanyId() {\r\n            return companyId;\r\n        }\r\n    \r\n        public void setCompanyId(int companyId) {\r\n            this.companyId = companyId;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;address&quot;, nullable = true, length = 500)\r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;contact_person_name&quot;, nullable = true, length = 500)\r\n        public String getContactPersonName() {\r\n            return contactPersonName;\r\n        }\r\n    \r\n        public void setContactPersonName(String contactPersonName) {\r\n            this.contactPersonName = contactPersonName;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;description&quot;, nullable = true, length = 500)\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;detail&quot;, nullable = true, length = 500)\r\n        public String getDetail() {\r\n            return detail;\r\n        }\r\n    \r\n        public void setDetail(String detail) {\r\n            this.detail = detail;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;email&quot;, nullable = false, length = 50)\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;fax_no&quot;, nullable = true, length = 25)\r\n        public String getFaxNo() {\r\n            return faxNo;\r\n        }\r\n    \r\n        public void setFaxNo(String faxNo) {\r\n            this.faxNo = faxNo;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;name&quot;, nullable = false, length = 100)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;phone_no&quot;, nullable = false, length = 25)\r\n        public String getPhoneNo() {\r\n            return phoneNo;\r\n        }\r\n    \r\n        public void setPhoneNo(String phoneNo) {\r\n            this.phoneNo = phoneNo;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;website&quot;, nullable = true, length = 100)\r\n        public String getWebsite() {\r\n            return website;\r\n        }\r\n    \r\n        public void setWebsite(String website) {\r\n            this.website = website;\r\n        }\r\n\r\nand Here is UserEntity Class\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;, schema = &quot;sit2job&quot;)\r\n    public class UserEntity {\r\n        private int userId;\r\n        private String username;\r\n        private String password;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;role_id&quot;)\r\n        private RoleEntity roleId;\r\n    \r\n        @OneToOne(mappedBy = &quot;userId&quot;, cascade = CascadeType.ALL)\r\n        @PrimaryKeyJoinColumn\r\n        private CompanyEntity companyId;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        @Column(name = &quot;user_id&quot;, nullable = false)\r\n        public int getUserId() {\r\n            return userId;\r\n        }\r\n    \r\n        public void setUserId(int userId) {\r\n            this.userId = userId;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;username&quot;, nullable = false, length = 50)\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;password&quot;, nullable = false, length = 200)\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public RoleEntity getRoleId() {\r\n            return roleId;\r\n        }\r\n    \r\n        public void setRoleId(RoleEntity roleId) {\r\n            this.roleId = roleId;\r\n        }\r\n    \r\n        public CompanyEntity getCompanyId() {\r\n            return companyId;\r\n        }\r\n    \r\n        public void setCompanyId(CompanyEntity companyId) {\r\n            this.companyId = companyId;\r\n        }\r\nThese two classes located at different package\r\nIt&#39;s has an error\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-09-14 01:59:27.805 ERROR 16007 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.sit.sit2job.Company.Entity.CompanyEntity, at table: user, for columns: [org.hibernate.mapping.Column(company_id)]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1708) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat com.sit.sit2job.Sit2jobApplication.main(Sit2jobApplication.java:17) [classes/:na]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.sit.sit2job.Company.Entity.CompanyEntity, at table: user, for columns: [org.hibernate.mapping.Column(company_id)]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1767) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 16 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Could not determine type for: com.sit.sit2job.Company.Entity.CompanyEntity, at table: user, for columns: [org.hibernate.mapping.Column(company_id)]\r\n    \tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:456) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:423) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.mapping.Property.isValid(Property.java:226) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:597) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.mapping.RootClass.validate(RootClass.java:265) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:329) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:461) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 20 common frames omitted\r\n\r\nI want to know what is the cause of these problem. I have though the cause of problem is @OneToOne because @OneToMany or @ManyToOne have no any problem.\r\n\r\n","title":"Caused by: org.hibernate.MappingException: Could not determine type for:","body":"<p>My code have some problem about Hibernate mapping.\nIt told me that <strong>Caused by: org.hibernate.MappingException: Could not determine type for:</strong>\nHere is CompanyEntity class</p>\n\n<pre><code>@Entity\n@Table(name = \"company\", schema = \"sit2job\")\npublic class CompanyEntity {\n\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private int companyId;\n    private String address;\n    private String contactPersonName;\n    private String description;\n    private String detail;\n    private String email;\n    private String faxNo;\n    private String name;\n    private String phoneNo;\n    private String website;\n\n    @OneToOne\n    @JoinColumn(name=\"user_id\")\n    private UserEntity userId;\n\n    public UserEntity getUserId() {\n        return userId;\n    }\n\n    public void setUserId(UserEntity userId) {\n        this.userId = userId;\n    }\n\n    @Id\n    @Column(name = \"company_id\", nullable = false)\n    public int getCompanyId() {\n        return companyId;\n    }\n\n    public void setCompanyId(int companyId) {\n        this.companyId = companyId;\n    }\n\n    @Basic\n    @Column(name = \"address\", nullable = true, length = 500)\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    @Basic\n    @Column(name = \"contact_person_name\", nullable = true, length = 500)\n    public String getContactPersonName() {\n        return contactPersonName;\n    }\n\n    public void setContactPersonName(String contactPersonName) {\n        this.contactPersonName = contactPersonName;\n    }\n\n    @Basic\n    @Column(name = \"description\", nullable = true, length = 500)\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    @Basic\n    @Column(name = \"detail\", nullable = true, length = 500)\n    public String getDetail() {\n        return detail;\n    }\n\n    public void setDetail(String detail) {\n        this.detail = detail;\n    }\n\n    @Basic\n    @Column(name = \"email\", nullable = false, length = 50)\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Basic\n    @Column(name = \"fax_no\", nullable = true, length = 25)\n    public String getFaxNo() {\n        return faxNo;\n    }\n\n    public void setFaxNo(String faxNo) {\n        this.faxNo = faxNo;\n    }\n\n    @Basic\n    @Column(name = \"name\", nullable = false, length = 100)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Basic\n    @Column(name = \"phone_no\", nullable = false, length = 25)\n    public String getPhoneNo() {\n        return phoneNo;\n    }\n\n    public void setPhoneNo(String phoneNo) {\n        this.phoneNo = phoneNo;\n    }\n\n    @Basic\n    @Column(name = \"website\", nullable = true, length = 100)\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n</code></pre>\n\n<p>and Here is UserEntity Class</p>\n\n<pre><code>@Entity\n@Table(name = \"user\", schema = \"sit2job\")\npublic class UserEntity {\n    private int userId;\n    private String username;\n    private String password;\n\n    @ManyToOne\n    @JoinColumn(name=\"role_id\")\n    private RoleEntity roleId;\n\n    @OneToOne(mappedBy = \"userId\", cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private CompanyEntity companyId;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Column(name = \"user_id\", nullable = false)\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    @Basic\n    @Column(name = \"username\", nullable = false, length = 50)\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Basic\n    @Column(name = \"password\", nullable = false, length = 200)\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public RoleEntity getRoleId() {\n        return roleId;\n    }\n\n    public void setRoleId(RoleEntity roleId) {\n        this.roleId = roleId;\n    }\n\n    public CompanyEntity getCompanyId() {\n        return companyId;\n    }\n\n    public void setCompanyId(CompanyEntity companyId) {\n        this.companyId = companyId;\n    }\n</code></pre>\n\n<p>These two classes located at different package\nIt's has an error</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-09-14 01:59:27.805 ERROR 16007 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.sit.sit2job.Company.Entity.CompanyEntity, at table: user, for columns: [org.hibernate.mapping.Column(company_id)]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1708) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at com.sit.sit2job.Sit2jobApplication.main(Sit2jobApplication.java:17) [classes/:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.sit.sit2job.Company.Entity.CompanyEntity, at table: user, for columns: [org.hibernate.mapping.Column(company_id)]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1767) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 16 common frames omitted\nCaused by: org.hibernate.MappingException: Could not determine type for: com.sit.sit2job.Company.Entity.CompanyEntity, at table: user, for columns: [org.hibernate.mapping.Column(company_id)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:456) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:423) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.mapping.Property.isValid(Property.java:226) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:597) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.mapping.RootClass.validate(RootClass.java:265) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:329) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:461) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 20 common frames omitted\n</code></pre>\n\n<p>I want to know what is the cause of these problem. I have though the cause of problem is @OneToOne because @OneToMany or @ManyToOne have no any problem.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","jpa"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1698845885,"post_id":77401121,"comment_id":136456368,"body_markdown":"What do you mean that the backend works well with the elasticsearch features? Check if your elasticsearch docker image exposes the tcp 9200 port to the outside or not.","body":"What do you mean that the backend works well with the elasticsearch features? Check if your elasticsearch docker image exposes the tcp 9200 port to the outside or not."},{"owner":{"account_id":17520974,"reputation":1,"user_id":12707034,"display_name":"Sistem Suciu"},"score":0,"creation_date":1698846135,"post_id":77401121,"comment_id":136456431,"body_markdown":"By that I mean that the data on the front appears correctly and the requests-responses are working well. I checked and the image exposes 9200 port.","body":"By that I mean that the data on the front appears correctly and the requests-responses are working well. I checked and the image exposes 9200 port."}],"owner":{"account_id":17520974,"reputation":1,"user_id":12707034,"display_name":"Sistem Suciu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698825713,"creation_date":1698825713,"question_id":77401121,"body_markdown":"I&#39;m migrating from Springboot 2.4.0 to 2.7.17. I&#39;m using java 11 and elasticsearch version 7.10.1. When I run the project, it runs well, creates the db and inserts all the row, but after 4-5mins I get the error: ```org.elasticsearch.client.sniff.Sniffer$Task: error while sniffing nodes - java.net.ConnectException: Timeout connecting to [/172.17.0.2:9200]``` I checked in Docker and 172.17.0.2 is used in the elasticsearch container in the &quot;&quot;IPAddress&quot; tag. After recieving the error, the project continue to run and the backend seems to work well with the elasticsearch features.\r\n\r\n**application.yaml** looks like this:\r\n\r\n```\r\n    setup:\r\n      admin-account: &quot;...&quot;\r\n    security:\r\n      jwt:\r\n        validity-minutes: 60\r\n    elastic:\r\n      reindex:\r\n        cron: &quot;0 0 3 * * ?&quot;\r\n\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: validate\r\n    properties:\r\n      hibernate:\r\n        search:\r\n          schema_management:\r\n            strategy: drop-and-create-and-drop\r\n          backend:\r\n            hosts: localhost:9200\r\n            protocol: http\r\n  liquibase:\r\n    change-log: classpath:db/changelog/db.changelog-master.yaml\r\n    enabled: true\r\n    contexts: test_1\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 10MB\r\n      max-request-size: 10MB\r\n\r\nlogging:\r\n  level:\r\n    de.bbht: WARN\r\n    org:\r\n      springframework:\r\n        security: WARN\r\n  config: &quot;./config/logback.xml&quot;\r\n\r\nspringdoc:\r\n  api-docs:\r\n    enabled: true\r\n  swagger-ui:\r\n    operations-sorter: &quot;method&quot;\r\n\r\nserver:\r\n  error:\r\n    include-message: always\r\n```\r\n\r\nand **application-local.yaml** looks like this:\r\n\r\n```\r\n    cors:\r\n      allowed-origins:\r\n        - &quot;http://localhost:8080&quot;\r\n        - &quot;http://localhost:4200&quot;\r\n    security:\r\n      jwt:\r\n        secret: ...\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\r\n    username: postgres\r\n    password:\r\n  liquibase:\r\n    change-log: classpath:db/changelog/db.changelog-master.yaml\r\n    enabled: true\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: &quot;...&quot;\r\n    password: &quot;...&quot;\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n            enable: true\r\nlogging:\r\n  level:\r\n    de.bbht: DEBUG\r\n    org:\r\n      docx4j:\r\n        model:\r\n          datastorage: DEBUG\r\n      springframework:\r\n        security: DEBUG\r\n```\r\n\r\n\r\n\r\nI tried to upgrade to the elasticsearch image version 7.17.3, but same error.\r\n\r\nI treid to add \r\n```\r\nspring:\r\n  data:\r\n    elasticsearch:\r\n      cluster-name: elasticsearch\r\n      cluster-nodes: localhost:9200\r\n      repositories:\r\n        enabled: true\r\n```\r\n on my application.yaml file, but didn&#39;t work.\r\n\r\n","title":"error while sniffing nodes - Timeout connecting to ip adress","body":"<p>I'm migrating from Springboot 2.4.0 to 2.7.17. I'm using java 11 and elasticsearch version 7.10.1. When I run the project, it runs well, creates the db and inserts all the row, but after 4-5mins I get the error: <code>org.elasticsearch.client.sniff.Sniffer$Task: error while sniffing nodes - java.net.ConnectException: Timeout connecting to [/172.17.0.2:9200]</code> I checked in Docker and 172.17.0.2 is used in the elasticsearch container in the &quot;&quot;IPAddress&quot; tag. After recieving the error, the project continue to run and the backend seems to work well with the elasticsearch features.</p>\n<p><strong>application.yaml</strong> looks like this:</p>\n<pre><code>    setup:\n      admin-account: &quot;...&quot;\n    security:\n      jwt:\n        validity-minutes: 60\n    elastic:\n      reindex:\n        cron: &quot;0 0 3 * * ?&quot;\n\nspring:\n  jpa:\n    hibernate:\n      ddl-auto: validate\n    properties:\n      hibernate:\n        search:\n          schema_management:\n            strategy: drop-and-create-and-drop\n          backend:\n            hosts: localhost:9200\n            protocol: http\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.yaml\n    enabled: true\n    contexts: test_1\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n\nlogging:\n  level:\n    de.bbht: WARN\n    org:\n      springframework:\n        security: WARN\n  config: &quot;./config/logback.xml&quot;\n\nspringdoc:\n  api-docs:\n    enabled: true\n  swagger-ui:\n    operations-sorter: &quot;method&quot;\n\nserver:\n  error:\n    include-message: always\n</code></pre>\n<p>and <strong>application-local.yaml</strong> looks like this:</p>\n<pre><code>    cors:\n      allowed-origins:\n        - &quot;http://localhost:8080&quot;\n        - &quot;http://localhost:4200&quot;\n    security:\n      jwt:\n        secret: ...\nspring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\n    username: postgres\n    password:\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.yaml\n    enabled: true\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: &quot;...&quot;\n    password: &quot;...&quot;\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\nlogging:\n  level:\n    de.bbht: DEBUG\n    org:\n      docx4j:\n        model:\n          datastorage: DEBUG\n      springframework:\n        security: DEBUG\n</code></pre>\n<p>I tried to upgrade to the elasticsearch image version 7.17.3, but same error.</p>\n<p>I treid to add</p>\n<pre><code>spring:\n  data:\n    elasticsearch:\n      cluster-name: elasticsearch\n      cluster-nodes: localhost:9200\n      repositories:\n        enabled: true\n</code></pre>\n<p>on my application.yaml file, but didn't work.</p>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698825444,"creation_date":1698825444,"answer_id":77401099,"question_id":77394773,"body_markdown":"In this case you need to implement your own `ArchCondition`, I have prepared a skeleton that you can adapt to your needs.\r\n\r\n```java\r\nArchRule enforceLeastRequiredModifier = CompositeArchRule.of(\r\n    classes().should(haveLeastRequiredModifier())\r\n).and(\r\n    members().should(haveLeastRequiredModifier())\r\n);\r\n\r\nprivate static &lt;T extends HasModifiers &amp; HasDescription &amp; HasSourceCodeLocation&gt; ArchCondition&lt;T&gt; haveLeastRequiredModifier() {\r\n    return new ArchCondition&lt;T&gt;(&quot;have least required modifier&quot;) {\r\n        @Override\r\n        public void check(T item, ConditionEvents events) {\r\n            boolean isPublic = item.getModifiers().contains(PUBLIC);\r\n            boolean isProtected = item.getModifiers().contains(PROTECTED);\r\n            boolean isPrivate = item.getModifiers().contains(PRIVATE);\r\n            boolean isPackagePrivate = !isPublic &amp;&amp; !isProtected &amp;&amp; !isPrivate;\r\n\r\n            if (isPublic) {\r\n                boolean isUsedInOtherPackage;\r\n                if (item instanceof JavaClass) {\r\n                    JavaClass javaClass = (JavaClass) item;\r\n                    isUsedInOtherPackage = javaClass.getAccessesToSelf().stream().anyMatch(access -&gt; !access.getOriginOwner().getPackageName().equals(javaClass.getPackageName()));\r\n                } else {\r\n                    JavaMember javaMember = (JavaMember) item;\r\n                    JavaClass memberOwner = javaMember.getOwner();\r\n                    isUsedInOtherPackage = javaMember.getAccessesToSelf().stream().anyMatch(access -&gt; !access.getOriginOwner().getPackageName().equals(memberOwner.getPackageName()));\r\n                }\r\n\r\n                if (isUsedInOtherPackage) {\r\n                    events.add(satisfied(item, createMessage(item, &quot;is used in other package&quot;)));\r\n                } else {\r\n                    events.add(violated(item, createMessage(item, &quot;could be package-private&quot;)));\r\n                }\r\n            }\r\n\r\n            // TODO if needed, do the same for isProtected and isPackagePrivate\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nOr alternatively split the big condition in smaller ones by writing rules like\r\n```java\r\nclasses().that().arePublic().should(beAccessedFromOtherPackage())\r\n``` ","title":"Enforcing least visibility modifier with ArchUnit in Java","body":"<p>In this case you need to implement your own <code>ArchCondition</code>, I have prepared a skeleton that you can adapt to your needs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArchRule enforceLeastRequiredModifier = CompositeArchRule.of(\n    classes().should(haveLeastRequiredModifier())\n).and(\n    members().should(haveLeastRequiredModifier())\n);\n\nprivate static &lt;T extends HasModifiers &amp; HasDescription &amp; HasSourceCodeLocation&gt; ArchCondition&lt;T&gt; haveLeastRequiredModifier() {\n    return new ArchCondition&lt;T&gt;(&quot;have least required modifier&quot;) {\n        @Override\n        public void check(T item, ConditionEvents events) {\n            boolean isPublic = item.getModifiers().contains(PUBLIC);\n            boolean isProtected = item.getModifiers().contains(PROTECTED);\n            boolean isPrivate = item.getModifiers().contains(PRIVATE);\n            boolean isPackagePrivate = !isPublic &amp;&amp; !isProtected &amp;&amp; !isPrivate;\n\n            if (isPublic) {\n                boolean isUsedInOtherPackage;\n                if (item instanceof JavaClass) {\n                    JavaClass javaClass = (JavaClass) item;\n                    isUsedInOtherPackage = javaClass.getAccessesToSelf().stream().anyMatch(access -&gt; !access.getOriginOwner().getPackageName().equals(javaClass.getPackageName()));\n                } else {\n                    JavaMember javaMember = (JavaMember) item;\n                    JavaClass memberOwner = javaMember.getOwner();\n                    isUsedInOtherPackage = javaMember.getAccessesToSelf().stream().anyMatch(access -&gt; !access.getOriginOwner().getPackageName().equals(memberOwner.getPackageName()));\n                }\n\n                if (isUsedInOtherPackage) {\n                    events.add(satisfied(item, createMessage(item, &quot;is used in other package&quot;)));\n                } else {\n                    events.add(violated(item, createMessage(item, &quot;could be package-private&quot;)));\n                }\n            }\n\n            // TODO if needed, do the same for isProtected and isPackagePrivate\n        }\n    };\n}\n</code></pre>\n<p>Or alternatively split the big condition in smaller ones by writing rules like</p>\n<pre class=\"lang-java prettyprint-override\"><code>classes().that().arePublic().should(beAccessedFromOtherPackage())\n</code></pre>\n"}],"owner":{"account_id":3597402,"reputation":1164,"user_id":3001675,"accept_rate":86,"display_name":"LIvanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77401099,"answer_count":1,"score":1,"last_activity_date":1698825444,"creation_date":1698745164,"question_id":77394773,"body_markdown":"I&#39;d like to enforce a policy in my project, that if something is made `public` then it must be used from another package. I&#39;d like to enforce this for pretty much everything - classes, interfaces, methods...\r\n\r\n\r\n```\r\n    methods()\r\n        .that()\r\n        .arePublic()\r\n        .should()\r\n        .onlyBeCalled()\r\n        .byClassesThat()\r\n        .resideOutsideOfPackage(/*...*/);\r\n```\r\n\r\nHowever, `resideOutsideOfPackage` requires a specific `String packageName` whereas, I&#39;d like to use the package name of the currently traversed method&#39;s class&#39;.","title":"Enforcing least visibility modifier with ArchUnit in Java","body":"<p>I'd like to enforce a policy in my project, that if something is made <code>public</code> then it must be used from another package. I'd like to enforce this for pretty much everything - classes, interfaces, methods...</p>\n<pre><code>    methods()\n        .that()\n        .arePublic()\n        .should()\n        .onlyBeCalled()\n        .byClassesThat()\n        .resideOutsideOfPackage(/*...*/);\n</code></pre>\n<p>However, <code>resideOutsideOfPackage</code> requires a specific <code>String packageName</code> whereas, I'd like to use the package name of the currently traversed method's class'.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","yaml"],"comments":[{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":2,"creation_date":1623998739,"post_id":68030522,"comment_id":120241657,"body_markdown":"Does this answer your question? [How to log SQL statements in Spring Boot?](https://stackoverflow.com/questions/30118683/how-to-log-sql-statements-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30118683/how-to-log-sql-statements-in-spring-boot\">How to log SQL statements in Spring Boot?</a>"}],"answers":[{"tags":[],"owner":{"account_id":13325221,"reputation":2563,"user_id":9618378,"display_name":"Drashti Dobariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698825236,"creation_date":1624001141,"answer_id":68031024,"question_id":68030522,"body_markdown":"We can use any one of these:\r\n\r\n    spring:\r\n      jpa:\r\n        show_sql: true\r\nor\r\n\r\n    logging:\r\n      level:\r\n        org:\r\n        hibernate:\r\n            sql:debug\r\n            type:\r\n            descriptor:\r\n                sql:trace","title":"Spring enable SQL logs in application.yml","body":"<p>We can use any one of these:</p>\n<pre><code>spring:\n  jpa:\n    show_sql: true\n</code></pre>\n<p>or</p>\n<pre><code>logging:\n  level:\n    org:\n    hibernate:\n        sql:debug\n        type:\n        descriptor:\n            sql:trace\n</code></pre>\n"}],"owner":{"account_id":21974815,"reputation":5,"user_id":16250805,"display_name":"ddenis2307"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68031024,"answer_count":1,"score":0,"last_activity_date":1698825236,"creation_date":1623998682,"question_id":68030522,"body_markdown":"I&#39;m building a spring boot application. I&#39;m trying to enable SQL logs in application.yml. How can I do it?","title":"Spring enable SQL logs in application.yml","body":"<p>I'm building a spring boot application. I'm trying to enable SQL logs in application.yml. How can I do it?</p>\n"},{"tags":["java","spring","hibernate","jpa","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698824348,"creation_date":1423953544,"answer_id":28521084,"question_id":28513517,"body_markdown":"1. You need to add the following `transient` column:\r\n\r\n        @Transient\r\n        private Double distance_in_km;\r\n\r\n2. You need to change your Spring Data @Query to a Hibernate native query instead:\r\n\r\n\t\tList&lt;Place&gt; places = (List&lt;Place&gt;) session.createSQLQuery(&quot;&quot;&quot;\r\n\t\t\tselect \r\n\t\t\t\ttype as {p.type}, \r\n\t\t\t\tname as {p.name}, \r\n\t\t\t\tlatitude as {p.latitude}, \r\n\t\t\t\tlongitute as {p.longitute},\r\n\t\t\t\t111.045* DEGREES (\r\n\t\t\t\t\tACOS(\r\n\t\t\t\t\t\tCOS(RADIANS(:latitude)) * \r\n\t\t\t\t\t\tCOS (RADIANS(latitude)) *\r\n\t\t\t\t\t\tCOS(RADIANS(:longitute) - RADIANS (longitute)) +\r\n\t\t\t\t\t\tSIN (RADIANS (:latitude))*SIN (RADIANS(latitude)))\r\n\t\t\t\t) As {p.distanceInKm} \r\n\t\t\tfrom Place p \r\n\t\t\tORDER BY {p.distanceInKm}\r\n\t\t\t&quot;&quot;&quot;\r\n\t\t)\r\n\t\t.setParameter(&quot;latitude&quot;, latitude)\r\n\t\t.setParameter(&quot;longitute&quot;, longitute)\r\n\t\t.addEntity(&quot;p&quot;, Place.class)\r\n\t\t.list();","title":"Setting the ResultSet of native query JPA to POJO throws NullPointerException","body":"<ol>\n<li><p>You need to add the following <code>transient</code> column:</p>\n<pre><code> @Transient\n private Double distance_in_km;\n</code></pre>\n</li>\n<li><p>You need to change your Spring Data @Query to a Hibernate native query instead:</p>\n<pre><code> List&lt;Place&gt; places = (List&lt;Place&gt;) session.createSQLQuery(&quot;&quot;&quot;\n     select \n         type as {p.type}, \n         name as {p.name}, \n         latitude as {p.latitude}, \n         longitute as {p.longitute},\n         111.045* DEGREES (\n             ACOS(\n                 COS(RADIANS(:latitude)) * \n                 COS (RADIANS(latitude)) *\n                 COS(RADIANS(:longitute) - RADIANS (longitute)) +\n                 SIN (RADIANS (:latitude))*SIN (RADIANS(latitude)))\n         ) As {p.distanceInKm} \n     from Place p \n     ORDER BY {p.distanceInKm}\n     &quot;&quot;&quot;\n )\n .setParameter(&quot;latitude&quot;, latitude)\n .setParameter(&quot;longitute&quot;, longitute)\n .addEntity(&quot;p&quot;, Place.class)\n .list();\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":4276016,"reputation":651,"user_id":3496581,"accept_rate":13,"display_name":"Rithik_Star"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698824395,"creation_date":1423899117,"question_id":28513517,"body_markdown":"I want to convert the resultset List&lt;Object[]&gt; to entity class.\r\nMy Native query:\r\n\r\n     @Query(&quot;select type,name,latitude,longitute,111.045* DEGREES (ACOS(COS(RADIANS(:latitude))*COS (RADIANS(latitude))*COS(RADIANS(:longitute) - RADIANS (longitute))&quot;\r\n    \t \t\t+ &quot;+SIN (RADIANS (:latitude))*SIN (RADIANS(latitude)))) As distance_in_km from Place ORDER BY distance_in_km &quot;)\r\n    \t List&lt;Object[]&gt; findBylattitudeAndlongitute(@Param(&quot;latitude&quot;) double latitude ,@Param(&quot;longitute&quot;) double longitute );\r\n\r\nMy entity class:\r\n\r\n    @EnableCaching\r\n    @Entity\r\n    @Table(name = &quot;PLACEDETAILS_H&quot;)\r\n    public class Place {\r\n    \r\n    \tpublic Place() {\r\n    \t}\t\r\n    \tprivate String type;\r\n    \tprivate String name;\r\n    \tprivate String Code;\r\n    \tprivate String Name;\r\n    \tprivate String Code1;\t\r\n    \tprivate String Name2;\r\n    \tprivate double latitude;\r\n    \tprivate double longitute;\r\n    \r\n    }\r\n\r\nservice class:\r\n   \r\n\r\n     List&lt;Object[]&gt;  places = Repository.findBylattitudeAndlongitute(latitude, longitute);\t\r\n    Place place = null;\r\n    for (Object[] pla : places) {\r\n        place.setType((String) pla[0]);\r\n    \tplace.setName((String) pla[1]);\t\r\n    }\r\n\r\nSince the distance_in_km in not a variable in place entity, I am unable to map the resultset directly. The query executed successfully and Im getting response List&lt;Object[]&gt;.\r\n\r\nI tried setting the pla[0] to type but It shows null pointer exception.\r\nhelp me to resolve this issue.","title":"Setting the ResultSet of native query JPA to POJO throws NullPointerException","body":"<p>I want to convert the resultset List&lt;Object[]&gt; to entity class.\nMy Native query:</p>\n<pre><code> @Query(&quot;select type,name,latitude,longitute,111.045* DEGREES (ACOS(COS(RADIANS(:latitude))*COS (RADIANS(latitude))*COS(RADIANS(:longitute) - RADIANS (longitute))&quot;\n            + &quot;+SIN (RADIANS (:latitude))*SIN (RADIANS(latitude)))) As distance_in_km from Place ORDER BY distance_in_km &quot;)\n     List&lt;Object[]&gt; findBylattitudeAndlongitute(@Param(&quot;latitude&quot;) double latitude ,@Param(&quot;longitute&quot;) double longitute );\n</code></pre>\n<p>My entity class:</p>\n<pre><code>@EnableCaching\n@Entity\n@Table(name = &quot;PLACEDETAILS_H&quot;)\npublic class Place {\n\n    public Place() {\n    }   \n    private String type;\n    private String name;\n    private String Code;\n    private String Name;\n    private String Code1;   \n    private String Name2;\n    private double latitude;\n    private double longitute;\n\n}\n</code></pre>\n<p>service class:</p>\n<pre><code> List&lt;Object[]&gt;  places = Repository.findBylattitudeAndlongitute(latitude, longitute);  \nPlace place = null;\nfor (Object[] pla : places) {\n    place.setType((String) pla[0]);\n    place.setName((String) pla[1]); \n}\n</code></pre>\n<p>Since the distance_in_km in not a variable in place entity, I am unable to map the resultset directly. The query executed successfully and Im getting response List&lt;Object[]&gt;.</p>\n<p>I tried setting the pla[0] to type but It shows null pointer exception.\nhelp me to resolve this issue.</p>\n"},{"tags":["java","mysql","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698824145,"creation_date":1404293880,"answer_id":24527734,"question_id":24525468,"body_markdown":"1. I suggest you use the more reliable incremental version:\r\n\r\n        @Version\r\n        private short version;\r\n\r\n2. Hibernate can handle deleting detached entities (In manipulatePersistentObjects(), the this._myPersistentObject2 is detached, being loaded in a different closed session), but JPA doesn&#39;t allow this behaviour.\r\n\r\n3. You shouldn&#39;t flush after commit. If you are using AUTO flush mode, you don;t even have to call flush, since commit should trigger a flush too. ","title":"MySQL Hibernate Exception","body":"<ol>\n<li><p>I suggest you use the more reliable incremental version:</p>\n<pre><code> @Version\n private short version;\n</code></pre>\n</li>\n<li><p>Hibernate can handle deleting detached entities (In manipulatePersistentObjects(), the this._myPersistentObject2 is detached, being loaded in a different closed session), but JPA doesn't allow this behaviour.</p>\n</li>\n<li><p>You shouldn't flush after commit. If you are using AUTO flush mode, you don;t even have to call flush, since commit should trigger a flush too.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415407697,"creation_date":1415407697,"answer_id":26812450,"question_id":24525468,"body_markdown":"# Background info #\r\n## MySQL &lt; 5.6.4 doesn&#39;t support the storage of fractions\r\nBefore MySQL 5.6.4, MySQL did support some functions that are able to operate on fractions of a second, but MySQL didn&#39;t support the storage of fractions:\r\n\r\nhttp://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html\r\n\r\n&gt;  However, when MySQL stores a value into a column of any temporal data type, it discards any fractional part and does not store it.\r\n&gt;\r\n&gt; MySQL 5.6.4 and up expands fractional seconds support for TIME, DATETIME, and TIMESTAMP values, with up to microseconds (6 digits) precision:\r\n&gt;\r\n&gt;    To define a column that includes a fractional seconds part, use the syntax &gt;type_name(fsp), where type_name is TIME, DATETIME, or TIMESTAMP, and fsp is the fractional seconds precision. For example:\r\n&gt;\r\n&gt;    CREATE TABLE t1 (t TIME(3), dt DATETIME(6));\r\n\r\n## MySQL Connector/J &lt; 5.1.23 stripped off fractions ##\r\nhttp://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html\r\n&gt; If a timestamp value was passed through prepared statement parameters, fractional-second precision was stripped off, even if the underlying field (such as VARCHAR(255)) could store the full value. A workaround was to convert the timestamp value to a string when specifying the prepared statement argument, for example prepped_stmt.setString(1,time_stamp.toString(). This was partly fixed in 5.1.19, but that fix did not cover the case with the setting useLegacyDatetimeCode=true. (Bug #11750017, Bug #40279, Bug #60584)\r\n\r\n# Problem: Hibernate uses 3 fraction digits ignoring MySQL #\r\nWhen Hibernate inserts an object that supports versioning into the database, it does something like this:\r\n\r\n    2014-nov-07;20:32:05.775 TRACE org.hibernate.engine.internal.Versioning - Seeding: 2014-11-07 20:32:05.774\r\n    2014-nov-07;20:32:05.786 TRACE org.hibernate.persister.entity.AbstractEntityPersister - Version: 7-11-14 20:32\r\n    2014-nov-07;20:32:05.787 DEBUG org.hibernate.SQL - insert into A (b_id, version) values (?, ?)\r\n    Hibernate: insert into A (b_id, version) values (?, ?)\r\n    2014-nov-07;20:32:05.799 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [1] as [BIGINT] - [null]\r\n    2014-nov-07;20:32:05.799 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [2] as [TIMESTAMP] - [2014-11-07 20:32:05.774]\r\n\r\nSo Hibernate seems to use internally 3 digits for fractional second precision and also tries to store the fraction into the database, even when the MySQL version doesn&#39;t support it.\r\n\r\nWhen using the older Connector/J, the fractions are stripped off and the datetime (with second precision) is stored.\r\nWhen entity A is changed, Hibernate performs optimistic locking, and something like this happens:\r\n\r\n    2014-nov-07;20:32:05.822 DEBUG org.hibernate.internal.util.EntityPrinter - entities.B{id=27}\r\n    2014-nov-07;20:32:05.822 DEBUG org.hibernate.internal.util.EntityPrinter - entities.A{b=entities.B#27, id=29, version=2014-11-07 20:32:05.774}\r\n    2014-nov-07;20:32:05.825 TRACE org.hibernate.persister.entity.AbstractEntityPersister - Updating entity: [entities.A#29]\r\n    2014-nov-07;20:32:05.825 TRACE org.hibernate.persister.entity.AbstractEntityPersister - Existing version: 7-11-14 20:32 -&gt; New version:7-11-14 20:32\r\n    2014-nov-07;20:32:05.825 DEBUG org.hibernate.SQL - update A set b_id=?, version=? where id=? and version=?\r\n    Hibernate: update A set b_id=?, version=? where id=? and version=?\r\n    2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [1] as [BIGINT] - [27]\r\n    2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [2] as [TIMESTAMP] - [2014-11-07 20:32:05.82]\r\n    2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [3] as [BIGINT] - [29]\r\n    2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [4] as [TIMESTAMP] - [2014-11-07 20:32:05.774]\r\n\r\n(Not sure why Hibernate shows &quot;20:32:05.82&quot; as binding parameter, I would expect it to be a higher version, so maybe it truncate zeros and means &quot;20:32:05.820&quot;, which is the same a the log fraction.)\r\n\r\nBut because the older Connector/J strips off the fraction in both the insert statement followed by also the Hibernate versioning update statement (in which the fraction is stripped from the SQL-WHERE clause), it doesn&#39;t cause the problem yet.\r\n\r\nBut when the new version (&gt;= 5.1.23) of Connector/J is used, the fractions are preserved and do reach the database. This basically isn&#39;t a problem yet, it is even better than without fractions, because it is safer in terms of concurrency.\r\nBut when the database column has type &quot;DATETIME&quot; (Hibernate default) which means &quot;DATETIME(0)&quot;, which has no fractions, then the Hibernate versioning problem will occur, because\r\n\r\n    update A set b_id=?, version=? where id=? and version=?\r\n\r\nwill result in 0 updates, causing Hibernate to think that the &quot;row was updated or deleted by another transaction&quot;.\r\n\r\n# Solution 1 (tested): add fractions to the column #\r\nChange the column type from &quot;DATETIME&quot; to &quot;DATETIME(3)&quot;. This is probably a safe operation because MySQL simply appends fractions 000 to the datetimes.\r\n\r\nFor completeness, also add this to the versioned timestamp instance variable:\r\n\r\n    @Column(columnDefinition = &quot;datetime(3)&quot;)\r\n\r\n\r\n# Solution 2 (tested): let MySQL generate the date version #\r\nIf you don&#39;t want to add fractions to the column, but letting the database generate versions is no problem, then you can use the following approach:\r\n\r\nAdd the following to the verioned timestamp instance variable:\r\n\r\n    @Generated(GenerationTime.ALWAYS)\r\n\r\nThis will let Hibernate use the database column to generate versions.\r\n\r\nThen change the column type from &quot;datetime&quot; to:\r\n\r\n    DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\r\n\r\nThis solution doesn&#39;t use fractions and thus is dangerous in terms of concurrency, even though is was normal behavior in Hibernate combined with using MySQL Connector/J &lt; 5.1.23 or MySQL Server &lt; 5.6.4.\r\n\r\n# Solution 3: use dedicated version numbers instead of datetimes #\r\nSee http://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch05.html#d5e1246\r\n\r\nThis is safe in terms of concurrency, but less convenient if you need the update-datetime anyway.\r\n\r\n\r\n# Other solutions (untested) #\r\nAnother solution might by implementing your own org.hibernate.usertype.UserVersionType.\r\n\r\nhttps://docs.jboss.org/hibernate/core/4.3/javadocs/org/hibernate/usertype/UserVersionType.html\r\n\r\nhttps://developer.jboss.org/wiki/UserTypeForNon-defaultTimeZone\r\n\r\nAnother solution for new Hibernate applications might be the modification of the MySQL dialect class to automatically use datetimes with fractions.\r\n\r\n# Discussion #\r\nIt&#39;s a bit difficult to say whether this is a Hibernate bug. The best solution would be if Hibernate would automatically test whether the MySQL environment supports fractional datetime columns and if so, default to &quot;datetime(3)&quot; columns instead of &quot;datetime&quot;.\r\nOr Hibernate should remove fractions from its internal versioning when the MySQL environment doesn&#39;t support it, but that is a bit dangerous in terms of concurrency.\r\n\r\n\r\n# Note #\r\nWhen using TemporalType.TIMESTAMP, Hibernates MySQL5InnoDBDialect doesn&#39;t use MySQL&#39;s TIMESTAMP, but uses DATETIME instead.","title":"MySQL Hibernate Exception","body":"<h1>Background info</h1>\n\n<h2>MySQL &lt; 5.6.4 doesn't support the storage of fractions</h2>\n\n<p>Before MySQL 5.6.4, MySQL did support some functions that are able to operate on fractions of a second, but MySQL didn't support the storage of fractions:</p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html</a></p>\n\n<blockquote>\n  <p>However, when MySQL stores a value into a column of any temporal data type, it discards any fractional part and does not store it.</p>\n  \n  <p>MySQL 5.6.4 and up expands fractional seconds support for TIME, DATETIME, and TIMESTAMP values, with up to microseconds (6 digits) precision:</p>\n  \n  <p>To define a column that includes a fractional seconds part, use the syntax >type_name(fsp), where type_name is TIME, DATETIME, or TIMESTAMP, and fsp is the fractional seconds precision. For example:</p>\n  \n  <p>CREATE TABLE t1 (t TIME(3), dt DATETIME(6));</p>\n</blockquote>\n\n<h2>MySQL Connector/J &lt; 5.1.23 stripped off fractions</h2>\n\n<p><a href=\"http://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html\" rel=\"nofollow\">http://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html</a></p>\n\n<blockquote>\n  <p>If a timestamp value was passed through prepared statement parameters, fractional-second precision was stripped off, even if the underlying field (such as VARCHAR(255)) could store the full value. A workaround was to convert the timestamp value to a string when specifying the prepared statement argument, for example prepped_stmt.setString(1,time_stamp.toString(). This was partly fixed in 5.1.19, but that fix did not cover the case with the setting useLegacyDatetimeCode=true. (Bug #11750017, Bug #40279, Bug #60584)</p>\n</blockquote>\n\n<h1>Problem: Hibernate uses 3 fraction digits ignoring MySQL</h1>\n\n<p>When Hibernate inserts an object that supports versioning into the database, it does something like this:</p>\n\n<pre><code>2014-nov-07;20:32:05.775 TRACE org.hibernate.engine.internal.Versioning - Seeding: 2014-11-07 20:32:05.774\n2014-nov-07;20:32:05.786 TRACE org.hibernate.persister.entity.AbstractEntityPersister - Version: 7-11-14 20:32\n2014-nov-07;20:32:05.787 DEBUG org.hibernate.SQL - insert into A (b_id, version) values (?, ?)\nHibernate: insert into A (b_id, version) values (?, ?)\n2014-nov-07;20:32:05.799 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [1] as [BIGINT] - [null]\n2014-nov-07;20:32:05.799 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [2] as [TIMESTAMP] - [2014-11-07 20:32:05.774]\n</code></pre>\n\n<p>So Hibernate seems to use internally 3 digits for fractional second precision and also tries to store the fraction into the database, even when the MySQL version doesn't support it.</p>\n\n<p>When using the older Connector/J, the fractions are stripped off and the datetime (with second precision) is stored.\nWhen entity A is changed, Hibernate performs optimistic locking, and something like this happens:</p>\n\n<pre><code>2014-nov-07;20:32:05.822 DEBUG org.hibernate.internal.util.EntityPrinter - entities.B{id=27}\n2014-nov-07;20:32:05.822 DEBUG org.hibernate.internal.util.EntityPrinter - entities.A{b=entities.B#27, id=29, version=2014-11-07 20:32:05.774}\n2014-nov-07;20:32:05.825 TRACE org.hibernate.persister.entity.AbstractEntityPersister - Updating entity: [entities.A#29]\n2014-nov-07;20:32:05.825 TRACE org.hibernate.persister.entity.AbstractEntityPersister - Existing version: 7-11-14 20:32 -&gt; New version:7-11-14 20:32\n2014-nov-07;20:32:05.825 DEBUG org.hibernate.SQL - update A set b_id=?, version=? where id=? and version=?\nHibernate: update A set b_id=?, version=? where id=? and version=?\n2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [1] as [BIGINT] - [27]\n2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [2] as [TIMESTAMP] - [2014-11-07 20:32:05.82]\n2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [3] as [BIGINT] - [29]\n2014-nov-07;20:32:05.826 TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [4] as [TIMESTAMP] - [2014-11-07 20:32:05.774]\n</code></pre>\n\n<p>(Not sure why Hibernate shows \"20:32:05.82\" as binding parameter, I would expect it to be a higher version, so maybe it truncate zeros and means \"20:32:05.820\", which is the same a the log fraction.)</p>\n\n<p>But because the older Connector/J strips off the fraction in both the insert statement followed by also the Hibernate versioning update statement (in which the fraction is stripped from the SQL-WHERE clause), it doesn't cause the problem yet.</p>\n\n<p>But when the new version (>= 5.1.23) of Connector/J is used, the fractions are preserved and do reach the database. This basically isn't a problem yet, it is even better than without fractions, because it is safer in terms of concurrency.\nBut when the database column has type \"DATETIME\" (Hibernate default) which means \"DATETIME(0)\", which has no fractions, then the Hibernate versioning problem will occur, because</p>\n\n<pre><code>update A set b_id=?, version=? where id=? and version=?\n</code></pre>\n\n<p>will result in 0 updates, causing Hibernate to think that the \"row was updated or deleted by another transaction\".</p>\n\n<h1>Solution 1 (tested): add fractions to the column</h1>\n\n<p>Change the column type from \"DATETIME\" to \"DATETIME(3)\". This is probably a safe operation because MySQL simply appends fractions 000 to the datetimes.</p>\n\n<p>For completeness, also add this to the versioned timestamp instance variable:</p>\n\n<pre><code>@Column(columnDefinition = \"datetime(3)\")\n</code></pre>\n\n<h1>Solution 2 (tested): let MySQL generate the date version</h1>\n\n<p>If you don't want to add fractions to the column, but letting the database generate versions is no problem, then you can use the following approach:</p>\n\n<p>Add the following to the verioned timestamp instance variable:</p>\n\n<pre><code>@Generated(GenerationTime.ALWAYS)\n</code></pre>\n\n<p>This will let Hibernate use the database column to generate versions.</p>\n\n<p>Then change the column type from \"datetime\" to:</p>\n\n<pre><code>DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n</code></pre>\n\n<p>This solution doesn't use fractions and thus is dangerous in terms of concurrency, even though is was normal behavior in Hibernate combined with using MySQL Connector/J &lt; 5.1.23 or MySQL Server &lt; 5.6.4.</p>\n\n<h1>Solution 3: use dedicated version numbers instead of datetimes</h1>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch05.html#d5e1246\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch05.html#d5e1246</a></p>\n\n<p>This is safe in terms of concurrency, but less convenient if you need the update-datetime anyway.</p>\n\n<h1>Other solutions (untested)</h1>\n\n<p>Another solution might by implementing your own org.hibernate.usertype.UserVersionType.</p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/core/4.3/javadocs/org/hibernate/usertype/UserVersionType.html\" rel=\"nofollow\">https://docs.jboss.org/hibernate/core/4.3/javadocs/org/hibernate/usertype/UserVersionType.html</a></p>\n\n<p><a href=\"https://developer.jboss.org/wiki/UserTypeForNon-defaultTimeZone\" rel=\"nofollow\">https://developer.jboss.org/wiki/UserTypeForNon-defaultTimeZone</a></p>\n\n<p>Another solution for new Hibernate applications might be the modification of the MySQL dialect class to automatically use datetimes with fractions.</p>\n\n<h1>Discussion</h1>\n\n<p>It's a bit difficult to say whether this is a Hibernate bug. The best solution would be if Hibernate would automatically test whether the MySQL environment supports fractional datetime columns and if so, default to \"datetime(3)\" columns instead of \"datetime\".\nOr Hibernate should remove fractions from its internal versioning when the MySQL environment doesn't support it, but that is a bit dangerous in terms of concurrency.</p>\n\n<h1>Note</h1>\n\n<p>When using TemporalType.TIMESTAMP, Hibernates MySQL5InnoDBDialect doesn't use MySQL's TIMESTAMP, but uses DATETIME instead.</p>\n"},{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418314835,"creation_date":1418314835,"answer_id":27427571,"question_id":24525468,"body_markdown":"Kudos for Devabc, an excellent explanation. In fact the described issue is already reported as a hibernate issue\r\n\r\nhttps://hibernate.atlassian.net/browse/HHH-3822 and related https://hibernate.atlassian.net/browse/HHH-9444, but more interestingly, a fix is suggested for mysql DB &gt; 5.6.4. Basically, the proposal is to use a new Dialect implementation an extension of the MySQL5InnoDBDialect and register a convertor\r\n\r\n    public class ImprovedMySQL56Dialect extends MySQL5InnoDBDialect {\r\n    \r\n        public ImprovedMySQL56Dialect() {\r\n            super();\r\n            // http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html\r\n            registerColumnType( Types.TIMESTAMP, &quot;datetime(6)&quot; );\r\n        }\r\n    }\r\n\r\nits described in https://hibernate.atlassian.net/browse/HHH-8401","title":"MySQL Hibernate Exception","body":"<p>Kudos for Devabc, an excellent explanation. In fact the described issue is already reported as a hibernate issue</p>\n\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-3822\" rel=\"nofollow\">https://hibernate.atlassian.net/browse/HHH-3822</a> and related <a href=\"https://hibernate.atlassian.net/browse/HHH-9444\" rel=\"nofollow\">https://hibernate.atlassian.net/browse/HHH-9444</a>, but more interestingly, a fix is suggested for mysql DB > 5.6.4. Basically, the proposal is to use a new Dialect implementation an extension of the MySQL5InnoDBDialect and register a convertor</p>\n\n<pre><code>public class ImprovedMySQL56Dialect extends MySQL5InnoDBDialect {\n\n    public ImprovedMySQL56Dialect() {\n        super();\n        // http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html\n        registerColumnType( Types.TIMESTAMP, \"datetime(6)\" );\n    }\n}\n</code></pre>\n\n<p>its described in <a href=\"https://hibernate.atlassian.net/browse/HHH-8401\" rel=\"nofollow\">https://hibernate.atlassian.net/browse/HHH-8401</a></p>\n"}],"owner":{"account_id":2204717,"reputation":356,"user_id":1948226,"accept_rate":70,"display_name":"uti.devel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2962,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1698824145,"creation_date":1404286679,"question_id":24525468,"body_markdown":"i recently updated from mysql-connector-java 5.1.22 to 5.1.23. After that my application is constantly crashing on update or delete of persisted objects.\r\n\r\nMysql Connectors up to 5.1.22 (including 5.1.22) are working fine. MySQL Connectors from 5.1.23 (including 5.1.23) are not working.\r\n\r\nCause of the Problem seems to be the Time stamp i use for Optimistic locking. Optimistic locking with a Version seems to work fine. But i can&#39;t change the whole application and i need the Time stamp fields.\r\n\r\nThe changelog of 5.1.23 states the following bugfix: \r\n\r\n&gt; If a timestamp value was passed through prepared statement parameters,\r\n&gt; fractional-second precision was stripped off, even if the underlying\r\n&gt; field (such as VARCHAR(255)) could store the full value. A workaround\r\n&gt; was to convert the timestamp value to a string when specifying the\r\n&gt; prepared statement argument, for example\r\n&gt; prepped_stmt.setString(1,time_stamp.toString(). This was partly fixed\r\n&gt; in 5.1.19, but that fix did not cover the case with the setting\r\n&gt; useLegacyDatetimeCode=true. (Bug #11750017, Bug #40279, Bug #60584)\r\n\r\nI suspect this is the cause of my problems. Any ideas how to solve the problem? I appended a simple sample code causing the error.\r\n\r\n---Exception\r\n\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.4.Final}\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.3.5.Final}\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH000402: Using Hibernate built-in connection pool (not for production use!)\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH000401: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hibernatedb?useFastDateParsing=false]\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH000046: Connection properties: {user=root, password=****}\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH000006: Autocommit mode: false\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\r\n    INFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\r\n    Jul 02, 2014 9:18:34 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n    Jul 02, 2014 9:18:35 AM org.hibernate.tool.hbm2ddl.SchemaExport execute\r\n    INFO: HHH000227: Running hbm2ddl schema export\r\n    Jul 02, 2014 9:18:35 AM org.hibernate.tool.hbm2ddl.SchemaExport execute\r\n    INFO: HHH000230: Schema export complete\r\n    MyPersistentObject (2014-07-02 09:18:35.0) : First persistent object\r\n    MyPersistentObject (2014-07-02 09:18:35.0) : A second persistent object\r\n    org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [MyPersistentObject#2]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2541)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3403)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3630)\r\n    \tat org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:114)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\r\n    \tat HibernateExample.manipulatePersistentObjects(HibernateExample.java:143)\r\n    \tat HibernateExample.main(HibernateExample.java:15)\r\n    MyPersistentObject (2014-07-02 09:18:35.0) : First persistent object\r\n    MyPersistentObject (2014-07-02 09:18:35.0) : A second persistent object\r\n    Jul 02, 2014 9:18:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\n    INFO: HHH000030: Cleaning up connection pool [jdbc:mysql://localhost:3306/hibernatedb?useFastDateParsing=false]\r\n\r\n\r\n---main class\r\n\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    \r\n    public class HibernateExample {\r\n    \tprivate final org.hibernate.SessionFactory _sessionFactory;\r\n    \tprivate MyPersistentObject _myPersistentObject1;\r\n    \tprivate MyPersistentObject _myPersistentObject2;\r\n    \tprivate MyPersistentObject _myPersistentObject3;\r\n    \r\n    \tfinal static public void main(final String arguments[]) {\r\n    \t\tHibernateExample example;\r\n    \t\texample = new HibernateExample();\r\n    \t\texample.createPersistentObjects();\r\n    \t\texample.readAndDisplayPersistentObjects();\r\n    \t\texample.manipulatePersistentObjects();\r\n    \t\texample.readAndDisplayPersistentObjects();\r\n    \t\texample.cleanup();\r\n    \t}\r\n    \r\n    \tprivate HibernateExample() {\r\n    \t\torg.hibernate.cfg.Configuration configuration;\r\n    \r\n    \t\tjava.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(java.util.logging.Level.SEVERE); // Supress\r\n    \t\t// Hibernate&#39;s\r\n    \t\t// excessive\r\n    \t\t// output\r\n    \r\n    \t\tconfiguration = new org.hibernate.cfg.Configuration();\r\n    \t\tconfiguration.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;); // Customize\r\n    \t\t// this\r\n    \t\t// for\r\n    \t\t// your\r\n    \t\t// particular\r\n    \t\t// RDBMS\r\n    \t\tconfiguration.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;com.mysql.jdbc.Driver&quot;); // Customize\r\n    \t\t// this\r\n    \t\t// for\r\n    \t\t// your\r\n    \t\t// particular\r\n    \t\t// RDBMS\r\n    \r\n    \t\t// configuration.setProperty(&quot;hibernate.connection.url&quot;,\r\n    \t\t// &quot;jdbc:mysql://localhost:3306/hibernatedb?useLegacyDatetimeCode=true&quot;);\r\n    \t\t// // Customize\r\n    \r\n    \t\tconfiguration.setProperty(&quot;hibernate.connection.url&quot;,\r\n    \t\t\t\t&quot;jdbc:mysql://localhost:3306/hibernatedb?useFastDateParsing=false&quot;); // Customize\r\n    \r\n    \t\t// this\r\n    \t\t// for\r\n    \t\t// your\r\n    \t\t// particular\r\n    \t\t// RDBMS\r\n    \t\tconfiguration.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;); // Customize\r\n    \t\t// this\r\n    \t\t// for\r\n    \t\t// your\r\n    \t\t// particular\r\n    \t\t// RDBMS\r\n    \t\tconfiguration.setProperty(&quot;hibernate.connection.password&quot;, &quot;root&quot;); // Customize\r\n    \t\t// this\r\n    \t\t// for\r\n    \t\t// your\r\n    \t\t// particular\r\n    \t\t// RDBMS\r\n    \t\t// installation\r\n    \t\tconfiguration.setProperty(&quot;hibernate.connection.pool_size&quot;, &quot;1&quot;); // Customize\r\n    \t\t// this\r\n    \t\t// for\r\n    \t\t// your\r\n    \t\t// particular\r\n    \t\t// RDBMS\r\n    \t\t// installation\r\n    \t\tconfiguration.setProperty(&quot;hibernate.cache.provider_class&quot;, &quot;org.hibernate.cache.internal.NoCacheProvider&quot;); // This\r\n    \t\t// is\r\n    \t\t// not\r\n    \t\t// ready\r\n    \t\t// for\r\n    \t\t// prime-time\r\n    \t\tconfiguration.setProperty(&quot;hibernate.show_sql&quot;, &quot;false&quot;); // Tell\r\n    \t\t// hibernate\r\n    \t\t// to not\r\n    \t\t// echo the\r\n    \t\t// SQL\r\n    \t\tconfiguration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\r\n    \r\n    \t\tconfiguration.setProperty(&quot;useLegacyDatetimeCode&quot;, &quot;true&quot;);\r\n    \r\n    \t\tconfiguration.addAnnotatedClass(MyPersistentObject.class);\r\n    \r\n    \t\t// configuration.configure();\r\n    \t\tfinal ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n    \t\t\t\tconfiguration.getProperties()).build();\r\n    \t\tthis._sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n    \r\n    \t}\r\n    \r\n    \tfinal private void createPersistentObjects() {\r\n    \t\torg.hibernate.Session session;\r\n    \t\tboolean committed;\r\n    \t\torg.hibernate.Transaction transaction;\r\n    \r\n    \t\tsession = this._sessionFactory.openSession();\r\n    \r\n    \t\ttry {\r\n    \t\t\tcommitted = false;\r\n    \t\t\ttransaction = session.beginTransaction();\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tthis._myPersistentObject1 = new MyPersistentObject(&quot;First persistent object&quot;, new java.util.Date());\r\n    \t\t\t\tsession.save(this._myPersistentObject1);\r\n    \r\n    \t\t\t\tthis._myPersistentObject2 = new MyPersistentObject(&quot;A second persistent object&quot;, new java.util.Date());\r\n    \t\t\t\tsession.save(this._myPersistentObject2);\r\n    \r\n    \t\t\t\ttransaction.commit();\r\n    \t\t\t\tsession.flush();\r\n    \t\t\t\tcommitted = true;\r\n    \t\t\t} finally {\r\n    \t\t\t\tif (!committed) {\r\n    \t\t\t\t\ttransaction.rollback();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tsession.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tfinal private void manipulatePersistentObjects() {\r\n    \t\torg.hibernate.Session session;\r\n    \t\torg.hibernate.Transaction transaction;\r\n    \r\n    \t\tsession = this._sessionFactory.openSession();\r\n    \r\n    \t\ttry {\r\n    \t\t\ttransaction = session.beginTransaction();\r\n    \r\n    \t\t\tthis._myPersistentObject3 = new MyPersistentObject(&quot;A third persistent object&quot;, new java.util.Date());\r\n    \t\t\t// session.save(this._myPersistentObject3);\r\n    \r\n    \t\t\tsession.delete(this._myPersistentObject2);\r\n    \r\n    \t\t\ttransaction.commit();\r\n    \t\t\tsession.flush();\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \r\n    \t\t\tsession.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tfinal private void readAndDisplayPersistentObjects() {\r\n    \t\torg.hibernate.Session session;\r\n    \t\tjava.util.List&lt;MyPersistentObject&gt; result;\r\n    \r\n    \t\tsession = this._sessionFactory.openSession();\r\n    \r\n    \t\ttry {\r\n    \t\t\tsession.beginTransaction();\r\n    \r\n    \t\t\tresult = (session.createQuery(&quot;from MyPersistentObject&quot;).list());\r\n    \r\n    \t\t\tfor (final MyPersistentObject persistentObject : result) {\r\n    \t\t\t\tSystem.out.println(&quot;MyPersistentObject (&quot; + persistentObject.getDate() + &quot;) : &quot;\r\n    \t\t\t\t\t\t+ persistentObject.getTitle());\r\n    \t\t\t}\r\n    \r\n    \t\t\tsession.getTransaction().commit();\r\n    \t\t\tsession.flush();\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tsession.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tfinal private void cleanup() {\r\n    \t\tif (this._sessionFactory != null) {\r\n    \t\t\tthis._sessionFactory.close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n---Object\r\n\r\n    import java.util.Calendar;\r\n    \r\n    import javax.persistence.PrePersist;\r\n    import javax.persistence.PreUpdate;\r\n    import javax.persistence.Version;\r\n    \r\n    @javax.persistence.Entity\r\n    public class MyPersistentObject {\r\n    \r\n    \t@javax.persistence.Id\r\n    \t@javax.persistence.GeneratedValue(generator = &quot;increment&quot;)\r\n    \t@org.hibernate.annotations.GenericGenerator(name = &quot;increment&quot;, strategy = &quot;increment&quot;)\r\n    \tprivate Long _persistenceID;\r\n    \tprivate String _title;\r\n    \t@javax.persistence.Temporal(javax.persistence.TemporalType.TIMESTAMP)\r\n    \t@javax.persistence.Column(name = &quot;OBJECT_DATE&quot;)\r\n    \tprivate java.util.Date _date;\r\n    \r\n    \t@Version\r\n    \tprivate Calendar timestemp;\r\n    \r\n    \t// Hibernate needs a no-argument constructor\r\n    \tprivate MyPersistentObject() {\r\n    \t}\r\n    \r\n    \t// for application use, to create new persistent objects\r\n    \tpublic MyPersistentObject(final String title, final java.util.Date date) {\r\n    \t\tthis._title = title;\r\n    \t\tthis._date = date;\r\n    \t}\r\n    \r\n    \tpublic java.util.Date getDate() {\r\n    \t\treturn this._date;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn this._title;\r\n    \t}\r\n    \r\n    \t@PrePersist\r\n    \tprotected void onCreate() {\r\n    \t\tSystem.out.println(&quot;create&quot;);\r\n    \t}\r\n    \r\n    \t@PreUpdate\r\n    \tprotected void onUpdate() {\r\n    \t\tSystem.out.println(&quot;update&quot;);\r\n    \t}\r\n    }\r\n\r\n---pom\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;Hibernate34Migrate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Hibernate34Migrate&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.31&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"MySQL Hibernate Exception","body":"<p>i recently updated from mysql-connector-java 5.1.22 to 5.1.23. After that my application is constantly crashing on update or delete of persisted objects.</p>\n\n<p>Mysql Connectors up to 5.1.22 (including 5.1.22) are working fine. MySQL Connectors from 5.1.23 (including 5.1.23) are not working.</p>\n\n<p>Cause of the Problem seems to be the Time stamp i use for Optimistic locking. Optimistic locking with a Version seems to work fine. But i can't change the whole application and i need the Time stamp fields.</p>\n\n<p>The changelog of 5.1.23 states the following bugfix: </p>\n\n<blockquote>\n  <p>If a timestamp value was passed through prepared statement parameters,\n  fractional-second precision was stripped off, even if the underlying\n  field (such as VARCHAR(255)) could store the full value. A workaround\n  was to convert the timestamp value to a string when specifying the\n  prepared statement argument, for example\n  prepped_stmt.setString(1,time_stamp.toString(). This was partly fixed\n  in 5.1.19, but that fix did not cover the case with the setting\n  useLegacyDatetimeCode=true. (Bug #11750017, Bug #40279, Bug #60584)</p>\n</blockquote>\n\n<p>I suspect this is the cause of my problems. Any ideas how to solve the problem? I appended a simple sample code causing the error.</p>\n\n<p>---Exception</p>\n\n<pre><code>Jul 02, 2014 9:18:34 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.4.Final}\nJul 02, 2014 9:18:34 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.3.5.Final}\nJul 02, 2014 9:18:34 AM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nJul 02, 2014 9:18:34 AM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nJul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH000402: Using Hibernate built-in connection pool (not for production use!)\nJul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH000401: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hibernatedb?useFastDateParsing=false]\nJul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH000046: Connection properties: {user=root, password=****}\nJul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH000006: Autocommit mode: false\nJul 02, 2014 9:18:34 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000115: Hibernate connection pool size: 1 (min=1)\nJul 02, 2014 9:18:34 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nJul 02, 2014 9:18:34 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\nINFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\nJul 02, 2014 9:18:34 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\nINFO: HHH000397: Using ASTQueryTranslatorFactory\nJul 02, 2014 9:18:35 AM org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000227: Running hbm2ddl schema export\nJul 02, 2014 9:18:35 AM org.hibernate.tool.hbm2ddl.SchemaExport execute\nINFO: HHH000230: Schema export complete\nMyPersistentObject (2014-07-02 09:18:35.0) : First persistent object\nMyPersistentObject (2014-07-02 09:18:35.0) : A second persistent object\norg.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [MyPersistentObject#2]\n    at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2541)\n    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3403)\n    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3630)\n    at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:114)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\n    at HibernateExample.manipulatePersistentObjects(HibernateExample.java:143)\n    at HibernateExample.main(HibernateExample.java:15)\nMyPersistentObject (2014-07-02 09:18:35.0) : First persistent object\nMyPersistentObject (2014-07-02 09:18:35.0) : A second persistent object\nJul 02, 2014 9:18:35 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\nINFO: HHH000030: Cleaning up connection pool [jdbc:mysql://localhost:3306/hibernatedb?useFastDateParsing=false]\n</code></pre>\n\n<p>---main class</p>\n\n<pre><code>import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.service.ServiceRegistry;\n\npublic class HibernateExample {\n    private final org.hibernate.SessionFactory _sessionFactory;\n    private MyPersistentObject _myPersistentObject1;\n    private MyPersistentObject _myPersistentObject2;\n    private MyPersistentObject _myPersistentObject3;\n\n    final static public void main(final String arguments[]) {\n        HibernateExample example;\n        example = new HibernateExample();\n        example.createPersistentObjects();\n        example.readAndDisplayPersistentObjects();\n        example.manipulatePersistentObjects();\n        example.readAndDisplayPersistentObjects();\n        example.cleanup();\n    }\n\n    private HibernateExample() {\n        org.hibernate.cfg.Configuration configuration;\n\n        java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(java.util.logging.Level.SEVERE); // Supress\n        // Hibernate's\n        // excessive\n        // output\n\n        configuration = new org.hibernate.cfg.Configuration();\n        configuration.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQLDialect\"); // Customize\n        // this\n        // for\n        // your\n        // particular\n        // RDBMS\n        configuration.setProperty(\"hibernate.connection.driver_class\", \"com.mysql.jdbc.Driver\"); // Customize\n        // this\n        // for\n        // your\n        // particular\n        // RDBMS\n\n        // configuration.setProperty(\"hibernate.connection.url\",\n        // \"jdbc:mysql://localhost:3306/hibernatedb?useLegacyDatetimeCode=true\");\n        // // Customize\n\n        configuration.setProperty(\"hibernate.connection.url\",\n                \"jdbc:mysql://localhost:3306/hibernatedb?useFastDateParsing=false\"); // Customize\n\n        // this\n        // for\n        // your\n        // particular\n        // RDBMS\n        configuration.setProperty(\"hibernate.connection.username\", \"root\"); // Customize\n        // this\n        // for\n        // your\n        // particular\n        // RDBMS\n        configuration.setProperty(\"hibernate.connection.password\", \"root\"); // Customize\n        // this\n        // for\n        // your\n        // particular\n        // RDBMS\n        // installation\n        configuration.setProperty(\"hibernate.connection.pool_size\", \"1\"); // Customize\n        // this\n        // for\n        // your\n        // particular\n        // RDBMS\n        // installation\n        configuration.setProperty(\"hibernate.cache.provider_class\", \"org.hibernate.cache.internal.NoCacheProvider\"); // This\n        // is\n        // not\n        // ready\n        // for\n        // prime-time\n        configuration.setProperty(\"hibernate.show_sql\", \"false\"); // Tell\n        // hibernate\n        // to not\n        // echo the\n        // SQL\n        configuration.setProperty(\"hibernate.hbm2ddl.auto\", \"create\");\n\n        configuration.setProperty(\"useLegacyDatetimeCode\", \"true\");\n\n        configuration.addAnnotatedClass(MyPersistentObject.class);\n\n        // configuration.configure();\n        final ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n                configuration.getProperties()).build();\n        this._sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\n    }\n\n    final private void createPersistentObjects() {\n        org.hibernate.Session session;\n        boolean committed;\n        org.hibernate.Transaction transaction;\n\n        session = this._sessionFactory.openSession();\n\n        try {\n            committed = false;\n            transaction = session.beginTransaction();\n\n            try {\n                this._myPersistentObject1 = new MyPersistentObject(\"First persistent object\", new java.util.Date());\n                session.save(this._myPersistentObject1);\n\n                this._myPersistentObject2 = new MyPersistentObject(\"A second persistent object\", new java.util.Date());\n                session.save(this._myPersistentObject2);\n\n                transaction.commit();\n                session.flush();\n                committed = true;\n            } finally {\n                if (!committed) {\n                    transaction.rollback();\n                }\n            }\n        } finally {\n            session.close();\n        }\n    }\n\n    final private void manipulatePersistentObjects() {\n        org.hibernate.Session session;\n        org.hibernate.Transaction transaction;\n\n        session = this._sessionFactory.openSession();\n\n        try {\n            transaction = session.beginTransaction();\n\n            this._myPersistentObject3 = new MyPersistentObject(\"A third persistent object\", new java.util.Date());\n            // session.save(this._myPersistentObject3);\n\n            session.delete(this._myPersistentObject2);\n\n            transaction.commit();\n            session.flush();\n        } catch (final Exception e) {\n            e.printStackTrace();\n        } finally {\n\n            session.close();\n        }\n    }\n\n    final private void readAndDisplayPersistentObjects() {\n        org.hibernate.Session session;\n        java.util.List&lt;MyPersistentObject&gt; result;\n\n        session = this._sessionFactory.openSession();\n\n        try {\n            session.beginTransaction();\n\n            result = (session.createQuery(\"from MyPersistentObject\").list());\n\n            for (final MyPersistentObject persistentObject : result) {\n                System.out.println(\"MyPersistentObject (\" + persistentObject.getDate() + \") : \"\n                        + persistentObject.getTitle());\n            }\n\n            session.getTransaction().commit();\n            session.flush();\n        } catch (final Exception e) {\n            e.printStackTrace();\n        } finally {\n            session.close();\n        }\n    }\n\n    final private void cleanup() {\n        if (this._sessionFactory != null) {\n            this._sessionFactory.close();\n        }\n    }\n}\n</code></pre>\n\n<p>---Object</p>\n\n<pre><code>import java.util.Calendar;\n\nimport javax.persistence.PrePersist;\nimport javax.persistence.PreUpdate;\nimport javax.persistence.Version;\n\n@javax.persistence.Entity\npublic class MyPersistentObject {\n\n    @javax.persistence.Id\n    @javax.persistence.GeneratedValue(generator = \"increment\")\n    @org.hibernate.annotations.GenericGenerator(name = \"increment\", strategy = \"increment\")\n    private Long _persistenceID;\n    private String _title;\n    @javax.persistence.Temporal(javax.persistence.TemporalType.TIMESTAMP)\n    @javax.persistence.Column(name = \"OBJECT_DATE\")\n    private java.util.Date _date;\n\n    @Version\n    private Calendar timestemp;\n\n    // Hibernate needs a no-argument constructor\n    private MyPersistentObject() {\n    }\n\n    // for application use, to create new persistent objects\n    public MyPersistentObject(final String title, final java.util.Date date) {\n        this._title = title;\n        this._date = date;\n    }\n\n    public java.util.Date getDate() {\n        return this._date;\n    }\n\n    public String getTitle() {\n        return this._title;\n    }\n\n    @PrePersist\n    protected void onCreate() {\n        System.out.println(\"create\");\n    }\n\n    @PreUpdate\n    protected void onUpdate() {\n        System.out.println(\"update\");\n    }\n}\n</code></pre>\n\n<p>---pom</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Hibernate34Migrate&lt;/groupId&gt;\n    &lt;artifactId&gt;Hibernate34Migrate&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.5.Final&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;4.3.5.Final&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.31&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jakarta-ee","jpa","hql"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698822911,"creation_date":1401166031,"answer_id":23881238,"question_id":23878459,"body_markdown":"HQL supports both [sub selects][1] as well as collection expressions.\r\n\r\nAll the users not existing in the project entity means all users who have no project assigned or users with an empty project list:\r\n\r\n    select u from Utilisateur where u.projets is empty\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-subqueries","title":"HQL:How to make Not Exists Query?","body":"<p>HQL supports both <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-subqueries\" rel=\"nofollow noreferrer\">sub selects</a> as well as collection expressions.</p>\n<p>All the users not existing in the project entity means all users who have no project assigned or users with an empty project list:</p>\n<pre><code>select u from Utilisateur where u.projets is empty\n</code></pre>\n"}],"owner":{"account_id":4292361,"reputation":136,"user_id":3508375,"accept_rate":75,"display_name":"A M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1731,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23881238,"answer_count":1,"score":2,"last_activity_date":1698822911,"creation_date":1401143175,"question_id":23878459,"body_markdown":"I have a ManyToMany relationship between &quot;utilisateur&quot; and &quot;projet&quot;\r\nand I want to extract all the users not existing  in the project entity\r\nthen this is my query:\r\n\r\n    Query req=utilisateurDAO.createQuery(&quot;select u from utilisateur u where not in(select p from projet p where p.utilisateurs.iduser=u.iduser) &quot;);\r\nand this is  &quot;Projet&quot; entity:\r\n\r\n            @Entity\r\n            public class Projet implements Serializable {\r\n                 @Column(name = &quot;idprojet&quot;, nullable = false)\r\n    \t         @Id\r\n    \t         @GeneratedValue(strategy=GenerationType.IDENTITY)\t\r\n    \t         Integer idprojet;\r\n                 @ManyToMany(mappedBy=&quot;projets&quot;, fetch = FetchType.LAZY)\r\n            \t java.util.List&lt;com.gestion.projet.domain.Utilisateur&gt; utilisateurs;\r\n        }\r\nand this the &quot;Utilisateur&quot; Entity\r\n\r\n\t @Entity\r\n            public class Utilisateur implements Serializable {\r\n                 @Column(name = &quot;iduser&quot;, nullable = false)\r\n    \t         @Id\r\n    \t         @GeneratedValue(strategy=GenerationType.IDENTITY)\t\r\n    \t         Integer iduser;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(schema = &quot;public&quot;, name = &quot;join_membre_projet&quot;, joinColumns = { @JoinColumn(name = &quot;iduser&quot;, referencedColumnName = &quot;iduser&quot;, nullable = false, updatable = false) }, inverseJoinColumns = { @JoinColumn(name = &quot;idprojet&quot;, referencedColumnName = &quot;idprojet&quot;, nullable = false, updatable = false) })\r\n    \tjava.util.List&lt;com.gestion.projet.domain.Projet&gt; projets;\r\n    }\r\nand i dont know why does not work?","title":"HQL:How to make Not Exists Query?","body":"<p>I have a ManyToMany relationship between \"utilisateur\" and \"projet\"\nand I want to extract all the users not existing  in the project entity\nthen this is my query:</p>\n\n<pre><code>Query req=utilisateurDAO.createQuery(\"select u from utilisateur u where not in(select p from projet p where p.utilisateurs.iduser=u.iduser) \");\n</code></pre>\n\n<p>and this is  \"Projet\" entity:</p>\n\n<pre><code>        @Entity\n        public class Projet implements Serializable {\n             @Column(name = \"idprojet\", nullable = false)\n             @Id\n             @GeneratedValue(strategy=GenerationType.IDENTITY)  \n             Integer idprojet;\n             @ManyToMany(mappedBy=\"projets\", fetch = FetchType.LAZY)\n             java.util.List&lt;com.gestion.projet.domain.Utilisateur&gt; utilisateurs;\n    }\n</code></pre>\n\n<p>and this the \"Utilisateur\" Entity</p>\n\n<pre><code> @Entity\n        public class Utilisateur implements Serializable {\n             @Column(name = \"iduser\", nullable = false)\n             @Id\n             @GeneratedValue(strategy=GenerationType.IDENTITY)  \n             Integer iduser;\n\n@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(schema = \"public\", name = \"join_membre_projet\", joinColumns = { @JoinColumn(name = \"iduser\", referencedColumnName = \"iduser\", nullable = false, updatable = false) }, inverseJoinColumns = { @JoinColumn(name = \"idprojet\", referencedColumnName = \"idprojet\", nullable = false, updatable = false) })\n    java.util.List&lt;com.gestion.projet.domain.Projet&gt; projets;\n}\n</code></pre>\n\n<p>and i dont know why does not work?</p>\n"},{"tags":["java","random","uuid"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1389194982,"post_id":20999792,"comment_id":31557827,"body_markdown":"`randomUUID()` doesn&#39;t collide very often.","body":"<code>randomUUID()</code> doesn&#39;t collide very often."},{"owner":{"account_id":5292912,"reputation":3395,"user_id":4224901,"accept_rate":65,"display_name":"Amr El Aswar"},"score":3,"creation_date":1570034077,"post_id":20999792,"comment_id":102789516,"body_markdown":"Even if the chances are very low, why not append an epoch timestamp to the UUID ? That would reduce the chance of collision even more than it already is.","body":"Even if the chances are very low, why not append an epoch timestamp to the UUID ? That would reduce the chance of collision even more than it already is."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1633982543,"post_id":20999792,"comment_id":122900132,"body_markdown":"@Amroelaswar Then you should just be using [Version 1](https://en.m.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)) (a point in space and time) or Version 2 UUIDs rather than Version 4 (random).","body":"@Amroelaswar Then you should just be using <a href=\"https://en.m.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)\" rel=\"nofollow noreferrer\">Version 1</a> (a point in space and time) or Version 2 UUIDs rather than Version 4 (random)."}],"answers":[{"tags":[],"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"down_vote_count":1,"up_vote_count":87,"is_accepted":true,"score":86,"last_activity_date":1389196979,"creation_date":1389194991,"answer_id":20999821,"question_id":20999792,"body_markdown":"If you get a UUID collision, go play the lottery next.\n\nFrom Wikipedia:\n\n&gt; Randomly generated UUIDs have 122 random bits. Out of a total of 128\n&gt; bits, four bits are used for the version (&#39;Randomly generated UUID&#39;),\n&gt; and two bits for the variant (&#39;Leach-Salz&#39;). \n&gt;\n&gt; With random UUIDs, the\n&gt; chance of two having the same value can be calculated using\n&gt; probability theory (Birthday paradox). Using the approximation\n&gt;\n&gt; `p(n)\\approx 1-e^{-\\tfrac{n^2}{{2x}}}` \n&gt;\n&gt; these are the probabilities of an\n&gt; accidental clash after calculating n UUIDs, with x=2122: \n&gt; \n&gt; n probability\n&gt; 68,719,476,736 = 236  0.0000000000000004 (4 &#215; 10−16) \n&gt; 2,199,023,255,552 = 241   0.0000000000004 (4 &#215; 10−13) \n&gt; 70,368,744,177,664 = 246  0.0000000004 (4 &#215; 10−10) \n&gt;\n&gt; To put these numbers into perspective,\n&gt; the annual risk of someone being hit by a meteorite is estimated to be\n&gt; one chance in 17 billion, which means the probability is about\n&gt; 0.00000000006 (6 &#215; 10−11), equivalent to the odds of creating a few tens of trillions of &gt; UUIDs in a year and having one duplicate. In\n&gt; other words, only after generating 1 billion UUIDs every second for\n&gt; the next 100 years, the probability of creating just one duplicate\n&gt; would be about 50%. The probability of one duplicate would be about\n&gt; 50% if every person on earth owns 600 million UUIDs.","title":"Does randomUUID give a unique id?","body":"<p>If you get a UUID collision, go play the lottery next.</p>\n<p>From Wikipedia:</p>\n<blockquote>\n<p>Randomly generated UUIDs have 122 random bits. Out of a total of 128\nbits, four bits are used for the version ('Randomly generated UUID'),\nand two bits for the variant ('Leach-Salz').</p>\n<p>With random UUIDs, the\nchance of two having the same value can be calculated using\nprobability theory (Birthday paradox). Using the approximation</p>\n<p><code>p(n)\\approx 1-e^{-\\tfrac{n^2}{{2x}}}</code></p>\n<p>these are the probabilities of an\naccidental clash after calculating n UUIDs, with x=2122:</p>\n<p>n probability\n68,719,476,736 = 236  0.0000000000000004 (4 × 10−16)\n2,199,023,255,552 = 241   0.0000000000004 (4 × 10−13)\n70,368,744,177,664 = 246  0.0000000004 (4 × 10−10)</p>\n<p>To put these numbers into perspective,\nthe annual risk of someone being hit by a meteorite is estimated to be\none chance in 17 billion, which means the probability is about\n0.00000000006 (6 × 10−11), equivalent to the odds of creating a few tens of trillions of &gt; UUIDs in a year and having one duplicate. In\nother words, only after generating 1 billion UUIDs every second for\nthe next 100 years, the probability of creating just one duplicate\nwould be about 50%. The probability of one duplicate would be about\n50% if every person on earth owns 600 million UUIDs.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3737953,"reputation":2070,"user_id":3108453,"display_name":"SethB"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1389200818,"creation_date":1389195044,"answer_id":20999843,"question_id":20999792,"body_markdown":"Oracle UUID document. http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\r\n\r\nThey use this algorithm from the The Internet Engineering Task Force. http://www.ietf.org/rfc/rfc4122.txt\r\n\r\nA quote from the abstract.\r\n \r\n&gt; A UUID is 128 bits long, and can **guarantee**    uniqueness across\r\n&gt; space and time.\r\n\r\nWhile the abstract claims a guarantee, there are only `3.4 x 10^38` combinations. [CodeChimp](https://stackoverflow.com/users/1278839/codechimp) ","title":"Does randomUUID give a unique id?","body":"<p>Oracle UUID document. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html</a></p>\n\n<p>They use this algorithm from the The Internet Engineering Task Force. <a href=\"http://www.ietf.org/rfc/rfc4122.txt\" rel=\"noreferrer\">http://www.ietf.org/rfc/rfc4122.txt</a></p>\n\n<p>A quote from the abstract.</p>\n\n<blockquote>\n  <p>A UUID is 128 bits long, and can <strong>guarantee</strong>    uniqueness across\n  space and time.</p>\n</blockquote>\n\n<p>While the abstract claims a guarantee, there are only <code>3.4 x 10^38</code> combinations. <a href=\"https://stackoverflow.com/users/1278839/codechimp\">CodeChimp</a> </p>\n"},{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1698822822,"creation_date":1489081955,"answer_id":42702227,"question_id":20999792,"body_markdown":"Since a UUID has a finite size, there is no way for it to be unique across all of space and time.\r\n\r\nIf you need a UUID that is guaranteed to be unique within any reasonable use case, you can use Log4j 2&#39;s Uuid.getTimeBasedUuid(). It is guaranteed to be unique for about 8,900 years so long as you generate less than 10,000 UUIDs per millisecond. ","title":"Does randomUUID give a unique id?","body":"<p>Since a UUID has a finite size, there is no way for it to be unique across all of space and time.</p>\n<p>If you need a UUID that is guaranteed to be unique within any reasonable use case, you can use Log4j 2's Uuid.getTimeBasedUuid(). It is guaranteed to be unique for about 8,900 years so long as you generate less than 10,000 UUIDs per millisecond.</p>\n"},{"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621588735,"creation_date":1618579265,"answer_id":67126039,"question_id":20999792,"body_markdown":"From `UUID.randomUUID()` Javadoc:\r\n\r\n&gt; Static factory to retrieve a type 4 (pseudo randomly generated) UUID. The UUID is generated using a cryptographically strong pseudo random number generator.\r\n\r\nIt&#39;s random and therefore a collision will occur, definitely, as confirmed others in comments above/below that detected collisions very early. **Instead of a version 4 (random based) I would advice You to use version 1 (time based).**\r\n\r\n*Possible solutions:*\r\n\r\n**1) UUID utility from Log4j**\r\n\r\nYou can use 3rd party implementation from Log4j `UuidUtil.getTimeBasedUuid()` that is based on the current timestamp, measured in units of 100 nanoseconds from October 10, 1582, concatenated with the MAC address of the device where the UUID is created. Please see package `org.apache.logging.log4j.core.util` from artifact [log4j-core][1].\r\n\r\n**2) UUID utility from FasterXML**\r\n\r\nThere is also 3rd party implementation from FasterXML `Generators.timeBasedGenerator().generate()` that is based on time and MAC address, too. Please see package `com.fasterxml.uuid` from artifact [java-uuid-generator][2].\r\n\r\n**3) Do it on your own**\r\n\r\nOr You can implement Your own using constructor `new UUID(long mostSigBits, long leastSigBits)` from core Java. Please see following very nice explanation [Baeldung - Guide to UUID in Java][3] where October 15, 1582 (actually, very famous day) is used in implementation.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.uuid/java-uuid-generator\r\n  [3]: https://www.baeldung.com/java-uuid","title":"Does randomUUID give a unique id?","body":"<p>From <code>UUID.randomUUID()</code> Javadoc:</p>\n<blockquote>\n<p>Static factory to retrieve a type 4 (pseudo randomly generated) UUID. The UUID is generated using a cryptographically strong pseudo random number generator.</p>\n</blockquote>\n<p>It's random and therefore a collision will occur, definitely, as confirmed others in comments above/below that detected collisions very early. <strong>Instead of a version 4 (random based) I would advice You to use version 1 (time based).</strong></p>\n<p><em>Possible solutions:</em></p>\n<p><strong>1) UUID utility from Log4j</strong></p>\n<p>You can use 3rd party implementation from Log4j <code>UuidUtil.getTimeBasedUuid()</code> that is based on the current timestamp, measured in units of 100 nanoseconds from October 10, 1582, concatenated with the MAC address of the device where the UUID is created. Please see package <code>org.apache.logging.log4j.core.util</code> from artifact <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\" rel=\"nofollow noreferrer\">log4j-core</a>.</p>\n<p><strong>2) UUID utility from FasterXML</strong></p>\n<p>There is also 3rd party implementation from FasterXML <code>Generators.timeBasedGenerator().generate()</code> that is based on time and MAC address, too. Please see package <code>com.fasterxml.uuid</code> from artifact <a href=\"https://mvnrepository.com/artifact/com.fasterxml.uuid/java-uuid-generator\" rel=\"nofollow noreferrer\">java-uuid-generator</a>.</p>\n<p><strong>3) Do it on your own</strong></p>\n<p>Or You can implement Your own using constructor <code>new UUID(long mostSigBits, long leastSigBits)</code> from core Java. Please see following very nice explanation <a href=\"https://www.baeldung.com/java-uuid\" rel=\"nofollow noreferrer\">Baeldung - Guide to UUID in Java</a> where October 15, 1582 (actually, very famous day) is used in implementation.</p>\n"},{"tags":[],"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633982166,"creation_date":1633982166,"answer_id":69531802,"question_id":20999792,"body_markdown":"If you want to be *absolutely 100% dead certain* that there will be NO duplicates, just make a TokenHandler. All it needs is a synchronized method that generates a random UUID, loops over every single one that has been created (not very time efficient, sure, but if the token is to be used as a **session** ID then a good data structure is all that is needed to make this very fast still), and if the token is unique then the handler saves it before returning it.\r\n\r\nThis is seriously overkill though. Would be easier to just follow the suggestion of having your tokens be a combination of UUID and timestamp. If you use System.nanotime in addition to UUID I don&#39;t see there being a collision at any time in eternity.","title":"Does randomUUID give a unique id?","body":"<p>If you want to be <em>absolutely 100% dead certain</em> that there will be NO duplicates, just make a TokenHandler. All it needs is a synchronized method that generates a random UUID, loops over every single one that has been created (not very time efficient, sure, but if the token is to be used as a <strong>session</strong> ID then a good data structure is all that is needed to make this very fast still), and if the token is unique then the handler saves it before returning it.</p>\n<p>This is seriously overkill though. Would be easier to just follow the suggestion of having your tokens be a combination of UUID and timestamp. If you use System.nanotime in addition to UUID I don't see there being a collision at any time in eternity.</p>\n"}],"owner":{"account_id":44661,"reputation":9356,"user_id":131194,"accept_rate":63,"display_name":"birdy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42941,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":20999821,"answer_count":5,"score":43,"last_activity_date":1698822878,"creation_date":1389194908,"question_id":20999792,"body_markdown":"I am trying to create session tokens for my REST API. Each time the user logs in, I am creating a new token by \r\n\r\n    UUID token = UUID.randomUUID();\r\n    user.setSessionId(token.toString());\r\n    Sessions.INSTANCE.sessions.put(user.getName(), user.getSessionId());\r\n\r\nHowever, I am not sure how to protect against duplicate sessionTokens.\r\n\r\nFor example: Can there be a scenario when user1 signs in and gets a token `87955dc9-d2ca-4f79-b7c8-b0223a32532a` and user2 signs in and **also** gets a token `87955dc9-d2ca-4f79-b7c8-b0223a32532a`?\r\n\r\nIs there a better way of doing this? ","title":"Does randomUUID give a unique id?","body":"<p>I am trying to create session tokens for my REST API. Each time the user logs in, I am creating a new token by</p>\n<pre><code>UUID token = UUID.randomUUID();\nuser.setSessionId(token.toString());\nSessions.INSTANCE.sessions.put(user.getName(), user.getSessionId());\n</code></pre>\n<p>However, I am not sure how to protect against duplicate sessionTokens.</p>\n<p>For example: Can there be a scenario when user1 signs in and gets a token <code>87955dc9-d2ca-4f79-b7c8-b0223a32532a</code> and user2 signs in and <strong>also</strong> gets a token <code>87955dc9-d2ca-4f79-b7c8-b0223a32532a</code>?</p>\n<p>Is there a better way of doing this?</p>\n"},{"tags":["java","mysql","database","hibernate","stored-procedures"],"comments":[{"owner":{"account_id":1268613,"reputation":665,"user_id":1225373,"accept_rate":20,"display_name":"Aamir"},"score":0,"creation_date":1569338570,"post_id":20349227,"comment_id":102561136,"body_markdown":"This post is very helpful! https://stackoverflow.com/questions/20347931/hibernate-calling-stored-procedure-returns-cursor","body":"This post is very helpful! <a href=\"https://stackoverflow.com/questions/20347931/hibernate-calling-stored-procedure-returns-cursor\" title=\"hibernate calling stored procedure returns cursor\">stackoverflow.com/questions/20347931/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1798521,"reputation":3963,"user_id":1637386,"display_name":"Asaf Manassen"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1392038183,"creation_date":1392038183,"answer_id":21678328,"question_id":20349227,"body_markdown":"The easiest way to do that is return the out parameter as part of the returning parameters\r\n(relevant only if you have access to the store procedures).&lt;br/&gt;\r\njest add a store procedure like the following one\r\n\r\n    create procedure myProcedure_only_in_parms (\r\n       in in_Id int)\r\n    begin\r\n    call myProcedure(in_id,@out_Id) ;\r\n    select @out_id\r\n    END;\r\n\r\nafter done that it quite simple to use it with Hibernet in the following way\r\n\r\n    Query query = session.createSQLQuery(\r\n    &quot;CALL myProcedure_only_in_parms (:in_Id)&quot;)\r\n    .setParameter(&quot;in_id&quot;, 123);\r\n    List result = query.list();\r\n\r\nThe result contains the out parameter,\r\nif you want return multiply parameters you can add it by doing \r\nselect @parm1,@parm2,... ,@parmn \r\n&lt;br/&gt;&lt;br/&gt;\r\nHope it helped","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<p>The easiest way to do that is return the out parameter as part of the returning parameters\n(relevant only if you have access to the store procedures).<br/>\njest add a store procedure like the following one</p>\n\n<pre><code>create procedure myProcedure_only_in_parms (\n   in in_Id int)\nbegin\ncall myProcedure(in_id,@out_Id) ;\nselect @out_id\nEND;\n</code></pre>\n\n<p>after done that it quite simple to use it with Hibernet in the following way</p>\n\n<pre><code>Query query = session.createSQLQuery(\n\"CALL myProcedure_only_in_parms (:in_Id)\")\n.setParameter(\"in_id\", 123);\nList result = query.list();\n</code></pre>\n\n<p>The result contains the out parameter,\nif you want return multiply parameters you can add it by doing \nselect @parm1,@parm2,... ,@parmn \n<br/><br/>\nHope it helped</p>\n"},{"tags":[],"owner":{"account_id":7507251,"reputation":1,"user_id":5703404,"display_name":"Dinesh Tope"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1450701647,"creation_date":1450701647,"answer_id":34395945,"question_id":20349227,"body_markdown":" ResultSet rs1=null;\r\n\t\t \r\n\t\t ArrayList&lt;Lookup_master&gt; list=new ArrayList&lt;Lookup_master&gt;();\r\n\t\t \r\n\t\t CallableStatement cStmt;\r\n\t\t \r\n\t\t \r\n\t\ttry {\r\n\t\t\r\n\t\t\tcStmt = hibernateConfiguration.dataSource().getConnection()\r\n\t\t\t\t\t\t.prepareCall(&quot;{call SP_ADVSER_LOOKUPMASTER(?,?,?,?,?,?,?)}&quot;);\r\n\t\t\r\n\t\t\tcStmt.setString(1,lookup_master.getLookup_code());\r\n\t\t\tcStmt.setString(2,lookup_master.getLookup_type());\r\n\t\t\tcStmt.setString(3,lookup_master.getLookup_name());\r\n\t\t\tcStmt.setString(4,lookup_master.getMeaning());\r\n\t\t\tcStmt.setString(5,request.getParameter(&quot;start_date&quot;));\r\n\t\t\tcStmt.setString(6,request.getParameter(&quot;end_date&quot;));\r\n\t\t\t\r\n\t\t\tcStmt.registerOutParameter(7, OracleTypes.CURSOR);\r\n\t\t\tcStmt.executeQuery();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\trs1 = (ResultSet) cStmt.getObject(7);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\twhile (rs1.next()) {\r\n\t\t\t\t\r\n\t\t\t\tLookup_master lookup_master1=new Lookup_master();\r\n\t\t\t\t\r\n\t\t\t\tlookup_master1.setLookup_id(rs1.getInt(1));\r\n\t\t\t\tlookup_master1.setLookup_code(rs1.getString(2));\r\n\t\t\t\tlookup_master1.setLookup_type(rs1.getString(3));\r\n\t\t\t\tlookup_master1.setLookup_name(rs1.getString(4));\r\n\t\t\t\tlookup_master1.setMeaning(rs1.getString(5));\r\n\t\t\t\tlookup_master1.setStart_date(rs1.getDate(6));\r\n\t\t\t\tlookup_master1.setEnd_date(rs1.getDate(7));\r\n\t\t\t\t\r\n\t\t\t\t list.add(lookup_master1);\r\n\t\t\t\tSystem.out.println(lookup_master1.getLookup_id());\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t \r\n\t\t\t \r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t \r\n\t\t return  list;\r\n\t }","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<p>ResultSet rs1=null;</p>\n\n<pre><code>     ArrayList&lt;Lookup_master&gt; list=new ArrayList&lt;Lookup_master&gt;();\n\n     CallableStatement cStmt;\n\n\n    try {\n\n        cStmt = hibernateConfiguration.dataSource().getConnection()\n                    .prepareCall(\"{call SP_ADVSER_LOOKUPMASTER(?,?,?,?,?,?,?)}\");\n\n        cStmt.setString(1,lookup_master.getLookup_code());\n        cStmt.setString(2,lookup_master.getLookup_type());\n        cStmt.setString(3,lookup_master.getLookup_name());\n        cStmt.setString(4,lookup_master.getMeaning());\n        cStmt.setString(5,request.getParameter(\"start_date\"));\n        cStmt.setString(6,request.getParameter(\"end_date\"));\n\n        cStmt.registerOutParameter(7, OracleTypes.CURSOR);\n        cStmt.executeQuery();\n\n\n        rs1 = (ResultSet) cStmt.getObject(7);\n\n\n        while (rs1.next()) {\n\n            Lookup_master lookup_master1=new Lookup_master();\n\n            lookup_master1.setLookup_id(rs1.getInt(1));\n            lookup_master1.setLookup_code(rs1.getString(2));\n            lookup_master1.setLookup_type(rs1.getString(3));\n            lookup_master1.setLookup_name(rs1.getString(4));\n            lookup_master1.setMeaning(rs1.getString(5));\n            lookup_master1.setStart_date(rs1.getDate(6));\n            lookup_master1.setEnd_date(rs1.getDate(7));\n\n             list.add(lookup_master1);\n            System.out.println(lookup_master1.getLookup_id());\n\n        }\n\n\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n\n     return  list;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1698822848,"creation_date":1478252161,"answer_id":40419296,"question_id":20349227,"body_markdown":"Considering you have a simple stored procedure that outputs a basic type:\r\n\r\n    CREATE PROCEDURE count_comments (\r\n       IN postId INT, \r\n       OUT commentCount INT\r\n    ) \r\n    BEGIN\r\n        SELECT COUNT(*) INTO commentCount \r\n        FROM post_comment  \r\n        WHERE post_comment.post_id = postId; \r\n    END\r\n\r\nYou can call this stored procedure using a JPA [`StoredProcedureQuery`](https://vladmihalcea.com/how-to-call-mysql-stored-procedures-and-functions-with-jpa-and-hibernate/):\r\n\r\n    StoredProcedureQuery query = entityManager\r\n        .createStoredProcedureQuery(&quot;count_comments&quot;)\r\n        .registerStoredProcedureParameter(&quot;postId&quot;, Long.class, ParameterMode.IN)\r\n        .registerStoredProcedureParameter(&quot;commentCount&quot;, Long.class, ParameterMode.OUT)\r\n        .setParameter(&quot;postId&quot;, 1L);\r\n     \r\n    query.execute();\r\n     \r\n    Long commentCount = (Long) query\r\n        .getOutputParameterValue(&quot;commentCount&quot;);","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<p>Considering you have a simple stored procedure that outputs a basic type:</p>\n<pre><code>CREATE PROCEDURE count_comments (\n   IN postId INT, \n   OUT commentCount INT\n) \nBEGIN\n    SELECT COUNT(*) INTO commentCount \n    FROM post_comment  \n    WHERE post_comment.post_id = postId; \nEND\n</code></pre>\n<p>You can call this stored procedure using a JPA <a href=\"https://vladmihalcea.com/how-to-call-mysql-stored-procedures-and-functions-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>StoredProcedureQuery</code></a>:</p>\n<pre><code>StoredProcedureQuery query = entityManager\n    .createStoredProcedureQuery(&quot;count_comments&quot;)\n    .registerStoredProcedureParameter(&quot;postId&quot;, Long.class, ParameterMode.IN)\n    .registerStoredProcedureParameter(&quot;commentCount&quot;, Long.class, ParameterMode.OUT)\n    .setParameter(&quot;postId&quot;, 1L);\n \nquery.execute();\n \nLong commentCount = (Long) query\n    .getOutputParameterValue(&quot;commentCount&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5865579,"reputation":1569,"user_id":4619671,"accept_rate":33,"display_name":"chaitanya dalvi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493893826,"creation_date":1493893826,"answer_id":43780405,"question_id":20349227,"body_markdown":"    @Override\r\n\tpublic String generateVoucherNumber(ExpenseHeaderDTO expenseHeaderDTO) {\r\n\t\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\t\tProcedureCall query =  session.createStoredProcedureCall(&quot;voucher_number&quot;);\r\n\t\t\t\tquery.registerParameter(\r\n\t\t\t        &quot;module&quot;, String.class, ParameterMode.IN).bindValue(&quot;EMPLOYEE_EXPENSE&quot;);\r\n\t\t\t\tquery.registerParameter(\r\n\t\t\t        &quot;voucherNumber&quot;, String.class, ParameterMode.OUT);\r\n\r\n\t\tProcedureOutputs procedureResult=query.getOutputs();\r\n\t\tString voucherNumber= (String) procedureResult.getOutputParameterValue(&quot;voucherNumber&quot;);\r\n\t\treturn voucherNumber;\r\n\t}\r\n\r\nRefer above example","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<pre><code>@Override\npublic String generateVoucherNumber(ExpenseHeaderDTO expenseHeaderDTO) {\n\n    Session session = sessionFactory.getCurrentSession();\n    ProcedureCall query =  session.createStoredProcedureCall(\"voucher_number\");\n            query.registerParameter(\n                \"module\", String.class, ParameterMode.IN).bindValue(\"EMPLOYEE_EXPENSE\");\n            query.registerParameter(\n                \"voucherNumber\", String.class, ParameterMode.OUT);\n\n    ProcedureOutputs procedureResult=query.getOutputs();\n    String voucherNumber= (String) procedureResult.getOutputParameterValue(\"voucherNumber\");\n    return voucherNumber;\n}\n</code></pre>\n\n<p>Refer above example</p>\n"},{"tags":[],"owner":{"account_id":8136221,"reputation":133,"user_id":6127753,"display_name":"Pradip Wawge"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498236884,"creation_date":1498236884,"answer_id":44726488,"question_id":20349227,"body_markdown":"        just cal normal way but store response out param \r\n    in Object[] and we can also get multiple response value in Onject[]\r\n        \r\n        Object[] respnseCode = (Object[])session.createSQLQuery(\r\n        &quot;CALL myProcedure_only_in_parms (:in_Id)&quot;)\r\n        .setParameter(&quot;in_id&quot;, 123);\r\n        List result = query.list();\r\n        \r\n        sysout(&quot;out_Id&quot;+respnseCode[0]);\r\n\r\n","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<pre><code>    just cal normal way but store response out param \nin Object[] and we can also get multiple response value in Onject[]\n\n    Object[] respnseCode = (Object[])session.createSQLQuery(\n    \"CALL myProcedure_only_in_parms (:in_Id)\")\n    .setParameter(\"in_id\", 123);\n    List result = query.list();\n\n    sysout(\"out_Id\"+respnseCode[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15459866,"reputation":1,"user_id":11152807,"display_name":"Quincy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571043264,"creation_date":1551775676,"answer_id":54998706,"question_id":20349227,"body_markdown":"example:\r\n\r\n \r\n\r\n            Session session = em.unwrap(Session.class);\r\n            session.setHibernateFlushMode(FlushMode.MANUAL);\r\n            ProcedureCall query = session.createStoredProcedureCall(&quot;dbo.sp_getorderlistbyparam&quot;,BasicResult.class);\r\n            query.registerParameter(&quot;search_text&quot;,String.class, ParameterMode.IN).bindValue(searchText);\r\n            query.registerParameter(&quot;membership_nbr&quot;,String.class, \r\n            query.registerParameter(&quot;is_debug&quot;,Integer.class, ParameterMode.IN).bindValue(0);\r\n            query.registerParameter(&quot;result_count&quot;,Integer.class, ParameterMode.OUT);\r\n            basicResults = (List&lt;BasicResult&gt;) query.getResultList();\r\n            ProcedureOutputs procedureOutputs = query.getOutputs();\r\n            parameterMap.put(&quot;totalOrderCnt&quot; ,(Integer) procedureOutputs.getOutputParameterValue(&quot;result_count&quot;));\r\n    ","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<p>example:</p>\n\n<pre><code>        Session session = em.unwrap(Session.class);\n        session.setHibernateFlushMode(FlushMode.MANUAL);\n        ProcedureCall query = session.createStoredProcedureCall(\"dbo.sp_getorderlistbyparam\",BasicResult.class);\n        query.registerParameter(\"search_text\",String.class, ParameterMode.IN).bindValue(searchText);\n        query.registerParameter(\"membership_nbr\",String.class, \n        query.registerParameter(\"is_debug\",Integer.class, ParameterMode.IN).bindValue(0);\n        query.registerParameter(\"result_count\",Integer.class, ParameterMode.OUT);\n        basicResults = (List&lt;BasicResult&gt;) query.getResultList();\n        ProcedureOutputs procedureOutputs = query.getOutputs();\n        parameterMap.put(\"totalOrderCnt\" ,(Integer) procedureOutputs.getOutputParameterValue(\"result_count\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13966508,"reputation":56,"user_id":10086143,"display_name":"Kathiravan Ramaswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564598679,"creation_date":1564480446,"answer_id":57268941,"question_id":20349227,"body_markdown":"    @PersistenceContext \r\n    private EntityManager entitymanager;\r\n         @Override\r\n                public String function(int id, int emp_id, String letype, String days, Date fromdate, Date todate, String reason,\r\n                        String backup, int user_id) {\r\n    \r\n                    //Session session = entitymanager.unwrap(Session.class);\r\n    \r\n                    StoredProcedureQuery  applyLeave = entitymanager.createStoredProcedureQuery(&quot;sp_apply_leave&quot;);\r\n    \r\n                    applyLeave.registerStoredProcedureParameter(&quot;p_id&quot;, Integer.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_emp_id&quot;, Integer.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_letype&quot;, String.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_days&quot;, String.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_fmdate&quot;, Date.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_todate&quot;, Date.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_reason&quot;, String.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_backper&quot;, String.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;p_user_id&quot;, Integer.class, ParameterMode.IN)\r\n                            .registerStoredProcedureParameter(&quot;error_msg&quot;, String.class, ParameterMode.INOUT);\r\n    \r\n    \r\n                    applyLeave.setParameter(&quot;p_id&quot;, id);\r\n                    applyLeave.setParameter(&quot;p_emp_id&quot; , emp_id);\r\n                    applyLeave.setParameter(&quot;p_letype&quot; , letype);\r\n                    applyLeave.setParameter(&quot;p_days&quot; , days);\r\n                    applyLeave.setParameter(&quot;p_fmdate&quot; , fromdate);\r\n                    applyLeave.setParameter(&quot;p_todate&quot; , todate);\r\n                    applyLeave.setParameter(&quot;p_reason&quot; , reason);\r\n                    applyLeave.setParameter(&quot;p_backper&quot; , backup);\r\n                    applyLeave.setParameter(&quot;p_user_id&quot; , user_id);\r\n                    applyLeave.setParameter(&quot;error_msg&quot;, new String(&quot;error_msg&quot;));\r\n                    //applyLeave.executeUpdate();\r\n    \r\n                    String error_msg = (String) applyLeave.getOutputParameterValue(&quot;error_msg&quot;);\r\n                    return error_msg;\r\n    \r\n                }\r\nhere i have autowired entitymanager and configured hibernate Persistence in config package","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<pre><code>@PersistenceContext \nprivate EntityManager entitymanager;\n     @Override\n            public String function(int id, int emp_id, String letype, String days, Date fromdate, Date todate, String reason,\n                    String backup, int user_id) {\n\n                //Session session = entitymanager.unwrap(Session.class);\n\n                StoredProcedureQuery  applyLeave = entitymanager.createStoredProcedureQuery(\"sp_apply_leave\");\n\n                applyLeave.registerStoredProcedureParameter(\"p_id\", Integer.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_emp_id\", Integer.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_letype\", String.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_days\", String.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_fmdate\", Date.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_todate\", Date.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_reason\", String.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_backper\", String.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"p_user_id\", Integer.class, ParameterMode.IN)\n                        .registerStoredProcedureParameter(\"error_msg\", String.class, ParameterMode.INOUT);\n\n\n                applyLeave.setParameter(\"p_id\", id);\n                applyLeave.setParameter(\"p_emp_id\" , emp_id);\n                applyLeave.setParameter(\"p_letype\" , letype);\n                applyLeave.setParameter(\"p_days\" , days);\n                applyLeave.setParameter(\"p_fmdate\" , fromdate);\n                applyLeave.setParameter(\"p_todate\" , todate);\n                applyLeave.setParameter(\"p_reason\" , reason);\n                applyLeave.setParameter(\"p_backper\" , backup);\n                applyLeave.setParameter(\"p_user_id\" , user_id);\n                applyLeave.setParameter(\"error_msg\", new String(\"error_msg\"));\n                //applyLeave.executeUpdate();\n\n                String error_msg = (String) applyLeave.getOutputParameterValue(\"error_msg\");\n                return error_msg;\n\n            }\n</code></pre>\n\n<p>here i have autowired entitymanager and configured hibernate Persistence in config package</p>\n"}],"owner":{"account_id":470925,"reputation":1509,"user_id":1114406,"accept_rate":64,"display_name":"waseemwk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54953,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":7,"score":15,"last_activity_date":1698822848,"creation_date":1386068247,"question_id":20349227,"body_markdown":"I want to call a Stored Procedure from Hibernate which returns an out value. Here is my Stored Procedure.\r\n\r\n    create procedure myProcedure\r\n    (  \r\n    in in_Id int,  \r\n    out out_Id int  \r\n    )  \r\n    begin  \r\n    ...  \r\n    END;\r\n\r\nI am trying this to call my procedure  \r\n\r\n    Query query = session.createSQLQuery(  \r\n    &quot;CALL myProcedure(:in_Id)&quot;)  \r\n    .setParameter(&quot;in_id&quot;, 123);   \r\n    //Not sure how to register out parameters...??      \r\n    List result = query.list();\r\n\r\nI tried everything but no luck. Can you help me please?\r\nIf i try the above it says: \r\n\r\n&gt; **Incorrect number of arguments for PROCEDURE myProcedure; expected 2, got 1**\r\n\r\nI tried to add an out parameter like\r\n \r\n\r\n    myProcedure(:out_id:in_Id)\r\n\r\n \r\nbut then it says \r\n\r\n&gt; **Not all named parameters have been set:**\r\n\r\n  I don&#39;t know how out parameter will be set? Is it like the following?\r\n\r\n    .setParameter(&quot;out_id&quot;, ?);\r\n\r\nAny help is appreciated :)","title":"How to call a Stored Procedure from Hibernate having both IN and OUT parameters","body":"<p>I want to call a Stored Procedure from Hibernate which returns an out value. Here is my Stored Procedure.</p>\n\n<pre><code>create procedure myProcedure\n(  \nin in_Id int,  \nout out_Id int  \n)  \nbegin  \n...  \nEND;\n</code></pre>\n\n<p>I am trying this to call my procedure  </p>\n\n<pre><code>Query query = session.createSQLQuery(  \n\"CALL myProcedure(:in_Id)\")  \n.setParameter(\"in_id\", 123);   \n//Not sure how to register out parameters...??      \nList result = query.list();\n</code></pre>\n\n<p>I tried everything but no luck. Can you help me please?\nIf i try the above it says: </p>\n\n<blockquote>\n  <p><strong>Incorrect number of arguments for PROCEDURE myProcedure; expected 2, got 1</strong></p>\n</blockquote>\n\n<p>I tried to add an out parameter like</p>\n\n<pre><code>myProcedure(:out_id:in_Id)\n</code></pre>\n\n<p>but then it says </p>\n\n<blockquote>\n  <p><strong>Not all named parameters have been set:</strong></p>\n</blockquote>\n\n<p>I don't know how out parameter will be set? Is it like the following?</p>\n\n<pre><code>.setParameter(\"out_id\", ?);\n</code></pre>\n\n<p>Any help is appreciated :)</p>\n"},{"tags":["java","time","time-complexity","computer-science","complexity-theory"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698825047,"post_id":77400850,"comment_id":136452837,"body_markdown":"https://cs.stackexchange.com would probably be a better place for this question.","body":"<a href=\"https://cs.stackexchange.com\">cs.stackexchange.com</a> would probably be a better place for this question."}],"owner":{"account_id":18709470,"reputation":1,"user_id":13639835,"display_name":"Michael Vernon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698841516,"answer_count":0,"score":0,"last_activity_date":1698822549,"creation_date":1698821730,"question_id":77400850,"body_markdown":"I submitted the following code for the [Swim in Rising Water](https://leetcode.com/problems/swim-in-rising-water/description/) question on Leetcode.\r\n~~~\r\nclass Solution {\r\n    int[][]grid;\r\n    boolean[][]visited;\r\n    HashMap&lt;Integer,Deque&lt;Pair&lt;Integer,Integer&gt;&gt;&gt; higher;\r\n    public int swimInWater(int[][] grid) {\r\n        this.grid=grid;\r\n        Deque&lt;Pair&lt;Integer,Integer&gt;&gt; dq = new ArrayDeque&lt;&gt;();\r\n        dq.add(new Pair&lt;&gt;(0,0));\r\n        this.visited = new boolean[grid.length][grid[0].length];\r\n        //find max in grid and run bfs until it returns better than 0\r\n        int max=0;\r\n        visited[0][0]=true;\r\n        this.higher = new HashMap&lt;&gt;();\r\n        higher.put(grid[0][0],dq);\r\n        \r\n        for (int i=0;i&lt;grid.length;i++) {\r\n            for (int j=0;j&lt;grid[0].length;j++) {\r\n                max=Math.max(grid[i][j],max);\r\n            }\r\n        }\r\n        for (int i=grid[0][0];i&lt;=max;i++) {\r\n            if (higher.containsKey(i)&amp;&amp;bfs(i,higher.get(i))) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n    public boolean bfs(int tolerance, Deque&lt;Pair&lt;Integer,Integer&gt;&gt; dq){\r\n        while (dq.size()&gt;0) {\r\n            int len=dq.size();\r\n            Pair&lt;Integer,Integer&gt; value = dq.poll();\r\n            int left=value.getKey();\r\n            int right=value.getValue();\r\n            for (int idx=0;idx&lt;len;idx++) {\r\n                if (left==grid.length-1&amp;&amp;right==grid.length-1) {\r\n                    return true;\r\n                }\r\n                for (int i=Math.max(0,left-1);i&lt;=Math.min(left+1,grid.length-1);i++) {\r\n                    for (int j=Math.max(0,right-1);j&lt;=Math.min(right+1,grid[0].length-1);j++) {\r\n                        if (Math.abs(i-left)!=Math.abs(j-right)&amp;&amp;!visited[i][j]) {\r\n                            visited[i][j]=true;\r\n                            if (grid[i][j]&lt;=tolerance) {\r\n                                dq.add(new Pair&lt;&gt;(i,j));\r\n                            } else  {\r\n                                Pair&lt;Integer,Integer&gt; coordPair = new Pair&lt;&gt;(i,j);\r\n                                if (higher.containsKey(grid[i][j])) {\r\n                                    higher.get(grid[i][j]).add(coordPair);\r\n                                } else {\r\n                                    Deque&lt;Pair&lt;Integer,Integer&gt;&gt; newdq = new ArrayDeque&lt;&gt;();\r\n                                    newdq.add(coordPair);\r\n                                    higher.put(grid[i][j],newdq);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }\r\n            \r\n        }\r\n        return false;\r\n    }\r\n}\r\n~~~\r\n\r\n\r\nI believe this possesses a time complexity of O(N^2+M), where N is the size of a side of the grid and M is the max value within it, as the visited array prevents the breadth-first search from considering a coordinate multiple times. However this code only beats 18.95% of all other users, and most solutions to this problem run in O(N^2log(N)) time or worse. Am I correct? Also, is my calculation of O(N^2+M) space complexity accurate?","title":"Time/Space complexity for my novel Swim in Rising Water leetcode solution","body":"<p>I submitted the following code for the <a href=\"https://leetcode.com/problems/swim-in-rising-water/description/\" rel=\"nofollow noreferrer\">Swim in Rising Water</a> question on Leetcode.</p>\n<pre><code>class Solution {\n    int[][]grid;\n    boolean[][]visited;\n    HashMap&lt;Integer,Deque&lt;Pair&lt;Integer,Integer&gt;&gt;&gt; higher;\n    public int swimInWater(int[][] grid) {\n        this.grid=grid;\n        Deque&lt;Pair&lt;Integer,Integer&gt;&gt; dq = new ArrayDeque&lt;&gt;();\n        dq.add(new Pair&lt;&gt;(0,0));\n        this.visited = new boolean[grid.length][grid[0].length];\n        //find max in grid and run bfs until it returns better than 0\n        int max=0;\n        visited[0][0]=true;\n        this.higher = new HashMap&lt;&gt;();\n        higher.put(grid[0][0],dq);\n        \n        for (int i=0;i&lt;grid.length;i++) {\n            for (int j=0;j&lt;grid[0].length;j++) {\n                max=Math.max(grid[i][j],max);\n            }\n        }\n        for (int i=grid[0][0];i&lt;=max;i++) {\n            if (higher.containsKey(i)&amp;&amp;bfs(i,higher.get(i))) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n    public boolean bfs(int tolerance, Deque&lt;Pair&lt;Integer,Integer&gt;&gt; dq){\n        while (dq.size()&gt;0) {\n            int len=dq.size();\n            Pair&lt;Integer,Integer&gt; value = dq.poll();\n            int left=value.getKey();\n            int right=value.getValue();\n            for (int idx=0;idx&lt;len;idx++) {\n                if (left==grid.length-1&amp;&amp;right==grid.length-1) {\n                    return true;\n                }\n                for (int i=Math.max(0,left-1);i&lt;=Math.min(left+1,grid.length-1);i++) {\n                    for (int j=Math.max(0,right-1);j&lt;=Math.min(right+1,grid[0].length-1);j++) {\n                        if (Math.abs(i-left)!=Math.abs(j-right)&amp;&amp;!visited[i][j]) {\n                            visited[i][j]=true;\n                            if (grid[i][j]&lt;=tolerance) {\n                                dq.add(new Pair&lt;&gt;(i,j));\n                            } else  {\n                                Pair&lt;Integer,Integer&gt; coordPair = new Pair&lt;&gt;(i,j);\n                                if (higher.containsKey(grid[i][j])) {\n                                    higher.get(grid[i][j]).add(coordPair);\n                                } else {\n                                    Deque&lt;Pair&lt;Integer,Integer&gt;&gt; newdq = new ArrayDeque&lt;&gt;();\n                                    newdq.add(coordPair);\n                                    higher.put(grid[i][j],newdq);\n                                }\n                            }\n                        }\n                    }\n                }\n                \n            }\n            \n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I believe this possesses a time complexity of O(N^2+M), where N is the size of a side of the grid and M is the max value within it, as the visited array prevents the breadth-first search from considering a coordinate multiple times. However this code only beats 18.95% of all other users, and most solutions to this problem run in O(N^2log(N)) time or worse. Am I correct? Also, is my calculation of O(N^2+M) space complexity accurate?</p>\n"},{"tags":["java","spring","swagger","java-17","axway"],"answers":[{"tags":[],"owner":{"account_id":452692,"reputation":2466,"user_id":849256,"accept_rate":65,"display_name":"Carlos Jaime C. De Leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698822011,"creation_date":1698822011,"answer_id":77400867,"question_id":77385620,"body_markdown":"Looks like the issue was due to recent upgrades to from Swagger 2 to 3 while the app was moved to JDK 17 upgrade. It looks like the REST endpoint needs the @Parameter annotations going forward\r\n\r\n    import io.swagger.v3.oas.annotations.Parameter; // from springdoc-openapi-ui v1.7.0, upgraded together when the app was upgraded to JDK 17\r\n    \r\n    public ResponseEntity doAbc(@Parameter(required = false) MultipartFile file)  {\r\n      // method body\r\n    }","title":"Axway error &quot;java exception: com.vordel.coreapireg.runtime.broker.InvokableMethodParamException&quot;","body":"<p>Looks like the issue was due to recent upgrades to from Swagger 2 to 3 while the app was moved to JDK 17 upgrade. It looks like the REST endpoint needs the @Parameter annotations going forward</p>\n<pre><code>import io.swagger.v3.oas.annotations.Parameter; // from springdoc-openapi-ui v1.7.0, upgraded together when the app was upgraded to JDK 17\n\npublic ResponseEntity doAbc(@Parameter(required = false) MultipartFile file)  {\n  // method body\n}\n</code></pre>\n"}],"owner":{"account_id":452692,"reputation":2466,"user_id":849256,"accept_rate":65,"display_name":"Carlos Jaime C. De Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698822045,"creation_date":1698624041,"question_id":77385620,"body_markdown":"Supporting an RESTful API written in Java and published in Axway. \r\nSuddenly getting this error:\r\n\r\n    java exception: com.vordel.coreapireg.runtime.broker.InvokableMethodParamException\r\n\r\n\r\nGoogle search only yields 3 results which is not much help as they all talk about Axway version upgrade which hasn&#39;t happened so I can rule that one \r\n\r\n&gt; java exception:\r\n&gt; com.vordel.coreapireg.runtime.broker.InvokableMethodParamException:\r\n&gt; Missing parameter file at\r\n&gt; com.vordel.coreapireg.runtime.broker.parameters.OutboundParam.validate(OutboundParam.java:65)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.broker.parameters.OutboundParam.evaluate(OutboundParam.java:59)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.broker.parameters.query.VirtualizedQueryParamValidator.validate(VirtualizedQueryParamValidator.java:77)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.broker.parameters.query.VirtualizedQueryParamValidator.validate(VirtualizedQueryParamValidator.java:27)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.broker.parameters.ParameterValidator.validate(ParameterValidator.java:253)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.broker.InvokableMethod.processParameters(InvokableMethod.java:105)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.broker.InvokableMethod.invoke(InvokableMethod.java:150)\r\n&gt; at com.vordel.apiportal.runtime.Broker.invokeMethod(Broker.java:174)\r\n&gt; at\r\n&gt; com.vordel.coreapireg.runtime.CoreApiBroker.processRequest(CoreApiBroker.java:283)\r\n&gt; at com.vordel.apiportal.runtime.Broker.processRequest(Broker.java:110)\r\n&gt; at\r\n&gt; com.vordel.apiportal.runtime.virtualized.VApiRuntime.processRequest(VApiRuntime.java:134)\r\n&gt; at\r\n&gt; com.vordel.apiportal.runtime.PortalBroker.processRequest(PortalBroker.java:94)\r\n&gt; at com.vordel.dwe.http.HTTPPlugin.invokeDispose(HTTPPlugin.java:525)\r\n&gt; at com.vordel.dwe.http.HTTPPlugin.invoke(HTTPPlugin.java:157)\r\n\r\nIt is not reaching the API at all and being blocked by Axway, the above stack trace is from Axway platform monitoring. If anyone has encountered this error, please share the solution?","title":"Axway error &quot;java exception: com.vordel.coreapireg.runtime.broker.InvokableMethodParamException&quot;","body":"<p>Supporting an RESTful API written in Java and published in Axway.\nSuddenly getting this error:</p>\n<pre><code>java exception: com.vordel.coreapireg.runtime.broker.InvokableMethodParamException\n</code></pre>\n<p>Google search only yields 3 results which is not much help as they all talk about Axway version upgrade which hasn't happened so I can rule that one</p>\n<blockquote>\n<p>java exception:\ncom.vordel.coreapireg.runtime.broker.InvokableMethodParamException:\nMissing parameter file at\ncom.vordel.coreapireg.runtime.broker.parameters.OutboundParam.validate(OutboundParam.java:65)\nat\ncom.vordel.coreapireg.runtime.broker.parameters.OutboundParam.evaluate(OutboundParam.java:59)\nat\ncom.vordel.coreapireg.runtime.broker.parameters.query.VirtualizedQueryParamValidator.validate(VirtualizedQueryParamValidator.java:77)\nat\ncom.vordel.coreapireg.runtime.broker.parameters.query.VirtualizedQueryParamValidator.validate(VirtualizedQueryParamValidator.java:27)\nat\ncom.vordel.coreapireg.runtime.broker.parameters.ParameterValidator.validate(ParameterValidator.java:253)\nat\ncom.vordel.coreapireg.runtime.broker.InvokableMethod.processParameters(InvokableMethod.java:105)\nat\ncom.vordel.coreapireg.runtime.broker.InvokableMethod.invoke(InvokableMethod.java:150)\nat com.vordel.apiportal.runtime.Broker.invokeMethod(Broker.java:174)\nat\ncom.vordel.coreapireg.runtime.CoreApiBroker.processRequest(CoreApiBroker.java:283)\nat com.vordel.apiportal.runtime.Broker.processRequest(Broker.java:110)\nat\ncom.vordel.apiportal.runtime.virtualized.VApiRuntime.processRequest(VApiRuntime.java:134)\nat\ncom.vordel.apiportal.runtime.PortalBroker.processRequest(PortalBroker.java:94)\nat com.vordel.dwe.http.HTTPPlugin.invokeDispose(HTTPPlugin.java:525)\nat com.vordel.dwe.http.HTTPPlugin.invoke(HTTPPlugin.java:157)</p>\n</blockquote>\n<p>It is not reaching the API at all and being blocked by Axway, the above stack trace is from Axway platform monitoring. If anyone has encountered this error, please share the solution?</p>\n"},{"tags":["java","selenium-webdriver","wait","implicit","pageloadtimeout"],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698816800,"creation_date":1698816800,"answer_id":77400545,"question_id":77400147,"body_markdown":"Have a look at [WebDriver.Timeouts](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html)\r\n\r\n    pageLoadTimeout(Duration duration)\r\n\r\n&gt; Sets the amount of time to wait for a page load to complete before throwing an error.\r\n\r\n    implicitlyWait(Duration duration)\r\n\r\n&gt; Specifies the amount of time the driver should wait when searching for an element if it is not immediately present.\r\n\r\nThere is no reason to write those in several places, this is one time setting that remains during the `driver` life time.\r\n\r\nYou should also note that you are using deprecated methods `implicitlyWait(long time, TimeUnit unit)` and `pageLoadTimeout(long time, TimeUnit unit)`.","title":"implicit wait in selenium","body":"<p>Have a look at <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html\" rel=\"nofollow noreferrer\">WebDriver.Timeouts</a></p>\n<pre><code>pageLoadTimeout(Duration duration)\n</code></pre>\n<blockquote>\n<p>Sets the amount of time to wait for a page load to complete before throwing an error.</p>\n</blockquote>\n<pre><code>implicitlyWait(Duration duration)\n</code></pre>\n<blockquote>\n<p>Specifies the amount of time the driver should wait when searching for an element if it is not immediately present.</p>\n</blockquote>\n<p>There is no reason to write those in several places, this is one time setting that remains during the <code>driver</code> life time.</p>\n<p>You should also note that you are using deprecated methods <code>implicitlyWait(long time, TimeUnit unit)</code> and <code>pageLoadTimeout(long time, TimeUnit unit)</code>.</p>\n"},{"tags":[],"owner":{"account_id":11456725,"reputation":1,"user_id":8397489,"display_name":"mahesh tawde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698821461,"creation_date":1698821421,"answer_id":77400827,"question_id":77400147,"body_markdown":"The purpose of two timeouts is completely different hence both these are called as part of setup in frameworks/scripts.\r\n\r\n`implicitlyWait` - Will be used during findElement, findElements call to wait for the timeout duration before returning NoSuchElementException, Empty List&lt;WebElement&gt; respectively. \r\n\r\n`pageLoadTimeout` - Is used by Selenium implicitly whenever a page is getting loaded and it reads the `document.readyState` property of your web page.However this would only work for synchronous page loads and not for AJAX calls or dynamic content getting loaded on web page. \r\n\r\nSince both these use cases are completely different, we use different wait strategies. Since a page load might take longer than loading a dynamic element on web page.","title":"implicit wait in selenium","body":"<p>The purpose of two timeouts is completely different hence both these are called as part of setup in frameworks/scripts.</p>\n<p><code>implicitlyWait</code> - Will be used during findElement, findElements call to wait for the timeout duration before returning NoSuchElementException, Empty List respectively.</p>\n<p><code>pageLoadTimeout</code> - Is used by Selenium implicitly whenever a page is getting loaded and it reads the <code>document.readyState</code> property of your web page.However this would only work for synchronous page loads and not for AJAX calls or dynamic content getting loaded on web page.</p>\n<p>Since both these use cases are completely different, we use different wait strategies. Since a page load might take longer than loading a dynamic element on web page.</p>\n"}],"owner":{"account_id":4363571,"reputation":21,"user_id":3559982,"display_name":"user3559982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698821461,"creation_date":1698808401,"question_id":77400147,"body_markdown":"I am very confused about how to use implicit wait in selenium\r\n\r\n    driver.manage().timeouts().implicitlyWait(1, TimeUnit.SECONDS);\r\n    driver.manage().timeouts().pageLoadTimeout(4, TimeUnit.SECONDS);\r\n\r\nI saw someone wrote those two line codes together very often. Why do we need the `pageLoadTimeOut` line? I think the first line is enough. \r\n\r\nI searched a lot through google, and still confused","title":"implicit wait in selenium","body":"<p>I am very confused about how to use implicit wait in selenium</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(1, TimeUnit.SECONDS);\ndriver.manage().timeouts().pageLoadTimeout(4, TimeUnit.SECONDS);\n</code></pre>\n<p>I saw someone wrote those two line codes together very often. Why do we need the <code>pageLoadTimeOut</code> line? I think the first line is enough.</p>\n<p>I searched a lot through google, and still confused</p>\n"},{"tags":["java","android","node.js","selenium-webdriver","appium"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698795304,"post_id":77395664,"comment_id":136450224,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"}],"owner":{"account_id":12383081,"reputation":1,"user_id":9027782,"display_name":"Shweta Tripathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698821332,"creation_date":1698753350,"question_id":77395664,"body_markdown":"When Appium server is started via script, Appium server is successfully started as per logs, but it throws a connection refused for WebDriver. For the script, I am trying to run testng.xml file on  android device.\r\nError Logs :\r\n\r\n&gt; ```none\r\n&gt; [main] INFO  com.****.common.BaseTest  - ###### Appium Server Started ######\r\n&gt; \r\n&gt; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n&gt; Host info: host: &#39;MAC-a13403723&#39;, ip: &#39;2409:40d0:10c3:c210:85f:609c:f13a:6059%en0&#39;\r\n&gt; \r\n&gt; \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:553)\r\n&gt; \tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n&gt; \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:156)\r\n&gt; \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n&gt; \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n&gt; \tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\r\n&gt; \tat com.airtelafrica.common.BaseTest.initialization(BaseTest.java:69)\r\n&gt; \tat com.airtelafrica.common.BaseTest.opcoChooser(BaseTest.java:86)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt; \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\r\n&gt; \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:61)\r\n&gt; \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:366)\r\n&gt; \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:320)\r\n&gt; \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:327)\r\n&gt; \tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n&gt; \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n&gt; \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n&gt; \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)\r\n&gt; \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1213)\r\n&gt; \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1140)\r\n&gt; \tat org.testng.TestNG.runSuites(TestNG.java:1069)\r\n&gt; \tat org.testng.TestNG.run(TestNG.java:1037)\r\n&gt; \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n&gt; \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n&gt; Caused by: org.openqa.selenium.WebDriverException: Connection refused\r\n&gt; Build info: version: &#39;4.7.2&#39;, revision: &#39;4d4020c3b7&#39;\r\n&gt; System info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;12.6.8&#39;, java.version: &#39;11.0.21&#39;\r\n&gt; Driver info: driver.version: AndroidDriver\r\n&gt; \tat io.appium.java_client.remote.AppiumCommandExecutor.lambda$execute$4(AppiumCommandExecutor.java:274)\r\n&gt; \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n&gt; \tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:273)\r\n&gt; \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:535)\r\n&gt; \t... 26 more\r\n&gt; Caused by: java.net.ConnectException: Connection refused\r\n&gt; \tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n&gt; \tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:777)\r\n&gt; \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)\r\n&gt; \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n&gt; \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)\r\n&gt; \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n&gt; \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n&gt; \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n&gt; \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n&gt; \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n&gt; \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n&gt; ```\r\n\r\nSystem : Mac OS\\\r\nDevice: One Plus\\\r\nJava: 11\\\r\nNode: v18.18.2\\\r\nAppium: Appium v2.1.3\\\r\nIntelliJ\\\r\nMaven\r\n\r\n\r\nAll the capabilities are being sent via config.properties file. I am able to see device which I need to run under &#39;adb devices&#39; list. I&#39;m trying to run Appium on an Android device and unable to start session on device although Appium is started.","title":"Java WebDriver connection refused","body":"<p>When Appium server is started via script, Appium server is successfully started as per logs, but it throws a connection refused for WebDriver. For the script, I am trying to run testng.xml file on  android device.\nError Logs :</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>[main] INFO  com.****.common.BaseTest  - ###### Appium Server Started ######\n\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'MAC-a13403723', ip: '2409:40d0:10c3:c210:85f:609c:f13a:6059%en0'\n\n  at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:553)\n  at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n  at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:156)\n  at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n  at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n  at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\n  at com.airtelafrica.common.BaseTest.initialization(BaseTest.java:69)\n  at com.airtelafrica.common.BaseTest.opcoChooser(BaseTest.java:86)\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n  at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\n  at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:61)\n  at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:366)\n  at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:320)\n  at org.testng.SuiteRunner.privateRun(SuiteRunner.java:327)\n  at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n  at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n  at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n  at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)\n  at org.testng.TestNG.runSuitesSequentially(TestNG.java:1213)\n  at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)\n  at org.testng.TestNG.runSuites(TestNG.java:1069)\n  at org.testng.TestNG.run(TestNG.java:1037)\n  at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n  at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\nCaused by: org.openqa.selenium.WebDriverException: Connection refused\nBuild info: version: '4.7.2', revision: '4d4020c3b7'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '12.6.8', java.version: '11.0.21'\nDriver info: driver.version: AndroidDriver\n  at io.appium.java_client.remote.AppiumCommandExecutor.lambda$execute$4(AppiumCommandExecutor.java:274)\n  at java.base/java.util.Optional.orElseGet(Optional.java:369)\n  at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:273)\n  at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:535)\n  ... 26 more\nCaused by: java.net.ConnectException: Connection refused\n  at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n  at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:777)\n  at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)\n  at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n  at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)\n  at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n  at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n  at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n  at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n</blockquote>\n<p>System : Mac OS<br />\nDevice: One Plus<br />\nJava: 11<br />\nNode: v18.18.2<br />\nAppium: Appium v2.1.3<br />\nIntelliJ<br />\nMaven</p>\n<p>All the capabilities are being sent via config.properties file. I am able to see device which I need to run under 'adb devices' list. I'm trying to run Appium on an Android device and unable to start session on device although Appium is started.</p>\n"},{"tags":["java","android-studio","printing","document","wifi-direct"],"owner":{"account_id":29715742,"reputation":1,"user_id":22774319,"display_name":"Jerry Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698820349,"creation_date":1698820349,"question_id":77400759,"body_markdown":"[This screen should not appear and direct print to the printer on click of my application button](https://i.stack.imgur.com/Rs2PH.jpg)\r\n\r\n\r\nMy mobile has Wi-Fi printer connected to it, so I have to print on the button of the application without showing the upper screen.","title":"Button Click With Out this Screen Show Printing , Print using Wifi Printer ? Possible or Not","body":"<p><a href=\"https://i.stack.imgur.com/Rs2PH.jpg\" rel=\"nofollow noreferrer\">This screen should not appear and direct print to the printer on click of my application button</a></p>\n<p>My mobile has Wi-Fi printer connected to it, so I have to print on the button of the application without showing the upper screen.</p>\n"},{"tags":["java","user-interface"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323403,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344328961,"creation_date":1344328961,"answer_id":11842213,"question_id":11841873,"body_markdown":"Printing is one of the sore spots in Java. What you can try is create a UI with a table (see the [Swing trail][1] for examples) and then [print that table][2].\r\n\r\nThe problems will start when the table doesn&#39;t fit on a single page of paper. If it&#39;s longer, then some lines will be printed on the margin (half of it will appear on the previous page and the lower half on the next page). If it&#39;s wider, ... let&#39;s not go there.\r\n\r\nAlternatively, you can try to create a PDF using tools like [JasperReports][3] or [BIRT][4]. These work better but it will take some time to learn how they work.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/misc/printtable.html\r\n  [3]: http://jasperforge.org/projects/jasperreports/\r\n  [4]: http://www.eclipse.org/birt/","title":"Create printable daily schedule/document with Java","body":"<p>Printing is one of the sore spots in Java. What you can try is create a UI with a table (see the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow\">Swing trail</a> for examples) and then <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/printtable.html\" rel=\"nofollow\">print that table</a>.</p>\n\n<p>The problems will start when the table doesn't fit on a single page of paper. If it's longer, then some lines will be printed on the margin (half of it will appear on the previous page and the lower half on the next page). If it's wider, ... let's not go there.</p>\n\n<p>Alternatively, you can try to create a PDF using tools like <a href=\"http://jasperforge.org/projects/jasperreports/\" rel=\"nofollow\">JasperReports</a> or <a href=\"http://www.eclipse.org/birt/\" rel=\"nofollow\">BIRT</a>. These work better but it will take some time to learn how they work.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698819821,"creation_date":1344330217,"answer_id":11842573,"question_id":11841873,"body_markdown":"We&#39;ve recently made the move to [Jasper Reports][1], the main reason was we were producing the reports in PDF, Excel and to the printer, all of which had to execute through different code and different libraries.  Jasper Reports has allowed us to go through a single engine.\r\n\r\nWhile not perfect, it does an outstanding job across different export options.\r\n\r\nIt does have a small learning curve, but the basics allow you to deliver a `List` of objects which you can then access from within the report and populate your view.\r\n\r\nEqually, you can simply connect a SQL data source to it directly\r\n\r\n\r\n  [1]: http://jasperforge.org/projects/jasperreports/","title":"Create printable daily schedule/document with Java","body":"<p>We've recently made the move to <a href=\"http://jasperforge.org/projects/jasperreports/\" rel=\"nofollow noreferrer\">Jasper Reports</a>, the main reason was we were producing the reports in PDF, Excel and to the printer, all of which had to execute through different code and different libraries.  Jasper Reports has allowed us to go through a single engine.</p>\n<p>While not perfect, it does an outstanding job across different export options.</p>\n<p>It does have a small learning curve, but the basics allow you to deliver a <code>List</code> of objects which you can then access from within the report and populate your view.</p>\n<p>Equally, you can simply connect a SQL data source to it directly</p>\n"}],"owner":{"account_id":1643352,"reputation":11,"user_id":1515391,"display_name":"Moe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698819821,"creation_date":1344327641,"question_id":11841873,"body_markdown":"I have to create a java program that builds a &quot;tidy&quot; daily schedule for a sports arena. \r\nThe program takes in an excel file with a list of &quot;untidy&quot; daily bookings with the following information:\r\n\r\n - Start Time\r\n - End Time\r\n - Court\r\n - Client\r\n\r\nI can read in this information and store it in &quot;BookingObjects&quot;.\r\n\r\nMy question is this: \r\n\r\nWhat is an elegant way to create a printable schedule output, similar to schedules displayed by Microsoft Outlook for example, with time as the rows and which court the booking is on in the columns. The schedule does not need to be interactive, just needs to be printable through the program&#39;s GUI and if it can be displayed within the GUI this is also a bonus?","title":"Create printable daily schedule/document with Java","body":"<p>I have to create a java program that builds a \"tidy\" daily schedule for a sports arena. \nThe program takes in an excel file with a list of \"untidy\" daily bookings with the following information:</p>\n\n<ul>\n<li>Start Time</li>\n<li>End Time</li>\n<li>Court</li>\n<li>Client</li>\n</ul>\n\n<p>I can read in this information and store it in \"BookingObjects\".</p>\n\n<p>My question is this: </p>\n\n<p>What is an elegant way to create a printable schedule output, similar to schedules displayed by Microsoft Outlook for example, with time as the rows and which court the booking is on in the columns. The schedule does not need to be interactive, just needs to be printable through the program's GUI and if it can be displayed within the GUI this is also a bonus?</p>\n"},{"tags":["java","spring","testng","spring-test"],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553625339,"creation_date":1553625339,"answer_id":55364105,"question_id":55362129,"body_markdown":"I&#39;d recommend overriding `afterTestMethod(TestContext)` instead of `afterTestExecution(TestContext)`, since the former will be executed after `@AfterMethod` lifecycle methods in the test class.\r\n\r\nTo obtain the exception (i.e., the cause of a failed test), you just need to access `testContext.getTestException()`.","title":"Spring test listener: how to know if my test failed?","body":"<p>I'd recommend overriding <code>afterTestMethod(TestContext)</code> instead of <code>afterTestExecution(TestContext)</code>, since the former will be executed after <code>@AfterMethod</code> lifecycle methods in the test class.</p>\n\n<p>To obtain the exception (i.e., the cause of a failed test), you just need to access <code>testContext.getTestException()</code>.</p>\n"},{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698818945,"creation_date":1698818945,"answer_id":77400652,"question_id":55362129,"body_markdown":"There is an easy way to do this in Junit5 and Spring.\r\n\r\nI&#39;m considering that you either need to create a report like Extent/Allure or simply log the info/error messages whenever a test is failed/skipped/passed etc.\r\n\r\nYou need to implement the TestWatcher api extention from Junit5 instead of TestExecutionListener.\r\n\r\nBelow is an example - \r\n\r\nStep 1: Create an extension class &quot;TestWatcherExtention&quot; implementing TestWatcher methods. \r\n\r\n    public class TestWatcherExtention implements TestWatcher {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(TestResultNotifierExtension.class);\r\n    \r\n        private List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\r\n    \r\n        private enum TestResultStatus {\r\n            SUCCESSFUL, ABORTED, FAILED, DISABLED;\r\n        }\r\n    \r\n      @Override\r\n        public void testFailed(ExtensionContext context, Throwable cause) {\r\n            logger.info(&quot;Test Failed for test {}: &quot;, context.getDisplayName());\r\n    \r\n            testResultsStatus.add(TestResultStatus.FAILED);\r\n            ExtentTestReportManager.getTest().log(Status.FAIL, &quot;Test Failed&quot;);\r\n        }\r\n    \r\n    //similarly override methods for test Passed, Skipped etc.\r\n    \r\n    }\r\n\r\nStep 2: Add the above implementation using @ExtendWith annotation from Junit5.\r\n\r\n    @SpringbootTest\r\n    @ExtendWith(TestWatcherExtension.class)\r\n    public class MyTestClass {\r\n\r\n    //my junit5 tests\r\n\r\n    }\r\n\r\nNow you&#39;re good to go\r\n","title":"Spring test listener: how to know if my test failed?","body":"<p>There is an easy way to do this in Junit5 and Spring.</p>\n<p>I'm considering that you either need to create a report like Extent/Allure or simply log the info/error messages whenever a test is failed/skipped/passed etc.</p>\n<p>You need to implement the TestWatcher api extention from Junit5 instead of TestExecutionListener.</p>\n<p>Below is an example -</p>\n<p>Step 1: Create an extension class &quot;TestWatcherExtention&quot; implementing TestWatcher methods.</p>\n<pre><code>public class TestWatcherExtention implements TestWatcher {\n\n    private static final Logger logger = LoggerFactory.getLogger(TestResultNotifierExtension.class);\n\n    private List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\n\n    private enum TestResultStatus {\n        SUCCESSFUL, ABORTED, FAILED, DISABLED;\n    }\n\n  @Override\n    public void testFailed(ExtensionContext context, Throwable cause) {\n        logger.info(&quot;Test Failed for test {}: &quot;, context.getDisplayName());\n\n        testResultsStatus.add(TestResultStatus.FAILED);\n        ExtentTestReportManager.getTest().log(Status.FAIL, &quot;Test Failed&quot;);\n    }\n\n//similarly override methods for test Passed, Skipped etc.\n\n}\n</code></pre>\n<p>Step 2: Add the above implementation using @ExtendWith annotation from Junit5.</p>\n<pre><code>@SpringbootTest\n@ExtendWith(TestWatcherExtension.class)\npublic class MyTestClass {\n\n//my junit5 tests\n\n}\n</code></pre>\n<p>Now you're good to go</p>\n"}],"owner":{"account_id":1235940,"reputation":5220,"user_id":1199519,"accept_rate":70,"display_name":"mr.nothing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698818945,"creation_date":1553618208,"question_id":55362129,"body_markdown":"I have a number of very complex integration tests written with use of Spring Test framework. What I would like to do is to fetch last n lines from server log file in case test is failed.    \r\n\r\nFor this purposes I created test:\r\n    \r\n    @TestExecutionListeners({LogFetchingTestListener.class})  \r\n    public MyComplexTestClass extends AbstractTestNGSpringContextTests {\r\n        @Test\r\n        public void myComplexTest() {\r\n            // Here goes the test logic...\r\n        }\r\n    }\r\n\r\nand test listener:\r\n    \r\n    public class LogFetchingTestListener extends ABstractTestExecutionListener {\r\n        @Override\r\n        public void afterTestExecution(TestContext context) {\r\n            // Use some spring beans to get entities to connect to servers\r\n        }\r\n    }\r\n    \r\n\r\n  \r\n  \r\nEverything is fine but I was unable to find properties in `TestContext` or somewhere else which will let me know if my test has failed or not.  \r\n  \r\nIt is pretty critical as I have a big number of tests and it is completely senseless to fetch logs for test cases that were run successfully.  \r\n  \r\nDo Spring provide this information in test listeners? If no, is there any workarounds for this?  \r\n  \r\nThank you.","title":"Spring test listener: how to know if my test failed?","body":"<p>I have a number of very complex integration tests written with use of Spring Test framework. What I would like to do is to fetch last n lines from server log file in case test is failed.    </p>\n\n<p>For this purposes I created test:</p>\n\n<pre><code>@TestExecutionListeners({LogFetchingTestListener.class})  \npublic MyComplexTestClass extends AbstractTestNGSpringContextTests {\n    @Test\n    public void myComplexTest() {\n        // Here goes the test logic...\n    }\n}\n</code></pre>\n\n<p>and test listener:</p>\n\n<pre><code>public class LogFetchingTestListener extends ABstractTestExecutionListener {\n    @Override\n    public void afterTestExecution(TestContext context) {\n        // Use some spring beans to get entities to connect to servers\n    }\n}\n</code></pre>\n\n<p>Everything is fine but I was unable to find properties in <code>TestContext</code> or somewhere else which will let me know if my test has failed or not.  </p>\n\n<p>It is pretty critical as I have a big number of tests and it is completely senseless to fetch logs for test cases that were run successfully.  </p>\n\n<p>Do Spring provide this information in test listeners? If no, is there any workarounds for this?  </p>\n\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1698614637,"post_id":77384944,"comment_id":136424770,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1698614946,"post_id":77384944,"comment_id":136424794,"body_markdown":"What&#39;s the meaning of &quot;FTC&quot;?","body":"What&#39;s the meaning of &quot;FTC&quot;?"},{"owner":{"account_id":29781459,"reputation":7,"user_id":22823912,"display_name":"mydonut"},"score":0,"creation_date":1698619006,"post_id":77384944,"comment_id":136425095,"body_markdown":"FTC is the name of the competition my team&#39;s in. It stands for First Tech Challenge.","body":"FTC is the name of the competition my team&#39;s in. It stands for First Tech Challenge."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1698620788,"post_id":77384944,"comment_id":136425235,"body_markdown":"If FTC is irrelevant, delete. Keep your posts here as concise and on-point as possible.","body":"If FTC is irrelevant, delete. Keep your posts here as concise and on-point as possible."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698740814,"post_id":77384944,"comment_id":136440397,"body_markdown":"Please provide the exact compiler error or runtime exception, not just your summarized understanding of the error.","body":"Please provide the exact compiler error or runtime exception, not just your summarized understanding of the error."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698788246,"creation_date":1698613690,"answer_id":77385200,"question_id":77384944,"body_markdown":"A class, a record, an interface, an annotation type, and an enum type are all defined in a file named with `.java`. And all compile to a file named with `.class`. And all are represented by the [`Class`][1] class.\r\n\r\nThese are all legitimate lines of code:\r\n\r\n    Class&lt;?&gt; c1 = MyClass.class ;\r\n    Class&lt;?&gt; c2 = MyInterface.class ;\r\n    Class&lt;?&gt; c3 = MyEnum.class ;\r\n    Class&lt;?&gt; c4 = MyRecord.class ; \r\n\r\n    boolean isInterface = c2.isInterface() ;  // true. \r\n    boolean isEnum = c3.isEnum() ;  // true. \r\n    boolean isRecord = c4.isRecord() ;  // true. \r\n\r\n&gt; How can an object of an interface exist?\r\n\r\nYour [linked Javadoc][2] says `DcMotor` is an interface with at least two concrete implementations. \r\n\r\n    DcMotor fl = new DcMotorImpl() ; \r\n    DcMotor bl = new DcMotorImplEx() ; \r\n\r\n&gt; How do I use an array list or something similar to this?\r\n\r\n    List&lt; DcMotor &gt; motors = List.of ( fl , bl ) ;\r\n\r\nOr:\r\n\r\n    List&lt; DcMotor &gt; motors = new ArrayList() ;\r\n    motors.add( new DcMotorImplEx() ) ;\r\n\r\n&gt; Would regular arrays work with interfaces?\r\n\r\nYes. You can store instances of any class that implements the interface declared for that array.\r\n\r\n    DcMotor[] motors = { new DcMotorImpl() , new DcMotorImplEx() } ;\r\n\r\nYou commented:\r\n\r\n&gt; I&#39;ve never used the 2 concrete implementations, and neither have I seen anyone on my team use it. \r\n\r\nAn **interface cannot be instantiated**, [by definition][3]. Somewhere somehow, your team is calling code that instantiates a concrete class implementing that `DcMotor` interface. \r\n\r\nOne such place might be that line: \r\n\r\n    DcMotor fl = hardwareMap.get(DcMotor.class, &quot;fl&quot;);\r\n\r\nDig deep enough in that `get` method, and you will find some concrete class being instantiated. That instantiation is likely being done through the advanced programming technique of [reflection][4]. For more info, see correct [Answer here by Luke B][5].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Class.html#isAnnotationPresent(java.lang.Class)\r\n  [2]: https://ftctechnh.github.io/ftc_app/doc/javadoc/com/qualcomm/robotcore/hardware/DcMotor.html\r\n  [3]: https://docs.oracle.com/javase/specs/\r\n  [4]: https://en.wikipedia.org/wiki/Reflective_programming\r\n  [5]: https://stackoverflow.com/a/77385456/642706","title":"Java FTC ArrayList and Interface Issues","body":"<p>A class, a record, an interface, an annotation type, and an enum type are all defined in a file named with <code>.java</code>. And all compile to a file named with <code>.class</code>. And all are represented by the <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Class.html#isAnnotationPresent(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Class</code></a> class.</p>\n<p>These are all legitimate lines of code:</p>\n<pre><code>Class&lt;?&gt; c1 = MyClass.class ;\nClass&lt;?&gt; c2 = MyInterface.class ;\nClass&lt;?&gt; c3 = MyEnum.class ;\nClass&lt;?&gt; c4 = MyRecord.class ; \n\nboolean isInterface = c2.isInterface() ;  // true. \nboolean isEnum = c3.isEnum() ;  // true. \nboolean isRecord = c4.isRecord() ;  // true. \n</code></pre>\n<blockquote>\n<p>How can an object of an interface exist?</p>\n</blockquote>\n<p>Your <a href=\"https://ftctechnh.github.io/ftc_app/doc/javadoc/com/qualcomm/robotcore/hardware/DcMotor.html\" rel=\"nofollow noreferrer\">linked Javadoc</a> says <code>DcMotor</code> is an interface with at least two concrete implementations.</p>\n<pre><code>DcMotor fl = new DcMotorImpl() ; \nDcMotor bl = new DcMotorImplEx() ; \n</code></pre>\n<blockquote>\n<p>How do I use an array list or something similar to this?</p>\n</blockquote>\n<pre><code>List&lt; DcMotor &gt; motors = List.of ( fl , bl ) ;\n</code></pre>\n<p>Or:</p>\n<pre><code>List&lt; DcMotor &gt; motors = new ArrayList() ;\nmotors.add( new DcMotorImplEx() ) ;\n</code></pre>\n<blockquote>\n<p>Would regular arrays work with interfaces?</p>\n</blockquote>\n<p>Yes. You can store instances of any class that implements the interface declared for that array.</p>\n<pre><code>DcMotor[] motors = { new DcMotorImpl() , new DcMotorImplEx() } ;\n</code></pre>\n<p>You commented:</p>\n<blockquote>\n<p>I've never used the 2 concrete implementations, and neither have I seen anyone on my team use it.</p>\n</blockquote>\n<p>An <strong>interface cannot be instantiated</strong>, <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">by definition</a>. Somewhere somehow, your team is calling code that instantiates a concrete class implementing that <code>DcMotor</code> interface.</p>\n<p>One such place might be that line:</p>\n<pre><code>DcMotor fl = hardwareMap.get(DcMotor.class, &quot;fl&quot;);\n</code></pre>\n<p>Dig deep enough in that <code>get</code> method, and you will find some concrete class being instantiated. That instantiation is likely being done through the advanced programming technique of <a href=\"https://en.wikipedia.org/wiki/Reflective_programming\" rel=\"nofollow noreferrer\">reflection</a>. For more info, see correct <a href=\"https://stackoverflow.com/a/77385456/642706\">Answer here by Luke B</a>.</p>\n"},{"tags":[],"owner":{"account_id":6607062,"reputation":2118,"user_id":5103577,"display_name":"Luke B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698703941,"creation_date":1698619679,"answer_id":77385456,"question_id":77384944,"body_markdown":"The [other answer][1] explains the general idea for interfaces vs classes. \r\n\r\nFor FTC specifically, you shouldn&#39;t construct the `DcMotorImpl` objects yourself. Instead, you should use the hardware map like you are now.\r\n\r\n    DcMotor fl = hardwareMap.get(DcMotor.class, &quot;fl&quot;);\r\n\r\nThis will get you an instance of some class that implements `DcMotor`. It will already have the information about port number, motor type, etc. \r\n\r\nThen you can easily add it to whatever List or array that you want.\r\n\r\n    List&lt;DcMotor&gt; motors = new ArrayList&lt;&gt;();\r\n    motors.add(fl);\r\n    \r\n    DcMotor[] motorsArray = new DcMotor[5];\r\n    motorsArray[0] = fl;\r\n\r\nAs the documentation says for HardwareMap `get`\r\n\r\n&gt; Retrieves the (first) device with the indicated name which is also an instance of the indicated class or interface.\r\n\r\nThe use of `DcMotor.class` is a kind of [*reflection*][2] which is a Java feature allowing you to work with classes/types themselves, not just instances of those classes. In this case it is used to get the correct type of device in case of duplicate names in the hardware map, such as a servo called &quot;left&quot; and a DcMotor called &quot;left&quot;. It also means you don&#39;t need to cast a `HardwareDevice` into a `DcMotor`, it is already returned as that type.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77385200/642706\r\n  [2]: https://en.wikipedia.org/wiki/Reflective_programming","title":"Java FTC ArrayList and Interface Issues","body":"<p>The <a href=\"https://stackoverflow.com/a/77385200/642706\">other answer</a> explains the general idea for interfaces vs classes.</p>\n<p>For FTC specifically, you shouldn't construct the <code>DcMotorImpl</code> objects yourself. Instead, you should use the hardware map like you are now.</p>\n<pre><code>DcMotor fl = hardwareMap.get(DcMotor.class, &quot;fl&quot;);\n</code></pre>\n<p>This will get you an instance of some class that implements <code>DcMotor</code>. It will already have the information about port number, motor type, etc.</p>\n<p>Then you can easily add it to whatever List or array that you want.</p>\n<pre><code>List&lt;DcMotor&gt; motors = new ArrayList&lt;&gt;();\nmotors.add(fl);\n\nDcMotor[] motorsArray = new DcMotor[5];\nmotorsArray[0] = fl;\n</code></pre>\n<p>As the documentation says for HardwareMap <code>get</code></p>\n<blockquote>\n<p>Retrieves the (first) device with the indicated name which is also an instance of the indicated class or interface.</p>\n</blockquote>\n<p>The use of <code>DcMotor.class</code> is a kind of <a href=\"https://en.wikipedia.org/wiki/Reflective_programming\" rel=\"nofollow noreferrer\"><em>reflection</em></a> which is a Java feature allowing you to work with classes/types themselves, not just instances of those classes. In this case it is used to get the correct type of device in case of duplicate names in the hardware map, such as a servo called &quot;left&quot; and a DcMotor called &quot;left&quot;. It also means you don't need to cast a <code>HardwareDevice</code> into a <code>DcMotor</code>, it is already returned as that type.</p>\n"}],"owner":{"account_id":29781459,"reputation":7,"user_id":22823912,"display_name":"mydonut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":77385200,"answer_count":2,"score":-3,"last_activity_date":1698818680,"creation_date":1698608719,"question_id":77384944,"body_markdown":"So I&#39;m trying to make an arraylist of some objects and I&#39;ve ran into some very weird conundrums. The &quot;objects&quot; we use are of interfaces (not possible), the .add doesn&#39;t work (probably because of the first problem), but instanceof works.\r\n\r\n\r\n\r\n\r\nThis is just the story of how I got here:\r\n\r\nI was planning on making a very generalized TeleOp (driver controlled period). You would put the devices in an array list and the sensitivities in another. I used the instanceof keyword to do stuff based on the device type (Servo, CRServo, DcMotor). After that, I went to input it in, and I found that .add(motor) didn&#39;t work. It said that it didn&#39;t recognize the class of motor. It was initialized as a DcMotor. But, according to this [documentation](https://ftctechnh.github.io/ftc_app/doc/javadoc/com/qualcomm/robotcore/hardware/DcMotor.html), the  DcMotor &quot;class&quot; is actually an interface. Here&#39;s another twist. When we set the variable to the actual device, we use this:\r\n\r\n```java\r\nfl = hardwareMap.get(DcMotor.class, &quot;fl&quot;);\r\nfr = hardwareMap.get(DcMotor.class, &quot;fr&quot;);\r\nbl = hardwareMap.get(DcMotor.class, &quot;bl&quot;);\r\nbr = hardwareMap.get(DcMotor.class, &quot;br&quot;);\r\n```\r\n\r\nWhat I don&#39;t get is the .class part. When I looked that up, it just said that it was the name for the interface. This is the generalized class:\r\n\r\n```java\r\npackage org.firstinspires.ftc.teamcode.Comp_running_code.Comp_Call_Upon_Classes;\r\n\r\nimport com.qualcomm.robotcore.hardware.CRServo;\r\nimport com.qualcomm.robotcore.hardware.DcMotor;\r\nimport com.qualcomm.robotcore.hardware.Gamepad;\r\nimport com.qualcomm.robotcore.hardware.HardwareDevice;\r\nimport com.qualcomm.robotcore.hardware.Servo;\r\n\r\nimport org.firstinspires.ftc.robotcore.external.Telemetry;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Commands {\r\n    private double dummy;\r\n\r\n    private ArrayList&lt;HardwareDevice&gt; devices = null;\r\n    private ArrayList&lt;Double&gt; sens = null;\r\n\r\n    public Commands(ArrayList&lt;HardwareDevice&gt; arrayList, ArrayList&lt;Double&gt; sens){\r\n        devices = arrayList;\r\n        this.sens = sens;\r\n    }\r\n    //High sensitivity value means more input required to move the device\r\n    public static boolean isInRange(double val, double sensitivity){\r\n        if (val&lt;-sensitivity||val&gt;sensitivity){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    public static boolean isInRange(double val){\r\n        if (val&lt;-.1||val&gt;.1){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //Higher sensitivity means that it accepts smaller inputs\r\n    public void run(HardwareDevice thing,Gamepad gamepad, double power, Telemetry telemetry){\r\n        double sensitivity = sens.get(devices.indexOf(thing));\r\n\r\n        if (isInRange(power,1-sensitivity)){\r\n            if (thing instanceof DcMotor) {\r\n                ((DcMotor) thing).setPower(power);\r\n                telemetry.addData(&quot;Power: &quot;, ((DcMotor) thing).getPower());\r\n            } else if (thing instanceof Servo) {\r\n                ((Servo) thing).setPosition(((Servo) thing).getPosition()+power*sensitivity);\r\n                telemetry.addData(&quot;Power: &quot;, ((Servo) thing).getPosition());\r\n            } else if (thing instanceof CRServo) {\r\n                ((CRServo) thing).setPower(power);\r\n                telemetry.addData(&quot;Power: &quot;, ((CRServo) thing).getPower());\r\n            } else if (thing instanceof Intake) {\r\n                ((Intake) thing).runIntake(gamepad);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nSo I have a few questions:\r\n\r\n\r\n\r\n\r\n1. What can I use instead of an arraylist?\r\n\r\n\r\n\r\n","title":"Java FTC ArrayList and Interface Issues","body":"<p>So I'm trying to make an arraylist of some objects and I've ran into some very weird conundrums. The &quot;objects&quot; we use are of interfaces (not possible), the .add doesn't work (probably because of the first problem), but instanceof works.</p>\n<p>This is just the story of how I got here:</p>\n<p>I was planning on making a very generalized TeleOp (driver controlled period). You would put the devices in an array list and the sensitivities in another. I used the instanceof keyword to do stuff based on the device type (Servo, CRServo, DcMotor). After that, I went to input it in, and I found that .add(motor) didn't work. It said that it didn't recognize the class of motor. It was initialized as a DcMotor. But, according to this <a href=\"https://ftctechnh.github.io/ftc_app/doc/javadoc/com/qualcomm/robotcore/hardware/DcMotor.html\" rel=\"nofollow noreferrer\">documentation</a>, the  DcMotor &quot;class&quot; is actually an interface. Here's another twist. When we set the variable to the actual device, we use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>fl = hardwareMap.get(DcMotor.class, &quot;fl&quot;);\nfr = hardwareMap.get(DcMotor.class, &quot;fr&quot;);\nbl = hardwareMap.get(DcMotor.class, &quot;bl&quot;);\nbr = hardwareMap.get(DcMotor.class, &quot;br&quot;);\n</code></pre>\n<p>What I don't get is the .class part. When I looked that up, it just said that it was the name for the interface. This is the generalized class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.firstinspires.ftc.teamcode.Comp_running_code.Comp_Call_Upon_Classes;\n\nimport com.qualcomm.robotcore.hardware.CRServo;\nimport com.qualcomm.robotcore.hardware.DcMotor;\nimport com.qualcomm.robotcore.hardware.Gamepad;\nimport com.qualcomm.robotcore.hardware.HardwareDevice;\nimport com.qualcomm.robotcore.hardware.Servo;\n\nimport org.firstinspires.ftc.robotcore.external.Telemetry;\n\nimport java.util.ArrayList;\n\npublic class Commands {\n    private double dummy;\n\n    private ArrayList&lt;HardwareDevice&gt; devices = null;\n    private ArrayList&lt;Double&gt; sens = null;\n\n    public Commands(ArrayList&lt;HardwareDevice&gt; arrayList, ArrayList&lt;Double&gt; sens){\n        devices = arrayList;\n        this.sens = sens;\n    }\n    //High sensitivity value means more input required to move the device\n    public static boolean isInRange(double val, double sensitivity){\n        if (val&lt;-sensitivity||val&gt;sensitivity){\n            return true;\n        } else {\n            return false;\n        }\n    }\n    public static boolean isInRange(double val){\n        if (val&lt;-.1||val&gt;.1){\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n\n\n    //Higher sensitivity means that it accepts smaller inputs\n    public void run(HardwareDevice thing,Gamepad gamepad, double power, Telemetry telemetry){\n        double sensitivity = sens.get(devices.indexOf(thing));\n\n        if (isInRange(power,1-sensitivity)){\n            if (thing instanceof DcMotor) {\n                ((DcMotor) thing).setPower(power);\n                telemetry.addData(&quot;Power: &quot;, ((DcMotor) thing).getPower());\n            } else if (thing instanceof Servo) {\n                ((Servo) thing).setPosition(((Servo) thing).getPosition()+power*sensitivity);\n                telemetry.addData(&quot;Power: &quot;, ((Servo) thing).getPosition());\n            } else if (thing instanceof CRServo) {\n                ((CRServo) thing).setPower(power);\n                telemetry.addData(&quot;Power: &quot;, ((CRServo) thing).getPower());\n            } else if (thing instanceof Intake) {\n                ((Intake) thing).runIntake(gamepad);\n\n            }\n        }\n    }\n\n\n}\n</code></pre>\n<p>So I have a few questions:</p>\n<ol>\n<li>What can I use instead of an arraylist?</li>\n</ol>\n"},{"tags":["java","junit","thread-local","parameterized-unit-test"],"answers":[{"tags":[],"owner":{"account_id":72381,"reputation":1575,"user_id":209008,"display_name":"nhylated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421068665,"creation_date":1421064784,"answer_id":27901749,"question_id":27901391,"body_markdown":"Looks like JUnit [parameterized unit tests][1] is what you&#39;re looking for. \r\n\r\nEdit: Sample code based on the example provided on the JUnit wiki: \r\n\r\n\t@RunWith(Parameterized.class)\r\n\tpublic class Test {\r\n\r\n\t\t@Parameters\r\n\t\tpublic static Collection&lt;Object[]&gt; data() {\r\n\t\t\treturn Arrays.asList(new Object[][] {{ new ThreadLocalProvider() }});\r\n\t\t}\r\n\r\n\t\t@Parameter(value = 0) // first data value (0) is default\r\n\t\tpublic /* NOT private */ ThreadLocalProvider tloProvider;\r\n\t\t\r\n\t\tpublic ThreadLocal&lt;Object&gt; tlo;\r\n\t\t\r\n\t\t@Before\r\n\t\tpublic void setup() {\r\n            // getNew() will be called in the same thread in which the unit test will run.\r\n\t\t\ttlo = tloProvider.getNew();\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void test() {\r\n\t\t\t// Test using tlo.\r\n\t\t}\r\n\t}\r\n\r\n\tclass ThreadLocalProvider {\r\n\t\tpublic ThreadLocal&lt;Object&gt; getNew() {\r\n\t\t\t// Instantiate a *new* ThreadLocal object and return it.\r\n\t\t}\r\n\t}\r\n\r\nNote: If you use a provider, you can run your tests without using the Parameterized runner as well (just get a new object from the provider in the `@Before` method) but since I don&#39;t know much about your code or requirement, I&#39;ll leave that choice to you.\t\r\n\r\nAlso, you don&#39;t need to instantiate your own JUnit Runner. You can use a `Runner` provided by JUnit ([reference][2]) along with the `@RunWith` annotation.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Parameterized-tests\r\n  [2]: https://github.com/junit-team/junit/wiki/Test-runners","title":"Passing a thread local variable to JUnit test","body":"<p>Looks like JUnit <a href=\"https://github.com/junit-team/junit/wiki/Parameterized-tests\" rel=\"nofollow\">parameterized unit tests</a> is what you're looking for. </p>\n\n<p>Edit: Sample code based on the example provided on the JUnit wiki: </p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class Test {\n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n        return Arrays.asList(new Object[][] {{ new ThreadLocalProvider() }});\n    }\n\n    @Parameter(value = 0) // first data value (0) is default\n    public /* NOT private */ ThreadLocalProvider tloProvider;\n\n    public ThreadLocal&lt;Object&gt; tlo;\n\n    @Before\n    public void setup() {\n        // getNew() will be called in the same thread in which the unit test will run.\n        tlo = tloProvider.getNew();\n    }\n\n    @Test\n    public void test() {\n        // Test using tlo.\n    }\n}\n\nclass ThreadLocalProvider {\n    public ThreadLocal&lt;Object&gt; getNew() {\n        // Instantiate a *new* ThreadLocal object and return it.\n    }\n}\n</code></pre>\n\n<p>Note: If you use a provider, you can run your tests without using the Parameterized runner as well (just get a new object from the provider in the <code>@Before</code> method) but since I don't know much about your code or requirement, I'll leave that choice to you. </p>\n\n<p>Also, you don't need to instantiate your own JUnit Runner. You can use a <code>Runner</code> provided by JUnit (<a href=\"https://github.com/junit-team/junit/wiki/Test-runners\" rel=\"nofollow\">reference</a>) along with the <code>@RunWith</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474468642,"creation_date":1474468642,"answer_id":39619618,"question_id":27901391,"body_markdown":"no idea why do you need threadLocal. if you need run same tests with different parameters then just create a list of those parameters and use parameterized tests (junit&#39;s native or of many libraries like zohhak or junit-dataprovider).\r\n\r\nif for any reason you need to access thread local inside your tests then you also need to insert data to it inside the test because before running tests you don&#39;t know what thread will be used to run the test. but still it seems like you can write one tests to check if your code correctly uses threadLocal and then parameterized tests to check if your code correctly handles value taken from threadLocal","title":"Passing a thread local variable to JUnit test","body":"<p>no idea why do you need threadLocal. if you need run same tests with different parameters then just create a list of those parameters and use parameterized tests (junit's native or of many libraries like zohhak or junit-dataprovider).</p>\n\n<p>if for any reason you need to access thread local inside your tests then you also need to insert data to it inside the test because before running tests you don't know what thread will be used to run the test. but still it seems like you can write one tests to check if your code correctly uses threadLocal and then parameterized tests to check if your code correctly handles value taken from threadLocal</p>\n"}],"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698818590,"creation_date":1421063669,"question_id":27901391,"body_markdown":"I have a thread which inits a thread local class variable and starts with running unit tests:\r\n\r\n    public class FooThread extends Thread {\r\n        TestRunner runner;\r\n        Foo foo;\r\n\r\n        public void run() {\r\n            initSomeThreadLocalStuff(); // inits foo and runner\r\n            runner.runJUnitTests(); // JUnitCore.runTest(TestClass)\r\n        }\r\n\r\n        private void initSomeThreadLocalStuff() {\r\n            foo = new Foo(this);\r\n            // ...\r\n        }\r\n    }\r\n\r\n    public class Foo() {\r\n        public Foo(FooThread t) {\r\n            // ...\r\n        }    \r\n    }\r\n\r\nNow I want to run the JUnit tests with access (or a reference) to the thread local object `foo`. Is this possible? I tried to keep it simple but the complicated thing seemed not to be clear (so I added some code): the Foo object needs the current `FooThread` to be initialized.","title":"Passing a thread local variable to JUnit test","body":"<p>I have a thread which inits a thread local class variable and starts with running unit tests:</p>\n\n<pre><code>public class FooThread extends Thread {\n    TestRunner runner;\n    Foo foo;\n\n    public void run() {\n        initSomeThreadLocalStuff(); // inits foo and runner\n        runner.runJUnitTests(); // JUnitCore.runTest(TestClass)\n    }\n\n    private void initSomeThreadLocalStuff() {\n        foo = new Foo(this);\n        // ...\n    }\n}\n\npublic class Foo() {\n    public Foo(FooThread t) {\n        // ...\n    }    \n}\n</code></pre>\n\n<p>Now I want to run the JUnit tests with access (or a reference) to the thread local object <code>foo</code>. Is this possible? I tried to keep it simple but the complicated thing seemed not to be clear (so I added some code): the Foo object needs the current <code>FooThread</code> to be initialized.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":0,"creation_date":1368895823,"post_id":16626706,"comment_id":23907372,"body_markdown":"A library called [xeger](https://code.google.com/p/xeger/) might be useful in this case.","body":"A library called <a href=\"https://code.google.com/p/xeger/\" rel=\"nofollow noreferrer\">xeger</a> might be useful in this case."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1368895898,"post_id":16626706,"comment_id":23907395,"body_markdown":"Instead of posting comments under your own question just [[edit]] it with that additional information.","body":"Instead of posting comments under your own question just [<a href=\"https://stackoverflow.com/posts/16626706/edit\">edit</a>] it with that additional information."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1368895906,"post_id":16626706,"comment_id":23907397,"body_markdown":"You should construct the regex from a set of equivalent words, then generate the regex, and then choose the word during replacement. You will need to parse the regex yourself if you starts from the regex alone.","body":"You should construct the regex from a set of equivalent words, then generate the regex, and then choose the word during replacement. You will need to parse the regex yourself if you starts from the regex alone."},{"owner":{"account_id":281244,"reputation":38779,"user_id":577423,"display_name":"Howard"},"score":1,"creation_date":1368895978,"post_id":16626706,"comment_id":23907425,"body_markdown":"If you might find the library useful - did you try?","body":"If you might find the library useful - did you try?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":6,"creation_date":1368896242,"post_id":16626706,"comment_id":23907493,"body_markdown":"IMO unless you have a *very* limited input, doing this via regex is a Really Bad Idea and will essentially never work. That may be what you&#39;re trying to do, in which case, okay, but... good luck with that.","body":"IMO unless you have a <i>very</i> limited input, doing this via regex is a Really Bad Idea and will essentially never work. That may be what you&#39;re trying to do, in which case, okay, but... good luck with that."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1368896369,"post_id":16626706,"comment_id":23907533,"body_markdown":"Oh, I believe I misunderstood your usage of the word &quot;paraphrasing&quot;, which generally means &quot;express the same meaning in a different way&quot;, which this is not. Is it critical that your input sentence be explicitly human-readable, or could you use placeholders, and provide pluggable mechanisms for generating their value? That seems like an easier way to handle this.","body":"Oh, I believe I misunderstood your usage of the word &quot;paraphrasing&quot;, which generally means &quot;express the same meaning in a different way&quot;, which this is not. Is it critical that your input sentence be explicitly human-readable, or could you use placeholders, and provide pluggable mechanisms for generating their value? That seems like an easier way to handle this."},{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":0,"creation_date":1368896727,"post_id":16626706,"comment_id":23907641,"body_markdown":"@Howard No, the idea of using xeger didn&#39;t occur to me before. I&#39;ll see if I can get it to work this way.","body":"@Howard No, the idea of using xeger didn&#39;t occur to me before. I&#39;ll see if I can get it to work this way."},{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":0,"creation_date":1368896839,"post_id":16626706,"comment_id":23907670,"body_markdown":"@DaveNewton If automatically paraphrasing sentences using regexes seems like a bad idea, then can you think of a better approach to the same problem? (Do you mean that automatically paraphrasing sentences is a bad idea, and that I shouldn&#39;t even try to solve this problem)?","body":"@DaveNewton If automatically paraphrasing sentences using regexes seems like a bad idea, then can you think of a better approach to the same problem? (Do you mean that automatically paraphrasing sentences is a bad idea, and that I shouldn&#39;t even try to solve this problem)?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1368897056,"post_id":16626706,"comment_id":23907738,"body_markdown":"@AndersonGreen Paraphrasing is part of NLP, which is Hard. What you&#39;re doing here isn&#39;t paraphrasing, it&#39;s madlibs.","body":"@AndersonGreen Paraphrasing is part of NLP, which is Hard. What you&#39;re doing here isn&#39;t paraphrasing, it&#39;s madlibs."},{"owner":{"account_id":1971845,"reputation":441,"user_id":1770578,"display_name":"Goofy"},"score":0,"creation_date":1368897306,"post_id":16626706,"comment_id":23907795,"body_markdown":"I think there are some professional language processing libraries you could find at google.","body":"I think there are some professional language processing libraries you could find at google."}],"answers":[{"tags":[],"owner":{"account_id":2051638,"reputation":6978,"user_id":1830513,"accept_rate":80,"display_name":"Sazzadur Rahaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565193214,"creation_date":1368900423,"answer_id":16627393,"question_id":16626706,"body_markdown":"You can do it with the steps below:\r\n\r\nFirst, split the `textToParaphrase` string with `regexToUse` and you will get an array with the portions of the `textToParaphrase` doesn&#39;t matched with the provided expression. For example: if,\r\n\r\n     textToParaphrase = &quot;I am very happy today for you&quot;;\r\n     regexToUse = &quot;(very|extremely) (happy|joyful) (today|at this (moment|time|instant in time))&quot;;\r\nThe output will be : `{&quot;I am &quot;, &quot;for you&quot;}`.\r\nThen create a regular expression with these generated strings (like `&quot;(I am |for you)&quot;`). Now again split the `textToParaphrase` with this generated expression and you will get the array of the matched portions of the given regular expression. And finally you replace each of the matched portion with the randomly generated string.   \r\n\r\nThe code is like bellow:\r\n\r\n    public static String paraphraseUsingRegularExpression(String textToParaphrase, String regexToUse){\r\n        String[] unMatchedPortionArray = textToParaphrase.split(regexToUse);\r\n        String regExToFilter = &quot;(&quot;;\r\n        for(int i = 0; i&lt; unMatchedPortionArray.length; i++){\r\n            if(i == unMatchedPortionArray.length -1){\r\n                regExToFilter+=unMatchedPortionArray[i];\r\n            } else {\r\n                regExToFilter+=unMatchedPortionArray[i]+&quot;|&quot;;\r\n            }\r\n        }\r\n        regExToFilter+=&quot;)&quot;;\r\n\r\n        String[] matchedPortionArray = textToParaphrase.split(regExToFilter);\r\n        Xeger generator = new Xeger(regexToUse);\r\n        for (String matchedSegment : matchedPortionArray){\r\n        String result = generator.generate(); //generates randomly (according to you!)\r\n            textToParaphrase = textToParaphrase.replace(matchedSegment, result);\r\n        }\r\n        return textToParaphrase;\r\n    }\r\n\r\nCheers!","title":"Automatically paraphrasing sentences in Java","body":"<p>You can do it with the steps below:</p>\n\n<p>First, split the <code>textToParaphrase</code> string with <code>regexToUse</code> and you will get an array with the portions of the <code>textToParaphrase</code> doesn't matched with the provided expression. For example: if,</p>\n\n<pre><code> textToParaphrase = \"I am very happy today for you\";\n regexToUse = \"(very|extremely) (happy|joyful) (today|at this (moment|time|instant in time))\";\n</code></pre>\n\n<p>The output will be : <code>{\"I am \", \"for you\"}</code>.\nThen create a regular expression with these generated strings (like <code>\"(I am |for you)\"</code>). Now again split the <code>textToParaphrase</code> with this generated expression and you will get the array of the matched portions of the given regular expression. And finally you replace each of the matched portion with the randomly generated string.   </p>\n\n<p>The code is like bellow:</p>\n\n<pre><code>public static String paraphraseUsingRegularExpression(String textToParaphrase, String regexToUse){\n    String[] unMatchedPortionArray = textToParaphrase.split(regexToUse);\n    String regExToFilter = \"(\";\n    for(int i = 0; i&lt; unMatchedPortionArray.length; i++){\n        if(i == unMatchedPortionArray.length -1){\n            regExToFilter+=unMatchedPortionArray[i];\n        } else {\n            regExToFilter+=unMatchedPortionArray[i]+\"|\";\n        }\n    }\n    regExToFilter+=\")\";\n\n    String[] matchedPortionArray = textToParaphrase.split(regExToFilter);\n    Xeger generator = new Xeger(regexToUse);\n    for (String matchedSegment : matchedPortionArray){\n    String result = generator.generate(); //generates randomly (according to you!)\n        textToParaphrase = textToParaphrase.replace(matchedSegment, result);\n    }\n    return textToParaphrase;\n}\n</code></pre>\n\n<p>Cheers!</p>\n"}],"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1804,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698818553,"creation_date":1368895659,"question_id":16626706,"body_markdown":"In Java, I&#39;m trying to automatically paraphrase text using regular expressions.\r\n\r\nSo I&#39;ll need to find a way to replace the first match of a regular expression with a randomly generated match of that regular expression, like this:\r\n\r\n    public static String paraphraseUsingRegularExpression(String textToParaphrase, String regexToUse){\r\n        //In textToParaphrase, replace the first match of regexToUse with a randomly generated match of regexToUse, and return the modified string.\r\n    }\r\n\r\nSo how can I replace the first match of a regular expression in a string with a randomly generated match of that regular expression? (Perhaps a library called [xeger](https://code.google.com/p/xeger/) would be useful for this purpose.)\r\n\r\nFor example, `paraphraseUsingRegularExpression(&quot;I am very happy today&quot;, &quot;(very|extremely) (happy|joyful) (today|at this (moment|time|instant in time))&quot;);` would replace the first match of the regular expression with a randomly generated match of the regular expression, which could produce the output `&quot;I am extremely joyful at this moment in time&quot;`, or `&quot;I am very happy at this time&quot;`.","title":"Automatically paraphrasing sentences in Java","body":"<p>In Java, I'm trying to automatically paraphrase text using regular expressions.</p>\n\n<p>So I'll need to find a way to replace the first match of a regular expression with a randomly generated match of that regular expression, like this:</p>\n\n<pre><code>public static String paraphraseUsingRegularExpression(String textToParaphrase, String regexToUse){\n    //In textToParaphrase, replace the first match of regexToUse with a randomly generated match of regexToUse, and return the modified string.\n}\n</code></pre>\n\n<p>So how can I replace the first match of a regular expression in a string with a randomly generated match of that regular expression? (Perhaps a library called <a href=\"https://code.google.com/p/xeger/\" rel=\"nofollow\">xeger</a> would be useful for this purpose.)</p>\n\n<p>For example, <code>paraphraseUsingRegularExpression(\"I am very happy today\", \"(very|extremely) (happy|joyful) (today|at this (moment|time|instant in time))\");</code> would replace the first match of the regular expression with a randomly generated match of the regular expression, which could produce the output <code>\"I am extremely joyful at this moment in time\"</code>, or <code>\"I am very happy at this time\"</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":0,"creation_date":1625814322,"post_id":68312505,"comment_id":120732482,"body_markdown":"try removing `scanBasePackages = &quot;TodoRepo.java&quot;` from main class","body":"try removing <code>scanBasePackages = &quot;TodoRepo.java&quot;</code> from main class"},{"owner":{"account_id":10859295,"reputation":768,"user_id":7984621,"display_name":"S. Anushan"},"score":0,"creation_date":1625814479,"post_id":68312505,"comment_id":120732551,"body_markdown":"Packaging no issue all class belong to within one package.","body":"Packaging no issue all class belong to within one package."},{"owner":{"account_id":19478804,"reputation":57,"user_id":14249636,"display_name":"bijay limbu"},"score":0,"creation_date":1625814829,"post_id":68312505,"comment_id":120732671,"body_markdown":"this is my URL http://localhost:8000/todo which I have used in postman","body":"this is my URL <a href=\"http://localhost:8000/todo\" rel=\"nofollow noreferrer\">localhost:8000/todo</a> which I have used in postman"},{"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"score":0,"creation_date":1625815036,"post_id":68312505,"comment_id":120732750,"body_markdown":"Can you please let us know what is the URL you are providing in postman along with the application.properties file. Also for scanBasePackages we don&#39;t provide a class name we provide a package name as the name says, so provide a appropriate package name under which all classes are present so that it can be scanned by Spring during startup, here com.assignment.todo","body":"Can you please let us know what is the URL you are providing in postman along with the application.properties file. Also for scanBasePackages we don&#39;t provide a class name we provide a package name as the name says, so provide a appropriate package name under which all classes are present so that it can be scanned by Spring during startup, here com.assignment.todo"},{"owner":{"account_id":19478804,"reputation":57,"user_id":14249636,"display_name":"bijay limbu"},"score":0,"creation_date":1625816450,"post_id":68312505,"comment_id":120733189,"body_markdown":"After adding this line it still show the same error @ComponentScan(basePackages=&quot;com.assignment.todo.Todo.Controller.TodoController&quot;)","body":"After adding this line it still show the same error @ComponentScan(basePackages=&quot;com.assignment.todo.Todo.Contro&zwnj;&#8203;ller.TodoController&quot;&zwnj;&#8203;)"},{"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"score":0,"creation_date":1625819139,"post_id":68312505,"comment_id":120734150,"body_markdown":"Just add @ComponentScan(basePackages=&quot;com.assignment.todo&quot;)\nPlease share the application.yaml or application.properties whichever is present under resources folder","body":"Just add @ComponentScan(basePackages=&quot;com.assignment.todo&quot;) Please share the application.yaml or application.properties whichever is present under resources folder"},{"owner":{"account_id":19478804,"reputation":57,"user_id":14249636,"display_name":"bijay limbu"},"score":0,"creation_date":1625823754,"post_id":68312505,"comment_id":120735964,"body_markdown":"application.properties file in empty","body":"application.properties file in empty"},{"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"score":0,"creation_date":1625827480,"post_id":68312505,"comment_id":120737315,"body_markdown":"Add server.port=8080 in application.properties file then make the request from postman using URL http://localhost:8080/todo, as you have only get and post request in controller make sure you don&#39;t make any other type of request via the postman.","body":"Add server.port=8080 in application.properties file then make the request from postman using URL <a href=\"http://localhost:8080/todo\" rel=\"nofollow noreferrer\">localhost:8080/todo</a>, as you have only get and post request in controller make sure you don&#39;t make any other type of request via the postman."},{"owner":{"account_id":19478804,"reputation":57,"user_id":14249636,"display_name":"bijay limbu"},"score":0,"creation_date":1625855932,"post_id":68312505,"comment_id":120747700,"body_markdown":"Still not working","body":"Still not working"},{"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"score":0,"creation_date":1625885797,"post_id":68312505,"comment_id":120752940,"body_markdown":"What is the command your using to build and start the service? Is there error messages on startup logs?","body":"What is the command your using to build and start the service? Is there error messages on startup logs?"},{"owner":{"account_id":19478804,"reputation":57,"user_id":14249636,"display_name":"bijay limbu"},"score":0,"creation_date":1625891429,"post_id":68312505,"comment_id":120753518,"body_markdown":"No, the build was successful","body":"No, the build was successful"}],"answers":[{"tags":[],"owner":{"account_id":10859295,"reputation":768,"user_id":7984621,"display_name":"S. Anushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625814410,"creation_date":1625814410,"answer_id":68312601,"question_id":68312505,"body_markdown":"There is issue in your mapping. You didn&#39;t specify the mapping path so findAll and save has default mapping as empty then controller could not understand which API you calling. Add below things and try.\r\n\r\n    @GetMapping(value=&quot;/findAll&quot;)\r\n\r\n    @PostMapping(value=/save&quot;)","title":"postman returning &quot;status&quot;: 404, &quot;error&quot;: &quot;Not Found&quot;, for the spring boot","body":"<p>There is issue in your mapping. You didn't specify the mapping path so findAll and save has default mapping as empty then controller could not understand which API you calling. Add below things and try.</p>\n<pre><code>@GetMapping(value=&quot;/findAll&quot;)\n\n@PostMapping(value=/save&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22188269,"reputation":41,"user_id":16430846,"display_name":"Kaushik Shaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626202543,"creation_date":1626202543,"answer_id":68368001,"question_id":68312505,"body_markdown":"```\r\n@RestController(&quot;/todo&quot;)// you can give any URL here\r\npublic class TodoController  {\r\n\r\n@Autowired\r\nprivate TodoRepo todoRepo;\r\n\r\n@GetMapping(&quot;/getAll&quot;)// you can give any URL here\r\npublic List&lt;TodoModel&gt; findAll(){\r\n    return todoRepo.findAll();\r\n    \r\n}\r\n    \r\n@PostMapping(&quot;/save&quot;)// you can give any URL here\r\npublic TodoModel save(@Valid @NotNull @RequestBody TodoModel todoItem) {\r\n    todoRepo.save(todoItem);\r\n    return todoItem;\r\n}\r\n}\r\n```\r\n\r\nyou give the mapping to the method like this. you can give any URL name. This is the main reason you get a 404 error.","title":"postman returning &quot;status&quot;: 404, &quot;error&quot;: &quot;Not Found&quot;, for the spring boot","body":"<pre><code>@RestController(&quot;/todo&quot;)// you can give any URL here\npublic class TodoController  {\n\n@Autowired\nprivate TodoRepo todoRepo;\n\n@GetMapping(&quot;/getAll&quot;)// you can give any URL here\npublic List&lt;TodoModel&gt; findAll(){\n    return todoRepo.findAll();\n    \n}\n    \n@PostMapping(&quot;/save&quot;)// you can give any URL here\npublic TodoModel save(@Valid @NotNull @RequestBody TodoModel todoItem) {\n    todoRepo.save(todoItem);\n    return todoItem;\n}\n}\n</code></pre>\n<p>you give the mapping to the method like this. you can give any URL name. This is the main reason you get a 404 error.</p>\n"},{"tags":[],"owner":{"account_id":25191059,"reputation":1,"user_id":19031248,"display_name":"Hardik Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651758804,"creation_date":1651651223,"answer_id":72109631,"question_id":68312505,"body_markdown":"The TodoApplication class must be above this one level.\r\n\r\nchange this:\r\n\r\nfrom \r\n\r\n    package com.assignment.todo.Todo;\r\n\r\nto\r\n\r\n    package com.assignment.todo;\r\n\r\n","title":"postman returning &quot;status&quot;: 404, &quot;error&quot;: &quot;Not Found&quot;, for the spring boot","body":"<p>The TodoApplication class must be above this one level.</p>\n<p>change this:</p>\n<p>from</p>\n<pre><code>package com.assignment.todo.Todo;\n</code></pre>\n<p>to</p>\n<pre><code>package com.assignment.todo;\n</code></pre>\n"}],"owner":{"account_id":19478804,"reputation":57,"user_id":14249636,"display_name":"bijay limbu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6947,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698817066,"creation_date":1625813951,"question_id":68312505,"body_markdown":"Thank you in advance, Hello I am new to spring boot. I am facing a problem with spring boot. When I run my URL in postman it shows an error below. I have also uploaded my code below. I don&#39;t find any idea what wrong with my code. \r\n\r\n     {\r\n        &quot;timestamp&quot;: &quot;2021-07-09T06:43:57.429+00:00&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;path&quot;: &quot;/todo&quot;\r\n    }\r\n\r\n[![My project structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W3iV3.png\r\n\r\nController code\r\nThis is a code for my controller code. \r\n\r\n    package com.assignment.todo.Todo.Controller;\r\n    import com.assignment.todo.Todo.Repo.*;\r\n    import java.util.List;\r\n    \r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.assignment.todo.Todo.Model.*;\r\n    import com.assignment.todo.Todo.Repo.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(value=&quot;/todo&quot;)\r\n    public class TodoController  {\r\n    \r\n    @Autowired\r\n    private TodoRepo todoRepo;\r\n    \r\n    @GetMapping\r\n    public List&lt;TodoModel&gt; findAll(){\r\n    \treturn todoRepo.findAll();\r\n    \t\r\n    }\r\n    \t\r\n    @PostMapping\r\n    public TodoModel save(@Valid @NotNull @RequestBody TodoModel todoItem) {\r\n    \treturn todoRepo.save(todoItem);\r\n    \t\r\n    }\r\n    \r\n    }\r\n\r\n\r\nModel\r\n\r\ncode for my model class\r\n    package com.assignment.todo.Todo.Model;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.validation.constraints.NotBlank;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    @Entity\r\n    public class TodoModel {\r\n    \t\r\n    \tprivate Long id;\r\n    \t@NotBlank\r\n    \tprivate String title;\r\n    \tprivate boolean done;\r\n    \t\r\n    \tpublic TodoModel() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic TodoModel(long id, String title, boolean done) {\r\n    \t\tthis.id=id;\r\n    \t\tthis.title=title;\r\n    \t\tthis.done=done;\r\n    \t}\r\n        @Id\r\n    \t@GeneratedValue\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \r\n    \tpublic boolean isDone() {\r\n    \t\treturn done;\r\n    \t}\r\n    \r\n    \tpublic void setDone(boolean done) {\r\n    \t\tthis.done = done;\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\nRepo\r\ncode for my repo class\r\n\r\n    package com.assignment.todo.Todo.Repo;\r\n    import com.assignment.todo.Todo.Model.*;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    \r\n    \r\n    public interface TodoRepo extends JpaRepository&lt;TodoModel, Long&gt; {\r\n    \r\n    }\r\n\r\n\r\nMainClass\r\n\r\n    package com.assignment.todo.Todo;\r\n    import com.assignment.todo.Todo.Controller.*;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n    import com.assignment.todo.Todo.Repo.*;\r\n    \r\n    \r\n    @SpringBootApplication(scanBasePackages = &quot;TodoRepo.java&quot;)\r\n    public class TodoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TodoApplication.class, args);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\npom.xml\r\nMy pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.assignment.todo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Todo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Todo&lt;/name&gt;\r\n    \t&lt;description&gt;Assignment in Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \t\t  &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepositosry.com/artifact/org.springframework/spring-web --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.sun.istack/maven-istack-commons-plugin --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.sun.istack/maven-istack-commons-plugin --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.istack&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-istack-commons-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"postman returning &quot;status&quot;: 404, &quot;error&quot;: &quot;Not Found&quot;, for the spring boot","body":"<p>Thank you in advance, Hello I am new to spring boot. I am facing a problem with spring boot. When I run my URL in postman it shows an error below. I have also uploaded my code below. I don't find any idea what wrong with my code.</p>\n<pre><code> {\n    &quot;timestamp&quot;: &quot;2021-07-09T06:43:57.429+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/todo&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/W3iV3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3iV3.png\" alt=\"My project structure\" /></a></p>\n<p>Controller code\nThis is a code for my controller code.</p>\n<pre><code>package com.assignment.todo.Todo.Controller;\nimport com.assignment.todo.Todo.Repo.*;\nimport java.util.List;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.assignment.todo.Todo.Model.*;\nimport com.assignment.todo.Todo.Repo.*;\n\n@RestController\n@RequestMapping(value=&quot;/todo&quot;)\npublic class TodoController  {\n\n@Autowired\nprivate TodoRepo todoRepo;\n\n@GetMapping\npublic List&lt;TodoModel&gt; findAll(){\n    return todoRepo.findAll();\n    \n}\n    \n@PostMapping\npublic TodoModel save(@Valid @NotNull @RequestBody TodoModel todoItem) {\n    return todoRepo.save(todoItem);\n    \n}\n\n}\n</code></pre>\n<p>Model</p>\n<p>code for my model class\npackage com.assignment.todo.Todo.Model;</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.validation.constraints.NotBlank;\n\nimport org.springframework.data.annotation.Id;\n@Entity\npublic class TodoModel {\n    \n    private Long id;\n    @NotBlank\n    private String title;\n    private boolean done;\n    \n    public TodoModel() {\n        \n    }\n    \n    public TodoModel(long id, String title, boolean done) {\n        this.id=id;\n        this.title=title;\n        this.done=done;\n    }\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public boolean isDone() {\n        return done;\n    }\n\n    public void setDone(boolean done) {\n        this.done = done;\n    }\n\n    \n    \n\n}\n</code></pre>\n<p>Repo\ncode for my repo class</p>\n<pre><code>package com.assignment.todo.Todo.Repo;\nimport com.assignment.todo.Todo.Model.*;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n\n\npublic interface TodoRepo extends JpaRepository&lt;TodoModel, Long&gt; {\n\n}\n</code></pre>\n<p>MainClass</p>\n<pre><code>package com.assignment.todo.Todo;\nimport com.assignment.todo.Todo.Controller.*;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport com.assignment.todo.Todo.Repo.*;\n\n\n@SpringBootApplication(scanBasePackages = &quot;TodoRepo.java&quot;)\npublic class TodoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TodoApplication.class, args);\n        \n    }\n\n}\n</code></pre>\n<p>pom.xml\nMy pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.assignment.todo&lt;/groupId&gt;\n    &lt;artifactId&gt;Todo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Todo&lt;/name&gt;\n    &lt;description&gt;Assignment in Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n             &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;3.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepositosry.com/artifact/org.springframework/spring-web --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.istack/maven-istack-commons-plugin --&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.sun.istack/maven-istack-commons-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.istack&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-istack-commons-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1689278681,"post_id":76682781,"comment_id":135195019,"body_markdown":"why not just return Mono&lt;ResponseEntity&lt;Flux&lt;DataBuffer&gt;&gt;&gt; from controller?","body":"why not just return Mono&lt;ResponseEntity&lt;Flux&lt;DataBuffer&gt;&gt;&gt; from controller?"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689322377,"creation_date":1689279367,"answer_id":76682962,"question_id":76682781,"body_markdown":"If you&#39;re using WebFlux there&#39;s no need to return `StreamingResponseBody`, you can just return `Flux&lt;DataBuffer&gt;` directly, so it will be streaming and also non-blocking.\r\n\r\nIf you want to add some headers/customize your response, the you can return `Mono&lt;ResponseEntity&lt;Flux&lt;DataBuffer&gt;&gt;&gt;` :\r\n\r\n&lt;!-- language: java --&gt;\r\n    @GetMapping(&quot;/attachment/{attachmentId}&quot;)\r\n    public Mono&lt;ResponseEntity&lt;Flux&lt;DataBuffer&gt;&gt;&gt; get(@PathVariable long attachmentId) {\r\n\r\n        Flux&lt;DataBuffer&gt; dataBuffers = this.myService.getFile(attachmentId);\r\n        \r\n        ContentDisposition contentDisposition = ContentDisposition.inline()\r\n                .filename(&quot;example.txt&quot;)\r\n                .build();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentDisposition(contentDisposition);\r\n\r\n        return Mono.just(ResponseEntity.ok()\r\n                .headers(headers)\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .body(dataBuffers));\r\n    }\r\n\r\nIf you want to use `StreamingResponseBody` (which means you&#39;re using blocking Spring MVC on web-layer), then you can do the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    StreamingResponseBody stream = outputStream -&gt;\r\n            Mono.create(sink -&gt; DataBufferUtils.write(dataBuffers, outputStream)\r\n                    .subscribe(DataBufferUtils::release, sink::error, sink::success)\r\n            ).block();\r\n\r\nand then return it from your controller\r\n","title":"How to convert a Flux&lt;DataBuffer&gt; into a StreamingResponseBody in a Spring Controller","body":"<p>If you're using WebFlux there's no need to return <code>StreamingResponseBody</code>, you can just return <code>Flux&lt;DataBuffer&gt;</code> directly, so it will be streaming and also non-blocking.</p>\n<p>If you want to add some headers/customize your response, the you can return <code>Mono&lt;ResponseEntity&lt;Flux&lt;DataBuffer&gt;&gt;&gt;</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/attachment/{attachmentId}&quot;)\npublic Mono&lt;ResponseEntity&lt;Flux&lt;DataBuffer&gt;&gt;&gt; get(@PathVariable long attachmentId) {\n\n    Flux&lt;DataBuffer&gt; dataBuffers = this.myService.getFile(attachmentId);\n    \n    ContentDisposition contentDisposition = ContentDisposition.inline()\n            .filename(&quot;example.txt&quot;)\n            .build();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentDisposition(contentDisposition);\n\n    return Mono.just(ResponseEntity.ok()\n            .headers(headers)\n            .contentType(MediaType.APPLICATION_OCTET_STREAM)\n            .body(dataBuffers));\n}\n</code></pre>\n<p>If you want to use <code>StreamingResponseBody</code> (which means you're using blocking Spring MVC on web-layer), then you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamingResponseBody stream = outputStream -&gt;\n        Mono.create(sink -&gt; DataBufferUtils.write(dataBuffers, outputStream)\n                .subscribe(DataBufferUtils::release, sink::error, sink::success)\n        ).block();\n</code></pre>\n<p>and then return it from your controller</p>\n"}],"owner":{"account_id":2892251,"reputation":131,"user_id":2480766,"accept_rate":60,"display_name":"user2480766"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76682962,"answer_count":1,"score":1,"last_activity_date":1698816730,"creation_date":1689277726,"question_id":76682781,"body_markdown":"I have a Flux of DataBuffer in my Spring Controller and I want to attach it to the StreamingResponseBody as a stream. I have read many answers for similar approaches, but nothing quite matches this. I do not want to load the entire file in memory. I want it streamed. \r\n\r\n```\r\n@GetMapping(value=&quot;/attachment&quot;)\r\npublic ResponseEntity&lt;StreamingResponseBody&gt; get(@PathVariable long attachmentId) {\r\n\r\n    Flux&lt;DataBuffer&gt; dataBuffer = this.myService.getFile(attachmentId);\r\n\r\n    StreamingResponseBody stream = out -&gt; {\r\n       // what do do here?\r\n    }\r\n\r\n    return ResponseEntity.ok()\r\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n        .body(stream);\r\n    }\r\n}\r\n```\r\n\r\n**EDIT: myService.getFile()**\r\n\r\n```\r\npublic Flux&lt;DataBuffer&gt; gteFile(long attachmentId) {\r\n\r\n    return this.webClient.get()\r\n        .uri(&quot;https://{host}/attachments/{attachmentId}&quot;, host, attachmentId)\r\n        .attributes(clientRegistrationId(&quot;attachmentClient&quot;))\r\n        .accept(MediaType.ALL)\r\n        .exchangeToFlux(clientResponse -&gt; clientResponse.bodyToFlux(DataBuffer.class));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to convert a Flux&lt;DataBuffer&gt; into a StreamingResponseBody in a Spring Controller","body":"<p>I have a Flux of DataBuffer in my Spring Controller and I want to attach it to the StreamingResponseBody as a stream. I have read many answers for similar approaches, but nothing quite matches this. I do not want to load the entire file in memory. I want it streamed.</p>\n<pre><code>@GetMapping(value=&quot;/attachment&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; get(@PathVariable long attachmentId) {\n\n    Flux&lt;DataBuffer&gt; dataBuffer = this.myService.getFile(attachmentId);\n\n    StreamingResponseBody stream = out -&gt; {\n       // what do do here?\n    }\n\n    return ResponseEntity.ok()\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\n        .body(stream);\n    }\n}\n</code></pre>\n<p><strong>EDIT: myService.getFile()</strong></p>\n<pre><code>public Flux&lt;DataBuffer&gt; gteFile(long attachmentId) {\n\n    return this.webClient.get()\n        .uri(&quot;https://{host}/attachments/{attachmentId}&quot;, host, attachmentId)\n        .attributes(clientRegistrationId(&quot;attachmentClient&quot;))\n        .accept(MediaType.ALL)\n        .exchangeToFlux(clientResponse -&gt; clientResponse.bodyToFlux(DataBuffer.class));\n}\n</code></pre>\n"},{"tags":["java","logging","lambda","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1500935356,"creation_date":1500934218,"answer_id":45290875,"question_id":45290484,"body_markdown":"Most performant in your example would be \n\n    logger.trace(&quot;Concatting {} with {}&quot;, () -&gt; user.getName(), () -&gt; expensiveOperation());\n\nThis way \n\n 1. Neither of the methods is called unless the debug level is TRACE\n 2. No String objects are created: Log4j2 uses a threadlocal StringBuilder under the hood to be garbage free \n 3. You avoid allocating a temporary StringBuilder for String concatenation (what Java does under the hood when you &quot;+&quot; two Strings)","title":"Log4j 2 lambda &quot;lazy logging&quot;","body":"<p>Most performant in your example would be </p>\n\n<pre><code>logger.trace(\"Concatting {} with {}\", () -&gt; user.getName(), () -&gt; expensiveOperation());\n</code></pre>\n\n<p>This way </p>\n\n<ol>\n<li>Neither of the methods is called unless the debug level is TRACE</li>\n<li>No String objects are created: Log4j2 uses a threadlocal StringBuilder under the hood to be garbage free </li>\n<li>You avoid allocating a temporary StringBuilder for String concatenation (what Java does under the hood when you \"+\" two Strings)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1648470,"reputation":168,"user_id":1519522,"display_name":"aff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698816594,"creation_date":1698816594,"answer_id":77400533,"question_id":45290484,"body_markdown":"If you use Log4J2 in garbage-free mode, your last code sample is the way to go.\r\n\r\n&gt; ```java\r\n&gt; logger.trace(() -&gt; &quot;Concatting &quot; + user.getName() + &quot; with &quot; + expensiveOperation());\r\n&gt; ```\r\n\r\nQuoting from Log4J2 [Garbage-free Steady State Logging](https://logging.apache.org/log4j/2.x/manual/garbagefree.html) page, as of 2023-11-01:\r\n\r\n&gt; **Note:** not all logging is garbage free. Specifically:\r\n&gt; - Logging a lambda *as a parameter* (`logger.info(&quot;lambda value is {}&quot;, () -&gt; callExpensiveMethod())`) creates a vararg array. Logging a lambda expression by itself is garbage-free: `logger.debug(() -&gt; callExpensiveMethod())`.","title":"Log4j 2 lambda &quot;lazy logging&quot;","body":"<p>If you use Log4J2 in garbage-free mode, your last code sample is the way to go.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>logger.trace(() -&gt; &quot;Concatting &quot; + user.getName() + &quot; with &quot; + expensiveOperation());\n</code></pre>\n</blockquote>\n<p>Quoting from Log4J2 <a href=\"https://logging.apache.org/log4j/2.x/manual/garbagefree.html\" rel=\"nofollow noreferrer\">Garbage-free Steady State Logging</a> page, as of 2023-11-01:</p>\n<blockquote>\n<p><strong>Note:</strong> not all logging is garbage free. Specifically:</p>\n<ul>\n<li>Logging a lambda <em>as a parameter</em> (<code>logger.info(&quot;lambda value is {}&quot;, () -&gt; callExpensiveMethod())</code>) creates a vararg array. Logging a lambda expression by itself is garbage-free: <code>logger.debug(() -&gt; callExpensiveMethod())</code>.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":5028835,"reputation":564,"user_id":4039739,"accept_rate":57,"display_name":"Bennett Lynch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3415,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45290875,"answer_count":2,"score":7,"last_activity_date":1698816594,"creation_date":1500932212,"question_id":45290484,"body_markdown":"The [Log4j 2 manual][1] gives an example of how to use lambdas for &quot;lazy logging&quot;:\r\n\r\n    logger.trace(&quot;Some long-running operation returned {}&quot;, () -&gt; expensiveOperation());\r\n\r\nIt also gives an example of how to use format parameters to avoid unnecessary string concatenation:\r\n\r\n    logger.debug(&quot;Logging in user {} with birthday {}&quot;, user.getName(), user.getBirthdayCalendar());\r\n\r\nMy question: Can I gain the same performance benefits by simply supplying one lambda with a normal string concatenation approach?\r\n\r\n    logger.trace(() -&gt; &quot;Concatting &quot; + user.getName() + &quot; with &quot; + expensiveOperation());\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.0/manual/api.html","title":"Log4j 2 lambda &quot;lazy logging&quot;","body":"<p>The <a href=\"https://logging.apache.org/log4j/2.0/manual/api.html\" rel=\"noreferrer\">Log4j 2 manual</a> gives an example of how to use lambdas for \"lazy logging\":</p>\n\n<pre><code>logger.trace(\"Some long-running operation returned {}\", () -&gt; expensiveOperation());\n</code></pre>\n\n<p>It also gives an example of how to use format parameters to avoid unnecessary string concatenation:</p>\n\n<pre><code>logger.debug(\"Logging in user {} with birthday {}\", user.getName(), user.getBirthdayCalendar());\n</code></pre>\n\n<p>My question: Can I gain the same performance benefits by simply supplying one lambda with a normal string concatenation approach?</p>\n\n<pre><code>logger.trace(() -&gt; \"Concatting \" + user.getName() + \" with \" + expensiveOperation());\n</code></pre>\n"},{"tags":["java","list","filter","guava"],"comments":[{"owner":{"account_id":50088,"reputation":2016,"user_id":149282,"display_name":"Jared Levy"},"score":8,"creation_date":1323840559,"post_id":8458663,"comment_id":10519888,"body_markdown":"FYI, List.newArrayList(Iterables.filter(...)) is generally faster than new ArrayList(Collection2.filter(...)). The ArrayList constructor calls size() on the filtered collection, and computing the size requires that the filter be applied to every element of the original list.","body":"FYI, List.newArrayList(Iterables.filter(...)) is generally faster than new ArrayList(Collection2.filter(...)). The ArrayList constructor calls size() on the filtered collection, and computing the size requires that the filter be applied to every element of the original list."},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":4,"creation_date":1380061549,"post_id":8458663,"comment_id":28058214,"body_markdown":"@JaredLevy Maybe instead of `List.newArrayList(Iterables.filter(...))`, it should say `Lists.newArrayList(Iterables.filter(...)) `.","body":"@JaredLevy Maybe instead of <code>List.newArrayList(Iterables.filter(...))</code>, it should say <code>Lists.newArrayList(Iterables.filter(...)) </code>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438121,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1379365373,"creation_date":1323540520,"answer_id":8458714,"question_id":8458663,"body_markdown":"You can use `Iterables.filter`, which will definitely maintain ordering.\r\n\r\nNote that by constructing a new list, you&#39;ll be *copying* the elements (just references, of course) - so it won&#39;t be a live view onto the original list. Creating a view would be pretty tricky - consider this situation:\r\n\r\n    Predicate&lt;StringBuilder&gt; predicate = \r\n        /* predicate returning whether the builder is empty */\r\n    List&lt;StringBuilder&gt; builders = Lists.newArrayList();\r\n    List&lt;StringBuilder&gt; view = Lists.filter(builders, predicate);\r\n\r\n    for (int i = 0; i &lt; 10000; i++) {\r\n        builders.add(new StringBuilder());\r\n    }\r\n    builders.get(8000).append(&quot;bar&quot;);\r\n\r\n    StringBuilder firstNonEmpty = view.get(0);\r\n\r\nThat would have to iterate over the whole original list, applying the filter to everything. I suppose it could require that the predicate matching didn&#39;t change over the lifetime of the view, but that would be not-entirely-satisfactory.\r\n\r\n(This is just guessing, mind you. Maybe one of the Guava maintainers will chip in with the *real* reason :)","title":"Guava: Why is there no Lists.filter() function?","body":"<p>You can use <code>Iterables.filter</code>, which will definitely maintain ordering.</p>\n\n<p>Note that by constructing a new list, you'll be <em>copying</em> the elements (just references, of course) - so it won't be a live view onto the original list. Creating a view would be pretty tricky - consider this situation:</p>\n\n<pre><code>Predicate&lt;StringBuilder&gt; predicate = \n    /* predicate returning whether the builder is empty */\nList&lt;StringBuilder&gt; builders = Lists.newArrayList();\nList&lt;StringBuilder&gt; view = Lists.filter(builders, predicate);\n\nfor (int i = 0; i &lt; 10000; i++) {\n    builders.add(new StringBuilder());\n}\nbuilders.get(8000).append(\"bar\");\n\nStringBuilder firstNonEmpty = view.get(0);\n</code></pre>\n\n<p>That would have to iterate over the whole original list, applying the filter to everything. I suppose it could require that the predicate matching didn't change over the lifetime of the view, but that would be not-entirely-satisfactory.</p>\n\n<p>(This is just guessing, mind you. Maybe one of the Guava maintainers will chip in with the <em>real</em> reason :)</p>\n"},{"tags":[],"owner":{"account_id":306710,"reputation":7852,"user_id":617612,"accept_rate":83,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1698816580,"creation_date":1323548711,"answer_id":8459600,"question_id":8458663,"body_markdown":"As mentioned by Jon, you can use `Iterables.filter(..)` or `Collections2.filter(..)`; and if you don&#39;t need a live view, you can use `ImmutableList.copyOf(Iterables.filter(..))` or `Lists.newArrayList( Iterables.filter(..))` and, yes, ordering will be maintained.\r\n\r\nIf you are really interested in the *why* part, you can visit https://github.com/google/guava/issues/505 for more details.","title":"Guava: Why is there no Lists.filter() function?","body":"<p>As mentioned by Jon, you can use <code>Iterables.filter(..)</code> or <code>Collections2.filter(..)</code>; and if you don't need a live view, you can use <code>ImmutableList.copyOf(Iterables.filter(..))</code> or <code>Lists.newArrayList( Iterables.filter(..))</code> and, yes, ordering will be maintained.</p>\n<p>If you are really interested in the <em>why</em> part, you can visit <a href=\"https://github.com/google/guava/issues/505\" rel=\"nofollow noreferrer\">https://github.com/google/guava/issues/505</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1323553924,"creation_date":1323549155,"answer_id":8459652,"question_id":8458663,"body_markdown":"&gt;I could use `new List(Collection2.filter())` of course, but this way it&#39;s not guaranteed that my ordering stays the same.\r\n\r\nThis isn&#39;t true.  `Collections2.filter()` is a lazily-evaluated function - it doesn&#39;t actually filter your collection until you start accessing the filtered version. For example, if you iterate over the filtered version, then the filtered elements will pop out of the iterator in the same order as your original collection (minus the ones filtered out, obviously). \r\n\r\nPerhaps you were thinking that it does the filtering up front, then dumps the results into an arbitrary, unordered Collection of some form - it doesn&#39;t.\r\n\r\nSo if you use the output of `Collections2.filter()` as the input to a new list, then your original order *will* be retained.\r\n\r\nUsing static imports (and the `Lists.newArrayList` function), it becomes fairly succinct:\r\n\r\n    List filteredList = newArrayList(filter(originalList, predicate));\r\n\r\nNote that while `Collections2.filter` will not eagerly iterate over the underlying collection, `Lists.newArrayList` *will* - it will extract all elements of the filtered collection and copy them into a new `ArrayList`.","title":"Guava: Why is there no Lists.filter() function?","body":"<blockquote>\n  <p>I could use <code>new List(Collection2.filter())</code> of course, but this way it's not guaranteed that my ordering stays the same.</p>\n</blockquote>\n\n<p>This isn't true.  <code>Collections2.filter()</code> is a lazily-evaluated function - it doesn't actually filter your collection until you start accessing the filtered version. For example, if you iterate over the filtered version, then the filtered elements will pop out of the iterator in the same order as your original collection (minus the ones filtered out, obviously). </p>\n\n<p>Perhaps you were thinking that it does the filtering up front, then dumps the results into an arbitrary, unordered Collection of some form - it doesn't.</p>\n\n<p>So if you use the output of <code>Collections2.filter()</code> as the input to a new list, then your original order <em>will</em> be retained.</p>\n\n<p>Using static imports (and the <code>Lists.newArrayList</code> function), it becomes fairly succinct:</p>\n\n<pre><code>List filteredList = newArrayList(filter(originalList, predicate));\n</code></pre>\n\n<p>Note that while <code>Collections2.filter</code> will not eagerly iterate over the underlying collection, <code>Lists.newArrayList</code> <em>will</em> - it will extract all elements of the filtered collection and copy them into a new <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":54451,"reputation":8848,"user_id":162895,"accept_rate":100,"display_name":"Dimitris Andreou"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1431017978,"creation_date":1323555412,"answer_id":8460345,"question_id":8458663,"body_markdown":"It wasn&#39;t implemented because it would expose a perilous large number of slow methods, such as #get(index) on the returned List view (inviting performance bugs). And ListIterator would be a pain to implement as well (though I submitted a [patch][1] years ago to cover that).\r\n\r\nSince indexed methods can&#39;t be efficient in the filtered List view, it&#39;s better to just go with a filtered Iterable, which doesn&#39;t have them.\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/issues/detail?id=110","title":"Guava: Why is there no Lists.filter() function?","body":"<p>It wasn't implemented because it would expose a perilous large number of slow methods, such as #get(index) on the returned List view (inviting performance bugs). And ListIterator would be a pain to implement as well (though I submitted a <a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=110\">patch</a> years ago to cover that).</p>\n\n<p>Since indexed methods can't be efficient in the filtered List view, it's better to just go with a filtered Iterable, which doesn't have them.</p>\n"},{"tags":[],"owner":{"account_id":289450,"reputation":10754,"user_id":590437,"accept_rate":83,"display_name":"Holger Brandl"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1410859474,"creation_date":1410859474,"answer_id":25865105,"question_id":8458663,"body_markdown":"Summing up what the others said, you can easily create a generic wrapper to filter lists:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; filter(Iterable&lt;T&gt; userLists, Predicate&lt;T&gt; predicate) {\r\n        return Lists.newArrayList(Iterables.filter(userLists, predicate));\r\n    }","title":"Guava: Why is there no Lists.filter() function?","body":"<p>Summing up what the others said, you can easily create a generic wrapper to filter lists:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; filter(Iterable&lt;T&gt; userLists, Predicate&lt;T&gt; predicate) {\n    return Lists.newArrayList(Iterables.filter(userLists, predicate));\n}\n</code></pre>\n"}],"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44063,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":8460345,"answer_count":5,"score":86,"last_activity_date":1698816580,"creation_date":1323540099,"question_id":8458663,"body_markdown":"Is there a reason there&#39;s\r\n\r\n    Lists.transform()\r\n\r\nbut no\r\n\r\n    Lists.filter()\r\n\r\n?\r\n\r\nHow do I filter a list correctly? I could use\r\n\r\n    new ArrayList(Collection2.filter())\r\n\r\nof course, but this way it&#39;s not guaranteed that my ordering stays the same, if I understand correctly.","title":"Guava: Why is there no Lists.filter() function?","body":"<p>Is there a reason there's</p>\n\n<pre><code>Lists.transform()\n</code></pre>\n\n<p>but no</p>\n\n<pre><code>Lists.filter()\n</code></pre>\n\n<p>?</p>\n\n<p>How do I filter a list correctly? I could use</p>\n\n<pre><code>new ArrayList(Collection2.filter())\n</code></pre>\n\n<p>of course, but this way it's not guaranteed that my ordering stays the same, if I understand correctly.</p>\n"},{"tags":["java","eclipse","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1947250,"reputation":76,"user_id":2066728,"display_name":"user2066728"},"score":0,"creation_date":1698856847,"post_id":77400519,"comment_id":136458794,"body_markdown":"My version of selenium was not the most recent.  That was the problem.","body":"My version of selenium was not the most recent.  That was the problem."}],"owner":{"account_id":1947250,"reputation":76,"user_id":2066728,"display_name":"user2066728"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698816370,"creation_date":1698816370,"question_id":77400519,"body_markdown":"I am using selenium with java on Ubuntu.  I am trying to run selenium code on a browser that is already open.  I have found a few solutions but they all crash for me.  I can open the browser and run my code normally if I don&#39;t do any of the following.\r\n\r\nI include ```options.addArguments(&quot;--remote-allow-origins=*&quot;);``` because I need to add it when I launch a browser.  \r\n\r\nHere is what I have tried and the results. \r\n\r\nIn the terminal I type\r\n```google-chrome --remote-debugging-port=9988```\r\nThe browser is launched.  In another terminal I type \r\n```sudo netstat -tulpn |grep :9988```.  I get a result of\r\n```tcp        0      0 127.0.0.1:9988          0.0.0.0:*               LISTEN      47330/chrome --remo ```.  This should mean my port is good.\r\n \r\nWhen I type http://127.0.0.1:9988 into a new browser nothing happens.   From what I have read it should duplicate the debugger window.\r\n\r\nI run the following code but always crashes when I instantiate the browser.  I have tried every combination of the options.  \r\n\r\n```\r\nprivate void ports() {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\t\t\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\r\n\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n//\t\toptions.addArguments(&quot;--remote-debugging-port=9988&quot;);\r\n\r\n\t\toptions.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;localhost:9988&quot;);\r\n//\t\toptions.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;127.0.0.1:9988&quot;);\r\n\r\n\t\tWebDriver browser = new ChromeDriver(options);\t    \r\n\t\tbrowser.get(&quot;https://www.bbccom/&quot;);\r\n\r\n\t}\r\n```\r\nIt crashes with the following output:\r\n\r\n```\r\nStarting ChromeDriver 119.0.6045.105 (38c72552c5e15ba9b3117c0967a0fd105072d7c6-refs/branch-heads/6045@{#1103}) on port 46485\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: cannot connect to chrome at localhost:9989\r\nfrom chrome not reachable\r\nBuild info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\nSystem info: host: &#39;clay-HP-ENVY-17-Notebook-PC&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.2.0-36-generic&#39;, java.version: &#39;17.0.8.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], debuggerAddress: localhost:9989, extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [], debuggerAddress: localhost:9989, extensions: []}}}]\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:264)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:179)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\r\n\tat top.OpenBrowser.ports(OpenBrowser.java:131)\r\n\tat top.OpenBrowser.run(OpenBrowser.java:31)\r\n\tat top.Main.main(Main.java:15)\r\n```\r\n\r\nThese are the places I have tried:\r\nhttps://www.youtube.com/watch?v=Rrkj4tdXngY\r\n\r\nAnother https://cosmocode.io/how-to-connect-selenium-to-an-existing-browser-that-was-opened-manually/#launch-browser-with-custom-flags\r\n\r\n\r\n","title":"Selenium scripts don&#39;t run on open brower","body":"<p>I am using selenium with java on Ubuntu.  I am trying to run selenium code on a browser that is already open.  I have found a few solutions but they all crash for me.  I can open the browser and run my code normally if I don't do any of the following.</p>\n<p>I include <code>options.addArguments(&quot;--remote-allow-origins=*&quot;);</code> because I need to add it when I launch a browser.</p>\n<p>Here is what I have tried and the results.</p>\n<p>In the terminal I type\n<code>google-chrome --remote-debugging-port=9988</code>\nThe browser is launched.  In another terminal I type\n<code>sudo netstat -tulpn |grep :9988</code>.  I get a result of\n<code>tcp        0      0 127.0.0.1:9988          0.0.0.0:*               LISTEN      47330/chrome --remo </code>.  This should mean my port is good.</p>\n<p>When I type <a href=\"http://127.0.0.1:9988\" rel=\"nofollow noreferrer\">http://127.0.0.1:9988</a> into a new browser nothing happens.   From what I have read it should duplicate the debugger window.</p>\n<p>I run the following code but always crashes when I instantiate the browser.  I have tried every combination of the options.</p>\n<pre><code>private void ports() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);     \n        ChromeOptions options = new ChromeOptions();\n        \n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n//      options.addArguments(&quot;--remote-debugging-port=9988&quot;);\n\n        options.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;localhost:9988&quot;);\n//      options.setExperimentalOption(&quot;debuggerAddress&quot;, &quot;127.0.0.1:9988&quot;);\n\n        WebDriver browser = new ChromeDriver(options);      \n        browser.get(&quot;https://www.bbccom/&quot;);\n\n    }\n</code></pre>\n<p>It crashes with the following output:</p>\n<pre><code>Starting ChromeDriver 119.0.6045.105 (38c72552c5e15ba9b3117c0967a0fd105072d7c6-refs/branch-heads/6045@{#1103}) on port 46485\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: cannot connect to chrome at localhost:9989\nfrom chrome not reachable\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'clay-HP-ENVY-17-Notebook-PC', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '6.2.0-36-generic', java.version: '17.0.8.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], debuggerAddress: localhost:9989, extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [], debuggerAddress: localhost:9989, extensions: []}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:264)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:179)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\n    at top.OpenBrowser.ports(OpenBrowser.java:131)\n    at top.OpenBrowser.run(OpenBrowser.java:31)\n    at top.Main.main(Main.java:15)\n</code></pre>\n<p>These are the places I have tried:\n<a href=\"https://www.youtube.com/watch?v=Rrkj4tdXngY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Rrkj4tdXngY</a></p>\n<p>Another <a href=\"https://cosmocode.io/how-to-connect-selenium-to-an-existing-browser-that-was-opened-manually/#launch-browser-with-custom-flags\" rel=\"nofollow noreferrer\">https://cosmocode.io/how-to-connect-selenium-to-an-existing-browser-that-was-opened-manually/#launch-browser-with-custom-flags</a></p>\n"},{"tags":["java","android","appium","selenide"],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680786437,"creation_date":1680786437,"answer_id":75949891,"question_id":75947926,"body_markdown":"Please refer to the below comment on `java-client` repository from appium as,\r\n\r\nhttps://github.com/appium/java-client/blob/master/src/main/java/io/appium/java_client/android/AndroidStartScreenRecordingOptions.java#L102\r\n\r\n    /**\r\n     * The maximum recording time. The default and maximum value is 180 seconds (3 minutes).\r\n     * Setting values greater than this or less than zero will cause an exception. The minimum\r\n     * time resolution unit is one second.\r\n     *\r\n     * &lt;p&gt;Since Appium 1.8.2 the time limit can be up to 1800 seconds (30 minutes).\r\n     * Appium will automatically try to merge the 3-minutes chunks recorded\r\n     * by the screenrecord utility, however, this requires FFMPEG utility\r\n     * to be installed and available in PATH on the server machine. If the utility is not\r\n     * present then the most recent screen recording chunk is going to be returned as the result.&lt;/p&gt;\r\n     *\r\n     * @param timeLimit The actual time limit of the recorded video.\r\n     * @return self instance for chaining.\r\n     */","title":"Recording video in Appium Android","body":"<p>Please refer to the below comment on <code>java-client</code> repository from appium as,</p>\n<p><a href=\"https://github.com/appium/java-client/blob/master/src/main/java/io/appium/java_client/android/AndroidStartScreenRecordingOptions.java#L102\" rel=\"nofollow noreferrer\">https://github.com/appium/java-client/blob/master/src/main/java/io/appium/java_client/android/AndroidStartScreenRecordingOptions.java#L102</a></p>\n<pre><code>/**\n * The maximum recording time. The default and maximum value is 180 seconds (3 minutes).\n * Setting values greater than this or less than zero will cause an exception. The minimum\n * time resolution unit is one second.\n *\n * &lt;p&gt;Since Appium 1.8.2 the time limit can be up to 1800 seconds (30 minutes).\n * Appium will automatically try to merge the 3-minutes chunks recorded\n * by the screenrecord utility, however, this requires FFMPEG utility\n * to be installed and available in PATH on the server machine. If the utility is not\n * present then the most recent screen recording chunk is going to be returned as the result.&lt;/p&gt;\n *\n * @param timeLimit The actual time limit of the recorded video.\n * @return self instance for chaining.\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4837467,"reputation":769,"user_id":3903593,"accept_rate":62,"display_name":"FiXiT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698815381,"creation_date":1698815381,"answer_id":77400470,"question_id":75947926,"body_markdown":"Appium uses [ffmpeg][1] to merge the videos . Make sure that your machine should have this . Otherwise it will not able to merge the videos and you will get only the last 3 minutes of recording.\r\n\r\n\r\n  [1]: https://formulae.brew.sh/formula/ffmpeg","title":"Recording video in Appium Android","body":"<p>Appium uses <a href=\"https://formulae.brew.sh/formula/ffmpeg\" rel=\"nofollow noreferrer\">ffmpeg</a> to merge the videos . Make sure that your machine should have this . Otherwise it will not able to merge the videos and you will get only the last 3 minutes of recording.</p>\n"}],"owner":{"account_id":11589696,"reputation":236,"user_id":8490533,"display_name":"Sammar Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698815381,"creation_date":1680773374,"question_id":75947926,"body_markdown":"I have the following implementation of recording screen for appium android tests. \r\n\r\n    androidDriver.startRecordingScreen(new AndroidStartScreenRecordingOptions() {\r\n\t\t\t@Override\r\n\t\t\tpublic AndroidStartScreenRecordingOptions withTimeLimit(Duration timeLimit) {\r\n\t\t\t\treturn super.withTimeLimit(Duration.ofMinutes(7)).withVideoSize(&quot;720x1280&quot;).withBitRate(2000000);\r\n\t\t\t}\r\n\t\t});\r\n\r\nBut it does not record more than 3 mins which is the default time. I have increased it to 7 mins no luck. ","title":"Recording video in Appium Android","body":"<p>I have the following implementation of recording screen for appium android tests.</p>\n<pre><code>androidDriver.startRecordingScreen(new AndroidStartScreenRecordingOptions() {\n        @Override\n        public AndroidStartScreenRecordingOptions withTimeLimit(Duration timeLimit) {\n            return super.withTimeLimit(Duration.ofMinutes(7)).withVideoSize(&quot;720x1280&quot;).withBitRate(2000000);\n        }\n    });\n</code></pre>\n<p>But it does not record more than 3 mins which is the default time. I have increased it to 7 mins no luck.</p>\n"},{"tags":["java","encoding","cyrillic","fileutils"],"comments":[{"owner":{"account_id":2653232,"reputation":4799,"user_id":2294428,"display_name":"StephaneM"},"score":3,"creation_date":1423748124,"post_id":28478765,"comment_id":45280178,"body_markdown":"Where do you see ??? instead of cyrilic? Console? IDE? Other file?","body":"Where do you see ??? instead of cyrilic? Console? IDE? Other file?"},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1423748217,"post_id":28478765,"comment_id":45280242,"body_markdown":"@StephaneM that question should have basically answered his question :D","body":"@StephaneM that question should have basically answered his question :D"},{"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"score":0,"creation_date":1423748234,"post_id":28478765,"comment_id":45280258,"body_markdown":"@StephaneM I have built a small REST service using Spring Framework. ????s are returned in response for GET request. Yet they are only in place of cyrillic letters.","body":"@StephaneM I have built a small REST service using Spring Framework. ????s are returned in response for GET request. Yet they are only in place of cyrillic letters."},{"owner":{"account_id":2653232,"reputation":4799,"user_id":2294428,"display_name":"StephaneM"},"score":0,"creation_date":1423748348,"post_id":28478765,"comment_id":45280337,"body_markdown":"You don&#39;t answer my question. Where do you read the response of your GET request?","body":"You don&#39;t answer my question. Where do you read the response of your GET request?"},{"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"score":0,"creation_date":1423748509,"post_id":28478765,"comment_id":45280459,"body_markdown":"@StephaneM In any place where I can make GET request: from a browser, from a Javascript console, from a Python console.","body":"@StephaneM In any place where I can make GET request: from a browser, from a Javascript console, from a Python console."},{"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"score":0,"creation_date":1423748634,"post_id":28478765,"comment_id":45280540,"body_markdown":"It looks like this: {&quot;lastName&quot;:&quot;??????&quot;,&quot;phone&quot;:&quot;77777777777&quot;,&quot;email&quot;:&quot;test@example.com&quot;,&quot;address&quot;:&quot;??????&quot;,&quot;secondName&quot;:&quot;???????&quot;,&quot;firstName&quot;:&quot;???????&quot;,&quot;city&quot;:&quot;??????&quot;}","body":"It looks like this: {&quot;lastName&quot;:&quot;??????&quot;,&quot;phone&quot;:&quot;77777777777&quot;,&quot;email&quot;:&quot;test@exa&zwnj;&#8203;mple.com&quot;,&quot;address&quot;:&zwnj;&#8203;&quot;??????&quot;,&quot;secondName&zwnj;&#8203;&quot;:&quot;???????&quot;,&quot;firstNa&zwnj;&#8203;me&quot;:&quot;???????&quot;,&quot;city&quot;&zwnj;&#8203;:&quot;??????&quot;}"},{"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"score":1,"creation_date":1423749074,"post_id":28478765,"comment_id":45280820,"body_markdown":"And does the font in the browser have glyphs for cyrillic chars (and encoding set to UTF-8)?","body":"And does the font in the browser have glyphs for cyrillic chars (and encoding set to UTF-8)?"},{"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"score":0,"creation_date":1423749396,"post_id":28478765,"comment_id":45281007,"body_markdown":"@KlasLindb&#228;ck Yes, it does.","body":"@KlasLindb&#228;ck Yes, it does."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1583370636,"post_id":28478765,"comment_id":107096850,"body_markdown":"What is the encoding of the REST response? You need to examine every and all places where strings are converted to/from bytes: reading the file on server, sending data from server to client, saving data on client, viewing data on client.","body":"What is the encoding of the REST response? You need to examine every and all places where strings are converted to/from bytes: reading the file on server, sending data from server to client, saving data on client, viewing data on client."}],"answers":[{"tags":[],"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583302196,"creation_date":1583301717,"answer_id":60519928,"question_id":28478765,"body_markdown":"`FileUtils.readFileToString` doesn&#39;t work with `StandardCharsets.UTF_8`.\r\n\r\nInstead, try\r\n\r\n`FileUtils.readFileToString(customersFile, &quot;UTF-8&quot;);`\r\n\r\nor\r\n\r\n`FileUtils.readFileToString(customersFile, StandardCharsets.UTF_8.name());`","title":"FileUtils.readFileToString() from Apache Commons IO works incorrectly with Cyrillic","body":"<p><code>FileUtils.readFileToString</code> doesn't work with <code>StandardCharsets.UTF_8</code>.</p>\n\n<p>Instead, try</p>\n\n<p><code>FileUtils.readFileToString(customersFile, \"UTF-8\");</code></p>\n\n<p>or</p>\n\n<p><code>FileUtils.readFileToString(customersFile, StandardCharsets.UTF_8.name());</code></p>\n"},{"tags":[],"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583370273,"creation_date":1583370273,"answer_id":60536846,"question_id":28478765,"body_markdown":"This is how I solved it back in 2015:\r\n\r\n```\r\npublic String getJSON() throws IOException\r\n{\r\n//    File customersFile = new File(this.STORAGE_FILE_PATH);\r\n//    return FileUtils.readFileToString(customersFile, StandardCharsets.UTF_8);\r\n\tString JSON = &quot;&quot;;\r\n\tInputStream stream = new FileInputStream(this.STORAGE_FILE_PATH);\r\n\tString nextString = &quot;&quot;;\r\n\ttry {\r\n\t\tif (stream != null) {\r\n\t\t\tInputStreamReader streamReader = new InputStreamReader(stream, &quot;UTF-8&quot;);\r\n\t\t\tBufferedReader reader = new BufferedReader(streamReader);\r\n\t\t\twhile ((nextString = reader.readLine()) != null)\r\n\t\t\t\tJSON = new StringBuilder().append(JSON).append(nextString).toString();\r\n\t\t}\r\n\t}\r\n\tcatch(Exception ex)\r\n\t{\r\n\t\tSystem.err.println(ex.getMessage());\r\n\t}\r\n\treturn JSON;\r\n}\r\n```","title":"FileUtils.readFileToString() from Apache Commons IO works incorrectly with Cyrillic","body":"<p>This is how I solved it back in 2015:</p>\n\n<pre><code>public String getJSON() throws IOException\n{\n//    File customersFile = new File(this.STORAGE_FILE_PATH);\n//    return FileUtils.readFileToString(customersFile, StandardCharsets.UTF_8);\n    String JSON = \"\";\n    InputStream stream = new FileInputStream(this.STORAGE_FILE_PATH);\n    String nextString = \"\";\n    try {\n        if (stream != null) {\n            InputStreamReader streamReader = new InputStreamReader(stream, \"UTF-8\");\n            BufferedReader reader = new BufferedReader(streamReader);\n            while ((nextString = reader.readLine()) != null)\n                JSON = new StringBuilder().append(JSON).append(nextString).toString();\n        }\n    }\n    catch(Exception ex)\n    {\n        System.err.println(ex.getMessage());\n    }\n    return JSON;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15567960,"reputation":23,"user_id":11231179,"display_name":"Morningstar-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648463386,"creation_date":1648463386,"answer_id":71645998,"question_id":28478765,"body_markdown":"I figured out that in logs all was fine, so I solved problem in rest controller:\r\n\r\n   \r\n\r\n     @GetMapping(value = &quot;/getXmlByIin&quot;, produces = &quot;application/json;charset=UTF-8&quot;)","title":"FileUtils.readFileToString() from Apache Commons IO works incorrectly with Cyrillic","body":"<p>I figured out that in logs all was fine, so I solved problem in rest controller:</p>\n<pre><code> @GetMapping(value = &quot;/getXmlByIin&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\n</code></pre>\n"}],"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698814855,"creation_date":1423747944,"question_id":28478765,"body_markdown":"I am using FileUtils.readFileToString to read contents of a text file with JSON at once. The file is UTF-8 encoded (w/o BOM). Yet, instead of cyrillic letters I get ?????? signs. Why?\r\n\r\n    public String getJSON() throws IOException\r\n    {\r\n        File customersFile = new File(this.STORAGE_FILE_PATH);\r\n        return FileUtils.readFileToString(customersFile, StandardCharsets.UTF_8);\r\n    }","title":"FileUtils.readFileToString() from Apache Commons IO works incorrectly with Cyrillic","body":"<p>I am using FileUtils.readFileToString to read contents of a text file with JSON at once. The file is UTF-8 encoded (w/o BOM). Yet, instead of cyrillic letters I get ?????? signs. Why?</p>\n\n<pre><code>public String getJSON() throws IOException\n{\n    File customersFile = new File(this.STORAGE_FILE_PATH);\n    return FileUtils.readFileToString(customersFile, StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":29523556,"reputation":41,"user_id":22625743,"display_name":"Dat Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698813953,"creation_date":1698813953,"answer_id":77400396,"question_id":77400266,"body_markdown":"@JsonIgnore is used at field level to mark a property or list of properties to be ignored. :)\r\n\r\nWith system design. You should&#39;t use an entity for request/response dto. for System security, You should provide a request/response dto, then map ( after bussiness logic) dto with entity then save data into DB. ( Adapter Design Pattern) \r\n\r\nadvantages of this way: \r\n - You control dto( not entity).\r\n - You can process data( validate, tranfom....)\r\n - FE can only know the fields provided by BE\r\n - When add/remove column in entity, FE don&#39;t need editing\r\n","title":"How to make jsonIgnore be able to setvalue","body":"<p>@JsonIgnore is used at field level to mark a property or list of properties to be ignored. :)</p>\n<p>With system design. You should't use an entity for request/response dto. for System security, You should provide a request/response dto, then map ( after bussiness logic) dto with entity then save data into DB. ( Adapter Design Pattern)</p>\n<p>advantages of this way:</p>\n<ul>\n<li>You control dto( not entity).</li>\n<li>You can process data( validate, tranfom....)</li>\n<li>FE can only know the fields provided by BE</li>\n<li>When add/remove column in entity, FE don't need editing</li>\n</ul>\n"}],"owner":{"account_id":10046033,"reputation":672,"user_id":7427398,"accept_rate":32,"display_name":"ksernow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698813953,"creation_date":1698810875,"question_id":77400266,"body_markdown":"Spring Boot 2.7.8\r\n\r\nI have a simple POJO called participant. The front end sends an API request with the field IP which I want to store in the DB. However in the backend I am getting this field as null. The reason I have this field marked as jsonIgnore is because I don&#39;t want this field to be included in the get API response which works. I don&#39;t see this field in the response but in the initial API, the field is getting mapped as null as a result I am not able to store it.\r\n\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n@Entity\r\n@Table(name=&quot;participant&quot;)\r\npublic class Participant {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate long participantId;\t\r\n\tprivate String ip;\r\n\t\r\n\r\n\tpublic void setIp(String ip) {\r\n\t\tthis.ip = ip;\r\n\t}\r\n\r\n\t@JsonIgnore\r\n\tpublic String getIp(){return this.ip;}\r\n\t\r\n}\r\n\r\n```\r\n\r\nREST Controller\r\n```\r\n@RequestMapping(value = &quot;api/test&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;?&gt; addParticipant(@RequestBody Participant p) {\r\n\t\t.....\r\n\r\n}\r\n```\r\n\r\nPom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;master&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hype&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;hype&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.28&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe frontend API payload contains the field value\r\n```\r\n{\r\nip : &quot;172.1.1.1&quot;\r\n}\r\n```\r\n\r\nbut on the backend its null\r\n\r\n```\r\n{\r\nip: null\r\n}\r\n```\r\n","title":"How to make jsonIgnore be able to setvalue","body":"<p>Spring Boot 2.7.8</p>\n<p>I have a simple POJO called participant. The front end sends an API request with the field IP which I want to store in the DB. However in the backend I am getting this field as null. The reason I have this field marked as jsonIgnore is because I don't want this field to be included in the get API response which works. I don't see this field in the response but in the initial API, the field is getting mapped as null as a result I am not able to store it.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@Entity\n@Table(name=&quot;participant&quot;)\npublic class Participant {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long participantId; \n    private String ip;\n    \n\n    public void setIp(String ip) {\n        this.ip = ip;\n    }\n\n    @JsonIgnore\n    public String getIp(){return this.ip;}\n    \n}\n\n</code></pre>\n<p>REST Controller</p>\n<pre><code>@RequestMapping(value = &quot;api/test&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; addParticipant(@RequestBody Participant p) {\n        .....\n\n}\n</code></pre>\n<p>Pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;master&lt;/groupId&gt;\n    &lt;artifactId&gt;hype&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;hype&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    \n\n&lt;/project&gt;\n\n</code></pre>\n<p>The frontend API payload contains the field value</p>\n<pre><code>{\nip : &quot;172.1.1.1&quot;\n}\n</code></pre>\n<p>but on the backend its null</p>\n<pre><code>{\nip: null\n}\n</code></pre>\n"},{"tags":["java","json","jackson","gson","deserialization"],"comments":[{"owner":{"account_id":13357,"reputation":6580,"user_id":26778,"accept_rate":72,"display_name":"jeff porter"},"score":0,"creation_date":1459949657,"post_id":36452668,"comment_id":60518149,"body_markdown":"How will user.name be &#39;John&#39;. if the example json has  &quot;name&quot;:null ? Are you asking if it can skip Null values in Json and not override the default in the class?","body":"How will user.name be &#39;John&#39;. if the example json has  &quot;name&quot;:null ? Are you asking if it can skip Null values in Json and not override the default in the class?"},{"owner":{"account_id":424773,"reputation":21418,"user_id":804967,"accept_rate":64,"display_name":"fweigl"},"score":0,"creation_date":1459949757,"post_id":36452668,"comment_id":60518227,"body_markdown":"@jeffporter Yes that&#39;s exactly the question.","body":"@jeffporter Yes that&#39;s exactly the question."},{"owner":{"account_id":315203,"reputation":1249,"user_id":630833,"display_name":"jayeffkay"},"score":0,"creation_date":1498749096,"post_id":36452668,"comment_id":76638273,"body_markdown":"Did you find a pretty solution for this?","body":"Did you find a pretty solution for this?"},{"owner":{"account_id":1728054,"reputation":2520,"user_id":1582293,"accept_rate":33,"display_name":"Baama"},"score":0,"creation_date":1519210788,"post_id":36452668,"comment_id":84813871,"body_markdown":"I have the same problem as well","body":"I have the same problem as well"},{"owner":{"account_id":7253909,"reputation":61,"user_id":5533256,"display_name":"matthew"},"score":0,"creation_date":1576671298,"post_id":36452668,"comment_id":104973398,"body_markdown":"Now it is 2019 )) Did you find a solution for it?","body":"Now it is 2019 )) Did you find a solution for it?"}],"answers":[{"tags":[],"owner":{"account_id":13357,"reputation":6580,"user_id":26778,"accept_rate":72,"display_name":"jeff porter"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1460037082,"creation_date":1459949997,"answer_id":36452902,"question_id":36452668,"body_markdown":"To skip using TypeAdapters, I&#39;d make the POJO do a null check when the setter method is called.\r\n\r\nOr look at \r\n\r\n    @JsonInclude(value = Include.NON_NULL)\r\n\r\nThe annotation needs to be at Class level, not method level.\r\n\r\n    @JsonInclude(Include.NON_NULL) //or Include.NON_EMPTY, if that fits your use case \r\n    public static class RequestPojo {\r\n        ...\r\n    }\r\n\r\n\r\nFor Deserialise you can use following at class level.\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)","title":"Ignore null fields when DEserializing JSON with Gson or Jackson","body":"<p>To skip using TypeAdapters, I'd make the POJO do a null check when the setter method is called.</p>\n\n<p>Or look at </p>\n\n<pre><code>@JsonInclude(value = Include.NON_NULL)\n</code></pre>\n\n<p>The annotation needs to be at Class level, not method level.</p>\n\n<pre><code>@JsonInclude(Include.NON_NULL) //or Include.NON_EMPTY, if that fits your use case \npublic static class RequestPojo {\n    ...\n}\n</code></pre>\n\n<p>For Deserialise you can use following at class level.</p>\n\n<p>@JsonIgnoreProperties(ignoreUnknown = true)</p>\n"},{"tags":[],"owner":{"account_id":1728054,"reputation":2520,"user_id":1582293,"accept_rate":33,"display_name":"Baama"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698810187,"creation_date":1519214208,"answer_id":48905325,"question_id":36452668,"body_markdown":"What I did in my case is to set a default value on the getter:\r\n\r\n    public class User {\r\n        private Long id = 42L;\r\n        private String name = &quot;John&quot;;\r\n    \r\n        public getName(){\r\n           //You can check other conditions\r\n           return name == null? &quot;John&quot; : name;\r\n        }\r\n    }\r\n\r\nI guess this will be a pain for many fields but it works in the simple case of less number of fields.","title":"Ignore null fields when DEserializing JSON with Gson or Jackson","body":"<p>What I did in my case is to set a default value on the getter:</p>\n<pre><code>public class User {\n    private Long id = 42L;\n    private String name = &quot;John&quot;;\n\n    public getName(){\n       //You can check other conditions\n       return name == null? &quot;John&quot; : name;\n    }\n}\n</code></pre>\n<p>I guess this will be a pain for many fields but it works in the simple case of less number of fields.</p>\n"},{"tags":[],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522885004,"creation_date":1519215494,"answer_id":48905763,"question_id":36452668,"body_markdown":"Albeit not the most concise solution, with Jackson you can handle setting the properties yourself with a custom `@JsonCreator`:\r\n\r\n    public class User {\r\n        Long id = 42L;\r\n        String name = &quot;John&quot;;\r\n\r\n        @JsonCreator\r\n        static User ofNullablesAsOptionals(\r\n                @JsonProperty(&quot;id&quot;) Long id,\r\n                @JsonProperty(&quot;name&quot;) String name) {\r\n            User user = new User();\r\n            if (id != null) user.id = id;\r\n            if (name != null) user.name = name;\r\n            return user;\r\n        }\r\n    }","title":"Ignore null fields when DEserializing JSON with Gson or Jackson","body":"<p>Albeit not the most concise solution, with Jackson you can handle setting the properties yourself with a custom <code>@JsonCreator</code>:</p>\n\n<pre><code>public class User {\n    Long id = 42L;\n    String name = \"John\";\n\n    @JsonCreator\n    static User ofNullablesAsOptionals(\n            @JsonProperty(\"id\") Long id,\n            @JsonProperty(\"name\") String name) {\n        User user = new User();\n        if (id != null) user.id = id;\n        if (name != null) user.name = name;\n        return user;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1167034,"reputation":564,"user_id":1145053,"display_name":"Vytautas Alkimavičius"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641913884,"creation_date":1641913884,"answer_id":70669110,"question_id":36452668,"body_markdown":"A lot of time gone by, but if you like me ran into this question and you are using at least Jackson 2.9 then one way you could sovle it is using [JsonSetter][1] and [Nulls.SKIP][2]:\r\n\r\n \r\n\r\n    public class User {\r\n        private Long id = 42L;\r\n        \r\n        @JsonSetter(Nulls.SKIP)\r\n        private String name = &quot;John&quot;;\r\n\r\n        ... cooresponding getters and setters  \r\n       \r\n    }\r\n\r\nThis way, when null is encountered, setter will not be called.\r\n\r\nNote: more details can be found [here][3].\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonSetter.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\r\n  [3]: https://cowtowncoder.medium.com/jackson-2-9-features-b2a19029e9ff","title":"Ignore null fields when DEserializing JSON with Gson or Jackson","body":"<p>A lot of time gone by, but if you like me ran into this question and you are using at least Jackson 2.9 then one way you could sovle it is using <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"noreferrer\">JsonSetter</a> and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\" rel=\"noreferrer\">Nulls.SKIP</a>:</p>\n<pre><code>public class User {\n    private Long id = 42L;\n    \n    @JsonSetter(Nulls.SKIP)\n    private String name = &quot;John&quot;;\n\n    ... cooresponding getters and setters  \n   \n}\n</code></pre>\n<p>This way, when null is encountered, setter will not be called.</p>\n<p>Note: more details can be found <a href=\"https://cowtowncoder.medium.com/jackson-2-9-features-b2a19029e9ff\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":424773,"reputation":21418,"user_id":804967,"accept_rate":64,"display_name":"fweigl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13688,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1698810187,"creation_date":1459949441,"question_id":36452668,"body_markdown":"I know there&#39;s lots of questions about skipping fields with a null value when serializing objects to JSON. \r\nI want to skip / ignore fields with null values when deserializing JSON to an object. \r\n\r\nConsider the class\r\n\r\n    public class User {\r\n        Long id = 42L;\r\n        String name = &quot;John&quot;;\r\n    }\r\n\r\nand the JSON string \r\n\r\n    {&quot;id&quot;:1,&quot;name&quot;:null}\r\n\r\nWhen doing \r\n\r\n    User user = gson.fromJson(json, User.class)\r\n\r\nI want  `user.id` to be &#39;1&#39; and `user.name` to be &#39;John&#39;. \r\n\r\nIs this possible with either Gson or Jackson in a general fashion (without special `TypeAdapter`s or similar)?","title":"Ignore null fields when DEserializing JSON with Gson or Jackson","body":"<p>I know there's lots of questions about skipping fields with a null value when serializing objects to JSON. \nI want to skip / ignore fields with null values when deserializing JSON to an object. </p>\n\n<p>Consider the class</p>\n\n<pre><code>public class User {\n    Long id = 42L;\n    String name = \"John\";\n}\n</code></pre>\n\n<p>and the JSON string </p>\n\n<pre><code>{\"id\":1,\"name\":null}\n</code></pre>\n\n<p>When doing </p>\n\n<pre><code>User user = gson.fromJson(json, User.class)\n</code></pre>\n\n<p>I want  <code>user.id</code> to be '1' and <code>user.name</code> to be 'John'. </p>\n\n<p>Is this possible with either Gson or Jackson in a general fashion (without special <code>TypeAdapter</code>s or similar)?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3602143,"reputation":1126,"user_id":3005235,"display_name":"cesonha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698809035,"creation_date":1698809035,"answer_id":77400174,"question_id":77400025,"body_markdown":"I am not sure why is that, probably something related to package naming conflicts within the bytecode generated by the kotlin code but I was able to use the Kotlin code in Java by using an import that kind of avoids this confusion. Try it:\r\n\r\n```\r\nimport com.yourpackage.KotlinClass.Companion.CompanionEnum;\r\n\r\npublic class test {\r\n    public void testMethod() {\r\n       new KotlinClass(CompanionEnum.ENUM_1).doSomething();\r\n    }\r\n}\r\n\r\n```","title":"Android can not call Kotlin code in Java code cause when using kotlin enum in companion","body":"<p>I am not sure why is that, probably something related to package naming conflicts within the bytecode generated by the kotlin code but I was able to use the Kotlin code in Java by using an import that kind of avoids this confusion. Try it:</p>\n<pre><code>import com.yourpackage.KotlinClass.Companion.CompanionEnum;\n\npublic class test {\n    public void testMethod() {\n       new KotlinClass(CompanionEnum.ENUM_1).doSomething();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":6800476,"reputation":3197,"user_id":5233942,"accept_rate":96,"display_name":"L. Swifter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77400174,"answer_count":1,"score":1,"last_activity_date":1698809035,"creation_date":1698805843,"question_id":77400025,"body_markdown":"I got a kotlin class:\r\n```kotlin\r\nclass KotlinClass(val enum: CompanionEnum) {\r\n\r\n    companion object {\r\n        enum class CompanionEnum(val value: String) {\r\n            ENUM_1(&quot;AAAA&quot;),\r\n            ENUM_2(&quot;BBBB&quot;),\r\n        }\r\n    }\r\n\r\n    fun doSomething() {\r\n        print( enum.value)\r\n    }\r\n}\r\n```\r\nAnd I can use this class in kotlin code like this, and this works fine:\r\n```kotlin\r\nKotlinClass(KotlinClass.Companion.CompanionEnum.ENUM_1).doSomething()\r\n```\r\nBut I cann&#39;t use this kotlin code in Java code:\r\n```java\r\nnew KotlinClass(KotlinClass.Companion.CompanionEnum.ENUM_1).doSomething();\r\n```\r\n\r\n `Android Studio` always tips me `Expected class or package`:\r\n[![enter image description here][1]][1]\r\n\r\nSo, How to use this Kotlin class in Java code without changing the kotlin code ?\r\n\r\n  [1]: https://i.stack.imgur.com/0qZyi.png","title":"Android can not call Kotlin code in Java code cause when using kotlin enum in companion","body":"<p>I got a kotlin class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class KotlinClass(val enum: CompanionEnum) {\n\n    companion object {\n        enum class CompanionEnum(val value: String) {\n            ENUM_1(&quot;AAAA&quot;),\n            ENUM_2(&quot;BBBB&quot;),\n        }\n    }\n\n    fun doSomething() {\n        print( enum.value)\n    }\n}\n</code></pre>\n<p>And I can use this class in kotlin code like this, and this works fine:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>KotlinClass(KotlinClass.Companion.CompanionEnum.ENUM_1).doSomething()\n</code></pre>\n<p>But I cann't use this kotlin code in Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new KotlinClass(KotlinClass.Companion.CompanionEnum.ENUM_1).doSomething();\n</code></pre>\n<p><code>Android Studio</code> always tips me <code>Expected class or package</code>:\n<a href=\"https://i.stack.imgur.com/0qZyi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0qZyi.png\" alt=\"enter image description here\" /></a></p>\n<p>So, How to use this Kotlin class in Java code without changing the kotlin code ?</p>\n"},{"tags":["java","validation","properties-file","apache-commons-config"],"comments":[{"owner":{"account_id":183272,"reputation":1816,"user_id":418548,"accept_rate":72,"display_name":"Griff"},"score":0,"creation_date":1456165113,"post_id":35560859,"comment_id":58810118,"body_markdown":"In a typical production environment, most people use puppet or chef to make sure that all servers conform to a strict configuration -- all configuration files, not just application specific.","body":"In a typical production environment, most people use puppet or chef to make sure that all servers conform to a strict configuration -- all configuration files, not just application specific."}],"answers":[{"tags":[],"owner":{"account_id":7172059,"reputation":616,"user_id":5479224,"display_name":"AGdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456166072,"creation_date":1456166072,"answer_id":35561211,"question_id":35560859,"body_markdown":"What is a configuration object supposed to do if you pass in a key to one of its get methods that does not map to an existing property? \r\n\r\n1. the default behavior as implemented in AbstractConfiguration is to return null if the return value is an object type. \r\n\r\n2. For primitive types as return values returning null (or any other special value) is not possible, so in this case a NoSuchElementException is thrown\r\n\r\n        // This will return null if no property with key &quot;NonExistingProperty&quot; exists\r\n        String strValue = config.getString(&quot;NonExistingProperty&quot;);\r\n        \r\n        // This will throw a NoSuchElementException exception if no property with\r\n        // key &quot;NonExistingProperty&quot; exists\r\n        long longValue = config.getLong(&quot;NonExistingProperty&quot;);\r\n\r\nFor object types like String, BigDecimal, or BigInteger this default behavior can be changed: \r\n\r\nIf the setThrowExceptionOnMissing() method is called with an argument of true, these methods will behave like their primitive counter parts and also throw an exception if the passed in property key cannot be resolved.\r\n\r\nSituation is little tricky for Collection &amp; array types as they will return empty collection or array.","title":"Apache Commons Configuration validate properties file","body":"<p>What is a configuration object supposed to do if you pass in a key to one of its get methods that does not map to an existing property? </p>\n\n<ol>\n<li><p>the default behavior as implemented in AbstractConfiguration is to return null if the return value is an object type. </p></li>\n<li><p>For primitive types as return values returning null (or any other special value) is not possible, so in this case a NoSuchElementException is thrown</p>\n\n<pre><code>// This will return null if no property with key \"NonExistingProperty\" exists\nString strValue = config.getString(\"NonExistingProperty\");\n\n// This will throw a NoSuchElementException exception if no property with\n// key \"NonExistingProperty\" exists\nlong longValue = config.getLong(\"NonExistingProperty\");\n</code></pre></li>\n</ol>\n\n<p>For object types like String, BigDecimal, or BigInteger this default behavior can be changed: </p>\n\n<p>If the setThrowExceptionOnMissing() method is called with an argument of true, these methods will behave like their primitive counter parts and also throw an exception if the passed in property key cannot be resolved.</p>\n\n<p>Situation is little tricky for Collection &amp; array types as they will return empty collection or array.</p>\n"},{"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698808649,"creation_date":1698808649,"answer_id":77400158,"question_id":35560859,"body_markdown":"I ran into the exact same problem, so I made a small library for validating the entire configuration at once. It can be customized to suit the exact specifications that you need in your config.&lt;br&gt; It can be configured to work with any configuration library and currently comes with default support for Apache Commons Config and SnakeYAML.\r\n\r\nIt can be found here along with basic usage guides: [https://github.com/TTNO1/ConfigValidation4j][1]\r\n\r\n  [1]: https://github.com/TTNO1/ConfigValidation4j","title":"Apache Commons Configuration validate properties file","body":"<p>I ran into the exact same problem, so I made a small library for validating the entire configuration at once. It can be customized to suit the exact specifications that you need in your config.<br> It can be configured to work with any configuration library and currently comes with default support for Apache Commons Config and SnakeYAML.</p>\n<p>It can be found here along with basic usage guides: <a href=\"https://github.com/TTNO1/ConfigValidation4j\" rel=\"nofollow noreferrer\">https://github.com/TTNO1/ConfigValidation4j</a></p>\n"}],"owner":{"account_id":6625368,"reputation":3058,"user_id":5115768,"accept_rate":79,"display_name":"lenny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1694,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1698808649,"creation_date":1456164803,"question_id":35560859,"body_markdown":"I am using `Apache Commons Configuration` library with `PropertiesConfiguration`.\r\nMy application loads the config file right after its started, like this:  \r\n  \r\n\r\n    public PropertiesConfiguration loadConfigFile(File configFile) throws ConfigurationNotFoundException {\r\n            try {\r\n                if (configFile != null &amp;&amp; configFile.exists()) {\r\n                    config.load(configFile);\r\n                    config.setListDelimiter(&#39;;&#39;);\r\n                    config.setAutoSave(true);\r\n                    config.setReloadingStrategy(new FileChangedReloadingStrategy());\r\n                    setConfigLoaded(true);\r\n                }\r\n                else {\r\n                    throw new ConfigurationNotFoundException(&quot;Configuration file not found.&quot;);\r\n                }\r\n    \r\n            } catch (ConfigurationException e) {\r\n                logger.warn(e.getMessage());\r\n                setDefaultConfigValues(config);\r\n                config.setFile(configFile);\r\n            }\r\n            return config;\r\n    }\r\n  \r\n  \r\nMy question is, how can I validate the `configFile`, so I can be sure that no property in that file is missing and later in my code I won&#39;t get a `NullPointerException` when trying to access the properties, e.g.:  \r\n  \r\n\r\n    PropertiesConfiguration config = loadConfig(configFile);\r\n    String rootDir = config.getString(&quot;paths.download&quot;); // I want to be sure that this property exists right at the app start\r\n  \r\n  \r\nI didn&#39;t found anything in the documentation or google, just something about XML validation.  \r\n**The goal is to provide feedback to the user at program start that the configuration file is corrupted.**  \r\nThere is no build-in mechanism for properties-file?","title":"Apache Commons Configuration validate properties file","body":"<p>I am using <code>Apache Commons Configuration</code> library with <code>PropertiesConfiguration</code>.\nMy application loads the config file right after its started, like this:  </p>\n\n<pre><code>public PropertiesConfiguration loadConfigFile(File configFile) throws ConfigurationNotFoundException {\n        try {\n            if (configFile != null &amp;&amp; configFile.exists()) {\n                config.load(configFile);\n                config.setListDelimiter(';');\n                config.setAutoSave(true);\n                config.setReloadingStrategy(new FileChangedReloadingStrategy());\n                setConfigLoaded(true);\n            }\n            else {\n                throw new ConfigurationNotFoundException(\"Configuration file not found.\");\n            }\n\n        } catch (ConfigurationException e) {\n            logger.warn(e.getMessage());\n            setDefaultConfigValues(config);\n            config.setFile(configFile);\n        }\n        return config;\n}\n</code></pre>\n\n<p>My question is, how can I validate the <code>configFile</code>, so I can be sure that no property in that file is missing and later in my code I won't get a <code>NullPointerException</code> when trying to access the properties, e.g.:  </p>\n\n<pre><code>PropertiesConfiguration config = loadConfig(configFile);\nString rootDir = config.getString(\"paths.download\"); // I want to be sure that this property exists right at the app start\n</code></pre>\n\n<p>I didn't found anything in the documentation or google, just something about XML validation.<br>\n<strong>The goal is to provide feedback to the user at program start that the configuration file is corrupted.</strong><br>\nThere is no build-in mechanism for properties-file?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"score":0,"creation_date":1349148968,"post_id":12684072,"comment_id":17120042,"body_markdown":"I don&#39;t find anything wrong with this code. My be your file have no objects.","body":"I don&#39;t find anything wrong with this code. My be your file have no objects."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1349149074,"post_id":12684072,"comment_id":17120062,"body_markdown":"My file has the objects because I can use them after the `MyClass m = (MyClass)o;` line. It still throws the `EOFException` and I don&#39;t know how to get rid of it in a clean way.","body":"My file has the objects because I can use them after the <code>MyClass m = (MyClass)o;</code> line. It still throws the <code>EOFException</code> and I don&#39;t know how to get rid of it in a clean way."},{"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"score":0,"creation_date":1349149182,"post_id":12684072,"comment_id":17120077,"body_markdown":"At the end of the code this exception will be thrown, this is the basic approach of the Java language. You will have to do manage that exception, nothing wrong with that","body":"At the end of the code this exception will be thrown, this is the basic approach of the Java language. You will have to do manage that exception, nothing wrong with that"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1349149318,"post_id":12684072,"comment_id":17120109,"body_markdown":"@BhavikAmbani It is the &#39;basic approach&#39; of *this API*, and some others, basically all the `readXXX()` methods except `readLine()` which returns `null`, and of course `read()` itself returns -1. Nothing to do with the &#39;Java language&#39; itself whatsoever, just the APIs.","body":"@BhavikAmbani It is the &#39;basic approach&#39; of <i>this API</i>, and some others, basically all the <code>readXXX()</code> methods except <code>readLine()</code> which returns <code>null</code>, and of course <code>read()</code> itself returns -1. Nothing to do with the &#39;Java language&#39; itself whatsoever, just the APIs."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1349150791,"post_id":12684072,"comment_id":17120351,"body_markdown":"@downvoter: leave a comment explaining your downvote","body":"@downvoter: leave a comment explaining your downvote"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1349148454,"creation_date":1349148454,"answer_id":12684138,"question_id":12684072,"body_markdown":"That&#39;s what&#39;s supposed to happen. Your code is wrong. Check the Javadoc. `readObject()` only returns `null` if you wrote a `null`. It doesn&#39;t say anything about returning a null at EOF. Looping until `readObject()` returns `null` will only stop if you ever wrote a `null` via `writeObject()`, and if you didn&#39;t you will get an `EOFException`.","title":"EOFException when reading files with ObjectInputStream","body":"<p>That's what's supposed to happen. Your code is wrong. Check the Javadoc. <code>readObject()</code> only returns <code>null</code> if you wrote a <code>null</code>. It doesn't say anything about returning a null at EOF. Looping until <code>readObject()</code> returns <code>null</code> will only stop if you ever wrote a <code>null</code> via <code>writeObject()</code>, and if you didn't you will get an <code>EOFException</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1698807951,"creation_date":1349149833,"answer_id":12684281,"question_id":12684072,"body_markdown":"@EJP&#39;s answer has nailed it.  \r\n\r\nHowever if you are a paid-up member of the *&quot;exceptions should&#39;t be used for normal flow control&quot;* club&lt;sup&gt;*&lt;/sup&gt; then you can avoid having to catch the exception if you can use some other means to determine when to stop; for example\r\n\r\n  - You could start the stream with a count sent as an `Integer` object.\r\n  - You could mark the end the stream by sending a `null`.\r\n  - You could mark the end the stream by sending a special object that means &quot;this is the end&quot;.  It does not need to be a `MyClass` instance.\r\n  - You could send a `List&lt;MyClass&gt;` ... though that means that you can&#39;t &quot;stream&quot; the objects.\r\n\r\nNote: all of these workarounds assume that you are able to change the code that BOTH generates AND consumes the object stream.   If not, catching the exception is the only way that will work.\r\n\r\n-------------\r\n\r\n&lt;sup&gt;* Membership of this club requires either the ability to assimilate circular arguments, or willingness to blindly accept dogma as truth.  :-) &lt;/sup&gt;\r\n\r\n-------------\r\n\r\nRather than repeat the arguments *ad nauseam*, here are some links to some of my answers related to the &quot;normal flow control&quot; debate:\r\n\r\n  - https://stackoverflow.com/questions/12358686/cost-of-compound-if-or-versus-try-catch-in-java-6/12362236#12362236\r\n  - https://stackoverflow.com/questions/5797781/java-whats-an-alternative-to-exceptions-for-flow-control/5797806#5797806\r\n  - https://stackoverflow.com/questions/5227633/regex-or-exception-handling/5227746#5227746\r\n  - https://stackoverflow.com/questions/8867334/check-if-a-file-exists-before-calling-openfileinput/8868140#8868140\r\n  - https://stackoverflow.com/questions/3490770/what-is-faster-try-catch-or-if-else-in-java-wrt-performance/3490854#3490854\r\n\r\nIf you read through them, you will see that I don&#39;t come down firmly on either side of the fence.  Rather, my view is that you should understand the trade-offs, and make a decision about whether exceptions are appropriate or not on a case-by-case basis.","title":"EOFException when reading files with ObjectInputStream","body":"<p>@EJP's answer has nailed it.</p>\n<p>However if you are a paid-up member of the <em>&quot;exceptions should't be used for normal flow control&quot;</em> club<sup>*</sup> then you can avoid having to catch the exception if you can use some other means to determine when to stop; for example</p>\n<ul>\n<li>You could start the stream with a count sent as an <code>Integer</code> object.</li>\n<li>You could mark the end the stream by sending a <code>null</code>.</li>\n<li>You could mark the end the stream by sending a special object that means &quot;this is the end&quot;.  It does not need to be a <code>MyClass</code> instance.</li>\n<li>You could send a <code>List&lt;MyClass&gt;</code> ... though that means that you can't &quot;stream&quot; the objects.</li>\n</ul>\n<p>Note: all of these workarounds assume that you are able to change the code that BOTH generates AND consumes the object stream.   If not, catching the exception is the only way that will work.</p>\n<hr />\n<p><sup>* Membership of this club requires either the ability to assimilate circular arguments, or willingness to blindly accept dogma as truth.  :-) </sup></p>\n<hr />\n<p>Rather than repeat the arguments <em>ad nauseam</em>, here are some links to some of my answers related to the &quot;normal flow control&quot; debate:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12358686/cost-of-compound-if-or-versus-try-catch-in-java-6/12362236#12362236\">Cost of compound if/or versus try/catch in Java 6</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5797781/java-whats-an-alternative-to-exceptions-for-flow-control/5797806#5797806\">What is an alternative to exceptions for flow control?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5227633/regex-or-exception-handling/5227746#5227746\">Regex or Exception Handling?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8867334/check-if-a-file-exists-before-calling-openfileinput/8868140#8868140\">Check if a file exists before calling openFileInput</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3490770/what-is-faster-try-catch-or-if-else-in-java-wrt-performance/3490854#3490854\">Which is faster, try catch or if-else in java (WRT performance)</a></li>\n</ul>\n<p>If you read through them, you will see that I don't come down firmly on either side of the fence.  Rather, my view is that you should understand the trade-offs, and make a decision about whether exceptions are appropriate or not on a case-by-case basis.</p>\n"},{"tags":[],"owner":{"account_id":3338186,"reputation":445,"user_id":2805103,"display_name":"Mourad El Aomari"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1421905869,"creation_date":1421900634,"answer_id":28081270,"question_id":12684072,"body_markdown":"You could try this:\r\n\r\n    boolean check=true;\r\n    while (check) {\r\n       try{\r\n           System.out.println(ois.readObject());\r\n       } catch(EOFException ex){\r\n           check=false;\r\n       }\r\n    }\r\n\r\n","title":"EOFException when reading files with ObjectInputStream","body":"<p>You could try this:</p>\n\n<pre><code>boolean check=true;\nwhile (check) {\n   try{\n       System.out.println(ois.readObject());\n   } catch(EOFException ex){\n       check=false;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5725141,"reputation":1155,"user_id":4522329,"accept_rate":90,"display_name":"Mercutio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1432892798,"creation_date":1432892798,"answer_id":30526368,"question_id":12684072,"body_markdown":"While `readObject()` doesn&#39;t return `NULL` when it hits the end of a file, if you control the file from it&#39;s inception you could always add `NULL` right before closing your output stream. It will get passed as an object, but you can then test for end of file as such:\r\n\r\n    Boolean complete = false;\r\n    ObjectInputStream in = &lt;...&gt;\r\n\r\n    while(complete != true) {\r\n        Object test = (Object)in.readObject();\r\n        if(test != null) { someArrayList.add(test); }\r\n            else { complete = true; }\r\n    }\r\n","title":"EOFException when reading files with ObjectInputStream","body":"<p>While <code>readObject()</code> doesn't return <code>NULL</code> when it hits the end of a file, if you control the file from it's inception you could always add <code>NULL</code> right before closing your output stream. It will get passed as an object, but you can then test for end of file as such:</p>\n\n<pre><code>Boolean complete = false;\nObjectInputStream in = &lt;...&gt;\n\nwhile(complete != true) {\n    Object test = (Object)in.readObject();\n    if(test != null) { someArrayList.add(test); }\n        else { complete = true; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100024,"reputation":9120,"user_id":269834,"accept_rate":73,"display_name":"Evan Siroky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581719556,"creation_date":1581719556,"answer_id":60234310,"question_id":12684072,"body_markdown":"I encountered this error because I had forgot to close an ObjectOutputStream in the code that wrote the data. Once I wrote the data again with code that closed the output stream the data was able to be read in fine.","title":"EOFException when reading files with ObjectInputStream","body":"<p>I encountered this error because I had forgot to close an ObjectOutputStream in the code that wrote the data. Once I wrote the data again with code that closed the output stream the data was able to be read in fine.</p>\n"}],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33263,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"closed_date":1584913363,"accepted_answer_id":12684138,"answer_count":5,"score":5,"last_activity_date":1698807951,"creation_date":1349147803,"question_id":12684072,"body_markdown":"I basically have a similar problem as stated here: [EOFexception in Java when reading objectinputstream](https://stackoverflow.com/q/2308128/1065197), but I don&#39;t find an answer with clean code.\r\n\r\nThe answer states that the `ObjectInputStream#readObject` will throw the exception when the reader reachs the End Of File. After looking in the web for a solution, I haven&#39;t found a solution. Could be a good and clean solution for this case?\r\n\r\nNote: I have tried this (but it looks ugly and is not clean code). I&#39;m looking for a better solution:\r\n\r\n    ObjectInputStream ois = new ObjectInputStream(new FileInputStream(file));\r\n    try {\r\n        Object o;\r\n        while ((o = ois.readObject()) != null) {\r\n            if (o instanceof MyClass) {\r\n                MyClass m = (MyClass)o;\r\n                //use the object...\r\n            }\r\n        }\r\n    } catch (EOFException eofex) {\r\n        //do nothing\r\n    }  catch (IOException ioex) {\r\n        throw ioex;\r\n        //I have another try/catch block outside to control the life of the ObjectInputStream\r\n    }\r\n    //later in the code...\r\n    ois.close();\r\n\r\n","title":"EOFException when reading files with ObjectInputStream","body":"<p>I basically have a similar problem as stated here: <a href=\"https://stackoverflow.com/q/2308128/1065197\">EOFexception in Java when reading objectinputstream</a>, but I don't find an answer with clean code.</p>\n\n<p>The answer states that the <code>ObjectInputStream#readObject</code> will throw the exception when the reader reachs the End Of File. After looking in the web for a solution, I haven't found a solution. Could be a good and clean solution for this case?</p>\n\n<p>Note: I have tried this (but it looks ugly and is not clean code). I'm looking for a better solution:</p>\n\n<pre><code>ObjectInputStream ois = new ObjectInputStream(new FileInputStream(file));\ntry {\n    Object o;\n    while ((o = ois.readObject()) != null) {\n        if (o instanceof MyClass) {\n            MyClass m = (MyClass)o;\n            //use the object...\n        }\n    }\n} catch (EOFException eofex) {\n    //do nothing\n}  catch (IOException ioex) {\n    throw ioex;\n    //I have another try/catch block outside to control the life of the ObjectInputStream\n}\n//later in the code...\nois.close();\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1407697838,"post_id":25232035,"comment_id":39304805,"body_markdown":"Please provide the *exact* error and stacktrace.","body":"Please provide the <i>exact</i> error and stacktrace."},{"owner":{"account_id":4871039,"reputation":9,"user_id":3927555,"display_name":"codeRed"},"score":0,"creation_date":1407698398,"post_id":25232035,"comment_id":39304950,"body_markdown":"net.sf.jasperreports.engine.JRException: Error loading object from file : C:\\Users\\Heart\\Desktop\\report1.jrxml\n\tat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:127)\n\tat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:99)\n\tat net.sf.jasperreports.engine.JasperFillManager.fill(JasperFillManager.java:272)\n\tat net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:745)\n\tat TableExaminee.btnReportActionPerformed(TableExaminee.java:384)","body":"net.sf.jasperreports.engine.JRException: Error loading object from file : C:\\Users\\Heart\\Desktop\\report1.jrxml \tat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoade&zwnj;&#8203;r.java:127) \tat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoade&zwnj;&#8203;r.java:99) \tat net.sf.jasperreports.engine.JasperFillManager.fill(JasperFil&zwnj;&#8203;lManager.java:272) \tat net.sf.jasperreports.engine.JasperFillManager.fillReport(Jas&zwnj;&#8203;perFillManager.java:&zwnj;&#8203;745) \tat TableExaminee.btnReportActionPerformed(TableExaminee.java:38&zwnj;&#8203;4)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1407699063,"post_id":25232035,"comment_id":39305120,"body_markdown":"Please edit the question rather than wedge code/config into comments.","body":"Please edit the question rather than wedge code/config into comments."},{"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"score":0,"creation_date":1407699382,"post_id":25232035,"comment_id":39305209,"body_markdown":"Instead of fillReport method can you try fillReportToFile method.","body":"Instead of fillReport method can you try fillReportToFile method."},{"owner":{"account_id":4871039,"reputation":9,"user_id":3927555,"display_name":"codeRed"},"score":0,"creation_date":1407699934,"post_id":25232035,"comment_id":39305355,"body_markdown":"@prashantthakre same error sir","body":"@prashantthakre same error sir"},{"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"score":0,"creation_date":1407700082,"post_id":25232035,"comment_id":39305398,"body_markdown":"It means report1.jrxml is not valid one. First try with simple valid jrxml.","body":"It means report1.jrxml is not valid one. First try with simple valid jrxml."},{"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"score":0,"creation_date":1407700397,"post_id":25232035,"comment_id":39305499,"body_markdown":"I have given the code in below answer please try that one you must have to first compile your jrxml so that it will generate jasper file","body":"I have given the code in below answer please try that one you must have to first compile your jrxml so that it will generate jasper file"},{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":0,"creation_date":1407730199,"post_id":25232035,"comment_id":39312413,"body_markdown":"`JasperFillManager#fillReport()` returns an object of type `JasperPrint` so in that case you dont need to cast it may be you have wrong imports","body":"<code>JasperFillManager#fillReport()</code> returns an object of type <code>JasperPrint</code> so in that case you dont need to cast it may be you have wrong imports"}],"answers":[{"tags":[],"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407700354,"creation_date":1407700354,"answer_id":25232427,"question_id":25232035,"body_markdown":"Try the below code,\r\n\r\n     String jrxmlFile = &quot;C:\\\\Users\\\\Heart\\\\Desktop\\\\report1.jrxml&quot;;\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql:///database&quot;,&quot;root&quot;,&quot;&quot;);\r\n     JasperReport jasperReport = JasperCompileManager.compileReport(jrxmlFile);\r\n    JasperPrint print = (JasperPrint) JasperFillManager.fillReportToFile(jrxmlFile, new         HashMap&lt;String, Object&gt; (), con);\r\n    JasperViewer.viewReport(jprint);\r\n\r\nFor more detail visit this [link][1] \r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/jasper_reports/jasper_filling_reports.htm","title":"Jasper: Error loading object from file","body":"<p>Try the below code,</p>\n\n<pre><code> String jrxmlFile = \"C:\\\\Users\\\\Heart\\\\Desktop\\\\report1.jrxml\";\nConnection con = DriverManager.getConnection(\"jdbc:mysql:///database\",\"root\",\"\");\n JasperReport jasperReport = JasperCompileManager.compileReport(jrxmlFile);\nJasperPrint print = (JasperPrint) JasperFillManager.fillReportToFile(jrxmlFile, new         HashMap&lt;String, Object&gt; (), con);\nJasperViewer.viewReport(jprint);\n</code></pre>\n\n<p>For more detail visit this <a href=\"http://www.tutorialspoint.com/jasper_reports/jasper_filling_reports.htm\" rel=\"nofollow\">link</a> </p>\n"}],"owner":{"account_id":4871039,"reputation":9,"user_id":3927555,"display_name":"codeRed"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698807740,"creation_date":1407697650,"question_id":25232035,"body_markdown":"First time user of iReport. I added all the required JAR files but keep getting the same error. What to do? The error message is as follows:\r\n\r\n    Exceptionnet.sf.jasperreports.engine.JRException: Error loading object from file\r\n\r\nThe code that causes the error:\r\n\r\n        private void btnReportActionPerformed(java.awt.event.ActionEvent evt) {\r\n            try {\r\n                String jrxmlFile = &quot;C:\\\\Users\\\\Heart\\\\Desktop\\\\report1.jrxml&quot;;\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql:///database&quot;,&quot;root&quot;,&quot;&quot;);\r\n            \r\n                JasperPrint print = (JasperPrint) JasperFillManager.fillReport(jrxmlFile, null, con);\r\n                JasperViewer.viewReport(jprint);\r\n            } catch (Exception e) {\r\n                System.out.print(&quot;Exception&quot; + e);\r\n               // e.printStackTrace();\r\n            }\r\n        } \r\n\r\nStacktrace\r\n\r\n        net.sf.jasperreports.engine.JRException: Error loading object from file : C:\\Users\\Heart\\Desktop\\report1.jrxml at \r\n        net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:127) at \r\n        net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:99) at \r\n        net.sf.jasperreports.engine.JasperFillManager.fill(JasperFillManager.java:272) at \r\n        net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:‌​745) at \r\n        TableExaminee.btnReportActionPerformed(TableExaminee.java:384)\r\n","title":"Jasper: Error loading object from file","body":"<p>First time user of iReport. I added all the required JAR files but keep getting the same error. What to do? The error message is as follows:</p>\n\n<pre><code>Exceptionnet.sf.jasperreports.engine.JRException: Error loading object from file\n</code></pre>\n\n<p>The code that causes the error:</p>\n\n<pre><code>    private void btnReportActionPerformed(java.awt.event.ActionEvent evt) {\n        try {\n            String jrxmlFile = \"C:\\\\Users\\\\Heart\\\\Desktop\\\\report1.jrxml\";\n            Connection con = DriverManager.getConnection(\"jdbc:mysql:///database\",\"root\",\"\");\n\n            JasperPrint print = (JasperPrint) JasperFillManager.fillReport(jrxmlFile, null, con);\n            JasperViewer.viewReport(jprint);\n        } catch (Exception e) {\n            System.out.print(\"Exception\" + e);\n           // e.printStackTrace();\n        }\n    } \n</code></pre>\n\n<p>Stacktrace</p>\n\n<pre><code>    net.sf.jasperreports.engine.JRException: Error loading object from file : C:\\Users\\Heart\\Desktop\\report1.jrxml at \n    net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:127) at \n    net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:99) at \n    net.sf.jasperreports.engine.JasperFillManager.fill(JasperFillManager.java:272) at \n    net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:‌​745) at \n    TableExaminee.btnReportActionPerformed(TableExaminee.java:384)\n</code></pre>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1698821159,"post_id":77400107,"comment_id":136452369,"body_markdown":"Why don&#39;t you just use the FluidDropOff and specify the qty to dropoff as `agent.volumeP`?","body":"Why don&#39;t you just use the FluidDropOff and specify the qty to dropoff as <code>agent.volumeP</code>?"},{"owner":{"account_id":29791145,"reputation":3,"user_id":22831266,"display_name":"user22831266"},"score":0,"creation_date":1698839938,"post_id":77400107,"comment_id":136455185,"body_markdown":"When duplicating the agent I connect them with the FluidDropOff block and do exactly that on each one of them. In other words, the first block has a quantity of agent.volumePp for dropoff and the second a quantity of agent.volumePs for dropoff.\n\nWhat I would like to know is whether it is possible to perform this operation in just one FluidDropOff block, that is, a way to avoid copying agents.","body":"When duplicating the agent I connect them with the FluidDropOff block and do exactly that on each one of them. In other words, the first block has a quantity of agent.volumePp for dropoff and the second a quantity of agent.volumePs for dropoff.  What I would like to know is whether it is possible to perform this operation in just one FluidDropOff block, that is, a way to avoid copying agents."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1698848258,"post_id":77400107,"comment_id":136456870,"body_markdown":"Yeah, that is what I mean. Why don&#39;t you just use the agent in the Dropoff without copying? Maybe rewrite the question and focus on that, also add some screenshots. And simplify it to the root cause problem. Some tips for helping us help you: https://benjamin-schumann.com/blog/anylogic-stackoverflow","body":"Yeah, that is what I mean. Why don&#39;t you just use the agent in the Dropoff without copying? Maybe rewrite the question and focus on that, also add some screenshots. And simplify it to the root cause problem. Some tips for helping us help you: <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>"}],"owner":{"account_id":29791145,"reputation":3,"user_id":22831266,"display_name":"user22831266"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698807522,"creation_date":1698807522,"question_id":77400107,"body_markdown":"I&#39;m working on a model in which the source block is defined by the &quot;Arrival Table in Database&quot;. In this database I have information on the agents&#39; arrival dates; of the primary products transported (ProductP Parameter); secondary products transported (productS parameter); of the volumes of primary products (volumePp) and the volumes of secondary products (volumePs).\r\n\r\nI would like to connect this source block with a FluidDropOff block to unload volumePp and volumePs and to generate batches corresponding to productS and productP to be stored in different tanks.\r\n\r\nMy solution was to duplicate the agents (split) and copy the parameters of the original agent so that each of the new agents could connect to a FluidDropOff block. So &quot;fluid to dropoff&quot; would be the same as agent.volumePp in one block and agent.volumePs in the other block.\r\n\r\nHowever, I know that this solution is neither practical nor elegant. Taking into account that I need to increase the number of products, there would be a need to considerably increase the copy of agents (which I don&#39;t believe is the best possible solution).\r\n\r\nSo, I would like to know if there is any other more valid way to solve the proposed problem.\r\n\r\nThanks in advance!","title":"FluidDropOff for different products and capacities","body":"<p>I'm working on a model in which the source block is defined by the &quot;Arrival Table in Database&quot;. In this database I have information on the agents' arrival dates; of the primary products transported (ProductP Parameter); secondary products transported (productS parameter); of the volumes of primary products (volumePp) and the volumes of secondary products (volumePs).</p>\n<p>I would like to connect this source block with a FluidDropOff block to unload volumePp and volumePs and to generate batches corresponding to productS and productP to be stored in different tanks.</p>\n<p>My solution was to duplicate the agents (split) and copy the parameters of the original agent so that each of the new agents could connect to a FluidDropOff block. So &quot;fluid to dropoff&quot; would be the same as agent.volumePp in one block and agent.volumePs in the other block.</p>\n<p>However, I know that this solution is neither practical nor elegant. Taking into account that I need to increase the number of products, there would be a need to considerably increase the copy of agents (which I don't believe is the best possible solution).</p>\n<p>So, I would like to know if there is any other more valid way to solve the proposed problem.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698807448,"creation_date":1697612324,"answer_id":77314084,"question_id":77311295,"body_markdown":"Are you used spring-boot? If yes this dependency &amp; mongoTemplate are ready for you to interact with mongoDb.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nExample for count the record documents:\r\n\r\n```\r\nlong amount = mongoTemplate.count(Query.query(where(&quot;System.Value&quot;).is(value)), EntityClass.class);\r\n```\r\n\r\nIf you need further example pls refer to this [example](https://github.com/phuongnq1995/spring-boot-mongodb/blob/main/src/main/java/com/phuongnq/mongodb/service/impl/MongoServiceImpl.java)\r\n\r\nUPDATED:\r\n\r\nIf I understand correctly, after having `List&lt;Amount&gt; amount`, you want to get all `System.Value` inside the `Amount` class. Basically, just need to loop through them\r\n\r\n```\r\nfor (Amount element : amount) {\r\n   String sampleValue = element.getSample().getValue();\r\n}\r\n```","title":"How to get a field value in mongodb in java for number of records in java","body":"<p>Are you used spring-boot? If yes this dependency &amp; mongoTemplate are ready for you to interact with mongoDb.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Example for count the record documents:</p>\n<pre><code>long amount = mongoTemplate.count(Query.query(where(&quot;System.Value&quot;).is(value)), EntityClass.class);\n</code></pre>\n<p>If you need further example pls refer to this <a href=\"https://github.com/phuongnq1995/spring-boot-mongodb/blob/main/src/main/java/com/phuongnq/mongodb/service/impl/MongoServiceImpl.java\" rel=\"nofollow noreferrer\">example</a></p>\n<p>UPDATED:</p>\n<p>If I understand correctly, after having <code>List&lt;Amount&gt; amount</code>, you want to get all <code>System.Value</code> inside the <code>Amount</code> class. Basically, just need to loop through them</p>\n<pre><code>for (Amount element : amount) {\n   String sampleValue = element.getSample().getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698807448,"creation_date":1697565984,"question_id":77311295,"body_markdown":"I am trying to get a MongoDB field value based on key from the number of documents by using below syntax but not able to get the value. Tried multiple syntax but not able to get the value. Can anyone assist on the issue how to retrieve a MongoDB field value from number of documents.\r\n\r\n I am able to connect to MongoDB database and able to get the results based on below query. And the amount object is having the number of documents. From that I need to get a key value from the MongoDB field (Sample.Value). Below is my JSON.\r\n\r\n    How can I get the the Sample.value :123 \r\n\r\n    {\r\n        &quot;_id&quot; : ObjectId(&quot;abcdefg&quot;),\r\n        \r\n       \r\n        &quot;Sample&quot; : {\r\n            &quot;value&quot; : &quot;123&quot;,\r\n            &quot;color&quot; : &quot;red&quot;,\r\n            \r\n        },\r\n        \r\n    }\r\n    \r\n        Query searchQuery = new Query();\r\n           if (value != null &amp;&amp; !value.isEmpty())\r\n                    searchQuery.addCriteria(Criteria.where(&quot;System.Value&quot;).is(value));\r\n                List&lt;Amount&gt; amount = new ArrayList&lt;&gt;();\r\n        \t\t amountdetails = mongoOpsTS.find(searchQuery, Amount.class);\r\n                Amount.addAll(amountdetails);","title":"How to get a field value in mongodb in java for number of records in java","body":"<p>I am trying to get a MongoDB field value based on key from the number of documents by using below syntax but not able to get the value. Tried multiple syntax but not able to get the value. Can anyone assist on the issue how to retrieve a MongoDB field value from number of documents.</p>\n<p>I am able to connect to MongoDB database and able to get the results based on below query. And the amount object is having the number of documents. From that I need to get a key value from the MongoDB field (Sample.Value). Below is my JSON.</p>\n<pre><code>How can I get the the Sample.value :123 \n\n{\n    &quot;_id&quot; : ObjectId(&quot;abcdefg&quot;),\n    \n   \n    &quot;Sample&quot; : {\n        &quot;value&quot; : &quot;123&quot;,\n        &quot;color&quot; : &quot;red&quot;,\n        \n    },\n    \n}\n\n    Query searchQuery = new Query();\n       if (value != null &amp;&amp; !value.isEmpty())\n                searchQuery.addCriteria(Criteria.where(&quot;System.Value&quot;).is(value));\n            List&lt;Amount&gt; amount = new ArrayList&lt;&gt;();\n             amountdetails = mongoOpsTS.find(searchQuery, Amount.class);\n            Amount.addAll(amountdetails);\n</code></pre>\n"},{"tags":["java","intellij-idea","indexing","vaadin","vaadin-designer"],"comments":[{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1698735655,"post_id":77392531,"comment_id":136439590,"body_markdown":"Hello, in the error log, it seems something is wrong with the plugin https://plugins.jetbrains.com/plugin/9519-vaadin-designer , I suggest you fire issues at https://github.com/vaadin/designer to let the plugin developers look into it.","body":"Hello, in the error log, it seems something is wrong with the plugin <a href=\"https://plugins.jetbrains.com/plugin/9519-vaadin-designer\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/9519-vaadin-designer</a> , I suggest you fire issues at <a href=\"https://github.com/vaadin/designer\" rel=\"nofollow noreferrer\">github.com/vaadin/designer</a> to let the plugin developers look into it."}],"answers":[{"tags":[],"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1698719172,"creation_date":1698719172,"answer_id":77392842,"question_id":77392531,"body_markdown":"in idea.log, there is an error message about &quot;java.lang.Throwable: AWT events are not allowed inside write action: java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@2f61d502,notifier=null,catchExceptions=false,when=1698710866849] on sun.awt.windows.WToolkit@2ab4392b&quot;\r\n\r\nI searched the browser for this error.\r\n\r\n &quot;AWT events are not allowed inside write action&quot; error message typically indicates that an AWT event, such as a UI update, is being triggered from within a write action in a Swing application.\r\n\r\nAnd this error in ApplicationImpl.java:182\r\n\r\nCould that be the problem? You can check it first.","title":"InteliJ Vaadin Designer plugin causes infinite &quot;scanning files to index&quot;","body":"<p>in idea.log, there is an error message about &quot;java.lang.Throwable: AWT events are not allowed inside write action: java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@2f61d502,notifier=null,catchExceptions=false,when=1698710866849] on sun.awt.windows.WToolkit@2ab4392b&quot;</p>\n<p>I searched the browser for this error.</p>\n<p>&quot;AWT events are not allowed inside write action&quot; error message typically indicates that an AWT event, such as a UI update, is being triggered from within a write action in a Swing application.</p>\n<p>And this error in ApplicationImpl.java:182</p>\n<p>Could that be the problem? You can check it first.</p>\n"}],"owner":{"account_id":15563264,"reputation":424,"user_id":11227835,"display_name":"Astarno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698806166,"creation_date":1698711800,"question_id":77392531,"body_markdown":"I recently setup a new Spring Boot project using Maven, Java 21 and Vaadin 14.10.9. I use IntelliJ as my IDE. Because I am using Vaadin, I installed the &quot;Vaadin Designer&quot; pluging. When I try to open the project without this plugin enabled, everything works fine. However, as soon as I enable this plugin my project always gets stuck on &quot;scanning files to index&quot;, seemingly making no progress (for several hours). This looks as follows:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nNote that neither progress bar, be it the one in the middle or at the bottom, shows any sign of progress. They do have a small animation as if something is happening though. When I press &#39;cancel&#39;, IntelliJ continues as normal and I can run the program as usual. However, it does complain about installing several `npm` libraries that are already installed.\r\n\r\nThe last few entries of the idea.log file look as follows while the indexing is stuck:\r\n\r\n```lang-none\r\n...\r\n2023-10-31 01:07:46,904 [  20845]   INFO - #c.i.w.i.i.EntitiesOrphanageImpl - Update orphanage. 0 modules added\r\n2023-10-31 01:07:46,905 [  20846]   INFO - #c.i.w.i.i.WorkspaceModelImpl - Project model updated to version 10 in 7 ms: Root model commit\r\n2023-10-31 01:07:46,922 [  20863] SEVERE - #c.i.o.a.i.ApplicationImpl - AWT events are not allowed inside write action: java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@2f61d502,notifier=null,catchExceptions=false,when=1698710866849] on sun.awt.windows.WToolkit@2ab4392b\r\njava.lang.Throwable: AWT events are not allowed inside write action: java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@2f61d502,notifier=null,catchExceptions=false,when=1698710866849] on sun.awt.windows.WToolkit@2ab4392b\r\n    at com.intellij.openapi.diagnostic.Logger.error(Logger.java:370)\r\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$postInit$0(ApplicationImpl.java:182)\r\n    at com.intellij.ide.IdeEventQueue.runCustomProcessors(IdeEventQueue.kt:424)\r\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:384)\r\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:400)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupportKt.pumpEventsForHierarchy(PlatformTaskSupport.kt:379)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupportKt.access$pumpEventsForHierarchy(PlatformTaskSupport.kt:1)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$2.invoke(PlatformTaskSupport.kt:157)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$2.invoke(PlatformTaskSupport.kt:135)\r\n    at com.intellij.openapi.application.impl.ModalityKt.inModalContext(modality.kt:12)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport.runWithModalProgressBlockingInternal(PlatformTaskSupport.kt:135)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport.access$runWithModalProgressBlockingInternal(PlatformTaskSupport.kt:41)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$1.invoke(PlatformTaskSupport.kt:123)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$1.invoke(PlatformTaskSupport.kt:119)\r\n    at com.intellij.openapi.progress.ContextKt.prepareThreadContext(context.kt:94)\r\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport.runWithModalProgressBlockingInternal(PlatformTaskSupport.kt:119)\r\n    at com.intellij.openapi.progress.TasksKt.runWithModalProgressBlocking(tasks.kt:167)\r\n    at com.intellij.ide.impl.ProjectUtilKt.runUnderModalProgressIfIsEdt(ProjectUtil.kt:710)\r\n    at com.intellij.openapi.project.impl.ProjectImpl.save(ProjectImpl.kt:364)\r\n    at com.vaadin.designer2.intellij.editor.flow.NodeServerModuleComponent.lambda$indexNodeModules$1(NodeServerModuleComponent.java:98)\r\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:992)\r\n    at com.vaadin.designer2.intellij.editor.flow.NodeServerModuleComponent.indexNodeModules(NodeServerModuleComponent.java:96)\r\n    at com.vaadin.designer2.intellij.editor.flow.NodeServerModuleComponent.lambda$indexNodeLater$0(NodeServerModuleComponent.java:70)\r\n    at com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:208)\r\n    at com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:21)\r\n    at com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:190)\r\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\r\n    at com.intellij.openapi.application.impl.ApplicationImpl$4.run(ApplicationImpl.java:478)\r\n    at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:79)\r\n    at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:121)\r\n    at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:41)\r\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:792)\r\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\r\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:733)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:761)\r\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:685)\r\n    at com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$10(IdeEventQueue.kt:589)\r\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWithoutImplicitRead(ApplicationImpl.java:1485)\r\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:589)\r\n    at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:67)\r\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:369)\r\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:368)\r\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\r\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:368)\r\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:363)\r\n    at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:992)\r\n    at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:105)\r\n    at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:992)\r\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:363)\r\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\r\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:405)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n2023-10-31 01:07:46,926 [  20867] SEVERE - #c.i.o.a.i.ApplicationImpl - IntelliJ IDEA 2023.2.2  Build #IU-232.9921.47\r\n2023-10-31 01:07:46,926 [  20867] SEVERE - #c.i.o.a.i.ApplicationImpl - JDK: 17.0.8; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\r\n2023-10-31 01:07:46,927 [  20868] SEVERE - #c.i.o.a.i.ApplicationImpl - OS: Windows 11\r\n2023-10-31 01:07:46,927 [  20868] SEVERE - #c.i.o.a.i.ApplicationImpl - Plugin to blame: Vaadin Designer version: 4.6.23\r\n2023-10-31 01:07:49,711 [  23652]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - KCRI storage is closed (didn&#39;t exist)\r\n2023-10-31 01:07:49,712 [  23653]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is closed (didn&#39;t exist)\r\n2023-10-31 01:07:53,230 [  27171]   INFO - #c.i.c.b.IsUpToDateCheckStartupActivity - isUpToDate = true\r\n2023-10-31 01:08:30,703 [  64644]   INFO - #c.i.u.g.s.GistStorageImpl - Cleaning old huge-gists dirs from [C:\\Users\\a98016721\\AppData\\Local\\JetBrains\\IntelliJIdea2023.2\\caches\\huge-gists] ...\r\n```\r\n\r\nWhen I click on &#39;cancel&#39;, the first few entries of the idea.log file that get added after the previous snippet are the following:\r\n\r\n```lang-none\r\n2023-10-31 01:13:32,859 [ 366800]   INFO - #c.i.c.ComponentStoreImpl - Saving Module: &#39;CobotConnect&#39;designer2.settings took 345895 ms\r\n2023-10-31 01:13:32,946 [ 366887]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexService - initialized\r\n2023-10-31 01:13:32,952 [ 366893]   INFO - #c.i.l.j.l.t.TypeScriptExternalDefinitionsService - Type definition roots changed: project [CobotConnect], added/updated [], removed: [@types/lodash, @types/express]\r\n2023-10-31 01:13:32,955 [ 366896]   WARN - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - kotlin-data-container is not found\r\n2023-10-31 01:13:32,957 [ 366898]   INFO - #c.i.c.b.CompilerReferenceServiceBase - initialized\r\n```\r\n\r\nI have already tried:\r\n\r\n* Deleting my .idea folder\r\n* Invalidating Cache\r\n* Waiting for several hours\r\n\r\nNote that I have zScaler installed, for what it matters.\r\n\r\nWhat could cause this issue and how would I go about resolving it?\r\n\r\n  [1]: https://i.stack.imgur.com/ptQfX.png\r\n\r\n","title":"InteliJ Vaadin Designer plugin causes infinite &quot;scanning files to index&quot;","body":"<p>I recently setup a new Spring Boot project using Maven, Java 21 and Vaadin 14.10.9. I use IntelliJ as my IDE. Because I am using Vaadin, I installed the &quot;Vaadin Designer&quot; pluging. When I try to open the project without this plugin enabled, everything works fine. However, as soon as I enable this plugin my project always gets stuck on &quot;scanning files to index&quot;, seemingly making no progress (for several hours). This looks as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/ptQfX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptQfX.png\" alt=\"Enter image description here\" /></a></p>\n<p>Note that neither progress bar, be it the one in the middle or at the bottom, shows any sign of progress. They do have a small animation as if something is happening though. When I press 'cancel', IntelliJ continues as normal and I can run the program as usual. However, it does complain about installing several <code>npm</code> libraries that are already installed.</p>\n<p>The last few entries of the idea.log file look as follows while the indexing is stuck:</p>\n<pre class=\"lang-none prettyprint-override\"><code>...\n2023-10-31 01:07:46,904 [  20845]   INFO - #c.i.w.i.i.EntitiesOrphanageImpl - Update orphanage. 0 modules added\n2023-10-31 01:07:46,905 [  20846]   INFO - #c.i.w.i.i.WorkspaceModelImpl - Project model updated to version 10 in 7 ms: Root model commit\n2023-10-31 01:07:46,922 [  20863] SEVERE - #c.i.o.a.i.ApplicationImpl - AWT events are not allowed inside write action: java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@2f61d502,notifier=null,catchExceptions=false,when=1698710866849] on sun.awt.windows.WToolkit@2ab4392b\njava.lang.Throwable: AWT events are not allowed inside write action: java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@2f61d502,notifier=null,catchExceptions=false,when=1698710866849] on sun.awt.windows.WToolkit@2ab4392b\n    at com.intellij.openapi.diagnostic.Logger.error(Logger.java:370)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$postInit$0(ApplicationImpl.java:182)\n    at com.intellij.ide.IdeEventQueue.runCustomProcessors(IdeEventQueue.kt:424)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:384)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:400)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupportKt.pumpEventsForHierarchy(PlatformTaskSupport.kt:379)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupportKt.access$pumpEventsForHierarchy(PlatformTaskSupport.kt:1)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$2.invoke(PlatformTaskSupport.kt:157)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$2.invoke(PlatformTaskSupport.kt:135)\n    at com.intellij.openapi.application.impl.ModalityKt.inModalContext(modality.kt:12)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport.runWithModalProgressBlockingInternal(PlatformTaskSupport.kt:135)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport.access$runWithModalProgressBlockingInternal(PlatformTaskSupport.kt:41)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$1.invoke(PlatformTaskSupport.kt:123)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport$runWithModalProgressBlockingInternal$1.invoke(PlatformTaskSupport.kt:119)\n    at com.intellij.openapi.progress.ContextKt.prepareThreadContext(context.kt:94)\n    at com.intellij.openapi.progress.impl.PlatformTaskSupport.runWithModalProgressBlockingInternal(PlatformTaskSupport.kt:119)\n    at com.intellij.openapi.progress.TasksKt.runWithModalProgressBlocking(tasks.kt:167)\n    at com.intellij.ide.impl.ProjectUtilKt.runUnderModalProgressIfIsEdt(ProjectUtil.kt:710)\n    at com.intellij.openapi.project.impl.ProjectImpl.save(ProjectImpl.kt:364)\n    at com.vaadin.designer2.intellij.editor.flow.NodeServerModuleComponent.lambda$indexNodeModules$1(NodeServerModuleComponent.java:98)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:992)\n    at com.vaadin.designer2.intellij.editor.flow.NodeServerModuleComponent.indexNodeModules(NodeServerModuleComponent.java:96)\n    at com.vaadin.designer2.intellij.editor.flow.NodeServerModuleComponent.lambda$indexNodeLater$0(NodeServerModuleComponent.java:70)\n    at com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:208)\n    at com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:21)\n    at com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:190)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\n    at com.intellij.openapi.application.impl.ApplicationImpl$4.run(ApplicationImpl.java:478)\n    at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:79)\n    at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:121)\n    at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:41)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:792)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:733)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:761)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:685)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$10(IdeEventQueue.kt:589)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWithoutImplicitRead(ApplicationImpl.java:1485)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:589)\n    at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:67)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:369)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:368)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:368)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:363)\n    at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:992)\n    at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:105)\n    at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:992)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:363)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:405)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n2023-10-31 01:07:46,926 [  20867] SEVERE - #c.i.o.a.i.ApplicationImpl - IntelliJ IDEA 2023.2.2  Build #IU-232.9921.47\n2023-10-31 01:07:46,926 [  20867] SEVERE - #c.i.o.a.i.ApplicationImpl - JDK: 17.0.8; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\n2023-10-31 01:07:46,927 [  20868] SEVERE - #c.i.o.a.i.ApplicationImpl - OS: Windows 11\n2023-10-31 01:07:46,927 [  20868] SEVERE - #c.i.o.a.i.ApplicationImpl - Plugin to blame: Vaadin Designer version: 4.6.23\n2023-10-31 01:07:49,711 [  23652]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - KCRI storage is closed (didn't exist)\n2023-10-31 01:07:49,712 [  23653]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is closed (didn't exist)\n2023-10-31 01:07:53,230 [  27171]   INFO - #c.i.c.b.IsUpToDateCheckStartupActivity - isUpToDate = true\n2023-10-31 01:08:30,703 [  64644]   INFO - #c.i.u.g.s.GistStorageImpl - Cleaning old huge-gists dirs from [C:\\Users\\a98016721\\AppData\\Local\\JetBrains\\IntelliJIdea2023.2\\caches\\huge-gists] ...\n</code></pre>\n<p>When I click on 'cancel', the first few entries of the idea.log file that get added after the previous snippet are the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-10-31 01:13:32,859 [ 366800]   INFO - #c.i.c.ComponentStoreImpl - Saving Module: 'CobotConnect'designer2.settings took 345895 ms\n2023-10-31 01:13:32,946 [ 366887]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexService - initialized\n2023-10-31 01:13:32,952 [ 366893]   INFO - #c.i.l.j.l.t.TypeScriptExternalDefinitionsService - Type definition roots changed: project [CobotConnect], added/updated [], removed: [@types/lodash, @types/express]\n2023-10-31 01:13:32,955 [ 366896]   WARN - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - kotlin-data-container is not found\n2023-10-31 01:13:32,957 [ 366898]   INFO - #c.i.c.b.CompilerReferenceServiceBase - initialized\n</code></pre>\n<p>I have already tried:</p>\n<ul>\n<li>Deleting my .idea folder</li>\n<li>Invalidating Cache</li>\n<li>Waiting for several hours</li>\n</ul>\n<p>Note that I have zScaler installed, for what it matters.</p>\n<p>What could cause this issue and how would I go about resolving it?</p>\n"},{"tags":["java","spring-boot","springdoc"],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698805707,"creation_date":1698805707,"question_id":77400019,"body_markdown":"I&#39;m using validation-api with Springdoc in my Spring boot application.\r\n\r\nI want to use single DTO class in similar requests.\r\n\r\nSpringdoc checks validation-api&#39;s annotations, like ```@NotBlank```, ```@NotNull```. But doesn&#39;t check it&#39;s groups ```@NotBlank(groups = {GetGroup.class})```.\r\n\r\n```\r\npublic class MyController {\r\n  \r\n  @GetMapping\r\n  public MyResponseDto getFoo(@ParameterObject @Validated(GetGroup.class) MyRequestDto request) {\r\n    ...\r\n  }\r\n\r\n  @PostMapping\r\n  public Long postFoo(@ParameterObject @Validated(PostGroup.class) MyRequestDto request) {\r\n    ...\r\n  }\r\n}\r\n\r\npublic class MyRequestDto {\r\n  \r\n  @NotNull(group = {GetGroup.class})\r\n  private String field01;\r\n\r\n  @NotNull(group = {PostGroup.class})\r\n  private String field02;\r\n}\r\n```\r\n\r\nThe ```field01``` required in ```@Validated(GetGroup.class)```, and ```field02``` required in ```@Validated(PostGroup.class)``` without Springdoc.\r\n\r\nBut Springdoc recognize them required fields.\r\n\r\nHow can I solve this problem?\r\n\r\nThis [link](https://github.com/springdoc/springdoc-openapi/issues/510) is same issue.\r\n","title":"How can I use validation-api groups with springdoc?","body":"<p>I'm using validation-api with Springdoc in my Spring boot application.</p>\n<p>I want to use single DTO class in similar requests.</p>\n<p>Springdoc checks validation-api's annotations, like <code>@NotBlank</code>, <code>@NotNull</code>. But doesn't check it's groups <code>@NotBlank(groups = {GetGroup.class})</code>.</p>\n<pre><code>public class MyController {\n  \n  @GetMapping\n  public MyResponseDto getFoo(@ParameterObject @Validated(GetGroup.class) MyRequestDto request) {\n    ...\n  }\n\n  @PostMapping\n  public Long postFoo(@ParameterObject @Validated(PostGroup.class) MyRequestDto request) {\n    ...\n  }\n}\n\npublic class MyRequestDto {\n  \n  @NotNull(group = {GetGroup.class})\n  private String field01;\n\n  @NotNull(group = {PostGroup.class})\n  private String field02;\n}\n</code></pre>\n<p>The <code>field01</code> required in <code>@Validated(GetGroup.class)</code>, and <code>field02</code> required in <code>@Validated(PostGroup.class)</code> without Springdoc.</p>\n<p>But Springdoc recognize them required fields.</p>\n<p>How can I solve this problem?</p>\n<p>This <a href=\"https://github.com/springdoc/springdoc-openapi/issues/510\" rel=\"nofollow noreferrer\">link</a> is same issue.</p>\n"},{"tags":["java","jar","pipe"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698806806,"post_id":77399823,"comment_id":136451208,"body_markdown":"You are piping to a *process* which happens to be running a JVM, not to a jar file!","body":"You are piping to a <i>process</i> which happens to be running a JVM, not to a jar file!"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698805683,"creation_date":1698805683,"answer_id":77400017,"question_id":77399823,"body_markdown":"&gt;  easiest way being through `String[] args`\r\n\r\nimpossible.\r\n\r\nThe file will be available as `System.in`.\r\n\r\nHere&#39;s a trivial program that prints sysin right back out, adding line numbers visually. `cat` with extra steps. Now you know how to use System.in. Note, if System.in contains byte-based data, obviously don&#39;t wrap it in readers (which are for char based data). Just read bytes straight from it.\r\n\r\n```\r\n&gt; cat Test.java\r\nimport java.io.*;\r\n\r\nclass Test {\r\n  public static void main(String[] args) throws Exception {\r\n    var in = new BufferedReader(new InputStreamReader(System.in));\r\n    int lineNum = 1;\r\n    while (true) {\r\n      String line = in.readLine();\r\n      if (line == null) break;\r\n      System.out.printf(&quot;%6d. %s\\n&quot;, lineNum++, line);\r\n    }\r\n  }\r\n}\r\n\r\n&gt; cat hello.txt\r\nHello!\r\nWorld!\r\n&gt; cat hello.txt | java Test.java\r\n     1. Hello!\r\n     2. World!\r\n```\r\n","title":"Piping cat output into a Java jar through the terminal","body":"<blockquote>\n<p>easiest way being through <code>String[] args</code></p>\n</blockquote>\n<p>impossible.</p>\n<p>The file will be available as <code>System.in</code>.</p>\n<p>Here's a trivial program that prints sysin right back out, adding line numbers visually. <code>cat</code> with extra steps. Now you know how to use System.in. Note, if System.in contains byte-based data, obviously don't wrap it in readers (which are for char based data). Just read bytes straight from it.</p>\n<pre><code>&gt; cat Test.java\nimport java.io.*;\n\nclass Test {\n  public static void main(String[] args) throws Exception {\n    var in = new BufferedReader(new InputStreamReader(System.in));\n    int lineNum = 1;\n    while (true) {\n      String line = in.readLine();\n      if (line == null) break;\n      System.out.printf(&quot;%6d. %s\\n&quot;, lineNum++, line);\n    }\n  }\n}\n\n&gt; cat hello.txt\nHello!\nWorld!\n&gt; cat hello.txt | java Test.java\n     1. Hello!\n     2. World!\n</code></pre>\n"}],"owner":{"account_id":29356703,"reputation":47,"user_id":22837029,"display_name":"Jack Sack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77400017,"answer_count":1,"score":0,"last_activity_date":1698805683,"creation_date":1698801101,"question_id":77399823,"body_markdown":"I have a JAR file that will require use of the standard input. I need to use this command and cannot change it:\r\n\r\n```\r\ncat filename | java -jar jarname.jar\r\n```\r\n\r\nI want this to be accessible to the JAR somehow, easiest way being through `String[] args`. The problem is that this the result of `cat filename` doesn&#39;t show up in `String[] args`, or in any way for me to make use of it. I&#39;ve tried searching this up for some time, but all I get is questions pertaining to writing java output to files using the pipe.","title":"Piping cat output into a Java jar through the terminal","body":"<p>I have a JAR file that will require use of the standard input. I need to use this command and cannot change it:</p>\n<pre><code>cat filename | java -jar jarname.jar\n</code></pre>\n<p>I want this to be accessible to the JAR somehow, easiest way being through <code>String[] args</code>. The problem is that this the result of <code>cat filename</code> doesn't show up in <code>String[] args</code>, or in any way for me to make use of it. I've tried searching this up for some time, but all I get is questions pertaining to writing java output to files using the pipe.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":450766,"reputation":1257,"user_id":846264,"accept_rate":100,"display_name":"rebeliagamer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568206442,"creation_date":1568206442,"answer_id":57889667,"question_id":57889575,"body_markdown":"Please try `server.max-http-header-size`. I have found it here: [Common application properties][1].\r\n\r\nThe default value for Tomcat and Jetty is 8KB and for Undertow is 1MB.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"How to set max-http-header-size in Spring Boot 2.x application","body":"<p>Please try <code>server.max-http-header-size</code>. I have found it here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Common application properties</a>.</p>\n\n<p>The default value for Tomcat and Jetty is 8KB and for Undertow is 1MB.</p>\n"},{"tags":[],"owner":{"account_id":14695699,"reputation":304,"user_id":10613152,"display_name":"Vicent Morera Orchilles"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1568207993,"creation_date":1568207993,"answer_id":57890174,"question_id":57889575,"body_markdown":"You should set on the &quot;application.properties&quot; file:\r\n```\r\nserver.max-http-header-size=48000\r\n```\r\n48000 is an example of an excessive header, put whatever you want.","title":"How to set max-http-header-size in Spring Boot 2.x application","body":"<p>You should set on the \"application.properties\" file:</p>\n\n<pre><code>server.max-http-header-size=48000\n</code></pre>\n\n<p>48000 is an example of an excessive header, put whatever you want.</p>\n"},{"tags":[],"owner":{"account_id":232720,"reputation":1625,"user_id":497753,"accept_rate":70,"display_name":"Mannie"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1586169742,"creation_date":1586169742,"answer_id":61057951,"question_id":57889575,"body_markdown":"From Spring boot 2.1, you will now need to use a `DataSize` parsable value. e.g. \r\n\r\n    server.max-http-header-size=40KB","title":"How to set max-http-header-size in Spring Boot 2.x application","body":"<p>From Spring boot 2.1, you will now need to use a <code>DataSize</code> parsable value. e.g. </p>\n\n<pre><code>server.max-http-header-size=40KB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3115134,"reputation":1106,"user_id":2636081,"accept_rate":71,"display_name":"Shai Givati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603263522,"creation_date":1603263522,"answer_id":64458203,"question_id":57889575,"body_markdown":"In spring boot 1.3.5.RELEASE what worked for me is setting the following entry in application.properties: \r\n\r\n    server.tomcat.max-http-header-size=100000\r\n","title":"How to set max-http-header-size in Spring Boot 2.x application","body":"<p>In spring boot 1.3.5.RELEASE what worked for me is setting the following entry in application.properties:</p>\n<pre><code>server.tomcat.max-http-header-size=100000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685692815,"creation_date":1685692815,"answer_id":76388234,"question_id":57889575,"body_markdown":"The `max-http-header-size` property is deprecated since Spring Boot 3.\r\n\r\nNow you can use `max-http-request-header-size`:\r\n\r\n``` lang-yaml\r\nserver:\r\n    max-http-request-header-size: 12KB\r\n```\r\n\r\nNote: the value must be a `DataSize`, which is very clean. You can use `1KB` instead of `1000`. [DataSize docs][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/unit/DataSize.html","title":"How to set max-http-header-size in Spring Boot 2.x application","body":"<p>The <code>max-http-header-size</code> property is deprecated since Spring Boot 3.</p>\n<p>Now you can use <code>max-http-request-header-size</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n    max-http-request-header-size: 12KB\n</code></pre>\n<p>Note: the value must be a <code>DataSize</code>, which is very clean. You can use <code>1KB</code> instead of <code>1000</code>. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/unit/DataSize.html\" rel=\"nofollow noreferrer\">DataSize docs</a></p>\n"}],"owner":{"account_id":1289848,"reputation":3301,"user_id":1242148,"accept_rate":100,"display_name":"Mindaugas Jaraminas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47841,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":57890174,"answer_count":5,"score":21,"last_activity_date":1698805369,"creation_date":1568206154,"question_id":57889575,"body_markdown":"I have Spring boot app running Java 11:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I am getting the error: `java.lang.IllegalArgumentException: Request header is too large`\r\n\r\nHow to increase `max-http-header-size`?\r\n","title":"How to set max-http-header-size in Spring Boot 2.x application","body":"<p>I have Spring boot app running Java 11:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And I am getting the error: <code>java.lang.IllegalArgumentException: Request header is too large</code></p>\n\n<p>How to increase <code>max-http-header-size</code>?</p>\n"},{"tags":["java","generics","type-parameter"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1698283358,"post_id":77363619,"comment_id":136386811,"body_markdown":"What&#39;s wrong with the first version - `IHuman&lt;K, V&gt;`? I didn&#39;t understand your explanation.","body":"What&#39;s wrong with the first version - <code>IHuman&lt;K, V&gt;</code>? I didn&#39;t understand your explanation."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1698283873,"post_id":77363619,"comment_id":136386853,"body_markdown":"Unclear what you&#39;re trying to achieve.","body":"Unclear what you&#39;re trying to achieve."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1698373141,"post_id":77363619,"comment_id":136400211,"body_markdown":"The point of a generic method is that the caller dictates what types they are. You can&#39;t just assume `K` and `V` are String.","body":"The point of a generic method is that the caller dictates what types they are. You can&#39;t just assume <code>K</code> and <code>V</code> are String."}],"answers":[{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698804817,"creation_date":1698804817,"answer_id":77399979,"question_id":77363619,"body_markdown":"TL;DR Your method isn&#39;t compiling in the second case because in the second case, the method is a &quot;generic method&quot;, without letting the calling code set the type parameters. For reference, see the [Java Tutorial pertaining to Generic Methods][1].\r\n\r\nNow for the more detailed version of the answer...\r\n\r\nIn the first example of the question, the type parameters are on the interface, `IHuman`, and are populated by the implementing class, `MaleHuman`. The method is not generic in the first example, only the interface is. The implementing class sets the type parameters, since they are on the type, and not the method.\r\n\r\nIn the second example, the interface and implementing class are no longer generic. But, the declared method, `execute()` is now a generic method. This generic method doesn&#39;t just have a parameter, `request`. Instead, it has two new &quot;type parameters&quot;, `K` and `V`. None of these parameters are meant to be set by the implementation of the method. *These parameters are meant to be set by the caller.* Setting the type parameters `K` and `V` in the implementation is analogous to writing a version of the method where the method, itself, sets the `request` parameter. Parameters are variable by nature. By setting the type parameters as is the case in the second version of the implementation, they are no longer parameters, as they are no longer variables set by the caller, even though `IHuman` declares them to be parameters.\r\n\r\nNote that the key difference between the first implementation and the second implementation is that for the first implementation, the implementing class is meant to set the type parameters, whereas for the second implementation, the calling code is meant to set the type parameters.\r\n\r\nI hope that helps.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/methods.html#:~:text=Generic%20methods%20are%20methods%20that,well%20as%20generic%20class%20constructors.","title":"Java interface generic method implementation problems","body":"<p>TL;DR Your method isn't compiling in the second case because in the second case, the method is a &quot;generic method&quot;, without letting the calling code set the type parameters. For reference, see the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html#:%7E:text=Generic%20methods%20are%20methods%20that,well%20as%20generic%20class%20constructors.\" rel=\"nofollow noreferrer\">Java Tutorial pertaining to Generic Methods</a>.</p>\n<p>Now for the more detailed version of the answer...</p>\n<p>In the first example of the question, the type parameters are on the interface, <code>IHuman</code>, and are populated by the implementing class, <code>MaleHuman</code>. The method is not generic in the first example, only the interface is. The implementing class sets the type parameters, since they are on the type, and not the method.</p>\n<p>In the second example, the interface and implementing class are no longer generic. But, the declared method, <code>execute()</code> is now a generic method. This generic method doesn't just have a parameter, <code>request</code>. Instead, it has two new &quot;type parameters&quot;, <code>K</code> and <code>V</code>. None of these parameters are meant to be set by the implementation of the method. <em>These parameters are meant to be set by the caller.</em> Setting the type parameters <code>K</code> and <code>V</code> in the implementation is analogous to writing a version of the method where the method, itself, sets the <code>request</code> parameter. Parameters are variable by nature. By setting the type parameters as is the case in the second version of the implementation, they are no longer parameters, as they are no longer variables set by the caller, even though <code>IHuman</code> declares them to be parameters.</p>\n<p>Note that the key difference between the first implementation and the second implementation is that for the first implementation, the implementing class is meant to set the type parameters, whereas for the second implementation, the calling code is meant to set the type parameters.</p>\n<p>I hope that helps.</p>\n"}],"owner":{"account_id":17742318,"reputation":27,"user_id":12882330,"display_name":"HashMap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1698805289,"creation_date":1698283046,"question_id":77363619,"body_markdown":"I have an interface `IHuman.java`\r\n```java\r\npublic interface IHuman&lt;K, V&gt; {\r\n    V execute(K request) throws Exception;\r\n}\r\n```\r\nand I have an implementation, `MaleHuman.java`\r\n\r\n```java\r\npublic class MaleHuman implements IHuman&lt;String, String&gt; {\r\n    @Override\r\n    public String execute(String request) throws Exception {\r\n        return ...;\r\n    }\r\n}\r\n```\r\n\r\nAccording to the generic method in the above interface, the sub-class implementation will not report an error. \r\n\r\nHowever, if the method itself declares the type variables `&lt;K, V&gt;`, this implementation will no longer be valid:\r\n\r\nInterface `IHuman` changed:\r\n\r\n```java\r\npublic interface IHuman {\r\n    &lt;K, V&gt; V execute(K request) throws Exception;\r\n}\r\n```\r\n\r\nIf I implement the interface the same as before, it will cause a compilation error:\r\n\r\n```java\r\npublic class MaleHuman implements IHuman {\r\n    @Override\r\n    public String execute(String request) throws Exception {\r\n        return ...;\r\n    }\r\n}\r\n```\r\nGeneric types `&lt;K，V&gt;` can no longer be set to `String`.\r\n\r\nWith the interface changed, what would be the correct way to  write the `MaleHuman` implementation class?","title":"Java interface generic method implementation problems","body":"<p>I have an interface <code>IHuman.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IHuman&lt;K, V&gt; {\n    V execute(K request) throws Exception;\n}\n</code></pre>\n<p>and I have an implementation, <code>MaleHuman.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MaleHuman implements IHuman&lt;String, String&gt; {\n    @Override\n    public String execute(String request) throws Exception {\n        return ...;\n    }\n}\n</code></pre>\n<p>According to the generic method in the above interface, the sub-class implementation will not report an error.</p>\n<p>However, if the method itself declares the type variables <code>&lt;K, V&gt;</code>, this implementation will no longer be valid:</p>\n<p>Interface <code>IHuman</code> changed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IHuman {\n    &lt;K, V&gt; V execute(K request) throws Exception;\n}\n</code></pre>\n<p>If I implement the interface the same as before, it will cause a compilation error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MaleHuman implements IHuman {\n    @Override\n    public String execute(String request) throws Exception {\n        return ...;\n    }\n}\n</code></pre>\n<p>Generic types <code>&lt;K，V&gt;</code> can no longer be set to <code>String</code>.</p>\n<p>With the interface changed, what would be the correct way to  write the <code>MaleHuman</code> implementation class?</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1535249598,"creation_date":1535249598,"answer_id":52022666,"question_id":52001302,"body_markdown":"I think you have some fundamental misunderstandings about log4j2. Rather than me trying to list all of the issues I see in your code, I think the best thing to do is for me to provide some sample code and explain the output. I think when you see some working code you&#39;ll understand where you went wrong. \r\n\r\nFor the purposes of this example I simplified your log4j2 configuration file by removing the elements that appear to be working and focusing on those that are not. I changed the `PatternLayout` to the following: \r\n\r\n    &lt;PatternLayout pattern=&quot;{&#39;LEVEL&#39; : &#39;%level&#39;, &#39;typeFromStructMsg&#39; : &#39;${sd:type}&#39;, &#39;contextValue&#39; : &#39;${ctx:myContextKey}&#39;, &#39;nameFromMapMsg&#39; : &#39;${map:name}&#39;, &#39;mySysProperty&#39; : &#39;${sys:mySysProperty}&#39;}%n&quot; /&gt;\r\n    \t\t\r\nI also modified the `App` class you provided: \r\n\r\n    package example;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.ThreadContext;\r\n    import org.apache.logging.log4j.message.MapMessage;\r\n    import org.apache.logging.log4j.message.StringFormattedMessage;\r\n    import org.apache.logging.log4j.message.StringMapMessage;\r\n    import org.apache.logging.log4j.message.StructuredDataMessage;\r\n    \r\n    \r\n    public class App {\r\n    \r\n    \tprivate static final Logger logger = LogManager.getLogger();\r\n    \t\r\n    \tpublic static void main( String[] args )\r\n        {\r\n    \t\tThreadContext.put(&quot;myContextKey&quot;, &quot;myContextValue&quot;);\r\n    \r\n            StructuredDataMessage structMsg = new StructuredDataMessage(&quot;1&quot;, &quot;name&quot;, &quot;string&quot;);\r\n    \r\n            StringMapMessage mapMsg = new StringMapMessage();\r\n            mapMsg.put(&quot;name&quot;, &quot;arun&quot;);\r\n    \r\n            System.setProperty(&quot;mySysProperty&quot;, &quot;sys prop value&quot;);\r\n            \r\n            logger.info(mapMsg);\r\n            logger.warn(structMsg);\r\n            \r\n            logger.error(&quot;Error log message&quot;);\r\n        }\r\n    }\r\n\r\nWhen the `App` class is run, the following console output is generated: \r\n\r\n    {&#39;LEVEL&#39; : &#39;INFO&#39;, &#39;typeFromStructMsg&#39; : &#39;${sd:type}&#39;, &#39;contextValue&#39; : &#39;myContextValue&#39;, &#39;nameFromMapMsg&#39; : &#39;arun&#39;, &#39;mySysProperty&#39; : &#39;sys prop value&#39;}\r\n    {&#39;LEVEL&#39; : &#39;WARN&#39;, &#39;typeFromStructMsg&#39; : &#39;string&#39;, &#39;contextValue&#39; : &#39;myContextValue&#39;, &#39;nameFromMapMsg&#39; : &#39;${map:name}&#39;, &#39;mySysProperty&#39; : &#39;sys prop value&#39;}\r\n    {&#39;LEVEL&#39; : &#39;ERROR&#39;, &#39;typeFromStructMsg&#39; : &#39;${sd:type}&#39;, &#39;contextValue&#39; : &#39;myContextValue&#39;, &#39;nameFromMapMsg&#39; : &#39;${map:name}&#39;, &#39;mySysProperty&#39; : &#39;sys prop value&#39;}\r\n\r\nNotice that in the first line of output we see this: `&#39;nameFromMapMsg&#39; : &#39;arun&#39;` while in other lines we see this: `&#39;nameFromMapMsg&#39; : &#39;${map:name}&#39;`\r\n\r\nThe first line of output is generated by this line of code: `logger.info(mapMsg);` which passes an instance of a `MapMessage` called `mapMsg` to the `info` method. Since the message is an instance of `MapMessage` and it contains a key called `name` the map lookup will replace `${map:name}` with the value it finds for the `name` key within the message. This is why only the first line of output shows `&#39;nameFromMapMsg&#39; : &#39;arun&#39;` - the other output lines are generated from messages that are **not** an instance of `MapMessage`.\r\n\r\nSimilarly, notice how in the second line of output we see `&#39;typeFromStructMsg&#39; : &#39;string&#39;`. This is because the log was generated from a `StructuredDataMessage`, which was defined with a type of &quot;string&quot;: \r\n\r\n`StructuredDataMessage structMsg = new StructuredDataMessage(&quot;1&quot;, &quot;name&quot;, &quot;string&quot;);`\r\n\r\nIn other lines of the output we did not pass a `StructuredDataMessage` so in those lines we see `&#39;typeFromStructMsg&#39; : &#39;${sd:type}&#39;` as log4j2 can&#39;t find a value for the type.\r\n\r\nFinally, notice how that in all output lines we see this: `&#39;mySysProperty&#39; : &#39;sys prop value&#39;`. This is because the System Properties Lookup does not depend on the type of message passed to the logger. This lookup is always able to find a value for the system property `mySysProperty` because we defined it: \r\n\r\n    System.setProperty(&quot;mySysProperty&quot;, &quot;sys prop value&quot;);\r\n\r\nand, as I said before, system properties are independent of the message (they are not stored within the message).\r\n\r\nThe same is true for `&#39;contextValue&#39; : &#39;myContextValue&#39;` - the `ThreadContext` is independent of the message and since we defined a value for this key: \r\n\r\n    ThreadContext.put(&quot;myContextKey&quot;, &quot;myContextValue&quot;);\r\n\r\nthe lookup is always able to find the value regardless of the kind of message sent to the logger.\r\n\r\nI hope this example code helps to illustrate how some of the lookups are used and some of how the architecture of log4j2 is designed. Best of luck!\r\n\r\n","title":"Passing dynamic value to log4j2 xml config","body":"<p>I think you have some fundamental misunderstandings about log4j2. Rather than me trying to list all of the issues I see in your code, I think the best thing to do is for me to provide some sample code and explain the output. I think when you see some working code you'll understand where you went wrong. </p>\n\n<p>For the purposes of this example I simplified your log4j2 configuration file by removing the elements that appear to be working and focusing on those that are not. I changed the <code>PatternLayout</code> to the following: </p>\n\n<pre><code>&lt;PatternLayout pattern=\"{'LEVEL' : '%level', 'typeFromStructMsg' : '${sd:type}', 'contextValue' : '${ctx:myContextKey}', 'nameFromMapMsg' : '${map:name}', 'mySysProperty' : '${sys:mySysProperty}'}%n\" /&gt;\n</code></pre>\n\n<p>I also modified the <code>App</code> class you provided: </p>\n\n<pre><code>package example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ThreadContext;\nimport org.apache.logging.log4j.message.MapMessage;\nimport org.apache.logging.log4j.message.StringFormattedMessage;\nimport org.apache.logging.log4j.message.StringMapMessage;\nimport org.apache.logging.log4j.message.StructuredDataMessage;\n\n\npublic class App {\n\n    private static final Logger logger = LogManager.getLogger();\n\n    public static void main( String[] args )\n    {\n        ThreadContext.put(\"myContextKey\", \"myContextValue\");\n\n        StructuredDataMessage structMsg = new StructuredDataMessage(\"1\", \"name\", \"string\");\n\n        StringMapMessage mapMsg = new StringMapMessage();\n        mapMsg.put(\"name\", \"arun\");\n\n        System.setProperty(\"mySysProperty\", \"sys prop value\");\n\n        logger.info(mapMsg);\n        logger.warn(structMsg);\n\n        logger.error(\"Error log message\");\n    }\n}\n</code></pre>\n\n<p>When the <code>App</code> class is run, the following console output is generated: </p>\n\n<pre><code>{'LEVEL' : 'INFO', 'typeFromStructMsg' : '${sd:type}', 'contextValue' : 'myContextValue', 'nameFromMapMsg' : 'arun', 'mySysProperty' : 'sys prop value'}\n{'LEVEL' : 'WARN', 'typeFromStructMsg' : 'string', 'contextValue' : 'myContextValue', 'nameFromMapMsg' : '${map:name}', 'mySysProperty' : 'sys prop value'}\n{'LEVEL' : 'ERROR', 'typeFromStructMsg' : '${sd:type}', 'contextValue' : 'myContextValue', 'nameFromMapMsg' : '${map:name}', 'mySysProperty' : 'sys prop value'}\n</code></pre>\n\n<p>Notice that in the first line of output we see this: <code>'nameFromMapMsg' : 'arun'</code> while in other lines we see this: <code>'nameFromMapMsg' : '${map:name}'</code></p>\n\n<p>The first line of output is generated by this line of code: <code>logger.info(mapMsg);</code> which passes an instance of a <code>MapMessage</code> called <code>mapMsg</code> to the <code>info</code> method. Since the message is an instance of <code>MapMessage</code> and it contains a key called <code>name</code> the map lookup will replace <code>${map:name}</code> with the value it finds for the <code>name</code> key within the message. This is why only the first line of output shows <code>'nameFromMapMsg' : 'arun'</code> - the other output lines are generated from messages that are <strong>not</strong> an instance of <code>MapMessage</code>.</p>\n\n<p>Similarly, notice how in the second line of output we see <code>'typeFromStructMsg' : 'string'</code>. This is because the log was generated from a <code>StructuredDataMessage</code>, which was defined with a type of \"string\": </p>\n\n<p><code>StructuredDataMessage structMsg = new StructuredDataMessage(\"1\", \"name\", \"string\");</code></p>\n\n<p>In other lines of the output we did not pass a <code>StructuredDataMessage</code> so in those lines we see <code>'typeFromStructMsg' : '${sd:type}'</code> as log4j2 can't find a value for the type.</p>\n\n<p>Finally, notice how that in all output lines we see this: <code>'mySysProperty' : 'sys prop value'</code>. This is because the System Properties Lookup does not depend on the type of message passed to the logger. This lookup is always able to find a value for the system property <code>mySysProperty</code> because we defined it: </p>\n\n<pre><code>System.setProperty(\"mySysProperty\", \"sys prop value\");\n</code></pre>\n\n<p>and, as I said before, system properties are independent of the message (they are not stored within the message).</p>\n\n<p>The same is true for <code>'contextValue' : 'myContextValue'</code> - the <code>ThreadContext</code> is independent of the message and since we defined a value for this key: </p>\n\n<pre><code>ThreadContext.put(\"myContextKey\", \"myContextValue\");\n</code></pre>\n\n<p>the lookup is always able to find the value regardless of the kind of message sent to the logger.</p>\n\n<p>I hope this example code helps to illustrate how some of the lookups are used and some of how the architecture of log4j2 is designed. Best of luck!</p>\n"},{"tags":[],"owner":{"account_id":8917248,"reputation":66,"user_id":6655354,"display_name":"SpringFramework"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595472334,"creation_date":1595472334,"answer_id":63046082,"question_id":52001302,"body_markdown":"It is not feasible to edit the PatternLayout in the xml file itself, if the values are static and will remain the same then it works, else you need to implement custom pattern by extending inbuilt methods and then format your message accordingly.\r\nThe following link will let you know the same.\r\n \r\nhttps://blog.10pines.com/2020/03/02/log-custom-json-with-log4j2/","title":"Passing dynamic value to log4j2 xml config","body":"<p>It is not feasible to edit the PatternLayout in the xml file itself, if the values are static and will remain the same then it works, else you need to implement custom pattern by extending inbuilt methods and then format your message accordingly.\nThe following link will let you know the same.</p>\n<p><a href=\"https://blog.10pines.com/2020/03/02/log-custom-json-with-log4j2/\" rel=\"nofollow noreferrer\">https://blog.10pines.com/2020/03/02/log-custom-json-with-log4j2/</a></p>\n"}],"owner":{"account_id":3889709,"reputation":1196,"user_id":3220247,"accept_rate":67,"display_name":"arunb2w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9006,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52022666,"answer_count":2,"score":3,"last_activity_date":1698804575,"creation_date":1535102519,"question_id":52001302,"body_markdown":"I am trying to write a logging module using log4j2 that needs to write the logs to console STDOUT in the form of json.\r\n\r\nFor that am trying to use PatternLayout in the form of JSON as below.\r\n    \r\nI have some difficulties in passing values from my code dynamically to log4j2.xml config file to substitute them on run time while writing the log.\r\n    \r\nI tried using StructuredDataMessage and MapMessages to substitute the values from Map as mentioned in the https://logging.apache.org/log4j/2.0/manual/lookups.html.\r\n    \r\nI also tried StrLookup and ContextMaplookup as well but no sucess so far.\r\n    \r\nBelow is my xml config\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;Configuration status=&quot;WARN&quot; name=&quot;App&quot; packages=&quot;com.test.common.logging&quot;&gt;\r\n        \t&lt;Properties&gt;\r\n            \t&lt;Property name=&quot;filename&quot;&gt;target/rolling1/rollingtest.log&lt;/Property&gt;\r\n            \t&lt;Property name=&quot;maptype&quot;&gt;$${map:type}&lt;/Property&gt;\r\n            \t\r\n          \t&lt;/Properties&gt;\r\n          \t\r\n          \t&lt;ThresholdFilter level=&quot;debug&quot;/&gt;\r\n          \r\n          \t&lt;Appenders&gt;\r\n        \t    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n        \t      &lt;PatternLayout pattern=&quot;%highlight{{&#39;logged time&#39;: &#39;%d{dd MMM yyyy HH:mm:ss}&#39;, \r\n        \t\t&#39;LEVEL&#39; : &#39;%level&#39;,\r\n        \t\t&#39;CLASS&#39; : &#39;%c{-1}&#39;,\r\n        \t\t&#39;Module&#39; : &#39;[%t]&#39;,\r\n        \t\t&#39;message&#39; : &#39;%m&#39;,\r\n        \t\t&#39;error&#39; : &#39;%exception&#39;,\r\n        \t\t&#39;class&#39; : &#39;%C&#39;,\r\n        \t\t&#39;threadid&#39; : &#39;%tid&#39;,\r\n        \t\t&#39;threadname&#39; : &#39;%thread&#39;,\r\n        \t\t&#39;whatisthis&#39; : &#39;${filename}&#39;,\r\n        \t\t&#39;processid&#39; : &#39;%pid&#39;, \r\n        \t\t&#39;logdir&#39; : &#39;$${sd:type}&#39;\r\n        \t\t&#39;location&#39; : &#39;${log4j:configLocation}&#39;\r\n        \t\t&#39;systemproperty&#39; : &#39;$${ctx:key-}&#39;\r\n        \t\t}}%n&quot;/&gt;\r\n        \t    &lt;/Console&gt;\r\n          \t&lt;/Appenders&gt;\r\n          \r\n          \t&lt;Loggers&gt;\r\n          \t \t&lt;Root level=&quot;trace&quot;&gt;\r\n              \t\t&lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            \t&lt;/Root&gt;\r\n          \t&lt;/Loggers&gt;\r\n          \r\n        &lt;/Configuration&gt;\r\n    \r\n\r\n\r\nBelow is my code where am trying to pass dynamic values using Strucutured Data message, strlookup and mapmessage\r\n    \r\n    public class App \r\n    {\r\n    \t\r\n    \t\r\n        public static void main( String[] args )\r\n        {\r\n        \tLogger logger = LogManager.getLogger(App.class);\r\n        \t\r\n    //    \tConfigurationBuilder&lt;BuiltConfiguration&gt; builder\r\n    //    \t = ConfigurationBuilderFactory.newConfigurationBuilder();\r\n    //    \t\r\n    //    \tLayoutComponentBuilder standard \r\n    //    \t  = builder.newLayout(&quot;PatternLayout&quot;);\r\n    //    \tstandard.\r\n    //    \t\r\n            System.out.println( &quot;Hello World!&quot; );\r\n            StructuredDataMessage message = new StructuredDataMessage(&quot;1&quot;, &quot;name&quot;, &quot;string&quot;);\r\n            message.put(&quot;1&quot;, &quot;nme&quot;);\r\n           // MapMessage mapm = new MapMessage(map)\r\n            MapMessage map = new MapMessage();\r\n            map.put(&quot;type&quot;, &quot;value&quot;);\r\n            map.put(&quot;key&quot;, &quot;value&quot;);\r\n            map.put(&quot;name&quot;, &quot;arun&quot;);\r\n            StrLookup strlook = new StrLookup() {\r\n    \t\t\t\r\n    \t\t\tpublic String lookup(LogEvent event, String key) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tpublic String lookup(String key) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t\treturn &quot;value&quot;;\r\n    \t\t\t}\r\n    \t\t};\r\n            ContextMapLookup lookup = new ContextMapLookup();\r\n            System.out.println(lookup.lookup(&quot;key&quot;));\r\n            System.out.println(strlook.lookup(&quot;key&quot;));\r\n           \r\n           // MapLookup.setMainArguments(args);\r\n            \r\n            System.setProperty(&quot;log_dir&quot;, App.class.getSimpleName());;\r\n            logger.trace(&quot;trace log message&quot;);\r\n            logger.debug(&quot;Debug log message&quot;);\r\n            logger.info(&quot;Info log message&quot;);\r\n            logger.error(&quot;Error log message&quot;);\r\n            logger.fatal(&quot;Fatal log message&quot;);\r\n            logger.info(&quot;Info log message[]&quot;);\r\n            logger.error(&quot;null exception[]&quot;, new NullPointerException());\r\n            \r\n            // Lay\r\n    \r\n        }\r\n    }\r\n\r\n\r\nMy Output:\r\n\r\n    Hello World!\r\n    null\r\n    value\r\n    [36m{&#39;logged time&#39;: &#39;24 Aug 2018 12:32:51&#39;,    &#39;LEVEL&#39; : &#39;DEBUG&#39;,   &#39;CLASS&#39; : &#39;test.common.logging.App&#39;,   &#39;Module&#39; : &#39;[main]&#39;,   &#39;message&#39; : &#39;Debug log message&#39;,   &#39;error&#39; : &#39;&#39;,   &#39;class&#39; : &#39;com.test.common.logging.App&#39;,   &#39;threadid&#39; : &#39;1&#39;,   &#39;threadname&#39; : &#39;main&#39;,   &#39;whatisthis&#39; : &#39;target/rolling1/rollingtest.log&#39;,   &#39;processid&#39; : &#39;DEBUGid&#39;,    &#39;logdir&#39; : &#39;${sd:type}&#39;   &#39;location&#39; : &#39;/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml&#39;   &#39;systemproperty&#39; : &#39;${ctx:key}&#39;   [m}\r\n    [32m{&#39;logged time&#39;: &#39;24 Aug 2018 12:32:51&#39;,    &#39;LEVEL&#39; : &#39;INFO&#39;,   &#39;CLASS&#39; : &#39;test.common.logging.App&#39;,   &#39;Module&#39; : &#39;[main]&#39;,   &#39;message&#39; : &#39;Info log message&#39;,   &#39;error&#39; : &#39;&#39;,   &#39;class&#39; : &#39;com.test.common.logging.App&#39;,   &#39;threadid&#39; : &#39;1&#39;,   &#39;threadname&#39; : &#39;main&#39;,   &#39;whatisthis&#39; : &#39;target/rolling1/rollingtest.log&#39;,   &#39;processid&#39; : &#39;INFOid&#39;,    &#39;logdir&#39; : &#39;${sd:type}&#39;   &#39;location&#39; : &#39;/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml&#39;   &#39;systemproperty&#39; : &#39;${ctx:key}&#39;   [m}\r\n    [1;31m{&#39;logged time&#39;: &#39;24 Aug 2018 12:32:51&#39;,    &#39;LEVEL&#39; : &#39;ERROR&#39;,   &#39;CLASS&#39; : &#39;test.common.logging.App&#39;,   &#39;Module&#39; : &#39;[main]&#39;,   &#39;message&#39; : &#39;Error log message&#39;,   &#39;error&#39; : &#39;&#39;,   &#39;class&#39; : &#39;com.test.common.logging.App&#39;,   &#39;threadid&#39; : &#39;1&#39;,   &#39;threadname&#39; : &#39;main&#39;,   &#39;whatisthis&#39; : &#39;target/rolling1/rollingtest.log&#39;,   &#39;processid&#39; : &#39;ERRORid&#39;,    &#39;logdir&#39; : &#39;${sd:type}&#39;   &#39;location&#39; : &#39;/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml&#39;   &#39;systemproperty&#39; : &#39;${ctx:key}&#39;   [m}\r\n    [1;31m{&#39;logged time&#39;: &#39;24 Aug 2018 12:32:51&#39;,    &#39;LEVEL&#39; : &#39;FATAL&#39;,   &#39;CLASS&#39; : &#39;test.common.logging.App&#39;,   &#39;Module&#39; : &#39;[main]&#39;,   &#39;message&#39; : &#39;Fatal log message&#39;,   &#39;error&#39; : &#39;&#39;,   &#39;class&#39; : &#39;com.test.common.logging.App&#39;,   &#39;threadid&#39; : &#39;1&#39;,   &#39;threadname&#39; : &#39;main&#39;,   &#39;whatisthis&#39; : &#39;target/rolling1/rollingtest.log&#39;,   &#39;processid&#39; : &#39;FATALid&#39;,    &#39;logdir&#39; : &#39;${sd:type}&#39;   &#39;location&#39; : &#39;/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml&#39;   &#39;systemproperty&#39; : &#39;${ctx:key}&#39;   [m}\r\n    [32m{&#39;logged time&#39;: &#39;24 Aug 2018 12:32:51&#39;,    &#39;LEVEL&#39; : &#39;INFO&#39;,   &#39;CLASS&#39; : &#39;test.common.logging.App&#39;,   &#39;Module&#39; : &#39;[main]&#39;,   &#39;message&#39; : &#39;Info log message[]&#39;,   &#39;error&#39; : &#39;&#39;,   &#39;class&#39; : &#39;com.test.common.logging.App&#39;,   &#39;threadid&#39; : &#39;1&#39;,   &#39;threadname&#39; : &#39;main&#39;,   &#39;whatisthis&#39; : &#39;target/rolling1/rollingtest.log&#39;,   &#39;processid&#39; : &#39;INFOid&#39;,    &#39;logdir&#39; : &#39;${sd:type}&#39;   &#39;location&#39; : &#39;/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml&#39;   &#39;systemproperty&#39; : &#39;${ctx:key}&#39;   [m}\r\n    [1;31m{&#39;logged time&#39;: &#39;24 Aug 2018 12:32:51&#39;,    &#39;LEVEL&#39; : &#39;ERROR&#39;,   &#39;CLASS&#39; : &#39;test.common.logging.App&#39;,   &#39;Module&#39; : &#39;[main]&#39;,   &#39;message&#39; : &#39;null exception[]&#39;,   &#39;error&#39; : &#39; java.lang.NullPointerException\r\n    \tat com.test.common.logging.App.main(App.java:69)\r\n    &#39;,   &#39;class&#39; : &#39;com.test.common.logging.App&#39;,   &#39;threadid&#39; : &#39;1&#39;,   &#39;threadname&#39; : &#39;main&#39;,   &#39;whatisthis&#39; : &#39;target/rolling1/rollingtest.log&#39;,   &#39;processid&#39; : &#39;ERRORid&#39;,    &#39;logdir&#39; : &#39;${sd:type}&#39;   &#39;location&#39; : &#39;/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml&#39;   &#39;systemproperty&#39; : &#39;${ctx:key}&#39;   [m}\r\n\r\nIf you see the lastvalue systemproperty is not reflecting as expected by substituting from the code value.\r\n","title":"Passing dynamic value to log4j2 xml config","body":"<p>I am trying to write a logging module using log4j2 that needs to write the logs to console STDOUT in the form of json.</p>\n<p>For that am trying to use PatternLayout in the form of JSON as below.</p>\n<p>I have some difficulties in passing values from my code dynamically to log4j2.xml config file to substitute them on run time while writing the log.</p>\n<p>I tried using StructuredDataMessage and MapMessages to substitute the values from Map as mentioned in the <a href=\"https://logging.apache.org/log4j/2.0/manual/lookups.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.0/manual/lookups.html</a>.</p>\n<p>I also tried StrLookup and ContextMaplookup as well but no sucess so far.</p>\n<p>Below is my xml config</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;Configuration status=&quot;WARN&quot; name=&quot;App&quot; packages=&quot;com.test.common.logging&quot;&gt;\n        &lt;Properties&gt;\n            &lt;Property name=&quot;filename&quot;&gt;target/rolling1/rollingtest.log&lt;/Property&gt;\n            &lt;Property name=&quot;maptype&quot;&gt;$${map:type}&lt;/Property&gt;\n            \n        &lt;/Properties&gt;\n        \n        &lt;ThresholdFilter level=&quot;debug&quot;/&gt;\n      \n        &lt;Appenders&gt;\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n              &lt;PatternLayout pattern=&quot;%highlight{{'logged time': '%d{dd MMM yyyy HH:mm:ss}', \n            'LEVEL' : '%level',\n            'CLASS' : '%c{-1}',\n            'Module' : '[%t]',\n            'message' : '%m',\n            'error' : '%exception',\n            'class' : '%C',\n            'threadid' : '%tid',\n            'threadname' : '%thread',\n            'whatisthis' : '${filename}',\n            'processid' : '%pid', \n            'logdir' : '$${sd:type}'\n            'location' : '${log4j:configLocation}'\n            'systemproperty' : '$${ctx:key-}'\n            }}%n&quot;/&gt;\n            &lt;/Console&gt;\n        &lt;/Appenders&gt;\n      \n        &lt;Loggers&gt;\n            &lt;Root level=&quot;trace&quot;&gt;\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;/Root&gt;\n        &lt;/Loggers&gt;\n      \n    &lt;/Configuration&gt;\n</code></pre>\n<p>Below is my code where am trying to pass dynamic values using Strucutured Data message, strlookup and mapmessage</p>\n<pre><code>public class App \n{\n    \n    \n    public static void main( String[] args )\n    {\n        Logger logger = LogManager.getLogger(App.class);\n        \n//      ConfigurationBuilder&lt;BuiltConfiguration&gt; builder\n//       = ConfigurationBuilderFactory.newConfigurationBuilder();\n//      \n//      LayoutComponentBuilder standard \n//        = builder.newLayout(&quot;PatternLayout&quot;);\n//      standard.\n//      \n        System.out.println( &quot;Hello World!&quot; );\n        StructuredDataMessage message = new StructuredDataMessage(&quot;1&quot;, &quot;name&quot;, &quot;string&quot;);\n        message.put(&quot;1&quot;, &quot;nme&quot;);\n       // MapMessage mapm = new MapMessage(map)\n        MapMessage map = new MapMessage();\n        map.put(&quot;type&quot;, &quot;value&quot;);\n        map.put(&quot;key&quot;, &quot;value&quot;);\n        map.put(&quot;name&quot;, &quot;arun&quot;);\n        StrLookup strlook = new StrLookup() {\n            \n            public String lookup(LogEvent event, String key) {\n                // TODO Auto-generated method stub\n                return null;\n            }\n            \n            public String lookup(String key) {\n                // TODO Auto-generated method stub\n                \n                return &quot;value&quot;;\n            }\n        };\n        ContextMapLookup lookup = new ContextMapLookup();\n        System.out.println(lookup.lookup(&quot;key&quot;));\n        System.out.println(strlook.lookup(&quot;key&quot;));\n       \n       // MapLookup.setMainArguments(args);\n        \n        System.setProperty(&quot;log_dir&quot;, App.class.getSimpleName());;\n        logger.trace(&quot;trace log message&quot;);\n        logger.debug(&quot;Debug log message&quot;);\n        logger.info(&quot;Info log message&quot;);\n        logger.error(&quot;Error log message&quot;);\n        logger.fatal(&quot;Fatal log message&quot;);\n        logger.info(&quot;Info log message[]&quot;);\n        logger.error(&quot;null exception[]&quot;, new NullPointerException());\n        \n        // Lay\n\n    }\n}\n</code></pre>\n<p>My Output:</p>\n<pre><code>Hello World!\nnull\nvalue\n[36m{'logged time': '24 Aug 2018 12:32:51',    'LEVEL' : 'DEBUG',   'CLASS' : 'test.common.logging.App',   'Module' : '[main]',   'message' : 'Debug log message',   'error' : '',   'class' : 'com.test.common.logging.App',   'threadid' : '1',   'threadname' : 'main',   'whatisthis' : 'target/rolling1/rollingtest.log',   'processid' : 'DEBUGid',    'logdir' : '${sd:type}'   'location' : '/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml'   'systemproperty' : '${ctx:key}'   [m}\n[32m{'logged time': '24 Aug 2018 12:32:51',    'LEVEL' : 'INFO',   'CLASS' : 'test.common.logging.App',   'Module' : '[main]',   'message' : 'Info log message',   'error' : '',   'class' : 'com.test.common.logging.App',   'threadid' : '1',   'threadname' : 'main',   'whatisthis' : 'target/rolling1/rollingtest.log',   'processid' : 'INFOid',    'logdir' : '${sd:type}'   'location' : '/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml'   'systemproperty' : '${ctx:key}'   [m}\n[1;31m{'logged time': '24 Aug 2018 12:32:51',    'LEVEL' : 'ERROR',   'CLASS' : 'test.common.logging.App',   'Module' : '[main]',   'message' : 'Error log message',   'error' : '',   'class' : 'com.test.common.logging.App',   'threadid' : '1',   'threadname' : 'main',   'whatisthis' : 'target/rolling1/rollingtest.log',   'processid' : 'ERRORid',    'logdir' : '${sd:type}'   'location' : '/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml'   'systemproperty' : '${ctx:key}'   [m}\n[1;31m{'logged time': '24 Aug 2018 12:32:51',    'LEVEL' : 'FATAL',   'CLASS' : 'test.common.logging.App',   'Module' : '[main]',   'message' : 'Fatal log message',   'error' : '',   'class' : 'com.test.common.logging.App',   'threadid' : '1',   'threadname' : 'main',   'whatisthis' : 'target/rolling1/rollingtest.log',   'processid' : 'FATALid',    'logdir' : '${sd:type}'   'location' : '/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml'   'systemproperty' : '${ctx:key}'   [m}\n[32m{'logged time': '24 Aug 2018 12:32:51',    'LEVEL' : 'INFO',   'CLASS' : 'test.common.logging.App',   'Module' : '[main]',   'message' : 'Info log message[]',   'error' : '',   'class' : 'com.test.common.logging.App',   'threadid' : '1',   'threadname' : 'main',   'whatisthis' : 'target/rolling1/rollingtest.log',   'processid' : 'INFOid',    'logdir' : '${sd:type}'   'location' : '/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml'   'systemproperty' : '${ctx:key}'   [m}\n[1;31m{'logged time': '24 Aug 2018 12:32:51',    'LEVEL' : 'ERROR',   'CLASS' : 'test.common.logging.App',   'Module' : '[main]',   'message' : 'null exception[]',   'error' : ' java.lang.NullPointerException\n    at com.test.common.logging.App.main(App.java:69)\n',   'class' : 'com.test.common.logging.App',   'threadid' : '1',   'threadname' : 'main',   'whatisthis' : 'target/rolling1/rollingtest.log',   'processid' : 'ERRORid',    'logdir' : '${sd:type}'   'location' : '/Users/parunkarthick/ferry-commons/common/logging/target/classes/log4j2.xml'   'systemproperty' : '${ctx:key}'   [m}\n</code></pre>\n<p>If you see the lastvalue systemproperty is not reflecting as expected by substituting from the code value.</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1698804225,"creation_date":1393377572,"answer_id":22029761,"question_id":22028399,"body_markdown":"**Default Property map**\r\n\r\nLooking at http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\r\nyou can specify a default property map in the configuration file. That takes this form:\r\n\r\n```xml\r\n&lt;Configuration status=&quot;debug&quot;&gt;\r\n  &lt;Properties&gt;\r\n    &lt;Property name=&quot;oauthLoginLogPath&quot;&gt;default/location/of/oauth2.log&lt;/Property&gt;\r\n  &lt;/Properties&gt;\r\n  ...\r\n  &lt;Appenders&gt;\r\n    &lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${sys:oauthLoginLogPath}&quot;&gt;\r\n    ....\r\n&lt;/Configuration\r\n```\r\n\r\nThen, if you start your app with system property `-DoauthLoginLogPath=/path/oauth2.log`, the File appender `fileName` value will first be looked up in system properties, but if that fails, it will fall back to the property defined in the `Properties` section at the top of the log4j2.xml configuration file. \r\n\r\n**Inline**\r\n\r\nA second way is to provide the default value inline:\r\n\r\n```xml\r\n&lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${sys:oauthLoginLogPath:-default/location/of/oauth2.log}&quot;&gt;\r\n```\r\n\r\nGenerally, all Log4j2 lookups follow this pattern: `${type:key:-defaultValue}`.\r\n\r\n**Env vs sys**\r\n\r\nBy the way, the `env` prefix is for environment variables (like %PATH% on Windows), and is not related to `sys`, which is Java system properties. See also http://logging.apache.org/log4j/2.x/manual/lookups.html","title":"Log4J2 property substitution - default","body":"<p><strong>Default Property map</strong></p>\n<p>Looking at <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution</a>\nyou can specify a default property map in the configuration file. That takes this form:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration status=&quot;debug&quot;&gt;\n  &lt;Properties&gt;\n    &lt;Property name=&quot;oauthLoginLogPath&quot;&gt;default/location/of/oauth2.log&lt;/Property&gt;\n  &lt;/Properties&gt;\n  ...\n  &lt;Appenders&gt;\n    &lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${sys:oauthLoginLogPath}&quot;&gt;\n    ....\n&lt;/Configuration\n</code></pre>\n<p>Then, if you start your app with system property <code>-DoauthLoginLogPath=/path/oauth2.log</code>, the File appender <code>fileName</code> value will first be looked up in system properties, but if that fails, it will fall back to the property defined in the <code>Properties</code> section at the top of the log4j2.xml configuration file.</p>\n<p><strong>Inline</strong></p>\n<p>A second way is to provide the default value inline:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${sys:oauthLoginLogPath:-default/location/of/oauth2.log}&quot;&gt;\n</code></pre>\n<p>Generally, all Log4j2 lookups follow this pattern: <code>${type:key:-defaultValue}</code>.</p>\n<p><strong>Env vs sys</strong></p>\n<p>By the way, the <code>env</code> prefix is for environment variables (like %PATH% on Windows), and is not related to <code>sys</code>, which is Java system properties. See also <a href=\"http://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/lookups.html</a></p>\n"},{"tags":[],"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1492074284,"creation_date":1465887494,"answer_id":37804992,"question_id":22028399,"body_markdown":"You can use the same `${sys:propName:-default}`syntax. Notice the &#39;:-&#39;, it is is called &quot;***variable default value delimiter***&quot;. The *default* value for the &quot;*variable default value delimiter*&quot; is `:-`, as in *bash* and other _*nix_ shells.\r\n\r\nYou can read more about this in the Log4j 2 documentation for the [*StrSubstitutor*](https://logging.apache.org/log4j/log4j-2.2/log4j-core/apidocs/org/apache/logging/log4j/core/lookup/StrSubstitutor.html) class.\r\n\r\nTo use the same example:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;Configuration status=&quot;debug&quot;&gt;\r\n      ...\r\n        &lt;Appenders&gt;\r\n            &lt;Appender type=&quot;File&quot; name=&quot;File&quot;\r\n                      fileName=&quot;${sys:oauthLoginLogPath:-default/location/of/oauth2.log}&quot;&gt;\r\n            ....\r\n        &lt;/Appenders&gt;\r\n    &lt;/Configuration&gt;","title":"Log4J2 property substitution - default","body":"<p>You can use the same <code>${sys:propName:-default}</code>syntax. Notice the ':-', it is is called \"<strong><em>variable default value delimiter</em></strong>\". The <em>default</em> value for the \"<em>variable default value delimiter</em>\" is <code>:-</code>, as in <em>bash</em> and other <em>*nix</em> shells.</p>\n\n<p>You can read more about this in the Log4j 2 documentation for the <a href=\"https://logging.apache.org/log4j/log4j-2.2/log4j-core/apidocs/org/apache/logging/log4j/core/lookup/StrSubstitutor.html\" rel=\"noreferrer\"><em>StrSubstitutor</em></a> class.</p>\n\n<p>To use the same example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration status=\"debug\"&gt;\n  ...\n    &lt;Appenders&gt;\n        &lt;Appender type=\"File\" name=\"File\"\n                  fileName=\"${sys:oauthLoginLogPath:-default/location/of/oauth2.log}\"&gt;\n        ....\n    &lt;/Appenders&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70506,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":22029761,"answer_count":2,"score":62,"last_activity_date":1698804225,"creation_date":1393370477,"question_id":22028399,"body_markdown":"I just wonder if there is any way to provide default value for property substitution in LOG4J?\r\n\r\nI want to pass file path in java system property and then use it with &quot;${env:mySystemProperty}&quot;. But what if developer forgets to set this property? Then I would like to have some meaningful default value defined in log4j2.xml.\r\n\r\nAny idea how to achieve this functionality?\r\n\r\nEDIT:\r\n\r\nThe env substitution does not work for me:\r\n\r\nstandalone.conf\r\n\r\n    -DoauthLoginLogPath=/path/oauth2.log\r\n\r\nlog4j2.xml\r\n\r\n    &lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${env:oauthLoginLogPath}&quot; immediateFlush=&quot;true&quot;&gt;\r\n    &lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${sys:oauthLoginLogPath}&quot; immediateFlush=&quot;true&quot;&gt;\r\n\r\nI can see in wildfly console the property, I restarted server but I cannot get it done.","title":"Log4J2 property substitution - default","body":"<p>I just wonder if there is any way to provide default value for property substitution in LOG4J?</p>\n\n<p>I want to pass file path in java system property and then use it with \"${env:mySystemProperty}\". But what if developer forgets to set this property? Then I would like to have some meaningful default value defined in log4j2.xml.</p>\n\n<p>Any idea how to achieve this functionality?</p>\n\n<p>EDIT:</p>\n\n<p>The env substitution does not work for me:</p>\n\n<p>standalone.conf</p>\n\n<pre><code>-DoauthLoginLogPath=/path/oauth2.log\n</code></pre>\n\n<p>log4j2.xml</p>\n\n<pre><code>&lt;Appender type=\"File\" name=\"File\" fileName=\"${env:oauthLoginLogPath}\" immediateFlush=\"true\"&gt;\n&lt;Appender type=\"File\" name=\"File\" fileName=\"${sys:oauthLoginLogPath}\" immediateFlush=\"true\"&gt;\n</code></pre>\n\n<p>I can see in wildfly console the property, I restarted server but I cannot get it done.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698802795,"creation_date":1698802795,"answer_id":77399884,"question_id":77399757,"body_markdown":"You can&#39;t click on another app from an Android app, for security reasons.  At least not unless you have a jailbroken phone.  You can do it via ADB if you need to automate some tests.  But there is no API to click on other apps.","title":"Auto click on phone screen at given position in java android","body":"<p>You can't click on another app from an Android app, for security reasons.  At least not unless you have a jailbroken phone.  You can do it via ADB if you need to automate some tests.  But there is no API to click on other apps.</p>\n"}],"owner":{"account_id":29798596,"reputation":1,"user_id":22836931,"display_name":"Yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698802795,"creation_date":1698799159,"question_id":77399757,"body_markdown":"I want to automate click or taps \r\nI want to perform click at given position in android using java language \r\n\r\n\r\nMy code until yet\r\n\r\n\r\nprivate void performClickAtPosition(int x, int y) {\r\n\r\n        // Create a MotionEvent to simulate a click at the specified position\r\n\r\n        long downTime = SystemClock.uptimeMillis();\r\n\r\n        long eventTime = SystemClock.uptimeMillis();\r\n\r\n        int action = MotionEvent.ACTION_DOWN;\r\n\r\n        MotionEvent motionEvent = MotionEvent.obtain(downTime, eventTime, action, x, y, 0);\r\n\r\n        // Find the target view at the specified coordinates\r\n\r\n        View targetView = getWindow().getDecorView();\r\n\r\n        \r\n\r\n        // Dispatch the MotionEvent to the target view\r\n\r\n        targetView.dispatchTouchEvent(motionEvent);\r\n\r\n        // Release the MotionEvent\r\n\r\n        motionEvent.recycle();\r\n\r\n    }\r\n\r\nBut it is not working and it is only for click within the app\r\n\r\nBut I want to click on current phone screen \r\nAlso please explain permission required for this","title":"Auto click on phone screen at given position in java android","body":"<p>I want to automate click or taps\nI want to perform click at given position in android using java language</p>\n<p>My code until yet</p>\n<p>private void performClickAtPosition(int x, int y) {</p>\n<pre><code>    // Create a MotionEvent to simulate a click at the specified position\n\n    long downTime = SystemClock.uptimeMillis();\n\n    long eventTime = SystemClock.uptimeMillis();\n\n    int action = MotionEvent.ACTION_DOWN;\n\n    MotionEvent motionEvent = MotionEvent.obtain(downTime, eventTime, action, x, y, 0);\n\n    // Find the target view at the specified coordinates\n\n    View targetView = getWindow().getDecorView();\n\n    \n\n    // Dispatch the MotionEvent to the target view\n\n    targetView.dispatchTouchEvent(motionEvent);\n\n    // Release the MotionEvent\n\n    motionEvent.recycle();\n\n}\n</code></pre>\n<p>But it is not working and it is only for click within the app</p>\n<p>But I want to click on current phone screen\nAlso please explain permission required for this</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":1772032,"reputation":1699,"user_id":1616627,"display_name":"Roger Gustavsson"},"score":1,"creation_date":1441961961,"post_id":32519087,"comment_id":52896733,"body_markdown":"Is there anything logged from that class when you do get anything logged?","body":"Is there anything logged from that class when you do get anything logged?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1441962338,"post_id":32519087,"comment_id":52896948,"body_markdown":"Yes if course it is.","body":"Yes if course it is."},{"owner":{"account_id":1772032,"reputation":1699,"user_id":1616627,"display_name":"Roger Gustavsson"},"score":0,"creation_date":1441962540,"post_id":32519087,"comment_id":52897084,"body_markdown":"Then I guess it actually should work. Have you triple checked your spelling?","body":"Then I guess it actually should work. Have you triple checked your spelling?"},{"owner":{"account_id":1076274,"reputation":2799,"user_id":1074353,"accept_rate":88,"display_name":"Art Swri"},"score":0,"creation_date":1666042846,"post_id":32519087,"comment_id":130837694,"body_markdown":"This worked only if I used &#39;Logger&#39; not &#39;logger&#39; and &#39;Console&#39; not &#39;CONSOLE&#39;","body":"This worked only if I used &#39;Logger&#39; not &#39;logger&#39; and &#39;Console&#39; not &#39;CONSOLE&#39;"}],"answers":[{"tags":[],"owner":{"account_id":3479078,"reputation":141,"user_id":2911629,"display_name":"Mario Doskoc"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1698802624,"creation_date":1441962581,"answer_id":32519729,"question_id":32519087,"body_markdown":"It should work with fully qualified name as well. Logger.name doesn&#39;t have to be package/class only but it could be any name which you want to. When you call LoggerFactory.getLogger(&quot;MyLogger&quot;), then you have to use \r\n\r\n```xml\r\n&lt;Logger name=&quot;MyLogger&quot; level=&quot;info&quot;&gt;\r\n  &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt;\r\n&lt;/Logger&gt;\r\n```\r\n\r\nCheck what is logged when you use logger for package and use logger name from log.\r\nWhat logger name is logged for this class?\r\n","title":"How to configure log4j2.xml log level for specific class only?","body":"<p>It should work with fully qualified name as well. Logger.name doesn't have to be package/class only but it could be any name which you want to. When you call LoggerFactory.getLogger(&quot;MyLogger&quot;), then you have to use</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Logger name=&quot;MyLogger&quot; level=&quot;info&quot;&gt;\n  &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt;\n&lt;/Logger&gt;\n</code></pre>\n<p>Check what is logged when you use logger for package and use logger name from log.\nWhat logger name is logged for this class?</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10992,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1698802624,"creation_date":1441960582,"question_id":32519087,"body_markdown":"In `log4j` it&#39;s possible to define log levels by `package` as follows:\r\n\r\n        &lt;logger name=&quot;org.springframework.web.servlet.mvc.method.annotation&quot; level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\nQuestin: how can I define the logging for a specific class only? (eg `org.springframework.web.servlet.mvc.method.annotation.EndpointHandlerMapping`)?  If I just put this into the `&lt;logger name` property, nothing is logged anymore.","title":"How to configure log4j2.xml log level for specific class only?","body":"<p>In <code>log4j</code> it's possible to define log levels by <code>package</code> as follows:</p>\n\n<pre><code>    &lt;logger name=\"org.springframework.web.servlet.mvc.method.annotation\" level=\"info\"&gt;\n        &lt;AppenderRef ref=\"CONSOLE\" /&gt;\n    &lt;/logger&gt;\n</code></pre>\n\n<p>Questin: how can I define the logging for a specific class only? (eg <code>org.springframework.web.servlet.mvc.method.annotation.EndpointHandlerMapping</code>)?  If I just put this into the <code>&lt;logger name</code> property, nothing is logged anymore.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1478102022,"post_id":40384056,"comment_id":68020500,"body_markdown":"Where is your application context file? If you don&#39;t have one, you should consider to give *Spring* some hint with annotations like *@ComponentScan* to make all beans available.","body":"Where is your application context file? If you don&#39;t have one, you should consider to give <i>Spring</i> some hint with annotations like <i>@ComponentScan</i> to make all beans available."},{"owner":{"account_id":6091899,"reputation":11481,"user_id":4753897,"accept_rate":71,"display_name":"Mike3355"},"score":0,"creation_date":1478102609,"post_id":40384056,"comment_id":68020923,"body_markdown":"@MarioSantini please see update 1","body":"@MarioSantini please see update 1"},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1478127329,"post_id":40384056,"comment_id":68034039,"body_markdown":"I assume after each update there were changes in the errors? If possible, do post your project structure, and the error logs/stacktrace in each case.. Its better to know &quot;Why&quot; those error occured, rather than a &quot;something&quot; made the error go away. Will be helpful for others who come across a similar issue as well.","body":"I assume after each update there were changes in the errors? If possible, do post your project structure, and the error logs/stacktrace in each case.. Its better to know &quot;Why&quot; those error occured, rather than a &quot;something&quot; made the error go away. Will be helpful for others who come across a similar issue as well."}],"answers":[{"tags":[],"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1478109638,"creation_date":1478104477,"answer_id":40385120,"question_id":40384056,"body_markdown":"Your Applicant class is not scanned it seems. By default all packages starting with the root as the class where you have put `@SpringBootApplication` will be scanned.\r\n\r\nsuppose your `main` class  &quot;WebServiceApplication&quot; is in &quot;`com.service.something`&quot;, then all components that fall under &quot;`com.service.something`&quot; is scanned, and &quot;`com.service.applicant`&quot; will not be scanned.\r\n\r\nYou can either restructure your packages such that &quot;WebServiceApplication&quot; falls under a root package and all other components becomes part of that root package. Or you can include `@SpringBootApplication(scanBasePackages={&quot;com.service.something&quot;,&quot;com.service.application&quot;})` etc such that &quot;ALL&quot; components are scanned and initialized in the spring container.\r\n\r\n**Update based on comment**\r\n\r\nIf you have multiple modules that are being managed by maven/gradle, all spring needs is the package to scan. You tell spring to scan &quot;com.module1&quot; and you have another module which has its root package name as &quot;com.module2&quot;, those components wont be scanned. You can even tell spring to scan **&quot;com&quot;** which will then scan all components in &quot;`com.module1.`&quot; and &quot;`com.module2.`&quot;","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Your Applicant class is not scanned it seems. By default all packages starting with the root as the class where you have put <code>@SpringBootApplication</code> will be scanned.</p>\n\n<p>suppose your <code>main</code> class  \"WebServiceApplication\" is in \"<code>com.service.something</code>\", then all components that fall under \"<code>com.service.something</code>\" is scanned, and \"<code>com.service.applicant</code>\" will not be scanned.</p>\n\n<p>You can either restructure your packages such that \"WebServiceApplication\" falls under a root package and all other components becomes part of that root package. Or you can include <code>@SpringBootApplication(scanBasePackages={\"com.service.something\",\"com.service.application\"})</code> etc such that \"ALL\" components are scanned and initialized in the spring container.</p>\n\n<p><strong>Update based on comment</strong></p>\n\n<p>If you have multiple modules that are being managed by maven/gradle, all spring needs is the package to scan. You tell spring to scan \"com.module1\" and you have another module which has its root package name as \"com.module2\", those components wont be scanned. You can even tell spring to scan <strong>\"com\"</strong> which will then scan all components in \"<code>com.module1.</code>\" and \"<code>com.module2.</code>\"</p>\n"},{"tags":[],"owner":{"account_id":6091899,"reputation":11481,"user_id":4753897,"accept_rate":71,"display_name":"Mike3355"},"down_vote_count":0,"up_vote_count":343,"is_accepted":true,"score":343,"last_activity_date":1698801456,"creation_date":1478116376,"answer_id":40388609,"question_id":40384056,"body_markdown":"It might be because the project has been broken down into different modules:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.delivery.request&quot;})\r\n    @EntityScan(&quot;com.delivery.domain&quot;)\r\n    @EnableJpaRepositories(&quot;com.delivery.repository&quot;)\r\n    public class WebServiceApplication extends SpringBootServletInitializer {","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>It might be because the project has been broken down into different modules:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({&quot;com.delivery.request&quot;})\n@EntityScan(&quot;com.delivery.domain&quot;)\n@EnableJpaRepositories(&quot;com.delivery.repository&quot;)\npublic class WebServiceApplication extends SpringBootServletInitializer {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10091241,"reputation":941,"user_id":7458162,"display_name":"Dawid Gorczyca"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526559666,"creation_date":1485766363,"answer_id":41931907,"question_id":40384056,"body_markdown":"This can also happen if you are using Lombok and you add the `@RequiredArgsConstructor` and `@NonNull` for fields but some of your fields are not to be injected in the constructor. This is only one of the possibilities to get the the same error.\r\n&gt; parameter 0 required a bean of type MissingBeanName that could not be found\r\n\r\nIn my case the error told me what Controller the problem was in, after removing `@NonNull` the application started fine\r\n\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>This can also happen if you are using Lombok and you add the <code>@RequiredArgsConstructor</code> and <code>@NonNull</code> for fields but some of your fields are not to be injected in the constructor. This is only one of the possibilities to get the the same error.</p>\n\n<blockquote>\n  <p>parameter 0 required a bean of type MissingBeanName that could not be found</p>\n</blockquote>\n\n<p>In my case the error told me what Controller the problem was in, after removing <code>@NonNull</code> the application started fine</p>\n"},{"tags":[],"owner":{"account_id":5134971,"reputation":610,"user_id":4114035,"display_name":"Carlos Marcano"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1491708434,"creation_date":1491707185,"answer_id":43302623,"question_id":40384056,"body_markdown":"Basically this happens when you have your Class Application in &quot;another package&quot;. For example:\r\n\r\n    com.server\r\n     - Applicacion.class (&lt;--this class have @ComponentScan)\r\n    com.server.config\r\n     - MongoConfig.class \r\n    com.server.repository\r\n     - UserRepository\r\n\r\n**I solve the problem with this in the Application.class**\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan ({&quot;com.server&quot;, &quot;com.server.config&quot;})\r\n    @EnableMongoRepositories (&quot;com.server.repository&quot;) // this fix the problem\r\n\r\n\r\n\r\n**Another less elegant way is to: put all the configuration classes in the same package.**","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Basically this happens when you have your Class Application in \"another package\". For example:</p>\n\n<pre><code>com.server\n - Applicacion.class (&lt;--this class have @ComponentScan)\ncom.server.config\n - MongoConfig.class \ncom.server.repository\n - UserRepository\n</code></pre>\n\n<p><strong>I solve the problem with this in the Application.class</strong></p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan ({\"com.server\", \"com.server.config\"})\n@EnableMongoRepositories (\"com.server.repository\") // this fix the problem\n</code></pre>\n\n<p><strong>Another less elegant way is to: put all the configuration classes in the same package.</strong></p>\n"},{"tags":[],"owner":{"account_id":9970970,"reputation":21,"user_id":7377032,"display_name":"developer07"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1493388473,"creation_date":1493367732,"answer_id":43675454,"question_id":40384056,"body_markdown":"    @SpringBootApplication\r\n    @MapperScan(&quot;com.developer.project.mapper&quot;)\r\n\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<pre><code>@SpringBootApplication\n@MapperScan(\"com.developer.project.mapper\")\n\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11030072,"reputation":51,"user_id":8101661,"display_name":"Tushar Saha Chowdhury"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626243296,"creation_date":1496386284,"answer_id":44322574,"question_id":40384056,"body_markdown":"I think you can make it simplified by annotating your repository with `@Repository`, then it will be enabled automatically by Spring Framework.\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I think you can make it simplified by annotating your repository with <code>@Repository</code>, then it will be enabled automatically by Spring Framework.</p>\n"},{"tags":[],"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"down_vote_count":1,"up_vote_count":176,"is_accepted":false,"score":175,"last_activity_date":1651520235,"creation_date":1509693560,"answer_id":47090399,"question_id":40384056,"body_markdown":"**There is a chance...**  \r\nYou might be missing `@Service`, `@Repository` or `@Component` annotation on your respective implementation classes.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p><strong>There is a chance...</strong><br />\nYou might be missing <code>@Service</code>, <code>@Repository</code> or <code>@Component</code> annotation on your respective implementation classes.</p>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522140600,"creation_date":1522140600,"answer_id":49508330,"question_id":40384056,"body_markdown":"I sought online for an answer but it seems there is no one proper solution to my case: \r\nAt the very beginning, everything works well as follows:\r\n\r\n\r\n    @Slf4j\r\n    @Service\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class GroupService {\r\n        private Repository repository;\r\n        private Service service;\r\n    }\r\n\r\nThen I am trying to add a map to cache something and it becomes this: \r\n\r\n    @Slf4j\r\n    @Service\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class GroupService {\r\n        private Repository repository;\r\n        private Service service;\r\n        Map&lt;String, String&gt; testMap;\r\n    }\r\n\r\n\r\nBoom!\r\n\r\n    Description:\r\n    \r\n    Parameter 4 of constructor in *.GroupService required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n        \r\nI removed the `@AllArgsConstructor(onConstructor = @__(@Autowired))` and add `@Autowired` for each `repository` and `service` except the `Map&lt;String, String&gt;`. It just works as before. \r\n\r\n    @Slf4j\r\n    @Service\r\n    public class SecurityGroupService {\r\n        @Autowired\r\n        private Repository repository;\r\n        @Autowired\r\n        private Service service;\r\n        Map&lt;String, String&gt; testMap;\r\n    }\r\n\r\nHope this might be helpful. \r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I sought online for an answer but it seems there is no one proper solution to my case: \nAt the very beginning, everything works well as follows:</p>\n\n<pre><code>@Slf4j\n@Service\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class GroupService {\n    private Repository repository;\n    private Service service;\n}\n</code></pre>\n\n<p>Then I am trying to add a map to cache something and it becomes this: </p>\n\n<pre><code>@Slf4j\n@Service\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class GroupService {\n    private Repository repository;\n    private Service service;\n    Map&lt;String, String&gt; testMap;\n}\n</code></pre>\n\n<p>Boom!</p>\n\n<pre><code>Description:\n\nParameter 4 of constructor in *.GroupService required a bean of type 'java.lang.String' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n\n<p>I removed the <code>@AllArgsConstructor(onConstructor = @__(@Autowired))</code> and add <code>@Autowired</code> for each <code>repository</code> and <code>service</code> except the <code>Map&lt;String, String&gt;</code>. It just works as before. </p>\n\n<pre><code>@Slf4j\n@Service\npublic class SecurityGroupService {\n    @Autowired\n    private Repository repository;\n    @Autowired\n    private Service service;\n    Map&lt;String, String&gt; testMap;\n}\n</code></pre>\n\n<p>Hope this might be helpful. </p>\n"},{"tags":[],"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528680846,"creation_date":1528680846,"answer_id":50789510,"question_id":40384056,"body_markdown":"This can happen if the @Service class is marked abstract.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>This can happen if the @Service class is marked abstract.</p>\n"},{"tags":[],"owner":{"account_id":4482535,"reputation":464,"user_id":5161634,"accept_rate":0,"display_name":"Sriharsha g.r.v"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1554396053,"creation_date":1554395310,"answer_id":55520915,"question_id":40384056,"body_markdown":"In my case these two options worked.\r\n\r\n1. in `//@ComponentScan ({&quot;myapp&quot;, &quot;myapp.resources&quot;,&quot;myapp.services&quot;})`\r\ninclude *also* the package which holds the `Application.class` in the list, or\r\n\r\n2. Simply add `@EnableAutoConfiguration`; it automatically recognizes all the spring beans. \r\n\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>In my case these two options worked.</p>\n\n<ol>\n<li><p>in <code>//@ComponentScan ({\"myapp\", \"myapp.resources\",\"myapp.services\"})</code>\ninclude <em>also</em> the package which holds the <code>Application.class</code> in the list, or</p></li>\n<li><p>Simply add <code>@EnableAutoConfiguration</code>; it automatically recognizes all the spring beans. </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13658308,"reputation":353,"user_id":9854166,"display_name":"Mehdi Fallahi"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1559829903,"creation_date":1559829797,"answer_id":56479251,"question_id":40384056,"body_markdown":"In my case I had a terrible mistake. I put `@Service` up to the service interface.\r\n\r\nTo fix it, I put `@Service` on the implementation of service file and it worked for me.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>In my case I had a terrible mistake. I put <code>@Service</code> up to the service interface.</p>\n\n<p>To fix it, I put <code>@Service</code> on the implementation of service file and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":15215592,"reputation":161,"user_id":10979061,"display_name":"ASHWANI PANDEY"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1561741932,"creation_date":1560960161,"answer_id":56671832,"question_id":40384056,"body_markdown":"If a bean is in the same package in which it is @Autowired, then it will never cause such an issue. However, beans are not accessible from different packages by default. \r\nTo **fix this issue** follow these steps :\r\n\r\n1. Import following in your main class:  \r\nimport org.springframework.context.annotation.ComponentScan;\r\n2. add annotation over your main class :\r\n```\r\n@ComponentScan(basePackages = {&quot;your.company.domain.package&quot;})\r\npublic class SpringExampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringExampleApplication.class, args);\r\n\t}\r\n}","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>If a bean is in the same package in which it is @Autowired, then it will never cause such an issue. However, beans are not accessible from different packages by default. \nTo <strong>fix this issue</strong> follow these steps :</p>\n\n<ol>\n<li>Import following in your main class:<br>\nimport org.springframework.context.annotation.ComponentScan;</li>\n<li>add annotation over your main class :</li>\n</ol>\n\n<pre><code>@ComponentScan(basePackages = {\"your.company.domain.package\"})\npublic class SpringExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringExampleApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16330551,"reputation":41,"user_id":11794009,"display_name":"Love Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563307341,"creation_date":1563304548,"answer_id":57064045,"question_id":40384056,"body_markdown":"It worked for me after adding below annotation in application:\r\n\r\n`@ComponentScan({&quot;com.seic.deliveryautomation.mapper&quot;})`\r\n\r\nI was getting the below error:\r\n\r\n&gt; &quot;parameter 1 of constructor in required a bean of type mapper that could not be found: ","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>It worked for me after adding below annotation in application:</p>\n\n<p><code>@ComponentScan({\"com.seic.deliveryautomation.mapper\"})</code></p>\n\n<p>I was getting the below error:</p>\n\n<blockquote>\n  <p>\"parameter 1 of constructor in required a bean of type mapper that could not be found: </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16344140,"reputation":31,"user_id":11804366,"display_name":"Washington da Silva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563474495,"creation_date":1563474495,"answer_id":57100667,"question_id":40384056,"body_markdown":"In my case this error appear because my import was wrong, for example, using spring, the import automatically appear:\r\n\r\n    import org.jvnet.hk2.annotations.Service;\r\n\r\nbut i needed:\r\n\r\n    import org.springframework.stereotype.Service;\r\n\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>In my case this error appear because my import was wrong, for example, using spring, the import automatically appear:</p>\n\n<pre><code>import org.jvnet.hk2.annotations.Service;\n</code></pre>\n\n<p>but i needed:</p>\n\n<pre><code>import org.springframework.stereotype.Service;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16574482,"reputation":11,"user_id":11976602,"display_name":"user11976602"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566795291,"creation_date":1566795291,"answer_id":57651951,"question_id":40384056,"body_markdown":"I had a case where i need to inject RestTemplate into a service class. However, the RestTemplate cannot be picked up by the service class. What I did is to create a wrapper class under the same package as main application and mark the wrapper as Component and autowire this component in the service class. Problem solved. hope it also works for you\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I had a case where i need to inject RestTemplate into a service class. However, the RestTemplate cannot be picked up by the service class. What I did is to create a wrapper class under the same package as main application and mark the wrapper as Component and autowire this component in the service class. Problem solved. hope it also works for you</p>\n"},{"tags":[],"owner":{"account_id":13550093,"reputation":226,"user_id":9775192,"display_name":"Arif Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566927390,"creation_date":1566927390,"answer_id":57679719,"question_id":40384056,"body_markdown":"If your class dependency is managing by Spring then this issue may occur if we forgot to add default/empty arg constructor inside our POJO class.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>If your class dependency is managing by Spring then this issue may occur if we forgot to add default/empty arg constructor inside our POJO class.</p>\n"},{"tags":[],"owner":{"account_id":15369841,"reputation":31,"user_id":11088163,"display_name":"oludamilare olukotun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574283191,"creation_date":1574283191,"answer_id":58963197,"question_id":40384056,"body_markdown":"@Configuration annotation will just solve the error\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>@Configuration annotation will just solve the error</p>\n"},{"tags":[],"owner":{"account_id":146482,"reputation":111,"user_id":356957,"display_name":"Ross Mills"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575408498,"creation_date":1575408498,"answer_id":59165621,"question_id":40384056,"body_markdown":"You&#39;ll also get this error if you accidentally define the same bean in two different classes.  That happened to me.  The error message was misleading.  When I removed the extra bean, the issue was resolved.\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>You'll also get this error if you accidentally define the same bean in two different classes.  That happened to me.  The error message was misleading.  When I removed the extra bean, the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":8287385,"reputation":156,"user_id":6230110,"display_name":"alexis_dia"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1581611503,"creation_date":1581608794,"answer_id":60211681,"question_id":40384056,"body_markdown":"I faced with familiar problem in my Maven multi-module project with Spring Boot 2. The problem was related to naming of my packages in sub Maven modules. \r\n\r\n@SpringBootApplication incapsulate a lots of component like - @ComponentScan, @EnableAutoConfiguration, jpa-repositories, json-serialization and so on. And he places @ComponentScan in com.*******.space package. This part of packages com.*******.space must be common for all modules.\r\n\r\nFor fixing it:\r\n\r\n 1. You should rename all module packages. Other words you had to have in all packages in all Maven modules - the same parent part. For example - com.*******.space \r\n 2. Also you have to move your entry point to this package - com.*******.space\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I faced with familiar problem in my Maven multi-module project with Spring Boot 2. The problem was related to naming of my packages in sub Maven modules. </p>\n\n<p>@SpringBootApplication incapsulate a lots of component like - @ComponentScan, @EnableAutoConfiguration, jpa-repositories, json-serialization and so on. And he places @ComponentScan in com.*******.space package. This part of packages com.*******.space must be common for all modules.</p>\n\n<p>For fixing it:</p>\n\n<ol>\n<li>You should rename all module packages. Other words you had to have in all packages in all Maven modules - the same parent part. For example - com.*******.space </li>\n<li>Also you have to move your entry point to this package - com.*******.space</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1548365,"reputation":21,"user_id":1441323,"display_name":"user1441323"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584189571,"creation_date":1584180199,"answer_id":60681589,"question_id":40384056,"body_markdown":"My error was that I had included:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of:\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>My error was that I had included:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4569970,"reputation":369,"user_id":3709901,"display_name":"Vishal Petkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584454515,"creation_date":1584454515,"answer_id":60724131,"question_id":40384056,"body_markdown":"I think, you are missing the @Bean annotation in your RequestController\r\n&lt;br&gt;\r\n\r\nAdd the Bean in your file, this solved my issue &lt;br&gt;\r\nI got this solution while I was learning Spring Boot from tutorialspoint\r\n\r\n```\r\nprivate Applicant applicant;\r\n\r\n@Bean \r\npublic Applicant applicant() { \r\n    return new Applicant(); \r\n}\r\n```","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I think, you are missing the @Bean annotation in your RequestController\n<br></p>\n\n<p>Add the Bean in your file, this solved my issue <br>\nI got this solution while I was learning Spring Boot from tutorialspoint</p>\n\n<pre><code>private Applicant applicant;\n\n@Bean \npublic Applicant applicant() { \n    return new Applicant(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18226735,"reputation":1,"user_id":13266385,"display_name":"Johny Thomas Kariath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586786472,"creation_date":1586786472,"answer_id":61189543,"question_id":40384056,"body_markdown":"Adding Spring Boot Data JPA Starter dependency solved the issue for me.\r\n\r\n**Maven**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Gradle**\r\n\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;, version: &#39;2.2.6.RELEASE&#39;\r\n\r\nOr you can go directly [here][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/2.2.6.RELEASE","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Adding Spring Boot Data JPA Starter dependency solved the issue for me.</p>\n\n<p><strong>Maven</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Gradle</strong></p>\n\n<pre><code>compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '2.2.6.RELEASE'\n</code></pre>\n\n<p>Or you can go directly <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/2.2.6.RELEASE\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3759770,"reputation":23,"user_id":3921421,"display_name":"Staxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587105189,"creation_date":1587105189,"answer_id":61265437,"question_id":40384056,"body_markdown":"It might help somebody. I had the same problem, same error message, same everything. I tried solutions from other answers, didn&#39;t help until I realised that the bean I am using has the same name as the one that is actually been autowired. It happened in the midst of refactor, thus I had to rename the class, which resulted positively. Cheers","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>It might help somebody. I had the same problem, same error message, same everything. I tried solutions from other answers, didn't help until I realised that the bean I am using has the same name as the one that is actually been autowired. It happened in the midst of refactor, thus I had to rename the class, which resulted positively. Cheers</p>\n"},{"tags":[],"owner":{"account_id":18723757,"reputation":31,"user_id":13650952,"display_name":"user13650952"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590897570,"creation_date":1590897570,"answer_id":62111382,"question_id":40384056,"body_markdown":"I faced the same issue. Mongo DB repository was identified by Spring boot, but it was not creating Bean for a repository interface that extended the mongo repository.\r\n\r\nThe issue in my case was incorrect version specification in maven pom for &quot;spring + mango&quot;. I have changed the artifact&#39;s group id and it all worked like magic. no annotations needed as spring boot took care of everything. \r\n\r\nDuring my problem resolution, I was all over web searching for solutions and realized that this problem is actually project configuration related, anyone facing this issue should first check their project setup and enable debug from spring to get more details on failure and pay close attention to where exactly in the process, the creation has failed.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I faced the same issue. Mongo DB repository was identified by Spring boot, but it was not creating Bean for a repository interface that extended the mongo repository.</p>\n\n<p>The issue in my case was incorrect version specification in maven pom for \"spring + mango\". I have changed the artifact's group id and it all worked like magic. no annotations needed as spring boot took care of everything. </p>\n\n<p>During my problem resolution, I was all over web searching for solutions and realized that this problem is actually project configuration related, anyone facing this issue should first check their project setup and enable debug from spring to get more details on failure and pay close attention to where exactly in the process, the creation has failed.</p>\n"},{"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591221746,"creation_date":1591221746,"answer_id":62183465,"question_id":40384056,"body_markdown":"If you use `interface` you can extends `CrudRepository&lt;Applicant,Long&gt;` with `@Repository` annotation.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>If you use <code>interface</code> you can extends <code>CrudRepository&lt;Applicant,Long&gt;</code> with <code>@Repository</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":5488688,"reputation":1124,"user_id":4362715,"display_name":"redoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591983620,"creation_date":1591983620,"answer_id":62349619,"question_id":40384056,"body_markdown":"Issue can also appeared when you use per example `@EnableMongoRepositories(YOUR_MONGO_REPOSITORIES_PACKAGE)` and later you renamed the package name or moved it in another place.\r\n\r\nVery often faced it within a multi-module maven project and spring boot","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Issue can also appeared when you use per example <code>@EnableMongoRepositories(YOUR_MONGO_REPOSITORIES_PACKAGE)</code> and later you renamed the package name or moved it in another place.</p>\n\n<p>Very often faced it within a multi-module maven project and spring boot</p>\n"},{"tags":[],"owner":{"account_id":2697123,"reputation":353,"user_id":2328851,"display_name":"biddut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592595788,"creation_date":1592595788,"answer_id":62477521,"question_id":40384056,"body_markdown":"There is a chance that you are trying to *@autowired* an *interface* before implement the interface.\r\n\r\nexample solution: \r\n\r\n```\r\n    **HomeController.java**\r\n    class HomeController{\r\n\r\n      @Autowired\r\n\t  UserService userService;\r\n    .....\r\n    }\r\n----------------------------------------------------------------------\r\n    **UserService.java** \r\n    public interface UserService {\r\n\t\tUser findByUsername(String username);\r\n    .....\r\n    }\r\n-----------------------------------------------------------------------\r\n     **UserServiceImpl.java**\r\n     @Service\r\n     public class UserServiceImpl implements UserService{\r\n\t\r\n         public User findByUsername(String username) {\r\n           return userDao.findByUsername(username);\r\n         }\r\n        ....\r\n      }\r\n\r\n&lt;i&gt;This is not italic&lt;/i&gt;, and [this is not a link](https://example.com)\r\n```","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>There is a chance that you are trying to <em>@autowired</em> an <em>interface</em> before implement the interface.</p>\n\n<p>example solution: </p>\n\n<pre><code>    **HomeController.java**\n    class HomeController{\n\n      @Autowired\n      UserService userService;\n    .....\n    }\n----------------------------------------------------------------------\n    **UserService.java** \n    public interface UserService {\n        User findByUsername(String username);\n    .....\n    }\n-----------------------------------------------------------------------\n     **UserServiceImpl.java**\n     @Service\n     public class UserServiceImpl implements UserService{\n\n         public User findByUsername(String username) {\n           return userDao.findByUsername(username);\n         }\n        ....\n      }\n\n&lt;i&gt;This is not italic&lt;/i&gt;, and [this is not a link](https://example.com)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593445782,"creation_date":1593445782,"answer_id":62641890,"question_id":40384056,"body_markdown":"**Remove annotation type configuration like @Service from the thread run method.**\r\n\r\n    @Service, @Component\r\n\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p><strong>Remove annotation type configuration like @Service from the thread run method.</strong></p>\n<pre><code>@Service, @Component\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594571633,"creation_date":1594571633,"answer_id":62863685,"question_id":40384056,"body_markdown":"Try configuring the project structure as given below:\r\n\r\nPut all the repo, service, packages in the child package of the main package:\r\n\r\n    package com.leisure.moviemax;  //Parent package\r\n            \r\n    @SpringBootApplication\r\n    @PropertySource(value={&quot;classpath:conf.properties&quot;})\r\n        \r\n    public class MoviemaxApplication implements CommandLineRunner {\r\n            \r\n    package com.leisure.moviemax.repo; //child package\r\n\r\n    @Repository\r\n    public interface UsrRepository extends JpaRepository&lt;UserEntity,String&gt; {","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Try configuring the project structure as given below:</p>\n<p>Put all the repo, service, packages in the child package of the main package:</p>\n<pre><code>package com.leisure.moviemax;  //Parent package\n        \n@SpringBootApplication\n@PropertySource(value={&quot;classpath:conf.properties&quot;})\n    \npublic class MoviemaxApplication implements CommandLineRunner {\n        \npackage com.leisure.moviemax.repo; //child package\n\n@Repository\npublic interface UsrRepository extends JpaRepository&lt;UserEntity,String&gt; {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15570807,"reputation":1,"user_id":11233320,"display_name":"popcornw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596473157,"creation_date":1596473157,"answer_id":63233575,"question_id":40384056,"body_markdown":"reminder that spring doesn&#39;t scan the world , it uses targeted scanning wich means everything under the package where springbootapplication is stored.\r\ntherefore  this error &quot;Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]&quot; may appear because you have services interfaces in a different springbootapplication  package .\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>reminder that spring doesn't scan the world , it uses targeted scanning wich means everything under the package where springbootapplication is stored.\ntherefore  this error &quot;Consider defining a bean of type 'package' in your configuration [Spring-Boot]&quot; may appear because you have services interfaces in a different springbootapplication  package .</p>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598278333,"creation_date":1598278333,"answer_id":63562782,"question_id":40384056,"body_markdown":"check the base package name.If the package has different modules that are not prefixed with base package name.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>check the base package name.If the package has different modules that are not prefixed with base package name.</p>\n"},{"tags":[],"owner":{"account_id":13504124,"reputation":139,"user_id":9742752,"display_name":"Chakri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600152115,"creation_date":1600152115,"answer_id":63896449,"question_id":40384056,"body_markdown":"Moving the Springbootapplication(application.java) file to another package resolved the issue for me. Keep it separate from the controllers and repositories. ","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Moving the Springbootapplication(application.java) file to another package resolved the issue for me. Keep it separate from the controllers and repositories.</p>\n"},{"tags":[],"owner":{"account_id":5747337,"reputation":365,"user_id":4538204,"display_name":"eriegz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601404448,"creation_date":1601404448,"answer_id":64125621,"question_id":40384056,"body_markdown":"**Important:**\r\n==============\r\nFor anybody who was brought here by googling the generic bean error message, but who is actually trying to add a ***feign client*** to their Spring Boot application via the `@FeignClient` annotation on your client interface, none of the above solutions will work for you.\r\n\r\nTo fix the problem, you need to add the `@EnableFeignClients` annotation to your Application class, like so:\r\n\r\n```\r\n@SpringBootApplication\r\n// ... (other pre-existing annotations) ...\r\n@EnableFeignClients // &lt;------- THE IMPORTANT ONE\r\npublic class Application {\r\n```\r\n\r\nSide note: adding a `@ComponentScan(...)` beneath `@SpringBootApplication` ***is redundant***, and your IDE should flag it as such (IntelliJ IDEA does, at least).","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<h1><strong>Important:</strong></h1>\n<p>For anybody who was brought here by googling the generic bean error message, but who is actually trying to add a <em><strong>feign client</strong></em> to their Spring Boot application via the <code>@FeignClient</code> annotation on your client interface, none of the above solutions will work for you.</p>\n<p>To fix the problem, you need to add the <code>@EnableFeignClients</code> annotation to your Application class, like so:</p>\n<pre><code>@SpringBootApplication\n// ... (other pre-existing annotations) ...\n@EnableFeignClients // &lt;------- THE IMPORTANT ONE\npublic class Application {\n</code></pre>\n<p>Side note: adding a <code>@ComponentScan(...)</code> beneath <code>@SpringBootApplication</code> <em><strong>is redundant</strong></em>, and your IDE should flag it as such (IntelliJ IDEA does, at least).</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603687899,"creation_date":1603687899,"answer_id":64531683,"question_id":40384056,"body_markdown":"To fix errors like:\r\n\r\n - Consider defining a bean of type &#39;package&#39; in your configuration \r\n - [Not a managed type][1]\r\n\r\nIt happened to me that the `LocalContainerEntityManagerFactoryBean` class did not have the `setPackagesToScan` method. Then I proceeded to use the `@EntityScan` annotation which doesn&#39;t work correctly.\r\n\r\nLater I could find the method `setPackagesToScan()` but in another module, so the problem came from the dependency which did not have this method because it was an old version.\r\n\r\nThis method can be found in the **spring-data-jpa** or **[spring-orm][2]** dependency of **updated versions**:\r\n\r\nFrom:\r\n\r\n    implementation(&quot;org.springframework&quot;, &quot;spring-orm&quot;, &quot;2.5.1&quot;) \r\n\r\nTo:\r\n\r\n    implementation(&quot;org.springframework&quot;, &quot;spring-orm&quot;, &quot;5.2.9.RELEASE&quot;)\r\n\r\nOr to: \r\n\r\n    implementation(&quot;org.springframework.data&quot;, &quot;spring-data-jpa&quot;, &quot;2.3.4.RELEASE&quot;)\r\n\r\n\r\n\r\n\r\n\r\n\r\nIn addition, it was not necessary to add other annotations other than that of\r\n`@SprintBootApplication`.\r\n\r\n    @SpringBootApplication\r\n    open class MoebiusApplication : SpringBootServletInitializer()\r\n\r\n    @Bean\r\n    open fun entityManagerFactory() : LocalContainerEntityManagerFactoryBean {\r\n        val em = LocalContainerEntityManagerFactoryBean()\r\n        em.dataSource = dataSource()\r\n        em.setPackagesToScan(&quot;app.mobius.domain.entity&quot;)\r\n        ... \r\n    }\r\n\r\n\r\nGL\r\n\r\n[Source][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/28664064/5279996\r\n  [2]: https://mvnrepository.com/artifact/org.springframework/spring-orm\r\n  [3]: https://www.baeldung.com/the-persistence-layer-with-spring-and-jpa","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>To fix errors like:</p>\n<ul>\n<li>Consider defining a bean of type 'package' in your configuration</li>\n<li><a href=\"https://stackoverflow.com/q/28664064/5279996\">Not a managed type</a></li>\n</ul>\n<p>It happened to me that the <code>LocalContainerEntityManagerFactoryBean</code> class did not have the <code>setPackagesToScan</code> method. Then I proceeded to use the <code>@EntityScan</code> annotation which doesn't work correctly.</p>\n<p>Later I could find the method <code>setPackagesToScan()</code> but in another module, so the problem came from the dependency which did not have this method because it was an old version.</p>\n<p>This method can be found in the <strong>spring-data-jpa</strong> or <strong><a href=\"https://mvnrepository.com/artifact/org.springframework/spring-orm\" rel=\"nofollow noreferrer\">spring-orm</a></strong> dependency of <strong>updated versions</strong>:</p>\n<p>From:</p>\n<pre><code>implementation(&quot;org.springframework&quot;, &quot;spring-orm&quot;, &quot;2.5.1&quot;) \n</code></pre>\n<p>To:</p>\n<pre><code>implementation(&quot;org.springframework&quot;, &quot;spring-orm&quot;, &quot;5.2.9.RELEASE&quot;)\n</code></pre>\n<p>Or to:</p>\n<pre><code>implementation(&quot;org.springframework.data&quot;, &quot;spring-data-jpa&quot;, &quot;2.3.4.RELEASE&quot;)\n</code></pre>\n<p>In addition, it was not necessary to add other annotations other than that of\n<code>@SprintBootApplication</code>.</p>\n<pre><code>@SpringBootApplication\nopen class MoebiusApplication : SpringBootServletInitializer()\n\n@Bean\nopen fun entityManagerFactory() : LocalContainerEntityManagerFactoryBean {\n    val em = LocalContainerEntityManagerFactoryBean()\n    em.dataSource = dataSource()\n    em.setPackagesToScan(&quot;app.mobius.domain.entity&quot;)\n    ... \n}\n</code></pre>\n<p>GL</p>\n<p><a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-and-jpa\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":13671605,"reputation":9,"user_id":9864141,"display_name":"MagoVins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611765244,"creation_date":1611765244,"answer_id":65923380,"question_id":40384056,"body_markdown":"For me worked a clean install on pom.xml\r\n\r\n 1. right click on pom.xml\r\n 2. expand Run As\r\n 3. select Maven build\r\n 4. set Goals to the command *clean install*\r\n\r\n 5. apply &gt; run &gt; close\r\n\r\n\r\n\r\n\r\n\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>For me worked a clean install on pom.xml</p>\n<ol>\n<li><p>right click on pom.xml</p>\n</li>\n<li><p>expand Run As</p>\n</li>\n<li><p>select Maven build</p>\n</li>\n<li><p>set Goals to the command <em>clean install</em></p>\n</li>\n<li><p>apply &gt; run &gt; close</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18066457,"reputation":11,"user_id":13132205,"display_name":"ZoellnD"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612473900,"creation_date":1612473900,"answer_id":66054014,"question_id":40384056,"body_markdown":"For me - using Spring Boot with MongoDB, the following was the Problem:\r\n\r\nIn my POM.xml I had:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-starter-data-mongodb&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nbut I needed the following:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n(Short: Add &quot;spring-boot-...&quot; instead of only &quot;spring-...&quot;)","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>For me - using Spring Boot with MongoDB, the following was the Problem:</p>\n<p>In my POM.xml I had:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but I needed the following:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>(Short: Add &quot;spring-boot-...&quot; instead of only &quot;spring-...&quot;)</p>\n"},{"tags":[],"owner":{"account_id":14960788,"reputation":95,"user_id":10800579,"display_name":"Jo&#227;o Pedro Andrade Marques"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1663491949,"creation_date":1621441411,"answer_id":67607126,"question_id":40384056,"body_markdown":"`@Service` should be imported from `org.springframework.stereotype.Service`\r\n\r\nyou might be importing it from `org.jvnet.hk2.annotations.Service`\r\n\r\nIn `CrudRepository`, check if the `Entity` class @Id using `import javax.persistence.Id;`, not `import org.springframework.data.annotation.Id;`","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p><code>@Service</code> should be imported from <code>org.springframework.stereotype.Service</code></p>\n<p>you might be importing it from <code>org.jvnet.hk2.annotations.Service</code></p>\n<p>In <code>CrudRepository</code>, check if the <code>Entity</code> class @Id using <code>import javax.persistence.Id;</code>, not <code>import org.springframework.data.annotation.Id;</code></p>\n"},{"tags":[],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625214083,"creation_date":1625214083,"answer_id":68221899,"question_id":40384056,"body_markdown":"In my case, our project has a Configuration class, so I just added mine like this\r\n\r\n    @Configuration\r\n    public class DependencyConfiguration {\r\n    \r\n        @Bean\r\n        public ActivityService activityService(\r\n                @Value(&quot;${send.money.ms.activity.url}&quot;) final String activityHistoryUrl,\r\n                final HttpRestService httpRestService\r\n        ) {\r\n            return new ActivityServiceImpl(activityHistoryUrl, httpRestService);\r\n        }\r\n\r\n.......................\r\n\r\n\r\nThen the microservice started alright.\r\n\r\nPS: I encountered this issue even though the library I need is imported properly and could be seen on External Libraries imported.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>In my case, our project has a Configuration class, so I just added mine like this</p>\n<pre><code>@Configuration\npublic class DependencyConfiguration {\n\n    @Bean\n    public ActivityService activityService(\n            @Value(&quot;${send.money.ms.activity.url}&quot;) final String activityHistoryUrl,\n            final HttpRestService httpRestService\n    ) {\n        return new ActivityServiceImpl(activityHistoryUrl, httpRestService);\n    }\n</code></pre>\n<p>.......................</p>\n<p>Then the microservice started alright.</p>\n<p>PS: I encountered this issue even though the library I need is imported properly and could be seen on External Libraries imported.</p>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626419965,"creation_date":1626419965,"answer_id":68404987,"question_id":40384056,"body_markdown":"This error message also pops up when you fail to annotate the Entity classes associated with your bean with the **`@Entity` Annotation**.\r\n\r\nMy `ComponentScan` worked fine but this popped up for the `@repository` interface:\r\n\r\n    @Repository\r\n    public interface ExpenseReportAuditRepository extends \r\n         PagingAndSortingRepository&lt;ExpenseReportAudit, Integer&gt; {\r\n\r\nbecause I failed to add the @Entity annotation to `ExpenseReportAudit`\r\n\r\n    @Entity // &lt;--- Adding this fixed the issue.\r\n    public class ExpenseReportAudit {\r\n      .....","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>This error message also pops up when you fail to annotate the Entity classes associated with your bean with the <strong><code>@Entity</code> Annotation</strong>.</p>\n<p>My <code>ComponentScan</code> worked fine but this popped up for the <code>@repository</code> interface:</p>\n<pre><code>@Repository\npublic interface ExpenseReportAuditRepository extends \n     PagingAndSortingRepository&lt;ExpenseReportAudit, Integer&gt; {\n</code></pre>\n<p>because I failed to add the @Entity annotation to <code>ExpenseReportAudit</code></p>\n<pre><code>@Entity // &lt;--- Adding this fixed the issue.\npublic class ExpenseReportAudit {\n  .....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17326114,"reputation":1,"user_id":12550302,"display_name":"Prathamesh Sanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631695014,"creation_date":1631681879,"answer_id":69187300,"question_id":40384056,"body_markdown":"If you are using Eclipse and tried all possibilities and you still have errors, then try to update the project using Maven. You can to this like this: `Right click on your project-&gt; Maven -&gt; Update Project`.\r\n\r\nIt helped me to solve my errors. Sometimes Eclipse shows this error if a project is not updated with all repos which you declared in the pom file.  ","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>If you are using Eclipse and tried all possibilities and you still have errors, then try to update the project using Maven. You can to this like this: <code>Right click on your project-&gt; Maven -&gt; Update Project</code>.</p>\n<p>It helped me to solve my errors. Sometimes Eclipse shows this error if a project is not updated with all repos which you declared in the pom file.</p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631826306,"creation_date":1631826306,"answer_id":69215148,"question_id":40384056,"body_markdown":"I had the same issue while using MongoDB due to incorrect basePackages name of the @Repository class\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackages = {&quot;org.mycompany.repository.mongo.primary&quot;}, mongoTemplateRef = &quot;getMongoTemplatePrimary&quot;)","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I had the same issue while using MongoDB due to incorrect basePackages name of the @Repository class</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackages = {&quot;org.mycompany.repository.mongo.primary&quot;}, mongoTemplateRef = &quot;getMongoTemplatePrimary&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22100230,"reputation":31,"user_id":16356814,"display_name":"R_Shaad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636651891,"creation_date":1636651891,"answer_id":69932546,"question_id":40384056,"body_markdown":"I had a similar issue, exact same error message.\r\nBut my error only happened when I tried to install and run on my local docker.\r\n\r\nTurns out the issue was profile dependant.\r\n\r\nI had two classes that implemented the interface, one with a production Profile @Profile(&quot;prod&quot;)\r\nand the second with the &quot;Test Environment&quot; profiles.\r\n@Profile(&quot;!local &amp; !prod&quot;)\r\n\r\nHowever, there was no active profile for when I tried to run locally (on Docker).\r\n\r\nI created a 3rd class that implemented the interface for a local profile @Profile(&quot;local&quot;)  and this fixed my issue","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I had a similar issue, exact same error message.\nBut my error only happened when I tried to install and run on my local docker.</p>\n<p>Turns out the issue was profile dependant.</p>\n<p>I had two classes that implemented the interface, one with a production Profile @Profile(&quot;prod&quot;)\nand the second with the &quot;Test Environment&quot; profiles.\n@Profile(&quot;!local &amp; !prod&quot;)</p>\n<p>However, there was no active profile for when I tried to run locally (on Docker).</p>\n<p>I created a 3rd class that implemented the interface for a local profile @Profile(&quot;local&quot;)  and this fixed my issue</p>\n"},{"tags":[],"owner":{"account_id":22525066,"reputation":1,"user_id":16717974,"display_name":"YtachY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643946154,"creation_date":1643946154,"answer_id":70981185,"question_id":40384056,"body_markdown":"In my case, I have just added `@Component` annotations to some classes (to make sure every Classes have configuration).\r\n\r\n`@Component`, `@Service` or `@Repository` are almost familiar. [Baeldung link reference][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-component-annotation","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>In my case, I have just added <code>@Component</code> annotations to some classes (to make sure every Classes have configuration).</p>\n<p><code>@Component</code>, <code>@Service</code> or <code>@Repository</code> are almost familiar. <a href=\"https://www.baeldung.com/spring-component-annotation\" rel=\"nofollow noreferrer\">Baeldung link reference</a></p>\n"},{"tags":[],"owner":{"account_id":371967,"reputation":4804,"user_id":720773,"display_name":"Gary Sheppard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648147359,"creation_date":1648147359,"answer_id":71607859,"question_id":40384056,"body_markdown":"In my case, this problem was caused by an errant `spring.autoconfigure.exclude` property value. I had this property because my Spring Boot project initially didn&#39;t connect to a database, but then I added my first `JpaRepository` class and tried to declare an instance of it with the `@Autowired` annotation in a `@RestController` class.\r\n\r\nThe line in `application.properties` that caused the problem:\r\n\r\n```\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration\r\n```\r\n\r\nOnce I deleted or commented out that line, my Spring Boot service ran just fine.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>In my case, this problem was caused by an errant <code>spring.autoconfigure.exclude</code> property value. I had this property because my Spring Boot project initially didn't connect to a database, but then I added my first <code>JpaRepository</code> class and tried to declare an instance of it with the <code>@Autowired</code> annotation in a <code>@RestController</code> class.</p>\n<p>The line in <code>application.properties</code> that caused the problem:</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration\n</code></pre>\n<p>Once I deleted or commented out that line, my Spring Boot service ran just fine.</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652797117,"creation_date":1652797117,"answer_id":72275698,"question_id":40384056,"body_markdown":"For me, it was because of using **@Value** in class that use lombok **@RequiredArgsConstructor** annotation.\r\nJust changed it to constructor injection.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>For me, it was because of using <strong>@Value</strong> in class that use lombok <strong>@RequiredArgsConstructor</strong> annotation.\nJust changed it to constructor injection.</p>\n"},{"tags":[],"owner":{"account_id":24687553,"reputation":11,"user_id":18580534,"display_name":"burgic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654594989,"creation_date":1654594989,"answer_id":72529055,"question_id":40384056,"body_markdown":"Had the same error, transpired it was an issue with the application properties with incorrect username, password and driver and completely unrelated to Bean.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Had the same error, transpired it was an issue with the application properties with incorrect username, password and driver and completely unrelated to Bean.</p>\n"},{"tags":[],"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656690385,"creation_date":1656690385,"answer_id":72831714,"question_id":40384056,"body_markdown":"I had the same problem, i was get this error for redis repository like this:\r\n\r\n    @Repository\r\n    public interface AppTokenRepository extends CrudRepository&lt;AppToken, String&gt; {\r\n    }\r\n\r\n\r\n    @RedisHash(&quot;APP_TOKEN&quot;)\r\n    public class AppToken implements Serializable {\r\n        private String id;\r\n        private String accessToken;\r\n    }\r\n\r\nI solved my issue by adding `@EnableRedisRepositories` over spring boot application class.\r\n\r\n","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I had the same problem, i was get this error for redis repository like this:</p>\n<pre><code>@Repository\npublic interface AppTokenRepository extends CrudRepository&lt;AppToken, String&gt; {\n}\n\n\n@RedisHash(&quot;APP_TOKEN&quot;)\npublic class AppToken implements Serializable {\n    private String id;\n    private String accessToken;\n}\n</code></pre>\n<p>I solved my issue by adding <code>@EnableRedisRepositories</code> over spring boot application class.</p>\n"},{"tags":[],"owner":{"account_id":25666606,"reputation":1,"user_id":19431449,"display_name":"omar guerrero"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657061577,"creation_date":1657061577,"answer_id":72876320,"question_id":40384056,"body_markdown":"```\r\n@SpringBootApplication\r\n@EnableFeignClients\r\n@EnableEurekaClient\r\n@EnableHystrix\r\n@EnableHystrixDashboard\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n\r\n```","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<pre><code>@SpringBootApplication\n@EnableFeignClients\n@EnableEurekaClient\n@EnableHystrix\n@EnableHystrixDashboard\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4716304,"reputation":223,"user_id":3815372,"display_name":"Sina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669118632,"creation_date":1669046771,"answer_id":74521713,"question_id":40384056,"body_markdown":"I also received a similar error:\r\n\r\n    Consider defining a bean of type &#39;A_REPOSITORY_INTERFACE&#39; in your configuration.\r\n\r\nThen, according to [Akash][1]e&#39;s [solution][2], I added `@EnableJpaRepositories` to my main class. After that, I received the following error instead:\r\n\r\n    Consider defining a bean of type &#39;entityManagerFactory&#39; in your configuration.\r\n\r\nNext, I went through all the responses here, googled a lot and read a lot of other resources, which didn&#39;t worked out.\r\n\r\nFinally, I was lucky to have found the solution on a blog/website [(javatute.com)][3]. I just followed its examples.\r\n\r\nLike suggested by many here, I added `@ComponentScan(&quot;YOUR_BASE_PACKAGE.*&quot;)` and `@EntityScan(&quot;YOUR_BASE_PACKAGE.*&quot;)` to my main app class, followed by adding a `config` package and creating a `JpaConfig` class like:\r\n\r\n    package YOUR_BASE_PACKAGE.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;YOUR_BASE_PACKAGE&quot;)\r\n    public class JpaConfig {\r\n    \r\n    }\r\n\r\nThe blog I followed:\r\n\r\n[Consider defining a bean of type in your configuration][4]\r\n\r\nwhich lead me to:\r\n\r\n[Error creating bean with name entityManagerFactory defined in class path resource : Invocation of init method failed][5]\r\n\r\nand finally to:\r\n\r\n[Many To Many Mapping In Hibernate/JPA Using Spring Boot And Oracle][6]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6398838/aakash-k-t\r\n  [2]: https://stackoverflow.com/a/40388609/3815372\r\n  [3]: https://javatute.com/\r\n  [4]: https://javatute.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/\r\n  [5]: https://javatute.com/spring-data-jpa/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resource-invocation-of-init-method-failed/\r\n  [6]: https://javatute.com/hibernate/many-to-many-mapping-annotation-example-in-hibernate-jpa-using-spring-boot-and-oracle/","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I also received a similar error:</p>\n<pre><code>Consider defining a bean of type 'A_REPOSITORY_INTERFACE' in your configuration.\n</code></pre>\n<p>Then, according to <a href=\"https://stackoverflow.com/users/6398838/aakash-k-t\">Akash</a>e's <a href=\"https://stackoverflow.com/a/40388609/3815372\">solution</a>, I added <code>@EnableJpaRepositories</code> to my main class. After that, I received the following error instead:</p>\n<pre><code>Consider defining a bean of type 'entityManagerFactory' in your configuration.\n</code></pre>\n<p>Next, I went through all the responses here, googled a lot and read a lot of other resources, which didn't worked out.</p>\n<p>Finally, I was lucky to have found the solution on a blog/website <a href=\"https://javatute.com/\" rel=\"nofollow noreferrer\">(javatute.com)</a>. I just followed its examples.</p>\n<p>Like suggested by many here, I added <code>@ComponentScan(&quot;YOUR_BASE_PACKAGE.*&quot;)</code> and <code>@EntityScan(&quot;YOUR_BASE_PACKAGE.*&quot;)</code> to my main app class, followed by adding a <code>config</code> package and creating a <code>JpaConfig</code> class like:</p>\n<pre><code>package YOUR_BASE_PACKAGE.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@Configuration\n@EnableJpaRepositories(basePackages = &quot;YOUR_BASE_PACKAGE&quot;)\npublic class JpaConfig {\n\n}\n</code></pre>\n<p>The blog I followed:</p>\n<p><a href=\"https://javatute.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/\" rel=\"nofollow noreferrer\">Consider defining a bean of type in your configuration</a></p>\n<p>which lead me to:</p>\n<p><a href=\"https://javatute.com/spring-data-jpa/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resource-invocation-of-init-method-failed/\" rel=\"nofollow noreferrer\">Error creating bean with name entityManagerFactory defined in class path resource : Invocation of init method failed</a></p>\n<p>and finally to:</p>\n<p><a href=\"https://javatute.com/hibernate/many-to-many-mapping-annotation-example-in-hibernate-jpa-using-spring-boot-and-oracle/\" rel=\"nofollow noreferrer\">Many To Many Mapping In Hibernate/JPA Using Spring Boot And Oracle</a></p>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669820286,"creation_date":1669820286,"answer_id":74629840,"question_id":40384056,"body_markdown":"I fix it by add this config to Application.java file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YbBHm.png","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I fix it by add this config to Application.java file.</p>\n<p><a href=\"https://i.stack.imgur.com/YbBHm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YbBHm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674819705,"creation_date":1674809805,"answer_id":75255866,"question_id":40384056,"body_markdown":"This can also happen if you have **two beans** with the **same name**.\r\n\r\nFor example if you have factory method `monkey` creating Monkey and you mistakenly name another factory method (creating Car) also `monkey`.\r\n\r\nProblematic code:\r\n```java\r\n    @Bean\r\n    public Car monkey() {\r\n        return new Car();\r\n    }\r\n```\r\n    \r\nShould be:\r\n```java\r\n    @Bean\r\n    public Car car() {\r\n        return new Car();\r\n    }\r\n```\r\nReference:\r\n\r\n&gt; By default, the bean name will be the same as the method name...\r\n\r\n [Spring doc 1][1]\r\n\r\n&gt; Autowiring by property name. Spring looks for a bean with the same\r\n&gt; name as the property that needs to be autowired. For example, if a\r\n&gt; bean definition is set to autowire by name and it contains a master\r\n&gt; property (that is, it has a setMaster(..) method), Spring looks for a\r\n&gt; bean definition named master and uses it to set the property.\r\n\r\n [Spring doc 2][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/5.2.3.RELEASE/spring-framework-reference/core.html#beans-factory-autowire","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>This can also happen if you have <strong>two beans</strong> with the <strong>same name</strong>.</p>\n<p>For example if you have factory method <code>monkey</code> creating Monkey and you mistakenly name another factory method (creating Car) also <code>monkey</code>.</p>\n<p>Problematic code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public Car monkey() {\n        return new Car();\n    }\n</code></pre>\n<p>Should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public Car car() {\n        return new Car();\n    }\n</code></pre>\n<p>Reference:</p>\n<blockquote>\n<p>By default, the bean name will be the same as the method name...</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html\" rel=\"nofollow noreferrer\">Spring doc 1</a></p>\n<blockquote>\n<p>Autowiring by property name. Spring looks for a bean with the same\nname as the property that needs to be autowired. For example, if a\nbean definition is set to autowire by name and it contains a master\nproperty (that is, it has a setMaster(..) method), Spring looks for a\nbean definition named master and uses it to set the property.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/5.2.3.RELEASE/spring-framework-reference/core.html#beans-factory-autowire\" rel=\"nofollow noreferrer\">Spring doc 2</a></p>\n"},{"tags":[],"owner":{"account_id":27684233,"reputation":1,"user_id":21132318,"display_name":"Aravind Mamidi C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675334013,"creation_date":1675334013,"answer_id":75321837,"question_id":40384056,"body_markdown":"Use `@Component` for the Class where the Bean is not found. \r\nAnd Use \r\n\r\n&gt; @ComponentScan(&quot;&lt;Use_The_Root_Directory_Of_Main_Class&gt;&quot;)\r\n\r\n.\r\nThis can happen when the Components are spread over many directories.\r\n\r\n    @Configuration\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.example.demo&quot;})\r\n    public class Application {\r\n    }","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Use <code>@Component</code> for the Class where the Bean is not found.\nAnd Use</p>\n<blockquote>\n<p>@ComponentScan(&quot;&lt;Use_The_Root_Directory_Of_Main_Class&gt;&quot;)</p>\n</blockquote>\n<p>.\nThis can happen when the Components are spread over many directories.</p>\n<pre><code>@Configuration\n@SpringBootApplication\n@ComponentScan({&quot;com.example.demo&quot;})\npublic class Application {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27508538,"reputation":1,"user_id":20990875,"display_name":"Harun yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676287201,"creation_date":1676287201,"answer_id":75435164,"question_id":40384056,"body_markdown":"i had the **&quot;Action:\r\nConsider defining a bean of type &#39;blabla.blabla.blabla.repository&#39; in your configuration.&quot;** error and this is how i fixed it;\r\n\r\nI was work with a MongoDB. that so, my &quot;EmployeeRepo.java interface&quot; had to contains as like this;\r\n\r\n**public interface EmployeeRepo extends MongoRepository&lt;Employee, Long&gt; **\r\n\r\nFirstly, the area with the **MongoRepository** part was like this **&quot;JPARepository&quot;**. Then i changed with the MongoRepository. And the problem fixed","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>i had the <strong>&quot;Action:\nConsider defining a bean of type 'blabla.blabla.blabla.repository' in your configuration.&quot;</strong> error and this is how i fixed it;</p>\n<p>I was work with a MongoDB. that so, my &quot;EmployeeRepo.java interface&quot; had to contains as like this;</p>\n<p>**public interface EmployeeRepo extends MongoRepository&lt;Employee, Long&gt; **</p>\n<p>Firstly, the area with the <strong>MongoRepository</strong> part was like this <strong>&quot;JPARepository&quot;</strong>. Then i changed with the MongoRepository. And the problem fixed</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48189,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691657586,"creation_date":1691657586,"answer_id":76874116,"question_id":40384056,"body_markdown":"Try to remove \r\n\r\n```java\r\n@ComponentScan({&quot;com.delivery.service&quot;,&quot;com.delivery.request&quot;})\r\n```\r\n\r\nFile `WebServiceApplication.java` at folder **where the most outter** of all files/packages.\r\n\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class WebServiceApplication extends SpringBootServletInitializer {\r\n\r\n    @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n        return builder.sources(WebServiceApplication.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(WebServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n```","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>Try to remove</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan({&quot;com.delivery.service&quot;,&quot;com.delivery.request&quot;})\n</code></pre>\n<p>File <code>WebServiceApplication.java</code> at folder <strong>where the most outter</strong> of all files/packages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class WebServiceApplication extends SpringBootServletInitializer {\n\n    @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(WebServiceApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6091899,"reputation":11481,"user_id":4753897,"accept_rate":71,"display_name":"Mike3355"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862129,"favorite_count":0,"down_vote_count":0,"up_vote_count":233,"accepted_answer_id":40388609,"answer_count":54,"score":233,"last_activity_date":1698801456,"creation_date":1478101377,"question_id":40384056,"body_markdown":"I am getting the following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method setApplicant in webService.controller.RequestController required a bean of type &#39;com.service.applicant.Applicant&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.service.applicant.Applicant&#39; in your configuration.\r\n\r\n\r\nI have never seen this error before but it&#39;s odd that the `@Autowire` is not working. Here is the project structure:\r\n\r\n\r\nApplicant Interface\r\n\r\n    public interface Applicant {\r\n    \t\r\n    \tTApplicant findBySSN(String ssn) throws ServletException;\r\n    \t\r\n    \tvoid deleteByssn(String ssn) throws ServletException;\r\n    \t\r\n    \tvoid createApplicant(TApplicant tApplicant) throws ServletException;\r\n    \t\r\n    \tvoid updateApplicant(TApplicant tApplicant) throws ServletException;\r\n    \t\r\n    \tList&lt;TApplicant&gt; getAllApplicants() throws ServletException;\r\n    }\r\n\r\nApplicantImpl\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ApplicantImpl implements Applicant {\r\n    \r\n    private static Log log = LogFactory.getLog(ApplicantImpl.class);\r\n    \t\r\n    \tprivate TApplicantRepository applicantRepo;\r\n    \r\n    @Override\r\n    \tpublic List&lt;TApplicant&gt; getAllApplicants() throws ServletException {\r\n    \t\t\r\n    \t\tList&lt;TApplicant&gt; applicantList = applicantRepo.findAll();\r\n    \t\t\r\n    \t\treturn applicantList;\r\n    \t}\r\n    }\r\n\r\nNow I should be able to just Autowire Applicant and be able to access, however in this case it is not working when I call it in my `@RestController:`\r\n\r\n    @RestController\r\n    public class RequestController extends LoggingAware {\r\n    \t\r\n    \tprivate Applicant applicant;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void setApplicant(Applicant applicant){\r\n    \t\tthis.applicant = applicant;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/&quot;, method = RequestMethod.GET)\r\n    \tpublic String helloWorld() {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tList&lt;TApplicant&gt; applicantList = applicant.getAllApplicants();\r\n    \t\t\t\r\n    \t\t\tfor (TApplicant tApplicant : applicantList){\r\n    \t\t\t\tSystem.out.println(&quot;Name: &quot;+tApplicant.getIndivName()+&quot; SSN &quot;+tApplicant.getIndSsn());\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn &quot;home&quot;;\r\n    \t\t}\r\n    \t\tcatch (ServletException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn &quot;error&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n------------------------UPDATE 1-----------------------\r\n\r\nI added \r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;module-service&quot;)\r\n    public class WebServiceApplication extends SpringBootServletInitializer {\r\n    \r\n    \t@Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(WebServiceApplication.class);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WebServiceApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nand the error went away but nothing happened. However when I commented out everything dealing with `Applicant` in the `RestController` prior to adding `@ComponentScan()` I was able to return a string the `UI`, thus meaning my `RestController` was working, now it is being skipped. I got an ugly `Whitelabel Error Page` now.\r\n\r\n\r\n---------------------UPDATE 2------------------------------\r\n\r\nI added the base package of the bean it was complaining about. Error reads:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method setApplicantRepo in com.service.applicant.ApplicantImpl required a bean of type &#39;com.delivery.service.request.repository.TApplicantRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.delivery.request.request.repository.TApplicantRepository&#39; in your configuration.\r\n\r\nI added `@ComponentScan`\r\n\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.delivery.service&quot;,&quot;com.delivery.request&quot;})\r\n    public class WebServiceApplication extends SpringBootServletInitializer {\r\n    \r\n    \t@Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(WebServiceApplication.class);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WebServiceApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n----------------------------Update 3----------------------\r\n\r\nadding:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com&quot;)\r\n    public class WebServiceApplication extends SpringBootServletInitializer {\r\n\r\nstill is complaining about my `ApplicantImpl` class which `@Autowires` my repo `TApplicantRepository` into it.","title":"Consider defining a bean of type &#39;package&#39; in your configuration [Spring-Boot]","body":"<p>I am getting the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method setApplicant in webService.controller.RequestController required a bean of type 'com.service.applicant.Applicant' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.service.applicant.Applicant' in your configuration.\n</code></pre>\n<p>I have never seen this error before but it's odd that the <code>@Autowire</code> is not working. Here is the project structure:</p>\n<p>Applicant Interface</p>\n<pre><code>public interface Applicant {\n    \n    TApplicant findBySSN(String ssn) throws ServletException;\n    \n    void deleteByssn(String ssn) throws ServletException;\n    \n    void createApplicant(TApplicant tApplicant) throws ServletException;\n    \n    void updateApplicant(TApplicant tApplicant) throws ServletException;\n    \n    List&lt;TApplicant&gt; getAllApplicants() throws ServletException;\n}\n</code></pre>\n<p>ApplicantImpl</p>\n<pre><code>@Service\n@Transactional\npublic class ApplicantImpl implements Applicant {\n\nprivate static Log log = LogFactory.getLog(ApplicantImpl.class);\n    \n    private TApplicantRepository applicantRepo;\n\n@Override\n    public List&lt;TApplicant&gt; getAllApplicants() throws ServletException {\n        \n        List&lt;TApplicant&gt; applicantList = applicantRepo.findAll();\n        \n        return applicantList;\n    }\n}\n</code></pre>\n<p>Now I should be able to just Autowire Applicant and be able to access, however in this case it is not working when I call it in my <code>@RestController:</code></p>\n<pre><code>@RestController\npublic class RequestController extends LoggingAware {\n    \n    private Applicant applicant;\n    \n    @Autowired\n    public void setApplicant(Applicant applicant){\n        this.applicant = applicant;\n    }\n    \n    @RequestMapping(value=&quot;/&quot;, method = RequestMethod.GET)\n    public String helloWorld() {\n        \n        try {\n            List&lt;TApplicant&gt; applicantList = applicant.getAllApplicants();\n            \n            for (TApplicant tApplicant : applicantList){\n                System.out.println(&quot;Name: &quot;+tApplicant.getIndivName()+&quot; SSN &quot;+tApplicant.getIndSsn());\n            }\n            \n            return &quot;home&quot;;\n        }\n        catch (ServletException e) {\n            e.printStackTrace();\n        }\n        \n        return &quot;error&quot;;\n    }\n    \n}\n</code></pre>\n<p>------------------------UPDATE 1-----------------------</p>\n<p>I added</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;module-service&quot;)\npublic class WebServiceApplication extends SpringBootServletInitializer {\n\n    @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(WebServiceApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>and the error went away but nothing happened. However when I commented out everything dealing with <code>Applicant</code> in the <code>RestController</code> prior to adding <code>@ComponentScan()</code> I was able to return a string the <code>UI</code>, thus meaning my <code>RestController</code> was working, now it is being skipped. I got an ugly <code>Whitelabel Error Page</code> now.</p>\n<p>---------------------UPDATE 2------------------------------</p>\n<p>I added the base package of the bean it was complaining about. Error reads:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method setApplicantRepo in com.service.applicant.ApplicantImpl required a bean of type 'com.delivery.service.request.repository.TApplicantRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.delivery.request.request.repository.TApplicantRepository' in your configuration.\n</code></pre>\n<p>I added <code>@ComponentScan</code></p>\n<pre><code>@SpringBootApplication\n@ComponentScan({&quot;com.delivery.service&quot;,&quot;com.delivery.request&quot;})\npublic class WebServiceApplication extends SpringBootServletInitializer {\n\n    @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(WebServiceApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>----------------------------Update 3----------------------</p>\n<p>adding:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com&quot;)\npublic class WebServiceApplication extends SpringBootServletInitializer {\n</code></pre>\n<p>still is complaining about my <code>ApplicantImpl</code> class which <code>@Autowires</code> my repo <code>TApplicantRepository</code> into it.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698801033,"creation_date":1698801033,"answer_id":77399818,"question_id":77398887,"body_markdown":"Too much nesting for `ScrollView` - correct layout should be:\r\n```\r\n&lt;ConstraintLayout&gt;\r\n    &lt;RelativeLayout&gt;\r\n       ...\r\n    &lt;RelativeLayout/&gt;\r\n    &lt;ScrollView&gt;\r\n       ...\r\n    &lt;ScrollView/&gt;\r\n&lt;ConstraintLayout/&gt;\r\n```\r\n\r\nHere is the corrected xml code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/headerLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;16dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/saveButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Save&quot;\r\n            android:onClick=&quot;saveChanges&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/backButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Back&quot;\r\n            android:onClick=&quot;goBack&quot;\r\n            android:layout_toEndOf=&quot;@id/saveButton&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewSongName&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Song Name&quot;\r\n            android:layout_below=&quot;@id/saveButton&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/artisticLine&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:background=&quot;@drawable/artistic_horizontal_line&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/headerLayout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ScrollView\r\n        android:id=&quot;@+id/scrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/artisticLine&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextSongContent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Edit song here&quot;\r\n            android:gravity=&quot;top&quot;/&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n    ","title":"XML formatting a ScrollView inside a RelativeLayout","body":"<p>Too much nesting for <code>ScrollView</code> - correct layout should be:</p>\n<pre><code>&lt;ConstraintLayout&gt;\n    &lt;RelativeLayout&gt;\n       ...\n    &lt;RelativeLayout/&gt;\n    &lt;ScrollView&gt;\n       ...\n    &lt;ScrollView/&gt;\n&lt;ConstraintLayout/&gt;\n</code></pre>\n<p>Here is the corrected xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/headerLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;16dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/saveButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Save&quot;\n            android:onClick=&quot;saveChanges&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/backButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Back&quot;\n            android:onClick=&quot;goBack&quot;\n            android:layout_toEndOf=&quot;@id/saveButton&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewSongName&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Song Name&quot;\n            android:layout_below=&quot;@id/saveButton&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;View\n        android:id=&quot;@+id/artisticLine&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:background=&quot;@drawable/artistic_horizontal_line&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/headerLayout&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/scrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:fillViewport=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/artisticLine&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/editTextSongContent&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Edit song here&quot;\n            android:gravity=&quot;top&quot;/&gt;\n\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77399818,"answer_count":1,"score":0,"last_activity_date":1698801033,"creation_date":1698783933,"question_id":77398887,"body_markdown":"I am creating a screen with the following (stacked on the page in this order):\r\n\r\n[1] Header - with &quot;Song Name&quot;\r\n\r\n[2] two buttons, side by side - &quot;Back&quot; and &quot;Save&quot;\r\n\r\n[3] a horizontal line as separator\r\n\r\n[4] a `ScrollView` which contains a single `EditText`\r\n\r\nThe goal of this page is to open a txt file within the `TextView` inside the `ScrollView`.  This txt file can be lengthy thus the need for scrolling option.  Once user edits the txt file pressing &#39;Save&#39; will close the file and update the file source.\r\n\r\nHere is what I have which is not working as the ScrollView is locked to the top of the screen and the Header and two buttons are all overlapping each other;\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;!-- Header Section: Save, Back, and Song Name --&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;16dp&quot;&gt;\r\n\r\n        &lt;!-- Save Button --&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/saveButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Save&quot;\r\n            android:onClick=&quot;saveChanges&quot; /&gt;\r\n\r\n        &lt;!-- Back Button --&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/backButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Back&quot;\r\n            android:onClick=&quot;goBack&quot;\r\n            android:layout_toEndOf=&quot;@id/saveButton&quot; /&gt;\r\n\r\n        &lt;!-- Song Name TextView --&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewSongName&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Song Name&quot;\r\n            android:layout_below=&quot;@id/saveButton&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;!-- Artistic Line --&gt;\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_below=&quot;@id/textViewSongName&quot;\r\n        android:background=&quot;@drawable/artistic_horizontal_line&quot; /&gt;\r\n\r\n    &lt;!-- Linear Layout containing the ScrollView --&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_below=&quot;@id/textViewSongName&quot;&gt;\r\n\r\n        &lt;!-- ScrollView for Editing --&gt;\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editTextSongContent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:hint=&quot;Edit song here&quot; /&gt;\r\n\r\n        &lt;/ScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\nI have tried rearranging but nothing seems to create the page.","title":"XML formatting a ScrollView inside a RelativeLayout","body":"<p>I am creating a screen with the following (stacked on the page in this order):</p>\n<p>[1] Header - with &quot;Song Name&quot;</p>\n<p>[2] two buttons, side by side - &quot;Back&quot; and &quot;Save&quot;</p>\n<p>[3] a horizontal line as separator</p>\n<p>[4] a <code>ScrollView</code> which contains a single <code>EditText</code></p>\n<p>The goal of this page is to open a txt file within the <code>TextView</code> inside the <code>ScrollView</code>.  This txt file can be lengthy thus the need for scrolling option.  Once user edits the txt file pressing 'Save' will close the file and update the file source.</p>\n<p>Here is what I have which is not working as the ScrollView is locked to the top of the screen and the Header and two buttons are all overlapping each other;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;!-- Header Section: Save, Back, and Song Name --&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;16dp&quot;&gt;\n\n        &lt;!-- Save Button --&gt;\n        &lt;Button\n            android:id=&quot;@+id/saveButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Save&quot;\n            android:onClick=&quot;saveChanges&quot; /&gt;\n\n        &lt;!-- Back Button --&gt;\n        &lt;Button\n            android:id=&quot;@+id/backButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Back&quot;\n            android:onClick=&quot;goBack&quot;\n            android:layout_toEndOf=&quot;@id/saveButton&quot; /&gt;\n\n        &lt;!-- Song Name TextView --&gt;\n        &lt;TextView\n            android:id=&quot;@+id/textViewSongName&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Song Name&quot;\n            android:layout_below=&quot;@id/saveButton&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;!-- Artistic Line --&gt;\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_below=&quot;@id/textViewSongName&quot;\n        android:background=&quot;@drawable/artistic_horizontal_line&quot; /&gt;\n\n    &lt;!-- Linear Layout containing the ScrollView --&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_below=&quot;@id/textViewSongName&quot;&gt;\n\n        &lt;!-- ScrollView for Editing --&gt;\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editTextSongContent&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:hint=&quot;Edit song here&quot; /&gt;\n\n        &lt;/ScrollView&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>I have tried rearranging but nothing seems to create the page.</p>\n"},{"tags":["java","double","joptionpane"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1370187944,"post_id":16867753,"comment_id":24360362,"body_markdown":"**public static void showMessageDialog(Component parentComponent,Object message)** expects a Component and an Object. You&#39;re passing a double, you probably want Double the object instead of double the primitive.","body":"<b>public static void showMessageDialog(Component parentComponent,Object message)</b> expects a Component and an Object. You&#39;re passing a double, you probably want Double the object instead of double the primitive."}],"answers":[{"tags":[],"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370187996,"creation_date":1370187996,"answer_id":16884428,"question_id":16867753,"body_markdown":" Change your main to this:\r\n  \r\n\r\n     public static void main(String arg[])\r\n          {\r\n            double length = 3;\r\n            double width = 2;\r\n            double area = length*width;\r\n            JOptionPane.showMessageDialog(null, area);\r\n          }\r\n\r\n\r\nWhen using `JOptionPane` we do not need any declaration. ","title":"Beginner Error with JOptionPane showmessagedialog","body":"<p>Change your main to this:</p>\n\n<pre><code> public static void main(String arg[])\n      {\n        double length = 3;\n        double width = 2;\n        double area = length*width;\n        JOptionPane.showMessageDialog(null, area);\n      }\n</code></pre>\n\n<p>When using <code>JOptionPane</code> we do not need any declaration. </p>\n"},{"tags":[],"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370188548,"creation_date":1370188196,"answer_id":16884462,"question_id":16867753,"body_markdown":"Try changing `double area` to `Double area`.\r\n\r\n`double` is a primitive and thus does not inherit off of `Object`, which is the parameter type `showMessageDialog` expects.\r\n\r\n`Double` is a wrapper class for `double` and, as all objects, inherits off of `Object`.\r\n\r\nJava often has no problem converting from `Double` to `double` and vice versa, but the fact that it takes an argument of type `Object` may imply that you didn&#39;t actually want to do what you did.\r\n\r\nI&#39;ll note that this works in NetBeans (Java 7) and [IDEOne](http://ideone.com/EEvsmv) (Java 6) (except for an expected *runtime* error), so maybe Eclipse is in the wrong here, or you&#39;re using an old version of Java. When it comes to Java, you should always be running the latest, unless you have a specific reason not to. [Forward-compatibility](http://en.wikipedia.org/wiki/Forward_compatibility) is only a problem by exception.","title":"Beginner Error with JOptionPane showmessagedialog","body":"<p>Try changing <code>double area</code> to <code>Double area</code>.</p>\n\n<p><code>double</code> is a primitive and thus does not inherit off of <code>Object</code>, which is the parameter type <code>showMessageDialog</code> expects.</p>\n\n<p><code>Double</code> is a wrapper class for <code>double</code> and, as all objects, inherits off of <code>Object</code>.</p>\n\n<p>Java often has no problem converting from <code>Double</code> to <code>double</code> and vice versa, but the fact that it takes an argument of type <code>Object</code> may imply that you didn't actually want to do what you did.</p>\n\n<p>I'll note that this works in NetBeans (Java 7) and <a href=\"http://ideone.com/EEvsmv\" rel=\"nofollow\">IDEOne</a> (Java 6) (except for an expected <em>runtime</em> error), so maybe Eclipse is in the wrong here, or you're using an old version of Java. When it comes to Java, you should always be running the latest, unless you have a specific reason not to. <a href=\"http://en.wikipedia.org/wiki/Forward_compatibility\" rel=\"nofollow\">Forward-compatibility</a> is only a problem by exception.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681838,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370188285,"creation_date":1370188285,"answer_id":16884481,"question_id":16867753,"body_markdown":"There are many problems with this code, and I would suggest reading the [official Java tutorials][1] rather than the one you looked at.\r\n\r\nFirst of all, you shouldn&#39;t even try to run code that doesn&#39;t compile. Open the *Problems* view in Eclipse, and don&#39;t even think about running your code if there is one compilation error listed in this view.\r\n\r\nThen read the compiler error message and try to understand them to fix them. \r\nThe problem here is that you&#39;re probably using a very, very old version of the JDK (pre Java 5), which doesn&#39;t automatically boxes primitives (double) into their wrapper type (Double). Download the latest version of the JDK, and configure eclipse to use this new version.\r\n\r\nBut there are other problems: \r\n\r\n - you shouldn&#39;t create a new JOptionPane to invoke the static method showMessageDialog(). Just use JOptionPane.showMessageDialog().\r\n - you shouldn&#39;t use Swing outside of the event dispatch thread. Given that you&#39;re a newbie, don&#39;t use Swing at all, and only yse System.out.println() calls to print values on the screen for now.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/","title":"Beginner Error with JOptionPane showmessagedialog","body":"<p>There are many problems with this code, and I would suggest reading the <a href=\"http://docs.oracle.com/javase/tutorial/\" rel=\"nofollow\">official Java tutorials</a> rather than the one you looked at.</p>\n\n<p>First of all, you shouldn't even try to run code that doesn't compile. Open the <em>Problems</em> view in Eclipse, and don't even think about running your code if there is one compilation error listed in this view.</p>\n\n<p>Then read the compiler error message and try to understand them to fix them. \nThe problem here is that you're probably using a very, very old version of the JDK (pre Java 5), which doesn't automatically boxes primitives (double) into their wrapper type (Double). Download the latest version of the JDK, and configure eclipse to use this new version.</p>\n\n<p>But there are other problems: </p>\n\n<ul>\n<li>you shouldn't create a new JOptionPane to invoke the static method showMessageDialog(). Just use JOptionPane.showMessageDialog().</li>\n<li>you shouldn't use Swing outside of the event dispatch thread. Given that you're a newbie, don't use Swing at all, and only yse System.out.println() calls to print values on the screen for now.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3179865,"reputation":1,"user_id":3377215,"display_name":"user3377215"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1424475057,"creation_date":1393899874,"answer_id":22161622,"question_id":16867753,"body_markdown":"Cast an int type to the area double like so:\r\n    \r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Variables {\r\n        public static void main(String arg[])\r\n        { \r\n            double length = 3;\r\n            double width = 2;\r\n            double area = length*width;\r\n            JOptionPane myIO = new JOptionPane();\r\n            JOptionPane.showMessageDialog(null, (int)area);\r\n        }\r\n    }","title":"Beginner Error with JOptionPane showmessagedialog","body":"<p>Cast an int type to the area double like so:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Variables {\n    public static void main(String arg[])\n    { \n        double length = 3;\n        double width = 2;\n        double area = length*width;\n        JOptionPane myIO = new JOptionPane();\n        JOptionPane.showMessageDialog(null, (int)area);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2843051,"reputation":1,"user_id":2442211,"display_name":"T00NCES"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8837,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1698800535,"creation_date":1370045773,"question_id":16867753,"body_markdown":"I have been following a tutorial on YouTube for Java using Eclipse.\r\n\r\nCurrently I am trying to multiply two doubles and output the result as a double using `JOptionPane.showMessageDialog` but it is giving me an error.\r\n\r\nHere is my code:\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Variables {\r\n      public static void main(String arg[])\r\n      {\r\n\t    double length = 3;\r\n\t    double width = 2;\r\n\t    double area = length*width;\r\n\t    JOptionPane myIO = new JOptionPane();\r\n\t    myIO.showMessageDialog(null, area);\r\n      }\r\n    }\r\n\r\n\r\nand the error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n      The method showMessageDialog(Component, Object) in the type JOptionPane\r\n          is not applicable for the arguments (null, double)\r\n        at Variables.main(Variables.java:11)\r\n\r\n\r\nI have exactly what I see in the tutorial so I don&#39;t have a clue what I am doing wrong. I feel like I didn&#39;t import some library or something that I should have but it seems like Eclipse recognizes `JOptionPane` and `showMessageDialog`.","title":"Beginner Error with JOptionPane showmessagedialog","body":"<p>I have been following a tutorial on YouTube for Java using Eclipse.</p>\n\n<p>Currently I am trying to multiply two doubles and output the result as a double using <code>JOptionPane.showMessageDialog</code> but it is giving me an error.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Variables {\n  public static void main(String arg[])\n  {\n    double length = 3;\n    double width = 2;\n    double area = length*width;\n    JOptionPane myIO = new JOptionPane();\n    myIO.showMessageDialog(null, area);\n  }\n}\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation problem: \n  The method showMessageDialog(Component, Object) in the type JOptionPane\n      is not applicable for the arguments (null, double)\n    at Variables.main(Variables.java:11)\n</code></pre>\n\n<p>I have exactly what I see in the tutorial so I don't have a clue what I am doing wrong. I feel like I didn't import some library or something that I should have but it seems like Eclipse recognizes <code>JOptionPane</code> and <code>showMessageDialog</code>.</p>\n"},{"tags":["java","logging","log4j","appender"],"answers":[{"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698799555,"creation_date":1433154141,"answer_id":30571022,"question_id":30570805,"body_markdown":"You have to configure your `appender` in `logger` tag as below.\r\n\r\n```xml\r\n&lt;logger name=&quot;com.project.example&quot;&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n&lt;/logger&gt;\r\n&lt;root&gt;\r\n    &lt;level value=&quot;debug&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n&lt;/root&gt;\r\n```","title":"log4j - show logs both in file and console","body":"<p>You have to configure your <code>appender</code> in <code>logger</code> tag as below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;logger name=&quot;com.project.example&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n&lt;/logger&gt;\n&lt;root&gt;\n    &lt;level value=&quot;debug&quot; /&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":4039423,"reputation":23,"user_id":3322718,"accept_rate":25,"display_name":"S.Milosevski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30571022,"answer_count":1,"score":0,"last_activity_date":1698799555,"creation_date":1433153518,"question_id":30570805,"body_markdown":"I have two appenders, one for file and another for console.\r\nI want Eclipse console to show both file and console logs, but in the same time file to show only its own logs.\r\nHow do I do that?\r\n\r\nHere is conf.\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n     &lt;errorHandler class=&quot;org.jboss.logging.util.OnlyOnceErrorHandler&quot;/&gt;\r\n     &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n     &lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\r\n     &lt;param name=&quot;File&quot; value=&quot;${jboss.server.log.dir}/file.log&quot;/&gt;\r\n     &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p %m%n&quot;/&gt;\r\n     &lt;/layout&gt;\r\n   &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n      &lt;errorHandler class=&quot;org.jboss.logging.util.OnlyOnceErrorHandler&quot;/&gt;\r\n      &lt;param name=&quot;Target&quot; value=&quot;System.out&quot;/&gt;\r\n      &lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\r\n      &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n         &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p [%c{1}] %m%n&quot;/&gt;\r\n      &lt;/layout&gt;\r\n   &lt;/appender&gt;\r\n\r\nAlso, file log is showing only logs from specific package.\r\n\r\n    &lt;category name=&quot;com.project.example&quot; additivity=&quot;false&quot;&gt;\r\n       &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n       &lt;priority value=&quot;INFO&quot;/&gt;\r\n    &lt;/category&gt;\r\n\r\nAnd root:\r\n\r\n    &lt;root&gt;\r\n      &lt;priority value=&quot;${jboss.server.log.threshold}&quot;/&gt;\r\n      &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;","title":"log4j - show logs both in file and console","body":"<p>I have two appenders, one for file and another for console.\nI want Eclipse console to show both file and console logs, but in the same time file to show only its own logs.\nHow do I do that?</p>\n\n<p>Here is conf.</p>\n\n<pre><code>&lt;appender name=\"FILE\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n &lt;errorHandler class=\"org.jboss.logging.util.OnlyOnceErrorHandler\"/&gt;\n &lt;param name=\"Append\" value=\"true\"/&gt;\n &lt;param name=\"Threshold\" value=\"INFO\"/&gt;\n &lt;param name=\"File\" value=\"${jboss.server.log.dir}/file.log\"/&gt;\n &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n    &lt;param name=\"ConversionPattern\" value=\"%d %-5p %m%n\"/&gt;\n &lt;/layout&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n  &lt;errorHandler class=\"org.jboss.logging.util.OnlyOnceErrorHandler\"/&gt;\n  &lt;param name=\"Target\" value=\"System.out\"/&gt;\n  &lt;param name=\"Threshold\" value=\"INFO\"/&gt;\n  &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n     &lt;param name=\"ConversionPattern\" value=\"%d %-5p [%c{1}] %m%n\"/&gt;\n  &lt;/layout&gt;\n</code></pre>\n\n<p></p>\n\n<p>Also, file log is showing only logs from specific package.</p>\n\n<pre><code>&lt;category name=\"com.project.example\" additivity=\"false\"&gt;\n   &lt;appender-ref ref=\"FILE\"/&gt;\n   &lt;priority value=\"INFO\"/&gt;\n&lt;/category&gt;\n</code></pre>\n\n<p>And root:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;priority value=\"${jboss.server.log.threshold}\"/&gt;\n  &lt;appender-ref ref=\"CONSOLE\"/&gt;\n  &lt;appender-ref ref=\"FILE\"/&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":["java","security","random","cryptography"],"comments":[{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":1,"creation_date":1407600810,"post_id":25220492,"comment_id":39282943,"body_markdown":"Have you read the JavaDocs? They seem quite clear to me ...","body":"Have you read the JavaDocs? They seem quite clear to me ..."},{"owner":{"account_id":122528,"reputation":461,"user_id":316398,"accept_rate":81,"display_name":"Ashok"},"score":0,"creation_date":1407601427,"post_id":25220492,"comment_id":39283130,"body_markdown":"@DavidPostill Thanks for your comment, yes I read the java doc before posting this question. It would be really helpful, if you explain the difference","body":"@DavidPostill Thanks for your comment, yes I read the java doc before posting this question. It would be really helpful, if you explain the difference"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1407611577,"post_id":25220492,"comment_id":39285775,"body_markdown":"Why? It would be really helpful if you would explain what part of the Javadoc you don&#39;t understand. The difference is that they aren&#39;t the same.","body":"Why? It would be really helpful if you would explain what part of the Javadoc you don&#39;t understand. The difference is that they aren&#39;t the same."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1407626049,"post_id":25220492,"comment_id":39289074,"body_markdown":"@EJP Fixed the question, the JavaDoc isn&#39;t *that* clear on what generateSeed does in my opinion, &quot;the seed generation algorithm&quot; is not specified at all.","body":"@EJP Fixed the question, the JavaDoc isn&#39;t <i>that</i> clear on what generateSeed does in my opinion, &quot;the seed generation algorithm&quot; is not specified at all."},{"owner":{"account_id":122528,"reputation":461,"user_id":316398,"accept_rate":81,"display_name":"Ashok"},"score":0,"creation_date":1407647982,"post_id":25220492,"comment_id":39292399,"body_markdown":"@owlstead Thanks for editing question for more clarity, yes I was looking for the seed generation algorithm","body":"@owlstead Thanks for editing question for more clarity, yes I was looking for the seed generation algorithm"}],"answers":[{"tags":[],"owner":{"account_id":4866435,"reputation":2142,"user_id":3924496,"display_name":"roelofs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510015609,"creation_date":1407600841,"answer_id":25220523,"question_id":25220492,"body_markdown":"Random number functions depend on an initial value from which they generate a sequence of random numbers (read up on PRNG - Pseudo Random Number Generation).  The `next` functions will return the next number generated from that initial value (the seed).  `generateSeed()` will generate a new initial value for a PRNG to use.","title":"Difference between nextXXX() and generateSeed() function in SecureRandom?","body":"<p>Random number functions depend on an initial value from which they generate a sequence of random numbers (read up on PRNG - Pseudo Random Number Generation).  The <code>next</code> functions will return the next number generated from that initial value (the seed).  <code>generateSeed()</code> will generate a new initial value for a PRNG to use.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1551273399,"creation_date":1407602371,"answer_id":25220755,"question_id":25220492,"body_markdown":"`generateSeed()` does not use any bytes generated by the random number generator. Instead, it is just a **pass through to the entropy source that the `SecureRandom` implementation uses to seed itself** when and **if it is seeding itself**.\r\n\r\n---\r\n\r\nSo for instance calling the following code on an Oracle provided Java SE:\r\n\r\n    // initSeed is just zero valued bytes\r\n    byte[] initSeed = new byte[16];\r\n\r\n    SecureRandom secureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    secureRandom.setSeed(initSeed);\r\n\r\n    byte[] seed = secureRandom.generateSeed(16);\r\n\r\n    byte[] data = new byte[16];\r\n    secureRandom.nextBytes(data);\r\n    \r\n    System.out.printf(&quot;Seed: %s%n&quot;, Hex.toHexString(seed));\r\n    System.out.printf(&quot;Data: %s%n&quot;, Hex.toHexString(data));\r\n\r\nWill actually give back different values for `seed`, and always the same value for `data`. In other words, the `generateSeed` uses the operating system to ask for 16 bytes of entropy, while the random number generator is only seeded with the `initSeed` and thus will always generate the same stream of *pseudo* random numbers.\r\n\r\n**Warning**: this is just to illustrate the point; you should **not** rely on any `SecureRandom` instance to return anything but random bytes. The behavior with regards to `setSeed` differs per implementation. The Oracle `&quot;SHA1PRNG&quot;` provider uses it as the only seed, others may choose to mix it into the state of the PRNG (for instance later Android implementations will always generate random data).","title":"Difference between nextXXX() and generateSeed() function in SecureRandom?","body":"<p><code>generateSeed()</code> does not use any bytes generated by the random number generator. Instead, it is just a <strong>pass through to the entropy source that the <code>SecureRandom</code> implementation uses to seed itself</strong> when and <strong>if it is seeding itself</strong>.</p>\n\n<hr>\n\n<p>So for instance calling the following code on an Oracle provided Java SE:</p>\n\n<pre><code>// initSeed is just zero valued bytes\nbyte[] initSeed = new byte[16];\n\nSecureRandom secureRandom = SecureRandom.getInstance(\"SHA1PRNG\");\nsecureRandom.setSeed(initSeed);\n\nbyte[] seed = secureRandom.generateSeed(16);\n\nbyte[] data = new byte[16];\nsecureRandom.nextBytes(data);\n\nSystem.out.printf(\"Seed: %s%n\", Hex.toHexString(seed));\nSystem.out.printf(\"Data: %s%n\", Hex.toHexString(data));\n</code></pre>\n\n<p>Will actually give back different values for <code>seed</code>, and always the same value for <code>data</code>. In other words, the <code>generateSeed</code> uses the operating system to ask for 16 bytes of entropy, while the random number generator is only seeded with the <code>initSeed</code> and thus will always generate the same stream of <em>pseudo</em> random numbers.</p>\n\n<p><strong>Warning</strong>: this is just to illustrate the point; you should <strong>not</strong> rely on any <code>SecureRandom</code> instance to return anything but random bytes. The behavior with regards to <code>setSeed</code> differs per implementation. The Oracle <code>\"SHA1PRNG\"</code> provider uses it as the only seed, others may choose to mix it into the state of the PRNG (for instance later Android implementations will always generate random data).</p>\n"},{"tags":[],"owner":{"account_id":29798503,"reputation":1,"user_id":22836859,"display_name":"JavaNoob42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698798798,"creation_date":1698796112,"answer_id":77399625,"question_id":25220492,"body_markdown":"In fact, `nextXYZ()` and `generateSeed()` do the exactly same thing, most often &#128527;\r\n\r\n`SecureRandom.nextBytes()` and `SecureRandom.generateSeed()` actually are just thin wrappers that forward the call to `SecureRandomSpi.engineGenerateSeed()` and `SecureRandomSpi.engineNextBytes()`, respectively, which contain the actual implementation.\r\n\r\nThe concrete implementation of `SecureRandomSpi` depends on the selected algorithm, of course! However, for the *default* SecureRandom algorithm on the Windows platform (i.e. `&quot;Windows-PRNG&quot;`), we can see from the source code that `engineNextBytes()` and `engineGenerateSeed()` do the exactly same thing: They ***both*** call a *native* method named `PRNG.generateSeed()`, which is a C++ function that ends up calling the Win32 API function `CryptGenRandom()` from the **OS** &#128562;\r\n\r\nSee here for details:  \r\n* https://github.com/openjdk/jdk/blob/b3fec6b5f32c338ae1a84dd20bdcbd3d9b7186f3/src/jdk.crypto.mscapi/windows/classes/sun/security/mscapi/PRNG.java#L96\r\n* https://github.com/openjdk/jdk/blob/b3fec6b5f32c338ae1a84dd20bdcbd3d9b7186f3/src/jdk.crypto.mscapi/windows/native/libsunmscapi/security.cpp#L331\r\n* https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptgenrandom\r\n\r\n--- \r\n\r\nThe implementation of the `&quot;NativePRNG&quot;` algorithm, which is the *default* algorithm on Linux/Unix and MacOS, is a bit more convoluted. But, essentially, `engineNextBytes()` and `engineGenerateSeed()` once again ***both*** end up in the same method – which is `RandomIO.readFully()`. *That* method simply reads the &quot;random&quot; bytes from an `InputStream`, which has been associated with `/dev/[u]random`, i.e. the **kernel** random number source.\r\n\r\nSee here for details:  \r\n* https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/security/provider/NativePRNG.java#L36\r\n* https://linux.die.net/man/4/urandom\r\n\r\n---\r\n\r\nAll of the other `[Secure]Random.nextXYZ()` methods, such as `nextInt()`, `nextLong()` or `nextDouble()`, call an *internal* method named `next()`, which provides the request number of random *bits*. And, **not** much surprising, the `next()` method ends up calling `nextBytes()` – and therefor, in case of `SecureRandom`, invokes `SecureRandomSpi.engineNextBytes()` &#128514;","title":"Difference between nextXXX() and generateSeed() function in SecureRandom?","body":"<p>In fact, <code>nextXYZ()</code> and <code>generateSeed()</code> do the exactly same thing, most often 😏</p>\n<p><code>SecureRandom.nextBytes()</code> and <code>SecureRandom.generateSeed()</code> actually are just thin wrappers that forward the call to <code>SecureRandomSpi.engineGenerateSeed()</code> and <code>SecureRandomSpi.engineNextBytes()</code>, respectively, which contain the actual implementation.</p>\n<p>The concrete implementation of <code>SecureRandomSpi</code> depends on the selected algorithm, of course! However, for the <em>default</em> SecureRandom algorithm on the Windows platform (i.e. <code>&quot;Windows-PRNG&quot;</code>), we can see from the source code that <code>engineNextBytes()</code> and <code>engineGenerateSeed()</code> do the exactly same thing: They <em><strong>both</strong></em> call a <em>native</em> method named <code>PRNG.generateSeed()</code>, which is a C++ function that ends up calling the Win32 API function <code>CryptGenRandom()</code> from the <strong>OS</strong> 😲</p>\n<p>See here for details:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/b3fec6b5f32c338ae1a84dd20bdcbd3d9b7186f3/src/jdk.crypto.mscapi/windows/classes/sun/security/mscapi/PRNG.java#L96\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/b3fec6b5f32c338ae1a84dd20bdcbd3d9b7186f3/src/jdk.crypto.mscapi/windows/classes/sun/security/mscapi/PRNG.java#L96</a></li>\n<li><a href=\"https://github.com/openjdk/jdk/blob/b3fec6b5f32c338ae1a84dd20bdcbd3d9b7186f3/src/jdk.crypto.mscapi/windows/native/libsunmscapi/security.cpp#L331\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/b3fec6b5f32c338ae1a84dd20bdcbd3d9b7186f3/src/jdk.crypto.mscapi/windows/native/libsunmscapi/security.cpp#L331</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptgenrandom\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptgenrandom</a></li>\n</ul>\n<hr />\n<p>The implementation of the <code>&quot;NativePRNG&quot;</code> algorithm, which is the <em>default</em> algorithm on Linux/Unix and MacOS, is a bit more convoluted. But, essentially, <code>engineNextBytes()</code> and <code>engineGenerateSeed()</code> once again <em><strong>both</strong></em> end up in the same method – which is <code>RandomIO.readFully()</code>. <em>That</em> method simply reads the &quot;random&quot; bytes from an <code>InputStream</code>, which has been associated with <code>/dev/[u]random</code>, i.e. the <strong>kernel</strong> random number source.</p>\n<p>See here for details:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/security/provider/NativePRNG.java#L36\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/security/provider/NativePRNG.java#L36</a></li>\n<li><a href=\"https://linux.die.net/man/4/urandom\" rel=\"nofollow noreferrer\">https://linux.die.net/man/4/urandom</a></li>\n</ul>\n<hr />\n<p>All of the other <code>[Secure]Random.nextXYZ()</code> methods, such as <code>nextInt()</code>, <code>nextLong()</code> or <code>nextDouble()</code>, call an <em>internal</em> method named <code>next()</code>, which provides the request number of random <em>bits</em>. And, <strong>not</strong> much surprising, the <code>next()</code> method ends up calling <code>nextBytes()</code> – and therefor, in case of <code>SecureRandom</code>, invokes <code>SecureRandomSpi.engineNextBytes()</code> 😂</p>\n"}],"owner":{"account_id":122528,"reputation":461,"user_id":316398,"accept_rate":81,"display_name":"Ashok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2947,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":25220755,"answer_count":3,"score":8,"last_activity_date":1698798798,"creation_date":1407600632,"question_id":25220492,"body_markdown":"What is the difference between functions nextXXX() - such as like `nextInt()`, `nextFloat()` and [`nextBytes()`](http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html#nextBytes(byte[])) - and [`generateSeed(int numBytes): byte[]`](http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html#generateSeed(int)) in the [SecureRandom class](http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html) of Java?\r\n\r\nIn what way does &quot;the seed generation algorithm&quot; in `generateSeed` differ from the secure random generator itself?","title":"Difference between nextXXX() and generateSeed() function in SecureRandom?","body":"<p>What is the difference between functions nextXXX() - such as like <code>nextInt()</code>, <code>nextFloat()</code> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html#nextBytes(byte[])\" rel=\"noreferrer\"><code>nextBytes()</code></a> - and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html#generateSeed(int)\" rel=\"noreferrer\"><code>generateSeed(int numBytes): byte[]</code></a> in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\">SecureRandom class</a> of Java?</p>\n\n<p>In what way does \"the seed generation algorithm\" in <code>generateSeed</code> differ from the secure random generator itself?</p>\n"},{"tags":["java","android","eclipse","play-billing-library"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698799812,"post_id":77399745,"comment_id":136450677,"body_markdown":"Make sure that you have the necessary permissions declared in your `AndroidManifest.xml`. The Billing Library requires the `com.android.vending.BILLING` permission.","body":"Make sure that you have the necessary permissions declared in your <code>AndroidManifest.xml</code>. The Billing Library requires the <code>com.android.vending.BILLING</code> permission."},{"owner":{"account_id":22376306,"reputation":1,"user_id":16590518,"display_name":"Martin Tomas"},"score":0,"creation_date":1698802957,"post_id":77399745,"comment_id":136450914,"body_markdown":"Thank you for the answer. Unfortunately, I had to remove `com.android.vending.BILLING` from `AndroidManifest.xml` because if I include it, I am getting an error from Google (after uploading .apk) that my app includes old `AIDL` billing library. Maybe I am missing something but Google states that *&quot;Embedded billing permission inside library’s manifest. It&#39;s not necessary to add the com.android.vending.BILLING permission inside Android manifest anymore.&quot;*","body":"Thank you for the answer. Unfortunately, I had to remove <code>com.android.vending.BILLING</code> from <code>AndroidManifest.xml</code> because if I include it, I am getting an error from Google (after uploading .apk) that my app includes old <code>AIDL</code> billing library. Maybe I am missing something but Google states that <i>&quot;Embedded billing permission inside library’s manifest. It&#39;s not necessary to add the com.android.vending.BILLING permission inside Android manifest anymore.&quot;</i>"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1698824732,"post_id":77399745,"comment_id":136452803,"body_markdown":"Eclipse hasn&#39;t been supported for Android development for some years now. It may be you are running in to issues that require Android Studio.","body":"Eclipse hasn&#39;t been supported for Android development for some years now. It may be you are running in to issues that require Android Studio."}],"owner":{"account_id":22376306,"reputation":1,"user_id":16590518,"display_name":"Martin Tomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698798694,"creation_date":1698798694,"question_id":77399745,"body_markdown":"After a week of trying to find a solution, I am quite desperate to find (and I have read everything related to the topic) any way to resolve the issue.\r\n\r\nI am trying to use Google Play Billing library 5 (as required by Google) in my Android App. However, I had created my app 8 years ago in Eclipse (in Java, not Android Studio), so please mind I am just trying to keep my app updated (over 30k daily users) and I may have made some beginners mistakes like missing something in `AndroidManifest.xml`. I am able to include the library (version 5.0) in my build and after calling:\r\n\r\n```\r\nbillingClient.startConnection(new BillingClientStateListener() {\r\n    @Override\r\n    public void onBillingSetupFinished(BillingResult billingResult) {\r\n        if (billingResult.getResponseCode() ==  BillingResponseCode.OK) {\r\n            // The BillingClient is ready. You can query purchases here.\r\n        }\r\n    }\r\n    @Override\r\n    public void onBillingServiceDisconnected() {\r\n        // Try to restart the connection on the next request to\r\n        // Google Play by calling the startConnection() method.\r\n    }\r\n});\r\n```\r\nThe response code is `BillingResponseCode.OK`, then I `queryProductDetailsAsync()` and I am able to get all items from my Google Play Console successfully (I get all the details like prices etc., so it means I am able to connect to Google). However, as soon as I call `billingClient.launchBillingFlow(activity, billingFlowParams);` my listener:\r\n```\r\nvoid onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n    if (billingResult.getResponseCode() == BillingResponseCode.OK\r\n        &amp;&amp; purchases != null) {\r\n        for (Purchase purchase : purchases) {\r\n            handlePurchase(purchase);\r\n        }\r\n    } else if (billingResult.getResponseCode() == BillingResponseCode.USER_CANCELED) {\r\n        // Handle an error caused by a user cancelling the purchase flow.\r\n    } else {\r\n        // Handle any other error codes.\r\n    }\r\n}\r\n```\r\nget a response code `billingResult.getResponseCode()` with value `SERVICE_DISCONNECTED` (-1) with `getDebugMessage()` stating &quot;Service connection is disconnected&quot;. Even if I call functions (after the service disconnected message) like `getConnectionState()`, I am getting response `CONNECTED` (2) and also function `isReady()` is returning `true` where Google says it means *&quot;Checks if the client is currently connected to the service, so that requests to other methods will succeed.&quot;*\r\n\r\nAfter so many attempts over last week, I am unable to find any solution to this issue (reconnecting etc.). Thank you a lot for any possible solution for my issue.","title":"Google Play Billing library 5 requirement","body":"<p>After a week of trying to find a solution, I am quite desperate to find (and I have read everything related to the topic) any way to resolve the issue.</p>\n<p>I am trying to use Google Play Billing library 5 (as required by Google) in my Android App. However, I had created my app 8 years ago in Eclipse (in Java, not Android Studio), so please mind I am just trying to keep my app updated (over 30k daily users) and I may have made some beginners mistakes like missing something in <code>AndroidManifest.xml</code>. I am able to include the library (version 5.0) in my build and after calling:</p>\n<pre><code>billingClient.startConnection(new BillingClientStateListener() {\n    @Override\n    public void onBillingSetupFinished(BillingResult billingResult) {\n        if (billingResult.getResponseCode() ==  BillingResponseCode.OK) {\n            // The BillingClient is ready. You can query purchases here.\n        }\n    }\n    @Override\n    public void onBillingServiceDisconnected() {\n        // Try to restart the connection on the next request to\n        // Google Play by calling the startConnection() method.\n    }\n});\n</code></pre>\n<p>The response code is <code>BillingResponseCode.OK</code>, then I <code>queryProductDetailsAsync()</code> and I am able to get all items from my Google Play Console successfully (I get all the details like prices etc., so it means I am able to connect to Google). However, as soon as I call <code>billingClient.launchBillingFlow(activity, billingFlowParams);</code> my listener:</p>\n<pre><code>void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n    if (billingResult.getResponseCode() == BillingResponseCode.OK\n        &amp;&amp; purchases != null) {\n        for (Purchase purchase : purchases) {\n            handlePurchase(purchase);\n        }\n    } else if (billingResult.getResponseCode() == BillingResponseCode.USER_CANCELED) {\n        // Handle an error caused by a user cancelling the purchase flow.\n    } else {\n        // Handle any other error codes.\n    }\n}\n</code></pre>\n<p>get a response code <code>billingResult.getResponseCode()</code> with value <code>SERVICE_DISCONNECTED</code> (-1) with <code>getDebugMessage()</code> stating &quot;Service connection is disconnected&quot;. Even if I call functions (after the service disconnected message) like <code>getConnectionState()</code>, I am getting response <code>CONNECTED</code> (2) and also function <code>isReady()</code> is returning <code>true</code> where Google says it means <em>&quot;Checks if the client is currently connected to the service, so that requests to other methods will succeed.&quot;</em></p>\n<p>After so many attempts over last week, I am unable to find any solution to this issue (reconnecting etc.). Thank you a lot for any possible solution for my issue.</p>\n"},{"tags":["java","spring-boot","enums","grpc"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698798621,"creation_date":1698798621,"answer_id":77399740,"question_id":77367621,"body_markdown":"You are trying to set the Java enum `null` value but that is not mapped to a protobuf enum. Take a look at https://protobuf.dev/programming-guides/proto3/#enum . Use a default value (as mapping to `0`) and either explicitly set your field to the default value or don&#39;t set it to anything.","title":"How to pass .proto generated ENUM values as null in gRPC Service","body":"<p>You are trying to set the Java enum <code>null</code> value but that is not mapped to a protobuf enum. Take a look at <a href=\"https://protobuf.dev/programming-guides/proto3/#enum\" rel=\"nofollow noreferrer\">https://protobuf.dev/programming-guides/proto3/#enum</a> . Use a default value (as mapping to <code>0</code>) and either explicitly set your field to the default value or don't set it to anything.</p>\n"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698798621,"creation_date":1698328455,"question_id":77367621,"body_markdown":"I am using gRPC communicaton while invoking service in other microservice modules.\r\n\r\nBelow is my sample .proto file \r\n\r\n``` \r\nsyntax = &quot;proto3&quot;;\r\n\r\nimport public &quot;common/session-context.proto&quot;;\r\nimport public &quot;common/serviceInvocationModeType.proto&quot;;\r\nimport public &quot;common/auditable.proto&quot;;\r\nimport public &quot;common/coreEngineBase.proto&quot;;\r\nimport public &quot;common/transactionStatus.proto&quot;;\r\nimport public &quot;common/date.proto&quot;;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;com.mnp.grpc.casa&quot;;\r\n\r\nmessage CasaAccountOpeningGrpcDTO{\r\n  string accountTitle = 1;\r\n  string systemStatus = 2;\r\n  AccountTypeEnum accountType = 3;\r\n\r\n}\r\n\r\nmessage CasaAccountOpeningGrpcResponseDTO{\r\n  string accountNumber = 1;\r\n  string applicationId = 2;\r\n\r\n}\r\n\r\nmessage CasaAccountOpeningRequest{\r\n    SessionContext sessionContext = 1;\r\n    CasaAccountOpeningGrpcDTO casaAccountOpeningGrpcDTO = 2;\r\n}\r\n\r\nmessage CasaAccountOpeningResponse{\r\n  CasaAccountOpeningGrpcResponseDTO casaAccountOpeningGrpcResponseDTO = 1;\r\n  TransactionStatus transactionStatus = 2;\r\n}\r\n\r\nenum AccountTypeEnum{\r\n  CASA = 0;\r\n  ABC = 1;\r\n  XYZ = 2;\r\n}\r\n\r\n\r\nservice CasaAccountOpeningService{\r\nrpc processAccountOpening(CasaAccountOpeningRequest) returns (CasaAccountOpeningResponse) ;\r\n}\r\n\r\n```\r\n\r\nNow whenever i want to send AccountTypeEnum value as null while invoking service if i pass AccountTypeEnum as null then it gives Null pointer Exception.How can i pass AccountTypeEnum as null while using gRPC service.","title":"How to pass .proto generated ENUM values as null in gRPC Service","body":"<p>I am using gRPC communicaton while invoking service in other microservice modules.</p>\n<p>Below is my sample .proto file</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nimport public &quot;common/session-context.proto&quot;;\nimport public &quot;common/serviceInvocationModeType.proto&quot;;\nimport public &quot;common/auditable.proto&quot;;\nimport public &quot;common/coreEngineBase.proto&quot;;\nimport public &quot;common/transactionStatus.proto&quot;;\nimport public &quot;common/date.proto&quot;;\n\noption java_multiple_files = true;\noption java_package = &quot;com.mnp.grpc.casa&quot;;\n\nmessage CasaAccountOpeningGrpcDTO{\n  string accountTitle = 1;\n  string systemStatus = 2;\n  AccountTypeEnum accountType = 3;\n\n}\n\nmessage CasaAccountOpeningGrpcResponseDTO{\n  string accountNumber = 1;\n  string applicationId = 2;\n\n}\n\nmessage CasaAccountOpeningRequest{\n    SessionContext sessionContext = 1;\n    CasaAccountOpeningGrpcDTO casaAccountOpeningGrpcDTO = 2;\n}\n\nmessage CasaAccountOpeningResponse{\n  CasaAccountOpeningGrpcResponseDTO casaAccountOpeningGrpcResponseDTO = 1;\n  TransactionStatus transactionStatus = 2;\n}\n\nenum AccountTypeEnum{\n  CASA = 0;\n  ABC = 1;\n  XYZ = 2;\n}\n\n\nservice CasaAccountOpeningService{\nrpc processAccountOpening(CasaAccountOpeningRequest) returns (CasaAccountOpeningResponse) ;\n}\n\n</code></pre>\n<p>Now whenever i want to send AccountTypeEnum value as null while invoking service if i pass AccountTypeEnum as null then it gives Null pointer Exception.How can i pass AccountTypeEnum as null while using gRPC service.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":29798507,"reputation":1,"user_id":22836862,"display_name":"Siva Prasad Reddy"},"score":0,"creation_date":1698797659,"post_id":77399686,"comment_id":136450468,"body_markdown":"Geeting this error if change the route forum in different style.","body":"Geeting this error if change the route forum in different style."}],"owner":{"account_id":29798507,"reputation":1,"user_id":22836862,"display_name":"Siva Prasad Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698797875,"creation_date":1698797356,"question_id":77399686,"body_markdown":"- Hi, I am using apache camel 2.25.2 in my current project as part of version upgrade we are upgrading to 3.2.0, after upgrade these i added all required dependencies and made the changes as per the 3.2.0.\r\nwhile i am doing gradlew clean build i am getting below error if any support its much helps me.\r\nwe are using spring boot 2.7.12, Java 11 with Junit5 as suggested in apache camel 3.x release document.\r\n\r\n**Error 1:**\r\norg.apache.camel.NoSuchEndpointException: No endpoint could be found for: ERROR, please check your classpath contains the needed Camel component jar\r\n\r\n**Error 2:**\r\nCaused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: objectCache\r\n\r\n **Error 3:**\r\n java.lang.NullPointerException at org.apache.camel.support.DefaultMessage.init(DefaultMessage.java:52)\r\n at org.apache.camel.support.DefaultExchange.getIn(DefaultExchange.java:321)\r\n\r\nif i change the using style of the route builder geeting below error\r\n\r\nDEBUG o.apache.camel.maven.Velocity.macro - &quot;velocimacro.library.path&quot; is not set. Trying default library: velocimacros.vtl\r\n00:29:06.377 DEBUG o.a.c.maven.Velocity.loader.class - Could not load resource &#39;velocimacros.vtl&#39; from ResourceLoader org.apache.camel.component.velocity.CamelVelocityClasspathResourceLoader\r\n00:29:06.377 DEBUG o.apache.camel.maven.Velocity.macro - Default library velocimacros.vtl not found. Trying old default library: VM_global_library.vm\r\n00:29:06.378 DEBUG o.a.c.maven.Velocity.loader.class - Could not load resource &#39;VM_global_library.vm&#39; from ResourceLoader org.apache.camel.component.velocity.CamelVelocityClasspathResourceLoader\r\n00:29:06.378 DEBUG o.apache.camel.maven.Velocity.macro - Old default library VM_global_library.vm not found.\r\n\r\n\r\n\r\nI read the Apache camel 3.x migration documents and what ever dependencies was defined all was added and tried with multiple way of option to overide the Route Builder Bu no luck.\r\n \r\nI am expecting do i need to add any more dependence to resolve these issues any support or guidance is a big help.","title":"Apache Camel Route Builder Issue After Upgrading Apache camel from 2.25.2 to 3.2.0","body":"<ul>\n<li>Hi, I am using apache camel 2.25.2 in my current project as part of version upgrade we are upgrading to 3.2.0, after upgrade these i added all required dependencies and made the changes as per the 3.2.0.\nwhile i am doing gradlew clean build i am getting below error if any support its much helps me.\nwe are using spring boot 2.7.12, Java 11 with Junit5 as suggested in apache camel 3.x release document.</li>\n</ul>\n<p><strong>Error 1:</strong>\norg.apache.camel.NoSuchEndpointException: No endpoint could be found for: ERROR, please check your classpath contains the needed Camel component jar</p>\n<p><strong>Error 2:</strong>\nCaused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: objectCache</p>\n<p><strong>Error 3:</strong>\njava.lang.NullPointerException at org.apache.camel.support.DefaultMessage.init(DefaultMessage.java:52)\nat org.apache.camel.support.DefaultExchange.getIn(DefaultExchange.java:321)</p>\n<p>if i change the using style of the route builder geeting below error</p>\n<p>DEBUG o.apache.camel.maven.Velocity.macro - &quot;velocimacro.library.path&quot; is not set. Trying default library: velocimacros.vtl\n00:29:06.377 DEBUG o.a.c.maven.Velocity.loader.class - Could not load resource 'velocimacros.vtl' from ResourceLoader org.apache.camel.component.velocity.CamelVelocityClasspathResourceLoader\n00:29:06.377 DEBUG o.apache.camel.maven.Velocity.macro - Default library velocimacros.vtl not found. Trying old default library: VM_global_library.vm\n00:29:06.378 DEBUG o.a.c.maven.Velocity.loader.class - Could not load resource 'VM_global_library.vm' from ResourceLoader org.apache.camel.component.velocity.CamelVelocityClasspathResourceLoader\n00:29:06.378 DEBUG o.apache.camel.maven.Velocity.macro - Old default library VM_global_library.vm not found.</p>\n<p>I read the Apache camel 3.x migration documents and what ever dependencies was defined all was added and tried with multiple way of option to overide the Route Builder Bu no luck.</p>\n<p>I am expecting do i need to add any more dependence to resolve these issues any support or guidance is a big help.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698793511,"creation_date":1698793511,"answer_id":77399510,"question_id":77399216,"body_markdown":"Two things:\r\n\r\n1. In your User class you have specified an @AllArgsConstructor and a @NoArgsConstructor. You then manually specified a constructor with five out of six of your User class member fields. \r\n\r\nWhat you don&#39;t have is a constructor for just username, password, and authorities. Did this even compile for you? If so, I&#39;d be curious how. \r\n\r\nYou will need to create that constructor or pass the additional fields to match the constructors you have implemented. \r\n\r\n2. You are expecting a return type of UserDetails to be returned from loadUserByUsername(). What you are actually returning is an object of type User. \r\n\r\nUser and UserDetails would have to be polymorphically the same to be able to return something of type User to match the method signature response of UserDetails. i.e. in this case User would have to inherit from UserDetails. \r\n\r\nIs there a reason you can&#39;t just return an object of type User? I guess I&#39;m not sure what UserDetails is for. It might be helpful if you included that class as well. ","title":"Spring Boot how to access custom entity fields","body":"<p>Two things:</p>\n<ol>\n<li>In your User class you have specified an @AllArgsConstructor and a @NoArgsConstructor. You then manually specified a constructor with five out of six of your User class member fields.</li>\n</ol>\n<p>What you don't have is a constructor for just username, password, and authorities. Did this even compile for you? If so, I'd be curious how.</p>\n<p>You will need to create that constructor or pass the additional fields to match the constructors you have implemented.</p>\n<ol start=\"2\">\n<li>You are expecting a return type of UserDetails to be returned from loadUserByUsername(). What you are actually returning is an object of type User.</li>\n</ol>\n<p>User and UserDetails would have to be polymorphically the same to be able to return something of type User to match the method signature response of UserDetails. i.e. in this case User would have to inherit from UserDetails.</p>\n<p>Is there a reason you can't just return an object of type User? I guess I'm not sure what UserDetails is for. It might be helpful if you included that class as well.</p>\n"},{"tags":[],"owner":{"account_id":24613960,"reputation":33,"user_id":20440933,"display_name":"Jez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698796180,"creation_date":1698796180,"answer_id":77399629,"question_id":77399216,"body_markdown":"I managed to fix it by implementing `UserDetails` and `GrantedAuthority` in my entity classes (User, Role) and simply returning the user object in my `UserDetailsService` implementation.\r\n**User entity:**\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User extends AbstractTimeEntity implements UserDetails\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;user_id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(unique = true)\r\n        private String username;\r\n    \r\n        @Column(unique = true)\r\n        private String email;\r\n    \r\n        private String password;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\r\n        @JoinTable(\r\n                name = &quot;user_role_junction&quot;,\r\n                joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)},\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;role_id&quot;)}\r\n        )\r\n        private Set&lt;Role&gt; authorities;\r\n    \r\n        @Column(name = &quot;is_password_changed&quot;)\r\n        private boolean isPasswordChanged;\r\n    \r\n        public User(String username, String email, String password, Set&lt;Role&gt; authorities, boolean isPasswordChanged)\r\n        {\r\n            this.username = username;\r\n            this.email = email;\r\n            this.password = password;\r\n            this.authorities = authorities;\r\n            this.isPasswordChanged = isPasswordChanged;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled()\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n**Role entity:**\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Role extends AbstractTimeEntity implements GrantedAuthority\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;role_id&quot;)\r\n        private Long id;\r\n    \r\n        private String authority;\r\n    \r\n        @ManyToMany(mappedBy = &quot;authorities&quot;)\r\n        Set&lt;User&gt; users;\r\n    \r\n        public Role(String authority)\r\n        {\r\n            this.authority = authority;\r\n        }\r\n    }\r\n\r\n**UserDetailsService Implementation:**\r\n\r\n    @Service\r\n    public class AppUserDetailsService implements UserDetailsService\r\n    {\r\n        private UserRepository userRepository;\r\n    \r\n        public AppUserDetailsService(UserRepository userRepository)\r\n        {\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\r\n        {\r\n            User user = userRepository.findByUsername(username);\r\n            if(user != null)\r\n            {\r\n              return user;\r\n            }else\r\n            {\r\n                throw new UsernameNotFoundException(&quot;Invalid username or password!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Now I can access all of the users fields like this:**\r\n\r\n    User user = (((User) authentication.getPrincipal()));","title":"Spring Boot how to access custom entity fields","body":"<p>I managed to fix it by implementing <code>UserDetails</code> and <code>GrantedAuthority</code> in my entity classes (User, Role) and simply returning the user object in my <code>UserDetailsService</code> implementation.\n<strong>User entity:</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User extends AbstractTimeEntity implements UserDetails\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;user_id&quot;)\n    private Long id;\n\n    @Column(unique = true)\n    private String username;\n\n    @Column(unique = true)\n    private String email;\n\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\n    @JoinTable(\n            name = &quot;user_role_junction&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;role_id&quot;)}\n    )\n    private Set&lt;Role&gt; authorities;\n\n    @Column(name = &quot;is_password_changed&quot;)\n    private boolean isPasswordChanged;\n\n    public User(String username, String email, String password, Set&lt;Role&gt; authorities, boolean isPasswordChanged)\n    {\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.authorities = authorities;\n        this.isPasswordChanged = isPasswordChanged;\n    }\n\n    @Override\n    public boolean isAccountNonExpired()\n    {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked()\n    {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired()\n    {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled()\n    {\n        return true;\n    }\n}\n</code></pre>\n<p><strong>Role entity:</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Role extends AbstractTimeEntity implements GrantedAuthority\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;role_id&quot;)\n    private Long id;\n\n    private String authority;\n\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\n    Set&lt;User&gt; users;\n\n    public Role(String authority)\n    {\n        this.authority = authority;\n    }\n}\n</code></pre>\n<p><strong>UserDetailsService Implementation:</strong></p>\n<pre><code>@Service\npublic class AppUserDetailsService implements UserDetailsService\n{\n    private UserRepository userRepository;\n\n    public AppUserDetailsService(UserRepository userRepository)\n    {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\n    {\n        User user = userRepository.findByUsername(username);\n        if(user != null)\n        {\n          return user;\n        }else\n        {\n            throw new UsernameNotFoundException(&quot;Invalid username or password!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Now I can access all of the users fields like this:</strong></p>\n<pre><code>User user = (((User) authentication.getPrincipal()));\n</code></pre>\n"}],"owner":{"account_id":24613960,"reputation":33,"user_id":20440933,"display_name":"Jez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77399629,"answer_count":2,"score":0,"last_activity_date":1698796180,"creation_date":1698788456,"question_id":77399216,"body_markdown":"I have an `isPasswordChanged` field in my `User` entity.\r\nI would like to access this field from controllers and services.\r\n\r\n`User` entity:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User extends AbstractTimeEntity\r\n{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    private String username;\r\n\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\r\n    @JoinTable(\r\n            name = &quot;user_role_junction&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;role_id&quot;)}\r\n    )\r\n    private Set&lt;Role&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n    @Column(name = &quot;is_password_changed&quot;)\r\n    private boolean isPasswordChanged;\r\n\r\n    public User(String username, String email, String password, Set&lt;Role&gt; authorities, boolean isPasswordChanged)\r\n    {\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.authorities = authorities;\r\n        this.isPasswordChanged = isPasswordChanged;\r\n    }\r\n}\r\n```\r\n\r\nIn my `UserDetailsService `implementation I tried to add the `isPasswordChanged` field to the `authenticatedUser` but since its not a UserDetails field it wont work. Do I really need to create my own `UserDetails` implementation just to have access to this field (and others like Id)?\r\n\r\n`UserDetailsService` implementation:\r\n\r\n```\r\n@Service\r\npublic class AppUserDetailsService implements UserDetailsService\r\n{\r\n    private UserRepository userRepository;\r\n\r\n    public AppUserDetailsService(UserRepository userRepository)\r\n    {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\r\n    {\r\n        var user = userRepository.findByUsername(username);\r\n        if(user != null)\r\n        {\r\n            User authenticatedUser =\r\n                    new User(\r\n                            user.getUsername(),\r\n                            user.getPassword(),\r\n                            user.getAuthorities().stream().map(role -&gt; new SimpleGrantedAuthority(role.getAuthority())).collect(Collectors.toSet())\r\n                    );\r\n            return authenticatedUser;\r\n\r\n        }else\r\n        {\r\n            throw new UsernameNotFoundException(&quot;Invalid username or password!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring Boot how to access custom entity fields","body":"<p>I have an <code>isPasswordChanged</code> field in my <code>User</code> entity.\nI would like to access this field from controllers and services.</p>\n<p><code>User</code> entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User extends AbstractTimeEntity\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;user_id&quot;)\n    private Long id;\n\n    @Column(unique = true)\n    private String username;\n\n    @Column(unique = true)\n    private String email;\n\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\n    @JoinTable(\n            name = &quot;user_role_junction&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;role_id&quot;)}\n    )\n    private Set&lt;Role&gt; authorities = new HashSet&lt;&gt;();\n\n    @Column(name = &quot;is_password_changed&quot;)\n    private boolean isPasswordChanged;\n\n    public User(String username, String email, String password, Set&lt;Role&gt; authorities, boolean isPasswordChanged)\n    {\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.authorities = authorities;\n        this.isPasswordChanged = isPasswordChanged;\n    }\n}\n</code></pre>\n<p>In my <code>UserDetailsService </code>implementation I tried to add the <code>isPasswordChanged</code> field to the <code>authenticatedUser</code> but since its not a UserDetails field it wont work. Do I really need to create my own <code>UserDetails</code> implementation just to have access to this field (and others like Id)?</p>\n<p><code>UserDetailsService</code> implementation:</p>\n<pre><code>@Service\npublic class AppUserDetailsService implements UserDetailsService\n{\n    private UserRepository userRepository;\n\n    public AppUserDetailsService(UserRepository userRepository)\n    {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\n    {\n        var user = userRepository.findByUsername(username);\n        if(user != null)\n        {\n            User authenticatedUser =\n                    new User(\n                            user.getUsername(),\n                            user.getPassword(),\n                            user.getAuthorities().stream().map(role -&gt; new SimpleGrantedAuthority(role.getAuthority())).collect(Collectors.toSet())\n                    );\n            return authenticatedUser;\n\n        }else\n        {\n            throw new UsernameNotFoundException(&quot;Invalid username or password!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1698794464,"post_id":77399444,"comment_id":136450125,"body_markdown":"Can you include the code where the coach object is being instantiated?","body":"Can you include the code where the coach object is being instantiated?"},{"owner":{"account_id":29798315,"reputation":1,"user_id":22836726,"display_name":"Omar Alsawaf"},"score":0,"creation_date":1698794673,"post_id":77399444,"comment_id":136450143,"body_markdown":"@TimBiegeleisen added main function to the post","body":"@TimBiegeleisen added main function to the post"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698795094,"post_id":77399444,"comment_id":136450190,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698796648,"post_id":77399444,"comment_id":136450388,"body_markdown":"I do not understand. Field `coachOutfit` is never set. How should it be anything different than `null`? Where is theh `coachOutfit` suppose to come from? Is the `outfit`-class annotated with a bean-defining scope-annotation? --- The class `footballCoach` is missing a means to inject the `outfit` in it (preferrably through c&#39;tor injection). --- As an aside: In java, classes should start with an uppercase letter. If you are new to java, maybe don&#39;t start with a framework like spring-boot.","body":"I do not understand. Field <code>coachOutfit</code> is never set. How should it be anything different than <code>null</code>? Where is theh <code>coachOutfit</code> suppose to come from? Is the <code>outfit</code>-class annotated with a bean-defining scope-annotation? --- The class <code>footballCoach</code> is missing a means to inject the <code>outfit</code> in it (preferrably through c&#39;tor injection). --- As an aside: In java, classes should start with an uppercase letter. If you are new to java, maybe don&#39;t start with a framework like spring-boot."},{"owner":{"account_id":29798315,"reputation":1,"user_id":22836726,"display_name":"Omar Alsawaf"},"score":0,"creation_date":1698831059,"post_id":77399444,"comment_id":136453723,"body_markdown":"@Turing85 I know coachOutfit is null I&#39;m not asking for a value but I thought the PostConstruct function won&#39;t run until I call the setter for coachOutfit and initiate the coachOutfit. isn&#39;t that when PostConstruct is suppose to run ?","body":"@Turing85 I know coachOutfit is null I&#39;m not asking for a value but I thought the PostConstruct function won&#39;t run until I call the setter for coachOutfit and initiate the coachOutfit. isn&#39;t that when PostConstruct is suppose to run ?"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698831798,"post_id":77399444,"comment_id":136453833,"body_markdown":"[From `@PostConstruct`&#39;s documentation (`jakarta.ee`)](https://jakarta.ee/specifications/platform/9/apidocs/jakarta/annotation/postconstruct): &quot;*The PostConstruct annotation is used on a method that needs to be executed **after dependency injection is done** to perform any initialization. ...*&quot; (emphasis is my own)","body":"<a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/annotation/postconstruct\" rel=\"nofollow noreferrer\">From <code>@PostConstruct</code>&#39;s documentation (<code>jakarta.ee</code>)</a>: &quot;<i>The PostConstruct annotation is used on a method that needs to be executed <b>after dependency injection is done</b> to perform any initialization. ...</i>&quot; (emphasis is my own)"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1698852268,"post_id":77399444,"comment_id":136457870,"body_markdown":"@OmarAlsawaf PostConstruct will always run immediately after injection.  In your case, there is nothing to inject, but the injection still completed, which is when your PostConstruct method was invoked.","body":"@OmarAlsawaf PostConstruct will always run immediately after injection.  In your case, there is nothing to inject, but the injection still completed, which is when your PostConstruct method was invoked."},{"owner":{"account_id":29798315,"reputation":1,"user_id":22836726,"display_name":"Omar Alsawaf"},"score":0,"creation_date":1698918091,"post_id":77399444,"comment_id":136466156,"body_markdown":"@lane.maxwell i didn&#39;t inject the outfit on purpose from what i understood the method will only run after i inject the outfit using setter injection but it already ran before doing that this is what is confusing me i thought it will not run until i call the setter injection in main method only after that it will run , what am i not understanding correctly here ?","body":"@lane.maxwell i didn&#39;t inject the outfit on purpose from what i understood the method will only run after i inject the outfit using setter injection but it already ran before doing that this is what is confusing me i thought it will not run until i call the setter injection in main method only after that it will run , what am i not understanding correctly here ?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1698936399,"post_id":77399444,"comment_id":136469866,"body_markdown":"I think the part that you&#39;re missing is that you do not control the bean construction and initialization, spring does.  Spring is going to invoke the post construct method after spring has constructed the instance and initialized the properties.  This will occur even if there are no properties to set or beans to inject, from spring&#39;s perspective, it has completed initialization","body":"I think the part that you&#39;re missing is that you do not control the bean construction and initialization, spring does.  Spring is going to invoke the post construct method after spring has constructed the instance and initialized the properties.  This will occur even if there are no properties to set or beans to inject, from spring&#39;s perspective, it has completed initialization"}],"owner":{"account_id":29798315,"reputation":1,"user_id":22836726,"display_name":"Omar Alsawaf"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698794653,"creation_date":1698792378,"question_id":77399444,"body_markdown":"```\r\npackage com.coaches.demoCoaches;\r\n\r\nimport jakarta.annotation.PostConstruct;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class footballCoach implements coach{\r\n    outfit coachOutfit;\r\n    @Override\r\n    public String getDailyWorkout() {\r\n        return &quot;score 10 goals&quot;;\r\n    }\r\n    @PostConstruct\r\n    public void coachIsReady(){\r\n        System.out.println(&quot;Coach is now ready&quot;);\r\n        System.out.println(coachOutfit);\r\n    }\r\n    public outfit getCoachOutfit() {\r\n        return coachOutfit;\r\n    }\r\n    public void setCoachOutfit(outfit coachOutfit) {\r\n        this.coachOutfit = coachOutfit;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nHere is the class i&#39;m creating the PostConstruct method for\r\n\r\n\r\n```\r\n2023-11-01T00:30:25.910+02:00  INFO 7902 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-11-01T00:30:25.936+02:00  INFO 7902 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-11-01T00:30:25.937+02:00  INFO 7902 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 756 ms\r\nCoach is now ready\r\nnull\r\n2023-11-01T00:30:26.134+02:00  INFO 7902 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-11-01T00:30:26.154+02:00  INFO 7902 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-11-01T00:30:26.160+02:00  INFO 7902 --- [  restartedMain] c.c.demoCoaches.DemoCoachesApplication   : Started DemoCoachesApplication in 1.266 seconds (process running for 1.612)\r\n```\r\n\r\nand here is the output as you can see the postConstruct method is called and printing the dependency as Null already\r\n\r\nI wanted to make sure that the function until I pass the outfit instance to the coach \r\n\r\n```\r\n    package com.coaches.demoCoaches;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationContext;\r\n\r\n@SpringBootApplication\r\npublic class DemoCoachesApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext myContext = SpringApplication.run(DemoCoachesApplication.class, args);\r\n\r\n\t\tfootballCoach mycoach =  myContext.getBean(footballCoach.class);\r\n\t}\r\n\r\n}\r\n```","title":"@PostConstruct method is being called without the dependency being ready","body":"<pre><code>package com.coaches.demoCoaches;\n\nimport jakarta.annotation.PostConstruct;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class footballCoach implements coach{\n    outfit coachOutfit;\n    @Override\n    public String getDailyWorkout() {\n        return &quot;score 10 goals&quot;;\n    }\n    @PostConstruct\n    public void coachIsReady(){\n        System.out.println(&quot;Coach is now ready&quot;);\n        System.out.println(coachOutfit);\n    }\n    public outfit getCoachOutfit() {\n        return coachOutfit;\n    }\n    public void setCoachOutfit(outfit coachOutfit) {\n        this.coachOutfit = coachOutfit;\n    }\n\n\n}\n\n</code></pre>\n<p>Here is the class i'm creating the PostConstruct method for</p>\n<pre><code>2023-11-01T00:30:25.910+02:00  INFO 7902 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-11-01T00:30:25.936+02:00  INFO 7902 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-11-01T00:30:25.937+02:00  INFO 7902 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 756 ms\nCoach is now ready\nnull\n2023-11-01T00:30:26.134+02:00  INFO 7902 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-11-01T00:30:26.154+02:00  INFO 7902 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-11-01T00:30:26.160+02:00  INFO 7902 --- [  restartedMain] c.c.demoCoaches.DemoCoachesApplication   : Started DemoCoachesApplication in 1.266 seconds (process running for 1.612)\n</code></pre>\n<p>and here is the output as you can see the postConstruct method is called and printing the dependency as Null already</p>\n<p>I wanted to make sure that the function until I pass the outfit instance to the coach</p>\n<pre><code>    package com.coaches.demoCoaches;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\n\n@SpringBootApplication\npublic class DemoCoachesApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext myContext = SpringApplication.run(DemoCoachesApplication.class, args);\n\n        footballCoach mycoach =  myContext.getBean(footballCoach.class);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","grpc","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698793398,"creation_date":1698793398,"answer_id":77399502,"question_id":77393637,"body_markdown":"You will need to extend protobuf for using `Any` type with your own `java.lang.Object` type for the `options` field. This is described in https://protobuf.dev/reference/java/api-docs/com/google/protobuf/Any.Builder.html or https://cloud.google.com/java/docs/reference/protobuf/latest/com.google.protobuf.Any.Builder ","title":"how to map Object type variable of java in protobuf 3 for grpc","body":"<p>You will need to extend protobuf for using <code>Any</code> type with your own <code>java.lang.Object</code> type for the <code>options</code> field. This is described in <a href=\"https://protobuf.dev/reference/java/api-docs/com/google/protobuf/Any.Builder.html\" rel=\"nofollow noreferrer\">https://protobuf.dev/reference/java/api-docs/com/google/protobuf/Any.Builder.html</a> or <a href=\"https://cloud.google.com/java/docs/reference/protobuf/latest/com.google.protobuf.Any.Builder\" rel=\"nofollow noreferrer\">https://cloud.google.com/java/docs/reference/protobuf/latest/com.google.protobuf.Any.Builder</a></p>\n"}],"owner":{"account_id":27852302,"reputation":3,"user_id":21266582,"display_name":"Aysha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698793398,"creation_date":1698733553,"question_id":77393637,"body_markdown":"I have class with below properties in my service, I want to create a grpc service for this. but i am not able to find how can i map Object data in protobuf.\r\n\r\n    public class FeatureDetails {\r\n \r\n     private String type;\r\n     private Object value;\r\n     private String label;\r\n     private Object options; }\r\n\r\n\r\nI want protobuf for above variable which are of type Object \r\n\r\nI have tried below code in protobuf.\r\n\r\n    oneof value {\r\n \r\n     string string_value = 4;\r\n     int32 int_value = 5;\r\n     bool bool_value = 6;\r\n     double double_value = 7;   }  \r\n \r\n     google.protobuf.Any value=8\r\n\r\nBut I am getting null in value &amp; options for both the cases after \r\n","title":"how to map Object type variable of java in protobuf 3 for grpc","body":"<p>I have class with below properties in my service, I want to create a grpc service for this. but i am not able to find how can i map Object data in protobuf.</p>\n<pre><code>public class FeatureDetails {\n\n private String type;\n private Object value;\n private String label;\n private Object options; }\n</code></pre>\n<p>I want protobuf for above variable which are of type Object</p>\n<p>I have tried below code in protobuf.</p>\n<pre><code>oneof value {\n\n string string_value = 4;\n int32 int_value = 5;\n bool bool_value = 6;\n double double_value = 7;   }  \n\n google.protobuf.Any value=8\n</code></pre>\n<p>But I am getting null in value &amp; options for both the cases after</p>\n"},{"tags":["java","android","image-processing","deep-learning","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698792621,"creation_date":1698676191,"answer_id":77389489,"question_id":77389202,"body_markdown":"&lt;h3&gt; Java Android Image Processing &lt;/h3&gt;\r\n\r\nMake a few adjustments:\r\n\r\n 1. **Adjust `MODEL_NAME` variable to load `esrgan.tflite` model:**   \r\n\r\n```java\r\nprivate final String MODEL_NAME = &quot;esrgan.tflite&quot;;\r\n```\r\n 2. **Also, keep in mind that the &quot;esrgan.tflite&quot; model requires a 50x50 input image and generates a 200x200 output image, so you&#39;ll need to adapt the way you prepare the input and output tensors accordingly:**   \r\n \r\n * Modify `prepareInputTensor` to  make sure that the image gets resized to 50x50 before feeding it to model:   \r\n \r\n```java\r\npublic TensorImage prepareInputTensor(Bitmap bitmap_lr) {\r\n    // Resizes the input image to 50x50.\r\n    ImageProcessor imageProcessor = new ImageProcessor.Builder()\r\n            .add(new ResizeOp(50, 50, ResizeOp.ResizeMethod.NEAREST_NEIGHBOR))\r\n            .add(new NormalizeOp(0.0f, 255.0f))\r\n            .build();\r\n    TensorImage inputImage = TensorImage.fromBitmap(bitmap_lr);\r\n    inputImage = imageProcessor.process(inputImage);\r\n\r\n    return inputImage;\r\n}\r\n```\r\n\r\n* Modify `prepareOutputTensor` to adjust the output tensor shape to match expected output size of 200x200:   \r\n\r\n``` java\r\npublic TensorImage prepareOutputTensor() {\r\n    TensorImage srImage = new TensorImage(DataType.FLOAT32);\r\n\r\n    // Adjusted to 200x200 and added batch size dimension\r\n    int[] srShape = new int[]{1, 200, 200, 3};  \r\n    srImage.load(TensorBuffer.createFixedSize(srShape, DataType.FLOAT32));\r\n\r\n    return srImage;\r\n}\r\n```\r\n\r\n * Modify `tensorToImage` to make sure that the pixel values are clamped to [0,255] range after the conversion from floating point values:   \r\n \r\n```java\r\npublic Bitmap tensorToImage(TensorImage outputTensor) {\r\n    ByteBuffer srOut = outputTensor.getBuffer();\r\n    srOut.rewind();\r\n\r\n    int height = outputTensor.getHeight();\r\n    int width = outputTensor.getWidth();\r\n\r\n    Bitmap bmpImage = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n    int[] pixels = new int[width * height];\r\n\r\n    for (int i = 0; i &lt; width * height; i++) {\r\n        int a = 0xFF;\r\n        int r = (int) (srOut.getFloat() * 255.0f);\r\n        int g = (int) (srOut.getFloat() * 255.0f);\r\n        int b = (int) (srOut.getFloat() * 255.0f);\r\n\r\n        // Clamps the pixel values to [0, 255] range.\r\n        r = Math.max(0, Math.min(255, r));\r\n        g = Math.max(0, Math.min(255, g));\r\n        b = Math.max(0, Math.min(255, b)); \r\n\r\n        pixels[i] = (a &amp; 0xff) &lt;&lt; 24 | (r &amp; 0xff) &lt;&lt; 16) | (g &amp; 0xff) &lt;&lt; 8 | (b &amp; 0xff);\r\n\r\n    }\r\n\r\n    bmpImage.setPixels(pixels, 0, width, 0, 0, width, height);\r\n\r\n    return bmpImage;\r\n}\r\n```\r\n\r\nMake sure to tweak the code to work seamlessly with the `esrgan.tflite` model, ensuring that the preprocessing and post processing steps align with its specific requirements. Adjust the normalization values in the `NormalizeOp` if needed and double-check that the input and output data types match the model&#39;s specifications.\r\n\r\nI hope that this solves your issue.","title":"Output image looks corrupt when using Tensorflow Lite in Android","body":"<h3> Java Android Image Processing </h3>\n<p>Make a few adjustments:</p>\n<ol>\n<li><strong>Adjust <code>MODEL_NAME</code> variable to load <code>esrgan.tflite</code> model:</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private final String MODEL_NAME = &quot;esrgan.tflite&quot;;\n</code></pre>\n<ol start=\"2\">\n<li><strong>Also, keep in mind that the &quot;esrgan.tflite&quot; model requires a 50x50 input image and generates a 200x200 output image, so you'll need to adapt the way you prepare the input and output tensors accordingly:</strong></li>\n</ol>\n<ul>\n<li>Modify <code>prepareInputTensor</code> to  make sure that the image gets resized to 50x50 before feeding it to model:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public TensorImage prepareInputTensor(Bitmap bitmap_lr) {\n    // Resizes the input image to 50x50.\n    ImageProcessor imageProcessor = new ImageProcessor.Builder()\n            .add(new ResizeOp(50, 50, ResizeOp.ResizeMethod.NEAREST_NEIGHBOR))\n            .add(new NormalizeOp(0.0f, 255.0f))\n            .build();\n    TensorImage inputImage = TensorImage.fromBitmap(bitmap_lr);\n    inputImage = imageProcessor.process(inputImage);\n\n    return inputImage;\n}\n</code></pre>\n<ul>\n<li>Modify <code>prepareOutputTensor</code> to adjust the output tensor shape to match expected output size of 200x200:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public TensorImage prepareOutputTensor() {\n    TensorImage srImage = new TensorImage(DataType.FLOAT32);\n\n    // Adjusted to 200x200 and added batch size dimension\n    int[] srShape = new int[]{1, 200, 200, 3};  \n    srImage.load(TensorBuffer.createFixedSize(srShape, DataType.FLOAT32));\n\n    return srImage;\n}\n</code></pre>\n<ul>\n<li>Modify <code>tensorToImage</code> to make sure that the pixel values are clamped to [0,255] range after the conversion from floating point values:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public Bitmap tensorToImage(TensorImage outputTensor) {\n    ByteBuffer srOut = outputTensor.getBuffer();\n    srOut.rewind();\n\n    int height = outputTensor.getHeight();\n    int width = outputTensor.getWidth();\n\n    Bitmap bmpImage = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n    int[] pixels = new int[width * height];\n\n    for (int i = 0; i &lt; width * height; i++) {\n        int a = 0xFF;\n        int r = (int) (srOut.getFloat() * 255.0f);\n        int g = (int) (srOut.getFloat() * 255.0f);\n        int b = (int) (srOut.getFloat() * 255.0f);\n\n        // Clamps the pixel values to [0, 255] range.\n        r = Math.max(0, Math.min(255, r));\n        g = Math.max(0, Math.min(255, g));\n        b = Math.max(0, Math.min(255, b)); \n\n        pixels[i] = (a &amp; 0xff) &lt;&lt; 24 | (r &amp; 0xff) &lt;&lt; 16) | (g &amp; 0xff) &lt;&lt; 8 | (b &amp; 0xff);\n\n    }\n\n    bmpImage.setPixels(pixels, 0, width, 0, 0, width, height);\n\n    return bmpImage;\n}\n</code></pre>\n<p>Make sure to tweak the code to work seamlessly with the <code>esrgan.tflite</code> model, ensuring that the preprocessing and post processing steps align with its specific requirements. Adjust the normalization values in the <code>NormalizeOp</code> if needed and double-check that the input and output data types match the model's specifications.</p>\n<p>I hope that this solves your issue.</p>\n"}],"owner":{"account_id":1232692,"reputation":161,"user_id":22674351,"display_name":"Mary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698792621,"creation_date":1698673751,"question_id":77389202,"body_markdown":"I have this simple piece of code (from [here][1]) that applies a TensorfFlow Lite model on an input image (of size 480x270) and after processing, it shows the resulting image. The logic works when running it with the `evsrnet_x4.tflite` and I can see the output image. The project assets also includes another model `esrgan.tflite` as well which should take 50x50 input images and generate 200x200 output images. But when I change the code to take that dimension into account, the output image looks corrupt as seen below for some reasons. I can&#39;t figure out why.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat is wrong here? What else should I change for it to work on esrgan?\r\n\r\n    package com.example.mobedsr;\r\n    \r\n    import android.content.res.AssetFileDescriptor;\r\n    import android.content.res.AssetManager;\r\n    import android.graphics.Bitmap;\r\n    \r\n    import org.tensorflow.lite.DataType;\r\n    import org.tensorflow.lite.Interpreter;\r\n    import org.tensorflow.lite.gpu.CompatibilityList;\r\n    import org.tensorflow.lite.gpu.GpuDelegate;\r\n    import org.tensorflow.lite.support.common.ops.NormalizeOp;\r\n    import org.tensorflow.lite.support.image.ImageProcessor;\r\n    import org.tensorflow.lite.support.image.TensorImage;\r\n    import org.tensorflow.lite.support.image.ops.ResizeOp;\r\n    import org.tensorflow.lite.support.tensorbuffer.TensorBuffer;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.FileChannel;\r\n    \r\n    \r\n    /** @brief  Super Resolution Model class\r\n     *  @date   23/01/27\r\n     */\r\n    public class SRModel {\r\n        private boolean useGpu;\r\n    \r\n        public Interpreter interpreter;\r\n        private Interpreter.Options options;\r\n        private GpuDelegate gpuDelegate;\r\n        private AssetManager assetManager;\r\n    \r\n        private final String MODEL_NAME = &quot;evsrnet_x4.tflite&quot;; //I want to change to esrgan.tflite\r\n    \r\n        SRModel(AssetManager assetManager, boolean useGpu) throws IOException {\r\n            interpreter = null;\r\n            gpuDelegate = null;\r\n    \r\n            this.assetManager = assetManager;\r\n            this.useGpu = useGpu;\r\n    \r\n            // Initialize the TF Lite interpreter\r\n            init();\r\n        }\r\n    \r\n        private void init() throws IOException {\r\n            options = new Interpreter.Options();\r\n    \r\n            // Set gpu delegate\r\n            if (useGpu) {\r\n                CompatibilityList compatList = new CompatibilityList();\r\n                GpuDelegate.Options delegateOptions = compatList.getBestOptionsForThisDevice();\r\n                gpuDelegate = new GpuDelegate(delegateOptions);\r\n                options.addDelegate(gpuDelegate);\r\n            }\r\n    \r\n            // Set TF Lite interpreter\r\n            interpreter = new Interpreter(loadModelFile(), options);\r\n        }\r\n    \r\n        /** @brief  Load .tflite model file to ByteBuffer\r\n         *  @date   23/01/25\r\n         */\r\n        private ByteBuffer loadModelFile() throws IOException {\r\n            AssetFileDescriptor assetFileDescriptor = assetManager.openFd(MODEL_NAME);\r\n            FileInputStream fileInputStream = new FileInputStream(assetFileDescriptor.getFileDescriptor());\r\n    \r\n            FileChannel fileChannel = fileInputStream.getChannel();\r\n            long startOffset = assetFileDescriptor.getStartOffset();\r\n            long declaredLength = assetFileDescriptor.getDeclaredLength();\r\n    \r\n            return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);\r\n        }\r\n    \r\n        public void run(Object a, Object b) {\r\n            interpreter.run(a, b);\r\n        }\r\n    \r\n    \r\n        /** @brief  Prepare the input tensor from low resolution image\r\n         *  @date   23/01/25\r\n         */\r\n        public TensorImage prepareInputTensor(Bitmap bitmap_lr) {\r\n            TensorImage inputImage = TensorImage.fromBitmap(bitmap_lr);\r\n            int height = bitmap_lr.getHeight();\r\n            int width = bitmap_lr.getWidth();\r\n    \r\n            ImageProcessor imageProcessor = new ImageProcessor.Builder()\r\n                    .add(new ResizeOp(height, width, ResizeOp.ResizeMethod.NEAREST_NEIGHBOR))\r\n                    .add(new NormalizeOp(0.0f, 255.0f))\r\n                    .build();\r\n            inputImage = imageProcessor.process(inputImage);\r\n    \r\n            return inputImage;\r\n        }\r\n    \r\n    \r\n        /** @brief  Prepare the output tensor for super resolution\r\n         *  @date   23/01/25\r\n         */\r\n        public TensorImage prepareOutputTensor() {\r\n            TensorImage srImage = new TensorImage(DataType.FLOAT32);\r\n    //        int[] srShape = new int[]{1080, 1920, 3};\r\n            int[] srShape = new int[]{1920, 1080, 3};\r\n            srImage.load(TensorBuffer.createFixedSize(srShape, DataType.FLOAT32));\r\n    \r\n            return srImage;\r\n        }\r\n    \r\n    \r\n        /** @brief  Convert tensor to bitmap image\r\n         *  @date   23/01/25\r\n         *  @param outputTensor super resolutioned image\r\n         */\r\n        public Bitmap tensorToImage(TensorImage outputTensor) {\r\n            ByteBuffer srOut = outputTensor.getBuffer();\r\n            srOut.rewind();\r\n    \r\n            int height = outputTensor.getHeight();\r\n            int width = outputTensor.getWidth();\r\n    \r\n            Bitmap bmpImage = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n            int[] pixels = new int[width * height];\r\n    \r\n            for (int i = 0; i &lt; width * height; i++) {\r\n                int a = 0xFF;\r\n                float r = srOut.getFloat() * 255.0f;\r\n                float g = srOut.getFloat() * 255.0f;\r\n                float b = srOut.getFloat() * 255.0f;\r\n    \r\n                pixels[i] = a &lt;&lt; 24 | ((int) r &lt;&lt; 16) | ((int) g &lt;&lt; 8) | ((int) b);\r\n            }\r\n    \r\n            bmpImage.setPixels(pixels, 0, width, 0, 0, width, height);\r\n    \r\n            return bmpImage;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n**UPDATE 1**: I did all changes proposed by the answer below. Good progress, but the output looks pixelated and purplish now:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://github.com/lovelyzzkei/MobedSR\r\n  [2]: https://i.stack.imgur.com/ttbDFl.png\r\n  [3]: https://i.stack.imgur.com/kdLtOl.jpg","title":"Output image looks corrupt when using Tensorflow Lite in Android","body":"<p>I have this simple piece of code (from <a href=\"https://github.com/lovelyzzkei/MobedSR\" rel=\"nofollow noreferrer\">here</a>) that applies a TensorfFlow Lite model on an input image (of size 480x270) and after processing, it shows the resulting image. The logic works when running it with the <code>evsrnet_x4.tflite</code> and I can see the output image. The project assets also includes another model <code>esrgan.tflite</code> as well which should take 50x50 input images and generate 200x200 output images. But when I change the code to take that dimension into account, the output image looks corrupt as seen below for some reasons. I can't figure out why.</p>\n<p><a href=\"https://i.stack.imgur.com/ttbDFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ttbDFl.png\" alt=\"enter image description here\" /></a></p>\n<p>What is wrong here? What else should I change for it to work on esrgan?</p>\n<pre><code>package com.example.mobedsr;\n\nimport android.content.res.AssetFileDescriptor;\nimport android.content.res.AssetManager;\nimport android.graphics.Bitmap;\n\nimport org.tensorflow.lite.DataType;\nimport org.tensorflow.lite.Interpreter;\nimport org.tensorflow.lite.gpu.CompatibilityList;\nimport org.tensorflow.lite.gpu.GpuDelegate;\nimport org.tensorflow.lite.support.common.ops.NormalizeOp;\nimport org.tensorflow.lite.support.image.ImageProcessor;\nimport org.tensorflow.lite.support.image.TensorImage;\nimport org.tensorflow.lite.support.image.ops.ResizeOp;\nimport org.tensorflow.lite.support.tensorbuffer.TensorBuffer;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.FileChannel;\n\n\n/** @brief  Super Resolution Model class\n *  @date   23/01/27\n */\npublic class SRModel {\n    private boolean useGpu;\n\n    public Interpreter interpreter;\n    private Interpreter.Options options;\n    private GpuDelegate gpuDelegate;\n    private AssetManager assetManager;\n\n    private final String MODEL_NAME = &quot;evsrnet_x4.tflite&quot;; //I want to change to esrgan.tflite\n\n    SRModel(AssetManager assetManager, boolean useGpu) throws IOException {\n        interpreter = null;\n        gpuDelegate = null;\n\n        this.assetManager = assetManager;\n        this.useGpu = useGpu;\n\n        // Initialize the TF Lite interpreter\n        init();\n    }\n\n    private void init() throws IOException {\n        options = new Interpreter.Options();\n\n        // Set gpu delegate\n        if (useGpu) {\n            CompatibilityList compatList = new CompatibilityList();\n            GpuDelegate.Options delegateOptions = compatList.getBestOptionsForThisDevice();\n            gpuDelegate = new GpuDelegate(delegateOptions);\n            options.addDelegate(gpuDelegate);\n        }\n\n        // Set TF Lite interpreter\n        interpreter = new Interpreter(loadModelFile(), options);\n    }\n\n    /** @brief  Load .tflite model file to ByteBuffer\n     *  @date   23/01/25\n     */\n    private ByteBuffer loadModelFile() throws IOException {\n        AssetFileDescriptor assetFileDescriptor = assetManager.openFd(MODEL_NAME);\n        FileInputStream fileInputStream = new FileInputStream(assetFileDescriptor.getFileDescriptor());\n\n        FileChannel fileChannel = fileInputStream.getChannel();\n        long startOffset = assetFileDescriptor.getStartOffset();\n        long declaredLength = assetFileDescriptor.getDeclaredLength();\n\n        return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);\n    }\n\n    public void run(Object a, Object b) {\n        interpreter.run(a, b);\n    }\n\n\n    /** @brief  Prepare the input tensor from low resolution image\n     *  @date   23/01/25\n     */\n    public TensorImage prepareInputTensor(Bitmap bitmap_lr) {\n        TensorImage inputImage = TensorImage.fromBitmap(bitmap_lr);\n        int height = bitmap_lr.getHeight();\n        int width = bitmap_lr.getWidth();\n\n        ImageProcessor imageProcessor = new ImageProcessor.Builder()\n                .add(new ResizeOp(height, width, ResizeOp.ResizeMethod.NEAREST_NEIGHBOR))\n                .add(new NormalizeOp(0.0f, 255.0f))\n                .build();\n        inputImage = imageProcessor.process(inputImage);\n\n        return inputImage;\n    }\n\n\n    /** @brief  Prepare the output tensor for super resolution\n     *  @date   23/01/25\n     */\n    public TensorImage prepareOutputTensor() {\n        TensorImage srImage = new TensorImage(DataType.FLOAT32);\n//        int[] srShape = new int[]{1080, 1920, 3};\n        int[] srShape = new int[]{1920, 1080, 3};\n        srImage.load(TensorBuffer.createFixedSize(srShape, DataType.FLOAT32));\n\n        return srImage;\n    }\n\n\n    /** @brief  Convert tensor to bitmap image\n     *  @date   23/01/25\n     *  @param outputTensor super resolutioned image\n     */\n    public Bitmap tensorToImage(TensorImage outputTensor) {\n        ByteBuffer srOut = outputTensor.getBuffer();\n        srOut.rewind();\n\n        int height = outputTensor.getHeight();\n        int width = outputTensor.getWidth();\n\n        Bitmap bmpImage = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n        int[] pixels = new int[width * height];\n\n        for (int i = 0; i &lt; width * height; i++) {\n            int a = 0xFF;\n            float r = srOut.getFloat() * 255.0f;\n            float g = srOut.getFloat() * 255.0f;\n            float b = srOut.getFloat() * 255.0f;\n\n            pixels[i] = a &lt;&lt; 24 | ((int) r &lt;&lt; 16) | ((int) g &lt;&lt; 8) | ((int) b);\n        }\n\n        bmpImage.setPixels(pixels, 0, width, 0, 0, width, height);\n\n        return bmpImage;\n    }\n\n\n}\n</code></pre>\n<p><strong>UPDATE 1</strong>: I did all changes proposed by the answer below. Good progress, but the output looks pixelated and purplish now:</p>\n<p><a href=\"https://i.stack.imgur.com/kdLtOl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kdLtOl.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":13016858,"reputation":287,"user_id":9407739,"display_name":"Leonardo Gazdek"},"score":1,"creation_date":1698793683,"post_id":77399447,"comment_id":136450058,"body_markdown":"Try deleting your .gradle folder. This definitely seems like some sort of weird cache issue.","body":"Try deleting your .gradle folder. This definitely seems like some sort of weird cache issue."},{"owner":{"account_id":10383126,"reputation":157,"user_id":8431320,"display_name":"Koops128"},"score":0,"creation_date":1698856569,"post_id":77399447,"comment_id":136458757,"body_markdown":"I ended up deleting the entire project and starting fresh, I&#39;ll have to remember trying just the .gradle folder for next time","body":"I ended up deleting the entire project and starting fresh, I&#39;ll have to remember trying just the .gradle folder for next time"}],"owner":{"account_id":10383126,"reputation":157,"user_id":8431320,"display_name":"Koops128"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698792398,"creation_date":1698792398,"question_id":77399447,"body_markdown":"In my build.gradle:\r\n```\r\nimplementation &#39;com.azure:azure-communication-sms:1.1.18&#39;\r\n```\r\n\r\nIn my code:\r\n```\r\nimport com.azure.communication.sms.*;\r\n```\r\n\r\nNo matter what I refresh, clean, build, restart, in STS com.azure is always highlighted with: &quot;The import com.azure cannot be resolved&quot;\r\n\r\nWhen I actually run it and Proceed with launch even though errors exist, it actually works half the time. The other half though it throws: java.lang.Error: Unresolved compilation problems: SmsClient cannot be resolved to a type\r\n\r\n","title":"Java Spring: The import com.azure cannot be resolved but still runs, then half the time throws","body":"<p>In my build.gradle:</p>\n<pre><code>implementation 'com.azure:azure-communication-sms:1.1.18'\n</code></pre>\n<p>In my code:</p>\n<pre><code>import com.azure.communication.sms.*;\n</code></pre>\n<p>No matter what I refresh, clean, build, restart, in STS com.azure is always highlighted with: &quot;The import com.azure cannot be resolved&quot;</p>\n<p>When I actually run it and Proceed with launch even though errors exist, it actually works half the time. The other half though it throws: java.lang.Error: Unresolved compilation problems: SmsClient cannot be resolved to a type</p>\n"},{"tags":["java","spring","spring-boot","pdf","pdftron"],"answers":[{"tags":[],"owner":{"account_id":27622975,"reputation":11,"user_id":21083575,"display_name":"Kia Mirsalehi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698791081,"creation_date":1698789860,"answer_id":77399305,"question_id":77367861,"body_markdown":"There is no concept of underline in PDF (as there is with Word) so there is no straight forward way of adding the underline to the text.\r\n\r\nOne way to do it is by adding an underline annotation at the correct location (as you are doing in your code), but you then want to flatten the annotation directly on the page. You can do this by calling PDFDoc.FlattenAnnotations()\r\nhttps://docs.apryse.com/api/PDFTronSDK/dotnet/pdftron.PDF.PDFDoc.html#pdftron_PDF_PDFDoc_FlattenAnnotations","title":"How to add underline in TextElement using pdftron 9.1.0?","body":"<p>There is no concept of underline in PDF (as there is with Word) so there is no straight forward way of adding the underline to the text.</p>\n<p>One way to do it is by adding an underline annotation at the correct location (as you are doing in your code), but you then want to flatten the annotation directly on the page. You can do this by calling PDFDoc.FlattenAnnotations()\n<a href=\"https://docs.apryse.com/api/PDFTronSDK/dotnet/pdftron.PDF.PDFDoc.html#pdftron_PDF_PDFDoc_FlattenAnnotations\" rel=\"nofollow noreferrer\">https://docs.apryse.com/api/PDFTronSDK/dotnet/pdftron.PDF.PDFDoc.html#pdftron_PDF_PDFDoc_FlattenAnnotations</a></p>\n"}],"owner":{"account_id":29760228,"reputation":19,"user_id":22808012,"display_name":"Lactus Odinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698791081,"creation_date":1698330312,"question_id":77367861,"body_markdown":"I am creating tab at top right corner of pdf page.\r\nI was trying to add underline in text element using com.pdftron.pdf.annots.Underline\r\n\r\n    \r\n            Element textElement1 = builder.createTextBegin(Font.create(pdfDoc, Font.e_times_bold_italic), 12);\r\n            //writer.writeElement(textElement1);\r\n            Element textRun1 = builder.createTextRun(&quot;Tab 1&quot;);\r\n            textElement1.getGState().setTransform(0, -1, 1, 0, 612 - 18, 792-18-72);\r\n            textElement1.getGState().setTextRenderMode(GState.e_fill_text);\r\n            textElement1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\r\n            textElement1.getGState().setFillColor(new ColorPt(0, 0, 0)); // Set text color to black\r\n            \r\n            Underline underline =  Underline.create(pdfDoc, new Rect(612 - 18, 792-18-72, 612 - 18, 792-18-12));\r\n            underline.setColor(new ColorPt(1, 0, 0)); // Red color\r\n            \r\n            page.annotPushBack(underline);\r\n            \r\n            writer.writeElement(textElement1);\r\n            writer.writeElement(textRun1);\r\n            writer.writePlacedElement(element1);\r\n\r\nCode output:\r\n[enter image description here](https://i.stack.imgur.com/MGtrQ.png)\r\n","title":"How to add underline in TextElement using pdftron 9.1.0?","body":"<p>I am creating tab at top right corner of pdf page.\nI was trying to add underline in text element using com.pdftron.pdf.annots.Underline</p>\n<pre><code>        Element textElement1 = builder.createTextBegin(Font.create(pdfDoc, Font.e_times_bold_italic), 12);\n        //writer.writeElement(textElement1);\n        Element textRun1 = builder.createTextRun(&quot;Tab 1&quot;);\n        textElement1.getGState().setTransform(0, -1, 1, 0, 612 - 18, 792-18-72);\n        textElement1.getGState().setTextRenderMode(GState.e_fill_text);\n        textElement1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\n        textElement1.getGState().setFillColor(new ColorPt(0, 0, 0)); // Set text color to black\n        \n        Underline underline =  Underline.create(pdfDoc, new Rect(612 - 18, 792-18-72, 612 - 18, 792-18-12));\n        underline.setColor(new ColorPt(1, 0, 0)); // Red color\n        \n        page.annotPushBack(underline);\n        \n        writer.writeElement(textElement1);\n        writer.writeElement(textRun1);\n        writer.writePlacedElement(element1);\n</code></pre>\n<p>Code output:\n<a href=\"https://i.stack.imgur.com/MGtrQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","neovim","nvim-lspconfig"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698807019,"post_id":77399338,"comment_id":136451223,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":20988702,"reputation":21,"user_id":15421959,"display_name":"Ahmed Mannai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698790474,"creation_date":1698790474,"question_id":77399338,"body_markdown":"I have setup jdtls and I want to use nvim to develop spring-boot projects however I have faced this problem.\r\n\r\nevery import works fine, the problem is, when I import `org.springframework.security` I don&#39;t now why but `jdtls` cannot recognize that package.\r\n\r\n**however when I open the project on intellij** it does not shows me any error.\r\n\r\n[![jdtls nvim import error](https://i.stack.imgur.com/8q4us.png)](https://i.stack.imgur.com/8q4us.png)\r\n\r\n- here is my `java.lua` file:\r\n\r\n```\r\nlocal jdtls_ok = pcall(require, &quot;jdtls&quot;)\r\n\r\nif not jdtls_ok then\r\n  vim.notify &quot;JDTLS not found, install with `:LspInstall jdtls`&quot;\r\n  return\r\nend\r\n\r\nlocal home = os.getenv(&#39;HOME&#39;)\r\nlocal jdtls = require(&#39;jdtls&#39;)\r\n\r\nlocal JDTLS_LOCATION = &quot;/home/drghost/jdt-language-server&quot;\r\n\r\n-- Installation location of jdtls by nvim-lsp-installer\r\n-- local JDTLS_LOCATION = vim.fn.stdpath &quot;data&quot; .. &quot;/lsp_servers/jdtls&quot;\r\n\r\n\r\n-- File types that signify a Java project&#39;s root directory. This will be\r\n-- used by eclipse to determine what constitutes a workspace\r\nlocal root_markers = {&#39;gradlew&#39;, &#39;mvnw&#39;, &#39;.git&#39;}\r\nlocal root_dir = vim.fs.dirname(vim.fs.find(root_markers, { upward = true })[1])\r\n\r\n-- eclipse.jdt.ls stores project specific data within a folder. If you are working\r\n-- with multiple different projects, each project must use a dedicated data directory.\r\n-- This variable is used to configure eclipse to use the directory name of the\r\n-- current project found using the root_marker as the folder for project specific data.\r\nlocal project_name = vim.fn.fnamemodify(vim.fn.getcwd(), &quot;:p:h:t&quot;)\r\nlocal workspace_folder = home .. &quot;/.cache/jdtls/workspace/&quot; .. project_name\r\n\r\nlocal extendedClientCapabilities = jdtls.extendedClientCapabilities\r\nextendedClientCapabilities.resolveAdditionalTextEditsSupport = true\r\n-- local workspace_folder = home .. &quot;/.local/share/eclipse/&quot; .. vim.fn.fnamemodify(vim.fn.getcwd(), &quot;:p:h:t&quot;)\r\n\r\n-- Helper function for creating keymaps\r\nfunction nnoremap(rhs, lhs, bufopts, desc)\r\n  bufopts.desc = desc\r\n  vim.keymap.set(&quot;n&quot;, rhs, lhs, bufopts)\r\nend\r\n\r\n\r\n\r\nlocal config = {\r\n  flags = {\r\n    allow_incremental_sync = true,\r\n    debounce_text_changes = 80,\r\n  },\r\n  init_options = {\r\n      bundle = {},\r\n  },\r\n  root_dir = root_dir, -- Set the root directory to our found root_marker\r\n  -- Here you can configure eclipse.jdt.ls specific settings\r\n  -- These are defined by the eclipse.jdt.ls project and will be passed to eclipse when starting.\r\n  -- See https://github.com/eclipse/eclipse.jdt.ls/wiki/Running-the-JAVA-LS-server-from-the-command-line#initialize-request\r\n  -- for a list of options\r\n  settings = {\r\n    java = {\r\n      eclipse = {\r\n          downloadSources = true,\r\n      },\r\n      gradle = {\r\n          enabled = true,\r\n      },\r\n      maven = {\r\n          downloadSources = true,\r\n      },\r\n      implementationsCodeLens = {\r\n          enabled = true,\r\n      },\r\n      referencesCodeLens = {\r\n          enabled = true,\r\n      },\r\n      references = {\r\n          includeDecompiledSources = true,\r\n      },\r\n      format = {\r\n          enable = true,\r\n        settings = {\r\n          -- Use Google Java style guidelines for formatting\r\n          -- To use, make sure to download the file from https://github.com/google/styleguide/blob/gh-pages/eclipse-java-google-style.xml\r\n          -- and place it in the ~/.local/share/eclipse directory\r\n          url = &quot;/.local/share/eclipse/eclipse-java-google-style.xml&quot;,\r\n          profile = &quot;GoogleStyle&quot;,\r\n        },\r\n      },\r\n      signatureHelp = { enabled = true },\r\n      contentProvider = { preferred = &#39;fernflower&#39; },  -- Use fernflower to decompile library code\r\n      -- Specify any completion options\r\n      completion = {\r\n        favoriteStaticMembers = {\r\n          &quot;org.hamcrest.MatcherAssert.assertThat&quot;,\r\n          &quot;org.hamcrest.Matchers.*&quot;,\r\n          &quot;org.hamcrest.CoreMatchers.*&quot;,\r\n          &quot;org.junit.jupiter.api.Assertions.*&quot;,\r\n          &quot;java.util.Objects.requireNonNull&quot;,\r\n          &quot;java.util.Objects.requireNonNullElse&quot;,\r\n          &quot;org.mockito.Mockito.*&quot;,\r\n          &quot;org.springframework.*&quot;\r\n        },\r\n       importOrder = {\r\n        &quot;java&quot;,\r\n        &quot;javax&quot;,\r\n        &quot;com&quot;,\r\n        &quot;org&quot;\r\n      },\r\n      },\r\n      -- Specify any options for organizing imports\r\n      sources = {\r\n        organizeImports = {\r\n          starThreshold = 9999;\r\n          staticStarThreshold = 9999;\r\n        },\r\n      },\r\n      -- How code generation should act\r\n      codeGeneration = {\r\n        toString = {\r\n          template = &quot;${object.className}{${member.name()}=${member.value}, ${otherMembers}}&quot;\r\n        },\r\n        hashCodeEquals = {\r\n          useJava7Objects = true,\r\n        },\r\n        useBlocks = true,\r\n      },\r\n      -- If you are developing in projects with different Java versions, you need\r\n      -- to tell eclipse.jdt.ls to use the location of the JDK for your Java version\r\n      -- See https://github.com/eclipse/eclipse.jdt.ls/wiki/Running-the-JAVA-LS-server-from-the-command-line#initialize-request\r\n      -- And search for `interface RuntimeOption`\r\n      -- The `name` is NOT arbitrary, but must match one of the elements from `enum ExecutionEnvironment` in the link above\r\n      configuration = {\r\n        runtimes = {\r\n          {\r\n            name = &quot;JavaSE-19&quot;,\r\n            path = &quot;/usr/bin/java&quot;,\r\n          },\r\n        }\r\n      }\r\n    }\r\n  },\r\n  -- cmd is the command that starts the language server. Whatever is placed\r\n  -- here is what is passed to the command line to execute jdtls.\r\n  -- Note that eclipse.jdt.ls must be started with a Java version of 17 or higher\r\n  -- See: https://github.com/eclipse/eclipse.jdt.ls#running-from-the-command-line\r\n  -- for the full list of options\r\n  cmd = {\r\n    &#39;java&#39;,\r\n    &#39;-Declipse.application=org.eclipse.jdt.ls.core.id1&#39;,\r\n    &#39;-Dosgi.bundles.defaultStartLevel=4&#39;,\r\n    &#39;-Declipse.product=org.eclipse.jdt.ls.core.product&#39;,\r\n    &#39;-Dlog.protocol=true&#39;,\r\n    &#39;-Dlog.level=ALL&#39;,\r\n    &#39;-Xmx4g&#39;,\r\n    &#39;--add-modules=ALL-SYSTEM&#39;,\r\n    &#39;--add-opens&#39;, &#39;java.base/java.util=ALL-UNNAMED&#39;,\r\n    &#39;--add-opens&#39;, &#39;java.base/java.lang=ALL-UNNAMED&#39;,\r\n    -- If you use lombok, download the lombok jar and place it in ~/.local/share/eclipse\r\n    -- &#39;-javaagent:&#39; .. home .. &#39;/.local/share/eclipse/lombok.jar&#39;,\r\n\r\n    -- The jar file is located where jdtls was installed. This will need to be updated\r\n    -- to the location where you installed jdtls\r\n    &#39;-jar&#39;, vim.fn.glob(JDTLS_LOCATION .. &#39;/plugins/org.eclipse.equinox.launcher_*.jar&#39;),\r\n\r\n    -- The configuration for jdtls is also placed where jdtls was installed. This will\r\n    -- need to be updated depending on your environment\r\n    &#39;-configuration&#39;, JDTLS_LOCATION .. &quot;/config_&quot; .. &quot;linux&quot;,\r\n\r\n    -- Use the workspace_folder defined above to store data for this project\r\n    &#39;-data&#39;, workspace_folder,\r\n  },\r\n\r\n\r\n}\r\n-- Finally, start jdtls. This will run the language server using the configuration we specified,\r\n-- setup the keymappings, and attach the LSP client to the current buffer\r\njdtls.start_or_attach(config)\r\n\r\nlocal opts= { nnoremap= true, silent=true }\r\n```\r\n\r\nI have tried messing up with the configuration but nothing changed","title":"nvim jdtls cannot recognize ` org.springframwork.security.*` package","body":"<p>I have setup jdtls and I want to use nvim to develop spring-boot projects however I have faced this problem.</p>\n<p>every import works fine, the problem is, when I import <code>org.springframework.security</code> I don't now why but <code>jdtls</code> cannot recognize that package.</p>\n<p><strong>however when I open the project on intellij</strong> it does not shows me any error.</p>\n<p><a href=\"https://i.stack.imgur.com/8q4us.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8q4us.png\" alt=\"jdtls nvim import error\" /></a></p>\n<ul>\n<li>here is my <code>java.lua</code> file:</li>\n</ul>\n<pre><code>local jdtls_ok = pcall(require, &quot;jdtls&quot;)\n\nif not jdtls_ok then\n  vim.notify &quot;JDTLS not found, install with `:LspInstall jdtls`&quot;\n  return\nend\n\nlocal home = os.getenv('HOME')\nlocal jdtls = require('jdtls')\n\nlocal JDTLS_LOCATION = &quot;/home/drghost/jdt-language-server&quot;\n\n-- Installation location of jdtls by nvim-lsp-installer\n-- local JDTLS_LOCATION = vim.fn.stdpath &quot;data&quot; .. &quot;/lsp_servers/jdtls&quot;\n\n\n-- File types that signify a Java project's root directory. This will be\n-- used by eclipse to determine what constitutes a workspace\nlocal root_markers = {'gradlew', 'mvnw', '.git'}\nlocal root_dir = vim.fs.dirname(vim.fs.find(root_markers, { upward = true })[1])\n\n-- eclipse.jdt.ls stores project specific data within a folder. If you are working\n-- with multiple different projects, each project must use a dedicated data directory.\n-- This variable is used to configure eclipse to use the directory name of the\n-- current project found using the root_marker as the folder for project specific data.\nlocal project_name = vim.fn.fnamemodify(vim.fn.getcwd(), &quot;:p:h:t&quot;)\nlocal workspace_folder = home .. &quot;/.cache/jdtls/workspace/&quot; .. project_name\n\nlocal extendedClientCapabilities = jdtls.extendedClientCapabilities\nextendedClientCapabilities.resolveAdditionalTextEditsSupport = true\n-- local workspace_folder = home .. &quot;/.local/share/eclipse/&quot; .. vim.fn.fnamemodify(vim.fn.getcwd(), &quot;:p:h:t&quot;)\n\n-- Helper function for creating keymaps\nfunction nnoremap(rhs, lhs, bufopts, desc)\n  bufopts.desc = desc\n  vim.keymap.set(&quot;n&quot;, rhs, lhs, bufopts)\nend\n\n\n\nlocal config = {\n  flags = {\n    allow_incremental_sync = true,\n    debounce_text_changes = 80,\n  },\n  init_options = {\n      bundle = {},\n  },\n  root_dir = root_dir, -- Set the root directory to our found root_marker\n  -- Here you can configure eclipse.jdt.ls specific settings\n  -- These are defined by the eclipse.jdt.ls project and will be passed to eclipse when starting.\n  -- See https://github.com/eclipse/eclipse.jdt.ls/wiki/Running-the-JAVA-LS-server-from-the-command-line#initialize-request\n  -- for a list of options\n  settings = {\n    java = {\n      eclipse = {\n          downloadSources = true,\n      },\n      gradle = {\n          enabled = true,\n      },\n      maven = {\n          downloadSources = true,\n      },\n      implementationsCodeLens = {\n          enabled = true,\n      },\n      referencesCodeLens = {\n          enabled = true,\n      },\n      references = {\n          includeDecompiledSources = true,\n      },\n      format = {\n          enable = true,\n        settings = {\n          -- Use Google Java style guidelines for formatting\n          -- To use, make sure to download the file from https://github.com/google/styleguide/blob/gh-pages/eclipse-java-google-style.xml\n          -- and place it in the ~/.local/share/eclipse directory\n          url = &quot;/.local/share/eclipse/eclipse-java-google-style.xml&quot;,\n          profile = &quot;GoogleStyle&quot;,\n        },\n      },\n      signatureHelp = { enabled = true },\n      contentProvider = { preferred = 'fernflower' },  -- Use fernflower to decompile library code\n      -- Specify any completion options\n      completion = {\n        favoriteStaticMembers = {\n          &quot;org.hamcrest.MatcherAssert.assertThat&quot;,\n          &quot;org.hamcrest.Matchers.*&quot;,\n          &quot;org.hamcrest.CoreMatchers.*&quot;,\n          &quot;org.junit.jupiter.api.Assertions.*&quot;,\n          &quot;java.util.Objects.requireNonNull&quot;,\n          &quot;java.util.Objects.requireNonNullElse&quot;,\n          &quot;org.mockito.Mockito.*&quot;,\n          &quot;org.springframework.*&quot;\n        },\n       importOrder = {\n        &quot;java&quot;,\n        &quot;javax&quot;,\n        &quot;com&quot;,\n        &quot;org&quot;\n      },\n      },\n      -- Specify any options for organizing imports\n      sources = {\n        organizeImports = {\n          starThreshold = 9999;\n          staticStarThreshold = 9999;\n        },\n      },\n      -- How code generation should act\n      codeGeneration = {\n        toString = {\n          template = &quot;${object.className}{${member.name()}=${member.value}, ${otherMembers}}&quot;\n        },\n        hashCodeEquals = {\n          useJava7Objects = true,\n        },\n        useBlocks = true,\n      },\n      -- If you are developing in projects with different Java versions, you need\n      -- to tell eclipse.jdt.ls to use the location of the JDK for your Java version\n      -- See https://github.com/eclipse/eclipse.jdt.ls/wiki/Running-the-JAVA-LS-server-from-the-command-line#initialize-request\n      -- And search for `interface RuntimeOption`\n      -- The `name` is NOT arbitrary, but must match one of the elements from `enum ExecutionEnvironment` in the link above\n      configuration = {\n        runtimes = {\n          {\n            name = &quot;JavaSE-19&quot;,\n            path = &quot;/usr/bin/java&quot;,\n          },\n        }\n      }\n    }\n  },\n  -- cmd is the command that starts the language server. Whatever is placed\n  -- here is what is passed to the command line to execute jdtls.\n  -- Note that eclipse.jdt.ls must be started with a Java version of 17 or higher\n  -- See: https://github.com/eclipse/eclipse.jdt.ls#running-from-the-command-line\n  -- for the full list of options\n  cmd = {\n    'java',\n    '-Declipse.application=org.eclipse.jdt.ls.core.id1',\n    '-Dosgi.bundles.defaultStartLevel=4',\n    '-Declipse.product=org.eclipse.jdt.ls.core.product',\n    '-Dlog.protocol=true',\n    '-Dlog.level=ALL',\n    '-Xmx4g',\n    '--add-modules=ALL-SYSTEM',\n    '--add-opens', 'java.base/java.util=ALL-UNNAMED',\n    '--add-opens', 'java.base/java.lang=ALL-UNNAMED',\n    -- If you use lombok, download the lombok jar and place it in ~/.local/share/eclipse\n    -- '-javaagent:' .. home .. '/.local/share/eclipse/lombok.jar',\n\n    -- The jar file is located where jdtls was installed. This will need to be updated\n    -- to the location where you installed jdtls\n    '-jar', vim.fn.glob(JDTLS_LOCATION .. '/plugins/org.eclipse.equinox.launcher_*.jar'),\n\n    -- The configuration for jdtls is also placed where jdtls was installed. This will\n    -- need to be updated depending on your environment\n    '-configuration', JDTLS_LOCATION .. &quot;/config_&quot; .. &quot;linux&quot;,\n\n    -- Use the workspace_folder defined above to store data for this project\n    '-data', workspace_folder,\n  },\n\n\n}\n-- Finally, start jdtls. This will run the language server using the configuration we specified,\n-- setup the keymappings, and attach the LSP client to the current buffer\njdtls.start_or_attach(config)\n\nlocal opts= { nnoremap= true, silent=true }\n</code></pre>\n<p>I have tried messing up with the configuration but nothing changed</p>\n"},{"tags":["java","netsuite","axis"],"answers":[{"tags":[],"owner":{"account_id":4208994,"reputation":992,"user_id":3447229,"display_name":"Kristjan Veskim&#228;e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396526588,"creation_date":1396526588,"answer_id":22837133,"question_id":22836857,"body_markdown":"You&#39;re probably missing some dependant library. In Eclipse you can look inside the jar file from project explorer and verify that there is a package &#39;org.apache.axis.client&#39; and it contains class AxisClient. \r\n\r\n(If you&#39;re not in Eclipse then otherwise you can just unpack your jar and see that the class is there - many possibilities for that, you can even rename the jar into zip and unpack it).\r\n\r\n If the class file is in place, you&#39;re still missing it from classpath.","title":"Could not initialize class org.apache.axis.client.AxisClient","body":"<p>You're probably missing some dependant library. In Eclipse you can look inside the jar file from project explorer and verify that there is a package 'org.apache.axis.client' and it contains class AxisClient. </p>\n\n<p>(If you're not in Eclipse then otherwise you can just unpack your jar and see that the class is there - many possibilities for that, you can even rename the jar into zip and unpack it).</p>\n\n<p>If the class file is in place, you're still missing it from classpath.</p>\n"},{"tags":[],"owner":{"account_id":10924431,"reputation":21,"user_id":8029544,"display_name":"Deepak Wanjarkhede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502434815,"creation_date":1502434815,"answer_id":45628885,"question_id":22836857,"body_markdown":"You would need to add commons-logging and commons discovery dependency jar in the library folder","title":"Could not initialize class org.apache.axis.client.AxisClient","body":"<p>You would need to add commons-logging and commons discovery dependency jar in the library folder</p>\n"}],"owner":{"account_id":4194784,"reputation":143,"user_id":3436440,"accept_rate":33,"display_name":"RvN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698789945,"creation_date":1396525968,"question_id":22836857,"body_markdown":"i&#39;m facing problem with following exception.anyone help me how to get rid of it.i have added axis.jar in classpath still facing this issue.\r\n\r\n\r\nj\r\n\r\n    ava.lang.NoClassDefFoundError: Could not initialize class org.apache.axis.client.AxisClient \r\n    org.apache.axis.client.Service.getAxisClient(Service.java:104) \r\n    org.apache.axis.client.Service.&lt;init&gt;(Service.java:113) \r\n    com.netsuite.webservices.platform_2013_2.NetSuiteServiceLocator.&lt;init&gt;(NetSuiteServiceLocator.java:12) \r\n    com.zyom.netsuite.NetsuiteIntegrationManager.&lt;init&gt;(NetsuiteIntegrationManager.java:169) \r\n    com.zyom.netsuite.NetsuiteIntegrationManager.getNetSuiteIntegrationManager(NetsuiteIntegrationManager.java:68) \r\n    com.zyom.netsuite.controller.NetsuiteIntegrationManagerContoller.execute(NetsuiteIntegrationManagerContoller.java:33) \r\n    org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:419) \r\n    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:224) \r\n    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1194) \r\n    org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414) \r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:734) \r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:847) \r\n    com.zyom.security.LoginMonitorFilter.doFilter(LoginMonitorFilter.java:67)","title":"Could not initialize class org.apache.axis.client.AxisClient","body":"<p>i'm facing problem with following exception.anyone help me how to get rid of it.i have added axis.jar in classpath still facing this issue.</p>\n\n<p>j</p>\n\n<pre><code>ava.lang.NoClassDefFoundError: Could not initialize class org.apache.axis.client.AxisClient \norg.apache.axis.client.Service.getAxisClient(Service.java:104) \norg.apache.axis.client.Service.&lt;init&gt;(Service.java:113) \ncom.netsuite.webservices.platform_2013_2.NetSuiteServiceLocator.&lt;init&gt;(NetSuiteServiceLocator.java:12) \ncom.zyom.netsuite.NetsuiteIntegrationManager.&lt;init&gt;(NetsuiteIntegrationManager.java:169) \ncom.zyom.netsuite.NetsuiteIntegrationManager.getNetSuiteIntegrationManager(NetsuiteIntegrationManager.java:68) \ncom.zyom.netsuite.controller.NetsuiteIntegrationManagerContoller.execute(NetsuiteIntegrationManagerContoller.java:33) \norg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:419) \norg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:224) \norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1194) \norg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414) \njavax.servlet.http.HttpServlet.service(HttpServlet.java:734) \njavax.servlet.http.HttpServlet.service(HttpServlet.java:847) \ncom.zyom.security.LoginMonitorFilter.doFilter(LoginMonitorFilter.java:67)\n</code></pre>\n"},{"tags":["java","arrays","object","arraylist"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1698788428,"post_id":77398934,"comment_id":136449535,"body_markdown":"Are you talking about arrays or `ArrayList`s? --- Thinking in &quot;files&quot; when using an OO-language is a recipe for disaster. I would recommend reading some beginner&#39;s tutorials, e.g. [this one at `oracle.com`](https://docs.oracle.com/javase/tutorial/).","body":"Are you talking about arrays or <code>ArrayList</code>s? --- Thinking in &quot;files&quot; when using an OO-language is a recipe for disaster. I would recommend reading some beginner&#39;s tutorials, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">this one at <code>oracle.com</code></a>."},{"owner":{"account_id":26956764,"reputation":11,"user_id":20524990,"display_name":"Leandro Z&#225;rate"},"score":0,"creation_date":1698788836,"post_id":77398934,"comment_id":136449568,"body_markdown":"I know how to do it in a siingle file. But i was asked to make it separated... nothing i can do. Its for a university project. For you to understand, i have a simulator where i need to describe scenarios. This scenarios have `name` and a `descriptions of the 4 directions`. I want to make an array of 10 `scenarios` objects. And i need to be able to change any of this scenarios at any time. So i made an array list and i want to be able to edit items inside the arraylist from the `Escenario.java` file","body":"I know how to do it in a siingle file. But i was asked to make it separated... nothing i can do. Its for a university project. For you to understand, i have a simulator where i need to describe scenarios. This scenarios have <code>name</code> and a <code>descriptions of the 4 directions</code>. I want to make an array of 10 <code>scenarios</code> objects. And i need to be able to change any of this scenarios at any time. So i made an array list and i want to be able to edit items inside the arraylist from the <code>Escenario.java</code> file"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698789872,"post_id":77398934,"comment_id":136449679,"body_markdown":"I recommend talking to your professor/supervisor. They know best how and what they want to teach you.","body":"I recommend talking to your professor/supervisor. They know best how and what they want to teach you."},{"owner":{"account_id":26956764,"reputation":11,"user_id":20524990,"display_name":"Leandro Z&#225;rate"},"score":0,"creation_date":1698791971,"post_id":77398934,"comment_id":136449894,"body_markdown":"Thats not an option : / hes not someone you can talk with. He doesnt listen to students.","body":"Thats not an option : / hes not someone you can talk with. He doesnt listen to students."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1698848262,"post_id":77398934,"comment_id":136456872,"body_markdown":"how do you want to use it?","body":"how do you want to use it?"}],"owner":{"account_id":26956764,"reputation":11,"user_id":20524990,"display_name":"Leandro Z&#225;rate"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698788935,"creation_date":1698784367,"question_id":77398934,"body_markdown":"I basicly have an array list in my main class\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List escenariosLi = new ArrayList&lt;Escenario&gt;();\r\n    String a = &quot;&quot;;\r\n    escenariosLi.add(0,new Escenario(a, a, a, a, a, a));\r\n}\r\n```\r\n\r\nAnd i need to use this array in another file where i have `Escenario` class\r\n\r\n```java\r\nswitch (slot){        \r\n\tcase 0:\r\n\t    escenariosLi.set(0,new Escenario(nombre, ce, izq, der, arr, ab));\r\n\t    break;\r\n}\r\n```\r\nI&#39;ve also tried creating the `index[0]`\r\n","title":"How can i make a container of objects and how can i use it in other file","body":"<p>I basicly have an array list in my main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List escenariosLi = new ArrayList&lt;Escenario&gt;();\n    String a = &quot;&quot;;\n    escenariosLi.add(0,new Escenario(a, a, a, a, a, a));\n}\n</code></pre>\n<p>And i need to use this array in another file where i have <code>Escenario</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (slot){        \n    case 0:\n        escenariosLi.set(0,new Escenario(nombre, ce, izq, der, arr, ab));\n        break;\n}\n</code></pre>\n<p>I've also tried creating the <code>index[0]</code></p>\n"},{"tags":["java","spring","spring-mvc","scheduled-tasks"],"comments":[{"owner":{"account_id":2449464,"reputation":2268,"user_id":2136086,"display_name":"asg"},"score":0,"creation_date":1462080772,"post_id":36963197,"comment_id":61483239,"body_markdown":"These two statements are confusing - &#39;Same task happen over and over again in regular intervals. I don&#39;t want that and I just want to run a task once in a given time.&#39; Could you please explain what are you looking for? Scheduling is all about the same task over and over again in regular intervals.","body":"These two statements are confusing - &#39;Same task happen over and over again in regular intervals. I don&#39;t want that and I just want to run a task once in a given time.&#39; Could you please explain what are you looking for? Scheduling is all about the same task over and over again in regular intervals."},{"owner":{"account_id":2449464,"reputation":2268,"user_id":2136086,"display_name":"asg"},"score":0,"creation_date":1462080805,"post_id":36963197,"comment_id":61483248,"body_markdown":"You have also mentioned that - &#39;I just want to run a task once in a given time&#39;. So do you want your job to be configurable?","body":"You have also mentioned that - &#39;I just want to run a task once in a given time&#39;. So do you want your job to be configurable?"}],"answers":[{"tags":[],"owner":{"account_id":8357014,"reputation":549,"user_id":6276864,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462083157,"creation_date":1462083157,"answer_id":36963664,"question_id":36963197,"body_markdown":"If you want to run the task only once, then you will have to give the cron expression such that it includes the entire date and time (including year) so it it gets matched only once.","title":"Scheduling a task with Spring","body":"<p>If you want to run the task only once, then you will have to give the cron expression such that it includes the entire date and time (including year) so it it gets matched only once.</p>\n"},{"tags":[],"owner":{"account_id":2996376,"reputation":4500,"user_id":2542856,"accept_rate":81,"display_name":"Matt C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462084899,"creation_date":1462084899,"answer_id":36963853,"question_id":36963197,"body_markdown":"### Simplest fix, perhaps not best for practice\n\nThe easy fix is to add an if statement to your method and only print if the current time matches the time that you do want to print out.\n\nJava has not always had the best time/date implementations, but as of Java 8, there is a new library called `LocalDateTime` and it works nicely. I think using it will be your best bet for this simple solution.\n\n\nHere&#39;s an example of using `LocalDateTime` to get the current hour, minute, and second. There are similar methods for year, month, day, etc.\n\n    LocalDateTime now = LocalDateTime.now();\n    int hour = now.getHour();\n    int minute = now.getMinute();\n    int second = now.getSecond();\n\nWe can combine this with your current code to only have the print statement executed at the time you desire:\n\n\n    @Configuration\n    @EnableAsync\n    @EnableScheduling\n    public class MyComponent {\n\n        @Async\n        @Scheduled(fixedDelay=5000)\n        public void doSomething() {\n\n            LocalDateTime now = LocalDateTime.now();\n            int hour = now.getHour();\n            int minute = now.getMinute();\n            int second = now.getSecond();\n \n            if(hour == 10 &amp;&amp;\n               minute == 34 &amp;&amp;\n               second &lt; 6) {\n\n                System.out.println(&quot;Scheduled Task&quot;);\n\n            }\n     \n        }\n\n    }\n\nYou&#39;ll compare hour to 10 and minute to 34 because these functions return a number from 0 to n-1 where n is the number of hours in a day or minutes in an hour. You&#39;ll compare second to &lt;6 so that no matter when this job starts (since it is executed once every 5 seconds) you&#39;ll always print at least once every day at 11:35am.\n\n\n------\n\nI&#39;m definitely not trying to suggest that this is the *best* option, but it is definitely an option. Making a new instance of LocalDateTime every 5 seconds isn&#39;t ideal, but if resources aren&#39;t a problem then it&#39;s fine.\n\nIt&#39;s not the prettiest or best designed solution, but it works. This is an option if you just want a quick solution and you don&#39;t care about the correct &quot;practice&quot; for accomplishing this task.","title":"Scheduling a task with Spring","body":"<h3>Simplest fix, perhaps not best for practice</h3>\n<p>The easy fix is to add an if statement to your method and only print if the current time matches the time that you do want to print out.</p>\n<p>Java has not always had the best time/date implementations, but as of Java 8, there is a new library called <code>LocalDateTime</code> and it works nicely. I think using it will be your best bet for this simple solution.</p>\n<p>Here's an example of using <code>LocalDateTime</code> to get the current hour, minute, and second. There are similar methods for year, month, day, etc.</p>\n<pre><code>LocalDateTime now = LocalDateTime.now();\nint hour = now.getHour();\nint minute = now.getMinute();\nint second = now.getSecond();\n</code></pre>\n<p>We can combine this with your current code to only have the print statement executed at the time you desire:</p>\n<pre><code>@Configuration\n@EnableAsync\n@EnableScheduling\npublic class MyComponent {\n\n    @Async\n    @Scheduled(fixedDelay=5000)\n    public void doSomething() {\n\n        LocalDateTime now = LocalDateTime.now();\n        int hour = now.getHour();\n        int minute = now.getMinute();\n        int second = now.getSecond();\n\n        if(hour == 10 &amp;&amp;\n           minute == 34 &amp;&amp;\n           second &lt; 6) {\n\n            System.out.println(&quot;Scheduled Task&quot;);\n\n        }\n \n    }\n\n}\n</code></pre>\n<p>You'll compare hour to 10 and minute to 34 because these functions return a number from 0 to n-1 where n is the number of hours in a day or minutes in an hour. You'll compare second to &lt;6 so that no matter when this job starts (since it is executed once every 5 seconds) you'll always print at least once every day at 11:35am.</p>\n<hr />\n<p>I'm definitely not trying to suggest that this is the <em>best</em> option, but it is definitely an option. Making a new instance of LocalDateTime every 5 seconds isn't ideal, but if resources aren't a problem then it's fine.</p>\n<p>It's not the prettiest or best designed solution, but it works. This is an option if you just want a quick solution and you don't care about the correct &quot;practice&quot; for accomplishing this task.</p>\n"}],"owner":{"account_id":5521669,"reputation":874,"user_id":4384418,"accept_rate":93,"display_name":"e11438"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698788595,"creation_date":1462078454,"question_id":36963197,"body_markdown":"I&#39;m using Java&#39;s Spring framework for my web application and I want to schedule a task to run in the server at particular time. The time is given by user of the application.\r\n\r\nI looked into TaskScheduler and I found examples like,\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    @EnableScheduling\r\n    public class MyComponent {\r\n\r\n        @Async\r\n        @Scheduled(fixedDelay=5000)\r\n        public void doSomething() {\r\n           System.out.println(&quot;Scheduled Task&quot;);\r\n        }\r\n    }\r\nSame task happen over and over again in regular intervals. It prints &quot;Scheduled task&quot; in every 5 seconds, but I want to print that only one time (ex: at 11.35 am).\r\n\r\nHow can I print it only one time?","title":"Scheduling a task with Spring","body":"<p>I'm using Java's Spring framework for my web application and I want to schedule a task to run in the server at particular time. The time is given by user of the application.</p>\n<p>I looked into TaskScheduler and I found examples like,</p>\n<pre><code>@Configuration\n@EnableAsync\n@EnableScheduling\npublic class MyComponent {\n\n    @Async\n    @Scheduled(fixedDelay=5000)\n    public void doSomething() {\n       System.out.println(&quot;Scheduled Task&quot;);\n    }\n}\n</code></pre>\n<p>Same task happen over and over again in regular intervals. It prints &quot;Scheduled task&quot; in every 5 seconds, but I want to print that only one time (ex: at 11.35 am).</p>\n<p>How can I print it only one time?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1698835658,"post_id":77399153,"comment_id":136454490,"body_markdown":"Is it a goal for the text version to be human-readable (and maybe human-editable)?  Or can it be opaque, as long as it can be safely stored as plain ASCII and converted back to binary without loss?","body":"Is it a goal for the text version to be human-readable (and maybe human-editable)?  Or can it be opaque, as long as it can be safely stored as plain ASCII and converted back to binary without loss?"},{"owner":{"account_id":25554903,"reputation":3,"user_id":19338636,"display_name":"ultimatical"},"score":0,"creation_date":1698874618,"post_id":77399153,"comment_id":136461650,"body_markdown":"Nope. The goal is store and transfer binary as a text. The Base64 solution is appropriate for me. I mostly used the Base64 for text encoding only and looked out of sight.","body":"Nope. The goal is store and transfer binary as a text. The Base64 solution is appropriate for me. I mostly used the Base64 for text encoding only and looked out of sight."}],"answers":[{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698788472,"creation_date":1698788472,"answer_id":77399217,"question_id":77399153,"body_markdown":"All roads for converting from binary to text and back will lead you to [Base64][1], which is the most common standard for encoding binary to ascii text and back again.\r\n\r\nThere&#39;s plenty of Base64 libraries for Java and Kotlin. \r\n\r\nStart here: https://www.baeldung.com/java-base64-encode-and-decode\r\n\r\nLooks like Java 8 has a native Base64 class built in: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n\r\nKotlin example: https://www.baeldung.com/kotlin/strings-base64-encode-decode-guide\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Base64","title":"Convert binary file to text and back","body":"<p>All roads for converting from binary to text and back will lead you to <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a>, which is the most common standard for encoding binary to ascii text and back again.</p>\n<p>There's plenty of Base64 libraries for Java and Kotlin.</p>\n<p>Start here: <a href=\"https://www.baeldung.com/java-base64-encode-and-decode\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-base64-encode-and-decode</a></p>\n<p>Looks like Java 8 has a native Base64 class built in: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html</a></p>\n<p>Kotlin example: <a href=\"https://www.baeldung.com/kotlin/strings-base64-encode-decode-guide\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kotlin/strings-base64-encode-decode-guide</a></p>\n"}],"owner":{"account_id":25554903,"reputation":3,"user_id":19338636,"display_name":"ultimatical"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77399217,"answer_count":1,"score":0,"last_activity_date":1698788472,"creation_date":1698787591,"question_id":77399153,"body_markdown":"I need to convert a binary file to the text file in Java/Kotlin. Something like 50 4b 03 04 14 00... that can be stored as ASCII text. Then revert it back to binary. The main goal is reverted file should work as expected. If it is a zip-archive it should be able to unpack, if it is executable, it should be able to execute, etc.","title":"Convert binary file to text and back","body":"<p>I need to convert a binary file to the text file in Java/Kotlin. Something like 50 4b 03 04 14 00... that can be stored as ASCII text. Then revert it back to binary. The main goal is reverted file should work as expected. If it is a zip-archive it should be able to unpack, if it is executable, it should be able to execute, etc.</p>\n"},{"tags":["java","gradle","build.gradle","guava","openrewrite"],"comments":[{"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"score":1,"creation_date":1693229905,"post_id":76897459,"comment_id":135728921,"body_markdown":"Is anything in https://github.com/google/guava/issues/6612#issuecomment-1662362097 or the following posts of help? That would mean adding &quot;org.gradle.usage=java-runtime&quot; and/or &quot;org.gradle.jvm.environment=standard-jvm&quot;... or the &quot;TARGET_JVM_ENVIRONMENT_ATTRIBUTE&quot; suggestion... or &quot;id &#39;jvm-ecosystem&#39;&quot;....","body":"Is anything in <a href=\"https://github.com/google/guava/issues/6612#issuecomment-1662362097\" rel=\"nofollow noreferrer\">github.com/google/guava/issues/6612#issuecomment-1662362097</a> or the following posts of help? That would mean adding &quot;org.gradle.usage=java-runtime&quot; and/or &quot;org.gradle.jvm.environment=standard-jvm&quot;... or the &quot;TARGET_JVM_ENVIRONMENT_ATTRIBUTE&quot; suggestion... or &quot;id &#39;jvm-ecosystem&#39;&quot;...."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1694602806,"post_id":76897459,"comment_id":135912116,"body_markdown":"You might want to try again with the new batch of releases yesterday and use at least Gradle 6.8.3+","body":"You might want to try again with the new batch of releases yesterday and use at least Gradle 6.8.3+"}],"answers":[{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692003905,"creation_date":1692003905,"answer_id":76897623,"question_id":76897459,"body_markdown":"While I can&#39;t see your OpenRewrite config, I can see that rewrite-python at least is out of date. There&#39;s a new 1.0.8 release there, as well as for a number of other OpenRewrite plugins and modules, specifically to resolve some recent Guava version issues. Be sure to use the latest versions, typically visible on GitHub through links such as:\r\n\r\n - https://github.com/openrewrite/rewrite/releases - 8.2.0\r\n - https://github.com/openrewrite/rewrite-gradle-plugin/releases - 6.1.24\r\n - https://github.com/openrewrite/rewrite-spring/releases - 5.0.7\r\n - https://github.com/openrewrite/rewrite-python/releases - 1.0.8\r\n - https://github.com/openrewrite/rewrite-recipe-bom/releases - 2.1.1\r\n\r\n ","title":"How can I make Gradle pick the right guava variant?","body":"<p>While I can't see your OpenRewrite config, I can see that rewrite-python at least is out of date. There's a new 1.0.8 release there, as well as for a number of other OpenRewrite plugins and modules, specifically to resolve some recent Guava version issues. Be sure to use the latest versions, typically visible on GitHub through links such as:</p>\n<ul>\n<li><a href=\"https://github.com/openrewrite/rewrite/releases\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite/releases</a> - 8.2.0</li>\n<li><a href=\"https://github.com/openrewrite/rewrite-gradle-plugin/releases\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite-gradle-plugin/releases</a> - 6.1.24</li>\n<li><a href=\"https://github.com/openrewrite/rewrite-spring/releases\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite-spring/releases</a> - 5.0.7</li>\n<li><a href=\"https://github.com/openrewrite/rewrite-python/releases\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite-python/releases</a> - 1.0.8</li>\n<li><a href=\"https://github.com/openrewrite/rewrite-recipe-bom/releases\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite-recipe-bom/releases</a> - 2.1.1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26967292,"reputation":200,"user_id":20533909,"display_name":"grzegorzgrzegorz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698788345,"creation_date":1698788345,"answer_id":77399208,"question_id":76897459,"body_markdown":"I am new to Gradle but I recently came across this problem and made an attempt to resolve it. You could try adding this to build.gradle (only for Gradle 7+):\r\n```\r\nconfigurations{ \r\n  compileClasspath{\r\n    attributes.attribute(TargetJvmEnvironment.TARGET_JVM_ENVIRONMENT_ATTRIBUTE, objects.named(TargetJvmEnvironment.class, TargetJvmEnvironment.STANDARD_JVM)) \r\n  }\r\n}\r\n```\r\n\r\nOne can also add runtimeClasspath and others or do it in some smarter way I am not familiar with.\r\n\r\nAnyway, this should point gradle to use variant with this specific attribute only. Here is some info about the reason both variants are considered: &lt;https://blog.gradle.org/guava&gt;&lt;br&gt;\r\nAs I say I am not 100% if this works but you could give it a try.","title":"How can I make Gradle pick the right guava variant?","body":"<p>I am new to Gradle but I recently came across this problem and made an attempt to resolve it. You could try adding this to build.gradle (only for Gradle 7+):</p>\n<pre><code>configurations{ \n  compileClasspath{\n    attributes.attribute(TargetJvmEnvironment.TARGET_JVM_ENVIRONMENT_ATTRIBUTE, objects.named(TargetJvmEnvironment.class, TargetJvmEnvironment.STANDARD_JVM)) \n  }\n}\n</code></pre>\n<p>One can also add runtimeClasspath and others or do it in some smarter way I am not familiar with.</p>\n<p>Anyway, this should point gradle to use variant with this specific attribute only. Here is some info about the reason both variants are considered: <a href=\"https://blog.gradle.org/guava\" rel=\"nofollow noreferrer\">https://blog.gradle.org/guava</a><br>\nAs I say I am not 100% if this works but you could give it a try.</p>\n"}],"owner":{"account_id":9144497,"reputation":61,"user_id":6801237,"display_name":"Martin Johansen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1698788345,"creation_date":1692002393,"question_id":76897459,"body_markdown":"I&#39;m trying to use the OpenRewrite plugin in my Java project and it requires guava.\r\nGradle is unable to choose between two variants because the plugin doesn&#39;t check attribute org.gradle.jvm.environment. The two variants are androidRuntimeElements and jreRuntimeElements.\r\n\r\nHow can I either exclude the android runtime variant from my project or make Gradle pick the jre runtime variant?\r\n\r\n\r\n```\r\nExecution failed for task &#39;:rewriteResolveDependencies&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:detachedConfiguration1&#39;.\r\n   &gt; Could not resolve com.google.guava:guava:31.1-jre.\r\n     Required by:\r\n         project : &gt; org.openrewrite:rewrite-python:1.0.7\r\n      &gt; The consumer was configured to find attribute &#39;org.gradle.category&#39; with value &#39;library&#39;, attribute &#39;org.gradle.usage&#39; with value &#39;java-runtime&#39;, attribute &#39;org.gradle.libraryelements&#39; with value &#39;jar&#39;, attribute &#39;org.gradle.dependency.bundling&#39; with value &#39;external&#39;. However we cannot choose between the following variants of com.google.guava:guava:32.1.1-jre:\r\n          - androidRuntimeElements\r\n          - jreRuntimeElements\r\n        All of them match the consumer attributes:\r\n          - Variant &#39;androidRuntimeElements&#39; capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute &#39;org.gradle.category&#39; with value &#39;library&#39;, attribute &#39;org.gradle.dependency.bundling&#39; with value &#39;external&#39;, attribute &#39;org.gradle.libraryelements&#39; with value &#39;jar&#39;, attribute &#39;org.gradle.usage&#39; with value &#39;java-runtime&#39;:\r\n              - Unmatched attributes:\r\n                  - Provides org.gradle.jvm.environment &#39;android&#39; but the consumer didn&#39;t ask for it\r\n                  - Provides org.gradle.jvm.version &#39;8&#39; but the consumer didn&#39;t ask for it\r\n                  - Provides org.gradle.status &#39;release&#39; but the consumer didn&#39;t ask for it\r\n          - Variant &#39;jreRuntimeElements&#39; capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute &#39;org.gradle.category&#39; with value &#39;library&#39;, attribute &#39;org.gradle.dependency.bundling&#39; with value &#39;external&#39;, attribute &#39;org.gradle.libraryelements&#39; with value &#39;jar&#39;, attribute &#39;org.gradle.usage&#39; with value &#39;java-runtime&#39;:\r\n              - Unmatched attributes:\r\n                  - Provides org.gradle.jvm.environment &#39;standard-jvm&#39; but the consumer didn&#39;t ask for it\r\n                  - Provides org.gradle.jvm.version &#39;8&#39; but the consumer didn&#39;t ask for it\r\n                  - Provides org.gradle.status &#39;release&#39; but the consumer didn&#39;t ask for it\r\n        The following variants were also considered but didn&#39;t match the requested attributes:\r\n          - Variant &#39;androidApiElements&#39; capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute &#39;org.gradle.category&#39; with value &#39;library&#39;, attribute &#39;org.gradle.dependency.bundling&#39; with value &#39;external&#39;, attribute &#39;org.gradle.libraryelements&#39; with value &#39;jar&#39;:\r\n              - Incompatible because this component declares attribute &#39;org.gradle.usage&#39; with value &#39;java-api&#39; and the consumer needed attribute &#39;org.gradle.usage&#39; with value &#39;java-runtime&#39;\r\n          - Variant &#39;jreApiElements&#39; capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute &#39;org.gradle.category&#39; with value &#39;library&#39;, attribute &#39;org.gradle.dependency.bundling&#39; with value &#39;external&#39;, attribute &#39;org.gradle.libraryelements&#39; with value &#39;jar&#39;:\r\n              - Incompatible because this component declares attribute &#39;org.gradle.usage&#39; with value &#39;java-api&#39; and the consumer needed attribute &#39;org.gradle.usage&#39; with value &#39;java-runtime&#39;\r\n```\r\n\r\n\r\nI tried Googling the issue, but didn&#39;t find any answers. I also tried excluding guava from my build.gradle configuration block, but I&#39;m unable to exclude only the android runtime variant.","title":"How can I make Gradle pick the right guava variant?","body":"<p>I'm trying to use the OpenRewrite plugin in my Java project and it requires guava.\nGradle is unable to choose between two variants because the plugin doesn't check attribute org.gradle.jvm.environment. The two variants are androidRuntimeElements and jreRuntimeElements.</p>\n<p>How can I either exclude the android runtime variant from my project or make Gradle pick the jre runtime variant?</p>\n<pre><code>Execution failed for task ':rewriteResolveDependencies'.\n&gt; Could not resolve all files for configuration ':detachedConfiguration1'.\n   &gt; Could not resolve com.google.guava:guava:31.1-jre.\n     Required by:\n         project : &gt; org.openrewrite:rewrite-python:1.0.7\n      &gt; The consumer was configured to find attribute 'org.gradle.category' with value 'library', attribute 'org.gradle.usage' with value 'java-runtime', attribute 'org.gradle.libraryelements' with value 'jar', attribute 'org.gradle.dependency.bundling' with value 'external'. However we cannot choose between the following variants of com.google.guava:guava:32.1.1-jre:\n          - androidRuntimeElements\n          - jreRuntimeElements\n        All of them match the consumer attributes:\n          - Variant 'androidRuntimeElements' capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute 'org.gradle.category' with value 'library', attribute 'org.gradle.dependency.bundling' with value 'external', attribute 'org.gradle.libraryelements' with value 'jar', attribute 'org.gradle.usage' with value 'java-runtime':\n              - Unmatched attributes:\n                  - Provides org.gradle.jvm.environment 'android' but the consumer didn't ask for it\n                  - Provides org.gradle.jvm.version '8' but the consumer didn't ask for it\n                  - Provides org.gradle.status 'release' but the consumer didn't ask for it\n          - Variant 'jreRuntimeElements' capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute 'org.gradle.category' with value 'library', attribute 'org.gradle.dependency.bundling' with value 'external', attribute 'org.gradle.libraryelements' with value 'jar', attribute 'org.gradle.usage' with value 'java-runtime':\n              - Unmatched attributes:\n                  - Provides org.gradle.jvm.environment 'standard-jvm' but the consumer didn't ask for it\n                  - Provides org.gradle.jvm.version '8' but the consumer didn't ask for it\n                  - Provides org.gradle.status 'release' but the consumer didn't ask for it\n        The following variants were also considered but didn't match the requested attributes:\n          - Variant 'androidApiElements' capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute 'org.gradle.category' with value 'library', attribute 'org.gradle.dependency.bundling' with value 'external', attribute 'org.gradle.libraryelements' with value 'jar':\n              - Incompatible because this component declares attribute 'org.gradle.usage' with value 'java-api' and the consumer needed attribute 'org.gradle.usage' with value 'java-runtime'\n          - Variant 'jreApiElements' capabilities com.google.collections:google-collections:32.1.1-jre and com.google.guava:guava:32.1.1-jre and com.google.guava:listenablefuture:1.0 declares attribute 'org.gradle.category' with value 'library', attribute 'org.gradle.dependency.bundling' with value 'external', attribute 'org.gradle.libraryelements' with value 'jar':\n              - Incompatible because this component declares attribute 'org.gradle.usage' with value 'java-api' and the consumer needed attribute 'org.gradle.usage' with value 'java-runtime'\n</code></pre>\n<p>I tried Googling the issue, but didn't find any answers. I also tried excluding guava from my build.gradle configuration block, but I'm unable to exclude only the android runtime variant.</p>\n"},{"tags":["java","spring-boot","spring-mvc","design-patterns"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698795493,"post_id":77399201,"comment_id":136450246,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29599652,"reputation":1,"user_id":22836553,"display_name":"Phoenix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698788257,"creation_date":1698788257,"question_id":77399201,"body_markdown":"I am contacting you today regarding a recent problem with circular dependencies. It&#39;s about a Spring boot application that accepts data via a Rest API and then forwards it to an internal Spring service. When a new vehicle is to be created, then first a CarDto is submitted via Rest. The controller uses a car mapper (Mapstruct) to create a car object from it and passes it to the CarService. However, the CarService cannot save the object immediately. First, the object is enriched with further information. This information comes from a web service. If an error occurs during the retrieval (e.g. because the manufacturer is not known to the web service), an exception is thrown and the CarService does not perform persistence. However, if the web service receives a result, it expands the object using the vehicle mapper (also a map construct) and returns the object to the service. The service can now save the object. For its functionality, however, the mapper absolutely needs access to the CarService to retrieve further information from the database in order to extend the Car object.\r\n\r\nNow comes the difficult point: the information from the web service can change in principle. This means that the information in the database must be regularly compared with the web service. For this purpose, the following steps must be taken:\r\n- Pull all car objects from the database (due to the quantity with paging).\r\n- Synchronize objects with web service\r\n- Update objects in case of changes\r\n- then persist them again\r\n\r\nCurrently I have this functionality stuck in the VehicleService. To fetch the elements and save them, however, it needs the CarService (circular dependency). I could now put the sync function in the CarService, but then the question is when the translation from the Vehicle to the Car object should take place. If the translation should take place within the VehicleService, then I need the VehicleMapper in the VehicleServices. However, the VehicleMapper needs the CarService again. If I want to map the returns of the web service to a Car object in the VehicleService, I only need a DTO for the transfer of the information from the Car to the VehicleService. I don&#39;t really like that either.\r\n\r\nI have hope that you guys have tips. Gladly also with the consequence eiens Refactorings.\r\n\r\n\r\nFor better illustration I have created a small class diagram. Please forgive me if not all characters fit perfectly - unfortunately I am not an uml expert.\r\n\r\nhttps://i.stack.imgur.com/YRmdO.png","title":"circular dependencies when trying to separate functionality (webservice sync)","body":"<p>I am contacting you today regarding a recent problem with circular dependencies. It's about a Spring boot application that accepts data via a Rest API and then forwards it to an internal Spring service. When a new vehicle is to be created, then first a CarDto is submitted via Rest. The controller uses a car mapper (Mapstruct) to create a car object from it and passes it to the CarService. However, the CarService cannot save the object immediately. First, the object is enriched with further information. This information comes from a web service. If an error occurs during the retrieval (e.g. because the manufacturer is not known to the web service), an exception is thrown and the CarService does not perform persistence. However, if the web service receives a result, it expands the object using the vehicle mapper (also a map construct) and returns the object to the service. The service can now save the object. For its functionality, however, the mapper absolutely needs access to the CarService to retrieve further information from the database in order to extend the Car object.</p>\n<p>Now comes the difficult point: the information from the web service can change in principle. This means that the information in the database must be regularly compared with the web service. For this purpose, the following steps must be taken:</p>\n<ul>\n<li>Pull all car objects from the database (due to the quantity with paging).</li>\n<li>Synchronize objects with web service</li>\n<li>Update objects in case of changes</li>\n<li>then persist them again</li>\n</ul>\n<p>Currently I have this functionality stuck in the VehicleService. To fetch the elements and save them, however, it needs the CarService (circular dependency). I could now put the sync function in the CarService, but then the question is when the translation from the Vehicle to the Car object should take place. If the translation should take place within the VehicleService, then I need the VehicleMapper in the VehicleServices. However, the VehicleMapper needs the CarService again. If I want to map the returns of the web service to a Car object in the VehicleService, I only need a DTO for the transfer of the information from the Car to the VehicleService. I don't really like that either.</p>\n<p>I have hope that you guys have tips. Gladly also with the consequence eiens Refactorings.</p>\n<p>For better illustration I have created a small class diagram. Please forgive me if not all characters fit perfectly - unfortunately I am not an uml expert.</p>\n<p><a href=\"https://i.stack.imgur.com/YRmdO.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YRmdO.png</a></p>\n"},{"tags":["java","enums","static","javax.validation"],"owner":{"account_id":12395182,"reputation":51,"user_id":9035375,"display_name":"Enzo Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698788109,"creation_date":1698788109,"question_id":77399188,"body_markdown":"Annotations in Java like Size or JsonProperty require me to use constants, I have lots of fields in DTOs to validate and I also need to go back to the validated fields later to check some infos so I want to group my constants, for that, i would like to use either enums or final Objects, for example\r\n\r\n    public static final MyField FIELD = new MyField (1,  &quot;FieldName&quot;, FieldTypeEnum.TYPE, 150, 0, &quot;Test&quot;)\r\nor\r\n\r\n    FIELD (1, &quot;FieldName&quot;, FieldTypeEnum.TYPE, 150, 0, &quot;Test&quot;)\r\nbeing those infos code, name, type, size, fractionSize and message;\r\n\r\nand on my DTO i would validate my fields with something like\r\n\r\n    @Size(max = FieldEnum.FIELD.size, message = FieldEnum.FIELD.message)\r\n    @JsonProperty(FieldEnum.FIELD.name)\r\n    private String field;\r\n\r\nBut I am receiving errors such as &quot;The value for annotation attribute Size.max must be a constant expression&quot; for both solutions, meaning neither enums nor static objects can be used for that\r\n\r\nI will have hundreds of fields to validate, everything with fixed constants like those, I really don&#39;t want to verbose my way out of this, is there something I can do to solve this?\r\n\r\nBoth solutions I tried (enums and static objects) weren&#39;t accepted on the annotations values\r\nI have seen some similar questions on stack overflow but they all use simpler enums so those solutions don&#39;t work for me","title":"How can I use either enums or final Objects inside Java annotations to make better validations?","body":"<p>Annotations in Java like Size or JsonProperty require me to use constants, I have lots of fields in DTOs to validate and I also need to go back to the validated fields later to check some infos so I want to group my constants, for that, i would like to use either enums or final Objects, for example</p>\n<pre><code>public static final MyField FIELD = new MyField (1,  &quot;FieldName&quot;, FieldTypeEnum.TYPE, 150, 0, &quot;Test&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>FIELD (1, &quot;FieldName&quot;, FieldTypeEnum.TYPE, 150, 0, &quot;Test&quot;)\n</code></pre>\n<p>being those infos code, name, type, size, fractionSize and message;</p>\n<p>and on my DTO i would validate my fields with something like</p>\n<pre><code>@Size(max = FieldEnum.FIELD.size, message = FieldEnum.FIELD.message)\n@JsonProperty(FieldEnum.FIELD.name)\nprivate String field;\n</code></pre>\n<p>But I am receiving errors such as &quot;The value for annotation attribute Size.max must be a constant expression&quot; for both solutions, meaning neither enums nor static objects can be used for that</p>\n<p>I will have hundreds of fields to validate, everything with fixed constants like those, I really don't want to verbose my way out of this, is there something I can do to solve this?</p>\n<p>Both solutions I tried (enums and static objects) weren't accepted on the annotations values\nI have seen some similar questions on stack overflow but they all use simpler enums so those solutions don't work for me</p>\n"},{"tags":["java","spring-boot","kotlin","google-cloud-platform","service-accounts"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1698354340,"post_id":77368950,"comment_id":136398536,"body_markdown":"Where will live your container? On Google Cloud? Elsewhere?","body":"Where will live your container? On Google Cloud? Elsewhere?"},{"owner":{"account_id":2009330,"reputation":3682,"user_id":2627842,"accept_rate":57,"display_name":"Ariful Haque"},"score":0,"creation_date":1698754267,"post_id":77368950,"comment_id":136442891,"body_markdown":"@guillaumeblaquiere My app will lives outside of GCP. The rest server I want to access is in GCP.","body":"@guillaumeblaquiere My app will lives outside of GCP. The rest server I want to access is in GCP."},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1698755968,"post_id":77368950,"comment_id":136443197,"body_markdown":"WHere will it live exactly? On prem? on other cloud?","body":"WHere will it live exactly? On prem? on other cloud?"},{"owner":{"account_id":2009330,"reputation":3682,"user_id":2627842,"accept_rate":57,"display_name":"Ariful Haque"},"score":0,"creation_date":1698765746,"post_id":77368950,"comment_id":136445384,"body_markdown":"@guillaumeblaquiere it will be on prem.","body":"@guillaumeblaquiere it will be on prem."}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698787995,"creation_date":1698787995,"answer_id":77399181,"question_id":77368950,"body_markdown":"A container is not a safe place. It&#39;s not encrypted and it&#39;s easy to read file in it. It&#39;s a simple file packaging format in the end.\r\n\r\nWhen you run your container, the best practice is to mount a volume alongside the container with the secret loaded in it.\r\n\r\nTo store the service account JSON file (the secret), follow your own best practices in term of secret management: keep the file in a secure location, restrict the access, cipher it if you can,...","title":"Kotlin Spring Boot app and GCP service_account configuration: What is the best practice?","body":"<p>A container is not a safe place. It's not encrypted and it's easy to read file in it. It's a simple file packaging format in the end.</p>\n<p>When you run your container, the best practice is to mount a volume alongside the container with the secret loaded in it.</p>\n<p>To store the service account JSON file (the secret), follow your own best practices in term of secret management: keep the file in a secure location, restrict the access, cipher it if you can,...</p>\n"}],"owner":{"account_id":2009330,"reputation":3682,"user_id":2627842,"accept_rate":57,"display_name":"Ariful Haque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698787995,"creation_date":1698338975,"question_id":77368950,"body_markdown":"I am creating a Kotlin Spring Boot app, which needs to access an API that is hosted in GCP, and to access that API, I need to authenticate my client with the `service_account` `key.json` file.\r\n\r\n**I am not sure how to configure the `key.json` file properly and what is the best practice.** ?\r\n\r\nTo help to understand more, I&#39;ll have the app finally run a Docker container.","title":"Kotlin Spring Boot app and GCP service_account configuration: What is the best practice?","body":"<p>I am creating a Kotlin Spring Boot app, which needs to access an API that is hosted in GCP, and to access that API, I need to authenticate my client with the <code>service_account</code> <code>key.json</code> file.</p>\n<p><strong>I am not sure how to configure the <code>key.json</code> file properly and what is the best practice.</strong> ?</p>\n<p>To help to understand more, I'll have the app finally run a Docker container.</p>\n"},{"tags":["java","android","android-ndk"],"owner":{"account_id":29797989,"reputation":1,"user_id":22836505,"display_name":"Epic Studios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698787951,"creation_date":1698787951,"question_id":77399179,"body_markdown":"[enter image description here](https://i.stack.imgur.com/zdCuN.png)\r\n\r\nim trying to load library from path from another jni lib\r\n\r\ni have this problem after updating sdk from  29 to 33\r\n\r\nhelp please\r\n\r\nim trying this too but not working for me\r\n\r\n&quot;/data/data/&quot;+packageName+&quot;/lib/libqemu-system-x86_64.so&quot;","title":"doesn&#39;t recognize data/lib folder","body":"<p><a href=\"https://i.stack.imgur.com/zdCuN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>im trying to load library from path from another jni lib</p>\n<p>i have this problem after updating sdk from  29 to 33</p>\n<p>help please</p>\n<p>im trying this too but not working for me</p>\n<p>&quot;/data/data/&quot;+packageName+&quot;/lib/libqemu-system-x86_64.so&quot;</p>\n"},{"tags":["java","android","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517236541,"creation_date":1517233182,"answer_id":48502628,"question_id":48502512,"body_markdown":"Assuming that you have the users of your app added as documents within the `Users` collection and the name of the property is `score`, to achieve this, please use the following code:\r\n\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    Query query = rootRef.collection(&quot;Users&quot;)\r\n        .orderBy(&quot;score&quot;, Query.Direction.DESCENDING)\r\n        .limit(10);","title":"How to arrange data from Firestore in ListView by biggest int values","body":"<p>Assuming that you have the users of your app added as documents within the <code>Users</code> collection and the name of the property is <code>score</code>, to achieve this, please use the following code:</p>\n\n<pre><code>FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nQuery query = rootRef.collection(\"Users\")\n    .orderBy(\"score\", Query.Direction.DESCENDING)\n    .limit(10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28378109,"reputation":11,"user_id":21705837,"display_name":"Saransh Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698787812,"creation_date":1698787812,"answer_id":77399171,"question_id":48502512,"body_markdown":"Above answer is totally correct but firebase has updated some things and instead of `Query.Direction.DESCENDING`, now it has `descending: true/false` after the comma as a second parameter.\r\n\r\nIf you want your list to be descending set :\r\n\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    Query query = rootRef.collection(&quot;Users&quot;)\r\n        .orderBy(&quot;score&quot;, descending : true)\r\n        .limit(10);\r\n\r\nand vice-versa.\r\n","title":"How to arrange data from Firestore in ListView by biggest int values","body":"<p>Above answer is totally correct but firebase has updated some things and instead of <code>Query.Direction.DESCENDING</code>, now it has <code>descending: true/false</code> after the comma as a second parameter.</p>\n<p>If you want your list to be descending set :</p>\n<pre><code>FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nQuery query = rootRef.collection(&quot;Users&quot;)\n    .orderBy(&quot;score&quot;, descending : true)\n    .limit(10);\n</code></pre>\n<p>and vice-versa.</p>\n"}],"owner":{"account_id":4842024,"reputation":167,"user_id":3906799,"display_name":"Abdelaziz refaat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48502628,"answer_count":2,"score":0,"last_activity_date":1698787812,"creation_date":1517232800,"question_id":48502512,"body_markdown":"I had a Firestore collection named &quot;Users&quot; and Documents of user names , and an integer field of every username , now i wanna compare all those fields and put the biggest one on the top of the list and so on till 10 items , thanks .","title":"How to arrange data from Firestore in ListView by biggest int values","body":"<p>I had a Firestore collection named \"Users\" and Documents of user names , and an integer field of every username , now i wanna compare all those fields and put the biggest one on the top of the list and so on till 10 items , thanks .</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1513618474,"creation_date":1513618474,"answer_id":47873601,"question_id":47873185,"body_markdown":"See this [Jira ticket](https://jira.spring.io/browse/SPR-10241) from Spring project for explanation why you don&#39;t see a method doing what you want. The snippet at the above link can be modified like this with an if statement in innermost loop doing the filtering. I assume you have a `Environment env` variable and looking for `String prefix`:\r\n\r\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n\tif (env instanceof ConfigurableEnvironment) {\r\n\t\tfor (PropertySource&lt;?&gt; propertySource : ((ConfigurableEnvironment) env).getPropertySources()) {\r\n\t\t\tif (propertySource instanceof EnumerablePropertySource) {\r\n\t\t\t\tfor (String key : ((EnumerablePropertySource) propertySource).getPropertyNames()) {\r\n                    if (key.startsWith(prefix)) {\r\n  \t\t\t\t\t    properties.put(key, propertySource.getProperty(key));\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to read multiple properties with same prefix in java spring?","body":"<p>See this <a href=\"https://jira.spring.io/browse/SPR-10241\" rel=\"noreferrer\">Jira ticket</a> from Spring project for explanation why you don't see a method doing what you want. The snippet at the above link can be modified like this with an if statement in innermost loop doing the filtering. I assume you have a <code>Environment env</code> variable and looking for <code>String prefix</code>:</p>\n\n<pre><code>Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\nif (env instanceof ConfigurableEnvironment) {\n    for (PropertySource&lt;?&gt; propertySource : ((ConfigurableEnvironment) env).getPropertySources()) {\n        if (propertySource instanceof EnumerablePropertySource) {\n            for (String key : ((EnumerablePropertySource) propertySource).getPropertyNames()) {\n                if (key.startsWith(prefix)) {\n                    properties.put(key, propertySource.getProperty(key));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14466534,"reputation":41,"user_id":10449725,"display_name":"Yoran van Oirschot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561449768,"creation_date":1561449562,"answer_id":56749397,"question_id":47873185,"body_markdown":"I walked into a similar problem and solved it using the following code:\r\n\r\n    final var keyPrefix = &quot;test&quot;;\r\n    final var map = new HashMap&lt;String, Object&gt;();\r\n    final var propertySources = ((AbstractEnvironment) environment).getPropertySources().stream().collect(Collectors.toList());\r\n    Collections.reverse(propertySources);\r\n    for (PropertySource&lt;?&gt; source : propertySources) {\r\n        if (source instanceof MapPropertySource) {\r\n            final var mapProperties = ((MapPropertySource) source).getSource();\r\n            mapProperties.forEach((key, value) -&gt; {\r\n                if (key.startsWith(keyPrefix)) {\r\n                    map.put(key, value instanceof OriginTrackedValue ? ((OriginTrackedValue) value).getValue() : value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return map;\r\n\r\nDifference with other solutions (like seen in [Jira ticket][1]) is that I reverse sort the property sources to ensure that the appropriate overriding of properties is happening. By default the property-sources are sorted from most important to least important (also see this [article][2]). So if you would not reverse the list before iterating you will always end up with the least important property values.\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-10241\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"How to read multiple properties with same prefix in java spring?","body":"<p>I walked into a similar problem and solved it using the following code:</p>\n\n<pre><code>final var keyPrefix = \"test\";\nfinal var map = new HashMap&lt;String, Object&gt;();\nfinal var propertySources = ((AbstractEnvironment) environment).getPropertySources().stream().collect(Collectors.toList());\nCollections.reverse(propertySources);\nfor (PropertySource&lt;?&gt; source : propertySources) {\n    if (source instanceof MapPropertySource) {\n        final var mapProperties = ((MapPropertySource) source).getSource();\n        mapProperties.forEach((key, value) -&gt; {\n            if (key.startsWith(keyPrefix)) {\n                map.put(key, value instanceof OriginTrackedValue ? ((OriginTrackedValue) value).getValue() : value);\n            }\n        });\n    }\n}\nreturn map;\n</code></pre>\n\n<p>Difference with other solutions (like seen in <a href=\"https://jira.spring.io/browse/SPR-10241\" rel=\"nofollow noreferrer\">Jira ticket</a>) is that I reverse sort the property sources to ensure that the appropriate overriding of properties is happening. By default the property-sources are sorted from most important to least important (also see this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">article</a>). So if you would not reverse the list before iterating you will always end up with the least important property values.</p>\n"},{"tags":[],"owner":{"account_id":93441,"reputation":309,"user_id":255645,"display_name":"Andries"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1592418430,"creation_date":1592418430,"answer_id":62435916,"question_id":47873185,"body_markdown":"There is more eloquent solution using existing API: \r\n\r\nGiven the following simple object: \r\n\r\n    internal class AboutApi {\r\n        lateinit var purpose: String\r\n        lateinit var version: String\r\n        lateinit var copyright: String\r\n        lateinit var notice: String\r\n        lateinit var contact: String\r\n        lateinit var description: String\r\n    }\r\n\r\nAnd an instance of Spring environment (`org.springframework.core.env.Environment`), it becomes as easy as 1-2-3 to extract a value of `AboutApi` from the environment: \r\n\r\n    private fun about() : AboutApi {\r\n        val binder = Binder.get(env)                   // Step - 1 \r\n        val target = Bindable.ofInstance(AboutApi())   // Step - 2\r\n        binder.bind(&quot;api.about&quot;, target)               // Step - 3\r\n        return target.value.get()                      // Finally!\r\n    }\r\n\r\n1. Get a binder which source values from the environment.\r\n2. Declare a target you want to bind to.\r\n3. Bind all keys from the environment which starts with `api.about` to our target.\r\n\r\nFinally -- \r\n\r\nRetrieve the value! ","title":"How to read multiple properties with same prefix in java spring?","body":"<p>There is more eloquent solution using existing API: </p>\n\n<p>Given the following simple object: </p>\n\n<pre><code>internal class AboutApi {\n    lateinit var purpose: String\n    lateinit var version: String\n    lateinit var copyright: String\n    lateinit var notice: String\n    lateinit var contact: String\n    lateinit var description: String\n}\n</code></pre>\n\n<p>And an instance of Spring environment (<code>org.springframework.core.env.Environment</code>), it becomes as easy as 1-2-3 to extract a value of <code>AboutApi</code> from the environment: </p>\n\n<pre><code>private fun about() : AboutApi {\n    val binder = Binder.get(env)                   // Step - 1 \n    val target = Bindable.ofInstance(AboutApi())   // Step - 2\n    binder.bind(\"api.about\", target)               // Step - 3\n    return target.value.get()                      // Finally!\n}\n</code></pre>\n\n<ol>\n<li>Get a binder which source values from the environment.</li>\n<li>Declare a target you want to bind to.</li>\n<li>Bind all keys from the environment which starts with <code>api.about</code> to our target.</li>\n</ol>\n\n<p>Finally -- </p>\n\n<p>Retrieve the value! </p>\n"},{"tags":[],"owner":{"account_id":14127085,"reputation":121,"user_id":10379094,"display_name":"Joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677759276,"creation_date":1677759276,"answer_id":75615278,"question_id":47873185,"body_markdown":"Try this method. In your example, calling `getAllPropWithPrefix(&quot;test&quot;)` will return a Map containing `{test.cat=cat,test.dog=dog,test.cow=cow}`\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.properties.bind.BindResult;\r\nimport org.springframework.boot.context.properties.bind.Bindable;\r\nimport org.springframework.boot.context.properties.bind.Binder;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\n@Component\r\npublic class SpringPropertiesUtil {\r\n\r\n    @Autowired\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    /**\r\n     * Get all properties with specific prefix. \r\n     */\r\n    public Map&lt;String,String&gt; getAllPropWithPrefix(String prefix) {\r\n        BindResult&lt;Map&lt;String, String&gt;&gt; result = Binder.get(applicationContext.getEnvironment())\r\n                .bind(prefix, Bindable.mapOf(String.class, String.class));\r\n        if (!result.isBound() || result.get()==null) {\r\n            return Collections.emptyMap();\r\n        }\r\n        return result.get().entrySet().stream().collect(Collectors.toMap(x-&gt;prefix+&quot;.&quot;+x.getKey(),x-&gt;x.getValue()));\r\n    }\r\n}\r\n\r\n```","title":"How to read multiple properties with same prefix in java spring?","body":"<p>Try this method. In your example, calling <code>getAllPropWithPrefix(&quot;test&quot;)</code> will return a Map containing <code>{test.cat=cat,test.dog=dog,test.cow=cow}</code></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.bind.BindResult;\nimport org.springframework.boot.context.properties.bind.Bindable;\nimport org.springframework.boot.context.properties.bind.Binder;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\n@Component\npublic class SpringPropertiesUtil {\n\n    @Autowired\n    private ConfigurableApplicationContext applicationContext;\n\n    /**\n     * Get all properties with specific prefix. \n     */\n    public Map&lt;String,String&gt; getAllPropWithPrefix(String prefix) {\n        BindResult&lt;Map&lt;String, String&gt;&gt; result = Binder.get(applicationContext.getEnvironment())\n                .bind(prefix, Bindable.mapOf(String.class, String.class));\n        if (!result.isBound() || result.get()==null) {\n            return Collections.emptyMap();\n        }\n        return result.get().entrySet().stream().collect(Collectors.toMap(x-&gt;prefix+&quot;.&quot;+x.getKey(),x-&gt;x.getValue()));\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1741154,"reputation":836,"user_id":2515354,"accept_rate":100,"display_name":"Lakshmikant Deshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678168722,"creation_date":1678168722,"answer_id":75658483,"question_id":47873185,"body_markdown":"I use this approach to load properties with a certain prefix in Spring (Assuming that you have injected Configuration in your component):\r\n\r\n    Properties properties = new Properties();\r\n    configuration.getKeys(&quot;test.&quot;)\r\n       .forEachRemainingKey(key -&gt; properties.setProperty(key, configuration.getString(key));","title":"How to read multiple properties with same prefix in java spring?","body":"<p>I use this approach to load properties with a certain prefix in Spring (Assuming that you have injected Configuration in your component):</p>\n<pre><code>Properties properties = new Properties();\nconfiguration.getKeys(&quot;test.&quot;)\n   .forEachRemainingKey(key -&gt; properties.setProperty(key, configuration.getString(key));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4600017,"reputation":34,"user_id":3731031,"display_name":"KWang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698787618,"creation_date":1698787618,"answer_id":77399155,"question_id":47873185,"body_markdown":"The answers from Manos and Yoran are helpful. I found a small change to Manos&#39; code would be able to address Yoran&#39;s concern. Basically, the same propertity may come multiple times, from environment variable and application.yml for example, in the order of importance descending. Thus we can just get the first instance by checking that the `key` is not in `properties` already, as in the improved code below: \r\n\r\n```java\r\nMap&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\nif (env instanceof ConfigurableEnvironment) {\r\n    for (PropertySource&lt;?&gt; propertySource : ((ConfigurableEnvironment) env).getPropertySources()) {\r\n        if (propertySource instanceof EnumerablePropertySource) {\r\n            for (String key : ((EnumerablePropertySource) propertySource).getPropertyNames()) {\r\n                if (key.startsWith(prefix) &amp;&amp; !properties.containsKey(key)) {\r\n                    properties.put(key, propertySource.getProperty(key));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to read multiple properties with same prefix in java spring?","body":"<p>The answers from Manos and Yoran are helpful. I found a small change to Manos' code would be able to address Yoran's concern. Basically, the same propertity may come multiple times, from environment variable and application.yml for example, in the order of importance descending. Thus we can just get the first instance by checking that the <code>key</code> is not in <code>properties</code> already, as in the improved code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\nif (env instanceof ConfigurableEnvironment) {\n    for (PropertySource&lt;?&gt; propertySource : ((ConfigurableEnvironment) env).getPropertySources()) {\n        if (propertySource instanceof EnumerablePropertySource) {\n            for (String key : ((EnumerablePropertySource) propertySource).getPropertyNames()) {\n                if (key.startsWith(prefix) &amp;&amp; !properties.containsKey(key)) {\n                    properties.put(key, propertySource.getProperty(key));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12492,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47873601,"answer_count":6,"score":7,"last_activity_date":1698787618,"creation_date":1513616790,"question_id":47873185,"body_markdown":"I am having the property file with the following values. I want to read all the properties with same prefix excluding others using spring mvc.\r\n\r\n**&lt;p&gt;test.cat=cat &lt;br&gt;\r\ntest.dog=dog&lt;br&gt;\r\ntest.cow=cow&lt;br&gt;\r\nbirds=eagle&lt;/p&gt;**\r\n\r\n    Environment.getProperty(&quot;test.cat&quot;);\r\n\r\nThis will return only &#39;cat&#39; . \r\n\r\nIn the above property file, I want to get all the properties starting(prefix) with ***test*** excluding birds. In spring boot we can achieve this with `@ConfigurationProperties(prefix=&quot;test&quot;)`, but how to achieve the same in spring mvc. ","title":"How to read multiple properties with same prefix in java spring?","body":"<p>I am having the property file with the following values. I want to read all the properties with same prefix excluding others using spring mvc.</p>\n\n<p><strong><p>test.cat=cat <br>\ntest.dog=dog<br>\ntest.cow=cow<br>\nbirds=eagle</p></strong></p>\n\n<pre><code>Environment.getProperty(\"test.cat\");\n</code></pre>\n\n<p>This will return only 'cat' . </p>\n\n<p>In the above property file, I want to get all the properties starting(prefix) with <strong><em>test</em></strong> excluding birds. In spring boot we can achieve this with <code>@ConfigurationProperties(prefix=\"test\")</code>, but how to achieve the same in spring mvc. </p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698787603,"post_id":77399095,"comment_id":136449448,"body_markdown":"Being an Eclipse IDE guy I would first recommend ditching Netbeans all together, use IntelliJ. I&#39;m an Eclipse guy but IJ is a lot more popular nowadays. Also there is absolutely nothing you can&#39;t do any any of them. Related to your question did you install Java on your environment?","body":"Being an Eclipse IDE guy I would first recommend ditching Netbeans all together, use IntelliJ. I&#39;m an Eclipse guy but IJ is a lot more popular nowadays. Also there is absolutely nothing you can&#39;t do any any of them. Related to your question did you install Java on your environment?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698795427,"post_id":77399095,"comment_id":136450237,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29797882,"reputation":1,"user_id":22836427,"display_name":"Shimul Mahmud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698786661,"creation_date":1698786661,"question_id":77399095,"body_markdown":"I have installed Apache Netbeans in my Ubuntu using this command &quot;sudo dpkg -i apache-netbeans_*_all.deb&quot;. It was installed correctly without any kind of errors. But after installing as soon as I try to open the app it doesn&#39;t open. Instead opening the app its directing to the current window I am using. I have searched all the way through to Stackoverflow and AskUbuntu and other different platforms. I got some clues and applied them but all efforts went in vain. Now the app logo is there but I can&#39;t open or not even able to remove the app icon form my OS.\r\n\r\n\r\nI tried to Open the app and expect to use the app. But the case was opposite. It hasn&#39;t opened for a single time.","title":"Netbeans not opening in Ubuntu for a single time","body":"<p>I have installed Apache Netbeans in my Ubuntu using this command &quot;sudo dpkg -i apache-netbeans_*_all.deb&quot;. It was installed correctly without any kind of errors. But after installing as soon as I try to open the app it doesn't open. Instead opening the app its directing to the current window I am using. I have searched all the way through to Stackoverflow and AskUbuntu and other different platforms. I got some clues and applied them but all efforts went in vain. Now the app logo is there but I can't open or not even able to remove the app icon form my OS.</p>\n<p>I tried to Open the app and expect to use the app. But the case was opposite. It hasn't opened for a single time.</p>\n"},{"tags":["java","spring-boot","swagger","keycloak","swagger-ui"],"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698786383,"creation_date":1698786383,"question_id":77399078,"body_markdown":"I&#39;m running the keycloak to manage my authorization and authentication. Because of that, i don&#39;t be able to access my swagger. So, i develop a configuration using keycloak to create a authorization flow to access my swagger. This is the configuation file:\r\n\r\n    @Configuration\r\n    @OpenAPIDefinition\r\n    public class SwaggerConfig {\r\n    \r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    String authServerUrl;\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    String realm;\r\n    \r\n    private static final String OAUTH_SCHEME_NAME = &quot;oAuth&quot;;\r\n    private static final String TOKEN_URL_FORMAT = &quot;%s/realms/%s/protocol/openid- \r\n    connect/token&quot;;\r\n\r\n    @Bean\r\n    OpenAPI customOpenApi() {\r\n        return new OpenAPI()\r\n                    .info(new Info()\r\n                    .title(&quot;asdasd&quot;)\r\n                    .description(&quot;asdasdasdsa&quot;)\r\n                    .version(&quot;asdsadas&quot;)\r\n                    .license(new License()\r\n                            .name(&quot;Unlicense&quot;)\r\n                            .url(&quot;https://unlicense.org/&quot;)))\r\n                        .components(new Components()\r\n                        .addSecuritySchemes(OAUTH_SCHEME_NAME, createOAuthScheme()))\r\n                .addSecurityItem(new SecurityRequirement().addList(OAUTH_SCHEME_NAME));\r\n    }\r\n\r\n    private SecurityScheme createOAuthScheme() {\r\n        OAuthFlows flows = createOAuthFlows();\r\n\r\n        return new SecurityScheme()\r\n                .type(SecurityScheme.Type.OAUTH2)\r\n                .flows(flows);\r\n    }\r\n\r\n    private OAuthFlows createOAuthFlows() {\r\n        OAuthFlow passwordFlow = createPasswordFlow();\r\n\r\n        return new OAuthFlows()\r\n                .password(passwordFlow);\r\n    }\r\n\r\n    private OAuthFlow createPasswordFlow() {\r\n        var tokenUrl = String.format(TOKEN_URL_FORMAT, authServerUrl, realm);\r\n\r\n        return new OAuthFlow()\r\n                .tokenUrl(tokenUrl)\r\n                .scopes(new Scopes());\r\n    }\r\n    }\r\n\r\nWhen i run the project, this configuration doesn&#39;t work. it skip the log in fase. I have another project with this configuration and when i try to reach the swagger, this message appears:\r\n\r\n    o.keycloak.adapters.KeycloakDeployment   : Loaded URLs from \r\n    http://localhost:8082/auth/realms/xmobots_xplanner/.well-known/openid-configuration\r\n\r\nThis show that everything is ok, but doesn&#39;t happen in my other application. Could anyone help me with this.\r\n\r\nHere some other configuration files:\r\n\r\nKeycloakConfig.java\r\n\r\n    @KeycloakConfiguration\r\n    public class KeycloakConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \r\n    private static final String[] SWAGGER_WHITELIST = {\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n    };\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authBuilder) {\r\n        KeycloakAuthenticationProvider keycloakProvider = keycloakAuthenticationProvider();\r\n        keycloakProvider.setGrantedAuthoritiesMapper(getAuthoritiesMapper());\r\n        authBuilder.authenticationProvider(keycloakProvider);\r\n    }\r\n    \r\n    private GrantedAuthoritiesMapper getAuthoritiesMapper() {\r\n        SimpleAuthorityMapper mapper = new SimpleAuthorityMapper();\r\n        mapper.setPrefix(&quot;&quot;);\r\n\r\n        return mapper;\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n\r\n        http.authorizeRequests()\r\n        .antMatchers(SWAGGER_WHITELIST).permitAll().anyRequest().authenticated();\r\n        http.cors().and().csrf().disable();\r\n    }\r\n\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.xmobots&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;xplannerv5&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t&lt;name&gt;xplanner_v5_backend&lt;/name&gt;\r\n\t&lt;description&gt;Backend Application for XPlanner V5 project.&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;keycloak.version&gt;15.0.2&lt;/keycloak.version&gt;\r\n\t\t&lt;springdoc.openapi.version&gt;1.6.15&lt;/springdoc.openapi.version&gt;\r\n\t\t&lt;logback.contrib.version&gt;0.1.5&lt;/logback.contrib.version&gt;\r\n\t\t&lt;jooq.version&gt;3.17.6&lt;/jooq.version&gt;\r\n\t\t&lt;junit.version&gt;5.9.3&lt;/junit.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;!-- Starter Web --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Keycloak --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Springdoc (Para OpenAPI) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc.openapi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Spring Fox --&gt;                \r\n\r\n\t\t&lt;!-- Logback --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${logback.contrib.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${logback.contrib.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Flyway --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- PostgreSQL --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JOOQ --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jooq&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jooq.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jooq.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jooq-meta&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jooq.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Junit 5 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Integration --&gt;\r\n                &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-integration-ip&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Jackson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JWT --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Mockito --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- WebMvc Test Addons --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-test-webmvc-addons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- H2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;xplanner-v5-${project.version}&lt;/finalName&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n   &lt;/project&gt;\r\n\r\nIf it needed another file, i will post. Thanks everyone.\r\n\r\n \r\n\r\n","title":"Swagger with keycloak in spring boot don&#39;t get the configuration","body":"<p>I'm running the keycloak to manage my authorization and authentication. Because of that, i don't be able to access my swagger. So, i develop a configuration using keycloak to create a authorization flow to access my swagger. This is the configuation file:</p>\n<pre><code>@Configuration\n@OpenAPIDefinition\npublic class SwaggerConfig {\n\n@Value(&quot;${keycloak.auth-server-url}&quot;)\nString authServerUrl;\n@Value(&quot;${keycloak.realm}&quot;)\nString realm;\n\nprivate static final String OAUTH_SCHEME_NAME = &quot;oAuth&quot;;\nprivate static final String TOKEN_URL_FORMAT = &quot;%s/realms/%s/protocol/openid- \nconnect/token&quot;;\n\n@Bean\nOpenAPI customOpenApi() {\n    return new OpenAPI()\n                .info(new Info()\n                .title(&quot;asdasd&quot;)\n                .description(&quot;asdasdasdsa&quot;)\n                .version(&quot;asdsadas&quot;)\n                .license(new License()\n                        .name(&quot;Unlicense&quot;)\n                        .url(&quot;https://unlicense.org/&quot;)))\n                    .components(new Components()\n                    .addSecuritySchemes(OAUTH_SCHEME_NAME, createOAuthScheme()))\n            .addSecurityItem(new SecurityRequirement().addList(OAUTH_SCHEME_NAME));\n}\n\nprivate SecurityScheme createOAuthScheme() {\n    OAuthFlows flows = createOAuthFlows();\n\n    return new SecurityScheme()\n            .type(SecurityScheme.Type.OAUTH2)\n            .flows(flows);\n}\n\nprivate OAuthFlows createOAuthFlows() {\n    OAuthFlow passwordFlow = createPasswordFlow();\n\n    return new OAuthFlows()\n            .password(passwordFlow);\n}\n\nprivate OAuthFlow createPasswordFlow() {\n    var tokenUrl = String.format(TOKEN_URL_FORMAT, authServerUrl, realm);\n\n    return new OAuthFlow()\n            .tokenUrl(tokenUrl)\n            .scopes(new Scopes());\n}\n}\n</code></pre>\n<p>When i run the project, this configuration doesn't work. it skip the log in fase. I have another project with this configuration and when i try to reach the swagger, this message appears:</p>\n<pre><code>o.keycloak.adapters.KeycloakDeployment   : Loaded URLs from \nhttp://localhost:8082/auth/realms/xmobots_xplanner/.well-known/openid-configuration\n</code></pre>\n<p>This show that everything is ok, but doesn't happen in my other application. Could anyone help me with this.</p>\n<p>Here some other configuration files:</p>\n<p>KeycloakConfig.java</p>\n<pre><code>@KeycloakConfiguration\npublic class KeycloakConfig extends KeycloakWebSecurityConfigurerAdapter {\n\nprivate static final String[] SWAGGER_WHITELIST = {\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/swagger-ui.html&quot;,\n};\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder authBuilder) {\n    KeycloakAuthenticationProvider keycloakProvider = keycloakAuthenticationProvider();\n    keycloakProvider.setGrantedAuthoritiesMapper(getAuthoritiesMapper());\n    authBuilder.authenticationProvider(keycloakProvider);\n}\n\nprivate GrantedAuthoritiesMapper getAuthoritiesMapper() {\n    SimpleAuthorityMapper mapper = new SimpleAuthorityMapper();\n    mapper.setPrefix(&quot;&quot;);\n\n    return mapper;\n}\n\n@Bean\n@Override\nprotected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n    return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n\n    http.authorizeRequests()\n    .antMatchers(SWAGGER_WHITELIST).permitAll().anyRequest().authenticated();\n    http.cors().and().csrf().disable();\n}\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.xmobots&lt;/groupId&gt;\n&lt;artifactId&gt;xplannerv5&lt;/artifactId&gt;\n&lt;version&gt;5.2.0&lt;/version&gt;\n&lt;name&gt;xplanner_v5_backend&lt;/name&gt;\n&lt;description&gt;Backend Application for XPlanner V5 project.&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;keycloak.version&gt;15.0.2&lt;/keycloak.version&gt;\n    &lt;springdoc.openapi.version&gt;1.6.15&lt;/springdoc.openapi.version&gt;\n    &lt;logback.contrib.version&gt;0.1.5&lt;/logback.contrib.version&gt;\n    &lt;jooq.version&gt;3.17.6&lt;/jooq.version&gt;\n    &lt;junit.version&gt;5.9.3&lt;/junit.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- Starter Web --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Lombok --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Keycloak --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Springdoc (Para OpenAPI) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;${springdoc.openapi.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spring Fox --&gt;                \n\n    &lt;!-- Logback --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.contrib.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n        &lt;version&gt;${logback.contrib.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Flyway --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- PostgreSQL --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JOOQ --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jooq&lt;/artifactId&gt;\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt;\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jooq-meta&lt;/artifactId&gt;\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Junit 5 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Integration --&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-ip&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jackson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JWT --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n        &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n        &lt;version&gt;4.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Mockito --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- WebMvc Test Addons --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-test-webmvc-addons&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- H2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;xplanner-v5-${project.version}&lt;/finalName&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;17&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n   \n<p>If it needed another file, i will post. Thanks everyone.</p>\n"},{"tags":["java","http","aws-lambda","aws-java-sdk"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1698785747,"post_id":77399015,"comment_id":136449221,"body_markdown":"You set Content-Type=application/json. Is the post data supposed to be JSON? You seem to be sending something that looks like URL query parameters instead.","body":"You set Content-Type=application/json. Is the post data supposed to be JSON? You seem to be sending something that looks like URL query parameters instead."},{"owner":{"account_id":1190264,"reputation":2427,"user_id":1163234,"accept_rate":62,"display_name":"user1163234"},"score":0,"creation_date":1698789441,"post_id":77399015,"comment_id":136449641,"body_markdown":"@jarmod I changed to   &quot;application/x-www-form-urlencoded&quot; and still same result","body":"@jarmod I changed to   &quot;application/x-www-form-urlencoded&quot; and still same result"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1698791349,"post_id":77399015,"comment_id":136449838,"body_markdown":"What is the server that you&#39;re posting to actually expecting? The equivalent of an HTML form? A JSON string?","body":"What is the server that you&#39;re posting to actually expecting? The equivalent of an HTML form? A JSON string?"}],"owner":{"account_id":1190264,"reputation":2427,"user_id":1163234,"accept_rate":62,"display_name":"user1163234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698786174,"creation_date":1698785369,"question_id":77399015,"body_markdown":"I have the below code and the POST params are always gibberish even though I know my entry id is valid Getting the following message - `Missing parameter &amp;quot;entryId&amp;quot;&lt;`\r\n\r\nSeems like the entryid is `&amp;quot`\r\n\r\nAnyone know what I am doing wrong? \r\n\r\n```URL url = new URL(apiUrl);\r\n\r\n  // Open a connection to the URL\r\n  HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\r\n  // Set the request method to POST\r\n  connection.setRequestMethod(&quot;POST&quot;);\r\n\r\n  // Set the request headers\r\n  connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n  // Enable input and output streams\r\n  connection.setDoOutput(true);\r\n\r\n  // Construct the POST data using parameters from the SNS message\r\n  String postData = &quot;ks=&quot; + ks + &quot;&amp;entryId=&quot; + entry + &quot;&amp;baseEntry[tags]=&quot; + cleanTag + &quot;&amp;baseEntry[objectType]=KalturaBaseEntry&quot;;\r\n\r\n  // Write the POST data to the connection\r\n  try (OutputStream os = connection.getOutputStream()) {\r\n    byte[] postDataBytes = postData.getBytes(StandardCharsets.UTF_8);\r\n    System.out.println(&quot;postDataBytes : &quot;+postDataBytes );\r\n    os.write(postDataBytes);\r\n  }\r\n\r\n  // Get the HTTP response\r\n  int responseCode = connection.getResponseCode();\r\n  System.out.println(&quot;HTTP Response Code: &quot; + responseCode);\r\n\r\n  // Read the response content\r\n  try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\r\n    String inputLine;\r\n    StringBuilder response = new StringBuilder();\r\n    while ((inputLine = in.readLine()) != null) {\r\n      response.append(inputLine);\r\n    }\r\n    System.out.println(&quot;HTTP Response Content: &quot; + response.toString());\r\n  }\r\n\r\n  // Close the connection\r\n  connection.disconnect();\r\n  return true;\r\n} catch (Exception e) {\r\n  e.printStackTrace();\r\n  return false;\r\n}```\r\n\r\n\r\n\r\nOutput \r\n\r\n```2023-10-31T16:46:24.935-04:00\tentry : 1_06n6re6z\tLink \r\n\r\n\r\n2023-10-31T16:46:24.935-04:00\ttag : Happy, Sad, Smile\tLink \r\n\r\n\r\n2023-10-31T16:46:24.935-04:00\tks : djJ8NTU5OTLink \r\n\r\n\r\n2023-10-31T16:46:25.875-04:00\tpostDataBytes : [B@312ab28e\tLink \r\n\r\n\r\n2023-10-31T16:46:25.915-04:00\tHTTP Response Code: 200 ","title":"Trying to create HTTP POST request in Lambda but Params are in gibberish - Java","body":"<p>I have the below code and the POST params are always gibberish even though I know my entry id is valid Getting the following message - <code>Missing parameter &amp;quot;entryId&amp;quot;&lt;</code></p>\n<p>Seems like the entryid is <code>&amp;quot</code></p>\n<p>Anyone know what I am doing wrong?</p>\n<pre><code>\n  // Open a connection to the URL\n  HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n  // Set the request method to POST\n  connection.setRequestMethod(&quot;POST&quot;);\n\n  // Set the request headers\n  connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n  // Enable input and output streams\n  connection.setDoOutput(true);\n\n  // Construct the POST data using parameters from the SNS message\n  String postData = &quot;ks=&quot; + ks + &quot;&amp;entryId=&quot; + entry + &quot;&amp;baseEntry[tags]=&quot; + cleanTag + &quot;&amp;baseEntry[objectType]=KalturaBaseEntry&quot;;\n\n  // Write the POST data to the connection\n  try (OutputStream os = connection.getOutputStream()) {\n    byte[] postDataBytes = postData.getBytes(StandardCharsets.UTF_8);\n    System.out.println(&quot;postDataBytes : &quot;+postDataBytes );\n    os.write(postDataBytes);\n  }\n\n  // Get the HTTP response\n  int responseCode = connection.getResponseCode();\n  System.out.println(&quot;HTTP Response Code: &quot; + responseCode);\n\n  // Read the response content\n  try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\n    String inputLine;\n    StringBuilder response = new StringBuilder();\n    while ((inputLine = in.readLine()) != null) {\n      response.append(inputLine);\n    }\n    System.out.println(&quot;HTTP Response Content: &quot; + response.toString());\n  }\n\n  // Close the connection\n  connection.disconnect();\n  return true;\n} catch (Exception e) {\n  e.printStackTrace();\n  return false;\n}```\n\n\n\nOutput \n\n```2023-10-31T16:46:24.935-04:00    entry : 1_06n6re6z  Link \n\n\n2023-10-31T16:46:24.935-04:00   tag : Happy, Sad, Smile Link \n\n\n2023-10-31T16:46:24.935-04:00   ks : djJ8NTU5OTLink \n\n\n2023-10-31T16:46:25.875-04:00   postDataBytes : [B@312ab28e Link \n\n\n2023-10-31T16:46:25.915-04:00   HTTP Response Code: 200 \n</code></pre>\n"},{"tags":["java","camunda","business-process-management"],"answers":[{"tags":[],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698785099,"creation_date":1698785099,"answer_id":77398990,"question_id":77161129,"body_markdown":"since I also posted this question in Camunda Forums &amp; got lots of suggestions and explaining, I&#39;m leaving the final answer here in case it&#39;s needed in the future.\r\n\r\nEventually below is the process flow modeled as per my requirements and it worked as needed, it achieved the following:\r\n* parallel sub-process\r\n* each completed sub-process has it&#39;s own flow back to parent\r\n* once any process completes with a specific condition, all other scheduled processes gets canceled &amp; the parent flow continue in a specific direction\r\n\r\n[Camunda forum link][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://forum.camunda.io/t/schedule-camunda-parallel-sub-processes-independently/47726/16\r\n  [2]: https://i.stack.imgur.com/L4Fp9.png","title":"Schedule Camunda Parallel Sub-Processes independently","body":"<p>since I also posted this question in Camunda Forums &amp; got lots of suggestions and explaining, I'm leaving the final answer here in case it's needed in the future.</p>\n<p>Eventually below is the process flow modeled as per my requirements and it worked as needed, it achieved the following:</p>\n<ul>\n<li>parallel sub-process</li>\n<li>each completed sub-process has it's own flow back to parent</li>\n<li>once any process completes with a specific condition, all other scheduled processes gets canceled &amp; the parent flow continue in a specific direction</li>\n</ul>\n<p><a href=\"https://forum.camunda.io/t/schedule-camunda-parallel-sub-processes-independently/47726/16\" rel=\"nofollow noreferrer\">Camunda forum link</a>\n<a href=\"https://i.stack.imgur.com/L4Fp9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4Fp9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77398990,"answer_count":1,"score":0,"last_activity_date":1698785099,"creation_date":1695426072,"question_id":77161129,"body_markdown":"I&#39;m building a Business Flow for a Task that goes through lots of Review Task between multiple people, until it gets Decided then it needs to go into a decisioned Flow. Try to achieve that on Camunda 7.19 as below.\r\n\r\n**First** A decision Table and a Service Task decides a list of the next Tasks needs to be scheduled (into a list).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Then** Perform Next Task is a multi-instance sub-process that schedule those list of Tasks as below\r\n[![enter image description here][2]][2]\r\n\r\n**Finally** once one of those Review-Tasks decides the case, the case should go back up to the parent process &amp; continue on to Decisioned Case Sub-Process.\r\n\r\n**The Problem...** I need the ability to schedule multiple Review Tasks at the same time, however I&#39;m not always able to return to the parent &amp; hit that case decided Gateway because only one of the two tasks scheduled are completed, the other is still scheduled.\r\n\r\n**Current Behavior**\r\n\r\n```\r\nReview Task A (completed [B &amp; C should be next])\r\n   |_ Review Task B (Scheduled)\r\n   |_ Review Task C (Scheduled)\r\n\r\nReview Task C (Completes [D should be Next, along with whatever from before])\r\n   |_ Only Review Task B (Scheduled)\r\n\r\nReview Task B (Completed [Y should be Next, along with whatever from before])\r\n   |_ Only Task Y (Scheduled)\r\n\r\nReview Task Y (Completed with case Decisioned)\r\n   |_ Decisioned Case sub-process Starts\r\n```\r\n**Desired Behavior**\r\n```\r\nReview Task A (completed [B &amp; C should be next])\r\n   |_ Review Task B (Scheduled)\r\n   |_ Review Task C (Scheduled)\r\n\r\nReview Task C (Completes [D should be Next, along with whatever from before])\r\n   |_ Review Task B (Scheduled)\r\n   |_ Review Task D (Scheduled)\r\n\r\nReview Task B (Completed [Y should be Next, along with whatever from before])\r\n   |_ Review Task D (Scheduled)\r\n   |_ Review Task Y (Scheduled)\r\n\r\nReview Task Y (Completed with case Decisioned)\r\n   |_ Review Task D (Canceled)\r\n   |_ Decisioned Case sub-process Starts\r\n\r\n```\r\n\r\nThe Fact that I&#39;m running two sub-processes &amp; then finishing one and wants it to go back up to the parent and continue the flow, while the other one needs to still be there... is what I can&#39;t achieve. Any help or pointers would be much appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/aLZFq.png\r\n  [2]: https://i.stack.imgur.com/vKYmC.png","title":"Schedule Camunda Parallel Sub-Processes independently","body":"<p>I'm building a Business Flow for a Task that goes through lots of Review Task between multiple people, until it gets Decided then it needs to go into a decisioned Flow. Try to achieve that on Camunda 7.19 as below.</p>\n<p><strong>First</strong> A decision Table and a Service Task decides a list of the next Tasks needs to be scheduled (into a list).</p>\n<p><a href=\"https://i.stack.imgur.com/aLZFq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aLZFq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Then</strong> Perform Next Task is a multi-instance sub-process that schedule those list of Tasks as below\n<a href=\"https://i.stack.imgur.com/vKYmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKYmC.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Finally</strong> once one of those Review-Tasks decides the case, the case should go back up to the parent process &amp; continue on to Decisioned Case Sub-Process.</p>\n<p><strong>The Problem...</strong> I need the ability to schedule multiple Review Tasks at the same time, however I'm not always able to return to the parent &amp; hit that case decided Gateway because only one of the two tasks scheduled are completed, the other is still scheduled.</p>\n<p><strong>Current Behavior</strong></p>\n<pre><code>Review Task A (completed [B &amp; C should be next])\n   |_ Review Task B (Scheduled)\n   |_ Review Task C (Scheduled)\n\nReview Task C (Completes [D should be Next, along with whatever from before])\n   |_ Only Review Task B (Scheduled)\n\nReview Task B (Completed [Y should be Next, along with whatever from before])\n   |_ Only Task Y (Scheduled)\n\nReview Task Y (Completed with case Decisioned)\n   |_ Decisioned Case sub-process Starts\n</code></pre>\n<p><strong>Desired Behavior</strong></p>\n<pre><code>Review Task A (completed [B &amp; C should be next])\n   |_ Review Task B (Scheduled)\n   |_ Review Task C (Scheduled)\n\nReview Task C (Completes [D should be Next, along with whatever from before])\n   |_ Review Task B (Scheduled)\n   |_ Review Task D (Scheduled)\n\nReview Task B (Completed [Y should be Next, along with whatever from before])\n   |_ Review Task D (Scheduled)\n   |_ Review Task Y (Scheduled)\n\nReview Task Y (Completed with case Decisioned)\n   |_ Review Task D (Canceled)\n   |_ Decisioned Case sub-process Starts\n\n</code></pre>\n<p>The Fact that I'm running two sub-processes &amp; then finishing one and wants it to go back up to the parent and continue the flow, while the other one needs to still be there... is what I can't achieve. Any help or pointers would be much appreciated.</p>\n"},{"tags":["java","duration"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1698722731,"post_id":77392974,"comment_id":136438350,"body_markdown":"Yes, but the adjustment *prevents* the overflow in the case of tempSeconds being equal to `Long.MIN_VALUE`","body":"Yes, but the adjustment <i>prevents</i> the overflow in the case of tempSeconds being equal to <code>Long.MIN_VALUE</code>"},{"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"score":0,"creation_date":1698731399,"post_id":77392974,"comment_id":136439072,"body_markdown":"@RobertHarvey I think that before calling this method, the parameter `seconds` and `nanos` must not be overflow. And when calling this method, `seconds` has no overflow danger before calling Math.addExact.","body":"@RobertHarvey I think that before calling this method, the parameter <code>seconds</code> and <code>nanos</code> must not be overflow. And when calling this method, <code>seconds</code> has no overflow danger before calling Math.addExact."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1698732296,"post_id":77392974,"comment_id":136439175,"body_markdown":"Very good observation! I have added my thoughts below.","body":"Very good observation! I have added my thoughts below."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698733198,"creation_date":1698732253,"answer_id":77393547,"question_id":77392974,"body_markdown":"I think this is due to the way the seconds and nanos are stored internally, **while trying to make the usage of the API intuitive**. You may have noticed this in the `Duration`&#39;s JavaDocs:\r\n\r\n&gt; The model is of a directed duration, meaning that the duration may be negative.\r\n\r\nYou may also have noticed that the class **stores the sign only for the `seconds` field**. So, for a negative duration, the user provides arithmetically logical values using `Duration.ofSeconds( long, int )` and the API &quot;adjusts&quot; the excess seconds and nanos into the corresponding fields.\r\n\r\nExamples for negative duration: \r\n\r\n - `-1999747475ns` =&gt; `Duration.ofSeconds( -2, 252525 )`\r\n - `-2000252525ns` =&gt; `Duration.ofSeconds( -2, -252525 )`\r\n - `-252525ns` =&gt; `Duration.ofSeconds( 0, -252525 )`\r\n - `-1000252525ns` =&gt; `Duration.ofSeconds( 1, -2000252525 )`\r\n\r\nThe above values are &quot;converted&quot; to the right quantities for the `seconds` and `nanos` fields as per its definition. **That is, `nanos` should be between `0` and `999_999_999`.** At this stage, the field `seconds` may be negative and the field `nanos` will be positive or zero.\r\n\r\nEg, in the case of 2nd example (`-2, -252525`), the values are converted to:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow, imagining the computation of `toNanos()` on a number line, the API has to employ the following methods after the above mentioned adjustment:\r\n\r\n - &quot;Forward&quot; duration or positive duration is:\t**( Number of seconds * NANOS_PER_SECOND ) + nanos**\r\n- &quot;Backward&quot; duration or negative duration is:\t**( ( Number of seconds + 1 ) * NANOS_PER_SECOND ) + nanos**\r\n\r\nOnce again, why &quot;+ 1&quot; in the case of negative? Because `nanos` has been converted to its right positive, reduced value (and the excess added to `seconds`) and travelling on the number line will always be forwards.\r\n\t\r\n\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VkbRf.png","title":"Duration - Why do extra work when seconds is negative?","body":"<p>I think this is due to the way the seconds and nanos are stored internally, <strong>while trying to make the usage of the API intuitive</strong>. You may have noticed this in the <code>Duration</code>'s JavaDocs:</p>\n<blockquote>\n<p>The model is of a directed duration, meaning that the duration may be negative.</p>\n</blockquote>\n<p>You may also have noticed that the class <strong>stores the sign only for the <code>seconds</code> field</strong>. So, for a negative duration, the user provides arithmetically logical values using <code>Duration.ofSeconds( long, int )</code> and the API &quot;adjusts&quot; the excess seconds and nanos into the corresponding fields.</p>\n<p>Examples for negative duration:</p>\n<ul>\n<li><code>-1999747475ns</code> =&gt; <code>Duration.ofSeconds( -2, 252525 )</code></li>\n<li><code>-2000252525ns</code> =&gt; <code>Duration.ofSeconds( -2, -252525 )</code></li>\n<li><code>-252525ns</code> =&gt; <code>Duration.ofSeconds( 0, -252525 )</code></li>\n<li><code>-1000252525ns</code> =&gt; <code>Duration.ofSeconds( 1, -2000252525 )</code></li>\n</ul>\n<p>The above values are &quot;converted&quot; to the right quantities for the <code>seconds</code> and <code>nanos</code> fields as per its definition. <strong>That is, <code>nanos</code> should be between <code>0</code> and <code>999_999_999</code>.</strong> At this stage, the field <code>seconds</code> may be negative and the field <code>nanos</code> will be positive or zero.</p>\n<p>Eg, in the case of 2nd example (<code>-2, -252525</code>), the values are converted to:\n<a href=\"https://i.stack.imgur.com/VkbRf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VkbRf.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, imagining the computation of <code>toNanos()</code> on a number line, the API has to employ the following methods after the above mentioned adjustment:</p>\n<ul>\n<li>&quot;Forward&quot; duration or positive duration is:  <strong>( Number of seconds * NANOS_PER_SECOND ) + nanos</strong></li>\n<li>&quot;Backward&quot; duration or negative duration is:  <strong>( ( Number of seconds + 1 ) * NANOS_PER_SECOND ) + nanos</strong></li>\n</ul>\n<p>Once again, why &quot;+ 1&quot; in the case of negative? Because <code>nanos</code> has been converted to its right positive, reduced value (and the excess added to <code>seconds</code>) and travelling on the number line will always be forwards.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698784992,"creation_date":1698733596,"answer_id":77393640,"question_id":77392974,"body_markdown":"The extra work is needed for the case `Duration.ofNanos(Long.MIN_VALUE)` (and some more cases which result in the same number of seconds).\r\n\r\n`Duration.ofNanos(Long.MIN_VALUE)` is stored as seconds=-9223372037 and nanos=145224192.\r\n\r\nThe simple calculation `seconds*1_000_000_000` would underflow the range of long values (and therefore the naive `Math.multiplyExact(seconds, NANOS_PER_SECOND)` would throw an exception). But `Duration.ofNanos(Long.MIN_VALUE).toNanos()` should not throw an exception, it should return `Long.MIN_VALUE`.\r\n\r\nThey could have written the condition as `if (tempSeconds &lt;= -9223372037) { ... }` and it would give the same results (i.e. throw for the same values of seconds and nanos) but such a constant is harder to maintain.","title":"Duration - Why do extra work when seconds is negative?","body":"<p>The extra work is needed for the case <code>Duration.ofNanos(Long.MIN_VALUE)</code> (and some more cases which result in the same number of seconds).</p>\n<p><code>Duration.ofNanos(Long.MIN_VALUE)</code> is stored as seconds=-9223372037 and nanos=145224192.</p>\n<p>The simple calculation <code>seconds*1_000_000_000</code> would underflow the range of long values (and therefore the naive <code>Math.multiplyExact(seconds, NANOS_PER_SECOND)</code> would throw an exception). But <code>Duration.ofNanos(Long.MIN_VALUE).toNanos()</code> should not throw an exception, it should return <code>Long.MIN_VALUE</code>.</p>\n<p>They could have written the condition as <code>if (tempSeconds &lt;= -9223372037) { ... }</code> and it would give the same results (i.e. throw for the same values of seconds and nanos) but such a constant is harder to maintain.</p>\n"}],"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":77393640,"answer_count":2,"score":6,"last_activity_date":1698784992,"creation_date":1698721899,"question_id":77392974,"body_markdown":"This is the method `toNanos` in class `Duration`\r\n\r\n\r\n    public long toNanos() {\r\n        long tempSeconds = seconds;\r\n        long tempNanos = nanos;\r\n        // TODO: Here makes me confused\r\n        if (tempSeconds &lt; 0) {\r\n            // change the seconds and nano value to\r\n            // handle Long.MIN_VALUE case\r\n            tempSeconds = tempSeconds + 1;\r\n            tempNanos = tempNanos - NANOS_PER_SECOND;\r\n        }\r\n        long totalNanos = Math.multiplyExact(tempSeconds, NANOS_PER_SECOND);\r\n        totalNanos = Math.addExact(totalNanos, tempNanos);\r\n        return totalNanos;\r\n    }\r\n\r\n\r\nI couldn&#39;t understand why need to do extra work when seconds is negative.\r\n\r\nPositive numbers&#39; max is `2^63-1` and negative numbers&#39; min is `2^63`, looks like it transfer `-2^63s,-1ns` to `-2^63+1s,1000_000_000-1ns`, but it has to particate in calculate eventually. In my view this is meaningless because `Math.multiplyExact` and `Math.addExact` will throw an Exception when numbers overflow, it doesn&#39;t change not matter the judgement existed or not","title":"Duration - Why do extra work when seconds is negative?","body":"<p>This is the method <code>toNanos</code> in class <code>Duration</code></p>\n<pre><code>public long toNanos() {\n    long tempSeconds = seconds;\n    long tempNanos = nanos;\n    // TODO: Here makes me confused\n    if (tempSeconds &lt; 0) {\n        // change the seconds and nano value to\n        // handle Long.MIN_VALUE case\n        tempSeconds = tempSeconds + 1;\n        tempNanos = tempNanos - NANOS_PER_SECOND;\n    }\n    long totalNanos = Math.multiplyExact(tempSeconds, NANOS_PER_SECOND);\n    totalNanos = Math.addExact(totalNanos, tempNanos);\n    return totalNanos;\n}\n</code></pre>\n<p>I couldn't understand why need to do extra work when seconds is negative.</p>\n<p>Positive numbers' max is <code>2^63-1</code> and negative numbers' min is <code>2^63</code>, looks like it transfer <code>-2^63s,-1ns</code> to <code>-2^63+1s,1000_000_000-1ns</code>, but it has to particate in calculate eventually. In my view this is meaningless because <code>Math.multiplyExact</code> and <code>Math.addExact</code> will throw an Exception when numbers overflow, it doesn't change not matter the judgement existed or not</p>\n"},{"tags":["java","windows","zip"],"answers":[{"tags":[],"owner":{"account_id":8048411,"reputation":106,"user_id":6067877,"display_name":"Krzysztof Kielak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458119475,"creation_date":1458119475,"answer_id":36031142,"question_id":36030850,"body_markdown":"The library Apache Commons has a class called `SystemUtils` - full documentation is available at https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/SystemUtils.html. \r\n\r\nIn this library you have the following `static boolean` properties at your disposal:\r\n\r\n    SystemUtils.IS_OS_LINUX\r\n    SystemUtils.IS_OS_WINDOWS","title":"Java check if program is installed on windows","body":"<p>The library Apache Commons has a class called <code>SystemUtils</code> - full documentation is available at <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/SystemUtils.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/SystemUtils.html</a>. </p>\n\n<p>In this library you have the following <code>static boolean</code> properties at your disposal:</p>\n\n<pre><code>SystemUtils.IS_OS_LINUX\nSystemUtils.IS_OS_WINDOWS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4691848,"reputation":158,"user_id":3797793,"display_name":"martlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608197678,"creation_date":1608197678,"answer_id":65338028,"question_id":36030850,"body_markdown":"The unix-like solution would be to simply try to run the program with `--version` flag (on windows probably the `/?` or - like in the 7zip case - without any at all) and check whether it fails, or what the return code will be.\r\n\r\nSomething like:\r\n\r\n    public boolean is7zipInstalled() {\r\n        try {\r\n                Process process = Runtime.getRuntime().exec(&quot;7zip.exe&quot;);\r\n                int code = process.waitFor();\r\n                return code == 0;\r\n        } catch (Exception e) {\r\n                return false;\r\n        }\r\n    }\r\n","title":"Java check if program is installed on windows","body":"<p>The unix-like solution would be to simply try to run the program with <code>--version</code> flag (on windows probably the <code>/?</code> or - like in the 7zip case - without any at all) and check whether it fails, or what the return code will be.</p>\n<p>Something like:</p>\n<pre><code>public boolean is7zipInstalled() {\n    try {\n            Process process = Runtime.getRuntime().exec(&quot;7zip.exe&quot;);\n            int code = process.waitFor();\n            return code == 0;\n    } catch (Exception e) {\n            return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24618769,"reputation":1173,"user_id":18519412,"display_name":"Ellet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698783319,"creation_date":1698434508,"answer_id":77376612,"question_id":36030850,"body_markdown":"I know this is quite an old question but if someone still wants the answer for Windows, I prefer using the command line instead of deprecated old libraries\r\n\r\nExample in Powershell:\r\n\r\n```powershell\r\n(gp HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\*).DisplayName -Contains &quot;Android Studio&quot;\r\n```\r\n\r\nYou will get `True` or `False` as output\r\n\r\n**This is only works for Windows**","title":"Java check if program is installed on windows","body":"<p>I know this is quite an old question but if someone still wants the answer for Windows, I prefer using the command line instead of deprecated old libraries</p>\n<p>Example in Powershell:</p>\n<pre><code>(gp HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\*).DisplayName -Contains &quot;Android Studio&quot;\n</code></pre>\n<p>You will get <code>True</code> or <code>False</code> as output</p>\n<p><strong>This is only works for Windows</strong></p>\n"}],"owner":{"account_id":4962471,"reputation":195,"user_id":3993088,"accept_rate":15,"display_name":"Dennis Konoppa"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2627,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1700032101,"answer_count":3,"score":1,"last_activity_date":1698783319,"creation_date":1458118753,"question_id":36030850,"body_markdown":"Is there a way to check if a specific program is installed on Windows using Java?\r\n\r\nI&#39;m trying to develop a Java program that automatically creates zip archives by using the code line command from 7-Zip.\r\n\r\nSo, I would like to check in Java if on my windows OS &#39;7-Zip&#39; is already installed. No check for running apps or if OS is Windows or Linux. I want to get a bool (true/false) if &#39;7-Zip&#39; is installed on Windows.","title":"Java check if program is installed on windows","body":"<p>Is there a way to check if a specific program is installed on Windows using Java?</p>\n\n<p>I'm trying to develop a Java program that automatically creates zip archives by using the code line command from 7-Zip.</p>\n\n<p>So, I would like to check in Java if on my windows OS '7-Zip' is already installed. No check for running apps or if OS is Windows or Linux. I want to get a bool (true/false) if '7-Zip' is installed on Windows.</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"comments":[{"owner":{"account_id":3593742,"reputation":207,"user_id":2999097,"accept_rate":45,"display_name":"Noshaf"},"score":0,"creation_date":1698757666,"post_id":77395919,"comment_id":136443505,"body_markdown":"since the default spring bean scope is singleton and created at startup of application , for your requirement you might need to set bean scope to request . i hope it works","body":"since the default spring bean scope is singleton and created at startup of application , for your requirement you might need to set bean scope to request . i hope it works"},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":1,"creation_date":1698757880,"post_id":77395919,"comment_id":136443543,"body_markdown":"@Noshaf Couldn&#39;t you use prototype as bean scope?","body":"@Noshaf Couldn&#39;t you use prototype as bean scope?"},{"owner":{"account_id":3593742,"reputation":207,"user_id":2999097,"accept_rate":45,"display_name":"Noshaf"},"score":0,"creation_date":1698758000,"post_id":77395919,"comment_id":136443561,"body_markdown":"@Twistleton yes correct .","body":"@Twistleton yes correct ."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1698776542,"post_id":77395919,"comment_id":136447713,"body_markdown":"If you&#39;re trying to change the schedule at runtime, you&#39;ll need to use a trigger.  Using the Scheduled annotation, it will be set to that value when the app starts, but it won&#39;t change its schedule if the value that bean produces changes.  By defining a trigger, you can modify its schedule dynamically.","body":"If you&#39;re trying to change the schedule at runtime, you&#39;ll need to use a trigger.  Using the Scheduled annotation, it will be set to that value when the app starts, but it won&#39;t change its schedule if the value that bean produces changes.  By defining a trigger, you can modify its schedule dynamically."}],"answers":[{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698783071,"creation_date":1698783071,"answer_id":77398836,"question_id":77395919,"body_markdown":"You can try with Spring [RepositoryEventHandler](https://docs.spring.io/spring-data/rest/docs/3.3.9.RELEASE/reference/html/#events). \r\n\r\nSample code\r\n\r\napplication.properties:\r\n```\r\nspring.main.allow-bean-definition-overriding=true\r\n```\r\nAppConfig:\r\n```\r\n    @Bean\r\n    public LatestCustomerId customerIdLatest() {\r\n        LatestCustomerId id = new LatestCustomerId();\r\n        id.setId(-1);\r\n        return id;\r\n    }\r\n```\r\n\r\nCustomerEventHandler:\r\n```\r\n@RepositoryEventHandler(CustomerDo.class)\r\n@RequiredArgsConstructor\r\npublic class CustomerEventHandler {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @HandleAfterSave\r\n    public void handleAuthorAfterSave(CustomerDo customerDo) {\r\n        AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\r\n        BeanDefinitionRegistry registry = (BeanDefinitionRegistry) factory;\r\n        registry.removeBeanDefinition(&quot;customerIdLatest&quot;);\r\n\r\n        GenericBeanDefinition myBeanDefinition = new GenericBeanDefinition();\r\n        myBeanDefinition.setBeanClass(LatestCustomerId.class);\r\n        myBeanDefinition.setScope(BeanDefinition.SCOPE_SINGLETON);\r\n\r\n        MutablePropertyValues mpv = new MutablePropertyValues();\r\n        mpv.add(&quot;id&quot;, Integer.valueOf(customerDo.getId()));\r\n        myBeanDefinition.setPropertyValues(mpv);\r\n\r\n        registry.registerBeanDefinition(&quot;customerIdLatest&quot;, myBeanDefinition);\r\n    }\r\n}\r\n\r\n```\r\nCustomerController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;api/customer&quot;)\r\n@RequiredArgsConstructor\r\npublic class CustomerController {\r\n\r\n    private final CustomerRepository customerRepository;\r\n    private final CustomerMapper customerMapper;\r\n    private final CustomerEventHandler customerEventHandler;\r\n\r\n    @Autowired\r\n    private LatestCustomerId latestCustomerId;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;CustomerDto&gt; createCustomer(CustomerDto customerDto) {\r\n\r\n        CustomerDo customerDo = customerRepository.save(customerMapper.toCustomerDo(customerDto));\r\n        customerDto = customerMapper.toCustomerDto(customerDo);\r\n\r\n        customerEventHandler.handleAuthorAfterSave(customerDo);\r\n        \r\n        return new ResponseEntity&lt;&gt;(customerDto, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\n\r\n","title":"Spring change bean scope","body":"<p>You can try with Spring <a href=\"https://docs.spring.io/spring-data/rest/docs/3.3.9.RELEASE/reference/html/#events\" rel=\"nofollow noreferrer\">RepositoryEventHandler</a>.</p>\n<p>Sample code</p>\n<p>application.properties:</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>AppConfig:</p>\n<pre><code>    @Bean\n    public LatestCustomerId customerIdLatest() {\n        LatestCustomerId id = new LatestCustomerId();\n        id.setId(-1);\n        return id;\n    }\n</code></pre>\n<p>CustomerEventHandler:</p>\n<pre><code>@RepositoryEventHandler(CustomerDo.class)\n@RequiredArgsConstructor\npublic class CustomerEventHandler {\n\n    private final ApplicationContext applicationContext;\n\n    @HandleAfterSave\n    public void handleAuthorAfterSave(CustomerDo customerDo) {\n        AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\n        BeanDefinitionRegistry registry = (BeanDefinitionRegistry) factory;\n        registry.removeBeanDefinition(&quot;customerIdLatest&quot;);\n\n        GenericBeanDefinition myBeanDefinition = new GenericBeanDefinition();\n        myBeanDefinition.setBeanClass(LatestCustomerId.class);\n        myBeanDefinition.setScope(BeanDefinition.SCOPE_SINGLETON);\n\n        MutablePropertyValues mpv = new MutablePropertyValues();\n        mpv.add(&quot;id&quot;, Integer.valueOf(customerDo.getId()));\n        myBeanDefinition.setPropertyValues(mpv);\n\n        registry.registerBeanDefinition(&quot;customerIdLatest&quot;, myBeanDefinition);\n    }\n}\n\n</code></pre>\n<p>CustomerController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/customer&quot;)\n@RequiredArgsConstructor\npublic class CustomerController {\n\n    private final CustomerRepository customerRepository;\n    private final CustomerMapper customerMapper;\n    private final CustomerEventHandler customerEventHandler;\n\n    @Autowired\n    private LatestCustomerId latestCustomerId;\n\n    @PostMapping(&quot;/&quot;)\n    public ResponseEntity&lt;CustomerDto&gt; createCustomer(CustomerDto customerDto) {\n\n        CustomerDo customerDo = customerRepository.save(customerMapper.toCustomerDo(customerDto));\n        customerDto = customerMapper.toCustomerDto(customerDo);\n\n        customerEventHandler.handleAuthorAfterSave(customerDo);\n        \n        return new ResponseEntity&lt;&gt;(customerDto, HttpStatus.CREATED);\n    }\n</code></pre>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698783071,"creation_date":1698755528,"question_id":77395919,"body_markdown":"I have the below bean which get a value from a database\r\n\r\n    @Bean\r\n    fun getCronValue(): String {\r\n       val cron = settingRepository.findByKey(&quot;batch_cron_expression&quot;)\r\n       return cron?.value ?: applicationProperties.batch.cronExpression\r\n    }\r\n\r\nthen i used this bean into the `@Scheduled`\r\n\r\n    @Scheduled(cron = &quot;#{@getCronValue}&quot;)\r\n\r\ni want when the value is changed from the database the bean read the new value automatically without needed to restarting the application","title":"Spring change bean scope","body":"<p>I have the below bean which get a value from a database</p>\n<pre><code>@Bean\nfun getCronValue(): String {\n   val cron = settingRepository.findByKey(&quot;batch_cron_expression&quot;)\n   return cron?.value ?: applicationProperties.batch.cronExpression\n}\n</code></pre>\n<p>then i used this bean into the <code>@Scheduled</code></p>\n<pre><code>@Scheduled(cron = &quot;#{@getCronValue}&quot;)\n</code></pre>\n<p>i want when the value is changed from the database the bean read the new value automatically without needed to restarting the application</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9768,"page":88,"page_size":100}
