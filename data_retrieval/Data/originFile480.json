{"items":[{"tags":["java","spring-boot","design-patterns","spring-data-jpa","callback"],"comments":[{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1682298416,"post_id":76082820,"comment_id":134188346,"body_markdown":"@xerx593 user:592355 https://stackoverflow.com/users/592355/xerx593 what happened? :/","body":"@xerx593 user:592355 <a href=\"https://stackoverflow.com/users/592355/xerx593\">stackoverflow.com/users/592355/xerx593</a> what happened? :/"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682347360,"post_id":76082820,"comment_id":134196606,"body_markdown":"Sorry, I deleted, but hope you still have the &quot;useful links&quot;...going deeper, I started to doubt my answer/approach","body":"Sorry, I deleted, but hope you still have the &quot;useful links&quot;...going deeper, I started to doubt my answer/approach"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1682350071,"post_id":76082820,"comment_id":134197365,"body_markdown":"Yes, I think so. Basically I am getting different Entities from the third party class, depending on what request(Entity) is passed to the third party class from the controller. And I want to save all this list of Entities in the database. Each Entity can have its own table. So when /employee is called, the third party class wil return a list of Employees, and I want to save it to the Employee database table. When Contractor is called, I get back a list of contractors and I want to save them to the database tabe Contractor.","body":"Yes, I think so. Basically I am getting different Entities from the third party class, depending on what request(Entity) is passed to the third party class from the controller. And I want to save all this list of Entities in the database. Each Entity can have its own table. So when /employee is called, the third party class wil return a list of Employees, and I want to save it to the Employee database table. When Contractor is called, I get back a list of contractors and I want to save them to the database tabe Contractor."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682364390,"post_id":76082820,"comment_id":134200577,"body_markdown":"[here](https://github.com/xerx593/demo-generic-mj) we can play :)","body":"<a href=\"https://github.com/xerx593/demo-generic-mj\" rel=\"nofollow noreferrer\">here</a> we can play :)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682365610,"post_id":76082820,"comment_id":134200809,"body_markdown":"so first of all, we should clarify/identify: do we need &quot;prototype&quot; scope? (since that complicates some) ... for &quot;generic bean&quot; (definitions), [this](https://stackoverflow.com/q/51624481/592355) is sweat!","body":"so first of all, we should clarify/identify: do we need &quot;prototype&quot; scope? (since that complicates some) ... for &quot;generic bean&quot; (definitions), <a href=\"https://stackoverflow.com/q/51624481/592355\">this</a> is sweat!"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1682366611,"post_id":76082820,"comment_id":134201008,"body_markdown":"Going through your example and tyring to understand it..I was thinking to simplify things we don&#39;t need the CallbackImpl to be a Spring managed bean? It can be a simple java class with type T. The common service will call this class and pass in the type T. The Employee service will call in the common service and pass in type T. I only want to save the entities, so I have EmployeeRepository in EmployeeService, and pass it to the common service, which passes it to the CallBackImpl, which does a saveAll(employees). If that makes sense. Will read up on ObjectProvider to understand your code","body":"Going through your example and tyring to understand it..I was thinking to simplify things we don&#39;t need the CallbackImpl to be a Spring managed bean? It can be a simple java class with type T. The common service will call this class and pass in the type T. The Employee service will call in the common service and pass in type T. I only want to save the entities, so I have EmployeeRepository in EmployeeService, and pass it to the common service, which passes it to the CallBackImpl, which does a saveAll(employees). If that makes sense. Will read up on ObjectProvider to understand your code"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682366717,"post_id":76082820,"comment_id":134201043,"body_markdown":"in test i use it (ObjectProvider with according generic parameter) only as a &quot;collection&quot; of all services, elsewhere i use it to obtain &quot;fresh prototypes&quot;","body":"in test i use it (ObjectProvider with according generic parameter) only as a &quot;collection&quot; of all services, elsewhere i use it to obtain &quot;fresh prototypes&quot;"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682349845,"creation_date":1682216170,"question_id":76082820,"body_markdown":"I&#39;m confused about the design using Spring boot and JPA when callbacks are involved.\r\n\r\nExample:\r\n\r\nController will call the Service class and pass in the value of T, i.e Employee in our example:\r\n\r\n    @Controller\r\n    public class Controller1{\r\n     \r\n     @Autowired\r\n     Service1 service1;\r\n\r\n     @RequestMapping(&quot;/employee&quot;)\r\n      public ResponseEntity&lt;Object&gt; employees(Request request){\r\n        //Since employee is called I know that T should be of type Employee\r\n        service1.runService(new Employee()); //I want to pass the type T as \r\n                                           //Employee, so that in the \r\n                                           //database all Employees can be saved\r\n      }\r\n\r\n\r\n    }\r\n\r\nI have a service:\r\n\r\n     \r\n    //Controller will call this service and pass in T type\r\n    @Service\r\n    public class Service1{\r\n      @Autowired\r\n      Dependency1 dependency1;\r\n    \r\n     //@Autowire CallbackImpl -&gt; this won&#39;t work because I need to create a new \r\n     //                          instance of type T for each different request from \r\n     //                            controller\r\n    \r\n\r\n    public void runService(T t){\r\n    //CallbackImpl&lt;Employee&gt; callbackImpl= new CallbackImpl&lt;&gt;();-&gt; this won&#39;t work because \r\n                                           //           it is not managed by Spring\r\n                                           //           and the Repository bean \r\n                                           //           throws null pointer exception\r\n      \r\n       //Here I want to invoke the callbackImpl&lt;T&gt; class and specify the type T.. \r\n       // ..(which will be  an Entity type)\r\n      \r\n      ThirdPartyClass.get(callbackImpl) // callbackImpl is of type T (i.e Employee \r\n                                        // in this example)\r\n     }\r\n    }\r\n\r\nThis ThirdPartyClass.get() method provides an interface IThirdPartyCallback.\r\n\r\nMy class CallbackImpl implements this interface, gets the values and saves it to database like this:\r\n\r\n    CallbackImpl&lt;T&gt; implements IThirdPartyCallback{\r\n     \r\n    @Autowired\r\n    BaseRepository&lt;T, Long&gt; baseRepository // The sub-class EmployeeRepository \r\n                                           //..that \r\n                                          //..implements BaseRepository is called \r\n                                          //..based on type T\r\n    \r\n    @Override\r\n    public void callback(String result){\r\n    // convert result to List&lt;T&gt; type, in this example T is Employee\r\n\r\n    baseRepository.saveAll(listOfResultsOfTypeT);  //in this result will be converted to List&lt;T&gt; \r\n                                     //and saved. In this example result will be \r\n                                     // List&lt;Employee&gt;\r\n    }\r\n      }\r\n\r\n\r\nI need multiple instances/beans of CallbackImpl. What would be a recommended wat to achieve that?\r\n\r\n1. I could create a Factory with a @Configuration, and have a method return a new CallbackImpl&lt;T&gt; bean for every request\r\n\r\n2. Perhaps I could remove Autowired from the BaseRepository, and pass in the BaseRepository through the Service -&gt; Is this a good design? i.e Repository should be only defined in Service and the Service passes around the Repository  bean with helper classes when needed?\r\n\r\n3. Declare the CallbackImpl as prototype scope. It&#39;s not clear to me how I will call create new instances each time with a different type T using this approach.\r\n\r\n4. Perhaps I can create N repositories with N services for N entities that I want to save in the database tables. And have N controllers as well, so this entire problem is eliminated, but this looks like a lot of similar code repeated, if all I&#39;m doing is saving different types of entities like Employee, Contractor, Chair etc. i.e unrelated entities.\r\n\r\n5. Use EntityManger somehow to persist different entities\r\n\r\nOr is this completely bonkers and there is a much better way to get what I want using a much better or simpler design?","title":"Design classes using Spring boot, JPA using callbacks of generic type","body":"<p>I'm confused about the design using Spring boot and JPA when callbacks are involved.</p>\n<p>Example:</p>\n<p>Controller will call the Service class and pass in the value of T, i.e Employee in our example:</p>\n<pre><code>@Controller\npublic class Controller1{\n \n @Autowired\n Service1 service1;\n\n @RequestMapping(&quot;/employee&quot;)\n  public ResponseEntity&lt;Object&gt; employees(Request request){\n    //Since employee is called I know that T should be of type Employee\n    service1.runService(new Employee()); //I want to pass the type T as \n                                       //Employee, so that in the \n                                       //database all Employees can be saved\n  }\n\n\n}\n</code></pre>\n<p>I have a service:</p>\n<pre><code>//Controller will call this service and pass in T type\n@Service\npublic class Service1{\n  @Autowired\n  Dependency1 dependency1;\n\n //@Autowire CallbackImpl -&gt; this won't work because I need to create a new \n //                          instance of type T for each different request from \n //                            controller\n\n\npublic void runService(T t){\n//CallbackImpl&lt;Employee&gt; callbackImpl= new CallbackImpl&lt;&gt;();-&gt; this won't work because \n                                       //           it is not managed by Spring\n                                       //           and the Repository bean \n                                       //           throws null pointer exception\n  \n   //Here I want to invoke the callbackImpl&lt;T&gt; class and specify the type T.. \n   // ..(which will be  an Entity type)\n  \n  ThirdPartyClass.get(callbackImpl) // callbackImpl is of type T (i.e Employee \n                                    // in this example)\n }\n}\n</code></pre>\n<p>This ThirdPartyClass.get() method provides an interface IThirdPartyCallback.</p>\n<p>My class CallbackImpl implements this interface, gets the values and saves it to database like this:</p>\n<pre><code>CallbackImpl&lt;T&gt; implements IThirdPartyCallback{\n \n@Autowired\nBaseRepository&lt;T, Long&gt; baseRepository // The sub-class EmployeeRepository \n                                       //..that \n                                      //..implements BaseRepository is called \n                                      //..based on type T\n\n@Override\npublic void callback(String result){\n// convert result to List&lt;T&gt; type, in this example T is Employee\n\nbaseRepository.saveAll(listOfResultsOfTypeT);  //in this result will be converted to List&lt;T&gt; \n                                 //and saved. In this example result will be \n                                 // List&lt;Employee&gt;\n}\n  }\n</code></pre>\n<p>I need multiple instances/beans of CallbackImpl. What would be a recommended wat to achieve that?</p>\n<ol>\n<li><p>I could create a Factory with a @Configuration, and have a method return a new CallbackImpl bean for every request</p>\n</li>\n<li><p>Perhaps I could remove Autowired from the BaseRepository, and pass in the BaseRepository through the Service -&gt; Is this a good design? i.e Repository should be only defined in Service and the Service passes around the Repository  bean with helper classes when needed?</p>\n</li>\n<li><p>Declare the CallbackImpl as prototype scope. It's not clear to me how I will call create new instances each time with a different type T using this approach.</p>\n</li>\n<li><p>Perhaps I can create N repositories with N services for N entities that I want to save in the database tables. And have N controllers as well, so this entire problem is eliminated, but this looks like a lot of similar code repeated, if all I'm doing is saving different types of entities like Employee, Contractor, Chair etc. i.e unrelated entities.</p>\n</li>\n<li><p>Use EntityManger somehow to persist different entities</p>\n</li>\n</ol>\n<p>Or is this completely bonkers and there is a much better way to get what I want using a much better or simpler design?</p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1621681699,"post_id":67645961,"comment_id":119572003,"body_markdown":".request(MediaType.APPLICATION_FORM_URLENCODED) this sets the Accept header. 406 means Not Acceptable.","body":".request(MediaType.APPLICATION_FORM_URLENCODED) this sets the Accept header. 406 means Not Acceptable."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1621681760,"post_id":67645961,"comment_id":119572017,"body_markdown":"Also are you sure the server sends back text/plain?","body":"Also are you sure the server sends back text/plain?"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1621697223,"post_id":67645961,"comment_id":119576213,"body_markdown":"So what should be the right way given the curl command that is working?","body":"So what should be the right way given the curl command that is working?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1621727208,"post_id":67645961,"comment_id":119583266,"body_markdown":"Remove the request() and accept(), and it will be equivalent to your curl request.","body":"Remove the request() and accept(), and it will be equivalent to your curl request."}],"answers":[{"tags":[],"owner":{"account_id":3532513,"reputation":686,"user_id":2951619,"display_name":"Alan Ho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682349605,"creation_date":1682095215,"answer_id":76075158,"question_id":67645961,"body_markdown":"It seems like jax-rs client is configured to send gzip data compression. If the client does not know how to deal with gzip compressed data, it returns 400.\r\n\r\nSolution would be disabling the gzip by calling `setGzipEnabled(false)` in `JerseyClientConfiguration.java`\r\n","title":"How to send a x-www-form-url-encoded request using jax-rs?","body":"<p>It seems like jax-rs client is configured to send gzip data compression. If the client does not know how to deal with gzip compressed data, it returns 400.</p>\n<p>Solution would be disabling the gzip by calling <code>setGzipEnabled(false)</code> in <code>JerseyClientConfiguration.java</code></p>\n"}],"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682349605,"creation_date":1621655602,"question_id":67645961,"body_markdown":"```\r\ncurl --location --request POST &#39;http://localhost:8080/api/7/run&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;start=1510630400000&#39; \\\r\n--data-urlencode &#39;end=1526092400000&#39;\r\n```\r\n\r\nThe above curl command works however I am trying to do the same using `javax.ws.rs` but I get 406 error. Below is my code\r\n\r\n```\r\n        Form form = new Form()\r\n            .param(&quot;start&quot;, &quot;1510630400000&quot;)\r\n            .param(&quot;end&quot;, &quot;1526092400000&quot;);\r\n\r\n        Response response = client.target(&quot;http://localhost:8080/api/7/run&quot;)\r\n                .request(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .accept(MediaType.TEXT_PLAIN)\r\n                .post(Entity.form(form));\r\n        assertThat(response.getStatus()).isEqualTo(200);","title":"How to send a x-www-form-url-encoded request using jax-rs?","body":"<pre><code>curl --location --request POST 'http://localhost:8080/api/7/run' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'start=1510630400000' \\\n--data-urlencode 'end=1526092400000'\n</code></pre>\n<p>The above curl command works however I am trying to do the same using <code>javax.ws.rs</code> but I get 406 error. Below is my code</p>\n<pre><code>        Form form = new Form()\n            .param(&quot;start&quot;, &quot;1510630400000&quot;)\n            .param(&quot;end&quot;, &quot;1526092400000&quot;);\n\n        Response response = client.target(&quot;http://localhost:8080/api/7/run&quot;)\n                .request(MediaType.APPLICATION_FORM_URLENCODED)\n                .accept(MediaType.TEXT_PLAIN)\n                .post(Entity.form(form));\n        assertThat(response.getStatus()).isEqualTo(200);\n</code></pre>\n"},{"tags":["java","google-maps","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1682035931,"post_id":76068191,"comment_id":134156588,"body_markdown":"It is probably not going to work, as commented on [your last question](https://stackoverflow.com/questions/76022664/how-to-route-between-several-markers-in-gmapsfx-javafx) and as answered in this [related question](https://stackoverflow.com/questions/75633283/gmapsfx-not-displaying-but-running/75668448#75668448)","body":"It is probably not going to work, as commented on <a href=\"https://stackoverflow.com/questions/76022664/how-to-route-between-several-markers-in-gmapsfx-javafx\">your last question</a> and as answered in this <a href=\"https://stackoverflow.com/questions/75633283/gmapsfx-not-displaying-but-running/75668448#75668448\">related question</a>"},{"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"score":0,"creation_date":1682060661,"post_id":76068191,"comment_id":134159257,"body_markdown":"oh, i understand. If so, can you recommend any other library that I can use in JavaFX to display the map? Where will I be able to display markers and define a route between points?","body":"oh, i understand. If so, can you recommend any other library that I can use in JavaFX to display the map? Where will I be able to display markers and define a route between points?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1682073340,"post_id":76068191,"comment_id":134161933,"body_markdown":"I commented on [your last question](https://stackoverflow.com/questions/76022664/how-to-route-between-several-markers-in-gmapsfx-javafx).","body":"I commented on <a href=\"https://stackoverflow.com/questions/76022664/how-to-route-between-several-markers-in-gmapsfx-javafx\">your last question</a>."}],"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682349002,"creation_date":1682023859,"question_id":76068191,"body_markdown":"I tried to implement routing between two markers in GMapsFX in my student application writed in Java/JavaFX. I don&#39;t get any error, I just get the message on the map: \r\n\r\n    This page can&#39;t load Google Maps correctly \r\n\r\nand in the console: \r\n\r\n    INFO com.dlsc.gmapsfx.GoogleMapView - Alert: Hide directions called.\r\n\r\n \r\nWhen instantiating a GoogleMapView I don&#39;t specify a key, I don&#39;t think it&#39;s required. Attach the code and the effect of the program below. Is anyone able to help?\r\n\r\n    public class Map implements MapComponentInitializedListener, DirectionsServiceCallback {\r\n    \r\n        protected GoogleMapView mapView;\r\n        protected GoogleMap map;\r\n        protected Marker marker;\r\n        protected MarkerOptions markerOptions;\r\n        protected DirectionsService directionsService;\r\n        protected DirectionsRenderer directionsRenderer = null;\r\n        protected DirectionsPane directionsPane;\r\n    \r\n        public Map() {\r\n            mapView = new GoogleMapView();\r\n            mapView.addMapInitializedListener(this);\r\n            markerOptions = new MarkerOptions();\r\n        }\r\n    \r\n        @Override\r\n        public void mapInitialized() {\r\n            MapOptions mapOptions = new MapOptions();\r\n          mapOptions.mapType(MapTypeIdEnum.ROADMAP).overviewMapControl(false).zoom(18).keyboardShortcuts(false);\r\n            map = mapView.createMap(mapOptions);\r\n            LatLong latLong = new LatLong(50.0650887, 19.9245536);\r\n            map.setCenter(latLong);\r\n    \r\n            directionsService = new DirectionsService();\r\n            directionsPane = mapView.getDirec();\r\n    \r\n            Marker marker1 = new Marker(markerOptions);\r\n            Marker marker2 = new Marker(markerOptions);\r\n            marker1.setPosition(new LatLong(50.0750887, 19.9345536));\r\n            marker2.setPosition(new LatLong(50.0850887, 19.9445536));\r\n            map.addMarker(marker1);\r\n    \r\n            DirectionsRequest directionsRequest = new DirectionsRequest(new LatLong(50.0750887, 19.9345536), new LatLong(50.0850887, 19.9445536), TravelModes.DRIVING, false);\r\n            directionsRenderer = new DirectionsRenderer(true, mapView.getMap(), directionsPane);\r\n            directionsService.getRoute(directionsRequest, this, directionsRenderer);\r\n        }\r\n    \r\n        @Override\r\n        public void directionsReceived(DirectionsResult results, DirectionStatus status) {\r\n            System.out.println(results);\r\n            System.out.println(status);\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOyZE.png\r\n  [2]: https://i.stack.imgur.com/glddX.png","title":"The route between two points is not displayed GmapsFX","body":"<p>I tried to implement routing between two markers in GMapsFX in my student application writed in Java/JavaFX. I don't get any error, I just get the message on the map:</p>\n<pre><code>This page can't load Google Maps correctly \n</code></pre>\n<p>and in the console:</p>\n<pre><code>INFO com.dlsc.gmapsfx.GoogleMapView - Alert: Hide directions called.\n</code></pre>\n<p>When instantiating a GoogleMapView I don't specify a key, I don't think it's required. Attach the code and the effect of the program below. Is anyone able to help?</p>\n<pre><code>public class Map implements MapComponentInitializedListener, DirectionsServiceCallback {\n\n    protected GoogleMapView mapView;\n    protected GoogleMap map;\n    protected Marker marker;\n    protected MarkerOptions markerOptions;\n    protected DirectionsService directionsService;\n    protected DirectionsRenderer directionsRenderer = null;\n    protected DirectionsPane directionsPane;\n\n    public Map() {\n        mapView = new GoogleMapView();\n        mapView.addMapInitializedListener(this);\n        markerOptions = new MarkerOptions();\n    }\n\n    @Override\n    public void mapInitialized() {\n        MapOptions mapOptions = new MapOptions();\n      mapOptions.mapType(MapTypeIdEnum.ROADMAP).overviewMapControl(false).zoom(18).keyboardShortcuts(false);\n        map = mapView.createMap(mapOptions);\n        LatLong latLong = new LatLong(50.0650887, 19.9245536);\n        map.setCenter(latLong);\n\n        directionsService = new DirectionsService();\n        directionsPane = mapView.getDirec();\n\n        Marker marker1 = new Marker(markerOptions);\n        Marker marker2 = new Marker(markerOptions);\n        marker1.setPosition(new LatLong(50.0750887, 19.9345536));\n        marker2.setPosition(new LatLong(50.0850887, 19.9445536));\n        map.addMarker(marker1);\n\n        DirectionsRequest directionsRequest = new DirectionsRequest(new LatLong(50.0750887, 19.9345536), new LatLong(50.0850887, 19.9445536), TravelModes.DRIVING, false);\n        directionsRenderer = new DirectionsRenderer(true, mapView.getMap(), directionsPane);\n        directionsService.getRoute(directionsRequest, this, directionsRenderer);\n    }\n\n    @Override\n    public void directionsReceived(DirectionsResult results, DirectionStatus status) {\n        System.out.println(results);\n        System.out.println(status);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wOyZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOyZE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/glddX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/glddX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","templates","jar","classpath","velocity"],"comments":[{"owner":{"account_id":73747,"reputation":5497,"user_id":212215,"accept_rate":87,"display_name":"vicatcu"},"score":3,"creation_date":1275071315,"post_id":2931516,"comment_id":2985236,"body_markdown":"for the love of god, highlight the code in your post and click the code button so that its formatted properly! :)","body":"for the love of god, highlight the code in your post and click the code button so that its formatted properly! :)"},{"owner":{"account_id":73747,"reputation":5497,"user_id":212215,"accept_rate":87,"display_name":"vicatcu"},"score":1,"creation_date":1275071360,"post_id":2931516,"comment_id":2985240,"body_markdown":"Are you quite certain that the /templates/ directory is getting exported into your jar? You have to mark it as part of your build settings and stuff.","body":"Are you quite certain that the /templates/ directory is getting exported into your jar? You have to mark it as part of your build settings and stuff."},{"owner":{"account_id":39604,"reputation":2393,"user_id":114311,"accept_rate":75,"display_name":"Rafael"},"score":0,"creation_date":1275071741,"post_id":2931516,"comment_id":2985282,"body_markdown":"didn&#39;t known about the code button, thanks. Yes, the templates dir is getting into the jar file.","body":"didn&#39;t known about the code button, thanks. Yes, the templates dir is getting into the jar file."}],"answers":[{"comments":[{"owner":{"account_id":39604,"reputation":2393,"user_id":114311,"accept_rate":75,"display_name":"Rafael"},"score":0,"creation_date":1275079712,"post_id":2932187,"comment_id":2986249,"body_markdown":"I will test it! do you know where I can find documentation to each RuntimeContants and its possible values?","body":"I will test it! do you know where I can find documentation to each RuntimeContants and its possible values?"},{"owner":{"account_id":39604,"reputation":2393,"user_id":114311,"accept_rate":75,"display_name":"Rafael"},"score":0,"creation_date":1275080216,"post_id":2932187,"comment_id":2986316,"body_markdown":"Couldn&#39;t make it work, it doesn&#39;t find the file in neither eclipse nor in the jar.","body":"Couldn&#39;t make it work, it doesn&#39;t find the file in neither eclipse nor in the jar."},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1275082102,"post_id":2932187,"comment_id":2986547,"body_markdown":"@Rafael: Fixed. `ClasspathResourceLoader` is not registered by default.","body":"@Rafael: Fixed. <code>ClasspathResourceLoader</code> is not registered by default."},{"owner":{"account_id":39604,"reputation":2393,"user_id":114311,"accept_rate":75,"display_name":"Rafael"},"score":0,"creation_date":1275313300,"post_id":2932187,"comment_id":2999624,"body_markdown":"Thanks, it did work when I used this along with the idea presented by ZZ Coder below.","body":"Thanks, it did work when I used this along with the idea presented by ZZ Coder below."},{"owner":{"account_id":1877879,"reputation":8454,"user_id":1698695,"accept_rate":63,"display_name":"David Williams"},"score":0,"creation_date":1379870549,"post_id":2932187,"comment_id":27978385,"body_markdown":"Works as written with v 1.7.  Thanks.  `        VelocityEngine ve = new VelocityEngine();\n\n        ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\n        ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\n\n        ve.init();\n`","body":"Works as written with v 1.7.  Thanks.  `        VelocityEngine ve = new VelocityEngine();          ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);         ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());          ve.init(); `"},{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1425481848,"post_id":2932187,"comment_id":45981617,"body_markdown":"Also look at ve.evaluate(..) which allows a java.io.Reader to be passed","body":"Also look at ve.evaluate(..) which allows a java.io.Reader to be passed"},{"owner":{"account_id":417955,"reputation":18564,"user_id":794242,"accept_rate":80,"display_name":"Wand Maker"},"score":1,"creation_date":1460971425,"post_id":2932187,"comment_id":60968482,"body_markdown":"It is unfortunate that [Javadocs of ClasspathResourceLoader](https://velocity.apache.org/engine/devel/apidocs/org/apache/velocity/runtime/resource/loader/ClasspathResourceLoader.html) wrongly says that resource loader value should be &quot;class&quot; - I tried that and it did not work, only to discover later that it should be &quot;classpath&quot; as mentioned in this answer","body":"It is unfortunate that <a href=\"https://velocity.apache.org/engine/devel/apidocs/org/apache/velocity/runtime/resource/loader/ClasspathResourceLoader.html\" rel=\"nofollow noreferrer\">Javadocs of ClasspathResourceLoader</a> wrongly says that resource loader value should be &quot;class&quot; - I tried that and it did not work, only to discover later that it should be &quot;classpath&quot; as mentioned in this answer"}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":7,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1682348427,"creation_date":1275077883,"answer_id":2932187,"question_id":2931516,"body_markdown":"If you want to use resources from classpath, you should use resource loader for classpath:\r\n\r\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;); \r\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\r\n    ve.init();","title":"Loading velocity template inside a jar file","body":"<p>If you want to use resources from classpath, you should use resource loader for classpath:</p>\n<pre><code>ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;); \nve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\nve.init();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1275080150,"creation_date":1275080150,"answer_id":2932464,"question_id":2931516,"body_markdown":"Unless JAR is exploded, you can&#39;t read the resource in JAR as file. Use an input stream.\r\n\r\nSee following code snippets,\r\n\r\n\t\tInputStream input = classLoader.getResourceAsStream(fileName);\r\n\t\tif (input == null) {\r\n\t\t\tthrow new ConfigurationException(&quot;Template file &quot; +\r\n\t\t\t\t\tfileName + &quot; doesn&#39;t exist&quot;);\t\t\t\r\n\t\t}\r\n\t\r\n\t\tInputStreamReader reader = new InputStreamReader(input);\t        \r\n\t        Writer writer = null;\r\n\t    \r\n\t        try {\r\n\t    \t    writer = new OutputStreamWriter(output);\t\t\r\n\t\r\n\t    \t    // Merge template\r\n\t            if (!engine.evaluate(context, writer, fileName, reader)) \r\n                    ......\r\n\r\n","title":"Loading velocity template inside a jar file","body":"<p>Unless JAR is exploded, you can't read the resource in JAR as file. Use an input stream.</p>\n\n<p>See following code snippets,</p>\n\n<pre><code>    InputStream input = classLoader.getResourceAsStream(fileName);\n    if (input == null) {\n        throw new ConfigurationException(\"Template file \" +\n                fileName + \" doesn't exist\");           \n    }\n\n    InputStreamReader reader = new InputStreamReader(input);            \n        Writer writer = null;\n\n        try {\n            writer = new OutputStreamWriter(output);        \n\n            // Merge template\n            if (!engine.evaluate(context, writer, fileName, reader)) \n                ......\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2176,"reputation":5960,"user_id":2992,"display_name":"Argelbargel"},"score":0,"creation_date":1308873394,"post_id":2943909,"comment_id":7591074,"body_markdown":"Thank you, this helped me a great deal! Might be that my adapation works just a bit different, but using VelocityEngine#evaluate(...), I could leave out the instantiation of the Template and the call to Template#merge(...)","body":"Thank you, this helped me a great deal! Might be that my adapation works just a bit different, but using VelocityEngine#evaluate(...), I could leave out the instantiation of the Template and the call to Template#merge(...)"},{"owner":{"account_id":2422126,"reputation":15525,"user_id":2114871,"accept_rate":95,"display_name":"iberbeu"},"score":0,"creation_date":1418289905,"post_id":2943909,"comment_id":43281587,"body_markdown":"works like a charm. The RuntimeInstance solved my problem allowing me to load the template in my bundle. Best solution for OSGI","body":"works like a charm. The RuntimeInstance solved my problem allowing me to load the template in my bundle. Best solution for OSGI"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1576242411,"post_id":2943909,"comment_id":104845994,"body_markdown":"This solution worked well, except I did not need the merge part at the end.","body":"This solution worked well, except I did not need the merge part at the end."}],"tags":[],"owner":{"account_id":39604,"reputation":2393,"user_id":114311,"accept_rate":75,"display_name":"Rafael"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1528913549,"creation_date":1275313418,"answer_id":2943909,"question_id":2931516,"body_markdown":"Final code, developed using the ideas presented in both answers above:\r\n\r\n\r\n    VelocityEngine ve = new VelocityEngine();\r\n\tve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n\tve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\r\n\r\n\tve.init();\r\n\r\n\tfinal String templatePath = &quot;templates/&quot; + templateName + &quot;.vm&quot;;\r\n\tInputStream input = this.getClass().getClassLoader().getResourceAsStream(templatePath);\r\n\tif (input == null) {\r\n\t\tthrow new IOException(&quot;Template file doesn&#39;t exist&quot;);\r\n\t}\r\n\r\n\tInputStreamReader reader = new InputStreamReader(input);\r\n\r\n\tVelocityContext context = new VelocityContext();\r\n\r\n\tif (properties != null) {\r\n\t\tstringfyNulls(properties);\r\n\t\tfor (Map.Entry&lt;String, Object&gt; property : properties.entrySet()) {\r\n\t\t\tcontext.put(property.getKey(), property.getValue());\r\n\t\t}\r\n\t}\r\n\r\n\tTemplate template = ve.getTemplate(templatePath, &quot;UTF-8&quot;);\r\n\tString outFileName = File.createTempFile(&quot;report&quot;, &quot;.html&quot;).getAbsolutePath();\r\n\tBufferedWriter writer = new BufferedWriter(new FileWriter(new File(outFileName)));\r\n\r\n\tif (!ve.evaluate(context, writer, templatePath, reader)) {\r\n\t\tthrow new Exception(&quot;Failed to convert the template into html.&quot;);\r\n\t}\r\n\r\n\ttemplate.merge(context, writer);\r\n\r\n\twriter.flush();\r\n\twriter.close();","title":"Loading velocity template inside a jar file","body":"<p>Final code, developed using the ideas presented in both answers above:</p>\n\n<pre><code>VelocityEngine ve = new VelocityEngine();\nve.setProperty(RuntimeConstants.RESOURCE_LOADER, \"classpath\");\nve.setProperty(\"classpath.resource.loader.class\", ClasspathResourceLoader.class.getName());\n\nve.init();\n\nfinal String templatePath = \"templates/\" + templateName + \".vm\";\nInputStream input = this.getClass().getClassLoader().getResourceAsStream(templatePath);\nif (input == null) {\n    throw new IOException(\"Template file doesn't exist\");\n}\n\nInputStreamReader reader = new InputStreamReader(input);\n\nVelocityContext context = new VelocityContext();\n\nif (properties != null) {\n    stringfyNulls(properties);\n    for (Map.Entry&lt;String, Object&gt; property : properties.entrySet()) {\n        context.put(property.getKey(), property.getValue());\n    }\n}\n\nTemplate template = ve.getTemplate(templatePath, \"UTF-8\");\nString outFileName = File.createTempFile(\"report\", \".html\").getAbsolutePath();\nBufferedWriter writer = new BufferedWriter(new FileWriter(new File(outFileName)));\n\nif (!ve.evaluate(context, writer, templatePath, reader)) {\n    throw new Exception(\"Failed to convert the template into html.\");\n}\n\ntemplate.merge(context, writer);\n\nwriter.flush();\nwriter.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":32077,"reputation":3032,"user_id":88588,"accept_rate":100,"display_name":"Samuel Parkinson"},"score":10,"creation_date":1348685886,"post_id":12608444,"comment_id":16996404,"body_markdown":"I think you&#39;re a bit late to the party.","body":"I think you&#39;re a bit late to the party."}],"tags":[],"owner":{"account_id":1881019,"reputation":55,"user_id":1701222,"display_name":"Mahesh Lavannis"},"comment_count":1,"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1348685413,"creation_date":1348685413,"answer_id":12608444,"question_id":2931516,"body_markdown":"To make Velocity look for the templates in classpath:\r\n\r\n    VelocityEngine ve = new VelocityEngine();\r\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;,ClasspathResourceLoader.class.getName());\r\n    ve.init();\r\n","title":"Loading velocity template inside a jar file","body":"<p>To make Velocity look for the templates in classpath:</p>\n\n<pre><code>VelocityEngine ve = new VelocityEngine();\nve.setProperty(RuntimeConstants.RESOURCE_LOADER, \"classpath\");\nve.setProperty(\"classpath.resource.loader.class\",ClasspathResourceLoader.class.getName());\nve.init();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2839394,"reputation":3441,"user_id":2439283,"display_name":"Ignacio Tomas Crespo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555459880,"creation_date":1555459880,"answer_id":55718180,"question_id":2931516,"body_markdown":"Maybe I have an old version, this is the only thing that worked for me\r\n\r\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;class&quot;); \r\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;, \r\n    ClasspathResourceLoader.class.getName());","title":"Loading velocity template inside a jar file","body":"<p>Maybe I have an old version, this is the only thing that worked for me</p>\n\n<pre><code>ve.setProperty(RuntimeConstants.RESOURCE_LOADER, \"class\"); \nve.setProperty(\"classpath.resource.loader.class\", \nClasspathResourceLoader.class.getName());\n</code></pre>\n"}],"owner":{"account_id":39604,"reputation":2393,"user_id":114311,"accept_rate":75,"display_name":"Rafael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41856,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":2932187,"answer_count":5,"score":52,"last_activity_date":1682348427,"creation_date":1275070933,"question_id":2931516,"body_markdown":"I have a project where I want to load a velocity template to complete it with parameters. The whole application is packaged as a jar file. What I initially thought of doing was this:\r\n\r\n    VelocityEngine ve = new VelocityEngine();\r\n    \r\n       URL url = this.getClass().getResource(&quot;/templates/&quot;);\r\n    \r\n       File file = new File(url.getFile());\r\n    \r\n       ve = new VelocityEngine();\r\n       ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;file&quot;);\r\n       ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_PATH, file.getAbsolutePath());\r\n       ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_CACHE, &quot;true&quot;);\r\n    \r\n       ve.init();\r\n    \r\n       VelocityContext context = new VelocityContext();\r\n    \r\n       if (properties != null) {\r\n        stringfyNulls(properties);\r\n        for (Map.Entry&lt;String, Object&gt; property : properties.entrySet()) {\r\n         context.put(property.getKey(), property.getValue());\r\n        }\r\n       }\r\n    \r\n       final String templatePath = templateName + &quot;.vm&quot;;\r\n       Template template = ve.getTemplate(templatePath, &quot;UTF-8&quot;);\r\n       String outFileName = File.createTempFile(&quot;report&quot;, &quot;.html&quot;).getAbsolutePath();\r\n       BufferedWriter writer = new BufferedWriter(new FileWriter(new File(outFileName)));\r\n    \r\n       template.merge(context, writer);\r\n    \r\n       writer.flush();\r\n       writer.close();\r\n\r\nAnd this works fine when I run it in eclipse. However, once I package the program and try to run it using the command line I get an error because the file could not be found.\r\n\r\nI imagine the problem is in this line:\r\n\r\n    ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_PATH, file.getAbsolutePath());\r\n\r\nBecause in a jar the absolute file does not exist, since it&#39;s inside a zip, but I couldn&#39;t yet find a better way to do it.\r\n\r\nAnyone has any ideas?\r\n\r\n","title":"Loading velocity template inside a jar file","body":"<p>I have a project where I want to load a velocity template to complete it with parameters. The whole application is packaged as a jar file. What I initially thought of doing was this:</p>\n\n<pre><code>VelocityEngine ve = new VelocityEngine();\n\n   URL url = this.getClass().getResource(\"/templates/\");\n\n   File file = new File(url.getFile());\n\n   ve = new VelocityEngine();\n   ve.setProperty(RuntimeConstants.RESOURCE_LOADER, \"file\");\n   ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_PATH, file.getAbsolutePath());\n   ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_CACHE, \"true\");\n\n   ve.init();\n\n   VelocityContext context = new VelocityContext();\n\n   if (properties != null) {\n    stringfyNulls(properties);\n    for (Map.Entry&lt;String, Object&gt; property : properties.entrySet()) {\n     context.put(property.getKey(), property.getValue());\n    }\n   }\n\n   final String templatePath = templateName + \".vm\";\n   Template template = ve.getTemplate(templatePath, \"UTF-8\");\n   String outFileName = File.createTempFile(\"report\", \".html\").getAbsolutePath();\n   BufferedWriter writer = new BufferedWriter(new FileWriter(new File(outFileName)));\n\n   template.merge(context, writer);\n\n   writer.flush();\n   writer.close();\n</code></pre>\n\n<p>And this works fine when I run it in eclipse. However, once I package the program and try to run it using the command line I get an error because the file could not be found.</p>\n\n<p>I imagine the problem is in this line:</p>\n\n<pre><code>ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_PATH, file.getAbsolutePath());\n</code></pre>\n\n<p>Because in a jar the absolute file does not exist, since it's inside a zip, but I couldn't yet find a better way to do it.</p>\n\n<p>Anyone has any ideas?</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","tomcat9"],"answers":[{"comments":[{"owner":{"account_id":16075172,"reputation":1,"user_id":11602536,"display_name":"CDTN2015"},"score":0,"creation_date":1682304290,"post_id":76085675,"comment_id":134188811,"body_markdown":"Thank you for your answer. I understand how this warning is generated, but is there any way to see what caused the Acceptor did not stop immediately? The 10-second wait every time I restart the project is long.","body":"Thank you for your answer. I understand how this warning is generated, but is there any way to see what caused the Acceptor did not stop immediately? The 10-second wait every time I restart the project is long."},{"owner":{"account_id":4820668,"reputation":1,"user_id":3891437,"display_name":"user3891437"},"score":0,"creation_date":1682330070,"post_id":76085675,"comment_id":134192492,"body_markdown":"Are there some requests which is running ,when you  shutdown it.","body":"Are there some requests which is running ,when you  shutdown it."}],"tags":[],"owner":{"account_id":4820668,"reputation":1,"user_id":3891437,"display_name":"user3891437"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682263063,"creation_date":1682263063,"answer_id":76085675,"question_id":76085184,"body_markdown":"Acceptor.java:\r\n    /**\r\n     * Signals the Acceptor to stop, waiting at most 10 seconds for the stop to\r\n     * complete before returning. If the stop does not complete in that time a\r\n     * warning will be logged.\r\n     *\r\n     * @deprecated This method will be removed in Tomcat 10.1.x onwards.\r\n     *             Use {@link #stop(int)} instead.\r\n     */\r\n    @Deprecated\r\n    public void stop() {\r\n        stop(10);\r\n    }\r\n\r\n\r\n    /**\r\n     * Signals the Acceptor to stop, optionally waiting for that stop process\r\n     * to complete before returning. If a wait is requested and the stop does\r\n     * not complete in that time a warning will be logged.\r\n     *\r\n     * @param waitSeconds The time to wait in seconds. Use a value less than\r\n     *                    zero for no wait.\r\n     */\r\n    public void stop(int waitSeconds) {\r\n        stopCalled = true;\r\n        if (waitSeconds &gt; 0) {\r\n            try {\r\n                if (!stopLatch.await(waitSeconds, TimeUnit.SECONDS)) {\r\n                   log.warn(sm.getString(&quot;acceptor.stop.fail&quot;, getThreadName()));\r\n                }\r\n            } catch (InterruptedException e) {\r\n                log.warn(sm.getString(&quot;acceptor.stop.interrupted&quot;, getThreadName()), e);\r\n            }\r\n        }\r\n    }\r\n\r\nwhen you shutdown the tomcat,then the Acceptor exeucte stop()-&gt;stop(10).\r\nIn the stop(10), if tomcat not stoped after 10s,it will print the warn log.\r\n","title":"Tomcat gives a warning “The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly” when I shut it down","body":"<p>Acceptor.java:\n/**\n* Signals the Acceptor to stop, waiting at most 10 seconds for the stop to\n* complete before returning. If the stop does not complete in that time a\n* warning will be logged.\n*\n* @deprecated This method will be removed in Tomcat 10.1.x onwards.\n*             Use {@link #stop(int)} instead.\n*/\n@Deprecated\npublic void stop() {\nstop(10);\n}</p>\n<pre><code>/**\n * Signals the Acceptor to stop, optionally waiting for that stop process\n * to complete before returning. If a wait is requested and the stop does\n * not complete in that time a warning will be logged.\n *\n * @param waitSeconds The time to wait in seconds. Use a value less than\n *                    zero for no wait.\n */\npublic void stop(int waitSeconds) {\n    stopCalled = true;\n    if (waitSeconds &gt; 0) {\n        try {\n            if (!stopLatch.await(waitSeconds, TimeUnit.SECONDS)) {\n               log.warn(sm.getString(&quot;acceptor.stop.fail&quot;, getThreadName()));\n            }\n        } catch (InterruptedException e) {\n            log.warn(sm.getString(&quot;acceptor.stop.interrupted&quot;, getThreadName()), e);\n        }\n    }\n}\n</code></pre>\n<p>when you shutdown the tomcat,then the Acceptor exeucte stop()-&gt;stop(10).\nIn the stop(10), if tomcat not stoped after 10s,it will print the warn log.</p>\n"},{"tags":[],"owner":{"account_id":16075172,"reputation":1,"user_id":11602536,"display_name":"CDTN2015"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682347872,"creation_date":1682347872,"answer_id":76093204,"question_id":76085184,"body_markdown":"OMG, I finally find the reason, ClashX system proxy...no wonder I couldn&#39;t find any same problem on Google.","title":"Tomcat gives a warning “The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly” when I shut it down","body":"<p>OMG, I finally find the reason, ClashX system proxy...no wonder I couldn't find any same problem on Google.</p>\n"}],"owner":{"account_id":16075172,"reputation":1,"user_id":11602536,"display_name":"CDTN2015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682347872,"creation_date":1682257110,"question_id":76085184,"body_markdown":"I started tomcat in the terminal and then shut it down by using &quot;catalina.sh stop&quot;. The console showed these contents. This problem makes me spend 10 more seconds every time restart Tomcat.\r\n\r\n```\r\n/Users/matrix/Tomact/apache-tomcat-9.0.74/bin/catalina.sh run\r\n[2023-04-23 08:52:16,965] Artifact demo:war exploded: Waiting for server connection to start artifact deployment...\r\n23-Apr-2023 20:52:17.539 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.74\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 13 2023 08:10:39 UTC\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.74.0\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            13.2.1\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          x86_64\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk/Contents/Home/jre\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_361-b09\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28\r\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/matrix/Tomact/apache-tomcat-9.0.74\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28/conf/logging.properties\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Duser.language=en\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Duser.region=CA\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.jnu.encoding=UTF-8\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.password.file=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28/jmxremote.password\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.access.file=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28/jmxremote.access\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28\r\n23-Apr-2023 20:52:17.542 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/matrix/Tomact/apache-tomcat-9.0.74\r\n23-Apr-2023 20:52:17.542 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/matrix/Tomact/apache-tomcat-9.0.74/temp\r\n23-Apr-2023 20:52:17.549 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/matrix/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\r\n23-Apr-2023 20:52:18.002 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n23-Apr-2023 20:52:18.038 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [660] milliseconds\r\n23-Apr-2023 20:52:18.071 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n23-Apr-2023 20:52:18.071 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.74]\r\n23-Apr-2023 20:52:18.082 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n23-Apr-2023 20:52:18.090 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [51] milliseconds\r\nConnected to server\r\n[2023-04-23 08:52:18,565] Artifact demo:war exploded: Artifact is being deployed, please wait...\r\n23-Apr-2023 20:52:19.634 INFO [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n[2023-04-23 08:52:20,677] Artifact demo:war exploded: Artifact is deployed successfully\r\n[2023-04-23 08:52:20,677] Artifact demo:war exploded: Deploy took 2,112 milliseconds\r\n/Users/matrix/Tomact/apache-tomcat-9.0.74/bin/catalina.sh stop\r\n23-Apr-2023 20:52:25.735 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\r\n23-Apr-2023 20:52:25.736 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n23-Apr-2023 20:52:26.745 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\n23-Apr-2023 20:52:26.762 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\n23-Apr-2023 20:52:36.763 WARNING [main] org.apache.tomcat.util.net.Acceptor.stop The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly\r\n23-Apr-2023 20:52:36.768 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\nDisconnected from server\r\n```\r\n\r\nI tried Google but there were no similar results. I restarted the device, reinstalled, used homebrew and the official compressed package. But both version 9 and 10 had similar problems.\r\nHas anyone encountered the similar problem? Is there any way to solve this problem, let me know the specific location where the Acceptor thread runs, give me some guidance on how to troubleshoot related thread issues.\r\nI look forward to and appreciate your guidance.","title":"Tomcat gives a warning “The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly” when I shut it down","body":"<p>I started tomcat in the terminal and then shut it down by using &quot;catalina.sh stop&quot;. The console showed these contents. This problem makes me spend 10 more seconds every time restart Tomcat.</p>\n<pre><code>/Users/matrix/Tomact/apache-tomcat-9.0.74/bin/catalina.sh run\n[2023-04-23 08:52:16,965] Artifact demo:war exploded: Waiting for server connection to start artifact deployment...\n23-Apr-2023 20:52:17.539 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.74\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 13 2023 08:10:39 UTC\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.74.0\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            13.2.1\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          x86_64\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk/Contents/Home/jre\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_361-b09\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28\n23-Apr-2023 20:52:17.540 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/matrix/Tomact/apache-tomcat-9.0.74\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28/conf/logging.properties\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Duser.language=en\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Duser.region=CA\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.jnu.encoding=UTF-8\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.password.file=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28/jmxremote.password\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.access.file=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28/jmxremote.access\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n23-Apr-2023 20:52:17.541 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/matrix/Library/Caches/JetBrains/IntelliJIdea2023.1/tomcat/afa48016-c355-45c8-95a5-690d57a1db28\n23-Apr-2023 20:52:17.542 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/matrix/Tomact/apache-tomcat-9.0.74\n23-Apr-2023 20:52:17.542 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/matrix/Tomact/apache-tomcat-9.0.74/temp\n23-Apr-2023 20:52:17.549 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/matrix/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\n23-Apr-2023 20:52:18.002 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n23-Apr-2023 20:52:18.038 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [660] milliseconds\n23-Apr-2023 20:52:18.071 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n23-Apr-2023 20:52:18.071 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.74]\n23-Apr-2023 20:52:18.082 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n23-Apr-2023 20:52:18.090 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [51] milliseconds\nConnected to server\n[2023-04-23 08:52:18,565] Artifact demo:war exploded: Artifact is being deployed, please wait...\n23-Apr-2023 20:52:19.634 INFO [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[2023-04-23 08:52:20,677] Artifact demo:war exploded: Artifact is deployed successfully\n[2023-04-23 08:52:20,677] Artifact demo:war exploded: Deploy took 2,112 milliseconds\n/Users/matrix/Tomact/apache-tomcat-9.0.74/bin/catalina.sh stop\n23-Apr-2023 20:52:25.735 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\n23-Apr-2023 20:52:25.736 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n23-Apr-2023 20:52:26.745 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\n23-Apr-2023 20:52:26.762 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\n23-Apr-2023 20:52:36.763 WARNING [main] org.apache.tomcat.util.net.Acceptor.stop The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly\n23-Apr-2023 20:52:36.768 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\nDisconnected from server\n</code></pre>\n<p>I tried Google but there were no similar results. I restarted the device, reinstalled, used homebrew and the official compressed package. But both version 9 and 10 had similar problems.\nHas anyone encountered the similar problem? Is there any way to solve this problem, let me know the specific location where the Acceptor thread runs, give me some guidance on how to troubleshoot related thread issues.\nI look forward to and appreciate your guidance.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682348096,"post_id":76093095,"comment_id":134196826,"body_markdown":"What is the condition to have a different view? The position in the array?","body":"What is the condition to have a different view? The position in the array?"},{"owner":{"account_id":7844745,"reputation":33,"user_id":5930176,"display_name":"Kundan Kumar"},"score":0,"creation_date":1682348697,"post_id":76093095,"comment_id":134196979,"body_markdown":"here, we can say, for example. age is lesser than 23. we don&#39;t want to include them in our response.","body":"here, we can say, for example. age is lesser than 23. we don&#39;t want to include them in our response."}],"owner":{"account_id":7844745,"reputation":33,"user_id":5930176,"display_name":"Kundan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682347251,"creation_date":1682347251,"question_id":76093095,"body_markdown":"I am trying to get a list of object in response using rest-controller. But I want to apply different-different json view on each element of response list based on some condition in my java code. \r\n\r\nFor example:\r\n```\r\nclass Emp{\r\n   int id;\r\n   String name;\r\n   int age;\r\n}\r\n```\r\nRequired response \r\n```\r\n[{\r\n  1, &quot;KK&quot;,23\r\n},\r\n{2,&quot;PK&quot;\r\n},\r\n{ 3, &quot;CK&quot;\r\n},]\r\n```\r\nYou can see above that, in second and third object, there is not age, but in first, we have. I need response as above.\r\n\r\nPlease help me to solve it.","title":"How to apply different jsonview on each element of arraylist java","body":"<p>I am trying to get a list of object in response using rest-controller. But I want to apply different-different json view on each element of response list based on some condition in my java code.</p>\n<p>For example:</p>\n<pre><code>class Emp{\n   int id;\n   String name;\n   int age;\n}\n</code></pre>\n<p>Required response</p>\n<pre><code>[{\n  1, &quot;KK&quot;,23\n},\n{2,&quot;PK&quot;\n},\n{ 3, &quot;CK&quot;\n},]\n</code></pre>\n<p>You can see above that, in second and third object, there is not age, but in first, we have. I need response as above.</p>\n<p>Please help me to solve it.</p>\n"},{"tags":["java","gradle","jetbrains-ide","jetbrains-fleet"],"comments":[{"owner":{"account_id":12214748,"reputation":346,"user_id":8915530,"display_name":"COleson"},"score":0,"creation_date":1666492656,"post_id":74070582,"comment_id":130949179,"body_markdown":"To me, it looks like there may be an issue with the JDK version that is set in your JAVA_HOME setting/environment variables. You may wish to check there and/or configure the Fleet JDK settings for your project.","body":"To me, it looks like there may be an issue with the JDK version that is set in your JAVA_HOME setting/environment variables. You may wish to check there and/or configure the Fleet JDK settings for your project."}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682346702,"creation_date":1682346702,"answer_id":76093009,"question_id":74070582,"body_markdown":"By default, Fleet uses the JDK from your `JAVA_HOME` environment variable. Before proceeding, make sure it is configured in your environment. Otherwise, you can [configure a custom JDK for your project](https://www.jetbrains.com/help/fleet/getting-started-with-java-in-fleet.html#configure-jdk) as shown in the documentation.\r\n\r\nAlso, the &quot;java.home&quot; property in `.fleet/settings.json` [user settings file](https://www.jetbrains.com/help/fleet/settings.html#user-settings) should help.\r\n\r\nPlease see a [documentation](https://www.jetbrains.com/help/fleet/getting-started-with-java-in-fleet.html#7115876c) for more details.","title":"Fleet: Invalid Gradle JDK configuration found","body":"<p>By default, Fleet uses the JDK from your <code>JAVA_HOME</code> environment variable. Before proceeding, make sure it is configured in your environment. Otherwise, you can <a href=\"https://www.jetbrains.com/help/fleet/getting-started-with-java-in-fleet.html#configure-jdk\" rel=\"nofollow noreferrer\">configure a custom JDK for your project</a> as shown in the documentation.</p>\n<p>Also, the &quot;java.home&quot; property in <code>.fleet/settings.json</code> <a href=\"https://www.jetbrains.com/help/fleet/settings.html#user-settings\" rel=\"nofollow noreferrer\">user settings file</a> should help.</p>\n<p>Please see a <a href=\"https://www.jetbrains.com/help/fleet/getting-started-with-java-in-fleet.html#7115876c\" rel=\"nofollow noreferrer\">documentation</a> for more details.</p>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1682346702,"creation_date":1665756802,"question_id":74070582,"body_markdown":"When I&#39;m using JetBrains Fleet and open the Java project Gradle configuration file `build.gradle` it shows an error:\r\n\r\n&gt;Invalid Gradle JDK configuration found. `&lt;a href=&#39;#open_external_system_settings&#39;&gt;Open Gradle Settings&lt;/a&gt;`\r\n\r\n```\r\ncom.intellij.openapi.externalSystem.service.execution.ExternalSystemJdkException: Invalid Gradle JDK configuration found. &lt;a href=&#39;#open_external_system_settings&#39;&gt;Open Gradle Settings&lt;/a&gt; \r\n    \r\n    \tat org.jetbrains.plugins.gradle.service.execution.LocalGradleExecutionAware.jdkConfigurationException(LocalGradleExecutionAware.kt:184)\r\n    \tat org.jetbrains.plugins.gradle.service.execution.LocalGradleExecutionAware.prepareJvmForExecution(LocalGradleExecutionAware.kt:122)\r\n    \tat org.jetbrains.plugins.gradle.service.execution.LocalGradleExecutionAware.prepareExecution(LocalGradleExecutionAware.kt:62)\r\n    \tat com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:90)\r\n    \tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:151)\r\n    \tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:135)\r\n    \tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.executeImpl(ExternalSystemUtil.java:496)\r\n    \tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.lambda$execute$0(ExternalSystemUtil.java:327)\r\n    \tat com.intellij.openapi.project.DumbServiceHeavyActivities.suspendIndexingAndRun(DumbServiceHeavyActivities.java:21)\r\n    \tat com.intellij.openapi.project.DumbServiceImpl.suspendIndexingAndRun(DumbServiceImpl.java:186)\r\n    \tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.execute(ExternalSystemUtil.java:327)\r\n    \tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4.run(ExternalSystemUtil.java:619)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:424)\r\n    \tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsynchronously$6(CoreProgressManager.java:475)\r\n    \tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:188)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:590)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:665)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:621)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:589)\r\n    \tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:175)\r\n    \tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n    \tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nHow to configure Gradle JDK in JetBrains Fleet?\r\n","title":"Fleet: Invalid Gradle JDK configuration found","body":"<p>When I'm using JetBrains Fleet and open the Java project Gradle configuration file <code>build.gradle</code> it shows an error:</p>\n<blockquote>\n<p>Invalid Gradle JDK configuration found. <code>&lt;a href='#open_external_system_settings'&gt;Open Gradle Settings&lt;/a&gt;</code></p>\n</blockquote>\n<pre><code>com.intellij.openapi.externalSystem.service.execution.ExternalSystemJdkException: Invalid Gradle JDK configuration found. &lt;a href='#open_external_system_settings'&gt;Open Gradle Settings&lt;/a&gt; \n    \n        at org.jetbrains.plugins.gradle.service.execution.LocalGradleExecutionAware.jdkConfigurationException(LocalGradleExecutionAware.kt:184)\n        at org.jetbrains.plugins.gradle.service.execution.LocalGradleExecutionAware.prepareJvmForExecution(LocalGradleExecutionAware.kt:122)\n        at org.jetbrains.plugins.gradle.service.execution.LocalGradleExecutionAware.prepareExecution(LocalGradleExecutionAware.kt:62)\n        at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:90)\n        at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:151)\n        at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:135)\n        at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.executeImpl(ExternalSystemUtil.java:496)\n        at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.lambda$execute$0(ExternalSystemUtil.java:327)\n        at com.intellij.openapi.project.DumbServiceHeavyActivities.suspendIndexingAndRun(DumbServiceHeavyActivities.java:21)\n        at com.intellij.openapi.project.DumbServiceImpl.suspendIndexingAndRun(DumbServiceImpl.java:186)\n        at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.execute(ExternalSystemUtil.java:327)\n        at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4.run(ExternalSystemUtil.java:619)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:424)\n        at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsynchronously$6(CoreProgressManager.java:475)\n        at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:188)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:590)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:665)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:621)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:589)\n        at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\n        at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:175)\n        at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>How to configure Gradle JDK in JetBrains Fleet?</p>\n"},{"tags":["java","string","indexof","lastindexof"],"comments":[{"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"score":1,"creation_date":1509159474,"post_id":46985701,"comment_id":80918781,"body_markdown":"If you look at the implementation of indexOf, I&#39;d be willing to bet you&#39;d find a loop. The advantage of using it would be that you don&#39;t have to write the loop, and that&#39;s a good thing because best code is code that you don&#39;t write.","body":"If you look at the implementation of indexOf, I&#39;d be willing to bet you&#39;d find a loop. The advantage of using it would be that you don&#39;t have to write the loop, and that&#39;s a good thing because best code is code that you don&#39;t write."},{"owner":{"account_id":11002977,"reputation":200,"user_id":8082965,"accept_rate":0,"display_name":"Jsbbvk"},"score":0,"creation_date":1509159841,"post_id":46985701,"comment_id":80918842,"body_markdown":"@Bill  I think I didn&#39;t clarify.  Find a way to find an index of a non-alphabetic character.  Since there is a huge range of non-alphabetical characters, it&#39;s not possible to use indexOf() because you don&#39;t specifically know the character you are looking for.  Hope this helps!","body":"@Bill  I think I didn&#39;t clarify.  Find a way to find an index of a non-alphabetic character.  Since there is a huge range of non-alphabetical characters, it&#39;s not possible to use indexOf() because you don&#39;t specifically know the character you are looking for.  Hope this helps!"},{"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"score":0,"creation_date":1509160303,"post_id":46985701,"comment_id":80918894,"body_markdown":"Sure I get that, which is part of the reason that I left a comment instead of suggesting an answer.","body":"Sure I get that, which is part of the reason that I left a comment instead of suggesting an answer."}],"answers":[{"tags":[],"owner":{"account_id":3187377,"reputation":17941,"user_id":2780943,"accept_rate":55,"display_name":"user184994"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509159398,"creation_date":1509159398,"answer_id":46985783,"question_id":46985701,"body_markdown":"You should probably use a regular expression:\r\n\r\n      Pattern patt = Pattern.compile(&quot;[^A-Za-z]&quot;);\r\n      Matcher mat = patt.matcher(&quot;avc@dgh&quot;);\r\n      boolean found = mat.find();\r\n      System.out.println(found ? mat.start() : -1);\r\n","title":"Java- How to find non-alphabetical letters in a string? (Quick way)","body":"<p>You should probably use a regular expression:</p>\n\n<pre><code>  Pattern patt = Pattern.compile(\"[^A-Za-z]\");\n  Matcher mat = patt.matcher(\"avc@dgh\");\n  boolean found = mat.find();\n  System.out.println(found ? mat.start() : -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37236,"reputation":2594,"user_id":106418,"accept_rate":81,"display_name":"Nicholas Hirras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509160167,"creation_date":1509160167,"answer_id":46985860,"question_id":46985701,"body_markdown":"A for loop, you can use the Character class to determine if each character is a Letter (or other type). See: https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isAlphabetic(int)\r\n","title":"Java- How to find non-alphabetical letters in a string? (Quick way)","body":"<p>A for loop, you can use the Character class to determine if each character is a Letter (or other type). See: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isAlphabetic(int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isAlphabetic(int)</a></p>\n"},{"tags":[],"owner":{"account_id":23396178,"reputation":11,"user_id":17460171,"display_name":"awskme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662651919,"creation_date":1662651919,"answer_id":73651832,"question_id":46985701,"body_markdown":"You could use regex to split the string on anything that is not alphabetic:\r\n```\r\nString str = &quot;abc@df&quot;; \r\nString[] split = str.split(&quot;[^A-za-z]&quot;);\r\n```\r\nThen you can use the length of the strings in that array to find the index of the non - alphabetic chars:\r\n\r\n```\r\nint firstIndex = split[0].length();\r\n```\r\nAnd so on:\r\n```\r\nint secondIndex = firstIndex + split[1].length();\r\n```","title":"Java- How to find non-alphabetical letters in a string? (Quick way)","body":"<p>You could use regex to split the string on anything that is not alphabetic:</p>\n<pre><code>String str = &quot;abc@df&quot;; \nString[] split = str.split(&quot;[^A-za-z]&quot;);\n</code></pre>\n<p>Then you can use the length of the strings in that array to find the index of the non - alphabetic chars:</p>\n<pre><code>int firstIndex = split[0].length();\n</code></pre>\n<p>And so on:</p>\n<pre><code>int secondIndex = firstIndex + split[1].length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375930,"reputation":31,"user_id":2079284,"display_name":"Bill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682346651,"creation_date":1682346651,"answer_id":76093002,"question_id":46985701,"body_markdown":"I realize that this is old, however a couple of the regex answers above specified [^A-za-z], however I expect they intended to say [^A-Za-z], otherwise it would include a handful of non-alpha characters in the range including [, \\, ], ^, etc...","title":"Java- How to find non-alphabetical letters in a string? (Quick way)","body":"<p>I realize that this is old, however a couple of the regex answers above specified [^A-za-z], however I expect they intended to say [^A-Za-z], otherwise it would include a handful of non-alpha characters in the range including [, , ], ^, etc...</p>\n"}],"owner":{"account_id":11002977,"reputation":200,"user_id":8082965,"accept_rate":0,"display_name":"Jsbbvk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1682346651,"creation_date":1509158140,"question_id":46985701,"body_markdown":"In Java, given a string, like &quot;abc@df&quot; where the character &#39;@&#39; could be ANY other non-letter, like &#39;%&#39;, &#39;^&#39;, &#39;&amp;&#39;, etc.  What would be the most efficient way to find that index? I know that a for loop would be kind of quick (depending on the string length), but what about any other quicker methods? A method that finds all index(es) of non-alphabetical letters or the closest one to a given index (like indexOf(string, startingIdx))\r\n  Thanks!","title":"Java- How to find non-alphabetical letters in a string? (Quick way)","body":"<p>In Java, given a string, like \"abc@df\" where the character '@' could be ANY other non-letter, like '%', '^', '&amp;', etc.  What would be the most efficient way to find that index? I know that a for loop would be kind of quick (depending on the string length), but what about any other quicker methods? A method that finds all index(es) of non-alphabetical letters or the closest one to a given index (like indexOf(string, startingIdx))\n  Thanks!</p>\n"},{"tags":["java","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":10348597,"reputation":30603,"user_id":7632695,"display_name":"notNull"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682346176,"creation_date":1682346176,"answer_id":76092926,"question_id":76092684,"body_markdown":"Try with [`monotonically_increasing_id()`][1] inbuilt function for this case.\r\n\r\n    df.withColumn(&quot;mid&quot;,monotonically_increasing_id()))\r\n\r\n----\r\nIf this mid doesn&#39;t give the expected results then use this `mid` column as **orderby** column to generate `row_number()` on the dataframe.\r\n\r\n    from pyspark.sql import *\r\n    from pyspark.sql.functions import *\r\n    df1 = df1.withColumn(&quot;mid&quot;, monotonically_increasing_id())\r\n    windowSpec = W.orderBy(&quot;mid&quot;)\r\n    df1 = df1.withColumn(&quot;line_num&quot;, row_number().over(windowSpec)).show()\r\n\r\n  [1]: https://spark.apache.org/docs/3.1.3/api/python/reference/api/pyspark.sql.functions.monotonically_increasing_id.html\r\n","title":"How to get the line number of each line across multiple files in Spark?","body":"<p>Try with <a href=\"https://spark.apache.org/docs/3.1.3/api/python/reference/api/pyspark.sql.functions.monotonically_increasing_id.html\" rel=\"nofollow noreferrer\"><code>monotonically_increasing_id()</code></a> inbuilt function for this case.</p>\n<pre><code>df.withColumn(&quot;mid&quot;,monotonically_increasing_id()))\n</code></pre>\n<hr />\n<p>If this mid doesn't give the expected results then use this <code>mid</code> column as <strong>orderby</strong> column to generate <code>row_number()</code> on the dataframe.</p>\n<pre><code>from pyspark.sql import *\nfrom pyspark.sql.functions import *\ndf1 = df1.withColumn(&quot;mid&quot;, monotonically_increasing_id())\nwindowSpec = W.orderBy(&quot;mid&quot;)\ndf1 = df1.withColumn(&quot;line_num&quot;, row_number().over(windowSpec)).show()\n</code></pre>\n"}],"owner":{"account_id":2542566,"reputation":141,"user_id":2208071,"display_name":"shashank93rao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682346176,"creation_date":1682344587,"question_id":76092684,"body_markdown":"I have an S3 bucket with multiple JSONL files. Every line within each file is a JSON string.\r\n\r\nCurrently, I read the files as follows:\r\n```\r\nDataset&lt;Row&gt; dataset = spark.read().option(&quot;recursiveFileLookup&quot;, &quot;true&quot;).json(path);\r\n```\r\n\r\nThis gives me a dataset with all the fields of the JSON objects. \r\n\r\nFor every row, I need its corresponding line number within the source file.\r\n\r\nEg:\r\n```\r\nFile1.jsonl:\r\n-------------\r\n{&quot;key1&quot;: &quot;a&quot;}\r\n{&quot;key1&quot;: &quot;b&quot;}\r\n{&quot;key1&quot;: &quot;c&quot;}\r\n\r\nFile2.jsonl:\r\n-------------\r\n{&quot;key1&quot;: &quot;x&quot;}\r\n{&quot;key1&quot;: &quot;y&quot;}\r\n{&quot;key1&quot;: &quot;z&quot;}\r\n```\r\n\r\nI need the dataset to be like:\r\n\r\nDataset\r\n\r\nkey1 | file_name | line_num |\r\n:--- | :-------: | :------: |\r\na    | file1     |     1    |\r\nb    | file1     |     2    |\r\nc    | file1     |     3    |\r\nx    | file2     |     1    |\r\ny    | file2     |     2    |\r\nz    | file2     |     3    |\r\n\r\nIs this possible?\r\n\r\n","title":"How to get the line number of each line across multiple files in Spark?","body":"<p>I have an S3 bucket with multiple JSONL files. Every line within each file is a JSON string.</p>\n<p>Currently, I read the files as follows:</p>\n<pre><code>Dataset&lt;Row&gt; dataset = spark.read().option(&quot;recursiveFileLookup&quot;, &quot;true&quot;).json(path);\n</code></pre>\n<p>This gives me a dataset with all the fields of the JSON objects.</p>\n<p>For every row, I need its corresponding line number within the source file.</p>\n<p>Eg:</p>\n<pre><code>File1.jsonl:\n-------------\n{&quot;key1&quot;: &quot;a&quot;}\n{&quot;key1&quot;: &quot;b&quot;}\n{&quot;key1&quot;: &quot;c&quot;}\n\nFile2.jsonl:\n-------------\n{&quot;key1&quot;: &quot;x&quot;}\n{&quot;key1&quot;: &quot;y&quot;}\n{&quot;key1&quot;: &quot;z&quot;}\n</code></pre>\n<p>I need the dataset to be like:</p>\n<p>Dataset</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">key1</th>\n<th style=\"text-align: center;\">file_name</th>\n<th style=\"text-align: center;\">line_num</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">a</td>\n<td style=\"text-align: center;\">file1</td>\n<td style=\"text-align: center;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">b</td>\n<td style=\"text-align: center;\">file1</td>\n<td style=\"text-align: center;\">2</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">c</td>\n<td style=\"text-align: center;\">file1</td>\n<td style=\"text-align: center;\">3</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">x</td>\n<td style=\"text-align: center;\">file2</td>\n<td style=\"text-align: center;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">y</td>\n<td style=\"text-align: center;\">file2</td>\n<td style=\"text-align: center;\">2</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">z</td>\n<td style=\"text-align: center;\">file2</td>\n<td style=\"text-align: center;\">3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is this possible?</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1682369523,"post_id":76092879,"comment_id":134201591,"body_markdown":"You can try to use `BufferedImage.getRaster()` and / or `BufferedImage.getWritableRaster()` to get and set pixels on your images. For the writing to a file you should try to output the result of `ImageIO.getWriterFormatNames()` to find out if the desired format is supported for writing.","body":"You can try to use <code>BufferedImage.getRaster()</code> and / or <code>BufferedImage.getWritableRaster()</code> to get and set pixels on your images. For the writing to a file you should try to output the result of <code>ImageIO.getWriterFormatNames()</code> to find out if the desired format is supported for writing."}],"owner":{"account_id":25866436,"reputation":1,"user_id":19598027,"display_name":"Emilee2248"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682345937,"creation_date":1682345937,"question_id":76092879,"body_markdown":"I am trying to encrypt/decrypt a b/w image based on the SP network algorithm. The problem is the following: after getting the values of each pixel and &quot;encrypting&quot; them, I can&#39;t create a new b/w image already. I tried using .setRGB(), but later realized that it was a bit more complicated than I imagined. I think we need to use the WritebleRaster class to do this more correctly, but firstly I don&#39;t understand how, and secondly, I&#39;m not sure if this is the right approach.\r\n\r\n```\r\n    public BufferedImage[] mainFunction(){\r\n        WritableRaster wr = originalImage.getRaster();\r\n        BufferedImage encodeDecodeImages[] = new BufferedImage[2];\r\n        encodeDecodeImages[0] = new BufferedImage(originalImage.getWidth(), originalImage.getHeight(), originalImage.getType());\r\n        encodeDecodeImages[1] = new BufferedImage(originalImage.getWidth(), originalImage.getHeight(), originalImage.getType());\r\n        initSequences();\r\n        // test();\r\n        int size;\r\n        int ch;\r\n        int first = 0;\r\n        int second = 0;\r\n        //test();\r\n\r\n        if (originalImage != null)\r\n        {\r\n            size = originalImage.getWidth();\r\n            for(int i = 0; i &lt; size; i++){\r\n                for (int j = 0; j &lt; size; j += 2)\r\n                {\r\n                    first = this.pixelMatrix[i][j];\r\n                    second = this.pixelMatrix[i][j + 1];\r\n                    ch = (first &lt;&lt; 8) + second;\r\n                    for (int r = 0; r &lt; rounds * 4; r += 4)\r\n                    {\r\n                        first = (ch &amp; 0x0000FF00) &gt;&gt; 8;\r\n                        first = split(first, r);\r\n                        second = ch &amp; 0x000000FF;\r\n                        second = split(second, r + 2);\r\n                        ch = (first &lt;&lt; 8) + second;\r\n                        ch = permute(ch, r / 4);\r\n                    }\r\n                    first = (ch &amp; 0x0000FF00) &gt;&gt; 8;\r\n                    second = ch &amp; 0x000000FF;\r\n                    this.pixelMatrixEncode[i][j] = first;\r\n                    this.pixelMatrixEncode[i][j + 1] = second;\r\n                    wr.setSample(i, j, 0, first);   \r\n                    encodeDecodeImages[0].setRGB(i, j, first);\r\n                    wr.setSample(i, j + 1, 0, second);\r\n                    encodeDecodeImages[0].setRGB(i, j + 1, second);\r\n                    int w = 0;\r\n                }\r\n                ColorModel cm = ColorModel.getRGBdefault();\r\n                BufferedImage image = new BufferedImage(cm, wr, cm.isAlphaPremultiplied(), null);\r\n                //encodeDecodeImages[0] = image;\r\n            }\r\n            for (int i = 0; i &lt; size; i++)\r\n            {\r\n                for(int j = 0; j &lt; size; j += 2){\r\n                    first = this.pixelMatrixEncode[i][j];\r\n                    second = this.pixelMatrixEncode[i][j + 1];\r\n\r\n                for (int r = (rounds * 4) - 1; r &gt;= 0; r -= 4)\r\n                {\r\n                    ch = (int)((first &lt;&lt; 8) + second);\r\n                    ch = permuteDecode(ch, r / 4);\r\n                    first = (int)((ch &amp; 0xff00) &gt;&gt; 8);\r\n                    first = splitDecode(first, r - 3);\r\n                    second = (int)(ch &amp; 0x00ff);\r\n                    second = splitDecode(second, r - 1);\r\n                }\r\n                this.pixelMatrixDecode[i][j] = first;\r\n                this.pixelMatrixDecode[i][j + 1] = second;\r\n                wr.setSample(i, j, 0, (int)first);\r\n                encodeDecodeImages[1].setRGB(i, j, first);\r\n                wr.setSample(i, j + 1, 0, (int)second);\r\n                encodeDecodeImages[1].setRGB(i, j + 1, second);\r\n                int w = 0;\r\n                }\r\n            }\r\n        }\r\n        return encodeDecodeImages;\r\n    }\r\n\r\n```\r\n\r\n\r\nActually, when I tried to build an image via setRGB(), the image was not built at all and I don&#39;t understand why\r\n```\r\ntry {\r\n            BufferedImage[] encodeDecodeImgs = model.mainFunction();\r\n            ImageIO.write(encodeDecodeImgs[0], &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\pbiar\\\\Desktop\\\\uchVsyakoe\\\\PASZI_JrOkata\\\\L3\\\\Source\\\\Encode.bmp&quot;));\r\n            ImageIO.write(encodeDecodeImgs[1], &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\pbiar\\\\Desktop\\\\uchVsyakoe\\\\PASZI_JrOkata\\\\L3\\\\Source\\\\Decode.bmp&quot;));\r\n            }\r\n            catch (IOException e) {\r\n            }\r\n```\r\n","title":"Pixel-by-pixel creation of a black-and-white image based on an existing data array storing a value from 0 to 255","body":"<p>I am trying to encrypt/decrypt a b/w image based on the SP network algorithm. The problem is the following: after getting the values of each pixel and &quot;encrypting&quot; them, I can't create a new b/w image already. I tried using .setRGB(), but later realized that it was a bit more complicated than I imagined. I think we need to use the WritebleRaster class to do this more correctly, but firstly I don't understand how, and secondly, I'm not sure if this is the right approach.</p>\n<pre><code>    public BufferedImage[] mainFunction(){\n        WritableRaster wr = originalImage.getRaster();\n        BufferedImage encodeDecodeImages[] = new BufferedImage[2];\n        encodeDecodeImages[0] = new BufferedImage(originalImage.getWidth(), originalImage.getHeight(), originalImage.getType());\n        encodeDecodeImages[1] = new BufferedImage(originalImage.getWidth(), originalImage.getHeight(), originalImage.getType());\n        initSequences();\n        // test();\n        int size;\n        int ch;\n        int first = 0;\n        int second = 0;\n        //test();\n\n        if (originalImage != null)\n        {\n            size = originalImage.getWidth();\n            for(int i = 0; i &lt; size; i++){\n                for (int j = 0; j &lt; size; j += 2)\n                {\n                    first = this.pixelMatrix[i][j];\n                    second = this.pixelMatrix[i][j + 1];\n                    ch = (first &lt;&lt; 8) + second;\n                    for (int r = 0; r &lt; rounds * 4; r += 4)\n                    {\n                        first = (ch &amp; 0x0000FF00) &gt;&gt; 8;\n                        first = split(first, r);\n                        second = ch &amp; 0x000000FF;\n                        second = split(second, r + 2);\n                        ch = (first &lt;&lt; 8) + second;\n                        ch = permute(ch, r / 4);\n                    }\n                    first = (ch &amp; 0x0000FF00) &gt;&gt; 8;\n                    second = ch &amp; 0x000000FF;\n                    this.pixelMatrixEncode[i][j] = first;\n                    this.pixelMatrixEncode[i][j + 1] = second;\n                    wr.setSample(i, j, 0, first);   \n                    encodeDecodeImages[0].setRGB(i, j, first);\n                    wr.setSample(i, j + 1, 0, second);\n                    encodeDecodeImages[0].setRGB(i, j + 1, second);\n                    int w = 0;\n                }\n                ColorModel cm = ColorModel.getRGBdefault();\n                BufferedImage image = new BufferedImage(cm, wr, cm.isAlphaPremultiplied(), null);\n                //encodeDecodeImages[0] = image;\n            }\n            for (int i = 0; i &lt; size; i++)\n            {\n                for(int j = 0; j &lt; size; j += 2){\n                    first = this.pixelMatrixEncode[i][j];\n                    second = this.pixelMatrixEncode[i][j + 1];\n\n                for (int r = (rounds * 4) - 1; r &gt;= 0; r -= 4)\n                {\n                    ch = (int)((first &lt;&lt; 8) + second);\n                    ch = permuteDecode(ch, r / 4);\n                    first = (int)((ch &amp; 0xff00) &gt;&gt; 8);\n                    first = splitDecode(first, r - 3);\n                    second = (int)(ch &amp; 0x00ff);\n                    second = splitDecode(second, r - 1);\n                }\n                this.pixelMatrixDecode[i][j] = first;\n                this.pixelMatrixDecode[i][j + 1] = second;\n                wr.setSample(i, j, 0, (int)first);\n                encodeDecodeImages[1].setRGB(i, j, first);\n                wr.setSample(i, j + 1, 0, (int)second);\n                encodeDecodeImages[1].setRGB(i, j + 1, second);\n                int w = 0;\n                }\n            }\n        }\n        return encodeDecodeImages;\n    }\n\n</code></pre>\n<p>Actually, when I tried to build an image via setRGB(), the image was not built at all and I don't understand why</p>\n<pre><code>try {\n            BufferedImage[] encodeDecodeImgs = model.mainFunction();\n            ImageIO.write(encodeDecodeImgs[0], &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\pbiar\\\\Desktop\\\\uchVsyakoe\\\\PASZI_JrOkata\\\\L3\\\\Source\\\\Encode.bmp&quot;));\n            ImageIO.write(encodeDecodeImgs[1], &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\pbiar\\\\Desktop\\\\uchVsyakoe\\\\PASZI_JrOkata\\\\L3\\\\Source\\\\Decode.bmp&quot;));\n            }\n            catch (IOException e) {\n            }\n</code></pre>\n"},{"tags":["java","ios","selenium-webdriver","appium"],"owner":{"account_id":28400579,"reputation":1,"user_id":21725453,"display_name":"bonjoves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682345900,"creation_date":1682340847,"question_id":76092127,"body_markdown":"I am running test automation on an application on an iOS device, but when the user is logged in to the application, no elements can be found - but only on the home screen. I have tried finding elements in Appium inspector as well with no success.\r\n\r\nWhen I do a getPageSource() on the aforementioned page I get this weird page source:\r\n```java\r\nvar DeviceUserAgentBridge = { \r\n      getDeviceUserAgent: function getDeviceUserAgent() { \r\n      var deviceUserAgent = navigator.userAgent; \r\n      if (!deviceUserAgent || deviceUserAgent.length == 0) { \r\n          return null; \r\n      } \r\n      var userAgentInfo = { \r\n          &quot;nol_useragent&quot;: deviceUserAgent \r\n      }; \r\n      return JSON.stringify(userAgentInfo) \r\n  } \r\n};\r\n```\r\n \r\n\r\n\r\nI only use the most basic capabilities:\r\n\r\n```json\r\n{ \r\n  &quot;platformName&quot;: &quot;iOS&quot;,\r\n  &quot;appium:platformVersion&quot;: &quot;15.0&quot;,\r\n  &quot;appium:automationName&quot;: &quot;XCUITest&quot;,\r\n  &quot;appium:app&quot;: &quot;theapp.app&quot;,\r\n  &quot;appium:deviceName&quot;: &quot;iPhone SE (2nd generation)&quot;,\r\n  &quot;appium:udid&quot;: &quot;theudid&quot;\r\n}\r\n```\r\n\r\nOn every other page there can be elements found, it seems that only this page is having this &quot;block&quot;.\r\n\r\nI&#39;ve tried many different capabilities and versions but always the same result.","title":"Cannot find elements on home screen of iOS application","body":"<p>I am running test automation on an application on an iOS device, but when the user is logged in to the application, no elements can be found - but only on the home screen. I have tried finding elements in Appium inspector as well with no success.</p>\n<p>When I do a getPageSource() on the aforementioned page I get this weird page source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var DeviceUserAgentBridge = { \n      getDeviceUserAgent: function getDeviceUserAgent() { \n      var deviceUserAgent = navigator.userAgent; \n      if (!deviceUserAgent || deviceUserAgent.length == 0) { \n          return null; \n      } \n      var userAgentInfo = { \n          &quot;nol_useragent&quot;: deviceUserAgent \n      }; \n      return JSON.stringify(userAgentInfo) \n  } \n};\n</code></pre>\n<p>I only use the most basic capabilities:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;platformName&quot;: &quot;iOS&quot;,\n  &quot;appium:platformVersion&quot;: &quot;15.0&quot;,\n  &quot;appium:automationName&quot;: &quot;XCUITest&quot;,\n  &quot;appium:app&quot;: &quot;theapp.app&quot;,\n  &quot;appium:deviceName&quot;: &quot;iPhone SE (2nd generation)&quot;,\n  &quot;appium:udid&quot;: &quot;theudid&quot;\n}\n</code></pre>\n<p>On every other page there can be elements found, it seems that only this page is having this &quot;block&quot;.</p>\n<p>I've tried many different capabilities and versions but always the same result.</p>\n"},{"tags":["java","mocking","spring-webflux","clock","spring-test"],"owner":{"account_id":8796190,"reputation":457,"user_id":6574013,"accept_rate":83,"display_name":"marie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682345766,"creation_date":1682340787,"question_id":76092117,"body_markdown":"I am writing tests for a java spring boot rest application. I need to mock the clock.\r\nThis is the test :\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@WebFluxTest(controllers = MyController.class)\r\n@Import({MyController.class})\r\npublic class Test implements WebTestClientConfigurable {\r\n\r\n  \r\n    @Autowired\r\n    private MyController myController;\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    public static long NOW = System.currentTimeMillis();\r\n\r\n\r\n    public MockedStatic&lt;Clock&gt; clockMock;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockInstant(NOW);\r\n    }\r\n\r\n\r\n    @AfterEach\r\n    public void close() {\r\n        clockMock.close();\r\n    }\r\n\r\n    private void mockInstant(long expected) {\r\n        Clock spyClock = spy(Clock.class);\r\n        clockMock = mockStatic(Clock.class);\r\n        clockMock.when(Clock::systemUTC).thenReturn(spyClock);\r\n        when(spyClock.instant()).thenReturn(Instant.ofEpochSecond(expected));\r\n    }\r\n\r\n    @org.junit.jupiter.api.Test\r\n    void test() {\r\n        configure(webTestClient)\r\n                .post()\r\n                .uri(&quot;/test&quot; )\r\n                .exchange()\r\n                .expectStatus()\r\n                .is2xxSuccessful();\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe test is failing because of clock mocking. \r\nI have other tests with the mocking clock that do not use webtestclient and don&#39;t fail.\r\nThe WebTestClient is : \r\n\r\n```\r\npublic interface WebTestClientConfigurable {\r\n    default WebTestClient configure(WebTestClient webTestClient) {\r\n        return webTestClient\r\n                .mutate().responseTimeout(Duration.ofSeconds(120))\r\n                .build()  // this is where the test is failing\r\n                .mutateWith(mockJwt()\r\n                        .authorities(new SecurityConfiguration.GrantedAuthoritiesExtractor())\r\n                        .jwt(builder -&gt; builder.claim(&quot;myvalue&quot;, 1)))\r\n                .mutateWith(csrf());\r\n    }\r\n}\r\n```\r\n\r\nThe test is failing with this error:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.time.Clock.instant()&quot; because &quot;this.this$0.clock&quot; is null\r\n\r\n\tat org.springframework.web.server.session.InMemoryWebSessionStore$ExpiredSessionChecker.&lt;init&gt;(InMemoryWebSessionStore.java:316)\r\n\tat org.springframework.web.server.session.InMemoryWebSessionStore.&lt;init&gt;(InMemoryWebSessionStore.java:57)\r\n\tat org.springframework.web.server.session.DefaultWebSessionManager.&lt;init&gt;(DefaultWebSessionManager.java:46)\r\n\tat org.springframework.web.server.adapter.HttpWebHandlerAdapter.&lt;init&gt;(HttpWebHandlerAdapter.java:84)\r\n\tat org.springframework.web.server.adapter.WebHttpHandlerBuilder.build(WebHttpHandlerBuilder.java:394)\r\n\tat org.springframework.test.web.reactive.server.DefaultWebTestClientBuilder.build(DefaultWebTestClientBuilder.java:285)\r\n\tat test.WebTestClientConfigurable.configure(WebTestClientConfigurable.java:15)\r\n```\r\n\r\nI have no idea how to fix this. If I don&#39;t mock the clock, I don&#39;t have the issue.","title":"Cannot invoke &quot;java.time.Clock.instant()&quot; because &quot;this.this$0.clock&quot; is null","body":"<p>I am writing tests for a java spring boot rest application. I need to mock the clock.\nThis is the test :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebFluxTest(controllers = MyController.class)\n@Import({MyController.class})\npublic class Test implements WebTestClientConfigurable {\n\n  \n    @Autowired\n    private MyController myController;\n    @Autowired\n    private WebTestClient webTestClient;\n\n    public static long NOW = System.currentTimeMillis();\n\n\n    public MockedStatic&lt;Clock&gt; clockMock;\n\n    @BeforeEach\n    public void setup() {\n        mockInstant(NOW);\n    }\n\n\n    @AfterEach\n    public void close() {\n        clockMock.close();\n    }\n\n    private void mockInstant(long expected) {\n        Clock spyClock = spy(Clock.class);\n        clockMock = mockStatic(Clock.class);\n        clockMock.when(Clock::systemUTC).thenReturn(spyClock);\n        when(spyClock.instant()).thenReturn(Instant.ofEpochSecond(expected));\n    }\n\n    @org.junit.jupiter.api.Test\n    void test() {\n        configure(webTestClient)\n                .post()\n                .uri(&quot;/test&quot; )\n                .exchange()\n                .expectStatus()\n                .is2xxSuccessful();\n\n    }\n}\n</code></pre>\n<p>The test is failing because of clock mocking.\nI have other tests with the mocking clock that do not use webtestclient and don't fail.\nThe WebTestClient is :</p>\n<pre><code>public interface WebTestClientConfigurable {\n    default WebTestClient configure(WebTestClient webTestClient) {\n        return webTestClient\n                .mutate().responseTimeout(Duration.ofSeconds(120))\n                .build()  // this is where the test is failing\n                .mutateWith(mockJwt()\n                        .authorities(new SecurityConfiguration.GrantedAuthoritiesExtractor())\n                        .jwt(builder -&gt; builder.claim(&quot;myvalue&quot;, 1)))\n                .mutateWith(csrf());\n    }\n}\n</code></pre>\n<p>The test is failing with this error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.time.Clock.instant()&quot; because &quot;this.this$0.clock&quot; is null\n\n    at org.springframework.web.server.session.InMemoryWebSessionStore$ExpiredSessionChecker.&lt;init&gt;(InMemoryWebSessionStore.java:316)\n    at org.springframework.web.server.session.InMemoryWebSessionStore.&lt;init&gt;(InMemoryWebSessionStore.java:57)\n    at org.springframework.web.server.session.DefaultWebSessionManager.&lt;init&gt;(DefaultWebSessionManager.java:46)\n    at org.springframework.web.server.adapter.HttpWebHandlerAdapter.&lt;init&gt;(HttpWebHandlerAdapter.java:84)\n    at org.springframework.web.server.adapter.WebHttpHandlerBuilder.build(WebHttpHandlerBuilder.java:394)\n    at org.springframework.test.web.reactive.server.DefaultWebTestClientBuilder.build(DefaultWebTestClientBuilder.java:285)\n    at test.WebTestClientConfigurable.configure(WebTestClientConfigurable.java:15)\n</code></pre>\n<p>I have no idea how to fix this. If I don't mock the clock, I don't have the issue.</p>\n"},{"tags":["java","windows-7","taskbar","shortcut","createprocess"],"comments":[{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":0,"creation_date":1259758925,"post_id":1254430,"comment_id":1724710,"body_markdown":"Have you gotten any further in resolving this issue? I am facing precisely the same problem.","body":"Have you gotten any further in resolving this issue? I am facing precisely the same problem."},{"owner":{"display_name":"user153677"},"score":0,"creation_date":1260360895,"post_id":1254430,"comment_id":1771710,"body_markdown":"Unfortunately: No - I wish I had\nIf I find a solution I will post it here.","body":"Unfortunately: No - I wish I had If I find a solution I will post it here."}],"answers":[{"comments":[{"owner":{"display_name":"user153677"},"score":0,"creation_date":1249910278,"post_id":1254532,"comment_id":1081714,"body_markdown":"Unfortunately this is no option.","body":"Unfortunately this is no option."},{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":0,"creation_date":1259759079,"post_id":1254532,"comment_id":1724719,"body_markdown":"@kts: I can&#39;t get WinRun4J to work under Eclipse Galileo. The plugin website is rather uninformative, and I can&#39;t figure out if it&#39;s my version of Eclipse or if I&#39;m doing something wrong. I installed it via &quot;Help&quot;, &quot;Install New Software...&quot;, then specifying the Update Site. After restarting, it appears in my installed software list, but WinRun4J doesn&#39;t appear under the Run Configurations list. Any ideas?","body":"@kts: I can&#39;t get WinRun4J to work under Eclipse Galileo. The plugin website is rather uninformative, and I can&#39;t figure out if it&#39;s my version of Eclipse or if I&#39;m doing something wrong. I installed it via &quot;Help&quot;, &quot;Install New Software...&quot;, then specifying the Update Site. After restarting, it appears in my installed software list, but WinRun4J doesn&#39;t appear under the Run Configurations list. Any ideas?"},{"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"score":2,"creation_date":1259760249,"post_id":1254532,"comment_id":1724827,"body_markdown":"@Paul I never had eclipse integration with winrun4j. I just downloaded the zip which contains an executable and ini and an icon. Rename the executable to what you want, rename the ini and edit, create a ico with the same name (eg foo.exe, foo.ini, foo.ico) and run (IIRC) foo.exe -WinRun4j::SetIcon to change the exe icon.","body":"@Paul I never had eclipse integration with winrun4j. I just downloaded the zip which contains an executable and ini and an icon. Rename the executable to what you want, rename the ini and edit, create a ico with the same name (eg foo.exe, foo.ini, foo.ico) and run (IIRC) foo.exe -WinRun4j::SetIcon to change the exe icon."},{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":0,"creation_date":1259774434,"post_id":1254532,"comment_id":1726669,"body_markdown":"@kts: Thanks, that clarifies things. I was hopeful it would integrate better than Launch4j, but I&#39;m not sure if this is a fundamental improvement. I read there is a way of embedding the INI into the executable. Is this true?","body":"@kts: Thanks, that clarifies things. I was hopeful it would integrate better than Launch4j, but I&#39;m not sure if this is a fundamental improvement. I read there is a way of embedding the INI into the executable. Is this true?"},{"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"score":0,"creation_date":1259786987,"post_id":1254532,"comment_id":1728032,"body_markdown":"@Paul: I don&#39;t know of an easy way to do it. Grab the source code and change the function that reads the ini file to return a hard-coded arguments list instead of reading it from the file. I guess you could modify the program to read the ini options out of the META-INI direcory (or some such) instead of a separate file.","body":"@Paul: I don&#39;t know of an easy way to do it. Grab the source code and change the function that reads the ini file to return a hard-coded arguments list instead of reading it from the file. I guess you could modify the program to read the ini options out of the META-INI direcory (or some such) instead of a separate file."}],"tags":[],"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249906398,"creation_date":1249906398,"answer_id":1254532,"question_id":1254430,"body_markdown":"Use something like winrun4j or create a .bat instead of using a shortcut.","title":"&quot;Wrong&quot; app gets pinned to taskbar (Windows 7)","body":"<p>Use something like winrun4j or create a .bat instead of using a shortcut.</p>\n"},{"tags":[],"owner":{"account_id":4484573,"reputation":1,"user_id":3647668,"display_name":"Kid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400334439,"creation_date":1400332423,"answer_id":23711759,"question_id":1254430,"body_markdown":"You could clean your `IconCache` like this:\r\n\r\nFirst go to Task Manager and kill `explorer.exe`\r\n\r\n`Windows Task Management -&gt; Processes -&gt; End &quot;explorer.exe&quot;`\r\n\r\nThen, in the Task Management\r\n\r\n`Windows Task Management -&gt; File -&gt; New -&gt; CMD.EXE`\r\n\r\nIn the opened console type:\r\n\r\n`CD /d %userprofile%\\AppData\\Local DEL IconCache.db /a EXIT` \r\n\r\nThen reopen the `explorer.exe`\r\n\r\n`Windows Task Management -&gt; File -&gt; New -&gt; explorer.exe`","title":"&quot;Wrong&quot; app gets pinned to taskbar (Windows 7)","body":"<p>You could clean your <code>IconCache</code> like this:</p>\n\n<p>First go to Task Manager and kill <code>explorer.exe</code></p>\n\n<p><code>Windows Task Management -&gt; Processes -&gt; End \"explorer.exe\"</code></p>\n\n<p>Then, in the Task Management</p>\n\n<p><code>Windows Task Management -&gt; File -&gt; New -&gt; CMD.EXE</code></p>\n\n<p>In the opened console type:</p>\n\n<p><code>CD /d %userprofile%\\AppData\\Local DEL IconCache.db /a EXIT</code> </p>\n\n<p>Then reopen the <code>explorer.exe</code></p>\n\n<p><code>Windows Task Management -&gt; File -&gt; New -&gt; explorer.exe</code></p>\n"},{"tags":[],"owner":{"account_id":4995370,"reputation":98,"user_id":4016483,"display_name":"lion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682345482,"creation_date":1682333537,"answer_id":76091149,"question_id":1254430,"body_markdown":"You can pin a shortcut directly, not necessarily a window that is open on taskbar: right click on the shortcut, Pin to taskbar. The java window that will open won&#39;t use the button you pinned on the taskbar, since it&#39;s a different application, but that was not the issue, I understand.","title":"&quot;Wrong&quot; app gets pinned to taskbar (Windows 7)","body":"<p>You can pin a shortcut directly, not necessarily a window that is open on taskbar: right click on the shortcut, Pin to taskbar. The java window that will open won't use the button you pinned on the taskbar, since it's a different application, but that was not the issue, I understand.</p>\n"}],"owner":{"display_name":"user153677"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682345482,"creation_date":1249904587,"question_id":1254430,"body_markdown":"I have an application that gets started via a shortcut. This application than starts a Java GUI application with CreateProcess().\r\n\r\nWhen the Java application gets pinned to the taskbar the javaw.exe gets pinned to the taskbar instead of the &quot;expected&quot; shortcut. Only the native executable which launches Java can be modified - the shortcut has to stay.\r\n\r\nWhat has to be done so that the shortcut gets pinned?\r\n\r\n\r\n","title":"&quot;Wrong&quot; app gets pinned to taskbar (Windows 7)","body":"<p>I have an application that gets started via a shortcut. This application than starts a Java GUI application with CreateProcess().</p>\n<p>When the Java application gets pinned to the taskbar the javaw.exe gets pinned to the taskbar instead of the &quot;expected&quot; shortcut. Only the native executable which launches Java can be modified - the shortcut has to stay.</p>\n<p>What has to be done so that the shortcut gets pinned?</p>\n"},{"tags":["java","http","httpurlconnection"],"comments":[{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1682342663,"post_id":76092033,"comment_id":134195274,"body_markdown":"From https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#openConnection(), it looks like you have to call the .connect() function before sending any data. You may also want to call .disconnect() at the end.","body":"From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#openConnection()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/&hellip;</a>, it looks like you have to call the .connect() function before sending any data. You may also want to call .disconnect() at the end."},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":1,"creation_date":1682342823,"post_id":76092033,"comment_id":134195322,"body_markdown":"You should also log the error instead of just catching it. I believe that would be e.printStackTrace().","body":"You should also log the error instead of just catching it. I believe that would be e.printStackTrace()."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":2,"creation_date":1682345097,"post_id":76092033,"comment_id":134195962,"body_markdown":"The code you&#39;ve posted is missing `flush` and `close`, but you mention you tried those.  I assume you tried them BEFORE calling `getResponseCode` as this is important.  The only other thing that could be happening is an exception, as @SupaMaggie70b advised, so logging any exception in this code would be helpful.","body":"The code you&#39;ve posted is missing <code>flush</code> and <code>close</code>, but you mention you tried those.  I assume you tried them BEFORE calling <code>getResponseCode</code> as this is important.  The only other thing that could be happening is an exception, as @SupaMaggie70b advised, so logging any exception in this code would be helpful."}],"owner":{"account_id":4148682,"reputation":487,"user_id":3401736,"display_name":"Captain&#39;Flam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682345433,"creation_date":1682340296,"question_id":76092033,"body_markdown":"I wrote a minimal method to post some binary data over HTTP but the data is not actually sent every time.  \r\nI saw many other questions that looks like this one, but none solved my problem.\r\nHere is my java method\r\n```java\r\n    public static int http_post ( String server , byte [] data )\r\n        {\r\n        HttpURLConnection urlConnection = null ;\r\n        try {\r\n            URL url = new URL( server ) ;\r\n            urlConnection = (HttpURLConnection)url.openConnection() ;\r\n            urlConnection.setRequestMethod(&quot;POST&quot;) ;\r\n            urlConnection.setDoOutput( true ) ;\r\n            urlConnection.getOutputStream().write( data ) ;\r\n            return urlConnection.getResponseCode() ;\r\n            }\r\n        catch ( Exception e )\r\n            {\r\n            return -1 ;            \r\n            }\r\n        finally \r\n            {\r\n            urlConnection.disconnect() ;\r\n            }\r\n        }        \r\n```\r\nOn the client side, it works well: the returned code is always 200. (that&#39;s why I don&#39;t treat the exception in this simple code).  \r\n\r\nBut when I look at the server side, I see that the data is some time well received, and some time not.   \r\nIt&#39;s completely random : when I re-run, what is received or not is different.  \r\nWhen the data is not received, the received request contains a correct &quot;Content-Length&quot; but the body is simply not there (nor the double *EOL*).\r\nI got the same behavior on several servers : my own one (that hosts my web pages), a very small and local one I wrote in python and *https://httpbin.org/anything*.\r\n\r\nI tried many variant (with *flush*+*close* on the output stream, playing with timeouts, *useCache* or not, calling *connect()* before to send, with a *sleep* before *getResponseCode*...)  \r\nI can&#39;t figure out what is wrong in my code, especially since it&#39;s random.\r\n","title":"My data is randomly sent, using java http connection","body":"<p>I wrote a minimal method to post some binary data over HTTP but the data is not actually sent every time.<br />\nI saw many other questions that looks like this one, but none solved my problem.\nHere is my java method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int http_post ( String server , byte [] data )\n        {\n        HttpURLConnection urlConnection = null ;\n        try {\n            URL url = new URL( server ) ;\n            urlConnection = (HttpURLConnection)url.openConnection() ;\n            urlConnection.setRequestMethod(&quot;POST&quot;) ;\n            urlConnection.setDoOutput( true ) ;\n            urlConnection.getOutputStream().write( data ) ;\n            return urlConnection.getResponseCode() ;\n            }\n        catch ( Exception e )\n            {\n            return -1 ;            \n            }\n        finally \n            {\n            urlConnection.disconnect() ;\n            }\n        }        \n</code></pre>\n<p>On the client side, it works well: the returned code is always 200. (that's why I don't treat the exception in this simple code).</p>\n<p>But when I look at the server side, I see that the data is some time well received, and some time not.<br />\nIt's completely random : when I re-run, what is received or not is different.<br />\nWhen the data is not received, the received request contains a correct &quot;Content-Length&quot; but the body is simply not there (nor the double <em>EOL</em>).\nI got the same behavior on several servers : my own one (that hosts my web pages), a very small and local one I wrote in python and <em><a href=\"https://httpbin.org/anything\" rel=\"nofollow noreferrer\">https://httpbin.org/anything</a></em>.</p>\n<p>I tried many variant (with <em>flush</em>+<em>close</em> on the output stream, playing with timeouts, <em>useCache</em> or not, calling <em>connect()</em> before to send, with a <em>sleep</em> before <em>getResponseCode</em>...)<br />\nI can't figure out what is wrong in my code, especially since it's random.</p>\n"},{"tags":["java","css","javafx","dark-theme"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1682340937,"post_id":76092063,"comment_id":134194838,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682341036,"post_id":76092063,"comment_id":134194860,"body_markdown":"*&quot;the lines in code ... Should have reverted the Scene and Stage to the original JavaFx theme&quot;*. Why? You added the `darktheme.css` stylesheet to the `VBox`, not to the `Scene`.","body":"<i>&quot;the lines in code ... Should have reverted the Scene and Stage to the original JavaFx theme&quot;</i>. Why? You added the <code>darktheme.css</code> stylesheet to the <code>VBox</code>, not to the <code>Scene</code>."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1682341960,"post_id":76092063,"comment_id":134195095,"body_markdown":"@James_D How do I set the stylesheet to the Scene? I have set the Stylesheet to Root node. I thought that was the highest thing I could set the style to. A good suggestion though. I will try to tinker with it a bit. Thank you.","body":"@James_D How do I set the stylesheet to the Scene? I have set the Stylesheet to Root node. I thought that was the highest thing I could set the style to. A good suggestion though. I will try to tinker with it a bit. Thank you."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1682342024,"post_id":76092063,"comment_id":134195111,"body_markdown":"@kleopatra Ok. Thanks. I have just created a new project and added a few of those lines. I will try to rewrite the question. Now I have already messed everything up again but I can start anew and focus just on my things.","body":"@kleopatra Ok. Thanks. I have just created a new project and added a few of those lines. I will try to rewrite the question. Now I have already messed everything up again but I can start anew and focus just on my things."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1682342121,"post_id":76092063,"comment_id":134195140,"body_markdown":"@James_D Thank you!! :) adding: \n\nscene.getRoot().getStylesheets().clear();\n\ndid the trick :)","body":"@James_D Thank you!! :) adding:   scene.getRoot().getStylesheets().clear();  did the trick :)"}],"answers":[{"tags":[],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682345365,"creation_date":1682343493,"answer_id":76092511,"question_id":76092063,"body_markdown":"The answer was the commented code in the question. Which I added alter after @James_D pointed to me that changing sth. to the scene does not trickle down to root and lower. \r\n\r\nAfter adding: \r\n\r\n\tscene.getRoot().getStylesheets().clear();\r\n\r\nMy code worked in the way as I have hoped it would work. I thought that by removing stylesheets from the (Scene) scene everything would get deleted but it did not. Thank you all for your help. \r\n","title":"Reverting .CSS style in JavaFX that was set in .FXML file","body":"<p>The answer was the commented code in the question. Which I added alter after @James_D pointed to me that changing sth. to the scene does not trickle down to root and lower.</p>\n<p>After adding:</p>\n<pre><code>scene.getRoot().getStylesheets().clear();\n</code></pre>\n<p>My code worked in the way as I have hoped it would work. I thought that by removing stylesheets from the (Scene) scene everything would get deleted but it did not. Thank you all for your help.</p>\n"}],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682345365,"creation_date":1682340437,"question_id":76092063,"body_markdown":"I have created a new JavaFx project in IntelliJ and the main JavaFx Application is:\r\n\r\nHelloApplication.java\r\n\r\n    package com.example.demo1;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \t@Override public void start(Stage stage) throws IOException {\r\n    \t\tFXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n    \t\tScene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n    \t\t\r\n    \t\tscene.getStylesheets().clear();\r\n    \t\tscene.getStylesheets().addAll();\r\n    \t\t\r\n    \t\t// SOLVED: this was the solution. This came here after I have posted the question\r\n    \t\t//\t\tscene.getRoot().getStylesheets().clear();\r\n  \t\t    \t\t\r\n    \t\tstage.setTitle(&quot;Hello!&quot;);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.show();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch();\r\n    \t}\r\n    }\r\n\r\n\r\nHelloController.java\r\n\r\n    package com.example.demo1;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Label;\r\n    \r\n    public class HelloController {\r\n    \t@FXML private Label welcomeText;\r\n    \t\r\n    \t@FXML protected void onHelloButtonClick() {\r\n    \t\twelcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n    \t}\r\n    }\r\n\r\nhello-view.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; stylesheets=&quot;@darktheme.css&quot;\r\n          fx:controller=&quot;com.example.demo1.HelloController&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n        &lt;/padding&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n        &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n    &lt;/VBox&gt;\r\n\r\ndarktheme.css\r\n\r\n    .root {\r\n        -fx-accent: #1e74c6;\r\n        -fx-focus-color: -fx-accent;\r\n        -fx-base: #373e43;\r\n        -fx-control-inner-background: derive(-fx-base, 35%);\r\n        -fx-control-inner-background-alt: -fx-control-inner-background ;\r\n    }\r\n\r\nWhere I have set the style with: \r\n\r\n    stylesheets=&quot;@darktheme.css&quot;\r\n\r\nAnd I am trying to create a toggle with the CheckBox. The .CSS works. I have everything dark. However if I understood everything correctly, the lines in code: \r\n\r\n    scene.getStylesheets().clear(); // Clear any stylesheets that were added to the scene\r\n    scene.getStylesheets().addAll(); // Add an empty list of stylesheets to reset to the default style\r\n\r\nShould have reverted the Scene and Stage to the original JavaFx theme. However when I run the code, everything is dark. Could anyone explain this to me? ","title":"Reverting .CSS style in JavaFX that was set in .FXML file","body":"<p>I have created a new JavaFx project in IntelliJ and the main JavaFx Application is:</p>\n<p>HelloApplication.java</p>\n<pre><code>package com.example.demo1;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        \n        scene.getStylesheets().clear();\n        scene.getStylesheets().addAll();\n        \n        // SOLVED: this was the solution. This came here after I have posted the question\n        //      scene.getRoot().getStylesheets().clear();\n                \n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>HelloController.java</p>\n<pre><code>package com.example.demo1;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class HelloController {\n    @FXML private Label welcomeText;\n    \n    @FXML protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\n    }\n}\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; stylesheets=&quot;@darktheme.css&quot;\n      fx:controller=&quot;com.example.demo1.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>darktheme.css</p>\n<pre><code>.root {\n    -fx-accent: #1e74c6;\n    -fx-focus-color: -fx-accent;\n    -fx-base: #373e43;\n    -fx-control-inner-background: derive(-fx-base, 35%);\n    -fx-control-inner-background-alt: -fx-control-inner-background ;\n}\n</code></pre>\n<p>Where I have set the style with:</p>\n<pre><code>stylesheets=&quot;@darktheme.css&quot;\n</code></pre>\n<p>And I am trying to create a toggle with the CheckBox. The .CSS works. I have everything dark. However if I understood everything correctly, the lines in code:</p>\n<pre><code>scene.getStylesheets().clear(); // Clear any stylesheets that were added to the scene\nscene.getStylesheets().addAll(); // Add an empty list of stylesheets to reset to the default style\n</code></pre>\n<p>Should have reverted the Scene and Stage to the original JavaFx theme. However when I run the code, everything is dark. Could anyone explain this to me?</p>\n"},{"tags":["java","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682081586,"creation_date":1682081258,"answer_id":76073321,"question_id":76069967,"body_markdown":"1. Hadoop documentation doesn&#39;t suggest running it with anything higher than Java 11, so install that, and reset JAVA_HOME \r\n2. Hadoop on Windows does not want spaces in any file paths. Meaning your `JAVA_HOME`  including `Program Files` is a problem. Refer https://stackoverflow.com/questions/892555/how-do-i-specify-c-program-files-without-a-space-in-it-for-programs-that-cant\r\n3. You&#39;ll additionally need `hadoop.dll` placed in `C:\\System32` and `winutils.exe` placed in `%HADOOP_HOME%\\bin` that have been compiled for Hadoop 3.3.5 after fixing the Java issue. Both of these are separate downloads and not included with Hadoop. Otherwise, you should use WSL2 terminal to run any of these commands since Hadoop prefers to run in a Linux environment ","title":"Hadoop commands say JAVA_HOME is incorrectly set","body":"<ol>\n<li>Hadoop documentation doesn't suggest running it with anything higher than Java 11, so install that, and reset JAVA_HOME</li>\n<li>Hadoop on Windows does not want spaces in any file paths. Meaning your <code>JAVA_HOME</code>  including <code>Program Files</code> is a problem. Refer <a href=\"https://stackoverflow.com/questions/892555/how-do-i-specify-c-program-files-without-a-space-in-it-for-programs-that-cant\">How do I specify C:\\Program Files without a space in it for programs that can&#39;t handle spaces in file paths?</a></li>\n<li>You'll additionally need <code>hadoop.dll</code> placed in <code>C:\\System32</code> and <code>winutils.exe</code> placed in <code>%HADOOP_HOME%\\bin</code> that have been compiled for Hadoop 3.3.5 after fixing the Java issue. Both of these are separate downloads and not included with Hadoop. Otherwise, you should use WSL2 terminal to run any of these commands since Hadoop prefers to run in a Linux environment</li>\n</ol>\n"}],"owner":{"account_id":7398788,"reputation":33,"user_id":5629877,"display_name":"geeksam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682345223,"creation_date":1682052409,"question_id":76069967,"body_markdown":"I&#39;m getting the following error while I give Hadoop commands (pls refer pic) [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QzStK.png\r\n\r\nSomeone tell me how to fix it.\r\n\r\n**Note**: \r\n**Java Home local location:** &quot;C:\\Program Files\\Java\\jdk-20\\&quot;\r\n**Hadoop Home location:** &quot;D:\\Hadoop\\hadoop-3.3.5&quot;","title":"Hadoop commands say JAVA_HOME is incorrectly set","body":"<p>I'm getting the following error while I give Hadoop commands (pls refer pic) <a href=\"https://i.stack.imgur.com/QzStK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QzStK.png\" alt=\"enter image description here\" /></a></p>\n<p>Someone tell me how to fix it.</p>\n<p><strong>Note</strong>:\n<strong>Java Home local location:</strong> &quot;C:\\Program Files\\Java\\jdk-20&quot;\n<strong>Hadoop Home location:</strong> &quot;D:\\Hadoop\\hadoop-3.3.5&quot;</p>\n"},{"tags":["java","epoch"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1682342963,"post_id":76092206,"comment_id":134195361,"body_markdown":"Just in case you want to depend on the fact that two calls return different values: Don&#39;t. Even if a system can provide higher-than-millisecond resolution, there&#39;s absolutely no guarantee that two calls to whichever method provides this return different values. For example it&#39;s quite possible that a OS can return values with 1/10th millisecond resolution but not true nanosecond resolution.","body":"Just in case you want to depend on the fact that two calls return different values: Don&#39;t. Even if a system can provide higher-than-millisecond resolution, there&#39;s absolutely no guarantee that two calls to whichever method provides this return different values. For example it&#39;s quite possible that a OS can return values with 1/10th millisecond resolution but not true nanosecond resolution."},{"owner":{"display_name":"user21725567"},"score":0,"creation_date":1682343786,"post_id":76092206,"comment_id":134195581,"body_markdown":"@JoachimSauer Thanks for the warning.  My problem is actually precision, i need the nanosecond information. Returning the same time is not a problem. I should have been more clear about that.","body":"@JoachimSauer Thanks for the warning.  My problem is actually precision, i need the nanosecond information. Returning the same time is not a problem. I should have been more clear about that."},{"owner":{"display_name":"user21725567"},"score":0,"creation_date":1682344999,"post_id":76092206,"comment_id":134195943,"body_markdown":"I&#39;m shocked that this question hasn&#39;t been closed and/or downgraded. Has anything changed in SO recently? Was it liberated from the [tyrannical mods](https://www.youtube.com/watch?v=IbDAmvUwo5c)? What happened to: _It has already been answered!_ _We don&#39;t do your homework!_ _Don&#39;t you know how to Google?_","body":"I&#39;m shocked that this question hasn&#39;t been closed and/or downgraded. Has anything changed in SO recently? Was it liberated from the <a href=\"https://www.youtube.com/watch?v=IbDAmvUwo5c\" rel=\"nofollow noreferrer\">tyrannical mods</a>? What happened to: <i>It has already been answered!</i> <i>We don&#39;t do your homework!</i> <i>Don&#39;t you know how to Google?</i>"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1682346808,"post_id":76092206,"comment_id":134196454,"body_markdown":"I&#39;m not sure what you&#39;re trying to achieve with this comment. Are you complaining that you&#39;re not being treated unfairly enough?","body":"I&#39;m not sure what you&#39;re trying to achieve with this comment. Are you complaining that you&#39;re not being treated unfairly enough?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1682347066,"post_id":76092206,"comment_id":134196536,"body_markdown":"To satiate your desire for perceived unfair interactions, I&#39;ve closed this question as a duplicate with some very good answers that tell you both ways to achieve that and caveats to keep in mind (note: I didn&#39;t really do that for the lolz, I did it because the dupe actually fully answers what this is asking).","body":"To satiate your desire for perceived unfair interactions, I&#39;ve closed this question as a duplicate with some very good answers that tell you both ways to achieve that and caveats to keep in mind (note: I didn&#39;t really do that for the lolz, I did it because the dupe actually fully answers what this is asking)."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682435343,"post_id":76092206,"comment_id":134213337,"body_markdown":"@JavaCoderUkraine Why the poor attitude?  Your question was up voted.  You were provided an answer.  Then you complain for not having your question closed.  Then you complain when it *is* closed.","body":"@JavaCoderUkraine Why the poor attitude?  Your question was up voted.  You were provided an answer.  Then you complain for not having your question closed.  Then you complain when it <i>is</i> closed."},{"owner":{"display_name":"user21725567"},"score":0,"creation_date":1682642136,"post_id":76092206,"comment_id":134251839,"body_markdown":"Sorry but SO is irrelevant. It is only good as a read-only reference. For anything new we go to Reddit.","body":"Sorry but SO is irrelevant. It is only good as a read-only reference. For anything new we go to Reddit."}],"answers":[{"comments":[{"owner":{"display_name":"user21725567"},"score":1,"creation_date":1682343670,"post_id":76092307,"comment_id":134195555,"body_markdown":"Just to be clear to everyone: `System.nanoTime()` is **not** epoch","body":"Just to be clear to everyone: <code>System.nanoTime()</code> is <b>not</b> epoch"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682343836,"post_id":76092307,"comment_id":134195595,"body_markdown":"Sorry - my bad on the time","body":"Sorry - my bad on the time"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1682344023,"post_id":76092307,"comment_id":134195646,"body_markdown":"To elaborate on why `System.nanoTime` is not epoch: it returns the elapsed time in nanoseconds since an *arbitrary* instant (the *origin* time). [See the JavaDocs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#nanoTime()) for more details.","body":"To elaborate on why <code>System.nanoTime</code> is not epoch: it returns the elapsed time in nanoseconds since an <i>arbitrary</i> instant (the <i>origin</i> time). <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\">See the JavaDocs</a> for more details."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682342969,"creation_date":1682342159,"answer_id":76092307,"question_id":76092206,"body_markdown":"This should work. Instant and other recent time improvements are from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.\r\n```\r\nInstant t = Instant.now();\r\nSystem.out.println(t.getEpochSecond()*1_000_000_000 + t.getNano());\r\n```\r\nprints something like\r\n```\r\n1682327653903147800\r\n```\r\nOf course, by the time `instant.now()` has returned, the time has certainly changed significantly from a `nanosecond` perspective.","title":"Is it possible to get EPOCH in Java in nanoseconds without using JNI/Native code or System.currentTimeMillis() * 1000000L?","body":"<p>This should work. Instant and other recent time improvements are from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n<pre><code>Instant t = Instant.now();\nSystem.out.println(t.getEpochSecond()*1_000_000_000 + t.getNano());\n</code></pre>\n<p>prints something like</p>\n<pre><code>1682327653903147800\n</code></pre>\n<p>Of course, by the time <code>instant.now()</code> has returned, the time has certainly changed significantly from a <code>nanosecond</code> perspective.</p>\n"}],"owner":{"display_name":"user21725567"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682347002,"answer_count":1,"score":1,"last_activity_date":1682344799,"creation_date":1682341367,"question_id":76092206,"body_markdown":"I know this can be done in Linux, through a native call to `clock_gettime` from `sys/time.h`.\r\n\r\nI know this can be done with `System.currentTimeMillis() * 1000000L`, which is not good because you can have two equal epoch times if you call that in succession.\r\n\r\nWondering if **in the more recent versions of Java** there is already a Java way of getting Epoch in nanoseconds.\r\n\r\nNOTE: I want the epoch with nanosecond precision. I just **don&#39;t want** to convert it to milliseconds with something like:\r\n\r\n    long nanos = TimeUnit.MILLISECONDS.toNanos(System.currentTimeMillis());\r\n\r\nThanks for any help!\r\n\r\n\r\n----------\r\n\r\n**EDIT1:** I&#39;m not worried about getting the same epoch time twice. My goal is to have a real epoch time in nanoseconds.\r\n\r\n\r\n","title":"Is it possible to get EPOCH in Java in nanoseconds without using JNI/Native code or System.currentTimeMillis() * 1000000L?","body":"<p>I know this can be done in Linux, through a native call to <code>clock_gettime</code> from <code>sys/time.h</code>.</p>\n<p>I know this can be done with <code>System.currentTimeMillis() * 1000000L</code>, which is not good because you can have two equal epoch times if you call that in succession.</p>\n<p>Wondering if <strong>in the more recent versions of Java</strong> there is already a Java way of getting Epoch in nanoseconds.</p>\n<p>NOTE: I want the epoch with nanosecond precision. I just <strong>don't want</strong> to convert it to milliseconds with something like:</p>\n<pre><code>long nanos = TimeUnit.MILLISECONDS.toNanos(System.currentTimeMillis());\n</code></pre>\n<p>Thanks for any help!</p>\n<hr />\n<p><strong>EDIT1:</strong> I'm not worried about getting the same epoch time twice. My goal is to have a real epoch time in nanoseconds.</p>\n"},{"tags":["java","spring-boot","locale","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682344513,"creation_date":1682344513,"answer_id":76092668,"question_id":76090860,"body_markdown":"You might want to take a look at the [`LocaleResolver`][1] provided by Hibernate Validator.\r\n\r\nYou could create a resolver that would work based on the `LocaleContextHolder` which has its locale set by the `RequestContextFilter` :\r\n\r\n    @Bean\r\n    public LocalValidatorFactoryBean validator() {\r\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n    \r\n        factoryBean.setValidationMessageSource(messageSource());\r\n        factoryBean.setConfigurationInitializer( configuration -&gt; {\r\n            // cast to Hibernate Validator specific configuration to be able to access\r\n            // the locale resolver:\r\n            ( (HibernateValidatorConfiguration) configuration ).localeResolver(\r\n                    new LocaleResolver() {\r\n                        @Override\r\n                        public Locale resolve(LocaleResolverContext context) {\r\n                            // use the locale from the context holder.\r\n                            // this works with RequestContextFilter. \r\n                            return LocaleContextHolder.getLocale();\r\n                        }\r\n                    }\r\n            );\r\n        });\r\n        return factoryBean;\r\n    }\r\n\r\nIf the locale resolution by that filter doesn&#39;t meet your needs, you can create your own filter and add it to the chain. The general idea remains the same - get the locale in the filter and set it to some thread local variable, and retrieve the locale in the `LocaleResolver`.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-locale-resolver","title":"How to make HibernateValidator pick up Locale from HTTP request Header for measage templates in spring Boot?","body":"<p>You might want to take a look at the <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-locale-resolver\" rel=\"nofollow noreferrer\"><code>LocaleResolver</code></a> provided by Hibernate Validator.</p>\n<p>You could create a resolver that would work based on the <code>LocaleContextHolder</code> which has its locale set by the <code>RequestContextFilter</code> :</p>\n<pre><code>@Bean\npublic LocalValidatorFactoryBean validator() {\n    LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n\n    factoryBean.setValidationMessageSource(messageSource());\n    factoryBean.setConfigurationInitializer( configuration -&gt; {\n        // cast to Hibernate Validator specific configuration to be able to access\n        // the locale resolver:\n        ( (HibernateValidatorConfiguration) configuration ).localeResolver(\n                new LocaleResolver() {\n                    @Override\n                    public Locale resolve(LocaleResolverContext context) {\n                        // use the locale from the context holder.\n                        // this works with RequestContextFilter. \n                        return LocaleContextHolder.getLocale();\n                    }\n                }\n        );\n    });\n    return factoryBean;\n}\n</code></pre>\n<p>If the locale resolution by that filter doesn't meet your needs, you can create your own filter and add it to the chain. The general idea remains the same - get the locale in the filter and set it to some thread local variable, and retrieve the locale in the <code>LocaleResolver</code>.</p>\n"}],"owner":{"account_id":25495144,"reputation":53,"user_id":19289307,"display_name":"Roman Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682344513,"creation_date":1682331605,"question_id":76090860,"body_markdown":"I&#39;ve been cracking my head on this problem for a week. After deep research and debugging session I&#39;m just desperate.\r\n\r\nAll want to do is for the ```HibernateValidator``` to pick up messages from the provided ```MessageSource``` and use locale to interpolate messages from the ```MessageSource``` according to the template provided in the annotation for the object field.\r\n\r\nSo far the only thing ```HibernateValidator``` does is falling back to the ```Locale.getDefault()``` every time no matter what I do.\r\n\r\nThis thing where Spring developers say that there is to easy way to do that.\r\n\r\n[https://github.com/spring-projects/spring-boot/issues/20673][1]\r\n\r\nThis is the topic that describes the setup I should use to get the result that still does not work.\r\n\r\n[https://stackoverflow.com/questions/66951275/spring-boot-hibernate-validator-language-based-on-localecontextholder][2]\r\n\r\n\r\nThis is my starting setup that just work with one default locale in my case.\r\n\r\nWhat do I need to add or change in order for the ```HibernateValidator``` to pick up ```Locale``` from the Header and interpolate messages from the ```MessageSource``` in the correct ```Locale``` picked up from the request header?\r\n\r\nHere is the primitive setup I&#39;ve got.\r\n\r\nController.\r\n\r\n```java\r\npackage com.example.gatewayservice.controller;\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n//@Validated\r\npublic class UserDataController {\r\n\r\n    @Autowired\r\n    UserDataService userDataService;\r\n\r\n    @Async(&quot;threadPoolTaskExecutor&quot;)\r\n    @PostMapping(&quot;/getSimData&quot;)\r\n//    @Validated(OnRequestValidation.class)\r\n    public CompletableFuture&lt;ResponseEntity&lt;SimDataResponse&gt;&gt; getSimData(@Valid @RequestBody SimDataRequest request) {\r\n\r\n        log.info(&quot;Entered getSimData controller with the request ::\\n {}&quot;, request);\r\n\r\n        ResponseEntity&lt;SimDataResponse&gt; result = ResponseEntity.ok(userDataService.getSimData(request));\r\n\r\n        return CompletableFuture.completedFuture(result);\r\n    }\r\n}\r\n```\r\n\r\nRequest object that is validated with Hibernate validator.\r\n\r\n```java\r\npackage com.example.gatewayservice.dto.controller;\r\n\r\n@Data\r\npublic class SimDataRequest {\r\n\r\n    @NotEmpty(message = &quot;{msisdn.error.empty}&quot;)\r\n    private String msisdn;\r\n\r\n}\r\n```\r\n\r\nmessages.properties file content \r\n\r\n```\r\nmsisdn.error.empty=&quot;MSISDN is empty&quot;\r\n```\r\n\r\nmessages_fr.properties file content\r\n\r\n```\r\nmsisdn.error.empty=Le MSISDN est vide\r\n```\r\n\r\nAnd the root of all problems, the configuration that for the love of me I can&#39;t figure out.\r\n\r\n```java\r\npackage com.example.gatewayservice.config;\r\n\r\n@Configuration\r\npublic class ServiceConfig implements WebMvcConfigurer {\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder restTemplateBuilder) {\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .connectTimeout(Duration.ofSeconds(60))\r\n                .writeTimeout(Duration.ofSeconds(60))\r\n                .readTimeout(Duration.ofSeconds(60))\r\n                .build();\r\n\r\n        return restTemplateBuilder\r\n                .requestFactory(() -&gt; new OkHttp3ClientHttpRequestFactory(okHttpClient))\r\n                .build();\r\n\r\n    }\r\n\r\n    @Bean(&quot;threadPoolTaskExecutor&quot;)\r\n    public TaskExecutor asyncExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(50);\r\n        executor.setMaxPoolSize(1000);\r\n        executor.setQueueCapacity(50);\r\n        executor.setWaitForTasksToCompleteOnShutdown(true);\r\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\r\n        return executor;\r\n    }\r\n\r\n\r\n\r\n    /*locale resolution strategy*/\r\n    @Bean\r\n    public AcceptHeaderLocaleResolver localeResolver() {\r\n        final CustomLocaleResolver resolver = new CustomLocaleResolver();\r\n        resolver.setSupportedLocales(Arrays.asList(Locale.FRANCE, Locale.US, Locale.UK));\r\n        resolver.setDefaultLocale(Locale.US);\r\n        return resolver;\r\n    }\r\n\r\n    public static class CustomLocaleResolver extends AcceptHeaderLocaleResolver {\r\n        List&lt;Locale&gt; LOCALES = Arrays.asList(\r\n                new Locale(&quot;en&quot;),\r\n                new Locale(&quot;fr&quot;));\r\n        @Override\r\n        public Locale resolveLocale(HttpServletRequest request) {\r\n            String headerLang = request.getHeader(&quot;Accept-Language&quot;);\r\n            return headerLang == null || headerLang.isEmpty()\r\n                    ? Locale.getDefault()\r\n                    : Locale.lookup(Locale.LanguageRange.parse(headerLang), LOCALES);\r\n        }\r\n    }\r\n\r\n    /*default message source*/\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n//        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n        messageSource.setBasename(&quot;messages&quot;);\r\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        return messageSource;\r\n    }\r\n\r\n    /*Validator setup*/\r\n    @Bean\r\n    public LocalValidatorFactoryBean validator() {\r\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n\r\n        factoryBean.setValidationMessageSource(messageSource());\r\n\r\n//        MessageInterpolatorFactory interpolatorFactory = new MessageInterpolatorFactory(validationMessageSource());\r\n//        factoryBean.setMessageInterpolator(interpolatorFactory.getObject());\r\n\r\n        return factoryBean;\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/20673\r\n  [2]: https://stackoverflow.com/questions/66951275/spring-boot-hibernate-validator-language-based-on-localecontextholder","title":"How to make HibernateValidator pick up Locale from HTTP request Header for measage templates in spring Boot?","body":"<p>I've been cracking my head on this problem for a week. After deep research and debugging session I'm just desperate.</p>\n<p>All want to do is for the <code>HibernateValidator</code> to pick up messages from the provided <code>MessageSource</code> and use locale to interpolate messages from the <code>MessageSource</code> according to the template provided in the annotation for the object field.</p>\n<p>So far the only thing <code>HibernateValidator</code> does is falling back to the <code>Locale.getDefault()</code> every time no matter what I do.</p>\n<p>This thing where Spring developers say that there is to easy way to do that.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/20673\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/20673</a></p>\n<p>This is the topic that describes the setup I should use to get the result that still does not work.</p>\n<p><a href=\"https://stackoverflow.com/questions/66951275/spring-boot-hibernate-validator-language-based-on-localecontextholder\">Spring Boot, Hibernate validator language based on LocaleContextHolder</a></p>\n<p>This is my starting setup that just work with one default locale in my case.</p>\n<p>What do I need to add or change in order for the <code>HibernateValidator</code> to pick up <code>Locale</code> from the Header and interpolate messages from the <code>MessageSource</code> in the correct <code>Locale</code> picked up from the request header?</p>\n<p>Here is the primitive setup I've got.</p>\n<p>Controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gatewayservice.controller;\n\n@RestController\n@RequiredArgsConstructor\n@Slf4j\n@RequestMapping(&quot;/api/v1&quot;)\n//@Validated\npublic class UserDataController {\n\n    @Autowired\n    UserDataService userDataService;\n\n    @Async(&quot;threadPoolTaskExecutor&quot;)\n    @PostMapping(&quot;/getSimData&quot;)\n//    @Validated(OnRequestValidation.class)\n    public CompletableFuture&lt;ResponseEntity&lt;SimDataResponse&gt;&gt; getSimData(@Valid @RequestBody SimDataRequest request) {\n\n        log.info(&quot;Entered getSimData controller with the request ::\\n {}&quot;, request);\n\n        ResponseEntity&lt;SimDataResponse&gt; result = ResponseEntity.ok(userDataService.getSimData(request));\n\n        return CompletableFuture.completedFuture(result);\n    }\n}\n</code></pre>\n<p>Request object that is validated with Hibernate validator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gatewayservice.dto.controller;\n\n@Data\npublic class SimDataRequest {\n\n    @NotEmpty(message = &quot;{msisdn.error.empty}&quot;)\n    private String msisdn;\n\n}\n</code></pre>\n<p>messages.properties file content</p>\n<pre><code>msisdn.error.empty=&quot;MSISDN is empty&quot;\n</code></pre>\n<p>messages_fr.properties file content</p>\n<pre><code>msisdn.error.empty=Le MSISDN est vide\n</code></pre>\n<p>And the root of all problems, the configuration that for the love of me I can't figure out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gatewayservice.config;\n\n@Configuration\npublic class ServiceConfig implements WebMvcConfigurer {\n\n    @Bean\n    public RestTemplate restTemplate(RestTemplateBuilder restTemplateBuilder) {\n\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .connectTimeout(Duration.ofSeconds(60))\n                .writeTimeout(Duration.ofSeconds(60))\n                .readTimeout(Duration.ofSeconds(60))\n                .build();\n\n        return restTemplateBuilder\n                .requestFactory(() -&gt; new OkHttp3ClientHttpRequestFactory(okHttpClient))\n                .build();\n\n    }\n\n    @Bean(&quot;threadPoolTaskExecutor&quot;)\n    public TaskExecutor asyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(50);\n        executor.setMaxPoolSize(1000);\n        executor.setQueueCapacity(50);\n        executor.setWaitForTasksToCompleteOnShutdown(true);\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\n        return executor;\n    }\n\n\n\n    /*locale resolution strategy*/\n    @Bean\n    public AcceptHeaderLocaleResolver localeResolver() {\n        final CustomLocaleResolver resolver = new CustomLocaleResolver();\n        resolver.setSupportedLocales(Arrays.asList(Locale.FRANCE, Locale.US, Locale.UK));\n        resolver.setDefaultLocale(Locale.US);\n        return resolver;\n    }\n\n    public static class CustomLocaleResolver extends AcceptHeaderLocaleResolver {\n        List&lt;Locale&gt; LOCALES = Arrays.asList(\n                new Locale(&quot;en&quot;),\n                new Locale(&quot;fr&quot;));\n        @Override\n        public Locale resolveLocale(HttpServletRequest request) {\n            String headerLang = request.getHeader(&quot;Accept-Language&quot;);\n            return headerLang == null || headerLang.isEmpty()\n                    ? Locale.getDefault()\n                    : Locale.lookup(Locale.LanguageRange.parse(headerLang), LOCALES);\n        }\n    }\n\n    /*default message source*/\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n//        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(&quot;messages&quot;);\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n        return messageSource;\n    }\n\n    /*Validator setup*/\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n\n        factoryBean.setValidationMessageSource(messageSource());\n\n//        MessageInterpolatorFactory interpolatorFactory = new MessageInterpolatorFactory(validationMessageSource());\n//        factoryBean.setMessageInterpolator(interpolatorFactory.getObject());\n\n        return factoryBean;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682343989,"post_id":76092497,"comment_id":134195636,"body_markdown":"Hi&amp; Welcome! &quot;Is it secure to set .requestMatchers(&quot;/error&quot;).permitAll()?&quot; for debugging/understanding/&quot;fixing&quot;: definitely! For production: rather not!;)","body":"Hi&amp; Welcome! &quot;Is it secure to set .requestMatchers(&quot;/error&quot;).permitAll()?&quot; for debugging/understanding/&quot;fixing&quot;: definitely! For production: rather not!;)"},{"owner":{"account_id":13733333,"reputation":21,"user_id":9910322,"display_name":"Yevhenii Terentiev"},"score":0,"creation_date":1682346907,"post_id":76092497,"comment_id":134196484,"body_markdown":"@xerx593 Thanks for the answer! If disabling security for &quot;/error&quot; isn&#39;t a good idea, I wonder what is wrong with my code? My first guess was that it needed AuthenticationManager, so i implemented my own AuthenticationManager bean and it still doesn&#39;t work.","body":"@xerx593 Thanks for the answer! If disabling security for &quot;/error&quot; isn&#39;t a good idea, I wonder what is wrong with my code? My first guess was that it needed AuthenticationManager, so i implemented my own AuthenticationManager bean and it still doesn&#39;t work."}],"owner":{"account_id":13733333,"reputation":21,"user_id":9910322,"display_name":"Yevhenii Terentiev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682344193,"creation_date":1682343407,"question_id":76092497,"body_markdown":"I am trying to implement JWT authentication. This is going to be the only form of authentication in the app. Using Spring security I&#39;ve implemented JWT validation filter and added it to the chain before AnonymousAuthenticationFilter.\r\n\r\n```java\r\npublic class JwtTokenFilter extends BasicAuthenticationFilter {\r\n    private final JwtTokenService jwtTokenService;\r\n\r\n    public JwtTokenFilter(JwtTokenService jwtTokenService,\r\n                          AuthenticationManager authenticationManager) {\r\n        super(authenticationManager);\r\n        this.jwtTokenService = jwtTokenService;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n        String initialToken = request.getHeader(&quot;Authorization&quot;);\r\n        String token;\r\n\r\n        if(initialToken == null || initialToken.isEmpty()){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        if (initialToken.startsWith(&quot;Bearer &quot;)) {\r\n            token = initialToken.substring(7);\r\n        }\r\n        else {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        if(token.isEmpty()){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            String userId = jwtTokenService.getUserIdFromToken(token);\r\n            String userLogin = jwtTokenService.getUserLoginFromToken(token);\r\n            String role = jwtTokenService.getRoleFromToken(token);\r\n            Date expiration = jwtTokenService.getExpirationDateFromToken(token);\r\n\r\n            if(!userLogin.isEmpty() &amp;&amp; !userId.isEmpty() &amp;&amp; !role.isEmpty() &amp;&amp; expiration != null){\r\n                JwtUser user = new JwtUser(userId, userLogin, role, expiration);\r\n                UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\r\n                auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n        }\r\n        catch (Exception e){\r\n            logger.error(&quot;Error while parsing jwt: &quot; + e.getMessage());\r\n        }\r\n        finally {\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe filter works, with valid token it successfully creates UsernamePasswordAuthenticationToken and allows access. But after this i receive log saying &quot;Securing POST /error&quot; and another filter chain starts which doesn&#39;t have the same JWT token, so my filter does nothing in the new chain and i get AnonymousAuthenticationToken, which obviously leads to 401 Unathorized error.\r\n\r\nSo even valid token results in 401 Unauthorized.\r\n\r\n\r\nSetting `http.authorizeHttpRequests().requestMatchers(&quot;/error&quot;).permitAll()`\r\nin `securityFilterChain(HttpSecurity http)` method solves the issue.\r\n\r\nIs it secure to set `.requestMatchers(&quot;/error&quot;).permitAll()`?\r\n\r\nIf not, what could be the issue? Is there something wrong with my JWT validation logic implementation?","title":"Is it a good idea to add &quot;/error&quot; route to permitAll()?","body":"<p>I am trying to implement JWT authentication. This is going to be the only form of authentication in the app. Using Spring security I've implemented JWT validation filter and added it to the chain before AnonymousAuthenticationFilter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JwtTokenFilter extends BasicAuthenticationFilter {\n    private final JwtTokenService jwtTokenService;\n\n    public JwtTokenFilter(JwtTokenService jwtTokenService,\n                          AuthenticationManager authenticationManager) {\n        super(authenticationManager);\n        this.jwtTokenService = jwtTokenService;\n    }\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain) throws ServletException, IOException {\n        String initialToken = request.getHeader(&quot;Authorization&quot;);\n        String token;\n\n        if(initialToken == null || initialToken.isEmpty()){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        if (initialToken.startsWith(&quot;Bearer &quot;)) {\n            token = initialToken.substring(7);\n        }\n        else {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        if(token.isEmpty()){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        try {\n            String userId = jwtTokenService.getUserIdFromToken(token);\n            String userLogin = jwtTokenService.getUserLoginFromToken(token);\n            String role = jwtTokenService.getRoleFromToken(token);\n            Date expiration = jwtTokenService.getExpirationDateFromToken(token);\n\n            if(!userLogin.isEmpty() &amp;&amp; !userId.isEmpty() &amp;&amp; !role.isEmpty() &amp;&amp; expiration != null){\n                JwtUser user = new JwtUser(userId, userLogin, role, expiration);\n                UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\n                auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            }\n        }\n        catch (Exception e){\n            logger.error(&quot;Error while parsing jwt: &quot; + e.getMessage());\n        }\n        finally {\n            filterChain.doFilter(request, response);\n        }\n    }\n}\n</code></pre>\n<p>The filter works, with valid token it successfully creates UsernamePasswordAuthenticationToken and allows access. But after this i receive log saying &quot;Securing POST /error&quot; and another filter chain starts which doesn't have the same JWT token, so my filter does nothing in the new chain and i get AnonymousAuthenticationToken, which obviously leads to 401 Unathorized error.</p>\n<p>So even valid token results in 401 Unauthorized.</p>\n<p>Setting <code>http.authorizeHttpRequests().requestMatchers(&quot;/error&quot;).permitAll()</code>\nin <code>securityFilterChain(HttpSecurity http)</code> method solves the issue.</p>\n<p>Is it secure to set <code>.requestMatchers(&quot;/error&quot;).permitAll()</code>?</p>\n<p>If not, what could be the issue? Is there something wrong with my JWT validation logic implementation?</p>\n"},{"tags":["java","spring-boot","concurrency","parallel-processing","openshift"],"comments":[{"owner":{"account_id":2984481,"reputation":598,"user_id":2533691,"display_name":"Yano"},"score":0,"creation_date":1682365223,"post_id":76092035,"comment_id":134200735,"body_markdown":"This link might be useful to understand millicores: https://stackoverflow.com/questions/61851751/multi-threading-with-millicores-in-kubernetes","body":"This link might be useful to understand millicores: <a href=\"https://stackoverflow.com/questions/61851751/multi-threading-with-millicores-in-kubernetes\" title=\"multi threading with millicores in kubernetes\">stackoverflow.com/questions/61851751/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682344165,"creation_date":1682343766,"answer_id":76092550,"question_id":76092035,"body_markdown":"In short, there is no way to guarantee that you will get true parallelism.\r\n\r\nOn the Java side, no.  Java has zero control over this.  It is up to the operating system scheduler.\r\n\r\nAt the container level, with 500 millicores you should&lt;sup&gt;1&lt;/sup&gt; get at least 1/2 a core on average.  However, at some times no cores will be allocated, and other times two or more cores *could* be allocated.  \r\n\r\nAlso, if the node is not busy you *may* get more than 1/2 core on average.  The OpenShift [documentation][1] says this:\r\n\r\n&gt; *&quot;The CPU request represents a minimum amount of CPU that your container may consume, **but if there is no contention for CPU, it can use all available CPU on the node**. If there is CPU contention on the node, CPU requests provide a relative weight across all containers on the system for how much CPU time the container may use.&quot;*\r\n\r\nSo, in practice, with 500 millicores there are no guarantees of true parallelism either.\r\n\r\nHowever, even if you did get true parallelism with two threads, with 500 millicores you can only expect it 1/4 of the time.  If your goal is to get reliably fast performance, you need multiples of cores.  (You get what you pay for.)\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - Note: you *should* get this.  However, if the node&#39;s resources are over-committed, it is possible that you can get less CPU than you should.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.openshift.com/container-platform/3.11/dev_guide/compute_resources.html#dev-cpu-requests","title":"Achieving true parallelism with 500m CPU allocation in OpenShift 4 for a multi-threaded application","body":"<p>In short, there is no way to guarantee that you will get true parallelism.</p>\n<p>On the Java side, no.  Java has zero control over this.  It is up to the operating system scheduler.</p>\n<p>At the container level, with 500 millicores you should<sup>1</sup> get at least 1/2 a core on average.  However, at some times no cores will be allocated, and other times two or more cores <em>could</em> be allocated.</p>\n<p>Also, if the node is not busy you <em>may</em> get more than 1/2 core on average.  The OpenShift <a href=\"https://docs.openshift.com/container-platform/3.11/dev_guide/compute_resources.html#dev-cpu-requests\" rel=\"nofollow noreferrer\">documentation</a> says this:</p>\n<blockquote>\n<p><em>&quot;The CPU request represents a minimum amount of CPU that your container may consume, <strong>but if there is no contention for CPU, it can use all available CPU on the node</strong>. If there is CPU contention on the node, CPU requests provide a relative weight across all containers on the system for how much CPU time the container may use.&quot;</em></p>\n</blockquote>\n<p>So, in practice, with 500 millicores there are no guarantees of true parallelism either.</p>\n<p>However, even if you did get true parallelism with two threads, with 500 millicores you can only expect it 1/4 of the time.  If your goal is to get reliably fast performance, you need multiples of cores.  (You get what you pay for.)</p>\n<hr />\n<p><sup>1 - Note: you <em>should</em> get this.  However, if the node's resources are over-committed, it is possible that you can get less CPU than you should.</sup></p>\n"}],"owner":{"account_id":27478689,"reputation":1,"user_id":20966191,"display_name":"Gabriel Zirondi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682344165,"creation_date":1682340303,"question_id":76092035,"body_markdown":"Hello Stack Overflow community,\r\n\r\nI have been working with OpenShift 4 to deploy a multi-threaded application that relies on parallelism for better performance. In OpenShift, fractional CPU amounts can be allocated using millicores. In my case, I have a scenario where I can only allocate 500m (500 millicores) CPU for my microservice.\r\n\r\nThe microservice has a main thread and a method that uses the `@Async` annotation to run asynchronously. Is there any way to guarantee true parallelism for these two threads, rather than just concurrency, when allocating 500m CPU?\r\n\r\nAny guidance or suggestions on this topic would be much appreciated. Thank you!\r\n\r\nI checked Dynatrace to understand the number of worker processes my application is using. I expected to see multiple worker processes running concurrently, but I only found one worker process in the graph when selecting &quot;count&quot;.","title":"Achieving true parallelism with 500m CPU allocation in OpenShift 4 for a multi-threaded application","body":"<p>Hello Stack Overflow community,</p>\n<p>I have been working with OpenShift 4 to deploy a multi-threaded application that relies on parallelism for better performance. In OpenShift, fractional CPU amounts can be allocated using millicores. In my case, I have a scenario where I can only allocate 500m (500 millicores) CPU for my microservice.</p>\n<p>The microservice has a main thread and a method that uses the <code>@Async</code> annotation to run asynchronously. Is there any way to guarantee true parallelism for these two threads, rather than just concurrency, when allocating 500m CPU?</p>\n<p>Any guidance or suggestions on this topic would be much appreciated. Thank you!</p>\n<p>I checked Dynatrace to understand the number of worker processes my application is using. I expected to see multiple worker processes running concurrently, but I only found one worker process in the graph when selecting &quot;count&quot;.</p>\n"},{"tags":["java","spring-boot","graphql","graphql-java"],"answers":[{"comments":[{"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"score":1,"creation_date":1577989087,"post_id":59493499,"comment_id":105304035,"body_markdown":"Hi, I&#39;m trying to do this (multiple graphqls files), but Altair seems to only pick up the &quot;last&quot; one. Same issue with graphiql. Any ideas?","body":"Hi, I&#39;m trying to do this (multiple graphqls files), but Altair seems to only pick up the &quot;last&quot; one. Same issue with graphiql. Any ideas?"},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1682088974,"post_id":59493499,"comment_id":134165581,"body_markdown":"Hi Did you find the solution? I also have multiple files","body":"Hi Did you find the solution? I also have multiple files"},{"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"score":0,"creation_date":1682343970,"post_id":59493499,"comment_id":134195631,"body_markdown":"Make sure that if you have multiple queries/mutations spread across multiple files then you use an `extend` keyword: `extend type Query` / `extend type Mutation`.","body":"Make sure that if you have multiple queries/mutations spread across multiple files then you use an <code>extend</code> keyword: <code>extend type Query</code> / <code>extend type Mutation</code>."}],"tags":[],"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682344021,"creation_date":1577394661,"answer_id":59493499,"question_id":56856688,"body_markdown":"If you want to completely separate user-related queries from organization-related queries, then:\r\n\r\n 1. Split single .graphqls file into separate files:\r\n\r\n\r\n*user.graphqls*:\r\n```\r\n    extend type Query {\r\n        fetchUser(email: String): User\r\n    }\r\n    ...\r\n```\r\n*organization.graphqls*:\r\n```\r\n    extend type Query {\r\n        listOrganizations(max: Int): [GenericListing]\r\n    }\r\n    ...\r\n```\r\n\r\n 2. Split resolvers:\r\n\r\n```java\r\n    @Component\r\n    public class UserQuery implements GraphQLQueryResolver {\r\n        public User fetchUser(String email) {\r\n            ...\r\n        }\r\n    }\r\n```\r\n\r\n```java\r\n    @Component\r\n    public class OrganizationQuery implements GraphQLQueryResolver {\r\n        public List&lt;GenericListing&gt; listOrganisations(Integer max) {\r\n            ...\r\n        }\r\n    }\r\n```\r\n\r\n---\r\n\r\nAlso, you can use graphql-java-codegen plugin for auto-generating interfaces and data classes based on your schemas. By the way, it supports multiple schema files:\r\n\r\n* Gradle plugin: [graphql-java-codegen-gradle-plugin][1]\r\n* Maven plugin: [grapqhl-java-codegen-maven-plugin][2]\r\n\r\n\r\n  [1]: https://github.com/kobylynskyi/graphql-java-codegen-gradle-plugin\r\n  [2]: https://github.com/kobylynskyi/graphql-java-codegen-maven-plugin","title":"How do I logically split up my GraphQL schema and Resolvers with Kickstart Spring Boot GraphQL","body":"<p>If you want to completely separate user-related queries from organization-related queries, then:</p>\n<ol>\n<li>Split single .graphqls file into separate files:</li>\n</ol>\n<p><em>user.graphqls</em>:</p>\n<pre><code>    extend type Query {\n        fetchUser(email: String): User\n    }\n    ...\n</code></pre>\n<p><em>organization.graphqls</em>:</p>\n<pre><code>    extend type Query {\n        listOrganizations(max: Int): [GenericListing]\n    }\n    ...\n</code></pre>\n<ol start=\"2\">\n<li>Split resolvers:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Component\n    public class UserQuery implements GraphQLQueryResolver {\n        public User fetchUser(String email) {\n            ...\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Component\n    public class OrganizationQuery implements GraphQLQueryResolver {\n        public List&lt;GenericListing&gt; listOrganisations(Integer max) {\n            ...\n        }\n    }\n</code></pre>\n<hr />\n<p>Also, you can use graphql-java-codegen plugin for auto-generating interfaces and data classes based on your schemas. By the way, it supports multiple schema files:</p>\n<ul>\n<li>Gradle plugin: <a href=\"https://github.com/kobylynskyi/graphql-java-codegen-gradle-plugin\" rel=\"nofollow noreferrer\">graphql-java-codegen-gradle-plugin</a></li>\n<li>Maven plugin: <a href=\"https://github.com/kobylynskyi/graphql-java-codegen-maven-plugin\" rel=\"nofollow noreferrer\">grapqhl-java-codegen-maven-plugin</a></li>\n</ul>\n"}],"owner":{"account_id":281803,"reputation":13299,"user_id":578318,"accept_rate":59,"display_name":"sparkyspider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1841,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682344021,"creation_date":1562084838,"question_id":56856688,"body_markdown":"At the moment, all my query resolvers are under a single Query class and a single Query schema / type as such:\r\n```graphql\r\nschema {\r\n    query: Query #I&#39;d prefer UserQueries and OrganisationQueries\r\n    mutation: UserMutations\r\n    mutation: OrganisationMutations\r\n}\r\n\r\ntype Query {\r\n    fetchUser(email: String): User\r\n    listOrganisations(max: Int): [GenericListing]\r\n}\r\n\r\n...\r\n```\r\nAnd all my queries in one class:\r\n```java\r\n@Component\r\npublic class Query implements GraphQLQueryResolver {\r\n\r\n    public List&lt;GenericListing&gt; listOrganisations (Integer max) {\r\n        ...\r\n    }\r\n\r\n    public User fetchUser (String email) {\r\n        ...\r\n    }\r\n}\r\n```\r\nI&#39;ve managed to split up and logically separate my mutations by User and Organisation! \r\n```java\r\n@Component\r\npublic class UserMutations implements GraphQLMutationResolver {\r\n\r\n    public User createUser(String firstname, String lastname, String email, String msisdn, String password) {\r\n        ...\r\n    }\r\n}\r\n```\r\nHow do I logically separate my queries - or at least not have all my queries in the Query class.","title":"How do I logically split up my GraphQL schema and Resolvers with Kickstart Spring Boot GraphQL","body":"<p>At the moment, all my query resolvers are under a single Query class and a single Query schema / type as such:</p>\n\n<pre><code>schema {\n    query: Query #I'd prefer UserQueries and OrganisationQueries\n    mutation: UserMutations\n    mutation: OrganisationMutations\n}\n\ntype Query {\n    fetchUser(email: String): User\n    listOrganisations(max: Int): [GenericListing]\n}\n\n...\n</code></pre>\n\n<p>And all my queries in one class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Query implements GraphQLQueryResolver {\n\n    public List&lt;GenericListing&gt; listOrganisations (Integer max) {\n        ...\n    }\n\n    public User fetchUser (String email) {\n        ...\n    }\n}\n</code></pre>\n\n<p>I've managed to split up and logically separate my mutations by User and Organisation! </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class UserMutations implements GraphQLMutationResolver {\n\n    public User createUser(String firstname, String lastname, String email, String msisdn, String password) {\n        ...\n    }\n}\n</code></pre>\n\n<p>How do I logically separate my queries - or at least not have all my queries in the Query class.</p>\n"},{"tags":["java","literals"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":4,"creation_date":1682342430,"post_id":76092334,"comment_id":134195210,"body_markdown":"They get stored in the system&#39;s memory when the JVM executes the compiled code.","body":"They get stored in the system&#39;s memory when the JVM executes the compiled code."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1682343872,"post_id":76092334,"comment_id":134195605,"body_markdown":"After compilation, there are no no-string literals in java.  All non-string literals are the initial value of a variable.","body":"After compilation, there are no no-string literals in java.  All non-string literals are the initial value of a variable."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1682344077,"post_id":76092334,"comment_id":134195665,"body_markdown":"Can you elaborate more on the context of your question. Or give an example, what you need this information for.","body":"Can you elaborate more on the context of your question. Or give an example, what you need this information for."},{"owner":{"account_id":28218936,"reputation":21,"user_id":21569991,"display_name":"xyz xyz"},"score":0,"creation_date":1682344223,"post_id":76092334,"comment_id":134195711,"body_markdown":"@hc_dev int x = 10; double d = 10.2 where does 10 and 10.2 stored in stack or in heap?","body":"@hc_dev int x = 10; double d = 10.2 where does 10 and 10.2 stored in stack or in heap?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1682344253,"post_id":76092334,"comment_id":134195722,"body_markdown":"Probably neither.  They are probably inlined into the native code.","body":"Probably neither.  They are probably inlined into the native code."},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1682344565,"post_id":76092334,"comment_id":134195819,"body_markdown":"JVM runs these statements as byte codes. The literal values such as 10 or 10.2 are stored in operand stack which are used by byte code instructions.","body":"JVM runs these statements as byte codes. The literal values such as 10 or 10.2 are stored in operand stack which are used by byte code instructions."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682344632,"post_id":76092334,"comment_id":134195847,"body_markdown":"You asked a similar question a couple of weeks ago; see https://stackoverflow.com/questions/75981795/.  It is not a good idea to ask the same question repeatedly.  People remember.","body":"You asked a similar question a couple of weeks ago; see <a href=\"https://stackoverflow.com/questions/75981795/\">stackoverflow.com/questions/75981795</a>.  It is not a good idea to ask the same question repeatedly.  People remember."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682344930,"post_id":76092334,"comment_id":134195924,"body_markdown":"And to be honest, you don&#39;t need to know this kind of thing unless you are actually implementing as JVM.  It is not relevant to regular Java programming.","body":"And to be honest, you don&#39;t need to know this kind of thing unless you are actually implementing as JVM.  It is not relevant to regular Java programming."},{"owner":{"account_id":28218936,"reputation":21,"user_id":21569991,"display_name":"xyz xyz"},"score":0,"creation_date":1682345186,"post_id":76092334,"comment_id":134195990,"body_markdown":"@StephenC R they stored in constant pool ? Where is this constant pool located?","body":"@StephenC R they stored in constant pool ? Where is this constant pool located?"},{"owner":{"account_id":28218936,"reputation":21,"user_id":21569991,"display_name":"xyz xyz"},"score":0,"creation_date":1682345636,"post_id":76092334,"comment_id":134196079,"body_markdown":"@user16320675 Yes where is constant pool located ?","body":"@user16320675 Yes where is constant pool located ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682345756,"post_id":76092334,"comment_id":134196116,"body_markdown":"@xyzxyz - That has been asked and answered already.  Please reread my previous comment and think about what &quot;neither&quot; means.   For the record, the constant pool is not in memory at all ... and it is not accessed when the application code is actually executing.   And also, read the duplink question, and people&#39;s comments on your previous (deleted) questions on this topic.","body":"@xyzxyz - That has been asked and answered already.  Please reread my previous comment and think about what &quot;neither&quot; means.   For the record, the constant pool is not in memory at all ... and it is not accessed when the application code is actually executing.   And also, read the duplink question, and people&#39;s comments on your previous (deleted) questions on this topic."},{"owner":{"account_id":28218936,"reputation":21,"user_id":21569991,"display_name":"xyz xyz"},"score":0,"creation_date":1682346086,"post_id":76092334,"comment_id":134196218,"body_markdown":"@StephenC Sure. From Java-8 permgen has been removed and method area was inside permgen earlier. So method area also has been removed or it is there somewhere?","body":"@StephenC Sure. From Java-8 permgen has been removed and method area was inside permgen earlier. So method area also has been removed or it is there somewhere?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682352248,"post_id":76092334,"comment_id":134197935,"body_markdown":"The bytecode and native code segments will be held in metaspace.  But ... please, please, please listen to us when we tell you that you don&#39;t need to know.  It absolutely won&#39;t make you a better programmer.  I am not going to answer any more of your questions.","body":"The bytecode and native code segments will be held in metaspace.  But ... please, please, please listen to us when we tell you that you don&#39;t need to know.  It absolutely won&#39;t make you a better programmer.  I am not going to answer any more of your questions."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682527783,"post_id":76092334,"comment_id":134231761,"body_markdown":"The phrase _Are they stored in the .class file or in permanent generation space_ sounds as if you are expecting that they are stored either in the class file or in the permanent generation / metaspace. The truth is that both are involved: they have to be stored somewhere in the class file so that the classloader can load them. And during code execution they are stored in memory (most probably in metaspace because that is where presumable all loaded class data is stored).","body":"The phrase <i>Are they stored in the .class file or in permanent generation space</i> sounds as if you are expecting that they are stored either in the class file or in the permanent generation / metaspace. The truth is that both are involved: they have to be stored somewhere in the class file so that the classloader can load them. And during code execution they are stored in memory (most probably in metaspace because that is where presumable all loaded class data is stored)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682527993,"post_id":76092334,"comment_id":134231829,"body_markdown":"But note that not all literal values are equal: for some literal values there are special instructions (integer values -1 to 5, double values 0.0, 1.0 and 2.0), other can be inlined into the byte code (all byte and short values), the remaining are stored separate and referenced by the byte code.","body":"But note that not all literal values are equal: for some literal values there are special instructions (integer values -1 to 5, double values 0.0, 1.0 and 2.0), other can be inlined into the byte code (all byte and short values), the remaining are stored separate and referenced by the byte code."}],"owner":{"account_id":28218936,"reputation":21,"user_id":21569991,"display_name":"xyz xyz"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682344311,"answer_count":0,"score":0,"last_activity_date":1682343820,"creation_date":1682342322,"question_id":76092334,"body_markdown":"Where are integer or double literals stored in Java?\r\nAre they stored in the .class file or in permanent generation space\r\n(now in metaspace)?\r\n","title":"Storage of literals in Java","body":"<p>Where are integer or double literals stored in Java?\nAre they stored in the .class file or in permanent generation space\n(now in metaspace)?</p>\n"},{"tags":["java","hibernate","jpa","many-to-many","entity-relationship"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675926005,"post_id":75394989,"comment_id":133033472,"body_markdown":"`user_category` has an actual FK on the `category_id` in the database it seems. Is the same the case for the `user_id`?","body":"<code>user_category</code> has an actual FK on the <code>category_id</code> in the database it seems. Is the same the case for the <code>user_id</code>?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1675926647,"post_id":75394989,"comment_id":133033611,"body_markdown":"I have added a screenshot for better understanding. user_category table holds the P.K. of user and category for Many to Many relationship.","body":"I have added a screenshot for better understanding. user_category table holds the P.K. of user and category for Many to Many relationship."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675928548,"post_id":75394989,"comment_id":133034031,"body_markdown":"The screenshot does not show any constraints? Or at least not that I can tell","body":"The screenshot does not show any constraints? Or at least not that I can tell"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676020616,"creation_date":1676020616,"answer_id":75409026,"question_id":75394989,"body_markdown":"Changing the `Category#users` collections has no effect on the relationship, because that is not the owning side of it. The owning side is the one which has no use of `mappedBy`.\r\n\r\nSo if you want to remove a category, you will first have to remove the category from every `User#categories` collection.\r\n\r\nMaybe it&#39;s easier if you don&#39;t map that relationship as a `@ManyToMany` association and instead introduce an entity for the join table. Then you can use `@OneToMany` on both sides with `DELETE` cascading.","title":"Deleting referencing side entity in @ManyToMany relationship: JPA","body":"<p>Changing the <code>Category#users</code> collections has no effect on the relationship, because that is not the owning side of it. The owning side is the one which has no use of <code>mappedBy</code>.</p>\n<p>So if you want to remove a category, you will first have to remove the category from every <code>User#categories</code> collection.</p>\n<p>Maybe it's easier if you don't map that relationship as a <code>@ManyToMany</code> association and instead introduce an entity for the join table. Then you can use <code>@OneToMany</code> on both sides with <code>DELETE</code> cascading.</p>\n"},{"tags":[],"owner":{"account_id":8384565,"reputation":51,"user_id":6295381,"display_name":"AlbertOu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682343807,"creation_date":1682338793,"answer_id":76091806,"question_id":75394989,"body_markdown":"your entity Category should :\r\n\r\n1. remove all association from its Users;\r\n2. override hashCode() and equals() functions properly;\r\n\r\n```java\r\nclass Category{\r\n    \r\n    @ManyToMany(mappedBy = &quot;categories&quot;, ...)\r\n    Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n\r\n    @PreRemove\r\n    public void removeUsers() {\r\n        users.forEach(user-&gt;{\r\n            user.getCategories().removeIf(e-&gt;e.equals(this));\r\n        });\r\n        \r\n    }\r\n    \r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Category)) return false;\r\n        Category category = (Category) o;\r\n        return getId() != null &amp;&amp; getId().equals(category.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(Category.class);\r\n    }\r\n}\r\n```\r\n\r\nit is suggested to put the deletion inside transaction, or otherwise you may end up with Exception like &quot;Multiple representations of the same entity&quot;\r\n\r\n```java\r\n@Transactional(propagation = Propagation.REQUIRED)\r\nvoid deleteCategory(Long id) {\r\n    Category category = categoryRepository.findById(id);\r\n    categoryRepository.delete(category);\r\n    log.info(&quot;deleted --&gt; {}&quot;, category);\r\n}\r\n``` ","title":"Deleting referencing side entity in @ManyToMany relationship: JPA","body":"<p>your entity Category should :</p>\n<ol>\n<li>remove all association from its Users;</li>\n<li>override hashCode() and equals() functions properly;</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class Category{\n    \n    @ManyToMany(mappedBy = &quot;categories&quot;, ...)\n    Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\n    @PreRemove\n    public void removeUsers() {\n        users.forEach(user-&gt;{\n            user.getCategories().removeIf(e-&gt;e.equals(this));\n        });\n        \n    }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Category)) return false;\n        Category category = (Category) o;\n        return getId() != null &amp;&amp; getId().equals(category.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(Category.class);\n    }\n}\n</code></pre>\n<p>it is suggested to put the deletion inside transaction, or otherwise you may end up with Exception like &quot;Multiple representations of the same entity&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = Propagation.REQUIRED)\nvoid deleteCategory(Long id) {\n    Category category = categoryRepository.findById(id);\n    categoryRepository.delete(category);\n    log.info(&quot;deleted --&gt; {}&quot;, category);\n}\n</code></pre>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682343807,"creation_date":1675924231,"question_id":75394989,"body_markdown":"I am working on a Spring Boot Project in which I have used a **Many TO Many** relationship between two entities- **User** and **Category**.  \r\n**For User-**\r\n```\r\n//Set of categories a user is following\r\n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER) \r\n    @JoinTable(name = &quot;user_category&quot;, \r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;user_id&quot;,              \r\n                    referencedColumnName = &quot;id&quot;),          \r\n            inverseJoinColumns = @JoinColumn(                \r\n                    name = &quot;category_id&quot;,\r\n                    referencedColumnName = &quot;categoryId&quot;))\r\n    private Set&lt;Category&gt; categories=new HashSet&lt;&gt;();\r\n```\r\n\r\n**For Category-**\r\n```\r\n// set of users who follow the category\r\n    @ManyToMany(mappedBy = &quot;categories&quot;,cascade={CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n```\r\n**What I want-**  \r\nWhen I delete a **User** only user should be deleted and not the **Category**.  \r\nWhen I delete a **Category** only category should be deleted and not the **User**.  \r\n**Problem-**\r\nWhen I delete a **User**, it gets deleted successfully without affecting category. But, when I delete a **Category**, I get an error-\r\n```\r\njava.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`blog_application_database`.`user_category`, CONSTRAINT `FK4x6ipr43cfvhqc3aqda6j8c2l` FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`))\r\n```\r\nNow, to remove the associated users, in the category I use-\r\n```\r\n @PreRemove\r\n    public void removeUsers() {\r\n        System.out.println(&quot;Removing users for &quot; + this.categoryName + &quot; before deleting&quot;);\r\n        this.users=null;\r\n        this.users=new HashSet&lt;&gt;();\r\n    }\r\n```\r\nBut, the problem is not resolved.\r\n\r\n - One approach I came across from several other posts was to manually remove each and every mapping from each user (from user side) but it would be highly inefficient.  \r\nI am adding a screenshot of the db tables-\r\n[![enter image description here][1]][1]  \r\nPlease help me understand what is going wrong here and how to resolve it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2wGdg.png","title":"Deleting referencing side entity in @ManyToMany relationship: JPA","body":"<p>I am working on a Spring Boot Project in which I have used a <strong>Many TO Many</strong> relationship between two entities- <strong>User</strong> and <strong>Category</strong>.<br />\n<strong>For User-</strong></p>\n<pre><code>//Set of categories a user is following\n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER) \n    @JoinTable(name = &quot;user_category&quot;, \n            joinColumns = @JoinColumn(\n                    name = &quot;user_id&quot;,              \n                    referencedColumnName = &quot;id&quot;),          \n            inverseJoinColumns = @JoinColumn(                \n                    name = &quot;category_id&quot;,\n                    referencedColumnName = &quot;categoryId&quot;))\n    private Set&lt;Category&gt; categories=new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>For Category-</strong></p>\n<pre><code>// set of users who follow the category\n    @ManyToMany(mappedBy = &quot;categories&quot;,cascade={CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>What I want-</strong><br />\nWhen I delete a <strong>User</strong> only user should be deleted and not the <strong>Category</strong>.<br />\nWhen I delete a <strong>Category</strong> only category should be deleted and not the <strong>User</strong>.<br />\n<strong>Problem-</strong>\nWhen I delete a <strong>User</strong>, it gets deleted successfully without affecting category. But, when I delete a <strong>Category</strong>, I get an error-</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`blog_application_database`.`user_category`, CONSTRAINT `FK4x6ipr43cfvhqc3aqda6j8c2l` FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`))\n</code></pre>\n<p>Now, to remove the associated users, in the category I use-</p>\n<pre><code> @PreRemove\n    public void removeUsers() {\n        System.out.println(&quot;Removing users for &quot; + this.categoryName + &quot; before deleting&quot;);\n        this.users=null;\n        this.users=new HashSet&lt;&gt;();\n    }\n</code></pre>\n<p>But, the problem is not resolved.</p>\n<ul>\n<li>One approach I came across from several other posts was to manually remove each and every mapping from each user (from user side) but it would be highly inefficient.<br />\nI am adding a screenshot of the db tables-\n<a href=\"https://i.stack.imgur.com/2wGdg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wGdg.png\" alt=\"enter image description here\" /></a><br />\nPlease help me understand what is going wrong here and how to resolve it.</li>\n</ul>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682346054,"post_id":76092542,"comment_id":134196206,"body_markdown":"Parameters are bound as is, so unless you replace that part of the data binding framework that is what it is. Rename the field and property to `custom_file` is the easiest and mimics your actual form as well.","body":"Parameters are bound as is, so unless you replace that part of the data binding framework that is what it is. Rename the field and property to <code>custom_file</code> is the easiest and mimics your actual form as well."},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682347326,"post_id":76092542,"comment_id":134196597,"body_markdown":"Ok thanks it&#39;s clearer then, but in this case the solution may be to send a json next to the multipart, is it a good practice ?","body":"Ok thanks it&#39;s clearer then, but in this case the solution may be to send a json next to the multipart, is it a good practice ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682403560,"post_id":76092542,"comment_id":134205245,"body_markdown":"What to send is a opinionated question/answer so I&#39;m going to refrain from answering that.","body":"What to send is a opinionated question/answer so I&#39;m going to refrain from answering that."}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682343683,"creation_date":1682343683,"question_id":76092542,"body_markdown":"I have a Restful API and I want to upload a file and send other data at the same time. I use multipart-data because it seems more optimized than sending a base64.\r\n\r\nBut just like json I would like the parameters sent in my request to be in snake case. For now, I am obliged to send them in camel case as their definition in the class `MyCustomRequest`.\r\n\r\n```\r\n@PutMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;Object&gt; send(\r\n    @PathVariable Integer id,\r\n    @Valid MyCustomRequest request\r\n) {\r\n    //\r\n}\r\n```\r\n\r\nFor example if I send `custom_file`, it will not be deserialized correctly to `customFile`. And @JsonProperty does not work with multipart.\r\n\r\n```\r\n@Data\r\npublic class MyCustomRequest   {\r\n    @JsonProperty(&#39;custom_file&#39;)\r\n    @NotNull\r\n    private MultipartFile customFile;\r\n\r\n    @JsonProperty(&#39;time_saved&#39;)\r\n    @Size(max = 1000)\r\n    private String timeSaved;\r\n\r\n    @Size(max = 1000)\r\n    private String comment;\r\n}\r\n```\r\n\r\nAny idea please? I want to respect the snake case everywhere to keep some consistency on the front-end and especially with Typescript typings.","title":"Spring boot - multipart field serialization from snake case not working","body":"<p>I have a Restful API and I want to upload a file and send other data at the same time. I use multipart-data because it seems more optimized than sending a base64.</p>\n<p>But just like json I would like the parameters sent in my request to be in snake case. For now, I am obliged to send them in camel case as their definition in the class <code>MyCustomRequest</code>.</p>\n<pre><code>@PutMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;Object&gt; send(\n    @PathVariable Integer id,\n    @Valid MyCustomRequest request\n) {\n    //\n}\n</code></pre>\n<p>For example if I send <code>custom_file</code>, it will not be deserialized correctly to <code>customFile</code>. And @JsonProperty does not work with multipart.</p>\n<pre><code>@Data\npublic class MyCustomRequest   {\n    @JsonProperty('custom_file')\n    @NotNull\n    private MultipartFile customFile;\n\n    @JsonProperty('time_saved')\n    @Size(max = 1000)\n    private String timeSaved;\n\n    @Size(max = 1000)\n    private String comment;\n}\n</code></pre>\n<p>Any idea please? I want to respect the snake case everywhere to keep some consistency on the front-end and especially with Typescript typings.</p>\n"},{"tags":["java","elasticsearch","opensearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1682345297,"post_id":76092523,"comment_id":134196011,"body_markdown":"It looks like your `document` variable is a string while [it should](https://github.com/opensearch-project/opensearch-java/blob/main/java-client/src/main/java/org/opensearch/client/opensearch/core/UpdateRequest.java#L507) be a `TPartialDocument` instead","body":"It looks like your <code>document</code> variable is a string while <a href=\"https://github.com/opensearch-project/opensearch-java/blob/main/java-client/src/main/java/org/opensearch/client/opensearch/core/UpdateRequest.java#L507\" rel=\"nofollow noreferrer\">it should</a> be a <code>TPartialDocument</code> instead"},{"owner":{"account_id":70864,"reputation":1205,"user_id":205110,"accept_rate":80,"display_name":"Reza M."},"score":0,"creation_date":1682355059,"post_id":76092523,"comment_id":134198549,"body_markdown":"It&#39;s generic type ?","body":"It&#39;s generic type ?"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1682355342,"post_id":76092523,"comment_id":134198626,"body_markdown":"Does this help? https://stackoverflow.com/a/72026251/4604579","body":"Does this help? <a href=\"https://stackoverflow.com/a/72026251/4604579\">stackoverflow.com/a/72026251/4604579</a>"},{"owner":{"account_id":70864,"reputation":1205,"user_id":205110,"accept_rate":80,"display_name":"Reza M."},"score":0,"creation_date":1682359104,"post_id":76092523,"comment_id":134199485,"body_markdown":"No, unfortunately, all of them required an Object class. The best I can do is a Map&lt;String, Object&gt; .... I will have to probably go and change a lot of code to comply","body":"No, unfortunately, all of them required an Object class. The best I can do is a Map&lt;String, Object&gt; .... I will have to probably go and change a lot of code to comply"}],"owner":{"account_id":70864,"reputation":1205,"user_id":205110,"accept_rate":80,"display_name":"Reza M."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682343557,"creation_date":1682343557,"question_id":76092523,"body_markdown":"I am upgrading some legacy code to utilize OpenSearch Java Api Client v1.0.0.\r\nI am limited on version because of jdk 11 required.\r\n\r\nI would like to do something similar: \r\n\r\n```\r\nPOST xx/_update/123\r\n{\r\n  &quot;doc&quot;: {\r\n  \t&quot;dateLastModified&quot;:1682281110874,\r\n  \t&quot;FR&quot;:&quot;sss&quot;,\r\n  \t&quot;someOtherId&quot;:12,\r\n  \t&quot;EN&quot;:&quot;sss&quot;\r\n  }\r\n}\r\n```\r\n\r\nHere is the code I believed should of worked but I believe I am not allowed to use String\r\n\r\n```\r\n    public void updateAsync(@NotNull PK id, @NotNull String document) throws IOException {\r\n        \r\n        openSearchAsyncClient.update(new UpdateRequest.Builder&lt;T, String&gt;()\r\n                                         .index(index)\r\n                                         .id(convertId(id))\r\n                                         .doc(document)\r\n                                         .build(), targetType);\r\n}\r\n```\r\n\r\nI cannot seem to pass to it any other types of document than the Data Class.\r\nTo make it work with old code, I need to be able to provide it a string.\r\n\r\nI cannot find any documentations on Update.\r\n\r\nI get a OpenSearchException with this detailed message:\r\n\r\n```\r\nRequest failed: [x_content_parse_exception] [1:8] [UpdateRequest] doc doesn’t support values of type: VALUE_STRING\r\n```\r\n\r\n\r\n","title":"OpenSearch how to update with Partial Document","body":"<p>I am upgrading some legacy code to utilize OpenSearch Java Api Client v1.0.0.\nI am limited on version because of jdk 11 required.</p>\n<p>I would like to do something similar:</p>\n<pre><code>POST xx/_update/123\n{\n  &quot;doc&quot;: {\n    &quot;dateLastModified&quot;:1682281110874,\n    &quot;FR&quot;:&quot;sss&quot;,\n    &quot;someOtherId&quot;:12,\n    &quot;EN&quot;:&quot;sss&quot;\n  }\n}\n</code></pre>\n<p>Here is the code I believed should of worked but I believe I am not allowed to use String</p>\n<pre><code>    public void updateAsync(@NotNull PK id, @NotNull String document) throws IOException {\n        \n        openSearchAsyncClient.update(new UpdateRequest.Builder&lt;T, String&gt;()\n                                         .index(index)\n                                         .id(convertId(id))\n                                         .doc(document)\n                                         .build(), targetType);\n}\n</code></pre>\n<p>I cannot seem to pass to it any other types of document than the Data Class.\nTo make it work with old code, I need to be able to provide it a string.</p>\n<p>I cannot find any documentations on Update.</p>\n<p>I get a OpenSearchException with this detailed message:</p>\n<pre><code>Request failed: [x_content_parse_exception] [1:8] [UpdateRequest] doc doesn’t support values of type: VALUE_STRING\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":13492843,"reputation":151,"user_id":9734514,"display_name":"Nkalian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682371531,"answer_count":0,"score":0,"last_activity_date":1682343240,"creation_date":1682343240,"question_id":76092470,"body_markdown":"I&#39;m trying to migrate an old project from Spring 5.3.X to Spring Boot 3.0.6 and running into an issue with our deprecated OAuth server ( self-built). It&#39;s implemented so far that you can&#39;t get roles / scopes of the user with the JWT or you can load the roles / scopes from a database - No, you have to call a protected REST endpoint of the OAuth server to get the information. I can still do that with Spring 5.3.x using `org.springframework.security.oauth2.client.OAuth2RestTemplate`. But this class does not exist anymore with Spring Boot 3.0.6. What options do I have now to call the protected REST endpoint of the OAuth server?","title":"Migration to Spring 6 - How can I replace OAuth2RestTemplate.java to get user roles from OAuth?","body":"<p>I'm trying to migrate an old project from Spring 5.3.X to Spring Boot 3.0.6 and running into an issue with our deprecated OAuth server ( self-built). It's implemented so far that you can't get roles / scopes of the user with the JWT or you can load the roles / scopes from a database - No, you have to call a protected REST endpoint of the OAuth server to get the information. I can still do that with Spring 5.3.x using <code>org.springframework.security.oauth2.client.OAuth2RestTemplate</code>. But this class does not exist anymore with Spring Boot 3.0.6. What options do I have now to call the protected REST endpoint of the OAuth server?</p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":28150049,"reputation":1,"user_id":21511784,"display_name":"Varsha Bhade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682343216,"creation_date":1680020987,"question_id":75868790,"body_markdown":"I am trying to cache the authorisation filter evaluation result. I am using `GlobalMethodSecurityConfiguration` for security configuration and found this `PermissionCacheOptimizer` of `MethodSecurityExpressionHandler` in the documentation, but I was unable to find a proper resource on how to use it or figure it out on my own.\r\n\r\nI am able to create the `PermissionCacheOptimizer` object by implementing it but not sure how and where to use it. \r\n\r\nHow can I use it to cache this result?","title":"How do I use PermissionCacheOptimizer to cache a result in Spring Boot?","body":"<p>I am trying to cache the authorisation filter evaluation result. I am using <code>GlobalMethodSecurityConfiguration</code> for security configuration and found this <code>PermissionCacheOptimizer</code> of <code>MethodSecurityExpressionHandler</code> in the documentation, but I was unable to find a proper resource on how to use it or figure it out on my own.</p>\n<p>I am able to create the <code>PermissionCacheOptimizer</code> object by implementing it but not sure how and where to use it.</p>\n<p>How can I use it to cache this result?</p>\n"},{"tags":["java","jpa","ejb-3.0"],"comments":[{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1268625721,"post_id":2444962,"comment_id":2431640,"body_markdown":"*&quot;my code needs to access the table where I specify it to read.&quot;* could you please clarify what you&#39;re trying to do.","body":"<i>&quot;my code needs to access the table where I specify it to read.&quot;</i> could you please clarify what you&#39;re trying to do."},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1268626127,"post_id":2444962,"comment_id":2431654,"body_markdown":"Please see my comment to answer 1. Thanks.","body":"Please see my comment to answer 1. Thanks."},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":1,"creation_date":1268626474,"post_id":2444962,"comment_id":2431676,"body_markdown":"To rephrase: I need dynamic schema. Where the Table is created on the fly.","body":"To rephrase: I need dynamic schema. Where the Table is created on the fly."},{"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"score":0,"creation_date":1268701361,"post_id":2444962,"comment_id":2439189,"body_markdown":"Do you want to create a new Table at runtime ???","body":"Do you want to create a new Table at runtime ???"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":2,"creation_date":1375571276,"post_id":2444962,"comment_id":26387974,"body_markdown":"Whenever I hear of a db schema containing a variable number of tables I know someone is missing fundamental relational database principles.","body":"Whenever I hear of a db schema containing a variable number of tables I know someone is missing fundamental relational database principles."},{"owner":{"account_id":8060137,"reputation":397,"user_id":6075912,"accept_rate":100,"display_name":"Sadashiv"},"score":0,"creation_date":1580732322,"post_id":2444962,"comment_id":106181815,"body_markdown":"@zengr how did u solve this problem.\nI am having the same requirements for my project.","body":"@zengr how did u solve this problem. I am having the same requirements for my project."}],"answers":[{"comments":[{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":1,"creation_date":1268625983,"post_id":2445004,"comment_id":2431647,"body_markdown":"Ok, this is my scenario. I have one JPA class called &quot;Database&quot; and I can have many number of Tables (depending on the input data from the client side). So, for now, the Database class only creates ONE table when it runs (@Table = name). But I need this class to create Tables at runtime with the TableName variable coming from some where else. I tried your solution. It did not work, it says: The value for annotation attribute Table.name must be a constant expression.","body":"Ok, this is my scenario. I have one JPA class called &quot;Database&quot; and I can have many number of Tables (depending on the input data from the client side). So, for now, the Database class only creates ONE table when it runs (@Table = name). But I need this class to create Tables at runtime with the TableName variable coming from some where else. I tried your solution. It did not work, it says: The value for annotation attribute Table.name must be a constant expression."},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1268626459,"post_id":2445004,"comment_id":2431675,"body_markdown":"To rephrase: I need dynamic schema. Where the Table is created on the fly.","body":"To rephrase: I need dynamic schema. Where the Table is created on the fly."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1268627264,"post_id":2445004,"comment_id":2431719,"body_markdown":"@zengr: Check out my addendum to the post.","body":"@zengr: Check out my addendum to the post."},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1268627274,"post_id":2445004,"comment_id":2431720,"body_markdown":"Thanks for your help. :) I am using JPA and one more question, will &quot;em.createNativeQuery(create table SQL query)&quot; work? where EntityManager em.","body":"Thanks for your help. :) I am using JPA and one more question, will &quot;em.createNativeQuery(create table SQL query)&quot; work? where EntityManager em."},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1268627373,"post_id":2445004,"comment_id":2431728,"body_markdown":"and, is this post a workaround? http://java.dzone.com/articles/hibernate-dynamic-table-routin","body":"and, is this post a workaround? <a href=\"http://java.dzone.com/articles/hibernate-dynamic-table-routin\" rel=\"nofollow noreferrer\">java.dzone.com/articles/hibernate-dynamic-table-routin</a>"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1268634657,"post_id":2445004,"comment_id":2432158,"body_markdown":"@zengr: Yes the query should work. Regarding the example, I don&#39;t see how that fits in. It is discussing the issue of accessing 2 different schemas.","body":"@zengr: Yes the query should work. Regarding the example, I don&#39;t see how that fits in. It is discussing the issue of accessing 2 different schemas."},{"owner":{"account_id":437098,"reputation":629,"user_id":824614,"accept_rate":59,"display_name":"John"},"score":0,"creation_date":1429882989,"post_id":2445004,"comment_id":47824139,"body_markdown":"Know this is an old question but if you&#39;re going to use a static variable for the table name you should make it final and protected. Someone could come along and change this value which may be used for building up queries in other classes.","body":"Know this is an old question but if you&#39;re going to use a static variable for the table name you should make it final and protected. Someone could come along and change this value which may be used for building up queries in other classes."}],"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"comment_count":7,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1430102491,"creation_date":1268625455,"answer_id":2445004,"question_id":2444962,"body_markdown":"You can do something like this, if thats your concern, I guess. **Never tried it, its just a wild guess**. But thats the usual practice -- I follow for Named Queries; yes, that&#39;s a different thing altogether.\r\n\r\n    @Entity\r\n    @Table(name = Database.tableName)\r\n    public class Database implements Serializable {\r\n        public static final String tableName = &quot;TABLE_1&quot;;\r\n        ...............\r\n    }\r\n\r\nBut I don&#39;t see why anyone would do that. Could you tell us what are you up to? Why you have few tables exactly same definition?\r\n\r\n**[Edited]**\r\n\r\n&gt; I tried your solution. It did not\r\n&gt; work, it says: The value for\r\n&gt; annotation attribute Table.name must\r\n&gt; be a constant expression.\r\n\r\nSo, isn&#39;t that clear enough? I mean you can&#39;t do that. And I believe its quite logical. If you want Hibernate to generate your schema then you can define all the entities you want, in the schema, and with the appropriate relationships.","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p>You can do something like this, if thats your concern, I guess. <strong>Never tried it, its just a wild guess</strong>. But thats the usual practice -- I follow for Named Queries; yes, that's a different thing altogether.</p>\n\n<pre><code>@Entity\n@Table(name = Database.tableName)\npublic class Database implements Serializable {\n    public static final String tableName = \"TABLE_1\";\n    ...............\n}\n</code></pre>\n\n<p>But I don't see why anyone would do that. Could you tell us what are you up to? Why you have few tables exactly same definition?</p>\n\n<p><strong>[Edited]</strong></p>\n\n<blockquote>\n  <p>I tried your solution. It did not\n  work, it says: The value for\n  annotation attribute Table.name must\n  be a constant expression.</p>\n</blockquote>\n\n<p>So, isn't that clear enough? I mean you can't do that. And I believe its quite logical. If you want Hibernate to generate your schema then you can define all the entities you want, in the schema, and with the appropriate relationships.</p>\n"},{"comments":[{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1268628154,"post_id":2445109,"comment_id":2431775,"body_markdown":"Is this a possible workaround? http://java.dzone.com/articles/hibernate-dynamic-table-routin","body":"Is this a possible workaround? <a href=\"http://java.dzone.com/articles/hibernate-dynamic-table-routin\" rel=\"nofollow noreferrer\">java.dzone.com/articles/hibernate-dynamic-table-routin</a>"},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":2,"creation_date":1268662235,"post_id":2445109,"comment_id":2434573,"body_markdown":"@zengr I can&#39;t answer this question, I still don&#39;t understand what you&#39;re trying to do. Dynamic tables? Different schemas? This is not clear.","body":"@zengr I can&#39;t answer this question, I still don&#39;t understand what you&#39;re trying to do. Dynamic tables? Different schemas? This is not clear."},{"owner":{"account_id":19015,"reputation":16929,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"score":0,"creation_date":1268664092,"post_id":2445109,"comment_id":2434846,"body_markdown":"@zengr It does look like this link does what you want (although it can completely obfuscate things for a maintenance engineer). Hibernate Shards is also an interesting option. But when you go in this direction, ask yourself many many times &quot;Do you really need this?&quot;. Is your project really really complex to warrant this complex solution?","body":"@zengr It does look like this link does what you want (although it can completely obfuscate things for a maintenance engineer). Hibernate Shards is also an interesting option. But when you go in this direction, ask yourself many many times &quot;Do you really need this?&quot;. Is your project really really complex to warrant this complex solution?"}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1268627881,"creation_date":1268627881,"answer_id":2445109,"question_id":2444962,"body_markdown":"Specifying the table name at runtime is not possible, this is simply not how JPA works (and I&#39;m still not sure to get your requirement). Either map different entities on your set of tables and run various queries or build them dynamically (maybe using the Criteria API) depending on the input from the client side **or** use something else than JPA (like iBATIS).\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/906671/jpa-how-do-i-specify-the-table-name-corresponding-to-a-class-at-runtime","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p>Specifying the table name at runtime is not possible, this is simply not how JPA works (and I'm still not sure to get your requirement). Either map different entities on your set of tables and run various queries or build them dynamically (maybe using the Criteria API) depending on the input from the client side <strong>or</strong> use something else than JPA (like iBATIS).</p>\n"},{"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1360604842,"creation_date":1360604842,"answer_id":14817815,"question_id":2444962,"body_markdown":"If you want only to reference/read the table name, it is possible as in the code below. If you want to change, it is not possible as Pascal said.\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = Database.tableName)\r\n    public class Database implements Serializable {\r\n        public static final String tableName = &quot;TABLE_1&quot;;//this variable you can reference in other portions of your code. Of course you cannot change it.\r\n        ...............\r\n    }\r\n","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p>If you want only to reference/read the table name, it is possible as in the code below. If you want to change, it is not possible as Pascal said.</p>\n\n<pre><code>@Entity\n@Table(name = Database.tableName)\npublic class Database implements Serializable {\n    public static final String tableName = \"TABLE_1\";//this variable you can reference in other portions of your code. Of course you cannot change it.\n    ...............\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233411,"reputation":135,"user_id":2728125,"accept_rate":100,"display_name":"Alex85"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404721945,"creation_date":1404720618,"answer_id":24605804,"question_id":2444962,"body_markdown":"If you want to select data from different tables, \r\n\r\nthen you can use :\r\n\r\n`@Subselect(&quot;&quot;)` \r\n\r\ninstead of :\r\n\r\n`@Table(name = &quot;tableName&quot;)`.","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p>If you want to select data from different tables, </p>\n\n<p>then you can use :</p>\n\n<p><code>@Subselect(\"\")</code> </p>\n\n<p>instead of :</p>\n\n<p><code>@Table(name = \"tableName\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":10183722,"reputation":496,"user_id":7519543,"display_name":"h10g"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578281029,"creation_date":1578281029,"answer_id":59606316,"question_id":2444962,"body_markdown":"I have a workaround.\r\n&lt;br&gt;\r\nIt uses javax.persistence.EntityManager and String.format to do that.\r\n\r\n\r\n```Java\r\npackage com.example.test.dao;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.List;\r\nimport javax.persistence.EntityManager;\r\n\r\n@Component\r\npublic class SomeDao {\r\n    @Autowired\r\n    EntityManager em;\r\n\r\n    public List&lt;?&gt; listFoodMoneyDateOfPayment(int departmentId, String sumKey, String tableName) {\r\n        String s = &quot;SELECT SUM(%s) AS money, CONCAT(YEAR(apply_time), &#39;-&#39;, MONTH(apply_time)) AS yearmonth &quot; +\r\n                &quot;FROM (%s) WHERE department_id = %d GROUP BY yearmonth&quot;;\r\n        String sql = String.format(s, sumKey, tableName, departmentId);\r\n        System.out.println(sql);\r\n\r\n        List&lt;?&gt; test = em.createNativeQuery(sql).getResultList();\r\n\r\n        return test;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe invoke code is that:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class TestController {\r\n\r\n    @Autowired\r\n    private SomeDao dao;\r\n\r\n    @RequestMapping(&quot;/test2&quot;)\r\n    public HttpEntity test2() {\r\n        var l = dao.listFoodMoneyDateOfPayment(12, &quot;food_payment&quot;, &quot;payment_application&quot;);\r\n        System.out.println(l.getClass());\r\n        System.out.println(JSON.toJSONString(l));\r\n        return ResultBean.success();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd it works well. &lt;br&gt;\r\nBut you should check the arguments passed in.","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p>I have a workaround.\n<br>\nIt uses javax.persistence.EntityManager and String.format to do that.</p>\n\n<pre><code>package com.example.test.dao;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\nimport javax.persistence.EntityManager;\n\n@Component\npublic class SomeDao {\n    @Autowired\n    EntityManager em;\n\n    public List&lt;?&gt; listFoodMoneyDateOfPayment(int departmentId, String sumKey, String tableName) {\n        String s = \"SELECT SUM(%s) AS money, CONCAT(YEAR(apply_time), '-', MONTH(apply_time)) AS yearmonth \" +\n                \"FROM (%s) WHERE department_id = %d GROUP BY yearmonth\";\n        String sql = String.format(s, sumKey, tableName, departmentId);\n        System.out.println(sql);\n\n        List&lt;?&gt; test = em.createNativeQuery(sql).getResultList();\n\n        return test;\n    }\n}\n\n</code></pre>\n\n<p>The invoke code is that:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class TestController {\n\n    @Autowired\n    private SomeDao dao;\n\n    @RequestMapping(\"/test2\")\n    public HttpEntity test2() {\n        var l = dao.listFoodMoneyDateOfPayment(12, \"food_payment\", \"payment_application\");\n        System.out.println(l.getClass());\n        System.out.println(JSON.toJSONString(l));\n        return ResultBean.success();\n    }\n}\n\n</code></pre>\n\n<p>And it works well. <br>\nBut you should check the arguments passed in.</p>\n"},{"tags":[],"owner":{"account_id":18984215,"reputation":1,"user_id":13854940,"display_name":"Pavan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682342866,"creation_date":1682342866,"answer_id":76092432,"question_id":2444962,"body_markdown":"**We can leverage interface constants and initialize at annotation**\r\n\r\nThis is possible because all interface variable are by default constants.\r\n\r\n```Java\r\ninterface DomainPropertiesHelper {\r\n String TABLE_NAME = &quot;DB_TABLE&quot;;\r\n} \r\n\r\n\r\n@Entity\r\n@Table(name = DomainPropertiesHelper.TABLE_NAME)\r\nclass Database implements Serializable {\r\n @Id\r\n private Long id;\r\n}\r\n```","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p><strong>We can leverage interface constants and initialize at annotation</strong></p>\n<p>This is possible because all interface variable are by default constants.</p>\n<pre><code>interface DomainPropertiesHelper {\n String TABLE_NAME = &quot;DB_TABLE&quot;;\n} \n\n\n@Entity\n@Table(name = DomainPropertiesHelper.TABLE_NAME)\nclass Database implements Serializable {\n @Id\n private Long id;\n}\n</code></pre>\n"}],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70448,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":2445004,"answer_count":6,"score":17,"last_activity_date":1682342866,"creation_date":1268624548,"question_id":2444962,"body_markdown":"I am using JPA and I need to make the &quot;tableName&quot; a variable. \r\n\r\nIn a database, I have many tables, and my code needs to access the table where I specify it to read.\r\n\r\n    @Entity\r\n    @Table(name = &quot;tableName&quot;)\r\n    public class Database implements Serializable {...............}\r\n\r\nAny ideas?","title":"In @Table(name = &quot;tableName&quot;) - make &quot;tableName&quot; a variable in JPA","body":"<p>I am using JPA and I need to make the \"tableName\" a variable. </p>\n\n<p>In a database, I have many tables, and my code needs to access the table where I specify it to read.</p>\n\n<pre><code>@Entity\n@Table(name = \"tableName\")\npublic class Database implements Serializable {...............}\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","azure","web-services","cxf","jax-ws"],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682342859,"creation_date":1682342859,"question_id":76092429,"body_markdown":"First of all a little bit of context. We have application in Azure and running on Java/Tomcat. We use SOAP webservices using Apache CXF. We have an interfacing application, who are in the process of migrating to Azure. So for integration tests, they provided us with their Azure URL that we need to connect to. The code uses MSAL4J too. \r\n\r\nBut every time we try to connect to their URL we are getting the error:\r\n\r\n    Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 503 Service Unavailable&quot;\r\n\r\nThe code is written currently like:\r\n\r\n    public void init() throws Exception {\r\n    \t\r\n    \t// Set the security handler\r\n    \tgetService().setHandlerResolver(new HandlerResolverImpl());\r\n    \r\n    \t// Setting endpoint URL and timeout...\r\n    \tgetBindingProvider().getRequestContext().put(&quot;javax.xml.ws.client.receiveTimeout&quot;, connectTimeout);\r\n    \tgetBindingProvider().getRequestContext().put(&quot;javax.xml.ws.client.connectionTimeout&quot;, connectTimeout);\r\n    \tgetBindingProvider().getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endPointUrl);\r\n    \r\n    \tMap&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n    \theaders.put(&quot;Content-Type&quot;, Collections.singletonList(&quot;application/soap+xml&quot;));\r\n    \theaders.put(Message.ENCODING, Collections.singletonList(&quot;UTF-8&quot;));\r\n    \r\n    \t// Get the Azure Access Token\r\n    \tString token = null;\r\n    \r\n    \ttry {\r\n    \r\n    \t\tgetLogger().debug(&quot;Acquiring Token for Azure Auth.&quot;);\r\n    \r\n    \t\tIClientCredential iClientCredential = ClientCredentialFactory.createFromSecret(AppInit.getProperty(&quot;m3.clientSecret&quot;));\r\n    \r\n    \t\tConfidentialClientApplication confidentialClientApplication = ConfidentialClientApplication.builder(AppInit.getProperty(&quot;m3.appID&quot;), iClientCredential).authority(AppInit.getProperty(&quot;m3.authority&quot;)).build();\r\n    \r\n    \t\tClientCredentialParameters clientCredentialParameters = ClientCredentialParameters.builder(Collections.singleton(AppInit.getProperty(&quot;m3.scope&quot;))).build();\r\n    \r\n    \t\tCompletableFuture&lt;IAuthenticationResult&gt; completableFuture = confidentialClientApplication.acquireToken(clientCredentialParameters);\r\n    \r\n    \t\tIAuthenticationResult iAuthenticationResult = completableFuture.get();\r\n    \r\n    \t\tgetLogger().debug(&quot;Calling Azure Auth URL to get the token.&quot;);\r\n    \r\n    \t\tString token = iAuthenticationResult.accessToken();\r\n    \r\n    \t\tif (token == null || token.isEmpty()) {\r\n    \r\n    \t\t\tgetLogger().info(&quot;Empty Token received.&quot;);\r\n    \r\n    \t\t\tthrow new Exception(&quot;Unable to aquire token for Azure!&quot;);\r\n    \t\t}\r\n    \r\n    \t\tgetLogger().debug(&quot;Token Acquired.&quot;);\r\n    \r\n    \t} catch (Exception e) {\r\n    \r\n    \t\te.printStackTrace();\r\n    \t\t\r\n    \t\tthrow e;\r\n    \t}\r\n    \r\n    \t// Set the token in the header.\r\n    \theaders.put(&quot;Authorization&quot;, Collections.singletonList(&quot;Bearer &quot; + token));\r\n    \r\n    \tgetLogger().debug(&quot;Token Set in the request header.&quot;);\r\n    \r\n    \tgetBindingProvider().getRequestContext().put(MessageContext.HTTP_REQUEST_HEADERS, headers);\r\n    }\r\n\r\n\r\nThe suggestion was to bypass the proxy that is used in the environment. \r\n\r\nCan you please tell me how do I bypass the proxy in the Java Code? Any pointers would be helpful.","title":"Bypass Proxy WebServices Call (Apache CXF/Azure)","body":"<p>First of all a little bit of context. We have application in Azure and running on Java/Tomcat. We use SOAP webservices using Apache CXF. We have an interfacing application, who are in the process of migrating to Azure. So for integration tests, they provided us with their Azure URL that we need to connect to. The code uses MSAL4J too.</p>\n<p>But every time we try to connect to their URL we are getting the error:</p>\n<pre><code>Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 503 Service Unavailable&quot;\n</code></pre>\n<p>The code is written currently like:</p>\n<pre><code>public void init() throws Exception {\n    \n    // Set the security handler\n    getService().setHandlerResolver(new HandlerResolverImpl());\n\n    // Setting endpoint URL and timeout...\n    getBindingProvider().getRequestContext().put(&quot;javax.xml.ws.client.receiveTimeout&quot;, connectTimeout);\n    getBindingProvider().getRequestContext().put(&quot;javax.xml.ws.client.connectionTimeout&quot;, connectTimeout);\n    getBindingProvider().getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endPointUrl);\n\n    Map&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n    headers.put(&quot;Content-Type&quot;, Collections.singletonList(&quot;application/soap+xml&quot;));\n    headers.put(Message.ENCODING, Collections.singletonList(&quot;UTF-8&quot;));\n\n    // Get the Azure Access Token\n    String token = null;\n\n    try {\n\n        getLogger().debug(&quot;Acquiring Token for Azure Auth.&quot;);\n\n        IClientCredential iClientCredential = ClientCredentialFactory.createFromSecret(AppInit.getProperty(&quot;m3.clientSecret&quot;));\n\n        ConfidentialClientApplication confidentialClientApplication = ConfidentialClientApplication.builder(AppInit.getProperty(&quot;m3.appID&quot;), iClientCredential).authority(AppInit.getProperty(&quot;m3.authority&quot;)).build();\n\n        ClientCredentialParameters clientCredentialParameters = ClientCredentialParameters.builder(Collections.singleton(AppInit.getProperty(&quot;m3.scope&quot;))).build();\n\n        CompletableFuture&lt;IAuthenticationResult&gt; completableFuture = confidentialClientApplication.acquireToken(clientCredentialParameters);\n\n        IAuthenticationResult iAuthenticationResult = completableFuture.get();\n\n        getLogger().debug(&quot;Calling Azure Auth URL to get the token.&quot;);\n\n        String token = iAuthenticationResult.accessToken();\n\n        if (token == null || token.isEmpty()) {\n\n            getLogger().info(&quot;Empty Token received.&quot;);\n\n            throw new Exception(&quot;Unable to aquire token for Azure!&quot;);\n        }\n\n        getLogger().debug(&quot;Token Acquired.&quot;);\n\n    } catch (Exception e) {\n\n        e.printStackTrace();\n        \n        throw e;\n    }\n\n    // Set the token in the header.\n    headers.put(&quot;Authorization&quot;, Collections.singletonList(&quot;Bearer &quot; + token));\n\n    getLogger().debug(&quot;Token Set in the request header.&quot;);\n\n    getBindingProvider().getRequestContext().put(MessageContext.HTTP_REQUEST_HEADERS, headers);\n}\n</code></pre>\n<p>The suggestion was to bypass the proxy that is used in the environment.</p>\n<p>Can you please tell me how do I bypass the proxy in the Java Code? Any pointers would be helpful.</p>\n"},{"tags":["java","android","kotlin","https"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1682343587,"post_id":76092411,"comment_id":134195530,"body_markdown":"http traffic is default impossible, blocked. Only when you mess around with clear text traffic or network config you can allow it.","body":"http traffic is default impossible, blocked. Only when you mess around with clear text traffic or network config you can allow it."},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1682344070,"post_id":76092411,"comment_id":134195660,"body_markdown":"Thanks. It is the feeling I had, but was not sure. Thanks.","body":"Thanks. It is the feeling I had, but was not sure. Thanks."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1682348366,"post_id":76092411,"comment_id":134196892,"body_markdown":"clear text traffic is blocked by default only on Android 9 or higher, so you still might want to configure old Android version to block it. https://developer.android.com/training/articles/security-config#CleartextTrafficPermitted","body":"clear text traffic is blocked by default only on Android 9 or higher, so you still might want to configure old Android version to block it. <a href=\"https://developer.android.com/training/articles/security-config#CleartextTrafficPermitted\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/&hellip;</a>"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682342723,"creation_date":1682342723,"question_id":76092411,"body_markdown":"How should I setup my manifest and network_security_config.xml file (and other files?) to forbid http traffic ? I want to allow only https traffic (I use many https APIs from third party providers, but no http APIs ; for security reasons, I want to make http connections impossible).\r\n\r\nThanks","title":"How to forbid non https traffic in my android app?","body":"<p>How should I setup my manifest and network_security_config.xml file (and other files?) to forbid http traffic ? I want to allow only https traffic (I use many https APIs from third party providers, but no http APIs ; for security reasons, I want to make http connections impossible).</p>\n<p>Thanks</p>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":212394,"reputation":176434,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"score":0,"creation_date":1682264635,"post_id":76079819,"comment_id":134184349,"body_markdown":"If you have specific requirements:`Java`, **it should have been added from the beginning in your original post**. You waste my time I spent to make you a complete solution. Very low post quality. Please take a look at [how to format my code block](https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks)\n\nI edited for you this time.","body":"If you have specific requirements:<code>Java</code>, <b>it should have been added from the beginning in your original post</b>. You waste my time I spent to make you a complete solution. Very low post quality. Please take a look at <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\">how to format my code block</a>  I edited for you this time."},{"owner":{"account_id":13710980,"reputation":13,"user_id":9893356,"display_name":"user9893356"},"score":0,"creation_date":1682273109,"post_id":76079819,"comment_id":134185527,"body_markdown":"Sorry for your time wasting, but I haven`t got much experience in regex (otherwise I would know how to solve this case), and this is the reason why I have not point my platform in my post. But now I think someone with much experience SHOULD KNOW that platform matters before waste his time for giving an answer that is not acceptable for &quot;all possible cases&quot; (\\K).\nBut thank you very much in any case, I have learned a new feature that some day can be on place.\nBy the way, I have edited my post adding java-platform, and dont see it.","body":"Sorry for your time wasting, but I haven`t got much experience in regex (otherwise I would know how to solve this case), and this is the reason why I have not point my platform in my post. But now I think someone with much experience SHOULD KNOW that platform matters before waste his time for giving an answer that is not acceptable for &quot;all possible cases&quot; (\\K). But thank you very much in any case, I have learned a new feature that some day can be on place. By the way, I have edited my post adding java-platform, and dont see it."},{"owner":{"account_id":212394,"reputation":176434,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"score":1,"creation_date":1682273245,"post_id":76079819,"comment_id":134185545,"body_markdown":"It&#39;s not about regex experience, but about giving the right informations in your post from the beginning","body":"It&#39;s not about regex experience, but about giving the right informations in your post from the beginning"},{"owner":{"account_id":13710980,"reputation":13,"user_id":9893356,"display_name":"user9893356"},"score":0,"creation_date":1682274866,"post_id":76079819,"comment_id":134185791,"body_markdown":"I am sorry once again.","body":"I am sorry once again."}],"answers":[{"comments":[{"owner":{"account_id":13710980,"reputation":13,"user_id":9893356,"display_name":"user9893356"},"score":0,"creation_date":1682263800,"post_id":76079876,"comment_id":134184235,"body_markdown":"Thank you! I need a pattern supported by jave. I schould point it in the question, sorry. I&#39;ll try to edit if possible.","body":"Thank you! I need a pattern supported by jave. I schould point it in the question, sorry. I&#39;ll try to edit if possible."},{"owner":{"account_id":13710980,"reputation":13,"user_id":9893356,"display_name":"user9893356"},"score":0,"creation_date":1682342185,"post_id":76079876,"comment_id":134195154,"body_markdown":"Yes, your pattern works.\nIt canches not only the 1st match, for example here\n&#39; match::some::text::\nthere are three matches, but for me it doesn&#39;t matter. Thank you once again.","body":"Yes, your pattern works. It canches not only the 1st match, for example here &#39; match::some::text:: there are three matches, but for me it doesn&#39;t matter. Thank you once again."}],"tags":[],"owner":{"account_id":212394,"reputation":176434,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682275230,"creation_date":1682169919,"answer_id":76079876,"question_id":76079819,"body_markdown":"#### This regex:\r\n\r\n    [^\\s&#39;:]+(?=:)\r\n\r\n#### [Online Demo](https://regex101.com/r/r9iOWz/1)\r\n\r\n\r\n#### The regular expression matches as follows:\r\n\r\n|Node | Explanation |\r\n| ---- | ----------- |\r\n| `[^\\s&#39;:]+` |any character except: whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;), &#39;&#39;&#39;, &#39;:&#39; (1 or more times (matching the most amount possible))|\r\n| `(?=` |[look ahead](https://www.perlmonks.org/?node_id=518444) to see if there is:|\r\n| `:` |:|\r\n| `)` |end of look-ahead|\r\n","title":"Can not create regex. Suppose it should be simple","body":"<h4>This regex:</h4>\n<pre><code>[^\\s':]+(?=:)\n</code></pre>\n<h4><a href=\"https://regex101.com/r/r9iOWz/1\" rel=\"nofollow noreferrer\">Online Demo</a></h4>\n<h4>The regular expression matches as follows:</h4>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Node</th>\n<th>Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>[^\\s':]+</code></td>\n<td>any character except: whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;), ''', ':' (1 or more times (matching the most amount possible))</td>\n</tr>\n<tr>\n<td><code>(?=</code></td>\n<td><a href=\"https://www.perlmonks.org/?node_id=518444\" rel=\"nofollow noreferrer\">look ahead</a> to see if there is:</td>\n</tr>\n<tr>\n<td><code>:</code></td>\n<td>:</td>\n</tr>\n<tr>\n<td><code>)</code></td>\n<td>end of look-ahead</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":13710980,"reputation":13,"user_id":9893356,"display_name":"user9893356"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682342546,"creation_date":1682342485,"answer_id":76092371,"question_id":76079819,"body_markdown":"thaThis pattern:\r\n\r\n    (?:^.{1})(?: )?(.+?(?=::))\r\nlooks more complex than in the answer above, but in this text:\r\n\r\n    &#39; match::some::text::\r\n\r\ngives only one match.","title":"Can not create regex. Suppose it should be simple","body":"<p>thaThis pattern:</p>\n<pre><code>(?:^.{1})(?: )?(.+?(?=::))\n</code></pre>\n<p>looks more complex than in the answer above, but in this text:</p>\n<pre><code>' match::some::text::\n</code></pre>\n<p>gives only one match.</p>\n"}],"owner":{"account_id":13710980,"reputation":13,"user_id":9893356,"display_name":"user9893356"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76079876,"answer_count":2,"score":-2,"last_activity_date":1682342546,"creation_date":1682169248,"question_id":76079819,"body_markdown":"I will try to explain it with the following example:&lt;br&gt;\r\n\r\n    &#39; text::&#39;\r\n    &#39;text::&#39;\r\n\r\nThis pattern:\r\n\r\n    (?&lt;=^).+(?=::)\r\n\r\nmatches &#39; text&#39; in the first line, and &#39;text&#39; in the second. I need a pattern, that matches &#39;text&#39; (without leading space) in both lines.\r\n\r\n\r\n\r\n\r\n","title":"Can not create regex. Suppose it should be simple","body":"<p>I will try to explain it with the following example:<br></p>\n<pre><code>' text::'\n'text::'\n</code></pre>\n<p>This pattern:</p>\n<pre><code>(?&lt;=^).+(?=::)\n</code></pre>\n<p>matches ' text' in the first line, and 'text' in the second. I need a pattern, that matches 'text' (without leading space) in both lines.</p>\n"},{"tags":["java","android-studio","logcat"],"comments":[{"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"score":0,"creation_date":1682452364,"post_id":76092268,"comment_id":134217430,"body_markdown":"I&#39;m also getting the same error (the first one), but my app is compiling and not crashing.","body":"I&#39;m also getting the same error (the first one), but my app is compiling and not crashing."},{"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"score":0,"creation_date":1682502702,"post_id":76092268,"comment_id":134225005,"body_markdown":"You can terminate the java.exe process from your Task Manager of your operating system and then Rebuild Project in Android Studio","body":"You can terminate the java.exe process from your Task Manager of your operating system and then Rebuild Project in Android Studio"}],"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682342483,"creation_date":1682341770,"question_id":76092268,"body_markdown":"When I try to run my application in android studio emulator, I get an error as follows:\r\n\r\n```\r\nstudio.deploy           install_server-09f4021c              E  Could not remove dir &#39;/data/data/com.example.myapplication/code_cache/.ll/&#39;: No such file or directory\r\n```\r\n\r\nSo I tried making the directory, but I still get the same issue when i try to run the app.\r\n\r\nThe app itself loads however the core the functionalities are redundant \r\n\r\nIm using Android Studio Electric Eel | 2022.1.1 Patch 2\r\n\r\nPlease some one tell me a fix.\r\n\r\n\r\n**EDIT:**\r\nSo i tried uninstalling and installing the app again in my avd emulator and i get new set of errors:\r\n\r\n```\r\n E  failed to find package com.example.myapplication\r\n2023-04-24 18:49:21.865   557-582   OverlayManager          system_process                       E  Failed to change enabled overlays for com.example.myapplication user 0\r\n2023-04-24 18:49:28.486 14358-14358 studio.deploy           installer                            E  InstallClient: Could not copy &#39;/data/local/tmp/.studio/tmp/09f4021c/install_server&#39; to &#39;/data/data/com.example.myapplication/code_cache/install_server-09f4021c: out=&#39;&#39;, err=&#39;run-as: unknown package: com.example.myapplication\r\n                                                                                                    run-as: unknown package: com.example.myapplication\r\n                                                                                                    &#39;\r\n2023-04-24 18:49:28.540 14358-14358 studio.deploy           installer                            E  run-as: unknown package: com.example.myapplication\r\n2023-04-24 18:49:28.706 16338-16338 studio.deploy           sh                                   E  Could not get package user id: run-as: unknown package: com.example.myapplication\r\n2023-04-24 18:49:28.751 16338-16338 studio.deploy           sh                                   E  Could not find apks for this package: com.example.myapplication\r\n```","title":"Android Studio could not remove dir","body":"<p>When I try to run my application in android studio emulator, I get an error as follows:</p>\n<pre><code>studio.deploy           install_server-09f4021c              E  Could not remove dir '/data/data/com.example.myapplication/code_cache/.ll/': No such file or directory\n</code></pre>\n<p>So I tried making the directory, but I still get the same issue when i try to run the app.</p>\n<p>The app itself loads however the core the functionalities are redundant</p>\n<p>Im using Android Studio Electric Eel | 2022.1.1 Patch 2</p>\n<p>Please some one tell me a fix.</p>\n<p><strong>EDIT:</strong>\nSo i tried uninstalling and installing the app again in my avd emulator and i get new set of errors:</p>\n<pre><code> E  failed to find package com.example.myapplication\n2023-04-24 18:49:21.865   557-582   OverlayManager          system_process                       E  Failed to change enabled overlays for com.example.myapplication user 0\n2023-04-24 18:49:28.486 14358-14358 studio.deploy           installer                            E  InstallClient: Could not copy '/data/local/tmp/.studio/tmp/09f4021c/install_server' to '/data/data/com.example.myapplication/code_cache/install_server-09f4021c: out='', err='run-as: unknown package: com.example.myapplication\n                                                                                                    run-as: unknown package: com.example.myapplication\n                                                                                                    '\n2023-04-24 18:49:28.540 14358-14358 studio.deploy           installer                            E  run-as: unknown package: com.example.myapplication\n2023-04-24 18:49:28.706 16338-16338 studio.deploy           sh                                   E  Could not get package user id: run-as: unknown package: com.example.myapplication\n2023-04-24 18:49:28.751 16338-16338 studio.deploy           sh                                   E  Could not find apks for this package: com.example.myapplication\n</code></pre>\n"},{"tags":["python","java","django"],"comments":[{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":1,"creation_date":1682342716,"post_id":76092345,"comment_id":134195289,"body_markdown":"Why not use a binary field?","body":"Why not use a binary field?"}],"owner":{"account_id":14134862,"reputation":11,"user_id":10211672,"display_name":"Noob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682342374,"creation_date":1682342374,"question_id":76092345,"body_markdown":"    \r\ni have a java api which store byets stream as encoded data but i don&#39;t find anything in django to do that here is Java code :`\r\n\r\n    \tFile f1=new File(publicKeyFile);\r\n\t\t\tFile f2=new File(privateKeyFile);\r\n\t\t\tif(f1!=null || f2!=null)\r\n\t\t\t{\r\n\t\t\t\tkeys=new Keys();\r\n\t\t\t\tkeys.setPublicKeyFile(f1);\r\n\t\t\t\tkeys.setPrivateKeyFile(f2);\r\n\t\t\t}\t\r\nand here is how it store like that in db\r\n\r\n    &#194;&#202;L&#241;&#162;&#234;l&#185; j&#243;E\u0006y&#186;_&#255;&#228;\u0001F&#254;2&#223;[o\u0016‡V?&#243;I&#169;&#232;4&#212;\u0007&#229;g&#244;J&#254;&#168;{A\u001B\tAe`\u0011&#167;GŽj&#255;&amp;&#248;m\b\u0006n&#207;&#39;\r\n\u001EŠž‘&#220;&#232;&#247;g&#165;&#229;&#255; \u001B |&#223;-\u001C&#235;&#169;ƒ&#168;&#198;%&#176;m\u000E”(&#229;&#232;}&#254;Y[S\u0007\r\n\r\nbut i can&#39;t save this as in django. basically i want something like that which java code is doing  please help ","title":"How to store encode file data into database with django ORM which has TextField","body":"<p>i have a java api which store byets stream as encoded data but i don't find anything in django to do that here is Java code :`</p>\n<pre><code>    File f1=new File(publicKeyFile);\n        File f2=new File(privateKeyFile);\n        if(f1!=null || f2!=null)\n        {\n            keys=new Keys();\n            keys.setPublicKeyFile(f1);\n            keys.setPrivateKeyFile(f2);\n        }   \n</code></pre>\n<p>and here is how it store like that in db</p>\n<pre><code>ÂÊLñ¢êl¹ jóEyº_ÿäFþ2ß[o‡V?óI©è4ÔågôJþ¨{A   Ae`§GŽjÿ&amp;ømnÏ'\n</code></pre>\n<p>Šž‘Üè÷g¥åÿ  |ß-ë©ƒ¨Æ%°m\u000E”(åè}þY[S</p>\n<p>but i can't save this as in django. basically i want something like that which java code is doing  please help</p>\n"},{"tags":["java","spring","spring-boot","http","tomcat"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682336227,"post_id":76091429,"comment_id":134193827,"body_markdown":"Tomcat has settings you can put in the server.xml for post and get sizes, but with the client itself, it depends what API the client uses e.g. JavaScript, or intranet proprietary JavaScript or an app E.t.c. seems like you may need to custom process and measure for accepting.","body":"Tomcat has settings you can put in the server.xml for post and get sizes, but with the client itself, it depends what API the client uses e.g. JavaScript, or intranet proprietary JavaScript or an app E.t.c. seems like you may need to custom process and measure for accepting."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682412174,"post_id":76091429,"comment_id":134207008,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12259853,"reputation":53,"user_id":8947900,"display_name":"Shubham Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682342303,"creation_date":1682341978,"answer_id":76092287,"question_id":76091429,"body_markdown":"You can create a filter that checks for content length. Please refer to this answer [here][1]\r\n\r\n  [1]: https://stackoverflow.com/a/38611154/8947900","title":"How to limit size of application/json body in post request in Spring, tomcat for certain controller","body":"<p>You can create a filter that checks for content length. Please refer to this answer <a href=\"https://stackoverflow.com/a/38611154/8947900\">here</a></p>\n"}],"owner":{"account_id":28399885,"reputation":1,"user_id":21724850,"display_name":"Ezaz09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682342303,"creation_date":1682335989,"question_id":76091429,"body_markdown":"I want to limit the size of accepted application/json http request bodys in post method for certain controller/method. So that it is not possible to send multiple megabytes of json to my application, which are then processed and make my app run for a long time.\r\n\r\n\r\nI know about properties like maxSwallowSize and maxPostSize but as far as I understood this methods sets size for methods in whole project.","title":"How to limit size of application/json body in post request in Spring, tomcat for certain controller","body":"<p>I want to limit the size of accepted application/json http request bodys in post method for certain controller/method. So that it is not possible to send multiple megabytes of json to my application, which are then processed and make my app run for a long time.</p>\n<p>I know about properties like maxSwallowSize and maxPostSize but as far as I understood this methods sets size for methods in whole project.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":2036306,"reputation":553,"user_id":1818593,"accept_rate":82,"display_name":"Srii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682341567,"creation_date":1682341567,"answer_id":76092233,"question_id":76091534,"body_markdown":"Changing the following block:\r\n\r\n```java\r\nint _tableSize = MT940Text.split(&quot;\\r\\n&quot;).length;\r\n        for (int j = 0; j &lt; _tableSize; j++) {\r\n            int _rowNum = baseRowForTransactions + j;\r\n            Row _rowInCxt = clonedSheet.createRow(_rowNum);\r\n            String _transactionInCtx = MT940Text.split(&quot;\\r\\n&quot;)[j];\r\n            String[] _transactionInCtxSize = _transactionInCtx.split(&quot;\\t&quot;);\r\n            for (int k = 0; k &lt; _transactionInCtxSize.length; k++) { //borders missing if empty appear as last columns, yet to fix\r\n                Cell _cellInCxt = _rowInCxt.createCell(k);\r\n                String _valueInCtx = _transactionInCtxSize[k];\r\n                _cellInCxt.setCellStyle(borderStyle);               \r\n                _cellInCxt.setCellValue(nvl(_valueInCtx, &quot; &quot;));\r\n//              _cellInCxt.getCell(k, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(nvl(_valueInCtx));               //using alternate approach                      \r\n            }\r\n        }\r\n```\r\n\r\nto this:\r\n\r\n```java\r\nint[] j = { 0 };\r\n\t\tStream&lt;String&gt; MT940Texts = MT940Text.lines();\r\n\t\tMT940Texts.forEach(l -&gt; {\r\n\t\t\tint _rowNum = baseRowForTransactions + j[0];\r\n\t\t\tRow _rowInCxt = clonedSheet.createRow(_rowNum);\r\n\t\t\tString[] _transactionInCtxSize = l.split(&quot;\\t&quot;);\r\n\t\t\tfor (int k = 0; k &lt; _transactionInCtxSize.length; k++) {\r\n\t\t\t\tCell _cellInCxt = _rowInCxt.createCell(k);\r\n\t\t\t\tString _valueInCtx = _transactionInCtxSize[k];\r\n\t\t\t\t_cellInCxt.setCellStyle(borderStyle);\r\n\t\t\t\t_cellInCxt.setCellValue(nvl(_valueInCtx, &quot; &quot;));\r\n//\t\t\t\t\t_rowInCxt.getCell(k, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(nvl(_valueInCtx, &quot; &quot;));\t\t\t\t//using alternate approach\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\tj[0]++;\r\n\t\t});\r\n```\r\n\r\nmade a tremendous difference. It now takes only 6 seconds to generate the output. ","title":"Performance Factor in Generating Excel via Apache POI","body":"<p>Changing the following block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int _tableSize = MT940Text.split(&quot;\\r\\n&quot;).length;\n        for (int j = 0; j &lt; _tableSize; j++) {\n            int _rowNum = baseRowForTransactions + j;\n            Row _rowInCxt = clonedSheet.createRow(_rowNum);\n            String _transactionInCtx = MT940Text.split(&quot;\\r\\n&quot;)[j];\n            String[] _transactionInCtxSize = _transactionInCtx.split(&quot;\\t&quot;);\n            for (int k = 0; k &lt; _transactionInCtxSize.length; k++) { //borders missing if empty appear as last columns, yet to fix\n                Cell _cellInCxt = _rowInCxt.createCell(k);\n                String _valueInCtx = _transactionInCtxSize[k];\n                _cellInCxt.setCellStyle(borderStyle);               \n                _cellInCxt.setCellValue(nvl(_valueInCtx, &quot; &quot;));\n//              _cellInCxt.getCell(k, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(nvl(_valueInCtx));               //using alternate approach                      \n            }\n        }\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] j = { 0 };\n        Stream&lt;String&gt; MT940Texts = MT940Text.lines();\n        MT940Texts.forEach(l -&gt; {\n            int _rowNum = baseRowForTransactions + j[0];\n            Row _rowInCxt = clonedSheet.createRow(_rowNum);\n            String[] _transactionInCtxSize = l.split(&quot;\\t&quot;);\n            for (int k = 0; k &lt; _transactionInCtxSize.length; k++) {\n                Cell _cellInCxt = _rowInCxt.createCell(k);\n                String _valueInCtx = _transactionInCtxSize[k];\n                _cellInCxt.setCellStyle(borderStyle);\n                _cellInCxt.setCellValue(nvl(_valueInCtx, &quot; &quot;));\n//                  _rowInCxt.getCell(k, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(nvl(_valueInCtx, &quot; &quot;));               //using alternate approach                      \n            }\n            j[0]++;\n        });\n</code></pre>\n<p>made a tremendous difference. It now takes only 6 seconds to generate the output.</p>\n"}],"owner":{"account_id":2036306,"reputation":553,"user_id":1818593,"accept_rate":82,"display_name":"Srii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76092233,"answer_count":1,"score":0,"last_activity_date":1682341567,"creation_date":1682336858,"question_id":76091534,"body_markdown":"We are generating the an excel workbook based on a template that looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n...from a source file that looks like:\r\n\r\n```csv\r\nfilename1\t1:1Of1:39\taccountNum1\t\t\t\t\t\t\t\t\tC\t12345,00\tEUR\t230424\t\t\t\t\tC\t12345,00\tEUR\t230424\tC\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t1:2Of2:39\taccountNum2\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t2:2Of2:39\taccountNum2\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t1:11Of3:39\taccountNum3\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t2:11Of3:39\taccountNum4\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t3:11Of3:39\taccountNum4\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t4:11Of3:39\taccountNum4\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\t\t\t\t\r\nfilename1\t5:11Of3:39\taccountNum4\t0000\t230424\tABC\t20230424000000000\t12345,00\tD\tAB-23-00000000\tRef/\tC\t12345,00\tEUR\t230424\t\t\t\t\tD\t12345,00\tEUR\t230424\tD\t12345,00\tEUR\t230424\t\r\n``` \r\n\r\nusing this:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.io.StringWriter;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.poi.ss.usermodel.BorderStyle;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.CellStyle;\r\nimport org.apache.poi.ss.usermodel.Row;\r\n\r\npublic class ZDMT940FlatToExcel {\r\n\r\n\tprivate static final Logger log = LogManager.getLogger(ZDMT940FlatToExcel.class);\r\n\tprivate static final String authorName = &quot;Self&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tlog.info(&quot;Direct Invocation!&quot;);\r\n\t\tZDMT940FlatToExcel ma_1 = new ZDMT940FlatToExcel();\r\n\t\tString bankName = &quot;ABC&quot;;\r\n\t\tString inFileName = &quot;C:\\\\target\\\\output.txt&quot;;\r\n\t\tString outFileName = &quot;C:\\\\target\\\\EBS_&quot; + bankName + &quot;.xlsx&quot;;\r\n\t\tSystem.out.println(ma_1.generateMT940Excel(bankName, inFileName, outFileName));\r\n\r\n\t}\r\n\r\n\tpublic String generateMT940Excel(String bankName, String inFileName, String outFileName) {\r\n\r\n\t\tXSSFWorkbook wb = null;\r\n\t\tString _timeNow = ZonedDateTime.now(ZoneId.systemDefault())\r\n\t\t\t\t.format(DateTimeFormatter.ofPattern(&quot;uuuu.MM.dd HH:mm:ss&quot;));\r\n\t\tString MT940Text = readFileIntoSting(inFileName);\r\n\t\tFileOutputStream fileOut = null;\r\n\r\n\t\ttry {\r\n\t\t\twb = new XSSFWorkbook(\r\n\t\t\t\t\tZDMT940FlatToExcel.class.getClassLoader().getResourceAsStream(&quot;EBS_Result_Template.xlsx&quot;));\r\n\t\t\twb.getProperties().getCoreProperties().setCreator(authorName);\r\n\t\t\tfileOut = new FileOutputStream(outFileName);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(printStackTraceToString(&quot;generateMT940Excel&quot;, &quot;&quot;, e));\r\n\t\t\treturn &quot;NOK&quot;;\r\n\t\t}\r\n\r\n\t\tXSSFSheet templateSheet = wb.getSheet(&quot;##BankName##&quot;);\r\n\r\n\t\tCellStyle borderStyle = wb.createCellStyle();\r\n//\t\tborderStyle.setWrapText(true); //disabled owing to its mess-up with predefined column width\r\n\t\tsetCellStyleAllBorders(borderStyle);\r\n\r\n\t\tint baseRowForTransactions = 6;\r\n\t\tXSSFSheet clonedSheet = wb.cloneSheet(wb.getSheetIndex(templateSheet), bankName);\r\n\t\tclonedSheet.getRow(0).getCell(0).setCellValue(templateSheet.getRow(0).getCell(0).toString()\r\n\t\t\t\t.replace(&quot;##BankName##&quot;, bankName).replace(&quot;##EBSType##&quot;, &quot;MT940&quot;));\r\n\t\tclonedSheet.getRow(2).getCell(3)\r\n\t\t\t\t.setCellValue(templateSheet.getRow(2).getCell(3).toString().replace(&quot;##TimeStamp##&quot;, _timeNow));\r\n\t\tint _tableSize = MT940Text.split(&quot;\\r\\n&quot;).length;\r\n\r\n\t\tfor (int j = 0; j &lt; _tableSize; j++) {\r\n\t\t\tint _rowNum = baseRowForTransactions + j;\r\n\t\t\tRow _rowInCxt = clonedSheet.createRow(_rowNum);\r\n\t\t\tString _transactionInCtx = MT940Text.split(&quot;\\r\\n&quot;)[j];\r\n\t\t\tString[] _transactionInCtxSize = _transactionInCtx.split(&quot;\\t&quot;);\r\n\t\t\tfor (int k = 0; k &lt; _transactionInCtxSize.length; k++) { //borders missing if empty appear as last columns, yet to fix\r\n\t\t\t\tCell _cellInCxt = _rowInCxt.createCell(k);\r\n\t\t\t\tString _valueInCtx = _transactionInCtxSize[k];\r\n\t\t\t\t_cellInCxt.setCellStyle(borderStyle);\t\t\t\t\r\n\t\t\t\t_cellInCxt.setCellValue(nvl(_valueInCtx, &quot; &quot;));\r\n//\t\t\t\t_cellInCxt.getCell(k, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(nvl(_valueInCtx));\t\t\t\t//using alternate approach\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tclonedSheet.setColumnHidden(0, true);\r\n\t\tclonedSheet.setColumnHidden(1, true);\r\n\r\n\t\twb.removeSheetAt(wb.getSheetIndex(templateSheet));\r\n\r\n\t\ttry {\r\n\t\t\twb.write(fileOut);\r\n\t\t\tfileOut.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(printStackTraceToString(&quot;generateMT940Excel&quot;, &quot;&quot;, e));\r\n\t\t\treturn &quot;NOK&quot;;\r\n\t\t}\r\n\t\tlog.info(&quot;Written xlsx file&quot;);\r\n\t\treturn &quot;OK&quot;;\r\n\t}\r\n\r\n\tprivate static void setCellStyleAllBorders(CellStyle cellStyle) {\r\n\t\tcellStyle.setBorderBottom(BorderStyle.THIN);\r\n\t\tcellStyle.setBorderLeft(BorderStyle.THIN);\r\n\t\tcellStyle.setBorderRight(BorderStyle.THIN);\r\n\t\tcellStyle.setBorderTop(BorderStyle.THIN);\r\n\t}\r\n\r\n\tprivate static String readFileIntoSting(final String fileName) {\r\n\t\tbyte[] data = null;\r\n\t\tFileInputStream fin = null;\r\n\t\ttry {\r\n\t\t\tfin = new FileInputStream(new File(fileName));\r\n\t\t\tdata = fin.readAllBytes();\r\n\t\t\tfin.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(printStackTraceToString(&quot;readFileIntoSting&quot;, &quot;&quot;, e));\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn new String(data, StandardCharsets.UTF_8);\r\n\t}\r\n\r\n\tprivate static String nvl(String text, String defaultValue) {\r\n\t\tif (text == null || text == &quot;&quot;) {\r\n\t\t\treturn (defaultValue == null) ? &quot; &quot; : defaultValue;\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n\tprivate static String printStackTraceToString(String callerId, String addRem, Exception e) {\r\n\t\tStringWriter errors = new StringWriter();\r\n\t\te.printStackTrace(new PrintWriter(errors));\r\n\t\treturn callerId + &quot;:\\t&quot; + addRem + &quot;:\\t&quot;\r\n\t\t\t\t+ errors.toString().trim().replaceAll(&quot;\\r\\n&quot;, &quot; &quot;).replaceAll(&quot;\\t&quot;, &quot; &quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhile the code does its job, the performance factor is unsatisfying. The source tab delimited text file contains about 10k lines and it already takes about 5 minutes. Could the code be made more efficient to improve performance? Any thoughts are appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3zbsj.png","title":"Performance Factor in Generating Excel via Apache POI","body":"<p>We are generating the an excel workbook based on a template that looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/3zbsj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3zbsj.png\" alt=\"enter image description here\" /></a></p>\n<p>...from a source file that looks like:</p>\n<pre><code>filename1   1:1Of1:39   accountNum1                                 C   12345,00    EUR 230424                  C   12345,00    EUR 230424  C   12345,00    EUR 230424                  \nfilename1   1:2Of2:39   accountNum2 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424                  \nfilename1   2:2Of2:39   accountNum2 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424                  \nfilename1   1:11Of3:39  accountNum3 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424                  \nfilename1   2:11Of3:39  accountNum4 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424                  \nfilename1   3:11Of3:39  accountNum4 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424                  \nfilename1   4:11Of3:39  accountNum4 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424                  \nfilename1   5:11Of3:39  accountNum4 0000    230424  ABC 20230424000000000   12345,00    D   AB-23-00000000  Ref/    C   12345,00    EUR 230424                  D   12345,00    EUR 230424  D   12345,00    EUR 230424  \n</code></pre>\n<p>using this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.nio.charset.StandardCharsets;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.poi.ss.usermodel.BorderStyle;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.CellStyle;\nimport org.apache.poi.ss.usermodel.Row;\n\npublic class ZDMT940FlatToExcel {\n\n    private static final Logger log = LogManager.getLogger(ZDMT940FlatToExcel.class);\n    private static final String authorName = &quot;Self&quot;;\n\n    public static void main(String[] args) {\n\n        log.info(&quot;Direct Invocation!&quot;);\n        ZDMT940FlatToExcel ma_1 = new ZDMT940FlatToExcel();\n        String bankName = &quot;ABC&quot;;\n        String inFileName = &quot;C:\\\\target\\\\output.txt&quot;;\n        String outFileName = &quot;C:\\\\target\\\\EBS_&quot; + bankName + &quot;.xlsx&quot;;\n        System.out.println(ma_1.generateMT940Excel(bankName, inFileName, outFileName));\n\n    }\n\n    public String generateMT940Excel(String bankName, String inFileName, String outFileName) {\n\n        XSSFWorkbook wb = null;\n        String _timeNow = ZonedDateTime.now(ZoneId.systemDefault())\n                .format(DateTimeFormatter.ofPattern(&quot;uuuu.MM.dd HH:mm:ss&quot;));\n        String MT940Text = readFileIntoSting(inFileName);\n        FileOutputStream fileOut = null;\n\n        try {\n            wb = new XSSFWorkbook(\n                    ZDMT940FlatToExcel.class.getClassLoader().getResourceAsStream(&quot;EBS_Result_Template.xlsx&quot;));\n            wb.getProperties().getCoreProperties().setCreator(authorName);\n            fileOut = new FileOutputStream(outFileName);\n        } catch (Exception e) {\n            log.error(printStackTraceToString(&quot;generateMT940Excel&quot;, &quot;&quot;, e));\n            return &quot;NOK&quot;;\n        }\n\n        XSSFSheet templateSheet = wb.getSheet(&quot;##BankName##&quot;);\n\n        CellStyle borderStyle = wb.createCellStyle();\n//      borderStyle.setWrapText(true); //disabled owing to its mess-up with predefined column width\n        setCellStyleAllBorders(borderStyle);\n\n        int baseRowForTransactions = 6;\n        XSSFSheet clonedSheet = wb.cloneSheet(wb.getSheetIndex(templateSheet), bankName);\n        clonedSheet.getRow(0).getCell(0).setCellValue(templateSheet.getRow(0).getCell(0).toString()\n                .replace(&quot;##BankName##&quot;, bankName).replace(&quot;##EBSType##&quot;, &quot;MT940&quot;));\n        clonedSheet.getRow(2).getCell(3)\n                .setCellValue(templateSheet.getRow(2).getCell(3).toString().replace(&quot;##TimeStamp##&quot;, _timeNow));\n        int _tableSize = MT940Text.split(&quot;\\r\\n&quot;).length;\n\n        for (int j = 0; j &lt; _tableSize; j++) {\n            int _rowNum = baseRowForTransactions + j;\n            Row _rowInCxt = clonedSheet.createRow(_rowNum);\n            String _transactionInCtx = MT940Text.split(&quot;\\r\\n&quot;)[j];\n            String[] _transactionInCtxSize = _transactionInCtx.split(&quot;\\t&quot;);\n            for (int k = 0; k &lt; _transactionInCtxSize.length; k++) { //borders missing if empty appear as last columns, yet to fix\n                Cell _cellInCxt = _rowInCxt.createCell(k);\n                String _valueInCtx = _transactionInCtxSize[k];\n                _cellInCxt.setCellStyle(borderStyle);               \n                _cellInCxt.setCellValue(nvl(_valueInCtx, &quot; &quot;));\n//              _cellInCxt.getCell(k, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(nvl(_valueInCtx));               //using alternate approach                      \n            }\n        }\n        clonedSheet.setColumnHidden(0, true);\n        clonedSheet.setColumnHidden(1, true);\n\n        wb.removeSheetAt(wb.getSheetIndex(templateSheet));\n\n        try {\n            wb.write(fileOut);\n            fileOut.close();\n        } catch (IOException e) {\n            log.error(printStackTraceToString(&quot;generateMT940Excel&quot;, &quot;&quot;, e));\n            return &quot;NOK&quot;;\n        }\n        log.info(&quot;Written xlsx file&quot;);\n        return &quot;OK&quot;;\n    }\n\n    private static void setCellStyleAllBorders(CellStyle cellStyle) {\n        cellStyle.setBorderBottom(BorderStyle.THIN);\n        cellStyle.setBorderLeft(BorderStyle.THIN);\n        cellStyle.setBorderRight(BorderStyle.THIN);\n        cellStyle.setBorderTop(BorderStyle.THIN);\n    }\n\n    private static String readFileIntoSting(final String fileName) {\n        byte[] data = null;\n        FileInputStream fin = null;\n        try {\n            fin = new FileInputStream(new File(fileName));\n            data = fin.readAllBytes();\n            fin.close();\n        } catch (IOException e) {\n            log.error(printStackTraceToString(&quot;readFileIntoSting&quot;, &quot;&quot;, e));\n            return null;\n        }\n        return new String(data, StandardCharsets.UTF_8);\n    }\n\n    private static String nvl(String text, String defaultValue) {\n        if (text == null || text == &quot;&quot;) {\n            return (defaultValue == null) ? &quot; &quot; : defaultValue;\n        }\n        return text;\n    }\n\n    private static String printStackTraceToString(String callerId, String addRem, Exception e) {\n        StringWriter errors = new StringWriter();\n        e.printStackTrace(new PrintWriter(errors));\n        return callerId + &quot;:\\t&quot; + addRem + &quot;:\\t&quot;\n                + errors.toString().trim().replaceAll(&quot;\\r\\n&quot;, &quot; &quot;).replaceAll(&quot;\\t&quot;, &quot; &quot;);\n    }\n\n}\n</code></pre>\n<p>While the code does its job, the performance factor is unsatisfying. The source tab delimited text file contains about 10k lines and it already takes about 5 minutes. Could the code be made more efficient to improve performance? Any thoughts are appreciated.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682330412,"post_id":76089719,"comment_id":134192573,"body_markdown":"No, it isn&#39;t a good idea: in fact it lacks all motivation. However your underlying premiss is also false: you are overlooking the backlog queue, which means that multiple clients can connect even though you haven&#39;t done that number of accepts.","body":"No, it isn&#39;t a good idea: in fact it lacks all motivation. However your underlying premiss is also false: you are overlooking the backlog queue, which means that multiple clients can connect even though you haven&#39;t done that number of accepts."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682330446,"post_id":76090635,"comment_id":134192584,"body_markdown":"New sockets will be accepted up to the limit of the backlog queue.","body":"New sockets will be accepted up to the limit of the backlog queue."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1682330570,"post_id":76090635,"comment_id":134192618,"body_markdown":"Yes, that is correct.  But the main question is, should `thread.join()` be put in the loop that accepts thew socket connections or not.  Having backlog queue limit does not affect that.  `thread.join()` should not be used in that loop in any case.","body":"Yes, that is correct.  But the main question is, should <code>thread.join()</code> be put in the loop that accepts thew socket connections or not.  Having backlog queue limit does not affect that.  <code>thread.join()</code> should not be used in that loop in any case."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682330824,"post_id":76090635,"comment_id":134192669,"body_markdown":"So fix your answer.","body":"So fix your answer."}],"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682331287,"creation_date":1682329833,"answer_id":76090635,"question_id":76089719,"body_markdown":"No, it is not a good idea to do `thread.join()` in a loop like this.\r\n\r\n`thread.join()` will result in the current thread going into a wait state till the time the thread referenced by the variable `thread` ends.  So as such, the loop will hang there.  No new sockets will be accepted.\r\n\r\nAfter accepting a socket, a new thread should be created, and the socket should be handed over to that new thread for further processing.\r\nAs soon as a socket is accepted and a ClientSocket is created, the connection is request is removed from the backlog queue. If that loop goes into a wait state, the backlog queue will also be filled up and connection requests might also be denied.\r\n\r\nThe current thread which is accepting the new connections should continue, so it should not use `join`.  It should create a new thread and continue to accept new connection requests as soon as possible so that the backlog queue is also kept relatively empty most of the time.\r\n\r\nOnly if the server is shutting down, the loop should break (not accept new connections), and then outside the loop, it can wait for the running threads to complete (complete the communication with the already connected clients), and then exit.","title":"Thread join in a loop where multiple clients can connect to a server","body":"<p>No, it is not a good idea to do <code>thread.join()</code> in a loop like this.</p>\n<p><code>thread.join()</code> will result in the current thread going into a wait state till the time the thread referenced by the variable <code>thread</code> ends.  So as such, the loop will hang there.  No new sockets will be accepted.</p>\n<p>After accepting a socket, a new thread should be created, and the socket should be handed over to that new thread for further processing.\nAs soon as a socket is accepted and a ClientSocket is created, the connection is request is removed from the backlog queue. If that loop goes into a wait state, the backlog queue will also be filled up and connection requests might also be denied.</p>\n<p>The current thread which is accepting the new connections should continue, so it should not use <code>join</code>.  It should create a new thread and continue to accept new connection requests as soon as possible so that the backlog queue is also kept relatively empty most of the time.</p>\n<p>Only if the server is shutting down, the loop should break (not accept new connections), and then outside the loop, it can wait for the running threads to complete (complete the communication with the already connected clients), and then exit.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682341482,"creation_date":1682341482,"answer_id":76092224,"question_id":76089719,"body_markdown":"It never makes any sense to start a new thread and then immediately `join` it. The whole point of creating a new thread is so that the new thread can do its thing while the caller _concurrently_ does some other thing:\r\n\r\n``` lang-java\r\nRunnable r = ...;\r\nThread t = new Thread(r);\r\nt.start();\r\ndoSomeOtherThingConcurrentlyWithTheNewThread();\r\nt.join();\r\n```\r\n\r\nIf there isn&#39;t some other thing that the caller wants to do, then there is no reason to create the new thread. You can save some CPU cycles by just doing this instead, and it will have exactly the same effect:\r\n\r\n``` lang-java\r\nRunnable r = ...;\r\nr.run();\r\n```\r\n","title":"Thread join in a loop where multiple clients can connect to a server","body":"<p>It never makes any sense to start a new thread and then immediately <code>join</code> it. The whole point of creating a new thread is so that the new thread can do its thing while the caller <em>concurrently</em> does some other thing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r = ...;\nThread t = new Thread(r);\nt.start();\ndoSomeOtherThingConcurrentlyWithTheNewThread();\nt.join();\n</code></pre>\n<p>If there isn't some other thing that the caller wants to do, then there is no reason to create the new thread. You can save some CPU cycles by just doing this instead, and it will have exactly the same effect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r = ...;\nr.run();\n</code></pre>\n"}],"owner":{"account_id":12303918,"reputation":1053,"user_id":8977557,"accept_rate":80,"display_name":"Agrudge Amicus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1682341482,"creation_date":1682322881,"question_id":76089719,"body_markdown":"In a program where multiple clients can connect to a server, is it a good idea to use `join`?\r\nFor example:\r\n\r\n\r\n\r\n    while(true)\r\n    {\r\n        Socket clientSocket = serverSocket.accept();\r\n\r\n        //thread creation for new clients, followed by executing their (generally overwritten) `run()` method.\r\n        thread.join();\r\n    }\r\n\r\nNow, my understanding is, if the thread is `join`ed, then a new client will have to wait till the client before it completes the intended operation - which shouldn&#39;t be happening as multiple clients should be able to connect and operate simultaneously.\r\n\r\nSo, is it a good idea to use `join` in such a fashion?","title":"Thread join in a loop where multiple clients can connect to a server","body":"<p>In a program where multiple clients can connect to a server, is it a good idea to use <code>join</code>?\nFor example:</p>\n<pre><code>while(true)\n{\n    Socket clientSocket = serverSocket.accept();\n\n    //thread creation for new clients, followed by executing their (generally overwritten) `run()` method.\n    thread.join();\n}\n</code></pre>\n<p>Now, my understanding is, if the thread is <code>join</code>ed, then a new client will have to wait till the client before it completes the intended operation - which shouldn't be happening as multiple clients should be able to connect and operate simultaneously.</p>\n<p>So, is it a good idea to use <code>join</code> in such a fashion?</p>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":1273420,"reputation":4594,"user_id":1229192,"accept_rate":50,"display_name":"Michal Borek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367617083,"creation_date":1367617083,"answer_id":16367915,"question_id":16367856,"body_markdown":"When you use &quot;Export&quot; functionality, you need to select all resources that need to be exported (it is visible at the top of the Eclipse export wizard window).\r\n\r\nYou can find the answer here as well: https://stackoverflow.com/questions/423938/java-export-to-an-jar-file-in-eclipse","title":"Exporting resource folder with jar","body":"<p>When you use \"Export\" functionality, you need to select all resources that need to be exported (it is visible at the top of the Eclipse export wizard window).</p>\n\n<p>You can find the answer here as well: <a href=\"https://stackoverflow.com/questions/423938/java-export-to-an-jar-file-in-eclipse\">Java: export to an .jar file in eclipse</a></p>\n"},{"comments":[{"owner":{"account_id":1635231,"reputation":309,"user_id":1508920,"accept_rate":83,"display_name":"ahoj pepiczki"},"score":0,"creation_date":1367618053,"post_id":16368007,"comment_id":23454236,"body_markdown":"After unpacking there&#39;s no &quot;resources&quot; folder, just .inis. Also your code did nothing new.","body":"After unpacking there&#39;s no &quot;resources&quot; folder, just .inis. Also your code did nothing new."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1367618212,"post_id":16368007,"comment_id":23454312,"body_markdown":"`getResourceAsStream(&quot;/hotkeys.ini&quot;)`?","body":"<code>getResourceAsStream(&quot;&#47;hotkeys.ini&quot;)</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1367621276,"post_id":16368007,"comment_id":23455255,"body_markdown":"So `hotkeys.ini` is in the top directory of the jar, and the spelling is not `Hotkeys.INI` but is all small letters?","body":"So <code>hotkeys.ini</code> is in the top directory of the jar, and the spelling is not <code>Hotkeys.INI</code> but is all small letters?"},{"owner":{"account_id":1635231,"reputation":309,"user_id":1508920,"accept_rate":83,"display_name":"ahoj pepiczki"},"score":0,"creation_date":1367650380,"post_id":16368007,"comment_id":23460191,"body_markdown":"Yes, it&#39;s &quot;hotkeys.ini&quot;, no uppercase letters.","body":"Yes, it&#39;s &quot;hotkeys.ini&quot;, no uppercase letters."},{"owner":{"account_id":1635231,"reputation":309,"user_id":1508920,"accept_rate":83,"display_name":"ahoj pepiczki"},"score":0,"creation_date":1367654509,"post_id":16368007,"comment_id":23461084,"body_markdown":"I think I&#39;ll use `file = new File(System.getProperty(&quot;user.dir&quot;)+&quot;/hotkeys.ini&quot;);` and put .inis outside the JAR.","body":"I think I&#39;ll use <code>file = new File(System.getProperty(&quot;user.dir&quot;)+&quot;&#47;hotkeys.ini&quot;);</code> and put .inis outside the JAR."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1367667135,"post_id":16368007,"comment_id":23464078,"body_markdown":"`getResource` and `getResourceAsStream` should work, or when not finding return `null`. More likely something else is fishy. Do you read with `new InputStreamReader(inputStream, &quot;Windows-1252&quot;)`, that is explicitly stating the encooding. I would first do some debugging to the error point.","body":"<code>getResource</code> and <code>getResourceAsStream</code> should work, or when not finding return <code>null</code>. More likely something else is fishy. Do you read with <code>new InputStreamReader(inputStream, &quot;Windows-1252&quot;)</code>, that is explicitly stating the encooding. I would first do some debugging to the error point."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367617499,"creation_date":1367617499,"answer_id":16368007,"question_id":16367856,"body_markdown":"You can open the jar with 7zip or Winzip, and check the path.\r\n\r\nTry\r\n\r\n    getClass().getResourceAsStream(&quot;/resources/hotkeys.ini&quot;);\r\n\r\n(Or try removing the first `/` when with `getClassLoader()`.)\r\n\r\nEspecially check the case-sensitivity of the paths. As opposed to Windows, inside a Jar it is case-sensitive.\r\n\r\n\r\n\r\n","title":"Exporting resource folder with jar","body":"<p>You can open the jar with 7zip or Winzip, and check the path.</p>\n\n<p>Try</p>\n\n<pre><code>getClass().getResourceAsStream(\"/resources/hotkeys.ini\");\n</code></pre>\n\n<p>(Or try removing the first <code>/</code> when with <code>getClassLoader()</code>.)</p>\n\n<p>Especially check the case-sensitivity of the paths. As opposed to Windows, inside a Jar it is case-sensitive.</p>\n"}],"owner":{"account_id":1635231,"reputation":309,"user_id":1508920,"accept_rate":83,"display_name":"ahoj pepiczki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9920,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682341335,"creation_date":1367616841,"question_id":16367856,"body_markdown":"I have a folder called &quot;resources&quot; in my Eclipse project. It&#39;s used as source folder. Everything works well compiled from Eclipse. I wanted to try it on Ubuntu so I exported it to runnable jar and tried to run but it gave me FileNotFound Exception. I checked the file structure inside the JAR and there&#39;s no &quot;resources&quot; folder, only files that should be inside. I&#39;m accessing files with \r\n\r\n    File file = new File(&quot;resources/hotkeys.ini&quot;);\r\n\r\nI also tried \r\n\r\n    InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;/resources/hotkeys.ini&quot;);\r\n\r\nbut it gave me null.\r\n\r\nHow to force Eclipse to export the folder along with jar?","title":"Exporting resource folder with jar","body":"<p>I have a folder called \"resources\" in my Eclipse project. It's used as source folder. Everything works well compiled from Eclipse. I wanted to try it on Ubuntu so I exported it to runnable jar and tried to run but it gave me FileNotFound Exception. I checked the file structure inside the JAR and there's no \"resources\" folder, only files that should be inside. I'm accessing files with </p>\n\n<pre><code>File file = new File(\"resources/hotkeys.ini\");\n</code></pre>\n\n<p>I also tried </p>\n\n<pre><code>InputStream in = getClass().getClassLoader().getResourceAsStream(\"/resources/hotkeys.ini\");\n</code></pre>\n\n<p>but it gave me null.</p>\n\n<p>How to force Eclipse to export the folder along with jar?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":2,"creation_date":1581137571,"post_id":60123616,"comment_id":106339132,"body_markdown":"Not that , `http.httpBasic()\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(&quot;/rest/**&quot;)\n                    .permitAll()\n                    .and()\n                    .antMatchers(&quot;/secure/**&quot;)\n                    .hasAnyRole(&quot;ADMIN&quot;)\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                    .formLogin().permitAll();` this way.","body":"Not that , <code>http.httpBasic()                     .and()                     .authorizeRequests()                     .antMatchers(&quot;&#47;rest&#47;**&quot;)                     .permitAll()                     .and()                     .antMatchers(&quot;&#47;secure&#47;**&quot;)                     .hasAnyRole(&quot;ADMIN&quot;)                     .anyRequest()                     .authenticated()                     .and()                     .formLogin().permitAll();</code> this way."},{"owner":{"account_id":13918784,"reputation":205,"user_id":10049821,"display_name":"Aussergewohnliche Travailler"},"score":0,"creation_date":1581336015,"post_id":60123616,"comment_id":106385591,"body_markdown":"thx you....now its work","body":"thx you....now its work"},{"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"score":0,"creation_date":1595776975,"post_id":60123616,"comment_id":111585193,"body_markdown":"May I ask what exactly does &quot;http.csrf().disable()&quot; do? I have seen it in many places. I know the basics of CSRF but why do we need to disable it here? What happens if that line is not there?","body":"May I ask what exactly does &quot;http.csrf().disable()&quot; do? I have seen it in many places. I know the basics of CSRF but why do we need to disable it here? What happens if that line is not there?"}],"answers":[{"comments":[{"owner":{"account_id":1246120,"reputation":768,"user_id":1207540,"accept_rate":82,"display_name":"Glen Mazza"},"score":1,"creation_date":1602043940,"post_id":60150046,"comment_id":113591577,"body_markdown":"Hmm...why does the &quot;/rest/**&quot; ant matcher need its own authorizeRequests() block, why can&#39;t it immediately precede the one for &quot;/secure/**&quot; ?","body":"Hmm...why does the &quot;/rest/**&quot; ant matcher need its own authorizeRequests() block, why can&#39;t it immediately precede the one for &quot;/secure/**&quot; ?"},{"owner":{"account_id":6806648,"reputation":1563,"user_id":5332629,"accept_rate":56,"display_name":"Hosein Aqajani"},"score":0,"creation_date":1655805689,"post_id":60150046,"comment_id":128412951,"body_markdown":"solution not work for me:\nhttps://stackoverflow.com/questions/72698060/reconfig-antmatchers-after-anyrequest-to-update-spring-security-roles-dynamicall","body":"solution not work for me: <a href=\"https://stackoverflow.com/questions/72698060/reconfig-antmatchers-after-anyrequest-to-update-spring-security-roles-dynamicall\" title=\"reconfig antmatchers after anyrequest to update spring security roles dynamicall\">stackoverflow.com/questions/72698060/&hellip;</a>"}],"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1581336204,"creation_date":1581336204,"answer_id":60150046,"question_id":60123616,"body_markdown":"Modify the rule as follows . `.anyRequest().authenticated()` to be used only once .\r\n\r\n        http\r\n            .httpBasic()\r\n                .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/rest/**&quot;).permitAll()\r\n                .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/secure/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .permitAll();\r\n\r\n","title":"Can&#39;t configure antMatchers after anyRequest (Multiple antMatcher)","body":"<p>Modify the rule as follows . <code>.anyRequest().authenticated()</code> to be used only once .</p>\n\n<pre><code>    http\n        .httpBasic()\n            .and()\n        .authorizeRequests()\n            .antMatchers(\"/rest/**\").permitAll()\n            .and()\n        .authorizeRequests()\n            .antMatchers(\"/secure/**\").hasAnyRole(\"ADMIN\")\n            .anyRequest().authenticated()\n            .and()\n        .formLogin()\n            .permitAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18505187,"reputation":71,"user_id":13481644,"display_name":"yosef girma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1627662729,"creation_date":1627662729,"answer_id":68594310,"question_id":60123616,"body_markdown":"It might help someone for same kind of Exception\r\nHere is my code:-\r\n\r\n        @Override\r\n          protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            \r\n             http.authorizeRequests()\r\n                 .antMatchers(&quot;/**&quot;)\r\n                 .hasAnyRole()\r\n                 .and()\r\n                 .formLogin();\r\n        }\r\n\r\nI just removed the call to super class :- super.configure(http); It worked for me. Just remove that line.","title":"Can&#39;t configure antMatchers after anyRequest (Multiple antMatcher)","body":"<p>It might help someone for same kind of Exception\nHere is my code:-</p>\n<pre><code>    @Override\n      protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        \n         http.authorizeRequests()\n             .antMatchers(&quot;/**&quot;)\n             .hasAnyRole()\n             .and()\n             .formLogin();\n    }\n</code></pre>\n<p>I just removed the call to super class :- super.configure(http); It worked for me. Just remove that line.</p>\n"},{"tags":[],"owner":{"account_id":15878073,"reputation":37,"user_id":11456666,"display_name":"java code point"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638689157,"creation_date":1638599434,"answer_id":70223512,"question_id":60123616,"body_markdown":"      protected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\t    http.csrf()\r\n\t\t\t\t.disable()\r\n\t\t\t\t.cors()\r\n\t\t\t\t.disable()\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/login&quot;, &quot;/user/createUser&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.antMatchers(HttpMethod.OPTIONS)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t.and().exceptionHandling()\r\n\t\t\t\t.authenticationEntryPoint(unautorizeHandler)\r\n\t\t\t\t.and().sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n\t\t   http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t}","title":"Can&#39;t configure antMatchers after anyRequest (Multiple antMatcher)","body":"<pre><code>  protected void configure(HttpSecurity http) throws Exception {\n    \n        http.csrf()\n            .disable()\n            .cors()\n            .disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/login&quot;, &quot;/user/createUser&quot;)\n            .permitAll()\n            .antMatchers(HttpMethod.OPTIONS)\n            .permitAll()\n            .anyRequest()\n            .authenticated()\n            .and().exceptionHandling()\n            .authenticationEntryPoint(unautorizeHandler)\n            .and().sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n       http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17701438,"reputation":36,"user_id":12850984,"display_name":"Ragunath14"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652873684,"creation_date":1652873684,"answer_id":72288440,"question_id":60123616,"body_markdown":"    Authenticated should come last \r\n    httpSecurity.csrf().disable()\r\n                     .cors()\r\n                    .and().authorizeRequests()\r\n                    .antMatchers(&quot;xyz&quot;).permitAll()\r\n                    .antMatchers(&quot;abc&quot;)\r\n                    .authenticated()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);","title":"Can&#39;t configure antMatchers after anyRequest (Multiple antMatcher)","body":"<pre><code>Authenticated should come last \nhttpSecurity.csrf().disable()\n                 .cors()\n                .and().authorizeRequests()\n                .antMatchers(&quot;xyz&quot;).permitAll()\n                .antMatchers(&quot;abc&quot;)\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682536531,"post_id":76092085,"comment_id":134233481,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76092085/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28400654,"reputation":1,"user_id":21725521,"display_name":"pambalanaveen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682340584,"creation_date":1682340584,"answer_id":76092085,"question_id":60123616,"body_markdown":"  \r\n\t http\r\n     .httpBasic()\r\n         .and()\r\n     .authorizeRequests()\r\n         .antMatchers(&quot;/rest/**&quot;).permitAll()\r\n         .and()\r\n     .authorizeRequests()\r\n         .antMatchers(&quot;/secure/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n         .anyRequest().authenticated()\r\n         .and()\r\n     .formLogin()\r\n         .permitAll();\r\n\t}\r\n\t","title":"Can&#39;t configure antMatchers after anyRequest (Multiple antMatcher)","body":"<pre><code> http\n .httpBasic()\n     .and()\n .authorizeRequests()\n     .antMatchers(&quot;/rest/**&quot;).permitAll()\n     .and()\n .authorizeRequests()\n     .antMatchers(&quot;/secure/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\n     .anyRequest().authenticated()\n     .and()\n .formLogin()\n     .permitAll();\n}\n</code></pre>\n"}],"owner":{"account_id":13918784,"reputation":205,"user_id":10049821,"display_name":"Aussergewohnliche Travailler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30752,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":72288440,"answer_count":5,"score":16,"last_activity_date":1682340584,"creation_date":1581131643,"question_id":60123616,"body_markdown":"I am trying to configure Spring Security and get this following error:\r\n\r\n&gt;    Caused by: java.lang.IllegalStateException: Can&#39;t configure antMatchers after anyRequest\r\n\r\nThis is my `SecurityConfig` class:\r\n  \r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n        \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n        \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n        \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        \r\n                auth.userDetailsService(userDetailsService).passwordEncoder(encodePWD());\r\n        }\r\n        \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception{\r\n        \r\n            http\r\n                .csrf().disable();\r\n            http\r\n                .httpBasic()\r\n                    .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/rest/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/secure/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .permitAll();\r\n        \r\n            http\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/login&quot;).permitAll();\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder encodePWD(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nI already tried call `httpSecurityauthorizeRequests().anyRequest().authenticated()` as mentioned [here][1], \r\nstill didn&#39;t work\r\n...any suggestion would be helpfull.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58420224/how-to-add-matchers-to-httpsecurity-spring-web-secure","title":"Can&#39;t configure antMatchers after anyRequest (Multiple antMatcher)","body":"<p>I am trying to configure Spring Security and get this following error:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalStateException: Can't configure antMatchers after anyRequest</p>\n</blockquote>\n\n<p>This is my <code>SecurityConfig</code> class:</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n            auth.userDetailsService(userDetailsService).passwordEncoder(encodePWD());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n\n        http\n            .csrf().disable();\n        http\n            .httpBasic()\n                .and()\n            .authorizeRequests()\n                .antMatchers(\"/rest/**\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .authorizeRequests()\n                .antMatchers(\"/secure/**\").hasAnyRole(\"ADMIN\")\n                .anyRequest().authenticated()\n                .and()\n            .formLogin()\n                .permitAll();\n\n        http\n            .authorizeRequests()\n                .antMatchers(\"/login\").permitAll();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder encodePWD(){\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n\n<p>I already tried call <code>httpSecurityauthorizeRequests().anyRequest().authenticated()</code> as mentioned <a href=\"https://stackoverflow.com/questions/58420224/how-to-add-matchers-to-httpsecurity-spring-web-secure\">here</a>, \nstill didn't work\n...any suggestion would be helpfull.</p>\n"},{"tags":["java","spring-boot","api","rest","get-request"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1682327780,"post_id":76090312,"comment_id":134191980,"body_markdown":"WebClient is fine but you need to add authentication. It says 401 which means that you didn&#39;t authenticate with server2","body":"WebClient is fine but you need to add authentication. It says 401 which means that you didn&#39;t authenticate with server2"},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":1,"creation_date":1682327893,"post_id":76090312,"comment_id":134192008,"body_markdown":"Maybe is something to do with CORS, you can try to add a bean to allow all connections:\n\n`@Bean\n    CorsWebFilter corsWebFilter() {\n        final CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.applyPermitDefaultValues();\n        corsConfig.addAllowedMethod(&quot;*&quot;);\n\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n\n        return new CorsWebFilter(source);\n    }`","body":"Maybe is something to do with CORS, you can try to add a bean to allow all connections:  <code>@Bean     CorsWebFilter corsWebFilter() {         final CorsConfiguration corsConfig = new CorsConfiguration();         corsConfig.applyPermitDefaultValues();         corsConfig.addAllowedMethod(&quot;*&quot;);          final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();         source.registerCorsConfiguration(&quot;&#47;**&quot;, corsConfig);          return new CorsWebFilter(source);     }</code>"},{"owner":{"account_id":10297479,"reputation":479,"user_id":7597158,"display_name":"Thirumaran"},"score":1,"creation_date":1682328584,"post_id":76090312,"comment_id":134192159,"body_markdown":"Remove auth if you don&#39;t want to use. disable security by adding this line to properties file security.ignored=/**","body":"Remove auth if you don&#39;t want to use. disable security by adding this line to properties file security.ignored=/**"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":1,"creation_date":1682336327,"post_id":76090312,"comment_id":134193848,"body_markdown":"Thank you so much guys! I tried to disable the security, but is not working.","body":"Thank you so much guys! I tried to disable the security, but is not working."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":1,"creation_date":1682336490,"post_id":76090312,"comment_id":134193885,"body_markdown":"@grekier I knew it is kind of a authenticate error, but I did not how to solve it","body":"@grekier I knew it is kind of a authenticate error, but I did not how to solve it"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1682341140,"post_id":76090312,"comment_id":134194897,"body_markdown":"@Slimu I am trying to do what you suggested, but I have this error: java: incompatible types: org.springframework.web.cors.UrlBasedCorsConfigurationSource cannot be converted to org.springframework.web.cors.reactive.CorsConfigurationSource","body":"@Slimu I am trying to do what you suggested, but I have this error: java: incompatible types: org.springframework.web.cors.UrlBasedCorsConfigurationSource cannot be converted to org.springframework.web.cors.reactive.CorsConfigurationSourc&zwnj;&#8203;e"},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1682349467,"post_id":76090312,"comment_id":134197196,"body_markdown":"My example was for Spring WebFlux endpoints, for non-reactive you can read here https://spring.io/guides/gs/rest-service-cors/","body":"My example was for Spring WebFlux endpoints, for non-reactive you can read here <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/rest-service-cors</a>"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1682362700,"post_id":76090312,"comment_id":134200223,"body_markdown":"In the end I figure it out it was a silly mistake with the URI","body":"In the end I figure it out it was a silly mistake with the URI"}],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682340482,"creation_date":1682327380,"question_id":76090312,"body_markdown":"I need to create a communication between two Spring Servers. Both of the servers works, I have tested them with &quot;Postman&quot;. First server:\r\n[![enter image description here][1]][1]\r\n\r\nAnd this is the second server:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nServer1: (that must performe the get request)\r\n\r\nThis is the &quot;CheckService&quot;:\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    @Setter\r\n    public class CheckService {\r\n    \r\n        private CheckModel checkModel;\r\n        private RestTemplate restTemplate;\r\n    \r\n        public CheckService(){}\r\n        private WebClient webClient;\r\n    \r\n        public CheckService(CheckModel checkModel){\r\n            this.checkModel = checkModel;\r\n            this.restTemplate = new RestTemplate();\r\n            this.webClient = WebClient.builder().baseUrl(&quot;http://localhost:1200/api&quot;).build();\r\n        }\r\n        \r\n    \r\n        public String CheckDataset(){\r\n            try {\r\n    \r\n                CheckModel checkModel1 = new CheckModel();\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                list.add(&quot;Alex&quot;);\r\n                list.add(&quot;check&quot;);\r\n    \r\n                checkModel1.setChecking(list);\r\n    \r\n                return webClient.get()\r\n                        .uri(&quot;/Check&quot;)\r\n                        .retrieve()\r\n                        .bodyToMono(String.class)\r\n                        .block();\r\n            }catch (Exception e){\r\n                throw new RuntimeException(e);\r\n            }\r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\nThis is the &quot;CheckModel&quot; class:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CheckModel {\r\n        protected List&lt;String&gt; checking;\r\n        public CheckModel(){}\r\n    \r\n    }\r\n\r\nServer2: (server that must response to the get request)\r\n\r\nThe &quot;RequestController&quot; class:\r\n\r\n    @AllArgsConstructor\r\n    @RestController\r\n    @RequestMapping(path = {&quot;/api&quot;})\r\n    public class RequestsController {\r\n    \r\n        private final HashMap&lt;String, HashMap&lt;String,String&gt;&gt; DatasetMaps = ProcessingApplication.DatasetMaps;\r\n    \r\n        @GetMapping(path = {&quot;Check&quot;})\r\n        public String Check(@RequestBody CheckModel checkModel){\r\n            GetCheck getCheck = new GetCheck(this.DatasetMaps);\r\n            return getCheck.GetCheckDatasetMethod(checkModel.checking);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThe &quot;CheckModel&quot; class:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CheckModel {\r\n        protected List&lt;String&gt; checking;\r\n        public CheckModel(){}\r\n    }\r\n\r\n\r\nThis is the security of the second server:\r\n\r\n\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableWebSecurity\r\n    public class ServerSecurity{\r\n    \r\n        @Bean\r\n        public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity httpSecurity) throws Exception{\r\n            httpSecurity\r\n                    .csrf()\r\n                    .disable()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/api/**&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .formLogin();\r\n            httpSecurity.httpBasic();\r\n    \r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n\r\nThe error that the First server receive is: 401 Unauthorized.\r\nI do not know if the &quot;WebClient&quot; is the correct way of doing it. Do you have any suggestion? \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rnHxp.png\r\n  [2]: https://i.stack.imgur.com/WbfYk.png\r\n\r\n\r\n","title":"Get Request from Spring Boot to another Spring Boot","body":"<p>I need to create a communication between two Spring Servers. Both of the servers works, I have tested them with &quot;Postman&quot;. First server:\n<a href=\"https://i.stack.imgur.com/rnHxp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rnHxp.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the second server:</p>\n<p><a href=\"https://i.stack.imgur.com/WbfYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WbfYk.png\" alt=\"enter image description here\" /></a></p>\n<p>Server1: (that must performe the get request)</p>\n<p>This is the &quot;CheckService&quot;:</p>\n<pre><code>@Service\n@AllArgsConstructor\n@Setter\npublic class CheckService {\n\n    private CheckModel checkModel;\n    private RestTemplate restTemplate;\n\n    public CheckService(){}\n    private WebClient webClient;\n\n    public CheckService(CheckModel checkModel){\n        this.checkModel = checkModel;\n        this.restTemplate = new RestTemplate();\n        this.webClient = WebClient.builder().baseUrl(&quot;http://localhost:1200/api&quot;).build();\n    }\n    \n\n    public String CheckDataset(){\n        try {\n\n            CheckModel checkModel1 = new CheckModel();\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            list.add(&quot;Alex&quot;);\n            list.add(&quot;check&quot;);\n\n            checkModel1.setChecking(list);\n\n            return webClient.get()\n                    .uri(&quot;/Check&quot;)\n                    .retrieve()\n                    .bodyToMono(String.class)\n                    .block();\n        }catch (Exception e){\n            throw new RuntimeException(e);\n        }\n   }\n}\n</code></pre>\n<p>This is the &quot;CheckModel&quot; class:</p>\n<pre><code>@Getter\n@Setter\npublic class CheckModel {\n    protected List&lt;String&gt; checking;\n    public CheckModel(){}\n\n}\n</code></pre>\n<p>Server2: (server that must response to the get request)</p>\n<p>The &quot;RequestController&quot; class:</p>\n<pre><code>@AllArgsConstructor\n@RestController\n@RequestMapping(path = {&quot;/api&quot;})\npublic class RequestsController {\n\n    private final HashMap&lt;String, HashMap&lt;String,String&gt;&gt; DatasetMaps = ProcessingApplication.DatasetMaps;\n\n    @GetMapping(path = {&quot;Check&quot;})\n    public String Check(@RequestBody CheckModel checkModel){\n        GetCheck getCheck = new GetCheck(this.DatasetMaps);\n        return getCheck.GetCheckDatasetMethod(checkModel.checking);\n    }\n  }\n}\n</code></pre>\n<p>The &quot;CheckModel&quot; class:</p>\n<pre><code>@Getter\n@Setter\npublic class CheckModel {\n    protected List&lt;String&gt; checking;\n    public CheckModel(){}\n}\n</code></pre>\n<p>This is the security of the second server:</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ServerSecurity{\n\n    @Bean\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin();\n        httpSecurity.httpBasic();\n\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n</code></pre>\n<p>The error that the First server receive is: 401 Unauthorized.\nI do not know if the &quot;WebClient&quot; is the correct way of doing it. Do you have any suggestion?</p>\n"},{"tags":["java","android-studio","okhttp"],"comments":[{"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"score":0,"creation_date":1682342730,"post_id":76089194,"comment_id":134195294,"body_markdown":"I have no experience with that particular HTTP client, but `boundary=something` seems odd to me. I would try something along the lines of `boundary=&quot;+body.boundary()` instead, because the boundary given in the request header must match that used in the body.","body":"I have no experience with that particular HTTP client, but <code>boundary=something</code> seems odd to me. I would try something along the lines of <code>boundary=&quot;+body.boundary()</code> instead, because the boundary given in the request header must match that used in the body."},{"owner":{"account_id":28394343,"reputation":1,"user_id":21719620,"display_name":"zibit zibit"},"score":0,"creation_date":1682436952,"post_id":76089194,"comment_id":134213823,"body_markdown":"not in body boundary(), tried without .AddHeader(&quot;Content-Type&quot;, String.format(&quot;multipart/form-data; boundary=) also does not send (:","body":"not in body boundary(), tried without .AddHeader(&quot;Content-Type&quot;, String.format(&quot;multipart/form-data; boundary=) also does not send (:"},{"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"score":0,"creation_date":1682510836,"post_id":76089194,"comment_id":134226874,"body_markdown":"have you tried `.addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot;+body.boundary())` ? You definitely cannot skip that line completely.","body":"have you tried <code>.addHeader(&quot;Content-Type&quot;, &quot;multipart&#47;form-data; boundary=&quot;+body.boundary())</code> ? You definitely cannot skip that line completely."}],"owner":{"account_id":28394343,"reputation":1,"user_id":21719620,"display_name":"zibit zibit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682340245,"creation_date":1682318576,"question_id":76089194,"body_markdown":"In the emulator, what is less than 2 kb is sent\r\nfrom the phone it does not sent (size 30-50 kb) and gives below error \r\n\r\n`I/System.out: java.io.IOException: unexpected end of stream on http://`\r\n\r\nCan someone help me on what&#39;s going wrong here?\r\nThis is my code to send image\r\n\r\n\r\n```\r\npublic Boolean SendImage_ms(String serverURL) {\r\n        try {\r\n        Bitmap image = photo_img_ms;\r\n        String id_ms = ID_Item.toString();\r\n        String filename = &quot;image.png&quot;;\r\n\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        image.compress(Bitmap.CompressFormat.PNG, 10, baos);\r\n\r\n      //  String encoded_file;\r\n      //  encoded_file = Base64.getEncoder().encodeToString(baos.toByteArray());\r\n\r\n        RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;file&quot;, filename,\r\n                        RequestBody.create(MEDIA_TYPE_PNG,\r\n                                baos.toByteArray()))\r\n\r\n                .addFormDataPart(&quot;id&quot;, id_ms)\r\n                //.addFormDataPart(&quot;file&quot;, encoded_file)\r\n                .addFormDataPart(&quot;api_key&quot;, api_key)\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(serverURL)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=something&quot;)\r\n                .addHeader(&quot;Connection&quot;, &quot;close&quot;)\r\n                .method(&quot;POST&quot;,body)\r\n                .build();\r\n\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .addInterceptor(new LoggingInterceptor())\r\n                .writeTimeout(600, TimeUnit.SECONDS)\r\n                .readTimeout(600, TimeUnit.SECONDS)\r\n                .retryOnConnectionFailure(true)\r\n                .build();\r\n\r\n        client.newCall(request).enqueue(new Callback() {\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                System.out.println(e.toString());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(final Call call, final Response response) throws IOException {\r\n                if (!response.isSuccessful()) {\r\n                    System.out.println(&quot;error&quot;);\r\n                }\r\n                System.out.println(response.body().string());\r\n            }\r\n        });\r\n\r\n        return true;\r\n    } catch (Exception ex) {\r\n        System.out.println(ex.toString());\r\n        // Handle the error\r\n    }\r\n    return false;\r\n}\r\n\r\nclass LoggingInterceptor implements Interceptor {\r\n    @Override public Response intercept(Chain chain) throws IOException {\r\n        Request request = chain.request();\r\n\r\n        long t1 = System.nanoTime();\r\n        Log.d(&quot;OkHttp&quot;, String.format(&quot;Sending request %s on %s%n%s&quot;,\r\n                request.url(), chain.connection(), request.headers(), request.body(),request.toString()));\r\n\r\n        Response response = chain.proceed(request);\r\n\r\n        long t2 = System.nanoTime();\r\n        Log.d(&quot;OkHttp&quot;, String.format(&quot;Received response for %s in %.1fms%n%s&quot;,\r\n                response.request().url(), (t2 - t1) / 1e6d, response.headers()));\r\n\r\n        return response;\r\n    }\r\n}\r\n\r\n```\r\n","title":"The image is not sent by the post method","body":"<p>In the emulator, what is less than 2 kb is sent\nfrom the phone it does not sent (size 30-50 kb) and gives below error</p>\n<p><code>I/System.out: java.io.IOException: unexpected end of stream on http://</code></p>\n<p>Can someone help me on what's going wrong here?\nThis is my code to send image</p>\n<pre><code>public Boolean SendImage_ms(String serverURL) {\n        try {\n        Bitmap image = photo_img_ms;\n        String id_ms = ID_Item.toString();\n        String filename = &quot;image.png&quot;;\n\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        image.compress(Bitmap.CompressFormat.PNG, 10, baos);\n\n      //  String encoded_file;\n      //  encoded_file = Base64.getEncoder().encodeToString(baos.toByteArray());\n\n        RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n                .addFormDataPart(&quot;file&quot;, filename,\n                        RequestBody.create(MEDIA_TYPE_PNG,\n                                baos.toByteArray()))\n\n                .addFormDataPart(&quot;id&quot;, id_ms)\n                //.addFormDataPart(&quot;file&quot;, encoded_file)\n                .addFormDataPart(&quot;api_key&quot;, api_key)\n                .build();\n\n        Request request = new Request.Builder()\n                .url(serverURL)\n                .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=something&quot;)\n                .addHeader(&quot;Connection&quot;, &quot;close&quot;)\n                .method(&quot;POST&quot;,body)\n                .build();\n\n        OkHttpClient client = new OkHttpClient.Builder()\n                .addInterceptor(new LoggingInterceptor())\n                .writeTimeout(600, TimeUnit.SECONDS)\n                .readTimeout(600, TimeUnit.SECONDS)\n                .retryOnConnectionFailure(true)\n                .build();\n\n        client.newCall(request).enqueue(new Callback() {\n\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                System.out.println(e.toString());\n            }\n\n            @Override\n            public void onResponse(final Call call, final Response response) throws IOException {\n                if (!response.isSuccessful()) {\n                    System.out.println(&quot;error&quot;);\n                }\n                System.out.println(response.body().string());\n            }\n        });\n\n        return true;\n    } catch (Exception ex) {\n        System.out.println(ex.toString());\n        // Handle the error\n    }\n    return false;\n}\n\nclass LoggingInterceptor implements Interceptor {\n    @Override public Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n\n        long t1 = System.nanoTime();\n        Log.d(&quot;OkHttp&quot;, String.format(&quot;Sending request %s on %s%n%s&quot;,\n                request.url(), chain.connection(), request.headers(), request.body(),request.toString()));\n\n        Response response = chain.proceed(request);\n\n        long t2 = System.nanoTime();\n        Log.d(&quot;OkHttp&quot;, String.format(&quot;Received response for %s in %.1fms%n%s&quot;,\n                response.request().url(), (t2 - t1) / 1e6d, response.headers()));\n\n        return response;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-spark","record"],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682340235,"creation_date":1682340235,"question_id":76092020,"body_markdown":"I have a method:\r\n\r\n```java\r\npublic Dataset&lt;ActiviteCommune&gt; activitesParCommune(Dataset&lt;Row&gt; rowEntreprisesEtablissements) {\r\n   return rowEntreprisesEtablissements\r\n     .map((MapFunction&lt;Row, ActiviteCommune&gt;) row -&gt; {\r\n        try {\r\n           // D&#233;terminer la section associ&#233;e au code APE.\r\n           String siren = row.getAs(&quot;siren&quot;);\r\n           String siret = row.getAs(&quot;siret&quot;);\r\n           String codeAPE = row.getAs(&quot;activitePrincipale&quot;);\r\n           [...]\r\n              \r\n           return new ActiviteCommune(codeCommune, epci, nomCommune, strateCommune, codeAPE, section, \r\n              1, nombreSalaries, nombreActifs, siren, nomEntreprise, siret, \r\n              nomEtablissement, categorieJuridique, libelleAPE, estimationFournieParINSEE, libelleCategorieJuridique, \r\n              categorieEntreprise, categorieEtablissement);\r\n        }\r\n        catch(RuntimeException e) {\r\n           String format = &quot;Un row durant le mapDetailActivites(..) a provoqu&#233; un incident : {0}. Contenu du row : \\n{1}&quot;;\r\n           String message = MessageFormat.format(format, e.getMessage(), row.mkString());\r\n           RuntimeException ex = new RuntimeException(message, e);\r\n              \r\n           LOGGER.error(ex.getMessage(), ex);\r\n           throw ex;\r\n        }\r\n     }, Encoders.bean(ActiviteCommune.class));\r\n}\r\n```\r\n\r\nwith a POJO:\r\n\r\n```java\r\npublic class ActiviteCommune implements Serializable {\r\n   /** Serial ID. */\r\n   @Serial\r\n   private static final long serialVersionUID = 3283834279341212821L;\r\n   \r\n   /** Code de la commune. */\r\n   private String codeCommune;\r\n   \r\n   /** Code EPCI de l&#39;intercommunalit&#233;. */\r\n   private String codeEPCI;\r\n   \r\n   /** Nom de la commune */\r\n   private String nomCommune;\r\n\r\n   public ActiviteCommune(String codeCommune, String codeEPCI, String nomCommune, Integer strateCommune, String ape, String section, \r\n         int nombreEntreprises, double nombreSalaries, double nombreActifs, String siren, String nomEntreprise, String siret, \r\n         String nomEtablissement, String categorieJuridique, String libelleAPE, boolean estimationFournie, String libelleCategorieJuridique,\r\n         String categorieEntreprise, String categorieEtablissement) {\r\n      [...]\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le code APE de l&#39;activit&#233; exerc&#233;e.\r\n    * @return Code APE.\r\n    */\r\n   public String getApe() {\r\n      return this.ape;\r\n   }\r\n\r\n   /**\r\n    * Fixer le code APE de l&#39;activit&#233; exerc&#233;e.\r\n    * @param ape Code APE.\r\n    */\r\n   public void setApe(String ape) {\r\n      this.ape = ape;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer la cat&#233;gorie d&#39;entreprise : PME, ETI, GE (INSEE).\r\n    * @return Cat&#233;gorie d&#39;entreprise.\r\n    */\r\n   public String getCategorieEntreprise() {\r\n      return this.categorieEntreprise;\r\n   }\r\n\r\n   /**\r\n    * Fixer la cat&#233;gorie d&#39;entreprise : PME, ETI, GE (INSEE).\r\n    * @param categorieEntreprise Cat&#233;gorie d&#39;entreprise.\r\n    */\r\n   public void setCategorieEntreprise(String categorieEntreprise) {\r\n      this.categorieEntreprise = categorieEntreprise;\r\n   }\r\n   [...]\r\n```\r\n\r\nthat works, and returns a Dataset of the wished `ActiviteCommune` objects\r\n\r\nBut then I&#39;ve attempted an:\r\n\r\n```java\r\npublic Dataset&lt;JeuDeDonnees&gt; catalogueDataset(Dataset&lt;Row&gt; datasets) {\r\n   Objects.requireNonNull(datasets, &quot;Le Dataset en entr&#233;e ne peut pas valoir null.&quot;);\r\n\r\n   return datasets\r\n      .map((MapFunction&lt;Row, JeuDeDonnees&gt;)row -&gt; {\r\n         try {\r\n            String catId = row.getAs(&quot;id_catalogue&quot;);\r\n            CatalogueId catalogueId = catId != null ? new CatalogueId(catId) : null;\r\n\r\n            String titre = row.getAs(&quot;titre_catalogue&quot;);\r\n            String slug = row.getAs(&quot;slug_catalogue&quot;);\r\n            [...]\r\n\r\n            return new JeuDeDonnees(catalogueId, titre, slug, acronyme, url,\r\n               organisationId, organisation, description, frequence, licence,\r\n               dateDebut, dateFin, granulariteSpatiale, zonesSpatiales, prive,\r\n               featured, dateCreation, dateModification, tags, archive,\r\n               nombreDeRessources, metriqueDiscussions, metriqueReutilisation, metriqueSuiveurs, metriqueVues);\r\n         }\r\n         catch(RuntimeException e) {\r\n            String format = &quot;Un row durant le mapCatalogueDataset(..) a provoqu&#233; un incident : {0}. Contenu du row : \\n{1}&quot;;\r\n            String message = MessageFormat.format(format, e.getMessage(), row.mkString());\r\n            RuntimeException ex = new RuntimeException(message, e);\r\n\r\n            LOGGER.error(ex.getMessage(), ex);\r\n            throw ex;\r\n         }\r\n      }, Encoders.bean(JeuDeDonnees.class));\r\n}\r\n```\r\n\r\nwith another Java POJO that is a Record, and not a Class\r\n\r\n```java\r\npublic record JeuDeDonnees(CatalogueId catalogueId, String titre, String slug, String acronyme, String url,\r\n   OrganisationId organisationId, String organisation, String description, String frequence, String licence,\r\n   LocalDate dateDebut, LocalDate dateFin, String granulariteSpatiale, String zonesSpatiales, Boolean prive,\r\n   Boolean featured, LocalDate dateCreation, LocalDate dateModification, String tags, Boolean archive,\r\n   Integer nombreDeRessources, Integer metriqueDiscussions, Integer metriqueReutilisation, Integer metriqueSuiveurs, Integer metriqueVues) {\r\n}\r\n```\r\n\r\nMy Spark 3.3.2 fails :\r\n\r\n```log\r\n2023-04-24 14:27:53.645  INFO 653527 --- [           main] org.apache.spark.scheduler.DAGScheduler  : Job 6 finished: takeAsList at CatalogueDatagouvIT.java:88, took 0,036174 s\r\n2023-04-24 14:27:53.666 ERROR 653527 --- [           main] o.a.s.s.c.e.codegen.CodeGenerator        : failed to compile: org.codehaus.commons.compiler.CompileException: File &#39;generated.java&#39;, Line 24, Column 8: No applicable constructor/method found for zero actual parameters; candidates are: &quot;fr.ecoemploi.metier.catalogue.JeuDeDonnees(fr.ecoemploi.metier.catalogue.CatalogueId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, fr.ecoemploi.metier.catalogue.OrganisationId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.Boolean, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer)&quot;\r\n\r\norg.codehaus.commons.compiler.CompileException: File &#39;generated.java&#39;, Line 24, Column 8: No applicable constructor/method found for zero actual parameters; candidates are: &quot;fr.ecoemploi.metier.catalogue.JeuDeDonnees(fr.ecoemploi.metier.catalogue.CatalogueId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, fr.ecoemploi.metier.catalogue.OrganisationId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.Boolean, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer)&quot;\r\n\tat org.codehaus.janino.UnitCompiler.compileError(UnitCompiler.java:12021)\r\n\tat org.codehaus.janino.UnitCompiler.findMostSpecificIInvocable(UnitCompiler.java:9332)\r\n\tat org.codehaus.janino.UnitCompiler.invokeConstructor(UnitCompiler.java:8035)\r\n\tat org.codehaus.janino.UnitCompiler.compileGet2(UnitCompiler.java:5430)\r\n\tat org.codehaus.janino.UnitCompiler.access$9800(UnitCompiler.java:226)\r\n\tat org.codehaus.janino.UnitCompiler$16.visitNewClassInstance(UnitCompiler.java:4494)\r\n\tat org.codehaus.janino.UnitCompiler$16.visitNewClassInstance(UnitCompiler.java:4455)\r\n```\r\n\r\n`Spark 3.3.2` is able to work with Java 17.\r\n\r\nBut do you now if it is able to handle records, already?","title":"Is Spark 3.3.2, that can run under Java 17, able to manage records?","body":"<p>I have a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Dataset&lt;ActiviteCommune&gt; activitesParCommune(Dataset&lt;Row&gt; rowEntreprisesEtablissements) {\n   return rowEntreprisesEtablissements\n     .map((MapFunction&lt;Row, ActiviteCommune&gt;) row -&gt; {\n        try {\n           // Déterminer la section associée au code APE.\n           String siren = row.getAs(&quot;siren&quot;);\n           String siret = row.getAs(&quot;siret&quot;);\n           String codeAPE = row.getAs(&quot;activitePrincipale&quot;);\n           [...]\n              \n           return new ActiviteCommune(codeCommune, epci, nomCommune, strateCommune, codeAPE, section, \n              1, nombreSalaries, nombreActifs, siren, nomEntreprise, siret, \n              nomEtablissement, categorieJuridique, libelleAPE, estimationFournieParINSEE, libelleCategorieJuridique, \n              categorieEntreprise, categorieEtablissement);\n        }\n        catch(RuntimeException e) {\n           String format = &quot;Un row durant le mapDetailActivites(..) a provoqué un incident : {0}. Contenu du row : \\n{1}&quot;;\n           String message = MessageFormat.format(format, e.getMessage(), row.mkString());\n           RuntimeException ex = new RuntimeException(message, e);\n              \n           LOGGER.error(ex.getMessage(), ex);\n           throw ex;\n        }\n     }, Encoders.bean(ActiviteCommune.class));\n}\n</code></pre>\n<p>with a POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ActiviteCommune implements Serializable {\n   /** Serial ID. */\n   @Serial\n   private static final long serialVersionUID = 3283834279341212821L;\n   \n   /** Code de la commune. */\n   private String codeCommune;\n   \n   /** Code EPCI de l'intercommunalité. */\n   private String codeEPCI;\n   \n   /** Nom de la commune */\n   private String nomCommune;\n\n   public ActiviteCommune(String codeCommune, String codeEPCI, String nomCommune, Integer strateCommune, String ape, String section, \n         int nombreEntreprises, double nombreSalaries, double nombreActifs, String siren, String nomEntreprise, String siret, \n         String nomEtablissement, String categorieJuridique, String libelleAPE, boolean estimationFournie, String libelleCategorieJuridique,\n         String categorieEntreprise, String categorieEtablissement) {\n      [...]\n   }\n\n   /**\n    * Renvoyer le code APE de l'activité exercée.\n    * @return Code APE.\n    */\n   public String getApe() {\n      return this.ape;\n   }\n\n   /**\n    * Fixer le code APE de l'activité exercée.\n    * @param ape Code APE.\n    */\n   public void setApe(String ape) {\n      this.ape = ape;\n   }\n\n   /**\n    * Renvoyer la catégorie d'entreprise : PME, ETI, GE (INSEE).\n    * @return Catégorie d'entreprise.\n    */\n   public String getCategorieEntreprise() {\n      return this.categorieEntreprise;\n   }\n\n   /**\n    * Fixer la catégorie d'entreprise : PME, ETI, GE (INSEE).\n    * @param categorieEntreprise Catégorie d'entreprise.\n    */\n   public void setCategorieEntreprise(String categorieEntreprise) {\n      this.categorieEntreprise = categorieEntreprise;\n   }\n   [...]\n</code></pre>\n<p>that works, and returns a Dataset of the wished <code>ActiviteCommune</code> objects</p>\n<p>But then I've attempted an:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Dataset&lt;JeuDeDonnees&gt; catalogueDataset(Dataset&lt;Row&gt; datasets) {\n   Objects.requireNonNull(datasets, &quot;Le Dataset en entrée ne peut pas valoir null.&quot;);\n\n   return datasets\n      .map((MapFunction&lt;Row, JeuDeDonnees&gt;)row -&gt; {\n         try {\n            String catId = row.getAs(&quot;id_catalogue&quot;);\n            CatalogueId catalogueId = catId != null ? new CatalogueId(catId) : null;\n\n            String titre = row.getAs(&quot;titre_catalogue&quot;);\n            String slug = row.getAs(&quot;slug_catalogue&quot;);\n            [...]\n\n            return new JeuDeDonnees(catalogueId, titre, slug, acronyme, url,\n               organisationId, organisation, description, frequence, licence,\n               dateDebut, dateFin, granulariteSpatiale, zonesSpatiales, prive,\n               featured, dateCreation, dateModification, tags, archive,\n               nombreDeRessources, metriqueDiscussions, metriqueReutilisation, metriqueSuiveurs, metriqueVues);\n         }\n         catch(RuntimeException e) {\n            String format = &quot;Un row durant le mapCatalogueDataset(..) a provoqué un incident : {0}. Contenu du row : \\n{1}&quot;;\n            String message = MessageFormat.format(format, e.getMessage(), row.mkString());\n            RuntimeException ex = new RuntimeException(message, e);\n\n            LOGGER.error(ex.getMessage(), ex);\n            throw ex;\n         }\n      }, Encoders.bean(JeuDeDonnees.class));\n}\n</code></pre>\n<p>with another Java POJO that is a Record, and not a Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record JeuDeDonnees(CatalogueId catalogueId, String titre, String slug, String acronyme, String url,\n   OrganisationId organisationId, String organisation, String description, String frequence, String licence,\n   LocalDate dateDebut, LocalDate dateFin, String granulariteSpatiale, String zonesSpatiales, Boolean prive,\n   Boolean featured, LocalDate dateCreation, LocalDate dateModification, String tags, Boolean archive,\n   Integer nombreDeRessources, Integer metriqueDiscussions, Integer metriqueReutilisation, Integer metriqueSuiveurs, Integer metriqueVues) {\n}\n</code></pre>\n<p>My Spark 3.3.2 fails :</p>\n<pre><code>2023-04-24 14:27:53.645  INFO 653527 --- [           main] org.apache.spark.scheduler.DAGScheduler  : Job 6 finished: takeAsList at CatalogueDatagouvIT.java:88, took 0,036174 s\n2023-04-24 14:27:53.666 ERROR 653527 --- [           main] o.a.s.s.c.e.codegen.CodeGenerator        : failed to compile: org.codehaus.commons.compiler.CompileException: File 'generated.java', Line 24, Column 8: No applicable constructor/method found for zero actual parameters; candidates are: &quot;fr.ecoemploi.metier.catalogue.JeuDeDonnees(fr.ecoemploi.metier.catalogue.CatalogueId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, fr.ecoemploi.metier.catalogue.OrganisationId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.Boolean, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer)&quot;\n\norg.codehaus.commons.compiler.CompileException: File 'generated.java', Line 24, Column 8: No applicable constructor/method found for zero actual parameters; candidates are: &quot;fr.ecoemploi.metier.catalogue.JeuDeDonnees(fr.ecoemploi.metier.catalogue.CatalogueId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, fr.ecoemploi.metier.catalogue.OrganisationId, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.time.LocalDate, java.time.LocalDate, java.lang.String, java.lang.Boolean, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.Integer)&quot;\n    at org.codehaus.janino.UnitCompiler.compileError(UnitCompiler.java:12021)\n    at org.codehaus.janino.UnitCompiler.findMostSpecificIInvocable(UnitCompiler.java:9332)\n    at org.codehaus.janino.UnitCompiler.invokeConstructor(UnitCompiler.java:8035)\n    at org.codehaus.janino.UnitCompiler.compileGet2(UnitCompiler.java:5430)\n    at org.codehaus.janino.UnitCompiler.access$9800(UnitCompiler.java:226)\n    at org.codehaus.janino.UnitCompiler$16.visitNewClassInstance(UnitCompiler.java:4494)\n    at org.codehaus.janino.UnitCompiler$16.visitNewClassInstance(UnitCompiler.java:4455)\n</code></pre>\n<p><code>Spark 3.3.2</code> is able to work with Java 17.</p>\n<p>But do you now if it is able to handle records, already?</p>\n"},{"tags":["java","redis","refresh","netty","lettuce"],"owner":{"account_id":10882969,"reputation":1,"user_id":8001294,"display_name":"carrisia.zheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682340233,"creation_date":1682340233,"question_id":76092019,"body_markdown":"I want to manually refresh lettuceConnection when changed properties on zookeeper.\r\n(because I don&#39;t want to restart my server when it&#39;s working)\r\n\r\nThe following code is my zookeeper listener:\r\n```\r\n.....\r\n log.info(&quot;start to reset redisNodes...&quot;);\r\n     \r\n            List&lt;RedisNode&gt; curRedisNodes = curHostAndPort.stream().map(hp -&gt; {\r\n                String[] hostAndPort = hp.split(&quot;:&quot;);\r\n                return new RedisNode(hostAndPort[0], Integer.valueOf(hostAndPort[1]));\r\n            }).collect(Collectors.toList());\r\n            lettuceConnectionFactory.getClusterConfiguration().setClusterNodes(curRedisNodes);\r\n            String password = (String) properties.get(redisPassword);\r\n            log.info(&quot;redis password:{}&quot;, password);\r\n            lettuceConnectionFactory.getClusterConfiguration().setPassword(RedisPassword.of(password));\r\n\r\n            lettuceConnectionFactory.destroy();\r\n            lettuceConnectionFactory.afterPropertiesSet();\r\n            lettuceConnectionFactory.validateConnection();\r\n            log.info(&quot;lettuceConnectionFactory already validateConnection...&quot;);\r\n```\r\nbut I got the following error log, I thought there maybe some wrong with my code, please help me:\r\n\r\n\r\n```\r\n....\r\n\tat org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host=&#39;...&#39;, port=41837], RedisURI [host=&#39;...&#39;, port=41838]...]\r\n\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.lambda$transformAsyncConnectionException$32(RedisClusterClient.java:1136)\r\n\tat io.lettuce.core.DefaultConnectionFuture.lambda$thenCompose$1(DefaultConnectionFuture.java:252)\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n\tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n\tat reactor.core.publisher.MonoToCompletableFuture.onError(MonoToCompletableFuture.java:68)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:134)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onError(FluxHide.java:132)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:227)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onError(FluxHide.java:132)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:165)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:100)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:251)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onError(FluxHide.java:132)\r\n\tat reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:80)\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n\tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n\tat io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync0$4(AbstractRedisClient.java:329)\r\n\tat io.opentelemetry.javaagent.instrumentation.netty.common.FutureListenerWrappers$WrappedFutureListener.operationComplete(FutureListenerWrappers.java:67)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:615)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:608)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:231)\r\n\tat io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:48)\r\n\tat io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:182)\r\n\tat io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:168)\r\n\tat io.opentelemetry.javaagent.instrumentation.netty.common.FutureListenerWrappers$WrappedFutureListener.operationComplete(FutureListenerWrappers.java:67)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:615)\r\n\tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:604)\r\n\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)\r\n\tat io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:985)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:505)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:388)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\nCaused by: java.lang.IllegalStateException: executor not accepting a task\r\n\tat io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:60)\r\n\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:194)\r\n\t... 22 common frames omitted\r\n\r\n\r\n\r\n\r\n\r\n....\r\n\r\n2023-04-24 16:19:05.396 [lettuce-eventExecutorLoop-3-3] [ERROR] i.n.u.concurrent.DefaultPromise.rejectedExecution - Failed to submit a listener notification task. Event loop shut down?\r\njava.util.concurrent.RejectedExecutionException: event executor terminated\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:981)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:388)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:381)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:880)\r\n\tat io.netty.util.concurrent.DefaultPromise.safeExecute(DefaultPromise.java:841)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:498)\r\n\tat io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:183)\r\n\tat io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\r\n\tat io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\r\n\tat io.lettuce.core.AbstractRedisClient.initializeChannelAsync0(AbstractRedisClient.java:323)\r\n\tat io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync$0(AbstractRedisClient.java:294)\r\n\tat reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:168)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:127)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:132)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.request(FluxHide.java:142)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:137)\r\n\tat reactor.core.publisher.LambdaMonoSubscriber.onSubscribe(LambdaMonoSubscriber.java:118)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:171)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onSubscribe(FluxHide.java:113)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:145)\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4087)\r\n\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4193)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4059)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3995)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3967)\r\n\tat io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:289)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.connectStatefulAsync(RedisClusterClient.java:705)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.connectToNodeAsync(RedisClusterClient.java:499)\r\n\tat io.lettuce.core.cluster.RedisClusterClient$NodeConnectionFactoryImpl.connectToNodeAsync(RedisClusterClient.java:1171)\r\n\tat io.lettuce.core.cluster.topology.ClusterTopologyRefresh.getConnections(ClusterTopologyRefresh.java:263)\r\n\tat io.lettuce.core.cluster.topology.ClusterTopologyRefresh.loadViews(ClusterTopologyRefresh.java:74)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.doLoadPartitions(RedisClusterClient.java:865)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.loadPartitions(RedisClusterClient.java:845)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.reloadPartitions(RedisClusterClient.java:784)\r\n\tat io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.doRun(ClusterTopologyRefreshScheduler.java:256)\r\n\tat io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.run(ClusterTopologyRefreshScheduler.java:236)\r\n\tat io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)\r\n\tat io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:73)\r\n\tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2023-04-24 16:19:05.396 [lettuce-eventExecutorLoop-3-3] [WARN ] io.netty.channel.AbstractChannel - Force-closing a channel whose registration task was not accepted by an event loop: [id: 0x65f34f45]\r\njava.util.concurrent.RejectedExecutionException: event executor terminated\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:981)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:388)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:381)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:880)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register(AbstractChannel.java:472)\r\n\tat io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:87)\r\n\tat io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:81)\r\n\tat io.netty.channel.MultithreadEventLoopGroup.register(MultithreadEventLoopGroup.java:86)\r\n\tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311)\r\n\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect(Bootstrap.java:157)\r\n\tat io.netty.bootstrap.Bootstrap.connect(Bootstrap.java:141)\r\n\tat io.lettuce.core.AbstractRedisClient.initializeChannelAsync0(AbstractRedisClient.java:313)\r\n\tat io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync$0(AbstractRedisClient.java:294)\r\n\tat reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:168)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:127)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:132)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.request(FluxHide.java:142)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:137)\r\n\tat reactor.core.publisher.LambdaMonoSubscriber.onSubscribe(LambdaMonoSubscriber.java:118)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:171)\r\n\tat io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\r\n\tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onSubscribe(FluxHide.java:113)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:145)\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4087)\r\n\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4193)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4059)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3995)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3967)\r\n\tat io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:289)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.connectStatefulAsync(RedisClusterClient.java:705)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.connectToNodeAsync(RedisClusterClient.java:499)\r\n\tat io.lettuce.core.cluster.RedisClusterClient$NodeConnectionFactoryImpl.connectToNodeAsync(RedisClusterClient.java:1171)\r\n\tat io.lettuce.core.cluster.topology.ClusterTopologyRefresh.getConnections(ClusterTopologyRefresh.java:263)\r\n\tat io.lettuce.core.cluster.topology.ClusterTopologyRefresh.loadViews(ClusterTopologyRefresh.java:74)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.doLoadPartitions(RedisClusterClient.java:865)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.loadPartitions(RedisClusterClient.java:845)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.reloadPartitions(RedisClusterClient.java:784)\r\n\tat io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.doRun(ClusterTopologyRefreshScheduler.java:256)\r\n\tat io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.run(ClusterTopologyRefreshScheduler.java:236)\r\n\tat io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)\r\n\tat io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:73)\r\n\tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2023-04-24 16:19:05.397 [lettuce-eventExecutorLoop-3-3] [ERROR] i.n.u.concurrent.DefaultPromise.rejectedExecution - Failed to submit a listener notification task. Event loop shut down?\r\njava.util.concurrent.RejectedExecutionException: event executor terminated\r\n```\r\n\r\n\r\n\r\nhow to manually refresh lettuceConnection?","title":"how to fix &quot;Caused by: java.lang.IllegalStateException: executor not accepting a task&quot; when refresh lettuceConnectionFactory","body":"<p>I want to manually refresh lettuceConnection when changed properties on zookeeper.\n(because I don't want to restart my server when it's working)</p>\n<p>The following code is my zookeeper listener:</p>\n<pre><code>.....\n log.info(&quot;start to reset redisNodes...&quot;);\n     \n            List&lt;RedisNode&gt; curRedisNodes = curHostAndPort.stream().map(hp -&gt; {\n                String[] hostAndPort = hp.split(&quot;:&quot;);\n                return new RedisNode(hostAndPort[0], Integer.valueOf(hostAndPort[1]));\n            }).collect(Collectors.toList());\n            lettuceConnectionFactory.getClusterConfiguration().setClusterNodes(curRedisNodes);\n            String password = (String) properties.get(redisPassword);\n            log.info(&quot;redis password:{}&quot;, password);\n            lettuceConnectionFactory.getClusterConfiguration().setPassword(RedisPassword.of(password));\n\n            lettuceConnectionFactory.destroy();\n            lettuceConnectionFactory.afterPropertiesSet();\n            lettuceConnectionFactory.validateConnection();\n            log.info(&quot;lettuceConnectionFactory already validateConnection...&quot;);\n</code></pre>\n<p>but I got the following error log, I thought there maybe some wrong with my code, please help me:</p>\n<pre><code>....\n    at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host='...', port=41837], RedisURI [host='...', port=41838]...]\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\n    at io.lettuce.core.cluster.RedisClusterClient.lambda$transformAsyncConnectionException$32(RedisClusterClient.java:1136)\n    at io.lettuce.core.DefaultConnectionFuture.lambda$thenCompose$1(DefaultConnectionFuture.java:252)\n    at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\n    at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n    at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n    at reactor.core.publisher.MonoToCompletableFuture.onError(MonoToCompletableFuture.java:68)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:134)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onError(FluxHide.java:132)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:227)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onError(FluxHide.java:132)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:165)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:100)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:251)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onError$1(TracingSubscriber.java:63)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onError(TracingSubscriber.java:63)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onError(FluxHide.java:132)\n    at reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:80)\n    at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\n    at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n    at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n    at io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync0$4(AbstractRedisClient.java:329)\n    at io.opentelemetry.javaagent.instrumentation.netty.common.FutureListenerWrappers$WrappedFutureListener.operationComplete(FutureListenerWrappers.java:67)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:615)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:608)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n    at io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:231)\n    at io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:48)\n    at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:182)\n    at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:168)\n    at io.opentelemetry.javaagent.instrumentation.netty.common.FutureListenerWrappers$WrappedFutureListener.operationComplete(FutureListenerWrappers.java:67)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:615)\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:604)\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)\n    at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:985)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:505)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:416)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:475)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:510)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:388)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\nCaused by: java.lang.IllegalStateException: executor not accepting a task\n    at io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:60)\n    at io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:194)\n    ... 22 common frames omitted\n\n\n\n\n\n....\n\n2023-04-24 16:19:05.396 [lettuce-eventExecutorLoop-3-3] [ERROR] i.n.u.concurrent.DefaultPromise.rejectedExecution - Failed to submit a listener notification task. Event loop shut down?\njava.util.concurrent.RejectedExecutionException: event executor terminated\n    at io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:981)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:388)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:381)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:880)\n    at io.netty.util.concurrent.DefaultPromise.safeExecute(DefaultPromise.java:841)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:498)\n    at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:183)\n    at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\n    at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\n    at io.lettuce.core.AbstractRedisClient.initializeChannelAsync0(AbstractRedisClient.java:323)\n    at io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync$0(AbstractRedisClient.java:294)\n    at reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:168)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:127)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:132)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.request(FluxHide.java:142)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:137)\n    at reactor.core.publisher.LambdaMonoSubscriber.onSubscribe(LambdaMonoSubscriber.java:118)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:171)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onSubscribe(FluxHide.java:113)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:145)\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4087)\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4193)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4059)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:3995)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:3967)\n    at io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:289)\n    at io.lettuce.core.cluster.RedisClusterClient.connectStatefulAsync(RedisClusterClient.java:705)\n    at io.lettuce.core.cluster.RedisClusterClient.connectToNodeAsync(RedisClusterClient.java:499)\n    at io.lettuce.core.cluster.RedisClusterClient$NodeConnectionFactoryImpl.connectToNodeAsync(RedisClusterClient.java:1171)\n    at io.lettuce.core.cluster.topology.ClusterTopologyRefresh.getConnections(ClusterTopologyRefresh.java:263)\n    at io.lettuce.core.cluster.topology.ClusterTopologyRefresh.loadViews(ClusterTopologyRefresh.java:74)\n    at io.lettuce.core.cluster.RedisClusterClient.doLoadPartitions(RedisClusterClient.java:865)\n    at io.lettuce.core.cluster.RedisClusterClient.loadPartitions(RedisClusterClient.java:845)\n    at io.lettuce.core.cluster.RedisClusterClient.reloadPartitions(RedisClusterClient.java:784)\n    at io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.doRun(ClusterTopologyRefreshScheduler.java:256)\n    at io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.run(ClusterTopologyRefreshScheduler.java:236)\n    at io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)\n    at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:73)\n    at io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n2023-04-24 16:19:05.396 [lettuce-eventExecutorLoop-3-3] [WARN ] io.netty.channel.AbstractChannel - Force-closing a channel whose registration task was not accepted by an event loop: [id: 0x65f34f45]\njava.util.concurrent.RejectedExecutionException: event executor terminated\n    at io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:981)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:388)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:381)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:880)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.register(AbstractChannel.java:472)\n    at io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:87)\n    at io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:81)\n    at io.netty.channel.MultithreadEventLoopGroup.register(MultithreadEventLoopGroup.java:86)\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311)\n    at io.netty.bootstrap.Bootstrap.doResolveAndConnect(Bootstrap.java:157)\n    at io.netty.bootstrap.Bootstrap.connect(Bootstrap.java:141)\n    at io.lettuce.core.AbstractRedisClient.initializeChannelAsync0(AbstractRedisClient.java:313)\n    at io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync$0(AbstractRedisClient.java:294)\n    at reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:168)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.lambda$onNext$0(TracingSubscriber.java:58)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.withActiveSpan(TracingSubscriber.java:79)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onNext(TracingSubscriber.java:58)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:127)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:132)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.request(FluxHide.java:142)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:137)\n    at reactor.core.publisher.LambdaMonoSubscriber.onSubscribe(LambdaMonoSubscriber.java:118)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:171)\n    at io.opentelemetry.javaagent.shaded.instrumentation.reactor.TracingSubscriber.onSubscribe(TracingSubscriber.java:53)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onSubscribe(FluxHide.java:113)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:145)\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4087)\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4193)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4059)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:3995)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:3967)\n    at io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:289)\n    at io.lettuce.core.cluster.RedisClusterClient.connectStatefulAsync(RedisClusterClient.java:705)\n    at io.lettuce.core.cluster.RedisClusterClient.connectToNodeAsync(RedisClusterClient.java:499)\n    at io.lettuce.core.cluster.RedisClusterClient$NodeConnectionFactoryImpl.connectToNodeAsync(RedisClusterClient.java:1171)\n    at io.lettuce.core.cluster.topology.ClusterTopologyRefresh.getConnections(ClusterTopologyRefresh.java:263)\n    at io.lettuce.core.cluster.topology.ClusterTopologyRefresh.loadViews(ClusterTopologyRefresh.java:74)\n    at io.lettuce.core.cluster.RedisClusterClient.doLoadPartitions(RedisClusterClient.java:865)\n    at io.lettuce.core.cluster.RedisClusterClient.loadPartitions(RedisClusterClient.java:845)\n    at io.lettuce.core.cluster.RedisClusterClient.reloadPartitions(RedisClusterClient.java:784)\n    at io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.doRun(ClusterTopologyRefreshScheduler.java:256)\n    at io.lettuce.core.cluster.ClusterTopologyRefreshScheduler$ClusterTopologyRefreshTask.run(ClusterTopologyRefreshScheduler.java:236)\n    at io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)\n    at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:73)\n    at io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n2023-04-24 16:19:05.397 [lettuce-eventExecutorLoop-3-3] [ERROR] i.n.u.concurrent.DefaultPromise.rejectedExecution - Failed to submit a listener notification task. Event loop shut down?\njava.util.concurrent.RejectedExecutionException: event executor terminated\n</code></pre>\n<p>how to manually refresh lettuceConnection?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682029102,"post_id":76063942,"comment_id":134155810,"body_markdown":"Please show your code as a [mcve]","body":"Please show your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682029177,"post_id":76063942,"comment_id":134155819,"body_markdown":"Also, `max.poll.interval: 1` is not recommended. Kafka consumers default to poll up to 500 records at a time, to reduce network load on the brokers","body":"Also, <code>max.poll.interval: 1</code> is not recommended. Kafka consumers default to poll up to 500 records at a time, to reduce network load on the brokers"}],"answers":[{"tags":[],"owner":{"account_id":221396,"reputation":375,"user_id":479354,"accept_rate":53,"display_name":"S Rosam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682339260,"creation_date":1682339260,"answer_id":76091880,"question_id":76063942,"body_markdown":"Could be caused by messages going to only one partition due to a static key being used or maybe issues with consumer shutdown leaving the previous consumer hanging and hitting a timeout, this might make the new consumer wait for that timeout to expire.","title":"Kafka Consumer not consuming messages after application restart","body":"<p>Could be caused by messages going to only one partition due to a static key being used or maybe issues with consumer shutdown leaving the previous consumer hanging and hitting a timeout, this might make the new consumer wait for that timeout to expire.</p>\n"}],"owner":{"account_id":1491871,"reputation":615,"user_id":1398786,"display_name":"vmaroli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682339260,"creation_date":1681992960,"question_id":76063942,"body_markdown":"I have a Java application that consumer messages from a Kafka topic. Using following kafka client dependency.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nOnce restarted, application stops consuming messages from the topic, just returns empty after poll timeout is expired. If the change the consumer group and restart the application, messages are picked until next restart. I have 10 partitions in the topic and if the describe the consumer group a lag is shown for the partition where data is available. If i recreate the topic with single partition, everything works fine. After seeing \r\nhttps://issues.apache.org/jira/browse/KAFKA-8950 i have upgraded the kafka-client to latest but still facing the issue.\r\n\r\nUsing following configuration, everything else is default\r\n\r\n    group.id: group-1\r\n    fetch.min.bytes: 1\r\n    fetch.max.wait.ms: 60000\r\n    max.poll.records: 1\r\n    max.poll.interval.ms: 120000\r\n    auto.offset.reset: earliest\r\n    enable.auto.commit: false\r\n\r\nSeeing this in logs\r\n\r\n&gt; Setting offset for partition rawData-tp-3 to the committed offset FetchPosition{offset=6, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=Optional[wn3.b3fteyj4w3xuzpvo3wsrfzzila.ax.internal:9092 (id: 1002 rack: /rack0)], epoch=0}}\r\n\r\nAnyone come across similar issue ?","title":"Kafka Consumer not consuming messages after application restart","body":"<p>I have a Java application that consumer messages from a Kafka topic. Using following kafka client dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once restarted, application stops consuming messages from the topic, just returns empty after poll timeout is expired. If the change the consumer group and restart the application, messages are picked until next restart. I have 10 partitions in the topic and if the describe the consumer group a lag is shown for the partition where data is available. If i recreate the topic with single partition, everything works fine. After seeing\n<a href=\"https://issues.apache.org/jira/browse/KAFKA-8950\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-8950</a> i have upgraded the kafka-client to latest but still facing the issue.</p>\n<p>Using following configuration, everything else is default</p>\n<pre><code>group.id: group-1\nfetch.min.bytes: 1\nfetch.max.wait.ms: 60000\nmax.poll.records: 1\nmax.poll.interval.ms: 120000\nauto.offset.reset: earliest\nenable.auto.commit: false\n</code></pre>\n<p>Seeing this in logs</p>\n<blockquote>\n<p>Setting offset for partition rawData-tp-3 to the committed offset FetchPosition{offset=6, offsetEpoch=Optional[0], currentLeader=LeaderAndEpoch{leader=Optional[wn3.b3fteyj4w3xuzpvo3wsrfzzila.ax.internal:9092 (id: 1002 rack: /rack0)], epoch=0}}</p>\n</blockquote>\n<p>Anyone come across similar issue ?</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648122959,"post_id":71602032,"comment_id":126547082,"body_markdown":"`currentStamp()` doesn&#39;t exist in the code you posted. Do you mean `currentSpan()`?","body":"<code>currentStamp()</code> doesn&#39;t exist in the code you posted. Do you mean <code>currentSpan()</code>?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648123202,"post_id":71602032,"comment_id":126547179,"body_markdown":"And minor: method names go camelCase  in java, and `Test` is a meaningless name for a test method anyway. Names should say what the things they denote are about, even in example code!","body":"And minor: method names go camelCase  in java, and <code>Test</code> is a meaningless name for a test method anyway. Names should say what the things they denote are about, even in example code!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648217128,"post_id":71602032,"comment_id":126575325,"body_markdown":"You got two answers besides that comment; mind giving feedback there?","body":"You got two answers besides that comment; mind giving feedback there?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682339411,"post_id":71602032,"comment_id":134194489,"body_markdown":"Replace `@Autowired` with `@Mock` in your test class. DItch the `Mockito.mock` part and re-run.","body":"Replace <code>@Autowired</code> with <code>@Mock</code> in your test class. DItch the <code>Mockito.mock</code> part and re-run."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648123320,"creation_date":1648123320,"answer_id":71602152,"question_id":71602032,"body_markdown":"Here, in your **test** class:\r\n\r\n    @Autowired\r\n    Tracer tracer;\r\n\r\nTurn that into\r\n\r\n    @Mock\r\n    Tracer tracer;\r\n\r\n(and add the corresponding import to Mockito). You want that Mockito creates a mock object, and then inserts that into your object under test. Also note that your test method itself **redefines** `tracer`, thus shadowing whatever else you did on class level. Therefore that spec for `tracer` within the test method won&#39;t have any effect on the mocked Tracer instance that already got injected into your object under test.","title":"Getting NullPointerException tracer.currentSpan() is Null","body":"<p>Here, in your <strong>test</strong> class:</p>\n<pre><code>@Autowired\nTracer tracer;\n</code></pre>\n<p>Turn that into</p>\n<pre><code>@Mock\nTracer tracer;\n</code></pre>\n<p>(and add the corresponding import to Mockito). You want that Mockito creates a mock object, and then inserts that into your object under test. Also note that your test method itself <strong>redefines</strong> <code>tracer</code>, thus shadowing whatever else you did on class level. Therefore that spec for <code>tracer</code> within the test method won't have any effect on the mocked Tracer instance that already got injected into your object under test.</p>\n"},{"comments":[{"owner":{"account_id":24673248,"reputation":1,"user_id":18567979,"display_name":"Elsa"},"score":0,"creation_date":1648149709,"post_id":71604175,"comment_id":126558181,"body_markdown":"Thanks for answering. I tried it and getting error on getCurrentSpan() even I mocked it.","body":"Thanks for answering. I tried it and getting error on getCurrentSpan() even I mocked it."}],"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648131890,"creation_date":1648131542,"answer_id":71604175,"question_id":71602032,"body_markdown":"    Tracer tracer=Mockito.mock(Tracer.class);\r\n    String traceId;\r\n    Mockito.when(tracer.currentSpan().context.traceId()).thenReturn(traceId);\r\n\r\ntracer will be mock and you can see it in debug or just simply print it.\r\nalso each method returns null because you didn&#39;t specify which method will return value because spring context does not work in unit tests. In integration tests you can autowire it.\r\n\r\n\r\n    Mockito.when(tracer.getCurrentSpan()).thenReturn(someSpan);\r\n    Mockito.when(tracer.getCurrentSpan().getContext()).thenReturn(someContext);\r\n    String traceId;\r\n    Mockito.when(tracer.currentSpan().context.traceId()).thenReturn(traceId);\r\n\r\n\r\nYou have to mock getCurrentSpan and getContext methods that will solve your problem. Also you can not autowire it just use @Mock annotation. Spring context does not exist in unit tests so it won&#39;t be autowired. Spring related codes won&#39;t work. Integration test runs the spring context for you and you can autowire it.","title":"Getting NullPointerException tracer.currentSpan() is Null","body":"<pre><code>Tracer tracer=Mockito.mock(Tracer.class);\nString traceId;\nMockito.when(tracer.currentSpan().context.traceId()).thenReturn(traceId);\n</code></pre>\n<p>tracer will be mock and you can see it in debug or just simply print it.\nalso each method returns null because you didn't specify which method will return value because spring context does not work in unit tests. In integration tests you can autowire it.</p>\n<pre><code>Mockito.when(tracer.getCurrentSpan()).thenReturn(someSpan);\nMockito.when(tracer.getCurrentSpan().getContext()).thenReturn(someContext);\nString traceId;\nMockito.when(tracer.currentSpan().context.traceId()).thenReturn(traceId);\n</code></pre>\n<p>You have to mock getCurrentSpan and getContext methods that will solve your problem. Also you can not autowire it just use @Mock annotation. Spring context does not exist in unit tests so it won't be autowired. Spring related codes won't work. Integration test runs the spring context for you and you can autowire it.</p>\n"},{"tags":[],"owner":{"account_id":6612592,"reputation":103,"user_id":5107086,"accept_rate":80,"display_name":"Imran AK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682339202,"creation_date":1682339202,"answer_id":76091871,"question_id":71602032,"body_markdown":"This worked for me\r\n\r\n    @BeforeAll\r\n    public static void setUp() {\r\n        Tracing.newBuilder().build().tracer();\r\n    }\r\n\r\nNo need of using @Mock","title":"Getting NullPointerException tracer.currentSpan() is Null","body":"<p>This worked for me</p>\n<pre><code>@BeforeAll\npublic static void setUp() {\n    Tracing.newBuilder().build().tracer();\n}\n</code></pre>\n<p>No need of using @Mock</p>\n"}],"owner":{"account_id":24673248,"reputation":1,"user_id":18567979,"display_name":"Elsa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682339202,"creation_date":1648122849,"question_id":71602032,"body_markdown":"I&#39;m trying to create test case for given class and want to return traceId value but getting trace.currentSpan() is null.\r\n\r\nHere is my Class\r\n\r\n```java\r\npublic class ConsumerService{\r\n\r\nprivate final Tracer tracer;\r\n\r\n@Autowired\r\nprivate RequestService requestService;\r\n\r\npublic void consumerProductionRequest(DisclaimerRequest disclaimerRequest){\r\nString traceId=tracer.currentSpan.context().traceId();\r\nlog.info(traceId);\r\nif(disclaimerRequest.getReqId()==null){\r\ndisclaimerRequest.setReqId(UUID.randomUUID().toString());\r\n}\r\n}\r\n}\r\n\r\n//Test Class\r\n@ExtendWith(MockitoExtension.class)\r\nclass ConsumerServiceTest{\r\n\r\n@InjectMocks\r\nConsumerService consumerService;\r\n\r\n@Autowired\r\nTracer tracer;\r\n\r\n@Test\r\nvoid Test(){\r\n\tTracer tracer=Mockito.mock(Tracer.class);\r\n\tString traceId;\r\n\tMockito.when(tracer.currentSpan().context.traceId()).thenReturn(traceId);\r\n\tDisclaimerRequest disclaimerRequest=new DisclaimerRequest();\r\n\tconsumerService.consumerProductionRequest(disclaimerRequest);\r\n}\r\n}\r\n```\r\n\r\nWhy am I getting tracer.currentSpan() null. I&#39;m using JUnit 5 and new in this. Please someone help me to solve this.\r\n","title":"Getting NullPointerException tracer.currentSpan() is Null","body":"<p>I'm trying to create test case for given class and want to return traceId value but getting trace.currentSpan() is null.</p>\n<p>Here is my Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConsumerService{\n\nprivate final Tracer tracer;\n\n@Autowired\nprivate RequestService requestService;\n\npublic void consumerProductionRequest(DisclaimerRequest disclaimerRequest){\nString traceId=tracer.currentSpan.context().traceId();\nlog.info(traceId);\nif(disclaimerRequest.getReqId()==null){\ndisclaimerRequest.setReqId(UUID.randomUUID().toString());\n}\n}\n}\n\n//Test Class\n@ExtendWith(MockitoExtension.class)\nclass ConsumerServiceTest{\n\n@InjectMocks\nConsumerService consumerService;\n\n@Autowired\nTracer tracer;\n\n@Test\nvoid Test(){\n    Tracer tracer=Mockito.mock(Tracer.class);\n    String traceId;\n    Mockito.when(tracer.currentSpan().context.traceId()).thenReturn(traceId);\n    DisclaimerRequest disclaimerRequest=new DisclaimerRequest();\n    consumerService.consumerProductionRequest(disclaimerRequest);\n}\n}\n</code></pre>\n<p>Why am I getting tracer.currentSpan() null. I'm using JUnit 5 and new in this. Please someone help me to solve this.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":13796340,"reputation":31,"user_id":9957470,"display_name":"Nischal Jadhav H"},"score":0,"creation_date":1682347015,"post_id":76091835,"comment_id":134196522,"body_markdown":"when I do this, getting this below error, -&gt; \njava.lang.StackOverflowError: null\n\tat com.becoder.model.admin.Admin.toString(Admin.java:67) ~[classes/:na]\n\tat java.base/java.lang.String.valueOf(String.java:2951) ~[na:na]\n\tat com.becoder.model.admin.Address.toString(Address.java:10) ~[classes/:na]\n\tat java.base/java.lang.String.valueOf(String.java:2951) ~[na:na]","body":"when I do this, getting this below error, -&gt;  java.lang.StackOverflowError: null \tat com.becoder.model.admin.Admin.toString(Admin.java:67) ~[classes/:na] \tat java.base/java.lang.String.valueOf(String.java:2951) ~[na:na] \tat com.becoder.model.admin.Address.toString(Address.java:10) ~[classes/:na] \tat java.base/java.lang.String.valueOf(String.java:2951) ~[na:na]"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682356477,"post_id":76091835,"comment_id":134198861,"body_markdown":"This is because of circular calling of toString() methods generated by Lombok. Add ToString.Exclude annotation to the relationship fields. And add JsonIgnore annotation to them to avoid stackoverflow on JSON serialization.","body":"This is because of circular calling of toString() methods generated by Lombok. Add ToString.Exclude annotation to the relationship fields. And add JsonIgnore annotation to them to avoid stackoverflow on JSON serialization."},{"owner":{"account_id":13796340,"reputation":31,"user_id":9957470,"display_name":"Nischal Jadhav H"},"score":0,"creation_date":1682425288,"post_id":76091835,"comment_id":134210128,"body_markdown":"it worked. Thanks. I have one more problem.\n`\npublic List&lt;Admin&gt; getAllAdminDetails(){\n        return adminRepo.findAll();\n    }\n`\nWhen i call this method, I get array of saved admin details but address field is coming as null. Any suggestion why ?\n[\n{\n        &quot;id&quot;: &quot;3f3f05da-9215-4855-a7d6-e0ac3dfc95a1&quot;,\n        &quot;username&quot;: &quot;pachu&quot;,\n        &quot;password&quot;: &quot;asd&quot;,\n        &quot;address&quot;: null\n    }\n]","body":"it worked. Thanks. I have one more problem. ` public List&lt;Admin&gt; getAllAdminDetails(){         return adminRepo.findAll();     } ` When i call this method, I get array of saved admin details but address field is coming as null. Any suggestion why ? [ {         &quot;id&quot;: &quot;3f3f05da-9215-4855-a7d6-e0ac3dfc95a1&quot;,         &quot;username&quot;: &quot;pachu&quot;,         &quot;password&quot;: &quot;asd&quot;,         &quot;address&quot;: null     } ]"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682427803,"post_id":76091835,"comment_id":134210872,"body_markdown":"This should work either. Are you sure that an address associated to this particular admin exists? Check in the database: select * from address where f_id = &#39;3f3f05da-9215-4855-a7d6-e0ac3dfc95a1&#39;;","body":"This should work either. Are you sure that an address associated to this particular admin exists? Check in the database: select * from address where f_id = &#39;3f3f05da-9215-4855-a7d6-e0ac3dfc95a1&#39;;"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682338999,"creation_date":1682338999,"answer_id":76091835,"question_id":76091776,"body_markdown":"It is because the relationship is bi-directional. You need to set both ends. Like this:\r\n\r\n    admin.setAddress(address);\r\n    address.setAdmin(admin);\r\n    Admin admin1 =  adminRepo.save(admin);","title":"Foreign key field is not getting updated after save method in JPA","body":"<p>It is because the relationship is bi-directional. You need to set both ends. Like this:</p>\n<pre><code>admin.setAddress(address);\naddress.setAdmin(admin);\nAdmin admin1 =  adminRepo.save(admin);\n</code></pre>\n"}],"owner":{"account_id":13796340,"reputation":31,"user_id":9957470,"display_name":"Nischal Jadhav H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76091835,"answer_count":1,"score":0,"last_activity_date":1682338999,"creation_date":1682338590,"question_id":76091776,"body_markdown":"I have two entity class. One is Admin which contains id, username and password.\r\nOther is Address class which contains id, country, state, address and f_id(which references to id of Admin table).\r\nI have a service class which accepts the request data and creates Admin instance and updates all the values to it. But when I save the Admin instance using save() method, I can see data getting updated in both Admin and Address table but the problem is f_id field in Address table is not updated with its Admin id which is referenced to it. It is null.\r\n[![enter image description here](https://i.stack.imgur.com/NrwVv.png)](https://i.stack.imgur.com/NrwVv.png)\r\n\r\nAdmin.java\r\n```\r\n@Entity\r\n@Table(name = &quot;admin&quot;)\r\npublic class Admin {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    @OneToOne(mappedBy = &quot;admin&quot;, cascade = CascadeType.ALL)\r\n    private Address address;\r\n\r\n    public Admin(UUID id, String username, String password, Address address) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.address = address;\r\n    }\r\n\r\n    public Admin() {\r\n\r\n    }\r\n....Setters and getters\r\n```\r\n\r\nAddress.Java\r\n```\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\n@Data\r\npublic class Address {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    private String address;\r\n\r\n    private String country;\r\n\r\n    private String state;\r\n\r\n   @JoinColumn(name = &quot;f_id&quot;)\r\n   @OneToOne(cascade = CascadeType.ALL)\r\n    private Admin admin;\r\n\r\n\r\n}\r\n```\r\n\r\nAdminService.java()\r\n\r\n\r\n```\r\n@Service\r\npublic class AdminService {\r\n\r\n    @Autowired\r\n    AdminRepo adminRepo;\r\n\r\n    @Autowired\r\n    AddressRepo addressRepo;\r\n\r\n    public Admin saveAdminDetails(AdminSaveRequest requestDto){\r\n        Admin admin = new Admin();\r\n        Address address = new Address();\r\n        admin.setUsername(requestDto.getUserName());\r\n        admin.setPassword(requestDto.getPassword());\r\n        address.setAddress(requestDto.getAddress().getAddress());\r\n        address.setCountry(requestDto.getAddress().getCountry());\r\n        address.setState(requestDto.getAddress().getState());\r\n        admin.setAddress(address);\r\n        System.out.println(admin);\r\n        Admin admin1 =  adminRepo.save(admin);\r\n        System.out.println(admin1.toString());\r\n        return admin1;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Foreign key field is not getting updated after save method in JPA","body":"<p>I have two entity class. One is Admin which contains id, username and password.\nOther is Address class which contains id, country, state, address and f_id(which references to id of Admin table).\nI have a service class which accepts the request data and creates Admin instance and updates all the values to it. But when I save the Admin instance using save() method, I can see data getting updated in both Admin and Address table but the problem is f_id field in Address table is not updated with its Admin id which is referenced to it. It is null.\n<a href=\"https://i.stack.imgur.com/NrwVv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NrwVv.png\" alt=\"enter image description here\" /></a></p>\n<p>Admin.java</p>\n<pre><code>@Entity\n@Table(name = &quot;admin&quot;)\npublic class Admin {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    private String username;\n\n    private String password;\n\n    @OneToOne(mappedBy = &quot;admin&quot;, cascade = CascadeType.ALL)\n    private Address address;\n\n    public Admin(UUID id, String username, String password, Address address) {\n        this.id = id;\n        this.username = username;\n        this.password = password;\n        this.address = address;\n    }\n\n    public Admin() {\n\n    }\n....Setters and getters\n</code></pre>\n<p>Address.Java</p>\n<pre><code>@Entity\n@Table(name = &quot;address&quot;)\n@Data\npublic class Address {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    private String address;\n\n    private String country;\n\n    private String state;\n\n   @JoinColumn(name = &quot;f_id&quot;)\n   @OneToOne(cascade = CascadeType.ALL)\n    private Admin admin;\n\n\n}\n</code></pre>\n<p>AdminService.java()</p>\n<pre><code>@Service\npublic class AdminService {\n\n    @Autowired\n    AdminRepo adminRepo;\n\n    @Autowired\n    AddressRepo addressRepo;\n\n    public Admin saveAdminDetails(AdminSaveRequest requestDto){\n        Admin admin = new Admin();\n        Address address = new Address();\n        admin.setUsername(requestDto.getUserName());\n        admin.setPassword(requestDto.getPassword());\n        address.setAddress(requestDto.getAddress().getAddress());\n        address.setCountry(requestDto.getAddress().getCountry());\n        address.setState(requestDto.getAddress().getState());\n        admin.setAddress(address);\n        System.out.println(admin);\n        Admin admin1 =  adminRepo.save(admin);\n        System.out.println(admin1.toString());\n        return admin1;\n    }\n}\n</code></pre>\n"},{"tags":["java","mocking","wiremock"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681905425,"post_id":76016571,"comment_id":134131601,"body_markdown":"Are you using that with JUnit or running as standalone?","body":"Are you using that with JUnit or running as standalone?"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1681907442,"post_id":76016571,"comment_id":134132131,"body_markdown":"it seems running with junit 4 but for completeness show me both cases","body":"it seems running with junit 4 but for completeness show me both cases"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681909005,"post_id":76016571,"comment_id":134132581,"body_markdown":"Can you provide maven/gradle configuration file to question? Need to find the dependencies you have used.","body":"Can you provide maven/gradle configuration file to question? Need to find the dependencies you have used."}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682338784,"creation_date":1681485115,"question_id":76016571,"body_markdown":"I need to display the current Wiremock configuration in a project (type of mocks, mocks configuration, etc...). What command can I use?\r\n\r\nThe only thing I&#39;ve found is the `WireMockRuntimeInfo` object, but only in the latest versions of Wiremock. Unfortunately, I can only use `2.11.0` in my project. Is there something equivalent?","title":"Display wiremock current configuration in older version","body":"<p>I need to display the current Wiremock configuration in a project (type of mocks, mocks configuration, etc...). What command can I use?</p>\n<p>The only thing I've found is the <code>WireMockRuntimeInfo</code> object, but only in the latest versions of Wiremock. Unfortunately, I can only use <code>2.11.0</code> in my project. Is there something equivalent?</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1682334354,"post_id":76091222,"comment_id":134193372,"body_markdown":"What does it mean for a double, long, date, or boolean to be &quot;empty&quot;?","body":"What does it mean for a double, long, date, or boolean to be &quot;empty&quot;?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682334467,"post_id":76091222,"comment_id":134193398,"body_markdown":"@Sweeper That was the question I was about to ask. Impossible unless primitve wrappers are in use on `Customer`&#39;s members","body":"@Sweeper That was the question I was about to ask. Impossible unless primitve wrappers are in use on <code>Customer</code>&#39;s members"},{"owner":{"account_id":25667400,"reputation":31,"user_id":19432128,"display_name":"Florin Giorgian"},"score":0,"creation_date":1682336114,"post_id":76091222,"comment_id":134193808,"body_markdown":"Hi guys , sorry for the bad example . I mean empty in case of the strings , for boolean , date or long would not be the case,","body":"Hi guys , sorry for the bad example . I mean empty in case of the strings , for boolean , date or long would not be the case,"}],"answers":[{"comments":[{"owner":{"account_id":25667400,"reputation":31,"user_id":19432128,"display_name":"Florin Giorgian"},"score":0,"creation_date":1682336705,"post_id":76091374,"comment_id":134193943,"body_markdown":"Hi , Thank you ! And if I would want to add multiple tables ? For instance I want to do a join left on my query , and i would want to also have this for table addresses or payment ? public Page&lt;Customer&gt; searchCustomer( Customer customer, Address address, PaymentArrangement paymentArrangement) ) throws IllegalAccessException { ... \n\nCould I make a method that i pass what field i want and cycle through it ? and call the method 3 times for each of my 3 fields?\n\nI&#39;m new to fields .","body":"Hi , Thank you ! And if I would want to add multiple tables ? For instance I want to do a join left on my query , and i would want to also have this for table addresses or payment ? public Page&lt;Customer&gt; searchCustomer( Customer customer, Address address, PaymentArrangement paymentArrangement) ) throws IllegalAccessException { ...   Could I make a method that i pass what field i want and cycle through it ? and call the method 3 times for each of my 3 fields?  I&#39;m new to fields ."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682337165,"post_id":76091374,"comment_id":134194046,"body_markdown":"As far as I understand you are trying to search for those tree tables. And you want to search those tables with one method, right?","body":"As far as I understand you are trying to search for those tree tables. And you want to search those tables with one method, right?"},{"owner":{"account_id":25667400,"reputation":31,"user_id":19432128,"display_name":"Florin Giorgian"},"score":0,"creation_date":1682337465,"post_id":76091374,"comment_id":134194108,"body_markdown":"I mean to pass something like :\n\n        boolean isNotNullOrEmpty = checkCustomerFields(customer, address, paymentArrangement);\n        if (isNotNullOrEmpty) {query...","body":"I mean to pass something like :          boolean isNotNullOrEmpty = checkCustomerFields(customer, address, paymentArrangement);         if (isNotNullOrEmpty) {query..."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682338001,"post_id":76091374,"comment_id":134194207,"body_markdown":"@FlorinGiorgian the answer is updated","body":"@FlorinGiorgian the answer is updated"}],"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682338757,"creation_date":1682335511,"answer_id":76091374,"question_id":76091222,"body_markdown":"The following method does exactly what you want. It returns false if any field of `Customer` is null or empty. Unless there is a condition over here. You cannot use primitive types in your `Customer` class. Because the primitive types do not accept a `null` value. For instance, If you try to set a null value for a primitive type(`long`, `int`) you will get a `NullPointerException`. That is why you need to declare your integer, long, float, etc. values with object types(`Long`, `Integer`, `Float` etc.).\r\n\r\nUpdated: This method search for all, kind of objects(not just for customer)\r\n\r\n```\r\n  public boolean checkIfAnyFieldIsNullOrEmpty(Object object) {\r\n        // Get all fields of the object\r\n        Field[] fields = object.getClass().getDeclaredFields();\r\n\r\n        // Loop through each field and check if it&#39;s null or empty\r\n        for (Field field : fields) {\r\n            field.setAccessible(true);\r\n            try {\r\n                Object fieldValue = field.get(object);\r\n                if (fieldValue == null || fieldValue.toString().isEmpty()) {\r\n                    return false;\r\n                }\r\n            } catch (IllegalAccessException e) {\r\n                // Handle exception as needed\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        // All fields are not null or empty\r\n        return true;\r\n    }\r\n```\r\n\r\nNow you can call this method such that.\r\n```\r\nboolean addFlag =  checkIfAnyFieldIsNullOrEmpty(address);\r\nboolean cusFlag =  checkIfAnyFieldIsNullOrEmpty(customer);\r\nboolean arrFlag =  checkIfAnyFieldIsNullOrEmpty(arrangement);\r\n\r\nboolean result = addFlag &amp;&amp; cusFlag &amp;&amp; arrFlag;\r\n\r\nif(result) {\r\n//query\r\n}\r\n\r\n```\r\n\r\n\r\nor you can write a method of that and make `checkIfAnyFieldIsNullOrEmpty` method private. Allow only the use of following method.\r\n\r\n```\r\n\r\n   public boolean checkFields(Customer c, Address d, Arrangement a){\r\n        boolean addFlag =  checkIfAnyFieldIsNullOrEmpty(a);\r\n        boolean cusFlag =  checkIfAnyFieldIsNullOrEmpty(c);\r\n        boolean arrFlag =  checkIfAnyFieldIsNullOrEmpty(a);\r\n\r\n        return addFlag &amp;&amp; cusFlag &amp;&amp; arrFlag;\r\n    }\r\n\r\n```\r\n\r\n","title":"Check if at least one field is not null Java","body":"<p>The following method does exactly what you want. It returns false if any field of <code>Customer</code> is null or empty. Unless there is a condition over here. You cannot use primitive types in your <code>Customer</code> class. Because the primitive types do not accept a <code>null</code> value. For instance, If you try to set a null value for a primitive type(<code>long</code>, <code>int</code>) you will get a <code>NullPointerException</code>. That is why you need to declare your integer, long, float, etc. values with object types(<code>Long</code>, <code>Integer</code>, <code>Float</code> etc.).</p>\n<p>Updated: This method search for all, kind of objects(not just for customer)</p>\n<pre><code>  public boolean checkIfAnyFieldIsNullOrEmpty(Object object) {\n        // Get all fields of the object\n        Field[] fields = object.getClass().getDeclaredFields();\n\n        // Loop through each field and check if it's null or empty\n        for (Field field : fields) {\n            field.setAccessible(true);\n            try {\n                Object fieldValue = field.get(object);\n                if (fieldValue == null || fieldValue.toString().isEmpty()) {\n                    return false;\n                }\n            } catch (IllegalAccessException e) {\n                // Handle exception as needed\n                e.printStackTrace();\n            }\n        }\n\n        // All fields are not null or empty\n        return true;\n    }\n</code></pre>\n<p>Now you can call this method such that.</p>\n<pre><code>boolean addFlag =  checkIfAnyFieldIsNullOrEmpty(address);\nboolean cusFlag =  checkIfAnyFieldIsNullOrEmpty(customer);\nboolean arrFlag =  checkIfAnyFieldIsNullOrEmpty(arrangement);\n\nboolean result = addFlag &amp;&amp; cusFlag &amp;&amp; arrFlag;\n\nif(result) {\n//query\n}\n\n</code></pre>\n<p>or you can write a method of that and make <code>checkIfAnyFieldIsNullOrEmpty</code> method private. Allow only the use of following method.</p>\n<pre><code>\n   public boolean checkFields(Customer c, Address d, Arrangement a){\n        boolean addFlag =  checkIfAnyFieldIsNullOrEmpty(a);\n        boolean cusFlag =  checkIfAnyFieldIsNullOrEmpty(c);\n        boolean arrFlag =  checkIfAnyFieldIsNullOrEmpty(a);\n\n        return addFlag &amp;&amp; cusFlag &amp;&amp; arrFlag;\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6511073,"reputation":503,"user_id":5038317,"display_name":"Heitor Paceli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682338490,"creation_date":1682338490,"answer_id":76091759,"question_id":76091222,"body_markdown":"If your only concern is regarding the type of the arguments, then just use Object. To check if it is an empty String, you can use instanceof and then cast it to String:\r\n\r\n    static boolean isNullOrEmpty(Object obj) {\r\n        if(obj instanceof String){\r\n            return obj == null || ((String) obj).isEmpty();\r\n        }\r\n        return obj == null;\r\n    }","title":"Check if at least one field is not null Java","body":"<p>If your only concern is regarding the type of the arguments, then just use Object. To check if it is an empty String, you can use instanceof and then cast it to String:</p>\n<pre><code>static boolean isNullOrEmpty(Object obj) {\n    if(obj instanceof String){\n        return obj == null || ((String) obj).isEmpty();\n    }\n    return obj == null;\n}\n</code></pre>\n"}],"owner":{"account_id":25667400,"reputation":31,"user_id":19432128,"display_name":"Florin Giorgian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682338757,"creation_date":1682334172,"question_id":76091222,"body_markdown":"i&#39;m sorry in advance in this has already been answered but i&#39;m still new to Java and couldn&#39;t find a good solution for this.\r\n\r\nIn simple terms I want to build a search api call . It should search based on any of the not null or not empty parameters passed in the call . Now I want to check if all of the parameters are null or empty. Now the solution I have is to build methods for each type of parameter , I exemplified one for String. Is there a way to make it more elegant? Also could I make 1 method that works with all types of parameters? \r\n\r\n\r\n\r\n    public Page&lt;Customer&gt; searchCustomer(Customer customer) {\r\n\r\n        if (\r\n                !isNullOrEmpty(customer.getCustomerId()) &amp;&amp; //LONG\r\n                !isNullOrEmpty(customer.getCustomerType()) &amp;&amp; //STRING\r\n                !isNullOrEmpty(customer.getCustNum()) &amp;&amp; //STRING\r\n                !isNullOrEmpty(customer.getStatus()) &amp;&amp; //STRING\r\n                !isNullOrEmpty(customer.getStatusDate()) &amp;&amp; //DATE\r\n                !isNullOrEmpty(customer.getBalance()) &amp;&amp; //DOUBLE\r\n                !isNullOrEmpty(customer.getEntryDate()) &amp;&amp; //DATE\r\n                !isNullOrEmpty(customer.getModificationDate()) &amp;&amp; //DATE\r\n                !isNullOrEmpty(customer.getDeceased()) &amp;&amp; //BOOLEAN\r\n                !isNullOrEmpty(customer.getPreferredCommunicationsChannel()) &amp;&amp;\r\n\r\n        )\r\n\r\n{do query}\r\nelse {throw some message...}\r\n\r\n    static boolean isNullOrEmpty(String s) {\r\n        return s == null || s.isEmpty();\r\n    }","title":"Check if at least one field is not null Java","body":"<p>i'm sorry in advance in this has already been answered but i'm still new to Java and couldn't find a good solution for this.</p>\n<p>In simple terms I want to build a search api call . It should search based on any of the not null or not empty parameters passed in the call . Now I want to check if all of the parameters are null or empty. Now the solution I have is to build methods for each type of parameter , I exemplified one for String. Is there a way to make it more elegant? Also could I make 1 method that works with all types of parameters?</p>\n<pre><code>public Page&lt;Customer&gt; searchCustomer(Customer customer) {\n\n    if (\n            !isNullOrEmpty(customer.getCustomerId()) &amp;&amp; //LONG\n            !isNullOrEmpty(customer.getCustomerType()) &amp;&amp; //STRING\n            !isNullOrEmpty(customer.getCustNum()) &amp;&amp; //STRING\n            !isNullOrEmpty(customer.getStatus()) &amp;&amp; //STRING\n            !isNullOrEmpty(customer.getStatusDate()) &amp;&amp; //DATE\n            !isNullOrEmpty(customer.getBalance()) &amp;&amp; //DOUBLE\n            !isNullOrEmpty(customer.getEntryDate()) &amp;&amp; //DATE\n            !isNullOrEmpty(customer.getModificationDate()) &amp;&amp; //DATE\n            !isNullOrEmpty(customer.getDeceased()) &amp;&amp; //BOOLEAN\n            !isNullOrEmpty(customer.getPreferredCommunicationsChannel()) &amp;&amp;\n\n    )\n</code></pre>\n<p>{do query}\nelse {throw some message...}</p>\n<pre><code>static boolean isNullOrEmpty(String s) {\n    return s == null || s.isEmpty();\n}\n</code></pre>\n"},{"tags":["java","jackson","escaping","nan"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682337424,"creation_date":1682337424,"answer_id":76091602,"question_id":76091552,"body_markdown":"That&#39;s impossible because `NaN` is not a valid JSON value. You could try converting it to null in your getter method.","title":"Java Jackson - How to serialize Double NaN without quote?","body":"<p>That's impossible because <code>NaN</code> is not a valid JSON value. You could try converting it to null in your getter method.</p>\n"},{"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682338726,"creation_date":1682338726,"answer_id":76091796,"question_id":76091552,"body_markdown":"Add the annotation `@JsonRawValue`, like this\r\n\r\n    @JsonProperty\r\n    @JsonRawValue\r\n    public Double getValue() {\r\n        return this.value;\r\n    }\r\n\r\nIt will give you this result\r\n`{&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:25,&quot;favoriteNumber&quot;:&quot;123&quot;,&quot;value&quot;:NaN}`","title":"Java Jackson - How to serialize Double NaN without quote?","body":"<p>Add the annotation <code>@JsonRawValue</code>, like this</p>\n<pre><code>@JsonProperty\n@JsonRawValue\npublic Double getValue() {\n    return this.value;\n}\n</code></pre>\n<p>It will give you this result\n<code>{&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:25,&quot;favoriteNumber&quot;:&quot;123&quot;,&quot;value&quot;:NaN}</code></p>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76091796,"answer_count":2,"score":3,"last_activity_date":1682338726,"creation_date":1682337016,"question_id":76091552,"body_markdown":"I need to serialize a `Double` field containing `NaN` number, but Jackson always tries to write it as a `String`, e.g. `&quot;value&quot;: &quot;Nan&quot;`. How can I change it to `&quot;value&quot;: Nan` instead?\r\n\r\nBelow is the code to reproduce:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.json.JsonReadFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class Test {\r\n    public String name;\r\n    public int age;\r\n    private int favoriteNumber;\r\n    private Double value = Double.NaN;\r\n\r\n    public Test(String name, int age, int favoriteNumber) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.favoriteNumber = favoriteNumber;\r\n    }\r\n\r\n    @JsonProperty\r\n    public String getFavoriteNumber() {\r\n        return String.valueOf(favoriteNumber);\r\n    }\r\n\r\n    @JsonProperty\r\n    public Double getValue() {\r\n        return this.value;\r\n    }\r\n\r\n    public static void main(String... args) throws Exception {\r\n        Test p = new Test(&quot;Joe&quot;, 25, 123);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enable(JsonReadFeature.ALLOW_NON_NUMERIC_NUMBERS.mappedFeature());\r\n        mapper.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);\r\n        System.out.println(mapper.writeValueAsString(p));\r\n        // {&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:25,&quot;favoriteNumber&quot;:&quot;123&quot;,&quot;value&quot;:&quot;NaN&quot;}\r\n    }\r\n}\r\n```","title":"Java Jackson - How to serialize Double NaN without quote?","body":"<p>I need to serialize a <code>Double</code> field containing <code>NaN</code> number, but Jackson always tries to write it as a <code>String</code>, e.g. <code>&quot;value&quot;: &quot;Nan&quot;</code>. How can I change it to <code>&quot;value&quot;: Nan</code> instead?</p>\n<p>Below is the code to reproduce:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.json.JsonReadFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Test {\n    public String name;\n    public int age;\n    private int favoriteNumber;\n    private Double value = Double.NaN;\n\n    public Test(String name, int age, int favoriteNumber) {\n        this.name = name;\n        this.age = age;\n        this.favoriteNumber = favoriteNumber;\n    }\n\n    @JsonProperty\n    public String getFavoriteNumber() {\n        return String.valueOf(favoriteNumber);\n    }\n\n    @JsonProperty\n    public Double getValue() {\n        return this.value;\n    }\n\n    public static void main(String... args) throws Exception {\n        Test p = new Test(&quot;Joe&quot;, 25, 123);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(JsonReadFeature.ALLOW_NON_NUMERIC_NUMBERS.mappedFeature());\n        mapper.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);\n        System.out.println(mapper.writeValueAsString(p));\n        // {&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:25,&quot;favoriteNumber&quot;:&quot;123&quot;,&quot;value&quot;:&quot;NaN&quot;}\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701719573,"post_id":76085090,"comment_id":136808435,"body_markdown":"How to tell permitAll to short-circuit? Why would you permit all without short-circuiting? That doesn&#39;t really make sense from an API design point of view?","body":"How to tell permitAll to short-circuit? Why would you permit all without short-circuiting? That doesn&#39;t really make sense from an API design point of view?"},{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1701722529,"post_id":76085090,"comment_id":136808854,"body_markdown":"@knittl The design is that each filter should have a precise role, so if you create an **authentication** filter, and during execution you can’t authenticate the user, you just pass the request to other filters to do their job. `permitAll()` works as expected and will authorize access to anonymous clients for matching requests. The rules you specify after `authorizeHttpRequests()` are about **authorization** and are implemented by a single filter (`AuthorizationFilter`), which can make a decision after all the auth filters have passed ; these rules do not change the behaviour of other filters.","body":"@knittl The design is that each filter should have a precise role, so if you create an <b>authentication</b> filter, and during execution you can’t authenticate the user, you just pass the request to other filters to do their job. <code>permitAll()</code> works as expected and will authorize access to anonymous clients for matching requests. The rules you specify after <code>authorizeHttpRequests()</code> are about <b>authorization</b> and are implemented by a single filter (<code>AuthorizationFilter</code>), which can make a decision after all the auth filters have passed ; these rules do not change the behaviour of other filters."}],"tags":[],"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682256464,"creation_date":1682256077,"answer_id":76085090,"question_id":76084548,"body_markdown":"In fact, it is working as intended. When you add a filter to the filter chain, and if a previous filter doesn’t short-circuit the chain, then your filter will be called for every single request.  \r\n`permitAll()` doesn’t short-circuit the filter chain, it just adds another entry to the authorization manager. The `AuthorizationFilter` (replacing a deprecated `FilterSecurityInterceptor`), which is one of the last filters called, will use the manager to decide if the request should be rejected or not.\r\n\r\nSo in your `CustomOncePerRequestFilter`, if you can’t authenticate the user, you just pass the request down the filter chain.","title":"Spring Boot - permitAll not working using SecurityFilterChain","body":"<p>In fact, it is working as intended. When you add a filter to the filter chain, and if a previous filter doesn’t short-circuit the chain, then your filter will be called for every single request.<br />\n<code>permitAll()</code> doesn’t short-circuit the filter chain, it just adds another entry to the authorization manager. The <code>AuthorizationFilter</code> (replacing a deprecated <code>FilterSecurityInterceptor</code>), which is one of the last filters called, will use the manager to decide if the request should be rejected or not.</p>\n<p>So in your <code>CustomOncePerRequestFilter</code>, if you can’t authenticate the user, you just pass the request down the filter chain.</p>\n"},{"comments":[{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1682312810,"post_id":76085130,"comment_id":134189512,"body_markdown":"I tried your code snippet. It didn&#39;t work. Is there official documentation supporting your statement?","body":"I tried your code snippet. It didn&#39;t work. Is there official documentation supporting your statement?"},{"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"score":0,"creation_date":1682317062,"post_id":76085130,"comment_id":134189991,"body_markdown":"yeah of course https://docs.spring.io/spring-security/reference/servlet/architecture.html. Are you keeping the component annotation in the filters? Because then you are not registering the filters in the security chain but in the regular chain. Keep me updated and I will edit the original response with a more detailed answer if this works in your case.","body":"yeah of course <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/&hellip;</a>. Are you keeping the component annotation in the filters? Because then you are not registering the filters in the security chain but in the regular chain. Keep me updated and I will edit the original response with a more detailed answer if this works in your case."},{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1682325014,"post_id":76085130,"comment_id":134191385,"body_markdown":"I removed Component annotation from my filter class. Yes please elaborate your answer. My requirement is that &quot;/art/**&quot; should be open for all. &quot;/api/**&quot; should be access by user having role &quot;ADMIN&quot; and rest should be access by an authenticated user.","body":"I removed Component annotation from my filter class. Yes please elaborate your answer. My requirement is that &quot;/art/**&quot; should be open for all. &quot;/api/**&quot; should be access by user having role &quot;ADMIN&quot; and rest should be access by an authenticated user."},{"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"score":0,"creation_date":1682333759,"post_id":76085130,"comment_id":134193246,"body_markdown":"Hi Harsh, I wanted to let you know that I have made some updates to the comment. Please keep in mind that maybe we are using different versions, and I have also included some minor considerations that I think may be helpful. I have tested this on my local machine and it seems to be running properly based on your requirements. Let me know if you have any questions or concerns.","body":"Hi Harsh, I wanted to let you know that I have made some updates to the comment. Please keep in mind that maybe we are using different versions, and I have also included some minor considerations that I think may be helpful. I have tested this on my local machine and it seems to be running properly based on your requirements. Let me know if you have any questions or concerns."}],"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682338577,"creation_date":1682256553,"answer_id":76085130,"question_id":76084548,"body_markdown":"Looks like what you want it&#39;s something like this.\r\n\r\n\r\n\r\n    @Bean\r\n      @Order(2)\r\n      protected SecurityFilterChain filterChainPublic(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n            .authorizeHttpRequests()\r\n            .antMatchers(&quot;/art/**&quot;)\r\n            .permitAll()\r\n            .and()\r\n            .authorizeHttpRequests()\r\n            .antMatchers(&quot;/**&quot;)\r\n            .authenticated()\r\n            .and()\r\n            .cors()\r\n            .disable()\r\n            .build();\r\n      }\r\n    \r\n      @Bean\r\n      @Order(1)\r\n      protected SecurityFilterChain filterChainPrivate(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n            .requestMatchers()\r\n              .antMatchers(&quot;/api/**&quot;) // only apply the security configuration to requests that start with /api\r\n              .and()\r\n            .authorizeHttpRequests()\r\n            .antMatchers(&quot;/api/contenteditor/feed/**&quot;).hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\r\n            .and()\r\n            .addFilterBefore(new CustomOncePerRequestFilter(), UsernamePasswordAuthenticationFilter.class)\r\n            .cors()\r\n            .disable()\r\n            .build();\r\n      }\r\n\t  \r\n\t  \r\n\t  \r\n\r\nThe provided code creates two security filter chains to filter elements based on their security level. The second bean applies to secured URLs, while the first bean is more open and does not require any special security configurations.\r\nAnother option it&#39;s you just filtering it out the paths you don&#39;t want in your filter object.\r\n\r\n**How this code works**\r\n\r\nThe filter chains allow you to have multiple chains for different base paths. The requestMatchers define the base paths that the SecurityFilterChain will work with. The antMatchers define pipeline elements conforming to patterns, and can be used with requestMatchers and authorizeHttpRequests().\r\n\r\nLet&#39;s take as an example, the code I proposed the first time. What we are doing here it&#39;s define a more restrictive element and a open one for general security configurations.\r\n\r\nLet&#39;s see this on code:\r\n\r\n     http.csrf().disable()\r\n        .requestMatchers()\r\n        .antMatchers(&quot;/api/**&quot;) // only apply the security configuration to requests that start with /api\r\n        .and()\r\n        .authorizeHttpRequests()\r\n        .antMatchers(&quot;/api/contenteditor/**&quot;)\r\n        .hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\r\n        .and()\r\n        .addFilterBefore(new CustomOnPerRequestFilter(), UsernamePasswordAuthenticationFilter.class)\r\n\r\nThis code specifies that the filter chain should only work with requests that start with /api/** and use the filter only in these base paths. It also specifies that requests conforming to /api/contenteditor/** require the SITE_ADMIN, STANDARD_ADMIN, or DOMAIN_MEMBER roles. The addFilterBefore method specifies that a custom CustomOnPerRequestFilter filter should be added before the UsernamePasswordAuthenticationFilter. Notice that your custom filter would be executed in any /api/** path not only in/api/contenteditor/**.\r\n\r\nIf we instead do like the first bean\r\n\r\n    http.csrf().disable()\r\n        .authorizeHttpRequests()\r\n        .antMatchers(&quot;/art/**&quot;)\r\n        .permitAll()\r\n        .and()\r\n        .authorizeHttpRequests()\r\n        .antMatchers(&quot;/**&quot;)\r\n        .authenticated()\r\n\r\nThe requestMatcher by default is any path, so here we are operating over all the urls if we incluide a filter in here would be executed in any path that doesn&#39;t match the previous filter. The art endpoint is public but the rest are under authentication.\r\n\r\nIt&#39;s important to note that the order of the beans is essential, as Spring will use the first bean that conforms to the URL. Therefore, the most specific should be the first in order, and the most general should be the last.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLastly, it&#39;s important not to annotate custom security filters as @Component or any other IOD annotation in this approach because Spring scans every bean that implements the filter and adds it to the regular filter chain.\r\n\r\nNote that the provided code works with Spring Security 5, but in Spring Security 6, things will change. In Spring Security 6, you can use the following code:\r\n\r\n\r\n        @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .authorizeHttpRequests(authorize -&gt; {\r\n                authorize.requestMatchers(&quot;/art/**&quot;)\r\n                    .permitAll();\r\n    \r\n                authorize.requestMatchers(&quot;/api/**&quot;)\r\n                    .hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\r\n                    .anyRequest()\r\n                    .authenticated().and()\r\n                    .addFilterBefore(new CustomOnPerRequestFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            })\r\n            .cors()\r\n            .disable()\r\n            .build(\r\n\r\n);\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o7Fz3.png","title":"Spring Boot - permitAll not working using SecurityFilterChain","body":"<p>Looks like what you want it's something like this.</p>\n<pre><code>@Bean\n  @Order(2)\n  protected SecurityFilterChain filterChainPublic(HttpSecurity http) throws Exception {\n    return http.csrf().disable()\n        .authorizeHttpRequests()\n        .antMatchers(&quot;/art/**&quot;)\n        .permitAll()\n        .and()\n        .authorizeHttpRequests()\n        .antMatchers(&quot;/**&quot;)\n        .authenticated()\n        .and()\n        .cors()\n        .disable()\n        .build();\n  }\n\n  @Bean\n  @Order(1)\n  protected SecurityFilterChain filterChainPrivate(HttpSecurity http) throws Exception {\n    return http.csrf().disable()\n        .requestMatchers()\n          .antMatchers(&quot;/api/**&quot;) // only apply the security configuration to requests that start with /api\n          .and()\n        .authorizeHttpRequests()\n        .antMatchers(&quot;/api/contenteditor/feed/**&quot;).hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\n        .and()\n        .addFilterBefore(new CustomOncePerRequestFilter(), UsernamePasswordAuthenticationFilter.class)\n        .cors()\n        .disable()\n        .build();\n  }\n  \n  \n  \n</code></pre>\n<p>The provided code creates two security filter chains to filter elements based on their security level. The second bean applies to secured URLs, while the first bean is more open and does not require any special security configurations.\nAnother option it's you just filtering it out the paths you don't want in your filter object.</p>\n<p><strong>How this code works</strong></p>\n<p>The filter chains allow you to have multiple chains for different base paths. The requestMatchers define the base paths that the SecurityFilterChain will work with. The antMatchers define pipeline elements conforming to patterns, and can be used with requestMatchers and authorizeHttpRequests().</p>\n<p>Let's take as an example, the code I proposed the first time. What we are doing here it's define a more restrictive element and a open one for general security configurations.</p>\n<p>Let's see this on code:</p>\n<pre><code> http.csrf().disable()\n    .requestMatchers()\n    .antMatchers(&quot;/api/**&quot;) // only apply the security configuration to requests that start with /api\n    .and()\n    .authorizeHttpRequests()\n    .antMatchers(&quot;/api/contenteditor/**&quot;)\n    .hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\n    .and()\n    .addFilterBefore(new CustomOnPerRequestFilter(), UsernamePasswordAuthenticationFilter.class)\n</code></pre>\n<p>This code specifies that the filter chain should only work with requests that start with /api/** and use the filter only in these base paths. It also specifies that requests conforming to /api/contenteditor/** require the SITE_ADMIN, STANDARD_ADMIN, or DOMAIN_MEMBER roles. The addFilterBefore method specifies that a custom CustomOnPerRequestFilter filter should be added before the UsernamePasswordAuthenticationFilter. Notice that your custom filter would be executed in any /api/** path not only in/api/contenteditor/**.</p>\n<p>If we instead do like the first bean</p>\n<pre><code>http.csrf().disable()\n    .authorizeHttpRequests()\n    .antMatchers(&quot;/art/**&quot;)\n    .permitAll()\n    .and()\n    .authorizeHttpRequests()\n    .antMatchers(&quot;/**&quot;)\n    .authenticated()\n</code></pre>\n<p>The requestMatcher by default is any path, so here we are operating over all the urls if we incluide a filter in here would be executed in any path that doesn't match the previous filter. The art endpoint is public but the rest are under authentication.</p>\n<p>It's important to note that the order of the beans is essential, as Spring will use the first bean that conforms to the URL. Therefore, the most specific should be the first in order, and the most general should be the last.</p>\n<p><a href=\"https://i.stack.imgur.com/o7Fz3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o7Fz3.png\" alt=\"enter image description here\" /></a></p>\n<p>Lastly, it's important not to annotate custom security filters as @Component or any other IOD annotation in this approach because Spring scans every bean that implements the filter and adds it to the regular filter chain.</p>\n<p>Note that the provided code works with Spring Security 5, but in Spring Security 6, things will change. In Spring Security 6, you can use the following code:</p>\n<pre><code>    @Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http\n        .authorizeHttpRequests(authorize -&gt; {\n            authorize.requestMatchers(&quot;/art/**&quot;)\n                .permitAll();\n\n            authorize.requestMatchers(&quot;/api/**&quot;)\n                .hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\n                .anyRequest()\n                .authenticated().and()\n                .addFilterBefore(new CustomOnPerRequestFilter(), UsernamePasswordAuthenticationFilter.class);\n        })\n        .cors()\n        .disable()\n        .build(\n</code></pre>\n<p>);\n}</p>\n"},{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682313074,"creation_date":1682313074,"answer_id":76088731,"question_id":76084548,"body_markdown":"Although it may seem strange, the only effective resolution I have found is to override the shouldNotFilter() method within my custom OncePerRequestFilter implementation and include all the paths that require exemption from authentication.\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return request.getServletPath().startsWith(&quot;/art&quot;);\r\n    }","title":"Spring Boot - permitAll not working using SecurityFilterChain","body":"<p>Although it may seem strange, the only effective resolution I have found is to override the shouldNotFilter() method within my custom OncePerRequestFilter implementation and include all the paths that require exemption from authentication.</p>\n<pre><code>@Override\nprotected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n    return request.getServletPath().startsWith(&quot;/art&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3426,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76088731,"answer_count":3,"score":2,"last_activity_date":1682338577,"creation_date":1682249075,"question_id":76084548,"body_markdown":"I have a Spring Boot application where I need to make certain endpoints accessible to all users without requiring authentication. To achieve this, I am using `permitAll()`. \r\n\r\nHowever, when I try to access one of these endpoints, `http://localhost:8080/content/123`, a `CustomOncePerRequestFilter` is being called, which shouldn&#39;t happen as it is supposed to be accessible to all users. \r\n\r\nThe rest of the endpoints are secured and working as expected. \r\n\r\nI am seeking guidance on why this is happening and how to fix it. My `SecurityConfiguration` code is as follows.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate CustomOncePerRequestFilter tokenFilter;\r\n    \r\n    \t@Bean\r\n    \tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable()\r\n    \t\t\t\t.authorizeHttpRequests()\r\n    \t\t\t\t.antMatchers(&quot;/art/**&quot;,&quot;/content/**&quot;).permitAll()\r\n    \t\t\t\t.and().authorizeHttpRequests()\r\n    \t\t\t\t.antMatchers(&quot;/api/contenteditor/feed/**&quot;).hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\r\n    \t\t\t\t.anyRequest().authenticated().and()\r\n    \t\t\t\t.addFilterBefore(tokenFilter, UsernamePasswordAuthenticationFilter.class)\r\n    \t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \t\tCorsConfiguration configuration = new CorsConfiguration();\r\n    \t\tconfiguration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    \t\tconfiguration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n    \t\tconfiguration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n    \t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \t\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    \t\thttp.cors().configurationSource(source);\r\n    \t\treturn http.build();\r\n    \t}\r\n    \r\n    }","title":"Spring Boot - permitAll not working using SecurityFilterChain","body":"<p>I have a Spring Boot application where I need to make certain endpoints accessible to all users without requiring authentication. To achieve this, I am using <code>permitAll()</code>.</p>\n<p>However, when I try to access one of these endpoints, <code>http://localhost:8080/content/123</code>, a <code>CustomOncePerRequestFilter</code> is being called, which shouldn't happen as it is supposed to be accessible to all users.</p>\n<p>The rest of the endpoints are secured and working as expected.</p>\n<p>I am seeking guidance on why this is happening and how to fix it. My <code>SecurityConfiguration</code> code is as follows.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Autowired\n    private CustomOncePerRequestFilter tokenFilter;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .antMatchers(&quot;/art/**&quot;,&quot;/content/**&quot;).permitAll()\n                .and().authorizeHttpRequests()\n                .antMatchers(&quot;/api/contenteditor/feed/**&quot;).hasAnyRole(&quot;SITE_ADMIN&quot;, &quot;STANDARD_ADMIN&quot;, &quot;DOMAIN_MEMBER&quot;)\n                .anyRequest().authenticated().and()\n                .addFilterBefore(tokenFilter, UsernamePasswordAuthenticationFilter.class)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        http.cors().configurationSource(source);\n        return http.build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","xml","xsd","jaxb"],"comments":[{"owner":{"account_id":9206187,"reputation":539,"user_id":6841364,"accept_rate":75,"display_name":"dweeb"},"score":0,"creation_date":1544466249,"post_id":51587467,"comment_id":94277395,"body_markdown":"Did you ever figure this out and if so what was your resolution?","body":"Did you ever figure this out and if so what was your resolution?"}],"owner":{"account_id":12448314,"reputation":85,"user_id":9063834,"display_name":"user9063834"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682338488,"creation_date":1532928451,"question_id":51587467,"body_markdown":"I have the following class \r\n    \t\r\n```java\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n&quot;content&quot;\r\n})\r\n@XmlRootElement(name = &quot;SegmentFilter&quot;)\r\npublic class SegmentFilter {\r\n\r\n\t@XmlElementRefs({\r\n        @XmlElementRef(name = &quot;StopRange&quot;, type = JAXBElement.class),\r\n        @XmlElementRef(name = &quot;OverlapRange&quot;, type = JAXBElement.class),\r\n        @XmlElementRef(name = &quot;DateRange&quot;, type = JAXBElement.class),\r\n        @XmlElementRef(name = &quot;DurationRange&quot;, type = JAXBElement.class),\r\n        @XmlElementRef(name = &quot;EmployeeSelector&quot;, type = JAXBElement.class),\r\n        @XmlElementRef(name = &quot;SegmentCode&quot;, type = JAXBElement.class),\r\n        @XmlElementRef(name = &quot;StartRange&quot;, type = JAXBElement.class)\r\n    })\r\n    @XmlMixed\r\n    protected List&lt;Serializable&gt; content;\r\n    @XmlAttribute(name = &quot;IncludeDetailSegments&quot;)\r\n    protected Boolean includeDetailSegments;\r\n    @XmlAttribute(name = &quot;IncludeGeneralSegments&quot;)\r\n    protected Boolean includeGeneralSegments;\r\n\r\n    public List&lt;Serializable&gt; getContent() {\r\n        if (content == null) {\r\n            content = new ArrayList&lt;Serializable&gt;();\r\n        }\r\n        return this.content;\r\n    }\r\n\r\n    public boolean isIncludeDetailSegments() {\r\n        if (includeDetailSegments == null) {\r\n            return true;\r\n        } else {\r\n            return includeDetailSegments;\r\n        }\r\n    }\r\n\r\n    public void setIncludeDetailSegments(Boolean value) {\r\n        this.includeDetailSegments = value;\r\n    }\r\n\r\n    public boolean isIncludeGeneralSegments() {\r\n        if (includeGeneralSegments == null) {\r\n            return true;\r\n        } else {\r\n            return includeGeneralSegments;\r\n        }\r\n    }\r\n\r\n    public void setIncludeGeneralSegments(Boolean value) {\r\n        this.includeGeneralSegments = value;\r\n    }\r\n\r\n}\r\n```\r\n\r\nCan someone please help me replace the ref with actual Java code like:\r\n\r\n```java\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n&quot;content&quot;\r\n})\r\n@XmlRootElement(name = &quot;SegmentFilter&quot;)\r\npublic class SegmentFilter {\r\n\r\n    public DateTimeRangeType StopRange;\r\n    public DateTimeRangeType StartRange;\r\n\r\n    //and so on with getters and setters\r\n\r\n\t@XmlAttribute(name = &quot;IncludeDetailSegments&quot;)\r\n    protected Boolean includeDetailSegments;\r\n    @XmlAttribute(name = &quot;IncludeGeneralSegments&quot;)\r\n    protected Boolean includeGeneralSegments;\r\n\r\n    public List&lt;Serializable&gt; getContent() {\r\n        if (content == null) {\r\n            content = new ArrayList&lt;Serializable&gt;();\r\n        }\r\n        return this.content;\r\n    }\r\n\r\n    public boolean isIncludeDetailSegments() {\r\n        if (includeDetailSegments == null) {\r\n            return true;\r\n        } else {\r\n            return includeDetailSegments;\r\n        }\r\n    }\r\n\r\n    public void setIncludeDetailSegments(Boolean value) {\r\n        this.includeDetailSegments = value;\r\n    }\r\n\r\n    public boolean isIncludeGeneralSegments() {\r\n        if (includeGeneralSegments == null) {\r\n            return true;\r\n        } else {\r\n            return includeGeneralSegments;\r\n        }\r\n    }\r\n\r\n    public void setIncludeGeneralSegments(Boolean value) {\r\n        this.includeGeneralSegments = value;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI was able to do if I remove type with actual XSD of complex object, for example DateTimeRangeType in this case. I am using Eclipse to generate JAXB classes. This is the XSD below. In earlier cases when there was no type and all elements were defined in the main parent class it was able to get the XSD format, but does not seem to be working in this case where type is pointing to a complex type of xsd\r\n\r\n```xml\r\n&lt;xs:element name=&quot;SegmentFilter&quot;&gt;\r\n &lt;xs:annotation&gt;\r\n&lt;xs:documentation&gt;\r\n    SegmentFilter is a root-level element used \r\n in a SegmentFilter request.\r\n  &lt;/xs:documentation&gt;\r\n&lt;/xs:annotation&gt;\r\n &lt;xs:complexType mixed=&quot;true&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n  &lt;xs:element name=&quot;EmployeeSelector&quot; \r\ntype=&quot;EmployeeSelectorType&quot; minOccurs=&quot;0&quot; /&gt;\r\n  \r\n    &lt;xs:element name=&quot;DateRange&quot; \r\ntype=&quot;DateRangeType&quot;/&gt;\r\n    &lt;xs:element name=&quot;DurationRange&quot; \r\ntype=&quot;FromToTimeRangeType&quot;/&gt;\r\n    &lt;xs:element name=&quot;SegmentCode&quot; \r\ntype=&quot;EmptySKType&quot;/&gt;\r\n    &lt;xs:element name=&quot;OverlapRange&quot; \r\ntype=&quot;DateTimeRangeType&quot;/&gt;\r\n    &lt;xs:element name=&quot;StartRange&quot; \r\n  type=&quot;DateTimeRangeType&quot;/&gt;\r\n    &lt;xs:element name=&quot;StopRange&quot; \r\ntype=&quot;DateTimeRangeType&quot;/&gt;\r\n  \r\n&lt;/xs:sequence&gt;\r\n&lt;xs:attribute name=&quot;IncludeDetailSegments&quot; \r\ndefault=&quot;true&quot; type=&quot;xs:boolean&quot;/&gt;\r\n&lt;xs:attribute name=&quot;IncludeGeneralSegments&quot; \r\ndefault=&quot;true&quot; type=&quot;xs:boolean&quot;/&gt;\r\n &lt;/xs:complexType&gt;\r\n&lt;/xs:element&gt;\r\n```","title":"How to remove @XmlElementRefs and replace them with java properties","body":"<p>I have the following class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n&quot;content&quot;\n})\n@XmlRootElement(name = &quot;SegmentFilter&quot;)\npublic class SegmentFilter {\n\n    @XmlElementRefs({\n        @XmlElementRef(name = &quot;StopRange&quot;, type = JAXBElement.class),\n        @XmlElementRef(name = &quot;OverlapRange&quot;, type = JAXBElement.class),\n        @XmlElementRef(name = &quot;DateRange&quot;, type = JAXBElement.class),\n        @XmlElementRef(name = &quot;DurationRange&quot;, type = JAXBElement.class),\n        @XmlElementRef(name = &quot;EmployeeSelector&quot;, type = JAXBElement.class),\n        @XmlElementRef(name = &quot;SegmentCode&quot;, type = JAXBElement.class),\n        @XmlElementRef(name = &quot;StartRange&quot;, type = JAXBElement.class)\n    })\n    @XmlMixed\n    protected List&lt;Serializable&gt; content;\n    @XmlAttribute(name = &quot;IncludeDetailSegments&quot;)\n    protected Boolean includeDetailSegments;\n    @XmlAttribute(name = &quot;IncludeGeneralSegments&quot;)\n    protected Boolean includeGeneralSegments;\n\n    public List&lt;Serializable&gt; getContent() {\n        if (content == null) {\n            content = new ArrayList&lt;Serializable&gt;();\n        }\n        return this.content;\n    }\n\n    public boolean isIncludeDetailSegments() {\n        if (includeDetailSegments == null) {\n            return true;\n        } else {\n            return includeDetailSegments;\n        }\n    }\n\n    public void setIncludeDetailSegments(Boolean value) {\n        this.includeDetailSegments = value;\n    }\n\n    public boolean isIncludeGeneralSegments() {\n        if (includeGeneralSegments == null) {\n            return true;\n        } else {\n            return includeGeneralSegments;\n        }\n    }\n\n    public void setIncludeGeneralSegments(Boolean value) {\n        this.includeGeneralSegments = value;\n    }\n\n}\n</code></pre>\n<p>Can someone please help me replace the ref with actual Java code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n&quot;content&quot;\n})\n@XmlRootElement(name = &quot;SegmentFilter&quot;)\npublic class SegmentFilter {\n\n    public DateTimeRangeType StopRange;\n    public DateTimeRangeType StartRange;\n\n    //and so on with getters and setters\n\n    @XmlAttribute(name = &quot;IncludeDetailSegments&quot;)\n    protected Boolean includeDetailSegments;\n    @XmlAttribute(name = &quot;IncludeGeneralSegments&quot;)\n    protected Boolean includeGeneralSegments;\n\n    public List&lt;Serializable&gt; getContent() {\n        if (content == null) {\n            content = new ArrayList&lt;Serializable&gt;();\n        }\n        return this.content;\n    }\n\n    public boolean isIncludeDetailSegments() {\n        if (includeDetailSegments == null) {\n            return true;\n        } else {\n            return includeDetailSegments;\n        }\n    }\n\n    public void setIncludeDetailSegments(Boolean value) {\n        this.includeDetailSegments = value;\n    }\n\n    public boolean isIncludeGeneralSegments() {\n        if (includeGeneralSegments == null) {\n            return true;\n        } else {\n            return includeGeneralSegments;\n        }\n    }\n\n    public void setIncludeGeneralSegments(Boolean value) {\n        this.includeGeneralSegments = value;\n    }\n\n}\n</code></pre>\n<p>I was able to do if I remove type with actual XSD of complex object, for example DateTimeRangeType in this case. I am using Eclipse to generate JAXB classes. This is the XSD below. In earlier cases when there was no type and all elements were defined in the main parent class it was able to get the XSD format, but does not seem to be working in this case where type is pointing to a complex type of xsd</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:element name=&quot;SegmentFilter&quot;&gt;\n &lt;xs:annotation&gt;\n&lt;xs:documentation&gt;\n    SegmentFilter is a root-level element used \n in a SegmentFilter request.\n  &lt;/xs:documentation&gt;\n&lt;/xs:annotation&gt;\n &lt;xs:complexType mixed=&quot;true&quot;&gt;\n&lt;xs:sequence&gt;\n  &lt;xs:element name=&quot;EmployeeSelector&quot; \ntype=&quot;EmployeeSelectorType&quot; minOccurs=&quot;0&quot; /&gt;\n  \n    &lt;xs:element name=&quot;DateRange&quot; \ntype=&quot;DateRangeType&quot;/&gt;\n    &lt;xs:element name=&quot;DurationRange&quot; \ntype=&quot;FromToTimeRangeType&quot;/&gt;\n    &lt;xs:element name=&quot;SegmentCode&quot; \ntype=&quot;EmptySKType&quot;/&gt;\n    &lt;xs:element name=&quot;OverlapRange&quot; \ntype=&quot;DateTimeRangeType&quot;/&gt;\n    &lt;xs:element name=&quot;StartRange&quot; \n  type=&quot;DateTimeRangeType&quot;/&gt;\n    &lt;xs:element name=&quot;StopRange&quot; \ntype=&quot;DateTimeRangeType&quot;/&gt;\n  \n&lt;/xs:sequence&gt;\n&lt;xs:attribute name=&quot;IncludeDetailSegments&quot; \ndefault=&quot;true&quot; type=&quot;xs:boolean&quot;/&gt;\n&lt;xs:attribute name=&quot;IncludeGeneralSegments&quot; \ndefault=&quot;true&quot; type=&quot;xs:boolean&quot;/&gt;\n &lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1901898,"reputation":2064,"user_id":1717586,"accept_rate":64,"display_name":"Javaboy"},"score":0,"creation_date":1418065908,"post_id":27365133,"comment_id":43182113,"body_markdown":"May be worth looking at below post http://stackoverflow.com/questions/4713166/decimal-separator-in-numberformat","body":"May be worth looking at below post <a href=\"http://stackoverflow.com/questions/4713166/decimal-separator-in-numberformat\" title=\"decimal separator in numberformat\">stackoverflow.com/questions/4713166/&hellip;</a>"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1418065965,"post_id":27365133,"comment_id":43182141,"body_markdown":"Please post the full stacktrace of the NumberFormatException","body":"Please post the full stacktrace of the NumberFormatException"}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1418066593,"post_id":27365254,"comment_id":43182447,"body_markdown":"@NassimMOUALEK: It&#39;s the documented behaviour - why would you hope I&#39;m wrong? As I&#39;ve said, if you want to parse a localized representation, use `NumberFormat`...","body":"@NassimMOUALEK: It&#39;s the documented behaviour - why would you hope I&#39;m wrong? As I&#39;ve said, if you want to parse a localized representation, use <code>NumberFormat</code>..."},{"owner":{"account_id":3935849,"reputation":4732,"user_id":3252285,"accept_rate":73,"display_name":"Nassim MOUALEK"},"score":0,"creation_date":1418066967,"post_id":27365254,"comment_id":43182627,"body_markdown":"Given that there is another way to do its OK, thank you very mutch","body":"Given that there is another way to do its OK, thank you very mutch"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1418066320,"creation_date":1418066320,"answer_id":27365254,"question_id":27365133,"body_markdown":"You&#39;re calling `Double.parseDouble`, which *always* uses a dot as the decimal separator - it doesn&#39;t use the default locale at all.\r\n\r\n[`Double.parseDouble`][1] is documented to behave like [`Double.valueOf(String)`][2], which has documentation including:\r\n\r\n&gt; To interpret localized string representations of a floating-point value, use subclasses of `NumberFormat`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#parseDouble-java.lang.String-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-","title":"java.lang.NumberFormatException and SystemDecimalSeparator","body":"<p>You're calling <code>Double.parseDouble</code>, which <em>always</em> uses a dot as the decimal separator - it doesn't use the default locale at all.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#parseDouble-java.lang.String-\" rel=\"noreferrer\"><code>Double.parseDouble</code></a> is documented to behave like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-\" rel=\"noreferrer\"><code>Double.valueOf(String)</code></a>, which has documentation including:</p>\n\n<blockquote>\n  <p>To interpret localized string representations of a floating-point value, use subclasses of <code>NumberFormat</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2056767,"reputation":1281,"user_id":1834301,"display_name":"jabbink"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1418066424,"creation_date":1418066424,"answer_id":27365275,"question_id":27365133,"body_markdown":"This should work:\r\n\r\n    NumberFormat f = NumberFormat.getInstance(); // Gets a NumberFormat with the default locale, you can specify a Locale as first parameter (like Locale.FRENCH)\r\n    double myNumber = f.parse(&quot;20,0&quot;).doubleValue(); // myNumber now contains 20","title":"java.lang.NumberFormatException and SystemDecimalSeparator","body":"<p>This should work:</p>\n\n<pre><code>NumberFormat f = NumberFormat.getInstance(); // Gets a NumberFormat with the default locale, you can specify a Locale as first parameter (like Locale.FRENCH)\ndouble myNumber = f.parse(\"20,0\").doubleValue(); // myNumber now contains 20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22173831,"reputation":659,"user_id":16418724,"display_name":"Nikhil S Marathe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682338231,"creation_date":1682338231,"answer_id":76091732,"question_id":27365133,"body_markdown":"I stuck still 3 hours and basic solution is here I found.\r\n\r\n **\r\n\r\n&gt; **Use TRY and CATCH in Data and Your crash will goes out from application.*\r\n\r\n**\r\n\r\nexample : \r\n\r\n           try {   \r\n           Utility.setAmtOnRecept(Double.parseDouble(getAcooundNode().getNoteTotal()));                }\r\n           catch (Exception e){\r\n                    e.printStackTrace();\r\n           }\r\n\r\n☻♥ Done Keep Code.","title":"java.lang.NumberFormatException and SystemDecimalSeparator","body":"<p>I stuck still 3 hours and basic solution is here I found.</p>\n<p>**</p>\n<blockquote>\n<p>*<em>Use TRY and CATCH in Data and Your crash will goes out from application.</em></p>\n</blockquote>\n<p>**</p>\n<p>example :</p>\n<pre><code>       try {   \n       Utility.setAmtOnRecept(Double.parseDouble(getAcooundNode().getNoteTotal()));                }\n       catch (Exception e){\n                e.printStackTrace();\n       }\n</code></pre>\n<p>☻♥ Done Keep Code.</p>\n"}],"owner":{"account_id":3935849,"reputation":4732,"user_id":3252285,"accept_rate":73,"display_name":"Nassim MOUALEK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27365275,"answer_count":3,"score":2,"last_activity_date":1682338231,"creation_date":1418065816,"question_id":27365133,"body_markdown":"Having this error \r\n\r\n    java.lang.NumberFormatException: For input string: &quot;20,00&quot;\r\n    \tat sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)\r\n    \tat sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n    \tat java.lang.Double.parseDouble(Double.java:538)\r\n    \tat com.agitech.autofaces.el.FormatUtil.parseDouble(FormatUtil.java:122)\r\n    \tat com.agitech.erp.converter.DoubleConverter.getAsObject(DoubleConverter.java:27)\r\n\r\nafter reading [decimal-separator-in-numberformat][1] this, i try \r\n\r\n    public class FormatUtil {\r\n    \tpublic static char ApplicationDecimalSeparator = &#39;,&#39;;\r\n    \tpublic static char SystemDecimalSeparator;\r\n    \tstatic {\t\t\r\n    \t\tDecimalFormatSymbols symbols= DecimalFormatSymbols.getInstance();\r\n    \t\tSystemDecimalSeparator = symbols.getDecimalSeparator();\t\t\r\n    \t\tsymbols.setDecimalSeparator(ApplicationDecimalSeparator);\r\n    \t}\r\n        public final static Double parseDouble(String d){\r\n    \t\tif (d==null)\r\n    \t\t\treturn 0.0;\r\n    \t\treturn Double.parseDouble( fixDecimalSeparator(d) );\r\n    \t}\r\n    \tpublic final static String fixDecimalSeparator(String d){\r\n    \t\tif (SystemDecimalSeparator==ApplicationDecimalSeparator)\r\n    \t\t\treturn d;\r\n    \t\treturn d.replaceAll( &quot;&quot;+SystemDecimalSeparator, &quot;&quot;+ApplicationDecimalSeparator);\r\n    \t}\r\n    }\r\n\r\nfinally the SystemDecimalSeparator is already the &#39;,&#39; so why this exception ? \r\n\r\nIts probably expecting 20.00 but how to get and fix this separtor ? \r\n\r\nIndeed i test and its expectiong &quot;20.00&quot; instead and the default SystemDecimalSeparator is already the &#39;,&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4713166/decimal-separator-in-numberformat\r\n","title":"java.lang.NumberFormatException and SystemDecimalSeparator","body":"<p>Having this error </p>\n\n<pre><code>java.lang.NumberFormatException: For input string: \"20,00\"\n    at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)\n    at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\n    at java.lang.Double.parseDouble(Double.java:538)\n    at com.agitech.autofaces.el.FormatUtil.parseDouble(FormatUtil.java:122)\n    at com.agitech.erp.converter.DoubleConverter.getAsObject(DoubleConverter.java:27)\n</code></pre>\n\n<p>after reading <a href=\"https://stackoverflow.com/questions/4713166/decimal-separator-in-numberformat\">decimal-separator-in-numberformat</a> this, i try </p>\n\n<pre><code>public class FormatUtil {\n    public static char ApplicationDecimalSeparator = ',';\n    public static char SystemDecimalSeparator;\n    static {        \n        DecimalFormatSymbols symbols= DecimalFormatSymbols.getInstance();\n        SystemDecimalSeparator = symbols.getDecimalSeparator();     \n        symbols.setDecimalSeparator(ApplicationDecimalSeparator);\n    }\n    public final static Double parseDouble(String d){\n        if (d==null)\n            return 0.0;\n        return Double.parseDouble( fixDecimalSeparator(d) );\n    }\n    public final static String fixDecimalSeparator(String d){\n        if (SystemDecimalSeparator==ApplicationDecimalSeparator)\n            return d;\n        return d.replaceAll( \"\"+SystemDecimalSeparator, \"\"+ApplicationDecimalSeparator);\n    }\n}\n</code></pre>\n\n<p>finally the SystemDecimalSeparator is already the ',' so why this exception ? </p>\n\n<p>Its probably expecting 20.00 but how to get and fix this separtor ? </p>\n\n<p>Indeed i test and its expectiong \"20.00\" instead and the default SystemDecimalSeparator is already the ','</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","pact"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1681992284,"post_id":76063676,"comment_id":134147512,"body_markdown":"We might need some more information on what you&#39;re doing. I&#39;m not really familiar with pact but assuming it uses Java&#39;s regex library the values you&#39;ve provided should match your regex. So either it doesn&#39;t use Java&#39;s regex lib, the values are wrong (might they include the double quotes shown in the output?) or you&#39;re doing something we don&#39;t see but that interferes with the matching.","body":"We might need some more information on what you&#39;re doing. I&#39;m not really familiar with pact but assuming it uses Java&#39;s regex library the values you&#39;ve provided should match your regex. So either it doesn&#39;t use Java&#39;s regex lib, the values are wrong (might they include the double quotes shown in the output?) or you&#39;re doing something we don&#39;t see but that interferes with the matching."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1681992468,"post_id":76063676,"comment_id":134147557,"body_markdown":"Btw, this might help: https://github.com/pact-foundation/pact-jvm/issues/564 - you might be using `stringMatcher(...)` in the wrong place","body":"Btw, this might help: <a href=\"https://github.com/pact-foundation/pact-jvm/issues/564\" rel=\"nofollow noreferrer\">github.com/pact-foundation/pact-jvm/issues/564</a> - you might be using <code>stringMatcher(...)</code> in the wrong place"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1681992953,"post_id":76063676,"comment_id":134147665,"body_markdown":"@Thomas maybe you could help me to rephrase this &quot;I keep falling into the same trap. This is not an issue. JUnit results should be consistent. The actual test should be during the verify phase which works fine. So I&#39;m closing this since it&#39;s not an issue.&quot;. Because I cannot understand why he closed issue...","body":"@Thomas maybe you could help me to rephrase this &quot;I keep falling into the same trap. This is not an issue. JUnit results should be consistent. The actual test should be during the verify phase which works fine. So I&#39;m closing this since it&#39;s not an issue.&quot;. Because I cannot understand why he closed issue..."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1681993488,"post_id":76063676,"comment_id":134147788,"body_markdown":"You were also right about quotes... I dont know why it happens.\n`body: $.content.0.match.id Expected &quot;683876f1-e47b-4bd4-9b8f-c800439654e5&quot; to match &#39;07dd140a-13aa-4f9f-a04f-3255bcb4cb4&#39;`","body":"You were also right about quotes... I dont know why it happens. <code>body: $.content.0.match.id Expected &quot;683876f1-e47b-4bd4-9b8f-c800439654e5&quot; to match &#39;07dd140a-13aa-4f9f-a04f-3255bcb4cb4&#39;</code>"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1681993531,"post_id":76063676,"comment_id":134147801,"body_markdown":"At the same time in my contract generated:  &quot;id&quot;: &quot;07dd140a-13aa-4f9f-a04f-3255bcb4cb4&quot;","body":"At the same time in my contract generated:  &quot;id&quot;: &quot;07dd140a-13aa-4f9f-a04f-3255bcb4cb4&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1681995363,"post_id":76063676,"comment_id":134148311,"body_markdown":"Well, I&#39;d interpret &quot;actual test should be during the verify phase&quot; as in you should not include the string matcher into actually executing the test or building the contract/test object but when verifying the test results after the run.","body":"Well, I&#39;d interpret &quot;actual test should be during the verify phase&quot; as in you should not include the string matcher into actually executing the test or building the contract/test object but when verifying the test results after the run."},{"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"score":0,"creation_date":1682049461,"post_id":76063676,"comment_id":134157809,"body_markdown":"Is the matcher on a consumer request body or response body? I&#39;m guessing the consumer, because you&#39;re saying the test is failing on the consumer side. BTW, I have no idea about what that person is saying in the referenced issue either!","body":"Is the matcher on a consumer request body or response body? I&#39;m guessing the consumer, because you&#39;re saying the test is failing on the consumer side. BTW, I have no idea about what that person is saying in the referenced issue either!"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1682337961,"post_id":76063676,"comment_id":134194198,"body_markdown":"Do you mean you dont understand my issue? @MatthewFellows","body":"Do you mean you dont understand my issue? @MatthewFellows"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682338183,"creation_date":1681991106,"question_id":76063676,"body_markdown":"I have a stringMatcher as following:\r\n```\r\n.stringMatcher(&quot;id&quot;, &quot;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}&quot;)\r\n```\r\n\r\nMy provider generates uuid value, but my consumer test fails because it says for example:\r\n\r\n```\r\n- &quot;9f28ddbd-2c5c-476e-ac54-3bb99543642e&quot;\r\n+ &quot;8528ddba-2c5c-476e-ac54-3bb99543642e&quot;\r\n``` \r\nThat means they are not matching.\r\nBut I expect, that stringMatcher will test value only by regex, but not assert equal values exactly.\r\n\r\nThe documentation says:\r\n`stringMatcher\tWill match strings using the provided regular expression`\r\n\r\nWhat should I do to fix it and test uuid field by regex, but not value?\r\n\r\nMore code example:\r\n\r\n```\r\n@ExtendWith(PactConsumerTestExt.class)\r\n@PactTestFor(providerName = &quot;MyProviderService&quot;)\r\npublic class PactTest {\r\n\r\n    @Pact(consumer = &quot;MyConsumerService&quot;)\r\n    public RequestResponsePact allData(PactDslWithProvider builder) {\r\n        DslPart jsonBody = new PactDslJsonBody()\r\n                .array(&quot;content&quot;)\r\n                .object()\r\n                .stringMatcher(&quot;id&quot;, &quot;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}&quot;)\r\n                .stringType(&quot;name&quot;)\r\n                // more fields\r\n     return builder\r\n            .given(&quot;GET ALL DATA&quot;)\r\n            .uponReceiving(&quot;POST REQUEST&quot;)\r\n            .path(&quot;/v1/search&quot;)\r\n            .method(&quot;POST&quot;)\r\n            .willRespondWith()\r\n            .status(200)\r\n            .body(jsonBody)\r\n            .toPact();\r\n\r\n    @Test\r\n    @PactTestFor(pactMethod = &quot;allData&quot;)\r\n    void testAllCampaigns(MockServer mockProvider) {\r\n        ResponseEntity&lt;String&gt; response = new RestTemplate()\r\n            .postForEntity(mockProvider.getUrl() + &quot;/v1/search&quot;,Map.of(), String.class);\r\n\r\n        Assertions.assertEquals(response.getStatusCode().value(), 200);\r\n    }\r\n```\r\n","title":"Why stringMatcher works not as expected in Pact Test Spring Boot?","body":"<p>I have a stringMatcher as following:</p>\n<pre><code>.stringMatcher(&quot;id&quot;, &quot;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}&quot;)\n</code></pre>\n<p>My provider generates uuid value, but my consumer test fails because it says for example:</p>\n<pre><code>- &quot;9f28ddbd-2c5c-476e-ac54-3bb99543642e&quot;\n+ &quot;8528ddba-2c5c-476e-ac54-3bb99543642e&quot;\n</code></pre>\n<p>That means they are not matching.\nBut I expect, that stringMatcher will test value only by regex, but not assert equal values exactly.</p>\n<p>The documentation says:\n<code>stringMatcher  Will match strings using the provided regular expression</code></p>\n<p>What should I do to fix it and test uuid field by regex, but not value?</p>\n<p>More code example:</p>\n<pre><code>@ExtendWith(PactConsumerTestExt.class)\n@PactTestFor(providerName = &quot;MyProviderService&quot;)\npublic class PactTest {\n\n    @Pact(consumer = &quot;MyConsumerService&quot;)\n    public RequestResponsePact allData(PactDslWithProvider builder) {\n        DslPart jsonBody = new PactDslJsonBody()\n                .array(&quot;content&quot;)\n                .object()\n                .stringMatcher(&quot;id&quot;, &quot;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}&quot;)\n                .stringType(&quot;name&quot;)\n                // more fields\n     return builder\n            .given(&quot;GET ALL DATA&quot;)\n            .uponReceiving(&quot;POST REQUEST&quot;)\n            .path(&quot;/v1/search&quot;)\n            .method(&quot;POST&quot;)\n            .willRespondWith()\n            .status(200)\n            .body(jsonBody)\n            .toPact();\n\n    @Test\n    @PactTestFor(pactMethod = &quot;allData&quot;)\n    void testAllCampaigns(MockServer mockProvider) {\n        ResponseEntity&lt;String&gt; response = new RestTemplate()\n            .postForEntity(mockProvider.getUrl() + &quot;/v1/search&quot;,Map.of(), String.class);\n\n        Assertions.assertEquals(response.getStatusCode().value(), 200);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka-streams","spring-cloud-stream","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682338155,"creation_date":1682338155,"answer_id":76091713,"question_id":76091712,"body_markdown":"I&#39;m able to do it by creating a StoreBuilder bean:\r\n\r\n    @Bean\r\n    public StoreBuilder&lt;KeyValueStore&lt;String, String&gt;&gt; storeBuilder() {\r\n        return Stores.keyValueStoreBuilder(\r\n                Stores.persistentKeyValueStore(&quot;value-store&quot;),\r\n                Serdes.String(),\r\n                Serdes.String()\r\n        );\r\n    }\r\n\r\nAnd then using this store in transform method of KStream as follows:\r\n\r\n    @Bean\r\n    public Function&lt;KStream&lt;String, String&gt;, KStream&lt;String, Long&gt;&gt; sampleProcessor() {\r\n        return source -&gt; source\r\n                .transform(() -&gt; new Transformer&lt;String, String, KeyValue&lt;String, String&gt;&gt;() {\r\n                    private KeyValueStore&lt;String, String&gt; valueStore;\r\n\r\n                    @Override\r\n                    public void init(ProcessorContext context) {\r\n                        valueStore = context.getStateStore(&quot;value-store&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public KeyValue&lt;String, String&gt; transform(String key, String value) {\r\n                        if (isNull(valueStore.get(value))) {\r\n                            valueStore.put(value, &quot;CONST&quot;);\r\n                            return KeyValue.pair(key, value);\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    public void close() {\r\n                    }\r\n                }, &quot;value-store&quot;)\r\n                .mapValues(value -&gt; value.toUpperCase())\r\n                .groupBy((key, value) -&gt; value)\r\n                .count(Materialized.as(&quot;count-store&quot;))\r\n                .toStream();\r\n    }","title":"How to use a custom Kafka state store in Spring Cloud Stream application with functional appraoch","body":"<p>I'm able to do it by creating a StoreBuilder bean:</p>\n<pre><code>@Bean\npublic StoreBuilder&lt;KeyValueStore&lt;String, String&gt;&gt; storeBuilder() {\n    return Stores.keyValueStoreBuilder(\n            Stores.persistentKeyValueStore(&quot;value-store&quot;),\n            Serdes.String(),\n            Serdes.String()\n    );\n}\n</code></pre>\n<p>And then using this store in transform method of KStream as follows:</p>\n<pre><code>@Bean\npublic Function&lt;KStream&lt;String, String&gt;, KStream&lt;String, Long&gt;&gt; sampleProcessor() {\n    return source -&gt; source\n            .transform(() -&gt; new Transformer&lt;String, String, KeyValue&lt;String, String&gt;&gt;() {\n                private KeyValueStore&lt;String, String&gt; valueStore;\n\n                @Override\n                public void init(ProcessorContext context) {\n                    valueStore = context.getStateStore(&quot;value-store&quot;);\n                }\n\n                @Override\n                public KeyValue&lt;String, String&gt; transform(String key, String value) {\n                    if (isNull(valueStore.get(value))) {\n                        valueStore.put(value, &quot;CONST&quot;);\n                        return KeyValue.pair(key, value);\n                    }\n                    return null;\n                }\n\n                @Override\n                public void close() {\n                }\n            }, &quot;value-store&quot;)\n            .mapValues(value -&gt; value.toUpperCase())\n            .groupBy((key, value) -&gt; value)\n            .count(Materialized.as(&quot;count-store&quot;))\n            .toStream();\n}\n</code></pre>\n"}],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682338155,"creation_date":1682338155,"question_id":76091712,"body_markdown":"I&#39;ve a spring cloud stream application with latest version and I&#39;m using functional approach. The requirement is to receive a message, avoid duplicate messages (because the producer may publish duplicate messages), then transform the message and finally put the count in a state store.\r\nTo fulfill the requirement of avoiding duplicate messages, I&#39;m thinking of using an intermediate state store but I&#39;m not able understand how to link the state store with current KStream.\r\n\r\nFollowing the the sample code:\r\n\r\n    @Bean\r\n    public Function&lt;KStream&lt;String, String&gt;, KStream&lt;String, Long&gt;&gt; sampleProcessor() {\r\n        return source -&gt; source\r\n                .mapValues(value -&gt; value.toUpperCase())\r\n                .groupBy((key, value) -&gt; value)\r\n                .count(Materialized.as(&quot;count-store&quot;))\r\n                .toStream();\r\n    }\r\n\r\nEx: If I publish following messages:\r\n\r\n    m1 = Hello\r\n    m2 = World\r\n    m3 = Hello\r\n\r\nThen only m1 and m2 should be consumed.","title":"How to use a custom Kafka state store in Spring Cloud Stream application with functional appraoch","body":"<p>I've a spring cloud stream application with latest version and I'm using functional approach. The requirement is to receive a message, avoid duplicate messages (because the producer may publish duplicate messages), then transform the message and finally put the count in a state store.\nTo fulfill the requirement of avoiding duplicate messages, I'm thinking of using an intermediate state store but I'm not able understand how to link the state store with current KStream.</p>\n<p>Following the the sample code:</p>\n<pre><code>@Bean\npublic Function&lt;KStream&lt;String, String&gt;, KStream&lt;String, Long&gt;&gt; sampleProcessor() {\n    return source -&gt; source\n            .mapValues(value -&gt; value.toUpperCase())\n            .groupBy((key, value) -&gt; value)\n            .count(Materialized.as(&quot;count-store&quot;))\n            .toStream();\n}\n</code></pre>\n<p>Ex: If I publish following messages:</p>\n<pre><code>m1 = Hello\nm2 = World\nm3 = Hello\n</code></pre>\n<p>Then only m1 and m2 should be consumed.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682249532,"creation_date":1682249532,"answer_id":76084576,"question_id":76084490,"body_markdown":"I have separated the Bean creation to a separate configuration class as follows, and it worked.\r\n\r\n**TaskSchedulerBean.java**\r\n\r\n    @Configuration\r\n    public class TaskSchedulerBean {\r\n    \t@Bean\r\n    \tpublic TaskScheduler taskScheduler() {\r\n    \t\treturn new ConcurrentTaskScheduler();\r\n    \t}\r\n    }\r\n\r\n\r\n**MyDireConfig.java**\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class MyDireConfig implements InitializingBean {\r\n        \r\n    \r\n        \r\n    \t@Value(&quot;${testdir.retain-backup-files:true}&quot;)\r\n        boolean retainBackupFiles;\r\n        @Value(&quot;${testdir.backup-directory}&quot;)\r\n        String backupDirectory;\r\n        @Value(&quot;${testdir.error-directory}&quot;)\r\n        String errorDirectory;\r\n    \t\r\n        @Value(&quot;${camel.springboot.auto-startup:true}&quot;)\r\n        String camelSpringbootAutoStartup;\r\n        @Value(&quot;${camel.springboot.main-run-controller:true}&quot;)\r\n        String camelSpringbootMainRunController;\r\n        \r\n        @Autowired (required=false)\r\n        MyDireCleaner myDireCleaner;\r\n    \t\r\n    \t@Autowired\r\n        TaskSchedulerBean taskSchedulerBean;\r\n        \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            if (cleanInterval &lt; 300000L) cleanInterval = 300000L;\r\n            if (retainBackupFiles &amp;&amp; maxBackupFileAge &gt; 0) {\r\n                log.info(&quot;Max backup file age: &quot; + maxBackupFileAge + &quot; day(s)&quot;);\r\n                Calendar c = Calendar.getInstance();\r\n                c.add(Calendar.DATE, -maxBackupFileAge);\r\n                taskSchedulerBean.taskScheduler().scheduleWithFixedDelay(()-&gt;{myDireCleaner.deleteExpiredPaths(Paths.get(backupDirectory), c.getTime());}, new Date(System.currentTimeMillis() + 10000L), cleanInterval);\r\n            } \r\n        }\r\n    \r\n        public boolean retainBackupFiles() {\r\n            return retainBackupFiles;\r\n        }\r\n        \r\n        public String getBackupDirectory(String dirId) {\r\n            return Paths.get(backupDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n        }\r\n        \r\n        public String getErrorDirectory(String dirId) {\r\n            return Paths.get(errorDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n        }   \r\n    }","title":"BeanCreationException: Requested bean is currently in creation","body":"<p>I have separated the Bean creation to a separate configuration class as follows, and it worked.</p>\n<p><strong>TaskSchedulerBean.java</strong></p>\n<pre><code>@Configuration\npublic class TaskSchedulerBean {\n    @Bean\n    public TaskScheduler taskScheduler() {\n        return new ConcurrentTaskScheduler();\n    }\n}\n</code></pre>\n<p><strong>MyDireConfig.java</strong></p>\n<pre><code>@Slf4j\n@Configuration\npublic class MyDireConfig implements InitializingBean {\n    \n\n    \n    @Value(&quot;${testdir.retain-backup-files:true}&quot;)\n    boolean retainBackupFiles;\n    @Value(&quot;${testdir.backup-directory}&quot;)\n    String backupDirectory;\n    @Value(&quot;${testdir.error-directory}&quot;)\n    String errorDirectory;\n    \n    @Value(&quot;${camel.springboot.auto-startup:true}&quot;)\n    String camelSpringbootAutoStartup;\n    @Value(&quot;${camel.springboot.main-run-controller:true}&quot;)\n    String camelSpringbootMainRunController;\n    \n    @Autowired (required=false)\n    MyDireCleaner myDireCleaner;\n    \n    @Autowired\n    TaskSchedulerBean taskSchedulerBean;\n    \n    @Override\n    public void afterPropertiesSet() throws Exception {\n        if (cleanInterval &lt; 300000L) cleanInterval = 300000L;\n        if (retainBackupFiles &amp;&amp; maxBackupFileAge &gt; 0) {\n            log.info(&quot;Max backup file age: &quot; + maxBackupFileAge + &quot; day(s)&quot;);\n            Calendar c = Calendar.getInstance();\n            c.add(Calendar.DATE, -maxBackupFileAge);\n            taskSchedulerBean.taskScheduler().scheduleWithFixedDelay(()-&gt;{myDireCleaner.deleteExpiredPaths(Paths.get(backupDirectory), c.getTime());}, new Date(System.currentTimeMillis() + 10000L), cleanInterval);\n        } \n    }\n\n    public boolean retainBackupFiles() {\n        return retainBackupFiles;\n    }\n    \n    public String getBackupDirectory(String dirId) {\n        return Paths.get(backupDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\n    }\n    \n    public String getErrorDirectory(String dirId) {\n        return Paths.get(errorDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76084576,"answer_count":1,"score":1,"last_activity_date":1682338094,"creation_date":1682248253,"question_id":76084490,"body_markdown":"I have searched a few posts, but have not found any suitable answer for the exception `BeanCurrentlyInCreationException`.  I attempted to use `@Lazy` and `@Bean` while creating the `TaskScheduler`, but neither approach proved to be helpful.\r\n\r\n##### MyDireConfig.java\r\n\r\n```java\r\n@Slf4j\r\n@Configuration\r\npublic class MyDireConfig implements InitializingBean {\r\n    \r\n       \r\n\t@Value(&quot;${testdir.retain-backup-files:true}&quot;)\r\n    boolean retainBackupFiles;\r\n    @Value(&quot;${testdir.backup-directory}&quot;)\r\n    String backupDirectory;\r\n    @Value(&quot;${testdir.error-directory}&quot;)\r\n    String errorDirectory;\r\n\t\r\n    @Value(&quot;${camel.springboot.auto-startup:true}&quot;)\r\n    String camelSpringbootAutoStartup;\r\n    @Value(&quot;${camel.springboot.main-run-controller:true}&quot;)\r\n    String camelSpringbootMainRunController;\r\n    \r\n    @Autowired (required=false)\r\n    MyDireCleaner myDireCleaner;\r\n    \r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        if (cleanInterval &lt; 300000L) cleanInterval = 300000L;\r\n        if (retainBackupFiles &amp;&amp; maxBackupFileAge &gt; 0) {\r\n            log.info(&quot;Max backup file age: &quot; + maxBackupFileAge + &quot; day(s)&quot;);\r\n            Calendar c = Calendar.getInstance();\r\n            c.add(Calendar.DATE, -maxBackupFileAge);\r\n            taskScheduler().scheduleWithFixedDelay(()-&gt;{myDireCleaner.deleteExpiredPaths(Paths.get(backupDirectory), c.getTime());}, new Date(System.currentTimeMillis() + 10000L), cleanInterval);\r\n        } \r\n    }\r\n\r\n    public boolean retainBackupFiles() {\r\n        return retainBackupFiles;\r\n    }\r\n    \r\n    public String getBackupDirectory(String dirId) {\r\n        return Paths.get(backupDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n    }\r\n    \r\n    public String getErrorDirectory(String dirId) {\r\n        return Paths.get(errorDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n    }\r\n    \r\n    \r\n    @Bean\r\n    public TaskScheduler taskScheduler() {\r\n        return new ConcurrentTaskScheduler();\r\n    }\r\n}\r\n```\r\n\r\n\r\nError log:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException:\r\nError creating bean with name &#39;MyDireConfig&#39; defined in URL\r\n[jar:file:/C:/Program%20Files/test/myprogram/lib/myapp.jar!/BOOT-INF/classes!/com/test/myprogram/MyDireConfig.class]:\r\nInvocation of init method failed; nested exception is\r\norg.springframework.beans.factory.BeanCurrentlyInCreationException:\r\nError creating bean with name &#39;MyDireConfig&#39;: *Requested bean is\r\ncurrently in creation: Is there an unresolvable circular reference?*\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n```\r\n","title":"BeanCreationException: Requested bean is currently in creation","body":"<p>I have searched a few posts, but have not found any suitable answer for the exception <code>BeanCurrentlyInCreationException</code>.  I attempted to use <code>@Lazy</code> and <code>@Bean</code> while creating the <code>TaskScheduler</code>, but neither approach proved to be helpful.</p>\n<h5>MyDireConfig.java</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\npublic class MyDireConfig implements InitializingBean {\n    \n       \n    @Value(&quot;${testdir.retain-backup-files:true}&quot;)\n    boolean retainBackupFiles;\n    @Value(&quot;${testdir.backup-directory}&quot;)\n    String backupDirectory;\n    @Value(&quot;${testdir.error-directory}&quot;)\n    String errorDirectory;\n    \n    @Value(&quot;${camel.springboot.auto-startup:true}&quot;)\n    String camelSpringbootAutoStartup;\n    @Value(&quot;${camel.springboot.main-run-controller:true}&quot;)\n    String camelSpringbootMainRunController;\n    \n    @Autowired (required=false)\n    MyDireCleaner myDireCleaner;\n    \n    @Override\n    public void afterPropertiesSet() throws Exception {\n        if (cleanInterval &lt; 300000L) cleanInterval = 300000L;\n        if (retainBackupFiles &amp;&amp; maxBackupFileAge &gt; 0) {\n            log.info(&quot;Max backup file age: &quot; + maxBackupFileAge + &quot; day(s)&quot;);\n            Calendar c = Calendar.getInstance();\n            c.add(Calendar.DATE, -maxBackupFileAge);\n            taskScheduler().scheduleWithFixedDelay(()-&gt;{myDireCleaner.deleteExpiredPaths(Paths.get(backupDirectory), c.getTime());}, new Date(System.currentTimeMillis() + 10000L), cleanInterval);\n        } \n    }\n\n    public boolean retainBackupFiles() {\n        return retainBackupFiles;\n    }\n    \n    public String getBackupDirectory(String dirId) {\n        return Paths.get(backupDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\n    }\n    \n    public String getErrorDirectory(String dirId) {\n        return Paths.get(errorDirectory, dirId).toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\n    }\n    \n    \n    @Bean\n    public TaskScheduler taskScheduler() {\n        return new ConcurrentTaskScheduler();\n    }\n}\n</code></pre>\n<p>Error log:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'MyDireConfig' defined in URL\n[jar:file:/C:/Program%20Files/test/myprogram/lib/myapp.jar!/BOOT-INF/classes!/com/test/myprogram/MyDireConfig.class]:\nInvocation of init method failed; nested exception is\norg.springframework.beans.factory.BeanCurrentlyInCreationException:\nError creating bean with name 'MyDireConfig': *Requested bean is\ncurrently in creation: Is there an unresolvable circular reference?*\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n</code></pre>\n"},{"tags":["java","exception","inheritance","subclass"],"answers":[{"comments":[{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":1,"creation_date":1682345336,"post_id":76091549,"comment_id":134196012,"body_markdown":"I think your solution is the clearest one, which a hundred percent satisfies the purpose of knowledge point of Exception. This should be a mistake caused by my negligence of knowledge. Thank you!","body":"I think your solution is the clearest one, which a hundred percent satisfies the purpose of knowledge point of Exception. This should be a mistake caused by my negligence of knowledge. Thank you!"}],"tags":[],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682337528,"creation_date":1682336992,"answer_id":76091549,"question_id":76091367,"body_markdown":"One way to solve this problem is to change *TrainSpeedChange* to an unchecked exception. This way the exception doesn&#39;t need to be propagated and the signature of *accelerate(int amount)* within *Vehicle* doesn&#39;t need to be changed.\r\n\r\nThis is, in my opion, the cleanest solution, because in its essence *TrainSpeedChange* exception is the equivalent to the [UnsupportedOperationException][1] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"How to manage the Exception thrown from some particular subclasses in Java?","body":"<p>One way to solve this problem is to change <em>TrainSpeedChange</em> to an unchecked exception. This way the exception doesn't need to be propagated and the signature of <em>accelerate(int amount)</em> within <em>Vehicle</em> doesn't need to be changed.</p>\n<p>This is, in my opion, the cleanest solution, because in its essence <em>TrainSpeedChange</em> exception is the equivalent to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\">UnsupportedOperationException</a></p>\n"},{"comments":[{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":0,"creation_date":1682345562,"post_id":76091623,"comment_id":134196068,"body_markdown":"Your coding advices help me a lot! I think the right choice should be &quot;The relationship between checked and unchecked exceptions&quot;. Also, I think the structure of the problem is inproper (that is directly define accelerate method in Vehicle class). But I have to follow the requirements, so...Whatever, really thanks!","body":"Your coding advices help me a lot! I think the right choice should be &quot;The relationship between checked and unchecked exceptions&quot;. Also, I think the structure of the problem is inproper (that is directly define accelerate method in Vehicle class). But I have to follow the requirements, so...Whatever, really thanks!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682337608,"creation_date":1682337608,"answer_id":76091623,"question_id":76091367,"body_markdown":"There are many solutions, and usually you should apply or at least think about __all__ of these:\r\n\r\n## Liskov&#39;s substition principle\r\n\r\nIf the `Vehicle` class/interface declares that you can ask a vehicle to accelerate, then _all vehicles ought to support this except in extremely exotic circumstances_. This is called Liskov&#39;s substitution principle (the idea being that if you define some algorithm where as part of the input you need some sort of `Vehicle`, then LSP says I should be able to take your spec, replace `Vehicle` with some subtype of it, such as `Train`, and the algorithm still needs to make sense: You must always be able to substitute a parent type with a subtype.\r\n\r\nAs a consequence, __`Vehicle` should not have `accelerate` at all__. If not all vehicles can do it, then it&#39;s not part of `Vehicle`. You may want to introduce a new interface that captures the notion of a vehicle whose speeds _can_ change, which e.g. `Car` and `Bicycle` implement, but `Train` does not. `accelerate` should be in that interface.\r\n\r\nThere is now no need for `TrainSpeedChangeException` - because the `Train` class isn&#39;t going to have an `accelerate` method _at all_.\r\n\r\nYou&#39;re falling afoul of these rules when you write an implementation of a method whose body consists solely of a single `throw` clause.\r\n\r\nNote that the JVM/java core libs themselves don&#39;t fully follow this: It&#39;s not a law, it&#39;s a principle. For example, immutable lists still have an `add` method whose body simply `throw new UnsupportedOperationException()`\r\n\r\n## The relationship between checked and unchecked exceptions\r\n\r\nIf it is plausible that a certain exception cannot occur unless a bug has been programmed, then __that should never be a checked exception__. The reason should be obvious - if you want to &#39;catch&#39; bugs, then obviously you have to catch the runtimeexceptions (just about every -caused-by-bug- exception the JVM itself throws as runtimeexceptions, such as NullPointerException). Having to write `catch (SomeExceptionThatCannotOccurUnlessBugs)` everywhere is pointless, and what do you put in the catch block anyway? A log statement? A runtime exception that bubbles up the top results in that anyway, or if it doesn&#39;t, you have bigger problems.\r\n\r\nThe Java core libs itself do apply this rule: `UnsupportedOperationException` is a RuntimeException (meaning, you don&#39;t need to declare it in your `throws` clauses).\r\n\r\n## exception hierarchies\r\n\r\nWhenever you grow a cavalcade of checked exceptions, it is virtually always correct to introduce a type in the type hierarchy to cover all of it. The core libs do this too - the security (cryptography)-related APIs have a ton of checked exceptions (key is in the wrong format, that algorithm does not exist, the input doesn&#39;t fit the expected format, and so on), and they _all_ `extends GeneralSecurityException` so that code that wants to react to some sort of problem with the config of the crypto but not any _particular_ problem, can simply catch GSE.\r\n\r\nIOExceptions are the same way. There&#39;s exception types to cover &#39;that file does not exist&#39;, &#39;this process does not have the required access rights to do that&#39;, &#39;the disk is full&#39;, &#39;that channel is already closed&#39;, &#39;the other side hung up&#39;, &#39;the entire network card went offline&#39;, and a hundred more such specifics, and they _all_ are declared as e.g. `public class NoSuchFileException extends IOException {}` so that you can choose: If you want to specifically detect file-not-found, catch NSFEx, if you want to have a fallback handler for any I/O problem, catch the more general IOEx.\r\n\r\n## Some closing notes\r\n\r\nExceptions that ever show up in a log are generally _always_ a dire situation. Therefore, by convention, __do not__ make exception messages all caps, and __do not__ include punctuation at the end of them. _Especially_ exclamation points. Don&#39;t do that.\r\n\r\nYou can catch multiple exception types in one catch:\r\n\r\n```\r\ntry {\r\n ...\r\n} catch (ExceedSpeedLimit | NotEnoughSpeed e) {\r\n  throw e;\r\n} ...\r\n```\r\n\r\n.. not that you still need this construct if you apply the rules above.\r\n\r\nAlso, exceptions by convention end in the word `Exception`. (And anything that extends `Error`  ends in `Error`. Don&#39;t let anything extend `Throwable` directly unless they do not convey the notion of errors or extraordinary exits of methods but are instead low-level control flow constructs, which you should almost never do (using throwables for control flow is usually a bad idea), but if you must - extend `Throwable` and there are no particular rules about what such types should use for names.\r\n","title":"How to manage the Exception thrown from some particular subclasses in Java?","body":"<p>There are many solutions, and usually you should apply or at least think about <strong>all</strong> of these:</p>\n<h2>Liskov's substition principle</h2>\n<p>If the <code>Vehicle</code> class/interface declares that you can ask a vehicle to accelerate, then <em>all vehicles ought to support this except in extremely exotic circumstances</em>. This is called Liskov's substitution principle (the idea being that if you define some algorithm where as part of the input you need some sort of <code>Vehicle</code>, then LSP says I should be able to take your spec, replace <code>Vehicle</code> with some subtype of it, such as <code>Train</code>, and the algorithm still needs to make sense: You must always be able to substitute a parent type with a subtype.</p>\n<p>As a consequence, <strong><code>Vehicle</code> should not have <code>accelerate</code> at all</strong>. If not all vehicles can do it, then it's not part of <code>Vehicle</code>. You may want to introduce a new interface that captures the notion of a vehicle whose speeds <em>can</em> change, which e.g. <code>Car</code> and <code>Bicycle</code> implement, but <code>Train</code> does not. <code>accelerate</code> should be in that interface.</p>\n<p>There is now no need for <code>TrainSpeedChangeException</code> - because the <code>Train</code> class isn't going to have an <code>accelerate</code> method <em>at all</em>.</p>\n<p>You're falling afoul of these rules when you write an implementation of a method whose body consists solely of a single <code>throw</code> clause.</p>\n<p>Note that the JVM/java core libs themselves don't fully follow this: It's not a law, it's a principle. For example, immutable lists still have an <code>add</code> method whose body simply <code>throw new UnsupportedOperationException()</code></p>\n<h2>The relationship between checked and unchecked exceptions</h2>\n<p>If it is plausible that a certain exception cannot occur unless a bug has been programmed, then <strong>that should never be a checked exception</strong>. The reason should be obvious - if you want to 'catch' bugs, then obviously you have to catch the runtimeexceptions (just about every -caused-by-bug- exception the JVM itself throws as runtimeexceptions, such as NullPointerException). Having to write <code>catch (SomeExceptionThatCannotOccurUnlessBugs)</code> everywhere is pointless, and what do you put in the catch block anyway? A log statement? A runtime exception that bubbles up the top results in that anyway, or if it doesn't, you have bigger problems.</p>\n<p>The Java core libs itself do apply this rule: <code>UnsupportedOperationException</code> is a RuntimeException (meaning, you don't need to declare it in your <code>throws</code> clauses).</p>\n<h2>exception hierarchies</h2>\n<p>Whenever you grow a cavalcade of checked exceptions, it is virtually always correct to introduce a type in the type hierarchy to cover all of it. The core libs do this too - the security (cryptography)-related APIs have a ton of checked exceptions (key is in the wrong format, that algorithm does not exist, the input doesn't fit the expected format, and so on), and they <em>all</em> <code>extends GeneralSecurityException</code> so that code that wants to react to some sort of problem with the config of the crypto but not any <em>particular</em> problem, can simply catch GSE.</p>\n<p>IOExceptions are the same way. There's exception types to cover 'that file does not exist', 'this process does not have the required access rights to do that', 'the disk is full', 'that channel is already closed', 'the other side hung up', 'the entire network card went offline', and a hundred more such specifics, and they <em>all</em> are declared as e.g. <code>public class NoSuchFileException extends IOException {}</code> so that you can choose: If you want to specifically detect file-not-found, catch NSFEx, if you want to have a fallback handler for any I/O problem, catch the more general IOEx.</p>\n<h2>Some closing notes</h2>\n<p>Exceptions that ever show up in a log are generally <em>always</em> a dire situation. Therefore, by convention, <strong>do not</strong> make exception messages all caps, and <strong>do not</strong> include punctuation at the end of them. <em>Especially</em> exclamation points. Don't do that.</p>\n<p>You can catch multiple exception types in one catch:</p>\n<pre><code>try {\n ...\n} catch (ExceedSpeedLimit | NotEnoughSpeed e) {\n  throw e;\n} ...\n</code></pre>\n<p>.. not that you still need this construct if you apply the rules above.</p>\n<p>Also, exceptions by convention end in the word <code>Exception</code>. (And anything that extends <code>Error</code>  ends in <code>Error</code>. Don't let anything extend <code>Throwable</code> directly unless they do not convey the notion of errors or extraordinary exits of methods but are instead low-level control flow constructs, which you should almost never do (using throwables for control flow is usually a bad idea), but if you must - extend <code>Throwable</code> and there are no particular rules about what such types should use for names.</p>\n"},{"comments":[{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":0,"creation_date":1682345668,"post_id":76091628,"comment_id":134196084,"body_markdown":"Yep, the unchecked Exception would be the right choice. Thank you for providing another solution! This helped me to have a deeper understanding of the use of Exception.","body":"Yep, the unchecked Exception would be the right choice. Thank you for providing another solution! This helped me to have a deeper understanding of the use of Exception."}],"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682338062,"creation_date":1682337622,"answer_id":76091628,"question_id":76091367,"body_markdown":"You may introduce a common Exception type, \r\n\r\n```\r\nclass AccelerationException extends Exception {}\r\n```\r\nand then subclass the other exceptions from that.\r\n```\r\nclass ExceedSpeedLimit extends AccelerationException {}\r\nclass NotEnoughSpeed extends AccelerationException {}\r\nclass TrainSpeedChange extends AccelerationException {}\r\n```\r\n\r\nYou can then declare `accelerate` to throw the super type.\r\n\r\n```   \r\nclass Vehicle {\r\n  public int accelerate (int amount) throws AccelerationException { ...}\r\n```\r\nand all `accelerate()&#180;-overrides are allowed to throw a subclass exception.\r\n\r\nYou can then catch either specific exceptions\r\n```\r\npublic int accelerate(int amount) throws ExceedSpeedLimit, NotEnoughSpeed {\r\n try {\r\n   //call super class method to meet potential exceptions\r\n   super.accelerate(amount);\r\n   } catch (ExceedSpeedLimit | NotEnoughSpeed e) {\r\n     throw e;\r\n   } catch (AccelerationException e) {\r\n     // should not happen because the super class doesn&#39;t throw other exceptions\r\n     System.out.println(&quot;BUG! THIS MUST NEVER HAPPEN!&quot;);\r\n   }\r\n   return getSpeed();\r\n }\r\n```\r\n\r\nThe `catch`-clauses are evaluated in order.\r\n\r\nIn fact, if you do it this way, you don&#39;t need to catch an exception in the first place, because you know exactly what exceptions are thrown from the hierarchy.\r\n\r\nAs rzwitserloot notes, it isn&#39;t exactly great to provide a method that doesn&#39;t get implemented in subclasses; if you do this, you may be better off using `java.lang.UnsupportedOperationException` which is what the JDK throws in these situations (an unchecked Exception).","title":"How to manage the Exception thrown from some particular subclasses in Java?","body":"<p>You may introduce a common Exception type,</p>\n<pre><code>class AccelerationException extends Exception {}\n</code></pre>\n<p>and then subclass the other exceptions from that.</p>\n<pre><code>class ExceedSpeedLimit extends AccelerationException {}\nclass NotEnoughSpeed extends AccelerationException {}\nclass TrainSpeedChange extends AccelerationException {}\n</code></pre>\n<p>You can then declare <code>accelerate</code> to throw the super type.</p>\n<pre><code>class Vehicle {\n  public int accelerate (int amount) throws AccelerationException { ...}\n</code></pre>\n<p>and all `accelerate()´-overrides are allowed to throw a subclass exception.</p>\n<p>You can then catch either specific exceptions</p>\n<pre><code>public int accelerate(int amount) throws ExceedSpeedLimit, NotEnoughSpeed {\n try {\n   //call super class method to meet potential exceptions\n   super.accelerate(amount);\n   } catch (ExceedSpeedLimit | NotEnoughSpeed e) {\n     throw e;\n   } catch (AccelerationException e) {\n     // should not happen because the super class doesn't throw other exceptions\n     System.out.println(&quot;BUG! THIS MUST NEVER HAPPEN!&quot;);\n   }\n   return getSpeed();\n }\n</code></pre>\n<p>The <code>catch</code>-clauses are evaluated in order.</p>\n<p>In fact, if you do it this way, you don't need to catch an exception in the first place, because you know exactly what exceptions are thrown from the hierarchy.</p>\n<p>As rzwitserloot notes, it isn't exactly great to provide a method that doesn't get implemented in subclasses; if you do this, you may be better off using <code>java.lang.UnsupportedOperationException</code> which is what the JDK throws in these situations (an unchecked Exception).</p>\n"}],"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76091623,"answer_count":3,"score":0,"last_activity_date":1682338062,"creation_date":1682335433,"question_id":76091367,"body_markdown":"This confusion comes from when I finish my homework. I have tried to give a solution (at the end of this question) but I think it might be a bit fair-fetched. So I was wondering if there&#39;s a more elegant solution.\r\n```\r\n//Superclass\r\npublic class Vehicle {\r\n    private int speedLimit;\r\n    private int speed;\r\n\r\n    ...some methods and attributes ignored here...\r\n\r\n    public int accelerate (int amount) throws ExceedSpeedLimit, NotEnoughSpeed, TrainSpeedChange{\r\n    //over limit\r\n\tif(speed + amount &gt; speedLimit)\r\n\t\tthrow new ExceedSpeedLimit(&quot;Current speed is &quot; + speed + &quot;. Accelerate &quot; + amount + &quot; will exceed the speed limit!&quot;);\r\n\t//less than 0\r\n\tif(speed + amount &lt; 0)\r\n\t\tthrow new NotEnoughSpeed(&quot;Current speed is &quot; + speed + &quot;, not enough speed to decelerate!&quot;);\r\n\t//valid value of amount\r\n\telse {\r\n\t\tspeed += amount;\r\n\t\treturn speed;\r\n\t}\r\n}\r\n```\r\nThere are two subclasses inherited from **Vehicle**, called **Car** and **AirCraft**. The method *accelerate* is not overriden by thoses two subclasses.\r\n\r\nThere is another special subclass inherited from **Vehicle**, called **Train**. \r\n```\r\npublic class Train extends Vehicle{\r\n    ...some methods ignored here...\r\n    @Override\r\n\tpublic int accelerate(int amount) throws TrainSpeedChange{\r\n\t\tthrow new TrainSpeedChange(&quot;Do not try to accelerate or decelerate the train!&quot;);\r\n\t}\r\n}\r\n```\r\nThe **Train** is not allowed to change speed, which realized by throwing an Exception when corresponding method is called. \r\n\r\nThis force the parent class&#39;s *accelerate* method to declare that it might throw the *TrainSpeedChange* exception.\r\n\r\nTherefore, an exception catch (TrainSpeedChange) must be included in the try-catch when testing the *acceleration* method of the **Car** and **AirCraft**, but I think this is unreasonable, because the **Car** and **AirCraft** will never throw this exception, and my solution is:\r\n```\r\npublic class Car extends Vehicle{\r\n    ...some methods ignored here....\r\n    //override to narrow the range of exceptions will be thrown\r\n\t@Override\r\n    public int accelerate(int amount) throws ExceedSpeedLimit, NotEnoughSpeed {\r\n        try {\r\n        \t//call super class method to meet potential exceptions\r\n            super.accelerate(amount);\r\n        } catch (ExceedSpeedLimit e) {\r\n            throw e;\r\n        } catch (NotEnoughSpeed e) {\r\n            throw e;\r\n          //never happen because this exception only occurs in Train class\r\n        } catch (TrainSpeedChange e) {\r\n        \tSystem.out.println(&quot;BUG! THIS MUST NEVER HAPPEN!&quot;);\r\n        }\r\n        return getSpeed();\r\n    }\r\n}\r\n```\r\nAlthough I have passed the test code, I don&#39;t know whether it is reasonable to do so, because it is a bit like solving the problem for the sake of solving the problem. Is there an easier solution? \r\n\r\nI&#39;m sorry my question was a little long, because I wanted to be as clear as possible\r\n\r\n","title":"How to manage the Exception thrown from some particular subclasses in Java?","body":"<p>This confusion comes from when I finish my homework. I have tried to give a solution (at the end of this question) but I think it might be a bit fair-fetched. So I was wondering if there's a more elegant solution.</p>\n<pre><code>//Superclass\npublic class Vehicle {\n    private int speedLimit;\n    private int speed;\n\n    ...some methods and attributes ignored here...\n\n    public int accelerate (int amount) throws ExceedSpeedLimit, NotEnoughSpeed, TrainSpeedChange{\n    //over limit\n    if(speed + amount &gt; speedLimit)\n        throw new ExceedSpeedLimit(&quot;Current speed is &quot; + speed + &quot;. Accelerate &quot; + amount + &quot; will exceed the speed limit!&quot;);\n    //less than 0\n    if(speed + amount &lt; 0)\n        throw new NotEnoughSpeed(&quot;Current speed is &quot; + speed + &quot;, not enough speed to decelerate!&quot;);\n    //valid value of amount\n    else {\n        speed += amount;\n        return speed;\n    }\n}\n</code></pre>\n<p>There are two subclasses inherited from <strong>Vehicle</strong>, called <strong>Car</strong> and <strong>AirCraft</strong>. The method <em>accelerate</em> is not overriden by thoses two subclasses.</p>\n<p>There is another special subclass inherited from <strong>Vehicle</strong>, called <strong>Train</strong>.</p>\n<pre><code>public class Train extends Vehicle{\n    ...some methods ignored here...\n    @Override\n    public int accelerate(int amount) throws TrainSpeedChange{\n        throw new TrainSpeedChange(&quot;Do not try to accelerate or decelerate the train!&quot;);\n    }\n}\n</code></pre>\n<p>The <strong>Train</strong> is not allowed to change speed, which realized by throwing an Exception when corresponding method is called.</p>\n<p>This force the parent class's <em>accelerate</em> method to declare that it might throw the <em>TrainSpeedChange</em> exception.</p>\n<p>Therefore, an exception catch (TrainSpeedChange) must be included in the try-catch when testing the <em>acceleration</em> method of the <strong>Car</strong> and <strong>AirCraft</strong>, but I think this is unreasonable, because the <strong>Car</strong> and <strong>AirCraft</strong> will never throw this exception, and my solution is:</p>\n<pre><code>public class Car extends Vehicle{\n    ...some methods ignored here....\n    //override to narrow the range of exceptions will be thrown\n    @Override\n    public int accelerate(int amount) throws ExceedSpeedLimit, NotEnoughSpeed {\n        try {\n            //call super class method to meet potential exceptions\n            super.accelerate(amount);\n        } catch (ExceedSpeedLimit e) {\n            throw e;\n        } catch (NotEnoughSpeed e) {\n            throw e;\n          //never happen because this exception only occurs in Train class\n        } catch (TrainSpeedChange e) {\n            System.out.println(&quot;BUG! THIS MUST NEVER HAPPEN!&quot;);\n        }\n        return getSpeed();\n    }\n}\n</code></pre>\n<p>Although I have passed the test code, I don't know whether it is reasonable to do so, because it is a bit like solving the problem for the sake of solving the problem. Is there an easier solution?</p>\n<p>I'm sorry my question was a little long, because I wanted to be as clear as possible</p>\n"},{"tags":["java","spring","jpa","spring-data"],"comments":[{"owner":{"account_id":2509230,"reputation":1396,"user_id":4576274,"display_name":"Pramod"},"score":1,"creation_date":1525840716,"post_id":50245477,"comment_id":87508626,"body_markdown":"Can you add the interface where you are adding CrudRepository? Also, add the error you are getting.","body":"Can you add the interface where you are adding CrudRepository? Also, add the error you are getting."},{"owner":{"account_id":2803565,"reputation":641,"user_id":2411290,"accept_rate":68,"display_name":"user2411290"},"score":0,"creation_date":1525841151,"post_id":50245477,"comment_id":87508737,"body_markdown":"Just did that...The error is that it cannot resolve CrudRepository. Once I looked deeper into this, I saw that I could not import org.springframework.data","body":"Just did that...The error is that it cannot resolve CrudRepository. Once I looked deeper into this, I saw that I could not import org.springframework.data"},{"owner":{"account_id":2509230,"reputation":1396,"user_id":4576274,"display_name":"Pramod"},"score":0,"creation_date":1525844377,"post_id":50245477,"comment_id":87509817,"body_markdown":"Yes, it has to be related to spring vresion as CrudRepository was added in spring 2.0.1 release.","body":"Yes, it has to be related to spring vresion as CrudRepository was added in spring 2.0.1 release."},{"owner":{"account_id":12853626,"reputation":91,"user_id":9297657,"display_name":"Joseph Gonzales"},"score":0,"creation_date":1525862906,"post_id":50245477,"comment_id":87520111,"body_markdown":"where you able to succesfully maven build your project? and verify that the jpa jar file is indeed exist in your .m2 folder","body":"where you able to succesfully maven build your project? and verify that the jpa jar file is indeed exist in your .m2 folder"}],"answers":[{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545034473,"creation_date":1525866877,"answer_id":50252748,"question_id":50245477,"body_markdown":"Add the Annotation to your DAO and it should be interface not class,\r\n\r\n    @Repository\r\n    public interface CheeseDao extends JpaRepository&lt;Cheese, Integer&gt; {\r\n\r\n    }\r\n\r\nHowever, I would recommend you to use `JpaRepository` instead of `CrudRepository`. For details see [this stackoverflow thread][1].\r\n\r\nNow you can access them from any spring annotated class like below,\r\n\r\n    @Autowired\r\n    private CheeseDao cheeseDao;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14025100/7538821","title":"Cannot access org.springframework.data from my Java Classes","body":"<p>Add the Annotation to your DAO and it should be interface not class,</p>\n\n<pre><code>@Repository\npublic interface CheeseDao extends JpaRepository&lt;Cheese, Integer&gt; {\n\n}\n</code></pre>\n\n<p>However, I would recommend you to use <code>JpaRepository</code> instead of <code>CrudRepository</code>. For details see <a href=\"https://stackoverflow.com/a/14025100/7538821\">this stackoverflow thread</a>.</p>\n\n<p>Now you can access them from any spring annotated class like below,</p>\n\n<pre><code>@Autowired\nprivate CheeseDao cheeseDao;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13429079,"reputation":11,"user_id":9689404,"display_name":"Phạm Ph&#250;c"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545150129,"creation_date":1545150129,"answer_id":53837200,"question_id":50245477,"body_markdown":"It seem like you missing hibernate entity dependency, to resolve just add dependency below\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Cannot access org.springframework.data from my Java Classes","body":"<p>It seem like you missing hibernate entity dependency, to resolve just add dependency below</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3666650,"reputation":1010,"user_id":3054905,"display_name":"psmagin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576494355,"creation_date":1576494355,"answer_id":59355379,"question_id":50245477,"body_markdown":"Replace \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwith \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Cannot access org.springframework.data from my Java Classes","body":"<p>Replace </p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>with </p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19920345,"reputation":106,"user_id":14776132,"display_name":"Emesson Cavalcante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627413717,"creation_date":1627413717,"answer_id":68550683,"question_id":50245477,"body_markdown":"Instead of\r\n\r\n    package com.example.demo.models;\r\n    import com.example.demo.models.Cheese;\r\n    \r\n    \r\n    public class CheeseDao extends CrudRepository&lt;Cheese, Integer&gt; {\r\n    }\r\n\r\ntry\r\n\r\n    package com.example.demo.models;\r\n    import com.example.demo.models.Cheese;\r\n    \r\n    \r\n    public class CheeseDao extends CrudRepository&lt;Object, Integer&gt; {\r\n    }\r\n\r\nThe CrudRepository&lt;&gt; expects types.","title":"Cannot access org.springframework.data from my Java Classes","body":"<p>Instead of</p>\n<pre><code>package com.example.demo.models;\nimport com.example.demo.models.Cheese;\n\n\npublic class CheeseDao extends CrudRepository&lt;Cheese, Integer&gt; {\n}\n</code></pre>\n<p>try</p>\n<pre><code>package com.example.demo.models;\nimport com.example.demo.models.Cheese;\n\n\npublic class CheeseDao extends CrudRepository&lt;Object, Integer&gt; {\n}\n</code></pre>\n<p>The CrudRepository&lt;&gt; expects types.</p>\n"}],"owner":{"account_id":2803565,"reputation":641,"user_id":2411290,"accept_rate":68,"display_name":"user2411290"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1682337975,"creation_date":1525839748,"question_id":50245477,"body_markdown":"I&#39;m working on an online tutorial, and in the step where I need to work with databases and add jpa, I cannot access it in my project.\r\n\r\nI have successfully put the dependency in my pom.xml file, and have received no errors. I was also able to access spring jpa through my application.properties file. The problem is that when I wanted to extend CrudRepository, it wasn&#39;t being recognized...I then realized that when I went to manually import, it would not import org.springframework.data. \r\n\r\nI have maven set to always update snapshots.\r\n\r\n\r\nHere is my pom.xml file. I apologize for the formatting, but I couldn&#39;t get it to all appear on stackoverflow with the correct formatting from intellij:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/\tXMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/\tmaven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo3&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;demo3&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;properties&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;    \r\n\r\n\r\nAnd my &#39;application.properties&#39; file:\r\n\r\n\r\n    spring.datasource.url=***    \r\n    spring.datasource.username=***\r\n    spring.datasource.password=***\r\n    \r\n    spring.jpa.database=MYSQL\r\n    \r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    spring.jpa.show-sql=false\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\nCheese class:\r\n\r\n    package com.example.demo.models;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    @Entity\r\n    public class Cheese {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n    \r\n        @NotNull\r\n        @Size(min=3, max=20)\r\n        private String name;\r\n    \r\n        @NotNull\r\n        @Size(min=1, message = &quot;Description must not be empty&quot;)\r\n        private String description;\r\n    \r\n    \r\n        public Cheese(String name, String description) {\r\n            this.name = name;\r\n            this.description = description;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\n\r\n\r\nCheeseDao (interface using Spring Data/CrudRepository)\r\n\r\n    package com.example.demo.models;\r\n    import com.example.demo.models.Cheese;\r\n    \r\n    \r\n    public class CheeseDao extends CrudRepository&lt;Cheese, Integer&gt; {\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Cannot access org.springframework.data from my Java Classes","body":"<p>I'm working on an online tutorial, and in the step where I need to work with databases and add jpa, I cannot access it in my project.</p>\n\n<p>I have successfully put the dependency in my pom.xml file, and have received no errors. I was also able to access spring jpa through my application.properties file. The problem is that when I wanted to extend CrudRepository, it wasn't being recognized...I then realized that when I went to manually import, it would not import org.springframework.data. </p>\n\n<p>I have maven set to always update snapshots.</p>\n\n<p>Here is my pom.xml file. I apologize for the formatting, but I couldn't get it to all appear on stackoverflow with the correct formatting from intellij:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/   XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/  maven-4.0.0.xsd\"&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo3&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;demo3&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n&lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>    </p>\n\n<p>And my 'application.properties' file:</p>\n\n<pre><code>spring.datasource.url=***    \nspring.datasource.username=***\nspring.datasource.password=***\n\nspring.jpa.database=MYSQL\n\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.show-sql=false\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n\n<p>Cheese class:</p>\n\n<pre><code>package com.example.demo.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\n@Entity\npublic class Cheese {\n\n    @Id\n    @GeneratedValue\n    private int id;\n\n    @NotNull\n    @Size(min=3, max=20)\n    private String name;\n\n    @NotNull\n    @Size(min=1, message = \"Description must not be empty\")\n    private String description;\n\n\n    public Cheese(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n\n<p>CheeseDao (interface using Spring Data/CrudRepository)</p>\n\n<pre><code>package com.example.demo.models;\nimport com.example.demo.models.Cheese;\n\n\npublic class CheeseDao extends CrudRepository&lt;Cheese, Integer&gt; {\n}\n</code></pre>\n"},{"tags":["java","hadoop","hive","bigdata"],"answers":[{"comments":[{"owner":{"account_id":6500622,"reputation":298,"user_id":5031590,"display_name":"toien"},"score":0,"creation_date":1596975231,"post_id":58405426,"comment_id":111977678,"body_markdown":"same problem on osx 10.15.4, looks like `resource.getTimestamp()` drop miliseconds which `FileStatus` hold","body":"same problem on osx 10.15.4, looks like <code>resource.getTimestamp()</code> drop miliseconds which <code>FileStatus</code> hold"}],"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571197250,"creation_date":1571197250,"answer_id":58405426,"question_id":58300578,"body_markdown":"I still didn&#39;t know why the timestamp of resource file is inconsistent and there isn&#39;t a way to fix it in configuration way, AFAIK.\r\n\r\nHowever, I managed to find a workaround to skip the issue. Let me summarize it here for anyone who might run into same issue. \r\n\r\nBy checking error log and search it at `Hadoop` source code, we can trace the issue at `hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/FSDownload.java`.\r\n\r\nJust remove the exception throwing statements,\r\n\r\n      private void verifyAndCopy(Path destination)\r\n          throws IOException, YarnException {\r\n        final Path sCopy;\r\n        try {\r\n          sCopy = resource.getResource().toPath();\r\n        } catch (URISyntaxException e) {\r\n          throw new IOException(&quot;Invalid resource&quot;, e);\r\n        }\r\n        FileSystem sourceFs = sCopy.getFileSystem(conf);\r\n        FileStatus sStat = sourceFs.getFileStatus(sCopy);\r\n        if (sStat.getModificationTime() != resource.getTimestamp()) {\r\n                /**\r\n          throw new IOException(&quot;Resource &quot; + sCopy +\r\n              &quot; changed on src filesystem (expected &quot; + resource.getTimestamp() +\r\n              &quot;, was &quot; + sStat.getModificationTime());\r\n              **/\r\n                LOG.debug(&quot;[Gearon][Info] The timestamp is not consistent among resource files.\\n&quot; +\r\n                                &quot;Stop throwing exception . It doesn&#39;t affect other modules. &quot;);\r\n        }\r\n        if (resource.getVisibility() == LocalResourceVisibility.PUBLIC) {\r\n          if (!isPublic(sourceFs, sCopy, sStat, statCache)) {\r\n            throw new IOException(&quot;Resource &quot; + sCopy +\r\n                &quot; is not publicly accessible and as such cannot be part of the&quot; +\r\n                &quot; public cache.&quot;);\r\n          }\r\n        }\r\n    \r\n        downloadAndUnpack(sCopy, destination);\r\n      }\r\n\r\nBuild `hadoop-yarn-project` and copy &#39;hadoop-yarn-common-x.x.x.jar` to `$HADOOP_HOME/share/hadoop/yarn`.\r\n\r\nLeave this thread here and thanks for any further explanation about how to fix it without changing `hadoop` source. \r\n","title":"How to fix resource changed on src filesystem issue","body":"<p>I still didn't know why the timestamp of resource file is inconsistent and there isn't a way to fix it in configuration way, AFAIK.</p>\n\n<p>However, I managed to find a workaround to skip the issue. Let me summarize it here for anyone who might run into same issue. </p>\n\n<p>By checking error log and search it at <code>Hadoop</code> source code, we can trace the issue at <code>hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/FSDownload.java</code>.</p>\n\n<p>Just remove the exception throwing statements,</p>\n\n<pre><code>  private void verifyAndCopy(Path destination)\n      throws IOException, YarnException {\n    final Path sCopy;\n    try {\n      sCopy = resource.getResource().toPath();\n    } catch (URISyntaxException e) {\n      throw new IOException(\"Invalid resource\", e);\n    }\n    FileSystem sourceFs = sCopy.getFileSystem(conf);\n    FileStatus sStat = sourceFs.getFileStatus(sCopy);\n    if (sStat.getModificationTime() != resource.getTimestamp()) {\n            /**\n      throw new IOException(\"Resource \" + sCopy +\n          \" changed on src filesystem (expected \" + resource.getTimestamp() +\n          \", was \" + sStat.getModificationTime());\n          **/\n            LOG.debug(\"[Gearon][Info] The timestamp is not consistent among resource files.\\n\" +\n                            \"Stop throwing exception . It doesn't affect other modules. \");\n    }\n    if (resource.getVisibility() == LocalResourceVisibility.PUBLIC) {\n      if (!isPublic(sourceFs, sCopy, sStat, statCache)) {\n        throw new IOException(\"Resource \" + sCopy +\n            \" is not publicly accessible and as such cannot be part of the\" +\n            \" public cache.\");\n      }\n    }\n\n    downloadAndUnpack(sCopy, destination);\n  }\n</code></pre>\n\n<p>Build <code>hadoop-yarn-project</code> and copy 'hadoop-yarn-common-x.x.x.jar<code>to</code>$HADOOP_HOME/share/hadoop/yarn`.</p>\n\n<p>Leave this thread here and thanks for any further explanation about how to fix it without changing <code>hadoop</code> source. </p>\n"},{"tags":[],"owner":{"account_id":7008529,"reputation":519,"user_id":5372194,"display_name":"Prabhat jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614292523,"creation_date":1614204937,"answer_id":66359595,"question_id":58300578,"body_markdown":"I had to do the same , this should be configurable, even small latency will fail the execution, this might happen, if one changes the hadoop file system to use s3 and run MR program , Note* please make sure, you are using same jdk version to generate the jar as mentioned in apache hadoop docs for your hadoop version, else you might run into errors. ","title":"How to fix resource changed on src filesystem issue","body":"<p>I had to do the same , this should be configurable, even small latency will fail the execution, this might happen, if one changes the hadoop file system to use s3 and run MR program , Note* please make sure, you are using same jdk version to generate the jar as mentioned in apache hadoop docs for your hadoop version, else you might run into errors.</p>\n"},{"tags":[],"owner":{"account_id":6068542,"reputation":109,"user_id":4738095,"accept_rate":80,"display_name":"Edoardo Basili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682337745,"creation_date":1682337745,"answer_id":76091649,"question_id":58300578,"body_markdown":"You can actually fix this just by manually setting the date back to the previous value. E.g. using [touch](https://man7.org/linux/man-pages/man1/touch.1.html) command with `-t STAMP` or `-d DATE` option:\r\n\r\n    sudo touch -d &#39;07 Apr 2022 11:12:30.000 +0000&#39; &#39;&lt;path_to_file&gt;&#39;\r\n","title":"How to fix resource changed on src filesystem issue","body":"<p>You can actually fix this just by manually setting the date back to the previous value. E.g. using <a href=\"https://man7.org/linux/man-pages/man1/touch.1.html\" rel=\"nofollow noreferrer\">touch</a> command with <code>-t STAMP</code> or <code>-d DATE</code> option:</p>\n<pre><code>sudo touch -d '07 Apr 2022 11:12:30.000 +0000' '&lt;path_to_file&gt;'\n</code></pre>\n"}],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682337745,"creation_date":1570611788,"question_id":58300578,"body_markdown":"I&#39;m trying to use `Hive` on MR executing `SQL` and it fails half way with errors below:  \r\n\r\n    Application application_1570514228864_0001 failed 2 times due to AM Container for appattempt_1570514228864_0001_000002 exited with exitCode: -1000\r\n    Failing this attempt.Diagnostics: [2019-10-08 13:57:49.272]Failed to download resource { { s3a://tpcds/tmp/hadoop-yarn/staging/root/.staging/job_1570514228864_0001/libjars, 1570514262820, FILE, null },pending,[(container_1570514228864_0001_02_000001)],1132444167207544,DOWNLOADING} java.io.IOException: Resource s3a://tpcds/tmp/hadoop-yarn/staging/root/.staging/job_1570514228864_0001/libjars changed on src filesystem (expected 1570514262820, was 1570514269265\r\n    \r\n\r\nThe key message from the error log from my perspective is `libjars changed on src filesystem (expected 1570514262820, was 1570514269265`. There are several threads about this issue at SO but not been answered yet, like [thread1][1] and [thread2][2].  \r\n\r\nI found something valuable from [apache jira][3] and [redhat bugzilla][4]. I synced clock by `NTP` through all nodes related. But same issue is still there. \r\n\r\nAny comment is welcomed, thx. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48503108/oozie-yarn-resource-changed-on-src-filesystem\r\n  [2]: https://stackoverflow.com/questions/39820365/spark-jobs-failing-because-hdfs-is-caching-jars\r\n  [3]: https://issues.apache.org/jira/browse/MAPREDUCE-3931\r\n  [4]: https://bugzilla.redhat.com/show_bug.cgi?id=1182628","title":"How to fix resource changed on src filesystem issue","body":"<p>I'm trying to use <code>Hive</code> on MR executing <code>SQL</code> and it fails half way with errors below:  </p>\n\n<pre><code>Application application_1570514228864_0001 failed 2 times due to AM Container for appattempt_1570514228864_0001_000002 exited with exitCode: -1000\nFailing this attempt.Diagnostics: [2019-10-08 13:57:49.272]Failed to download resource { { s3a://tpcds/tmp/hadoop-yarn/staging/root/.staging/job_1570514228864_0001/libjars, 1570514262820, FILE, null },pending,[(container_1570514228864_0001_02_000001)],1132444167207544,DOWNLOADING} java.io.IOException: Resource s3a://tpcds/tmp/hadoop-yarn/staging/root/.staging/job_1570514228864_0001/libjars changed on src filesystem (expected 1570514262820, was 1570514269265\n</code></pre>\n\n<p>The key message from the error log from my perspective is <code>libjars changed on src filesystem (expected 1570514262820, was 1570514269265</code>. There are several threads about this issue at SO but not been answered yet, like <a href=\"https://stackoverflow.com/questions/48503108/oozie-yarn-resource-changed-on-src-filesystem\">thread1</a> and <a href=\"https://stackoverflow.com/questions/39820365/spark-jobs-failing-because-hdfs-is-caching-jars\">thread2</a>.  </p>\n\n<p>I found something valuable from <a href=\"https://issues.apache.org/jira/browse/MAPREDUCE-3931\" rel=\"nofollow noreferrer\">apache jira</a> and <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1182628\" rel=\"nofollow noreferrer\">redhat bugzilla</a>. I synced clock by <code>NTP</code> through all nodes related. But same issue is still there. </p>\n\n<p>Any comment is welcomed, thx. </p>\n"},{"tags":["java","maven","guice","tomcat10"],"owner":{"account_id":27927262,"reputation":1,"user_id":21326095,"display_name":"shri tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682337618,"creation_date":1682337618,"question_id":76091626,"body_markdown":"i have to deplot my project on tomcat while doing getting this error in Tomacat localhost log \r\n\r\ngetting this error\r\n\r\n\r\n```\r\n24-Apr-2023 12:46:55.936 SEVERE [main] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [guiceFilter]\r\n\tjava.lang.ClassCastException: class com.google.inject.servlet.GuiceFilter cannot be cast to class jakarta.servlet.Filter (com.google.inject.servlet.GuiceFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @e383572; jakarta.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @2ef1e4fa)\r\n\t\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:243)\r\n\t\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:98)\r\n\t\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4918)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:641)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1927)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:534)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:424)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nava.util.logging.ErrorManager: 5\r\njava.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n\tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n\tat org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:269)\r\n\r\n```\r\n\r\n\r\n\r\nin Web.xml i define guicefilter\r\n\r\n`\r\n    &lt;display-name&gt;StudenceManagementServerApp&lt;/display-name&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\r\n        &lt;async-supported&gt;true&lt;/async-supported&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.tiwari.studence.app.module.StudenceServletContextListener\r\n        &lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n&lt;/web-app&gt;`\r\n\r\nHow to overcome with this error i am running in Tomcat 10 in local while deploying it throws error  class cast exception ","title":"java.lang.ClassCastException: class com.google.inject.servlet.GuiceFilter cannot be cast to class jakarta.servlet.Filter","body":"<p>i have to deplot my project on tomcat while doing getting this error in Tomacat localhost log</p>\n<p>getting this error</p>\n<pre><code>24-Apr-2023 12:46:55.936 SEVERE [main] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [guiceFilter]\n    java.lang.ClassCastException: class com.google.inject.servlet.GuiceFilter cannot be cast to class jakarta.servlet.Filter (com.google.inject.servlet.GuiceFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @e383572; jakarta.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @2ef1e4fa)\n        at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:243)\n        at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:98)\n        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4918)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:641)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1927)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:534)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:424)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nava.util.logging.ErrorManager: 5\njava.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:269)\n\n</code></pre>\n<p>in Web.xml i define guicefilter</p>\n<p>`\nStudenceManagementServerApp</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\n    &lt;async-supported&gt;true&lt;/async-supported&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;com.tiwari.studence.app.module.StudenceServletContextListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>`</p>\n<p>How to overcome with this error i am running in Tomcat 10 in local while deploying it throws error  class cast exception</p>\n"},{"tags":["java","cron","scheduled-tasks","scheduler","crontrigger"],"answers":[{"comments":[{"owner":{"account_id":11660303,"reputation":352,"user_id":8538816,"display_name":"sree1611"},"score":0,"creation_date":1682420982,"post_id":76091613,"comment_id":134209033,"body_markdown":"Even if I use &quot;America/Montreal&quot;, it is not executing on FRIDAY when application is running on CET time zone","body":"Even if I use &quot;America/Montreal&quot;, it is not executing on FRIDAY when application is running on CET time zone"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682423100,"post_id":76091613,"comment_id":134209530,"body_markdown":"Well, it works as expected. Friday 23:55 in Montreal is Saturday 05:55 in Central Europe. You should use the same time zone for the CRON configuration and for the application.","body":"Well, it works as expected. Friday 23:55 in Montreal is Saturday 05:55 in Central Europe. You should use the same time zone for the CRON configuration and for the application."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682337534,"creation_date":1682337534,"answer_id":76091613,"question_id":76091465,"body_markdown":"&quot;America/Toronto&quot; is not a valid (Java) time zone. For the Canada Eastern Standard Time use &quot;America/Montreal&quot;.","title":"SPRING Cron expression is not working on FRIDAY","body":"<p>&quot;America/Toronto&quot; is not a valid (Java) time zone. For the Canada Eastern Standard Time use &quot;America/Montreal&quot;.</p>\n"}],"owner":{"account_id":11660303,"reputation":352,"user_id":8538816,"display_name":"sree1611"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682337534,"creation_date":1682336311,"question_id":76091465,"body_markdown":"I have to create the batch job which will run based on the time zone.\r\n\r\n```\r\nCronTrigger cronTrigger = new CronTrigger(&quot;0 55 23 ? * MON-FRI&quot;, TimeZone.getTimeZone(&quot;America/Toronto&quot;));\r\ntaskRegistrar.addTriggerTask(() -&gt; lunchJob(job), cronTrigger); \r\n```\r\nThe above program is running on CET time zone\r\nThis is working as expected from Monday to Thursday, not executing on FRIDAY.\r\n\r\nIs it some wrong?","title":"SPRING Cron expression is not working on FRIDAY","body":"<p>I have to create the batch job which will run based on the time zone.</p>\n<pre><code>CronTrigger cronTrigger = new CronTrigger(&quot;0 55 23 ? * MON-FRI&quot;, TimeZone.getTimeZone(&quot;America/Toronto&quot;));\ntaskRegistrar.addTriggerTask(() -&gt; lunchJob(job), cronTrigger); \n</code></pre>\n<p>The above program is running on CET time zone\nThis is working as expected from Monday to Thursday, not executing on FRIDAY.</p>\n<p>Is it some wrong?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1682336723,"post_id":76091280,"comment_id":134193946,"body_markdown":"&quot;After the latest update&quot;   what updates  are you referring? did u make any update to dependencied version","body":"&quot;After the latest update&quot;   what updates  are you referring? did u make any update to dependencied version"},{"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"score":0,"creation_date":1682337596,"post_id":76091280,"comment_id":134194128,"body_markdown":"No, it&#39;s just android studio new version.","body":"No, it&#39;s just android studio new version."},{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1682339981,"post_id":76091280,"comment_id":134194623,"body_markdown":"So are you using canary version or the beta version?","body":"So are you using canary version or the beta version?"},{"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"score":0,"creation_date":1682341127,"post_id":76091280,"comment_id":134194893,"body_markdown":"Android Studio Flamingo","body":"Android Studio Flamingo"}],"answers":[{"comments":[{"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"score":0,"creation_date":1682337628,"post_id":76091563,"comment_id":134194134,"body_markdown":"Unfortunately, nothing changed.","body":"Unfortunately, nothing changed."}],"tags":[],"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682337103,"creation_date":1682337103,"answer_id":76091563,"question_id":76091280,"body_markdown":"This looks like you had added similar dependencies twice, due to which some classes are getting conflicted due to same name\r\n\r\n     implementation &quot;androidx.compose.material:material:1.4.2&quot;\r\n     implementation &quot;androidx.compose.material3:material3-android:1.1.0-beta02&quot;\r\n\r\njust try, removing (or commenting) one of them with sync-build ","title":"After the latest update two errors appeared with (checkDebugDuplicateClasses and mergeDebugJavaResource)","body":"<p>This looks like you had added similar dependencies twice, due to which some classes are getting conflicted due to same name</p>\n<pre><code> implementation &quot;androidx.compose.material:material:1.4.2&quot;\n implementation &quot;androidx.compose.material3:material3-android:1.1.0-beta02&quot;\n</code></pre>\n<p>just try, removing (or commenting) one of them with sync-build</p>\n"}],"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682337103,"creation_date":1682334707,"question_id":76091280,"body_markdown":"The application was working fine, but after the latest update, the two errors below appeared.\r\nI can&#39;t find the solution to this one. If anyone can help,\r\nThank you...\r\n\r\n&gt; Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class androidx.compose.material3.AlertDialogDefaults found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$2$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$2$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$3$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$3$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$4$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogFlowRow$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogFlowRow$1$measure$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AlertDialogKt$AlertDialogFlowRow$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidAlertDialog_androidKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$1$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidMenu_androidKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenu$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenu$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenu$popupPositionProvider$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenuItem$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$BottomAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$BottomAppBar$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$BottomAppBar$3 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$BottomAppBar$4 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$CenterAlignedTopAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$LargeTopAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$MediumTopAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$3 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$actionsRow$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n     Duplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$appBarDragModifier$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\r\n\r\n\r\nThe second error &#39;app:mergeDebugJavaResource&#39;\r\n\r\n&gt; What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugJavaResource&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\r\n   &gt; 2 files found with path &#39;META-INF/androidx.compose.material3_material3.version&#39; from inputs\r\n\r\n\r\n\r\nbuild.gradle\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;kotlin-android-extensions&#39;\r\n    id &#39;kotlin-kapt&#39;\r\n    id &#39;dagger.hilt.android.plugin&#39;\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &quot;androidx.navigation.safeargs.kotlin&quot;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.google.firebase.firebase-perf&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.elto.dateT&#39;\r\n    compileSdk 33\r\n\r\n    buildFeatures {\r\n        compose true\r\n        dataBinding true\r\n        viewBinding true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.elto.dateT&quot;\r\n        minSdk 30\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        renderscriptSupportModeEnabled true\r\n        manifestPlaceholders = [file_provider: &quot;dev.demoserver.com&quot;]\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments += [&quot;room.schemaLocation&quot;:\r\n                                     &quot;$projectDir/schemas&quot;.toString()]\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        benchmark {\r\n            signingConfig signingConfigs.debug\r\n            matchingFallbacks = [&#39;release&#39;]\r\n            debuggable false\r\n        }\r\n    }\r\n    viewBinding {\r\n        enabled = true\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerVersion &quot;1.5.10&quot;\r\n        kotlinCompilerExtensionVersion = &quot;1.4.0-alpha02&quot;\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n\r\n    implementation &#39;androidx.navigation:navigation-fragment-ktx:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui-ktx:2.5.3&#39;\r\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\r\n    implementation &#39;androidx.hilt:hilt-navigation-compose:1.0.0&#39;\r\n    implementation &quot;androidx.compose.ui:ui:1.4.2&quot;\r\n    implementation &quot;androidx.startup:startup-runtime:1.1.1&quot;\r\n    implementation &quot;androidx.ui:ui-tooling:1.0.0-alpha07&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.1&quot;\r\n    implementation &quot;androidx.compose.material:material-icons-extended:1.4.2&quot;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview-selection:1.1.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    //\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.10.0&#39;\r\n    implementation &#39;androidx.test.ext:junit-ktx:1.1.5&#39;\r\n    implementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    implementation project(path: &#39;:mediafacer&#39;)\r\n    // Client + offline + UI components\r\n    implementation &quot;io.getstream:stream-chat-android-ui-components:5.17.0&quot;\r\n    // Client + offline\r\n    implementation &quot;io.getstream:stream-chat-android-offline:5.17.0&quot;\r\n    // Client only\r\n    implementation &quot;io.getstream:stream-chat-android-client:5.17.0&quot;\r\n    implementation(&quot;io.getstream:stream-log:1.1.4&quot;)\r\n    implementation &quot;io.getstream:stream-chat-android-compose:5.17.0&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:1.5.0-alpha03&quot;\r\n    implementation &quot;com.github.skydoves:landscapist-animation:2.1.11&quot;\r\n    implementation &#39;androidx.emoji:emoji-bundled:1.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test:core:1.5.0&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test:runner:1.5.2&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.5.0&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-intents:3.5.1&#39;\r\n\r\n    //Addition\r\n    implementation &#39;com.afollestad.material-dialogs:core:3.3.0&#39;\r\n    implementation &#39;com.afollestad.material-dialogs:color:3.1.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.github.adwardstark:materialtextdrawable-for-android:1.0.0&#39;\r\n    implementation &#39;com.github.jahirfiquitiva:TextDrawable:1.0.3&#39;\r\n    implementation &quot;io.github.l4digital:fastscroll:2.1.0&quot;\r\n    implementation &#39;io.reactivex.rxjava2:rxandroid:2.1.1&#39;\r\n    implementation &#39;io.reactivex.rxjava2:rxjava:2.2.21&#39;\r\n    implementation &#39;io.michaelrocks:libphonenumber-android:8.13.7&#39;\r\n    //implementation &#39;com.1gravity:android-contactpicker:1.4.0&#39;\r\n\r\n    implementation &#39;xyz.danoz:recyclerviewfastscroller:0.1.3&#39;\r\n    implementation(&quot;org.greenrobot:eventbus:3.3.1&quot;)\r\n    implementation &#39;com.devbrackets.android:exomedia:5.0.0-beta01&#39;\r\n\r\n    implementation &quot;androidx.hilt:hilt-navigation-compose:1.1.0-alpha01&quot;\r\n    implementation &quot;com.google.dagger:hilt-android:2.45&quot;\r\n    kapt &quot;com.google.dagger:hilt-compiler:2.42&quot;\r\n    testImplementation(&quot;com.google.dagger:hilt-android-testing:2.33-beta&quot;)\r\n    implementation &quot;androidx.hilt:hilt-compiler:1.0.0&quot;\r\n    implementation &quot;com.google.mlkit:image-labeling:17.0.7&quot;\r\n    implementation &quot;androidx.datastore:datastore:1.0.0&quot;\r\n    implementation &quot;androidx.datastore:datastore-preferences-core:1.0.0&quot;\r\n    implementation &quot;io.coil-kt:coil-compose:2.3.0&quot;\r\n    implementation &quot;com.google.accompanist:accompanist-coil:0.15.0&quot;\r\n    implementation &quot;com.google.accompanist:accompanist-pager:0.30.1&quot;\r\n    implementation &quot;com.google.accompanist:accompanist-pager-indicators:0.30.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n    implementation(&quot;com.google.android.gms:play-services-auth:20.5.0&quot;)\r\n    implementation &quot;androidx.compose.ui:ui:1.4.2&quot;\r\n    implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.1&quot;\r\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\r\n    implementation &quot;com.github.skydoves:landscapist-glide:2.1.11&quot;\r\n    implementation &quot;com.github.skydoves:landscapist-placeholder:2.1.11&quot;\r\n    implementation &quot;com.github.skydoves:retrofit-adapters-result:1.0.6&quot;\r\n    implementation(&quot;com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:1.0.0&quot;)\r\n    implementation(&quot;com.github.skydoves:sealedx-core:1.0.1&quot;)\r\n    implementation &quot;androidx.compose.material:material:1.4.2&quot;\r\n    implementation &quot;androidx.compose.material3:material3-android:1.1.0-beta02&quot;\r\n    implementation &quot;androidx.ui:ui-tooling:1.0.0-alpha07&quot;\r\n    implementation &quot;androidx.compose.runtime:runtime-livedata:1.4.2&quot;\r\n    implementation &quot;androidx.compose.material:material-icons-extended:1.5.0-alpha03&quot;\r\n    implementation &quot;androidx.compose.foundation:foundation:1.5.0-alpha03&quot;\r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n    implementation &#39;com.facebook.shimmer:shimmer:0.5.0&#39;\r\n    implementation &#39;androidx.emoji:emoji:1.2.0-alpha03&#39;\r\n    implementation &#39;androidx.emoji:emoji-bundled:1.1.0&#39;\r\n    implementation &#39;androidx.emoji:emoji-appcompat:1.1.0&#39;\r\n\r\n    implementation &#39;androidx.emoji2:emoji2:1.3.0&#39;\r\n    implementation &#39;androidx.exifinterface:exifinterface:1.3.6&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v13:1.0.0&#39;\r\n    implementation &#39;androidx.preference:preference-ktx:1.2.0&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n    implementation &#39;androidx.work:work-runtime:2.8.1&#39;\r\n    implementation &#39;com.google.mlkit:barcode-scanning:17.1.0&#39;\r\n\r\n    implementation &#39;com.googlecode.libphonenumber:libphonenumber:8.13.8&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n\r\n    implementation &#39;com.dafruits:webrtc:109.0.0&#39;\r\n    implementation &#39;io.nayuki:qrcodegen:1.8.0&#39;\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.2.2&#39;\r\n\r\n    implementation &#39;com.android.installreferrer:installreferrer:2.2&#39;\r\n    implementation &#39;com.google.android.flexbox:flexbox:3.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-oss-licenses:17.0.1&#39;\r\n\r\n    api &#39;com.fasterxml.jackson.core:jackson-databind:2.13.5&#39;\r\n    api &#39;com.fasterxml.jackson.core:jackson-core:2.13.5&#39;\r\n    api &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.5&#39;\r\n    api &#39;org.java-websocket:Java-WebSocket:1.5.3&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &quot;com.android.support:support-emoji-bundled:26.1.0&quot;\r\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    api &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&#39;\r\n    def lifecycle_version = &quot;2.6.1&quot;\r\n    def arch_version = &quot;2.2.0&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-compose:$lifecycle_version&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\r\n\r\n    kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-service:$lifecycle_version&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-process:$lifecycle_version&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-reactivestreams-ktx:$lifecycle_version&quot;\r\n\r\n    testImplementation &quot;androidx.arch.core:core-testing:$arch_version&quot;\r\n\r\n    testImplementation &quot;androidx.lifecycle:lifecycle-runtime-testing:$lifecycle_version&quot;\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&quot;\r\n    \r\n    implementation(&quot;io.coil-kt:coil:2.3.0&quot;)\r\n    implementation(&quot;io.coil-kt:coil-compose:2.3.0&quot;)\r\n    implementation(&quot;io.coil-kt:coil-gif:2.2.1&quot;)\r\n    implementation(&quot;io.coil-kt:coil-svg:2.1.0&quot;)\r\n    implementation(&quot;io.coil-kt:coil-base:2.3.0&quot;)\r\n    implementation(&quot;io.coil-kt:coil-compose-base:2.3.0&quot;)\r\n    implementation(&quot;io.coil-kt:coil-compose:2.3.0&quot;)\r\n\r\n    // Coroutine\r\n    implementation &#39;io.github.ParkSangGwon:tedpermission-coroutine:3.3.0&#39;\r\n    implementation &#39;com.github.vestrel00:contacts-android:0.2.4&#39;\r\n    configurations.implementation {\r\n        exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n    }\r\n    implementation(&quot;com.himanshoe:pluck:1.0.0-RC2&quot;)\r\n    implementation &#39;com.github.jaiselrahman:FilePicker:1.3.2&#39;\r\n    implementation &quot;com.github.skydoves:landscapist-glide:2.1.11&quot;\r\n\r\n    implementation &#39;com.github.alxrm:audiowave-progressbar:0.9.2&#39;\r\n    implementation &#39;com.github.Armen101:AudioRecordView:1.0.5&#39;\r\n    implementation &#39;com.github.GitHubZJY:AudioVisualizeView:v1.0.0&#39;\r\n    implementation  &#39;com.github.massoudss:waveformSeekBar:5.0.2&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;com.github.squti:Android-Wave-Recorder:1.7.0&#39;\r\n    //for AndroidX use:\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation(&quot;io.coil-kt:coil:2.3.0&quot;)\r\n\r\n    kapt &quot;com.android.databinding:compiler:3.1.4&quot;\r\n\r\n    constraints {\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n    }\r\n    kapt &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.20&quot;\r\n    api &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&quot;\r\n    api &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&quot;\r\n\r\n    //glide\r\n    def glide_version = &quot;4.14.2&quot;\r\n    implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n    kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n\r\n    implementation &#39;com.karumi:dexter:6.2.3&#39;\r\n\r\n    implementation(&quot;androidx.room:room-runtime:2.5.1&quot;)\r\n    implementation(&quot;androidx.room:room-ktx:2.5.1&quot;)\r\n    androidTestImplementation(&quot;androidx.room:room-testing:2.5.1&quot;)\r\n    kapt &quot;androidx.room:room-compiler:2.5.1&quot;\r\n\r\n    // Extensions = ViewModel + LiveData\r\n    /*implementation &quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:2.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;*/\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.6.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:4.10.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:4.10.0&#39;\r\n    implementation &quot;androidx.camera:camera-camera2:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-view:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-video:1.2.2&quot;\r\n    implementation &#39;com.jakewharton.timber:timber:5.0.1&#39;\r\n    implementation &#39;pub.devrel:easypermissions:3.0.0&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    implementation &quot;android.arch.lifecycle:extensions:1.1.1&quot;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.6&#39;\r\n    implementation &#39;com.github.JarvanMo:ExoVideoView:2.1.6&#39;\r\n    implementation &quot;com.google.android.exoplayer:exoplayer-core:2.18.6&quot;\r\n    implementation &quot;com.google.android.exoplayer:exoplayer-dash:2.18.6&quot;\r\n    implementation &quot;com.google.android.exoplayer:exoplayer-hls:2.18.6&quot;\r\n    implementation &quot;com.google.android.exoplayer:exoplayer-smoothstreaming:2.18.6&quot;\r\n    implementation &quot;com.google.android.exoplayer:exoplayer-ui:2.18.6&quot;\r\n    implementation &quot;androidx.camera:camera-core:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-camera2:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-video:1.2.2&quot;\r\n    implementation &quot;androidx.camera:camera-view:1.2.2&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-guava:1.6.4&quot;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.6.4&#39;\r\n\r\n    implementation &quot;androidx.profileinstaller:profileinstaller:1.3.0&quot;\r\n    implementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\n    implementation &quot;dev.priyankvasa.android:cameraview-ex:3.5.5-alpha&quot;\r\n    implementation &#39;com.google.firebase:firebase-ml-vision:24.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore-ktx:24.5.0&#39;\r\n    implementation &#39;androidx.browser:browser:1.5.0&#39;  //\r\n    implementation &#39;com.google.firebase:firebase-messaging-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n    implementation &#39;com.google.firebase:firebase-database-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage-ktx&#39;\r\n    // Add the Firebase SDK for Crashlytics.\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.3.6&#39;\r\n}\r\n```","title":"After the latest update two errors appeared with (checkDebugDuplicateClasses and mergeDebugJavaResource)","body":"<p>The application was working fine, but after the latest update, the two errors below appeared.\nI can't find the solution to this one. If anyone can help,\nThank you...</p>\n<blockquote>\n<p>Execution failed for task ':app:checkDebugDuplicateClasses'.\nA failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class androidx.compose.material3.AlertDialogDefaults found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$2$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$2$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$3$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$3$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$1$1$4$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogContent$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogFlowRow$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogFlowRow$1$measure$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AlertDialogKt$AlertDialogFlowRow$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidAlertDialog_androidKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$1$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidAlertDialog_androidKt$AlertDialog$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidMenu_androidKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenu$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenu$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenu$popupPositionProvider$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AndroidMenu_androidKt$DropdownMenuItem$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$BottomAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$BottomAppBar$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$BottomAppBar$3 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$BottomAppBar$4 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$CenterAlignedTopAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$LargeTopAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$MediumTopAppBar$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$2 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$3 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$actionsRow$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)\nDuplicate class androidx.compose.material3.AppBarKt$SingleRowTopAppBar$appBarDragModifier$1$1 found in modules jetified-material3-1.1.0-alpha02-runtime (androidx.compose.material3:material3:1.1.0-alpha02) and jetified-material3-release-runtime (androidx.compose.material3:material3-android:1.1.0-beta02)</p>\n</blockquote>\n<p>The second error 'app:mergeDebugJavaResource'</p>\n<blockquote>\n<p>What went wrong:\nExecution failed for task ':app:mergeDebugJavaResource'.\nA failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\n2 files found with path 'META-INF/androidx.compose.material3_material3.version' from inputs</p>\n</blockquote>\n<p>build.gradle</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-android-extensions'\n    id 'kotlin-kapt'\n    id 'dagger.hilt.android.plugin'\n    id 'com.google.firebase.crashlytics'\n    id 'kotlin-android'\n    id &quot;androidx.navigation.safeargs.kotlin&quot;\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.firebase-perf'\n}\n\nandroid {\n    namespace 'com.elto.dateT'\n    compileSdk 33\n\n    buildFeatures {\n        compose true\n        dataBinding true\n        viewBinding true\n    }\n\n    defaultConfig {\n        applicationId &quot;com.elto.dateT&quot;\n        minSdk 30\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        renderscriptSupportModeEnabled true\n        manifestPlaceholders = [file_provider: &quot;dev.demoserver.com&quot;]\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments += [&quot;room.schemaLocation&quot;:\n                                     &quot;$projectDir/schemas&quot;.toString()]\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n        benchmark {\n            signingConfig signingConfigs.debug\n            matchingFallbacks = ['release']\n            debuggable false\n        }\n    }\n    viewBinding {\n        enabled = true\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    composeOptions {\n        kotlinCompilerVersion &quot;1.5.10&quot;\n        kotlinCompilerExtensionVersion = &quot;1.4.0-alpha02&quot;\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.5.3'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.5.3'\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\n    implementation 'androidx.hilt:hilt-navigation-compose:1.0.0'\n    implementation &quot;androidx.compose.ui:ui:1.4.2&quot;\n    implementation &quot;androidx.startup:startup-runtime:1.1.1&quot;\n    implementation &quot;androidx.ui:ui-tooling:1.0.0-alpha07&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.1&quot;\n    implementation &quot;androidx.compose.material:material-icons-extended:1.4.2&quot;\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview-selection:1.1.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    //\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.google.code.gson:gson:2.9.1'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'androidx.core:core-ktx:1.10.0'\n    implementation 'androidx.test.ext:junit-ktx:1.1.5'\n    implementation 'junit:junit:4.13.2'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation project(path: ':mediafacer')\n    // Client + offline + UI components\n    implementation &quot;io.getstream:stream-chat-android-ui-components:5.17.0&quot;\n    // Client + offline\n    implementation &quot;io.getstream:stream-chat-android-offline:5.17.0&quot;\n    // Client only\n    implementation &quot;io.getstream:stream-chat-android-client:5.17.0&quot;\n    implementation(&quot;io.getstream:stream-log:1.1.4&quot;)\n    implementation &quot;io.getstream:stream-chat-android-compose:5.17.0&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:1.5.0-alpha03&quot;\n    implementation &quot;com.github.skydoves:landscapist-animation:2.1.11&quot;\n    implementation 'androidx.emoji:emoji-bundled:1.1.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n\n    androidTestImplementation 'androidx.test:core:1.5.0'\n\n    androidTestImplementation 'androidx.test:runner:1.5.2'\n    androidTestImplementation 'androidx.test:rules:1.5.0'\n\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-intents:3.5.1'\n\n    //Addition\n    implementation 'com.afollestad.material-dialogs:core:3.3.0'\n    implementation 'com.afollestad.material-dialogs:color:3.1.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.github.adwardstark:materialtextdrawable-for-android:1.0.0'\n    implementation 'com.github.jahirfiquitiva:TextDrawable:1.0.3'\n    implementation &quot;io.github.l4digital:fastscroll:2.1.0&quot;\n    implementation 'io.reactivex.rxjava2:rxandroid:2.1.1'\n    implementation 'io.reactivex.rxjava2:rxjava:2.2.21'\n    implementation 'io.michaelrocks:libphonenumber-android:8.13.7'\n    //implementation 'com.1gravity:android-contactpicker:1.4.0'\n\n    implementation 'xyz.danoz:recyclerviewfastscroller:0.1.3'\n    implementation(&quot;org.greenrobot:eventbus:3.3.1&quot;)\n    implementation 'com.devbrackets.android:exomedia:5.0.0-beta01'\n\n    implementation &quot;androidx.hilt:hilt-navigation-compose:1.1.0-alpha01&quot;\n    implementation &quot;com.google.dagger:hilt-android:2.45&quot;\n    kapt &quot;com.google.dagger:hilt-compiler:2.42&quot;\n    testImplementation(&quot;com.google.dagger:hilt-android-testing:2.33-beta&quot;)\n    implementation &quot;androidx.hilt:hilt-compiler:1.0.0&quot;\n    implementation &quot;com.google.mlkit:image-labeling:17.0.7&quot;\n    implementation &quot;androidx.datastore:datastore:1.0.0&quot;\n    implementation &quot;androidx.datastore:datastore-preferences-core:1.0.0&quot;\n    implementation &quot;io.coil-kt:coil-compose:2.3.0&quot;\n    implementation &quot;com.google.accompanist:accompanist-coil:0.15.0&quot;\n    implementation &quot;com.google.accompanist:accompanist-pager:0.30.1&quot;\n    implementation &quot;com.google.accompanist:accompanist-pager-indicators:0.30.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n    implementation(&quot;com.google.android.gms:play-services-auth:20.5.0&quot;)\n    implementation &quot;androidx.compose.ui:ui:1.4.2&quot;\n    implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.1&quot;\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\n    implementation &quot;com.github.skydoves:landscapist-glide:2.1.11&quot;\n    implementation &quot;com.github.skydoves:landscapist-placeholder:2.1.11&quot;\n    implementation &quot;com.github.skydoves:retrofit-adapters-result:1.0.6&quot;\n    implementation(&quot;com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:1.0.0&quot;)\n    implementation(&quot;com.github.skydoves:sealedx-core:1.0.1&quot;)\n    implementation &quot;androidx.compose.material:material:1.4.2&quot;\n    implementation &quot;androidx.compose.material3:material3-android:1.1.0-beta02&quot;\n    implementation &quot;androidx.ui:ui-tooling:1.0.0-alpha07&quot;\n    implementation &quot;androidx.compose.runtime:runtime-livedata:1.4.2&quot;\n    implementation &quot;androidx.compose.material:material-icons-extended:1.5.0-alpha03&quot;\n    implementation &quot;androidx.compose.foundation:foundation:1.5.0-alpha03&quot;\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\n    implementation 'androidx.emoji:emoji:1.2.0-alpha03'\n    implementation 'androidx.emoji:emoji-bundled:1.1.0'\n    implementation 'androidx.emoji:emoji-appcompat:1.1.0'\n\n    implementation 'androidx.emoji2:emoji2:1.3.0'\n    implementation 'androidx.exifinterface:exifinterface:1.3.6'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n    implementation 'androidx.preference:preference-ktx:1.2.0'\n    implementation 'androidx.vectordrawable:vectordrawable:1.1.0'\n    implementation 'androidx.work:work-runtime:2.8.1'\n    implementation 'com.google.mlkit:barcode-scanning:17.1.0'\n\n    implementation 'com.googlecode.libphonenumber:libphonenumber:8.13.8'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n\n    implementation 'com.dafruits:webrtc:109.0.0'\n    implementation 'io.nayuki:qrcodegen:1.8.0'\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.2.2'\n\n    implementation 'com.android.installreferrer:installreferrer:2.2'\n    implementation 'com.google.android.flexbox:flexbox:3.0.0'\n    implementation 'com.google.android.gms:play-services-oss-licenses:17.0.1'\n\n    api 'com.fasterxml.jackson.core:jackson-databind:2.13.5'\n    api 'com.fasterxml.jackson.core:jackson-core:2.13.5'\n    api 'com.fasterxml.jackson.core:jackson-annotations:2.13.5'\n    api 'org.java-websocket:Java-WebSocket:1.5.3'\n    //noinspection GradleCompatible\n    implementation &quot;com.android.support:support-emoji-bundled:26.1.0&quot;\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    api 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4'\n    def lifecycle_version = &quot;2.6.1&quot;\n    def arch_version = &quot;2.2.0&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-compose:$lifecycle_version&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\n\n    kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-service:$lifecycle_version&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-process:$lifecycle_version&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-reactivestreams-ktx:$lifecycle_version&quot;\n\n    testImplementation &quot;androidx.arch.core:core-testing:$arch_version&quot;\n\n    testImplementation &quot;androidx.lifecycle:lifecycle-runtime-testing:$lifecycle_version&quot;\n\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&quot;\n    \n    implementation(&quot;io.coil-kt:coil:2.3.0&quot;)\n    implementation(&quot;io.coil-kt:coil-compose:2.3.0&quot;)\n    implementation(&quot;io.coil-kt:coil-gif:2.2.1&quot;)\n    implementation(&quot;io.coil-kt:coil-svg:2.1.0&quot;)\n    implementation(&quot;io.coil-kt:coil-base:2.3.0&quot;)\n    implementation(&quot;io.coil-kt:coil-compose-base:2.3.0&quot;)\n    implementation(&quot;io.coil-kt:coil-compose:2.3.0&quot;)\n\n    // Coroutine\n    implementation 'io.github.ParkSangGwon:tedpermission-coroutine:3.3.0'\n    implementation 'com.github.vestrel00:contacts-android:0.2.4'\n    configurations.implementation {\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n    }\n    implementation(&quot;com.himanshoe:pluck:1.0.0-RC2&quot;)\n    implementation 'com.github.jaiselrahman:FilePicker:1.3.2'\n    implementation &quot;com.github.skydoves:landscapist-glide:2.1.11&quot;\n\n    implementation 'com.github.alxrm:audiowave-progressbar:0.9.2'\n    implementation 'com.github.Armen101:AudioRecordView:1.0.5'\n    implementation 'com.github.GitHubZJY:AudioVisualizeView:v1.0.0'\n    implementation  'com.github.massoudss:waveformSeekBar:5.0.2'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.github.squti:Android-Wave-Recorder:1.7.0'\n    //for AndroidX use:\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation(&quot;io.coil-kt:coil:2.3.0&quot;)\n\n    kapt &quot;com.android.databinding:compiler:3.1.4&quot;\n\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n    kapt &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.20&quot;\n    api &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&quot;\n    api &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&quot;\n\n    //glide\n    def glide_version = &quot;4.14.2&quot;\n    implementation &quot;com.github.bumptech.glide:glide:$glide_version&quot;\n    kapt &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\n\n    implementation 'com.karumi:dexter:6.2.3'\n\n    implementation(&quot;androidx.room:room-runtime:2.5.1&quot;)\n    implementation(&quot;androidx.room:room-ktx:2.5.1&quot;)\n    androidTestImplementation(&quot;androidx.room:room-testing:2.5.1&quot;)\n    kapt &quot;androidx.room:room-compiler:2.5.1&quot;\n\n    // Extensions = ViewModel + LiveData\n    /*implementation &quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:2.6.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;*/\n\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.6.0'\n    implementation 'com.squareup.okhttp3:okhttp:4.10.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.10.0'\n    implementation &quot;androidx.camera:camera-camera2:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-view:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-video:1.2.2&quot;\n    implementation 'com.jakewharton.timber:timber:5.0.1'\n    implementation 'pub.devrel:easypermissions:3.0.0'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    implementation &quot;android.arch.lifecycle:extensions:1.1.1&quot;\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.6'\n    implementation 'com.github.JarvanMo:ExoVideoView:2.1.6'\n    implementation &quot;com.google.android.exoplayer:exoplayer-core:2.18.6&quot;\n    implementation &quot;com.google.android.exoplayer:exoplayer-dash:2.18.6&quot;\n    implementation &quot;com.google.android.exoplayer:exoplayer-hls:2.18.6&quot;\n    implementation &quot;com.google.android.exoplayer:exoplayer-smoothstreaming:2.18.6&quot;\n    implementation &quot;com.google.android.exoplayer:exoplayer-ui:2.18.6&quot;\n    implementation &quot;androidx.camera:camera-core:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-camera2:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-video:1.2.2&quot;\n    implementation &quot;androidx.camera:camera-view:1.2.2&quot;\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-guava:1.6.4&quot;\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.6.4'\n\n    implementation &quot;androidx.profileinstaller:profileinstaller:1.3.0&quot;\n    implementation 'androidx.annotation:annotation:1.6.0'\n\n    implementation &quot;dev.priyankvasa.android:cameraview-ex:3.5.5-alpha&quot;\n    implementation 'com.google.firebase:firebase-ml-vision:24.1.0'\n    implementation 'com.google.android.gms:play-services-vision:20.1.3'\n\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-auth-ktx'\n    implementation 'com.google.firebase:firebase-firestore-ktx:24.5.0'\n    implementation 'androidx.browser:browser:1.5.0'  //\n    implementation 'com.google.firebase:firebase-messaging-ktx'\n    implementation 'com.google.firebase:firebase-perf-ktx'\n    implementation 'com.google.firebase:firebase-database'\n    implementation 'com.google.firebase:firebase-database-ktx'\n    implementation 'com.google.firebase:firebase-storage'\n    implementation 'com.google.firebase:firebase-storage-ktx'\n    // Add the Firebase SDK for Crashlytics.\n    implementation 'com.google.firebase:firebase-crashlytics:18.3.6'\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682337012,"creation_date":1682112315,"question_id":76076789,"body_markdown":"Here my current `SecurityFilterChain`:\r\n\r\n```lang-java\r\n    @Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        final CorsConfigurationSource configurationSource = serverWebExchange -&gt; {\r\n            final var cc = new CorsConfiguration();\r\n            cc.addAllowedOriginPattern(CorsConfiguration.ALL);\r\n            cc.addAllowedMethod(CorsConfiguration.ALL);\r\n            cc.addAllowedHeader(CorsConfiguration.ALL);\r\n\r\n            return cc;\r\n        };\r\n\r\n        // Customizer&lt;OAuth2ResourceServerConfigurer&lt;HttpSecurity&gt;&gt; oauth2Customizer = (config) -&gt; config.opaqueToken();\r\n        Customizer&lt;OAuth2ResourceServerConfigurer&lt;HttpSecurity&gt;&gt; oauth2Customizer = (config) -&gt; config.jwt();\r\n\r\n        return http\r\n            .httpBasic().disable()\r\n            .csrf().disable()\r\n            .formLogin().disable()\r\n            .anonymous().disable()\r\n            .logout().disable()\r\n            .cors().configurationSource(configurationSource).and()\r\n            .authorizeHttpRequests((authorize) -&gt; authorize\r\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                .antMatchers(&quot;/gicar/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n            )\r\n            .oauth2ResourceServer(oauth2Customizer)\r\n            .build();\r\n    }\r\n```\r\n\r\nEverything is working.\r\n\r\nFrom now on, I&#39;d like to add a filter in order to check:\r\n\r\n1. `&quot;app&quot;` query parameter is present in to request.\r\n2. `&quot;app&quot;` query parameter value is equals to token claim `&quot;clientId&quot;` value.\r\n\r\nIn order to get current token claim `&quot;clientId&quot;` value code snippet is:\r\n\r\n```lang-java\r\nJwtAuthenticationToken jwtAuthenticationToken = (JwtAuthenticationToken) this.httpServletRequest.getUserPrincipal();\r\nJwt jwt = (Jwt) jwtAuthenticationToken.getPrincipal();\r\nString clientId = jwt.getClaim(&quot;clientId&quot;);\r\n```\r\n\r\nIn order to get current `&quot;app&quot;` query param value code snippet:\r\n\r\n```lang-java\r\nString user = this.httpServletRequest.getParameter(&quot;app&quot;);\r\n```\r\n\r\nAny ideas about:\r\n1. how to embed above code in a filter?\r\n2. how to chain this filter after authentication filter?","title":"Spring: Chain filter after jwt token filter","body":"<p>Here my current <code>SecurityFilterChain</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        final CorsConfigurationSource configurationSource = serverWebExchange -&gt; {\n            final var cc = new CorsConfiguration();\n            cc.addAllowedOriginPattern(CorsConfiguration.ALL);\n            cc.addAllowedMethod(CorsConfiguration.ALL);\n            cc.addAllowedHeader(CorsConfiguration.ALL);\n\n            return cc;\n        };\n\n        // Customizer&lt;OAuth2ResourceServerConfigurer&lt;HttpSecurity&gt;&gt; oauth2Customizer = (config) -&gt; config.opaqueToken();\n        Customizer&lt;OAuth2ResourceServerConfigurer&lt;HttpSecurity&gt;&gt; oauth2Customizer = (config) -&gt; config.jwt();\n\n        return http\n            .httpBasic().disable()\n            .csrf().disable()\n            .formLogin().disable()\n            .anonymous().disable()\n            .logout().disable()\n            .cors().configurationSource(configurationSource).and()\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\n                .antMatchers(&quot;/gicar/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer(oauth2Customizer)\n            .build();\n    }\n</code></pre>\n<p>Everything is working.</p>\n<p>From now on, I'd like to add a filter in order to check:</p>\n<ol>\n<li><code>&quot;app&quot;</code> query parameter is present in to request.</li>\n<li><code>&quot;app&quot;</code> query parameter value is equals to token claim <code>&quot;clientId&quot;</code> value.</li>\n</ol>\n<p>In order to get current token claim <code>&quot;clientId&quot;</code> value code snippet is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JwtAuthenticationToken jwtAuthenticationToken = (JwtAuthenticationToken) this.httpServletRequest.getUserPrincipal();\nJwt jwt = (Jwt) jwtAuthenticationToken.getPrincipal();\nString clientId = jwt.getClaim(&quot;clientId&quot;);\n</code></pre>\n<p>In order to get current <code>&quot;app&quot;</code> query param value code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String user = this.httpServletRequest.getParameter(&quot;app&quot;);\n</code></pre>\n<p>Any ideas about:</p>\n<ol>\n<li>how to embed above code in a filter?</li>\n<li>how to chain this filter after authentication filter?</li>\n</ol>\n"},{"tags":["java","android-studio","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":25129660,"reputation":41,"user_id":18977051,"display_name":"Surya Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651158150,"creation_date":1651158038,"answer_id":72045984,"question_id":71806085,"body_markdown":"Go to `settings.gradle`\r\n\r\nAdd this line at bottom: `include &#39;:app&#39;,&#39;:touchview&#39;`\r\n\r\nAdd `maven { url &#39;https://jitpack.io&#39; }` to\r\n```\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories           \r\n```","title":"Can&#39;t import any library to Android Studio and Gradle Failed to Resolve","body":"<p>Go to <code>settings.gradle</code></p>\n<p>Add this line at bottom: <code>include ':app',':touchview'</code></p>\n<p>Add <code>maven { url 'https://jitpack.io' }</code> to</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories           \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28040264,"reputation":1,"user_id":21417927,"display_name":"Iremsu Koc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682336382,"creation_date":1681999177,"answer_id":76064953,"question_id":71806085,"body_markdown":"Meanwhile, I had the same problem. I have also performed the suggested steps below.\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n\r\n\r\n\r\nFile -&gt; Invalidate Caches/Restart and so so... I solved this problem by following the steps below:\r\n1. Open your android project.\r\n2. Open the gradle.properties under the Gradle Scripts \r\n3. Add this code \r\n`android.enableJetifier=true`\r\n4. Add the following code build.gradle(Module:app)              \r\n`implementation &#39;com.github.chaosleung:pinview:1.3.1&#39;`\r\n\r\nAfter these steps, the problem was solved and I didn&#39;t need to add the steps like maven mentioned above.","title":"Can&#39;t import any library to Android Studio and Gradle Failed to Resolve","body":"<p>Meanwhile, I had the same problem. I have also performed the suggested steps below.</p>\n<pre><code>repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n}\n</code></pre>\n<p>File -&gt; Invalidate Caches/Restart and so so... I solved this problem by following the steps below:</p>\n<ol>\n<li>Open your android project.</li>\n<li>Open the gradle.properties under the Gradle Scripts</li>\n<li>Add this code\n<code>android.enableJetifier=true</code></li>\n<li>Add the following code build.gradle(Module:app)<br />\n<code>implementation 'com.github.chaosleung:pinview:1.3.1'</code></li>\n</ol>\n<p>After these steps, the problem was solved and I didn't need to add the steps like maven mentioned above.</p>\n"}],"owner":{"account_id":15417207,"reputation":395,"user_id":11122289,"display_name":"Sarwar Sateer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682336382,"creation_date":1649489518,"question_id":71806085,"body_markdown":"I have tried these two libraries in order to make Image Zoomable, but I&#39;m facing the same problem.\r\nThis is the error message\r\n\r\n&gt; Failed to resolve: com.github.MikeOrtiz:TouchImageView:1.4.1\r\nShow in Project Structure dialog\r\nAffected Modules: app\r\n\r\nAt first, I thought it&#39;s maybe because of Jetpack Compose with Java, Because I tried to use TouchImageView Library as I&#39;ve mentioned here,\r\n\r\n&gt; implementation &#39;com.github.MikeOrtiz:TouchImageView:1.4.1&#39;\r\n\r\nfor this Library, it was needed to import\r\n        \r\n\r\n&gt; maven { url &#39;https://jitpack.io&#39; }\r\n\r\nI did import it to build.gradle project, also there was no allproject in that file, then I tried to import it into settings.gradle as well. in short, I just faced the same error message image is shown below\r\n\r\n\r\n[![Gradle Warning/error message image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XRCji.png","title":"Can&#39;t import any library to Android Studio and Gradle Failed to Resolve","body":"<p>I have tried these two libraries in order to make Image Zoomable, but I'm facing the same problem.\nThis is the error message</p>\n<blockquote>\n<p>Failed to resolve: com.github.MikeOrtiz:TouchImageView:1.4.1\nShow in Project Structure dialog\nAffected Modules: app</p>\n</blockquote>\n<p>At first, I thought it's maybe because of Jetpack Compose with Java, Because I tried to use TouchImageView Library as I've mentioned here,</p>\n<blockquote>\n<p>implementation 'com.github.MikeOrtiz:TouchImageView:1.4.1'</p>\n</blockquote>\n<p>for this Library, it was needed to import</p>\n<blockquote>\n<p>maven { url 'https://jitpack.io' }</p>\n</blockquote>\n<p>I did import it to build.gradle project, also there was no allproject in that file, then I tried to import it into settings.gradle as well. in short, I just faced the same error message image is shown below</p>\n<p><a href=\"https://i.stack.imgur.com/XRCji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XRCji.png\" alt=\"Gradle Warning/error message image\" /></a></p>\n"},{"tags":["java","flutter","java-home"],"answers":[{"comments":[{"owner":{"account_id":20123868,"reputation":68,"user_id":14757827,"display_name":"adravel"},"score":0,"creation_date":1685435087,"post_id":73159429,"comment_id":134655494,"body_markdown":"Very clear and concise. Thanks.","body":"Very clear and concise. Thanks."},{"owner":{"account_id":9091178,"reputation":340,"user_id":6767002,"display_name":"Sibulele"},"score":0,"creation_date":1685524464,"post_id":73159429,"comment_id":134670907,"body_markdown":"Grateful I could help @adravel","body":"Grateful I could help @adravel"}],"tags":[],"owner":{"account_id":9091178,"reputation":340,"user_id":6767002,"display_name":"Sibulele"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1682336252,"creation_date":1659044126,"answer_id":73159429,"question_id":73159428,"body_markdown":"1) run the below command to choose the java version that you want to use.\r\n \r\n   sudo update-alternatives --config java\r\n\r\n   You will get something like this from the terminal.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n3) Press the number corresponding to the version of java that you want to use.\r\n  Example,\r\n  Press &quot;Enter&quot; &lt;enter&gt; to keep the current choice[*], or type selection number: 0\r\n\r\n4) Copy the PATH corresponding to the java version that you chose. In my case since I \r\n   chose version in Number 0,\r\n   My PATH is /usr/lib/jvm/java-11-openjdk-amd64/bin/java. \r\n   But leave out the last part of the PATH,i.e &quot;/bin/java&quot;.\r\n   So now your PATH is  /usr/lib/jvm/java-11-openjdk-amd64\r\n\r\n5)   run the following command, where PATH value is the value copied from above.\r\n     export JAVA_HOME=PATH\r\n     In my case, I will run \r\n     JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n\r\n6) run this command, copy it as it is. Don&#39;t change anything.\r\n   echo $JAVA_HOME\r\n\r\n7) follow by this command, copy it as it is. Don&#39;t change anything.\r\n   export PATH=$PATH:$JAVA_HOME/bin\r\n\r\n8) run this command,\r\n   echo $PATH\r\n  \r\n   This will give out the full path to your $JAVA_HOME value.\r\n   \r\n   In my case, this is what I got.\r\n   /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin\r\n   :/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n   :/usr/lib/jvm/java-11-openjdk-amd64/bin\r\n \r\n\r\n9)  Now you are sorted. \r\n10) &quot;flutter doctor --android-licenses&quot;, ran successfully.\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nFm2j.png","title":"ERROR: JAVA_HOME is set to an invalid directory: Please set the JAVA_HOME variable in your environment to match the location of your Java installation","body":"<ol>\n<li><p>run the below command to choose the java version that you want to use.</p>\n<p>sudo update-alternatives --config java</p>\n<p>You will get something like this from the terminal.\n<a href=\"https://i.stack.imgur.com/nFm2j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nFm2j.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Press the number corresponding to the version of java that you want to use.\nExample,\nPress &quot;Enter&quot;  to keep the current choice[*], or type selection number: 0</p>\n</li>\n<li><p>Copy the PATH corresponding to the java version that you chose. In my case since I\nchose version in Number 0,\nMy PATH is /usr/lib/jvm/java-11-openjdk-amd64/bin/java.\nBut leave out the last part of the PATH,i.e &quot;/bin/java&quot;.\nSo now your PATH is  /usr/lib/jvm/java-11-openjdk-amd64</p>\n</li>\n<li><p>run the following command, where PATH value is the value copied from above.\nexport JAVA_HOME=PATH\nIn my case, I will run\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64</p>\n</li>\n<li><p>run this command, copy it as it is. Don't change anything.\necho $JAVA_HOME</p>\n</li>\n<li><p>follow by this command, copy it as it is. Don't change anything.\nexport PATH=$PATH:$JAVA_HOME/bin</p>\n</li>\n<li><p>run this command,\necho $PATH</p>\n<p>This will give out the full path to your $JAVA_HOME value.</p>\n<p>In my case, this is what I got.\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin\n:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\n:/usr/lib/jvm/java-11-openjdk-amd64/bin</p>\n</li>\n<li><p>Now you are sorted.</p>\n</li>\n<li><p>&quot;flutter doctor --android-licenses&quot;, ran successfully.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9091178,"reputation":340,"user_id":6767002,"display_name":"Sibulele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8919,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73159429,"answer_count":1,"score":4,"last_activity_date":1682336252,"creation_date":1659044126,"question_id":73159428,"body_markdown":"When I was running &quot;flutter doctor --android-licenses&quot;, I struggled to fix the error below, \r\n\r\nERROR: JAVA_HOME is set to an invalid directory:  /usr/lib/jvm/java-11-openjdk-amd64\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n\r\nI thought I should post this as a question and provide a response to it, as other Answers to the this question could not help me.\r\n\r\nPlease see my solution below.","title":"ERROR: JAVA_HOME is set to an invalid directory: Please set the JAVA_HOME variable in your environment to match the location of your Java installation","body":"<p>When I was running &quot;flutter doctor --android-licenses&quot;, I struggled to fix the error below,</p>\n<p>ERROR: JAVA_HOME is set to an invalid directory:  /usr/lib/jvm/java-11-openjdk-amd64</p>\n<p>Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n<p>I thought I should post this as a question and provide a response to it, as other Answers to the this question could not help me.</p>\n<p>Please see my solution below.</p>\n"},{"tags":["java","iterator"],"answers":[{"comments":[{"owner":{"account_id":360831,"reputation":302,"user_id":703052,"accept_rate":70,"display_name":"Bytekoder"},"score":0,"creation_date":1343444615,"post_id":11697454,"comment_id":15513434,"body_markdown":"Thanks man, it worked! I guess I didn&#39;t realize that I was making double calls to i.next.","body":"Thanks man, it worked! I guess I didn&#39;t realize that I was making double calls to i.next."}],"tags":[],"owner":{"account_id":1360140,"reputation":3079,"user_id":1384784,"accept_rate":58,"display_name":"Ahamed Mustafa M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682330904,"creation_date":1343438517,"answer_id":11697454,"question_id":11697329,"body_markdown":"you are calling i.next twice in the loop which will move the record pointer to next element.get the reference to element with a single call to i.next.\r\n\r\nso it should be like\r\n\r\n```java\r\nwhile (i.hasNext){\r\n    usermodel curr =i.next;\r\n    curr.username;\r\n    curr.userid;\r\n}\r\n```","title":"java.util.NoSuchElementException when iterating over a list","body":"<p>you are calling i.next twice in the loop which will move the record pointer to next element.get the reference to element with a single call to i.next.</p>\n<p>so it should be like</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (i.hasNext){\n    usermodel curr =i.next;\n    curr.username;\n    curr.userid;\n}\n</code></pre>\n"}],"owner":{"account_id":360831,"reputation":302,"user_id":703052,"accept_rate":70,"display_name":"Bytekoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11697454,"answer_count":1,"score":0,"last_activity_date":1682336151,"creation_date":1343436974,"question_id":11697329,"body_markdown":"Following is a method that is iterating over a list:\r\n\r\n    @Override\r\n    \tpublic void DataRowMapper(List&lt;?&gt; list) {\r\n    \t\tIterator&lt;UserModel&gt; i = (Iterator&lt;UserModel&gt;) list.iterator();\r\n    \t\twhile (i.hasNext()) {\r\n    \t\t\tthis.setUserID(i.next().getUserID());\r\n    \t\t\tthis.setUserName(i.next().getUserName());\r\n    \t\t}\r\n\r\nNow the problem is that when I run the debugger I see that i.hasNext() is having the correct values but still I keep getting NoElementException. Another surprising thing I have seen is that previously I was able to get the UserID printed on Console but just the UserID, rest of it was null but soon after I started getting this error. There is no issue at all with the database. I am 100% convinced that I am getting the right results because I see it in the debugger but for some reason I cant get past through this error in the normal mode. Class UserModel is a simple POJO.\r\n","title":"java.util.NoSuchElementException when iterating over a list","body":"<p>Following is a method that is iterating over a list:</p>\n<pre><code>@Override\n    public void DataRowMapper(List&lt;?&gt; list) {\n        Iterator&lt;UserModel&gt; i = (Iterator&lt;UserModel&gt;) list.iterator();\n        while (i.hasNext()) {\n            this.setUserID(i.next().getUserID());\n            this.setUserName(i.next().getUserName());\n        }\n</code></pre>\n<p>Now the problem is that when I run the debugger I see that i.hasNext() is having the correct values but still I keep getting NoElementException. Another surprising thing I have seen is that previously I was able to get the UserID printed on Console but just the UserID, rest of it was null but soon after I started getting this error. There is no issue at all with the database. I am 100% convinced that I am getting the right results because I see it in the debugger but for some reason I cant get past through this error in the normal mode. Class UserModel is a simple POJO.</p>\n"},{"tags":["java","windows","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1599156964,"post_id":63714401,"comment_id":112694662,"body_markdown":"Can you show the output of the topic creation and list topics command?","body":"Can you show the output of the topic creation and list topics command?"},{"owner":{"account_id":5641224,"reputation":2476,"user_id":4465028,"accept_rate":68,"display_name":"Gherbi Hicham"},"score":0,"creation_date":1599161968,"post_id":63714401,"comment_id":112696530,"body_markdown":"@OneCricketeer sure, I have added the output of list and describe topic to the question, I set the replication factor to 1 as I&#39;m working with one broker instance and the number of partitions to 3.","body":"@OneCricketeer sure, I have added the output of list and describe topic to the question, I set the replication factor to 1 as I&#39;m working with one broker instance and the number of partitions to 3."}],"answers":[{"comments":[{"owner":{"account_id":3381392,"reputation":998,"user_id":2838372,"accept_rate":35,"display_name":"aravind"},"score":1,"creation_date":1605593286,"post_id":63839303,"comment_id":114690556,"body_markdown":"I spent a whole day struggling with this..Thank you very much","body":"I spent a whole day struggling with this..Thank you very much"},{"owner":{"account_id":2424306,"reputation":16850,"user_id":2116590,"display_name":"Parveen Verma"},"score":16,"creation_date":1635503813,"post_id":63839303,"comment_id":123321898,"body_markdown":"@Bob Doobs can you please share the code changes done for this solution ?","body":"@Bob Doobs can you please share the code changes done for this solution ?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643033151,"post_id":63839303,"comment_id":125225029,"body_markdown":"Kafka 2.8.0, I think, was missing Jackson classes. It&#39;s recommended to downgrade","body":"Kafka 2.8.0, I think, was missing Jackson classes. It&#39;s recommended to downgrade"},{"owner":{"account_id":13733558,"reputation":111,"user_id":9910495,"display_name":"Thiago Matar"},"score":0,"creation_date":1648522985,"post_id":63839303,"comment_id":126639403,"body_markdown":"I was having this same issue in local environment running the landoop image in docker. After spending a lot of time researching the root cause, in my case I was trying to post a message to a non-existent partition. When I omitted the partition in the settings it worked fine","body":"I was having this same issue in local environment running the landoop image in docker. After spending a lot of time researching the root cause, in my case I was trying to post a message to a non-existent partition. When I omitted the partition in the settings it worked fine"},{"owner":{"account_id":115937,"reputation":4910,"user_id":304179,"accept_rate":75,"display_name":"dube"},"score":0,"creation_date":1649830007,"post_id":63839303,"comment_id":126971732,"body_markdown":"We built a LogAppender for logback in a spring setup and it kept getting stuck at the first log message in the boot process. Adding a seemingly useless `List&lt;PartitionInfo&gt; result = producer.partitionsFor(topic);`  after the creation of the KafkaProducer solved it. Probably a race condition in the constructor of the KafkaProducer - a standalone test with the same properties worked just fine.","body":"We built a LogAppender for logback in a spring setup and it kept getting stuck at the first log message in the boot process. Adding a seemingly useless <code>List&lt;PartitionInfo&gt; result = producer.partitionsFor(topic);</code>  after the creation of the KafkaProducer solved it. Probably a race condition in the constructor of the KafkaProducer - a standalone test with the same properties worked just fine."}],"tags":[],"owner":{"account_id":19488864,"reputation":216,"user_id":14257515,"display_name":"Bob Dobbs"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1599785564,"creation_date":1599784355,"answer_id":63839303,"question_id":63714401,"body_markdown":"I was having this same problem today.  I&#39;m a newbie at Kafka and was simply trying to get a sample Java producer and consumer running. I was able to get the consumer working, but kept getting the same &quot;topic not present in metadata&quot; error as you, with the producer.\r\n\r\nFinally, out of desperation, I added some code to my producer to dump the topics.  When I did this, I then got runtime errors because of missing classes in packages jackson-databind and jackson-core.  After adding them, I no longer got the &quot;topic not present&quot; error.  I removed the topic-dumping code I temporarily added, an it still worked.","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I was having this same problem today.  I'm a newbie at Kafka and was simply trying to get a sample Java producer and consumer running. I was able to get the consumer working, but kept getting the same &quot;topic not present in metadata&quot; error as you, with the producer.</p>\n<p>Finally, out of desperation, I added some code to my producer to dump the topics.  When I did this, I then got runtime errors because of missing classes in packages jackson-databind and jackson-core.  After adding them, I no longer got the &quot;topic not present&quot; error.  I removed the topic-dumping code I temporarily added, an it still worked.</p>\n"},{"comments":[{"owner":{"account_id":7852903,"reputation":91,"user_id":5935817,"display_name":"Brandon"},"score":1,"creation_date":1613156167,"post_id":63839651,"comment_id":116998839,"body_markdown":"Try adding `jackson-databind` to your project dependencies. If that doesn&#39;t work, try also adding `jackson-core`. If that doesn&#39;t work, I&#39;m not sure what else to try.","body":"Try adding <code>jackson-databind</code> to your project dependencies. If that doesn&#39;t work, try also adding <code>jackson-core</code>. If that doesn&#39;t work, I&#39;m not sure what else to try."},{"owner":{"account_id":3703781,"reputation":91,"user_id":3082820,"accept_rate":0,"display_name":"user3082820"},"score":0,"creation_date":1638972304,"post_id":63839651,"comment_id":124229064,"body_markdown":"This exceptions appears on all the occurrence or it appears sometimes?","body":"This exceptions appears on all the occurrence or it appears sometimes?"},{"owner":{"account_id":7852903,"reputation":91,"user_id":5935817,"display_name":"Brandon"},"score":0,"creation_date":1639270608,"post_id":63839651,"comment_id":124306225,"body_markdown":"@user3082820 If I remember correctly, the exception happened every time I tried to produce a message to a kafka topic.","body":"@user3082820 If I remember correctly, the exception happened every time I tried to produce a message to a kafka topic."},{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1648022925,"post_id":63839651,"comment_id":126515844,"body_markdown":"@Bradon, `jackson-core` is transitive dependency of `jackson-databind`, so, how can explicit addition of `jackson-core` help here, explain please.","body":"@Bradon, <code>jackson-core</code> is transitive dependency of <code>jackson-databind</code>, so, how can explicit addition of <code>jackson-core</code> help here, explain please."},{"owner":{"account_id":7852903,"reputation":91,"user_id":5935817,"display_name":"Brandon"},"score":0,"creation_date":1648138732,"post_id":63839651,"comment_id":126554124,"body_markdown":"I don&#39;t know if it would help, then. I suppose some other dependency could require a later version of jackson-core (using the &quot;provided&quot; scope) than the version of jackson-databind being used provides, but I don&#39;t know if that&#39;s what&#39;s happening for you, if you&#39;re having this issue.","body":"I don&#39;t know if it would help, then. I suppose some other dependency could require a later version of jackson-core (using the &quot;provided&quot; scope) than the version of jackson-databind being used provides, but I don&#39;t know if that&#39;s what&#39;s happening for you, if you&#39;re having this issue."}],"tags":[],"owner":{"account_id":7852903,"reputation":91,"user_id":5935817,"display_name":"Brandon"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599840831,"creation_date":1599788036,"answer_id":63839651,"question_id":63714401,"body_markdown":"First off I want to say thanks to Bobb Dobbs for his answer, I was also struggling with this for a while today. I just want to add that the only dependency I had to add is `jackson-databind`. This is the only dependency I have in my project, besides `kafka-clients`.\r\n\r\nUpdate: I&#39;ve learned a bit more about what&#39;s going on. `kafka-clients` sets the scope of its `jackson-databind` dependency as &quot;provided,&quot; which means it expects it to be provided at runtime by the JDK or a container. See [this article][1] for more details on the provided maven scope.\r\n\r\n&gt; This scope is used to mark dependencies that should be provided at runtime by JDK or a container, hence the name.\r\n&gt; A good use case for this scope would be a web application deployed in some container, where the container already provides some libraries itself.\r\n\r\nI&#39;m not sure the exact reasoning on setting its scope to provided, except that maybe this library is something people normally would want to provide themselves to keep it up to the latest version for security fixes, etc.\r\n\r\n  [1]: https://www.baeldung.com/maven-dependency-scopes","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>First off I want to say thanks to Bobb Dobbs for his answer, I was also struggling with this for a while today. I just want to add that the only dependency I had to add is <code>jackson-databind</code>. This is the only dependency I have in my project, besides <code>kafka-clients</code>.</p>\n<p>Update: I've learned a bit more about what's going on. <code>kafka-clients</code> sets the scope of its <code>jackson-databind</code> dependency as &quot;provided,&quot; which means it expects it to be provided at runtime by the JDK or a container. See <a href=\"https://www.baeldung.com/maven-dependency-scopes\" rel=\"nofollow noreferrer\">this article</a> for more details on the provided maven scope.</p>\n<blockquote>\n<p>This scope is used to mark dependencies that should be provided at runtime by JDK or a container, hence the name.\nA good use case for this scope would be a web application deployed in some container, where the container already provides some libraries itself.</p>\n</blockquote>\n<p>I'm not sure the exact reasoning on setting its scope to provided, except that maybe this library is something people normally would want to provide themselves to keep it up to the latest version for security fixes, etc.</p>\n"},{"tags":[],"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601243297,"creation_date":1601243297,"answer_id":64093628,"question_id":63714401,"body_markdown":"1. I created a topic with single partition and tried to populate the topic into 10 partitions. And I got this issue. \r\n\r\n2. I deleted the topic using kafka-topics.sh script, but didn&#39;t wait long to finish the clean up. I started populating the topic. When I was looking at topic metadata, it has one partition and I am getting exactly same issue as mentioned in first part of this answer.","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<ol>\n<li><p>I created a topic with single partition and tried to populate the topic into 10 partitions. And I got this issue.</p>\n</li>\n<li><p>I deleted the topic using kafka-topics.sh script, but didn't wait long to finish the clean up. I started populating the topic. When I was looking at topic metadata, it has one partition and I am getting exactly same issue as mentioned in first part of this answer.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6449445,"reputation":64,"user_id":4996879,"display_name":"kazzaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643033183,"creation_date":1601597672,"answer_id":64164720,"question_id":63714401,"body_markdown":"You may want to check your producer properties for metadata.max.idle.ms\r\n\r\nThe metadata a producer caches for as long as above configured value. Any changes to the meta on the broker end will not be available on the client (producer) immediately. Restarting a producer should however, read the metadata at startup.\r\n\r\nUpdate: check default values here.. https://kafka.apache.org/documentation.html#metadata.max.idle.ms","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>You may want to check your producer properties for metadata.max.idle.ms</p>\n<p>The metadata a producer caches for as long as above configured value. Any changes to the meta on the broker end will not be available on the client (producer) immediately. Restarting a producer should however, read the metadata at startup.</p>\n<p>Update: check default values here.. <a href=\"https://kafka.apache.org/documentation.html#metadata.max.idle.ms\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation.html#metadata.max.idle.ms</a></p>\n"},{"comments":[{"owner":{"account_id":2023293,"reputation":324,"user_id":1808979,"accept_rate":60,"display_name":"Dmytro Danilenkov"},"score":0,"creation_date":1651075213,"post_id":67627792,"comment_id":127277508,"body_markdown":"Apple silicone?","body":"Apple silicone?"},{"owner":{"account_id":346410,"reputation":2279,"user_id":679916,"accept_rate":65,"display_name":"java_enthu"},"score":0,"creation_date":1652219459,"post_id":67627792,"comment_id":127552973,"body_markdown":"yes! Its Apple Silicone or M1","body":"yes! Its Apple Silicone or M1"}],"tags":[],"owner":{"account_id":346410,"reputation":2279,"user_id":679916,"accept_rate":65,"display_name":"java_enthu"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621544000,"creation_date":1621544000,"answer_id":67627792,"question_id":63714401,"body_markdown":"I also had similar issue, where I was trying this on my local environment on my macbook. It was quite frustrating and I tried a few approaches  \r\n1) Stopped Zookeeper, Stopped Kafka, restarted ZK and Kafka. (Didn&#39;t help)\r\n2) Stopped ZK. Deleted ZK data directory. Deleted Kafka logs.dirs and restarted Kafka (Didn&#39;t help)\r\n3) Restarted my macbook - This did the trick. \r\n\r\nI have used Kafka in production for more than 3 years, but didn&#39;t face this problem on the cluster, happened only on my local environment. However, restarting fixes it for me. ","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I also had similar issue, where I was trying this on my local environment on my macbook. It was quite frustrating and I tried a few approaches</p>\n<ol>\n<li>Stopped Zookeeper, Stopped Kafka, restarted ZK and Kafka. (Didn't help)</li>\n<li>Stopped ZK. Deleted ZK data directory. Deleted Kafka logs.dirs and restarted Kafka (Didn't help)</li>\n<li>Restarted my macbook - This did the trick.</li>\n</ol>\n<p>I have used Kafka in production for more than 3 years, but didn't face this problem on the cluster, happened only on my local environment. However, restarting fixes it for me.</p>\n"},{"tags":[],"owner":{"account_id":7812692,"reputation":3085,"user_id":5908433,"accept_rate":100,"display_name":"Dmitriy Fialkovskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1628179139,"creation_date":1628179139,"answer_id":68669932,"question_id":63714401,"body_markdown":"This error also can appear because of destination Kafka instance &quot;died&quot; or URL to it is wrong.\r\n\r\nIn such a case a thread that sends message to Kafka will be blocked on `max.block.ms` time which defaults exactly to 60000 ms. \r\n\r\nYou can check whether it is because of above property by passing changed value:\r\n\r\n    Properties props = new Properties();\r\n    ...(among others)\r\n    props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG, 30000); # 30 sec or any other value of your choice \r\n\r\nIf `TimeoutException` is thrown after your specified time, then you should check whether your URL to Kafka is correct or Kafka instance is alive.\r\n","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>This error also can appear because of destination Kafka instance &quot;died&quot; or URL to it is wrong.</p>\n<p>In such a case a thread that sends message to Kafka will be blocked on <code>max.block.ms</code> time which defaults exactly to 60000 ms.</p>\n<p>You can check whether it is because of above property by passing changed value:</p>\n<pre><code>Properties props = new Properties();\n...(among others)\nprops.put(ProducerConfig.MAX_BLOCK_MS_CONFIG, 30000); # 30 sec or any other value of your choice \n</code></pre>\n<p>If <code>TimeoutException</code> is thrown after your specified time, then you should check whether your URL to Kafka is correct or Kafka instance is alive.</p>\n"},{"tags":[],"owner":{"account_id":976087,"reputation":1484,"user_id":997242,"display_name":"void"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628448585,"creation_date":1628448585,"answer_id":68703804,"question_id":63714401,"body_markdown":"Note that this could happen as well because the versions of kafka-client and Spring are not compatible\r\n\r\nMore info in https://spring.io/projects/spring-kafka &quot;Kafka Client Compatibility&quot; matrix\r\n","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>Note that this could happen as well because the versions of kafka-client and Spring are not compatible</p>\n<p>More info in <a href=\"https://spring.io/projects/spring-kafka\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka</a> &quot;Kafka Client Compatibility&quot; matrix</p>\n"},{"comments":[{"owner":{"account_id":2758735,"reputation":540,"user_id":2376071,"display_name":"ranjeet"},"score":0,"creation_date":1653421710,"post_id":69609724,"comment_id":127847886,"body_markdown":"I had same issue..able to solve by setting &quot;security.protocol&quot;: &quot;ssl&quot; for producer.","body":"I had same issue..able to solve by setting &quot;security.protocol&quot;: &quot;ssl&quot; for producer."},{"owner":{"account_id":4831067,"reputation":666,"user_id":6706016,"display_name":"kamiha"},"score":0,"creation_date":1655254876,"post_id":69609724,"comment_id":128287529,"body_markdown":"Thanks, I spent hours looking at my cluster configs. In the end, I had a typo on &quot;security.protocol&quot; key on my producer config. This error message didnt help at all...","body":"Thanks, I spent hours looking at my cluster configs. In the end, I had a typo on &quot;security.protocol&quot; key on my producer config. This error message didnt help at all..."}],"tags":[],"owner":{"account_id":2047580,"reputation":331,"user_id":1866811,"display_name":"phlogiston"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1634518591,"creation_date":1634518591,"answer_id":69609724,"question_id":63714401,"body_markdown":"I saw this issue when someone on my team had changed the value for the spring.kafka.security.protocol config (we are using Spring on my project). Previously it had been &quot;SSL&quot; in our config, but it was updated to be `PLAINTEXT`. In higher environments where we connect to a cluster that uses SSL, we saw the error OP ran into.\r\n\r\nWhy we saw this error as opposed to an SSL error or authentication error is beyond me, but if you run into this error it may be worth double checking your client authentication configs to your Kafka cluster.","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I saw this issue when someone on my team had changed the value for the spring.kafka.security.protocol config (we are using Spring on my project). Previously it had been &quot;SSL&quot; in our config, but it was updated to be <code>PLAINTEXT</code>. In higher environments where we connect to a cluster that uses SSL, we saw the error OP ran into.</p>\n<p>Why we saw this error as opposed to an SSL error or authentication error is beyond me, but if you run into this error it may be worth double checking your client authentication configs to your Kafka cluster.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666015098,"post_id":70412101,"comment_id":130828522,"body_markdown":"This shouldn&#39;t be needed. You can use Spring beans to create topics in code","body":"This shouldn&#39;t be needed. You can use Spring beans to create topics in code"}],"tags":[],"owner":{"account_id":23692155,"reputation":1,"user_id":17716376,"display_name":"deepak singh Kapkoti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639922465,"creation_date":1639922465,"answer_id":70412101,"question_id":63714401,"body_markdown":"kafka-topic --bootstrap-server 127.0.0.1:9092 --topic my_first --create --partitions 3\r\n\r\nFirst try to insert the topic with in the Kafka stream using the above command\r\n\r\nhere my_first is the topic name.","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>kafka-topic --bootstrap-server 127.0.0.1:9092 --topic my_first --create --partitions 3</p>\n<p>First try to insert the topic with in the Kafka stream using the above command</p>\n<p>here my_first is the topic name.</p>\n"},{"comments":[{"owner":{"account_id":10793408,"reputation":109,"user_id":10701898,"display_name":"Yeetesh Pulstya"},"score":0,"creation_date":1655364041,"post_id":70587438,"comment_id":128316175,"body_markdown":"I had missed the SSL protocol, and unfortunately, there was no exception thrown indicating that","body":"I had missed the SSL protocol, and unfortunately, there was no exception thrown indicating that"}],"tags":[],"owner":{"account_id":23830403,"reputation":21,"user_id":17836768,"display_name":"soccerlover"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641352629,"creation_date":1641352629,"answer_id":70587438,"question_id":63714401,"body_markdown":"This error is an apparent error, and it may be triggered by the following deep conditions.\r\n\r\n 1. First and the most situation is your kafka producer config is wrong, check your kafka properties `BOOTSTRAP_SERVERS_CONFIG` weather is correct server address.\r\n 2. In docker environment, you might check your port mapping.\r\n 3. Check whether the firewall has opened port 9092 of the server where the broker is located.\r\n 4. If your broker run in ssl, check your producer config about `SSL_TRUSTSTROE_LOCATION_CONFIG`, `SECURITY_PROTOCOL_CONFIG`, `SSL_TRUSTSTORE_TYPE_CONFIG`.\r\nAnd, some broker config both run in ssl and PLAINTEXT, make sure which port is your need.","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>This error is an apparent error, and it may be triggered by the following deep conditions.</p>\n<ol>\n<li>First and the most situation is your kafka producer config is wrong, check your kafka properties <code>BOOTSTRAP_SERVERS_CONFIG</code> weather is correct server address.</li>\n<li>In docker environment, you might check your port mapping.</li>\n<li>Check whether the firewall has opened port 9092 of the server where the broker is located.</li>\n<li>If your broker run in ssl, check your producer config about <code>SSL_TRUSTSTROE_LOCATION_CONFIG</code>, <code>SECURITY_PROTOCOL_CONFIG</code>, <code>SSL_TRUSTSTORE_TYPE_CONFIG</code>.\nAnd, some broker config both run in ssl and PLAINTEXT, make sure which port is your need.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":1,"creation_date":1681942251,"post_id":71510684,"comment_id":134140012,"body_markdown":"You are brilliant. This was my issue.","body":"You are brilliant. This was my issue."},{"owner":{"account_id":2718512,"reputation":453,"user_id":2345313,"display_name":"JohnnyHuo"},"score":0,"creation_date":1689883382,"post_id":71510684,"comment_id":135280303,"body_markdown":"How to specify which partition to send ?","body":"How to specify which partition to send ?"}],"tags":[],"owner":{"account_id":215206,"reputation":1447,"user_id":469679,"accept_rate":67,"display_name":"Federico Nafria"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1647512578,"creation_date":1647512578,"answer_id":71510684,"question_id":63714401,"body_markdown":"It might also be caused by an nonexistent **partition**.\r\n\r\ne.g. If you have a single partition `[0]` and your producer tries to send to partition `[1]` you&#39;ll get the same error. The topic in this case exists, but not the partition.","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>It might also be caused by an nonexistent <strong>partition</strong>.</p>\n<p>e.g. If you have a single partition <code>[0]</code> and your producer tries to send to partition <code>[1]</code> you'll get the same error. The topic in this case exists, but not the partition.</p>\n"},{"tags":[],"owner":{"account_id":15922336,"reputation":1,"user_id":11488967,"display_name":"Sayantan Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666015037,"creation_date":1660723175,"answer_id":73384822,"question_id":63714401,"body_markdown":"1. The two dependencies in pom : kafka-streams and spring-kafka\r\n2. in application.yml (or properties) : \r\n\r\n```\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: &lt;service_url/bootstrap_server_ur&gt;\r\n        producer:\r\n          bootstrap-servers: &lt;service_url/bootstrap_server_url&gt;\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          group-id: &lt;your_consumer_id&gt;\r\n```\r\n3. `@SpringBootApplication` class another annotation : @EnableKafka\r\n\r\nThis will make it work without any errors.\r\n\r\n\r\n","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<ol>\n<li>The two dependencies in pom : kafka-streams and spring-kafka</li>\n<li>in application.yml (or properties) :</li>\n</ol>\n<pre><code>    spring:\n      kafka:\n        bootstrap-servers: &lt;service_url/bootstrap_server_ur&gt;\n        producer:\n          bootstrap-servers: &lt;service_url/bootstrap_server_url&gt;\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\n          value-serializer: org.apache.kafka.common.serialization.StringSerializer\n          group-id: &lt;your_consumer_id&gt;\n</code></pre>\n<ol start=\"3\">\n<li><code>@SpringBootApplication</code> class another annotation : @EnableKafka</li>\n</ol>\n<p>This will make it work without any errors.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1666015018,"post_id":73827769,"comment_id":130828490,"body_markdown":"So, how did you fix it? What address did you use?","body":"So, how did you fix it? What address did you use?"}],"tags":[],"owner":{"account_id":4513920,"reputation":497,"user_id":3669310,"accept_rate":67,"display_name":"lmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663936238,"creation_date":1663936238,"answer_id":73827769,"question_id":63714401,"body_markdown":"I was facing same issue. \r\nIt could happen when your bootstrap or registry URL are wrong or unreachable","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I was facing same issue.\nIt could happen when your bootstrap or registry URL are wrong or unreachable</p>\n"},{"comments":[{"owner":{"account_id":1019084,"reputation":375,"user_id":1029982,"accept_rate":67,"display_name":"Simon"},"score":0,"creation_date":1674651569,"post_id":73898353,"comment_id":132759251,"body_markdown":"Alternatively, you can use the property \n`spring.kafka.properties.bootstrap.servers`\nwhich does all three in one shot.","body":"Alternatively, you can use the property  <code>spring.kafka.properties.bootstrap.servers</code> which does all three in one shot."}],"tags":[],"owner":{"account_id":7452114,"reputation":326,"user_id":5666521,"display_name":"Rail Yulgutlin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664466493,"creation_date":1664466493,"answer_id":73898353,"question_id":63714401,"body_markdown":"in case if you came here with same error while setting up your integration tests using ***testcontainers***, this could happen because of used port by kafka inside container and exposed port outside. So, ***make sure that started bootstrap server port is correctly mapped to exposed port that you are using in your tests***. \r\n\r\nIn my case i just replaced properties file entries after kafka container started:\r\n\r\n    KafkaContainer kafka = new KafkaContainer(...);\r\n    kafka.start();\r\n\r\n    String brokers = kafka.getBootstrapServers()\r\n    TestPropertySourceUtils.addInlinedPropertiesToEnvironment(context,\r\n        &quot;spring.kafka.bootstrap-servers=&quot; + brokers,\r\n        &quot;spring.kafka.producer.bootstrap-servers=&quot; + brokers,\r\n        &quot;spring.kafka.consumer.bootstrap-servers=&quot; + brokers\r\n    );\r\n\r\nSpent quite some time before I figured it out, hope this helps someone.\r\n","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>in case if you came here with same error while setting up your integration tests using <em><strong>testcontainers</strong></em>, this could happen because of used port by kafka inside container and exposed port outside. So, <em><strong>make sure that started bootstrap server port is correctly mapped to exposed port that you are using in your tests</strong></em>.</p>\n<p>In my case i just replaced properties file entries after kafka container started:</p>\n<pre><code>KafkaContainer kafka = new KafkaContainer(...);\nkafka.start();\n\nString brokers = kafka.getBootstrapServers()\nTestPropertySourceUtils.addInlinedPropertiesToEnvironment(context,\n    &quot;spring.kafka.bootstrap-servers=&quot; + brokers,\n    &quot;spring.kafka.producer.bootstrap-servers=&quot; + brokers,\n    &quot;spring.kafka.consumer.bootstrap-servers=&quot; + brokers\n);\n</code></pre>\n<p>Spent quite some time before I figured it out, hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":27734796,"reputation":1,"user_id":21172607,"display_name":"Carlos ramirez lizan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676197596,"creation_date":1675859848,"answer_id":75385891,"question_id":63714401,"body_markdown":"I was having the same problem, and it&#39;s because of wrong config. Here&#39;s my Producer configuration that worked. Change `${}` properties with your config. Don&#39;t forget to set all properties:\r\n\r\n        Properties props = new Properties();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, ${servers});\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n        props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\r\n        props.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n        props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n        props.put(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;);\r\n        props.put(&quot;basic.auth.user.info&quot;, &quot;${user}:${pass}&quot;);\r\n        props.put(&quot;sasl.kerberos.service.name&quot;, &quot;kafka&quot;);\r\n        props.put(&quot;auto.register.schemas&quot;, &quot;false&quot;);\r\n        props.put(&quot;schema.registry.url&quot;, &quot;${https://your_url}&quot;);\r\n        props.put(&quot;schema.registry.ssl.truststore.location&quot;, &quot;client_truststore.jks&quot;);\r\n        props.put(&quot;schema.registry.ssl.truststore.password&quot;, &quot;${password}&quot;);\r\n\r\n        KafkaProducer producer = new KafkaProducer(props);\r\n\r\n        ClassEvent event = getEventObjectData();\r\n\r\n        ProducerRecord&lt;String, ClassEvent&gt; record = new ProducerRecord&lt;String, ClassEvent&gt;(args[0], event);\r\n\r\nExecution from cluster:\r\n```\r\njava -Djava.security.auth.login.config=${jaas.conf} -cp ${your-producer-example.jar} ${your.package.class.ClassName} ${topic}\r\n```\r\nHope it helps","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I was having the same problem, and it's because of wrong config. Here's my Producer configuration that worked. Change <code>${}</code> properties with your config. Don't forget to set all properties:</p>\n<pre><code>    Properties props = new Properties();\n    props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, ${servers});\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n    props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\n    props.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n    props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n    props.put(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;);\n    props.put(&quot;basic.auth.user.info&quot;, &quot;${user}:${pass}&quot;);\n    props.put(&quot;sasl.kerberos.service.name&quot;, &quot;kafka&quot;);\n    props.put(&quot;auto.register.schemas&quot;, &quot;false&quot;);\n    props.put(&quot;schema.registry.url&quot;, &quot;${https://your_url}&quot;);\n    props.put(&quot;schema.registry.ssl.truststore.location&quot;, &quot;client_truststore.jks&quot;);\n    props.put(&quot;schema.registry.ssl.truststore.password&quot;, &quot;${password}&quot;);\n\n    KafkaProducer producer = new KafkaProducer(props);\n\n    ClassEvent event = getEventObjectData();\n\n    ProducerRecord&lt;String, ClassEvent&gt; record = new ProducerRecord&lt;String, ClassEvent&gt;(args[0], event);\n</code></pre>\n<p>Execution from cluster:</p>\n<pre><code>java -Djava.security.auth.login.config=${jaas.conf} -cp ${your-producer-example.jar} ${your.package.class.ClassName} ${topic}\n</code></pre>\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":5755453,"reputation":11,"user_id":4543565,"display_name":"Chris Lebnitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679327188,"creation_date":1679327188,"answer_id":75792428,"question_id":63714401,"body_markdown":"In the case of reading stream and writing stream from a topic to another, a possible solution could be:\r\n\r\n    &lt;dataset being read&gt;.drop(&quot;partition&quot;)\r\n\r\nExplanation:\r\nthe row in the read dataframe comes with the source&#39;s partition column, if the source topic has more partitions than the destination topic has, then it&#39;s gonna try to write the row to the specified partition in the destination. If that partition doesn&#39;t exist on the destination topic then you will get the error.\r\n\r\nI was also able to obtain a more comprehensive version of the error when deployed in cluster mode:\r\n*Partition 22 of topic &lt;topic name&gt; with partition count 3 is not present in metadata after 60000 ms.*\r\n\r\nThe solution would be to either drop the partition column and let kafka choose the partition itself, or replace the original partition number with a desired one (using modulo #destination partitions).\r\n","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>In the case of reading stream and writing stream from a topic to another, a possible solution could be:</p>\n<pre><code>&lt;dataset being read&gt;.drop(&quot;partition&quot;)\n</code></pre>\n<p>Explanation:\nthe row in the read dataframe comes with the source's partition column, if the source topic has more partitions than the destination topic has, then it's gonna try to write the row to the specified partition in the destination. If that partition doesn't exist on the destination topic then you will get the error.</p>\n<p>I was also able to obtain a more comprehensive version of the error when deployed in cluster mode:\n<em>Partition 22 of topic  with partition count 3 is not present in metadata after 60000 ms.</em></p>\n<p>The solution would be to either drop the partition column and let kafka choose the partition itself, or replace the original partition number with a desired one (using modulo #destination partitions).</p>\n"},{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682335709,"creation_date":1682335709,"answer_id":76091397,"question_id":63714401,"body_markdown":"I faced the same issue, it&#39;s simply the producer wasn&#39;t able to connect to the bootstrap server, and my problem was related to the JKS trust-store for the SSL configuration, once I configured it correctly, everything started to work as usual. \r\n","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I faced the same issue, it's simply the producer wasn't able to connect to the bootstrap server, and my problem was related to the JKS trust-store for the SSL configuration, once I configured it correctly, everything started to work as usual.</p>\n"}],"owner":{"account_id":5641224,"reputation":2476,"user_id":4465028,"accept_rate":68,"display_name":"Gherbi Hicham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128031,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":63839303,"answer_count":17,"score":36,"last_activity_date":1682335709,"creation_date":1599086378,"question_id":63714401,"body_markdown":"I&#39;m getting the error: \r\n\r\n   \r\n\r\n     org.apache.kafka.common.errors.TimeoutException: Topic testtopic2 not present in metadata after 60000 ms.\r\nWhen trying to produce to the topic in my local kafka instance on windows using Java. Note that the topic testtopic2 exists and I&#39;m able produce messages to it using the windows console producer just fine.\r\n\r\nBelow the code that I&#39;m using:\r\n\r\n\r\n\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.kafka.clients.CommonClientConfigs;\r\n    import org.apache.kafka.clients.producer.Callback;\r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    import org.apache.kafka.clients.producer.RecordMetadata;\r\n    \r\n    public class Kafka_Producer {\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n    \t\tprops.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n    \t\tprops.put(ProducerConfig.RETRIES_CONFIG, 0);\r\n    \t\tprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\tprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \r\n    \t\tProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);\r\n    \t\tTestCallback callback = new TestCallback();\r\n    \t\tfor (long i = 0; i &lt; 100 ; i++) {\r\n    \t\t\tProducerRecord&lt;String, String&gt; data = new ProducerRecord&lt;String, String&gt;(\r\n    \t\t\t\t\t&quot;testtopic2&quot;, &quot;key-&quot; + i, &quot;message-&quot;+i );\r\n    \t\t\tproducer.send(data, callback);\r\n    \t\t}\r\n    \r\n    \t\tproducer.close();\r\n    \t}\r\n    \r\n    \r\n    \tprivate static class TestCallback implements Callback {\r\n    \t\t@Override\r\n    \t\tpublic void onCompletion(RecordMetadata recordMetadata, Exception e) {\r\n    \t\t\tif (e != null) {\r\n    \t\t\t\tSystem.out.println(&quot;Error while producing message to topic :&quot; + recordMetadata);\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} else {\r\n    \t\t\t\tString message = String.format(&quot;sent message to topic:%s partition:%s  offset:%s&quot;, recordMetadata.topic(), recordMetadata.partition(), recordMetadata.offset());\r\n    \t\t\t\tSystem.out.println(message);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nPom dependency:\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOutput of list and describe:\r\n[![output of list topics][1]][1]\r\n\r\n[![output of describe testtopic2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nqFIu.png\r\n  [2]: https://i.stack.imgur.com/dvvSk.png","title":"org.apache.kafka.common.errors.TimeoutException: Topic not present in metadata after 60000 ms","body":"<p>I'm getting the error:</p>\n<pre><code> org.apache.kafka.common.errors.TimeoutException: Topic testtopic2 not present in metadata after 60000 ms.\n</code></pre>\n<p>When trying to produce to the topic in my local kafka instance on windows using Java. Note that the topic testtopic2 exists and I'm able produce messages to it using the windows console producer just fine.</p>\n<p>Below the code that I'm using:</p>\n<pre><code>import java.util.Properties;\n\nimport org.apache.kafka.clients.CommonClientConfigs;\nimport org.apache.kafka.clients.producer.Callback;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.RecordMetadata;\n\npublic class Kafka_Producer {\n\n    public static void main(String[] args){\n\n        Properties props = new Properties();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\n        props.put(ProducerConfig.RETRIES_CONFIG, 0);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        Producer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);\n        TestCallback callback = new TestCallback();\n        for (long i = 0; i &lt; 100 ; i++) {\n            ProducerRecord&lt;String, String&gt; data = new ProducerRecord&lt;String, String&gt;(\n                    &quot;testtopic2&quot;, &quot;key-&quot; + i, &quot;message-&quot;+i );\n            producer.send(data, callback);\n        }\n\n        producer.close();\n    }\n\n\n    private static class TestCallback implements Callback {\n        @Override\n        public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n            if (e != null) {\n                System.out.println(&quot;Error while producing message to topic :&quot; + recordMetadata);\n                e.printStackTrace();\n            } else {\n                String message = String.format(&quot;sent message to topic:%s partition:%s  offset:%s&quot;, recordMetadata.topic(), recordMetadata.partition(), recordMetadata.offset());\n                System.out.println(message);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Pom dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Output of list and describe:\n<a href=\"https://i.stack.imgur.com/nqFIu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nqFIu.png\" alt=\"output of list topics\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dvvSk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dvvSk.png\" alt=\"output of describe testtopic2\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1447175071,"post_id":33635456,"comment_id":55044905,"body_markdown":"You can do `objs.values().forEach(value -&gt; value.tick());`","body":"You can do <code>objs.values().forEach(value -&gt; value.tick());</code>"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1447175204,"post_id":33635456,"comment_id":55044992,"body_markdown":"What I would change first is the name of the class Object. You&#39;ll have constant clashes with the standard, auto-imported java.lang.Object class.","body":"What I would change first is the name of the class Object. You&#39;ll have constant clashes with the standard, auto-imported java.lang.Object class."},{"owner":{"account_id":5522871,"reputation":1850,"user_id":4385297,"accept_rate":80,"display_name":"Marvin"},"score":0,"creation_date":1447175280,"post_id":33635456,"comment_id":55045033,"body_markdown":"Ok so you think that using the for loop is the best / simplest way to achieve this?","body":"Ok so you think that using the for loop is the best / simplest way to achieve this?"},{"owner":{"account_id":5522871,"reputation":1850,"user_id":4385297,"accept_rate":80,"display_name":"Marvin"},"score":0,"creation_date":1447175296,"post_id":33635456,"comment_id":55045043,"body_markdown":"Yes I&#39;m going to do that...","body":"Yes I&#39;m going to do that..."}],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682335408,"creation_date":1447175096,"answer_id":33635546,"question_id":33635456,"body_markdown":"    for (MyOb o: objs.values()) {\r\n        o.tick();\r\n    }\r\n\r\nYou could also do this using the stream API:\r\n\r\n    objs.values().forEach(v -&gt; v.tick());\r\n\r\nOr even more compact:\r\n\r\n    objs.values().forEach(MyOb::tick);\r\n","title":"Java - best way to call a method of each object in a collection","body":"<pre><code>for (MyOb o: objs.values()) {\n    o.tick();\n}\n</code></pre>\n<p>You could also do this using the stream API:</p>\n<pre><code>objs.values().forEach(v -&gt; v.tick());\n</code></pre>\n<p>Or even more compact:</p>\n<pre><code>objs.values().forEach(MyOb::tick);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376033,"reputation":716,"user_id":4088809,"display_name":"Tahar Bakir"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447175179,"creation_date":1447175179,"answer_id":33635570,"question_id":33635456,"body_markdown":"    objs.forEach((k, v) -&gt; v.tick());","title":"Java - best way to call a method of each object in a collection","body":"<pre><code>objs.forEach((k, v) -&gt; v.tick());\n</code></pre>\n"}],"owner":{"account_id":5522871,"reputation":1850,"user_id":4385297,"accept_rate":80,"display_name":"Marvin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1447175132,"accepted_answer_id":33635546,"answer_count":2,"score":2,"last_activity_date":1682335408,"creation_date":1447174825,"question_id":33635456,"body_markdown":"I&#39;m trying to make a little 2D game / game engine in Java.\r\n\r\nEach type of object which is the scene extends the class &quot;Object&quot; which has an abstract method &quot;tick()&quot;. Furthermore there&#39;s a class called &quot;Scene&quot; which has a HashMap&lt;String, Object&gt; containing all the objects in the scene. I want the scene to call the method &quot;tick()&quot; of every object in the HashMap (60 times per second).\r\n\r\n    public class Scene {\r\n      private HashMap&lt;String, Object&gt; objs; //HashMap containing all the objects\r\n\r\n      private void tick() {\r\n        for(Entry&lt;String, Object&gt; e : objs.entrySet()) {\r\n          Object o = e.value();\r\n          o.tick();\r\n        }\r\n      }\r\n\r\n      [...]\r\n    }\r\n\r\nNow I&#39;m wondering if there is a better, more elegant way to achieve this. Maybe by creating an EventObject &amp; EventListener or by using an Observable and make each object an Observer?","title":"Java - best way to call a method of each object in a collection","body":"<p>I'm trying to make a little 2D game / game engine in Java.</p>\n\n<p>Each type of object which is the scene extends the class \"Object\" which has an abstract method \"tick()\". Furthermore there's a class called \"Scene\" which has a HashMap containing all the objects in the scene. I want the scene to call the method \"tick()\" of every object in the HashMap (60 times per second).</p>\n\n<pre><code>public class Scene {\n  private HashMap&lt;String, Object&gt; objs; //HashMap containing all the objects\n\n  private void tick() {\n    for(Entry&lt;String, Object&gt; e : objs.entrySet()) {\n      Object o = e.value();\n      o.tick();\n    }\n  }\n\n  [...]\n}\n</code></pre>\n\n<p>Now I'm wondering if there is a better, more elegant way to achieve this. Maybe by creating an EventObject &amp; EventListener or by using an Observable and make each object an Observer?</p>\n"},{"tags":["java","javafx","fxml","rapidapi"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682335256,"post_id":76091329,"comment_id":134193593,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1682335512,"post_id":76091329,"comment_id":134193661,"body_markdown":"Never set something annotated @FXML to a new value.","body":"Never set something annotated @FXML to a new value."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682357657,"post_id":76091329,"comment_id":134199161,"body_markdown":"As noted, never reassign an `@FXML`-annotated field. Such fields are injected with the instance displayed in the UI by the `FXMLLoader`. If you reassign one then you lose access to that instance. You should probably be doing something like `homeTeamLogo.setImage(image)`.","body":"As noted, never reassign an <code>@FXML</code>-annotated field. Such fields are injected with the instance displayed in the UI by the <code>FXMLLoader</code>. If you reassign one then you lose access to that instance. You should probably be doing something like <code>homeTeamLogo.setImage(image)</code>."}],"owner":{"account_id":26207050,"reputation":3,"user_id":19886512,"display_name":"cinosz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682336720,"answer_count":0,"score":0,"last_activity_date":1682335099,"creation_date":1682335099,"question_id":76091329,"body_markdown":"I build desktop app in JavaFX and Spring (net.rgielen). I use one of RapidAPI API. I am trying to display an image with a URL provided with this API (for example: https://tipsscore.com/resb/team/fiorentina.png), but it does not work. The image is not displayed. My piece of Java code:\r\n\r\n```\r\n@FXML\r\nprivate ImageView homeTeamLogo;\r\n\r\n...\r\n\r\nString url = &quot;https://tipsscore.com/resb/team/fiorentina.png&quot;;\r\nImage image = new Image(url);\r\nhomeTeamLogo = new ImageView(image);\r\n```\r\n\r\nAnd a FXML element:\r\n```\r\n&lt;fx:root prefHeight=&quot;200.0&quot; prefWidth=&quot;400.0&quot; type=&quot;javafx.scene.control.ListCell&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    &lt;graphic&gt;\r\n            &lt;AnchorPane&gt;\r\n                    &lt;ImageView fx:id=&quot;homeTeamLogo&quot; fitHeight=&quot;82.0&quot; fitWidth=&quot;77.0&quot; layoutX=&quot;33.0&quot; layoutY=&quot;40.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\r\n            &lt;/AnchorPane&gt;\r\n    &lt;/graphic&gt;\r\n&lt;/fx:root&gt;\r\n```\r\n\r\nI tried this solution:\r\nhttps://stackoverflow.com/questions/55075985/javafx-image-url-not-loading\r\n\r\nbut didn`t help.\r\n\r\n","title":"Problem with setting JavaF ImageView image from URL","body":"<p>I build desktop app in JavaFX and Spring (net.rgielen). I use one of RapidAPI API. I am trying to display an image with a URL provided with this API (for example: <a href=\"https://tipsscore.com/resb/team/fiorentina.png\" rel=\"nofollow noreferrer\">https://tipsscore.com/resb/team/fiorentina.png</a>), but it does not work. The image is not displayed. My piece of Java code:</p>\n<pre><code>@FXML\nprivate ImageView homeTeamLogo;\n\n...\n\nString url = &quot;https://tipsscore.com/resb/team/fiorentina.png&quot;;\nImage image = new Image(url);\nhomeTeamLogo = new ImageView(image);\n</code></pre>\n<p>And a FXML element:</p>\n<pre><code>&lt;fx:root prefHeight=&quot;200.0&quot; prefWidth=&quot;400.0&quot; type=&quot;javafx.scene.control.ListCell&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;graphic&gt;\n            &lt;AnchorPane&gt;\n                    &lt;ImageView fx:id=&quot;homeTeamLogo&quot; fitHeight=&quot;82.0&quot; fitWidth=&quot;77.0&quot; layoutX=&quot;33.0&quot; layoutY=&quot;40.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\n            &lt;/AnchorPane&gt;\n    &lt;/graphic&gt;\n&lt;/fx:root&gt;\n</code></pre>\n<p>I tried this solution:\n<a href=\"https://stackoverflow.com/questions/55075985/javafx-image-url-not-loading\">JavaFX - image url not loading</a></p>\n<p>but didn`t help.</p>\n"},{"tags":["java","swagger","swagger-ui"],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682334842,"creation_date":1682334842,"question_id":76091299,"body_markdown":"I have some routes and I want to organize them with nested tags.\r\nI created two interfaces that should be the parents along with the childs.\r\n\r\n```\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.extensions.Extension;\r\nimport io.swagger.v3.oas.annotations.extensions.ExtensionProperty;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@OpenAPIDefinition(\r\n        tags = {\r\n                @Tag(name = &quot;Admin&quot;, description = &quot;Responsible with support. The api can be accessed &quot; +\r\n                        &quot;only by the authenticated admin&quot;),\r\n                @Tag(name = &quot;Manage users&quot;, description = &quot;Managing and switch user roles.&quot;, extensions = {\r\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\r\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;Admin&quot;)\r\n                        })\r\n                }),\r\n                @Tag(name = &quot;Manage emails&quot;, description = &quot;Managing recruiters.&quot;, extensions = {\r\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\r\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;Admin&quot;)\r\n                        })\r\n                })\r\n        }\r\n)\r\npublic @interface AdminOperation {\r\n}\r\n```\r\n\r\n\r\nand \r\n\r\n```\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.extensions.Extension;\r\nimport io.swagger.v3.oas.annotations.extensions.ExtensionProperty;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@OpenAPIDefinition(\r\n        tags = {\r\n                @Tag(name = &quot;User&quot;, description = &quot;The user logged on platform. The api can be accessed &quot; +\r\n                        &quot;only by the authenticated user&quot;),\r\n                @Tag(name = &quot;Init&quot;, description = &quot;Register an user.&quot;, extensions = {\r\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\r\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;User&quot;)\r\n                        })\r\n                }),\r\n                @Tag(name = &quot;Attributes&quot;, description = &quot;Managing user information.&quot;, extensions = {\r\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\r\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;User&quot;)\r\n                        })\r\n                }),\r\n                @Tag(name = &quot;Resume&quot;, description = &quot;Managing user resume.&quot;, extensions = {\r\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\r\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;User&quot;)\r\n                        })\r\n                })\r\n        }\r\n)\r\npublic @interface UserOperation {\r\n}\r\n```\r\n\r\n\r\nBut still I can only see a parent in swagger ui, but not both. How can I see both or multiple parents in order to organize them better?\r\n\r\nThanks!","title":"Unable to add two parents in swagger","body":"<p>I have some routes and I want to organize them with nested tags.\nI created two interfaces that should be the parents along with the childs.</p>\n<pre><code>import io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.extensions.Extension;\nimport io.swagger.v3.oas.annotations.extensions.ExtensionProperty;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.RUNTIME)\n@OpenAPIDefinition(\n        tags = {\n                @Tag(name = &quot;Admin&quot;, description = &quot;Responsible with support. The api can be accessed &quot; +\n                        &quot;only by the authenticated admin&quot;),\n                @Tag(name = &quot;Manage users&quot;, description = &quot;Managing and switch user roles.&quot;, extensions = {\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;Admin&quot;)\n                        })\n                }),\n                @Tag(name = &quot;Manage emails&quot;, description = &quot;Managing recruiters.&quot;, extensions = {\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;Admin&quot;)\n                        })\n                })\n        }\n)\npublic @interface AdminOperation {\n}\n</code></pre>\n<p>and</p>\n<pre><code>import io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.extensions.Extension;\nimport io.swagger.v3.oas.annotations.extensions.ExtensionProperty;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.RUNTIME)\n@OpenAPIDefinition(\n        tags = {\n                @Tag(name = &quot;User&quot;, description = &quot;The user logged on platform. The api can be accessed &quot; +\n                        &quot;only by the authenticated user&quot;),\n                @Tag(name = &quot;Init&quot;, description = &quot;Register an user.&quot;, extensions = {\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;User&quot;)\n                        })\n                }),\n                @Tag(name = &quot;Attributes&quot;, description = &quot;Managing user information.&quot;, extensions = {\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;User&quot;)\n                        })\n                }),\n                @Tag(name = &quot;Resume&quot;, description = &quot;Managing user resume.&quot;, extensions = {\n                        @Extension(name = &quot;x-tagGroups&quot;, properties = {\n                                @ExtensionProperty(name = &quot;parents&quot;, value = &quot;User&quot;)\n                        })\n                })\n        }\n)\npublic @interface UserOperation {\n}\n</code></pre>\n<p>But still I can only see a parent in swagger ui, but not both. How can I see both or multiple parents in order to organize them better?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"owner":{"account_id":27539479,"reputation":1,"user_id":21016481,"display_name":"Steven Cardenas Vela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682334422,"creation_date":1682230409,"question_id":76083387,"body_markdown":" How do I modify a RequestPart before it reaches my handler method, i.e., how do I pass that modified attribute as a parameter before it reaches my PUT method?\r\n\r\ncode: \r\n\r\nmethod put:\r\n\r\n    @PutMapping(&quot;/update/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; updateUser(@Valid @RequestPart(&quot;user&quot;) Usuario usuario, @RequestPart (value = &quot;image&quot;,required = false) MultipartFile file,@PathVariable Long id){}\r\n\r\n\r\nI tried to do it with an interceptor, but I can&#39;t figure out how to set that Part argument. There seems to be no way to modify Parts, only attributes.\r\n\r\nmy interceptor:\r\n\r\n     @Override\r\n     public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        \r\n      ObjectMapper objectMapper= new ObjectMapper();\r\n      Usuario usuario =  objectMapper.readValue(request.getPart(&quot;user&quot;).getInputStream(),Usuario.class);\r\n                \r\n      usuario.setEstadoConexion(true);\r\n      request.setAttribute(&quot;user&quot;,usuario); // no pass\r\n        \r\n      return true;\r\n     }\r\n\r\n\r\n\r\nI expected my User-type Part to be passed as modified to the parameter of the Put method.","title":"Modify a Part of a RequestPart in Spring Boot 3 spring 6","body":"<p>How do I modify a RequestPart before it reaches my handler method, i.e., how do I pass that modified attribute as a parameter before it reaches my PUT method?</p>\n<p>code:</p>\n<p>method put:</p>\n<pre><code>@PutMapping(&quot;/update/{id}&quot;)\npublic ResponseEntity&lt;?&gt; updateUser(@Valid @RequestPart(&quot;user&quot;) Usuario usuario, @RequestPart (value = &quot;image&quot;,required = false) MultipartFile file,@PathVariable Long id){}\n</code></pre>\n<p>I tried to do it with an interceptor, but I can't figure out how to set that Part argument. There seems to be no way to modify Parts, only attributes.</p>\n<p>my interceptor:</p>\n<pre><code> @Override\n public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n    \n  ObjectMapper objectMapper= new ObjectMapper();\n  Usuario usuario =  objectMapper.readValue(request.getPart(&quot;user&quot;).getInputStream(),Usuario.class);\n            \n  usuario.setEstadoConexion(true);\n  request.setAttribute(&quot;user&quot;,usuario); // no pass\n    \n  return true;\n }\n</code></pre>\n<p>I expected my User-type Part to be passed as modified to the parameter of the Put method.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":3927539,"reputation":160,"user_id":3938227,"accept_rate":38,"display_name":"Varun Upadhyay"},"score":0,"creation_date":1682342723,"post_id":76091231,"comment_id":134195291,"body_markdown":"But I want to repeat it indefinitely with a backoff. I don&#39;t want to cancel the flux after 3 repeat attempts. I want to understand why is the `Flux` not getting cancelled using the `thenCancel`","body":"But I want to repeat it indefinitely with a backoff. I don&#39;t want to cancel the flux after 3 repeat attempts. I want to understand why is the <code>Flux</code> not getting cancelled using the <code>thenCancel</code>"},{"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"score":0,"creation_date":1682405063,"post_id":76091231,"comment_id":134205461,"body_markdown":"StepVerifier - Scenario:\nDEBUG reactor.test.StepVerifier - \t&lt;expectSubscription&gt;\nDEBUG reactor.test.StepVerifier - \t&lt;thenAwait&gt;\nDEBUG reactor.test.StepVerifier - \t&lt;expectNextCount(1)&gt;\nDEBUG reactor.test.StepVerifier - \t&lt;assertNext&gt;\nDEBUG reactor.test.StepVerifier - \t&lt;thenCancel&gt;\nDEBUG reactor.retry.DefaultRepeat - Stopping repeats since predicate returned false, retry context: iteration=1 repeatCompanionValue=1 backoff={0ms}\nDEBUG reactor.retry.DefaultRepeat - Scheduling repeat attempt, retry context: iteration=1 repeatCompanionValue=1 backoff={1000ms/9000ms}","body":"StepVerifier - Scenario: DEBUG reactor.test.StepVerifier - \t&lt;expectSubscription&gt; DEBUG reactor.test.StepVerifier - \t&lt;thenAwait&gt; DEBUG reactor.test.StepVerifier - \t&lt;expectNextCount(1)&gt; DEBUG reactor.test.StepVerifier - \t&lt;assertNext&gt; DEBUG reactor.test.StepVerifier - \t&lt;thenCancel&gt; DEBUG reactor.retry.DefaultRepeat - Stopping repeats since predicate returned false, retry context: iteration=1 repeatCompanionValue=1 backoff={0ms} DEBUG reactor.retry.DefaultRepeat - Scheduling repeat attempt, retry context: iteration=1 repeatCompanionValue=1 backoff={1000ms/9000ms}"},{"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"score":0,"creation_date":1682405133,"post_id":76091231,"comment_id":134205469,"body_markdown":"I am seeing the thenCancel too in log.","body":"I am seeing the thenCancel too in log."},{"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"score":0,"creation_date":1682405170,"post_id":76091231,"comment_id":134205475,"body_markdown":"StepVerifier.create(response).expectSubscription().thenAwait(Duration.ofSeconds(5L))\n                .expectNextCount(1L)\n                .assertNext(System.out::println)\n                .thenCancel().log()\n                .verify();","body":"StepVerifier.create(response).expectSubscription().thenAwait&zwnj;&#8203;(Duration.ofSeconds(&zwnj;&#8203;5L))                 .expectNextCount(1L)                 .assertNext(System.out::println)                 .thenCancel().log()                 .verify();"},{"owner":{"account_id":3927539,"reputation":160,"user_id":3938227,"accept_rate":38,"display_name":"Varun Upadhyay"},"score":0,"creation_date":1682433374,"post_id":76091231,"comment_id":134212723,"body_markdown":"Yes. I can verify that the cancel is invoked. My best guess is that the repeat happens in background thread which stepverifier cannot get hold due to which it is unable to cancel the running flux.","body":"Yes. I can verify that the cancel is invoked. My best guess is that the repeat happens in background thread which stepverifier cannot get hold due to which it is unable to cancel the running flux."}],"tags":[],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682334274,"creation_date":1682334274,"answer_id":76091231,"question_id":76087620,"body_markdown":"Repeat, the default configuration could be an unlimited amount of attempts (Long.MAX_VALUE) with a global timeout(Duration).\r\n\r\nuse repeatMax(3)  that repeats at most 3 times\r\n\r\n     .repeatWhen(Repeat.onlyIf(context -&gt; !isEnabled())\r\n      .exponentialBackoff(Duration.ofSeconds(1L),Duration.ofSeconds(9L)).repeatMax(3))","title":"Flux with repeatWhen never terminates with using onCancel","body":"<p>Repeat, the default configuration could be an unlimited amount of attempts (Long.MAX_VALUE) with a global timeout(Duration).</p>\n<p>use repeatMax(3)  that repeats at most 3 times</p>\n<pre><code> .repeatWhen(Repeat.onlyIf(context -&gt; !isEnabled())\n  .exponentialBackoff(Duration.ofSeconds(1L),Duration.ofSeconds(9L)).repeatMax(3))\n</code></pre>\n"}],"owner":{"account_id":3927539,"reputation":160,"user_id":3938227,"accept_rate":38,"display_name":"Varun Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682334274,"creation_date":1682289910,"question_id":76087620,"body_markdown":"**What I am trying to do with my code**\r\n\r\nI want to build an infinite `Flux` that checks for a condition(A feature flag) and then moves on to process the request based on if the condition is true or not. This can lead to two paths:\r\n - Condition is true. Move forward with processing and then `repeat` the `Flux`\r\n - Condition is false. Don&#39;t do any processing but `repeat` the `Flux` with `exponentialBackoff` of some duration\r\n - If the downstream processing throws an error then `retry` the `Flux`\r\n\r\nTo fulfill above requirements, I have the following code.\r\n```\r\npublic Flux&lt;String&gt; getData(String request) {\r\n    return Flux.just(request)\r\n               .repeatWhen(Repeat.onlyIf(context -&gt; isEnabled()))\r\n               .repeatWhen(Repeat.onlyIf(context -&gt; !isEnabled())\r\n                                 .exponentialBackoff(Duration.ofSeconds(1L), Duration.ofSeconds(5L)))\r\n               .flatMap(this::process)\r\n               .retry();\r\n               \r\n}\r\n```\r\n\r\n**Issue with testing**\r\n\r\nNow when I am trying to test this by mocking the `isEnabled` function to return a false value, I am expecting to wait for some time and then expect no elements being returned from the flux.\r\n\r\nI have tried testing the above code in 4 ways as follows:\r\n\r\n**Without virtual time using thenAwait()**\r\n```\r\nFlux&lt;String&gt; response = getData(sampleRequest);\r\n\r\nStepVerifier.create(response)\r\n         .thenAwait(Duration.ofSeconds(1L))\r\n         .expectNextCount(0L)\r\n         .thenCancel()\r\n         .verify();\r\n```\r\n\r\n**Without virtual time using expectNoEvent()**\r\n```\r\nFlux&lt;String&gt; response = getData(sampleRequest);\r\n\r\nStepVerifier.create(response)\r\n         .expectNoEvent(Duration.ofSeconds(1L))\r\n         .thenCancel()\r\n         .verify();\r\n```\r\n\r\n**With virtual time using thenAwait()**\r\n```\r\nFlux&lt;String&gt; response = getData(sampleRequest);\r\n\r\nStepVerifier.withVirtualTime(() -&gt; response)\r\n         .expectSubscription()\r\n         .thenAwait(Duration.ofSeconds(1L))\r\n         .expectNextCount(0L)\r\n         .thenCancel()\r\n         .verify();\r\n```\r\n\r\n**With virtual time using expectNoEvent()**\r\n```\r\nFlux&lt;String&gt; response = getData(sampleRequest);\r\n\r\nStepVerifier.withVirtualTime(() -&gt; response)\r\n         .expectSubscription()\r\n         .expectNoEvent(Duration.ofSeconds(1L))\r\n         .thenCancel()\r\n         .verify();\r\n```\r\n\r\nAll the above tests end up running indefinitely without terminating. I wanted to understand what am I missing in the scenario when `isEnabled` is false. I understand the re-subscription happens in the background once it encounters a false value for the condition but why doesn&#39;t `StepVerifier` cancels the ongoing `Flux`. \r\n\r\nIt will be really helpful if someone can point me in right direction.","title":"Flux with repeatWhen never terminates with using onCancel","body":"<p><strong>What I am trying to do with my code</strong></p>\n<p>I want to build an infinite <code>Flux</code> that checks for a condition(A feature flag) and then moves on to process the request based on if the condition is true or not. This can lead to two paths:</p>\n<ul>\n<li>Condition is true. Move forward with processing and then <code>repeat</code> the <code>Flux</code></li>\n<li>Condition is false. Don't do any processing but <code>repeat</code> the <code>Flux</code> with <code>exponentialBackoff</code> of some duration</li>\n<li>If the downstream processing throws an error then <code>retry</code> the <code>Flux</code></li>\n</ul>\n<p>To fulfill above requirements, I have the following code.</p>\n<pre><code>public Flux&lt;String&gt; getData(String request) {\n    return Flux.just(request)\n               .repeatWhen(Repeat.onlyIf(context -&gt; isEnabled()))\n               .repeatWhen(Repeat.onlyIf(context -&gt; !isEnabled())\n                                 .exponentialBackoff(Duration.ofSeconds(1L), Duration.ofSeconds(5L)))\n               .flatMap(this::process)\n               .retry();\n               \n}\n</code></pre>\n<p><strong>Issue with testing</strong></p>\n<p>Now when I am trying to test this by mocking the <code>isEnabled</code> function to return a false value, I am expecting to wait for some time and then expect no elements being returned from the flux.</p>\n<p>I have tried testing the above code in 4 ways as follows:</p>\n<p><strong>Without virtual time using thenAwait()</strong></p>\n<pre><code>Flux&lt;String&gt; response = getData(sampleRequest);\n\nStepVerifier.create(response)\n         .thenAwait(Duration.ofSeconds(1L))\n         .expectNextCount(0L)\n         .thenCancel()\n         .verify();\n</code></pre>\n<p><strong>Without virtual time using expectNoEvent()</strong></p>\n<pre><code>Flux&lt;String&gt; response = getData(sampleRequest);\n\nStepVerifier.create(response)\n         .expectNoEvent(Duration.ofSeconds(1L))\n         .thenCancel()\n         .verify();\n</code></pre>\n<p><strong>With virtual time using thenAwait()</strong></p>\n<pre><code>Flux&lt;String&gt; response = getData(sampleRequest);\n\nStepVerifier.withVirtualTime(() -&gt; response)\n         .expectSubscription()\n         .thenAwait(Duration.ofSeconds(1L))\n         .expectNextCount(0L)\n         .thenCancel()\n         .verify();\n</code></pre>\n<p><strong>With virtual time using expectNoEvent()</strong></p>\n<pre><code>Flux&lt;String&gt; response = getData(sampleRequest);\n\nStepVerifier.withVirtualTime(() -&gt; response)\n         .expectSubscription()\n         .expectNoEvent(Duration.ofSeconds(1L))\n         .thenCancel()\n         .verify();\n</code></pre>\n<p>All the above tests end up running indefinitely without terminating. I wanted to understand what am I missing in the scenario when <code>isEnabled</code> is false. I understand the re-subscription happens in the background once it encounters a false value for the condition but why doesn't <code>StepVerifier</code> cancels the ongoing <code>Flux</code>.</p>\n<p>It will be really helpful if someone can point me in right direction.</p>\n"},{"tags":["java","mysql","javafx","scenebuilder"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1682281548,"post_id":76087094,"comment_id":134186730,"body_markdown":"So `initialize` is called when the `ComboBox` is used/an element is selected and not when the scene is created? Does adding `existingCragComboBox.getSelectionModel().clearSelection()` change anything?","body":"So <code>initialize</code> is called when the <code>ComboBox</code> is used/an element is selected and not when the scene is created? Does adding <code>existingCragComboBox.getSelectionModel().clearSelection()</code> change anything?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1682282342,"post_id":76087094,"comment_id":134186835,"body_markdown":"You are adding the entire list to the combo box once for every element of the list. So if the list contains five elements, for example, the whole list will be repeated in the combo box five times. You just need `existingCragComboBox.getItems().addAll(cragList)` without the `for` loop. I don’t know if that will fix the problem, but having the same object in the combo box multiple times may confuse things.","body":"You are adding the entire list to the combo box once for every element of the list. So if the list contains five elements, for example, the whole list will be repeated in the combo box five times. You just need <code>existingCragComboBox.getItems().addAll(cragList)</code> without the <code>for</code> loop. I don’t know if that will fix the problem, but having the same object in the combo box multiple times may confuse things."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682282676,"post_id":76087094,"comment_id":134186877,"body_markdown":"@dan1st *” So initialize is called when the ComboBox is used/an element is selected and not when the scene is created?”*. No, the `initialize()` method is only called (by default) once, when the FXML is loaded.","body":"@dan1st <i>” So initialize is called when the ComboBox is used/an element is selected and not when the scene is created?”</i>. No, the <code>initialize()</code> method is only called (by default) once, when the FXML is loaded."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1682287542,"post_id":76087094,"comment_id":134187431,"body_markdown":"@James_D so what&#39;s the `onAction=&quot;#initialize&quot;` in the FXML?","body":"@James_D so what&#39;s the <code>onAction=&quot;#initialize&quot;</code> in the FXML?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1682288971,"post_id":76087094,"comment_id":134187572,"body_markdown":"@dan1st _so what&#39;s the onAction=&quot;#initialize&quot; in the FXML?_ utter nonsense (to put it bluntly)","body":"@dan1st <i>so what&#39;s the onAction=&quot;#initialize&quot; in the FXML?</i> utter nonsense (to put it bluntly)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682289506,"post_id":76087094,"comment_id":134187609,"body_markdown":"@dan1st Oh, yes, I did not see that. That’s actually the cause of the problem; clearing the items list will cause the list of selected items to be cleared, and doing that while the selected item is changing will cause the index out of bounds exception.  It makes absolutely no sense whatsoever to have the `initialize` method as an event handler. You should post that as an answer.","body":"@dan1st Oh, yes, I did not see that. That’s actually the cause of the problem; clearing the items list will cause the list of selected items to be cleared, and doing that while the selected item is changing will cause the index out of bounds exception.  It makes absolutely no sense whatsoever to have the <code>initialize</code> method as an event handler. You should post that as an answer."}],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1682292459,"post_id":76087667,"comment_id":134187881,"body_markdown":"I haven’t tested it, but I think clearing the selection in response to an action event in the combo box would cause the same issue. (I *think* the exception actually occurs *because* the selection is cleared, indirectly by clearing the entire items list.)","body":"I haven’t tested it, but I think clearing the selection in response to an action event in the combo box would cause the same issue. (I <i>think</i> the exception actually occurs <i>because</i> the selection is cleared, indirectly by clearing the entire items list.)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1682334102,"post_id":76087667,"comment_id":134193313,"body_markdown":"I tested it and you are correct. I thought the issue was because it had a selected and clearing the selection would fix this but after testing, it seems that clearing the selection actually causes the error (I removed that part/thank you for telling me about that).","body":"I tested it and you are correct. I thought the issue was because it had a selected and clearing the selection would fix this but after testing, it seems that clearing the selection actually causes the error (I removed that part/thank you for telling me about that)."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682333936,"creation_date":1682290841,"answer_id":76087667,"question_id":76087094,"body_markdown":"## The problem \r\n\r\nWhen inspecting the stack trace, it seems like it&#39;s only JavaFX specific code. One seemingly interesting line is\r\n&gt; javafx.controls@19.0.2.1/javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:394)\r\n\r\nSo the error seems to occur when selecting something.\r\n\r\nIt seems like you are calling `initialize` when using your `ComboBox` by putting `onAction=&quot;#initialize&quot;` in your code.\r\n\r\nSo, when selecting an element, it would execute the `initialize` method. This would remove the elements and possibly add some again.\r\n\r\nSince you selected an element but that element is no longer present, it throws the exception when attempting to access the selected element\r\n\r\n## Don&#39;t call `initialize`\r\n\r\nFrom the name `initialize`, I assume that it should only be called when scene is loaded. If you remove `onAction=&quot;#initialize&quot;` from your FXML file, that would no longer happen.\r\n\r\n## Other problems\r\n\r\nAs [@James_D](https://stackoverflow.com/users/2189127/james-d) mentioned [in the comments of the question](https://stackoverflow.com/questions/76087094/javafx-selecting-value-in-combobox-throws-indexoutofboundsexception?noredirect=1#comment134186835_76087094), you are calling `addAll` in a loop with the same elements. This would add the same elements multiple times. Assuming you don&#39;t want that, remove the loop and only keep the body of the loop.","title":"JavaFX selecting value in ComboBox throws IndexOutOfBoundsException","body":"<h2>The problem</h2>\n<p>When inspecting the stack trace, it seems like it's only JavaFX specific code. One seemingly interesting line is</p>\n<blockquote>\n<p>javafx.controls@19.0.2.1/javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:394)</p>\n</blockquote>\n<p>So the error seems to occur when selecting something.</p>\n<p>It seems like you are calling <code>initialize</code> when using your <code>ComboBox</code> by putting <code>onAction=&quot;#initialize&quot;</code> in your code.</p>\n<p>So, when selecting an element, it would execute the <code>initialize</code> method. This would remove the elements and possibly add some again.</p>\n<p>Since you selected an element but that element is no longer present, it throws the exception when attempting to access the selected element</p>\n<h2>Don't call <code>initialize</code></h2>\n<p>From the name <code>initialize</code>, I assume that it should only be called when scene is loaded. If you remove <code>onAction=&quot;#initialize&quot;</code> from your FXML file, that would no longer happen.</p>\n<h2>Other problems</h2>\n<p>As <a href=\"https://stackoverflow.com/users/2189127/james-d\">@James_D</a> mentioned <a href=\"https://stackoverflow.com/questions/76087094/javafx-selecting-value-in-combobox-throws-indexoutofboundsexception?noredirect=1#comment134186835_76087094\">in the comments of the question</a>, you are calling <code>addAll</code> in a loop with the same elements. This would add the same elements multiple times. Assuming you don't want that, remove the loop and only keep the body of the loop.</p>\n"}],"owner":{"account_id":28390082,"reputation":11,"user_id":21715986,"display_name":"Fatima AG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682333936,"creation_date":1682281433,"question_id":76087094,"body_markdown":"I am having issues with selecting a value in the ComboBox. I get a IndexOutOfBoundsException when a value is selected.\r\n\r\nI have tried changing the for loop and it did not work. The values in the combobox also seem to repeat multiple times.\r\n\r\nCan someone suggest what the issue is?\r\n\r\n```\r\npackage edu.unlv.mis768.project;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ChoiceBox;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.control.RadioButton;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.ToggleGroup;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddOption1Controller {\r\n\t  @FXML\r\n\t    private Button CancelButton;\r\n\r\n\t    @FXML\r\n\t    private RadioButton ExistingCragRadioButton;\r\n\r\n\t    @FXML\r\n\t    private RadioButton NewCragRadioButton;\r\n\r\n\t    @FXML\r\n\t    private ToggleGroup NewExistingCrag;\r\n\r\n\t    @FXML\r\n\t    private Button NextButton;\r\n\t    \r\n\t    @FXML\r\n\t    private TableView&lt;ClimbingCrag&gt; cragTableView;\r\n\r\n\t    @FXML\r\n\t    private ComboBox&lt;ClimbingCrag&gt; existingCragComboBox;\r\n\t   \r\n    /**\r\n     * this method will initialize the scene to have the correct values for the crag choice list\r\n     */\r\n    public void initialize() {\r\n    \texistingCragComboBox.setDisable(true);\r\n    \t// Create an instance of the DAO implementation class\r\n        CragDAO cragDAO = new CragDAOImpl();\r\n        \r\n        // Call the getAllCragNames() method to retrieve the list of crags\r\n        List&lt;ClimbingCrag&gt; cragList = cragDAO.getAllCragNames();\r\n        \r\n        // Clear the existing items in the choice box\r\n        existingCragComboBox.getItems().clear();\r\n        \r\n        // Loop through the cragList and add the string representation of each object to the choice box\r\n        System.out.print(cragList.size());\r\n        for (int i = 0; i &lt; cragList.size(); i++) {\r\n        \t\tSystem.out.println(&quot;here&quot;);\r\n        \t\texistingCragComboBox.getItems().addAll(cragList);\r\n        \t}\r\n    \t}\r\n```\r\n\r\n```\r\npackage edu.unlv.mis768.project;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class CragDAOImpl implements CragDAO {\r\n    \r\n@Override\r\npublic List&lt;ClimbingCrag&gt; getAllCragNames() {\r\n\t// Create a array list for the data.//defined as the superclass List so we can display on GUI like observable list\r\n    List&lt;ClimbingCrag&gt; cragList = new ArrayList&lt;ClimbingCrag&gt;();\r\n    \r\n\ttry {\r\n\t\tConnection conn = RockClimbingUtil.getDBConnection();\r\n\t\tStatement stmt = conn.createStatement(\r\n        \t\tResultSet.TYPE_SCROLL_INSENSITIVE,\r\n        \t\tResultSet.CONCUR_READ_ONLY);\r\n\t\t\r\n\t\t//String sql = &quot;SELECT * FROM &quot; + DBConstants.CRAG_TABLE_NAME;\r\n\t\tString sql = &quot;SELECT &quot;+ DBConstants.CRAG_PK_NAME+ &quot; FROM &quot; + DBConstants.CRAG_TABLE_NAME;\r\n\t\t//Execute the query.\r\n        ResultSet result = stmt.executeQuery(sql);\r\n        \r\n        //Get the number of rows.\r\n        result.last();                 // Move to last row\r\n        int numRows = result.getRow(); // Get row number\r\n        result.first();                // Move to first row\r\n\r\n        for (int row = 0; row &lt; numRows; row++) {\r\n        \t// create a new object and fill the field with the values from the result set.\r\n        \tClimbingCrag aCrag = new ClimbingCrag(result.getString(&quot;Name&quot;));\r\n        \t\r\n        \t//Add the object to the list\r\n        \tcragList.add(aCrag);\r\n\r\n           // Go to the next row in the ResultSet.\r\n           result.next(); \r\n        } \r\n        // close the database connection\r\n        \r\n            stmt.close();\r\n            RockClimbingUtil.closeDBConnection(conn);\r\n   \r\n\t\t\t\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(&quot;ERROR: &quot; + ex.getMessage());\r\n\t}\r\n\t// return the result\r\n\treturn cragList;\r\n}\t\r\n```\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException: [ fromIndex: 0, toIndex: 1, size: 0 ]\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.subList(ReadOnlyUnbackedObservableList.java:171)\r\n\tat javafx.base@19.0.2.1/javafx.collections.ListChangeListener$Change.getAddedSubList(ListChangeListener.java:243)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ListViewBehavior.lambda$new$57(ListViewBehavior.java:292)\r\n\tat javafx.base@19.0.2.1/javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\r\n\tat javafx.base@19.0.2.1/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:239)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.callObservers(ReadOnlyUnbackedObservableList.java:110)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:394)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.ListView$ListViewBitSetSelectionModel.clearAndSelect(ListView.java:1452)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.CellBehaviorBase.simpleSelect(CellBehaviorBase.java:282)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.CellBehaviorBase.doSelect(CellBehaviorBase.java:246)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.CellBehaviorBase.mousePressed(CellBehaviorBase.java:176)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nFXML Code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.RadioButton?&gt;\r\n&lt;?import javafx.scene.control.ToggleGroup?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;502.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;edu.unlv.mis768.project.AddOption1Controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ImageView fitHeight=&quot;200.0&quot; fitWidth=&quot;502.0&quot; layoutY=&quot;-1.0&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@Half_Dome.jpg&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;Label layoutX=&quot;38.0&quot; layoutY=&quot;234.0&quot; text=&quot;Please Select New or Existing Crag:&quot; /&gt;\r\n      &lt;RadioButton fx:id=&quot;NewCragRadioButton&quot; layoutX=&quot;38.0&quot; layoutY=&quot;272.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#radioButtonListener&quot; text=&quot;New Crag&quot;&gt;\r\n         &lt;toggleGroup&gt;\r\n            &lt;ToggleGroup fx:id=&quot;NewExistingCrag&quot; /&gt;\r\n         &lt;/toggleGroup&gt;\r\n      &lt;/RadioButton&gt;\r\n      &lt;RadioButton fx:id=&quot;ExistingCragRadioButton&quot; layoutX=&quot;141.0&quot; layoutY=&quot;272.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#radioButtonListener&quot; text=&quot;Existing Crag&quot; toggleGroup=&quot;$NewExistingCrag&quot; /&gt;\r\n      &lt;Button fx:id=&quot;CancelButton&quot; layoutX=&quot;336.0&quot; layoutY=&quot;532.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#changeSceneToMainMenu&quot; text=&quot;Cancel&quot; /&gt;\r\n      &lt;Button fx:id=&quot;NextButton&quot; layoutX=&quot;420.0&quot; layoutY=&quot;532.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#nextButtonListener&quot; text=&quot;Next&quot; /&gt;\r\n      &lt;Label layoutX=&quot;190.0&quot; layoutY=&quot;64.0&quot; prefHeight=&quot;69.0&quot; prefWidth=&quot;122.0&quot; text=&quot;Crux&quot; textFill=&quot;WHITE&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;System Bold&quot; size=&quot;48.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;ComboBox fx:id=&quot;existingCragComboBox&quot; layoutX=&quot;261.0&quot; layoutY=&quot;268.0&quot; onAction=&quot;#initialize&quot; prefWidth=&quot;150.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nWe tried changing the for loop and we got the same error","title":"JavaFX selecting value in ComboBox throws IndexOutOfBoundsException","body":"<p>I am having issues with selecting a value in the ComboBox. I get a IndexOutOfBoundsException when a value is selected.</p>\n<p>I have tried changing the for loop and it did not work. The values in the combobox also seem to repeat multiple times.</p>\n<p>Can someone suggest what the issue is?</p>\n<pre><code>package edu.unlv.mis768.project;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.stage.Stage;\n\npublic class AddOption1Controller {\n      @FXML\n        private Button CancelButton;\n\n        @FXML\n        private RadioButton ExistingCragRadioButton;\n\n        @FXML\n        private RadioButton NewCragRadioButton;\n\n        @FXML\n        private ToggleGroup NewExistingCrag;\n\n        @FXML\n        private Button NextButton;\n        \n        @FXML\n        private TableView&lt;ClimbingCrag&gt; cragTableView;\n\n        @FXML\n        private ComboBox&lt;ClimbingCrag&gt; existingCragComboBox;\n       \n    /**\n     * this method will initialize the scene to have the correct values for the crag choice list\n     */\n    public void initialize() {\n        existingCragComboBox.setDisable(true);\n        // Create an instance of the DAO implementation class\n        CragDAO cragDAO = new CragDAOImpl();\n        \n        // Call the getAllCragNames() method to retrieve the list of crags\n        List&lt;ClimbingCrag&gt; cragList = cragDAO.getAllCragNames();\n        \n        // Clear the existing items in the choice box\n        existingCragComboBox.getItems().clear();\n        \n        // Loop through the cragList and add the string representation of each object to the choice box\n        System.out.print(cragList.size());\n        for (int i = 0; i &lt; cragList.size(); i++) {\n                System.out.println(&quot;here&quot;);\n                existingCragComboBox.getItems().addAll(cragList);\n            }\n        }\n</code></pre>\n<pre><code>package edu.unlv.mis768.project;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class CragDAOImpl implements CragDAO {\n    \n@Override\npublic List&lt;ClimbingCrag&gt; getAllCragNames() {\n    // Create a array list for the data.//defined as the superclass List so we can display on GUI like observable list\n    List&lt;ClimbingCrag&gt; cragList = new ArrayList&lt;ClimbingCrag&gt;();\n    \n    try {\n        Connection conn = RockClimbingUtil.getDBConnection();\n        Statement stmt = conn.createStatement(\n                ResultSet.TYPE_SCROLL_INSENSITIVE,\n                ResultSet.CONCUR_READ_ONLY);\n        \n        //String sql = &quot;SELECT * FROM &quot; + DBConstants.CRAG_TABLE_NAME;\n        String sql = &quot;SELECT &quot;+ DBConstants.CRAG_PK_NAME+ &quot; FROM &quot; + DBConstants.CRAG_TABLE_NAME;\n        //Execute the query.\n        ResultSet result = stmt.executeQuery(sql);\n        \n        //Get the number of rows.\n        result.last();                 // Move to last row\n        int numRows = result.getRow(); // Get row number\n        result.first();                // Move to first row\n\n        for (int row = 0; row &lt; numRows; row++) {\n            // create a new object and fill the field with the values from the result set.\n            ClimbingCrag aCrag = new ClimbingCrag(result.getString(&quot;Name&quot;));\n            \n            //Add the object to the list\n            cragList.add(aCrag);\n\n           // Go to the next row in the ResultSet.\n           result.next(); \n        } \n        // close the database connection\n        \n            stmt.close();\n            RockClimbingUtil.closeDBConnection(conn);\n   \n            \n        } catch (Exception ex) {\n            System.out.println(&quot;ERROR: &quot; + ex.getMessage());\n    }\n    // return the result\n    return cragList;\n}   \n</code></pre>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException: [ fromIndex: 0, toIndex: 1, size: 0 ]\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.subList(ReadOnlyUnbackedObservableList.java:171)\n    at javafx.base@19.0.2.1/javafx.collections.ListChangeListener$Change.getAddedSubList(ListChangeListener.java:243)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ListViewBehavior.lambda$new$57(ListViewBehavior.java:292)\n    at javafx.base@19.0.2.1/javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)\n    at javafx.base@19.0.2.1/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\n    at javafx.base@19.0.2.1/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\n    at javafx.base@19.0.2.1/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:239)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.ReadOnlyUnbackedObservableList.callObservers(ReadOnlyUnbackedObservableList.java:110)\n    at javafx.controls@19.0.2.1/javafx.scene.control.MultipleSelectionModelBase.clearAndSelect(MultipleSelectionModelBase.java:394)\n    at javafx.controls@19.0.2.1/javafx.scene.control.ListView$ListViewBitSetSelectionModel.clearAndSelect(ListView.java:1452)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.CellBehaviorBase.simpleSelect(CellBehaviorBase.java:282)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.CellBehaviorBase.doSelect(CellBehaviorBase.java:246)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.CellBehaviorBase.mousePressed(CellBehaviorBase.java:176)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>FXML Code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.RadioButton?&gt;\n&lt;?import javafx.scene.control.ToggleGroup?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;502.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;edu.unlv.mis768.project.AddOption1Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;ImageView fitHeight=&quot;200.0&quot; fitWidth=&quot;502.0&quot; layoutY=&quot;-1.0&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@Half_Dome.jpg&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;Label layoutX=&quot;38.0&quot; layoutY=&quot;234.0&quot; text=&quot;Please Select New or Existing Crag:&quot; /&gt;\n      &lt;RadioButton fx:id=&quot;NewCragRadioButton&quot; layoutX=&quot;38.0&quot; layoutY=&quot;272.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#radioButtonListener&quot; text=&quot;New Crag&quot;&gt;\n         &lt;toggleGroup&gt;\n            &lt;ToggleGroup fx:id=&quot;NewExistingCrag&quot; /&gt;\n         &lt;/toggleGroup&gt;\n      &lt;/RadioButton&gt;\n      &lt;RadioButton fx:id=&quot;ExistingCragRadioButton&quot; layoutX=&quot;141.0&quot; layoutY=&quot;272.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#radioButtonListener&quot; text=&quot;Existing Crag&quot; toggleGroup=&quot;$NewExistingCrag&quot; /&gt;\n      &lt;Button fx:id=&quot;CancelButton&quot; layoutX=&quot;336.0&quot; layoutY=&quot;532.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#changeSceneToMainMenu&quot; text=&quot;Cancel&quot; /&gt;\n      &lt;Button fx:id=&quot;NextButton&quot; layoutX=&quot;420.0&quot; layoutY=&quot;532.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#nextButtonListener&quot; text=&quot;Next&quot; /&gt;\n      &lt;Label layoutX=&quot;190.0&quot; layoutY=&quot;64.0&quot; prefHeight=&quot;69.0&quot; prefWidth=&quot;122.0&quot; text=&quot;Crux&quot; textFill=&quot;WHITE&quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;System Bold&quot; size=&quot;48.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;ComboBox fx:id=&quot;existingCragComboBox&quot; layoutX=&quot;261.0&quot; layoutY=&quot;268.0&quot; onAction=&quot;#initialize&quot; prefWidth=&quot;150.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>We tried changing the for loop and we got the same error</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":1132601,"reputation":4384,"user_id":1118336,"accept_rate":79,"display_name":"shaunlim"},"score":0,"creation_date":1325032598,"post_id":8650683,"comment_id":10747508,"body_markdown":"Hi Luke, thanks for your response! I actually made a little progress after posting the question and what I did looks similar to what you suggested. I still have the problem of not being able to add extra fields like (email, etc) to the Authentication object. I implemented a custom Authentication class but am getting errors. Please see my update..","body":"Hi Luke, thanks for your response! I actually made a little progress after posting the question and what I did looks similar to what you suggested. I still have the problem of not being able to add extra fields like (email, etc) to the Authentication object. I implemented a custom Authentication class but am getting errors. Please see my update.."},{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1325033037,"post_id":8650683,"comment_id":10747577,"body_markdown":"Looks like you are doing an invalid cast in your CustomAuthenticationProvider, line 27 to UsernamePasswordAuthenticationToken. There shouldn&#39;t normally be any need to create a custom Authentication object.","body":"Looks like you are doing an invalid cast in your CustomAuthenticationProvider, line 27 to UsernamePasswordAuthenticationToken. There shouldn&#39;t normally be any need to create a custom Authentication object."},{"owner":{"account_id":1132601,"reputation":4384,"user_id":1118336,"accept_rate":79,"display_name":"shaunlim"},"score":0,"creation_date":1325033093,"post_id":8650683,"comment_id":10747590,"body_markdown":"oh .. i get it. Do you mean that instead of passing in the username as principal to the UsernamePasswordAuthenticationToken constructor, i should pass in my custom user object containing all the extra fields i need? then when i need the data, i&#39;ll just call getPrincipal after retrieving the Authentication object?","body":"oh .. i get it. Do you mean that instead of passing in the username as principal to the UsernamePasswordAuthenticationToken constructor, i should pass in my custom user object containing all the extra fields i need? then when i need the data, i&#39;ll just call getPrincipal after retrieving the Authentication object?"},{"owner":{"account_id":1132601,"reputation":4384,"user_id":1118336,"accept_rate":79,"display_name":"shaunlim"},"score":0,"creation_date":1325033150,"post_id":8650683,"comment_id":10747603,"body_markdown":"as to the invalid casting .. as you can see from my code, i&#39;m not doing any casting at all..","body":"as to the invalid casting .. as you can see from my code, i&#39;m not doing any casting at all.."},{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1325033391,"post_id":8650683,"comment_id":10747640,"body_markdown":"Hmm. Well the ClassCastException is occurring in your code, so you must be attempting to assign your object to a UsernamePasswordAuthenticationToken in there somewhere.","body":"Hmm. Well the ClassCastException is occurring in your code, so you must be attempting to assign your object to a UsernamePasswordAuthenticationToken in there somewhere."}],"tags":[],"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"comment_count":5,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1501445539,"creation_date":1325032177,"answer_id":8650683,"question_id":8649818,"body_markdown":"If you are implementing your own `AuthenticationProvider`, You don&#39;t have to implement a `UserDetailsService` if you don&#39;t want to. `UserDetailsService` just provides a standard DAO for loading user information and some other classes within the framework are implemented to use it.\r\n\r\nNormally, to authenticate using a username and password, you would instantiate a [`DaoAuthenticationProvider`][1] and inject that with a `UserDetailsService`. That may still be your best approach. If you implement your own provider, you take on the responsibility of making sure the user has supplied the correct password and so on. However, in some cases this is a simpler approach.\r\n\r\nTo answer your &quot;what should happen here?&quot; comment in your code, it would be something like\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n      UsernamePasswordAuthenticationToken auth = (UsernamePasswordAuthenticationToken) authentication;\r\n      String username = String.valueOf(auth.getPrincipal());\r\n      String password = String.valueOf(auth.getCredentials());\r\n\r\n      logger.info(&quot;username:&quot; + username);\r\n      logger.info(&quot;password:&quot; + password); // Don&#39;t log passwords in real app\r\n\r\n      // 1. Use the username to load the data for the user, including authorities and password.\r\n      YourUser user = ....\r\n     \r\n      // 2. Check the passwords match (should use a hashed password here).\r\n      if (!user.getPassword().equals(password)) {\r\n        throw new BadCredentialsException(&quot;Bad Credentials&quot;);\r\n      }\r\n\r\n      // 3. Preferably clear the password in the user object before storing in authentication object\r\n      user.clearPassword();\r\n\r\n      // 4. Return an authenticated token, containing user data and authorities  \r\n      \r\n      return new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities()) ;\r\n    }\r\n\r\nThe user object will then be accessible using the\r\n\r\n    Authentication.getPrincipal()\r\n\r\nmethod, and you can access the additional properties (email etc) by casting it to your custom user implementation.\r\n\r\nHow you load the user data is up to you. All Spring Security cares about here is the `AuthenticationProvider` interface.\r\n\r\nYou should also store hashed passwords and validate the supplied password using the same algorithm, rather than a simple equality check.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring-security/site/xref/org/springframework/security/providers/dao/DaoAuthenticationProvider.html\r\n  [2]: http://static.springsource.org/spring-security/site/xref/org/springframework/security/providers/dao/AbstractUserDetailsAuthenticationProvider.html#177","title":"Implement custom AuthenticationProvider in Spring Security 2.06","body":"<p>If you are implementing your own <code>AuthenticationProvider</code>, You don't have to implement a <code>UserDetailsService</code> if you don't want to. <code>UserDetailsService</code> just provides a standard DAO for loading user information and some other classes within the framework are implemented to use it.</p>\n\n<p>Normally, to authenticate using a username and password, you would instantiate a <a href=\"http://static.springsource.org/spring-security/site/xref/org/springframework/security/providers/dao/DaoAuthenticationProvider.html\" rel=\"noreferrer\"><code>DaoAuthenticationProvider</code></a> and inject that with a <code>UserDetailsService</code>. That may still be your best approach. If you implement your own provider, you take on the responsibility of making sure the user has supplied the correct password and so on. However, in some cases this is a simpler approach.</p>\n\n<p>To answer your \"what should happen here?\" comment in your code, it would be something like</p>\n\n<pre><code>@Override\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\n  UsernamePasswordAuthenticationToken auth = (UsernamePasswordAuthenticationToken) authentication;\n  String username = String.valueOf(auth.getPrincipal());\n  String password = String.valueOf(auth.getCredentials());\n\n  logger.info(\"username:\" + username);\n  logger.info(\"password:\" + password); // Don't log passwords in real app\n\n  // 1. Use the username to load the data for the user, including authorities and password.\n  YourUser user = ....\n\n  // 2. Check the passwords match (should use a hashed password here).\n  if (!user.getPassword().equals(password)) {\n    throw new BadCredentialsException(\"Bad Credentials\");\n  }\n\n  // 3. Preferably clear the password in the user object before storing in authentication object\n  user.clearPassword();\n\n  // 4. Return an authenticated token, containing user data and authorities  \n\n  return new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities()) ;\n}\n</code></pre>\n\n<p>The user object will then be accessible using the</p>\n\n<pre><code>Authentication.getPrincipal()\n</code></pre>\n\n<p>method, and you can access the additional properties (email etc) by casting it to your custom user implementation.</p>\n\n<p>How you load the user data is up to you. All Spring Security cares about here is the <code>AuthenticationProvider</code> interface.</p>\n\n<p>You should also store hashed passwords and validate the supplied password using the same algorithm, rather than a simple equality check.</p>\n"},{"tags":[],"owner":{"account_id":3516093,"reputation":81,"user_id":2939488,"display_name":"jasonwhite01"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386104168,"creation_date":1386097818,"answer_id":20359598,"question_id":8649818,"body_markdown":"thanks for posting this Luke!\r\n\r\nSaved me from *more* brain damage.\r\n\r\nOnly thing of note I ran into, for anyone who cares:\r\n\r\nMy setup: \r\n\r\n - Grails 2.0.4 \r\n - Groovy 1.8 \r\n - spring-security-core 1.2.7.3\r\n - spring-security-ui 0.2  \r\n - hibernate 2.0.4\r\n\r\nWhen utilizing the *greatly appreciated simplified/elegant* approach Luke suggests, NOT implementing a custom UserDetails (or UserDetailsService) object -and- using your own User **domain** object that does not extend anything special, you *must* take an extra step if you are using the &quot;sec&quot; custom tags from spring security (in your pages of course):\r\n\r\nWhen you instantiate a basic, non-custom UsernamePasswordAuthenticationToken, you MUST pass it an instantiation of something that extends Principal, again, if you want your spring security custom gap tags to work.  I did something like this, to keep it as simple as possible (referencing my user domain object values where useful/appropriate): \r\n\r\n    def principalUser = new org.springframework.security.core.userdetails.User(user.username, user.password, user.enabled, !user.accountExpired, !user.passwordExpired,!user.accountLocked, authorities)\r\n    def token = new UsernamePasswordAuthenticationToken(principalUser, presentedPassword, authorities)\r\n\r\n\r\nThis should satisfy the conditions tested for in grails.plugins.springsecurity.SecurityTagLib.determineSource() so, you know, your pages that use `&lt;sec:loggedInUserInfo&gt;` will actually render:\r\n\r\n    if (principal.metaClass.respondsTo(principal, &#39;getDomainClass&#39;)) {\r\n    \t\t\treturn principal.domainClass\r\n    }\r\n\r\n\r\nOtherwise, if you instantiate the UsernamePasswordAuthenticationToken with your User domain object (as Luke show in his example), that security tag lib method (determineSource()) will just do it&#39;s level best and return the (meta) value of  *org.codehaus.groovy.grails.commons.DefaultGrailsDomainClass* and you&#39;ll get an error when the tag goes looking for the username member variable stating:\r\n\r\n     Error executing tag &lt;sec:ifLoggedIn&gt;: Error executing tag &lt;sec:loggedInUserInfo&gt;: No such property: username for class: org.codehaus.groovy.grails.commons.DefaultGrailsDomainClass\r\n\r\n\r\nShort of re-implementing/subclassing the spring-security-core plugin taglibs in my grails project, there&#39;s just no way to both use the taglibs AND use your custom domain User class to instantiate the token being passed from your filter to your provider.\r\n\r\nThen again, one extra line of code is a *very* small price to pay :)","title":"Implement custom AuthenticationProvider in Spring Security 2.06","body":"<p>thanks for posting this Luke!</p>\n\n<p>Saved me from <em>more</em> brain damage.</p>\n\n<p>Only thing of note I ran into, for anyone who cares:</p>\n\n<p>My setup: </p>\n\n<ul>\n<li>Grails 2.0.4 </li>\n<li>Groovy 1.8 </li>\n<li>spring-security-core 1.2.7.3</li>\n<li>spring-security-ui 0.2  </li>\n<li>hibernate 2.0.4</li>\n</ul>\n\n<p>When utilizing the <em>greatly appreciated simplified/elegant</em> approach Luke suggests, NOT implementing a custom UserDetails (or UserDetailsService) object -and- using your own User <strong>domain</strong> object that does not extend anything special, you <em>must</em> take an extra step if you are using the \"sec\" custom tags from spring security (in your pages of course):</p>\n\n<p>When you instantiate a basic, non-custom UsernamePasswordAuthenticationToken, you MUST pass it an instantiation of something that extends Principal, again, if you want your spring security custom gap tags to work.  I did something like this, to keep it as simple as possible (referencing my user domain object values where useful/appropriate): </p>\n\n<pre><code>def principalUser = new org.springframework.security.core.userdetails.User(user.username, user.password, user.enabled, !user.accountExpired, !user.passwordExpired,!user.accountLocked, authorities)\ndef token = new UsernamePasswordAuthenticationToken(principalUser, presentedPassword, authorities)\n</code></pre>\n\n<p>This should satisfy the conditions tested for in grails.plugins.springsecurity.SecurityTagLib.determineSource() so, you know, your pages that use <code>&lt;sec:loggedInUserInfo&gt;</code> will actually render:</p>\n\n<pre><code>if (principal.metaClass.respondsTo(principal, 'getDomainClass')) {\n            return principal.domainClass\n}\n</code></pre>\n\n<p>Otherwise, if you instantiate the UsernamePasswordAuthenticationToken with your User domain object (as Luke show in his example), that security tag lib method (determineSource()) will just do it's level best and return the (meta) value of  <em>org.codehaus.groovy.grails.commons.DefaultGrailsDomainClass</em> and you'll get an error when the tag goes looking for the username member variable stating:</p>\n\n<pre><code> Error executing tag &lt;sec:ifLoggedIn&gt;: Error executing tag &lt;sec:loggedInUserInfo&gt;: No such property: username for class: org.codehaus.groovy.grails.commons.DefaultGrailsDomainClass\n</code></pre>\n\n<p>Short of re-implementing/subclassing the spring-security-core plugin taglibs in my grails project, there's just no way to both use the taglibs AND use your custom domain User class to instantiate the token being passed from your filter to your provider.</p>\n\n<p>Then again, one extra line of code is a <em>very</em> small price to pay :)</p>\n"},{"tags":[],"owner":{"account_id":2401014,"reputation":130,"user_id":2098669,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682333438,"creation_date":1682332712,"answer_id":76091016,"question_id":8649818,"body_markdown":"- UserDetailsService is to be implemented when an application relies on a simple Authentication provider, which expects a username and password, which are passed in request headers. It is a standard stack, where AuthenticationPorvider is the default provider, which is provided by Spring Framework. Once an application supplied its own security provider, then supplying a UsrDetailServices has no sense (otherwise - why the provider is supplied for a standard authentication flow?).\r\n- In this case, the security provider, which is supplied by the application is responsible for the whole implementation of the authenticate(..) function and must be aware of what type of Authentication is provided to process it properly (there are a set of the implementation of the  AbstractAuthenticationToken:https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/authentication/AbstractAuthenticationToken.html). \r\n- By default, Spring expects UsernamePasswordAuthennticationToken, which can be created and returned, where **the crucial properties are isAuthenticated and getAuthorites(). If isAuthenticated is true, then authentication is done**. The creator, which created the authentication provider decides why and how the current request is authenticated. It cans use any injected beans, holders, like RequestContextHolder, or something else, that is enough for authentication (for example, there can be a set of HTTP request headers with encrypted authentication data). But there is no need to use UserDetailsService, it is redundant (as a participator of the security chain). If just username and password headers are the data for authentication, then what is the reason to produce a dedicated AuthehticationPorvider?","title":"Implement custom AuthenticationProvider in Spring Security 2.06","body":"<ul>\n<li>UserDetailsService is to be implemented when an application relies on a simple Authentication provider, which expects a username and password, which are passed in request headers. It is a standard stack, where AuthenticationPorvider is the default provider, which is provided by Spring Framework. Once an application supplied its own security provider, then supplying a UsrDetailServices has no sense (otherwise - why the provider is supplied for a standard authentication flow?).</li>\n<li>In this case, the security provider, which is supplied by the application is responsible for the whole implementation of the authenticate(..) function and must be aware of what type of Authentication is provided to process it properly (there are a set of the implementation of the  AbstractAuthenticationToken:<a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/authentication/AbstractAuthenticationToken.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/authentication/AbstractAuthenticationToken.html</a>).</li>\n<li>By default, Spring expects UsernamePasswordAuthennticationToken, which can be created and returned, where <strong>the crucial properties are isAuthenticated and getAuthorites(). If isAuthenticated is true, then authentication is done</strong>. The creator, which created the authentication provider decides why and how the current request is authenticated. It cans use any injected beans, holders, like RequestContextHolder, or something else, that is enough for authentication (for example, there can be a set of HTTP request headers with encrypted authentication data). But there is no need to use UserDetailsService, it is redundant (as a participator of the security chain). If just username and password headers are the data for authentication, then what is the reason to produce a dedicated AuthehticationPorvider?</li>\n</ul>\n"}],"owner":{"account_id":1132601,"reputation":4384,"user_id":1118336,"accept_rate":79,"display_name":"shaunlim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83402,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":8650683,"answer_count":3,"score":39,"last_activity_date":1682333438,"creation_date":1325023946,"question_id":8649818,"body_markdown":"I&#39;m using Spring Security to secure a Struts2 web application. Due to project constraints, I&#39;m using Spring Security 2.06.\r\n\r\nMy team built a custom User Management API that authenticates a user after taking in username and password parameters, and returns a custom user object containing a list of roles and other attributes like email, name, etc.\r\n\r\nFrom my understanding, the typical Spring Security use-case uses a default UserDetailsService to retrieve a UserDetails object; this object will contain (among other things) a password field that will be used by the framework to authenticate the user.\r\n\r\nIn my case, I want to let our custom API do the authentication, then return a custom UserDetails object containing the roles and other attributes (email, etc).\r\n\r\nAfter some research, I figured out that I can do this through a custom implementation of AuthenticationProvider. I also have custom implementations of UserDetailsService and UserDetails.\r\n\r\nMy problem is that I don&#39;t really understand what I&#39;m supposed to be returning in CustomAuthenticationProvider. Do I use my custom UserDetailsService object here? Is that even needed? Sorry, I&#39;m really confused.\r\n\r\nCustomAuthenticationProvider:\r\n\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    private Logger logger = Logger.getLogger(CustomAuthenticationProvider.class);\r\n\r\n    private UserDetailsService userDetailsService; //what am i supposed to do with this?\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        UsernamePasswordAuthenticationToken auth = (UsernamePasswordAuthenticationToken) authentication;\r\n        String username = String.valueOf(auth.getPrincipal());\r\n        String password = String.valueOf(auth.getCredentials());\r\n\r\n        logger.info(&quot;username:&quot; + username);\r\n        logger.info(&quot;password:&quot; + password);\r\n        /* what should happen here? */\r\n\r\n        return null;  //what do i return?\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class aClass) {\r\n        return true;  //To indicate that this authenticationprovider can handle the auth request. since there&#39;s currently only one way of logging in, always return true\r\n    }\r\n\r\n    public UserDetailsService getUserDetailsService() {\r\n        return userDetailsService;\r\n    }\r\n\r\n    public void setUserDetailsService(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n}\r\n\r\napplicationContext-security.xml:\r\n\r\n    &lt;beans:bean id=&quot;customUserDetailsService&quot; scope=&quot;prototype&quot; class=&quot;com.test.testconsole.security.CustomUserDetailsService&quot;/&gt;\r\n\r\n    &lt;beans:bean id=&quot;customAuthenticationProvider&quot; class=&quot;com.test.testconsole.security.CustomAuthenticationProvider&quot;&gt;\r\n        &lt;custom-authentication-provider /&gt;\r\n        &lt;beans:property name=&quot;userDetailsService&quot; ref=&quot;customUserDetailsService&quot; /&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\nTo summarize, this is what I need:\r\n\r\n1. User logs in through a web form\r\n2. Authenticate user using in-house user management API\r\n3. For successfully authenticated users, populate GrantedAuthories, etc.\r\n4. Return an user entity containing roles/authorities, and other attributes like email, name, etc. I should then be able to access this object like so ..\r\n\r\n        //spring security get user name\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        userName = auth.getName(); //get logged in username\r\n        logger.info(&quot;username: &quot; + userName);\r\n\r\n        //spring security get user role\r\n        GrantedAuthority[] authorities = auth.getAuthorities();\r\n        userRole = authorities[0].getAuthority();\r\n        logger.info(&quot;user role: &quot; + userRole);\r\n\r\nI hope this makes sense. Any help or pointers will be appreciated!\r\n\r\nThanks!\r\n\r\nUpdate:\r\n\r\nI&#39;ve made some progress, I think.\r\n\r\nI have a custom Authentication object implementing the Authentication interface:\r\n\r\n    public class CustomAuthentication implements Authentication {\r\n    \r\n        String name;\r\n    \tGrantedAuthority[] authorities;\r\n     \tObject credentials;\r\n     \tObject details;\r\n     \tObject principal;\r\n     \tboolean authenticated;\r\n    \r\n        public CustomAuthentication(String name, GrantedAuthority[] authorities, Object credentials, Object details, Object principal, boolean\r\n                                    authenticated){\r\n            this.name=name;\r\n            this.authorities=authorities;\r\n            this.details=details;\r\n            this.principal=principal;\r\n            this.authenticated=authenticated;\r\n    \r\n        }\r\n        @Override\r\n        public GrantedAuthority[] getAuthorities() {\r\n            return new GrantedAuthority[0];  //To change body of implemented methods use File | Settings | File Templates.\r\n        }\r\n    \r\n        @Override\r\n        public Object getCredentials() {\r\n            return null;  //To change body of implemented methods use File | Settings | File Templates.\r\n        }\r\n    \r\n        @Override\r\n        public Object getDetails() {\r\n            return null;  //To change body of implemented methods use File | Settings | File Templates.\r\n        }\r\n    \r\n        @Override\r\n        public Object getPrincipal() {\r\n            return null;  //To change body of implemented methods use File | Settings | File Templates.\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAuthenticated() {\r\n            return false;  //To change body of implemented methods use File | Settings | File Templates.\r\n        }\r\n    \r\n        @Override\r\n        public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\r\n            //To change body of implemented methods use File | Settings | File Templates.\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return null;  \r\n        }\r\n    }\r\n\r\nand updated my CustomerAuthenticationProvider class:\r\n\r\n \r\n\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            UsernamePasswordAuthenticationToken auth = (UsernamePasswordAuthenticationToken) authentication;\r\n            String username = String.valueOf(auth.getPrincipal());\r\n            String password = String.valueOf(auth.getCredentials());\r\n        \r\n            logger.info(&quot;username:&quot; + username);\r\n            logger.info(&quot;password:&quot; + password);\r\n        \r\n            //no actual validation done at this time\r\n            \r\n            GrantedAuthority[] authorities = new GrantedAuthorityImpl[1];\r\n            authorities[0] = new GrantedAuthorityImpl(&quot;ROLE_USER&quot;);\r\n        \r\n            CustomAuthentication customAuthentication = new CustomAuthentication(&quot;TestMerchant&quot;,authorities,&quot;details&quot;,username,password,true);\r\n    \r\n        return customAuthentication;\r\n    \r\n        //return new UsernamePasswordAuthenticationToken(username,password,authorities); \r\n    }\r\n\r\nIt works if I return an UsernamePasswordAuthenticationToken object, but if I try to return CustomAuthentication, I get the following error:\r\n\r\n    java.lang.ClassCastException: com.test.testconsole.security.CustomAuthentication cannot be cast to org.springframework.security.providers.UsernamePasswordAuthenticationToken\r\n    \tat com.test.testconsole.security.CustomAuthenticationProvider.authenticate(CustomAuthenticationProvider.java:27)\r\n    \tat org.springframework.security.providers.ProviderManager.doAuthentication(ProviderManager.java:188)\r\n    \tat org.springframework.security.AbstractAuthenticationManager.authenticate(AbstractAuthenticationManager.java:46)\r\n    \tat org.springframework.security.intercept.AbstractSecurityInterceptor.authenticateIfRequired(AbstractSecurityInterceptor.java:319)\r\n    \tat org.springframework.security.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:258)\r\n    \tat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)\r\n    \tat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.ui.rememberme.RememberMeProcessingFilter.doFilterHttp(RememberMeProcessingFilter.java:116)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.ui.basicauth.BasicProcessingFilter.doFilterHttp(BasicProcessingFilter.java:174)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:278)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:89)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)\r\n    \tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n    \tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n    \tat org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n    \tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n    \tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n    \tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n    \tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n    \tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n    \tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n    \tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n    \tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n    \tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:536)\r\n    \tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:915)\r\n    \tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n    \tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n    \tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:405)\r\n    \tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n    \tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\n\r\nIt&#39;s like something is expecting not just any Authentication object, but a specific implementation of it - UsernamePasswordAuthenticationToken. This makes me think that I may be missing another custom component .. maybe a filter?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Implement custom AuthenticationProvider in Spring Security 2.06","body":"<p>I'm using Spring Security to secure a Struts2 web application. Due to project constraints, I'm using Spring Security 2.06.</p>\n\n<p>My team built a custom User Management API that authenticates a user after taking in username and password parameters, and returns a custom user object containing a list of roles and other attributes like email, name, etc.</p>\n\n<p>From my understanding, the typical Spring Security use-case uses a default UserDetailsService to retrieve a UserDetails object; this object will contain (among other things) a password field that will be used by the framework to authenticate the user.</p>\n\n<p>In my case, I want to let our custom API do the authentication, then return a custom UserDetails object containing the roles and other attributes (email, etc).</p>\n\n<p>After some research, I figured out that I can do this through a custom implementation of AuthenticationProvider. I also have custom implementations of UserDetailsService and UserDetails.</p>\n\n<p>My problem is that I don't really understand what I'm supposed to be returning in CustomAuthenticationProvider. Do I use my custom UserDetailsService object here? Is that even needed? Sorry, I'm really confused.</p>\n\n<p>CustomAuthenticationProvider:</p>\n\n<pre><code>public class CustomAuthenticationProvider implements AuthenticationProvider {\n\nprivate Logger logger = Logger.getLogger(CustomAuthenticationProvider.class);\n\nprivate UserDetailsService userDetailsService; //what am i supposed to do with this?\n\n@Override\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    UsernamePasswordAuthenticationToken auth = (UsernamePasswordAuthenticationToken) authentication;\n    String username = String.valueOf(auth.getPrincipal());\n    String password = String.valueOf(auth.getCredentials());\n\n    logger.info(\"username:\" + username);\n    logger.info(\"password:\" + password);\n    /* what should happen here? */\n\n    return null;  //what do i return?\n}\n\n@Override\npublic boolean supports(Class aClass) {\n    return true;  //To indicate that this authenticationprovider can handle the auth request. since there's currently only one way of logging in, always return true\n}\n\npublic UserDetailsService getUserDetailsService() {\n    return userDetailsService;\n}\n\npublic void setUserDetailsService(UserDetailsService userDetailsService) {\n    this.userDetailsService = userDetailsService;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>applicationContext-security.xml:</p>\n\n<pre><code>&lt;beans:bean id=\"customUserDetailsService\" scope=\"prototype\" class=\"com.test.testconsole.security.CustomUserDetailsService\"/&gt;\n\n&lt;beans:bean id=\"customAuthenticationProvider\" class=\"com.test.testconsole.security.CustomAuthenticationProvider\"&gt;\n    &lt;custom-authentication-provider /&gt;\n    &lt;beans:property name=\"userDetailsService\" ref=\"customUserDetailsService\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>To summarize, this is what I need:</p>\n\n<ol>\n<li>User logs in through a web form</li>\n<li>Authenticate user using in-house user management API</li>\n<li>For successfully authenticated users, populate GrantedAuthories, etc.</li>\n<li><p>Return an user entity containing roles/authorities, and other attributes like email, name, etc. I should then be able to access this object like so ..</p>\n\n<pre><code>//spring security get user name\nAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\nuserName = auth.getName(); //get logged in username\nlogger.info(\"username: \" + userName);\n\n//spring security get user role\nGrantedAuthority[] authorities = auth.getAuthorities();\nuserRole = authorities[0].getAuthority();\nlogger.info(\"user role: \" + userRole);\n</code></pre></li>\n</ol>\n\n<p>I hope this makes sense. Any help or pointers will be appreciated!</p>\n\n<p>Thanks!</p>\n\n<p>Update:</p>\n\n<p>I've made some progress, I think.</p>\n\n<p>I have a custom Authentication object implementing the Authentication interface:</p>\n\n<pre><code>public class CustomAuthentication implements Authentication {\n\n    String name;\n    GrantedAuthority[] authorities;\n    Object credentials;\n    Object details;\n    Object principal;\n    boolean authenticated;\n\n    public CustomAuthentication(String name, GrantedAuthority[] authorities, Object credentials, Object details, Object principal, boolean\n                                authenticated){\n        this.name=name;\n        this.authorities=authorities;\n        this.details=details;\n        this.principal=principal;\n        this.authenticated=authenticated;\n\n    }\n    @Override\n    public GrantedAuthority[] getAuthorities() {\n        return new GrantedAuthority[0];  //To change body of implemented methods use File | Settings | File Templates.\n    }\n\n    @Override\n    public Object getCredentials() {\n        return null;  //To change body of implemented methods use File | Settings | File Templates.\n    }\n\n    @Override\n    public Object getDetails() {\n        return null;  //To change body of implemented methods use File | Settings | File Templates.\n    }\n\n    @Override\n    public Object getPrincipal() {\n        return null;  //To change body of implemented methods use File | Settings | File Templates.\n    }\n\n    @Override\n    public boolean isAuthenticated() {\n        return false;  //To change body of implemented methods use File | Settings | File Templates.\n    }\n\n    @Override\n    public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\n        //To change body of implemented methods use File | Settings | File Templates.\n    }\n\n    @Override\n    public String getName() {\n        return null;  \n    }\n}\n</code></pre>\n\n<p>and updated my CustomerAuthenticationProvider class:</p>\n\n<pre><code>    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        UsernamePasswordAuthenticationToken auth = (UsernamePasswordAuthenticationToken) authentication;\n        String username = String.valueOf(auth.getPrincipal());\n        String password = String.valueOf(auth.getCredentials());\n\n        logger.info(\"username:\" + username);\n        logger.info(\"password:\" + password);\n\n        //no actual validation done at this time\n\n        GrantedAuthority[] authorities = new GrantedAuthorityImpl[1];\n        authorities[0] = new GrantedAuthorityImpl(\"ROLE_USER\");\n\n        CustomAuthentication customAuthentication = new CustomAuthentication(\"TestMerchant\",authorities,\"details\",username,password,true);\n\n    return customAuthentication;\n\n    //return new UsernamePasswordAuthenticationToken(username,password,authorities); \n}\n</code></pre>\n\n<p>It works if I return an UsernamePasswordAuthenticationToken object, but if I try to return CustomAuthentication, I get the following error:</p>\n\n<pre><code>java.lang.ClassCastException: com.test.testconsole.security.CustomAuthentication cannot be cast to org.springframework.security.providers.UsernamePasswordAuthenticationToken\n    at com.test.testconsole.security.CustomAuthenticationProvider.authenticate(CustomAuthenticationProvider.java:27)\n    at org.springframework.security.providers.ProviderManager.doAuthentication(ProviderManager.java:188)\n    at org.springframework.security.AbstractAuthenticationManager.authenticate(AbstractAuthenticationManager.java:46)\n    at org.springframework.security.intercept.AbstractSecurityInterceptor.authenticateIfRequired(AbstractSecurityInterceptor.java:319)\n    at org.springframework.security.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:258)\n    at org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)\n    at org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.ui.rememberme.RememberMeProcessingFilter.doFilterHttp(RememberMeProcessingFilter.java:116)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.ui.basicauth.BasicProcessingFilter.doFilterHttp(BasicProcessingFilter.java:174)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:278)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:89)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)\n    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\n    at org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n    at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:536)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:915)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:405)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>It's like something is expecting not just any Authentication object, but a specific implementation of it - UsernamePasswordAuthenticationToken. This makes me think that I may be missing another custom component .. maybe a filter?</p>\n"},{"tags":["java","oop","inheritance","interface","language-design"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1269521125,"post_id":2515477,"comment_id":2511899,"body_markdown":"I edited the question title to make it more descriptive.","body":"I edited the question title to make it more descriptive."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":4,"creation_date":1343738886,"post_id":2515477,"comment_id":15581696,"body_markdown":"Interestingly, in the JDK 8, there will be [extension methods](http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-4.html) which will allow the definition of implementation of interface methods. Rules are been defined to govern multiple inheritance of behavior, but not of state (which I understand is more [problematic](http://mail.openjdk.java.net/pipermail/lambda-dev/2012-July/005197.html).","body":"Interestingly, in the JDK 8, there will be <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-4.html\" rel=\"nofollow noreferrer\">extension methods</a> which will allow the definition of implementation of interface methods. Rules are been defined to govern multiple inheritance of behavior, but not of state (which I understand is more <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-July/005197.html\" rel=\"nofollow noreferrer\">problematic</a>."},{"owner":{"account_id":10648383,"reputation":526,"user_id":7845354,"display_name":"Yo Apps"},"score":1,"creation_date":1574867389,"post_id":2515477,"comment_id":104384120,"body_markdown":"Before you guys waste time on answers which only tell you &quot;How java acheives multiple inheritance &quot;... I suggest you to go down to @Prabal Srivastava answer that logically gives you what must be happening internally, to not allow classes this right... and only allow interfaces the right to allow multiple inheritance.","body":"Before you guys waste time on answers which only tell you &quot;How java acheives multiple inheritance &quot;... I suggest you to go down to @Prabal Srivastava answer that logically gives you what must be happening internally, to not allow classes this right... and only allow interfaces the right to allow multiple inheritance."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655613013,"post_id":2515477,"comment_id":128371024,"body_markdown":"@YoApps That answer has it back to front. It was a design decision, and the compiler and JVM implementation followed. Most of the other answers here follow a similar cart-before-horse logic. All this is essentially tautologous. The real answer is that it was a design decision to avoid the diamond-inheritance issues, which are legion.","body":"@YoApps That answer has it back to front. It was a design decision, and the compiler and JVM implementation followed. Most of the other answers here follow a similar cart-before-horse logic. All this is essentially tautologous. The real answer is that it was a design decision to avoid the diamond-inheritance issues, which are legion."}],"answers":[{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1371412696,"post_id":2515495,"comment_id":24801253,"body_markdown":"The fundamental difficulty with multiple inheritance is the possibility that a class might inherit a member via multiple paths which implement it differently, without providing its own overriding implementation.  Interface inheritance avoids this because the only place interface members can be implemented is in classes, whose descendants will be limited to single inheritance.","body":"The fundamental difficulty with multiple inheritance is the possibility that a class might inherit a member via multiple paths which implement it differently, without providing its own overriding implementation.  Interface inheritance avoids this because the only place interface members can be implemented is in classes, whose descendants will be limited to single inheritance."}],"tags":[],"owner":{"account_id":54380,"reputation":7967,"user_id":162694,"accept_rate":95,"display_name":"Anemoia"},"comment_count":1,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1269520951,"creation_date":1269520951,"answer_id":2515495,"question_id":2515477,"body_markdown":"Because an interface is just a contract. And a class is actually a container for data.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Because an interface is just a contract. And a class is actually a container for data.</p>\n"},{"comments":[{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":11,"creation_date":1269521703,"post_id":2515497,"comment_id":2511994,"body_markdown":"C# does not have multiple inheritance precisely because Java does not allow it.  It was designed much later than Java.  The main problem with multiple inheritance I think was the way people were taught to use it left and right.  The concept that delegation in most cases is a much better alternative just was not there in the early and mid-nineties.  Hence I remember examples, in textbooks, when Car is a Wheel and a Door and a Windshield, vs. Car contains Wheels, Doors and Windshield.  So the single inheritance in Java was a knee jerk reaction to that reality.","body":"C# does not have multiple inheritance precisely because Java does not allow it.  It was designed much later than Java.  The main problem with multiple inheritance I think was the way people were taught to use it left and right.  The concept that delegation in most cases is a much better alternative just was not there in the early and mid-nineties.  Hence I remember examples, in textbooks, when Car is a Wheel and a Door and a Windshield, vs. Car contains Wheels, Doors and Windshield.  So the single inheritance in Java was a knee jerk reaction to that reality."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1371411952,"post_id":2515497,"comment_id":24801042,"body_markdown":"@AlexanderPogrebnyak: Pick two of the following three: (1) Allow identity-preserving casts from a subtype reference to a supertype reference; (2) Allow a class to add virtual public members without recompiling derived classes; (3) Allow a class to implicitly inherit virtual members from multiple base classes without having to explicitly specify them.  I don&#39;t believe it&#39;s possible for any language to manage all three of the above.  Java opted for #1 and #2, and C# followed suit.  I believe C++ adopts #3 only.  Personally, I think #1 and #2 are more useful than #3, but others may differ.","body":"@AlexanderPogrebnyak: Pick two of the following three: (1) Allow identity-preserving casts from a subtype reference to a supertype reference; (2) Allow a class to add virtual public members without recompiling derived classes; (3) Allow a class to implicitly inherit virtual members from multiple base classes without having to explicitly specify them.  I don&#39;t believe it&#39;s possible for any language to manage all three of the above.  Java opted for #1 and #2, and C# followed suit.  I believe C++ adopts #3 only.  Personally, I think #1 and #2 are more useful than #3, but others may differ."},{"owner":{"account_id":4250805,"reputation":9263,"user_id":3477950,"accept_rate":100,"display_name":"The Paramagnetic Croissant"},"score":0,"creation_date":1443379599,"post_id":2515497,"comment_id":53459663,"body_markdown":"@supercat &quot;I don&#39;t believe it&#39;s possible for any language to manage all three of the above&quot; – if the offsets of data members are determined at runtime, rather than compilation time (as they are in Objective-C&#39;s &quot;non-fragile ABI&quot;), and or a per-class basis (i.e. each concrete class has its own member offset table), then I think all 3 goals can be achieved.","body":"@supercat &quot;I don&#39;t believe it&#39;s possible for any language to manage all three of the above&quot; – if the offsets of data members are determined at runtime, rather than compilation time (as they are in Objective-C&#39;s &quot;non-fragile ABI&quot;), and or a per-class basis (i.e. each concrete class has its own member offset table), then I think all 3 goals can be achieved."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1443381099,"post_id":2515497,"comment_id":53460162,"body_markdown":"@TheParamagneticCroissant: The major semantic problem is #1.  If `D1` and `D2` both inherit from `B`, and each overrides a function `f`, and if `obj` is an instance of a type `S` which inherits from both `D1` and `D2` but does not override `f`, then casting a reference to `S` to `D1` should yield something whose `f` uses the `D1` override, and casting to `B` shouldn&#39;t change that.  Likewise casting a reference `S` to `D2` should yield a something whose `f` uses the `D2` override, and casting to `B` shouldn&#39;t change that.  If a language didn&#39;t need to allow virtual members to be added...","body":"@TheParamagneticCroissant: The major semantic problem is #1.  If <code>D1</code> and <code>D2</code> both inherit from <code>B</code>, and each overrides a function <code>f</code>, and if <code>obj</code> is an instance of a type <code>S</code> which inherits from both <code>D1</code> and <code>D2</code> but does not override <code>f</code>, then casting a reference to <code>S</code> to <code>D1</code> should yield something whose <code>f</code> uses the <code>D1</code> override, and casting to <code>B</code> shouldn&#39;t change that.  Likewise casting a reference <code>S</code> to <code>D2</code> should yield a something whose <code>f</code> uses the <code>D2</code> override, and casting to <code>B</code> shouldn&#39;t change that.  If a language didn&#39;t need to allow virtual members to be added..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1443381248,"post_id":2515497,"comment_id":53460203,"body_markdown":"...without recompiling, it could allow multiple-inheritance in cases where there was no ambiguity and squawk if things became ambiguous, but if `D1` and `D2` can be changed and recompiled without recompiling `S`, then ambiguities could arise which no compiler would be able to see.","body":"...without recompiling, it could allow multiple-inheritance in cases where there was no ambiguity and squawk if things became ambiguous, but if <code>D1</code> and <code>D2</code> can be changed and recompiled without recompiling <code>S</code>, then ambiguities could arise which no compiler would be able to see."},{"owner":{"account_id":4250805,"reputation":9263,"user_id":3477950,"accept_rate":100,"display_name":"The Paramagnetic Croissant"},"score":0,"creation_date":1443382700,"post_id":2515497,"comment_id":53460626,"body_markdown":"@supercat I would say that if both `D1` and `D2` (or even one of them) overrides `f`, then `S` should also override it, else it&#39;s a compiler error (since when calling `f` on an object of declared type `S`, how could one decide whether to call `D1::f` or `D2::f`?)","body":"@supercat I would say that if both <code>D1</code> and <code>D2</code> (or even one of them) overrides <code>f</code>, then <code>S</code> should also override it, else it&#39;s a compiler error (since when calling <code>f</code> on an object of declared type <code>S</code>, how could one decide whether to call <code>D1::f</code> or <code>D2::f</code>?)"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1443382962,"post_id":2515497,"comment_id":53460714,"body_markdown":"@TheParamagneticCroissant: If `S` is compiled at a time when neither `D1` nor `D2` overrides `f`, but both classes will be be changed in future to override it, which compilation step should squawk?  The compilation of `S` can&#39;t squawk because has no way of knowing that `D1` and `D2` will change.  The compilations of `D1` and `D2` can&#39;t squawk since they know nothing of `S`.","body":"@TheParamagneticCroissant: If <code>S</code> is compiled at a time when neither <code>D1</code> nor <code>D2</code> overrides <code>f</code>, but both classes will be be changed in future to override it, which compilation step should squawk?  The compilation of <code>S</code> can&#39;t squawk because has no way of knowing that <code>D1</code> and <code>D2</code> will change.  The compilations of <code>D1</code> and <code>D2</code> can&#39;t squawk since they know nothing of <code>S</code>."},{"owner":{"account_id":4250805,"reputation":9263,"user_id":3477950,"accept_rate":100,"display_name":"The Paramagnetic Croissant"},"score":0,"creation_date":1443383555,"post_id":2515497,"comment_id":53460912,"body_markdown":"@supercat That&#39;s right… couldn&#39;t this situation be checked for at runtime, though?","body":"@supercat That&#39;s right… couldn&#39;t this situation be checked for at runtime, though?"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1443385210,"post_id":2515497,"comment_id":53461465,"body_markdown":"@TheParamagneticCroissant: It could, and my list of choices was somewhat over-simplified to fit in a comment, but deferring to run-time makes it impossible for the author of D1, D2, or S to know what changes they can make without breaking consumers of their class.","body":"@TheParamagneticCroissant: It could, and my list of choices was somewhat over-simplified to fit in a comment, but deferring to run-time makes it impossible for the author of D1, D2, or S to know what changes they can make without breaking consumers of their class."},{"owner":{"account_id":4250805,"reputation":9263,"user_id":3477950,"accept_rate":100,"display_name":"The Paramagnetic Croissant"},"score":0,"creation_date":1443385383,"post_id":2515497,"comment_id":53461516,"body_markdown":"@supercat yes, that&#39;s a valid concern.","body":"@supercat yes, that&#39;s a valid concern."}],"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"comment_count":10,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1269521266,"creation_date":1269520960,"answer_id":2515497,"question_id":2515477,"body_markdown":"For the same reason C# doesn&#39;t allow multiple inheritence but allows you to implement multiple interfaces.\r\n\r\nThe lesson learned from C++ w/ multiple inheritence was that it lead to more issues than it was worth.\r\n\r\nAn interface is a contract of things your class has to implement. You don&#39;t gain any functionality from the interface. Inheritence allows you to inherit the functionality of a parent class (and in multiple-inheritence, that can get extremely confusing).\r\n\r\nAllowing multiple interfaces allows you to use Design Patterns (like Adapter) to solve the same types of issues you can solve using multiple inheritence, but in a much more reliable and predictable manner.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>For the same reason C# doesn't allow multiple inheritence but allows you to implement multiple interfaces.</p>\n\n<p>The lesson learned from C++ w/ multiple inheritence was that it lead to more issues than it was worth.</p>\n\n<p>An interface is a contract of things your class has to implement. You don't gain any functionality from the interface. Inheritence allows you to inherit the functionality of a parent class (and in multiple-inheritence, that can get extremely confusing).</p>\n\n<p>Allowing multiple interfaces allows you to use Design Patterns (like Adapter) to solve the same types of issues you can solve using multiple inheritence, but in a much more reliable and predictable manner.</p>\n"},{"comments":[{"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"score":8,"creation_date":1280437444,"post_id":2515502,"comment_id":3497623,"body_markdown":"I used to do C++ and ran into that exact same issue quite a few times. I recently read about Scala having &quot;traits&quot; that to me seem like something in between the &quot;C++&quot; way and the &quot;Java&quot; way of doing things.","body":"I used to do C++ and ran into that exact same issue quite a few times. I recently read about Scala having &quot;traits&quot; that to me seem like something in between the &quot;C++&quot; way and the &quot;Java&quot; way of doing things."},{"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"score":0,"creation_date":1344237179,"post_id":2515502,"comment_id":15718346,"body_markdown":"+1 , complete yet concise and last bot not the least easy to understand answer.","body":"+1 , complete yet concise and last bot not the least easy to understand answer."},{"owner":{"account_id":3162068,"reputation":5916,"user_id":2672913,"accept_rate":88,"display_name":"Nick Louloudakis"},"score":7,"creation_date":1392305551,"post_id":2515502,"comment_id":32912661,"body_markdown":"This way, you are avoiding the &quot;diamond problem&quot;:\nhttp://en.wikipedia.org/wiki/Diamond_problem#The_diamond_problem","body":"This way, you are avoiding the &quot;diamond problem&quot;: <a href=\"http://en.wikipedia.org/wiki/Diamond_problem#The_diamond_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Diamond_problem#The_diamond_problem</a>"},{"owner":{"account_id":3703110,"reputation":3347,"user_id":3082272,"accept_rate":50,"display_name":"bobbel"},"score":7,"creation_date":1400070585,"post_id":2515502,"comment_id":36331428,"body_markdown":"Since Java 8 you can define two identical default methods, one in each interface. If you will implement both interfaces in your class, you have to override this method in the class itself, see: http://docs.oracle.com/javase/tutorial/java/IandI/override.html#default","body":"Since Java 8 you can define two identical default methods, one in each interface. If you will implement both interfaces in your class, you have to override this method in the class itself, see: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/override.html#default\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/&hellip;</a>"},{"owner":{"account_id":2314207,"reputation":155,"user_id":2031600,"accept_rate":59,"display_name":"Ryan"},"score":0,"creation_date":1420012263,"post_id":2515502,"comment_id":43847701,"body_markdown":"atlast, the definition I understand","body":"atlast, the definition I understand"},{"owner":{"account_id":1221965,"reputation":913,"user_id":1188441,"accept_rate":67,"display_name":"Alex Oliveira"},"score":12,"creation_date":1468439493,"post_id":2515502,"comment_id":64133426,"body_markdown":"This answer is not accurate. The problem is not specifying the _how_ and Java 8 is there to prove. In Java 8, two _super interfaces_ can declare the same method with different implementations, but that&#39;s not a problem because interface methods are _virtual_, so you can just overwrite them and the problem is solved. The real problem is about **ambiguity** in the **attributes**, because you can&#39;t solve this ambiguity overwriting the attribute (attributes are not virtual).","body":"This answer is not accurate. The problem is not specifying the <i>how</i> and Java 8 is there to prove. In Java 8, two <i>super interfaces</i> can declare the same method with different implementations, but that&#39;s not a problem because interface methods are <i>virtual</i>, so you can just overwrite them and the problem is solved. The real problem is about <b>ambiguity</b> in the <b>attributes</b>, because you can&#39;t solve this ambiguity overwriting the attribute (attributes are not virtual)."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1469190032,"post_id":2515502,"comment_id":64446803,"body_markdown":"What do you mean by &quot;attributes&quot;?","body":"What do you mean by &quot;attributes&quot;?"},{"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"score":1,"creation_date":1538584953,"post_id":2515502,"comment_id":92197015,"body_markdown":"@AlexOliveira is right here. A method can be overridden easily and the ambiguity would be solved; a field on the other hand is simply data storage without any virtual dispatch table. You would get either: duplicated fields with every class seeing only its own fields or unified fields with all classes stepping on each other&#39;s toes (and no ability to override that behavior).","body":"@AlexOliveira is right here. A method can be overridden easily and the ambiguity would be solved; a field on the other hand is simply data storage without any virtual dispatch table. You would get either: duplicated fields with every class seeing only its own fields or unified fields with all classes stepping on each other&#39;s toes (and no ability to override that behavior)."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1583189869,"post_id":2515502,"comment_id":107025441,"body_markdown":"@AlexOliveira is so right, and the chosen answer is so wrong. `Deadly Diamond of Death` has never been the problem when it comes to methods. It&#39;s the clash of variables that matters. Because with default methods in interfaces, you can still have your diamond constellation and get away with it, but you cannot have variables colliding. Java 8 proves this wrong. The answers to the question should be reset and answered with state-of-the-art-of-Java in mind.","body":"@AlexOliveira is so right, and the chosen answer is so wrong. <code>Deadly Diamond of Death</code> has never been the problem when it comes to methods. It&#39;s the clash of variables that matters. Because with default methods in interfaces, you can still have your diamond constellation and get away with it, but you cannot have variables colliding. Java 8 proves this wrong. The answers to the question should be reset and answered with state-of-the-art-of-Java in mind."},{"owner":{"account_id":8801937,"reputation":109,"user_id":6928040,"display_name":"Gautam Naik"},"score":0,"creation_date":1610776526,"post_id":2515502,"comment_id":116244361,"body_markdown":"@marcus  Thanks for clearing on that state/fields create ambiguity. But why can&#39;t the same logic of implementing the default method used in Java 8 used for fields ... like when using multiple inheritances we also need to provide a default value to the fields which would solve the ambiguity problem for fields","body":"@marcus  Thanks for clearing on that state/fields create ambiguity. But why can&#39;t the same logic of implementing the default method used in Java 8 used for fields ... like when using multiple inheritances we also need to provide a default value to the fields which would solve the ambiguity problem for fields"},{"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"score":0,"creation_date":1610828169,"post_id":2515502,"comment_id":116257133,"body_markdown":"@GautamNaik It&#39;s not only the default value that matters but will the space allocated to a field be merged with other fields with the same name? Would the JVM redirect all reads and writes to the merged fields? I think it would be *possible* but it would change mental model programmers have (fields are pieces of memory, methods are actions that can be called) and it would make some operations slower (accessing a field would involve a virtual dispatch). Not impossible, but if you look at what C++ and Scala did, you see that it does get more complex (virtual base classes, all fields are methods)","body":"@GautamNaik It&#39;s not only the default value that matters but will the space allocated to a field be merged with other fields with the same name? Would the JVM redirect all reads and writes to the merged fields? I think it would be <i>possible</i> but it would change mental model programmers have (fields are pieces of memory, methods are actions that can be called) and it would make some operations slower (accessing a field would involve a virtual dispatch). Not impossible, but if you look at what C++ and Scala did, you see that it does get more complex (virtual base classes, all fields are methods)"},{"owner":{"account_id":8801937,"reputation":109,"user_id":6928040,"display_name":"Gautam Naik"},"score":0,"creation_date":1611473419,"post_id":2515502,"comment_id":116458675,"body_markdown":"@marcus Thanks for that, I agree complexity would increase and Java&#39;s main motto is to be a simple, object-oriented language","body":"@marcus Thanks for that, I agree complexity would increase and Java&#39;s main motto is to be a simple, object-oriented language"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":12,"down_vote_count":3,"up_vote_count":273,"is_accepted":true,"score":270,"last_activity_date":1269520982,"creation_date":1269520982,"answer_id":2515502,"question_id":2515477,"body_markdown":"Because interfaces specify only _what_ the class is doing, not _how_ it is doing it. \r\n\r\nThe problem with multiple inheritance is that two classes may define _different ways_ of doing the same thing, and the subclass can&#39;t choose which one to pick.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Because interfaces specify only <em>what</em> the class is doing, not <em>how</em> it is doing it. </p>\n\n<p>The problem with multiple inheritance is that two classes may define <em>different ways</em> of doing the same thing, and the subclass can't choose which one to pick.</p>\n"},{"comments":[{"owner":{"account_id":1071064,"reputation":345,"user_id":1070333,"display_name":"Duncan Calvert"},"score":0,"creation_date":1407807176,"post_id":2515572,"comment_id":39348443,"body_markdown":"Can you explain why you say inheritance is overused? Creating a god class is exactly what I want to do! I find so many people that work around single inheritance by creating &quot;Tools&quot; classes that have static methods.","body":"Can you explain why you say inheritance is overused? Creating a god class is exactly what I want to do! I find so many people that work around single inheritance by creating &quot;Tools&quot; classes that have static methods."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":11,"creation_date":1407848591,"post_id":2515572,"comment_id":39366529,"body_markdown":"@DuncanCalvert: No, you do not want to do that, not if that code will ever need maintenance. Lots of static methods misses the point of OO, but excessive multiple inheritance is *much* worse because you completely lose track of which code is used where, as well as what a class conceptually is. Both are trying to solve the problem of &quot;how can I use this code where I need it&quot;, but that is a simple short-term problem. The much harder long-term problem solved by proper OO design is &quot;how do I change this code without having the program break in 20 different places in unforeseeable ways?","body":"@DuncanCalvert: No, you do not want to do that, not if that code will ever need maintenance. Lots of static methods misses the point of OO, but excessive multiple inheritance is <i>much</i> worse because you completely lose track of which code is used where, as well as what a class conceptually is. Both are trying to solve the problem of &quot;how can I use this code where I need it&quot;, but that is a simple short-term problem. The much harder long-term problem solved by proper OO design is &quot;how do I change this code without having the program break in 20 different places in unforeseeable ways?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":3,"creation_date":1407848800,"post_id":2515572,"comment_id":39366664,"body_markdown":"@DuncanCalvert: and you solve that by having classes with high cohesion and low coupling, which means they contain pieces of data and code that interact intensively with each other, but interact with the rest of the program only through a small, simple public API. Then you can think about them in terms of that API instead of the internal details, which is important because people can only keep a limited amount of details in mind at the same time.","body":"@DuncanCalvert: and you solve that by having classes with high cohesion and low coupling, which means they contain pieces of data and code that interact intensively with each other, but interact with the rest of the program only through a small, simple public API. Then you can think about them in terms of that API instead of the internal details, which is important because people can only keep a limited amount of details in mind at the same time."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619171837,"post_id":2515572,"comment_id":118829978,"body_markdown":"@MichaelBorgwardt your reasoning is flawed.","body":"@MichaelBorgwardt your reasoning is flawed."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619208593,"post_id":2515572,"comment_id":118845363,"body_markdown":"Because we already have interfaces to do that. Simply adding properties / fields availability will not complicate anything, but rather make things simpler. Splitting implementations into interfaces with default methods for instance where each interface has one dependency say, SessionFactory sessionFactory(); and implement all logic pertaining to a SessionFactory, and say another interface implementing shit relating Session session(); will be way cleaner than having SessionFactory, and Session declared in one class. By splitting them each one handles their area and ....","body":"Because we already have interfaces to do that. Simply adding properties / fields availability will not complicate anything, but rather make things simpler. Splitting implementations into interfaces with default methods for instance where each interface has one dependency say, SessionFactory sessionFactory(); and implement all logic pertaining to a SessionFactory, and say another interface implementing shit relating Session session(); will be way cleaner than having SessionFactory, and Session declared in one class. By splitting them each one handles their area and ...."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619208978,"post_id":2515572,"comment_id":118845490,"body_markdown":"For someone with 326K that is surprising. I am not from the Scala world, but there they have something called Traits. Have you heard of it? Imagine default interfaces with a state. There is no reason that this is not possible because it is possible to implement in the same manner. For all I care the state / property could be private but really they could be public and / or protected. When the Java world wakes up we might eventually get this feature, but I have little hopes. We waited til 2021 to get multiline strings and they screwed that part up majorily, and now there ...","body":"For someone with 326K that is surprising. I am not from the Scala world, but there they have something called Traits. Have you heard of it? Imagine default interfaces with a state. There is no reason that this is not possible because it is possible to implement in the same manner. For all I care the state / property could be private but really they could be public and / or protected. When the Java world wakes up we might eventually get this feature, but I have little hopes. We waited til 2021 to get multiline strings and they screwed that part up majorily, and now there ..."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619209241,"post_id":2515572,"comment_id":118845570,"body_markdown":"They made default methods in interfaces possible to declare private which was welcome but completely missed the ball on protected. You might want to grant a subclass or subinterface access to implementation incase they decide to override your public method, but no. Only private. Fcuk. At least that one is redeemable.","body":"They made default methods in interfaces possible to declare private which was welcome but completely missed the ball on protected. You might want to grant a subclass or subinterface access to implementation incase they decide to override your public method, but no. Only private. Fcuk. At least that one is redeemable."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619209464,"post_id":2515572,"comment_id":118845642,"body_markdown":"Also caching is now not possible due to the interface limitation not being able to hold state. So if you have some computation that only needs to be done once, good luck. Do note that I have code that enables me state in interfaces but I would not use it for a large environment, but is fine to use for most other things. Since an interface will always  hold a this, due to someone having an instance of the interface, a static WeakIdentityHashMap can be created to map this to a State. That means the interfae can call staticmap.get(this) and the state object. So even I can do it ...","body":"Also caching is now not possible due to the interface limitation not being able to hold state. So if you have some computation that only needs to be done once, good luck. Do note that I have code that enables me state in interfaces but I would not use it for a large environment, but is fine to use for most other things. Since an interface will always  hold a this, due to someone having an instance of the interface, a static WeakIdentityHashMap can be created to map this to a State. That means the interfae can call staticmap.get(this) and the state object. So even I can do it ..."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619210024,"post_id":2515572,"comment_id":118845816,"body_markdown":"To me default methods in interfaces is the best thing since sliced bread, and have lead to a reduction in overall complexity by a factor of 100 of my code. I can simply implement an interface to inject any behaviour i desire my new class, and /or interface to have. All i have to do is usually implement one method to supply what? Usually an instance. You can not beat that. The instance might still need to be supplied through an abstract method implementation, but the lack of ability to hold state in interfaces is the difference between interfaces and classes at this point and prevents ...","body":"To me default methods in interfaces is the best thing since sliced bread, and have lead to a reduction in overall complexity by a factor of 100 of my code. I can simply implement an interface to inject any behaviour i desire my new class, and /or interface to have. All i have to do is usually implement one method to supply what? Usually an instance. You can not beat that. The instance might still need to be supplied through an abstract method implementation, but the lack of ability to hold state in interfaces is the difference between interfaces and classes at this point and prevents ..."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619210131,"post_id":2515572,"comment_id":118845837,"body_markdown":"... for instance sub values being created based on another supplied value, and have that value be cached for instance. Caching is not possible. Other methods can not use your value. The thing is that an interface is always connected to a &#39;this&#39;, and so there is no real reason as to why it can not hold state relating to that interface alone. Conflicts in other interfaces? How is it solved with duplicate interface methods? The same way. Introduce some syntax and force the redeclaration in subinterfaces / subclasses and allow access through SuperInteface.super.myproperty;","body":"... for instance sub values being created based on another supplied value, and have that value be cached for instance. Caching is not possible. Other methods can not use your value. The thing is that an interface is always connected to a &#39;this&#39;, and so there is no real reason as to why it can not hold state relating to that interface alone. Conflicts in other interfaces? How is it solved with duplicate interface methods? The same way. Introduce some syntax and force the redeclaration in subinterfaces / subclasses and allow access through SuperInteface.super.myproperty;"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":10,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1269521445,"creation_date":1269521445,"answer_id":2515572,"question_id":2515477,"body_markdown":"Because inheritance is overused even when you *can&#39;t* say &quot;hey, that method looks useful, I&#39;ll extend that class as well&quot;.\r\n\r\n    public class MyGodClass extends AppDomainObject, HttpServlet, MouseAdapter, \r\n                 AbstractTableModel, AbstractListModel, AbstractList, AbstractMap, ...\r\n\r\n","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Because inheritance is overused even when you <em>can't</em> say \"hey, that method looks useful, I'll extend that class as well\".</p>\n\n<pre><code>public class MyGodClass extends AppDomainObject, HttpServlet, MouseAdapter, \n             AbstractTableModel, AbstractListModel, AbstractList, AbstractMap, ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":0,"creation_date":1369092833,"post_id":2515641,"comment_id":23967149,"body_markdown":"What is the problem with the &quot;diamond of death&quot;?","body":"What is the problem with the &quot;diamond of death&quot;?"},{"owner":{"account_id":39415,"reputation":12303,"user_id":113662,"accept_rate":93,"display_name":"Tadeusz Kopec for Ukraine"},"score":2,"creation_date":1369209297,"post_id":2515641,"comment_id":24013096,"body_markdown":"@curiousguy Containing more than one subobject of same base class, ambiguity (override from which base class use), complicated rules of resolving such ambiguity.","body":"@curiousguy Containing more than one subobject of same base class, ambiguity (override from which base class use), complicated rules of resolving such ambiguity."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1371411387,"post_id":2515641,"comment_id":24800910,"body_markdown":"@curiousguy: If a framework provides that casting an object reference to a base-type reference will be identity preserving, then every object instance must have exactly one implementation of any base-class method.  If `ToyotaCar` and `HybridCar` both derived from `Car` and overrode `Car.Drive`, and if `PriusCar` inherited both *but didn&#39;t override `Drive`*, the system would have no way of identifying what the virtual `Car.Drive` should do.  Interfaces avoid this problem by avoiding the italicized condition above.","body":"@curiousguy: If a framework provides that casting an object reference to a base-type reference will be identity preserving, then every object instance must have exactly one implementation of any base-class method.  If <code>ToyotaCar</code> and <code>HybridCar</code> both derived from <code>Car</code> and overrode <code>Car.Drive</code>, and if <code>PriusCar</code> inherited both <i>but didn&#39;t override <code>Drive</code></i>, the system would have no way of identifying what the virtual <code>Car.Drive</code> should do.  Interfaces avoid this problem by avoiding the italicized condition above."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1371411596,"post_id":2515641,"comment_id":24800966,"body_markdown":"@curiousguy: It&#39;s worthwhile to note that some frameworks avoid the issue by not allowing identity-preserving casts to the base type.  If code couldn&#39;t use the `Drive` method, nor cast to `Car`, without first casting to either `HybridCar` or `ToyotaCar`, ambiguity would be avoided, but the result of the casting sequence `PriusCar`-&gt;`ToyotaCar`-&gt;`Car` would be different from that of `PriusCar`-&gt;`HybridCar`-&gt;`Car` (meaning the casts would not be identity-preserving).","body":"@curiousguy: It&#39;s worthwhile to note that some frameworks avoid the issue by not allowing identity-preserving casts to the base type.  If code couldn&#39;t use the <code>Drive</code> method, nor cast to <code>Car</code>, without first casting to either <code>HybridCar</code> or <code>ToyotaCar</code>, ambiguity would be avoided, but the result of the casting sequence <code>PriusCar</code>-&gt;<code>ToyotaCar</code>-&gt;<code>Car</code> would be different from that of <code>PriusCar</code>-&gt;<code>HybridCar</code>-&gt;<code>Car</code> (meaning the casts would not be identity-preserving)."},{"owner":{"account_id":2744020,"reputation":5754,"user_id":2407870,"accept_rate":82,"display_name":"Chris Middleton"},"score":1,"creation_date":1439449395,"post_id":2515641,"comment_id":51868536,"body_markdown":"@supercat &quot; the system would have no way of identifying what the virtual Car.Drive should do.&quot; &lt;-- Or it could just give a compile error and make you choose one explicitly, like C++ does.","body":"@supercat &quot; the system would have no way of identifying what the virtual Car.Drive should do.&quot; &lt;-- Or it could just give a compile error and make you choose one explicitly, like C++ does."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1439481477,"post_id":2515641,"comment_id":51890497,"body_markdown":"@ChrisMiddleton: A method `void UseCar(Car &amp;foo)`; cannot be expected to include disambiguation between `ToyotaCar::Drive` and `HybridCar::Drive` (since it should often neither know nor care that those other types even *exist*).  A language could, as C++ does, require that code with `ToyotaCar &amp;myCar` wishing to pass it to `UseCar` must first cast to either `HybridCar` or `ToyotaCar`, but since ((Car)(HybridCar)myCar).Drive` and `((Car)(ToyotaCar)myCar).Drive ` would do different things, that would imply that the upcasts were not identity-preserving.","body":"@ChrisMiddleton: A method <code>void UseCar(Car &amp;foo)</code>; cannot be expected to include disambiguation between <code>ToyotaCar::Drive</code> and <code>HybridCar::Drive</code> (since it should often neither know nor care that those other types even <i>exist</i>).  A language could, as C++ does, require that code with <code>ToyotaCar &amp;myCar</code> wishing to pass it to <code>UseCar</code> must first cast to either <code>HybridCar</code> or <code>ToyotaCar</code>, but since ((Car)(HybridCar)myCar).Drive` and <code>((Car)(ToyotaCar)myCar).Drive </code> would do different things, that would imply that the upcasts were not identity-preserving."}],"tags":[],"owner":{"account_id":39415,"reputation":12303,"user_id":113662,"accept_rate":93,"display_name":"Tadeusz Kopec for Ukraine"},"comment_count":6,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1269522009,"creation_date":1269522009,"answer_id":2515641,"question_id":2515477,"body_markdown":"Implementing multiple interfaces is very useful and doesn&#39;t cause much problems to language implementers nor programmers. So it is allowed. Multiple inheritance while also useful, can cause serious problems to users (dreaded [diamond of death][1]). And most things you do with multiple inheritance can be also done by composition or using inner classes. So multiple inheritance is forbidden as bringing more problems than gains.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Diamond_problem","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Implementing multiple interfaces is very useful and doesn't cause much problems to language implementers nor programmers. So it is allowed. Multiple inheritance while also useful, can cause serious problems to users (dreaded <a href=\"http://en.wikipedia.org/wiki/Diamond_problem\" rel=\"noreferrer\">diamond of death</a>). And most things you do with multiple inheritance can be also done by composition or using inner classes. So multiple inheritance is forbidden as bringing more problems than gains.</p>\n"},{"comments":[{"owner":{"account_id":108197,"reputation":10791,"user_id":287300,"display_name":"Syntactic"},"score":6,"creation_date":1269523368,"post_id":2515675,"comment_id":2512284,"body_markdown":"Thanks, NomeN. The source of the quote was a PhD student named Brendan Burns, who at the time was also the maintainer of the open-source Quake 2 source repository. Go figure.","body":"Thanks, NomeN. The source of the quote was a PhD student named Brendan Burns, who at the time was also the maintainer of the open-source Quake 2 source repository. Go figure."},{"owner":{"account_id":428529,"reputation":2676,"user_id":810918,"accept_rate":100,"display_name":"101100"},"score":4,"creation_date":1364406926,"post_id":2515675,"comment_id":22235420,"body_markdown":"The problem with this analogy is that if you are creating a subclass of a nuclear bomb and a toaster, the &quot;nuclear toaster&quot; would reasonably blow up when used.","body":"The problem with this analogy is that if you are creating a subclass of a nuclear bomb and a toaster, the &quot;nuclear toaster&quot; would reasonably blow up when used."},{"owner":{"account_id":921048,"reputation":55657,"user_id":952747,"accept_rate":85,"display_name":"masoud"},"score":31,"creation_date":1368965720,"post_id":2515675,"comment_id":23921424,"body_markdown":"If someone decides to mix a nuclear bomb and a toaster, he deserves that the bomb blows up in his face. The quote is _fallacious reasoning_","body":"If someone decides to mix a nuclear bomb and a toaster, he deserves that the bomb blows up in his face. The quote is <i>fallacious reasoning</i>"},{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":2,"creation_date":1368979980,"post_id":2515675,"comment_id":23925082,"body_markdown":"The same programming language does allow multiple &quot;interface&quot; inheritance, so this &quot;justification&quot; does not apply.","body":"The same programming language does allow multiple &quot;interface&quot; inheritance, so this &quot;justification&quot; does not apply."},{"owner":{"account_id":6284618,"reputation":81,"user_id":4884368,"accept_rate":50,"display_name":"Tomvkgames"},"score":1,"creation_date":1607654736,"post_id":2515675,"comment_id":115347061,"body_markdown":"Lol only looking at this now, but big up vote vor @masoud. Every computer science student should be asking this question","body":"Lol only looking at this now, but big up vote vor @masoud. Every computer science student should be asking this question"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1619171657,"post_id":2515675,"comment_id":118829905,"body_markdown":"Just like we have not gotten to getting multiline strings, and when we did, the implementation is completely useless, and due to its release will never be fixed. Now you have multiline string support but good luck embedding a value. I&#39;ve literally implemented support for properties and fields in interfaces and it is possible using a static hashmap that keeps track of this to value. I will see if i get around to releasing it, but it comes with some caveats, like memory leaks if it is used incorrectly. Java should provide a similar or better such implementation but i guess we have to wait ...","body":"Just like we have not gotten to getting multiline strings, and when we did, the implementation is completely useless, and due to its release will never be fixed. Now you have multiline string support but good luck embedding a value. I&#39;ve literally implemented support for properties and fields in interfaces and it is possible using a static hashmap that keeps track of this to value. I will see if i get around to releasing it, but it comes with some caveats, like memory leaks if it is used incorrectly. Java should provide a similar or better such implementation but i guess we have to wait ..."}],"tags":[],"owner":{"account_id":108197,"reputation":10791,"user_id":287300,"display_name":"Syntactic"},"comment_count":6,"down_vote_count":1,"up_vote_count":117,"is_accepted":false,"score":116,"last_activity_date":1269522277,"creation_date":1269522277,"answer_id":2515675,"question_id":2515477,"body_markdown":"One of my college instructors explained it to me this way:\r\n\r\n&gt; Suppose I have one class, which is a Toaster, and another class, which is NuclearBomb. They both might have a &quot;darkness&quot; setting. They both have an on() method. (One has an off(), the other doesn&#39;t.) If I want to create a class that&#39;s a subclass of both of these...as you can see, this is a problem that could really blow up in my face here.\r\n\r\nSo one of the main issues is that if you have two parent classes, they might have different implementations of the same feature — or possibly two different features with the same name, as in my instructor&#39;s example. Then you have to deal with deciding which one your subclass is going to use. There are ways of handling this, certainly — C++ does so — but the designers of Java felt that this would make things too complicated.\r\n\r\nWith an interface, though, you&#39;re describing something the class is capable of doing, rather than borrowing another class&#39;s method of doing something. Multiple interfaces are much less likely to cause tricky conflicts that need to be resolved than are multiple parent classes.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>One of my college instructors explained it to me this way:</p>\n\n<blockquote>\n  <p>Suppose I have one class, which is a Toaster, and another class, which is NuclearBomb. They both might have a \"darkness\" setting. They both have an on() method. (One has an off(), the other doesn't.) If I want to create a class that's a subclass of both of these...as you can see, this is a problem that could really blow up in my face here.</p>\n</blockquote>\n\n<p>So one of the main issues is that if you have two parent classes, they might have different implementations of the same feature — or possibly two different features with the same name, as in my instructor's example. Then you have to deal with deciding which one your subclass is going to use. There are ways of handling this, certainly — C++ does so — but the designers of Java felt that this would make things too complicated.</p>\n\n<p>With an interface, though, you're describing something the class is capable of doing, rather than borrowing another class's method of doing something. Multiple interfaces are much less likely to cause tricky conflicts that need to be resolved than are multiple parent classes.</p>\n"},{"comments":[{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":3,"creation_date":1368980062,"post_id":2515708,"comment_id":23925110,"body_markdown":"&quot;_What would happen if someone called C.getSomething._&quot; It is an error in C++. Problem solved.","body":"&quot;<i>What would happen if someone called C.getSomething.</i>&quot; It is an error in C++. Problem solved."},{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":0,"creation_date":1369076969,"post_id":2515708,"comment_id":23960665,"body_markdown":"That was the point...   that was a counter example that I thought was clear. I was pointing out that there is no way to determine which get something method should be called. Also as a side note, the question was related to java not c++","body":"That was the point...   that was a counter example that I thought was clear. I was pointing out that there is no way to determine which get something method should be called. Also as a side note, the question was related to java not c++"},{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":1,"creation_date":1369092006,"post_id":2515708,"comment_id":23966944,"body_markdown":"I am sorry I do not get what your point is. Obviously, there are ambiguity in some cases with MI. How is that a counter example? Who claimed that MI never result in ambiguity? &quot;_Also as a side note, the question was related to java not c++_&quot; So?","body":"I am sorry I do not get what your point is. Obviously, there are ambiguity in some cases with MI. How is that a counter example? Who claimed that MI never result in ambiguity? &quot;<i>Also as a side note, the question was related to java not c++</i>&quot; So?"},{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":0,"creation_date":1369094353,"post_id":2515708,"comment_id":23967464,"body_markdown":"I was just trying to show why that ambiguity exists and why it doesnt with interfaces.","body":"I was just trying to show why that ambiguity exists and why it doesnt with interfaces."},{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":1,"creation_date":1369095550,"post_id":2515708,"comment_id":23967724,"body_markdown":"Yes, MI can result in ambiguous calls. So can overloading. So Java should remove overloading?","body":"Yes, MI can result in ambiguous calls. So can overloading. So Java should remove overloading?"},{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":0,"creation_date":1369135223,"post_id":2515708,"comment_id":23982085,"body_markdown":"...no. If a class extends multiple classes and both super classes extend the same method it will result in errors. There is no way to determine the correct method to be called. Overloading works because this is not allowed. Im not sure why overloading would result in an ambiguous call, what gets called is determined by scope.","body":"...no. If a class extends multiple classes and both super classes extend the same method it will result in errors. There is no way to determine the correct method to be called. Overloading works because this is not allowed. Im not sure why overloading would result in an ambiguous call, what gets called is determined by scope."},{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":0,"creation_date":1369137975,"post_id":2515708,"comment_id":23983589,"body_markdown":"Overloading resolution sometimes results in an ambiguity, in C++ or in Java.","body":"Overloading resolution sometimes results in an ambiguity, in C++ or in Java."},{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":0,"creation_date":1369141730,"post_id":2515708,"comment_id":23985837,"body_markdown":"I was only referring to java (the language the question was asked about). Can you give an example of how overloading can be ambiguous in Java? I cannot think of any cases of hand.","body":"I was only referring to java (the language the question was asked about). Can you give an example of how overloading can be ambiguous in Java? I cannot think of any cases of hand."},{"owner":{"account_id":933555,"reputation":8064,"user_id":963864,"accept_rate":17,"display_name":"curiousguy"},"score":0,"creation_date":1369146525,"post_id":2515708,"comment_id":23989054,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/30341/discussion-between-curiousguy-and-john-kane)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/30341/discussion-between-curiousguy-and-john-kane\">continue this discussion in chat</a>"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1371412421,"post_id":2515708,"comment_id":24801178,"body_markdown":"@curiousguy: Multiple inheritance may not be a problem if adding virtual public members to a base class will require recompiling all derived classes, and/or one doesn&#39;t need identity-preserving typecasts from a subtype to its base type.  Both Java and .NET provide both those features, however; that in turn requires that classes must explicitly specify the implementation of all virtual members that may be imported via more than once source [which both frameworks do by requiring that such members be imported via interfaces].","body":"@curiousguy: Multiple inheritance may not be a problem if adding virtual public members to a base class will require recompiling all derived classes, and/or one doesn&#39;t need identity-preserving typecasts from a subtype to its base type.  Both Java and .NET provide both those features, however; that in turn requires that classes must explicitly specify the implementation of all virtual members that may be imported via more than once source [which both frameworks do by requiring that such members be imported via interfaces]."}],"tags":[],"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"comment_count":10,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1369077034,"creation_date":1269522517,"answer_id":2515708,"question_id":2515477,"body_markdown":"Take for example the case where Class A has a getSomething method and class B has a getSomething method and class C extends A and B. What would happen if someone called C.getSomething? There is no way to determine which method to call.\r\n\r\n\r\nInterfaces basically just specify what methods a implementing class needs to contain. A class that implements multiple interfaces just means that class has to implement the methods from all those interfaces.  Whci would not lead to any issues as described above.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Take for example the case where Class A has a getSomething method and class B has a getSomething method and class C extends A and B. What would happen if someone called C.getSomething? There is no way to determine which method to call.</p>\n\n<p>Interfaces basically just specify what methods a implementing class needs to contain. A class that implements multiple interfaces just means that class has to implement the methods from all those interfaces.  Whci would not lead to any issues as described above.</p>\n"},{"tags":[],"owner":{"account_id":1517246,"reputation":91,"user_id":1417975,"display_name":"Karthik GVD"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392305342,"creation_date":1392305342,"answer_id":21758490,"question_id":2515477,"body_markdown":"It is said that objects state is referred with respect to the fields in it and it would become ambiguous if too many classes were inherited. Here is the link \r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html\r\n\r\n","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>It is said that objects state is referred with respect to the fields in it and it would become ambiguous if too many classes were inherited. Here is the link </p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html</a></p>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429609317,"creation_date":1429609317,"answer_id":29768474,"question_id":2515477,"body_markdown":"Consider a scenario where Test1, Test2 and Test3 are three classes. The Test3 class inherits Test2 and Test1 classes. If Test1 and Test2 classes have same method and you call it from child class object, there will be ambiguity to call method of Test1 or Test2 class but there is no such ambiguity for interface as in interface no implementation is there.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Consider a scenario where Test1, Test2 and Test3 are three classes. The Test3 class inherits Test2 and Test1 classes. If Test1 and Test2 classes have same method and you call it from child class object, there will be ambiguity to call method of Test1 or Test2 class but there is no such ambiguity for interface as in interface no implementation is there.</p>\n"},{"tags":[],"owner":{"account_id":2998908,"reputation":1423,"user_id":2544787,"accept_rate":85,"display_name":"Murillo Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465622459,"creation_date":1465622459,"answer_id":37760235,"question_id":2515477,"body_markdown":"Since this topic is not close I&#39;ll post this answer, I hope this helps someone to understand why java does not allow multiple inheritance.\r\n\r\nConsider the following class:\r\n\r\n    public class Abc{\r\n\r\n        public void doSomething(){\r\n\r\n        }\r\n\r\n    }\r\n\r\nIn this case the class Abc does not extends nothing right? Not so fast, this class implicit extends the class Object, base class that allow everything work in java. Everything is an object.\r\n\r\nIf you try to use the class above you&#39;ll see that your IDE allow you to use methods like: `equals(Object o)`, `toString()`, etc, but you didn&#39;t declare those methods, they came from the base class `Object`\r\n\r\nYou could try:\r\n\r\n    public class Abc extends String{\r\n\r\n        public void doSomething(){\r\n\r\n        }\r\n\r\n    }\r\n\r\nThis is fine, because your class will not implicit extends `Object` but will extends `String` because you said it. Consider the following change:\r\n\r\n    public class Abc{\r\n\r\n        public void doSomething(){\r\n\r\n        }\r\n\r\n        @Override\r\n        public String toString(){\r\n            return &quot;hello&quot;;\r\n        }\r\n\r\n    }\r\n\r\nNow your class will always return &quot;hello&quot; if you call toString().\r\n\r\nNow imagine the following class:\r\n\r\n    public class Flyer{\r\n\r\n        public void makeFly(){\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public class Bird extends Abc, Flyer{\r\n\r\n        public void doAnotherThing(){\r\n\r\n        }\r\n\r\n    }\r\n\r\nAgain class `Flyer` implicit extends Object which has the method `toString()`, any class will have this method since they all extends `Object` indirectly, so, if you call `toString()` from `Bird`, which `toString()` java would have to use? From `Abc` or `Flyer`? This will happen with any class that try to extends two or more classes, to avoid this kind of &quot;method collision&quot; they built the idea of **interface**, basically you could think them as an **abstract class that does not extends Object indirectly**. Since they are **abstract** they will have to be implemented by a class, which is an **object** (you cannot instanciate an interface alone, they must be implemented by a class), so everything will continue to work fine.\r\n\r\nTo differ classes from interfaces, the keyword **implements** was reserved just for interfaces.\r\n\r\nYou could implement any interface you like in the same class since they does not extends anything by default (but you could create a interface that extends another interface, but again, the &quot;father&quot; interface would not extends Object&quot;), so an interface is just an interface and they will not suffer from &quot;**methods signature colissions**&quot;, if they do the compiler will throw a warning to you and you will just have to change the method signature to fix it (signature = method name + params + return type).\r\n\r\n    public interface Flyer{\r\n\r\n        public void makeFly(); // &lt;- method without implementation\r\n\r\n    }\r\n\r\n    public class Bird extends Abc implements Flyer{\r\n\r\n        public void doAnotherThing(){\r\n\r\n        }\r\n\r\n        @Override\r\n        public void makeFly(){ // &lt;- implementation of Flyer interface\r\n\r\n        }\r\n\r\n        // Flyer does not have toString() method or any method from class Object, \r\n        // no method signature collision will happen here\r\n\r\n    }","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Since this topic is not close I'll post this answer, I hope this helps someone to understand why java does not allow multiple inheritance.</p>\n\n<p>Consider the following class:</p>\n\n<pre><code>public class Abc{\n\n    public void doSomething(){\n\n    }\n\n}\n</code></pre>\n\n<p>In this case the class Abc does not extends nothing right? Not so fast, this class implicit extends the class Object, base class that allow everything work in java. Everything is an object.</p>\n\n<p>If you try to use the class above you'll see that your IDE allow you to use methods like: <code>equals(Object o)</code>, <code>toString()</code>, etc, but you didn't declare those methods, they came from the base class <code>Object</code></p>\n\n<p>You could try:</p>\n\n<pre><code>public class Abc extends String{\n\n    public void doSomething(){\n\n    }\n\n}\n</code></pre>\n\n<p>This is fine, because your class will not implicit extends <code>Object</code> but will extends <code>String</code> because you said it. Consider the following change:</p>\n\n<pre><code>public class Abc{\n\n    public void doSomething(){\n\n    }\n\n    @Override\n    public String toString(){\n        return \"hello\";\n    }\n\n}\n</code></pre>\n\n<p>Now your class will always return \"hello\" if you call toString().</p>\n\n<p>Now imagine the following class:</p>\n\n<pre><code>public class Flyer{\n\n    public void makeFly(){\n\n    }\n\n}\n\npublic class Bird extends Abc, Flyer{\n\n    public void doAnotherThing(){\n\n    }\n\n}\n</code></pre>\n\n<p>Again class <code>Flyer</code> implicit extends Object which has the method <code>toString()</code>, any class will have this method since they all extends <code>Object</code> indirectly, so, if you call <code>toString()</code> from <code>Bird</code>, which <code>toString()</code> java would have to use? From <code>Abc</code> or <code>Flyer</code>? This will happen with any class that try to extends two or more classes, to avoid this kind of \"method collision\" they built the idea of <strong>interface</strong>, basically you could think them as an <strong>abstract class that does not extends Object indirectly</strong>. Since they are <strong>abstract</strong> they will have to be implemented by a class, which is an <strong>object</strong> (you cannot instanciate an interface alone, they must be implemented by a class), so everything will continue to work fine.</p>\n\n<p>To differ classes from interfaces, the keyword <strong>implements</strong> was reserved just for interfaces.</p>\n\n<p>You could implement any interface you like in the same class since they does not extends anything by default (but you could create a interface that extends another interface, but again, the \"father\" interface would not extends Object\"), so an interface is just an interface and they will not suffer from \"<strong>methods signature colissions</strong>\", if they do the compiler will throw a warning to you and you will just have to change the method signature to fix it (signature = method name + params + return type).</p>\n\n<pre><code>public interface Flyer{\n\n    public void makeFly(); // &lt;- method without implementation\n\n}\n\npublic class Bird extends Abc implements Flyer{\n\n    public void doAnotherThing(){\n\n    }\n\n    @Override\n    public void makeFly(){ // &lt;- implementation of Flyer interface\n\n    }\n\n    // Flyer does not have toString() method or any method from class Object, \n    // no method signature collision will happen here\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655612769,"post_id":39549588,"comment_id":128370997,"body_markdown":"At least you quoted an actual source giving an actual reason. Most of the other answers here are essentially tautologies.","body":"At least you quoted an actual source giving an actual reason. Most of the other answers here are essentially tautologies."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1682332900,"creation_date":1474132325,"answer_id":39549588,"question_id":2515477,"body_markdown":"You can find accurate answer for this query in oracle documentation page about [multiple inheritance][1]\r\n\r\n&gt;1.  ***Multiple inheritance of state:***  Ability to inherit fields from multiple classes\r\n\r\n\r\nIn this case,  When you create an object : It will inherit fields from all of the  superclasses. It will cause two issues.\r\n\r\n &gt;a.  What if methods or constructors from different super classes instantiate the same field?\r\n &gt;b.  Which method or constructor will take precedence?\r\n\r\n \r\n\r\n&gt;2. ***Multiple inheritance of implementation:*** Ability to inherit method definitions from multiple classes\r\n\r\n This approach causes *name conflicts* and *ambiguity*. If a subclass and superclass contain same method name (and signature), compiler can&#39;t determine which version to invoke. \r\n\r\n Java supports this type of multiple inheritance with [default methods][2],   since Java 8 release.  The Java compiler provides some rules to determine which default method a particular class uses.\r\n\r\n Refer to below SE post for more details on resolving diamond problem:\r\n\r\n https://stackoverflow.com/questions/22591499/what-are-the-differences-between-abstract-classes-and-interfaces-in-java-8/40700168#40700168\r\n\r\n&gt;3. ***Multiple inheritance of type:***  Ability of a class to implement more than one interface.  \r\n\r\n Since interface  does not contain mutable fields, you need not worry about problems that result from multiple inheritance of state here.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>You can find accurate answer for this query in oracle documentation page about <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html\" rel=\"nofollow noreferrer\">multiple inheritance</a></p>\n<blockquote>\n<ol>\n<li><em><strong>Multiple inheritance of state:</strong></em>  Ability to inherit fields from multiple classes</li>\n</ol>\n</blockquote>\n<p>In this case,  When you create an object : It will inherit fields from all of the  superclasses. It will cause two issues.</p>\n<blockquote>\n<p>a.  What if methods or constructors from different super classes instantiate the same field?\nb.  Which method or constructor will take precedence?</p>\n</blockquote>\n<blockquote>\n<ol start=\"2\">\n<li><em><strong>Multiple inheritance of implementation:</strong></em> Ability to inherit method definitions from multiple classes</li>\n</ol>\n</blockquote>\n<p>This approach causes <em>name conflicts</em> and <em>ambiguity</em>. If a subclass and superclass contain same method name (and signature), compiler can't determine which version to invoke.</p>\n<p>Java supports this type of multiple inheritance with <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default methods</a>,   since Java 8 release.  The Java compiler provides some rules to determine which default method a particular class uses.</p>\n<p>Refer to below SE post for more details on resolving diamond problem:</p>\n<p><a href=\"https://stackoverflow.com/questions/22591499/what-are-the-differences-between-abstract-classes-and-interfaces-in-java-8/40700168#40700168\">What are the differences between abstract classes and interfaces in Java 8?</a></p>\n<blockquote>\n<ol start=\"3\">\n<li><em><strong>Multiple inheritance of type:</strong></em>  Ability of a class to implement more than one interface.</li>\n</ol>\n</blockquote>\n<p>Since interface  does not contain mutable fields, you need not worry about problems that result from multiple inheritance of state here.</p>\n"},{"comments":[{"owner":{"account_id":7190406,"reputation":1946,"user_id":5490970,"accept_rate":100,"display_name":"MashukKhan"},"score":0,"creation_date":1592804533,"post_id":39740878,"comment_id":110544272,"body_markdown":"the link is not accessible. Kindly check and update it.","body":"the link is not accessible. Kindly check and update it."}],"tags":[],"owner":{"account_id":5823002,"reputation":528,"user_id":4590393,"accept_rate":25,"display_name":"Praveen Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1619542013,"creation_date":1475048003,"answer_id":39740878,"question_id":2515477,"body_markdown":"Java supports multiple inheritance through  interfaces only. A class can implement any number of interfaces but can extend only one class.\r\n\r\nMultiple inheritance is not supported because it leads to deadly diamond problem. However, it can be solved but it leads to complex system so multiple inheritance has been dropped by Java founders.\r\n\r\nIn a white paper titled “Java: an Overview” by James Gosling in February 1995([link - page 2][1]) gives an idea on why multiple inheritance is not supported in Java.\r\n\r\nAccording to Gosling: \r\n\r\n&gt; &quot;JAVA omits many rarely used, poorly understood, confusing features of\r\n&gt; C++ that in our experience bring more grief than beneﬁt. This\r\n&gt; primarily consists of operator overloading (although it does have\r\n&gt; method overloading), multiple inheritance, and extensive automatic\r\n&gt; coercions.&quot;\r\n\r\n\r\n  [1]: https://www.researchgate.net/publication/345758345_Java_an_Overview_the_original_Java_whitepaper#read","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Java supports multiple inheritance through  interfaces only. A class can implement any number of interfaces but can extend only one class.</p>\n<p>Multiple inheritance is not supported because it leads to deadly diamond problem. However, it can be solved but it leads to complex system so multiple inheritance has been dropped by Java founders.</p>\n<p>In a white paper titled “Java: an Overview” by James Gosling in February 1995(<a href=\"https://www.researchgate.net/publication/345758345_Java_an_Overview_the_original_Java_whitepaper#read\" rel=\"nofollow noreferrer\">link - page 2</a>) gives an idea on why multiple inheritance is not supported in Java.</p>\n<p>According to Gosling:</p>\n<blockquote>\n<p>&quot;JAVA omits many rarely used, poorly understood, confusing features of\nC++ that in our experience bring more grief than beneﬁt. This\nprimarily consists of operator overloading (although it does have\nmethod overloading), multiple inheritance, and extensive automatic\ncoercions.&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"user7445071"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655612898,"creation_date":1485180200,"answer_id":41808188,"question_id":2515477,"body_markdown":"Java does not support multiple inheritance , multipath and hybrid inheritance because of the following ambiguity\r\nproblem.\r\n    \r\nScenario for multiple inheritance: Let us take class A , class B , class C. class A has alphabet(); method , class B has also alphabet(); method. Now class C extends A, B and we are creating object to the subclass i.e., class C , so  C ob = new C(); Then if you want call those methods ob.alphabet(); which class method takes ? is class A method or class B method ?  So in the JVM level ambiguity problem occurred. Thus Java does not support multiple inheritance.\r\n\r\n   [multiple inheritance][1]\r\n\r\n&gt; ***Reference Link:*** https://plus.google.com/u/0/communities/102217496457095083679\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lZJNg.png","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Java does not support multiple inheritance , multipath and hybrid inheritance because of the following ambiguity\nproblem.</p>\n<p>Scenario for multiple inheritance: Let us take class A , class B , class C. class A has alphabet(); method , class B has also alphabet(); method. Now class C extends A, B and we are creating object to the subclass i.e., class C , so  C ob = new C(); Then if you want call those methods ob.alphabet(); which class method takes ? is class A method or class B method ?  So in the JVM level ambiguity problem occurred. Thus Java does not support multiple inheritance.</p>\n<p><a href=\"https://i.stack.imgur.com/lZJNg.png\" rel=\"nofollow noreferrer\">multiple inheritance</a></p>\n<blockquote>\n<p><em><strong>Reference Link:</strong></em> <a href=\"https://plus.google.com/u/0/communities/102217496457095083679\" rel=\"nofollow noreferrer\">https://plus.google.com/u/0/communities/102217496457095083679</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12620506,"reputation":1,"user_id":9176188,"display_name":"AJavaLover"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1515140827,"creation_date":1515134905,"answer_id":48108546,"question_id":2515477,"body_markdown":"*** This is a simple answer since I&#39;m a beginner in Java ***\r\n\r\nConsider there are three classes `X`,`Y` and `Z`.\r\n\r\nSo we are inheriting like `X extends Y, Z`\r\nAnd both `Y` and `Z` is having a method `alphabet()` with same return type and arguments. This method `alphabet()` in `Y` says to *display first alphabet* and method alphabet in `Z` says *display last alphabet*.\r\nSo here comes ambiguity when `alphabet()` is called by `X`. Whether it says to display *first* or *last* alphabet???\r\nSo java is not supporting multiple inheritance.\r\nIn case of Interfaces, consider `Y` and `Z` as interfaces. So both will contain the declaration of method `alphabet()` but not the definition. It won&#39;t tell whether to display first alphabet or last alphabet or anything but just will declare a method `alphabet()`. So there is no reason to raise the ambiguity. We can define the method with anything we want inside class `X`.\r\n\r\nSo in a word, in Interfaces definition is done after implementation so no confusion.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p><strong>* This is a simple answer since I'm a beginner in Java *</strong></p>\n\n<p>Consider there are three classes <code>X</code>,<code>Y</code> and <code>Z</code>.</p>\n\n<p>So we are inheriting like <code>X extends Y, Z</code>\nAnd both <code>Y</code> and <code>Z</code> is having a method <code>alphabet()</code> with same return type and arguments. This method <code>alphabet()</code> in <code>Y</code> says to <em>display first alphabet</em> and method alphabet in <code>Z</code> says <em>display last alphabet</em>.\nSo here comes ambiguity when <code>alphabet()</code> is called by <code>X</code>. Whether it says to display <em>first</em> or <em>last</em> alphabet???\nSo java is not supporting multiple inheritance.\nIn case of Interfaces, consider <code>Y</code> and <code>Z</code> as interfaces. So both will contain the declaration of method <code>alphabet()</code> but not the definition. It won't tell whether to display first alphabet or last alphabet or anything but just will declare a method <code>alphabet()</code>. So there is no reason to raise the ambiguity. We can define the method with anything we want inside class <code>X</code>.</p>\n\n<p>So in a word, in Interfaces definition is done after implementation so no confusion.</p>\n"},{"comments":[{"owner":{"account_id":9952672,"reputation":739,"user_id":7364698,"display_name":"Siluveru Kiran Kumar"},"score":0,"creation_date":1565330775,"post_id":50313563,"comment_id":101326989,"body_markdown":"how about making the java compiler gives compiler if the same methods or variables defined in both parent class so that we can change the code...","body":"how about making the java compiler gives compiler if the same methods or variables defined in both parent class so that we can change the code..."}],"tags":[],"owner":{"account_id":5755958,"reputation":570,"user_id":4543903,"display_name":"Pooja Khatri"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1526194660,"creation_date":1526194660,"answer_id":50313563,"question_id":2515477,"body_markdown":"For example two class A,B having same method m1(). And class C extends both A, B.\r\n     \r\n     class C extends A, B // for explaining purpose.\r\nNow, class C will search the definition of m1. First, it will search in class if it didn&#39;t find then it will check to parents class. Both A, B having the definition So here ambiguity occur which definition should choose.\r\nSo JAVA DOESN&#39;T SUPPORT MULTIPLE INHERITANCE.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>For example two class A,B having same method m1(). And class C extends both A, B.</p>\n\n<pre><code> class C extends A, B // for explaining purpose.\n</code></pre>\n\n<p>Now, class C will search the definition of m1. First, it will search in class if it didn't find then it will check to parents class. Both A, B having the definition So here ambiguity occur which definition should choose.\nSo JAVA DOESN'T SUPPORT MULTIPLE INHERITANCE.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1655612640,"post_id":55330987,"comment_id":128370985,"body_markdown":"This answer has it back to front. The compiler and interpreter were programmed to implement the language design decisions, not the other way round.","body":"This answer has it back to front. The compiler and interpreter were programmed to implement the language design decisions, not the other way round."}],"tags":[],"owner":{"account_id":1964448,"reputation":782,"user_id":1765071,"display_name":"Prabal Srivastava"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1578052567,"creation_date":1553485285,"answer_id":55330987,"question_id":2515477,"body_markdown":"**The answer of this question is lies in the internal working of java compiler(constructor chaining).**\r\nIf we see the internal working of java compiler:\r\n\r\n    public class Bank {\r\n      public void printBankBalance(){\r\n        System.out.println(&quot;10k&quot;);\r\n      }\r\n    }\r\n    class SBI extends Bank{\r\n     public void printBankBalance(){\r\n        System.out.println(&quot;20k&quot;);\r\n      }\r\n    }\r\n\r\nAfter compiling this look like:\r\n\r\n    public class Bank {\r\n      public Bank(){\r\n       super();\r\n      }\r\n      public void printBankBalance(){\r\n        System.out.println(&quot;10k&quot;);\r\n      }\r\n    }\r\n    class SBI extends Bank {\r\n     SBI(){\r\n       super();\r\n     }\r\n     public void printBankBalance(){\r\n        System.out.println(&quot;20k&quot;);\r\n      }\r\n    }\r\n\r\n when we extends class and create an object of it, one constructor chain will run till `Object` class.\r\n\r\nAbove code will run fine. but if we have another class called `Car` which extends `Bank` and one *hybrid*(multiple inheritance) class called `SBICar`:\r\n\r\n    class Car extends Bank {\r\n      Car() {\r\n        super();\r\n      }\r\n      public void run(){\r\n        System.out.println(&quot;99Km/h&quot;);\r\n      }\r\n    }\r\n    class SBICar extends Bank, Car {\r\n      SBICar() {\r\n        super(); //NOTE: compile time ambiguity.\r\n      }\r\n      public void run() {\r\n        System.out.println(&quot;99Km/h&quot;);\r\n      }\r\n      public void printBankBalance(){\r\n        System.out.println(&quot;20k&quot;);\r\n      }\r\n    }\r\n\r\nIn this case(SBICar) will fail to create constructor chain(**compile time ambiguity**).\r\n\r\nFor interfaces this is allowed because we cannot create an object of it.\r\n\r\nFor new concept of `default` and `static` method kindly refer [default in interface][1].\r\n\r\nHope this will solve your query. \r\nThanks.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/override.html#default","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p><strong>The answer of this question is lies in the internal working of java compiler(constructor chaining).</strong>\nIf we see the internal working of java compiler:</p>\n\n<pre><code>public class Bank {\n  public void printBankBalance(){\n    System.out.println(\"10k\");\n  }\n}\nclass SBI extends Bank{\n public void printBankBalance(){\n    System.out.println(\"20k\");\n  }\n}\n</code></pre>\n\n<p>After compiling this look like:</p>\n\n<pre><code>public class Bank {\n  public Bank(){\n   super();\n  }\n  public void printBankBalance(){\n    System.out.println(\"10k\");\n  }\n}\nclass SBI extends Bank {\n SBI(){\n   super();\n }\n public void printBankBalance(){\n    System.out.println(\"20k\");\n  }\n}\n</code></pre>\n\n<p>when we extends class and create an object of it, one constructor chain will run till <code>Object</code> class.</p>\n\n<p>Above code will run fine. but if we have another class called <code>Car</code> which extends <code>Bank</code> and one <em>hybrid</em>(multiple inheritance) class called <code>SBICar</code>:</p>\n\n<pre><code>class Car extends Bank {\n  Car() {\n    super();\n  }\n  public void run(){\n    System.out.println(\"99Km/h\");\n  }\n}\nclass SBICar extends Bank, Car {\n  SBICar() {\n    super(); //NOTE: compile time ambiguity.\n  }\n  public void run() {\n    System.out.println(\"99Km/h\");\n  }\n  public void printBankBalance(){\n    System.out.println(\"20k\");\n  }\n}\n</code></pre>\n\n<p>In this case(SBICar) will fail to create constructor chain(<strong>compile time ambiguity</strong>).</p>\n\n<p>For interfaces this is allowed because we cannot create an object of it.</p>\n\n<p>For new concept of <code>default</code> and <code>static</code> method kindly refer <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html#default\" rel=\"noreferrer\">default in interface</a>.</p>\n\n<p>Hope this will solve your query. \nThanks.</p>\n"},{"comments":[{"owner":{"account_id":6184247,"reputation":1015,"user_id":4818802,"accept_rate":79,"display_name":"Xeverous"},"score":0,"creation_date":1650299090,"post_id":57231045,"comment_id":127076942,"body_markdown":"For point 2: the need for `super()` is arbitrary (&quot;just because&quot;). The requirement could be removed or have a syntax that supports naming parent types.\n\nI would say the reverse: `super` exists **because** language does not support multiple class inheritance.","body":"For point 2: the need for <code>super()</code> is arbitrary (&quot;just because&quot;). The requirement could be removed or have a syntax that supports naming parent types.  I would say the reverse: <code>super</code> exists <b>because</b> language does not support multiple class inheritance."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655612732,"post_id":57231045,"comment_id":128370993,"body_markdown":"It works in C++. It could have been made to work in Java as well. Answer is inadequate to explain the phenomenon.","body":"It works in C++. It could have been made to work in Java as well. Answer is inadequate to explain the phenomenon."}],"tags":[],"owner":{"account_id":16398033,"reputation":79,"user_id":11844915,"display_name":"raghu.g.b Raghu"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1564222379,"creation_date":1564221732,"answer_id":57231045,"question_id":2515477,"body_markdown":"Java does not support multiple inheritance because of two reasons: \r\n\r\n 1. In java, every class is a child of `Object` class. When it inherits from more than one super class, sub class gets the ambiguity to\r\n    acquire the property of Object class..\r\n 2. In java every class has a constructor, if we write it explicitly or not at all. The first statement is calling `super()` to invoke the\r\n    supper class constructor. If the class has more than one super class, it\r\n    gets confused.\r\n\r\nSo when one class extends from more than one super class, we get compile time error.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Java does not support multiple inheritance because of two reasons: </p>\n\n<ol>\n<li>In java, every class is a child of <code>Object</code> class. When it inherits from more than one super class, sub class gets the ambiguity to\nacquire the property of Object class..</li>\n<li>In java every class has a constructor, if we write it explicitly or not at all. The first statement is calling <code>super()</code> to invoke the\nsupper class constructor. If the class has more than one super class, it\ngets confused.</li>\n</ol>\n\n<p>So when one class extends from more than one super class, we get compile time error.</p>\n"},{"tags":[],"owner":{"account_id":9171232,"reputation":119,"user_id":9628146,"display_name":"hasanga lakdinu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568888194,"creation_date":1568888194,"answer_id":58008781,"question_id":2515477,"body_markdown":"in simple manner we all know, we can inherit(extends) one class but we can implements so many interfaces.. that is because in interfaces we don&#39;t give an implementation just say the functionality. suppose if java can extends so many classes and those have same methods.. in this point if we try to invoke super class method in the sub class what method suppose to run??, compiler get confused \r\n[example:- try to multiple extends][1]\r\nbut in interfaces those methods don&#39;t have bodies we should implement those in sub class.. \r\n[try to multiple implements][2]\r\nso no worries.. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rLkWM.png\r\n  [2]: https://i.stack.imgur.com/kH9l5.png","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>in simple manner we all know, we can inherit(extends) one class but we can implements so many interfaces.. that is because in interfaces we don't give an implementation just say the functionality. suppose if java can extends so many classes and those have same methods.. in this point if we try to invoke super class method in the sub class what method suppose to run??, compiler get confused \n<a href=\"https://i.stack.imgur.com/rLkWM.png\" rel=\"nofollow noreferrer\">example:- try to multiple extends</a>\nbut in interfaces those methods don't have bodies we should implement those in sub class.. \n<a href=\"https://i.stack.imgur.com/kH9l5.png\" rel=\"nofollow noreferrer\">try to multiple implements</a>\nso no worries.. </p>\n"},{"comments":[{"owner":{"account_id":109880,"reputation":6406,"user_id":290962,"accept_rate":89,"display_name":"ahoffer"},"score":1,"creation_date":1624153837,"post_id":68050401,"comment_id":120279796,"body_markdown":"There are more concrete answers. I&#39;m thinking specifically of C++&#39;s &quot;diamond problem&quot;","body":"There are more concrete answers. I&#39;m thinking specifically of C++&#39;s &quot;diamond problem&quot;"}],"tags":[],"owner":{"account_id":20913241,"reputation":1,"user_id":15363610,"display_name":"hema"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1624133588,"creation_date":1624133588,"answer_id":68050401,"question_id":2515477,"body_markdown":"It is a decision to keep the complexity low.\r\nWith hybrid inheritance, things would have been more complicated to implement, and anyways what is achievable by multiple inheritances is also with other ways.","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>It is a decision to keep the complexity low.\nWith hybrid inheritance, things would have been more complicated to implement, and anyways what is achievable by multiple inheritances is also with other ways.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655695618,"post_id":69002554,"comment_id":128384557,"body_markdown":"There is no private inheritance in Java. Your answer and your image explain nothing.","body":"There is no private inheritance in Java. Your answer and your image explain nothing."}],"tags":[],"owner":{"account_id":18544661,"reputation":29,"user_id":13512337,"display_name":"Meet"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655695664,"creation_date":1630428594,"answer_id":69002554,"question_id":2515477,"body_markdown":"the image explaining the problem with multiple inheritances.\r\n[![enter image description here][1]][1]\r\nWhat is the inherited member of the derived class? it is still private or publically available in the derived class?\r\nFor not getting this type of problem in Java they removed multiple inheritance. This image is a simple example of an object-oriented programming problem.\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FO5S1.png","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>the image explaining the problem with multiple inheritances.\n<a href=\"https://i.stack.imgur.com/FO5S1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FO5S1.png\" alt=\"enter image description here\" /></a>\nWhat is the inherited member of the derived class? it is still private or publically available in the derived class?\nFor not getting this type of problem in Java they removed multiple inheritance. This image is a simple example of an object-oriented programming problem.</p>\n"},{"tags":[],"owner":{"account_id":16234323,"reputation":11,"user_id":11722119,"display_name":"nnr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655611958,"creation_date":1655611764,"answer_id":72674212,"question_id":2515477,"body_markdown":"Multiple inheritance is not supported by class because of ambiguity. \r\n(this point is explained clearly in above answers using super keyword)\r\n\r\nNow for interfaces,\r\n1) upto Java 7, interfaces  could not define the implementation of methods. So if class implements from multiple interfaces having same method signature then implementation of that method is to be provided by that class.\r\n\r\n2) from java 8 onwards, interfaces can also have implementation of methods. So if class implements two or more interfaces having same method signature with implementation, then it is mandated to implement the method in that class also.\r\n\r\nFrom Java 9 onwards, interfaces can contain Static methods, Private methods, Private Static methods.\r\n\r\n[Modifications in features of Interfaces][1] (over java version-7,8,9)\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/interfaces-in-java/","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Multiple inheritance is not supported by class because of ambiguity.\n(this point is explained clearly in above answers using super keyword)</p>\n<p>Now for interfaces,</p>\n<ol>\n<li><p>upto Java 7, interfaces  could not define the implementation of methods. So if class implements from multiple interfaces having same method signature then implementation of that method is to be provided by that class.</p>\n</li>\n<li><p>from java 8 onwards, interfaces can also have implementation of methods. So if class implements two or more interfaces having same method signature with implementation, then it is mandated to implement the method in that class also.</p>\n</li>\n</ol>\n<p>From Java 9 onwards, interfaces can contain Static methods, Private methods, Private Static methods.</p>\n<p><a href=\"https://www.geeksforgeeks.org/interfaces-in-java/\" rel=\"nofollow noreferrer\">Modifications in features of Interfaces</a> (over java version-7,8,9)</p>\n"}],"owner":{"account_id":113485,"reputation":9218,"user_id":298870,"accept_rate":89,"display_name":"abson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213407,"favorite_count":0,"down_vote_count":1,"up_vote_count":195,"accepted_answer_id":2515502,"answer_count":21,"score":194,"last_activity_date":1682332900,"creation_date":1269520841,"question_id":2515477,"body_markdown":"Java doesn&#39;t allow multiple inheritance, but it allows implementing multiple interfaces. Why?","title":"Why is there no multiple inheritance in Java, but implementing multiple interfaces is allowed?","body":"<p>Java doesn't allow multiple inheritance, but it allows implementing multiple interfaces. Why?</p>\n"},{"tags":["java","android","firebase","firebase-authentication","firebase-admin"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682332732,"creation_date":1682332732,"answer_id":76091023,"question_id":76089838,"body_markdown":"The [FirebaseOptions.Builder][1] class doesn&#39;t contain any `.setCredentials()` methods. So there is no way you can call such a method on an object of type `Builder`, hence the error.\r\n\r\nOn the other hand, [Firebase Admin SDK][2] indeed contains such a method, but unfortunately, you cannot use the Admin SDK and the regular Android SDK for Firebase in the same project.\r\n\r\nIf you want to use some functionality that exists in the Firebase Admin SDK, then you should consider creating a [Cloud Function][3] and [calling it from your Android application&#39;s code][4].\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseOptions.Builder\r\n  [2]: https://firebase.google.com/docs/admin/setup#use-oauth-2-0-refresh-token\r\n  [3]: https://firebase.google.com/docs/functions/\r\n  [4]: https://firebase.google.com/docs/functions/callable","title":"error: cannot find symbol .setCredentials(GoogleCredentials.fromStream(serviceAccount))","body":"<p>The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseOptions.Builder\" rel=\"nofollow noreferrer\">FirebaseOptions.Builder</a> class doesn't contain any <code>.setCredentials()</code> methods. So there is no way you can call such a method on an object of type <code>Builder</code>, hence the error.</p>\n<p>On the other hand, <a href=\"https://firebase.google.com/docs/admin/setup#use-oauth-2-0-refresh-token\" rel=\"nofollow noreferrer\">Firebase Admin SDK</a> indeed contains such a method, but unfortunately, you cannot use the Admin SDK and the regular Android SDK for Firebase in the same project.</p>\n<p>If you want to use some functionality that exists in the Firebase Admin SDK, then you should consider creating a <a href=\"https://firebase.google.com/docs/functions/\" rel=\"nofollow noreferrer\">Cloud Function</a> and <a href=\"https://firebase.google.com/docs/functions/callable\" rel=\"nofollow noreferrer\">calling it from your Android application's code</a>.</p>\n"}],"owner":{"account_id":23419969,"reputation":3,"user_id":17480333,"display_name":"Ho&#224;ng Trần"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76091023,"answer_count":1,"score":0,"last_activity_date":1682332857,"creation_date":1682323682,"question_id":76089838,"body_markdown":"Please help me with this code, I still don&#39;t understand why I&#39;m like this, I edited the gradle file, and edited the java file but it still doesn&#39;t work, please help me fix it.\r\np/s: this is the first time I post help so I&#39;m so grateful and appreciative\r\n\r\n\r\nJava file:\r\n\r\nIn the Java file, I tried to declare it like on the Firebase page of Google but still got the error\r\n\r\n\r\n\r\n```&#39;&#39;\r\npackage Database;\r\n\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\n\r\nimport com.google.firebase.FirebaseOptions;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\n\r\nimport com.google.firebase.database.DatabaseError;\r\n\r\nimport com.google.firebase.database.DatabaseReference;\r\n\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\n\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.io.FileInputStream;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class DemoFirebase {\r\n\r\npublic static void main(String\\[\\] args) throws IOException {\r\n\r\nFileInputStream serviceAccount = new FileInputStream(&quot;my_JSon_file&quot;);\r\n\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .setDatabaseUrl(&quot;my_database_url&quot;)\r\n                .build();\r\n    \r\n        FirebaseApp.initializeApp(options);\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;User&quot;);\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Object value = dataSnapshot.getValue();\r\n                System.out.println(&quot;Value is: &quot; + value);\r\n            }\r\n    \r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n                System.out.println(&quot;Error: &quot; + error.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nGradle file:\r\nIn this Gradle file, I have added libraries that may be needed but it still fails in the Java file\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.2&#39;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.5.0&#39;)\r\n\r\n    implementation &#39;com.google.cloud:google-cloud-storage:2.14.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-admin:9.1.1&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\r\n    implementation(&#39;com.google.firebase:firebase-appcheck-debug:16.1.2&#39;)\r\n\r\n    implementation(&#39;com.google.firebase:firebase-inappmessaging:20.3.1&#39;)\r\n\r\n    implementation(&#39;com.google.firebase:firebase-inappmessaging-display:20.3.1&#39;)\r\n\r\n    implementation &#39;com.google.auth:google-auth-library-credentials:1.12.1&#39;\r\n\r\n    implementation &#39;com.google.auth:google-auth-library-oauth2-http:1.12.1&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-database:20.2.0&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n}\r\n","title":"error: cannot find symbol .setCredentials(GoogleCredentials.fromStream(serviceAccount))","body":"<p>Please help me with this code, I still don't understand why I'm like this, I edited the gradle file, and edited the java file but it still doesn't work, please help me fix it.\np/s: this is the first time I post help so I'm so grateful and appreciative</p>\n<p>Java file:</p>\n<p>In the Java file, I tried to declare it like on the Firebase page of Google but still got the error</p>\n<pre><code>package Database;\n\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport com.google.firebase.FirebaseApp;\n\nimport com.google.firebase.FirebaseOptions;\n\nimport com.google.firebase.database.DataSnapshot;\n\nimport com.google.firebase.database.DatabaseError;\n\nimport com.google.firebase.database.DatabaseReference;\n\nimport com.google.firebase.database.FirebaseDatabase;\n\n\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.io.FileInputStream;\n\nimport java.io.IOException;\n\npublic class DemoFirebase {\n\npublic static void main(String\\[\\] args) throws IOException {\n\nFileInputStream serviceAccount = new FileInputStream(&quot;my_JSon_file&quot;);\n\n        FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                .setDatabaseUrl(&quot;my_database_url&quot;)\n                .build();\n    \n        FirebaseApp.initializeApp(options);\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;User&quot;);\n        ref.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                Object value = dataSnapshot.getValue();\n                System.out.println(&quot;Value is: &quot; + value);\n            }\n    \n            @Override\n            public void onCancelled(DatabaseError error) {\n                System.out.println(&quot;Error: &quot; + error.getMessage());\n            }\n        });\n    }\n\n}\n\n\n</code></pre>\n<p>Gradle file:\nIn this Gradle file, I have added libraries that may be needed but it still fails in the Java file</p>\n<pre><code>dependencies {\n    implementation 'com.google.firebase:firebase-analytics:21.2.2'\n\n    implementation platform('com.google.firebase:firebase-bom:31.5.0')\n\n    implementation 'com.google.cloud:google-cloud-storage:2.14.0'\n\n    implementation 'com.google.firebase:firebase-admin:9.1.1'\n\n    implementation 'com.google.firebase:firebase-analytics'\n\n    implementation('com.google.firebase:firebase-appcheck-debug:16.1.2')\n\n    implementation('com.google.firebase:firebase-inappmessaging:20.3.1')\n\n    implementation('com.google.firebase:firebase-inappmessaging-display:20.3.1')\n\n    implementation 'com.google.auth:google-auth-library-credentials:1.12.1'\n\n    implementation 'com.google.auth:google-auth-library-oauth2-http:1.12.1'\n\n    implementation 'com.google.firebase:firebase-database:20.2.0'\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n\n    implementation 'com.google.android.material:material:1.8.0'\n\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n\n    testImplementation 'junit:junit:4.13.2'\n\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682325568,"post_id":76090017,"comment_id":134191515,"body_markdown":"Do you have an exception handler like described in, f. ex., https://www.baeldung.com/exception-handling-for-rest-with-spring ?","body":"Do you have an exception handler like described in, f. ex., <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/exception-handling-for-rest-with-spring</a> ?"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682325751,"post_id":76090017,"comment_id":134191547,"body_markdown":"Yes, I have an exception handler.","body":"Yes, I have an exception handler."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682327562,"post_id":76090017,"comment_id":134191929,"body_markdown":"Please show it in the question","body":"Please show it in the question"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":1,"creation_date":1682328099,"post_id":76090017,"comment_id":134192056,"body_markdown":"@grekier I published the rest :)","body":"@grekier I published the rest :)"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682329029,"post_id":76090017,"comment_id":134192264,"body_markdown":"Not sure, but it might be that the test unit test doesn&#39;t have the `@ControllerAdvice`. Have you tried anotated it with `@SpringBootTest` instead of `@WebMvcTest`?","body":"Not sure, but it might be that the test unit test doesn&#39;t have the <code>@ControllerAdvice</code>. Have you tried anotated it with <code>@SpringBootTest</code> instead of <code>@WebMvcTest</code>?"}],"answers":[{"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682330768,"post_id":76090543,"comment_id":134192659,"body_markdown":"I am getting another error right now. The server interestingly throws an error with status code 0. `No matching constant for [0]`. Because my handler method (`handleApplicationException`)tries to set the HTTP status value as 0. How is that even possible?","body":"I am getting another error right now. The server interestingly throws an error with status code 0. <code>No matching constant for [0]</code>. Because my handler method (<code>handleApplicationException</code>)tries to set the HTTP status value as 0. How is that even possible?"}],"tags":[],"owner":{"account_id":14852340,"reputation":7,"user_id":10725858,"display_name":"Tịnh Trần Thanh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682329078,"creation_date":1682329078,"answer_id":76090543,"question_id":76090017,"body_markdown":"I think in your Test class you should update the `setUp` method, the error above might happened caused by your exception handler class was not worked\r\n\r\n    @Before\r\n    public void setup() {\r\n     this.mockMvc = MockMvcBuilders.standaloneSetup(underTest)\r\n         .setControllerAdvice(new AppExceptionHandler())\r\n        .build();\r\n    }\r\n    \r\nHope it can help you.","title":"MockMvc testing controller not throwing exception","body":"<p>I think in your Test class you should update the <code>setUp</code> method, the error above might happened caused by your exception handler class was not worked</p>\n<pre><code>@Before\npublic void setup() {\n this.mockMvc = MockMvcBuilders.standaloneSetup(underTest)\n     .setControllerAdvice(new AppExceptionHandler())\n    .build();\n}\n</code></pre>\n<p>Hope it can help you.</p>\n"},{"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682332633,"post_id":76090886,"comment_id":134193033,"body_markdown":"Since I use Spring Security, if I remove `useDefaultFilters = false `, then I get `java.lang.IllegalStateException: Failed to load ApplicationContext` the main cause of the exception is `Error creating bean with name &#39;webSecurityConfiguration&#39; defined in file WebSecurityConfiguration.class: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;JwtAuthenticationEntryPoint&#39; available: expected at least 1 bean which qualifies as autowire candidate`.","body":"Since I use Spring Security, if I remove <code>useDefaultFilters = false </code>, then I get <code>java.lang.IllegalStateException: Failed to load ApplicationContext</code> the main cause of the exception is <code>Error creating bean with name &#39;webSecurityConfiguration&#39; defined in file WebSecurityConfiguration.class: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;JwtAuthenticationEntryPoint&#39; available: expected at least 1 bean which qualifies as autowire candidate</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682333167,"post_id":76090886,"comment_id":134193123,"body_markdown":"for the last problem: add (your) `JwtAuthenticationEntryPoint` to your test configuration (`@WebMvcTest({MyController.class/*, more classes here*/})`) ..or mock(bean) it. (assuming something [comparable to this](https://github.com/szerhusenBC/jwt-spring-security-demo/blob/master/src/main/java/org/zerhusen/security/JwtAuthenticationEntryPoint.java))","body":"for the last problem: add (your) <code>JwtAuthenticationEntryPoint</code> to your test configuration (<code>@WebMvcTest({MyController.class&#47;*, more classes here*&#47;})</code>) ..or mock(bean) it. (assuming something <a href=\"https://github.com/szerhusenBC/jwt-spring-security-demo/blob/master/src/main/java/org/zerhusen/security/JwtAuthenticationEntryPoint.java\" rel=\"nofollow noreferrer\">comparable to this</a>)"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682334412,"post_id":76090886,"comment_id":134193385,"body_markdown":"Now I had to mock all the dependencies in the `WebSecurityConfiguration` (I have 4 dependencies). However, we are not finished yet. It requires mocking the dependencies of dependencies. Each dependency has at least 2 more dependencies, which means I need to mock at least 10 more dependencies to test a single class that is not relevant to the current class(`AppUserController`). Those dependencies are coming from security. I am not sure if that is the right way to test my single controller. Is there a better way?","body":"Now I had to mock all the dependencies in the <code>WebSecurityConfiguration</code> (I have 4 dependencies). However, we are not finished yet. It requires mocking the dependencies of dependencies. Each dependency has at least 2 more dependencies, which means I need to mock at least 10 more dependencies to test a single class that is not relevant to the current class(<code>AppUserController</code>). Those dependencies are coming from security. I am not sure if that is the right way to test my single controller. Is there a better way?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682337024,"post_id":76090886,"comment_id":134194015,"body_markdown":"..ok i get you, ..but hard to reproduce... and [&quot;controversial question&quot;](https://stackoverflow.com/q/31169720/592355) (whether/how to deactivate security for tests)","body":"..ok i get you, ..but hard to reproduce... and <a href=\"https://stackoverflow.com/q/31169720/592355\">&quot;controversial question&quot;</a> (whether/how to deactivate security for tests)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682337501,"post_id":76090886,"comment_id":134194113,"body_markdown":"i (enriched with security and) set up a [(public) repo](https://github.com/xerx593/soq76090017), when you can reproduce/&quot;patch the issue&quot;, i can fix! ;)","body":"i (enriched with security and) set up a <a href=\"https://github.com/xerx593/soq76090017\" rel=\"nofollow noreferrer\">(public) repo</a>, when you can reproduce/&quot;patch the issue&quot;, i can fix! ;)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682332783,"creation_date":1682331758,"answer_id":76090886,"question_id":76090017,"body_markdown":"(Assumptions: current spring-boot)\r\n\r\n### Several problems here\r\n\r\n- `useDefaultFilters = false` &quot;leads `@WebMvcTest` ad absurdum&quot;/makes it (sort of) useless.\r\n\r\n- the mocking/injection is problematic\r\n\r\n- to use [`thenThrow()`][1] with exception class (overloads!), the exception class should have a &quot;default constructor&quot;, which is/seems not applicable with the given (custom) `ResourceNotFoundException`.\r\n\r\n#### Minor problem:\r\n \r\n`@ExtendWith(SpringExtension.class)` doesn&#39;t much (gives an &quot;unneccessary SpringExtension&quot; warning from &quot;spring-boot-tools&quot; (vs code))\r\n\r\n### Reproduce\r\n\r\n- [starter used][2]\r\n- a simplified controller:\r\n\r\n   ```lang-java\r\n   @RestController\r\n   class MyController {\r\n     @Autowired\r\n     private MyService userDetailsService;\r\n\r\n     @GetMapping(&quot;/my/{id}&quot;)\r\n     public ResponseEntity&lt;String&gt; myGet(@PathVariable UUID id) throws ResourceNotFoundException {\r\n       return new ResponseEntity&lt;&gt;(userDetailsService.doSomething(id), HttpStatus.OK);\r\n     }\r\n   }\r\n   ```\r\n- with simplified service:\r\n   ```lang-java\r\n   @Service\r\n   public class MyService {\r\n     @SuppressWarnings(&quot;java:S106&quot;)\r\n     public String doSomething(UUID id) {\r\n       System.err.println(id.toString() + &quot; done.&quot;);\r\n       // potentially throws RuntimeExceptions...\r\n       return id.toString();\r\n     }\r\n   }\r\n   ```\r\n- original (OP) `Exception` + /-`Handler` classes\r\n\r\n### Working Test\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\nimport java.util.UUID;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n// don&#39;t @ExtendWith(SpringExtension.class)\r\n@WebMvcTest(MyController.class) // useDefaultFilters = false seems &quot;badong&quot; here!\r\nclass MyWebTest {\r\n\r\n    @MockBean // use rather spring-boot extension than &quot;plain ole&quot; mockito!;)\r\n    private MyService myService;\r\n\r\n    @Autowired // as usual\r\n    private MockMvc mockMvc;\r\n\r\n    // no @Before/-All !!! ;)\r\n\r\n    @Test\r\n    void testMyGet_success() throws Exception {\r\n        // given\r\n        UUID uid = UUID.randomUUID();\r\n        when(myService.doSomething(uid)).thenCallRealMethod();\r\n\r\n        // when\r\n        mockMvc.perform(get(&quot;/my/&quot; + uid))\r\n        \r\n        // then\r\n        .andExpectAll(\r\n          status().isOk(),\r\n          content().string(uid.toString())\r\n        );\r\n\r\n        verify(myService).doSomething(uid);\r\n    }\r\n\r\n    @Test\r\n    void testMyGet_notFound() throws Exception {\r\n        // given\r\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\r\n        when(myService.doSomething(uuid)).thenThrow(\r\n          /* better, here: exception instance!*/\r\n          new ResourceNotFoundException(&quot;mockba&quot;)\r\n        );\r\n\r\n        // when\r\n        mockMvc.perform(get(&quot;/my/&quot; + uuid))\r\n                \r\n        // then\r\n        .andExpect(status().isNotFound()); // expect more, if you like \r\n\r\n        verify(myService).doSomething(uuid);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMain Ref: https://spring.io/guides/gs/testing-web/\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/5.3.1/org/mockito/stubbing/OngoingStubbing.html#thenThrow(java.lang.Class)\r\n  [2]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok","title":"MockMvc testing controller not throwing exception","body":"<p>(Assumptions: current spring-boot)</p>\n<h3>Several problems here</h3>\n<ul>\n<li><p><code>useDefaultFilters = false</code> &quot;leads <code>@WebMvcTest</code> ad absurdum&quot;/makes it (sort of) useless.</p>\n</li>\n<li><p>the mocking/injection is problematic</p>\n</li>\n<li><p>to use <a href=\"https://javadoc.io/static/org.mockito/mockito-core/5.3.1/org/mockito/stubbing/OngoingStubbing.html#thenThrow(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>thenThrow()</code></a> with exception class (overloads!), the exception class should have a &quot;default constructor&quot;, which is/seems not applicable with the given (custom) <code>ResourceNotFoundException</code>.</p>\n</li>\n</ul>\n<h4>Minor problem:</h4>\n<p><code>@ExtendWith(SpringExtension.class)</code> doesn't much (gives an &quot;unneccessary SpringExtension&quot; warning from &quot;spring-boot-tools&quot; (vs code))</p>\n<h3>Reproduce</h3>\n<ul>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok\" rel=\"nofollow noreferrer\">starter used</a></p>\n</li>\n<li><p>a simplified controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\nclass MyController {\n   @Autowired\n   private MyService userDetailsService;\n\n   @GetMapping(&quot;/my/{id}&quot;)\n   public ResponseEntity&lt;String&gt; myGet(@PathVariable UUID id) throws ResourceNotFoundException {\n     return new ResponseEntity&lt;&gt;(userDetailsService.doSomething(id), HttpStatus.OK);\n   }\n}\n</code></pre>\n</li>\n<li><p>with simplified service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n   @SuppressWarnings(&quot;java:S106&quot;)\n   public String doSomething(UUID id) {\n     System.err.println(id.toString() + &quot; done.&quot;);\n     // potentially throws RuntimeExceptions...\n     return id.toString();\n   }\n}\n</code></pre>\n</li>\n<li><p>original (OP) <code>Exception</code> + /-<code>Handler</code> classes</p>\n</li>\n</ul>\n<h3>Working Test</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport java.util.UUID;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.web.servlet.MockMvc;\n// don't @ExtendWith(SpringExtension.class)\n@WebMvcTest(MyController.class) // useDefaultFilters = false seems &quot;badong&quot; here!\nclass MyWebTest {\n\n    @MockBean // use rather spring-boot extension than &quot;plain ole&quot; mockito!;)\n    private MyService myService;\n\n    @Autowired // as usual\n    private MockMvc mockMvc;\n\n    // no @Before/-All !!! ;)\n\n    @Test\n    void testMyGet_success() throws Exception {\n        // given\n        UUID uid = UUID.randomUUID();\n        when(myService.doSomething(uid)).thenCallRealMethod();\n\n        // when\n        mockMvc.perform(get(&quot;/my/&quot; + uid))\n        \n        // then\n        .andExpectAll(\n          status().isOk(),\n          content().string(uid.toString())\n        );\n\n        verify(myService).doSomething(uid);\n    }\n\n    @Test\n    void testMyGet_notFound() throws Exception {\n        // given\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\n        when(myService.doSomething(uuid)).thenThrow(\n          /* better, here: exception instance!*/\n          new ResourceNotFoundException(&quot;mockba&quot;)\n        );\n\n        // when\n        mockMvc.perform(get(&quot;/my/&quot; + uuid))\n                \n        // then\n        .andExpect(status().isNotFound()); // expect more, if you like \n\n        verify(myService).doSomething(uuid);\n    }\n\n}\n</code></pre>\n<p>Main Ref: <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/testing-web/</a></p>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1682332783,"creation_date":1682325144,"question_id":76090017,"body_markdown":"I am testing my `AppUserController` with MockMvc. Here is the case;\r\n\r\nIf the user is not found then I expect a `ResourceNotFoundException` to be thrown.\r\n\r\nThis is my test\r\n\r\n```\r\n   @Test\r\n    void findAppUserById_throwsNotFound() throws Exception {\r\n        //given\r\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\r\n\r\n        //when\r\n        when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\r\n        MvcResult mvcResult = mockMvc\r\n                .perform(get(&quot;/app-users/&quot; + uuid))\r\n                .andExpect(status().isNotFound())\r\n                .andReturn();\r\n        String resultContent = mvcResult.getResponse().getContentAsString();\r\n        ResourceNotFoundException response = objectMapper.readValue(resultContent, ResourceNotFoundException.class);\r\n        //then\r\n        assertNotNull(response);\r\n        assertEquals(404,response.getHttpStatusCode());\r\n\r\n    }\r\n```\r\n\r\nThis is the target to be tested\r\n\r\n```\r\n  @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;AppUserResponse&gt; findAppUserById(@PathVariable UUID id) throws ResourceNotFoundException {\r\n        AppUser user = userDetailsService.findAppUserById(id);\r\n        return new ResponseEntity&lt;&gt;(appUserMapper.appUserToResponse(user),HttpStatus.OK);\r\n    }\r\n```\r\n\r\nThis is the service method that throws the exception.\r\n```\r\n   public AppUser findAppUserById(UUID id) throws ResourceNotFoundException {\r\n        AppUser appUser = appUserRepository.findById(id).orElseThrow(\r\n                () -&gt; new ResourceNotFoundException(&quot;Kullanıcı bulunamadı&quot;)\r\n        );\r\n        if (!appUser.isEnabled()) {\r\n            throw new InvalidRequestException(PASSIVE_USER_MESSAGE);\r\n        }\r\n        return appUser;\r\n    }\r\n```\r\n\r\nSince I use `Mockito` to mock the service class, I expect the method `findAppUserById` throws `ResourceNotFoundException` because of this statement in my test case.\r\n\r\n``` when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class); ```\r\n\r\n\r\nHowever, when I run the test, it fails and I get the following error\r\n\r\n```\r\nrg.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.napsam.wo.exception.ResourceNotFoundException\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n\tat com.napsam.wo.controller.AppUserControllerTest.findAppUserById_throwsNotFound(AppUserControllerTest.java:96)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: com.napsam.wo.exception.ResourceNotFoundException\r\n```\r\n\r\n\r\nupon @grekier request, the question updated with the following content.\r\n\r\n**ResourceNotFoundException**\r\n\r\n```\r\npublic class ResourceNotFoundException extends ApplicationException {\r\n    public ResourceNotFoundException(String message) {\r\n        super(-1,message,HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**ApplicationException** (base exception class)\r\n```\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties({&quot;stackTrace&quot;, &quot;cause&quot;, &quot;suppressed&quot;, &quot;localizedMessage&quot;})\r\npublic class ApplicationException extends RuntimeException {\r\n\r\n    private final int resultCode;\r\n    private final String message;\r\n    private final int httpStatusCode;\r\n    private final ZonedDateTime thrownAt;\r\n\r\n    private static final String ZONE_ID = &quot;Europe/Istanbul&quot;;\r\n\r\n    public ApplicationException(int resultCode, String message, HttpStatus httpStatus) {\r\n        super();\r\n        this.resultCode = resultCode;\r\n        this.message = message;\r\n        this.httpStatusCode = httpStatus.value();\r\n        this.thrownAt = ZonedDateTime.now(ZoneId.of(ZONE_ID));\r\n    }\r\n\r\n }\r\n```\r\n\r\n**ExceptionHandler**\r\n\r\n```\r\n@ControllerAdvice\r\npublic class AppExceptionHandler {\r\n    @ExceptionHandler(value = {ApplicationException.class})\r\n    public ResponseEntity&lt;ApplicationException&gt; handleApplicationException(ApplicationException applicationException) {\r\n        return new ResponseEntity&lt;&gt;(applicationException, HttpStatus.valueOf(applicationException.getHttpStatusCode()));\r\n    }\r\n}\r\n\r\n```\r\n\r\n**AppUserControllerTest**\r\n```\r\npackage com.napsam.wo.controller;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.napsam.wo.dtos.AppUserResponse;\r\nimport com.napsam.wo.dtos.RegisterRequest;\r\nimport com.napsam.wo.entities.AppUser;\r\nimport com.napsam.wo.entities.Gender;\r\nimport com.napsam.wo.exception.ResourceNotFoundException;\r\nimport com.napsam.wo.mapper.AppUserMapper;\r\nimport com.napsam.wo.service.AppUserService;\r\nimport com.napsam.wo.service.UserDetailsServiceImpl;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\nimport java.util.UUID;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.when;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(useDefaultFilters = false)\r\nclass AppUserControllerTest {\r\n\r\n\r\n    @Mock\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Mock\r\n    private AppUserService appUserService;\r\n\r\n    @Mock\r\n    private AppUserMapper appUserMapper;\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @InjectMocks\r\n    AppUserController underTest;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        mockMvc = MockMvcBuilders.standaloneSetup(underTest).build();\r\n    }\r\n\r\n    @Test\r\n    void findAppUserById_success() throws Exception {\r\n        //given\r\n        UUID appUserId = UUID.randomUUID();\r\n\r\n        AppUser appUser = new AppUser();\r\n        appUser.setAppUserId(appUserId);\r\n\r\n        AppUserResponse appUserResponse = new AppUserResponse();\r\n        appUserResponse.setAppUserId(appUserId);\r\n\r\n        //when\r\n        when(userDetailsService.findAppUserById(appUserId)).thenReturn(appUser);\r\n        when(appUserMapper.appUserToResponse(appUser)).thenReturn(appUserResponse);\r\n        MvcResult mvcResult = mockMvc\r\n                .perform(get(&quot;/app-users/&quot; + appUserId))\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        String resultContent = mvcResult.getResponse().getContentAsString();\r\n        AppUserResponse response = objectMapper.readValue(resultContent, AppUserResponse.class);\r\n\r\n        //then\r\n        assertNotNull(response);\r\n        assertEquals(appUserId, response.getAppUserId());\r\n\r\n    }\r\n\r\n    @Test\r\n    void findAppUserById_throwsNotFound() throws Exception {\r\n\r\n        //fixme\r\n        //given\r\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\r\n\r\n        //when\r\n        when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\r\n        MvcResult mvcResult = mockMvc\r\n                .perform(get(&quot;/app-users/&quot; + uuid))\r\n                .andExpect(status().isNotFound())\r\n                .andReturn();\r\n        String resultContent = mvcResult.getResponse().getContentAsString();\r\n        ResourceNotFoundException response = objectMapper.readValue(resultContent, ResourceNotFoundException.class);\r\n\r\n        //then\r\n        assertNotNull(response);\r\n        assertEquals(404, response.getHttpStatusCode());\r\n\r\n    }\r\n\r\n    @Test\r\n    void registerDetails_success() throws Exception {\r\n\r\n        //given\r\n        RegisterRequest request = new RegisterRequest();\r\n        request.setAvatar(&quot;a&quot;);\r\n        request.setBiography(&quot;b&quot;);\r\n        request.setFullName(&quot;f&quot;);\r\n        request.setGender(Gender.KADIN);\r\n\r\n        String json = objectMapper.writeValueAsString(request);\r\n\r\n        //when\r\n        when(appUserService.registerDetails(any(), any())).thenReturn(new AppUserResponse());\r\n\r\n        MvcResult mvcResult = mockMvc.perform(post(&quot;/app-users/register-details/&quot; + UUID.randomUUID())\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(json))\r\n                .andExpect(status().isCreated())\r\n                .andReturn();\r\n\r\n        String resultContent = mvcResult.getResponse().getContentAsString();\r\n        AppUserResponse response = objectMapper.readValue(resultContent, AppUserResponse.class);\r\n\r\n        //then\r\n        assertNotNull(response);\r\n    }\r\n}\r\n```","title":"MockMvc testing controller not throwing exception","body":"<p>I am testing my <code>AppUserController</code> with MockMvc. Here is the case;</p>\n<p>If the user is not found then I expect a <code>ResourceNotFoundException</code> to be thrown.</p>\n<p>This is my test</p>\n<pre><code>   @Test\n    void findAppUserById_throwsNotFound() throws Exception {\n        //given\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\n\n        //when\n        when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\n        MvcResult mvcResult = mockMvc\n                .perform(get(&quot;/app-users/&quot; + uuid))\n                .andExpect(status().isNotFound())\n                .andReturn();\n        String resultContent = mvcResult.getResponse().getContentAsString();\n        ResourceNotFoundException response = objectMapper.readValue(resultContent, ResourceNotFoundException.class);\n        //then\n        assertNotNull(response);\n        assertEquals(404,response.getHttpStatusCode());\n\n    }\n</code></pre>\n<p>This is the target to be tested</p>\n<pre><code>  @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;AppUserResponse&gt; findAppUserById(@PathVariable UUID id) throws ResourceNotFoundException {\n        AppUser user = userDetailsService.findAppUserById(id);\n        return new ResponseEntity&lt;&gt;(appUserMapper.appUserToResponse(user),HttpStatus.OK);\n    }\n</code></pre>\n<p>This is the service method that throws the exception.</p>\n<pre><code>   public AppUser findAppUserById(UUID id) throws ResourceNotFoundException {\n        AppUser appUser = appUserRepository.findById(id).orElseThrow(\n                () -&gt; new ResourceNotFoundException(&quot;Kullanıcı bulunamadı&quot;)\n        );\n        if (!appUser.isEnabled()) {\n            throw new InvalidRequestException(PASSIVE_USER_MESSAGE);\n        }\n        return appUser;\n    }\n</code></pre>\n<p>Since I use <code>Mockito</code> to mock the service class, I expect the method <code>findAppUserById</code> throws <code>ResourceNotFoundException</code> because of this statement in my test case.</p>\n<p><code>when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);</code></p>\n<p>However, when I run the test, it fails and I get the following error</p>\n<pre><code>rg.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.napsam.wo.exception.ResourceNotFoundException\n\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at com.napsam.wo.controller.AppUserControllerTest.findAppUserById_throwsNotFound(AppUserControllerTest.java:96)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: com.napsam.wo.exception.ResourceNotFoundException\n</code></pre>\n<p>upon @grekier request, the question updated with the following content.</p>\n<p><strong>ResourceNotFoundException</strong></p>\n<pre><code>public class ResourceNotFoundException extends ApplicationException {\n    public ResourceNotFoundException(String message) {\n        super(-1,message,HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p><strong>ApplicationException</strong> (base exception class)</p>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties({&quot;stackTrace&quot;, &quot;cause&quot;, &quot;suppressed&quot;, &quot;localizedMessage&quot;})\npublic class ApplicationException extends RuntimeException {\n\n    private final int resultCode;\n    private final String message;\n    private final int httpStatusCode;\n    private final ZonedDateTime thrownAt;\n\n    private static final String ZONE_ID = &quot;Europe/Istanbul&quot;;\n\n    public ApplicationException(int resultCode, String message, HttpStatus httpStatus) {\n        super();\n        this.resultCode = resultCode;\n        this.message = message;\n        this.httpStatusCode = httpStatus.value();\n        this.thrownAt = ZonedDateTime.now(ZoneId.of(ZONE_ID));\n    }\n\n }\n</code></pre>\n<p><strong>ExceptionHandler</strong></p>\n<pre><code>@ControllerAdvice\npublic class AppExceptionHandler {\n    @ExceptionHandler(value = {ApplicationException.class})\n    public ResponseEntity&lt;ApplicationException&gt; handleApplicationException(ApplicationException applicationException) {\n        return new ResponseEntity&lt;&gt;(applicationException, HttpStatus.valueOf(applicationException.getHttpStatusCode()));\n    }\n}\n\n</code></pre>\n<p><strong>AppUserControllerTest</strong></p>\n<pre><code>package com.napsam.wo.controller;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.napsam.wo.dtos.AppUserResponse;\nimport com.napsam.wo.dtos.RegisterRequest;\nimport com.napsam.wo.entities.AppUser;\nimport com.napsam.wo.entities.Gender;\nimport com.napsam.wo.exception.ResourceNotFoundException;\nimport com.napsam.wo.mapper.AppUserMapper;\nimport com.napsam.wo.service.AppUserService;\nimport com.napsam.wo.service.UserDetailsServiceImpl;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\nimport java.util.UUID;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(useDefaultFilters = false)\nclass AppUserControllerTest {\n\n\n    @Mock\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Mock\n    private AppUserService appUserService;\n\n    @Mock\n    private AppUserMapper appUserMapper;\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @InjectMocks\n    AppUserController underTest;\n\n    @BeforeEach\n    void setUp() {\n        mockMvc = MockMvcBuilders.standaloneSetup(underTest).build();\n    }\n\n    @Test\n    void findAppUserById_success() throws Exception {\n        //given\n        UUID appUserId = UUID.randomUUID();\n\n        AppUser appUser = new AppUser();\n        appUser.setAppUserId(appUserId);\n\n        AppUserResponse appUserResponse = new AppUserResponse();\n        appUserResponse.setAppUserId(appUserId);\n\n        //when\n        when(userDetailsService.findAppUserById(appUserId)).thenReturn(appUser);\n        when(appUserMapper.appUserToResponse(appUser)).thenReturn(appUserResponse);\n        MvcResult mvcResult = mockMvc\n                .perform(get(&quot;/app-users/&quot; + appUserId))\n                .andExpect(status().isOk())\n                .andReturn();\n        String resultContent = mvcResult.getResponse().getContentAsString();\n        AppUserResponse response = objectMapper.readValue(resultContent, AppUserResponse.class);\n\n        //then\n        assertNotNull(response);\n        assertEquals(appUserId, response.getAppUserId());\n\n    }\n\n    @Test\n    void findAppUserById_throwsNotFound() throws Exception {\n\n        //fixme\n        //given\n        UUID uuid = UUID.fromString(&quot;ac0a1859-8e59-4ede-8def-043c32aa3208&quot;);\n\n        //when\n        when(userDetailsService.findAppUserById(any())).thenThrow(ResourceNotFoundException.class);\n        MvcResult mvcResult = mockMvc\n                .perform(get(&quot;/app-users/&quot; + uuid))\n                .andExpect(status().isNotFound())\n                .andReturn();\n        String resultContent = mvcResult.getResponse().getContentAsString();\n        ResourceNotFoundException response = objectMapper.readValue(resultContent, ResourceNotFoundException.class);\n\n        //then\n        assertNotNull(response);\n        assertEquals(404, response.getHttpStatusCode());\n\n    }\n\n    @Test\n    void registerDetails_success() throws Exception {\n\n        //given\n        RegisterRequest request = new RegisterRequest();\n        request.setAvatar(&quot;a&quot;);\n        request.setBiography(&quot;b&quot;);\n        request.setFullName(&quot;f&quot;);\n        request.setGender(Gender.KADIN);\n\n        String json = objectMapper.writeValueAsString(request);\n\n        //when\n        when(appUserService.registerDetails(any(), any())).thenReturn(new AppUserResponse());\n\n        MvcResult mvcResult = mockMvc.perform(post(&quot;/app-users/register-details/&quot; + UUID.randomUUID())\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(json))\n                .andExpect(status().isCreated())\n                .andReturn();\n\n        String resultContent = mvcResult.getResponse().getContentAsString();\n        AppUserResponse response = objectMapper.readValue(resultContent, AppUserResponse.class);\n\n        //then\n        assertNotNull(response);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","sbt"],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682332629,"creation_date":1681911538,"answer_id":76055231,"question_id":70931841,"body_markdown":"This is build-time error, not compile-time error, so there is no sense to add `scala-reflect` to `build.sbt`. It&#39;s not your code that needs `scala-reflect` but sbt.\r\n\r\nThe thing is in binary incompatibility between sbt zinc `compiler-bridge` and `scala-reflect`.\r\n\r\n`scala.reflect.io.PlainNioFile` appeared in `scala-reflect` 2.12.1\r\n\r\nhttps://github.com/scala/scala/blob/v2.12.0/src/reflect/scala/reflect/io/PlainFile.scala\r\n\r\nhttps://github.com/scala/scala/blob/v2.12.1/src/reflect/scala/reflect/io/PlainFile.scala#L94\r\n\r\n`type PlainNioFile = scala.reflect.io.PlainNioFile` appeared in `compiler-bridge` 1.4.0\r\n\r\nhttps://github.com/sbt/zinc/blob/v1.4.0/internal/compiler-bridge/src/main/scala-2.12/scala/ZincCompat.scala#L19\r\n\r\nhttps://github.com/sbt/zinc/commit/172d638c28ef46a47d5f2944671103069ef7fa2c\r\n\r\nSo sbt 1.4.+ is incompatible with Scala 2.12.0-\r\n\r\nTry either to upgrade to Scala 2.12.1+ or downgrade to sbt 1.3.13-\r\n\r\n&gt; Scala version 2.12.10\r\n\r\nAs you can see in `Non-compiled module &#39;compiler-bridge_2.12&#39; for Scala 2.12.0. Compiling...`, somewhere Scala 2.12.0 is used.\r\n\r\n---\r\n\r\nhttps://github.com/scala/bug/issues/12195#issuecomment-713009934\r\n\r\n&gt; @som-snytt: sbt compiler bridge has finite backward compatibility.\r\n\r\nhttps://github.com/davidB/scala-maven-plugin/issues/474\r\n\r\n*compiler-bridge_2.12:1.3.0 not compatible with scala-compiler:2.13.1* https://github.com/sbt/zinc/issues/698\r\n\r\nhttps://stackoverflow.com/questions/60101210/error-compiling-the-sbt-component-compiler-bridge-2-11","title":"Scala 2.12: Compile error - type PlainNioFile is not a member of package scala.reflect.io","body":"<p>This is build-time error, not compile-time error, so there is no sense to add <code>scala-reflect</code> to <code>build.sbt</code>. It's not your code that needs <code>scala-reflect</code> but sbt.</p>\n<p>The thing is in binary incompatibility between sbt zinc <code>compiler-bridge</code> and <code>scala-reflect</code>.</p>\n<p><code>scala.reflect.io.PlainNioFile</code> appeared in <code>scala-reflect</code> 2.12.1</p>\n<p><a href=\"https://github.com/scala/scala/blob/v2.12.0/src/reflect/scala/reflect/io/PlainFile.scala\" rel=\"nofollow noreferrer\">https://github.com/scala/scala/blob/v2.12.0/src/reflect/scala/reflect/io/PlainFile.scala</a></p>\n<p><a href=\"https://github.com/scala/scala/blob/v2.12.1/src/reflect/scala/reflect/io/PlainFile.scala#L94\" rel=\"nofollow noreferrer\">https://github.com/scala/scala/blob/v2.12.1/src/reflect/scala/reflect/io/PlainFile.scala#L94</a></p>\n<p><code>type PlainNioFile = scala.reflect.io.PlainNioFile</code> appeared in <code>compiler-bridge</code> 1.4.0</p>\n<p><a href=\"https://github.com/sbt/zinc/blob/v1.4.0/internal/compiler-bridge/src/main/scala-2.12/scala/ZincCompat.scala#L19\" rel=\"nofollow noreferrer\">https://github.com/sbt/zinc/blob/v1.4.0/internal/compiler-bridge/src/main/scala-2.12/scala/ZincCompat.scala#L19</a></p>\n<p><a href=\"https://github.com/sbt/zinc/commit/172d638c28ef46a47d5f2944671103069ef7fa2c\" rel=\"nofollow noreferrer\">https://github.com/sbt/zinc/commit/172d638c28ef46a47d5f2944671103069ef7fa2c</a></p>\n<p>So sbt 1.4.+ is incompatible with Scala 2.12.0-</p>\n<p>Try either to upgrade to Scala 2.12.1+ or downgrade to sbt 1.3.13-</p>\n<blockquote>\n<p>Scala version 2.12.10</p>\n</blockquote>\n<p>As you can see in <code>Non-compiled module 'compiler-bridge_2.12' for Scala 2.12.0. Compiling...</code>, somewhere Scala 2.12.0 is used.</p>\n<hr />\n<p><a href=\"https://github.com/scala/bug/issues/12195#issuecomment-713009934\" rel=\"nofollow noreferrer\">https://github.com/scala/bug/issues/12195#issuecomment-713009934</a></p>\n<blockquote>\n<p>@som-snytt: sbt compiler bridge has finite backward compatibility.</p>\n</blockquote>\n<p><a href=\"https://github.com/davidB/scala-maven-plugin/issues/474\" rel=\"nofollow noreferrer\">https://github.com/davidB/scala-maven-plugin/issues/474</a></p>\n<p><em>compiler-bridge_2.12:1.3.0 not compatible with scala-compiler:2.13.1</em> <a href=\"https://github.com/sbt/zinc/issues/698\" rel=\"nofollow noreferrer\">https://github.com/sbt/zinc/issues/698</a></p>\n<p><a href=\"https://stackoverflow.com/questions/60101210/error-compiling-the-sbt-component-compiler-bridge-2-11\">Error compiling the sbt component &#39;compiler-bridge_2.11&#39;</a></p>\n"}],"owner":{"account_id":5848843,"reputation":107,"user_id":4608134,"accept_rate":71,"display_name":"axn7975"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682332629,"creation_date":1643657775,"question_id":70931841,"body_markdown":"I&#39;m trying to compile my spark scala application and getting below error. Same code was working fine with scala 2.11 version.\r\n\r\nI did look at this solution and tried adding scala-reflect as the dependency but still getting the same error. I do see scala-reflect is added as dependency \r\n\r\nhttps://stackoverflow.com/questions/25189608/cant-import-scala-reflect-runtime-universe/25191687\r\n\r\n\r\nScala version 2.12.10\r\n\r\n```\r\n[info] Non-compiled module &#39;compiler-bridge_2.12&#39; for Scala 2.12.0. Compiling...\r\n/var/folders/92/9c7h444d28x8rtcm91n0r7bc0000gq/T/sbt_97534c54/scala/ZincCompat.scala:19: error: type PlainNioFile is not a member of package scala.reflect.io\r\n  type PlainNioFile = scala.reflect.io.PlainNioFile\r\n                                       ^\r\n/var/folders/92/9c7h444d28x8rtcm91n0r7bc0000gq/T/sbt_97534c54/scala/ZincCompat.scala:23: error: type mismatch;\r\n found   : pf.type (with underlying type scala.ZincCompat.PlainNioFile)\r\n required: ?{def getClass: ?}\r\n    val f = pf.getClass.getDeclaredField(&quot;nioPath&quot;) // it&#39;s not val&#39;d in 2.12 :-/\r\ntwo errors found\r\n[info] Attempting to fetch org.scala-sbt:compiler-bridge_2.12:1.6.0.\r\n[warn] Unrecognized repository Scala Plugin Bundled Repository, ignoring it\r\n[warn] Unrecognized repository Scala Plugin Bundled Repository, ignoring it\r\n[error] (Compile / compileIncremental) Error compiling the sbt component &#39;compiler-bridge_2.12&#39;\r\n```","title":"Scala 2.12: Compile error - type PlainNioFile is not a member of package scala.reflect.io","body":"<p>I'm trying to compile my spark scala application and getting below error. Same code was working fine with scala 2.11 version.</p>\n<p>I did look at this solution and tried adding scala-reflect as the dependency but still getting the same error. I do see scala-reflect is added as dependency</p>\n<p><a href=\"https://stackoverflow.com/questions/25189608/cant-import-scala-reflect-runtime-universe/25191687\">Can&#39;t import scala.reflect.runtime.universe</a></p>\n<p>Scala version 2.12.10</p>\n<pre><code>[info] Non-compiled module 'compiler-bridge_2.12' for Scala 2.12.0. Compiling...\n/var/folders/92/9c7h444d28x8rtcm91n0r7bc0000gq/T/sbt_97534c54/scala/ZincCompat.scala:19: error: type PlainNioFile is not a member of package scala.reflect.io\n  type PlainNioFile = scala.reflect.io.PlainNioFile\n                                       ^\n/var/folders/92/9c7h444d28x8rtcm91n0r7bc0000gq/T/sbt_97534c54/scala/ZincCompat.scala:23: error: type mismatch;\n found   : pf.type (with underlying type scala.ZincCompat.PlainNioFile)\n required: ?{def getClass: ?}\n    val f = pf.getClass.getDeclaredField(&quot;nioPath&quot;) // it's not val'd in 2.12 :-/\ntwo errors found\n[info] Attempting to fetch org.scala-sbt:compiler-bridge_2.12:1.6.0.\n[warn] Unrecognized repository Scala Plugin Bundled Repository, ignoring it\n[warn] Unrecognized repository Scala Plugin Bundled Repository, ignoring it\n[error] (Compile / compileIncremental) Error compiling the sbt component 'compiler-bridge_2.12'\n</code></pre>\n"},{"tags":["java","android","api","spotify"],"owner":{"account_id":28249943,"reputation":11,"user_id":21596351,"display_name":"Alvaro G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682332429,"creation_date":1682330599,"question_id":76090725,"body_markdown":"Is there any way of using the actual Spotify Api for Android without installing Spotify app?\r\n\r\n\r\n\r\nI&#39;m trying to build a custom &quot;mini-social-network&quot; with Spotify integrations like your favorite genres or a top 5 all-time songs , for example. \r\n\r\nNot so much time ago, the entire API changed and I don&#39;t really know if I need to obligate the users to install Spotify and my app separately. I&#39;m using the Spotify SDK and the doc page says that it is necessary to install it.\r\n\r\nThanks for checking out.","title":"Is there a way to connect to Spotify api without installing its own app?","body":"<p>Is there any way of using the actual Spotify Api for Android without installing Spotify app?</p>\n<p>I'm trying to build a custom &quot;mini-social-network&quot; with Spotify integrations like your favorite genres or a top 5 all-time songs , for example.</p>\n<p>Not so much time ago, the entire API changed and I don't really know if I need to obligate the users to install Spotify and my app separately. I'm using the Spotify SDK and the doc page says that it is necessary to install it.</p>\n<p>Thanks for checking out.</p>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":9506469,"reputation":71,"user_id":7065816,"display_name":"Somsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682332340,"creation_date":1682332340,"answer_id":76090960,"question_id":73648833,"body_markdown":"I solved it using Projections:\r\n\r\n    @Value(&quot;#{@userService.getUpdatedByUserName(target)}&quot;)\r\n    String getUpdatedByUserName();\r\n\r\n`userService` is the name of the UserService Spring Bean in this case.\r\n\r\nSee the [Spring Data JPA Docs][1], Example 91\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","title":"Is is possible to define a custom Spring Data GET Endpoint, which includes additional data?","body":"<p>I solved it using Projections:</p>\n<pre><code>@Value(&quot;#{@userService.getUpdatedByUserName(target)}&quot;)\nString getUpdatedByUserName();\n</code></pre>\n<p><code>userService</code> is the name of the UserService Spring Bean in this case.</p>\n<p>See the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">Spring Data JPA Docs</a>, Example 91</p>\n"}],"owner":{"account_id":9506469,"reputation":71,"user_id":7065816,"display_name":"Somsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76090960,"answer_count":1,"score":0,"last_activity_date":1682332340,"creation_date":1662638703,"question_id":73648833,"body_markdown":"I need to find a way to modify data created by Spring Data endpoints, before the data gets serialized. The problem is as follows:\r\n\r\n# Base Situation\r\n\r\nThere is a Entity `Orders`, which basically is structured like this:\r\n```\r\n\r\npublic Class Order {\r\n  public String name;\r\n  public Long uuid;    // id of the user\r\n}\r\n\r\n```\r\n\r\nFor this Entity also a corresponding OrderRespository exists.\r\n\r\nNow when I fetch the data using the Spring Data Endpoint `GET /api/orders` I can retrieve the list of orders. I can also query e.g. for any property of the actuality much bigger entity, for example the name property (using `GET /api/orders?name=order42`). \r\n\r\n# Problem\r\n\r\nBut now the actual problem comes into play:\r\nI have to make an additional step though and add the actual Usernames to the returned Data. So I need to return an `OrderDTO` like this:\r\n\r\n```\r\n\r\npublic Class OrderDTO {\r\n  public String name;\r\n  public String username;    // actual name of the user, the order belongs to\r\n}\r\n\r\n```\r\n\r\nHow can I create an endpoint, that has all the query/pagination abilities of the Spring Data Endpoint, while still being able to write custom code to fetch and assign the username (which comes from an external system)?\r\nThe solution might also be to modify the data returned from Spring Data, before it is being serialized.\r\n\r\n","title":"Is is possible to define a custom Spring Data GET Endpoint, which includes additional data?","body":"<p>I need to find a way to modify data created by Spring Data endpoints, before the data gets serialized. The problem is as follows:</p>\n<h1>Base Situation</h1>\n<p>There is a Entity <code>Orders</code>, which basically is structured like this:</p>\n<pre><code>\npublic Class Order {\n  public String name;\n  public Long uuid;    // id of the user\n}\n\n</code></pre>\n<p>For this Entity also a corresponding OrderRespository exists.</p>\n<p>Now when I fetch the data using the Spring Data Endpoint <code>GET /api/orders</code> I can retrieve the list of orders. I can also query e.g. for any property of the actuality much bigger entity, for example the name property (using <code>GET /api/orders?name=order42</code>).</p>\n<h1>Problem</h1>\n<p>But now the actual problem comes into play:\nI have to make an additional step though and add the actual Usernames to the returned Data. So I need to return an <code>OrderDTO</code> like this:</p>\n<pre><code>\npublic Class OrderDTO {\n  public String name;\n  public String username;    // actual name of the user, the order belongs to\n}\n\n</code></pre>\n<p>How can I create an endpoint, that has all the query/pagination abilities of the Spring Data Endpoint, while still being able to write custom code to fetch and assign the username (which comes from an external system)?\nThe solution might also be to modify the data returned from Spring Data, before it is being serialized.</p>\n"},{"tags":["java","intellij-idea","solr","architecture","solrj"],"owner":{"account_id":28358544,"reputation":1,"user_id":21688901,"display_name":"Steve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682331870,"creation_date":1682331870,"question_id":76090895,"body_markdown":"In solrJ9.2.0 CloudSolrClient does not support a Builder with HttpClient instead now it takes Http2SolrClient, Old CloudSolrClient is now renames as CloudLegacySolrClient, how do modify this code so that i can use CloudSolrClient as CloudLegacySolrClient is deprecated in Solr 9.2.0\r\n\r\n```\r\n@Component\r\npublic class SolrClientFactoryImpl{\r\n\r\n\tprivate final HttpClient httpClient;\r\n\r\n\t@Autowired\r\n\tpublic SolrClientFactoryImpl(final HttpClient httpClient) {\r\n\t\tthis.httpClient = httpClient;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SolrClientWrapperImpl getSolrClient(final ZookeeperConnectionSpecifier zk) {\r\n\t\tlogger.debug(&quot;Creating CloudSolrClient for cluster {}&quot;, zk.getZkConnectionString());\r\n\t\treturn new SolrClientWrapperImpl(\r\n\t\t      new CloudLegacySolrClient.Builder(\r\n\t\t            zk.getInstancesAsString(),\r\n\t\t            Optional.of(&quot;/&quot; + zk.getRootNode().orElse(&quot;&quot;)))\r\n\t\t                  .withHttpClient(httpClient)\r\n\t\t                  .build());\r\n\t}\r\n```\r\n\r\n\t@Bean\r\n\tpublic CloseableHttpClient closeableHttpClient(\r\n\t      final SolrHttpClientProperties solrHttpClientProperties,\r\n\t      final PoolingHttpClientConnectionManager poolingManager,\r\n\t      final MeterRegistry meterRegistry) {\r\n\t\tfinal HttpRequestRetryHandler requestRetryHandler = new DefaultHttpRequestRetryHandler() {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected boolean handleAsIdempotent(final HttpRequest request) {\r\n\t\t\t\t// we can&#39;t tell if a Solr request is idempotent\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfinal ConnectionKeepAliveStrategy keepAliveStrategy = new DefaultConnectionKeepAliveStrategy() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic long getKeepAliveDuration(final HttpResponse response, final HttpContext context) {\r\n\t\t\t\tfinal long maxFromHost = super.getKeepAliveDuration(response, context);\r\n\t\t\t\treturn Math.min(solrHttpClientProperties.getConnectionMaxIdleSeconds(), maxFromHost);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfinal RequestConfig requestConfig = RequestConfig.custom()\r\n\t\t      .setSocketTimeout(solrHttpClientProperties.getSocketConnectionTimeOutSeconds()\\*1000)\r\n\t\t      .build();\r\n\r\n\t\tfinal HttpRequestExecutor httpRequestExecutor = MicrometerHttpRequestExecutor\r\n\t\t      .builder(meterRegistry)\r\n\t\t      .exportTagsForRoute(true)\r\n\t\t      .build();\r\n\r\n\t\treturn HttpClientBuilder.create()\r\n\t\t      .setConnectionManager(poolingManager)\r\n\t\t      .setRetryHandler(requestRetryHandler)\r\n\t\t      .setDefaultRequestConfig(requestConfig)\r\n\t\t      .setRequestExecutor(httpRequestExecutor)\r\n\t\t      .setKeepAliveStrategy(keepAliveStrategy)\r\n\t\t      .setUserAgent(&quot;searchService&quot;)\r\n\t\t      .build();\r\n\t}\\`\\`\\`\r\n\r\n```\r\nthe constructor in @component class takes object of HttpClient which is autowired through the bean defined below, how do i modify the closeableHttpClient() method so that i returns a Http2Solrclient or if there is any way i can cast HttpClient to Http2SolrClient in getSolrClient() method since CloudLegacySolrClient is deprecated.\r\n\r\nI tried casting HttpClient to Http2SolrClient but it did not worked\r\n\t\treturn new SolrClientWrapperImpl(\r\n\t\t      new CloudSolrClient.Builder(\r\n\t\t            zk.getInstancesAsString(),\r\n\t\t            Optional.of(&quot;/&quot; + zk.getRootNode().orElse(&quot;&quot;)))\r\n\t\t                  .withHttpClient((Http2SolrClient) httpClient)\r\n\t\t                  .build());\r\n```","title":"Cast CloudLegacySolrClient to CloudSolrClient","body":"<p>In solrJ9.2.0 CloudSolrClient does not support a Builder with HttpClient instead now it takes Http2SolrClient, Old CloudSolrClient is now renames as CloudLegacySolrClient, how do modify this code so that i can use CloudSolrClient as CloudLegacySolrClient is deprecated in Solr 9.2.0</p>\n<pre><code>@Component\npublic class SolrClientFactoryImpl{\n\n    private final HttpClient httpClient;\n\n    @Autowired\n    public SolrClientFactoryImpl(final HttpClient httpClient) {\n        this.httpClient = httpClient;\n    }\n\n    @Override\n    public SolrClientWrapperImpl getSolrClient(final ZookeeperConnectionSpecifier zk) {\n        logger.debug(&quot;Creating CloudSolrClient for cluster {}&quot;, zk.getZkConnectionString());\n        return new SolrClientWrapperImpl(\n              new CloudLegacySolrClient.Builder(\n                    zk.getInstancesAsString(),\n                    Optional.of(&quot;/&quot; + zk.getRootNode().orElse(&quot;&quot;)))\n                          .withHttpClient(httpClient)\n                          .build());\n    }\n</code></pre>\n<pre><code>@Bean\npublic CloseableHttpClient closeableHttpClient(\n      final SolrHttpClientProperties solrHttpClientProperties,\n      final PoolingHttpClientConnectionManager poolingManager,\n      final MeterRegistry meterRegistry) {\n    final HttpRequestRetryHandler requestRetryHandler = new DefaultHttpRequestRetryHandler() {\n\n        @Override\n        protected boolean handleAsIdempotent(final HttpRequest request) {\n            // we can't tell if a Solr request is idempotent\n            return false;\n        }\n    };\n\n    final ConnectionKeepAliveStrategy keepAliveStrategy = new DefaultConnectionKeepAliveStrategy() {\n\n        @Override\n        public long getKeepAliveDuration(final HttpResponse response, final HttpContext context) {\n            final long maxFromHost = super.getKeepAliveDuration(response, context);\n            return Math.min(solrHttpClientProperties.getConnectionMaxIdleSeconds(), maxFromHost);\n        }\n    };\n\n    final RequestConfig requestConfig = RequestConfig.custom()\n          .setSocketTimeout(solrHttpClientProperties.getSocketConnectionTimeOutSeconds()\\*1000)\n          .build();\n\n    final HttpRequestExecutor httpRequestExecutor = MicrometerHttpRequestExecutor\n          .builder(meterRegistry)\n          .exportTagsForRoute(true)\n          .build();\n\n    return HttpClientBuilder.create()\n          .setConnectionManager(poolingManager)\n          .setRetryHandler(requestRetryHandler)\n          .setDefaultRequestConfig(requestConfig)\n          .setRequestExecutor(httpRequestExecutor)\n          .setKeepAliveStrategy(keepAliveStrategy)\n          .setUserAgent(&quot;searchService&quot;)\n          .build();\n}\\`\\`\\`\n</code></pre>\n<pre><code>the constructor in @component class takes object of HttpClient which is autowired through the bean defined below, how do i modify the closeableHttpClient() method so that i returns a Http2Solrclient or if there is any way i can cast HttpClient to Http2SolrClient in getSolrClient() method since CloudLegacySolrClient is deprecated.\n\nI tried casting HttpClient to Http2SolrClient but it did not worked\n        return new SolrClientWrapperImpl(\n              new CloudSolrClient.Builder(\n                    zk.getInstancesAsString(),\n                    Optional.of(&quot;/&quot; + zk.getRootNode().orElse(&quot;&quot;)))\n                          .withHttpClient((Http2SolrClient) httpClient)\n                          .build());\n</code></pre>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1682297443,"post_id":76087467,"comment_id":134188283,"body_markdown":"How are you launching Weka? On what operating system (Linux/Mac/Windows)? What version of Java are you using?","body":"How are you launching Weka? On what operating system (Linux/Mac/Windows)? What version of Java are you using?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682329490,"post_id":76087467,"comment_id":134192373,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28391311,"reputation":1,"user_id":21717040,"display_name":"Ismaeel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682331630,"creation_date":1682287135,"question_id":76087467,"body_markdown":"When I tried to launch `weka 3.8.6`.\r\n\r\nIt didn&#39;t launch but pops up `Weka Error`.\r\nWhen I tried to run `weka 3.8.6` the Error is:\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException \r\n```","title":"How to fix weka error java.lang.reflect.InvocationTargetException","body":"<p>When I tried to launch <code>weka 3.8.6</code>.</p>\n<p>It didn't launch but pops up <code>Weka Error</code>.\nWhen I tried to run <code>weka 3.8.6</code> the Error is:</p>\n<pre><code>java.lang.reflect.InvocationTargetException \n</code></pre>\n"},{"tags":["java","azure","azure-blob-storage","native","quarkus"],"owner":{"account_id":9082127,"reputation":121,"user_id":6761607,"display_name":"Hapaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682331174,"creation_date":1682330634,"question_id":76090727,"body_markdown":"Problem occurs on jar and native. During staging chunks i randomly get this error\r\n&gt; io.net.han.ssl.SslHandler] (vert.x-eventloop-thread-3) [id: //redacted, L:///redacted - R://redacted.blob.core.windows.net///redacted] Last write attempt timed out; force-closing the connection.\r\n\r\n&gt; [com.azu.sto.blo.imp.Blo.stageBlock] (vert.x-eventloop-thread-3) &lt;-- HTTP FAILED: Connection was closed\r\n\r\n&gt;(executor-thread-2) Got exception: : io.vertx.core.http.HttpClosedException: Connection was closed\r\n\r\nAzure configuration class:\r\n\r\n```\r\n@ApplicationScoped\r\n@Slf4j\r\npublic class AzureConfig {\r\n    private static final FixedDelayOptions RETRY_OPTION = new FixedDelayOptions(3, Duration.ofSeconds(10));\r\n    private final AzureProperties properties;\r\n\r\n    public AzureConfig(AzureProperties properties) {\r\n        this.properties = properties;\r\n    }\r\n\r\n    public BlobContainerClient blobContainerClient() {\r\n        return createBuilder().buildClient().getBlobContainerClient(properties.containerName());\r\n    }\r\n\r\n\r\n    private BlobServiceClientBuilder createBuilder() {\r\n        final String url = properties.url();\r\n        final String baseUrl = url.endsWith(&quot;/&quot;) ? url : url + &quot;/&quot;;\r\n\r\n        final StorageSharedKeyCredential credential = new StorageSharedKeyCredential(\r\n                properties.accountName(), properties.accessKey());\r\n\r\n        return new BlobServiceClientBuilder()\r\n                .endpoint(baseUrl + properties.accountName())\r\n                .credential(credential)\r\n                .httpClient(getHttpClient())\r\n                .httpLogOptions(new HttpLogOptions()\r\n                        .setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS)\r\n                        .setPrettyPrintBody(true))\r\n                .retryOptions(new RetryOptions(RETRY_OPTION));\r\n    }\r\n\r\n    private static HttpClient getHttpClient() {\r\n        final HttpClientOptions clientOptions = new HttpClientOptions()\r\n                .setReadTimeout(Duration.ofMinutes(3))\r\n                .setConnectTimeout(Duration.ofMinutes(3));\r\n        return HttpClient.createDefault(clientOptions);\r\n    }\r\n\r\n}\r\n```\r\nSince i can&#39;t share whole code i provided pseudocode for class which is responsible for uploading chunks of file to cloud. We are not using azure async client.\r\n\r\n```\r\ninitialize azure blob client\r\ninitialize azure block blob client\r\n\r\noptions = BlockBlobStageBlockOptions(chunkId, binaryData);\r\nresponse = stage chunk with response(options, timeout=null, context.NONE)\r\n...check response and provide appropriate information to client\r\n\r\nif(is this last chunk)\r\n    options = BlockBlobCommitBlockListOptions(chuIdList, binaryData);\r\n    response = commit block list with response(options, timeout=null, context.NONE)\r\n    ...check response and provide appropriate information to client\r\n```\r\n\r\n\r\nDependencies:\r\n- quarkus:2.16.0.Final\r\n- camel-quarkus-azure-storage-blob:2.16.0\r\n\r\nConfiguration .yaml only contains simple azure configuration: container name, url, account-name, access-key\r\n\r\n\r\n\r\nWhat i tried to solve this problem:\r\n- increase connection timeout in azure client\r\n- set camel.component.azure-storage-blob.timeout to higher Duration\r\n- set quarkus.http.read-timeout to higher Duration\r\n- set quarkus.rest-client.connect-timeout and read-timeout to higher Duration\r\n\r\nWe thought it might be connected to some weird behaviour in camel-quarkus-azure-storage-blob so we swapped it for testing purposes to com.azure.azure-storage-blob and problem didn&#39;t occur.\r\n\r\nRight now we can&#39;t use com.azure.azure-storage-blob in native since we have a lot of problems during native build.\r\n\r\nCould you please help me with this problem?","title":"Quarkus azure blob storage connection was closed","body":"<p>Problem occurs on jar and native. During staging chunks i randomly get this error</p>\n<blockquote>\n<p>io.net.han.ssl.SslHandler] (vert.x-eventloop-thread-3) [id: //redacted, L:///redacted - R://redacted.blob.core.windows.net///redacted] Last write attempt timed out; force-closing the connection.</p>\n</blockquote>\n<blockquote>\n<p>[com.azu.sto.blo.imp.Blo.stageBlock] (vert.x-eventloop-thread-3) &lt;-- HTTP FAILED: Connection was closed</p>\n</blockquote>\n<blockquote>\n<p>(executor-thread-2) Got exception: : io.vertx.core.http.HttpClosedException: Connection was closed</p>\n</blockquote>\n<p>Azure configuration class:</p>\n<pre><code>@ApplicationScoped\n@Slf4j\npublic class AzureConfig {\n    private static final FixedDelayOptions RETRY_OPTION = new FixedDelayOptions(3, Duration.ofSeconds(10));\n    private final AzureProperties properties;\n\n    public AzureConfig(AzureProperties properties) {\n        this.properties = properties;\n    }\n\n    public BlobContainerClient blobContainerClient() {\n        return createBuilder().buildClient().getBlobContainerClient(properties.containerName());\n    }\n\n\n    private BlobServiceClientBuilder createBuilder() {\n        final String url = properties.url();\n        final String baseUrl = url.endsWith(&quot;/&quot;) ? url : url + &quot;/&quot;;\n\n        final StorageSharedKeyCredential credential = new StorageSharedKeyCredential(\n                properties.accountName(), properties.accessKey());\n\n        return new BlobServiceClientBuilder()\n                .endpoint(baseUrl + properties.accountName())\n                .credential(credential)\n                .httpClient(getHttpClient())\n                .httpLogOptions(new HttpLogOptions()\n                        .setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS)\n                        .setPrettyPrintBody(true))\n                .retryOptions(new RetryOptions(RETRY_OPTION));\n    }\n\n    private static HttpClient getHttpClient() {\n        final HttpClientOptions clientOptions = new HttpClientOptions()\n                .setReadTimeout(Duration.ofMinutes(3))\n                .setConnectTimeout(Duration.ofMinutes(3));\n        return HttpClient.createDefault(clientOptions);\n    }\n\n}\n</code></pre>\n<p>Since i can't share whole code i provided pseudocode for class which is responsible for uploading chunks of file to cloud. We are not using azure async client.</p>\n<pre><code>initialize azure blob client\ninitialize azure block blob client\n\noptions = BlockBlobStageBlockOptions(chunkId, binaryData);\nresponse = stage chunk with response(options, timeout=null, context.NONE)\n...check response and provide appropriate information to client\n\nif(is this last chunk)\n    options = BlockBlobCommitBlockListOptions(chuIdList, binaryData);\n    response = commit block list with response(options, timeout=null, context.NONE)\n    ...check response and provide appropriate information to client\n</code></pre>\n<p>Dependencies:</p>\n<ul>\n<li>quarkus:2.16.0.Final</li>\n<li>camel-quarkus-azure-storage-blob:2.16.0</li>\n</ul>\n<p>Configuration .yaml only contains simple azure configuration: container name, url, account-name, access-key</p>\n<p>What i tried to solve this problem:</p>\n<ul>\n<li>increase connection timeout in azure client</li>\n<li>set camel.component.azure-storage-blob.timeout to higher Duration</li>\n<li>set quarkus.http.read-timeout to higher Duration</li>\n<li>set quarkus.rest-client.connect-timeout and read-timeout to higher Duration</li>\n</ul>\n<p>We thought it might be connected to some weird behaviour in camel-quarkus-azure-storage-blob so we swapped it for testing purposes to com.azure.azure-storage-blob and problem didn't occur.</p>\n<p>Right now we can't use com.azure.azure-storage-blob in native since we have a lot of problems during native build.</p>\n<p>Could you please help me with this problem?</p>\n"},{"tags":["java","rule-engine"],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682331145,"creation_date":1682331145,"question_id":76090798,"body_markdown":"I have an interface class like this \r\n\r\n        public interface Simple {\r\n        Double AirTicketPrice(String departureCity, String destinationCity);\r\n    }\r\n\r\nI have a method as follows \r\n\r\n    void openlTest() {\r\n    \tRulesEngineFactory&lt;Simple&gt; engineFactory = new RulesEngineFactory&lt;&gt; \r\n        (&quot;C:/dump/TicketsPrice.xlsx&quot;);\r\n    \tengineFactory.setInterfaceClass(Simple.class);\r\n    \tSimple rules = (Simple) engineFactory.newInstance();\r\n    \trules.AirTicketPrice(&quot;Chicago&quot;, &quot;Madrid&quot;);\r\n    \r\n    }\r\n\r\nand I have TicketsPrice.xlsx file in which the rules are defined i.e on entering the departure and destination city, the ticket amount will be returned.\r\n\r\nSo can anyone explain how to read/test those rules in openL tablet rule service from the java code. I&#39;ve the above mentioned method but it is not working.","title":"How to integrate rules in the openL rule service with java code","body":"<p>I have an interface class like this</p>\n<pre><code>    public interface Simple {\n    Double AirTicketPrice(String departureCity, String destinationCity);\n}\n</code></pre>\n<p>I have a method as follows</p>\n<pre><code>void openlTest() {\n    RulesEngineFactory&lt;Simple&gt; engineFactory = new RulesEngineFactory&lt;&gt; \n    (&quot;C:/dump/TicketsPrice.xlsx&quot;);\n    engineFactory.setInterfaceClass(Simple.class);\n    Simple rules = (Simple) engineFactory.newInstance();\n    rules.AirTicketPrice(&quot;Chicago&quot;, &quot;Madrid&quot;);\n\n}\n</code></pre>\n<p>and I have TicketsPrice.xlsx file in which the rules are defined i.e on entering the departure and destination city, the ticket amount will be returned.</p>\n<p>So can anyone explain how to read/test those rules in openL tablet rule service from the java code. I've the above mentioned method but it is not working.</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682331142,"post_id":76090730,"comment_id":134192741,"body_markdown":"Weird. The &#39;Gordian knot solution&#39; - make an executable jar then you can do `java -jar test.jar`","body":"Weird. The &#39;Gordian knot solution&#39; - make an executable jar then you can do <code>java -jar test.jar</code>"},{"owner":{"account_id":28360995,"reputation":11,"user_id":21691031,"display_name":"SONGYEON WON"},"score":0,"creation_date":1682332400,"post_id":76090730,"comment_id":134192995,"body_markdown":"-jar option working normally, also -classpath working on powershell normally.\nbit if i use -classpath on cmd , occur problem...\nactually ... i found this problem , when i build project on intellij..","body":"-jar option working normally, also -classpath working on powershell normally. bit if i use -classpath on cmd , occur problem... actually ... i found this problem , when i build project on intellij.."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682332498,"post_id":76090730,"comment_id":134193007,"body_markdown":"Funnily enough - I was going to say try Powershell ;)","body":"Funnily enough - I was going to say try Powershell ;)"},{"owner":{"account_id":28360995,"reputation":11,"user_id":21691031,"display_name":"SONGYEON WON"},"score":0,"creation_date":1682332679,"post_id":76090730,"comment_id":134193043,"body_markdown":"I don&#39;t know how to solve this problem. I can use powershell, but the same error occurs when I build the project in intellij.","body":"I don&#39;t know how to solve this problem. I can use powershell, but the same error occurs when I build the project in intellij."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682333184,"post_id":76090730,"comment_id":134193128,"body_markdown":"I thought you just said what I mentioned *did* solve it? ;) I&#39;m hoping your posted command input and output is 100% correct? If so, that shouldn&#39;t occur, I don&#39;t think, *whatever* IntelliJ has done to your jar","body":"I thought you just said what I mentioned <i>did</i> solve it? ;) I&#39;m hoping your posted command input and output is 100% correct? If so, that shouldn&#39;t occur, I don&#39;t think, <i>whatever</i> IntelliJ has done to your jar"},{"owner":{"account_id":28360995,"reputation":11,"user_id":21691031,"display_name":"SONGYEON WON"},"score":0,"creation_date":1682333796,"post_id":76090730,"comment_id":134193254,"body_markdown":"It seems that something is being manipulated in the security program. The problem is now solved. thanks.","body":"It seems that something is being manipulated in the security program. The problem is now solved. thanks."}],"owner":{"account_id":28360995,"reputation":11,"user_id":21691031,"display_name":"SONGYEON WON"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682330694,"creation_date":1682330694,"question_id":76090730,"body_markdown":"Class name is converted to lower case when java command is executed on Windows\r\n\r\n\r\n```\r\nC:\\&gt;java -classpath test.jar org.test.Server\r\nError: Could not find or load main class org.test.server\r\n```\r\n\r\n&#39;org.test.Server&#39; has been changed to &#39;org.test.server&#39;. \r\nActually, there is Server Class, but ClassNotFoundException occurs.\r\n\r\n\r\nI have installed several versions of java, but the same issue still occurs.","title":"Class name is converted to lower case when java command is executed on Windows","body":"<p>Class name is converted to lower case when java command is executed on Windows</p>\n<pre><code>C:\\&gt;java -classpath test.jar org.test.Server\nError: Could not find or load main class org.test.server\n</code></pre>\n<p>'org.test.Server' has been changed to 'org.test.server'.\nActually, there is Server Class, but ClassNotFoundException occurs.</p>\n<p>I have installed several versions of java, but the same issue still occurs.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","bigdata"],"owner":{"account_id":2481864,"reputation":830,"user_id":2161180,"accept_rate":71,"display_name":"fdam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682330571,"creation_date":1478692715,"question_id":40506487,"body_markdown":"I am testing this framework specifically the SQL module with the java API. Running it as standalone in java, I have better results (even running in the same machine) then pure sql (running over pgadmin).\r\n\r\nExecuting exactly the same query in the same bd (postgres 9.4 and 9.5), sparks is almost 5 x faster, below is my code:\r\n\r\n    private static final JavaSparkContext sc =\r\n                new JavaSparkContext(new SparkConf()\r\n                        .setAppName(&quot;SparkJdbc&quot;).setMaster(&quot;local[*]&quot;));\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            StringBuilder sql = new StringBuilder();\r\n            sql.append(&quot; my query &quot;);\r\n            \r\n            long time = System.currentTimeMillis();\r\n            DbConnection dbConnection = new DbConnection(&quot;org.postgresql.Driver&quot;, &quot;jdbc:postgresql://localhost:5432/mydb&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n            JdbcRDD&lt;Object[]&gt; jdbcRDD = new JdbcRDD&lt;&gt;(sc.sc(), dbConnection, sql.toString(),\r\n                                  1, 1000000000, 20, new MapResult(), ClassManifestFactory$.MODULE$.fromClass(Object[].class));\r\n            \r\n            JavaRDD&lt;Object[]&gt; javaRDD = JavaRDD.fromRDD(jdbcRDD, ClassManifestFactory$.MODULE$.fromClass(Object[].class));\r\n            \r\n    //        javaRDD.map((final Object[] record) -&gt; {\r\n    //            StringBuilder line = new StringBuilder();\r\n    //            for (Object o : record) {\r\n    //                line.append(o != null ? o.toString() : &quot;&quot;).append(&quot;,&quot;);\r\n    //            }\r\n    //            return line.toString();\r\n    //        }).collect().forEach(rec -&gt; System.out.println(rec));\r\n            \r\n            System.out.println(&quot;Total: &quot; + javaRDD.count());\r\n            System.out.println(&quot;Total time: &quot; + (System.currentTimeMillis() - time));\r\n            \r\n        } \r\n\r\nEven if I uncomment the code to print the results to the console, it still running faster.\r\n\r\nI am wondering how can it be faster, if the source (bd) is the same, can anyone explain it? Maybe using parallel query?\r\n\r\n**EDIT:** There is a relevant information about the postgres process, in standby, the postgres uses 12 process and running the query over pgadmin, the number does not change, over spark, it up to 20, that means probably spark uses some parallel mechanism to do the job.","title":"How does apache spark works?","body":"<p>I am testing this framework specifically the SQL module with the java API. Running it as standalone in java, I have better results (even running in the same machine) then pure sql (running over pgadmin).</p>\n\n<p>Executing exactly the same query in the same bd (postgres 9.4 and 9.5), sparks is almost 5 x faster, below is my code:</p>\n\n<pre><code>private static final JavaSparkContext sc =\n            new JavaSparkContext(new SparkConf()\n                    .setAppName(\"SparkJdbc\").setMaster(\"local[*]\"));\n\n    public static void main(String[] args) {\n\n        StringBuilder sql = new StringBuilder();\n        sql.append(\" my query \");\n\n        long time = System.currentTimeMillis();\n        DbConnection dbConnection = new DbConnection(\"org.postgresql.Driver\", \"jdbc:postgresql://localhost:5432/mydb\", \"user\", \"pass\");\n        JdbcRDD&lt;Object[]&gt; jdbcRDD = new JdbcRDD&lt;&gt;(sc.sc(), dbConnection, sql.toString(),\n                              1, 1000000000, 20, new MapResult(), ClassManifestFactory$.MODULE$.fromClass(Object[].class));\n\n        JavaRDD&lt;Object[]&gt; javaRDD = JavaRDD.fromRDD(jdbcRDD, ClassManifestFactory$.MODULE$.fromClass(Object[].class));\n\n//        javaRDD.map((final Object[] record) -&gt; {\n//            StringBuilder line = new StringBuilder();\n//            for (Object o : record) {\n//                line.append(o != null ? o.toString() : \"\").append(\",\");\n//            }\n//            return line.toString();\n//        }).collect().forEach(rec -&gt; System.out.println(rec));\n\n        System.out.println(\"Total: \" + javaRDD.count());\n        System.out.println(\"Total time: \" + (System.currentTimeMillis() - time));\n\n    } \n</code></pre>\n\n<p>Even if I uncomment the code to print the results to the console, it still running faster.</p>\n\n<p>I am wondering how can it be faster, if the source (bd) is the same, can anyone explain it? Maybe using parallel query?</p>\n\n<p><strong>EDIT:</strong> There is a relevant information about the postgres process, in standby, the postgres uses 12 process and running the query over pgadmin, the number does not change, over spark, it up to 20, that means probably spark uses some parallel mechanism to do the job.</p>\n"},{"tags":["java","class","declare"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":1,"creation_date":1456331143,"post_id":35607486,"comment_id":58899324,"body_markdown":"Those error messages are pretty clear. Java requires public classes to be in files with corresponding names, so class `Lab10a` should be in a file called `Lab10a.java`.","body":"Those error messages are pretty clear. Java requires public classes to be in files with corresponding names, so class <code>Lab10a</code> should be in a file called <code>Lab10a.java</code>."},{"owner":{"account_id":7911691,"reputation":11,"user_id":5975547,"display_name":"Emmanuel"},"score":0,"creation_date":1456331255,"post_id":35607486,"comment_id":58899418,"body_markdown":"could i just change the class name to file file name","body":"could i just change the class name to file file name"},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1456332986,"post_id":35607486,"comment_id":58900818,"body_markdown":"Yes, you can change the class name instead.","body":"Yes, you can change the class name instead."}],"answers":[{"tags":[],"owner":{"account_id":5110015,"reputation":13405,"user_id":4096935,"accept_rate":100,"display_name":"Webert Lima"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456331566,"creation_date":1456331566,"answer_id":35607752,"question_id":35607486,"body_markdown":"Just move your Lab10a class definition to a separate java file named Lab10a.java and import it in the other classes the use it.","title":"should be declared as a file name","body":"<p>Just move your Lab10a class definition to a separate java file named Lab10a.java and import it in the other classes the use it.</p>\n"}],"owner":{"account_id":7911691,"reputation":11,"user_id":5975547,"display_name":"Emmanuel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1678,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1682330496,"answer_count":1,"score":-1,"last_activity_date":1682330549,"creation_date":1456330967,"question_id":35607486,"body_markdown":"My teacher is away for 2 days and I&#39;m stuck. I keep getting these two errors when I try to run the main file\r\n\r\n&gt; U:\\Computer science\\AP Computer\r\n&gt; Science\\10.boolean\\lab10_boolean\\PassRunner.java:8: error: class\r\n&gt; Lab10a is public, should be declared in a file named Lab10a.java\r\n\r\nand\r\n\r\n&gt; U:\\Computer science\\AP Computer\r\n&gt; Science\\10.boolean\\lab10_boolean\\PassRunner.java:12: error:\r\n&gt; constructor PasswordCheck in class PasswordCheck cannot be applied to\r\n&gt; given types;\r\n\r\n\r\nThe code in my main file is\r\n\r\n    import static java.lang.System.*;\r\n    \r\n    public class Lab10a\r\n    {\r\n    \tpublic static void main( String args[] )\r\n    \t{\r\n    \t\tPasswordCheck test = new PasswordCheck();\r\n    \t\ttest.check();\r\n    \t}\r\n    }\r\n\r\nand is named PassRunner.java\r\n\r\nThe code in my other class file is\r\n\r\n    import java.util.Scanner;\r\n    import static java.lang.System.*;\r\n    \r\n    class PasswordCheck\r\n    {\r\n    \tprivate String password = &quot;mchammergohammer&quot;;\r\n    \r\n    \tpublic PasswordCheck(String word)\r\n    \t{\r\n    \t\tword = &quot;&quot;;\r\n    \t}\r\n    \r\n    \tpublic void check()\r\n    \t{\r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tint x = 0;\r\n    \t\tString tmpPas = &quot;&quot;;\r\n    \r\n    \t\tdo{\r\n    \t\t\tout.println(&quot;THIS LEVEL OF SECURITY REQURES A PASSWORD&quot;);\r\n    \t\t\ttmpPas = keyboard.next();\r\n    \t\t\tif( tmpPas == password )\r\n    \t\t\t\tout.println(&quot;ACCESS GRANTED&quot;);\r\n    \t\t\telse\r\n    \t\t\t\tx++;\r\n    \t\t\t\tout.println(&quot;ACCESS DENIED&quot;);\r\n    \t\t}while( tmpPas != password || x &lt;= 10);\r\n    \t\tif( x &gt;= 10);\r\n    \t\t\tout.println( &quot;YOU HAVE REACHED THE MINIMUM AMOUNT OF ATTEMPTS&quot;);\r\n    \r\n    \t}\r\n    \r\n    \tpublic void setPass()\r\n    \t{\r\n    \t\tout.println(&quot;Enter your current password: &quot;);\r\n    \t}\r\n    }\r\n\r\nand it is named PassWordCheck.java\r\n\r\nI&#39;ve looked at other code and I still don&#39;t understand, as I am still new to coding.","title":"should be declared as a file name","body":"<p>My teacher is away for 2 days and I'm stuck. I keep getting these two errors when I try to run the main file</p>\n<blockquote>\n<p>U:\\Computer science\\AP Computer\nScience\\10.boolean\\lab10_boolean\\PassRunner.java:8: error: class\nLab10a is public, should be declared in a file named Lab10a.java</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>U:\\Computer science\\AP Computer\nScience\\10.boolean\\lab10_boolean\\PassRunner.java:12: error:\nconstructor PasswordCheck in class PasswordCheck cannot be applied to\ngiven types;</p>\n</blockquote>\n<p>The code in my main file is</p>\n<pre><code>import static java.lang.System.*;\n\npublic class Lab10a\n{\n    public static void main( String args[] )\n    {\n        PasswordCheck test = new PasswordCheck();\n        test.check();\n    }\n}\n</code></pre>\n<p>and is named PassRunner.java</p>\n<p>The code in my other class file is</p>\n<pre><code>import java.util.Scanner;\nimport static java.lang.System.*;\n\nclass PasswordCheck\n{\n    private String password = &quot;mchammergohammer&quot;;\n\n    public PasswordCheck(String word)\n    {\n        word = &quot;&quot;;\n    }\n\n    public void check()\n    {\n        Scanner keyboard = new Scanner(System.in);\n        int x = 0;\n        String tmpPas = &quot;&quot;;\n\n        do{\n            out.println(&quot;THIS LEVEL OF SECURITY REQURES A PASSWORD&quot;);\n            tmpPas = keyboard.next();\n            if( tmpPas == password )\n                out.println(&quot;ACCESS GRANTED&quot;);\n            else\n                x++;\n                out.println(&quot;ACCESS DENIED&quot;);\n        }while( tmpPas != password || x &lt;= 10);\n        if( x &gt;= 10);\n            out.println( &quot;YOU HAVE REACHED THE MINIMUM AMOUNT OF ATTEMPTS&quot;);\n\n    }\n\n    public void setPass()\n    {\n        out.println(&quot;Enter your current password: &quot;);\n    }\n}\n</code></pre>\n<p>and it is named PassWordCheck.java</p>\n<p>I've looked at other code and I still don't understand, as I am still new to coding.</p>\n"},{"tags":["java","spring","spring-cloud-config"],"owner":{"account_id":28395418,"reputation":1,"user_id":21720562,"display_name":"Amrit Twanabasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682330047,"creation_date":1682329989,"question_id":76090653,"body_markdown":"I have a plain text file in the Config Git Repository along with other config files.\r\n\r\n```\r\n.\r\n└── app-a-config/\r\n    ├── application.yml\r\n    ├── application-local.yml\r\n    └── another-config.xml\r\n```\r\n\r\nContents of `application.yml`\r\n\r\n```yml\r\nsomeconfig:\r\n  value: 100\r\n```\r\n\r\nContents of `application-local.yml`\r\n\r\n```yml\r\nspring:\r\n  datasource:\r\n   url: jdbc:mysql://localhost:3306/localdb\r\n   username: appuser\r\n   password: localpassword\r\n```\r\n\r\nContents of `another-config.xml`\r\n\r\n```xml\r\n&lt;name&gt;${profile}-another-conf&lt;/name&gt;\r\n&lt;connection&gt;\r\n    &lt;url&gt;${spring.datasource.url}&lt;/url&gt;\r\n    &lt;username&gt;${spring.datasource.username}&lt;/username&gt;\r\n    &lt;password&gt;${spring.datasource.password}&lt;/password&gt;\r\n&lt;/connection&gt;\r\n&lt;someconf&gt;${someconfig.value}&lt;/someconf&gt;\r\n```\r\n\r\nWhenever I call the `{configserveruri}/app-a/local/master/another-config.xml`, all the placeholders except `${profile}` are resolved correctly. Is there any way to resolve that placeholder from the URL?\r\n\r\nExample of output:\r\n\r\n```xml\r\n&lt;name&gt;${profile}-another-conf&lt;/name&gt;\r\n&lt;connection&gt;\r\n    &lt;url&gt;jdbc:mysql://localhost:3306/localdb&lt;/url&gt;\r\n    &lt;username&gt;appuser&lt;/username&gt;\r\n    &lt;password&gt;localpassword&lt;/password&gt;\r\n&lt;/connection&gt;\r\n&lt;someconf&gt;100&lt;/someconf&gt;\r\n```\r\n\r\nVersions:\r\n\r\n1. Spring Boot - 3.0.5\r\n2. Spring Cloud - 2022.0.1\r\n3. Java - 17\r\n\r\nI tried the following placeholders as well, but nothing seems to work.\r\n\r\n1. `${profiles}`\r\n2. `${spring.profiles}`\r\n3. `${spring.profiles.active}`\r\n4. `${profile}`\r\n\r\nThe expected result was\r\n\r\n```xml\r\n&lt;name&gt;local-another-conf&lt;/name&gt;\r\n&lt;connection&gt;\r\n    &lt;url&gt;jdbc:mysql://localhost:3306/localdb&lt;/url&gt;\r\n    &lt;username&gt;appuser&lt;/username&gt;\r\n    &lt;password&gt;localpassword&lt;/password&gt;\r\n&lt;/connection&gt;\r\n&lt;someconf&gt;100&lt;/someconf&gt;\r\n```","title":"Replacing Spring Cloud Server Placeholder in a plain text file","body":"<p>I have a plain text file in the Config Git Repository along with other config files.</p>\n<pre><code>.\n└── app-a-config/\n    ├── application.yml\n    ├── application-local.yml\n    └── another-config.xml\n</code></pre>\n<p>Contents of <code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>someconfig:\n  value: 100\n</code></pre>\n<p>Contents of <code>application-local.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n   url: jdbc:mysql://localhost:3306/localdb\n   username: appuser\n   password: localpassword\n</code></pre>\n<p>Contents of <code>another-config.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;name&gt;${profile}-another-conf&lt;/name&gt;\n&lt;connection&gt;\n    &lt;url&gt;${spring.datasource.url}&lt;/url&gt;\n    &lt;username&gt;${spring.datasource.username}&lt;/username&gt;\n    &lt;password&gt;${spring.datasource.password}&lt;/password&gt;\n&lt;/connection&gt;\n&lt;someconf&gt;${someconfig.value}&lt;/someconf&gt;\n</code></pre>\n<p>Whenever I call the <code>{configserveruri}/app-a/local/master/another-config.xml</code>, all the placeholders except <code>${profile}</code> are resolved correctly. Is there any way to resolve that placeholder from the URL?</p>\n<p>Example of output:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;name&gt;${profile}-another-conf&lt;/name&gt;\n&lt;connection&gt;\n    &lt;url&gt;jdbc:mysql://localhost:3306/localdb&lt;/url&gt;\n    &lt;username&gt;appuser&lt;/username&gt;\n    &lt;password&gt;localpassword&lt;/password&gt;\n&lt;/connection&gt;\n&lt;someconf&gt;100&lt;/someconf&gt;\n</code></pre>\n<p>Versions:</p>\n<ol>\n<li>Spring Boot - 3.0.5</li>\n<li>Spring Cloud - 2022.0.1</li>\n<li>Java - 17</li>\n</ol>\n<p>I tried the following placeholders as well, but nothing seems to work.</p>\n<ol>\n<li><code>${profiles}</code></li>\n<li><code>${spring.profiles}</code></li>\n<li><code>${spring.profiles.active}</code></li>\n<li><code>${profile}</code></li>\n</ol>\n<p>The expected result was</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;name&gt;local-another-conf&lt;/name&gt;\n&lt;connection&gt;\n    &lt;url&gt;jdbc:mysql://localhost:3306/localdb&lt;/url&gt;\n    &lt;username&gt;appuser&lt;/username&gt;\n    &lt;password&gt;localpassword&lt;/password&gt;\n&lt;/connection&gt;\n&lt;someconf&gt;100&lt;/someconf&gt;\n</code></pre>\n"},{"tags":["java","maven","exception","intellij-idea","junit"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1682342926,"post_id":76090587,"comment_id":134195354,"body_markdown":"which build framework do you use? do you have any third-party plugins enabled? also, sounds like https://youtrack.jetbrains.com/issue/IDEA-289953, check the discussion in comments","body":"which build framework do you use? do you have any third-party plugins enabled? also, sounds like <a href=\"https://youtrack.jetbrains.com/issue/IDEA-289953\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-289953</a>, check the discussion in comments"}],"owner":{"account_id":26815323,"reputation":1,"user_id":20405354,"display_name":"Dan Rotman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682329738,"creation_date":1682329440,"question_id":76090587,"body_markdown":"I have a Java Library that has a test suite. I can run the tests correctly both in maven and in IntelliJ, but when I try to run them in debug mode, it throws an exception ` C:\\Users\\drotman\\junit.properties (The system cannot find the file specified)`. The function that it stops at is `private native void open0(String name) throws FileNotFoundException;` from the `FileInputStream.java`\r\n\r\nI searched far and wide and couldn&#39;t find any information about what that file is and why it is only needed in debug mode.\r\n\r\nI tried re-installing intelliJ and both in Community and Ultimate, and the same problem persists. Also, I tried to change the version of Junit to no avail.","title":"Intellij doesn&#39;t run in Debug mode - file not found &quot;junit.properties&quot;","body":"<p>I have a Java Library that has a test suite. I can run the tests correctly both in maven and in IntelliJ, but when I try to run them in debug mode, it throws an exception <code> C:\\Users\\drotman\\junit.properties (The system cannot find the file specified)</code>. The function that it stops at is <code>private native void open0(String name) throws FileNotFoundException;</code> from the <code>FileInputStream.java</code></p>\n<p>I searched far and wide and couldn't find any information about what that file is and why it is only needed in debug mode.</p>\n<p>I tried re-installing intelliJ and both in Community and Ultimate, and the same problem persists. Also, I tried to change the version of Junit to no avail.</p>\n"},{"tags":["java","java-time","period"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682330960,"post_id":76090590,"comment_id":134192701,"body_markdown":"Is your arithmetic on the dates crossing a daylight savings boundary?","body":"Is your arithmetic on the dates crossing a daylight savings boundary?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682333493,"post_id":76090590,"comment_id":134193197,"body_markdown":"@user207421 Depending on interpretation either &quot;no&quot; or &quot;that shouldn’t matter&quot;. The OP is using `LocalDate`, and `LocalDate` hasn’t got any time zone and thus is not able to be influenced by summer time (DST).","body":"@user207421 Depending on interpretation either &quot;no&quot; or &quot;that shouldn’t matter&quot;. The OP is using <code>LocalDate</code>, and <code>LocalDate</code> hasn’t got any time zone and thus is not able to be influenced by summer time (DST)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682333732,"post_id":76090590,"comment_id":134193244,"body_markdown":"It’s a guess only: Maybe when subtracting the year is subtracted first, then the 265 days. And when adding the year is added first, then the 365 days. This means in the case of date A when subtracting you are subtracting the year across the leap day in 2020, that is 366 days, but adding only 365 days when going in the opposite direction. This causes you to end up 1 day short. For date B you have the same issue when crossing the leap day in 2024.","body":"It’s a guess only: Maybe when subtracting the year is subtracted first, then the 265 days. And when adding the year is added first, then the 365 days. This means in the case of date A when subtracting you are subtracting the year across the leap day in 2020, that is 366 days, but adding only 365 days when going in the opposite direction. This causes you to end up 1 day short. For date B you have the same issue when crossing the leap day in 2024."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682334158,"post_id":76090590,"comment_id":134193324,"body_markdown":"The documentation confirms my guess. The operations are implemented by calling [`Period.addTo()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Period.html#addTo(java.time.temporal.Temporal)) and `Period.subtractFrom()`. From the documentation of the former: *... if the months are zero, the years are added if non-zero, otherwise the combination of years and months is added if non-zero. Finally, any days are added.* Same for the latter, it subtracts the year first and finally the days.","body":"The documentation confirms my guess. The operations are implemented by calling <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/Period.html#addTo(java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\"><code>Period.addTo()</code></a> and <code>Period.subtractFrom()</code>. From the documentation of the former: <i>... if the months are zero, the years are added if non-zero, otherwise the combination of years and months is added if non-zero. Finally, any days are added.</i> Same for the latter, it subtracts the year first and finally the days."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682334190,"post_id":76090590,"comment_id":134193337,"body_markdown":"Try it with `Duration` instead","body":"Try it with <code>Duration</code> instead"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682334408,"post_id":76090590,"comment_id":134193384,"body_markdown":"@g00se That does not work. `LocalDate.now().plus(Duration.ofDays(365))` gives *java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds*. A `Duration` is time-based, think hours, minutes, seconds and fraction of second, and hence incompatible with `LocalDate`, which knows only days, months and years.","body":"@g00se That does not work. <code>LocalDate.now().plus(Duration.ofDays(365))</code> gives <i>java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds</i>. A <code>Duration</code> is time-based, think hours, minutes, seconds and fraction of second, and hence incompatible with <code>LocalDate</code>, which knows only days, months and years."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682334678,"post_id":76090590,"comment_id":134193451,"body_markdown":"Right, yes I see","body":"Right, yes I see"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682336299,"post_id":76090590,"comment_id":134193841,"body_markdown":"*Is this a bug or expected?* It surprised me too. On one hand date math is very often not well-defined, and probably other date-time libraries would be more in line with your expectations and mine. For example subtracting the days first and the years and months next would yield consistent results in your example situation, but still not in all situations. I would consider it more correct. On the other hand as I said, your observations agree with the documentation. So if a bug, then a bug in the design/requirements.","body":"<i>Is this a bug or expected?</i> It surprised me too. On one hand date math is very often not well-defined, and probably other date-time libraries would be more in line with your expectations and mine. For example subtracting the days first and the years and months next would yield consistent results in your example situation, but still not in all situations. I would consider it more correct. On the other hand as I said, your observations agree with the documentation. So if a bug, then a bug in the design/requirements."}],"owner":{"account_id":28395680,"reputation":21,"user_id":21720785,"display_name":"Florian"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682329451,"creation_date":1682329451,"question_id":76090590,"body_markdown":"I was experiencing some unexpected behaviors when doing date/time calculations. When it comes to daylight savings or leap years, the order of operations (months/days/hours) does matter, which is rather obvious. But it seems that the operation order is not deterministic when it comes to addition and substraction of java.time.Period?\r\n\r\nTo make more clear what I mean here an example, where I add and substract the same period from a date:\r\n\r\n``` java\r\npublic static void main(String[] args) {\r\n\tPeriod period = Period.ofDays(365).plus(Period.ofYears(1));\r\n\tLocalDate dateA = LocalDate.of(2020, 4, 24);\r\n\tLocalDate dateA2 = dateA.minus(period).plus(period);\r\n\tLocalDate dateA3 = dateA.plus(period).minus(period);\r\n\tSystem.out.println(dateA);\r\n\tSystem.out.println(dateA2);\r\n\tSystem.out.println(dateA3);\r\n\r\n\tSystem.out.println(&quot;---&quot;);\r\n\r\n\tLocalDate dateB = LocalDate.of(2022, 4, 24);\r\n\tLocalDate dateB2 = dateB.minus(period).plus(period);\r\n\tLocalDate dateB3 = dateB.plus(period).minus(period);\r\n\tSystem.out.println(dateB);\r\n\tSystem.out.println(dateB2);\r\n\tSystem.out.println(dateB3);\r\n}\r\n```\r\n\r\nthe output is\r\n\r\n```\r\n2020-04-24\r\n2020-04-23\r\n2020-04-24\r\n---\r\n2022-04-24\r\n2022-04-24\r\n2022-04-23\r\n```\r\n\r\nI was expecting that addition and substraction negate each other, so adding and substracting the same Period would always result in the initial date, but it does not. (It would require to swap the execution order from years/months/days when adding to days/months/years when substracting i assume)\r\n\r\nIs this a bug or expected?","title":"Unexpected behavior when adding and substracting Periods from Dates","body":"<p>I was experiencing some unexpected behaviors when doing date/time calculations. When it comes to daylight savings or leap years, the order of operations (months/days/hours) does matter, which is rather obvious. But it seems that the operation order is not deterministic when it comes to addition and substraction of java.time.Period?</p>\n<p>To make more clear what I mean here an example, where I add and substract the same period from a date:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Period period = Period.ofDays(365).plus(Period.ofYears(1));\n    LocalDate dateA = LocalDate.of(2020, 4, 24);\n    LocalDate dateA2 = dateA.minus(period).plus(period);\n    LocalDate dateA3 = dateA.plus(period).minus(period);\n    System.out.println(dateA);\n    System.out.println(dateA2);\n    System.out.println(dateA3);\n\n    System.out.println(&quot;---&quot;);\n\n    LocalDate dateB = LocalDate.of(2022, 4, 24);\n    LocalDate dateB2 = dateB.minus(period).plus(period);\n    LocalDate dateB3 = dateB.plus(period).minus(period);\n    System.out.println(dateB);\n    System.out.println(dateB2);\n    System.out.println(dateB3);\n}\n</code></pre>\n<p>the output is</p>\n<pre><code>2020-04-24\n2020-04-23\n2020-04-24\n---\n2022-04-24\n2022-04-24\n2022-04-23\n</code></pre>\n<p>I was expecting that addition and substraction negate each other, so adding and substracting the same Period would always result in the initial date, but it does not. (It would require to swap the execution order from years/months/days when adding to days/months/years when substracting i assume)</p>\n<p>Is this a bug or expected?</p>\n"},{"tags":["java","android","express","sockets","socket.io"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681836489,"post_id":76046829,"comment_id":134119815,"body_markdown":"For http protocol on Android 11+ you need to enable clearTextTraffic in application tag of manifest file.","body":"For http protocol on Android 11+ you need to enable clearTextTraffic in application tag of manifest file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681836573,"post_id":76046829,"comment_id":134119831,"body_markdown":"And you use an Android device? Not an emulator?","body":"And you use an Android device? Not an emulator?"},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681938791,"post_id":76046829,"comment_id":134139517,"body_markdown":"@blackapps I used both android device and emulator. After adding `android:usesCleartextTraffic=&quot;true&quot;` line I could see the `user connected! socket id` print on the server. But I could not emit event to the server on connection (I have replaced `System.out.println(&quot;Connected to server!&quot;);`  with `mSocket.emit(&quot;taskFinished&quot;, &quot;message&quot;);` )","body":"@blackapps I used both android device and emulator. After adding <code>android:usesCleartextTraffic=&quot;true&quot;</code> line I could see the <code>user connected! socket id</code> print on the server. But I could not emit event to the server on connection (I have replaced <code>System.out.println(&quot;Connected to server!&quot;);</code>  with <code>mSocket.emit(&quot;taskFinished&quot;, &quot;message&quot;);</code> )"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1681982079,"post_id":76046829,"comment_id":134145183,"body_markdown":"You should not replace that line. Only add a new one.","body":"You should not replace that line. Only add a new one."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681982141,"post_id":76046829,"comment_id":134145195,"body_markdown":"Couldnt you emit() or was the message not received?","body":"Couldnt you emit() or was the message not received?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681982197,"post_id":76046829,"comment_id":134145205,"body_markdown":"If you used both device and emulator then used ip&#39;s should be different. What are you doing?","body":"If you used both device and emulator then used ip&#39;s should be different. What are you doing?"},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681983406,"post_id":76046829,"comment_id":134145484,"body_markdown":"The message is not received on the backend side, I could send it from the android device. I have tried running the client side both on Android and emulator.","body":"The message is not received on the backend side, I could send it from the android device. I have tried running the client side both on Android and emulator."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681983878,"post_id":76046829,"comment_id":134145597,"body_markdown":"Dont repeat yourself if asked which ip&#39;s you used then. Give info. Show what you do.","body":"Dont repeat yourself if asked which ip&#39;s you used then. Give info. Show what you do."},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681983955,"post_id":76046829,"comment_id":134145622,"body_markdown":"I run ipconfig on the cmd, and used the ipv4. Does that answer your question ?","body":"I run ipconfig on the cmd, and used the ipv4. Does that answer your question ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681987687,"post_id":76046829,"comment_id":134146491,"body_markdown":"No. For several reasons. one of them is and i repeat: `If you used both device and emulator then used ip&#39;s should be different.`.","body":"No. For several reasons. one of them is and i repeat: <code>If you used both device and emulator then used ip&#39;s should be different.</code>."},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681987780,"post_id":76046829,"comment_id":134146514,"body_markdown":"And why is that? that IP is the server IP, and the server running locally on the same network, not the device. Shouldn&#39;t it be the same?","body":"And why is that? that IP is the server IP, and the server running locally on the same network, not the device. Shouldn&#39;t it be the same?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681988034,"post_id":76046829,"comment_id":134146586,"body_markdown":"`the server running locally on the same network, not the device.` ???? And where is your emulator running? We have no idea about your setup. On which pc is the server running?","body":"<code>the server running locally on the same network, not the device.</code> ???? And where is your emulator running? We have no idea about your setup. On which pc is the server running?"},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681989053,"post_id":76046829,"comment_id":134146790,"body_markdown":"Both The server and the Android device are running locally on the same network. In order to communicate between the emulator/real device to the server using sockets I needed the address of the server - hence the IP v4 address. Does this make things clear?","body":"Both The server and the Android device are running locally on the same network. In order to communicate between the emulator/real device to the server using sockets I needed the address of the server - hence the IP v4 address. Does this make things clear?"},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681989247,"post_id":76046829,"comment_id":134146841,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253256/discussion-between-tamir-abutbul-and-blackapps).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253256/discussion-between-tamir-abutbul-and-blackapps\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681835424,"post_id":76046943,"comment_id":134119569,"body_markdown":"I have changed my code into catching every exception and tried the tcp:// but it didn&#39;t solve the issue","body":"I have changed my code into catching every exception and tried the tcp:// but it didn&#39;t solve the issue"},{"owner":{"account_id":20597953,"reputation":17,"user_id":15119843,"display_name":"ttng_"},"score":0,"creation_date":1681835634,"post_id":76046943,"comment_id":134119627,"body_markdown":"Did you try to connect to the server with the new URL in Postman? You can also try to open the emulator&#39;s browser and enter the URL to see if it receives response or not, as well. I shouldn&#39;t be asking you to show the IPs that you have, so, you can try to do an ipconfig and try out all the IPs that seems to be reasonable.","body":"Did you try to connect to the server with the new URL in Postman? You can also try to open the emulator&#39;s browser and enter the URL to see if it receives response or not, as well. I shouldn&#39;t be asking you to show the IPs that you have, so, you can try to do an ipconfig and try out all the IPs that seems to be reasonable."},{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1681938691,"post_id":76046943,"comment_id":134139502,"body_markdown":"Yes, using postman everything is working with the new URL. Trying to write the URL to the browser failed (because no SSL over http)","body":"Yes, using postman everything is working with the new URL. Trying to write the URL to the browser failed (because no SSL over http)"}],"tags":[],"owner":{"account_id":20597953,"reputation":17,"user_id":15119843,"display_name":"ttng_"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681835428,"creation_date":1681834998,"answer_id":76046943,"question_id":76046829,"body_markdown":"Can you try to catch all Exception so that any exception would got caught and show the stack trace and error message? It appears to me that you are trying to establish TCP socket, so the URL should be `tcp://`","title":"Cant connect to express server from android app","body":"<p>Can you try to catch all Exception so that any exception would got caught and show the stack trace and error message? It appears to me that you are trying to establish TCP socket, so the URL should be <code>tcp://</code></p>\n"},{"tags":[],"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682329377,"creation_date":1682329377,"answer_id":76090581,"question_id":76046829,"body_markdown":"The solution was to add `android:usesCleartextTraffic=&quot;true&quot;` under the `application` tag in the manifest","title":"Cant connect to express server from android app","body":"<p>The solution was to add <code>android:usesCleartextTraffic=&quot;true&quot;</code> under the <code>application</code> tag in the manifest</p>\n"}],"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76090581,"answer_count":2,"score":1,"last_activity_date":1682329377,"creation_date":1681834324,"question_id":76046829,"body_markdown":"I have a backend written with express and an app with Java for android.\r\n\r\n## Background:\r\n\r\n\r\nI want to create socket communication between the app and the server, but I can&#39;t connect to the server from the app.\r\n\r\nThe backend side is fully tested, and I can send requests from postman and receive data as well.\r\nThis is the code inside the server that handles the socket: \r\n\r\n```js\r\nimport { Server } from &quot;socket.io&quot;;\r\nimport { SOCKET_EVENTS } from &quot;../../constants/socket.js&quot;;\r\nimport { getBlockchainBlock } from &quot;../crypto/crypto.js&quot;;\r\n\r\nconst io = new Server(4000, {\r\n  cors: {\r\n    origin: &quot;*&quot;,\r\n  },\r\n});\r\n\r\nexport const openSocket = () =&gt; {\r\n  io.on(SOCKET_EVENTS.CONNECTION, async (socket) =&gt; {\r\n    console.log(&quot;user connected! socket id:&quot;, socket.id);\r\n\r\n    io.emit(SOCKET_EVENTS.NEW_TASK, {\r\n      data: await getBlockchainBlock(),\r\n    });\r\n\r\n    socket.on(SOCKET_EVENTS.TASK_FINISHED, (data) =&gt; {\r\n      console.log(&quot;User task is done with data:&quot;, data);\r\n    });\r\n\r\n    socket.on(SOCKET_EVENTS.DISCONNECT, () =&gt; {\r\n      console.log(&quot;user disconnected! socket id:&quot;, socket.id);\r\n    });\r\n  });\r\n};\r\n\r\n```\r\n\r\n---\r\n\r\nAndroid side\r\n-\r\n\r\nI added the `socket.io-client` library to the android app: \r\n\r\n```\r\n    implementation (&#39;io.socket:socket.io-client:2.0.0&#39;) {\r\n        exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n    }\r\n```\r\n\r\n\r\nMy attempt to add the socket library in order to communicate with the server: \r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Socket mSocket;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        TextView textView = findViewById(R.id.test);\r\n        textView.setText(&quot;Some test&quot;);\r\n\r\n        Emitter.Listener onNewTask = new Emitter.Listener() {\r\n            @Override\r\n            public void call(final Object... args) {\r\n            }\r\n        };\r\n        Emitter.Listener taskFinished = new Emitter.Listener() {\r\n            @Override\r\n            public void call(final Object... args) {\r\n                mSocket.emit(&quot;taskFinished&quot;, &quot;Task is finished&quot;);\r\n            }\r\n        };\r\n\r\n        try {\r\n            mSocket = IO.socket(&quot;http://ipAddress:4000&quot;);\r\n            mSocket.on(&quot;newTask&quot;, onNewTask);\r\n            mSocket.on(&quot;connection&quot;, new Emitter.Listener() {\r\n                @Override\r\n                public void call(Object... args) {\r\n                    System.out.println(&quot;Connected to server!&quot;);\r\n                }\r\n            });\r\n            mSocket.on(&quot;taskFinished&quot;, taskFinished);\r\n            mSocket.connect();\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n## The problem: \r\n\r\nI cant see the `Connected to server!` print, when I used a debugger to debug the app the `mSocket.connect();` line was called but there was never a connection.\r\nIn addition - I can see in the backend prints for new connection when trying it via postman, but nothing shows when running the android code (seems like there is no connection)\r\n\r\n### Getting the IP address\r\n\r\nThe server is sitting on `http://localhost:4000`, according to [this thread](https://stackoverflow.com/questions/4779963/how-can-i-access-my-localhost-from-my-android-device) I needed to replace `localhost` with the IP address. \r\n\r\nTo do so I opened up cmd and run the `ipconfig` command and replaced `localhost` with `IPv4 Address`\r\n\r\n## Extra info\r\n\r\n\r\n\r\nThose are the constants names I am using inside the server:\r\n\r\n```js\r\nexport const SOCKET_EVENTS = {\r\n  CONNECTION: &quot;connection&quot;,\r\n  NEW_TASK: &quot;newTask&quot;,\r\n  TASK_FINISHED: &quot;taskFinished&quot;,\r\n  DISCONNECT: &quot;disconnect&quot;,\r\n};\r\n```\r\n\r\n","title":"Cant connect to express server from android app","body":"<p>I have a backend written with express and an app with Java for android.</p>\n<h2>Background:</h2>\n<p>I want to create socket communication between the app and the server, but I can't connect to the server from the app.</p>\n<p>The backend side is fully tested, and I can send requests from postman and receive data as well.\nThis is the code inside the server that handles the socket:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Server } from &quot;socket.io&quot;;\nimport { SOCKET_EVENTS } from &quot;../../constants/socket.js&quot;;\nimport { getBlockchainBlock } from &quot;../crypto/crypto.js&quot;;\n\nconst io = new Server(4000, {\n  cors: {\n    origin: &quot;*&quot;,\n  },\n});\n\nexport const openSocket = () =&gt; {\n  io.on(SOCKET_EVENTS.CONNECTION, async (socket) =&gt; {\n    console.log(&quot;user connected! socket id:&quot;, socket.id);\n\n    io.emit(SOCKET_EVENTS.NEW_TASK, {\n      data: await getBlockchainBlock(),\n    });\n\n    socket.on(SOCKET_EVENTS.TASK_FINISHED, (data) =&gt; {\n      console.log(&quot;User task is done with data:&quot;, data);\n    });\n\n    socket.on(SOCKET_EVENTS.DISCONNECT, () =&gt; {\n      console.log(&quot;user disconnected! socket id:&quot;, socket.id);\n    });\n  });\n};\n\n</code></pre>\n<hr />\n<h2>Android side</h2>\n<p>I added the <code>socket.io-client</code> library to the android app:</p>\n<pre><code>    implementation ('io.socket:socket.io-client:2.0.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n</code></pre>\n<p>My attempt to add the socket library in order to communicate with the server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    Socket mSocket;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView textView = findViewById(R.id.test);\n        textView.setText(&quot;Some test&quot;);\n\n        Emitter.Listener onNewTask = new Emitter.Listener() {\n            @Override\n            public void call(final Object... args) {\n            }\n        };\n        Emitter.Listener taskFinished = new Emitter.Listener() {\n            @Override\n            public void call(final Object... args) {\n                mSocket.emit(&quot;taskFinished&quot;, &quot;Task is finished&quot;);\n            }\n        };\n\n        try {\n            mSocket = IO.socket(&quot;http://ipAddress:4000&quot;);\n            mSocket.on(&quot;newTask&quot;, onNewTask);\n            mSocket.on(&quot;connection&quot;, new Emitter.Listener() {\n                @Override\n                public void call(Object... args) {\n                    System.out.println(&quot;Connected to server!&quot;);\n                }\n            });\n            mSocket.on(&quot;taskFinished&quot;, taskFinished);\n            mSocket.connect();\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<h2>The problem:</h2>\n<p>I cant see the <code>Connected to server!</code> print, when I used a debugger to debug the app the <code>mSocket.connect();</code> line was called but there was never a connection.\nIn addition - I can see in the backend prints for new connection when trying it via postman, but nothing shows when running the android code (seems like there is no connection)</p>\n<h3>Getting the IP address</h3>\n<p>The server is sitting on <code>http://localhost:4000</code>, according to <a href=\"https://stackoverflow.com/questions/4779963/how-can-i-access-my-localhost-from-my-android-device\">this thread</a> I needed to replace <code>localhost</code> with the IP address.</p>\n<p>To do so I opened up cmd and run the <code>ipconfig</code> command and replaced <code>localhost</code> with <code>IPv4 Address</code></p>\n<h2>Extra info</h2>\n<p>Those are the constants names I am using inside the server:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export const SOCKET_EVENTS = {\n  CONNECTION: &quot;connection&quot;,\n  NEW_TASK: &quot;newTask&quot;,\n  TASK_FINISHED: &quot;taskFinished&quot;,\n  DISCONNECT: &quot;disconnect&quot;,\n};\n</code></pre>\n"},{"tags":["java","cucumber","scenarios"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1619716620,"post_id":67314856,"comment_id":118996209,"body_markdown":"Can&#39;t you get the Scenario object via dependency injection to your step definition class? I know you can configure a DI framework for cucumber. I just don&#39;t have much experience in Java, that&#39;s all.","body":"Can&#39;t you get the Scenario object via dependency injection to your step definition class? I know you can configure a DI framework for cucumber. I just don&#39;t have much experience in Java, that&#39;s all."},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1619716673,"post_id":67314856,"comment_id":118996223,"body_markdown":"See https://cucumber.io/docs/cucumber/state/#dependency-injection","body":"See <a href=\"https://cucumber.io/docs/cucumber/state/#dependency-injection\" rel=\"nofollow noreferrer\">cucumber.io/docs/cucumber/state/#dependency-injection</a>"},{"owner":{"account_id":2393602,"reputation":3892,"user_id":2092927,"accept_rate":35,"display_name":"Čamo"},"score":0,"creation_date":1619717832,"post_id":67314856,"comment_id":118996766,"body_markdown":"Thanks I thing I know what you mean. Don&#39;t know if I am able to implement it.","body":"Thanks I thing I know what you mean. Don&#39;t know if I am able to implement it."}],"answers":[{"comments":[{"owner":{"account_id":2393602,"reputation":3892,"user_id":2092927,"accept_rate":35,"display_name":"Čamo"},"score":0,"creation_date":1619715854,"post_id":67315869,"comment_id":118995898,"body_markdown":"@AfterStep is too late.","body":"@AfterStep is too late."}],"tags":[],"owner":{"account_id":9142974,"reputation":460,"user_id":6800247,"display_name":"Luke Hill"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619693351,"creation_date":1619693351,"answer_id":67315869,"question_id":67314856,"body_markdown":"If you want access to the scenario object, your best bet is an AfterStep hook. However this is **not** supported in all flavours of cucumber. Your best bet is to check the docs or API documentation for your language","title":"Is it possible to get scenario inside the step in Cucumber?","body":"<p>If you want access to the scenario object, your best bet is an AfterStep hook. However this is <strong>not</strong> supported in all flavours of cucumber. Your best bet is to check the docs or API documentation for your language</p>\n"},{"tags":[],"owner":{"account_id":9585656,"reputation":51,"user_id":7118534,"display_name":"Jebus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682329202,"creation_date":1682329202,"answer_id":76090555,"question_id":67314856,"body_markdown":"Here you can find a simple DI (PicoContainer) example to access the Scenario from each step.\r\n\r\nhttps://www.linkedin.com/pulse/sharing-scenario-context-between-cucumber-step-using-dependency?trk=pulse-article_more-articles_related-content-card","title":"Is it possible to get scenario inside the step in Cucumber?","body":"<p>Here you can find a simple DI (PicoContainer) example to access the Scenario from each step.</p>\n<p><a href=\"https://www.linkedin.com/pulse/sharing-scenario-context-between-cucumber-step-using-dependency?trk=pulse-article_more-articles_related-content-card\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/sharing-scenario-context-between-cucumber-step-using-dependency?trk=pulse-article_more-articles_related-content-card</a></p>\n"}],"owner":{"account_id":2393602,"reputation":3892,"user_id":2092927,"accept_rate":35,"display_name":"Čamo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682329202,"creation_date":1619689324,"question_id":67314856,"body_markdown":"I need to make screenshot inside the step on specific place. It means not on @BeforeStep nor on @AfterStep. I need to call\r\n\r\n    // public void someStep(Scenario scenario)  // This does not work\r\n\r\n    public void someStep()\r\n    {\r\n        page.openUrl();\r\n        scenario.attach(screenshot(), &quot;image/png&quot;, fileName1);\r\n        page.doSomething();\r\n        scenario.attach(screenshot(), &quot;image/png&quot;, fileName2);\r\n        page.doSomethingElse();\r\n    }\r\n\r\nBut I am not able to get current scenario related to the step execution. Is it possible or not? I tried to call it like someStep(Scenarion scenario) but it throws an error.  ","title":"Is it possible to get scenario inside the step in Cucumber?","body":"<p>I need to make screenshot inside the step on specific place. It means not on @BeforeStep nor on @AfterStep. I need to call</p>\n<pre><code>// public void someStep(Scenario scenario)  // This does not work\n\npublic void someStep()\n{\n    page.openUrl();\n    scenario.attach(screenshot(), &quot;image/png&quot;, fileName1);\n    page.doSomething();\n    scenario.attach(screenshot(), &quot;image/png&quot;, fileName2);\n    page.doSomethingElse();\n}\n</code></pre>\n<p>But I am not able to get current scenario related to the step execution. Is it possible or not? I tried to call it like someStep(Scenarion scenario) but it throws an error.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682328708,"post_id":76090467,"comment_id":134192190,"body_markdown":"Theoretically you could implement `FilterWriter` but without knowing the *specifics* of what you&#39;re wanting to do I can&#39;t really say more at this point","body":"Theoretically you could implement <code>FilterWriter</code> but without knowing the <i>specifics</i> of what you&#39;re wanting to do I can&#39;t really say more at this point"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1682329071,"post_id":76090467,"comment_id":134192272,"body_markdown":"This would definitely become much more manageable if you restrict it to some subset of regex (or even use some alternate wildcarding). Do you really need the full power of regex for this? Even just limiting regex to match within a single line would help limit the buffer size (but not if there are &quot;infinite length&quot; lines in the stream).","body":"This would definitely become much more manageable if you restrict it to some subset of regex (or even use some alternate wildcarding). Do you really need the full power of regex for this? Even just limiting regex to match within a single line would help limit the buffer size (but not if there are &quot;infinite length&quot; lines in the stream)."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1682329327,"post_id":76090467,"comment_id":134192340,"body_markdown":"[This question is very similar](https://stackoverflow.com/questions/3013669/performing-regex-on-a-stream).","body":"<a href=\"https://stackoverflow.com/questions/3013669/performing-regex-on-a-stream\">This question is very similar</a>."}],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682328513,"creation_date":1682328513,"question_id":76090467,"body_markdown":"As characters are written to a [`java.io.Writer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Writer.html) I want to apply a regular expression to replace certain characters.\r\n\r\nI don&#39;t want to buffer the whole thing into memory, it could be very big and it&#39;s performance sensitive.\r\n\r\nI&#39;m trying with a moving [`CharBuffer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html) and a [Pattern](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html), but the problem is that _any_ sizing or flushing of the `CharBuffer` short of the entire character stream may be incorrect.\r\n\r\nCan a `Pattern` know what index in a `CharSequence` is the latest where it could never `find`, even with more input? e.g. given a regex `[ab]c` and an input `ab` the index of `a` is the last spot that could never find, so it should be safe to flush `a`, but I still need `b` because the next character might be `c`. I&#39;ve played with [`Matcher.hitEnd()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#hitEnd()) and [`Matcher.requireEnd()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#requireEnd()) to try and achieve this, but they don&#39;t give me enough info to know what bit is safe to flush.\r\n\r\nI&#39;m wondering if, given the power of regular expressions, this is actually a provably unsolvable problem and I just don&#39;t know it...","title":"How can I decorate a java.io.Writer to do a regex find &amp; replace as characters are written to it?","body":"<p>As characters are written to a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Writer.html\" rel=\"nofollow noreferrer\"><code>java.io.Writer</code></a> I want to apply a regular expression to replace certain characters.</p>\n<p>I don't want to buffer the whole thing into memory, it could be very big and it's performance sensitive.</p>\n<p>I'm trying with a moving <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html\" rel=\"nofollow noreferrer\"><code>CharBuffer</code></a> and a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a>, but the problem is that <em>any</em> sizing or flushing of the <code>CharBuffer</code> short of the entire character stream may be incorrect.</p>\n<p>Can a <code>Pattern</code> know what index in a <code>CharSequence</code> is the latest where it could never <code>find</code>, even with more input? e.g. given a regex <code>[ab]c</code> and an input <code>ab</code> the index of <code>a</code> is the last spot that could never find, so it should be safe to flush <code>a</code>, but I still need <code>b</code> because the next character might be <code>c</code>. I've played with <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#hitEnd()\" rel=\"nofollow noreferrer\"><code>Matcher.hitEnd()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#requireEnd()\" rel=\"nofollow noreferrer\"><code>Matcher.requireEnd()</code></a> to try and achieve this, but they don't give me enough info to know what bit is safe to flush.</p>\n<p>I'm wondering if, given the power of regular expressions, this is actually a provably unsolvable problem and I just don't know it...</p>\n"},{"tags":["java","tomcat","liferay","osgi","osgi-bundle"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1671194968,"post_id":74824655,"comment_id":132052130,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask]: _Just_ the error message without steps to reproduce doesn&#39;t really provide good basis to help you fix the problem.","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>: <i>Just</i> the error message without steps to reproduce doesn&#39;t really provide good basis to help you fix the problem."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1671207323,"post_id":74824655,"comment_id":132056502,"body_markdown":"You&#39;re mentioning _&quot;the frontend app&quot;_: Is that your custom code? Please provide a [mcve] (and thank you for replacing the image with text)","body":"You&#39;re mentioning <i>&quot;the frontend app&quot;</i>: Is that your custom code? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (and thank you for replacing the image with text)"}],"answers":[{"tags":[],"owner":{"account_id":2971961,"reputation":502,"user_id":2523836,"accept_rate":67,"display_name":"Jan Tosovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681716665,"creation_date":1681716665,"answer_id":76032662,"question_id":74824655,"body_markdown":"There is a timeout mentioned in the error message. You can increase the timeout in Control Panel &gt; System Settings &gt; Infrastructure &gt; JavaScript Loader &gt; Module Definition Timeout. It is 7 seconds by default. But it would be better to reduce the size of your javascript app.","title":"Liferay: amd-loader error, require() call has failed","body":"<p>There is a timeout mentioned in the error message. You can increase the timeout in Control Panel &gt; System Settings &gt; Infrastructure &gt; JavaScript Loader &gt; Module Definition Timeout. It is 7 seconds by default. But it would be better to reduce the size of your javascript app.</p>\n"}],"owner":{"account_id":27261958,"reputation":1,"user_id":20784657,"display_name":"lrzzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682328411,"creation_date":1671194821,"question_id":74824655,"body_markdown":"After a server restart the frontend app started throwing some errors and can&#39;t find any document that is useful for this issue.\r\n\r\nThese errors were thrown in the console as javascript errors\r\n\r\n    liferay-amd-loader | A require() call has failed but no failure handler was provided. Note that even if the call stack of this error trace looks like coming from the Liferay AMD Loader, it is not an error in the Loader what has caused it, but an error caused by the require() call. The reason why the Loader is in the stack trace is because it is printing the error so that it doesn&#39;t get lost.However, we recommend providing a failure handler in all require() calls to be able to recover from errors better and to avoid the appearance of this message.\r\n\r\nSome information about the require() call follows:\r\n   &#183; Require call id: 0 \r\n   &#183; Required modules: \r\n\r\n\r\n    [\r\n    &quot;portal-template-react-renderer-impl@4.0.7/render.es&quot;,\r\n    &quot;product-navigation-applications-menu@1.0.2/js/ApplicationsMenu&quot;,\r\n    &quot;metal-dom/src/all/dom&quot;,\r\n    &quot;portal-template-react-renderer-impl@4.0.7/render.es&quot;,\r\n    &quot;frontend-taglib-clay@5.0.3/DropdownMenu&quot;\r\n    ]\r\n\r\n     Error: Load timeout for modules: portal-template-react-renderer-impl@4.0.7/render.es,product-navigation-applications-menu@1.0.2/js/ApplicationsMenu,metal-dom/src/all/dom,portal-template-react-renderer-impl@4.0.7/render.es,frontend-taglib-clay@5.0.3/DropdownMenu\r\n    at combo?browserId=chrome&amp;minifierType=js&amp;languageId=en_US&amp;b=7304&amp;t=1637093660756&amp;/o/frontend-js-aui-web/aui/widget-stdmod/widget-stdmod.js&amp;/o/frontend-js-aui-web/aui/aui-aria/aui-aria.js&amp;/o/frontend-js-aui-web/aui/aui-io-plugin-deprecated/aui-io-plugin-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-io-request/aui-io-request.js&amp;/o/frontend-js-aui-web/aui/aui-loading-mask-deprecated/aui-loading-mask-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-base-deprecated/aui-overlay-base-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-context-deprecated/aui-overlay-context-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-manager-deprecated/aui-overlay-manager-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-mask-deprecated/aui-overlay-mask-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-parse-content/aui-parse-content.js&amp;/o/frontend-js-aui-web/liferay/session.js&amp;/o/frontend-js-aui-web/liferay/deprecated.js&amp;/o/frontend-js-web/loader/config.js&amp;/o/frontend-js-web/loader/loader.js&amp;/o/frontend-js-web/misc/svg4everybody.js&amp;/o/frontend-js-web/liferay/dom_task_runner.js&amp;/o/frontend-js-web/liferay/events.js&amp;/o/frontend-js-web/liferay/lazy_load.js&amp;/o/frontend-js-web/liferay/liferay.js&amp;/o/frontend-js-web/liferay/global.bundle.js&amp;/o/frontend-js-web/liferay/portlet.js&amp;/o/frontend-js-web/liferay/workflow.js:146:489\r\n\r\nI&#39;m using Liferay Community Edition Portal 7.3.4 CE GA5 and the site was working before the restart, so I assume I left out one step or something.\r\nDid anyone else ran into this?\r\nThanks in advance","title":"Liferay: amd-loader error, require() call has failed","body":"<p>After a server restart the frontend app started throwing some errors and can't find any document that is useful for this issue.</p>\n<p>These errors were thrown in the console as javascript errors</p>\n<pre><code>liferay-amd-loader | A require() call has failed but no failure handler was provided. Note that even if the call stack of this error trace looks like coming from the Liferay AMD Loader, it is not an error in the Loader what has caused it, but an error caused by the require() call. The reason why the Loader is in the stack trace is because it is printing the error so that it doesn't get lost.However, we recommend providing a failure handler in all require() calls to be able to recover from errors better and to avoid the appearance of this message.\n</code></pre>\n<p>Some information about the require() call follows:\n· Require call id: 0\n· Required modules:</p>\n<pre><code>[\n&quot;portal-template-react-renderer-impl@4.0.7/render.es&quot;,\n&quot;product-navigation-applications-menu@1.0.2/js/ApplicationsMenu&quot;,\n&quot;metal-dom/src/all/dom&quot;,\n&quot;portal-template-react-renderer-impl@4.0.7/render.es&quot;,\n&quot;frontend-taglib-clay@5.0.3/DropdownMenu&quot;\n]\n\n Error: Load timeout for modules: portal-template-react-renderer-impl@4.0.7/render.es,product-navigation-applications-menu@1.0.2/js/ApplicationsMenu,metal-dom/src/all/dom,portal-template-react-renderer-impl@4.0.7/render.es,frontend-taglib-clay@5.0.3/DropdownMenu\nat combo?browserId=chrome&amp;minifierType=js&amp;languageId=en_US&amp;b=7304&amp;t=1637093660756&amp;/o/frontend-js-aui-web/aui/widget-stdmod/widget-stdmod.js&amp;/o/frontend-js-aui-web/aui/aui-aria/aui-aria.js&amp;/o/frontend-js-aui-web/aui/aui-io-plugin-deprecated/aui-io-plugin-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-io-request/aui-io-request.js&amp;/o/frontend-js-aui-web/aui/aui-loading-mask-deprecated/aui-loading-mask-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-base-deprecated/aui-overlay-base-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-context-deprecated/aui-overlay-context-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-manager-deprecated/aui-overlay-manager-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-overlay-mask-deprecated/aui-overlay-mask-deprecated.js&amp;/o/frontend-js-aui-web/aui/aui-parse-content/aui-parse-content.js&amp;/o/frontend-js-aui-web/liferay/session.js&amp;/o/frontend-js-aui-web/liferay/deprecated.js&amp;/o/frontend-js-web/loader/config.js&amp;/o/frontend-js-web/loader/loader.js&amp;/o/frontend-js-web/misc/svg4everybody.js&amp;/o/frontend-js-web/liferay/dom_task_runner.js&amp;/o/frontend-js-web/liferay/events.js&amp;/o/frontend-js-web/liferay/lazy_load.js&amp;/o/frontend-js-web/liferay/liferay.js&amp;/o/frontend-js-web/liferay/global.bundle.js&amp;/o/frontend-js-web/liferay/portlet.js&amp;/o/frontend-js-web/liferay/workflow.js:146:489\n</code></pre>\n<p>I'm using Liferay Community Edition Portal 7.3.4 CE GA5 and the site was working before the restart, so I assume I left out one step or something.\nDid anyone else ran into this?\nThanks in advance</p>\n"},{"tags":["java","temporary-files"],"answers":[{"tags":[],"owner":{"account_id":64011,"reputation":9363,"user_id":189186,"accept_rate":91,"display_name":"Irfy"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1331086670,"creation_date":1331086670,"answer_id":9594907,"question_id":9594886,"body_markdown":"If you want files with specific names created in the system-wide temporary directory, then expand the `%temp%` environment variable and create the file manually, nothing wrong with that.\r\n\r\nEdit: Actually, use `System.getProperty(&quot;java.io.tmpdir&quot;));` for that.","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>If you want files with specific names created in the system-wide temporary directory, then expand the <code>%temp%</code> environment variable and create the file manually, nothing wrong with that.</p>\n\n<p>Edit: Actually, use <code>System.getProperty(\"java.io.tmpdir\"));</code> for that.</p>\n"},{"comments":[{"owner":{"account_id":287407,"reputation":11529,"user_id":587196,"accept_rate":67,"display_name":"Larry"},"score":5,"creation_date":1369670309,"post_id":9594927,"comment_id":24172710,"body_markdown":"Will all of these manually created files automatically be deleted upon exit? (I assume so, but just to make sure, if someone could confirm).","body":"Will all of these manually created files automatically be deleted upon exit? (I assume so, but just to make sure, if someone could confirm)."},{"owner":{"account_id":1106919,"reputation":406,"user_id":1098151,"display_name":"JohnK"},"score":7,"creation_date":1400163564,"post_id":9594927,"comment_id":36382439,"body_markdown":"Just to note that if you do this, you are not using File.createTempFile, but some other way of creating the file.","body":"Just to note that if you do this, you are not using File.createTempFile, but some other way of creating the file."}],"tags":[],"owner":{"account_id":1110523,"reputation":30282,"user_id":1101070,"display_name":"Marvin Pinto"},"comment_count":2,"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1331086819,"creation_date":1331086819,"answer_id":9594927,"question_id":9594886,"body_markdown":"First, use the following snippet to get the system&#39;s temp directory:\r\n\r\n    String tDir = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\r\nThen use the `tDir` variable in conjunction with your `tempFiles[]` array to create each file individually.","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>First, use the following snippet to get the system's temp directory:</p>\n\n<pre><code>String tDir = System.getProperty(\"java.io.tmpdir\");\n</code></pre>\n\n<p>Then use the <code>tDir</code> variable in conjunction with your <code>tempFiles[]</code> array to create each file individually.</p>\n"},{"tags":[],"owner":{"account_id":51330,"reputation":10190,"user_id":551899,"accept_rate":89,"display_name":"jmq"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1331087429,"creation_date":1331087429,"answer_id":9595010,"question_id":9594886,"body_markdown":"You can&#39;t if you use `File.createTempFile` to generate a temporary file name.  I looked at the java source for generating a temp file (for java 1.7, you didn&#39;t state your version so I just used mine):\r\n\r\n    private static class TempDirectory {\r\n        private TempDirectory() { }\r\n\r\n        // temporary directory location\r\n        private static final File tmpdir = new File(fs.normalize(AccessController\r\n            .doPrivileged(new GetPropertyAction(&quot;java.io.tmpdir&quot;))));\r\n        static File location() {\r\n            return tmpdir;\r\n        }\r\n\r\n        // file name generation\r\n        private static final SecureRandom random = new SecureRandom();\r\n        static File generateFile(String prefix, String suffix, File dir) {\r\n            long n = random.nextLong();\r\n            if (n == Long.MIN_VALUE) {\r\n                n = 0;      // corner case\r\n            } else {\r\n                n = Math.abs(n);\r\n            }\r\n            return new File(dir, prefix + Long.toString(n) + suffix);\r\n        }\r\n    }\r\n\r\nThis is the code in the java JDK that generates the temp file name.  You can see that it generates a random number and inserts it into your file name between your prefix and suffix.  This is in &quot;File.java&quot; (in java.io).  I did not see any way to change that.","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>You can't if you use <code>File.createTempFile</code> to generate a temporary file name.  I looked at the java source for generating a temp file (for java 1.7, you didn't state your version so I just used mine):</p>\n\n<pre><code>private static class TempDirectory {\n    private TempDirectory() { }\n\n    // temporary directory location\n    private static final File tmpdir = new File(fs.normalize(AccessController\n        .doPrivileged(new GetPropertyAction(\"java.io.tmpdir\"))));\n    static File location() {\n        return tmpdir;\n    }\n\n    // file name generation\n    private static final SecureRandom random = new SecureRandom();\n    static File generateFile(String prefix, String suffix, File dir) {\n        long n = random.nextLong();\n        if (n == Long.MIN_VALUE) {\n            n = 0;      // corner case\n        } else {\n            n = Math.abs(n);\n        }\n        return new File(dir, prefix + Long.toString(n) + suffix);\n    }\n}\n</code></pre>\n\n<p>This is the code in the java JDK that generates the temp file name.  You can see that it generates a random number and inserts it into your file name between your prefix and suffix.  This is in \"File.java\" (in java.io).  I did not see any way to change that.</p>\n"},{"comments":[{"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"score":2,"creation_date":1516896721,"post_id":19904109,"comment_id":83886857,"body_markdown":"Downvote. The call to `temp.exists()` introduces a race condition that `temp.createNewFile()` was specifically designed to avoid. Just check the return value of `temp.createNewFile()`. Read the specification of `createNewFile()`. The important word is *atomic*. https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile%28%29","body":"Downvote. The call to <code>temp.exists()</code> introduces a race condition that <code>temp.createNewFile()</code> was specifically designed to avoid. Just check the return value of <code>temp.createNewFile()</code>. Read the specification of <code>createNewFile()</code>. The important word is <i>atomic</i>. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>"}],"tags":[],"owner":{"account_id":2329234,"reputation":149,"user_id":2043042,"accept_rate":33,"display_name":"Junaid Awan"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1463774167,"creation_date":1384165880,"answer_id":19904109,"question_id":9594886,"body_markdown":"Custom names can be saved as follows\r\n\r\n    File temp=new File(tempFile, &quot;.xls&quot;);\r\n\tif (!temp.exists()) {\r\n\t\ttemp.createNewFile();\r\n\t}","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>Custom names can be saved as follows</p>\n\n<pre><code>File temp=new File(tempFile, \".xls\");\nif (!temp.exists()) {\n    temp.createNewFile();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":0,"creation_date":1510290234,"post_id":24581075,"comment_id":81381296,"body_markdown":"Thanks for saving my day!","body":"Thanks for saving my day!"},{"owner":{"account_id":2440556,"reputation":739,"user_id":2129212,"accept_rate":44,"display_name":"Swapnil B."},"score":0,"creation_date":1532384454,"post_id":24581075,"comment_id":89944844,"body_markdown":"You are a rockstar :)","body":"You are a rockstar :)"},{"owner":{"account_id":15101337,"reputation":115,"user_id":10898235,"display_name":"Tyler M."},"score":0,"creation_date":1583010406,"post_id":24581075,"comment_id":106975226,"body_markdown":"Thank you! This is what I needed.","body":"Thank you! This is what I needed."},{"owner":{"account_id":7193224,"reputation":634,"user_id":5492826,"accept_rate":25,"display_name":"emrekgn"},"score":2,"creation_date":1629893565,"post_id":24581075,"comment_id":121806668,"body_markdown":"It appears this is deprecated. Guava now recommends using `java.nio.file.Files` to create a tmp dir. See [here](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/io/Files.html#createTempDir()) for more info.","body":"It appears this is deprecated. Guava now recommends using <code>java.nio.file.Files</code> to create a tmp dir. See <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/io/Files.html#createTempDir()\" rel=\"nofollow noreferrer\">here</a> for more info."}],"tags":[],"owner":{"account_id":1718893,"reputation":1816,"user_id":1575348,"accept_rate":75,"display_name":"Brad Johnson"},"comment_count":4,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1510328725,"creation_date":1404510661,"answer_id":24581075,"question_id":9594886,"body_markdown":"Using [Guava][1]:\r\n\r\n\r\n    import com.google.common.io.Files;\r\n    \r\n    ...\r\n    \r\n    File myTempFile = new File(Files.createTempDir(), &quot;MySpecificName.png&quot;);\r\n\r\n\r\n  [1]: https://github.com/google/guava &quot;Guava&quot;","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>Using <a href=\"https://github.com/google/guava\" rel=\"noreferrer\" title=\"Guava\">Guava</a>:</p>\n\n<pre><code>import com.google.common.io.Files;\n\n...\n\nFile myTempFile = new File(Files.createTempDir(), \"MySpecificName.png\");\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6186835"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504844936,"creation_date":1488332673,"answer_id":42521766,"question_id":9594886,"body_markdown":"You can create a temp directory then store new files in it. This way all of the new files you add won&#39;t have a random extension to it. When you&#39;re done all you have to do is delete the temp directory you added.\r\n\r\n    public static File createTempFile(String prefix, String suffix) {\t\t\r\n\t\tFile parent = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\t\r\n\t\t\r\n\t\tFile temp = new File(parent, prefix + suffix);\r\n\t\t\r\n\t\tif (temp.exists()) {\r\n\t\t\ttemp.delete();\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\ttemp.createNewFile();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn temp;\r\n\t}\r\n\r\n\t\r\n\tpublic static File createTempDirectory(String fileName) {\t\t\r\n\t\tFile parent = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\t\r\n\t\t\r\n\t\tFile temp = new File(parent, fileName);\r\n\t\t\r\n\t\tif (temp.exists()) {\r\n\t\t\ttemp.delete();\r\n\t\t}\r\n\t\t\r\n\t\ttemp.mkdir();\r\n\t\t\r\n\t\treturn temp;\r\n\t}","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>You can create a temp directory then store new files in it. This way all of the new files you add won't have a random extension to it. When you're done all you have to do is delete the temp directory you added.</p>\n\n<pre><code>public static File createTempFile(String prefix, String suffix) {       \n    File parent = new File(System.getProperty(\"java.io.tmpdir\"));   \n\n    File temp = new File(parent, prefix + suffix);\n\n    if (temp.exists()) {\n        temp.delete();\n    }\n\n    try {\n        temp.createNewFile();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n\n    return temp;\n}\n\n\npublic static File createTempDirectory(String fileName) {       \n    File parent = new File(System.getProperty(\"java.io.tmpdir\"));   \n\n    File temp = new File(parent, fileName);\n\n    if (temp.exists()) {\n        temp.delete();\n    }\n\n    temp.mkdir();\n\n    return temp;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7539816,"reputation":1938,"user_id":5724824,"accept_rate":59,"display_name":"SANM2009"},"score":3,"creation_date":1520506871,"post_id":49171364,"comment_id":85347921,"body_markdown":"Adding some explanation for the code would be helpful for the OP.","body":"Adding some explanation for the code would be helpful for the OP."},{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":1,"creation_date":1520509472,"post_id":49171364,"comment_id":85349447,"body_markdown":"Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation [would greatly improve](//meta.stackexchange.com/q/114762) its long-term value by showing *why* this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please [edit] your answer to add some explanation, including the assumptions you&#39;ve made.","body":"Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its long-term value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please <a href=\"https://stackoverflow.com/posts/49171364/edit\">edit</a> your answer to add some explanation, including the assumptions you&#39;ve made."}],"tags":[],"owner":{"account_id":12476106,"reputation":1,"user_id":9082413,"display_name":"Ambikesh Kumar Shukla"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520506412,"creation_date":1520506412,"answer_id":49171364,"question_id":9594886,"body_markdown":"    public static File createTempDirectory(String dirName) {\r\n            File baseDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n            File tempDir = new File(baseDir, dirName);\r\n            if (tempDir.mkdir()) {\r\n              return tempDir;\r\n            }\r\n            return null;\r\n    }","title":"How to create a temp file in java without the random number appended to the filename?","body":"<pre><code>public static File createTempDirectory(String dirName) {\n        File baseDir = new File(System.getProperty(\"java.io.tmpdir\"));\n        File tempDir = new File(baseDir, dirName);\n        if (tempDir.mkdir()) {\n          return tempDir;\n        }\n        return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14895358,"reputation":41,"user_id":13651801,"display_name":"Bhisham Udasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623661463,"creation_date":1623661463,"answer_id":67967517,"question_id":9594886,"body_markdown":"Just putting up the option here: \r\nIf someone anyhow need to use createTempFile method, you can do create a temp file and rename it using Files.move option:\r\n\r\n```\r\nfinal Path path = Files.createTempFile(fileName, &quot;.xls&quot;);\r\nFiles.move(path, path.resolveSibling(fileName));\r\n```","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>Just putting up the option here:\nIf someone anyhow need to use createTempFile method, you can do create a temp file and rename it using Files.move option:</p>\n<pre><code>final Path path = Files.createTempFile(fileName, &quot;.xls&quot;);\nFiles.move(path, path.resolveSibling(fileName));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23937595,"reputation":26,"user_id":17931149,"display_name":"Borys Draus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682328152,"creation_date":1682328152,"answer_id":76090423,"question_id":9594886,"body_markdown":"In my case with create *.img file in Android app:\r\n\r\nInstead:\r\n\r\n    private File createImageFileWithRandomSufix() throws IOException {\r\n        String photoName = &quot;photo_1&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File image = File.createTempFile(photoName, &quot;.jpg&quot;, storageDir);\r\n        return image;\r\n    }\r\n\r\nUse this:\r\n\r\n    private File createImageFileWithoutRandomSufix() throws IOException {\r\n        String photoName = &quot;photo_1&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File image = new File(storageDir + &quot;/&quot; + photoName + &quot;.jpg&quot;);\r\n        return image;\r\n    }\r\n\r\n","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>In my case with create *.img file in Android app:</p>\n<p>Instead:</p>\n<pre><code>private File createImageFileWithRandomSufix() throws IOException {\n    String photoName = &quot;photo_1&quot;;\n    File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n    File image = File.createTempFile(photoName, &quot;.jpg&quot;, storageDir);\n    return image;\n}\n</code></pre>\n<p>Use this:</p>\n<pre><code>private File createImageFileWithoutRandomSufix() throws IOException {\n    String photoName = &quot;photo_1&quot;;\n    File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n    File image = new File(storageDir + &quot;/&quot; + photoName + &quot;.jpg&quot;);\n    return image;\n}\n</code></pre>\n"}],"owner":{"account_id":1304350,"reputation":585,"user_id":1253626,"display_name":"RT_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81882,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":9594927,"answer_count":9,"score":56,"last_activity_date":1682328152,"creation_date":1331086433,"question_id":9594886,"body_markdown":"I need to create a temp file, so I tried this:\r\n\r\n    String[] TempFiles = {&quot;c1234c10&quot;,&quot;c1234c11&quot;,&quot;c1234c12&quot;,&quot;c1234c13&quot;};\r\n    for (int i = 0; i &lt;= 3; i++) {\r\n        try {\r\n            String tempFile = TempFiles[i]; \r\n            File temp = File.createTempFile(tempFile, &quot;.xls&quot;); \r\n  \t        System.out.println(&quot;Temp file : &quot; + temp.getAbsolutePath());\r\n        } catch (IOException e) {\r\n\t        e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThe output is something like this:\r\n\r\n     Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c108415816200650069233.xls\r\n     Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c113748833645638701089.xls\r\n     Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c126104766829220422260.xls\r\n     Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c137493179265536640669.xls\r\n\r\nNow, I don&#39;t want the extra numbers (long int) which is getting added to the file name. How can I achieve that? Thanks ","title":"How to create a temp file in java without the random number appended to the filename?","body":"<p>I need to create a temp file, so I tried this:</p>\n\n<pre><code>String[] TempFiles = {\"c1234c10\",\"c1234c11\",\"c1234c12\",\"c1234c13\"};\nfor (int i = 0; i &lt;= 3; i++) {\n    try {\n        String tempFile = TempFiles[i]; \n        File temp = File.createTempFile(tempFile, \".xls\"); \n        System.out.println(\"Temp file : \" + temp.getAbsolutePath());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>The output is something like this:</p>\n\n<pre><code> Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c108415816200650069233.xls\n Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c113748833645638701089.xls\n Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c126104766829220422260.xls\n Temp file : C:\\Users\\MD1000\\AppData\\Local\\Temp\\c1234c137493179265536640669.xls\n</code></pre>\n\n<p>Now, I don't want the extra numbers (long int) which is getting added to the file name. How can I achieve that? Thanks </p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1682328145,"post_id":76090394,"comment_id":134192066,"body_markdown":"You&#39;re encountering an hard trouble: only those can create a dump. I suggest you to show us if a part of that dump gives clues about what is happening, because it&#39;s not the normal behavior of Java (in case of application errors), and you can&#39;t avoid correcting that trouble.","body":"You&#39;re encountering an hard trouble: only those can create a dump. I suggest you to show us if a part of that dump gives clues about what is happening, because it&#39;s not the normal behavior of Java (in case of application errors), and you can&#39;t avoid correcting that trouble."}],"owner":{"account_id":1431416,"reputation":912,"user_id":3456737,"accept_rate":24,"display_name":"igbgotiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682327867,"creation_date":1682327867,"question_id":76090394,"body_markdown":"I&#39;m on semeru 11.\r\n\r\nWhen my program crashes, I see this line, which takes a long time.\r\n```\r\nJVMDUMP039I Processing dump event &quot;abort&quot;, detail &quot;&quot; at 2023/04/24 02:15:30 - please wait.\r\n\r\n```\r\n\r\nI tried disabling with JVM switch:\r\n```\r\n-Xdump:java:none\r\n```\r\n\r\nBut to no avail. Is there a way to disable the take dump on crash behavior of semeru 11?\r\n\r\n","title":"How to disable semeru 11 default dump behavior?","body":"<p>I'm on semeru 11.</p>\n<p>When my program crashes, I see this line, which takes a long time.</p>\n<pre><code>JVMDUMP039I Processing dump event &quot;abort&quot;, detail &quot;&quot; at 2023/04/24 02:15:30 - please wait.\n\n</code></pre>\n<p>I tried disabling with JVM switch:</p>\n<pre><code>-Xdump:java:none\n</code></pre>\n<p>But to no avail. Is there a way to disable the take dump on crash behavior of semeru 11?</p>\n"},{"tags":["java","spring-boot","spring-annotations","spring-webclient"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682325410,"post_id":76090030,"comment_id":134191481,"body_markdown":"Could it be that your env variable called `ATM_FRAUD_SVC_ENDPOINT` is not set?","body":"Could it be that your env variable called <code>ATM_FRAUD_SVC_ENDPOINT</code> is not set?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682326121,"post_id":76090030,"comment_id":134191626,"body_markdown":"It isn&#39;t `null` you are accessing it too early. The value isn&#39;t set in the constructor, but afterwards. How would SPring be able to inject a value in an object that hasn&#39;t been constructed.","body":"It isn&#39;t <code>null</code> you are accessing it too early. The value isn&#39;t set in the constructor, but afterwards. How would SPring be able to inject a value in an object that hasn&#39;t been constructed."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682327482,"post_id":76090030,"comment_id":134191908,"body_markdown":"IN addition you aren&#39;t even uising a Spring managed instance but are creating one yourself. Marked as duplicate for a question regarding @Autowired, as the same applies to `@Value` as well.","body":"IN addition you aren&#39;t even uising a Spring managed instance but are creating one yourself. Marked as duplicate for a question regarding @Autowired, as the same applies to <code>@Value</code> as well."}],"owner":{"account_id":2113697,"reputation":161,"user_id":1878421,"accept_rate":50,"display_name":"Cyrillou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682327495,"answer_count":0,"score":0,"last_activity_date":1682327565,"creation_date":1682325224,"question_id":76090030,"body_markdown":"I&#39;m building a very simple application where multiple services are interacting with eachs others (simulating ATM).\r\n\r\nA card service calls a fraud service to check whether or not the card is fraudulent.\r\n\r\nI have a problem where I&#39;m retrieving a property from application.properties but it&#39;s always returning null and can&#39;t figure out why. Here is the code for my Card service.\r\n\r\nThe Controller \r\n\r\n```java\r\npackage com.grafana.atm.cardservice.controller;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport com.grafana.atm.cardservice.client.FraudServiceClient;\r\nimport com.grafana.atm.cardservice.model.Card;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\n@RestController\r\npublic class CardController {\r\n\tLogger logger = LoggerFactory.getLogger(CardController.class);\r\n\tFraudServiceClient fraudServiceClient = new FraudServiceClient();\r\n\r\n\t@PostMapping(&quot;/card:check&quot;)\r\n\tpublic String checkCardValidity(@RequestBody Card card) {\r\n\t\tlogger.info(&quot;Checking if the credit card with number &quot;+card.getCardNumber()+&quot; is valid.&quot;);\r\n\r\n\t\tif (isValidCreditCardNumber(card.getCardNumber())) {\r\n\t\t\tlogger.info(&quot;The credit card with number &#39;&quot;+card.getCardNumber()+&quot;&#39; is valid.&quot;);\r\n\r\n\t\t\tfraudServiceClient.getFraudServiceClient().post()\r\n            .uri(&quot;/fraud:check&quot;)\r\n\t\t\t.body(Mono.just(card), Card.class)\r\n            .retrieve()\r\n            .onStatus(HttpStatus.INTERNAL_SERVER_ERROR::equals,\r\n                response -&gt; response.bodyToMono(String.class).map(Exception::new))\r\n                .bodyToMono(String.class)\r\n            .block();\r\n\t\t} else {\r\n\t\t\tlogger.error(&quot;The credit card with number &#39;&quot;+card.getCardNumber()+&quot;&#39; is invalid or cannot be verified.&quot;);\r\n\r\n\t\t\tthrow new ResponseStatusException(\r\n\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR, &quot;The card number is invalid or cannot be verified.&quot;);\r\n\t\t}\r\n\r\n\t\treturn &quot;all good&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nThe class for the WebClient\r\n\r\n```\r\npackage com.grafana.atm.cardservice.client;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\n@Service\r\npublic class FraudServiceClient {\r\n\t@Value(&quot;${atm.application.service.fraud.endpoint}&quot;)\r\n\tprivate String fraudServiceEndpoint;\r\n\r\n\tprivate final WebClient fraudServiceClient;\r\n\tLogger logger = LoggerFactory.getLogger(FraudServiceClient.class);\r\n\t\r\n\tpublic FraudServiceClient() {\r\n\t\tlogger.info(&quot;Creating WebClient for calling the Fraud service at &quot;+fraudServiceEndpoint);\r\n\r\n\t\tthis.fraudServiceClient = WebClient.builder()\r\n\t\t    .baseUrl(fraudServiceEndpoint)\r\n\t\t    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE) \r\n\t\t    .build();\r\n\t}\r\n\r\n\tpublic WebClient getFraudServiceClient() {\r\n\t\treturn fraudServiceClient;\r\n\t}\r\n}\r\n```\r\n\r\nThe Card model\r\n\r\n```\r\npackage com.grafana.atm.cardservice.model;\r\n\r\npublic class Card {\r\n\tprivate String cardNumber;\r\n    private Integer cardExpiryDate;\r\n    private Integer cardCvc;\r\n\r\n    public Card() {\r\n    }\r\n\r\n    public Card(String cardNumber, Integer cardExpiryDate, Integer cardCvc) {\r\n        this.cardNumber = cardNumber;\r\n        this.cardExpiryDate = cardExpiryDate;\r\n        this.cardCvc = cardCvc;\r\n    }\r\n\r\n    public String getCardNumber() {\r\n        return this.cardNumber;\r\n    }\r\n\r\n    public Integer getCardExpiryDate() {\r\n        return this.cardExpiryDate;\r\n    }\r\n\r\n    public Integer getCardCvc() {\r\n        return this.cardCvc;\r\n    }\r\n}\r\n```\r\nI confirm the env variable called in my application.properties files is correctly set\r\n\r\nDisclamer: I&#39;m very new with Spring Boot - have read a lot but still learning a lot too so pardon me if it sounds obvious :).\r\n\r\napplication.propertie\r\n```\r\nspring.application.name=card-service\r\nserver.port=${ATM_CARD_SVC_PORT}\r\natm.application.service.fraud.endpoint=${ATM_FRAUD_SVC_ENDPOINT}\r\nmanagement.endpoint.chaosmonkey.enabled=true\r\nmanagement.endpoint.chaosmonkeyjmx.enabled=true\r\nmanagement.endpoints.web.exposure.include=health,info,prometheus,chaosmonkey\r\nserver.error.include-stacktrace=never\r\nserver.error.include-message=always\r\n\r\nlogging.pattern.console=Timestamp=%d{yyyy-MM-dd HH:mm:ss} Level=%p Logger=%logger{36} Message=%msg TraceId=%mdc{trace_id} SpanId=%mdc{span_id} TraceFlags=%mdc{trace_flags} %n\r\n```","title":"Using annotation @Value for retrieving property is returning null","body":"<p>I'm building a very simple application where multiple services are interacting with eachs others (simulating ATM).</p>\n<p>A card service calls a fraud service to check whether or not the card is fraudulent.</p>\n<p>I have a problem where I'm retrieving a property from application.properties but it's always returning null and can't figure out why. Here is the code for my Card service.</p>\n<p>The Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.grafana.atm.cardservice.controller;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport com.grafana.atm.cardservice.client.FraudServiceClient;\nimport com.grafana.atm.cardservice.model.Card;\n\nimport reactor.core.publisher.Mono;\n\n@RestController\npublic class CardController {\n    Logger logger = LoggerFactory.getLogger(CardController.class);\n    FraudServiceClient fraudServiceClient = new FraudServiceClient();\n\n    @PostMapping(&quot;/card:check&quot;)\n    public String checkCardValidity(@RequestBody Card card) {\n        logger.info(&quot;Checking if the credit card with number &quot;+card.getCardNumber()+&quot; is valid.&quot;);\n\n        if (isValidCreditCardNumber(card.getCardNumber())) {\n            logger.info(&quot;The credit card with number '&quot;+card.getCardNumber()+&quot;' is valid.&quot;);\n\n            fraudServiceClient.getFraudServiceClient().post()\n            .uri(&quot;/fraud:check&quot;)\n            .body(Mono.just(card), Card.class)\n            .retrieve()\n            .onStatus(HttpStatus.INTERNAL_SERVER_ERROR::equals,\n                response -&gt; response.bodyToMono(String.class).map(Exception::new))\n                .bodyToMono(String.class)\n            .block();\n        } else {\n            logger.error(&quot;The credit card with number '&quot;+card.getCardNumber()+&quot;' is invalid or cannot be verified.&quot;);\n\n            throw new ResponseStatusException(\n                HttpStatus.INTERNAL_SERVER_ERROR, &quot;The card number is invalid or cannot be verified.&quot;);\n        }\n\n        return &quot;all good&quot;;\n    }\n}\n</code></pre>\n<p>The class for the WebClient</p>\n<pre><code>package com.grafana.atm.cardservice.client;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@Service\npublic class FraudServiceClient {\n    @Value(&quot;${atm.application.service.fraud.endpoint}&quot;)\n    private String fraudServiceEndpoint;\n\n    private final WebClient fraudServiceClient;\n    Logger logger = LoggerFactory.getLogger(FraudServiceClient.class);\n    \n    public FraudServiceClient() {\n        logger.info(&quot;Creating WebClient for calling the Fraud service at &quot;+fraudServiceEndpoint);\n\n        this.fraudServiceClient = WebClient.builder()\n            .baseUrl(fraudServiceEndpoint)\n            .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE) \n            .build();\n    }\n\n    public WebClient getFraudServiceClient() {\n        return fraudServiceClient;\n    }\n}\n</code></pre>\n<p>The Card model</p>\n<pre><code>package com.grafana.atm.cardservice.model;\n\npublic class Card {\n    private String cardNumber;\n    private Integer cardExpiryDate;\n    private Integer cardCvc;\n\n    public Card() {\n    }\n\n    public Card(String cardNumber, Integer cardExpiryDate, Integer cardCvc) {\n        this.cardNumber = cardNumber;\n        this.cardExpiryDate = cardExpiryDate;\n        this.cardCvc = cardCvc;\n    }\n\n    public String getCardNumber() {\n        return this.cardNumber;\n    }\n\n    public Integer getCardExpiryDate() {\n        return this.cardExpiryDate;\n    }\n\n    public Integer getCardCvc() {\n        return this.cardCvc;\n    }\n}\n</code></pre>\n<p>I confirm the env variable called in my application.properties files is correctly set</p>\n<p>Disclamer: I'm very new with Spring Boot - have read a lot but still learning a lot too so pardon me if it sounds obvious :).</p>\n<p>application.propertie</p>\n<pre><code>spring.application.name=card-service\nserver.port=${ATM_CARD_SVC_PORT}\natm.application.service.fraud.endpoint=${ATM_FRAUD_SVC_ENDPOINT}\nmanagement.endpoint.chaosmonkey.enabled=true\nmanagement.endpoint.chaosmonkeyjmx.enabled=true\nmanagement.endpoints.web.exposure.include=health,info,prometheus,chaosmonkey\nserver.error.include-stacktrace=never\nserver.error.include-message=always\n\nlogging.pattern.console=Timestamp=%d{yyyy-MM-dd HH:mm:ss} Level=%p Logger=%logger{36} Message=%msg TraceId=%mdc{trace_id} SpanId=%mdc{span_id} TraceFlags=%mdc{trace_flags} %n\n</code></pre>\n"},{"tags":["java","file","fileinputstream"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682326140,"post_id":74600486,"comment_id":134191630,"body_markdown":"I think you need to close stream for FileInputStream, because your stream saved file inside of a. Also if you don&#39;t close stream, you will take memory leak\n\n    FileInputStream a = new FileInputStream(&quot;/tmp/input&quot;);\n    a.close();\nor use try with resource.\n\n    try (FileInputStream a = new FileInputStream(&quot;/tmp/input&quot;)) {\n     // your program code\n    }","body":"I think you need to close stream for FileInputStream, because your stream saved file inside of a. Also if you don&#39;t close stream, you will take memory leak      FileInputStream a = new FileInputStream(&quot;/tmp/input&quot;);     a.close(); or use try with resource.      try (FileInputStream a = new FileInputStream(&quot;/tmp/input&quot;)) {      // your program code     }"}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1682327431,"post_id":76090296,"comment_id":134191892,"body_markdown":"It&#39;s worth noting that this behaviour is pretty fundamental to how unix-like operating systems behave in general and many features depend on it. It&#39;s also the reason why the package-manager can just overwrite (delete/replace) a shared library that&#39;s still in use with a newer version: anything that has already got that file open/mapped will continue to see and use the old version. Anything that opens it up afterwards will see the new one.","body":"It&#39;s worth noting that this behaviour is pretty fundamental to how unix-like operating systems behave in general and many features depend on it. It&#39;s also the reason why the package-manager can just overwrite (delete/replace) a shared library that&#39;s still in use with a newer version: anything that has already got that file open/mapped will continue to see and use the old version. Anything that opens it up afterwards will see the new one."}],"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682327273,"creation_date":1682327273,"answer_id":76090296,"question_id":74600486,"body_markdown":"Great question, and I see why the above code counters your expectations. The reason why this happens is how certain file systems handle file deletion. \r\n\r\nUsually, file deletion does not, by default, mean &#39;erase the file data&#39;. It simply means &#39;erase the file system entry pointing to that data&#39;. In other words, the data is still there, it&#39;s simply &#39;forgotten&#39; by the file system. \r\n\r\nSince it is &#39;forgotten&#39;, eventually it will simply be overwritten with the data of another file. This is also why you can, in many cases, recover data from a faulty disk by simply fixing the file entries. For the same reason, data recovery experts strongly suggest to immediately cease to use a disk you&#39;re planning to recover data from - to avoid the accidental overwriting. \r\n\r\nOn top of all that, the low level OS procedures dealing with file access will often delay actual file deletion until all open handles have been closed, and the file handles themselves will remain valid. Here is [how Linux systems behave](https://stackoverflow.com/a/2031100/1092818), for instance. ","title":"How FileInputStream read once the file is deleted?","body":"<p>Great question, and I see why the above code counters your expectations. The reason why this happens is how certain file systems handle file deletion.</p>\n<p>Usually, file deletion does not, by default, mean 'erase the file data'. It simply means 'erase the file system entry pointing to that data'. In other words, the data is still there, it's simply 'forgotten' by the file system.</p>\n<p>Since it is 'forgotten', eventually it will simply be overwritten with the data of another file. This is also why you can, in many cases, recover data from a faulty disk by simply fixing the file entries. For the same reason, data recovery experts strongly suggest to immediately cease to use a disk you're planning to recover data from - to avoid the accidental overwriting.</p>\n<p>On top of all that, the low level OS procedures dealing with file access will often delay actual file deletion until all open handles have been closed, and the file handles themselves will remain valid. Here is <a href=\"https://stackoverflow.com/a/2031100/1092818\">how Linux systems behave</a>, for instance.</p>\n"}],"owner":{"account_id":11382249,"reputation":1662,"user_id":8344860,"display_name":"Anshita Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682327273,"creation_date":1669638066,"question_id":74600486,"body_markdown":"Here is my sample code:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n      FileInputStream a = new FileInputStream(&quot;/tmp/input&quot;);\r\n      File file = new File(&quot;/tmp/input&quot;);\r\n      try {\r\n        boolean isFileDeleted = file.delete();\r\n        System.out.println(&quot;Is file deleted successfully : &quot;+ isFileDeleted);\r\n      } catch (Exception e) {\r\n        e.printStackTrace();\r\n      }\r\n      FileOutputStream outputStream = new FileOutputStream(&quot;/tmp/output&quot;);\r\n      IOUtils.copyLarge(a, outputStream);\r\n    }\r\n\r\nOutput:\r\n\r\n    Is file deleted successfully: true\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd I am seeing the **input file is deleted successfully** also from `/tmp` folder and I am also seeing `output` file got created with the expected output. How FileInputStream read the File and copy the expected character even if the file is deleted from the disk?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gOQtP.png","title":"How FileInputStream read once the file is deleted?","body":"<p>Here is my sample code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n  FileInputStream a = new FileInputStream(&quot;/tmp/input&quot;);\n  File file = new File(&quot;/tmp/input&quot;);\n  try {\n    boolean isFileDeleted = file.delete();\n    System.out.println(&quot;Is file deleted successfully : &quot;+ isFileDeleted);\n  } catch (Exception e) {\n    e.printStackTrace();\n  }\n  FileOutputStream outputStream = new FileOutputStream(&quot;/tmp/output&quot;);\n  IOUtils.copyLarge(a, outputStream);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Is file deleted successfully: true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gOQtP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gOQtP.png\" alt=\"enter image description here\" /></a></p>\n<p>And I am seeing the <strong>input file is deleted successfully</strong> also from <code>/tmp</code> folder and I am also seeing <code>output</code> file got created with the expected output. How FileInputStream read the File and copy the expected character even if the file is deleted from the disk?</p>\n"},{"tags":["java","firebase-realtime-database","multiple-databases"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680847047,"post_id":75950860,"comment_id":133969015,"body_markdown":"Show the entire code that you&#39;re using to create a new instance. Besides that, if the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"Show the entire code that you&#39;re using to create a new instance. Besides that, if the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."}],"owner":{"account_id":28233084,"reputation":1,"user_id":21582010,"display_name":"c.h.andreas tudu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682327069,"creation_date":1680792412,"question_id":75950860,"body_markdown":"This is my code, I tried changing here and there but I still can&#39;t  call the Image in my app \r\n    List&lt;eventsSlides&gt; myEventsSlides;\r\n    eventsSlides mEventsSlides;\r\n\r\n    RecyclerView mRecyclerView;\r\nThe Correct  instance and reference are written in my actual Code.\r\n    private final DatabaseReference secondary = FirebaseDatabase.getInstance(&quot;https:Url of the database&quot;)\r\n            .getReference(&quot;/path&quot;);\r\n\r\n\r\n\r\n\r\n\r\n    private ValueEventListener eventListener;\r\n\r\n    ProgressDialog progressDialog;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main_menu);\r\n\r\n        drawerLayout = findViewById(R.id.drawerLayout);\r\n        navigationView = findViewById(R.id.navigation);\r\n        toolbar = findViewById(R.id.toolbar);\r\n        mRecyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(MainMenuActivity.this,1);\r\n\r\n        mRecyclerView.setLayoutManager(gridLayoutManager);\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setMessage(&quot;Loading items.....&quot;);\r\n\r\n        myEventsSlides = new ArrayList&lt;&gt;();\r\n\r\n\r\n        MyAdapter myAdapter = new MyAdapter(MainMenuActivity.this, myEventsSlides);\r\n        mRecyclerView.setAdapter(myAdapter);\r\nI tried secondary to call the instance// if I put the url in the below line the app crashes\r\n\r\n        DatabaseReference secondary = FirebaseDatabase.getInstance().getReference(&quot;path&quot;);\r\n\r\n\r\n        progressDialog.show();\r\n\r\n        ValueEventListener eventListener = secondary.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                myEventsSlides.clear();\r\n\r\n                for(DataSnapshot itemSnapshot: dataSnapshot.getChildren()){\r\n\r\n                    eventsSlides EventsSlide = itemSnapshot.getValue(eventsSlides.class);\r\n                    myEventsSlides.add(EventsSlide);\r\n\r\n                }\r\n                myAdapter.notifyDataSetChanged();\r\nthe above myAdaper.notifyDataSetChanged() is also showing a Yellow Line.\r\n\r\n \r\n                progressDialog.dismiss();\r\n                Toast.makeText(MainMenuActivity.this, &quot;Item receieved successful&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                progressDialog.dismiss();\r\n\r\n            }\r\n        });","title":"How do I retrieve image and data from my secondary database in Firebase on Android studio Java?","body":"<p>This is my code, I tried changing here and there but I still can't  call the Image in my app\nList myEventsSlides;\neventsSlides mEventsSlides;</p>\n<pre><code>RecyclerView mRecyclerView;\n</code></pre>\n<p>The Correct  instance and reference are written in my actual Code.\nprivate final DatabaseReference secondary = FirebaseDatabase.getInstance(&quot;https:Url of the database&quot;)\n.getReference(&quot;/path&quot;);</p>\n<pre><code>private ValueEventListener eventListener;\n\nProgressDialog progressDialog;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main_menu);\n\n    drawerLayout = findViewById(R.id.drawerLayout);\n    navigationView = findViewById(R.id.navigation);\n    toolbar = findViewById(R.id.toolbar);\n    mRecyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n    GridLayoutManager gridLayoutManager = new GridLayoutManager(MainMenuActivity.this,1);\n\n    mRecyclerView.setLayoutManager(gridLayoutManager);\n\n    progressDialog = new ProgressDialog(this);\n    progressDialog.setMessage(&quot;Loading items.....&quot;);\n\n    myEventsSlides = new ArrayList&lt;&gt;();\n\n\n    MyAdapter myAdapter = new MyAdapter(MainMenuActivity.this, myEventsSlides);\n    mRecyclerView.setAdapter(myAdapter);\n</code></pre>\n<p>I tried secondary to call the instance// if I put the url in the below line the app crashes</p>\n<pre><code>    DatabaseReference secondary = FirebaseDatabase.getInstance().getReference(&quot;path&quot;);\n\n\n    progressDialog.show();\n\n    ValueEventListener eventListener = secondary.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            myEventsSlides.clear();\n\n            for(DataSnapshot itemSnapshot: dataSnapshot.getChildren()){\n\n                eventsSlides EventsSlide = itemSnapshot.getValue(eventsSlides.class);\n                myEventsSlides.add(EventsSlide);\n\n            }\n            myAdapter.notifyDataSetChanged();\n</code></pre>\n<p>the above myAdaper.notifyDataSetChanged() is also showing a Yellow Line.</p>\n<pre><code>            progressDialog.dismiss();\n            Toast.makeText(MainMenuActivity.this, &quot;Item receieved successful&quot;, Toast.LENGTH_SHORT).show();\n\n\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            progressDialog.dismiss();\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682262870,"post_id":76085603,"comment_id":134184102,"body_markdown":"That would be okay but your `equals` method is wrong. You should be type checking on `Decorator` not `Integer. Of course your integer field has to be unique for it to work properly.","body":"That would be okay but your <code>equals</code> method is wrong. You should be type checking on <code>Decorator</code> not `Integer. Of course your integer field has to be unique for it to work properly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682271230,"post_id":76085603,"comment_id":134185277,"body_markdown":"The other thing is: what is `Decorator.s` and how is it used? Its key methods `hashCode` and `equals` would not normally ignore it","body":"The other thing is: what is <code>Decorator.s</code> and how is it used? Its key methods <code>hashCode</code> and <code>equals</code> would not normally ignore it"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1682324795,"post_id":76085603,"comment_id":134191340,"body_markdown":"Can you explain *why* you want this? As I&#39;ve explained in my answer it&#39;s a risky thing to try, but there&#39;s probably better approaches which we can suggest if you tell us your underlying need. This seems like [a XY problem](https://xyproblem.info).","body":"Can you explain <i>why</i> you want this? As I&#39;ve explained in my answer it&#39;s a risky thing to try, but there&#39;s probably better approaches which we can suggest if you tell us your underlying need. This seems like <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">a XY problem</a>."}],"answers":[{"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682270248,"post_id":76086160,"comment_id":134185159,"body_markdown":"Can you clarify the solution? The code does not compile (`Decoder` should be `Decorator` - just a typo I think). But also, the sample code from the question `map.get(3)` used to demonstrate this class still returns `null`. Is the overridden `equals()` method actually used?","body":"Can you clarify the solution? The code does not compile (<code>Decoder</code> should be <code>Decorator</code> - just a typo I think). But also, the sample code from the question <code>map.get(3)</code> used to demonstrate this class still returns <code>null</code>. Is the overridden <code>equals()</code> method actually used?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682279214,"post_id":76086160,"comment_id":134186454,"body_markdown":"OK - I guess it&#39;s the `hashCode()` method that is relevant and used here, not `equals()` - but the implementation of `get()` in `HashMap` makes use of the provided key placed in the map (in this case `Decorator`) so `get()` fails to find the requested key (an integer). See [`first.key`](https://github.com/openjdk/jdk/blob/0f51e6326373ff7d4a4d9a0e3a2788401f73405d/src/java.base/share/classes/java/util/HashMap.java#L578) - which does not match the lookup `key`. (If I have misread the source, I would be grateful for any corrections.)","body":"OK - I guess it&#39;s the <code>hashCode()</code> method that is relevant and used here, not <code>equals()</code> - but the implementation of <code>get()</code> in <code>HashMap</code> makes use of the provided key placed in the map (in this case <code>Decorator</code>) so <code>get()</code> fails to find the requested key (an integer). See <a href=\"https://github.com/openjdk/jdk/blob/0f51e6326373ff7d4a4d9a0e3a2788401f73405d/src/java.base/share/classes/java/util/HashMap.java#L578\" rel=\"nofollow noreferrer\"><code>first.key</code></a> - which does not match the lookup <code>key</code>. (If I have misread the source, I would be grateful for any corrections.)"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1682324799,"post_id":76086160,"comment_id":134191342,"body_markdown":"@andrewJames Yes, thanks. The `Decoder` was indeed just a typo, and I didn&#39;t see that the OP was calling `get` directly with an `int`. This clearly violates `Map`&#39;s contract. I explained that now.","body":"@andrewJames Yes, thanks. The <code>Decoder</code> was indeed just a typo, and I didn&#39;t see that the OP was calling <code>get</code> directly with an <code>int</code>. This clearly violates <code>Map</code>&#39;s contract. I explained that now."}],"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682324400,"creation_date":1682269288,"answer_id":76086160,"question_id":76085603,"body_markdown":"You can&#39;t use 2 different types for the keys of a map. The map defines 2 type parameters, `Map&lt;K ,V&gt;`, and these are used in `put(K, V)` and `V get(K)`. Your `K` is `Decorator` and your `V` is `String`. Your `map.get(3)` call will always return `null` because a `Decorator` can&#39;t be equal to an `int` (not without violating the contract of `Object.equals`).\r\n\r\nWhat you can do, and this is a normal thing to do, is use `Delegator`&#39;s `int i` as an effective key. You need to fulfill 2 criteria:\r\n1. `@Override` the `equals(Object)` method, which is used to determine which keys are duplicates, with that of your contained instance.\r\n2. `@Override` the `hashCode()` method (always do so when overriding `equals()`), which is used by `HashMap`, with that of your contained instance.\r\n\r\nThis is called *delegation* - you delegate the functionality/behavior from the containing type to that of the contained type. Here, we are delegating the calls to `Decorator` to `int i`.\r\n\r\n```\r\n    @Override\r\n    public int hashCode() {\r\n        return Integer.hashCode(i); // Decorator&#39;s hash code is i&#39;s hash code\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == this) { // this is just an optimization, but not really needed in this case\r\n            return true;\r\n        }\r\n        if (!(obj instanceof Decorator)) {\r\n            return false;\r\n        }\r\n        final Decorator other = (Decorator) obj;\r\n        return i == other.i; // Decorators are equal if their i is equal\r\n    }\r\n```\r\n\r\nNow you can do\r\n```\r\n        map.put(new Decorator(3, &quot;some string&quot;), &quot;some value&quot;);\r\n        System.out.println(map.get(new Decorator(3, &quot;&quot;)));\r\n```\r\nbecause only the `int` field is used to search the map.","title":"custom decorated key for hashmap","body":"<p>You can't use 2 different types for the keys of a map. The map defines 2 type parameters, <code>Map&lt;K ,V&gt;</code>, and these are used in <code>put(K, V)</code> and <code>V get(K)</code>. Your <code>K</code> is <code>Decorator</code> and your <code>V</code> is <code>String</code>. Your <code>map.get(3)</code> call will always return <code>null</code> because a <code>Decorator</code> can't be equal to an <code>int</code> (not without violating the contract of <code>Object.equals</code>).</p>\n<p>What you can do, and this is a normal thing to do, is use <code>Delegator</code>'s <code>int i</code> as an effective key. You need to fulfill 2 criteria:</p>\n<ol>\n<li><code>@Override</code> the <code>equals(Object)</code> method, which is used to determine which keys are duplicates, with that of your contained instance.</li>\n<li><code>@Override</code> the <code>hashCode()</code> method (always do so when overriding <code>equals()</code>), which is used by <code>HashMap</code>, with that of your contained instance.</li>\n</ol>\n<p>This is called <em>delegation</em> - you delegate the functionality/behavior from the containing type to that of the contained type. Here, we are delegating the calls to <code>Decorator</code> to <code>int i</code>.</p>\n<pre><code>    @Override\n    public int hashCode() {\n        return Integer.hashCode(i); // Decorator's hash code is i's hash code\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == this) { // this is just an optimization, but not really needed in this case\n            return true;\n        }\n        if (!(obj instanceof Decorator)) {\n            return false;\n        }\n        final Decorator other = (Decorator) obj;\n        return i == other.i; // Decorators are equal if their i is equal\n    }\n</code></pre>\n<p>Now you can do</p>\n<pre><code>        map.put(new Decorator(3, &quot;some string&quot;), &quot;some value&quot;);\n        System.out.println(map.get(new Decorator(3, &quot;&quot;)));\n</code></pre>\n<p>because only the <code>int</code> field is used to search the map.</p>\n"},{"comments":[{"owner":{"account_id":13584165,"reputation":69,"user_id":9799332,"display_name":"Dani"},"score":0,"creation_date":1682416301,"post_id":76089960,"comment_id":134208013,"body_markdown":"So I would need to construct a „dummy“ Decorator with my desired hashcode (Integer) just to access a value with it?","body":"So I would need to construct a „dummy“ Decorator with my desired hashcode (Integer) just to access a value with it?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1682416607,"post_id":76089960,"comment_id":134208084,"body_markdown":"If you insist on keeping the decorator-key approach, then yes. You could try to restructure your design to not require the decorator, but how exactly that would make sense depends on your underlying goals with the decorator, which your original question doesn&#39;t contain enough details about to answer.","body":"If you insist on keeping the decorator-key approach, then yes. You could try to restructure your design to not require the decorator, but how exactly that would make sense depends on your underlying goals with the decorator, which your original question doesn&#39;t contain enough details about to answer."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682326555,"creation_date":1682324702,"answer_id":76089960,"question_id":76085603,"body_markdown":"You might get it to work &lt;sup&gt;*&lt;/sup&gt;, but even *if you do*, there&#39;s still the problem that the `equals` method necessary for this does not conform to [the specification of `equals`][1]. Specifically this part:\r\n\r\n&gt; It is *symmetric*: for any non-null reference values `x` and `y`, `x.equals(y)` should return `true` if and only if `y.equals(x)` returns `true`.\r\n\r\nSo if `x` is `new Decorator(1, &quot;foo&quot;)` and `y` is `new Integer(1)` then `x.equals(y)` would return `true`, but `y.equals(x)` would return `false` (because `Integer` obviously doesn&#39;t know about your `Decorator`).\r\n\r\nNow whether or not this *actually* causes any issues depends on how exactly the `Map` implementation uses `equals`. But since `equals` is defined to be symetric any implementation is free to call `equals` on either the key passed to the `get()` method or on the key stored in the map. If the map would always call `keyFromMap.equals(keyFromGetCall)` then it would work, if it did the opposite, it would not work. So fundamentally using such a wrapper will depend on implementation-specific behaviour, which makes it quite fragile.\r\n\r\nThe *specific* implementation in your question also breaks this rule:\r\n\r\n&gt; It is *reflexive*: for any non-null reference value `x`, ` x.equals(x)` should return `true`.\r\n\r\nBut this one could easily be fixed by just adding `if (obj == this) return true;` to the beginning, so that one&#39;s not an unsolvable problem.\r\n\r\n&lt;sup&gt;* I&#39;ve checked and the `HashMap.get(key)` implementation as of OpenJDK 17 calls `key.equals(keyStoredInHashMap)`, which means that having a decorator stored in the map and calling `get` with an `Integer` will not work, but the other way around might. I&#39;ve made this just a footnote, because the more important part is that it can&#39;t *generally* work.&lt;/sup&gt;\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"custom decorated key for hashmap","body":"<p>You might get it to work <sup>*</sup>, but even <em>if you do</em>, there's still the problem that the <code>equals</code> method necessary for this does not conform to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">the specification of <code>equals</code></a>. Specifically this part:</p>\n<blockquote>\n<p>It is <em>symmetric</em>: for any non-null reference values <code>x</code> and <code>y</code>, <code>x.equals(y)</code> should return <code>true</code> if and only if <code>y.equals(x)</code> returns <code>true</code>.</p>\n</blockquote>\n<p>So if <code>x</code> is <code>new Decorator(1, &quot;foo&quot;)</code> and <code>y</code> is <code>new Integer(1)</code> then <code>x.equals(y)</code> would return <code>true</code>, but <code>y.equals(x)</code> would return <code>false</code> (because <code>Integer</code> obviously doesn't know about your <code>Decorator</code>).</p>\n<p>Now whether or not this <em>actually</em> causes any issues depends on how exactly the <code>Map</code> implementation uses <code>equals</code>. But since <code>equals</code> is defined to be symetric any implementation is free to call <code>equals</code> on either the key passed to the <code>get()</code> method or on the key stored in the map. If the map would always call <code>keyFromMap.equals(keyFromGetCall)</code> then it would work, if it did the opposite, it would not work. So fundamentally using such a wrapper will depend on implementation-specific behaviour, which makes it quite fragile.</p>\n<p>The <em>specific</em> implementation in your question also breaks this rule:</p>\n<blockquote>\n<p>It is <em>reflexive</em>: for any non-null reference value <code>x</code>, <code> x.equals(x)</code> should return <code>true</code>.</p>\n</blockquote>\n<p>But this one could easily be fixed by just adding <code>if (obj == this) return true;</code> to the beginning, so that one's not an unsolvable problem.</p>\n<p><sup>* I've checked and the <code>HashMap.get(key)</code> implementation as of OpenJDK 17 calls <code>key.equals(keyStoredInHashMap)</code>, which means that having a decorator stored in the map and calling <code>get</code> with an <code>Integer</code> will not work, but the other way around might. I've made this just a footnote, because the more important part is that it can't <em>generally</em> work.</sup></p>\n"}],"owner":{"account_id":13584165,"reputation":69,"user_id":9799332,"display_name":"Dani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682326555,"creation_date":1682262289,"question_id":76085603,"body_markdown":"I want to know if it is possible in java to create a class that consists of a final key wrapped by some other fields and use it as key in a HashMap as if it were only that key. Something like this:\r\n\r\n    Map&lt;Decorator, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    private static class Decorator {\r\n        private final int i;\r\n        private String s;\r\n\r\n        public Decorator(int i, String s) {\r\n            this.i = i;\r\n            this.s = s;\r\n        }\r\n\r\n        public String getS() {\r\n            return s;\r\n        }\r\n\r\n        public void setS(String s) {\r\n            this.s = s;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return i;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (!(obj instanceof Integer)) {\r\n                return false;\r\n            }\r\n            final Integer other = (Integer) obj;\r\n            return i == other;\r\n        }\r\n    }\r\n\r\nwhen I then call\r\n\r\n        map.put(new Decorator(3, &quot;some string&quot;), &quot;some value&quot;);\r\n        System.out.println(map.get(3));\r\n\r\nI would like to receive the proper map value &quot;some value&quot;. Does someone know if this is possible?","title":"custom decorated key for hashmap","body":"<p>I want to know if it is possible in java to create a class that consists of a final key wrapped by some other fields and use it as key in a HashMap as if it were only that key. Something like this:</p>\n<pre><code>Map&lt;Decorator, String&gt; map = new HashMap&lt;&gt;();\n\nprivate static class Decorator {\n    private final int i;\n    private String s;\n\n    public Decorator(int i, String s) {\n        this.i = i;\n        this.s = s;\n    }\n\n    public String getS() {\n        return s;\n    }\n\n    public void setS(String s) {\n        this.s = s;\n    }\n\n    @Override\n    public int hashCode() {\n        return i;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof Integer)) {\n            return false;\n        }\n        final Integer other = (Integer) obj;\n        return i == other;\n    }\n}\n</code></pre>\n<p>when I then call</p>\n<pre><code>    map.put(new Decorator(3, &quot;some string&quot;), &quot;some value&quot;);\n    System.out.println(map.get(3));\n</code></pre>\n<p>I would like to receive the proper map value &quot;some value&quot;. Does someone know if this is possible?</p>\n"},{"tags":["java","maven","intellij-idea","jboss","manifold"],"answers":[{"tags":[],"owner":{"account_id":6398158,"reputation":69,"user_id":4961826,"display_name":"dknipper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638813232,"creation_date":1638813232,"answer_id":70249771,"question_id":70249348,"body_markdown":"All I had to do was add the manifold libraries to the build artifacts so they could be picked up by the runtime. ","title":"How do I get manifold-ext to work in JBoss?","body":"<p>All I had to do was add the manifold libraries to the build artifacts so they could be picked up by the runtime.</p>\n"}],"owner":{"account_id":6398158,"reputation":69,"user_id":4961826,"display_name":"dknipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682326297,"creation_date":1638811152,"question_id":70249348,"body_markdown":"I&#39;m trying to get the manifold java compiler plugin to work in JBoss. When I deploy I get:\r\n```\r\nCaused by: java.lang.ClassNotFoundException: manifold.rt.api.IBootstrap from [Module &quot;deployment.siterefresh_Web.war&quot; from Service Module Loader]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n```\r\nThe manifold project is here: [http://manifold.systems/][1]\r\n\r\nMy experience with this exception is that a JBoss module needs to be created. Do I need to do this? If so, how do I setup the custom module? I&#39;m a bit confused about the directory structure of where the module needs to be placed.  \r\n\r\n\r\n  [1]: http://manifold.systems/","title":"How do I get manifold-ext to work in JBoss?","body":"<p>I'm trying to get the manifold java compiler plugin to work in JBoss. When I deploy I get:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: manifold.rt.api.IBootstrap from [Module &quot;deployment.siterefresh_Web.war&quot; from Service Module Loader]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n</code></pre>\n<p>The manifold project is here: <a href=\"http://manifold.systems/\" rel=\"nofollow noreferrer\">http://manifold.systems/</a></p>\n<p>My experience with this exception is that a JBoss module needs to be created. Do I need to do this? If so, how do I setup the custom module? I'm a bit confused about the directory structure of where the module needs to be placed.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1682327071,"post_id":76090147,"comment_id":134191821,"body_markdown":"You might need to look into command pattern, have a look at the article https://medium.com/codex/how-i-implemented-command-pattern-in-spring-boot-870c1f2c73b0","body":"You might need to look into command pattern, have a look at the article <a href=\"https://medium.com/codex/how-i-implemented-command-pattern-in-spring-boot-870c1f2c73b0\" rel=\"nofollow noreferrer\">medium.com/codex/&hellip;</a>"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1682330231,"post_id":76090147,"comment_id":134192528,"body_markdown":"When they implement an `CommonInterface` you can inject them in a `List&lt;CommonInterface&gt; executors;`","body":"When they implement an <code>CommonInterface</code> you can inject them in a <code>List&lt;CommonInterface&gt; executors;</code>"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1682330295,"post_id":76090147,"comment_id":134192550,"body_markdown":"Oh and please use constructor injection, that way your dependencies are clearer and your service will be better testable.","body":"Oh and please use constructor injection, that way your dependencies are clearer and your service will be better testable."}],"owner":{"account_id":10636595,"reputation":31,"user_id":7833117,"display_name":"Youssef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682326189,"creation_date":1682326189,"question_id":76090147,"body_markdown":"I would like to code properly multiple executors using Spring, but need to load them only when it&#39;s necessary and required, bellow an example to explain clearly the needs.\r\n\r\n \r\n``` java\r\n@Component\r\npublic class Executor[A-Z] {\r\n    @Autowired\r\n    Dep[A-Z] dep[A-Z];\r\n\r\n    @Autowired\r\n    Dep[A-Z] dep[A-Z];\r\n\r\n   /**\r\n    example :\r\n    DepA depA;\r\n    DepC depC;\r\n   */\r\n   \r\n  public void execute() {\r\n    // method body\r\n  }\r\n}\r\n```\r\n\r\nI have multiple Executors from A to Z (ExecutorA,..... ExecutorZ)\r\n\r\nThose executors are used in a service class MyService :\r\n\r\n``` java\r\n@Service\r\npublic class MyService {\r\n    @Autowired\r\n    ExecutorA executorA;\r\n\r\n    //.....\r\n\r\n    @Autowired\r\n    ExecutorZ executorZ;\r\n   \r\n  public void launchExecutor() {\r\n    if ( conditionA ) {\r\n        executorA.execute();\r\n     } else if( confitionB ) {\r\n         executorB.execute();\r\n     } else {\r\n         executorZ.execute();\r\n     }\r\n\r\n  }\r\n}\r\n```\r\nIn the example above on MyService class i have to load all Executors at once, whereas may few of them could be used.\r\n\r\nWhat is the best way to optimize numbers of beans loaded in Spring IoC container in this example ? Is there a manner to create Executor[A-Z] instance on demand based on conditions ?  \r\n\r\nThank you","title":"Spring multiple autowired beans modeling","body":"<p>I would like to code properly multiple executors using Spring, but need to load them only when it's necessary and required, bellow an example to explain clearly the needs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Executor[A-Z] {\n    @Autowired\n    Dep[A-Z] dep[A-Z];\n\n    @Autowired\n    Dep[A-Z] dep[A-Z];\n\n   /**\n    example :\n    DepA depA;\n    DepC depC;\n   */\n   \n  public void execute() {\n    // method body\n  }\n}\n</code></pre>\n<p>I have multiple Executors from A to Z (ExecutorA,..... ExecutorZ)</p>\n<p>Those executors are used in a service class MyService :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    @Autowired\n    ExecutorA executorA;\n\n    //.....\n\n    @Autowired\n    ExecutorZ executorZ;\n   \n  public void launchExecutor() {\n    if ( conditionA ) {\n        executorA.execute();\n     } else if( confitionB ) {\n         executorB.execute();\n     } else {\n         executorZ.execute();\n     }\n\n  }\n}\n</code></pre>\n<p>In the example above on MyService class i have to load all Executors at once, whereas may few of them could be used.</p>\n<p>What is the best way to optimize numbers of beans loaded in Spring IoC container in this example ? Is there a manner to create Executor[A-Z] instance on demand based on conditions ?</p>\n<p>Thank you</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9745,"page":480,"page_size":100}
