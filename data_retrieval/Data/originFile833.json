{"items":[{"tags":["java","arrays","sockets","io","datainputstream"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1670204340,"post_id":74682464,"comment_id":131814617,"body_markdown":"If this is TCP, do you understand that there&#39;s no correlation between the number of bytes in a single send, and the number of bytes delivered to a single recv?  At the socket level, a read completes when there are &#39;some&#39; bytes to read.","body":"If this is TCP, do you understand that there&#39;s no correlation between the number of bytes in a single send, and the number of bytes delivered to a single recv?  At the socket level, a read completes when there are &#39;some&#39; bytes to read."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1670205114,"post_id":74682464,"comment_id":131814724,"body_markdown":"Well, what do you want to happen? The `read()` method is working the way it is supposed to, the way the documentation says it should work. Maybe you want [`readFully()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInputStream.html#readFully(byte%5B%5D))?","body":"Well, what do you want to happen? The <code>read()</code> method is working the way it is supposed to, the way the documentation says it should work. Maybe you want <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInputStream.html#readFully(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>readFully()</code></a>?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1670210235,"post_id":74682464,"comment_id":131815399,"body_markdown":"In general, you just need to read in a loop until you&#39;ve read everything.  How do you know when that is?  You need a protocol that tells you; typically either there&#39;s a length (as in the Content-Length header of HTTP) or else you read until the end of the connection.","body":"In general, you just need to read in a loop until you&#39;ve read everything.  How do you know when that is?  You need a protocol that tells you; typically either there&#39;s a length (as in the Content-Length header of HTTP) or else you read until the end of the connection."},{"owner":{"account_id":21907315,"reputation":11,"user_id":16192212,"display_name":"Archonic"},"score":0,"creation_date":1670270819,"post_id":74682464,"comment_id":131833307,"body_markdown":"Thank you all for your input! It seems I&#39;ve misunderstood some fundamentals. I assumed Java&#39;s APIs had some magical way of knowing how many bytes were sent in one go. At least my question will help some other dude whose wracking his brain over the same thing...","body":"Thank you all for your input! It seems I&#39;ve misunderstood some fundamentals. I assumed Java&#39;s APIs had some magical way of knowing how many bytes were sent in one go. At least my question will help some other dude whose wracking his brain over the same thing..."}],"answers":[{"tags":[],"owner":{"account_id":21907315,"reputation":11,"user_id":16192212,"display_name":"Archonic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670277700,"creation_date":1670277700,"answer_id":74694876,"question_id":74682464,"body_markdown":"The read() method of DataInputStream doesn&#39;t directly correspond to the write() method of DataOutputStream. If you want to know how many bytes were sent in a single method call, the server has to inform the client manually.\r\n\r\nThis is because the read() method, since it doesn&#39;t depend on a set length, treats its process as completed when *some* bytes are read, as it has no way of knowing how many you want.","title":"Is there a reason why DataInputStream.read() only reads the first few bytes of really big arrays (&gt;100,000 bytes)?","body":"<p>The read() method of DataInputStream doesn't directly correspond to the write() method of DataOutputStream. If you want to know how many bytes were sent in a single method call, the server has to inform the client manually.</p>\n<p>This is because the read() method, since it doesn't depend on a set length, treats its process as completed when <em>some</em> bytes are read, as it has no way of knowing how many you want.</p>\n"}],"owner":{"account_id":21907315,"reputation":11,"user_id":16192212,"display_name":"Archonic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670277700,"creation_date":1670203655,"question_id":74682464,"body_markdown":"I&#39;m trying to write software that sends a set of data (a portion of a video game) in different formats (chunked, compressed, raw), and measures the speed between each. However, I&#39;m running into an issue while sorting out the CHUNKED method. I&#39;ve found that, when reading byte array sizes of more than 140000 bytes, the client starts to only read up to around 131072, no matter how much bigger the array actually is. Is there a reason for this, or potentially a better way to do this? My code is shown below. I&#39;m using the [read()](https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html#read(byte[])) method of DataInputStream (and its return value). \r\n\r\n**SERVER**\r\n\r\n\r\n```\r\n/**\r\n *\r\n * @return Time taken to complete transfer.\r\n */\r\npublic int start(String mode, int length) throws IOException, InterruptedException {\r\n    if(mode.equals(&quot;RAW&quot;)){\r\n        byte[] all = new ByteCollector(ServerMain.FILES, length).collect();\r\n        output.writeUTF(&quot;SENDING &quot; + mode + &quot; &quot; + all.length);\r\n        expect(&quot;RECEIVING &quot; + mode);\r\n        long start = System.currentTimeMillis();\r\n        echoSend(all);\r\n        return (int) (System.currentTimeMillis() - start);\r\n    }else if(mode.equals(&quot;CHUNKED&quot;)){ /*the important part*/\r\n        //split into chunks\r\n        byte[] all = new ByteCollector(ServerMain.FILES, length).collect();\r\n        int chunks = maxChunks(all);\r\n        output.writeUTF(&quot;SENDING &quot; + mode + &quot; &quot; + chunks);\r\n        System.out.println(&quot;Expecting RECEIVING &quot; + chunks + &quot;...&quot;);\r\n        expect(&quot;RECEIVING &quot; + chunks);\r\n        int ms = 0;\r\n        for(int i = 0; i&lt;chunks; i++){\r\n            byte[] currentChunk = getChunk(i, all);\r\n            System.out.println(&quot;My chunk length is &quot; + currentChunk.length);\r\n            long start = System.currentTimeMillis();\r\n            System.out.println(&quot;Sending...&quot;);\r\n            echoSend(currentChunk);\r\n            ms += System.currentTimeMillis() - start;\r\n        }\r\n        if(chunks == 0) expect(&quot;0&quot;); //still need to confirm, even though no data was sent\r\n        return ms;\r\n    }else if(mode.equals(&quot;COMPRESSED&quot;)){\r\n        byte[] compressed = new ByteCollector(ServerMain.FILES, length).collect();\r\n        compressed = ExperimentUtils.compress(compressed);\r\n        output.writeUTF(&quot;SENDING &quot; + mode + &quot; &quot; + compressed.length);\r\n        expect(&quot;RECEIVING &quot; + mode);\r\n        long start = System.currentTimeMillis();\r\n        echoSend(compressed, length);\r\n        return (int) (System.currentTimeMillis() - start);\r\n    }\r\n    return -1;\r\n}\r\n\r\n```\r\n\r\n```\r\npublic static void main(String[] args) throws IOException,InterruptedException{\r\n    FILES = Files.walk(Paths.get(DIRECTORY)).filter(Files::isRegularFile).toArray(Path[]::new);\r\n    SyncServer server = new SyncServer(new ServerSocket(12222).accept());\r\n    System.out.println(&quot;--------[CH UNK ED]--------&quot;);\r\n    short[] chunkedSpeeds = new short[FOLDER_SIZE_MB + 1/*for &quot;zero&quot; or origin*/];\r\n    for(int i = 0; i&lt;=FOLDER_SIZE_MB; i++){\r\n        chunkedSpeeds[i] = (short) server.start(&quot;CHUNKED&quot;, i * MB);\r\n        System.out.println(i + &quot;MB, Chunked: &quot; + chunkedSpeeds[i]);\r\n    }\r\n    short[] compressedSpeeds = new short[FOLDER_SIZE_MB + 1];\r\n    for(int i = 0; i&lt;=FOLDER_SIZE_MB; i++){\r\n        compressedSpeeds[i] = (short) server.start(&quot;COMPRESSED&quot;, i * MB);\r\n    }\r\n    short[] rawSpeeds = new short[FOLDER_SIZE_MB + 1];\r\n    for(int i = 0; i&lt;=FOLDER_SIZE_MB; i++){\r\n        rawSpeeds[i] = (short) server.start(&quot;RAW&quot;, i * MB);\r\n    }\r\n    System.out.println(&quot;Raw speeds: &quot; + Arrays.toString(rawSpeeds));\r\n    System.out.println(&quot;\\n\\nCompressed speeds: &quot; + Arrays.toString(compressedSpeeds));\r\n    System.out.println(&quot;\\n\\nChunked speeds: &quot; + Arrays.toString(chunkedSpeeds));\r\n}\r\n```\r\n\r\n**CLIENT**\r\n\r\n```\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n    Socket socket = new Socket(&quot;localhost&quot;, 12222);\r\n    DataInputStream input = new DataInputStream(socket.getInputStream());\r\n    DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n    while(socket.isConnected()){\r\n        String response = input.readUTF();\r\n        String[] content = response.split(&quot; &quot;);\r\n        if(response.startsWith(&quot;SENDING CHUNKED&quot;)){\r\n            int chunks = Integer.parseInt(content[2]);\r\n            System.out.println(&quot;Read chunk amount of &quot; + chunks);\r\n            output.writeUTF(&quot;RECEIVING &quot; + chunks);\r\n            for(int i = 0; i&lt;chunks; i++){\r\n                byte[] chunk = new byte[32 * MB];\r\n                System.out.println(&quot;Ready to receive...&quot;);\r\n                int read = input.read(chunk);\r\n                System.out.println(&quot;Echoing read length of &quot; + read);\r\n                output.writeUTF(String.valueOf(read));\r\n            }\r\n            if(chunks == 0) output.writeUTF(&quot;0&quot;);\r\n        }else if(response.startsWith(&quot;SENDING COMPRESSED&quot;)){\r\n            byte[] compressed = new byte[Integer.parseInt(content[2])];\r\n            output.writeUTF(&quot;RECEIVING &quot; + compressed.length);\r\n            input.read(compressed);\r\n            decompress(compressed);\r\n            output.writeInt(decompress(compressed).length);\r\n        }else if(response.startsWith(&quot;SENDING RAW&quot;)){\r\n            int length = Integer.parseInt(content[2]);\r\n            output.writeUTF(&quot;RECEIVING &quot; + length);\r\n            byte[] received = new byte[length];\r\n            input.read(received);\r\n            output.writeInt(received.length);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic static byte[] decompress(byte[] in) throws IOException {\r\n    try {\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        InflaterOutputStream infl = new InflaterOutputStream(out);\r\n        infl.write(in);\r\n        infl.flush();\r\n        infl.close();\r\n\r\n        return out.toByteArray();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Error decompressing byte array with length &quot; + in.length);\r\n        throw e;\r\n    }\r\n}\r\n```\r\n\r\nUsing SDK 17\r\n\r\n\r\nI tried switching around the byte amount, and found the cutoff was right where I stated above. I even replicated this in a test client/server project with no frills (find that [here][1], and found that the cutoff was even lower! I really hope this isn&#39;t an actual issue with Java...\r\n\r\n\r\n  [1]: https://pastebin.com/qcjJKhy8","title":"Is there a reason why DataInputStream.read() only reads the first few bytes of really big arrays (&gt;100,000 bytes)?","body":"<p>I'm trying to write software that sends a set of data (a portion of a video game) in different formats (chunked, compressed, raw), and measures the speed between each. However, I'm running into an issue while sorting out the CHUNKED method. I've found that, when reading byte array sizes of more than 140000 bytes, the client starts to only read up to around 131072, no matter how much bigger the array actually is. Is there a reason for this, or potentially a better way to do this? My code is shown below. I'm using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">read()</a> method of DataInputStream (and its return value).</p>\n<p><strong>SERVER</strong></p>\n<pre><code>/**\n *\n * @return Time taken to complete transfer.\n */\npublic int start(String mode, int length) throws IOException, InterruptedException {\n    if(mode.equals(&quot;RAW&quot;)){\n        byte[] all = new ByteCollector(ServerMain.FILES, length).collect();\n        output.writeUTF(&quot;SENDING &quot; + mode + &quot; &quot; + all.length);\n        expect(&quot;RECEIVING &quot; + mode);\n        long start = System.currentTimeMillis();\n        echoSend(all);\n        return (int) (System.currentTimeMillis() - start);\n    }else if(mode.equals(&quot;CHUNKED&quot;)){ /*the important part*/\n        //split into chunks\n        byte[] all = new ByteCollector(ServerMain.FILES, length).collect();\n        int chunks = maxChunks(all);\n        output.writeUTF(&quot;SENDING &quot; + mode + &quot; &quot; + chunks);\n        System.out.println(&quot;Expecting RECEIVING &quot; + chunks + &quot;...&quot;);\n        expect(&quot;RECEIVING &quot; + chunks);\n        int ms = 0;\n        for(int i = 0; i&lt;chunks; i++){\n            byte[] currentChunk = getChunk(i, all);\n            System.out.println(&quot;My chunk length is &quot; + currentChunk.length);\n            long start = System.currentTimeMillis();\n            System.out.println(&quot;Sending...&quot;);\n            echoSend(currentChunk);\n            ms += System.currentTimeMillis() - start;\n        }\n        if(chunks == 0) expect(&quot;0&quot;); //still need to confirm, even though no data was sent\n        return ms;\n    }else if(mode.equals(&quot;COMPRESSED&quot;)){\n        byte[] compressed = new ByteCollector(ServerMain.FILES, length).collect();\n        compressed = ExperimentUtils.compress(compressed);\n        output.writeUTF(&quot;SENDING &quot; + mode + &quot; &quot; + compressed.length);\n        expect(&quot;RECEIVING &quot; + mode);\n        long start = System.currentTimeMillis();\n        echoSend(compressed, length);\n        return (int) (System.currentTimeMillis() - start);\n    }\n    return -1;\n}\n\n</code></pre>\n<pre><code>public static void main(String[] args) throws IOException,InterruptedException{\n    FILES = Files.walk(Paths.get(DIRECTORY)).filter(Files::isRegularFile).toArray(Path[]::new);\n    SyncServer server = new SyncServer(new ServerSocket(12222).accept());\n    System.out.println(&quot;--------[CH UNK ED]--------&quot;);\n    short[] chunkedSpeeds = new short[FOLDER_SIZE_MB + 1/*for &quot;zero&quot; or origin*/];\n    for(int i = 0; i&lt;=FOLDER_SIZE_MB; i++){\n        chunkedSpeeds[i] = (short) server.start(&quot;CHUNKED&quot;, i * MB);\n        System.out.println(i + &quot;MB, Chunked: &quot; + chunkedSpeeds[i]);\n    }\n    short[] compressedSpeeds = new short[FOLDER_SIZE_MB + 1];\n    for(int i = 0; i&lt;=FOLDER_SIZE_MB; i++){\n        compressedSpeeds[i] = (short) server.start(&quot;COMPRESSED&quot;, i * MB);\n    }\n    short[] rawSpeeds = new short[FOLDER_SIZE_MB + 1];\n    for(int i = 0; i&lt;=FOLDER_SIZE_MB; i++){\n        rawSpeeds[i] = (short) server.start(&quot;RAW&quot;, i * MB);\n    }\n    System.out.println(&quot;Raw speeds: &quot; + Arrays.toString(rawSpeeds));\n    System.out.println(&quot;\\n\\nCompressed speeds: &quot; + Arrays.toString(compressedSpeeds));\n    System.out.println(&quot;\\n\\nChunked speeds: &quot; + Arrays.toString(chunkedSpeeds));\n}\n</code></pre>\n<p><strong>CLIENT</strong></p>\n<pre><code>public static void main(String[] args) throws IOException, InterruptedException {\n    Socket socket = new Socket(&quot;localhost&quot;, 12222);\n    DataInputStream input = new DataInputStream(socket.getInputStream());\n    DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n    while(socket.isConnected()){\n        String response = input.readUTF();\n        String[] content = response.split(&quot; &quot;);\n        if(response.startsWith(&quot;SENDING CHUNKED&quot;)){\n            int chunks = Integer.parseInt(content[2]);\n            System.out.println(&quot;Read chunk amount of &quot; + chunks);\n            output.writeUTF(&quot;RECEIVING &quot; + chunks);\n            for(int i = 0; i&lt;chunks; i++){\n                byte[] chunk = new byte[32 * MB];\n                System.out.println(&quot;Ready to receive...&quot;);\n                int read = input.read(chunk);\n                System.out.println(&quot;Echoing read length of &quot; + read);\n                output.writeUTF(String.valueOf(read));\n            }\n            if(chunks == 0) output.writeUTF(&quot;0&quot;);\n        }else if(response.startsWith(&quot;SENDING COMPRESSED&quot;)){\n            byte[] compressed = new byte[Integer.parseInt(content[2])];\n            output.writeUTF(&quot;RECEIVING &quot; + compressed.length);\n            input.read(compressed);\n            decompress(compressed);\n            output.writeInt(decompress(compressed).length);\n        }else if(response.startsWith(&quot;SENDING RAW&quot;)){\n            int length = Integer.parseInt(content[2]);\n            output.writeUTF(&quot;RECEIVING &quot; + length);\n            byte[] received = new byte[length];\n            input.read(received);\n            output.writeInt(received.length);\n        }\n    }\n}\n</code></pre>\n<pre><code>public static byte[] decompress(byte[] in) throws IOException {\n    try {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        InflaterOutputStream infl = new InflaterOutputStream(out);\n        infl.write(in);\n        infl.flush();\n        infl.close();\n\n        return out.toByteArray();\n    } catch (Exception e) {\n        System.out.println(&quot;Error decompressing byte array with length &quot; + in.length);\n        throw e;\n    }\n}\n</code></pre>\n<p>Using SDK 17</p>\n<p>I tried switching around the byte amount, and found the cutoff was right where I stated above. I even replicated this in a test client/server project with no frills (find that <a href=\"https://pastebin.com/qcjJKhy8\" rel=\"nofollow noreferrer\">here</a>, and found that the cutoff was even lower! I really hope this isn't an actual issue with Java...</p>\n"},{"tags":["java","for-loop","processing"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1670274863,"post_id":74694423,"comment_id":131834371,"body_markdown":"Because `draw()` is being repeatedly called, perhaps?","body":"Because <code>draw()</code> is being repeatedly called, perhaps?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1670277714,"post_id":74694423,"comment_id":131835145,"body_markdown":"from the [Processing Overview](https://processing.org/tutorials/overview) tutorial: &quot;*The setup() block runs once, and the draw() block runs repeatedly.*&quot; (reading tutorials is *lame*, I know... :-/ )","body":"from the <a href=\"https://processing.org/tutorials/overview\" rel=\"nofollow noreferrer\">Processing Overview</a> tutorial: &quot;<i>The setup() block runs once, and the draw() block runs repeatedly.</i>&quot; (reading tutorials is <i>lame</i>, I know... :-/ )"}],"owner":{"account_id":27156965,"reputation":1,"user_id":20695626,"display_name":"fynn leiber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670277683,"creation_date":1670274654,"question_id":74694423,"body_markdown":"It seems like the for loop in my code is not stopping after it iterated througt the counter. it seems to restart, checked with the print function and the length of the directory list seems to be recognized but then it restarts from 0 and so on. First time coding with java and in general i do not have much experience in coding, logic experience comes from visual coding and little bit of python. if somebody can help it would be great. \r\n\r\n\r\n\r\nhere is the code,\r\nto run it you need will need processing (https://processing.org/download) and some images in the input folder. thougth this is an easy problem, thats why i still post it here.\r\n\r\nI know its not pretty so pls dont hate on it\r\n\r\n\r\n\r\n\r\n```\r\nint dim = 1024;\r\nPImage img;\r\nString inDir;\r\nimport java.util.*;\r\nimport java.text.DecimalFormat;\r\n\r\nString outDir;\r\nString nameSpace;\r\nString nameSpaceOut; \r\nPGraphics pg;\r\n\r\nvoid setup() {\r\n  size(1024, 1024);\r\n  inDir = &quot;C:/Users/Fynn/Desktop/processing-3.5.4/Resizematte/data/Input 1/&quot;;\r\n  outDir = &quot;C:/Users/Fynn/Desktop/processing-3.5.4/Resizematte/data/Output 3/&quot;;\r\n  nameSpace = &quot;ImageToResize&quot;;\r\n  pg = createGraphics(dim, dim);\r\n\r\n  nameSpaceOut = &quot;Resized&quot;;\r\n}\r\n\r\nvoid draw () {\r\n  background(0);\r\n\r\n  pg.beginDraw();\r\n\r\n  File dir = new File(inDir);\r\n  String[] filenames = dir.list();\r\n\r\n  for (int i = 0; i &lt; filenames.length; i++) {\r\n    background(255, 255, 255);\r\n    String fName = inDir + filenames[i];\r\n\r\n    img = loadImage(fName);\r\n    if (img != null) {\r\n      float w = img.width;\r\n      float h = img.height;\r\n      float m = w;\r\n      float f = h;\r\n      if (h &gt; w) { //change to &lt; for crop &gt; for matte\r\n        m = h;\r\n        f = w;\r\n      }\r\n      float factor = (dim/m);\r\n      if(h &gt; w){\r\n        img.resize(int(f*factor), int(m*factor));\r\n      }\r\n      else {\r\n       img.resize(int(m*factor), int(f*factor));\r\n      }\r\n\r\n      image(img, width/2-img.width/2, height/2-img.height/2);\r\n      String outName1 = outDir + nameSpaceOut + &quot;_&quot; + i +&quot;.png&quot;;\r\n     save(outName1);\r\n     }\r\n   }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni try to format pictures which i want to use as a data set input for a GAN machine learnign algorithm.","title":"Java for loop not stopping. what is wrong with the code","body":"<p>It seems like the for loop in my code is not stopping after it iterated througt the counter. it seems to restart, checked with the print function and the length of the directory list seems to be recognized but then it restarts from 0 and so on. First time coding with java and in general i do not have much experience in coding, logic experience comes from visual coding and little bit of python. if somebody can help it would be great.</p>\n<p>here is the code,\nto run it you need will need processing (<a href=\"https://processing.org/download\" rel=\"nofollow noreferrer\">https://processing.org/download</a>) and some images in the input folder. thougth this is an easy problem, thats why i still post it here.</p>\n<p>I know its not pretty so pls dont hate on it</p>\n<pre><code>int dim = 1024;\nPImage img;\nString inDir;\nimport java.util.*;\nimport java.text.DecimalFormat;\n\nString outDir;\nString nameSpace;\nString nameSpaceOut; \nPGraphics pg;\n\nvoid setup() {\n  size(1024, 1024);\n  inDir = &quot;C:/Users/Fynn/Desktop/processing-3.5.4/Resizematte/data/Input 1/&quot;;\n  outDir = &quot;C:/Users/Fynn/Desktop/processing-3.5.4/Resizematte/data/Output 3/&quot;;\n  nameSpace = &quot;ImageToResize&quot;;\n  pg = createGraphics(dim, dim);\n\n  nameSpaceOut = &quot;Resized&quot;;\n}\n\nvoid draw () {\n  background(0);\n\n  pg.beginDraw();\n\n  File dir = new File(inDir);\n  String[] filenames = dir.list();\n\n  for (int i = 0; i &lt; filenames.length; i++) {\n    background(255, 255, 255);\n    String fName = inDir + filenames[i];\n\n    img = loadImage(fName);\n    if (img != null) {\n      float w = img.width;\n      float h = img.height;\n      float m = w;\n      float f = h;\n      if (h &gt; w) { //change to &lt; for crop &gt; for matte\n        m = h;\n        f = w;\n      }\n      float factor = (dim/m);\n      if(h &gt; w){\n        img.resize(int(f*factor), int(m*factor));\n      }\n      else {\n       img.resize(int(m*factor), int(f*factor));\n      }\n\n      image(img, width/2-img.width/2, height/2-img.height/2);\n      String outName1 = outDir + nameSpaceOut + &quot;_&quot; + i +&quot;.png&quot;;\n     save(outName1);\n     }\n   }\n}\n\n</code></pre>\n<p>i try to format pictures which i want to use as a data set input for a GAN machine learnign algorithm.</p>\n"},{"tags":["java","macos","ant","javapackager"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1669685083,"post_id":74607648,"comment_id":131693951,"body_markdown":"Sounds like you are specifying a directory name where a filename is expected.","body":"Sounds like you are specifying a directory name where a filename is expected."},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1670530823,"post_id":74607648,"comment_id":131902131,"body_markdown":"Have you bundled a jre with your application ? If not,  are you sure that current jre on your hosting machine has the right version compared to the required version by your app ? (e.g. if your default jre is 8 and your app is compiled with java 11, it won&#39;t launch).","body":"Have you bundled a jre with your application ? If not,  are you sure that current jre on your hosting machine has the right version compared to the required version by your app ? (e.g. if your default jre is 8 and your app is compiled with java 11, it won&#39;t launch)."},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1670530877,"post_id":74607648,"comment_id":131902146,"body_markdown":"Other question, have you tried your build in another environment ? e.g. running it on a Linux virtual machine ?","body":"Other question, have you tried your build in another environment ? e.g. running it on a Linux virtual machine ?"},{"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"score":0,"creation_date":1670546924,"post_id":74607648,"comment_id":131905584,"body_markdown":"As I said in the question, when I run the executable created within the bundle, the Java application launches and behaves as expected.  It is not a Java incompatability issue.","body":"As I said in the question, when I run the executable created within the bundle, the Java application launches and behaves as expected.  It is not a Java incompatability issue."},{"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"score":0,"creation_date":1670546989,"post_id":74607648,"comment_id":131905595,"body_markdown":"javapackager builds an application suitable for the platform on which it is run.  That is, running it on a Linux box would produce a Linux application, which is not what I want.","body":"javapackager builds an application suitable for the platform on which it is run.  That is, running it on a Linux box would produce a Linux application, which is not what I want."}],"answers":[{"comments":[{"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"score":0,"creation_date":1670191973,"post_id":74678465,"comment_id":131812791,"body_markdown":"This is not correct.  As I said in the question, the error is not happening during the execution of javapackager, but during the launch of the executable that javapackager produces.","body":"This is not correct.  As I said in the question, the error is not happening during the execution of javapackager, but during the launch of the executable that javapackager produces."},{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1670227570,"post_id":74678465,"comment_id":131818397,"body_markdown":"The cause is the same one: of your derived products is creating the file where a folder exists, probably you are running it in a different folder to the one you are thinking of, or one of those commands is running in a different folder you are not using directly","body":"The cause is the same one: of your derived products is creating the file where a folder exists, probably you are running it in a different folder to the one you are thinking of, or one of those commands is running in a different folder you are not using directly"},{"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"score":0,"creation_date":1670277675,"post_id":74678465,"comment_id":131835130,"body_markdown":"The &quot;derived product&quot; is an application which does not create files or folders.  And as I said in the question, the executable within the application bundle executes correctly.","body":"The &quot;derived product&quot; is an application which does not create files or folders.  And as I said in the question, the executable within the application bundle executes correctly."},{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1670349579,"post_id":74678465,"comment_id":131854500,"body_markdown":"the output &quot;Launchd job spawn failed&quot; disagrees with that statement. But ok.","body":"the output &quot;Launchd job spawn failed&quot; disagrees with that statement. But ok."},{"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"score":0,"creation_date":1670363158,"post_id":74678465,"comment_id":131858723,"body_markdown":"Which statement?   It is true that launchd fails to spawn the job, and it is true that the executable runs correctly.  When you double click on an application, launchd runs, looks inside the application bundle for the executable (specified in Info.plist) and then launches it.  If I take launchd out of the picture, the executable runs correctly.","body":"Which statement?   It is true that launchd fails to spawn the job, and it is true that the executable runs correctly.  When you double click on an application, launchd runs, looks inside the application bundle for the executable (specified in Info.plist) and then launches it.  If I take launchd out of the picture, the executable runs correctly."}],"tags":[],"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670170587,"creation_date":1670170587,"answer_id":74678465,"question_id":74607648,"body_markdown":"The error you are having is because you are trying to create a file, in this case it is either appname or jarfilename but that path has been already created as a folder, probably by a previous command. \r\n\r\nMaybe you can try to list files and folders in the folder where this command is running and check if this is correct","title":"Application built by jarbundler fails to launch","body":"<p>The error you are having is because you are trying to create a file, in this case it is either appname or jarfilename but that path has been already created as a folder, probably by a previous command.</p>\n<p>Maybe you can try to list files and folders in the folder where this command is running and check if this is correct</p>\n"}],"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670277601,"creation_date":1669678884,"question_id":74607648,"body_markdown":"I am building a Java 9 application for MacOS using Javapackager, via ant.\r\n\r\nThe build process succeeds without complaint, but the resulting application does not launch.  However, when I run the executable within the generated application bundle, it does work.  The problem, therefore, seems to be that launchd cannot find or launch that executable.\r\n\r\nWhen I open the executable, I see:\r\n\r\n    The application cannot be opened for an unexpected reason, error=Error Domain=NSOSStatusErrorDomain Code=-10810 &quot;kLSUnknownErr: Unexpected internal error&quot; UserInfo={_LSFunction=_LSLaunchWithRunningboard, _LSLine=2732, NSUnderlyingError=0x600003f40630 {Error Domain=RBSRequestErrorDomain Code=5 &quot;Launch failed.&quot; UserInfo={NSLocalizedFailureReason=Launch failed., NSUnderlyingError=0x600003f404b0 {Error Domain=NSPOSIXErrorDomain Code=21 &quot;Is a directory&quot; UserInfo={NSLocalizedDescription=Launchd job spawn failed}}}}}\r\n\r\nThe fx:deploy task looks like this:\r\n\r\n    &lt;fx:deploy width=&quot;300&quot; height=&quot;250&quot;\r\n               nativeBundles=&quot;image&quot;\r\n               outdir=&quot;Platforms/Macintosh/dist&quot;\r\n               mainClass=&quot;&lt;classname&gt;&quot;\r\n               outfile=&quot;&lt;applicationname&gt;&quot;&gt;\r\n        &lt;fx:application refId=&quot;&lt;appid&gt;&quot;/&gt;\r\n        &lt;fx:resources refid=&quot;&lt;resources&gt;&quot;/&gt;\r\n        &lt;fx:info title=&quot;&lt;appname&gt;&quot; vendor=&quot;&lt;myname&gt;&quot;/&gt;\r\n    &lt;/fx:deploy&gt;\r\n\r\nwhere the `&lt;parameters&gt;` are specified, of course.\r\n\r\nHere is the equivalent (at least in the sense that it produces the same error) `javapackager` command line:\r\n\r\n    javapackager -deploy -native image \r\n        -outdir Platforms/Macintosh/dist -outfile appname \r\n        -srcdir Platforms/Java/dist -srcfiles jarfilename \r\n        -appclass classname \r\n        -name &quot;appname&quot; -title &quot;appname demo&quot; \r\n        -nosign\r\n\r\n`jarfilename` and `classname` are set correctly, that is `jarfilename` is the name of an existing jar file, and `classname` is the name of a class within that jar file.  And again, the executable in the generated application bundle runs with the expected outcome.\r\n\r\n`appname` is the name of the application that I want to create.  No object (folder or file) with that name exists in the output directory.\r\n\r\n\r\nI am missing something, but I am unsure of what.  Any advice?\r\n\r\nThanks in advance.","title":"Application built by jarbundler fails to launch","body":"<p>I am building a Java 9 application for MacOS using Javapackager, via ant.</p>\n<p>The build process succeeds without complaint, but the resulting application does not launch.  However, when I run the executable within the generated application bundle, it does work.  The problem, therefore, seems to be that launchd cannot find or launch that executable.</p>\n<p>When I open the executable, I see:</p>\n<pre><code>The application cannot be opened for an unexpected reason, error=Error Domain=NSOSStatusErrorDomain Code=-10810 &quot;kLSUnknownErr: Unexpected internal error&quot; UserInfo={_LSFunction=_LSLaunchWithRunningboard, _LSLine=2732, NSUnderlyingError=0x600003f40630 {Error Domain=RBSRequestErrorDomain Code=5 &quot;Launch failed.&quot; UserInfo={NSLocalizedFailureReason=Launch failed., NSUnderlyingError=0x600003f404b0 {Error Domain=NSPOSIXErrorDomain Code=21 &quot;Is a directory&quot; UserInfo={NSLocalizedDescription=Launchd job spawn failed}}}}}\n</code></pre>\n<p>The fx:deploy task looks like this:</p>\n<pre><code>&lt;fx:deploy width=&quot;300&quot; height=&quot;250&quot;\n           nativeBundles=&quot;image&quot;\n           outdir=&quot;Platforms/Macintosh/dist&quot;\n           mainClass=&quot;&lt;classname&gt;&quot;\n           outfile=&quot;&lt;applicationname&gt;&quot;&gt;\n    &lt;fx:application refId=&quot;&lt;appid&gt;&quot;/&gt;\n    &lt;fx:resources refid=&quot;&lt;resources&gt;&quot;/&gt;\n    &lt;fx:info title=&quot;&lt;appname&gt;&quot; vendor=&quot;&lt;myname&gt;&quot;/&gt;\n&lt;/fx:deploy&gt;\n</code></pre>\n<p>where the <code>&lt;parameters&gt;</code> are specified, of course.</p>\n<p>Here is the equivalent (at least in the sense that it produces the same error) <code>javapackager</code> command line:</p>\n<pre><code>javapackager -deploy -native image \n    -outdir Platforms/Macintosh/dist -outfile appname \n    -srcdir Platforms/Java/dist -srcfiles jarfilename \n    -appclass classname \n    -name &quot;appname&quot; -title &quot;appname demo&quot; \n    -nosign\n</code></pre>\n<p><code>jarfilename</code> and <code>classname</code> are set correctly, that is <code>jarfilename</code> is the name of an existing jar file, and <code>classname</code> is the name of a class within that jar file.  And again, the executable in the generated application bundle runs with the expected outcome.</p>\n<p><code>appname</code> is the name of the application that I want to create.  No object (folder or file) with that name exists in the output directory.</p>\n<p>I am missing something, but I am unsure of what.  Any advice?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","csv"],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670277448,"post_id":74694824,"comment_id":131835068,"body_markdown":"side note: i implemented&amp;configured http-message-converter like yours (+ `com.opencsv:opencsv:5.7.1`), but it &quot;rearranged&quot; the columns ;(;(","body":"side note: i implemented&amp;configured http-message-converter like yours (+ <code>com.opencsv:opencsv:5.7.1</code>), but it &quot;rearranged&quot; the columns ;(;("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670464289,"post_id":74694824,"comment_id":131884090,"body_markdown":"I tried to come up with a more generic solution like `@Bean\n  OperationCustomizer opCust() {\n    return (op, method) -&gt; {\n      ApiResponse ar = op.getResponses().get(&quot;200&quot;);\n      if (ar != null) {\n        Content content = ar.getContent();\n        for (Map.Entry&lt;String, MediaType&gt; e : content.entrySet()) {\n          String key = e.getKey();\n          MediaType mt = e.getValue();\n          if (&quot;text/csv&quot;.equalsIgnoreCase(key)) {\n            try {\n              StringWriter writer = new StringWriter();...`","body":"I tried to come up with a more generic solution like <code>@Bean   OperationCustomizer opCust() {     return (op, method) -&gt; {       ApiResponse ar = op.getResponses().get(&quot;200&quot;);       if (ar != null) {         Content content = ar.getContent();         for (Map.Entry&lt;String, MediaType&gt; e : content.entrySet()) {           String key = e.getKey();           MediaType mt = e.getValue();           if (&quot;text&#47;csv&quot;.equalsIgnoreCase(key)) {             try {               StringWriter writer = new StringWriter();...</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670464353,"post_id":74694824,"comment_id":131884098,"body_markdown":"it triggers! ... but the problem is: 1. it is buggy ..(it affects all media types, not only &quot;text/csv&quot;) 2. The backend delivers (by default) empty example objects (the rest is taken care by swagger-ui!;(;(","body":"it triggers! ... but the problem is: 1. it is buggy ..(it affects all media types, not only &quot;text/csv&quot;) 2. The backend delivers (by default) empty example objects (the rest is taken care by swagger-ui!;(;("}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670277290,"creation_date":1670277290,"answer_id":74694824,"question_id":74643529,"body_markdown":"I would do it with &quot;swagger annotations&quot; like so:\r\n```lang-java\r\npackage com.example.springboot3openapi;\r\n\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.media.ExampleObject;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class SomeController {\r\n\r\n  @Operation(summary = &quot;Get some&quot;, responses = {\r\n    @ApiResponse(\r\n        description = &quot;Successful Operation&quot;,\r\n        responseCode = &quot;200&quot;,\r\n        content = {\r\n          @Content(\r\n              mediaType = &quot;application/json&quot;,\r\n              schema = @Schema(implementation = SomeObject.class)\r\n          ),\r\n          @Content( // !\r\n              mediaType = &quot;text/csv&quot;,\r\n              schema = @Schema(implementation = SomeObject.class),\r\n              examples = { // !!\r\n                @ExampleObject(value = &quot;foo;bar\\nstring;string\\n&quot;) // &lt;- your csv string here\r\n              }\r\n          )\r\n        }\r\n    ),\r\n    @ApiResponse(responseCode = &quot;401&quot;, description = &quot;Authentication Failure&quot;, content = @Content) // ,...\r\n  })\r\n  @GetMapping(value = &quot;some&quot;, produces = {&quot;text/csv&quot;, &quot;application/json&quot;})\r\n  public ResponseEntity&lt;SomeObject&gt; somePost() {\r\n    return ResponseEntity.ok(new SomeObject(&quot;Hello&quot;, &quot;World&quot;));\r\n  }\r\n}\r\n```\r\n\r\nProduces UI like:\r\n\r\n[![screenshot][1]][1]\r\n\r\nThis is a openapi-v3 solution, for v2 please replace with the according annotations. Tested with sprin-boot:3.0.0 (-&gt; https://springdoc.org/v2/) and spring-boot:2.7.6 (-&gt; https://springdoc.org/). #\r\n\r\n  [1]: https://i.stack.imgur.com/mk0ij.png","title":"Swagger + Spring show csv as example","body":"<p>I would do it with &quot;swagger annotations&quot; like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springboot3openapi;\n\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.ExampleObject;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class SomeController {\n\n  @Operation(summary = &quot;Get some&quot;, responses = {\n    @ApiResponse(\n        description = &quot;Successful Operation&quot;,\n        responseCode = &quot;200&quot;,\n        content = {\n          @Content(\n              mediaType = &quot;application/json&quot;,\n              schema = @Schema(implementation = SomeObject.class)\n          ),\n          @Content( // !\n              mediaType = &quot;text/csv&quot;,\n              schema = @Schema(implementation = SomeObject.class),\n              examples = { // !!\n                @ExampleObject(value = &quot;foo;bar\\nstring;string\\n&quot;) // &lt;- your csv string here\n              }\n          )\n        }\n    ),\n    @ApiResponse(responseCode = &quot;401&quot;, description = &quot;Authentication Failure&quot;, content = @Content) // ,...\n  })\n  @GetMapping(value = &quot;some&quot;, produces = {&quot;text/csv&quot;, &quot;application/json&quot;})\n  public ResponseEntity&lt;SomeObject&gt; somePost() {\n    return ResponseEntity.ok(new SomeObject(&quot;Hello&quot;, &quot;World&quot;));\n  }\n}\n</code></pre>\n<p>Produces UI like:</p>\n<p><a href=\"https://i.stack.imgur.com/mk0ij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mk0ij.png\" alt=\"screenshot\" /></a></p>\n<p>This is a openapi-v3 solution, for v2 please replace with the according annotations. Tested with sprin-boot:3.0.0 (-&gt; <a href=\"https://springdoc.org/v2/\" rel=\"nofollow noreferrer\">https://springdoc.org/v2/</a>) and spring-boot:2.7.6 (-&gt; <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">https://springdoc.org/</a>). #</p>\n"}],"owner":{"account_id":27112361,"reputation":23,"user_id":20657306,"display_name":"KChas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74694824,"answer_count":1,"score":2,"last_activity_date":1670277290,"creation_date":1669905169,"question_id":74643529,"body_markdown":"I have added a `AbstractGenericHttpMessageConverter` to Spring that looks the following:\r\n\r\n```java\r\npublic class SongConverter extends AbstractGenericHttpMessageConverter&lt;Song&gt; {\r\n\r\n    public SongConverter() {\r\n        super(new MediaType(&quot;text&quot;, &quot;csv&quot;));\r\n    }\r\n\r\n    @Override\r\n    protected void writeInternal(@NonNull Song song, Type type, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\r\n        try (var writer = new OutputStreamWriter(outputMessage.getBody())) {\r\n            new StatefulBeanToCsvBuilder&lt;&gt;(writer).withSeparator(&#39;,&#39;).build().write(song);\r\n        } catch (CsvDataTypeMismatchException | CsvRequiredFieldEmptyException ex) {\r\n            log.error(&quot;Error while writing song to csv&quot;, ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean canWrite(Type type, Class&lt;?&gt; clazz, MediaType mediaType) {\r\n        return super.canWrite(clazz, mediaType) &amp;&amp; clazz == Song.class;\r\n    }\r\n}\r\n```\r\n\r\nAnd then in my Swagger Docs I get both fields in my Swagger generated code\r\nHere is an image:\r\n![da img](https://i.stack.imgur.com/b0BbS.png), however the CSV example doesn&#39;t change and remains of type JSON. When I added XML it was correct and changed accordingly.\r\n\r\nFor reference here is my Config Bean:\r\n```java\r\n@Bean\r\npublic WebMvcConfigurer configurer() {\r\n    return new WebMvcConfigurer() {\r\n        @Override\r\n        public void configureContentNegotiation(@NonNull ContentNegotiationConfigurer configurer) {\r\n            configurer.parameterName(&quot;mediaType&quot;).ignoreAcceptHeader(false)\r\n                .defaultContentType(MediaType.APPLICATION_JSON)\r\n                .mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML)\r\n                .mediaType(&quot;csv&quot;, new MediaType(&quot;text&quot;, &quot;csv&quot;))\r\n                .mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON);\r\n        }\r\n\r\n        @Override\r\n        public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.add(new SongConverter());\r\n            //converters.add(new SongsConverter());\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIs there something I&#39;m missing? I&#39;m aware of the workaround with overriding the default of the API, but that solution seems rather sketchy.","title":"Swagger + Spring show csv as example","body":"<p>I have added a <code>AbstractGenericHttpMessageConverter</code> to Spring that looks the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SongConverter extends AbstractGenericHttpMessageConverter&lt;Song&gt; {\n\n    public SongConverter() {\n        super(new MediaType(&quot;text&quot;, &quot;csv&quot;));\n    }\n\n    @Override\n    protected void writeInternal(@NonNull Song song, Type type, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\n        try (var writer = new OutputStreamWriter(outputMessage.getBody())) {\n            new StatefulBeanToCsvBuilder&lt;&gt;(writer).withSeparator(',').build().write(song);\n        } catch (CsvDataTypeMismatchException | CsvRequiredFieldEmptyException ex) {\n            log.error(&quot;Error while writing song to csv&quot;, ex);\n        }\n    }\n\n    @Override\n    public boolean canWrite(Type type, Class&lt;?&gt; clazz, MediaType mediaType) {\n        return super.canWrite(clazz, mediaType) &amp;&amp; clazz == Song.class;\n    }\n}\n</code></pre>\n<p>And then in my Swagger Docs I get both fields in my Swagger generated code\nHere is an image:\n<img src=\"https://i.stack.imgur.com/b0BbS.png\" alt=\"da img\" />, however the CSV example doesn't change and remains of type JSON. When I added XML it was correct and changed accordingly.</p>\n<p>For reference here is my Config Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebMvcConfigurer configurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void configureContentNegotiation(@NonNull ContentNegotiationConfigurer configurer) {\n            configurer.parameterName(&quot;mediaType&quot;).ignoreAcceptHeader(false)\n                .defaultContentType(MediaType.APPLICATION_JSON)\n                .mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML)\n                .mediaType(&quot;csv&quot;, new MediaType(&quot;text&quot;, &quot;csv&quot;))\n                .mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON);\n        }\n\n        @Override\n        public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n            converters.add(new SongConverter());\n            //converters.add(new SongsConverter());\n        }\n    };\n}\n</code></pre>\n<p>Is there something I'm missing? I'm aware of the workaround with overriding the default of the API, but that solution seems rather sketchy.</p>\n"},{"tags":["java","web-applications","jboss"],"answers":[{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1670271518,"post_id":74693381,"comment_id":131833503,"body_markdown":"This could be a workaround in case there is no way of getting the value directly. Yet I still hope there is.","body":"This could be a workaround in case there is no way of getting the value directly. Yet I still hope there is."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1670275320,"post_id":74693381,"comment_id":131834503,"body_markdown":"There&#39;s not without using WildFly specific API&#39;s.","body":"There&#39;s not without using WildFly specific API&#39;s."}],"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670268360,"creation_date":1670268360,"answer_id":74693381,"question_id":74685177,"body_markdown":"The `max-post-size` [allows for an expression][1]. That means you could use a system property which could be set on the attribute and retrieved by your application.\r\n\r\nIn CLI you&#39;d do something like this:\r\n\r\n    /system-property=max.post.size:add(value=25485760)\r\n    /subsystem=undertow/server=default-server/http-listener=default/:write-attribute(name=max-post-size,value=${max.post.size:10485760})\r\n\r\nWhile the default, `:10485760`, is not strictly required, I&#39;d advise it.\r\n\r\nThen in your application you simply just to simply retrieve the system property.\r\n\r\n[1]: https://docs.wildfly.org/27/wildscribe/subsystem/undertow/server/http-listener/index.html#attr-max-post-size","title":"JBoss get max post size","body":"<p>The <code>max-post-size</code> <a href=\"https://docs.wildfly.org/27/wildscribe/subsystem/undertow/server/http-listener/index.html#attr-max-post-size\" rel=\"nofollow noreferrer\">allows for an expression</a>. That means you could use a system property which could be set on the attribute and retrieved by your application.</p>\n<p>In CLI you'd do something like this:</p>\n<pre><code>/system-property=max.post.size:add(value=25485760)\n/subsystem=undertow/server=default-server/http-listener=default/:write-attribute(name=max-post-size,value=${max.post.size:10485760})\n</code></pre>\n<p>While the default, <code>:10485760</code>, is not strictly required, I'd advise it.</p>\n<p>Then in your application you simply just to simply retrieve the system property.</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670277056,"creation_date":1670228466,"question_id":74685177,"body_markdown":"While I have managed to increase the max post size on my JBoss following\r\nhttp://www.mastertheboss.com/web/jboss-web-server/configuring-wildfly-upload-file-size/\r\nnow I&#39;d like my webapp to inform users. So I would like to render on the screen that the server accepts upload up to XXX MB.\r\n\r\nHow can a webapp retrieve the max post size setting from JBoss? Is there even a container agnostic way that could work across different servlet containers?","title":"JBoss get max post size","body":"<p>While I have managed to increase the max post size on my JBoss following\n<a href=\"http://www.mastertheboss.com/web/jboss-web-server/configuring-wildfly-upload-file-size/\" rel=\"nofollow noreferrer\">http://www.mastertheboss.com/web/jboss-web-server/configuring-wildfly-upload-file-size/</a>\nnow I'd like my webapp to inform users. So I would like to render on the screen that the server accepts upload up to XXX MB.</p>\n<p>How can a webapp retrieve the max post size setting from JBoss? Is there even a container agnostic way that could work across different servlet containers?</p>\n"},{"tags":["java","android","android-recyclerview","nestedrecyclerview"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":0,"creation_date":1670186299,"post_id":74680622,"comment_id":131811635,"body_markdown":"How do you know it isn&#39;t inflated? Was there any error? How does the UI look now? And if we&#39;re speaking about UI, you should probably post the XMLs of the related views. Please update the question because it might not be entirelly clear what the problem is here.","body":"How do you know it isn&#39;t inflated? Was there any error? How does the UI look now? And if we&#39;re speaking about UI, you should probably post the XMLs of the related views. Please update the question because it might not be entirelly clear what the problem is here."},{"owner":{"account_id":24274748,"reputation":1,"user_id":18222209,"display_name":"sidali"},"score":0,"creation_date":1670277395,"post_id":74680622,"comment_id":131835059,"body_markdown":"@sweak first it&#39;s not inflated because i created a button to check if the list passed to the adapter is actually populated, and it was indeed populated, so if the data are being passed successfully it means that the recyclerView layout isn&#39;t being inflated if am not mistaken, and no there was no errors (0 crashes), and the layout looks exactly like the prototype i linked before only without the list of dates as well as the list of payments for each day(it&#39;s blank) ,and i have updated to question to include the xml file to the main screen as well as the 2 adapters.","body":"@sweak first it&#39;s not inflated because i created a button to check if the list passed to the adapter is actually populated, and it was indeed populated, so if the data are being passed successfully it means that the recyclerView layout isn&#39;t being inflated if am not mistaken, and no there was no errors (0 crashes), and the layout looks exactly like the prototype i linked before only without the list of dates as well as the list of payments for each day(it&#39;s blank) ,and i have updated to question to include the xml file to the main screen as well as the 2 adapters."}],"owner":{"account_id":24274748,"reputation":1,"user_id":18222209,"display_name":"sidali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670276991,"creation_date":1670185583,"question_id":74680622,"body_markdown":"so i have a recyclerView which contains within it another recyclerView.\r\nfor some odd reason the main recyclerView isn&#39;t being inflated which means the inner one won&#39;t be inflated as well, i tried to find the problem for over 3 days now, but i still can&#39;t figure out what&#39;s the problem.[here is what the end result should look like][1]\r\n\r\nhere is a copy of my code:\r\nthe main fragment : \r\n\r\n    public class MainScreen extends Fragment {\r\n    private Dialog dialog;\r\n    private SchoolViewModel viewModel;\r\n    private PaymentsByDateParentAdapter adapter;\r\n    private FloatingActionMenu floatingActionMenu,floatingActionMenuList;\r\n    private FloatingActionButton addSubject,addTeacher,addPayment;\r\n    private FloatingActionButton subjectList,TeacherList;\r\n    private RecyclerView recyclerView;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_main_screen, container, false);\r\n\r\n        floatingActionMenu = v.findViewById(R.id.fab_add_menu);\r\n        floatingActionMenuList = v.findViewById(R.id.fab_list_menu);\r\n        addSubject = v.findViewById(R.id.fab_add_subject);\r\n        addTeacher = v.findViewById(R.id.fab_add_teacher);\r\n        addPayment = v.findViewById(R.id.fab_add_payment);\r\n        subjectList = v.findViewById(R.id.fab_list_subject);\r\n        TeacherList = v.findViewById(R.id.fab_list_teacher);\r\n        recyclerView = v.findViewById(R.id.rv_main_screen);\r\n\r\n\r\n        viewModel = new ViewModelProvider(this).get(SchoolViewModel.class);\r\n        List&lt;PaymentByDate&gt; paymentByDateList = new ArrayList&lt;&gt;();\r\n        viewModel.getAllPayments().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\r\n            @RequiresApi(api = Build.VERSION_CODES.N)\r\n            @Override\r\n            public void onChanged(List&lt;Payment&gt; payments) {\r\n                List&lt;String&gt; datesWithDupes = new ArrayList&lt;&gt;();\r\n                for(Payment i : payments){\r\n                    datesWithDupes.add(new String(i.getPaymentDate()));\r\n                }\r\n                List&lt;String&gt; datesWithoutDupes = datesWithDupes.stream()\r\n                        .distinct()\r\n                        .collect(Collectors.toList());\r\n\r\n                for (String date : datesWithoutDupes) {\r\n                    viewModel.getPaymentsByDate(date).observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\r\n                        @Override\r\n                        public void onChanged(List&lt;Payment&gt; payments) {\r\n                            paymentByDateList.add(new PaymentByDate(date,payments));\r\n                        }\r\n                    });\r\n                    v.findViewById(R.id.button).setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Toast.makeText(getContext(),paymentByDateList.size()+&quot;&quot;,Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        adapter = new PaymentsByDateParentAdapter(paymentByDateList,getContext());\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n        addSubject.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openDialog();\r\n                floatingActionMenu.close(true);\r\n            }\r\n        });\r\n        addTeacher.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               Navigation.findNavController(getActivity(),R.id.nav_host).navigate(R.id.action_mainScreen_to_addTeacher);\r\n                floatingActionMenu.close(true);\r\n            }\r\n        });\r\n        addPayment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Navigation.findNavController(getActivity(),R.id.nav_host).navigate(R.id.action_mainScreen_to_add_payment_fragment);\r\n                floatingActionMenu.close(true);\r\n            }\r\n        });\r\n        subjectList.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Navigation.findNavController(getActivity(),R.id.nav_host).navigate(R.id.action_mainScreen_to_subjecstListFragment);\r\n                floatingActionMenuList.close(true);\r\n            }\r\n        });\r\n\r\n        return v;\r\n    }\r\n\r\n    private void openDialog() {\r\n        dialog = new Dialog(getContext());\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setContentView(R.layout.dialog_add_subject);\r\n        dialog.setCancelable(false);\r\n        Button confirmSubject = dialog.findViewById(R.id.btn_confirm_subject);\r\n        Button cancelSubject = dialog.findViewById(R.id.btn_cacnel_subject);\r\n        EditText etSubject = dialog.findViewById(R.id.et_add_subject);\r\n\r\n        confirmSubject.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String subjectName = etSubject.getText().toString();\r\n                if (!subjectName.isEmpty()) {\r\n                    viewModel.addSubject(new Subject(subjectName));\r\n                    Toast.makeText(getContext(), &quot;confirm&quot;, Toast.LENGTH_SHORT).show();\r\n                    dialog.dismiss();\r\n                }\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n        cancelSubject.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            }\r\n        });\r\n\r\n\r\n        dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\r\n        dialog.getWindow().setGravity(Gravity.CENTER);\r\n        dialog.show();\r\n    }\r\n\r\n\r\n\r\nthe parent adapter class :\r\n\r\n    public class PaymentsByDateParentAdapter extends RecyclerView.Adapter&lt;PaymentsByDateParentAdapter.PaymentsByDateParentHolder&gt; {\r\n    private List&lt;PaymentByDate&gt; paymentByDateList;\r\n    private Context context;\r\n\r\n    public PaymentsByDateParentAdapter(List&lt;PaymentByDate&gt; paymentByDateList, Context context) {\r\n        this.paymentByDateList = paymentByDateList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public PaymentsByDateParentHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.date_row,parent,false);\r\n        return new PaymentsByDateParentHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PaymentsByDateParentHolder holder, int position) {\r\n        holder.dateTV.setText(paymentByDateList.get(position).getDate());\r\n        holder.recyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n        holder.recyclerView.setAdapter(new PaymentsByDateChildAdapter(paymentByDateList.get(position).getPayments()));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return paymentByDateList.size();\r\n    }\r\n\r\n    protected class PaymentsByDateParentHolder extends RecyclerView.ViewHolder {\r\n        private TextView dateTV;\r\n        private RecyclerView recyclerView;\r\n        public PaymentsByDateParentHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            dateTV = itemView.findViewById(R.id.tv_date);\r\n            recyclerView = itemView.findViewById(R.id.rv_payments_by_date);\r\n        }\r\n    }\r\n}\r\n\r\nthe child adapter class :\r\n\r\n    public class PaymentsByDateChildAdapter extends RecyclerView.Adapter&lt;PaymentsByDateChildAdapter.PaymentsByDateChildHolder&gt; {\r\n    private List&lt;Payment&gt; payments;\r\n\r\n    public PaymentsByDateChildAdapter(List&lt;Payment&gt; payments) {\r\n        this.payments = payments;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public PaymentsByDateChildHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.payments_row,parent,false);\r\n        return new PaymentsByDateChildHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PaymentsByDateChildHolder holder, int position) {\r\n        holder.hoursTeached.setText(payments.get(position).getHoursTeached());\r\n        holder.total.setText(payments.get(position).getPaymentTotal());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return payments.size();\r\n    }\r\n\r\n    public class PaymentsByDateChildHolder extends RecyclerView.ViewHolder {\r\n        private TextView teacherName,hoursTeached,total;\r\n        public PaymentsByDateChildHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            teacherName = itemView.findViewById(R.id.tv_teacher_name);\r\n            hoursTeached = itemView.findViewById(R.id.tv_hours_teached);\r\n            total = itemView.findViewById(R.id.tv_total);\r\n        }\r\n    }\r\n}\r\n\r\nhere is the xml file for the mainScreen :\r\n\r\n\r\n    \r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv_main_screen&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.github.clans.fab.FloatingActionMenu\r\n        android:id=&quot;@+id/fab_add_menu&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:menu_colorNormal=&quot;#0029FF&quot;\r\n        app:menu_colorPressed=&quot;#94A5FF&quot;&gt;\r\n\r\n        &lt;com.github.clans.fab.FloatingActionButton\r\n            android:id=&quot;@+id/fab_add_subject&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_add_subject_icon&quot;\r\n            app:fab_colorNormal=&quot;#0029FF&quot;\r\n            app:fab_colorPressed=&quot;#94A5FF&quot;\r\n            app:fab_label=&quot;add a subject&quot;\r\n            app:fab_size=&quot;mini&quot; /&gt;\r\n\r\n        &lt;com.github.clans.fab.FloatingActionButton\r\n            android:id=&quot;@+id/fab_add_teacher&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_add_teacher_icon&quot;\r\n            app:fab_colorNormal=&quot;#0029FF&quot;\r\n            app:fab_colorPressed=&quot;#94A5FF&quot;\r\n            app:fab_label=&quot;add a teacher&quot;\r\n            app:fab_size=&quot;mini&quot; /&gt;\r\n\r\n        &lt;com.github.clans.fab.FloatingActionButton\r\n            android:id=&quot;@+id/fab_add_payment&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_add_payment_icon&quot;\r\n            app:fab_colorNormal=&quot;#0029FF&quot;\r\n            app:fab_colorPressed=&quot;#94A5FF&quot;\r\n            app:fab_label=&quot;add a payment&quot;\r\n            app:fab_size=&quot;mini&quot; /&gt;\r\n    &lt;/com.github.clans.fab.FloatingActionMenu&gt;\r\n\r\n    &lt;com.github.clans.fab.FloatingActionMenu\r\n        android:id=&quot;@+id/fab_list_menu&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        app:menu_labels_position=&quot;right&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:menu_colorNormal=&quot;#05FF00&quot;\r\n        app:menu_colorPressed=&quot;#58FF55&quot;&gt;\r\n\r\n        &lt;com.github.clans.fab.FloatingActionButton\r\n            android:id=&quot;@+id/fab_list_subject&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_subject_icon&quot;\r\n            app:fab_colorNormal=&quot;#05FF00&quot;\r\n            app:fab_colorPressed=&quot;#58FF55&quot;\r\n            app:fab_label=&quot;add a subject&quot;\r\n            app:fab_size=&quot;mini&quot; /&gt;\r\n\r\n        &lt;com.github.clans.fab.FloatingActionButton\r\n            android:id=&quot;@+id/fab_list_teacher&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_teacher_icon&quot;\r\n            app:fab_colorNormal=&quot;#05FF00&quot;\r\n            app:fab_colorPressed=&quot;#58FF55&quot;\r\n            app:fab_label=&quot;add a teacher&quot;\r\n            app:fab_size=&quot;mini&quot; /&gt;\r\n\r\n    &lt;/com.github.clans.fab.FloatingActionMenu&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\nand the xml file for the parent adapter :\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv_date&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:text=&quot;6 mars 2022&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:fontFamily=&quot;@font/k2d_semibold&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv_payments_by_date&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv_date&quot; /&gt;\r\n\r\n\r\nand here is the xml code for the child adapter :\r\n\r\n   \r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        app:cardBackgroundColor=&quot;#a0a0a0&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_teacher_name&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;20dp&quot;\r\n                android:text=&quot;Prof Raouf Mesran&quot;\r\n                android:textColor=&quot;#000&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                app:fontFamily=&quot;@font/k2d_semibold&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_hours_teached&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;20dp&quot;\r\n                android:text=&quot;3 Heurs&quot;\r\n                android:textColor=&quot;#000&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                app:fontFamily=&quot;@font/k2d_semibold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_total&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;3600 DA&quot;\r\n                android:textColor=&quot;#000&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                app:fontFamily=&quot;@font/k2d_semibold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_teacher_name&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\nif anyone can figure out why am unable to inflate it please let me know.\r\nPS: if any extra code is needed please let me know\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hh0ge.png","title":"why my recyclerView isn&#39;t being inflated?","body":"<p>so i have a recyclerView which contains within it another recyclerView.\nfor some odd reason the main recyclerView isn't being inflated which means the inner one won't be inflated as well, i tried to find the problem for over 3 days now, but i still can't figure out what's the problem.<a href=\"https://i.stack.imgur.com/hh0ge.png\" rel=\"nofollow noreferrer\">here is what the end result should look like</a></p>\n<p>here is a copy of my code:\nthe main fragment :</p>\n<pre><code>public class MainScreen extends Fragment {\nprivate Dialog dialog;\nprivate SchoolViewModel viewModel;\nprivate PaymentsByDateParentAdapter adapter;\nprivate FloatingActionMenu floatingActionMenu,floatingActionMenuList;\nprivate FloatingActionButton addSubject,addTeacher,addPayment;\nprivate FloatingActionButton subjectList,TeacherList;\nprivate RecyclerView recyclerView;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.fragment_main_screen, container, false);\n\n    floatingActionMenu = v.findViewById(R.id.fab_add_menu);\n    floatingActionMenuList = v.findViewById(R.id.fab_list_menu);\n    addSubject = v.findViewById(R.id.fab_add_subject);\n    addTeacher = v.findViewById(R.id.fab_add_teacher);\n    addPayment = v.findViewById(R.id.fab_add_payment);\n    subjectList = v.findViewById(R.id.fab_list_subject);\n    TeacherList = v.findViewById(R.id.fab_list_teacher);\n    recyclerView = v.findViewById(R.id.rv_main_screen);\n\n\n    viewModel = new ViewModelProvider(this).get(SchoolViewModel.class);\n    List&lt;PaymentByDate&gt; paymentByDateList = new ArrayList&lt;&gt;();\n    viewModel.getAllPayments().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\n        @RequiresApi(api = Build.VERSION_CODES.N)\n        @Override\n        public void onChanged(List&lt;Payment&gt; payments) {\n            List&lt;String&gt; datesWithDupes = new ArrayList&lt;&gt;();\n            for(Payment i : payments){\n                datesWithDupes.add(new String(i.getPaymentDate()));\n            }\n            List&lt;String&gt; datesWithoutDupes = datesWithDupes.stream()\n                    .distinct()\n                    .collect(Collectors.toList());\n\n            for (String date : datesWithoutDupes) {\n                viewModel.getPaymentsByDate(date).observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\n                    @Override\n                    public void onChanged(List&lt;Payment&gt; payments) {\n                        paymentByDateList.add(new PaymentByDate(date,payments));\n                    }\n                });\n                v.findViewById(R.id.button).setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Toast.makeText(getContext(),paymentByDateList.size()+&quot;&quot;,Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        }\n    });\n\n\n\n\n    adapter = new PaymentsByDateParentAdapter(paymentByDateList,getContext());\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    recyclerView.setAdapter(adapter);\n\n\n    addSubject.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openDialog();\n            floatingActionMenu.close(true);\n        }\n    });\n    addTeacher.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           Navigation.findNavController(getActivity(),R.id.nav_host).navigate(R.id.action_mainScreen_to_addTeacher);\n            floatingActionMenu.close(true);\n        }\n    });\n    addPayment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Navigation.findNavController(getActivity(),R.id.nav_host).navigate(R.id.action_mainScreen_to_add_payment_fragment);\n            floatingActionMenu.close(true);\n        }\n    });\n    subjectList.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Navigation.findNavController(getActivity(),R.id.nav_host).navigate(R.id.action_mainScreen_to_subjecstListFragment);\n            floatingActionMenuList.close(true);\n        }\n    });\n\n    return v;\n}\n\nprivate void openDialog() {\n    dialog = new Dialog(getContext());\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.dialog_add_subject);\n    dialog.setCancelable(false);\n    Button confirmSubject = dialog.findViewById(R.id.btn_confirm_subject);\n    Button cancelSubject = dialog.findViewById(R.id.btn_cacnel_subject);\n    EditText etSubject = dialog.findViewById(R.id.et_add_subject);\n\n    confirmSubject.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String subjectName = etSubject.getText().toString();\n            if (!subjectName.isEmpty()) {\n                viewModel.addSubject(new Subject(subjectName));\n                Toast.makeText(getContext(), &quot;confirm&quot;, Toast.LENGTH_SHORT).show();\n                dialog.dismiss();\n            }\n            dialog.dismiss();\n        }\n    });\n    cancelSubject.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n        }\n    });\n\n\n    dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n    dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\n    dialog.getWindow().setGravity(Gravity.CENTER);\n    dialog.show();\n}\n</code></pre>\n<p>the parent adapter class :</p>\n<pre><code>public class PaymentsByDateParentAdapter extends RecyclerView.Adapter&lt;PaymentsByDateParentAdapter.PaymentsByDateParentHolder&gt; {\nprivate List&lt;PaymentByDate&gt; paymentByDateList;\nprivate Context context;\n\npublic PaymentsByDateParentAdapter(List&lt;PaymentByDate&gt; paymentByDateList, Context context) {\n    this.paymentByDateList = paymentByDateList;\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic PaymentsByDateParentHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.date_row,parent,false);\n    return new PaymentsByDateParentHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull PaymentsByDateParentHolder holder, int position) {\n    holder.dateTV.setText(paymentByDateList.get(position).getDate());\n    holder.recyclerView.setLayoutManager(new LinearLayoutManager(context));\n    holder.recyclerView.setAdapter(new PaymentsByDateChildAdapter(paymentByDateList.get(position).getPayments()));\n}\n\n@Override\npublic int getItemCount() {\n    return paymentByDateList.size();\n}\n\nprotected class PaymentsByDateParentHolder extends RecyclerView.ViewHolder {\n    private TextView dateTV;\n    private RecyclerView recyclerView;\n    public PaymentsByDateParentHolder(@NonNull View itemView) {\n        super(itemView);\n        dateTV = itemView.findViewById(R.id.tv_date);\n        recyclerView = itemView.findViewById(R.id.rv_payments_by_date);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>the child adapter class :</p>\n<pre><code>public class PaymentsByDateChildAdapter extends RecyclerView.Adapter&lt;PaymentsByDateChildAdapter.PaymentsByDateChildHolder&gt; {\nprivate List&lt;Payment&gt; payments;\n\npublic PaymentsByDateChildAdapter(List&lt;Payment&gt; payments) {\n    this.payments = payments;\n}\n\n@NonNull\n@Override\npublic PaymentsByDateChildHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.payments_row,parent,false);\n    return new PaymentsByDateChildHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull PaymentsByDateChildHolder holder, int position) {\n    holder.hoursTeached.setText(payments.get(position).getHoursTeached());\n    holder.total.setText(payments.get(position).getPaymentTotal());\n}\n\n@Override\npublic int getItemCount() {\n    return payments.size();\n}\n\npublic class PaymentsByDateChildHolder extends RecyclerView.ViewHolder {\n    private TextView teacherName,hoursTeached,total;\n    public PaymentsByDateChildHolder(@NonNull View itemView) {\n        super(itemView);\n        teacherName = itemView.findViewById(R.id.tv_teacher_name);\n        hoursTeached = itemView.findViewById(R.id.tv_hours_teached);\n        total = itemView.findViewById(R.id.tv_total);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>here is the xml file for the mainScreen :</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rv_main_screen&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;com.github.clans.fab.FloatingActionMenu\n    android:id=&quot;@+id/fab_add_menu&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_marginEnd=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:menu_colorNormal=&quot;#0029FF&quot;\n    app:menu_colorPressed=&quot;#94A5FF&quot;&gt;\n\n    &lt;com.github.clans.fab.FloatingActionButton\n        android:id=&quot;@+id/fab_add_subject&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_add_subject_icon&quot;\n        app:fab_colorNormal=&quot;#0029FF&quot;\n        app:fab_colorPressed=&quot;#94A5FF&quot;\n        app:fab_label=&quot;add a subject&quot;\n        app:fab_size=&quot;mini&quot; /&gt;\n\n    &lt;com.github.clans.fab.FloatingActionButton\n        android:id=&quot;@+id/fab_add_teacher&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_add_teacher_icon&quot;\n        app:fab_colorNormal=&quot;#0029FF&quot;\n        app:fab_colorPressed=&quot;#94A5FF&quot;\n        app:fab_label=&quot;add a teacher&quot;\n        app:fab_size=&quot;mini&quot; /&gt;\n\n    &lt;com.github.clans.fab.FloatingActionButton\n        android:id=&quot;@+id/fab_add_payment&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_add_payment_icon&quot;\n        app:fab_colorNormal=&quot;#0029FF&quot;\n        app:fab_colorPressed=&quot;#94A5FF&quot;\n        app:fab_label=&quot;add a payment&quot;\n        app:fab_size=&quot;mini&quot; /&gt;\n&lt;/com.github.clans.fab.FloatingActionMenu&gt;\n\n&lt;com.github.clans.fab.FloatingActionMenu\n    android:id=&quot;@+id/fab_list_menu&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:layout_marginStart=&quot;10dp&quot;\n    app:menu_labels_position=&quot;right&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:menu_colorNormal=&quot;#05FF00&quot;\n    app:menu_colorPressed=&quot;#58FF55&quot;&gt;\n\n    &lt;com.github.clans.fab.FloatingActionButton\n        android:id=&quot;@+id/fab_list_subject&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_subject_icon&quot;\n        app:fab_colorNormal=&quot;#05FF00&quot;\n        app:fab_colorPressed=&quot;#58FF55&quot;\n        app:fab_label=&quot;add a subject&quot;\n        app:fab_size=&quot;mini&quot; /&gt;\n\n    &lt;com.github.clans.fab.FloatingActionButton\n        android:id=&quot;@+id/fab_list_teacher&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_teacher_icon&quot;\n        app:fab_colorNormal=&quot;#05FF00&quot;\n        app:fab_colorPressed=&quot;#58FF55&quot;\n        app:fab_label=&quot;add a teacher&quot;\n        app:fab_size=&quot;mini&quot; /&gt;\n\n&lt;/com.github.clans.fab.FloatingActionMenu&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Button&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>and the xml file for the parent adapter :</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/tv_date&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:text=&quot;6 mars 2022&quot;\n    android:textColor=&quot;#000&quot;\n    android:textSize=&quot;24sp&quot;\n    app:fontFamily=&quot;@font/k2d_semibold&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rv_payments_by_date&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_date&quot; /&gt;\n</code></pre>\n<p>and here is the xml code for the child adapter :</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;20dp&quot;\n    app:cardBackgroundColor=&quot;#a0a0a0&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_teacher_name&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:text=&quot;Prof Raouf Mesran&quot;\n            android:textColor=&quot;#000&quot;\n            android:textSize=&quot;20sp&quot;\n            app:fontFamily=&quot;@font/k2d_semibold&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_hours_teached&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;20dp&quot;\n            android:text=&quot;3 Heurs&quot;\n            android:textColor=&quot;#000&quot;\n            android:textSize=&quot;20sp&quot;\n            app:fontFamily=&quot;@font/k2d_semibold&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_total&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;3600 DA&quot;\n            android:textColor=&quot;#000&quot;\n            android:textSize=&quot;24sp&quot;\n            app:fontFamily=&quot;@font/k2d_semibold&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tv_teacher_name&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>if anyone can figure out why am unable to inflate it please let me know.\nPS: if any extra code is needed please let me know</p>\n"},{"tags":["java","android","in-app-billing"],"answers":[{"tags":[],"owner":{"account_id":8619385,"reputation":118,"user_id":6454906,"display_name":"Alexandru Dumitru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638090055,"creation_date":1638090055,"answer_id":70141930,"question_id":69101618,"body_markdown":"This is how I query the SKU details within my app. \r\nYou can try to use this example and see if this works for you.    \r\n\r\n    billingClient.startConnection(new BillingClientStateListener() {\r\n                @Override\r\n                public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                    Log.d(TAG, &quot;Connection finished&quot;);\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                        // The BillingClient is ready. You can query purchases here.\r\n                        List&lt;String&gt; skuList = new ArrayList&lt;&gt; ();\r\n                        skuList.add(ITEM_SKU_ADREMOVAL);\r\n                        SkuDetailsParams.Builder params = SkuDetailsParams.newBuilder();\r\n                        params.setSkusList(skuList).setType(BillingClient.SkuType.INAPP);\r\n                        billingClient.querySkuDetailsAsync(params.build(),\r\n                                (billingResult1, skuDetailsList) -&gt; {\r\n                                    // Process the result.\r\n                                    if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\r\n                                        for (Object skuDetailsObject : skuDetailsList) {\r\n                                            skuDetails = (SkuDetails) skuDetailsObject;\r\n                                            String sku = skuDetails.getSku();\r\n                                            String price = skuDetails.getPrice();\r\n                                            if (ITEM_SKU_ADREMOVAL.equals(sku)) {\r\n                                                removeadsPrice = price;\r\n                                            }\r\n                                            else {\r\n                                                Log.d(TAG,&quot;Sku is null&quot;);\r\n                                            }\r\n                                        }\r\n                                        Log.d(TAG, &quot;i got response&quot;);\r\n                                        Log.d(TAG, String.valueOf(billingResult1.getResponseCode()));\r\n                                        Log.d(TAG, billingResult1.getDebugMessage());\r\n                                    }\r\n                                    else if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.ERROR) {\r\n                                        Toast.makeText(MainActivity.this, &quot;Error in completing the purchase!&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n                    }\r\n                    else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_TIMEOUT) {\r\n                        Toast.makeText(MainActivity.this, &quot;Service timeout!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else {\r\n                        Toast.makeText(MainActivity.this, &quot;Failed to connect to the billing client!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n                @Override\r\n                public void onBillingServiceDisconnected() {\r\n                    restartConnection();\r\n                }\r\n            });","title":"Android Google Play Billing - querySkuDetailsAsync resurning empty list","body":"<p>This is how I query the SKU details within my app.\nYou can try to use this example and see if this works for you.</p>\n<pre><code>billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                Log.d(TAG, &quot;Connection finished&quot;);\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    // The BillingClient is ready. You can query purchases here.\n                    List&lt;String&gt; skuList = new ArrayList&lt;&gt; ();\n                    skuList.add(ITEM_SKU_ADREMOVAL);\n                    SkuDetailsParams.Builder params = SkuDetailsParams.newBuilder();\n                    params.setSkusList(skuList).setType(BillingClient.SkuType.INAPP);\n                    billingClient.querySkuDetailsAsync(params.build(),\n                            (billingResult1, skuDetailsList) -&gt; {\n                                // Process the result.\n                                if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\n                                    for (Object skuDetailsObject : skuDetailsList) {\n                                        skuDetails = (SkuDetails) skuDetailsObject;\n                                        String sku = skuDetails.getSku();\n                                        String price = skuDetails.getPrice();\n                                        if (ITEM_SKU_ADREMOVAL.equals(sku)) {\n                                            removeadsPrice = price;\n                                        }\n                                        else {\n                                            Log.d(TAG,&quot;Sku is null&quot;);\n                                        }\n                                    }\n                                    Log.d(TAG, &quot;i got response&quot;);\n                                    Log.d(TAG, String.valueOf(billingResult1.getResponseCode()));\n                                    Log.d(TAG, billingResult1.getDebugMessage());\n                                }\n                                else if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.ERROR) {\n                                    Toast.makeText(MainActivity.this, &quot;Error in completing the purchase!&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                }\n                else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_TIMEOUT) {\n                    Toast.makeText(MainActivity.this, &quot;Service timeout!&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Toast.makeText(MainActivity.this, &quot;Failed to connect to the billing client!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n            @Override\n            public void onBillingServiceDisconnected() {\n                restartConnection();\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2779041,"reputation":5264,"user_id":2391964,"accept_rate":68,"display_name":"Tartar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643719018,"creation_date":1643719018,"answer_id":70940698,"question_id":69101618,"body_markdown":"Getting this one working properly depends on several different factors\r\n\r\n - Have you published your app to Play Console or at least to an\r\n   internal track or something?\r\n - Do you have active products or subscriptions on your Google Play\r\n   Console?\r\n - Have you configured your licensed testers?\r\n\r\nPlease see the documentation for more [info][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/google/play/billing/test","title":"Android Google Play Billing - querySkuDetailsAsync resurning empty list","body":"<p>Getting this one working properly depends on several different factors</p>\n<ul>\n<li>Have you published your app to Play Console or at least to an\ninternal track or something?</li>\n<li>Do you have active products or subscriptions on your Google Play\nConsole?</li>\n<li>Have you configured your licensed testers?</li>\n</ul>\n<p>Please see the documentation for more <a href=\"https://developer.android.com/google/play/billing/test\" rel=\"nofollow noreferrer\">info</a>.</p>\n"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670275528,"creation_date":1631097930,"question_id":69101618,"body_markdown":"I have an Android project where I want to use com.android.billingclient.api version 4.0.0, which would replace an old billing library that google doesn&#39;t allow any more (com.anjlab.android.iab.v3). I&#39;ve implemented the methods for a one-time purchase, but when querying the SKU Details with `billingClient.querySkuDetailsAsync` using the SKU string for the product, I get an empty result set. I&#39;ve been assured that the SKU is correct, so I don&#39;t know where the error might be.\r\n\r\nAlso, the old implementation required to provide a license key, which isn&#39;t the case with the new library. Do I need to define it somewhere else in the app?\r\n\r\nHere&#39;s the code where it fails:\r\n\r\n     List&lt;String&gt; skuList = new ArrayList&lt;&gt;();\r\n        skuList.add(SKU_ID);\r\n        SkuDetailsParams.Builder params = SkuDetailsParams.newBuilder();\r\n        params.setSkusList(skuList).setType(SkuType.INAPP);\r\n\r\n        final Activity v = this;\r\n\r\n        billingClient.querySkuDetailsAsync(params.build(), new SkuDetailsResponseListener() {\r\n\r\n            @Override\r\n            public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; skuDetailsList) {\r\n\r\nHas anyone a suggestion what to do?","title":"Android Google Play Billing - querySkuDetailsAsync resurning empty list","body":"<p>I have an Android project where I want to use com.android.billingclient.api version 4.0.0, which would replace an old billing library that google doesn't allow any more (com.anjlab.android.iab.v3). I've implemented the methods for a one-time purchase, but when querying the SKU Details with <code>billingClient.querySkuDetailsAsync</code> using the SKU string for the product, I get an empty result set. I've been assured that the SKU is correct, so I don't know where the error might be.</p>\n<p>Also, the old implementation required to provide a license key, which isn't the case with the new library. Do I need to define it somewhere else in the app?</p>\n<p>Here's the code where it fails:</p>\n<pre><code> List&lt;String&gt; skuList = new ArrayList&lt;&gt;();\n    skuList.add(SKU_ID);\n    SkuDetailsParams.Builder params = SkuDetailsParams.newBuilder();\n    params.setSkusList(skuList).setType(SkuType.INAPP);\n\n    final Activity v = this;\n\n    billingClient.querySkuDetailsAsync(params.build(), new SkuDetailsResponseListener() {\n\n        @Override\n        public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; skuDetailsList) {\n</code></pre>\n<p>Has anyone a suggestion what to do?</p>\n"},{"tags":["java","tomcat","processbuilder","jaas","jdbcrealm"],"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1670188173,"post_id":74679506,"comment_id":131812045,"body_markdown":"Is it important for you that the password is encrypted with exactly `org.apache.catalina.realm.MessageDigestCredentialHandler`  ? (or could it be some other mechanism?)","body":"Is it important for you that the password is encrypted with exactly <code>org.apache.catalina.realm.MessageDigestCredentialHandler</code>  ? (or could it be some other mechanism?)"},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1670188408,"post_id":74679506,"comment_id":131812098,"body_markdown":"Your `Chars_to_be_deleted` is misnamed. By convention it should start with a lower case char and use [Camel Case](https://en.wikipedia.org/wiki/Camel_case). So `charsToBeDeleted` would be the Java way of naming it.","body":"Your <code>Chars_to_be_deleted</code> is misnamed. By convention it should start with a lower case char and use <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">Camel Case</a>. So <code>charsToBeDeleted</code> would be the Java way of naming it."},{"owner":{"account_id":24899956,"reputation":23,"user_id":18770757,"display_name":"cowbra"},"score":0,"creation_date":1670195874,"post_id":74679506,"comment_id":131813518,"body_markdown":"@peterh i need to keep the algorithm SHA-512 with a salt (length :8 ; iterations : 10) but not particulary this method","body":"@peterh i need to keep the algorithm SHA-512 with a salt (length :8 ; iterations : 10) but not particulary this method"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1670267005,"post_id":74679506,"comment_id":131832207,"body_markdown":"Can you clarify the question to include what part of Realm you&#39;re using? It&#39;s tagged with MongoDB Realm the relational database but I am not seeing the tie-in.","body":"Can you clarify the question to include what part of Realm you&#39;re using? It&#39;s tagged with MongoDB Realm the relational database but I am not seeing the tie-in."},{"owner":{"account_id":24899956,"reputation":23,"user_id":18770757,"display_name":"cowbra"},"score":0,"creation_date":1670275431,"post_id":74679506,"comment_id":131834548,"body_markdown":"@Jay Thanks for this relevant information. My bad, it&#39;s jdbcrealm and not &#39;Realm&#39;. Thank you and sorry for this misunderstanding !","body":"@Jay Thanks for this relevant information. My bad, it&#39;s jdbcrealm and not &#39;Realm&#39;. Thank you and sorry for this misunderstanding !"}],"owner":{"account_id":24899956,"reputation":23,"user_id":18770757,"display_name":"cowbra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670275343,"creation_date":1670177343,"question_id":74679506,"body_markdown":"I created a &quot;SecureUtils&quot; method which will launch a .bat file to hash a password and return it as a string in Java. This method works very well on its own (with a main() to test it), but as soon as it is called in the webapp by Tomcat, the password is not hashed and I get the string &quot;error&quot;\r\n\r\nFirst, here is my SecureUtils class:\r\n\r\n\r\n```lang-java\r\npackage com.example.webtodolist;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class SecureUtils {    public static String hash(String operation, int Chars_to_be_deleted) {\r\n        ProcessBuilder processBuilder = new ProcessBuilder();\r\n        processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, operation);\r\n        String password_encrypted =&quot;error&quot;;\r\n        try {\r\n            Process process = processBuilder.start();\r\n            StringBuilder output = new StringBuilder();\r\n            BufferedReader reader = new BufferedReader(\r\n                    new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line + &quot;\\n&quot;);\r\n            }\r\n            int exitVal = process.waitFor();\r\n            if (exitVal == 0) {\r\n                output.delete(0,Chars_to_be_deleted);\r\n                password_encrypted = output.toString();\r\n                //System.exit(0);\r\n                return password_encrypted;\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return password_encrypted;\r\n    }\r\n    \r\n    public static String encrypt(String password_clear) throws Exception {\r\n        String cmd = System.getProperty(&quot;user.dir&quot;)+&quot;/apache-tomcat/bin/digest.bat -a sha-512 -i 10 -s 8 -h org.apache.catalina.realm.MessageDigestCredentialHandler &quot;;\r\n        int Chars_to_be_deleted = password_clear.length()+1;\r\n        String operation=cmd+password_clear;\r\n        return hash(operation,Chars_to_be_deleted);\r\n    }\r\n\r\n    public static void main(String[] argv) throws Exception {\r\n        System.out.println(encrypt(&quot;hugo&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\n  \r\nAnd when i run this file with the configuration *&#39;Current file*, i get my result (which is correct) :\r\n\r\n`3bf5f46ed747d0bc$10$e07a85579f5c2447f5a1192b121eca6b8e18c4116373f9e44436c52abf8eb578006a8f5eeaf92c9668db0a0cf7405081b12a1eaef780e446cedaf69f63aa5781`\r\n\r\n  Now, with the *&#39;TomCat Configuration* profile, when the function is called I always get:\r\n`error`.  \r\nHere my **RegisterServlet.java** :  \r\n\r\n```lang-java\r\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        try {\r\n            String username= request.getParameter(&quot;inputUsername&quot;);\r\n            String password = SecureUtils.encrypt(request.getParameter(&quot;inputPassword&quot;));\r\n            boolean b = userDBUtil.addUser(new User(username,password));\r\n            String m;\r\n            if (b) m=&quot;A new user has been created&quot;;\r\n            else m=&quot;ERROR&quot;;\r\n            request.setAttribute(&quot;message&quot;, m);\r\n            request.getRequestDispatcher(&quot;/register.jsp&quot;).forward(request, response);\r\n        } catch (Exception e) {\r\n// TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nI don&#39;t think tomcat is running a process in the background.    \r\n\r\nDo you know how I can use the \r\n```\r\norg.apache.catalina.realm.MessageDigestCredentialHandler\r\n```\r\nmethod to encrypt my passwords with this configuration ***(context.xml)*** without a bat file? \r\n\r\n```lang-xml\r\n&lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot;\r\n                   algorithm=&quot;SHA-512&quot;\r\n                   iterations=&quot;10&quot;\r\n                   saltLength=&quot;8&quot;\r\n/&gt;\r\n```\r\n Or is it possible to solve this problem by keeping this method ?\r\n","title":"Java - Tomcat Does not Launch ProcessBuilder() -- Password encryption","body":"<p>I created a &quot;SecureUtils&quot; method which will launch a .bat file to hash a password and return it as a string in Java. This method works very well on its own (with a main() to test it), but as soon as it is called in the webapp by Tomcat, the password is not hashed and I get the string &quot;error&quot;</p>\n<p>First, here is my SecureUtils class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.webtodolist;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class SecureUtils {    public static String hash(String operation, int Chars_to_be_deleted) {\n        ProcessBuilder processBuilder = new ProcessBuilder();\n        processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, operation);\n        String password_encrypted =&quot;error&quot;;\n        try {\n            Process process = processBuilder.start();\n            StringBuilder output = new StringBuilder();\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(process.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line + &quot;\\n&quot;);\n            }\n            int exitVal = process.waitFor();\n            if (exitVal == 0) {\n                output.delete(0,Chars_to_be_deleted);\n                password_encrypted = output.toString();\n                //System.exit(0);\n                return password_encrypted;\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return password_encrypted;\n    }\n    \n    public static String encrypt(String password_clear) throws Exception {\n        String cmd = System.getProperty(&quot;user.dir&quot;)+&quot;/apache-tomcat/bin/digest.bat -a sha-512 -i 10 -s 8 -h org.apache.catalina.realm.MessageDigestCredentialHandler &quot;;\n        int Chars_to_be_deleted = password_clear.length()+1;\n        String operation=cmd+password_clear;\n        return hash(operation,Chars_to_be_deleted);\n    }\n\n    public static void main(String[] argv) throws Exception {\n        System.out.println(encrypt(&quot;hugo&quot;));\n    }\n}\n\n</code></pre>\n<p>And when i run this file with the configuration <em>'Current file</em>, i get my result (which is correct) :</p>\n<p><code>3bf5f46ed747d0bc$10$e07a85579f5c2447f5a1192b121eca6b8e18c4116373f9e44436c52abf8eb578006a8f5eeaf92c9668db0a0cf7405081b12a1eaef780e446cedaf69f63aa5781</code></p>\n<p>Now, with the <em>'TomCat Configuration</em> profile, when the function is called I always get:\n<code>error</code>.<br />\nHere my <strong>RegisterServlet.java</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        try {\n            String username= request.getParameter(&quot;inputUsername&quot;);\n            String password = SecureUtils.encrypt(request.getParameter(&quot;inputPassword&quot;));\n            boolean b = userDBUtil.addUser(new User(username,password));\n            String m;\n            if (b) m=&quot;A new user has been created&quot;;\n            else m=&quot;ERROR&quot;;\n            request.setAttribute(&quot;message&quot;, m);\n            request.getRequestDispatcher(&quot;/register.jsp&quot;).forward(request, response);\n        } catch (Exception e) {\n// TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I don't think tomcat is running a process in the background.</p>\n<p>Do you know how I can use the</p>\n<pre><code>org.apache.catalina.realm.MessageDigestCredentialHandler\n</code></pre>\n<p>method to encrypt my passwords with this configuration <em><strong>(context.xml)</strong></em> without a bat file?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;CredentialHandler className=&quot;org.apache.catalina.realm.MessageDigestCredentialHandler&quot;\n                   algorithm=&quot;SHA-512&quot;\n                   iterations=&quot;10&quot;\n                   saltLength=&quot;8&quot;\n/&gt;\n</code></pre>\n<p>Or is it possible to solve this problem by keeping this method ?</p>\n"},{"tags":["java","intellij-idea","lombok","intellij-lombok-plugin"],"answers":[{"comments":[{"owner":{"account_id":10980857,"reputation":446,"user_id":8067983,"display_name":"John"},"score":0,"creation_date":1670234990,"post_id":46951632,"comment_id":131820866,"body_markdown":"`Strg` means `Ctrl`","body":"<code>Strg</code> means <code>Ctrl</code>"}],"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1670275315,"creation_date":1509012657,"answer_id":46951632,"question_id":45048246,"body_markdown":"you can open the &quot;stucture view&quot; this should display the generated methods. If not you maybe need to install the lombok plugin.\r\n\r\nIn the structure view select the method `getItem()` and press the short cut for the call hierarchy (&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;H&lt;/kbd&gt;) and the call hierarchy for the selected method will open up.","title":"How to build call hierarchy for lombok generated method in intellij-idea","body":"<p>you can open the &quot;stucture view&quot; this should display the generated methods. If not you maybe need to install the lombok plugin.</p>\n<p>In the structure view select the method <code>getItem()</code> and press the short cut for the call hierarchy (<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>H</kbd>) and the call hierarchy for the selected method will open up.</p>\n"}],"owner":{"account_id":1775480,"reputation":359,"user_id":2986335,"accept_rate":17,"display_name":"blankboy2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1837,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1670275315,"creation_date":1499832356,"question_id":45048246,"body_markdown":"Given an example:\r\n\r\n    @Data\r\n    public VO {\r\n        private String item;\r\n    }\r\n\r\nHow to build call hierarchy for the `getItem()`? \r\n\r\nI know there is a cumbersome path :open Structure, then find the method, then build hierarchy. Is there more efficient path or plugin?","title":"How to build call hierarchy for lombok generated method in intellij-idea","body":"<p>Given an example:</p>\n\n<pre><code>@Data\npublic VO {\n    private String item;\n}\n</code></pre>\n\n<p>How to build call hierarchy for the <code>getItem()</code>? </p>\n\n<p>I know there is a cumbersome path :open Structure, then find the method, then build hierarchy. Is there more efficient path or plugin?</p>\n"},{"tags":["java","logging","log4j","log4j2","slf4j"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1641891991,"post_id":70663991,"comment_id":124919641,"body_markdown":"So what error do you get?","body":"So what error do you get?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641892110,"post_id":70663991,"comment_id":124919683,"body_markdown":"As the name already indicates `slf4j-log4j12` contains log4j v1.2. Redirecting slf4j API to log4j is uncommon, therefore I recommend you to instead use slf4j + logback and the redirect the log4j requests to slf4j.","body":"As the name already indicates <code>slf4j-log4j12</code> contains log4j v1.2. Redirecting slf4j API to log4j is uncommon, therefore I recommend you to instead use slf4j + logback and the redirect the log4j requests to slf4j."},{"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"score":0,"creation_date":1641892142,"post_id":70663991,"comment_id":124919696,"body_markdown":"@marstran above code work just fine but i have to pull in log4j 2.17 without changing the code","body":"@marstran above code work just fine but i have to pull in log4j 2.17 without changing the code"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641893777,"post_id":70663991,"comment_id":124920308,"body_markdown":"Log4j2 provides an implementation of the slf4j API. See https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/","body":"Log4j2 provides an implementation of the slf4j API. See <a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/log4j-slf4j-impl</a>"}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641893493,"creation_date":1641893493,"answer_id":70664407,"question_id":70663991,"body_markdown":"You can try to exclude the log4 1.2.17 dependency and instead use log4j2-core.\r\nThe following configuration is untested, not sure if it works:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0-alpha5&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n   \r\n","title":"Log4j Latest version with slf4j-log4j12","body":"<p>You can try to exclude the log4 1.2.17 dependency and instead use log4j2-core.\nThe following configuration is untested, not sure if it works:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-alpha5&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670274800,"creation_date":1641923054,"answer_id":70671187,"question_id":70663991,"body_markdown":"The `slf4j-log4j12` is a bridge (binding) from SLF4J to Log4j 1.2: all messages submitted to a `org.slf4j.Logger` in your code, will be sent to a `org.apache.log4j.Logger` of the same name. Its not the right direction.\r\n\r\nFortunately nowadays there are bridges/bindings/adapters between all major logging systems. It is not clear from your question, whether you need SLF4J at all, so:\r\n\r\n - if you don&#39;t use SLF4J, you can use `log4j-1.2-api`, a direct bridge between Log4j 1.x and Log4j 2.x API. It is a **replacement** for Log4j 1.x, so you need to remove the `log4j` artifact and add:\r\n\r\n   ```lang-xml\r\n   &lt;!-- From Log4j 1.x to Log4j 2.x API --&gt;\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n       &lt;version&gt;2.19.0&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   ```\r\n - if you want to pass through SLF4J, you can use `log4j-over-slf4j` (a **replacement** for Log4j 1.x that connects Log4j 1.x to SLF4J) and `log4j-slf4j18-impl` (a bridge from SLF4J to the Log4j 2.x API):\r\n\r\n   ```lang-xml\r\n   &lt;!-- From Log4j 1.x to SLF4J --&gt;\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n       &lt;version&gt;2.0.5&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;!-- From SLF4J 2.0+ to Log4j 2.x API --&gt;\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\r\n       &lt;version&gt;2.19.0&lt;/version&gt;\r\n       &lt;scope&gt;runtime&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n   ```\r\n\r\nOf course you&#39;ll also need an implementation of the Log4j 2.x API, like Log4j 2.x Core:\r\n\r\n```lang-xml\r\n&lt;!-- From Log4j 2.x API to Log4j 2.x Core --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Log4j Latest version with slf4j-log4j12","body":"<p>The <code>slf4j-log4j12</code> is a bridge (binding) from SLF4J to Log4j 1.2: all messages submitted to a <code>org.slf4j.Logger</code> in your code, will be sent to a <code>org.apache.log4j.Logger</code> of the same name. Its not the right direction.</p>\n<p>Fortunately nowadays there are bridges/bindings/adapters between all major logging systems. It is not clear from your question, whether you need SLF4J at all, so:</p>\n<ul>\n<li><p>if you don't use SLF4J, you can use <code>log4j-1.2-api</code>, a direct bridge between Log4j 1.x and Log4j 2.x API. It is a <strong>replacement</strong> for Log4j 1.x, so you need to remove the <code>log4j</code> artifact and add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- From Log4j 1.x to Log4j 2.x API --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>if you want to pass through SLF4J, you can use <code>log4j-over-slf4j</code> (a <strong>replacement</strong> for Log4j 1.x that connects Log4j 1.x to SLF4J) and <code>log4j-slf4j18-impl</code> (a bridge from SLF4J to the Log4j 2.x API):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- From Log4j 1.x to SLF4J --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;2.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- From SLF4J 2.0+ to Log4j 2.x API --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<p>Of course you'll also need an implementation of the Log4j 2.x API, like Log4j 2.x Core:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- From Log4j 2.x API to Log4j 2.x Core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12358,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670274800,"creation_date":1641891349,"question_id":70663991,"body_markdown":"Using **slf4j-log4j12** version- 2.0.0-alpha5 dependency for logging which pulls Apache Log4j &#187; 1.2.17. Need to upgrade the Log4j to latest which is log4j-core &#187; 2.17.1 such that I don&#39;t have to make changes in the codebase.\r\n\r\nBelow is the snippet of POM and sample code:\r\n\r\n```xml\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n```\r\nSample Code:\r\n\r\n\r\n```java\r\nimport org.apache.log4j.Logger;\r\npublic class Entry {\r\n    final static Logger logger = Logger.getLogger(Entry.class);\r\n    public static void main(String[] args) {\r\n        logger.info(&quot;Through Logging&quot;);\r\n        System.out.println(&quot;Logging tests&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIs there any sl4j dependency for log4j2?","title":"Log4j Latest version with slf4j-log4j12","body":"<p>Using <strong>slf4j-log4j12</strong> version- 2.0.0-alpha5 dependency for logging which pulls Apache Log4j  1.2.17. Need to upgrade the Log4j to latest which is log4j-core  2.17.1 such that I don't have to make changes in the codebase.</p>\n<p>Below is the snippet of POM and sample code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-alpha5&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n</code></pre>\n<p>Sample Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.log4j.Logger;\npublic class Entry {\n    final static Logger logger = Logger.getLogger(Entry.class);\n    public static void main(String[] args) {\n        logger.info(&quot;Through Logging&quot;);\n        System.out.println(&quot;Logging tests&quot;);\n    }\n}\n</code></pre>\n<p>Is there any sl4j dependency for log4j2?</p>\n"},{"tags":["java","file","resource-files"],"comments":[{"owner":{"account_id":558851,"reputation":5921,"user_id":921254,"accept_rate":92,"display_name":"adis"},"score":0,"creation_date":1329840045,"post_id":9380690,"comment_id":11848956,"body_markdown":"Please check this post: http://stackoverflow.com/questions/1816673/how-do-i-check-if-a-file-exists-java-on-windows","body":"Please check this post: <a href=\"http://stackoverflow.com/questions/1816673/how-do-i-check-if-a-file-exists-java-on-windows\" title=\"how do i check if a file exists java on windows\">stackoverflow.com/questions/1816673/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":3,"creation_date":1460811864,"post_id":9380730,"comment_id":60921043,"body_markdown":"Didn&#39;t work for me, but MLM.class.getResource(&quot;mazes.txt&quot;) worked.","body":"Didn&#39;t work for me, but MLM.class.getResource(&quot;mazes.txt&quot;) worked."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1508747384,"post_id":9380730,"comment_id":80717119,"body_markdown":"I need an absolute path, like this `MLM.class.getResource(&quot;/mazes.txt&quot;)`","body":"I need an absolute path, like this <code>MLM.class.getResource(&quot;&#47;mazes.txt&quot;)</code>"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1551455905,"post_id":9380730,"comment_id":96659162,"body_markdown":"Worked for me : URL resource = MyClassWithMainMethod.class.getResource(&quot;/myfile.xml&quot;);","body":"Worked for me : URL resource = MyClassWithMainMethod.class.getResource(&quot;/myfile.xml&quot;);"}],"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"comment_count":3,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1508861681,"creation_date":1329840044,"answer_id":9380730,"question_id":9380690,"body_markdown":"A simple null check would suffice\r\n    \r\n    URL u = MLM.class.getResource(&quot;/mazes.txt&quot;);\r\n    if (u != null) {\r\n             ...\r\n    }\r\n\r\nFrom the javadoc for [getResource][1]\r\n\r\n &gt; **Returns:**  \r\n    A URL object or null if no resource with this name is found\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)","title":"How to see if resource file exists in Java?","body":"<p>A simple null check would suffice</p>\n\n<pre><code>URL u = MLM.class.getResource(\"/mazes.txt\");\nif (u != null) {\n         ...\n}\n</code></pre>\n\n<p>From the javadoc for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)\" rel=\"noreferrer\">getResource</a></p>\n\n<blockquote>\n  <p><strong>Returns:</strong><br>\n      A URL object or null if no resource with this name is found</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":95273,"reputation":40130,"user_id":259576,"accept_rate":91,"display_name":"Sandro Munda"},"comment_count":0,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1329840045,"creation_date":1329840045,"answer_id":9380731,"question_id":9380690,"body_markdown":"You can use before your code :\r\n\r\n\r\n[File.createNewFile()][1]\r\n\r\n&gt; Atomically creates a new, empty file named by this abstract pathname\r\n&gt; if and only if a file with this name does not yet exist. The check for\r\n&gt; the existence of the file and the creation of the file if it does not\r\n&gt; exist are a single operation that is atomic with respect to all other\r\n&gt; filesystem activities that might affect the file.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile%28%29","title":"How to see if resource file exists in Java?","body":"<p>You can use before your code :</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile%28%29\" rel=\"nofollow\">File.createNewFile()</a></p>\n\n<blockquote>\n  <p>Atomically creates a new, empty file named by this abstract pathname\n  if and only if a file with this name does not yet exist. The check for\n  the existence of the file and the creation of the file if it does not\n  exist are a single operation that is atomic with respect to all other\n  filesystem activities that might affect the file.</p>\n</blockquote>\n"}],"owner":{"account_id":1004498,"reputation":1793,"user_id":1018603,"accept_rate":84,"display_name":"flea whale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36799,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":2,"score":38,"last_activity_date":1670273805,"creation_date":1329839893,"question_id":9380690,"body_markdown":"I am trying to output text to a resource file in Java like so:\r\n\r\n    File file = new File(MLM.class.getClassLoader().getResource(&quot;mazes.txt&quot;).toString());\r\n    BufferedWriter out = new BufferedWriter(new FileWriter(file));\r\n    ..\r\n\r\nbut because the resource file has not been created I get a null pointer exception. How can I create a blank resource file first if it doesn&#39;t exist already to avoid this error?\r\n","title":"How to see if resource file exists in Java?","body":"<p>I am trying to output text to a resource file in Java like so:</p>\n\n<pre><code>File file = new File(MLM.class.getClassLoader().getResource(\"mazes.txt\").toString());\nBufferedWriter out = new BufferedWriter(new FileWriter(file));\n..\n</code></pre>\n\n<p>but because the resource file has not been created I get a null pointer exception. How can I create a blank resource file first if it doesn't exist already to avoid this error?</p>\n"},{"tags":["java","sorting","java-stream"],"comments":[{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1670231919,"post_id":74685800,"comment_id":131819744,"body_markdown":"Hello @SarthakShetty Is it possible to first make a List from your Stream and then you process it multiple times again using the Stream-API? First Stream.toList() and then List.stream().","body":"Hello @SarthakShetty Is it possible to first make a List from your Stream and then you process it multiple times again using the Stream-API? First Stream.toList() and then List.stream()."},{"owner":{"account_id":6985528,"reputation":31,"user_id":5356658,"display_name":"Sarthak Shetty"},"score":0,"creation_date":1670232434,"post_id":74685800,"comment_id":131819918,"body_markdown":"I&#39;m not entirely sure but it seems a little counter-intuitive since the objective for me to use streams was for efficiency. Or am I wrong about that? Relatively new to the stream API.","body":"I&#39;m not entirely sure but it seems a little counter-intuitive since the objective for me to use streams was for efficiency. Or am I wrong about that? Relatively new to the stream API."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1670232644,"post_id":74685800,"comment_id":131819994,"body_markdown":"Could you share some input and expected output? I&#39;ll make the question more clear.","body":"Could you share some input and expected output? I&#39;ll make the question more clear."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1670232829,"post_id":74685800,"comment_id":131820059,"body_markdown":"Anyway, you cannot sort and count at the same time, as the order can change until the very last item you encounter. So you first need to determine all occurrences, and then you can start soring.","body":"Anyway, you cannot sort and count at the same time, as the order can change until the very last item you encounter. So you first need to determine all occurrences, and then you can start soring."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":1,"creation_date":1670232882,"post_id":74685800,"comment_id":131820088,"body_markdown":"@SarthakShetty You are right, it would be more efficient to process the stream in one go. Given your requirement, that will force you to load the whole stream into a cache. But sorting is anyway doing this in the back ;-). The benefit to solve the problem by streaming again the list is just to have a more concise way to express your code (declarative), but could be done in a imperative way as well.","body":"@SarthakShetty You are right, it would be more efficient to process the stream in one go. Given your requirement, that will force you to load the whole stream into a cache. But sorting is anyway doing this in the back ;-). The benefit to solve the problem by streaming again the list is just to have a more concise way to express your code (declarative), but could be done in a imperative way as well."},{"owner":{"account_id":6985528,"reputation":31,"user_id":5356658,"display_name":"Sarthak Shetty"},"score":0,"creation_date":1670233175,"post_id":74685800,"comment_id":131820195,"body_markdown":"updated to include an example","body":"updated to include an example"}],"answers":[{"comments":[{"owner":{"account_id":6985528,"reputation":31,"user_id":5356658,"display_name":"Sarthak Shetty"},"score":0,"creation_date":1670233962,"post_id":74686002,"comment_id":131820515,"body_markdown":"Thank you, this is what I was looking for! I guess I didn&#39;t realise I could stream after grouping :)","body":"Thank you, this is what I was looking for! I guess I didn&#39;t realise I could stream after grouping :)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670234337,"post_id":74686002,"comment_id":131820640,"body_markdown":"@MJG The sorting is done by both frequency and name of category as mentioned in the description and more importantly reflected in the code, so I&#39;m not quite sure what do you mean.","body":"@MJG The sorting is done by both frequency and name of category as mentioned in the description and more importantly reflected in the code, so I&#39;m not quite sure what do you mean."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1670233200,"creation_date":1670232834,"answer_id":74686002,"question_id":74685800,"body_markdown":"You can generate a Map of frequencies for each category of type `Map&lt;String,Long&gt;` (*count by category*).\r\n\r\nThen create a stream over its entries and sort them (*by Value, i.e. by count, and Key, i.e. lexicographically*), extract the category from each entry and store the result into a list.\r\n\r\nAssuming that you have the following domain type:\r\n\r\n    public class MyType {\r\n        private String category;\r\n        \r\n        // getters\r\n    }\r\n\r\nMethod generating a sorted list of categories might be implemented like this:\r\n\r\n    public static List&lt;String&gt; getSortedCategories(Stream&lt;MyType&gt; stream) {\r\n        \r\n        return stream.collect(Collectors.groupingBy(\r\n                MyType::getCategory,\r\n                Collectors.counting()\r\n            ))\r\n            .entrySet().stream()\r\n            .sorted(\r\n                Map.Entry.&lt;String, Long&gt;comparingByValue()\r\n                    .thenComparing(Map.Entry.comparingByKey())\r\n            )\r\n            .map(Map.Entry::getKey)\r\n            .toList();\r\n    }","title":"Java-Stream - Grouping and Sorting based on aggregate count in Java 11","body":"<p>You can generate a Map of frequencies for each category of type <code>Map&lt;String,Long&gt;</code> (<em>count by category</em>).</p>\n<p>Then create a stream over its entries and sort them (<em>by Value, i.e. by count, and Key, i.e. lexicographically</em>), extract the category from each entry and store the result into a list.</p>\n<p>Assuming that you have the following domain type:</p>\n<pre><code>public class MyType {\n    private String category;\n    \n    // getters\n}\n</code></pre>\n<p>Method generating a sorted list of categories might be implemented like this:</p>\n<pre><code>public static List&lt;String&gt; getSortedCategories(Stream&lt;MyType&gt; stream) {\n    \n    return stream.collect(Collectors.groupingBy(\n            MyType::getCategory,\n            Collectors.counting()\n        ))\n        .entrySet().stream()\n        .sorted(\n            Map.Entry.&lt;String, Long&gt;comparingByValue()\n                .thenComparing(Map.Entry.comparingByKey())\n        )\n        .map(Map.Entry::getKey)\n        .toList();\n}\n</code></pre>\n"}],"owner":{"account_id":6985528,"reputation":31,"user_id":5356658,"display_name":"Sarthak Shetty"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74686002,"answer_count":1,"score":2,"last_activity_date":1670273525,"creation_date":1670231717,"question_id":74685800,"body_markdown":"I have a `Stream` of custom objects as a parameter to a method. And obviously I can consume the Stream only once.\r\n\r\nMy object has a `String` attribute called `category`.\r\n\r\n    public class MyType {\r\n        private String category;\r\n        \r\n        // other properties, getters, etc.\r\n    }\r\n\r\nI need a sorted list of categories `List&lt;String&gt;`.\r\n\r\nFirst, I need to sort the data based on the number of occurrences of each category. If the number of occurrences is the same, then sort such categories lexicographically.\r\n\r\nBasically, I need something like this\r\n\r\nhttps://stackoverflow.com/questions/30733052/java8-stream-grouping-and-sorting-on-aggregate-sum\r\n\r\n**but** I don&#39;t have the luxury of consuming the stream more than once. So I don&#39;t know how to address this problem.\r\n\r\nHere&#39;s an example:\r\n\r\n*Input:*\r\n\r\n```\r\n{\r\n    object1 :{category:&quot;category1&quot;},\r\n    object2 :{category:&quot;categoryB&quot;},\r\n    object3 :{category:&quot;categoryA&quot;},\r\n    object4 :{category:&quot;category1&quot;},\r\n    object5 :{category:&quot;categoryB&quot;},\r\n    object6 :{category:&quot;category1&quot;},\r\n    object7 :{category:&quot;categoryA&quot;}\r\n}\r\n```\r\n    \r\n*Output:*\r\n\r\n```\r\nList = {category1, categoryA, categoryB}\r\n```","title":"Java-Stream - Grouping and Sorting based on aggregate count in Java 11","body":"<p>I have a <code>Stream</code> of custom objects as a parameter to a method. And obviously I can consume the Stream only once.</p>\n<p>My object has a <code>String</code> attribute called <code>category</code>.</p>\n<pre><code>public class MyType {\n    private String category;\n    \n    // other properties, getters, etc.\n}\n</code></pre>\n<p>I need a sorted list of categories <code>List&lt;String&gt;</code>.</p>\n<p>First, I need to sort the data based on the number of occurrences of each category. If the number of occurrences is the same, then sort such categories lexicographically.</p>\n<p>Basically, I need something like this</p>\n<p><a href=\"https://stackoverflow.com/questions/30733052/java8-stream-grouping-and-sorting-on-aggregate-sum\">java8 stream grouping and sorting on aggregate sum</a></p>\n<p><strong>but</strong> I don't have the luxury of consuming the stream more than once. So I don't know how to address this problem.</p>\n<p>Here's an example:</p>\n<p><em>Input:</em></p>\n<pre><code>{\n    object1 :{category:&quot;category1&quot;},\n    object2 :{category:&quot;categoryB&quot;},\n    object3 :{category:&quot;categoryA&quot;},\n    object4 :{category:&quot;category1&quot;},\n    object5 :{category:&quot;categoryB&quot;},\n    object6 :{category:&quot;category1&quot;},\n    object7 :{category:&quot;categoryA&quot;}\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>List = {category1, categoryA, categoryB}\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive"],"answers":[{"comments":[{"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"score":0,"creation_date":1670321398,"post_id":74694145,"comment_id":131843950,"body_markdown":"Thanks for the reply first. Do I understand it correctly that when the body byte[] stream will be consumed, the chain of Monos before will only emmit one single Encryption object ONCE which will be used for every byte[] emitted byte the Flux&lt;byte[]&gt;(this is what I want)?\nI thought that whenever the consumer sends an onNext signal upstream to request and handle more byte[] that everytime a new Encryption object will be created (like it would be with java stream api intermediate operations). To answer 2: update encrypts the bytes passed (internally uses java cipher)","body":"Thanks for the reply first. Do I understand it correctly that when the body byte[] stream will be consumed, the chain of Monos before will only emmit one single Encryption object ONCE which will be used for every byte[] emitted byte the Flux&lt;byte[]&gt;(this is what I want)? I thought that whenever the consumer sends an onNext signal upstream to request and handle more byte[] that everytime a new Encryption object will be created (like it would be with java stream api intermediate operations). To answer 2: update encrypts the bytes passed (internally uses java cipher)"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1670328875,"post_id":74694145,"comment_id":131846560,"body_markdown":"It depends on how you chain your publishers (Mono/Flux). If you look at my example, I subscribe only once on the &#39;fileEncryption&#39; Mono, because it triggers the byte[] Flux *after* it emits it next (and only) item. If we inverse the dependency, and consume the encryption Mono from each received byte[] (for example by doing: `body.concatMap(block -&gt; fileEncryption.map(encryption -&gt; encryption.update(block)))`, then the encryption mono would be subscribed and re-executed for each element of the flux.","body":"It depends on how you chain your publishers (Mono/Flux). If you look at my example, I subscribe only once on the &#39;fileEncryption&#39; Mono, because it triggers the byte[] Flux <i>after</i> it emits it next (and only) item. If we inverse the dependency, and consume the encryption Mono from each received byte[] (for example by doing: <code>body.concatMap(block -&gt; fileEncryption.map(encryption -&gt; encryption.update(block)))</code>, then the encryption mono would be subscribed and re-executed for each element of the flux."}],"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670272802,"creation_date":1670272802,"answer_id":74694145,"question_id":74686457,"body_markdown":"Mono.just is only a wrapper around a pre-computed value, so there is no need to cache or share it, because it is only just giving back a cached variable on subscription.\r\n\r\nBut, in your example, there is something I do not understand.\r\n\r\nIf we simplify / decompose it, it gives the following:\r\n\r\n```java\r\nMono&lt;KeyVault&gt; vault = keyVaultRepository.findByFiletId(fileId)\r\n            .switchIfEmpty(Mono.defer(() -&gt; keyVaultRepository.save(KeyVault.of(fileId));\r\n            ));\r\n\r\nMono&lt;Mono&lt;Encryption&gt;&gt; fileEncryption = vault\r\n        .map(it -&gt; Mono.just(createEncryption(it.getKey)).cache()); // &lt;1&gt;\r\n\r\nMono&lt;Flux&lt;Encryption&gt;&gt; encryptedContent = fileEncryption.map(encryption -&gt; Flux\r\n                    .from(body)\r\n                    .map(bytes -&gt; encryption\r\n                            .share()\r\n                            .block()\r\n                            .update(bytes))); // &lt;2&gt;\r\n\r\nMono&lt;FileResultDto&gt; file = encryptedContent.map(flux -&gt; persistenceService.addEntry(flux, fileId));\r\n```\r\n1. Why are you trying to wrap your encryption object ? The result is already part of a reactive pipeline. Doing Mono.just() is redundant because you are already in a map operation, and doing cache() over just() is also redundant, because a &quot;Mono.just&quot; is essentially a permanent cache.\r\n2. What does your &quot;update(bytes)&quot; method do ? Does it mutate the same object every time ? because if it does, you might have a problem here. Reactive streams cannot ensure thread-safety and proper ordering of actions on internal mutated states, that is out of its reach. You *might* bypass the problem by using [scan](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#scan-A-java.util.function.BiFunction-) operator, though.\r\n\r\nWithout additional details, I would start refactoring the code like this:\r\n\r\n```java\r\nMono&lt;KeyVault&gt; vault = keyVaultRepository.findByFileId(fileId)\r\n      .switchIfEmpty(Mono.defer(() -&gt; keyVaultRepository.save(KeyVault.of(fileId));\r\n\r\nMono&lt;Encryption&gt; = vault.map(it -&gt; createEncryption(it.getKey()));\r\n\r\nFlux&lt;Encryption&gt; encryptedContent = fileEncryption\r\n    .flatMapMany(encryption -&gt; body.scan(encryption, (it, block) -&gt; it.update(block)));\r\n\r\nMono&lt;FileResultDto&gt; result = persistenceService.addEntry(encryptedContent, fileId);\r\n```","title":".block() within reactive flow (Spring Webflux) for object that holds state","body":"<p>Mono.just is only a wrapper around a pre-computed value, so there is no need to cache or share it, because it is only just giving back a cached variable on subscription.</p>\n<p>But, in your example, there is something I do not understand.</p>\n<p>If we simplify / decompose it, it gives the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;KeyVault&gt; vault = keyVaultRepository.findByFiletId(fileId)\n            .switchIfEmpty(Mono.defer(() -&gt; keyVaultRepository.save(KeyVault.of(fileId));\n            ));\n\nMono&lt;Mono&lt;Encryption&gt;&gt; fileEncryption = vault\n        .map(it -&gt; Mono.just(createEncryption(it.getKey)).cache()); // &lt;1&gt;\n\nMono&lt;Flux&lt;Encryption&gt;&gt; encryptedContent = fileEncryption.map(encryption -&gt; Flux\n                    .from(body)\n                    .map(bytes -&gt; encryption\n                            .share()\n                            .block()\n                            .update(bytes))); // &lt;2&gt;\n\nMono&lt;FileResultDto&gt; file = encryptedContent.map(flux -&gt; persistenceService.addEntry(flux, fileId));\n</code></pre>\n<ol>\n<li>Why are you trying to wrap your encryption object ? The result is already part of a reactive pipeline. Doing Mono.just() is redundant because you are already in a map operation, and doing cache() over just() is also redundant, because a &quot;Mono.just&quot; is essentially a permanent cache.</li>\n<li>What does your &quot;update(bytes)&quot; method do ? Does it mutate the same object every time ? because if it does, you might have a problem here. Reactive streams cannot ensure thread-safety and proper ordering of actions on internal mutated states, that is out of its reach. You <em>might</em> bypass the problem by using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#scan-A-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">scan</a> operator, though.</li>\n</ol>\n<p>Without additional details, I would start refactoring the code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;KeyVault&gt; vault = keyVaultRepository.findByFileId(fileId)\n      .switchIfEmpty(Mono.defer(() -&gt; keyVaultRepository.save(KeyVault.of(fileId));\n\nMono&lt;Encryption&gt; = vault.map(it -&gt; createEncryption(it.getKey()));\n\nFlux&lt;Encryption&gt; encryptedContent = fileEncryption\n    .flatMapMany(encryption -&gt; body.scan(encryption, (it, block) -&gt; it.update(block)));\n\nMono&lt;FileResultDto&gt; result = persistenceService.addEntry(encryptedContent, fileId);\n</code></pre>\n"}],"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74694145,"answer_count":1,"score":2,"last_activity_date":1670272802,"creation_date":1670234945,"question_id":74686457,"body_markdown":"I&#39;ve created a reactive flow at my controller Endpoint ```addEntry``` where one object inside should be created only once per request since it holds a state.\r\n\r\n    @Override\r\n    public Mono&lt;FileResultDto&gt; addEntry(final Flux&lt;byte[]&gt; body,\r\n                                        final String fileId) {\r\n        return keyVaultRepository.findByFiletId(fileId)\r\n                .switchIfEmpty(Mono.defer(() -&gt; {\r\n                    final KeyVault keyVault = KeyVault.of(fileId);\r\n                    return keyVaultRepository.save(keyVault);\r\n                }))\r\n                .map(keyVault -&gt; Mono\r\n                        .just(encryption.createEncryption(keyVault.getKey(), ENCRYPT_MODE)) // createEncryption obj. that holds a state\r\n                        .cache())\r\n                .map(encryption -&gt; Flux\r\n                        .from(body)\r\n                        .map(bytes -&gt; encryption\r\n                                .share()\r\n                                .block()\r\n                                .update(bytes) // works with the state and changes it per byte[] going through this flux\r\n                        )\r\n                )\r\n                .flatMap(flux -&gt; persistenceService.addEntry(flux, fileId));\r\n    }\r\n\r\n\r\nbefore I asked this question I used \r\n\r\n```encryption.block()``` which was failing. \r\n\r\nI found [this][1] one and updated my code accordingly (added ```.share()```).\r\n\r\nThe test itself is working. But I am wondering if this is the proper way to go to work with an object that should be created and used only once in the reactive flow, provided by \r\n\r\n```encryptionService.createEncryption(keyVault.getKey(), ENCRYPT_MODE)```\r\n\r\nHappy to hear your opinion\r\n\r\n  [1]: https://stackoverflow.com/a/66475675/8006882","title":".block() within reactive flow (Spring Webflux) for object that holds state","body":"<p>I've created a reactive flow at my controller Endpoint <code>addEntry</code> where one object inside should be created only once per request since it holds a state.</p>\n<pre><code>@Override\npublic Mono&lt;FileResultDto&gt; addEntry(final Flux&lt;byte[]&gt; body,\n                                    final String fileId) {\n    return keyVaultRepository.findByFiletId(fileId)\n            .switchIfEmpty(Mono.defer(() -&gt; {\n                final KeyVault keyVault = KeyVault.of(fileId);\n                return keyVaultRepository.save(keyVault);\n            }))\n            .map(keyVault -&gt; Mono\n                    .just(encryption.createEncryption(keyVault.getKey(), ENCRYPT_MODE)) // createEncryption obj. that holds a state\n                    .cache())\n            .map(encryption -&gt; Flux\n                    .from(body)\n                    .map(bytes -&gt; encryption\n                            .share()\n                            .block()\n                            .update(bytes) // works with the state and changes it per byte[] going through this flux\n                    )\n            )\n            .flatMap(flux -&gt; persistenceService.addEntry(flux, fileId));\n}\n</code></pre>\n<p>before I asked this question I used</p>\n<p><code>encryption.block()</code> which was failing.</p>\n<p>I found <a href=\"https://stackoverflow.com/a/66475675/8006882\">this</a> one and updated my code accordingly (added <code>.share()</code>).</p>\n<p>The test itself is working. But I am wondering if this is the proper way to go to work with an object that should be created and used only once in the reactive flow, provided by</p>\n<p><code>encryptionService.createEncryption(keyVault.getKey(), ENCRYPT_MODE)</code></p>\n<p>Happy to hear your opinion</p>\n"},{"tags":["java","android","kotlin","gson"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670272667,"creation_date":1670272667,"answer_id":74694132,"question_id":74670740,"body_markdown":"The JSON specification only allows strings as property names of JSON objects. Gson works around this by simply calling the `toString()` function on Map keys and serializing that as JSON property names. However, for deserialization it uses the standard JSON deserialization logic.\r\n\r\nFor simple Map keys such as `String` or `Int` this works just fine, but for complex key types, such as the `Picture` class in your case, this leads to undesired behavior.\r\n\r\nThe solution is to either\r\n- restructure your code so it uses a `Map&lt;String, ...&gt;` and for example stores the picture data as part of the `Picture` class as well, or have a data class which contains the picture data and the `Picture` object\r\n- or to\r\nuse [`GsonBuilder.enableComplexMapKeySerialization()`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()), see also the [user guide](https://github.com/google/gson/blob/master/UserGuide.md#TOC-Maps-Examples) for additional information\r\n\r\nIn case you already have released a version of your app with this faulty JSON serialization logic and you want to preserve backward compatibility, you will have to write a [`JsonDeserializer`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonDeserializer.html) (or [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html), but that is a bit more complicated) which tries to deserialize this faulty JSON value.","title":"Gson cannot deserialize same string it created?","body":"<p>The JSON specification only allows strings as property names of JSON objects. Gson works around this by simply calling the <code>toString()</code> function on Map keys and serializing that as JSON property names. However, for deserialization it uses the standard JSON deserialization logic.</p>\n<p>For simple Map keys such as <code>String</code> or <code>Int</code> this works just fine, but for complex key types, such as the <code>Picture</code> class in your case, this leads to undesired behavior.</p>\n<p>The solution is to either</p>\n<ul>\n<li>restructure your code so it uses a <code>Map&lt;String, ...&gt;</code> and for example stores the picture data as part of the <code>Picture</code> class as well, or have a data class which contains the picture data and the <code>Picture</code> object</li>\n<li>or to\nuse <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()\" rel=\"nofollow noreferrer\"><code>GsonBuilder.enableComplexMapKeySerialization()</code></a>, see also the <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#TOC-Maps-Examples\" rel=\"nofollow noreferrer\">user guide</a> for additional information</li>\n</ul>\n<p>In case you already have released a version of your app with this faulty JSON serialization logic and you want to preserve backward compatibility, you will have to write a <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonDeserializer.html\" rel=\"nofollow noreferrer\"><code>JsonDeserializer</code></a> (or <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a>, but that is a bit more complicated) which tries to deserialize this faulty JSON value.</p>\n"}],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670272667,"creation_date":1670101738,"question_id":74670740,"body_markdown":"I have a HashMap&lt;Picture, String&gt; with Picture being a data-class I created in kotlin. I save the HashMap into the SharedPreferences using `gson.toJson(hashmap)` and this works fine. But when I try to deserialize the very same string (I checked) into the HashMap&lt;Picture, String&gt; again, it fails with a weird error.\r\n\r\nThis is the Exception:\r\n```\r\njava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 3 path $.\r\n```\r\n\r\nThis is the string for reference:\r\n```json\r\n{\r\n   &quot;Picture(image_url\\u003dhttps://nftmintapp.infura-ipfs.io/ipfs/QmZnbgRFCvqXeahD37vaRANjPiyF9oCC2aWw1TwHat8SaU, creator_name\\u003dmarkus, creator_address\\u003d0x0, image_name\\u003dethOS3, additional_url\\u003dhttps://google.com)&quot;:&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;\r\n}\r\n```\r\n\r\nThe String I save in reference to the String is a Bytearray that I convert to string using `Base64.encodeToString(bytes, Base64.NO_WRAP)`.\r\n\r\nI assumed that gson would be able to de-serialize anything it serialized itself, has anybody ever encountered this?","title":"Gson cannot deserialize same string it created?","body":"<p>I have a HashMap&lt;Picture, String&gt; with Picture being a data-class I created in kotlin. I save the HashMap into the SharedPreferences using <code>gson.toJson(hashmap)</code> and this works fine. But when I try to deserialize the very same string (I checked) into the HashMap&lt;Picture, String&gt; again, it fails with a weird error.</p>\n<p>This is the Exception:</p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 3 path $.\n</code></pre>\n<p>This is the string for reference:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;Picture(image_url\\u003dhttps://nftmintapp.infura-ipfs.io/ipfs/QmZnbgRFCvqXeahD37vaRANjPiyF9oCC2aWw1TwHat8SaU, creator_name\\u003dmarkus, creator_address\\u003d0x0, image_name\\u003dethOS3, additional_url\\u003dhttps://google.com)&quot;:&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;\n}\n</code></pre>\n<p>The String I save in reference to the String is a Bytearray that I convert to string using <code>Base64.encodeToString(bytes, Base64.NO_WRAP)</code>.</p>\n<p>I assumed that gson would be able to de-serialize anything it serialized itself, has anybody ever encountered this?</p>\n"},{"tags":["java","linux","server"],"comments":[{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1670272236,"post_id":74693992,"comment_id":131833691,"body_markdown":"This might be better asked on Super User.  https://superuser.com/questions","body":"This might be better asked on Super User.  <a href=\"https://superuser.com/questions\">superuser.com/questions</a>"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670272290,"post_id":74693992,"comment_id":131833707,"body_markdown":"Hi and welcome to stack overflow.  Along the lines of cliff&#39;s comment, you might consider looking at server fault as well.  https://serverfault.com/","body":"Hi and welcome to stack overflow.  Along the lines of cliff&#39;s comment, you might consider looking at server fault as well.  <a href=\"https://serverfault.com/\">serverfault.com</a>"}],"owner":{"account_id":27156718,"reputation":1,"user_id":20695421,"display_name":"user20695421"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670271798,"creation_date":1670271798,"question_id":74693992,"body_markdown":"I have a server in one game (it&#39;s called Mindustry). \r\nOn average, 60 people constantly play on the server, about 10,000 unique users enter per day.\r\nSome people who use VPNs bypass all the bans and interfere with regular players. I need an easy and free way to block all VPN connections to my server.\r\n\r\nSome info:\r\n- the server is running on a dedicated host with Ubuntu 20.04\r\n- i have a root access on the host\r\n- this game (Mindustry) supports loading java mods &amp; plugins, they can track the connection of a player and get his ip-address\r\n- the game code is here: https://github.com/anuken/mindustry\r\n\r\n\r\n\r\nI tried using public free anti-vpn APIs, but i need at least 10000 queries per day, however no API gives you that much.\r\nI also tried to set up the firewall on my host, but idk where can i find all VPN IPs and how do i block them all.\r\n\r\n*Sorry for my bad english, it&#39;s not my national language*\r\n*Also it&#39;s my first time asking something on StackOverflow*","title":"How do i block all VPN connections to my server?","body":"<p>I have a server in one game (it's called Mindustry).\nOn average, 60 people constantly play on the server, about 10,000 unique users enter per day.\nSome people who use VPNs bypass all the bans and interfere with regular players. I need an easy and free way to block all VPN connections to my server.</p>\n<p>Some info:</p>\n<ul>\n<li>the server is running on a dedicated host with Ubuntu 20.04</li>\n<li>i have a root access on the host</li>\n<li>this game (Mindustry) supports loading java mods &amp; plugins, they can track the connection of a player and get his ip-address</li>\n<li>the game code is here: <a href=\"https://github.com/anuken/mindustry\" rel=\"nofollow noreferrer\">https://github.com/anuken/mindustry</a></li>\n</ul>\n<p>I tried using public free anti-vpn APIs, but i need at least 10000 queries per day, however no API gives you that much.\nI also tried to set up the firewall on my host, but idk where can i find all VPN IPs and how do i block them all.</p>\n<p><em>Sorry for my bad english, it's not my national language</em>\n<em>Also it's my first time asking something on StackOverflow</em></p>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":3973489,"reputation":2934,"user_id":3277386,"accept_rate":60,"display_name":"TreffnonX"},"score":0,"creation_date":1629268532,"post_id":68824902,"comment_id":121638402,"body_markdown":"Is it possible to override the responsible method in a central deserializer, instead of using the customized deserializer only for this one parameter? So instead of `BarDtoDeserializer`, using a `GeneralDtoDeserializer` and then catching class cast exceptions on value assignment (and then defaulting to null instead).","body":"Is it possible to override the responsible method in a central deserializer, instead of using the customized deserializer only for this one parameter? So instead of <code>BarDtoDeserializer</code>, using a <code>GeneralDtoDeserializer</code> and then catching class cast exceptions on value assignment (and then defaulting to null instead)."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1629285044,"post_id":68824902,"comment_id":121644755,"body_markdown":"Do the payloads you receive contain any uniquely identifiable fields? For example, one contains `&quot;id&quot;: &quot;foo&quot;` or `&quot;foo-based-id&quot;: 3`?","body":"Do the payloads you receive contain any uniquely identifiable fields? For example, one contains <code>&quot;id&quot;: &quot;foo&quot;</code> or <code>&quot;foo-based-id&quot;: 3</code>?"}],"answers":[{"comments":[{"owner":{"account_id":2234074,"reputation":481,"user_id":1970964,"accept_rate":62,"display_name":"TovrikTheThird"},"score":1,"creation_date":1629310735,"post_id":68833557,"comment_id":121655884,"body_markdown":"This absolutely worked for me. What I ended up doing was adding a companion object with a list of classes that I wanted to default to null that contained `BarDTO` and then in the `handleMissingInstantiator` override, I just check `return if(instClass in DEFAULT_TO_NULL_CLASSES) null else super.handleMissingInstantiator(ctxt, instClass, valueInsta, p, msg)`","body":"This absolutely worked for me. What I ended up doing was adding a companion object with a list of classes that I wanted to default to null that contained <code>BarDTO</code> and then in the <code>handleMissingInstantiator</code> override, I just check <code>return if(instClass in DEFAULT_TO_NULL_CLASSES) null else super.handleMissingInstantiator(ctxt, instClass, valueInsta, p, msg)</code>"}],"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629294829,"creation_date":1629294065,"answer_id":68833557,"question_id":68824902,"body_markdown":"Thanks to this answer https://stackoverflow.com/a/45484422/4161471 I&#39;ve found that a [`DeserializationProblemHandler`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/deser/DeserializationProblemHandler.html) can be used to return &#39;null&#39; for invalid data. \r\n\r\nIn your instance, override the `handleMissingInstantiator()` function. If other payloads have other types of bad data, other overrides may be required.\r\n\r\n\r\nAlso, I thought that [`CoercionConfig`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/cfg/CoercionConfig.html) might be the answer, but I couldn&#39;t get it to work or find decent documentation. That might be another path.\r\n\r\n---\r\n\r\n\r\n```kotlin \r\nimport com.fasterxml.jackson.core.JsonParser\r\nimport com.fasterxml.jackson.databind.DeserializationContext\r\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler\r\nimport com.fasterxml.jackson.databind.deser.ValueInstantiator\r\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\r\nimport com.fasterxml.jackson.module.kotlin.readValue\r\n\r\n\r\ndata class FooDTO(\r\n  val name: String,\r\n  val bar: BarDTO?,\r\n)\r\n\r\ndata class BarDTO(\r\n  val size: Int\r\n)\r\n\r\nfun main() {\r\n  val mapper = jacksonObjectMapper()\r\n\r\n//  mapper\r\n//    .coercionConfigFor(LogicalType.Textual)\r\n//    .setCoercion(CoercionInputShape.String, CoercionAction.AsNull)\r\n\r\n  mapper.addHandler(object : DeserializationProblemHandler() {\r\n    override fun handleMissingInstantiator(\r\n      ctxt: DeserializationContext?,\r\n      instClass: Class&lt;*&gt;?,\r\n      valueInsta: ValueInstantiator?,\r\n      p: JsonParser?,\r\n      msg: String?\r\n    ): Any? {\r\n      println(&quot;returning null for value, $msg&quot;)\r\n      return null\r\n    }\r\n  })\r\n\r\n  val a: FooDTO = mapper.readValue(\r\n    &quot;&quot;&quot;\r\n      {\r\n        &quot;name&quot;: &quot;I&#39;m variant A&quot;,\r\n        &quot;bar&quot;: &quot;uh oh random string instead of object&quot;\r\n      }\r\n    &quot;&quot;&quot;\r\n  )\r\n  val b: FooDTO = mapper.readValue(\r\n    &quot;&quot;&quot;\r\n      {\r\n        &quot;name&quot;: &quot;I&#39;m variant B&quot;,\r\n        &quot;bar&quot;: {\r\n          &quot;size&quot;: 2     \r\n        }\r\n      }\r\n    &quot;&quot;&quot;\r\n  )\r\n\r\n  println(a)\r\n  println(b)\r\n  assert(a.bar == null)\r\n  assert(a.bar?.size == 2)\r\n\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nreturning null for value, no String-argument constructor/factory method to deserialize from String value (&#39;uh oh random string instead of object&#39;)\r\nFooDTO(name=I&#39;m variant A, bar=null)\r\nFooDTO(name=I&#39;m variant B, bar=BarDTO(size=2))\r\n\r\nProcess finished with exit code 0\r\n```","title":"Jackson Deserializer default to null on failure","body":"<p>Thanks to this answer <a href=\"https://stackoverflow.com/a/45484422/4161471\">https://stackoverflow.com/a/45484422/4161471</a> I've found that a <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/deser/DeserializationProblemHandler.html\" rel=\"nofollow noreferrer\"><code>DeserializationProblemHandler</code></a> can be used to return 'null' for invalid data.</p>\n<p>In your instance, override the <code>handleMissingInstantiator()</code> function. If other payloads have other types of bad data, other overrides may be required.</p>\n<p>Also, I thought that <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/cfg/CoercionConfig.html\" rel=\"nofollow noreferrer\"><code>CoercionConfig</code></a> might be the answer, but I couldn't get it to work or find decent documentation. That might be another path.</p>\n<hr />\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonParser\nimport com.fasterxml.jackson.databind.DeserializationContext\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler\nimport com.fasterxml.jackson.databind.deser.ValueInstantiator\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.fasterxml.jackson.module.kotlin.readValue\n\n\ndata class FooDTO(\n  val name: String,\n  val bar: BarDTO?,\n)\n\ndata class BarDTO(\n  val size: Int\n)\n\nfun main() {\n  val mapper = jacksonObjectMapper()\n\n//  mapper\n//    .coercionConfigFor(LogicalType.Textual)\n//    .setCoercion(CoercionInputShape.String, CoercionAction.AsNull)\n\n  mapper.addHandler(object : DeserializationProblemHandler() {\n    override fun handleMissingInstantiator(\n      ctxt: DeserializationContext?,\n      instClass: Class&lt;*&gt;?,\n      valueInsta: ValueInstantiator?,\n      p: JsonParser?,\n      msg: String?\n    ): Any? {\n      println(&quot;returning null for value, $msg&quot;)\n      return null\n    }\n  })\n\n  val a: FooDTO = mapper.readValue(\n    &quot;&quot;&quot;\n      {\n        &quot;name&quot;: &quot;I'm variant A&quot;,\n        &quot;bar&quot;: &quot;uh oh random string instead of object&quot;\n      }\n    &quot;&quot;&quot;\n  )\n  val b: FooDTO = mapper.readValue(\n    &quot;&quot;&quot;\n      {\n        &quot;name&quot;: &quot;I'm variant B&quot;,\n        &quot;bar&quot;: {\n          &quot;size&quot;: 2     \n        }\n      }\n    &quot;&quot;&quot;\n  )\n\n  println(a)\n  println(b)\n  assert(a.bar == null)\n  assert(a.bar?.size == 2)\n\n}\n\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>returning null for value, no String-argument constructor/factory method to deserialize from String value ('uh oh random string instead of object')\nFooDTO(name=I'm variant A, bar=null)\nFooDTO(name=I'm variant B, bar=BarDTO(size=2))\n\nProcess finished with exit code 0\n</code></pre>\n"}],"owner":{"account_id":2234074,"reputation":481,"user_id":1970964,"accept_rate":62,"display_name":"TovrikTheThird"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68833557,"answer_count":1,"score":2,"last_activity_date":1670271712,"creation_date":1629241316,"question_id":68824902,"body_markdown":"I have an issue where an upstream service is making requests and about 5% of the requests that are made are partially malformed. For example, instead of a nullable property coming to me as the object type I am expecting, I get a random string. \r\n\r\n```kotlin\r\ndata class FooDTO(\r\n  val bar: BarDTO?,\r\n  val name: String\r\n)\r\n\r\ndata class BarDTO(\r\n  val size: Int\r\n)\r\n```\r\n\r\nBut the payload I get looks like \r\n\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;The Name&quot;,\r\n  &quot;bar&quot;: &quot;uh oh random string instead of object&quot;\r\n}\r\n```\r\n\r\nI don&#39;t want to fail the request when this happens because the part of the data that is correct is still useful for my purposes, so what I want to do is just default the deserialization failure to `null`. I also have a few different sub-objects in my `FooDTO` that do this so I want a generic way to solve it for those specific fields. I know I can write a custom deserializer like the following to solve it on a 1-off basis.\r\n\r\n```kotlin\r\nclass BarDtoDeserializer @JvmOverloads constructor(vc: Class&lt;*&gt;? = null) : StdDeserializer&lt;BarDTO?&gt;(vc) {\r\n    override fun deserialize(jp: JsonParser, ctxt: DeserializationContext): AnalysisDTO? {\r\n        return try {\r\n            val node = jp.codec.readTree&lt;JsonNode&gt;(jp)\r\n            BarDTO(size = node.get(&quot;size&quot;).numberValue().toInt())\r\n        } catch (ex: Throwable) {\r\n            null\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then I can decorate my `BarDTO` object with a `@JsonDeserialize(using=BarDtoDeserializer::class)` to force it to use that deserializer. What I am hoping to do is have some way to do this in a generic way. ","title":"Jackson Deserializer default to null on failure","body":"<p>I have an issue where an upstream service is making requests and about 5% of the requests that are made are partially malformed. For example, instead of a nullable property coming to me as the object type I am expecting, I get a random string.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class FooDTO(\n  val bar: BarDTO?,\n  val name: String\n)\n\ndata class BarDTO(\n  val size: Int\n)\n</code></pre>\n<p>But the payload I get looks like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;The Name&quot;,\n  &quot;bar&quot;: &quot;uh oh random string instead of object&quot;\n}\n</code></pre>\n<p>I don't want to fail the request when this happens because the part of the data that is correct is still useful for my purposes, so what I want to do is just default the deserialization failure to <code>null</code>. I also have a few different sub-objects in my <code>FooDTO</code> that do this so I want a generic way to solve it for those specific fields. I know I can write a custom deserializer like the following to solve it on a 1-off basis.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class BarDtoDeserializer @JvmOverloads constructor(vc: Class&lt;*&gt;? = null) : StdDeserializer&lt;BarDTO?&gt;(vc) {\n    override fun deserialize(jp: JsonParser, ctxt: DeserializationContext): AnalysisDTO? {\n        return try {\n            val node = jp.codec.readTree&lt;JsonNode&gt;(jp)\n            BarDTO(size = node.get(&quot;size&quot;).numberValue().toInt())\n        } catch (ex: Throwable) {\n            null\n        }\n    }\n}\n</code></pre>\n<p>And then I can decorate my <code>BarDTO</code> object with a <code>@JsonDeserialize(using=BarDtoDeserializer::class)</code> to force it to use that deserializer. What I am hoping to do is have some way to do this in a generic way.</p>\n"},{"tags":["java","oop","jakarta-ee"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1574784135,"post_id":59054831,"comment_id":104349451,"body_markdown":"You can read all about Object yourself, here: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html","body":"You can read all about Object yourself, here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Object.html</a>"},{"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"score":0,"creation_date":1574784230,"post_id":59054831,"comment_id":104349516,"body_markdown":"All non primitive datatypes are of type Object, or it&#39;s family if you intended to ask that.","body":"All non primitive datatypes are of type Object, or it&#39;s family if you intended to ask that."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574791896,"creation_date":1574784399,"answer_id":59054981,"question_id":59054831,"body_markdown":"&gt; Is Object a datatype in java?\r\n\r\nYes.\r\n\r\nEvery class in Java is a datatype and `Object` is a class which means that it too is a datatype. It is special as it is a superclass of every class in Java.","title":"Is Object a datatype?","body":"<blockquote>\n  <p>Is Object a datatype in java?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>Every class in Java is a datatype and <code>Object</code> is a class which means that it too is a datatype. It is special as it is a superclass of every class in Java.</p>\n"}],"owner":{"account_id":7866660,"reputation":103,"user_id":5945296,"accept_rate":100,"display_name":"Amit Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6718,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":59054981,"answer_count":1,"score":-4,"last_activity_date":1670271710,"creation_date":1574783952,"question_id":59054831,"body_markdown":"It is a basic unit of Object-Oriented Programming and represents real-life entities.  A typical Java program creates many objects, which as you know, interact by invoking methods. An object consists of :\r\n\r\n* State: It is represented by attributes of an object. It also reflects the properties of an object.\r\n* Behavior: It is represented by methods of an object. It also reflects the response of an object to other objects.\r\n* Identity: It gives a unique name to an object and enables one object to interact with other objects.\r\n\r\nIs `Object` a datatype in Java? \r\n","title":"Is Object a datatype?","body":"<p>It is a basic unit of Object-Oriented Programming and represents real-life entities.  A typical Java program creates many objects, which as you know, interact by invoking methods. An object consists of :</p>\n<ul>\n<li>State: It is represented by attributes of an object. It also reflects the properties of an object.</li>\n<li>Behavior: It is represented by methods of an object. It also reflects the response of an object to other objects.</li>\n<li>Identity: It gives a unique name to an object and enables one object to interact with other objects.</li>\n</ul>\n<p>Is <code>Object</code> a datatype in Java?</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670267148,"post_id":74693149,"comment_id":131832252,"body_markdown":"What&#39;s your question? Did your code run? If it ran, can you, please, include the results? Were the results expected or unexpected? If it didn&#39;t run, what error messages were shown? What problem do you have working on this?  Please edit your question to add these details.","body":"What&#39;s your question? Did your code run? If it ran, can you, please, include the results? Were the results expected or unexpected? If it didn&#39;t run, what error messages were shown? What problem do you have working on this?  Please edit your question to add these details."},{"owner":{"account_id":19248214,"reputation":440,"user_id":15063341,"display_name":"Visrut"},"score":0,"creation_date":1670267214,"post_id":74693149,"comment_id":131832269,"body_markdown":"This logic won&#39;t work try to print the `i` and `j` variables inside the loop and trace how your indexes are affected.","body":"This logic won&#39;t work try to print the <code>i</code> and <code>j</code> variables inside the loop and trace how your indexes are affected."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1670271121,"post_id":74693149,"comment_id":131833399,"body_markdown":"Instead of appending &quot;[SOLVED]&quot; to the title, you should accept your own answer. You can do that by clicking on the green checkmark below the post score.","body":"Instead of appending &quot;[SOLVED]&quot; to the title, you should accept your own answer. You can do that by clicking on the green checkmark below the post score."}],"answers":[{"tags":[],"owner":{"account_id":19392376,"reputation":44,"user_id":18708233,"display_name":"trombonedude"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670267631,"creation_date":1670267631,"answer_id":74693273,"question_id":74693149,"body_markdown":"Two things:\r\n\r\n1. In your while loop, you use an `&amp;` (bitwise and) instead of `&amp;&amp;` (logical and).\r\n\r\n2. You can essentially just remove the for loops as you just want it to run until you reach the `&#39;E&#39;`.\r\n\r\n       int sumPath(String[][] maze) {\r\n           int sum = 0;\r\n           int i = 0; // because you start at the top left\r\n           int j = 0;\r\n\r\n           while (!(maze[i][j].equals(&quot;E&quot;) &amp;&amp; (!(maze[i][j].equals(&quot;0&quot;))))) {\r\n\r\n                if (maze[i][j].equals(&quot;R&quot;)) {\r\n                    j++; //move to the right (increase col)\r\n                    \r\n                }\r\n                else if (maze[i][j].equals(&quot;D&quot;)) {\r\n                    i++; //move down (increase row)\r\n\r\n                }\r\n                else if (maze[i][j].equals(&quot;L&quot;)) {\r\n                    j--; //move to the left (decrease col)\r\n\r\n                }\r\n                else if (maze[i][j].equals(&quot;U&quot;)) {\r\n                    i--; //move up (decrease row)\r\n\r\n                }\r\n                else { // just use an else block because you already checked all other options\r\n                    sum += Integer.parseInt(maze[i][j]);\r\n                }\r\n            }\r\n            return sum;\r\n        }\r\nThis assumes that the maze is made correctly.\r\nI can&#39;t check the code right now but this should work.","title":"Sum of specific path in a 2D-Arrray","body":"<p>Two things:</p>\n<ol>\n<li><p>In your while loop, you use an <code>&amp;</code> (bitwise and) instead of <code>&amp;&amp;</code> (logical and).</p>\n</li>\n<li><p>You can essentially just remove the for loops as you just want it to run until you reach the <code>'E'</code>.</p>\n<pre><code>int sumPath(String[][] maze) {\n    int sum = 0;\n    int i = 0; // because you start at the top left\n    int j = 0;\n\n    while (!(maze[i][j].equals(&quot;E&quot;) &amp;&amp; (!(maze[i][j].equals(&quot;0&quot;))))) {\n\n         if (maze[i][j].equals(&quot;R&quot;)) {\n             j++; //move to the right (increase col)\n\n         }\n         else if (maze[i][j].equals(&quot;D&quot;)) {\n             i++; //move down (increase row)\n\n         }\n         else if (maze[i][j].equals(&quot;L&quot;)) {\n             j--; //move to the left (decrease col)\n\n         }\n         else if (maze[i][j].equals(&quot;U&quot;)) {\n             i--; //move up (decrease row)\n\n         }\n         else { // just use an else block because you already checked all other options\n             sum += Integer.parseInt(maze[i][j]);\n         }\n     }\n     return sum;\n }\n</code></pre>\n</li>\n</ol>\n<p>This assumes that the maze is made correctly.\nI can't check the code right now but this should work.</p>\n"},{"tags":[],"owner":{"account_id":26955251,"reputation":1,"user_id":20523748,"display_name":"Cradles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670270655,"creation_date":1670270655,"answer_id":74693792,"question_id":74693149,"body_markdown":"**So i just figured it out **\r\n*Main thing i did is save the current direction the path is going in a string, and switching to a switch *\r\n\r\n        int sumPath3(String[][] maze) {\r\n        int sum = 0;\r\n        int i = 0;\r\n        int j = 0;\r\n        String currDir = &quot;&quot;;\r\n\r\n        while (!(maze[i][j].equals(&quot;E&quot;) &amp; (!(maze[i][j].equals(&quot;0&quot;))))) {\r\n            if ((maze[i][j].equals(&quot;R&quot;) | maze[i][j].equals(&quot;D&quot;) | maze[i][j].equals(&quot;L&quot;) | maze[i][j].equals(&quot;U&quot;))) {\r\n                currDir = maze[i][j];\r\n                switch (currDir) {\r\n                    case &quot;R&quot; -&gt; j++;\r\n                    case &quot;D&quot; -&gt; i++;\r\n                    case &quot;L&quot; -&gt; j--;\r\n                    case &quot;U&quot; -&gt; i--;\r\n                }\r\n            } else {\r\n                sum += Integer.parseInt(maze[i][j]);\r\n                switch (currDir) {\r\n                    case &quot;R&quot; -&gt; j++;\r\n                    case &quot;D&quot; -&gt; i++;\r\n                    case &quot;L&quot; -&gt; j--;\r\n                    case &quot;U&quot; -&gt; i--;\r\n                }\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n\r\n","title":"Sum of specific path in a 2D-Arrray","body":"<p>**So i just figured it out **\n*Main thing i did is save the current direction the path is going in a string, and switching to a switch *</p>\n<pre><code>    int sumPath3(String[][] maze) {\n    int sum = 0;\n    int i = 0;\n    int j = 0;\n    String currDir = &quot;&quot;;\n\n    while (!(maze[i][j].equals(&quot;E&quot;) &amp; (!(maze[i][j].equals(&quot;0&quot;))))) {\n        if ((maze[i][j].equals(&quot;R&quot;) | maze[i][j].equals(&quot;D&quot;) | maze[i][j].equals(&quot;L&quot;) | maze[i][j].equals(&quot;U&quot;))) {\n            currDir = maze[i][j];\n            switch (currDir) {\n                case &quot;R&quot; -&gt; j++;\n                case &quot;D&quot; -&gt; i++;\n                case &quot;L&quot; -&gt; j--;\n                case &quot;U&quot; -&gt; i--;\n            }\n        } else {\n            sum += Integer.parseInt(maze[i][j]);\n            switch (currDir) {\n                case &quot;R&quot; -&gt; j++;\n                case &quot;D&quot; -&gt; i++;\n                case &quot;L&quot; -&gt; j--;\n                case &quot;U&quot; -&gt; i--;\n            }\n        }\n    }\n    return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":26955251,"reputation":1,"user_id":20523748,"display_name":"Cradles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74693792,"answer_count":2,"score":0,"last_activity_date":1670271544,"creation_date":1670266876,"question_id":74693149,"body_markdown":"[Given way of traversal](https://i.stack.imgur.com/oJs9D.png)\r\n[Given String-Array](https://i.stack.imgur.com/shwmn.png)\r\n\r\nSo given the String Array it should travers as shown via the red path and give back the sum of the numbers which are on the path (1+2+3+4+5+6+7+8+9 = 45). \r\nThe directional instructions: &quot;L&quot;, &quot;R&quot;, &quot;D&quot; or &quot;U&quot; (for left, right,\r\ndown, up)\r\n\r\n`\r\n**Don&#39;t really know if it&#39;s even possible to implement a while-Loop inside a for-Loop, wasn&#39;t really sure how i should solve this one. **\r\n```\r\nint sumPath(String[][] maze) {\r\n    int sum = 0;\r\n\r\n\r\n    for (int i = 0; i &lt; maze.length; i++) {\r\n        for (int j = 0; j &lt; maze[0].length; j++) {\r\n            while (!(maze[i][j].equals(&quot;E&quot;) &amp; (!(maze[i][j].equals(&quot;0&quot;))))) {\r\n\r\n                if (maze[i][j].equals(&quot;R&quot;)) {\r\n                    j++; //move to the right (increase col)\r\n                    \r\n                }\r\n                else if (maze[i][j].equals(&quot;D&quot;)) {\r\n                    i++; //move down (increase row)\r\n\r\n                }\r\n                else if (maze[i][j].equals(&quot;L&quot;)) {\r\n                    j--; //move to the left (decrease col)\r\n\r\n                }\r\n                else if (maze[i][j].equals(&quot;U&quot;)) {\r\n                    i--; //move up (decrease row)\r\n\r\n                }\r\n                else if (!(maze[i][j].equals(&quot;R&quot;) || maze[i][j].equals(&quot;D&quot;) || maze[i][j].equals(&quot;L&quot;) || maze[i][j].equals(&quot;U&quot;) || maze[i][j].equals(&quot;E&quot;))) {\r\n                    sum += Integer.parseInt(maze[i][j]);\r\n\r\n\r\n                }break;\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n    }return sum;\r\n\r\n\r\n}\r\n```\r\n`","title":"Sum of specific path in a 2D-Arrray","body":"<p><a href=\"https://i.stack.imgur.com/oJs9D.png\" rel=\"nofollow noreferrer\">Given way of traversal</a>\n<a href=\"https://i.stack.imgur.com/shwmn.png\" rel=\"nofollow noreferrer\">Given String-Array</a></p>\n<p>So given the String Array it should travers as shown via the red path and give back the sum of the numbers which are on the path (1+2+3+4+5+6+7+8+9 = 45).\nThe directional instructions: &quot;L&quot;, &quot;R&quot;, &quot;D&quot; or &quot;U&quot; (for left, right,\ndown, up)</p>\n<p>`\n**Don't really know if it's even possible to implement a while-Loop inside a for-Loop, wasn't really sure how i should solve this one. **</p>\n<pre><code>int sumPath(String[][] maze) {\n    int sum = 0;\n\n\n    for (int i = 0; i &lt; maze.length; i++) {\n        for (int j = 0; j &lt; maze[0].length; j++) {\n            while (!(maze[i][j].equals(&quot;E&quot;) &amp; (!(maze[i][j].equals(&quot;0&quot;))))) {\n\n                if (maze[i][j].equals(&quot;R&quot;)) {\n                    j++; //move to the right (increase col)\n                    \n                }\n                else if (maze[i][j].equals(&quot;D&quot;)) {\n                    i++; //move down (increase row)\n\n                }\n                else if (maze[i][j].equals(&quot;L&quot;)) {\n                    j--; //move to the left (decrease col)\n\n                }\n                else if (maze[i][j].equals(&quot;U&quot;)) {\n                    i--; //move up (decrease row)\n\n                }\n                else if (!(maze[i][j].equals(&quot;R&quot;) || maze[i][j].equals(&quot;D&quot;) || maze[i][j].equals(&quot;L&quot;) || maze[i][j].equals(&quot;U&quot;) || maze[i][j].equals(&quot;E&quot;))) {\n                    sum += Integer.parseInt(maze[i][j]);\n\n\n                }break;\n\n            }\n\n        }\n\n\n\n    }return sum;\n\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1670268326,"post_id":74693307,"comment_id":131832567,"body_markdown":"Can you edit your question to show the minimal code with which we&#39;d also get that error message?","body":"Can you edit your question to show the minimal code with which we&#39;d also get that error message?"},{"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"score":0,"creation_date":1670269414,"post_id":74693307,"comment_id":131832891,"body_markdown":"@FrankvanPuffelen question updated","body":"@FrankvanPuffelen question updated"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670314217,"post_id":74693307,"comment_id":131841588,"body_markdown":"If you understand Kotlin, then this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will help, as it explains the how to upload an image to Storage and display it again in your app.","body":"If you understand Kotlin, then this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will help, as it explains the how to upload an image to Storage and display it again in your app."}],"answers":[{"tags":[],"owner":{"account_id":21178348,"reputation":172,"user_id":15573213,"display_name":"shybaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670271449,"creation_date":1670271449,"answer_id":74693934,"question_id":74693307,"body_markdown":"You have to download the bytes from firebase like this:\r\n\r\n    storageReference = FirebaseStorage.getInstance().getReference().child(&quot;images/Anime/General/Test1&quot;);\r\n    storageReference.getBytes(1024*1024).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\r\n        @Override\r\n        public void onSuccess(byte[] bytes) {\r\n           //here add new element in the server with storageReference.putbytes(bytes)..\r\n        }\r\n    });\r\n\r\n                                    ","title":"firebase how to download image and update it again?","body":"<p>You have to download the bytes from firebase like this:</p>\n<pre><code>storageReference = FirebaseStorage.getInstance().getReference().child(&quot;images/Anime/General/Test1&quot;);\nstorageReference.getBytes(1024*1024).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\n    @Override\n    public void onSuccess(byte[] bytes) {\n       //here add new element in the server with storageReference.putbytes(bytes)..\n    }\n});\n\n                                \n</code></pre>\n"}],"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74693934,"answer_count":1,"score":1,"last_activity_date":1670271449,"creation_date":1670267941,"question_id":74693307,"body_markdown":"my image is stored inside firebase storage and its url is stored inside the realtime database. Firebase realtime and storage are both like this:\r\n\r\n    Type1\r\n    ----Time1\r\n    --------elements of type1\r\n    ----Time2\r\n    --------elements of type2\r\n    Type2\r\n    ....\r\n\r\nI let the users change element&#39;s time so I have to move an element from a branch to another.\r\nMy strategy is to create a new element on the new branch and then remove the old one.\r\nThe problem is in the creation of the new element in the chosen branch, specifically I have problems setting the image of the new element equal to that of the old one. \r\nI tried to use Uri.parse() passing the url saved as string in the realtime database and I also tried to use storagereference.getdownloadurl, both I got this error:\r\n\r\n \r\n\r\n        could not locate file for uploading:https://firebasestorage.googleapis.com/v0/b/re...\r\n    E/StorageException: StorageException has occurred.\r\n        An unknown error occurred, please check the HTTP result code and inner exception for server response.\r\n         Code: -13000 HttpResult: 0\r\n\r\nAnd it&#39;s not sense because If I click that link in the error, it shows me the correct image, so why it can&#39;t locate it?!\r\nHow can I do it?\r\n\r\n    storageReference = FirebaseStorage.getInstance().getReference().child(&quot;images/Anime/General/Test1&quot;);\r\n        storageReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n            @Override\r\n            public void onSuccess(Uri uri) {\r\n                storageReference = FirebaseStorage.getInstance().getReference().child(&quot;images/Anime/Future/Test1&quot;);\r\n                storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        ...\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n    \r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\nThe error is on this line:\r\n\r\n    storageReference.putFile(uri)...","title":"firebase how to download image and update it again?","body":"<p>my image is stored inside firebase storage and its url is stored inside the realtime database. Firebase realtime and storage are both like this:</p>\n<pre><code>Type1\n----Time1\n--------elements of type1\n----Time2\n--------elements of type2\nType2\n....\n</code></pre>\n<p>I let the users change element's time so I have to move an element from a branch to another.\nMy strategy is to create a new element on the new branch and then remove the old one.\nThe problem is in the creation of the new element in the chosen branch, specifically I have problems setting the image of the new element equal to that of the old one.\nI tried to use Uri.parse() passing the url saved as string in the realtime database and I also tried to use storagereference.getdownloadurl, both I got this error:</p>\n<pre><code>    could not locate file for uploading:https://firebasestorage.googleapis.com/v0/b/re...\nE/StorageException: StorageException has occurred.\n    An unknown error occurred, please check the HTTP result code and inner exception for server response.\n     Code: -13000 HttpResult: 0\n</code></pre>\n<p>And it's not sense because If I click that link in the error, it shows me the correct image, so why it can't locate it?!\nHow can I do it?</p>\n<pre><code>storageReference = FirebaseStorage.getInstance().getReference().child(&quot;images/Anime/General/Test1&quot;);\n    storageReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            storageReference = FirebaseStorage.getInstance().getReference().child(&quot;images/Anime/Future/Test1&quot;);\n            storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    ...\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n\n                }\n            });\n        }\n    });\n</code></pre>\n<p>The error is on this line:</p>\n<pre><code>storageReference.putFile(uri)...\n</code></pre>\n"},{"tags":["java","arrays","json","jackson","objectmapper"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670249358,"post_id":74689448,"comment_id":131825792,"body_markdown":"`persons` appears to be just one single object.  I think you&#39;ll have to create a new object each time through the loop.","body":"<code>persons</code> appears to be just one single object.  I think you&#39;ll have to create a new object each time through the loop."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670249446,"post_id":74689448,"comment_id":131825818,"body_markdown":"And the same might go for `personObject ` too, you seem to have only one of those.","body":"And the same might go for <code>personObject </code> too, you seem to have only one of those."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670254807,"creation_date":1670251256,"answer_id":74689922,"question_id":74689448,"body_markdown":"As *@markspace* has pointed out in the comments, you&#39;re repeatedly adding the reference to the **same** `ObjectNode` into the same `JsonArray`. When you&#39;re modifying this single object, all the elements in the get updated, and what you&#39;re getting is data of the very last person replicated multiple time.\r\n\r\nYou need to move creation of the `ObjectNode` into the loop, so that a new node would be instantiated for each person:\r\n\r\n```\r\nfor (int i = 0; i &lt; personRoot.data.toArray().length; i++) {\r\n    ObjectNode personsObject = objectMapper.createObjectNode(); // move object-creation inside the loop\r\n            \r\n    personsObject.put(...);\r\n    personsObject.put(...);\r\n            \r\n    persons.add(personsObject);\r\n}\r\n```\r\n\r\n&lt;h3&gt;Sidenotes&lt;/h3&gt;\r\n\r\n*Encapsulation* in your custom class `PersonRoot` is broken. In Java, we use access modifier like `protected` and `private` to hide and protect the data within a class instance. And class is supposed to provide behavior which allow interacting with the state of its instances instead of exposing the instance variables directly (*getters are the simplest example of such behavior*). This might look alien to you, if previously you were working with languages like JavaScript, but *Encapsulation* is one of the crucial parts of Object-oriented programming, and it&#39;s a common practice in Java to design classes in such a way so that their data is properly encapsulated.\r\n\r\nYou might also want to learn about one of the [GRASP][grasp] design-patterns, namely [*The information expert pattern*][informationExpert]. Which states that an object containing the data should be provided with behavior that facilitates interaction with the data (it&#39;s not the responsibility of the code that make use of this object).\r\n\r\nI.e. instead of doing this: `personRoot.data.toArray().length` you can introduce `length()` method in the `PersonRoot` class. And instead of writing `personRoot.data.get(i)` there could be a method like `PersonRoot.getPerson(int index)`.\r\n\r\nYou can also make `PersonRoot` implement [`Iterable`][iterable] interface, so that it could be used as a source of data within an enhanced `for`-loop.\r\n\r\n\r\n\r\n   [grasp]: https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)\r\n\r\n   [informationExpert]: https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Information_expert\r\n\r\n   [iterable]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html","title":"How to add ObjectNodes to ArrayNodes without overwriting old data","body":"<p>As <em>@markspace</em> has pointed out in the comments, you're repeatedly adding the reference to the <strong>same</strong> <code>ObjectNode</code> into the same <code>JsonArray</code>. When you're modifying this single object, all the elements in the get updated, and what you're getting is data of the very last person replicated multiple time.</p>\n<p>You need to move creation of the <code>ObjectNode</code> into the loop, so that a new node would be instantiated for each person:</p>\n<pre><code>for (int i = 0; i &lt; personRoot.data.toArray().length; i++) {\n    ObjectNode personsObject = objectMapper.createObjectNode(); // move object-creation inside the loop\n            \n    personsObject.put(...);\n    personsObject.put(...);\n            \n    persons.add(personsObject);\n}\n</code></pre>\n<h3>Sidenotes</h3>\n<p><em>Encapsulation</em> in your custom class <code>PersonRoot</code> is broken. In Java, we use access modifier like <code>protected</code> and <code>private</code> to hide and protect the data within a class instance. And class is supposed to provide behavior which allow interacting with the state of its instances instead of exposing the instance variables directly (<em>getters are the simplest example of such behavior</em>). This might look alien to you, if previously you were working with languages like JavaScript, but <em>Encapsulation</em> is one of the crucial parts of Object-oriented programming, and it's a common practice in Java to design classes in such a way so that their data is properly encapsulated.</p>\n<p>You might also want to learn about one of the <a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)\" rel=\"nofollow noreferrer\">GRASP</a> design-patterns, namely <a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Information_expert\" rel=\"nofollow noreferrer\"><em>The information expert pattern</em></a>. Which states that an object containing the data should be provided with behavior that facilitates interaction with the data (it's not the responsibility of the code that make use of this object).</p>\n<p>I.e. instead of doing this: <code>personRoot.data.toArray().length</code> you can introduce <code>length()</code> method in the <code>PersonRoot</code> class. And instead of writing <code>personRoot.data.get(i)</code> there could be a method like <code>PersonRoot.getPerson(int index)</code>.</p>\n<p>You can also make <code>PersonRoot</code> implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code></a> interface, so that it could be used as a source of data within an enhanced <code>for</code>-loop.</p>\n"}],"owner":{"account_id":27152164,"reputation":1,"user_id":20691491,"display_name":"brentvancalster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670271003,"creation_date":1670249103,"question_id":74689448,"body_markdown":"I was trying to call data from Directus API, and return certain data in JSON Format on my localhost.\r\n\r\nI&#39;m working on a project where we need to build an API layer.\r\n\r\n*My code:*\r\n\r\n    public String findAllPersons(HttpServletResponse response, String showFields) throws IOException{\r\n    \r\n      try {\r\n        // Call to the database (this part is normally not a problem\r\n        String url = &quot;https://cuxhsjf3.directus.app/items/blog&quot;;\r\n        PersonRoot personRoot = template.getForObject(url, PersonRoot.class);\r\n        // I used the Objectmapper, since I&#39;m going from normal data to Json.\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        ObjectNode personsObject = objectMapper.createObjectNode();\r\n        ArrayNode persons = objectMapper.createArrayNode();\r\n        // The array is going to loop through all the data objects from the database\r\n        for (int i = 0; i &lt; personRoot.data.toArray().length; i++) {\r\n        // I put person objects into an array, and I return this array.\r\n          personsObject.put(&quot;id&quot;, personRoot.data.get(i).id);\r\n          personsObject.put(&quot;firstName&quot;, personRoot.data.get(i).firstName);\r\n          persons.add(personsObject);\r\n          System.out.println(persons);\r\n        }\r\n        String json = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(persons);\r\n        return json;\r\n    }\r\n    // The &#39;catch&#39; was omitted as not related to the issue\r\n\r\n*Expected result:* \r\n\r\n```\r\n{\r\n      &quot;id&quot;: &quot;050469ed-0501-4506-9951-794b41bf7e7f&quot;,\r\n      &quot;firstName&quot;: &quot;Elias&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;0bfb52f7-3656-4202-8c24-2b63eaeca6a9&quot;,\r\n      &quot;firstName&quot;: &quot;Mathias&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;3145fb95-afd7-4bc4-a62e-a8622b301db2&quot;,\r\n      &quot;firstName&quot;: &quot;Brent&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;5b93c9b1-4bd1-4aa5-a5ca-d46e849cc58f&quot;,\r\n      &quot;firstName&quot;: &quot;Jef &quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\r\n      &quot;firstName&quot;: &quot;Jan&quot;\r\n    }\r\n}\r\n```\r\n\r\n*The output I&#39;m getting:*\r\n \r\n```\r\n{\r\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\r\n    &quot;firstName&quot;: &quot;Jan&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\r\n    &quot;firstName&quot;: &quot;Jan&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\r\n    &quot;firstName&quot;: &quot;Jan&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\r\n    &quot;firstName&quot;: &quot;Jan&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\r\n    &quot;firstName&quot;: &quot;Jan&quot;\r\n  }\r\n}\r\n```\r\n","title":"How to add ObjectNodes to ArrayNodes without overwriting old data","body":"<p>I was trying to call data from Directus API, and return certain data in JSON Format on my localhost.</p>\n<p>I'm working on a project where we need to build an API layer.</p>\n<p><em>My code:</em></p>\n<pre><code>public String findAllPersons(HttpServletResponse response, String showFields) throws IOException{\n\n  try {\n    // Call to the database (this part is normally not a problem\n    String url = &quot;https://cuxhsjf3.directus.app/items/blog&quot;;\n    PersonRoot personRoot = template.getForObject(url, PersonRoot.class);\n    // I used the Objectmapper, since I'm going from normal data to Json.\n    ObjectMapper objectMapper = new ObjectMapper();\n    ObjectNode personsObject = objectMapper.createObjectNode();\n    ArrayNode persons = objectMapper.createArrayNode();\n    // The array is going to loop through all the data objects from the database\n    for (int i = 0; i &lt; personRoot.data.toArray().length; i++) {\n    // I put person objects into an array, and I return this array.\n      personsObject.put(&quot;id&quot;, personRoot.data.get(i).id);\n      personsObject.put(&quot;firstName&quot;, personRoot.data.get(i).firstName);\n      persons.add(personsObject);\n      System.out.println(persons);\n    }\n    String json = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(persons);\n    return json;\n}\n// The 'catch' was omitted as not related to the issue\n</code></pre>\n<p><em>Expected result:</em></p>\n<pre><code>{\n      &quot;id&quot;: &quot;050469ed-0501-4506-9951-794b41bf7e7f&quot;,\n      &quot;firstName&quot;: &quot;Elias&quot;\n    },\n    {\n      &quot;id&quot;: &quot;0bfb52f7-3656-4202-8c24-2b63eaeca6a9&quot;,\n      &quot;firstName&quot;: &quot;Mathias&quot;\n    },\n    {\n      &quot;id&quot;: &quot;3145fb95-afd7-4bc4-a62e-a8622b301db2&quot;,\n      &quot;firstName&quot;: &quot;Brent&quot;\n    },\n    {\n      &quot;id&quot;: &quot;5b93c9b1-4bd1-4aa5-a5ca-d46e849cc58f&quot;,\n      &quot;firstName&quot;: &quot;Jef &quot;\n    },\n    {\n      &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\n      &quot;firstName&quot;: &quot;Jan&quot;\n    }\n}\n</code></pre>\n<p><em>The output I'm getting:</em></p>\n<pre><code>{\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\n    &quot;firstName&quot;: &quot;Jan&quot;\n  },\n  {\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\n    &quot;firstName&quot;: &quot;Jan&quot;\n  },\n  {\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\n    &quot;firstName&quot;: &quot;Jan&quot;\n  },\n  {\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\n    &quot;firstName&quot;: &quot;Jan&quot;\n  },\n  {\n    &quot;id&quot;: &quot;cb3d5d02-6b87-4aa1-b817-17550b3cf03c&quot;,\n    &quot;firstName&quot;: &quot;Jan&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","jpql","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":5372553,"reputation":3631,"user_id":4280615,"accept_rate":73,"display_name":"Nate Vaughan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1592659969,"creation_date":1592659969,"answer_id":62486486,"question_id":62486278,"body_markdown":"Im going to start by assuming you *want* your collection to be lazy loaded.\n\nHibernates session can be closed in a lot of contexts, and once the session is closed, it wont be able to fetch any lazy loaded collections.\n\nGenerally Hibernate is very good at keeping sessions open for the lifecycle of HTTP threads in a web app context (Springs open session in view). Reasons the session could be closed include that the object was handed off from one thread to another, or the object was cached and then accessed by another thread.\n\nBut it can be more difficult if your code is running in a job or a non-web application context.\n\n### Fixes\n\n**1. Create a repository method to explicitly fetch the collection**\n\nUsing `@Query` and `join fetch`, add a repository method that explicitly eager-loads the collection.\n\n**2. Call .toString() on the collection after fetching the object.**\n\nThis is a nasty hack that Ive seen many people use in the real world before. Basically, before caching the object or handing it off to an executor or somewhere where it would be accessed by another thread, call .toString() on the collection to load it. Usually leave a comment explaining why.\n\n**3. Add @Transactional to a method that is both fetching the data and accessing the collection**\n\nThis has many implications other than keeping the session alive (e.g. database operations succeed and fail together), but can be a quick fix to keep the session alive in for example a job method.\n\nHope this helps.","title":"Hibernate Lazy Initialization Exception for loading lazy list","body":"<p>Im going to start by assuming you <em>want</em> your collection to be lazy loaded.</p>\n<p>Hibernates session can be closed in a lot of contexts, and once the session is closed, it wont be able to fetch any lazy loaded collections.</p>\n<p>Generally Hibernate is very good at keeping sessions open for the lifecycle of HTTP threads in a web app context (Springs open session in view). Reasons the session could be closed include that the object was handed off from one thread to another, or the object was cached and then accessed by another thread.</p>\n<p>But it can be more difficult if your code is running in a job or a non-web application context.</p>\n<h3>Fixes</h3>\n<p><strong>1. Create a repository method to explicitly fetch the collection</strong></p>\n<p>Using <code>@Query</code> and <code>join fetch</code>, add a repository method that explicitly eager-loads the collection.</p>\n<p><strong>2. Call .toString() on the collection after fetching the object.</strong></p>\n<p>This is a nasty hack that Ive seen many people use in the real world before. Basically, before caching the object or handing it off to an executor or somewhere where it would be accessed by another thread, call .toString() on the collection to load it. Usually leave a comment explaining why.</p>\n<p><strong>3. Add @Transactional to a method that is both fetching the data and accessing the collection</strong></p>\n<p>This has many implications other than keeping the session alive (e.g. database operations succeed and fail together), but can be a quick fix to keep the session alive in for example a job method.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3896512,"reputation":193,"user_id":3225404,"display_name":"lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11763,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62486486,"answer_count":1,"score":3,"last_activity_date":1670270537,"creation_date":1592658897,"question_id":62486278,"body_markdown":"I have these two entities\r\n\r\n    @Entity\r\n    @Table(name = &quot;CallSession&quot;)\r\n    public class CallSession implements Serializable {\r\n    \r\n        private long id;\r\n        private List&lt;CallParticipant&gt; members;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }    \r\n    \r\n        @OneToMany(mappedBy = &quot;callSession&quot;, fetch = FetchType.LAZY)\r\n        public List&lt;CallParticipant&gt; getMembers() {\r\n            return members;\r\n        }\r\n    \r\n        public void setMembers(List&lt;CallParticipant&gt; members) {\r\n            this.members = members;\r\n        }    \r\n    }    \r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;CallParticipant&quot;)\r\n    public class CallParticipant implements Serializable {    \r\n    \r\n        private long id;\r\n        private CallSession callSession;    \r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @ManyToOne\r\n        public CallSession getCallSession() {\r\n            return callSession;\r\n        }\r\n    \r\n        public void setCallSession(CallSession callSession) {\r\n            this.callSession = callSession;\r\n        }    \r\n    }\r\n\r\nbut when I invoke `callSession.getMembers()` method,\r\nI get this Exception:\r\n&gt;Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception.\r\n\r\nI cannot make a head or tail of why I get this error? Why do I get this error and how can I fix this?\r\n","title":"Hibernate Lazy Initialization Exception for loading lazy list","body":"<p>I have these two entities</p>\n<pre><code>@Entity\n@Table(name = &quot;CallSession&quot;)\npublic class CallSession implements Serializable {\n\n    private long id;\n    private List&lt;CallParticipant&gt; members;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }    \n\n    @OneToMany(mappedBy = &quot;callSession&quot;, fetch = FetchType.LAZY)\n    public List&lt;CallParticipant&gt; getMembers() {\n        return members;\n    }\n\n    public void setMembers(List&lt;CallParticipant&gt; members) {\n        this.members = members;\n    }    \n}    \n\n\n@Entity\n@Table(name = &quot;CallParticipant&quot;)\npublic class CallParticipant implements Serializable {    \n\n    private long id;\n    private CallSession callSession;    \n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    @ManyToOne\n    public CallSession getCallSession() {\n        return callSession;\n    }\n\n    public void setCallSession(CallSession callSession) {\n        this.callSession = callSession;\n    }    \n}\n</code></pre>\n<p>but when I invoke <code>callSession.getMembers()</code> method,\nI get this Exception:</p>\n<blockquote>\n<p>Unable to evaluate the expression Method threw 'org.hibernate.LazyInitializationException' exception.</p>\n</blockquote>\n<p>I cannot make a head or tail of why I get this error? Why do I get this error and how can I fix this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19392376,"reputation":44,"user_id":18708233,"display_name":"trombonedude"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670268672,"creation_date":1670268672,"answer_id":74693430,"question_id":74693298,"body_markdown":"You can use the `String.split()` method with `&quot;\\\\.&quot;` as your input. This will split the whole string into an array of strings. Then you can split on the first space. \r\n\r\nExample:\r\n\r\nAssuming the object you&#39;re trying to create is called `A`\r\n```java\r\nclass A {\r\n    public A(int num, String description);\r\n}\r\n```\r\nthen you can do:\r\n```java\r\nString str = ...\r\nString[] strings = str.split(&quot;\\.&quot;); // the \\\\ is so the regex engine doesn&#39;t think it&#39;s a wildcard character\r\nfor (String elem : strings) {\r\n    elements = elem.split(&quot; &quot;, 2); // the 2 is so that it only splits into two strings on the first space\r\n    int number = Integer.valueOf(elements[0]);\r\n    A object = A(number, elements[1]); // do what you want with the object, add it to an array, whatever\r\n}\r\n```\r\n","title":"How to split/substring as given string in below format using java","body":"<p>You can use the <code>String.split()</code> method with <code>&quot;\\\\.&quot;</code> as your input. This will split the whole string into an array of strings. Then you can split on the first space.</p>\n<p>Example:</p>\n<p>Assuming the object you're trying to create is called <code>A</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    public A(int num, String description);\n}\n</code></pre>\n<p>then you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = ...\nString[] strings = str.split(&quot;\\.&quot;); // the \\\\ is so the regex engine doesn't think it's a wildcard character\nfor (String elem : strings) {\n    elements = elem.split(&quot; &quot;, 2); // the 2 is so that it only splits into two strings on the first space\n    int number = Integer.valueOf(elements[0]);\n    A object = A(number, elements[1]); // do what you want with the object, add it to an array, whatever\n}\n</code></pre>\n"}],"owner":{"account_id":1271410,"reputation":177,"user_id":1227571,"accept_rate":64,"display_name":"meet patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1670270445,"creation_date":1670267843,"question_id":74693298,"body_markdown":"i want to substring or split into List of Objects of number &amp; description using java or java 8/9\r\n```\r\n&quot;9 music recordings; Music files to download. 38 Providing access to music databases and to MP3 websites. 41 Organization of live musical events; Music publishing services; conducting music events; composing music for others; live entertainment production; live performances by musical bands; musical performances; music production; composing music; Operating a music recording studio.&quot;\r\n```\r\n\r\nThe desired result is\r\n```\r\nList(0) object: number = 9 ,description = music recordings; Music files to download. \r\nList(1) object: number = 38 ,description = Providing access to music databases and to MP3 websites.\r\nList(2) object: number = 41 ,description = Organization of live musical events; Music publishing services; conducting music events; composing music for others; live entertainment production; live performances by musical bands; musical performances; music production; composing music; Operating a music recording studio.\r\n```","title":"How to split/substring as given string in below format using java","body":"<p>i want to substring or split into List of Objects of number &amp; description using java or java 8/9</p>\n<pre><code>&quot;9 music recordings; Music files to download. 38 Providing access to music databases and to MP3 websites. 41 Organization of live musical events; Music publishing services; conducting music events; composing music for others; live entertainment production; live performances by musical bands; musical performances; music production; composing music; Operating a music recording studio.&quot;\n</code></pre>\n<p>The desired result is</p>\n<pre><code>List(0) object: number = 9 ,description = music recordings; Music files to download. \nList(1) object: number = 38 ,description = Providing access to music databases and to MP3 websites.\nList(2) object: number = 41 ,description = Organization of live musical events; Music publishing services; conducting music events; composing music for others; live entertainment production; live performances by musical bands; musical performances; music production; composing music; Operating a music recording studio.\n</code></pre>\n"},{"tags":["java","swing","timer"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1670262262,"post_id":74691460,"comment_id":131830716,"body_markdown":"*Also, for another inexplicable reason, the hours always display as 07 instead of 00* - you are using Date incorrectly. The value used to create the Date instance is the number of milliseconds from a fixed point in time. Just add `System.out.println( elapsed );` to see what the real date is. If you want to create a timer you need to manually divide by (1000  \n * 60 * 60) to get the hours. Then use the remainder to get minutes and seconds. Instead I believe you should be using the `java.time.Duration` class which has methods to help determine the hours, minutes and seconds.","body":"<i>Also, for another inexplicable reason, the hours always display as 07 instead of 00</i> - you are using Date incorrectly. The value used to create the Date instance is the number of milliseconds from a fixed point in time. Just add <code>System.out.println( elapsed );</code> to see what the real date is. If you want to create a timer you need to manually divide by (1000    * 60 * 60) to get the hours. Then use the remainder to get minutes and seconds. Instead I believe you should be using the <code>java.time.Duration</code> class which has methods to help determine the hours, minutes and seconds."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670270411,"creation_date":1670270411,"answer_id":74693737,"question_id":74691460,"body_markdown":"# Introduction\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nYour code wasn&#39;t runnable, so I created the following GUI.\r\n\r\n[![Start][1]][1] \r\n\r\nWhen you press the &quot;Start&quot; button, the timer starts counting.  37 seconds.\r\n\r\n[![Seconds][2]][2]\r\n\r\n2 minutes, 7 seconds.\r\n\r\n[![Minutes][3]][3]\r\n\r\n1 hour, 6 minutes, 11 seconds.\r\n\r\n[![Hours][4]][4]\r\n\r\nPressing the &quot;Pause button pauses the count.  Pressing the &quot;Restart&quot; button resumes the count.  You can pause and resume the count as many times as you want.\r\n\r\nPressing the &quot;Stop&quot; button stops the counter.  You can press the &quot;Reset&quot; button to reset the counter before starting again.\r\n\r\n# Explanation\r\n\r\nWhen creating a Swing application, using the [model-view-controller][5] (MVC) pattern helps to separate your concerns and allows you to focus on one part of the application at a time.\r\n\r\nCreating the application model made creating the GUI much easier.  The application model is made up of one or more plain Java getter/setter classes.\r\n\r\nThe `CountupTimerModel` class keeps `long` fields to hold the duration in milliseconds and the previous duration.  This way, I don&#39;t have to pause and restart the Swing `Timer`.\r\n\r\nThe duration is the difference between the current time and the start time.  I use the `System.currentTimeMillis()` method to calculate the duration.\r\n\r\nThe GUI is fairly straightforward.\r\n\r\nI made the `JButton` `ActionListeners` lambdas.  I made the `TimerListener` a separate class to move the code out of that particular lambda.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class CountupTimerGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new CountupTimerGUI());\r\n    \t}\r\n    \r\n    \tprivate final CountupTimerModel model;\r\n    \r\n    \tprivate JButton resetButton, pauseButton, stopButton;\r\n    \r\n    \tprivate JLabel timerLabel;\r\n    \r\n    \tpublic CountupTimerGUI() {\r\n    \t\tthis.model = new CountupTimerModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Countup Timer GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createDisplayPanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(createButtonPanel(), BorderLayout.SOUTH);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDisplayPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = panel.getFont().deriveFont(Font.BOLD, 48f);\r\n    \r\n    \t\ttimerLabel = new JLabel(model.getFormattedDuration());\r\n    \t\ttimerLabel.setFont(font);\r\n    \t\tpanel.add(timerLabel);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = panel.getFont().deriveFont(Font.PLAIN, 16f);\r\n    \r\n    \t\tresetButton = new JButton(&quot;Reset&quot;);\r\n    \t\tresetButton.setFont(font);\r\n    \t\tpanel.add(resetButton);\r\n    \t\tresetButton.addActionListener(event -&gt; {\r\n    \t\t\tmodel.resetDuration();\r\n    \t\t\ttimerLabel.setText(model.getFormattedDuration());\r\n    \t\t});\r\n    \r\n    \t\tpauseButton = new JButton(&quot;Restart&quot;);\r\n    \t\tpauseButton.setFont(font);\r\n    \t\tpanel.add(pauseButton);\r\n    \t\tpauseButton.addActionListener(event -&gt; {\r\n    \t\t\tString text = pauseButton.getText();\r\n    \t\t\tif (text.equals(&quot;Pause&quot;)) {\r\n    \t\t\t\tmodel.pauseTimer();\r\n    \t\t\t\tpauseButton.setText(&quot;Restart&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tmodel.startTimer();\r\n    \t\t\t\tpauseButton.setText(&quot;Pause&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tTimer timer = new Timer(200,\r\n    \t\t\t\tnew CountupListener(CountupTimerGUI.this, model));\r\n    \t\tstopButton = new JButton(&quot;Start&quot;);\r\n    \t\tstopButton.setFont(font);\r\n    \t\tpanel.add(stopButton);\r\n    \t\tstopButton.addActionListener(event -&gt; {\r\n    \t\t\tString text = stopButton.getText();\r\n    \t\t\tif (text.equals(&quot;Start&quot;)) {\r\n    \t\t\t\tmodel.resetDuration();\r\n    \t\t\t\tmodel.startTimer();\r\n    \t\t\t\ttimer.start();\r\n    \t\t\t\tresetButton.setEnabled(false);\r\n    \t\t\t\tstopButton.setText(&quot;Stop&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tmodel.stopTimer();\r\n    \t\t\t\ttimer.stop();\r\n    \t\t\t\tresetButton.setEnabled(true);\r\n    \t\t\t\tstopButton.setText(&quot;Start&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tDimension d = getLargestJButton(resetButton, pauseButton, stopButton);\r\n    \t\tresetButton.setPreferredSize(d);\r\n    \t\tpauseButton.setPreferredSize(d);\r\n    \t\tstopButton.setPreferredSize(d);\r\n    \t\tpauseButton.setText(&quot;Pause&quot;);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate Dimension getLargestJButton(JButton... buttons) {\r\n    \t\tDimension largestDimension = new Dimension(0, 0);\r\n    \t\tfor (JButton button : buttons) {\r\n    \t\t\tDimension d = button.getPreferredSize();\r\n    \t\t\tlargestDimension.width = Math.max(largestDimension.width, d.width);\r\n    \t\t\tlargestDimension.height = Math.max(largestDimension.height,\r\n    \t\t\t\t\td.height);\r\n    \t\t}\r\n    \r\n    \t\tlargestDimension.width += 10;\r\n    \t\treturn largestDimension;\r\n    \t}\r\n    \r\n    \tpublic JButton getResetButton() {\r\n    \t\treturn resetButton;\r\n    \t}\r\n    \r\n    \tpublic JButton getPauseButton() {\r\n    \t\treturn pauseButton;\r\n    \t}\r\n    \r\n    \tpublic JButton getStopButton() {\r\n    \t\treturn stopButton;\r\n    \t}\r\n    \r\n    \tpublic JLabel getTimerLabel() {\r\n    \t\treturn timerLabel;\r\n    \t}\r\n    \r\n    \tpublic class CountupListener implements ActionListener {\r\n    \r\n    \t\tprivate final CountupTimerGUI view;\r\n    \r\n    \t\tprivate final CountupTimerModel model;\r\n    \r\n    \t\tpublic CountupListener(CountupTimerGUI view, CountupTimerModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tmodel.setDuration();\r\n    \t\t\tview.getTimerLabel().setText(model.getFormattedDuration());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class CountupTimerModel {\r\n    \r\n    \t\tprivate boolean isRunning;\r\n    \r\n    \t\tprivate long duration, previousDuration, startTime;\r\n    \r\n    \t\tpublic CountupTimerModel() {\r\n    \t\t\tresetDuration();\r\n    \t\t}\r\n    \r\n    \t\tpublic void resetDuration() {\r\n    \t\t\tthis.duration = 0L;\r\n    \t\t\tthis.previousDuration = 0L;\r\n    \t\t\tthis.isRunning = true;\r\n    \t\t}\r\n    \r\n    \t\tpublic void startTimer() {\r\n    \t\t\tthis.startTime = System.currentTimeMillis();\r\n    \t\t\tthis.isRunning = true;\r\n    \t\t}\r\n    \r\n    \t\tpublic void pauseTimer() {\r\n    \t\t\tsetDuration();\r\n    \t\t\tthis.previousDuration = duration;\r\n    \t\t\tthis.isRunning = false;\r\n    \t\t}\r\n    \r\n    \t\tpublic void stopTimer() {\r\n    \t\t\tsetDuration();\r\n    \t\t\tthis.isRunning = false;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setDuration() {\r\n    \t\t\tif (isRunning) {\r\n    \t\t\t\tthis.duration = System.currentTimeMillis() - startTime\r\n    \t\t\t\t\t\t+ previousDuration;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic String getFormattedDuration() {\r\n    \t\t\tint seconds = (int) ((duration + 500L) / 1000L);\r\n    \t\t\tint minutes = seconds / 60;\r\n    \t\t\tint hours = minutes / 60;\r\n    \r\n    \t\t\tStringBuilder builder = new StringBuilder();\r\n    \t\t\tif (hours &gt; 0) {\r\n    \t\t\t\tbuilder.append(hours);\r\n    \t\t\t\tbuilder.append(&quot;:&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tminutes %= 60;\r\n    \t\t\tif (hours &gt; 0) {\r\n    \t\t\t\tbuilder.append(String.format(&quot;%02d&quot;, minutes));\r\n    \t\t\t\tbuilder.append(&quot;:&quot;);\r\n    \t\t\t} else if (minutes &gt; 0) {\r\n    \t\t\t\tbuilder.append(minutes);\r\n    \t\t\t\tbuilder.append(&quot;:&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tseconds %= 60;\r\n    \t\t\tif (hours &gt; 0 || minutes &gt; 0) {\r\n    \t\t\t\tbuilder.append(String.format(&quot;%02d&quot;, seconds));\r\n    \t\t\t} else {\r\n    \t\t\t\tbuilder.append(seconds);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn builder.toString();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/wwKlA.png\r\n  [2]: https://i.stack.imgur.com/LypBo.png\r\n  [3]: https://i.stack.imgur.com/aKOde.png\r\n  [4]: https://i.stack.imgur.com/mF5i4.png\r\n  [5]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n","title":"How to make a pause-able count up timer in Java?","body":"<h1>Introduction</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Your code wasn't runnable, so I created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/wwKlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwKlA.png\" alt=\"Start\" /></a></p>\n<p>When you press the &quot;Start&quot; button, the timer starts counting.  37 seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/LypBo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LypBo.png\" alt=\"Seconds\" /></a></p>\n<p>2 minutes, 7 seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/aKOde.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aKOde.png\" alt=\"Minutes\" /></a></p>\n<p>1 hour, 6 minutes, 11 seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/mF5i4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mF5i4.png\" alt=\"Hours\" /></a></p>\n<p>Pressing the &quot;Pause button pauses the count.  Pressing the &quot;Restart&quot; button resumes the count.  You can pause and resume the count as many times as you want.</p>\n<p>Pressing the &quot;Stop&quot; button stops the counter.  You can press the &quot;Reset&quot; button to reset the counter before starting again.</p>\n<h1>Explanation</h1>\n<p>When creating a Swing application, using the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern helps to separate your concerns and allows you to focus on one part of the application at a time.</p>\n<p>Creating the application model made creating the GUI much easier.  The application model is made up of one or more plain Java getter/setter classes.</p>\n<p>The <code>CountupTimerModel</code> class keeps <code>long</code> fields to hold the duration in milliseconds and the previous duration.  This way, I don't have to pause and restart the Swing <code>Timer</code>.</p>\n<p>The duration is the difference between the current time and the start time.  I use the <code>System.currentTimeMillis()</code> method to calculate the duration.</p>\n<p>The GUI is fairly straightforward.</p>\n<p>I made the <code>JButton</code> <code>ActionListeners</code> lambdas.  I made the <code>TimerListener</code> a separate class to move the code out of that particular lambda.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class CountupTimerGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new CountupTimerGUI());\n    }\n\n    private final CountupTimerModel model;\n\n    private JButton resetButton, pauseButton, stopButton;\n\n    private JLabel timerLabel;\n\n    public CountupTimerGUI() {\n        this.model = new CountupTimerModel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Countup Timer GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createDisplayPanel(), BorderLayout.NORTH);\n        frame.add(createButtonPanel(), BorderLayout.SOUTH);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createDisplayPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = panel.getFont().deriveFont(Font.BOLD, 48f);\n\n        timerLabel = new JLabel(model.getFormattedDuration());\n        timerLabel.setFont(font);\n        panel.add(timerLabel);\n\n        return panel;\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = panel.getFont().deriveFont(Font.PLAIN, 16f);\n\n        resetButton = new JButton(&quot;Reset&quot;);\n        resetButton.setFont(font);\n        panel.add(resetButton);\n        resetButton.addActionListener(event -&gt; {\n            model.resetDuration();\n            timerLabel.setText(model.getFormattedDuration());\n        });\n\n        pauseButton = new JButton(&quot;Restart&quot;);\n        pauseButton.setFont(font);\n        panel.add(pauseButton);\n        pauseButton.addActionListener(event -&gt; {\n            String text = pauseButton.getText();\n            if (text.equals(&quot;Pause&quot;)) {\n                model.pauseTimer();\n                pauseButton.setText(&quot;Restart&quot;);\n            } else {\n                model.startTimer();\n                pauseButton.setText(&quot;Pause&quot;);\n            }\n        });\n\n        Timer timer = new Timer(200,\n                new CountupListener(CountupTimerGUI.this, model));\n        stopButton = new JButton(&quot;Start&quot;);\n        stopButton.setFont(font);\n        panel.add(stopButton);\n        stopButton.addActionListener(event -&gt; {\n            String text = stopButton.getText();\n            if (text.equals(&quot;Start&quot;)) {\n                model.resetDuration();\n                model.startTimer();\n                timer.start();\n                resetButton.setEnabled(false);\n                stopButton.setText(&quot;Stop&quot;);\n            } else {\n                model.stopTimer();\n                timer.stop();\n                resetButton.setEnabled(true);\n                stopButton.setText(&quot;Start&quot;);\n            }\n        });\n\n        Dimension d = getLargestJButton(resetButton, pauseButton, stopButton);\n        resetButton.setPreferredSize(d);\n        pauseButton.setPreferredSize(d);\n        stopButton.setPreferredSize(d);\n        pauseButton.setText(&quot;Pause&quot;);\n\n        return panel;\n    }\n\n    private Dimension getLargestJButton(JButton... buttons) {\n        Dimension largestDimension = new Dimension(0, 0);\n        for (JButton button : buttons) {\n            Dimension d = button.getPreferredSize();\n            largestDimension.width = Math.max(largestDimension.width, d.width);\n            largestDimension.height = Math.max(largestDimension.height,\n                    d.height);\n        }\n\n        largestDimension.width += 10;\n        return largestDimension;\n    }\n\n    public JButton getResetButton() {\n        return resetButton;\n    }\n\n    public JButton getPauseButton() {\n        return pauseButton;\n    }\n\n    public JButton getStopButton() {\n        return stopButton;\n    }\n\n    public JLabel getTimerLabel() {\n        return timerLabel;\n    }\n\n    public class CountupListener implements ActionListener {\n\n        private final CountupTimerGUI view;\n\n        private final CountupTimerModel model;\n\n        public CountupListener(CountupTimerGUI view, CountupTimerModel model) {\n            this.view = view;\n            this.model = model;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            model.setDuration();\n            view.getTimerLabel().setText(model.getFormattedDuration());\n        }\n\n    }\n\n    public class CountupTimerModel {\n\n        private boolean isRunning;\n\n        private long duration, previousDuration, startTime;\n\n        public CountupTimerModel() {\n            resetDuration();\n        }\n\n        public void resetDuration() {\n            this.duration = 0L;\n            this.previousDuration = 0L;\n            this.isRunning = true;\n        }\n\n        public void startTimer() {\n            this.startTime = System.currentTimeMillis();\n            this.isRunning = true;\n        }\n\n        public void pauseTimer() {\n            setDuration();\n            this.previousDuration = duration;\n            this.isRunning = false;\n        }\n\n        public void stopTimer() {\n            setDuration();\n            this.isRunning = false;\n        }\n\n        public void setDuration() {\n            if (isRunning) {\n                this.duration = System.currentTimeMillis() - startTime\n                        + previousDuration;\n            }\n        }\n\n        public String getFormattedDuration() {\n            int seconds = (int) ((duration + 500L) / 1000L);\n            int minutes = seconds / 60;\n            int hours = minutes / 60;\n\n            StringBuilder builder = new StringBuilder();\n            if (hours &gt; 0) {\n                builder.append(hours);\n                builder.append(&quot;:&quot;);\n            }\n\n            minutes %= 60;\n            if (hours &gt; 0) {\n                builder.append(String.format(&quot;%02d&quot;, minutes));\n                builder.append(&quot;:&quot;);\n            } else if (minutes &gt; 0) {\n                builder.append(minutes);\n                builder.append(&quot;:&quot;);\n            }\n\n            seconds %= 60;\n            if (hours &gt; 0 || minutes &gt; 0) {\n                builder.append(String.format(&quot;%02d&quot;, seconds));\n            } else {\n                builder.append(seconds);\n            }\n\n            return builder.toString();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27154399,"reputation":3,"user_id":20693448,"display_name":"Jamie Czermanski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74693737,"answer_count":1,"score":-1,"last_activity_date":1670270411,"creation_date":1670258063,"question_id":74691460,"body_markdown":"I&#39;m trying to make a timer that will count up from 00h:00m:00s, with the ability to pause and restart the count from its current time. \r\n\r\nHeres the solution I currently have: It will always restart the timer from 0 instead of continuing where it left off. Also, for another inexplicable reason, the hours always display as 07 instead of 00. Does anyone know how I could fix these issues, to have it start counting up from its previous value, and display the correct amount of hours elapsed?\r\n\r\n\r\n```\r\nprivate final SimpleDateFormat date = new SimpleDateFormat(&quot;KK:mm:ss&quot;);\r\nprivate long startTime = 0;\r\nprivate final ClockListener clock = new ClockListener();\r\nprivate final Timer normalTimer = new Timer(53, clock);\r\n```\r\n\r\n\r\n```\r\nstartTimerButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(startTime == 0) {\r\n\t\t\t\t\tstartTime = System.currentTimeMillis();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tstartTime += (System.currentTimeMillis() - startTime);\r\n\t\t\t\t}\r\n\t\t\t\tnormalTimer.start();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tstopTimerButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tnormalTimer.stop();\r\n\t\t\t}\r\n\t\t});\r\n```\r\n```\r\n\r\nprivate void updateClock(){\r\n     Date elapsed = new Date(System.currentTimeMillis() - startTime);\r\n     timerText.setText(date.format(elapsed));\r\n}\r\n```\r\n\r\n```\r\nprivate class ClockListener implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            updateClock();\r\n        }\r\n    }\r\n```\r\n","title":"How to make a pause-able count up timer in Java?","body":"<p>I'm trying to make a timer that will count up from 00h:00m:00s, with the ability to pause and restart the count from its current time.</p>\n<p>Heres the solution I currently have: It will always restart the timer from 0 instead of continuing where it left off. Also, for another inexplicable reason, the hours always display as 07 instead of 00. Does anyone know how I could fix these issues, to have it start counting up from its previous value, and display the correct amount of hours elapsed?</p>\n<pre><code>private final SimpleDateFormat date = new SimpleDateFormat(&quot;KK:mm:ss&quot;);\nprivate long startTime = 0;\nprivate final ClockListener clock = new ClockListener();\nprivate final Timer normalTimer = new Timer(53, clock);\n</code></pre>\n<pre><code>startTimerButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if(startTime == 0) {\n                    startTime = System.currentTimeMillis();\n                }\n                else {\n                    startTime += (System.currentTimeMillis() - startTime);\n                }\n                normalTimer.start();\n            }\n        });\n        \n        stopTimerButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                normalTimer.stop();\n            }\n        });\n</code></pre>\n<pre><code>\nprivate void updateClock(){\n     Date elapsed = new Date(System.currentTimeMillis() - startTime);\n     timerText.setText(date.format(elapsed));\n}\n</code></pre>\n<pre><code>private class ClockListener implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            updateClock();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-blob-storage","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1409200,"reputation":3976,"user_id":1336158,"accept_rate":100,"display_name":"Mzzl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670270180,"creation_date":1670268281,"answer_id":74693371,"question_id":74693031,"body_markdown":"You will need an asynch blob container client:\r\n\r\n    @Bean(&quot;blobServiceClient&quot;)\r\n    BlobContainerAsyncClient blobServiceClient(ClientSecretCredential azureClientCredentials, String storageAccount, String containerName) {\r\n        BlobServiceClientBuilder blobServiceClientBuilder = new BlobServiceClientBuilder();\r\n        return blobServiceClientBuilder\r\n                .endpoint(format(&quot;https://%s.blob.core.windows.net/&quot;, storageAccount))\r\n                .credential(azureClientCredentials)\r\n                .buildAsyncClient()\r\n                .getBlobContainerAsyncClient(containerName);\r\n    }\r\n\r\nAnd in your code you can use it to get a client, and save your Flux to it:\r\n\r\n    Flux&lt;ByteBuffer&gt; content = getContent();\r\n    blobServiceClient.getBlobAsyncClient(id)\r\n                .upload(content, new ParallelTransferOptions(), true);\r\n\r\nI get that the `getContent()` step is the part you are struggling with. You can save either a `BinaryData` object or a `Flux&lt;ByteBuffer&gt;` stream. \r\n\r\nTo turn your object into a BinaryData object, use the static helper method:\r\n\r\n    BinaryData foo = BinaryData.fromObject(myObject);\r\n\r\nBinaryData is meant for exactly what the name says: binary data. For example the content of an image file. \r\n\r\nIf you want to turn it into a ByteBuffer, keep in mind that you&#39;re trying to turn an object into a stream of data here. You will probably want to use some standardized way of doing that, so it can be reliably reversed, so rather than a stream of bytes that may break if you ever load the data in a different client, or even just a different version of the same, we usually save a json or xml representation of the object. \r\n\r\nMy go-to tool for this is Jackson:\r\n\r\n    byte[] myBytes = new ObjectMapper().writeValueAsBytes(myObject);\r\n\r\n    var myByteBuffer = ByteBuffer.wrap(myBytes);\r\n\r\nAnd return it as a Flux:\r\n\r\n    Flux&lt;ByteBuffer&gt; myFlux = Flux.just(myByteBuffer);\r\n\r\n\r\nBy the way, Azure uses a JSON serializer under the hood in the `BinaryData.fromObject()` method. From the JavaDoc:\r\n\r\n    Creates an instance of BinaryData by serializing the Object using the default JsonSerializer.\r\n    Note: This method first looks for a JsonSerializerProvider \r\n    implementation on the classpath. If no implementation is found, a \r\n    default Jackson-based implementation will be used to serialize the object\r\n","title":"How to upload a Flux java object into Azure Blob Storage?","body":"<p>You will need an asynch blob container client:</p>\n<pre><code>@Bean(&quot;blobServiceClient&quot;)\nBlobContainerAsyncClient blobServiceClient(ClientSecretCredential azureClientCredentials, String storageAccount, String containerName) {\n    BlobServiceClientBuilder blobServiceClientBuilder = new BlobServiceClientBuilder();\n    return blobServiceClientBuilder\n            .endpoint(format(&quot;https://%s.blob.core.windows.net/&quot;, storageAccount))\n            .credential(azureClientCredentials)\n            .buildAsyncClient()\n            .getBlobContainerAsyncClient(containerName);\n}\n</code></pre>\n<p>And in your code you can use it to get a client, and save your Flux to it:</p>\n<pre><code>Flux&lt;ByteBuffer&gt; content = getContent();\nblobServiceClient.getBlobAsyncClient(id)\n            .upload(content, new ParallelTransferOptions(), true);\n</code></pre>\n<p>I get that the <code>getContent()</code> step is the part you are struggling with. You can save either a <code>BinaryData</code> object or a <code>Flux&lt;ByteBuffer&gt;</code> stream.</p>\n<p>To turn your object into a BinaryData object, use the static helper method:</p>\n<pre><code>BinaryData foo = BinaryData.fromObject(myObject);\n</code></pre>\n<p>BinaryData is meant for exactly what the name says: binary data. For example the content of an image file.</p>\n<p>If you want to turn it into a ByteBuffer, keep in mind that you're trying to turn an object into a stream of data here. You will probably want to use some standardized way of doing that, so it can be reliably reversed, so rather than a stream of bytes that may break if you ever load the data in a different client, or even just a different version of the same, we usually save a json or xml representation of the object.</p>\n<p>My go-to tool for this is Jackson:</p>\n<pre><code>byte[] myBytes = new ObjectMapper().writeValueAsBytes(myObject);\n\nvar myByteBuffer = ByteBuffer.wrap(myBytes);\n</code></pre>\n<p>And return it as a Flux:</p>\n<pre><code>Flux&lt;ByteBuffer&gt; myFlux = Flux.just(myByteBuffer);\n</code></pre>\n<p>By the way, Azure uses a JSON serializer under the hood in the <code>BinaryData.fromObject()</code> method. From the JavaDoc:</p>\n<pre><code>Creates an instance of BinaryData by serializing the Object using the default JsonSerializer.\nNote: This method first looks for a JsonSerializerProvider \nimplementation on the classpath. If no implementation is found, a \ndefault Jackson-based implementation will be used to serialize the object\n</code></pre>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74693371,"answer_count":1,"score":1,"last_activity_date":1670270180,"creation_date":1670266310,"question_id":74693031,"body_markdown":"I am trying to upload a Flux&lt;CombinedResponse&gt; object into azure blob storage, but I&#39;m not sure how to send a Flux pojo using BlobAsyncClient. BlobAsyncClient has upload methods that take Flux&lt;ByteBuffer&gt; or BinaryData but I have no luck trying to convert CombinedResponse to BYteBuffer or BinaryData. Does anyone have any suggestions or know how to upload a flux object to blob storage? ","title":"How to upload a Flux java object into Azure Blob Storage?","body":"<p>I am trying to upload a Flux object into azure blob storage, but I'm not sure how to send a Flux pojo using BlobAsyncClient. BlobAsyncClient has upload methods that take Flux or BinaryData but I have no luck trying to convert CombinedResponse to BYteBuffer or BinaryData. Does anyone have any suggestions or know how to upload a flux object to blob storage?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5351790,"reputation":6583,"user_id":4265739,"display_name":"leonardkraemer"},"score":0,"creation_date":1670267060,"post_id":74693114,"comment_id":131832227,"body_markdown":"Quick and dirty: Just take n words from your sentence and put them in a combined String to compute the frequencies.","body":"Quick and dirty: Just take n words from your sentence and put them in a combined String to compute the frequencies."},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":1,"creation_date":1670267066,"post_id":74693114,"comment_id":131832232,"body_markdown":"For n-grams see: https://stackoverflow.com/questions/3656762/n-gram-generation-from-a-sentence","body":"For n-grams see: <a href=\"https://stackoverflow.com/questions/3656762/n-gram-generation-from-a-sentence\" title=\"n gram generation from a sentence\">stackoverflow.com/questions/3656762/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27055146,"reputation":11,"user_id":20607967,"display_name":"Referium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670269570,"creation_date":1670269570,"answer_id":74693586,"question_id":74693114,"body_markdown":"To find the most common consecutive pairs of words (N-grams for phrases), you can modify the above code by looping through the sentence arraylist and creating a new hashmap with the pairs of words as the keys and the number of times they appear as the values. Then, you can iterate through the new hashmap and find the pair of words with the highest value.\r\n\r\n```\r\n    public static String getMostCommonNGram(ArrayList&lt;ArrayList&lt;String&gt;&gt; sentence) {\r\n    HashMap&lt;String, Integer&gt; nGramMap = new HashMap&lt;&gt;();\r\n\r\n    // loop through the sentences\r\n    for (ArrayList&lt;String&gt; words : sentence) {\r\n        // loop through the words and create pairs of words\r\n        for (int i = 0; i &lt; words.size() - 1; i++) {\r\n            String nGram = words.get(i) + &quot; &quot; + words.get(i + 1);\r\n            // check if the n-gram already exists in the map\r\n            Integer count = nGramMap.get(nGram);\r\n            // if not, add it to the map with count = 1\r\n            if (count == null) {\r\n                nGramMap.put(nGram, 1);\r\n            } else {\r\n                // if yes, increment the count\r\n                nGramMap.put(nGram, count + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // find the n-gram with the highest count\r\n    String mostCommonNGram = &quot;&quot;;\r\n    int maxCount = 0;\r\n    for (String nGram : nGramMap.keySet()) {\r\n        int count = nGramMap.get(nGram);\r\n        if (count &gt; maxCount) {\r\n            maxCount = count;\r\n            mostCommonNGram = nGram;\r\n        }\r\n    }\r\n    return mostCommonNGram;\r\n}\r\n```","title":"how to find the most common phrases in a list of strings","body":"<p>To find the most common consecutive pairs of words (N-grams for phrases), you can modify the above code by looping through the sentence arraylist and creating a new hashmap with the pairs of words as the keys and the number of times they appear as the values. Then, you can iterate through the new hashmap and find the pair of words with the highest value.</p>\n<pre><code>    public static String getMostCommonNGram(ArrayList&lt;ArrayList&lt;String&gt;&gt; sentence) {\n    HashMap&lt;String, Integer&gt; nGramMap = new HashMap&lt;&gt;();\n\n    // loop through the sentences\n    for (ArrayList&lt;String&gt; words : sentence) {\n        // loop through the words and create pairs of words\n        for (int i = 0; i &lt; words.size() - 1; i++) {\n            String nGram = words.get(i) + &quot; &quot; + words.get(i + 1);\n            // check if the n-gram already exists in the map\n            Integer count = nGramMap.get(nGram);\n            // if not, add it to the map with count = 1\n            if (count == null) {\n                nGramMap.put(nGram, 1);\n            } else {\n                // if yes, increment the count\n                nGramMap.put(nGram, count + 1);\n            }\n        }\n    }\n\n    // find the n-gram with the highest count\n    String mostCommonNGram = &quot;&quot;;\n    int maxCount = 0;\n    for (String nGram : nGramMap.keySet()) {\n        int count = nGramMap.get(nGram);\n        if (count &gt; maxCount) {\n            maxCount = count;\n            mostCommonNGram = nGram;\n        }\n    }\n    return mostCommonNGram;\n}\n</code></pre>\n"}],"owner":{"account_id":17576547,"reputation":1,"user_id":20694842,"display_name":"noob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670269570,"creation_date":1670266671,"question_id":74693114,"body_markdown":"I got a list of sentences. I split each sentences and filtered the unwanted words and puncuations. and then store them into \r\n```\r\nArrayList&lt;ArrayList&lt;String&gt;&gt; sentence\r\n```\r\nthen I used a hashMap to find the most common word. how could I modify the following hashmap code so I can also find the most common consecutive pairs of words.(N-grams for phrases) \r\n\r\n```\r\nHashMap&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n \r\n                // Splitting the words of string\r\n                // and storing them in the array.\r\n                \r\n                for(int i =0; i &lt; sentence.size(); i++){\r\n                        ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;(sentence.get(i));\r\n                        for (String word : words) {\r\n                \r\n                         //Asking whether the HashMap contains the\r\n                         //key or not. Will return null if not.\r\n                        Integer integer = hashMap.get(word);\r\n                \r\n                        if (integer == null)\r\n                                // Storing the word as key and its\r\n                                // occurrence as value in the HashMap.\r\n                                hashMap.put(word, 1);\r\n                \r\n                        else {\r\n                                // Incrementing the value if the word\r\n                                // is already present in the HashMap.\r\n                                hashMap.put(word, integer + 1);\r\n                        }\r\n\r\n                        }\r\n                }\r\n```\r\n\r\n\r\ni dont know where to start. should i adjust the way i split or do i no split at all in the first place.","title":"how to find the most common phrases in a list of strings","body":"<p>I got a list of sentences. I split each sentences and filtered the unwanted words and puncuations. and then store them into</p>\n<pre><code>ArrayList&lt;ArrayList&lt;String&gt;&gt; sentence\n</code></pre>\n<p>then I used a hashMap to find the most common word. how could I modify the following hashmap code so I can also find the most common consecutive pairs of words.(N-grams for phrases)</p>\n<pre><code>HashMap&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;();\n \n                // Splitting the words of string\n                // and storing them in the array.\n                \n                for(int i =0; i &lt; sentence.size(); i++){\n                        ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;(sentence.get(i));\n                        for (String word : words) {\n                \n                         //Asking whether the HashMap contains the\n                         //key or not. Will return null if not.\n                        Integer integer = hashMap.get(word);\n                \n                        if (integer == null)\n                                // Storing the word as key and its\n                                // occurrence as value in the HashMap.\n                                hashMap.put(word, 1);\n                \n                        else {\n                                // Incrementing the value if the word\n                                // is already present in the HashMap.\n                                hashMap.put(word, integer + 1);\n                        }\n\n                        }\n                }\n</code></pre>\n<p>i dont know where to start. should i adjust the way i split or do i no split at all in the first place.</p>\n"},{"tags":["java","android","firebase","spinner","android-adapterview"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670314381,"post_id":74693546,"comment_id":131841641,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":26517836,"reputation":1,"user_id":20152066,"display_name":"Jamen_98"},"score":0,"creation_date":1670338811,"post_id":74693546,"comment_id":131850476,"body_markdown":"No errors - compiles just fine.  Logcat doesn&#39;t give any helpful info either.  I think my &quot;case (R.id.DCAccount2)&quot; section isn&#39;t correct, because when a drop down value is selected, nothing happens or it&#39;s returning the position of the item selected, not the text value.","body":"No errors - compiles just fine.  Logcat doesn&#39;t give any helpful info either.  I think my &quot;case (R.id.DCAccount2)&quot; section isn&#39;t correct, because when a drop down value is selected, nothing happens or it&#39;s returning the position of the item selected, not the text value."},{"owner":{"account_id":26517836,"reputation":1,"user_id":20152066,"display_name":"Jamen_98"},"score":0,"creation_date":1670342106,"post_id":74693546,"comment_id":131851724,"body_markdown":"I added the toast message to the &quot;case (R.id.DCAccount2)&quot; so that i could see what it was coming up with after I select a value and no Toast message appears.  For the second case, it does work just fine.  So I&#39;m pretty sure something is wrong with my logic (not syntax).  The difference is DCAccount2 spinner is pulling query data and setting the results of the query as the drop-down values.  NumofPayments has static integer values (1, 2, and 3).","body":"I added the toast message to the &quot;case (R.id.DCAccount2)&quot; so that i could see what it was coming up with after I select a value and no Toast message appears.  For the second case, it does work just fine.  So I&#39;m pretty sure something is wrong with my logic (not syntax).  The difference is DCAccount2 spinner is pulling query data and setting the results of the query as the drop-down values.  NumofPayments has static integer values (1, 2, and 3)."}],"owner":{"account_id":26517836,"reputation":1,"user_id":20152066,"display_name":"Jamen_98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670269361,"creation_date":1670269361,"question_id":74693546,"body_markdown":"I&#39;ve seen similar Q&amp;A on this and played around with several variations.  I&#39;m trying to update the Spinner text, but nothing happens.\r\n\r\nIn the onCreate method I have two spinners:\r\n1.) DCAccount2 (XML ID)\r\n2.) NumofPayments(XML ID)\r\n\r\nDC Account2 successfully pulls the query data from Firebase database and populates the drop down with the correct values I want to see.  But when I select the value I want, nothing happens.  The Spinner text is not updated.?.?\r\n\r\n\r\n```\r\nSpinner DC_Account_Spr = findViewById(R.id.DCAccount2);\r\nDC_Account_Spr.setOnItemSelectedListener(this);\r\nArrayAdapter&lt;String&gt; DC_Array_Adapter = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, user_debit_acct_DL);\r\nDC_Array_Adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\r\nDC_Account_Spr.setAdapter(DC_Array_Adapter);\r\n\r\nSpinner Num_Pymts_Spr = findViewById(R.id.NumofPayments);\r\nNum_Pymts_Spr.setOnItemSelectedListener(this);\r\nArrayAdapter&lt;CharSequence&gt; Num_Pymts_adapter = ArrayAdapter.createFromResource(this, R.array.Num_Payments, com.google.android.material.R.layout.support_simple_spinner_dropdown_item);\r\nNum_Pymts_adapter.setDropDownViewResource(com.google.android.material.R.layout.support_simple_spinner_dropdown_item);\r\nNum_Pymts_Spr.setAdapter(Num_Pymts_adapter);\r\n```\r\n\r\nOther relevant methods:\r\n\r\n```\r\n@Override\r\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long l) {\r\n    switch(parent.getId()) {\r\n        case (R.id.DCAccount2):\r\n            //This is where I think I am not capturing the selected item properly\r\n            String Account_Selected_Str = parent.getItemAtPosition(position).toString();\r\n            Toast.makeText(getApplicationContext(), Account_Selected_Str, Toast.LENGTH_LONG).show();\r\n        case (R.id.NumofPayments):\r\n            String Num_Payments_Str = parent.getItemAtPosition(position).toString();\r\n            Toast.makeText(getApplicationContext(), Num_Payments_Str, Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n\r\n@Override\r\npublic void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    return;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried using setSelection and several variables, but still no luck","title":"Firebase Spinner - Update Spinner Text on Selected Item","body":"<p>I've seen similar Q&amp;A on this and played around with several variations.  I'm trying to update the Spinner text, but nothing happens.</p>\n<p>In the onCreate method I have two spinners:\n1.) DCAccount2 (XML ID)\n2.) NumofPayments(XML ID)</p>\n<p>DC Account2 successfully pulls the query data from Firebase database and populates the drop down with the correct values I want to see.  But when I select the value I want, nothing happens.  The Spinner text is not updated.?.?</p>\n<pre><code>Spinner DC_Account_Spr = findViewById(R.id.DCAccount2);\nDC_Account_Spr.setOnItemSelectedListener(this);\nArrayAdapter&lt;String&gt; DC_Array_Adapter = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, user_debit_acct_DL);\nDC_Array_Adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\nDC_Account_Spr.setAdapter(DC_Array_Adapter);\n\nSpinner Num_Pymts_Spr = findViewById(R.id.NumofPayments);\nNum_Pymts_Spr.setOnItemSelectedListener(this);\nArrayAdapter&lt;CharSequence&gt; Num_Pymts_adapter = ArrayAdapter.createFromResource(this, R.array.Num_Payments, com.google.android.material.R.layout.support_simple_spinner_dropdown_item);\nNum_Pymts_adapter.setDropDownViewResource(com.google.android.material.R.layout.support_simple_spinner_dropdown_item);\nNum_Pymts_Spr.setAdapter(Num_Pymts_adapter);\n</code></pre>\n<p>Other relevant methods:</p>\n<pre><code>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long l) {\n    switch(parent.getId()) {\n        case (R.id.DCAccount2):\n            //This is where I think I am not capturing the selected item properly\n            String Account_Selected_Str = parent.getItemAtPosition(position).toString();\n            Toast.makeText(getApplicationContext(), Account_Selected_Str, Toast.LENGTH_LONG).show();\n        case (R.id.NumofPayments):\n            String Num_Payments_Str = parent.getItemAtPosition(position).toString();\n            Toast.makeText(getApplicationContext(), Num_Payments_Str, Toast.LENGTH_LONG).show();\n    }\n}\n\n@Override\npublic void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n    return;\n}\n\n</code></pre>\n<p>I've tried using setSelection and several variables, but still no luck</p>\n"},{"tags":["java","mongodb","mongodb-atlas"],"answers":[{"comments":[{"owner":{"account_id":4211425,"reputation":364,"user_id":3448998,"display_name":"Luca Riccitelli"},"score":1,"creation_date":1670259345,"post_id":74691133,"comment_id":131829784,"body_markdown":"Thanks @R2D2 for the suggestion, I&#39;ve edited my question and added the query.\n\nI&#39;ve also tried to do a $facet step that contains my aggregation query and a pipe for the count and thats works fine on atlas but performance are very slow.","body":"Thanks @R2D2 for the suggestion, I&#39;ve edited my question and added the query.  I&#39;ve also tried to do a $facet step that contains my aggregation query and a pipe for the count and thats works fine on atlas but performance are very slow."},{"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"score":0,"creation_date":1670262539,"post_id":74691133,"comment_id":131830793,"body_markdown":"@LucaRiccitelli :  Can you add also some example document so to be easy to test in playground , btw do you have any indexes created , more specifically including the sort.companyName field?","body":"@LucaRiccitelli :  Can you add also some example document so to be easy to test in playground , btw do you have any indexes created , more specifically including the sort.companyName field?"},{"owner":{"account_id":4211425,"reputation":364,"user_id":3448998,"display_name":"Luca Riccitelli"},"score":1,"creation_date":1670269137,"post_id":74691133,"comment_id":131832810,"body_markdown":"I&#39;ve added my model, collection has just one index on couple companyId and buyerId","body":"I&#39;ve added my model, collection has just one index on couple companyId and buyerId"},{"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"score":0,"creation_date":1670271942,"post_id":74691133,"comment_id":131833604,"body_markdown":"Have you tested using compound index including the sort field as follow: db.vendor_search.createIndex({buyerId:1,&quot;sort.companyName&quot;:1})","body":"Have you tested using compound index including the sort field as follow: db.vendor_search.createIndex({buyerId:1,&quot;sort.companyName&quot;:1&zwnj;&#8203;})"},{"owner":{"account_id":4211425,"reputation":364,"user_id":3448998,"display_name":"Luca Riccitelli"},"score":0,"creation_date":1670302958,"post_id":74691133,"comment_id":131839171,"body_markdown":"sort.companyName is a calculated field... How can i create and index on it?","body":"sort.companyName is a calculated field... How can i create and index on it?"},{"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"score":0,"creation_date":1670306677,"post_id":74691133,"comment_id":131839786,"body_markdown":"Ah wait , indeed you are right ...","body":"Ah wait , indeed you are right ..."}],"tags":[],"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670256710,"creation_date":1670256710,"answer_id":74691133,"question_id":74689447,"body_markdown":" in ATLAS M0 free clusters and M2/M5 shared clusters sort in memory limit is 32 MB. ( [ref][1] ) , this limit seems to apply also to [serverless][2]\r\n\r\n\r\nFor not limited mongod you may usually increase this limit from 32MB for example to 320MB as follow:\r\n         \r\n      db.adminCommand({setParameter: 1, internalQueryExecMaxBlockingSortBytes: 335544320})\r\n\r\nYou can check the current value with:\r\n\r\n      db.runCommand( { getParameter : 1, &quot;internalQueryExecMaxBlockingSortBytes&quot; : 1 } )\r\n\r\nBut it is best to optimize your queries to not hit this limit , if you post your full query and indexes ( db.collection.getIndexes() perhaps there is a better way ...\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/atlas/reference/free-shared-limitations/#operational-limitations\r\n  [2]: https://www.mongodb.com/docs/atlas/reference/serverless-instance-limitations/#operational-limitations-and-considerations","title":"QueryExceededMemoryLimitNoDiskUseAllowed with MogoDB Atlas","body":"<p>in ATLAS M0 free clusters and M2/M5 shared clusters sort in memory limit is 32 MB. ( <a href=\"https://www.mongodb.com/docs/atlas/reference/free-shared-limitations/#operational-limitations\" rel=\"nofollow noreferrer\">ref</a> ) , this limit seems to apply also to <a href=\"https://www.mongodb.com/docs/atlas/reference/serverless-instance-limitations/#operational-limitations-and-considerations\" rel=\"nofollow noreferrer\">serverless</a></p>\n<p>For not limited mongod you may usually increase this limit from 32MB for example to 320MB as follow:</p>\n<pre><code>  db.adminCommand({setParameter: 1, internalQueryExecMaxBlockingSortBytes: 335544320})\n</code></pre>\n<p>You can check the current value with:</p>\n<pre><code>  db.runCommand( { getParameter : 1, &quot;internalQueryExecMaxBlockingSortBytes&quot; : 1 } )\n</code></pre>\n<p>But it is best to optimize your queries to not hit this limit , if you post your full query and indexes ( db.collection.getIndexes() perhaps there is a better way ...</p>\n"}],"owner":{"account_id":4211425,"reputation":364,"user_id":3448998,"display_name":"Luca Riccitelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670269037,"creation_date":1670249100,"question_id":74689447,"body_markdown":"I&#39;ve developed a java application that uses an Atlas MongoDB Serverless DB.\r\nThis application performs an Aggregation query with the following steps:\r\n\r\n - $match\r\n - $project\r\n - $addFields\r\n - $sort\r\n - $facet\r\n - $project\r\n\r\nWhen I perform a query thats returns a lot of results I&#39;m obtaining this exception: QueryExceededMemoryLimitNoDiskUseAllowed.\r\nI&#39;ve tried to modify my code adding allowDiskUse: true in the aggregation, but didn&#39;t resolve the exception.\r\n\r\nI&#39;ve tried to replicate my aggregation pipeline in Atlas console and found that every think works fine until $facet step that returns\r\n\r\n*Reason: PlanExecutor error during aggregation :: caused by :: Sort exceeded memory limit of 33554432 bytes, but did not opt in to external sorting.*\r\n\r\nThis is my $facet step:\r\n\r\n    {$facet: {\r\n          paginatedResults: [{ $skip: 0 }, { $limit: 50 }],\r\n          totalCount: [\r\n            {\r\n              $count: &#39;count&#39;\r\n            }\r\n          ]\r\n        }\r\n    }\r\n\r\nAs you can see I&#39;m using it to paginate my query results.\r\n\r\nAny suggestion to avoid this problem?\r\nI was thinking about making two different query one for the results and one for total count, but I&#39;m not sure this is the best solution.\r\n\r\n\r\nEDIT: added query\r\n\r\n    db.vendor_search.aggregate(\r\n    {$match: {\r\n        $or: [\r\n            {&#39;searchKeys.value&#39;: {$regex: &quot;vendor&quot;}},\r\n            {&#39;searchKeys.value&#39;: {$regex: &quot;test&quot;}},\r\n            {&#39;searchKeys.valueClean&#39;: {$regex: &quot;vendor&quot;}},\r\n            {&#39;searchKeys.valueClean&#39;: {$regex: &quot;test&quot;}},\r\n        ],\r\n        buyerId: 7\r\n    }},\r\n    {$project: {\r\n       companyId: 1,\r\n       buyerId: 1,\r\n       companyName: 1,\r\n       legalForm: 1,\r\n       country: 1,\r\n       supplhiCompanyCode: 1,\r\n       vat: 1,\r\n       erpCode: 1,\r\n       visibility: 1,\r\n       businessStatus: 1,\r\n       city: 1,\r\n       logo: 1,\r\n       location: {$concat : [&quot;$country.value&quot;,&#39;$city&#39;]},\r\n       searchKeys: {\r\n        &quot;$filter&quot;: {\r\n          &quot;input&quot;: &quot;$searchKeys&quot;,\r\n          &quot;cond&quot;: {\r\n            &quot;$or&quot;: [\r\n              {$regexMatch: {input: &quot;$$this.value&quot;,regex: &quot;vendor&quot;}},\r\n              {$regexMatch: {input: &quot;$$this.value&quot;,regex: &quot;test&quot;}}\r\n              {$regexMatch: {input: &quot;$$this.valueClean&quot;,regex: &quot;vendor&quot;}},\r\n              {$regexMatch: {input: &quot;$$this.valueClean&quot;,regex: &quot;test&quot;}}\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }},\r\n    {$addFields: {\r\n      searchMatching: {\r\n            $reduce: {\r\n                input: &quot;$searchKeys.type&quot;,\r\n                initialValue: [],\r\n                in: {\r\n                    $concatArrays: [\r\n                        &quot;$$value&quot;, \r\n                        {$cond: [{$in: [&quot;$$this&quot;, &quot;$$value&quot;]},[],[&quot;$$this&quot;]]}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        &#39;sort.supplhiId&#39;: { $toLower: &quot;$supplhiCompanyCode&quot; },\r\n        &#39;sort.companyName&#39;: { $toLower: &quot;$companyName&quot; },\r\n        &#39;sort.location&#39;: { $toLower: {$concat : [&quot;$country.value&quot;,&quot; &quot;,&quot;$city&quot;]}},\r\n        &#39;sort.vat&#39;: { $toLower: &quot;$vat&quot; },\r\n        &#39;sort.companyStatus&#39;: { $toLower: &quot;$businessStatus&quot; },\r\n        &#39;sort.erpCode&#39;: { $toLower: &quot;$erpCode&quot; }\r\n    }},\r\n    {$sort: {&quot;sort.companyName&quot;: 1}},\r\n    {$facet: {\r\n          paginatedResults: [{ $skip: 0 }, { $limit: 50 }],\r\n          totalCount: [\r\n            {\r\n              $count: &#39;count&#39;\r\n            }\r\n          ]\r\n        }\r\n    },\r\n    {$project: {paginatedResults:1, &#39;totalCount&#39;: {$first : &#39;$totalCount.count&#39;}}}\r\n    )\r\n\r\nEDIT: Added model\r\n\r\n    {\r\n\t&quot;buyerId&quot;: 1,\r\n\t&quot;companyId&quot;: 869048,\r\n\t&quot;address&quot;: &quot;FP8R+52H&quot;,\r\n\t&quot;businessStatus&quot;: &quot;AC&quot;,\r\n\t&quot;city&quot;: &quot;Chiffa&quot;,\r\n\t&quot;companyName&quot;: &quot;Test Algeria 25 agosto&quot;,\r\n\t&quot;country&quot;: {\r\n\t\t&quot;lookupId&quot;: 78,\r\n\t\t&quot;code&quot;: &quot;DZA&quot;,\r\n\t\t&quot;value&quot;: &quot;Algeria&quot;\r\n\t},\r\n\t&quot;erpCode&quot;: null,\r\n\t&quot;legalForm&quot;: &quot;Ltd.&quot;,\r\n\t&quot;logo&quot;: &quot;fc4d821a-e814-49e4-96d1-f32421fdaa6d_1.jpg&quot;,\r\n\t&quot;searchKeys&quot;: [\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;pebiw81522@xitudy.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;pebiw81522xitudycom&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;company_registration_number&quot;,\r\n\t\t\t&quot;value&quot;: &quot;112211331144&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;112211331144&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;vendor_name&quot;,\r\n\t\t\t&quot;value&quot;: &quot;test algeria 25 agosto ltd.&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;test algeria 25 agosto ltd&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;tredicisf2@ottobre2022.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;tredicisf2ottobre2022com&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;ty@s.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;tyscom&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;info@x.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;infoxcom&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;tin&quot;,\r\n\t\t\t&quot;value&quot;: &quot;00112341675&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;00112341675&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;hatikog381@rxcay.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;hatikog381rxcaycom&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;supplhi_id&quot;,\r\n\t\t\t&quot;value&quot;: &quot;100059410&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;100059410&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;tredici@ottobre2022.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;trediciottobre2022com&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;country_key&quot;,\r\n\t\t\t&quot;value&quot;: &quot;00112341675&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;00112341675&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;vat&quot;,\r\n\t\t\t&quot;value&quot;: &quot;00112341675&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;00112341675&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;address&quot;,\r\n\t\t\t&quot;value&quot;: &quot;fp8r+52h&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;fp8r52h&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;city&quot;,\r\n\t\t\t&quot;value&quot;: &quot;chiffa&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;chiffa&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;prova@supplhi.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;provasupplhicom&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;contact&quot;,\r\n\t\t\t&quot;value&quot;: &quot;saraxo2669@dmonies.com&quot;,\r\n\t\t\t&quot;valueClean&quot;: &quot;saraxo2669dmoniescom&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;supplhiCompanyCode&quot;: &quot;100059410&quot;,\r\n\t&quot;vat&quot;: &quot;00112341675&quot;,\r\n\t&quot;visibility&quot;: true\r\n    }","title":"QueryExceededMemoryLimitNoDiskUseAllowed with MogoDB Atlas","body":"<p>I've developed a java application that uses an Atlas MongoDB Serverless DB.\nThis application performs an Aggregation query with the following steps:</p>\n<ul>\n<li>$match</li>\n<li>$project</li>\n<li>$addFields</li>\n<li>$sort</li>\n<li>$facet</li>\n<li>$project</li>\n</ul>\n<p>When I perform a query thats returns a lot of results I'm obtaining this exception: QueryExceededMemoryLimitNoDiskUseAllowed.\nI've tried to modify my code adding allowDiskUse: true in the aggregation, but didn't resolve the exception.</p>\n<p>I've tried to replicate my aggregation pipeline in Atlas console and found that every think works fine until $facet step that returns</p>\n<p><em>Reason: PlanExecutor error during aggregation :: caused by :: Sort exceeded memory limit of 33554432 bytes, but did not opt in to external sorting.</em></p>\n<p>This is my $facet step:</p>\n<pre><code>{$facet: {\n      paginatedResults: [{ $skip: 0 }, { $limit: 50 }],\n      totalCount: [\n        {\n          $count: 'count'\n        }\n      ]\n    }\n}\n</code></pre>\n<p>As you can see I'm using it to paginate my query results.</p>\n<p>Any suggestion to avoid this problem?\nI was thinking about making two different query one for the results and one for total count, but I'm not sure this is the best solution.</p>\n<p>EDIT: added query</p>\n<pre><code>db.vendor_search.aggregate(\n{$match: {\n    $or: [\n        {'searchKeys.value': {$regex: &quot;vendor&quot;}},\n        {'searchKeys.value': {$regex: &quot;test&quot;}},\n        {'searchKeys.valueClean': {$regex: &quot;vendor&quot;}},\n        {'searchKeys.valueClean': {$regex: &quot;test&quot;}},\n    ],\n    buyerId: 7\n}},\n{$project: {\n   companyId: 1,\n   buyerId: 1,\n   companyName: 1,\n   legalForm: 1,\n   country: 1,\n   supplhiCompanyCode: 1,\n   vat: 1,\n   erpCode: 1,\n   visibility: 1,\n   businessStatus: 1,\n   city: 1,\n   logo: 1,\n   location: {$concat : [&quot;$country.value&quot;,'$city']},\n   searchKeys: {\n    &quot;$filter&quot;: {\n      &quot;input&quot;: &quot;$searchKeys&quot;,\n      &quot;cond&quot;: {\n        &quot;$or&quot;: [\n          {$regexMatch: {input: &quot;$$this.value&quot;,regex: &quot;vendor&quot;}},\n          {$regexMatch: {input: &quot;$$this.value&quot;,regex: &quot;test&quot;}}\n          {$regexMatch: {input: &quot;$$this.valueClean&quot;,regex: &quot;vendor&quot;}},\n          {$regexMatch: {input: &quot;$$this.valueClean&quot;,regex: &quot;test&quot;}}\n        ]\n      }\n    }\n  }\n}},\n{$addFields: {\n  searchMatching: {\n        $reduce: {\n            input: &quot;$searchKeys.type&quot;,\n            initialValue: [],\n            in: {\n                $concatArrays: [\n                    &quot;$$value&quot;, \n                    {$cond: [{$in: [&quot;$$this&quot;, &quot;$$value&quot;]},[],[&quot;$$this&quot;]]}\n                ]\n            }\n        }\n    },\n    'sort.supplhiId': { $toLower: &quot;$supplhiCompanyCode&quot; },\n    'sort.companyName': { $toLower: &quot;$companyName&quot; },\n    'sort.location': { $toLower: {$concat : [&quot;$country.value&quot;,&quot; &quot;,&quot;$city&quot;]}},\n    'sort.vat': { $toLower: &quot;$vat&quot; },\n    'sort.companyStatus': { $toLower: &quot;$businessStatus&quot; },\n    'sort.erpCode': { $toLower: &quot;$erpCode&quot; }\n}},\n{$sort: {&quot;sort.companyName&quot;: 1}},\n{$facet: {\n      paginatedResults: [{ $skip: 0 }, { $limit: 50 }],\n      totalCount: [\n        {\n          $count: 'count'\n        }\n      ]\n    }\n},\n{$project: {paginatedResults:1, 'totalCount': {$first : '$totalCount.count'}}}\n)\n</code></pre>\n<p>EDIT: Added model</p>\n<pre><code>{\n&quot;buyerId&quot;: 1,\n&quot;companyId&quot;: 869048,\n&quot;address&quot;: &quot;FP8R+52H&quot;,\n&quot;businessStatus&quot;: &quot;AC&quot;,\n&quot;city&quot;: &quot;Chiffa&quot;,\n&quot;companyName&quot;: &quot;Test Algeria 25 agosto&quot;,\n&quot;country&quot;: {\n    &quot;lookupId&quot;: 78,\n    &quot;code&quot;: &quot;DZA&quot;,\n    &quot;value&quot;: &quot;Algeria&quot;\n},\n&quot;erpCode&quot;: null,\n&quot;legalForm&quot;: &quot;Ltd.&quot;,\n&quot;logo&quot;: &quot;fc4d821a-e814-49e4-96d1-f32421fdaa6d_1.jpg&quot;,\n&quot;searchKeys&quot;: [\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;pebiw81522@xitudy.com&quot;,\n        &quot;valueClean&quot;: &quot;pebiw81522xitudycom&quot;\n    },\n    {\n        &quot;type&quot;: &quot;company_registration_number&quot;,\n        &quot;value&quot;: &quot;112211331144&quot;,\n        &quot;valueClean&quot;: &quot;112211331144&quot;\n    },\n    {\n        &quot;type&quot;: &quot;vendor_name&quot;,\n        &quot;value&quot;: &quot;test algeria 25 agosto ltd.&quot;,\n        &quot;valueClean&quot;: &quot;test algeria 25 agosto ltd&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;tredicisf2@ottobre2022.com&quot;,\n        &quot;valueClean&quot;: &quot;tredicisf2ottobre2022com&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;ty@s.com&quot;,\n        &quot;valueClean&quot;: &quot;tyscom&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;info@x.com&quot;,\n        &quot;valueClean&quot;: &quot;infoxcom&quot;\n    },\n    {\n        &quot;type&quot;: &quot;tin&quot;,\n        &quot;value&quot;: &quot;00112341675&quot;,\n        &quot;valueClean&quot;: &quot;00112341675&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;hatikog381@rxcay.com&quot;,\n        &quot;valueClean&quot;: &quot;hatikog381rxcaycom&quot;\n    },\n    {\n        &quot;type&quot;: &quot;supplhi_id&quot;,\n        &quot;value&quot;: &quot;100059410&quot;,\n        &quot;valueClean&quot;: &quot;100059410&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;tredici@ottobre2022.com&quot;,\n        &quot;valueClean&quot;: &quot;trediciottobre2022com&quot;\n    },\n    {\n        &quot;type&quot;: &quot;country_key&quot;,\n        &quot;value&quot;: &quot;00112341675&quot;,\n        &quot;valueClean&quot;: &quot;00112341675&quot;\n    },\n    {\n        &quot;type&quot;: &quot;vat&quot;,\n        &quot;value&quot;: &quot;00112341675&quot;,\n        &quot;valueClean&quot;: &quot;00112341675&quot;\n    },\n    {\n        &quot;type&quot;: &quot;address&quot;,\n        &quot;value&quot;: &quot;fp8r+52h&quot;,\n        &quot;valueClean&quot;: &quot;fp8r52h&quot;\n    },\n    {\n        &quot;type&quot;: &quot;city&quot;,\n        &quot;value&quot;: &quot;chiffa&quot;,\n        &quot;valueClean&quot;: &quot;chiffa&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;prova@supplhi.com&quot;,\n        &quot;valueClean&quot;: &quot;provasupplhicom&quot;\n    },\n    {\n        &quot;type&quot;: &quot;contact&quot;,\n        &quot;value&quot;: &quot;saraxo2669@dmonies.com&quot;,\n        &quot;valueClean&quot;: &quot;saraxo2669dmoniescom&quot;\n    }\n],\n&quot;supplhiCompanyCode&quot;: &quot;100059410&quot;,\n&quot;vat&quot;: &quot;00112341675&quot;,\n&quot;visibility&quot;: true\n}\n</code></pre>\n"},{"tags":["java","c#","android","unity-game-engine","permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670269638,"post_id":74693480,"comment_id":131832966,"body_markdown":"There is nothing in your post what matches the subject.","body":"There is nothing in your post what matches the subject."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670271055,"post_id":74693480,"comment_id":131833382,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27156265,"reputation":1,"user_id":20695044,"display_name":"ATLANTIS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670268968,"creation_date":1670268968,"question_id":74693480,"body_markdown":"I have an app on Unity that should manage phone files to make some actions easier, this app works fine on android 10 and below, but on android 11-13 it just refuses to work, I&#39;m wondering if it&#39;s possible to somehow request the ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION on click  button.\r\n\r\nI tried adding the line &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; in the manifest but it didn&#39;t work for me.  I also tried to request this permission through a plugin written in android studio, but I also didnt succeed, perhaps this is due to poor knowledge of java.\r\nHope you can help and thanks in advance.","title":"How to request full access to an external directory in unity on android 11 or higher?","body":"<p>I have an app on Unity that should manage phone files to make some actions easier, this app works fine on android 10 and below, but on android 11-13 it just refuses to work, I'm wondering if it's possible to somehow request the ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION on click  button.</p>\n<p>I tried adding the line &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; in the manifest but it didn't work for me.  I also tried to request this permission through a plugin written in android studio, but I also didnt succeed, perhaps this is due to poor knowledge of java.\nHope you can help and thanks in advance.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1540955036,"post_id":53075650,"comment_id":93049402,"body_markdown":"*Should I make another class with those atributes, and make this class implement Runnable?* Yes.   And, please use a thread safe version `List`. https://stackoverflow.com/questions/8203864/choosing-the-best-concurrency-list-in-java","body":"<i>Should I make another class with those atributes, and make this class implement Runnable?</i> Yes.   And, please use a thread safe version <code>List</code>. <a href=\"https://stackoverflow.com/questions/8203864/choosing-the-best-concurrency-list-in-java\" title=\"choosing the best concurrency list in java\">stackoverflow.com/questions/8203864/&hellip;</a>"},{"owner":{"account_id":12009391,"reputation":85,"user_id":8786678,"display_name":"Jo4nP4l4u"},"score":0,"creation_date":1540955547,"post_id":53075650,"comment_id":93049508,"body_markdown":"The only thread safe list should be the control list right? I&#39;m new using threads and java...","body":"The only thread safe list should be the control list right? I&#39;m new using threads and java..."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1540955628,"post_id":53075650,"comment_id":93049522,"body_markdown":"`filaActual` should be thread safe, since you add elements to it in multiple threads.","body":"<code>filaActual</code> should be thread safe, since you add elements to it in multiple threads."},{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1540955631,"post_id":53075650,"comment_id":93049523,"body_markdown":"You might be better converting this code to use the new Streams abstraction in Java 8(?), then let it parallelize the work for you - but I don know what you&#39;re trying to compute here, so I don&#39;t know how feasible that transformation woul d be...","body":"You might be better converting this code to use the new Streams abstraction in Java 8(?), then let it parallelize the work for you - but I don know what you&#39;re trying to compute here, so I don&#39;t know how feasible that transformation woul d be..."},{"owner":{"account_id":12009391,"reputation":85,"user_id":8786678,"display_name":"Jo4nP4l4u"},"score":0,"creation_date":1540955865,"post_id":53075650,"comment_id":93049565,"body_markdown":"I&#39;m trying to comupte Knapsack problem using threads &quot;diagonally&quot;. So the previousRow cannot be equal or less than the actualRow.","body":"I&#39;m trying to comupte Knapsack problem using threads &quot;diagonally&quot;. So the previousRow cannot be equal or less than the actualRow."},{"owner":{"account_id":12009391,"reputation":85,"user_id":8786678,"display_name":"Jo4nP4l4u"},"score":0,"creation_date":1540955953,"post_id":53075650,"comment_id":93049580,"body_markdown":"filaActual is a row in wich only one thread is inserting elements in the position p, but another one can be reading the array till p-1. Does it still need to be thread safe?","body":"filaActual is a row in wich only one thread is inserting elements in the position p, but another one can be reading the array till p-1. Does it still need to be thread safe?"}],"owner":{"account_id":12009391,"reputation":85,"user_id":8786678,"display_name":"Jo4nP4l4u"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670268923,"creation_date":1540954855,"question_id":53075650,"body_markdown":"I need 3 parameters in my method run. Two of them need to be part of a shared matrix (2 rows of it) and the last one is the master&#39;s for index. How can I pass those to my method run? \r\nI got quite a huge matrix, so maybe isn&#39;t the best idea to duplicate variables in different places...\r\nShould I make another class with those attributes, and make this class implement Runnable? \r\n\r\nThe **control** ArrayList is intended to work as a place to see if the column in which I&#39;m working is still not the same as the column in the row above as it wouldn&#39;t generate a correct answer.\r\n\r\nHow can I keep them at a maximum determined by threads, and not making my main thread stop? Joining a thread would make my mainThread to stop as far as I know. \r\n\r\nMy code looks like this:\r\n\r\n    public class MochilaCeroUno extends Thread {\r\n        protected List&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\r\n        protected int maxWeight = 0;\r\n        protected int solutionWeight = 0;\r\n        protected int profit = 0;\r\n        protected boolean calculated = false;\r\n        static int threads;\r\n        static List&lt;MyPair&gt; control;\r\n\r\nRun method:\r\n\r\n    public void run(List&lt;Integer&gt; filaAnterior, List&lt;Integer&gt; filaActual, int i) {\r\n    \r\n            MyPair pair = new MyPair(i, 0);\r\n            control.set((i - 1) % threads, pair);\r\n            int numFilaAnterior = i - 1;\r\n    \r\n            if (numFilaAnterior &gt;= 0) {\r\n                for (int j = 0; j &lt;= maxWeight; j++) {  //Posar concurrencia aqui\r\n                    if (control.get((numFilaAnterior - 1) % threads).getCol() &gt; j) {\r\n                        if (j &gt; 0) {\r\n                            int wH = itemList.get(i - 1).getWeight();\r\n                            if (wH &gt; j) {\r\n                                filaActual.add(filaAnterior.get(j));\r\n                            } else {\r\n                                filaActual.add(Math.max(filaAnterior.get(j), itemList.get(i - 1).getValue() + filaAnterior.get(j - wH)));\r\n                            }\r\n                        } else {\r\n                            filaActual.add(0);\r\n                        }\r\n                    } else {\r\n                        j--;\r\n                        yield();\r\n                    }\r\n                }\r\n                super.run();\r\n            }\r\n        }\r\n\r\nMethod that calls the run and has to create threads:\r\n\r\n    public List&lt;Item&gt; calcSolution() {\r\n        int n = itemList.size();\r\n    \r\n        setInitialStateForCalculation();\r\n        if (n &gt; 0 &amp;&amp; maxWeight &gt; 0) {\r\n            List&lt;List&lt;Integer&gt;&gt; c = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n            List&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;();\r\n    \r\n    \r\n            c.add(curr);\r\n            for (int j = 0; j &lt;= maxWeight; j++) {\r\n                curr.add(0);\r\n            }\r\n    \r\n            for (int i = 1; i &lt;= n; i++) {\r\n                List&lt;Integer&gt; prev = curr;\r\n                c.add(curr = new ArrayList&lt;Integer&gt;());\r\n                new MochilaCeroUno().start();\r\n               ...\r\n     ","title":"Shared variables in java threads","body":"<p>I need 3 parameters in my method run. Two of them need to be part of a shared matrix (2 rows of it) and the last one is the master's for index. How can I pass those to my method run?\nI got quite a huge matrix, so maybe isn't the best idea to duplicate variables in different places...\nShould I make another class with those attributes, and make this class implement Runnable?</p>\n<p>The <strong>control</strong> ArrayList is intended to work as a place to see if the column in which I'm working is still not the same as the column in the row above as it wouldn't generate a correct answer.</p>\n<p>How can I keep them at a maximum determined by threads, and not making my main thread stop? Joining a thread would make my mainThread to stop as far as I know.</p>\n<p>My code looks like this:</p>\n<pre><code>public class MochilaCeroUno extends Thread {\n    protected List&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\n    protected int maxWeight = 0;\n    protected int solutionWeight = 0;\n    protected int profit = 0;\n    protected boolean calculated = false;\n    static int threads;\n    static List&lt;MyPair&gt; control;\n</code></pre>\n<p>Run method:</p>\n<pre><code>public void run(List&lt;Integer&gt; filaAnterior, List&lt;Integer&gt; filaActual, int i) {\n\n        MyPair pair = new MyPair(i, 0);\n        control.set((i - 1) % threads, pair);\n        int numFilaAnterior = i - 1;\n\n        if (numFilaAnterior &gt;= 0) {\n            for (int j = 0; j &lt;= maxWeight; j++) {  //Posar concurrencia aqui\n                if (control.get((numFilaAnterior - 1) % threads).getCol() &gt; j) {\n                    if (j &gt; 0) {\n                        int wH = itemList.get(i - 1).getWeight();\n                        if (wH &gt; j) {\n                            filaActual.add(filaAnterior.get(j));\n                        } else {\n                            filaActual.add(Math.max(filaAnterior.get(j), itemList.get(i - 1).getValue() + filaAnterior.get(j - wH)));\n                        }\n                    } else {\n                        filaActual.add(0);\n                    }\n                } else {\n                    j--;\n                    yield();\n                }\n            }\n            super.run();\n        }\n    }\n</code></pre>\n<p>Method that calls the run and has to create threads:</p>\n<pre><code>public List&lt;Item&gt; calcSolution() {\n    int n = itemList.size();\n\n    setInitialStateForCalculation();\n    if (n &gt; 0 &amp;&amp; maxWeight &gt; 0) {\n        List&lt;List&lt;Integer&gt;&gt; c = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        List&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;();\n\n\n        c.add(curr);\n        for (int j = 0; j &lt;= maxWeight; j++) {\n            curr.add(0);\n        }\n\n        for (int i = 1; i &lt;= n; i++) {\n            List&lt;Integer&gt; prev = curr;\n            c.add(curr = new ArrayList&lt;Integer&gt;());\n            new MochilaCeroUno().start();\n           ...\n \n</code></pre>\n"},{"tags":["java","spring-boot","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1670591557,"post_id":74693449,"comment_id":131915215,"body_markdown":"Are you aware of the fact that `@DeclareMixin` is a native AspectJ annotation which AFAIK is unavailable in Spring AOP? If you want to use it, you ought to configure your project to use the AspectJ weaving agent. At first glance, I do not see any of the necessary configuration in your Gradle project.","body":"Are you aware of the fact that <code>@DeclareMixin</code> is a native AspectJ annotation which AFAIK is unavailable in Spring AOP? If you want to use it, you ought to configure your project to use the AspectJ weaving agent. At first glance, I do not see any of the necessary configuration in your Gradle project."},{"owner":{"account_id":4015651,"reputation":1323,"user_id":5504607,"display_name":"finx"},"score":0,"creation_date":1670866782,"post_id":74693449,"comment_id":131967506,"body_markdown":"@kriegaex I&#39;ve read about it in a couple of answers here and I couldn&#39;t find a solution, that&#39;s the reason I&#39;ve posted this with a project. I&#39;ve added `org.aspectj:aspectjweaver` but it didn&#39;t made any difference. What&#39;s missing to setup in the project to make it work? Can you please help me on that? Thanks","body":"@kriegaex I&#39;ve read about it in a couple of answers here and I couldn&#39;t find a solution, that&#39;s the reason I&#39;ve posted this with a project. I&#39;ve added <code>org.aspectj:aspectjweaver</code> but it didn&#39;t made any difference. What&#39;s missing to setup in the project to make it work? Can you please help me on that? Thanks"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671190850,"post_id":74693449,"comment_id":132050869,"body_markdown":"Adding a dependency does not make the application use an agent. For that, you need `-javaagent:/path/to/aspectjweaver.jar` on your Java command line. This is described both in the Spring manual and in the AspectJ manual as well as in dozens of answers here on SO, many of which I wrote myself. Did you read any documentation before asking here? This is not a Gradle problem, it seems to be a lack of effort one. Show me in your repository that at least you tried something in your build configuration, then I can help you solve the problem.","body":"Adding a dependency does not make the application use an agent. For that, you need <code>-javaagent:&#47;path&#47;to&#47;aspectjweaver.jar</code> on your Java command line. This is described both in the Spring manual and in the AspectJ manual as well as in dozens of answers here on SO, many of which I wrote myself. Did you read any documentation before asking here? This is not a Gradle problem, it seems to be a lack of effort one. Show me in your repository that at least you tried something in your build configuration, then I can help you solve the problem."}],"owner":{"account_id":4015651,"reputation":1323,"user_id":5504607,"display_name":"finx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670268791,"creation_date":1670268791,"question_id":74693449,"body_markdown":"I&#39;m trying to use `@DeclareMixin` to add a common behavior in some classes, but I couldn&#39;t make it work.\r\n\r\nI&#39;ve created a simple example [here](https://github.com/finxster/declare-mixin-example), if you want to reproduce just run `ExampleResourceTest`.\r\n\r\nMy interface:\r\n\r\n```\r\npublic interface ExampleInterface {\r\n  String world();\r\n}\r\n```\r\n\r\nDefault implementation:\r\n\r\n```\r\npublic class ExampleInterfaceImpl implements ExampleInterface {\r\n  @Override\r\n  public String world() {\r\n    return &quot; world!&quot;;\r\n  }\r\n}\r\n```\r\n\r\nAspect:\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class ExampleAspect {\r\n\r\n  @DeclareMixin(value = &quot;com.example.service.* *&quot;)\r\n  public ExampleInterface exampleInterface() {\r\n    return new ExampleInterfaceImpl();\r\n  }\r\n}\r\n```\r\n\r\nThe service that should receive the ExampleInterface&#39;s behavior:\r\n\r\n```\r\npackage com.example.demo.service;\r\n\r\n@Service\r\n@ExampleAnnotation\r\npublic class ExampleService {\r\n\r\n  @ExampleAnnotation\r\n  public String hello() {\r\n    String output = &quot;Hello&quot;;\r\n    if (this instanceof ExampleInterface) {\r\n      output += ((ExampleInterface) this).world();\r\n    }\r\n    return output;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe expected behavior should return &quot;Hello world!&quot; for the given request, but as the aspect is being ignored, it just returns &quot;Hello&quot;.\r\n\r\n\r\nTo make sure that the `@Aspect` is being read, I&#39;ve added an `@Around` and it&#39;s working as expected. I&#39;m pretty sure I&#39;m missing something to make `@DeclareMixin` works, but unfortunately I couldn&#39;t find any solution. Any help is appreciated!\r\n","title":"@DeclareMixin not being called on SpringBoot","body":"<p>I'm trying to use <code>@DeclareMixin</code> to add a common behavior in some classes, but I couldn't make it work.</p>\n<p>I've created a simple example <a href=\"https://github.com/finxster/declare-mixin-example\" rel=\"nofollow noreferrer\">here</a>, if you want to reproduce just run <code>ExampleResourceTest</code>.</p>\n<p>My interface:</p>\n<pre><code>public interface ExampleInterface {\n  String world();\n}\n</code></pre>\n<p>Default implementation:</p>\n<pre><code>public class ExampleInterfaceImpl implements ExampleInterface {\n  @Override\n  public String world() {\n    return &quot; world!&quot;;\n  }\n}\n</code></pre>\n<p>Aspect:</p>\n<pre><code>@Aspect\n@Component\npublic class ExampleAspect {\n\n  @DeclareMixin(value = &quot;com.example.service.* *&quot;)\n  public ExampleInterface exampleInterface() {\n    return new ExampleInterfaceImpl();\n  }\n}\n</code></pre>\n<p>The service that should receive the ExampleInterface's behavior:</p>\n<pre><code>package com.example.demo.service;\n\n@Service\n@ExampleAnnotation\npublic class ExampleService {\n\n  @ExampleAnnotation\n  public String hello() {\n    String output = &quot;Hello&quot;;\n    if (this instanceof ExampleInterface) {\n      output += ((ExampleInterface) this).world();\n    }\n    return output;\n  }\n\n}\n</code></pre>\n<p>The expected behavior should return &quot;Hello world!&quot; for the given request, but as the aspect is being ignored, it just returns &quot;Hello&quot;.</p>\n<p>To make sure that the <code>@Aspect</code> is being read, I've added an <code>@Around</code> and it's working as expected. I'm pretty sure I'm missing something to make <code>@DeclareMixin</code> works, but unfortunately I couldn't find any solution. Any help is appreciated!</p>\n"},{"tags":["java","api","google-sheets","freeze","google-sheets-api"],"comments":[{"owner":{"account_id":1466133,"reputation":3680,"user_id":1378888,"accept_rate":63,"display_name":"eddyparkinson"},"score":1,"creation_date":1399879565,"post_id":23565275,"comment_id":36231958,"body_markdown":"Maybe possilbe with Google-apps-script, but it is not possible with the gdata style google-spreadsheet-api","body":"Maybe possilbe with Google-apps-script, but it is not possible with the gdata style google-spreadsheet-api"},{"owner":{"account_id":2670850,"reputation":2946,"user_id":2308300,"accept_rate":75,"display_name":"Locane"},"score":0,"creation_date":1468964330,"post_id":23565275,"comment_id":64341991,"body_markdown":"I would really like this functionality as well.  Setting the header row to bold and freezing it would be great.","body":"I would really like this functionality as well.  Setting the header row to bold and freezing it would be great."}],"answers":[{"comments":[{"owner":{"account_id":2032093,"reputation":1995,"user_id":1815486,"accept_rate":40,"display_name":"aiguofer"},"score":0,"creation_date":1495663793,"post_id":38839341,"comment_id":75354422,"body_markdown":"Btw, it took me a while to get to the &#39;final&#39; solution. Combine this answer with https://stackoverflow.com/questions/41547008/unknown-name-update-sheet-properties for a &#39;full solution&#39;. Keep in mind that in the google API, camel case and underscore notation are equivalent.","body":"Btw, it took me a while to get to the &#39;final&#39; solution. Combine this answer with <a href=\"https://stackoverflow.com/questions/41547008/unknown-name-update-sheet-properties\" title=\"unknown name update sheet properties\">stackoverflow.com/questions/41547008/&hellip;</a> for a &#39;full solution&#39;. Keep in mind that in the google API, camel case and underscore notation are equivalent."},{"owner":{"account_id":25983,"reputation":16176,"user_id":67268,"accept_rate":64,"display_name":"blak3r"},"score":0,"creation_date":1631307045,"post_id":38839341,"comment_id":122195967,"body_markdown":"If you get an error like &quot;You can&#39;t delete all the rows on the sheet.&quot; it&#39;s because when you update the grid properties you also need to set rowCount and columnCount properties as well. `EX: sheet.updateProperties({  gridProperties: { frozen_row_count: 0, rowCount: 1, columnCount: headers.length } });`","body":"If you get an error like &quot;You can&#39;t delete all the rows on the sheet.&quot; it&#39;s because when you update the grid properties you also need to set rowCount and columnCount properties as well. <code>EX: sheet.updateProperties({  gridProperties: { frozen_row_count: 0, rowCount: 1, columnCount: headers.length } });</code>"}],"tags":[],"owner":{"account_id":186186,"reputation":8399,"user_id":423384,"display_name":"Josh"},"comment_count":2,"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1470695351,"creation_date":1470694715,"answer_id":38839341,"question_id":23565275,"body_markdown":"This is now available in the v4 API.\r\n\r\nHere is the reference for the JAVA API implementation:\r\nhttps://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/GridProperties.html#setFrozenRowCount(java.lang.Integer)\r\n\r\nHere is the API documentation:\r\nhttps://developers.google.com/sheets/reference/rest/v4/spreadsheets#gridproperties\r\n\r\nIf you want to do it w/ an App Script you can as well:\r\nhttps://developers.google.com/apps-script/reference/spreadsheet/sheet#setFrozenRows(Integer)\r\n\r\nThis is the request I made w/ the Ruby API:\r\n\r\n    update_sheet_properties: {\r\n      properties: {\r\n        sheet_id: &#39;YOUR SHEET ID HERE&#39;,\r\n        grid_properties: { frozen_row_count: 4 }\r\n      },\r\n      fields: &#39;gridProperties.frozenRowCount&#39;\r\n    }","title":"Freeze rows and set styles with Google spreadsheet API","body":"<p>This is now available in the v4 API.</p>\n\n<p>Here is the reference for the JAVA API implementation:\n<a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/GridProperties.html#setFrozenRowCount(java.lang.Integer)\" rel=\"noreferrer\">https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/GridProperties.html#setFrozenRowCount(java.lang.Integer)</a></p>\n\n<p>Here is the API documentation:\n<a href=\"https://developers.google.com/sheets/reference/rest/v4/spreadsheets#gridproperties\" rel=\"noreferrer\">https://developers.google.com/sheets/reference/rest/v4/spreadsheets#gridproperties</a></p>\n\n<p>If you want to do it w/ an App Script you can as well:\n<a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#setFrozenRows(Integer)\" rel=\"noreferrer\">https://developers.google.com/apps-script/reference/spreadsheet/sheet#setFrozenRows(Integer)</a></p>\n\n<p>This is the request I made w/ the Ruby API:</p>\n\n<pre><code>update_sheet_properties: {\n  properties: {\n    sheet_id: 'YOUR SHEET ID HERE',\n    grid_properties: { frozen_row_count: 4 }\n  },\n  fields: 'gridProperties.frozenRowCount'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282266,"reputation":389,"user_id":4217219,"display_name":"Rajender Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548762443,"creation_date":1548762443,"answer_id":54420372,"question_id":23565275,"body_markdown":"If anyone looking for solution with PHP to format the header and froze the header while scrolling then you can go with this approach as mentioned below:\r\n\t\t\t\r\n\t\t\t//$client will be your google service client request after authorization.\t\t\t\r\n\t\t\t$service = new Google_Service_Sheets($client);\r\n\t\t\t\r\n\t\t\t$formatRowColrequests = [\r\n\t\t\t\tnew Google_Service_Sheets_Request([\r\n\t\t\t\t  &quot;repeatCell&quot; =&gt; [\r\n\t\t\t\t\t&quot;range&quot; =&gt; [\r\n\t\t\t\t\t  &quot;sheetId&quot; =&gt; $setSheetId,\t//set your sheet ID\r\n\t\t\t\t\t  &quot;startRowIndex&quot; =&gt; 0,\r\n\t\t\t\t\t  &quot;endRowIndex&quot; =&gt; 1,\r\n\t\t\t\t\t  &quot;startColumnIndex&quot; =&gt; 0,\r\n\t\t\t\t\t  &quot;endColumnIndex&quot; =&gt; 100\r\n\t\t\t\t\t],\r\n\t\t\t\t\t&quot;cell&quot; =&gt; [\r\n\t\t\t\t\t  &quot;userEnteredFormat&quot; =&gt; [\r\n\t\t\t\t\t\t&quot;horizontalAlignment&quot; =&gt; &quot;CENTER&quot;,\r\n\t\t\t\t\t\t&quot;textFormat&quot; =&gt; [\r\n\t\t\t\t\t\t  &quot;fontSize&quot; =&gt; 9,\r\n\t\t\t\t\t\t  &quot;bold&quot; =&gt; true\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t  ]\r\n\t\t\t\t\t],\r\n\t\t\t\t\t&quot;fields&quot; =&gt; &quot;userEnteredFormat(textFormat,horizontalAlignment)&quot;\r\n\t\t\t\t  ]\r\n\t\t\t\t]),\r\n\t\t\t\tnew Google_Service_Sheets_Request([\r\n\t\t\t\t\t&#39;updateSheetProperties&#39; =&gt; [\r\n\t\t\t\t\t\t&#39;properties&#39; =&gt; [\r\n\t\t\t\t\t\t\t&#39;sheetId&#39; =&gt; $setSheetId,\r\n\t\t\t\t\t\t\t&#39;gridProperties&#39; =&gt; [\r\n\t\t\t\t\t\t\t\t&#39;frozenRowCount&#39; =&gt; 1\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t&quot;fields&quot;=&gt; &quot;gridProperties.frozenRowCount&quot;\r\n\t\t\t\t\t]\r\n\t\t\t\t])\r\n\t\t\t];\r\n\t\t\t$batchUpdateCellFormatRequest = new Google_Service_Sheets_BatchUpdateSpreadsheetRequest([\r\n\t\t\t\t&#39;requests&#39; =&gt; $formatRowColrequests\r\n\t\t\t]);\r\n\t\t\t$service-&gt;spreadsheets-&gt;batchUpdate($spreadsheetId, $batchUpdateCellFormatRequest);","title":"Freeze rows and set styles with Google spreadsheet API","body":"<p>If anyone looking for solution with PHP to format the header and froze the header while scrolling then you can go with this approach as mentioned below:</p>\n\n<pre><code>        //$client will be your google service client request after authorization.           \n        $service = new Google_Service_Sheets($client);\n\n        $formatRowColrequests = [\n            new Google_Service_Sheets_Request([\n              \"repeatCell\" =&gt; [\n                \"range\" =&gt; [\n                  \"sheetId\" =&gt; $setSheetId, //set your sheet ID\n                  \"startRowIndex\" =&gt; 0,\n                  \"endRowIndex\" =&gt; 1,\n                  \"startColumnIndex\" =&gt; 0,\n                  \"endColumnIndex\" =&gt; 100\n                ],\n                \"cell\" =&gt; [\n                  \"userEnteredFormat\" =&gt; [\n                    \"horizontalAlignment\" =&gt; \"CENTER\",\n                    \"textFormat\" =&gt; [\n                      \"fontSize\" =&gt; 9,\n                      \"bold\" =&gt; true\n                    ]\n                  ]\n                ],\n                \"fields\" =&gt; \"userEnteredFormat(textFormat,horizontalAlignment)\"\n              ]\n            ]),\n            new Google_Service_Sheets_Request([\n                'updateSheetProperties' =&gt; [\n                    'properties' =&gt; [\n                        'sheetId' =&gt; $setSheetId,\n                        'gridProperties' =&gt; [\n                            'frozenRowCount' =&gt; 1\n                        ]\n                    ],\n                    \"fields\"=&gt; \"gridProperties.frozenRowCount\"\n                ]\n            ])\n        ];\n        $batchUpdateCellFormatRequest = new Google_Service_Sheets_BatchUpdateSpreadsheetRequest([\n            'requests' =&gt; $formatRowColrequests\n        ]);\n        $service-&gt;spreadsheets-&gt;batchUpdate($spreadsheetId, $batchUpdateCellFormatRequest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3525177,"reputation":1235,"user_id":2946499,"accept_rate":77,"display_name":"keepTrackOfYourStack"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549147389,"creation_date":1549147389,"answer_id":54498229,"question_id":23565275,"body_markdown":"This is how to do it in android. Took awhile to figure out.  The documentation gives few examples[for this].\r\n\r\n     SpreadsheetProperties properties = new SpreadsheetProperties();\r\n            properties.setTitle(calendar.getTime().toString());\r\n\r\n            Spreadsheet requestBody = new Spreadsheet();\r\n\r\n            GridProperties gridProperties = new GridProperties();\r\n            gridProperties.setFrozenRowCount(2);\r\n\r\n            SheetProperties sheetProperties = new SheetProperties();\r\n            sheetProperties.setTitle(&quot;my new sheet&quot;);\r\n            sheetProperties.setGridProperties(gridProperties);\r\n            Sheet sheet = new Sheet();\r\n            sheet.setProperties(sheetProperties);\r\n            List&lt;Sheet&gt; sheets = new ArrayList&lt;&gt;();\r\n            sheets.add(sheet);\r\n            requestBody.setSheets(sheets);\r\n\r\n            requestBody.setProperties(properties);\r\n","title":"Freeze rows and set styles with Google spreadsheet API","body":"<p>This is how to do it in android. Took awhile to figure out.  The documentation gives few examples[for this].</p>\n\n<pre><code> SpreadsheetProperties properties = new SpreadsheetProperties();\n        properties.setTitle(calendar.getTime().toString());\n\n        Spreadsheet requestBody = new Spreadsheet();\n\n        GridProperties gridProperties = new GridProperties();\n        gridProperties.setFrozenRowCount(2);\n\n        SheetProperties sheetProperties = new SheetProperties();\n        sheetProperties.setTitle(\"my new sheet\");\n        sheetProperties.setGridProperties(gridProperties);\n        Sheet sheet = new Sheet();\n        sheet.setProperties(sheetProperties);\n        List&lt;Sheet&gt; sheets = new ArrayList&lt;&gt;();\n        sheets.add(sheet);\n        requestBody.setSheets(sheets);\n\n        requestBody.setProperties(properties);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670268339,"creation_date":1670268339,"answer_id":74693377,"question_id":23565275,"body_markdown":"Using the Sheets library, for some bizarre reason you need to set the fields also.  I get that behind the scenes it&#39;s making JSON, but it would seem obvious to me that if I set that property the Library should generate it.  So to make a long story short:\r\n\r\n```\r\nimport com.google.api.services.sheets.v4.Sheets;\r\nimport com.google.api.services.sheets.v4.model.*; \r\n\r\n//This creates a basic Filter, as an example for using batchUpdate.\r\nSetBasicFilterRequest setBasicFilterRequest = new SetBasicFilterRequest().setFilter(new BasicFilter()\r\n                    .setRange(new GridRange().setSheetId(sheetId).setStartRowIndex(0).setStartColumnIndex(0).setEndColumnIndex(headers.size()).setEndRowIndex(data.size())));\r\n\r\n//This is the frozen row request:\r\nUpdateSheetPropertiesRequest updateSheetPropertiesRequest = new UpdateSheetPropertiesRequest().setFields(&quot;gridProperties.frozenRowCount&quot;)\r\n                    .setProperties(new SheetProperties().setSheetId(sheetId)\r\n                    .setGridProperties(new GridProperties().setFrozenRowCount(1)));\r\n\r\nList&lt;Request&gt; requests = List.of(\r\n                    new Request().setSetBasicFilter(setBasicFilterRequest),\r\n                    new Request().setUpdateSheetProperties(updateSheetPropertiesRequest));\r\nBatchUpdateSpreadsheetRequest apiRequest = new BatchUpdateSpreadsheetRequest().setRequests(requests);\r\nYOUR_SHEETS_SERVICE.spreadsheets().batchUpdate(YOUR_WORKBOOK_ID, apiRequest ).execute();","title":"Freeze rows and set styles with Google spreadsheet API","body":"<p>Using the Sheets library, for some bizarre reason you need to set the fields also.  I get that behind the scenes it's making JSON, but it would seem obvious to me that if I set that property the Library should generate it.  So to make a long story short:</p>\n<pre><code>import com.google.api.services.sheets.v4.Sheets;\nimport com.google.api.services.sheets.v4.model.*; \n\n//This creates a basic Filter, as an example for using batchUpdate.\nSetBasicFilterRequest setBasicFilterRequest = new SetBasicFilterRequest().setFilter(new BasicFilter()\n                    .setRange(new GridRange().setSheetId(sheetId).setStartRowIndex(0).setStartColumnIndex(0).setEndColumnIndex(headers.size()).setEndRowIndex(data.size())));\n\n//This is the frozen row request:\nUpdateSheetPropertiesRequest updateSheetPropertiesRequest = new UpdateSheetPropertiesRequest().setFields(&quot;gridProperties.frozenRowCount&quot;)\n                    .setProperties(new SheetProperties().setSheetId(sheetId)\n                    .setGridProperties(new GridProperties().setFrozenRowCount(1)));\n\nList&lt;Request&gt; requests = List.of(\n                    new Request().setSetBasicFilter(setBasicFilterRequest),\n                    new Request().setUpdateSheetProperties(updateSheetPropertiesRequest));\nBatchUpdateSpreadsheetRequest apiRequest = new BatchUpdateSpreadsheetRequest().setRequests(requests);\nYOUR_SHEETS_SERVICE.spreadsheets().batchUpdate(YOUR_WORKBOOK_ID, apiRequest ).execute();\n</code></pre>\n"}],"owner":{"account_id":4040919,"reputation":143,"user_id":3323803,"display_name":"user3323803"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8102,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":38839341,"answer_count":4,"score":11,"last_activity_date":1670268339,"creation_date":1399640333,"question_id":23565275,"body_markdown":" If i scroll the spreadsheet ,header field of the rows are hidden and I need bold text format in the same spreadsheet.\r\n\r\n**Question**  \r\nCan I set the freeze rows and styles through the spreadsheet api - Is it possible?","title":"Freeze rows and set styles with Google spreadsheet API","body":"<p>If i scroll the spreadsheet ,header field of the rows are hidden and I need bold text format in the same spreadsheet.</p>\n\n<p><strong>Question</strong><br>\nCan I set the freeze rows and styles through the spreadsheet api - Is it possible?</p>\n"},{"tags":["java","datetime","java-11"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670266786,"post_id":74693076,"comment_id":131832135,"body_markdown":"Have a look at what `Comparable.compareTo` does [here](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Comparable.html#compareTo(T))","body":"Have a look at what <code>Comparable.compareTo</code> does <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670268077,"post_id":74693076,"comment_id":131832490,"body_markdown":"Depends on your precision requirements and on your database. Many database engines have got a `timestamp with time zone` with at least 6 decimals (microseconds) precision. On few (if any) platforms is the precision of `Instant.now()` finer than this, so it may satisfy your requirements. `Instant` itself has nanosecond precision (9 decimals), so if you require this and your database does not honour it, you will need to find another way. Storing the ISO 8601 string from `Instant.toString()` would be an option. You can recreate the `Instant` with full precision through `Instant.parse()`.","body":"Depends on your precision requirements and on your database. Many database engines have got a <code>timestamp with time zone</code> with at least 6 decimals (microseconds) precision. On few (if any) platforms is the precision of <code>Instant.now()</code> finer than this, so it may satisfy your requirements. <code>Instant</code> itself has nanosecond precision (9 decimals), so if you require this and your database does not honour it, you will need to find another way. Storing the ISO 8601 string from <code>Instant.toString()</code> would be an option. You can recreate the <code>Instant</code> with full precision through <code>Instant.parse()</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670269077,"post_id":74693076,"comment_id":131832789,"body_markdown":"Just in case you missed it (since noone else has mentioned it) you&#39;re printing the result of a *subtraction*","body":"Just in case you missed it (since noone else has mentioned it) you&#39;re printing the result of a <i>subtraction</i>"},{"owner":{"account_id":4990595,"reputation":31,"user_id":4012949,"display_name":"Eve"},"score":0,"creation_date":1670269560,"post_id":74693076,"comment_id":131832936,"body_markdown":"I just noticed that I expected an Instant, which wasn&#39;t what I meant - I expected to get 0 as I thought I&#39;d have to instants representing the same timestamp in UTC.","body":"I just noticed that I expected an Instant, which wasn&#39;t what I meant - I expected to get 0 as I thought I&#39;d have to instants representing the same timestamp in UTC."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670270021,"post_id":74693076,"comment_id":131833066,"body_markdown":"You&#39;re getting an `int`","body":"You&#39;re getting an <code>int</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1670270217,"post_id":74693076,"comment_id":131833131,"body_markdown":"@OleV.V. Windows (tested on Windows 11, probably on other versions too) has a 100ns resolution clock.","body":"@OleV.V. Windows (tested on Windows 11, probably on other versions too) has a 100ns resolution clock."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670267308,"creation_date":1670267308,"answer_id":74693225,"question_id":74693076,"body_markdown":"`Instant` may represent an instant in time with greater than millisecond precision.\r\n\r\nThe [`Instant.toEpochMilli()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toEpochMilli()) has this note:\r\n\r\n&gt; If this instant has greater than millisecond precision, then the conversion will drop any excess precision information as though the amount in nanoseconds was subject to integer division by one million.\r\n\r\nThe result of `Instant.ofEpochMilli(now.toEpochMilli())` however can never have greater than millisecond precision.","title":"Why does converting an instant to epoch milli and using these epoch millis for a new instant not lead to comparable Instants?","body":"<p><code>Instant</code> may represent an instant in time with greater than millisecond precision.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toEpochMilli()\" rel=\"nofollow noreferrer\"><code>Instant.toEpochMilli()</code></a> has this note:</p>\n<blockquote>\n<p>If this instant has greater than millisecond precision, then the conversion will drop any excess precision information as though the amount in nanoseconds was subject to integer division by one million.</p>\n</blockquote>\n<p>The result of <code>Instant.ofEpochMilli(now.toEpochMilli())</code> however can never have greater than millisecond precision.</p>\n"}],"owner":{"account_id":4990595,"reputation":31,"user_id":4012949,"display_name":"Eve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74693225,"answer_count":1,"score":1,"last_activity_date":1670267765,"creation_date":1670266470,"question_id":74693076,"body_markdown":"I was trying to save and restore timestamps in a database and stumbled upon this: Why does the second line not return 0?\r\n\r\n\r\n```\r\nInstant now = Instant.now();\r\nSystem.out.println(now.compareTo(Instant.ofEpochMilli(now.toEpochMilli())));\r\n```\r\n\r\nI was expecting to get an instant that would represent the same moment in UTC, but when comparing the two instants as strings, it can be seen that some digits are cut off. What would be the proper way to store an instant in a database?\r\n\r\nExample output from the above code:\r\n\r\n&gt; 897000\r\n\r\nOutput varies between runs but seems to be positive always, meaning that `now` is greater than `Instant.ofEpochMilli(now.toEpochMilli())`.","title":"Why does converting an instant to epoch milli and using these epoch millis for a new instant not lead to comparable Instants?","body":"<p>I was trying to save and restore timestamps in a database and stumbled upon this: Why does the second line not return 0?</p>\n<pre><code>Instant now = Instant.now();\nSystem.out.println(now.compareTo(Instant.ofEpochMilli(now.toEpochMilli())));\n</code></pre>\n<p>I was expecting to get an instant that would represent the same moment in UTC, but when comparing the two instants as strings, it can be seen that some digits are cut off. What would be the proper way to store an instant in a database?</p>\n<p>Example output from the above code:</p>\n<blockquote>\n<p>897000</p>\n</blockquote>\n<p>Output varies between runs but seems to be positive always, meaning that <code>now</code> is greater than <code>Instant.ofEpochMilli(now.toEpochMilli())</code>.</p>\n"},{"tags":["java","while-loop","integer"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670267605,"creation_date":1670262001,"answer_id":74692229,"question_id":74692137,"body_markdown":"Not sure this satisfies your requirements but a simple approach is as follows:\r\n\r\n        char c = &#39;!&#39;;\r\n        while (c &lt;= &#39;~&#39;) {\r\n           System.out.println((int)c+&quot; &quot;+c);\r\n           c++;\r\n        }\r\n\r\nThis assumes the unicode range (which a `char` is based on)  is consistent with ASCII which may or may not be true (I believe it is but codepoints are not my area of expertise).\r\n\r\nYou could use this as well to build a table - if you really need a table per requirements.\r\n\r\nAnd prints\r\n\r\n```\r\n33 !\r\n34 &quot;\r\n35 #\r\n36 $\r\n37 %\r\n38 &amp;\r\n39 &#39;\r\n40 (\r\n41 )\r\n42 *\r\n43 +\r\n44 ,\r\n45 -\r\n46 .\r\n47 /\r\n48 0\r\n49 1\r\n50 2\r\n51 3\r\n52 4\r\n53 5\r\n54 6\r\n55 7\r\n56 8\r\n57 9\r\n58 :\r\n59 ;\r\n60 &lt;\r\n61 =\r\n62 &gt;\r\n63 ?\r\n64 @\r\n65 A\r\n66 B\r\n67 C\r\n68 D\r\n69 E\r\n70 F\r\n71 G\r\n72 H\r\n73 I\r\n74 J\r\n75 K\r\n76 L\r\n77 M\r\n78 N\r\n79 O\r\n80 P\r\n81 Q\r\n82 R\r\n83 S\r\n84 T\r\n85 U\r\n86 V\r\n87 W\r\n88 X\r\n89 Y\r\n90 Z\r\n91 [\r\n92 \\\r\n93 ]\r\n94 ^\r\n95 _\r\n96 `\r\n97 a\r\n98 b\r\n99 c\r\n100 d\r\n101 e\r\n102 f\r\n103 g\r\n104 h\r\n105 i\r\n106 j\r\n107 k\r\n108 l\r\n109 m\r\n110 n\r\n111 o\r\n112 p\r\n113 q\r\n114 r\r\n115 s\r\n116 t\r\n117 u\r\n118 v\r\n119 w\r\n120 x\r\n121 y\r\n122 z\r\n123 {\r\n124 |\r\n125 }\r\n126 ~\r\n```\r\n","title":"Print ASCII question, asking to print all ASCII codes from 33 to 126","body":"<p>Not sure this satisfies your requirements but a simple approach is as follows:</p>\n<pre><code>    char c = '!';\n    while (c &lt;= '~') {\n       System.out.println((int)c+&quot; &quot;+c);\n       c++;\n    }\n</code></pre>\n<p>This assumes the unicode range (which a <code>char</code> is based on)  is consistent with ASCII which may or may not be true (I believe it is but codepoints are not my area of expertise).</p>\n<p>You could use this as well to build a table - if you really need a table per requirements.</p>\n<p>And prints</p>\n<pre><code>33 !\n34 &quot;\n35 #\n36 $\n37 %\n38 &amp;\n39 '\n40 (\n41 )\n42 *\n43 +\n44 ,\n45 -\n46 .\n47 /\n48 0\n49 1\n50 2\n51 3\n52 4\n53 5\n54 6\n55 7\n56 8\n57 9\n58 :\n59 ;\n60 &lt;\n61 =\n62 &gt;\n63 ?\n64 @\n65 A\n66 B\n67 C\n68 D\n69 E\n70 F\n71 G\n72 H\n73 I\n74 J\n75 K\n76 L\n77 M\n78 N\n79 O\n80 P\n81 Q\n82 R\n83 S\n84 T\n85 U\n86 V\n87 W\n88 X\n89 Y\n90 Z\n91 [\n92 \\\n93 ]\n94 ^\n95 _\n96 `\n97 a\n98 b\n99 c\n100 d\n101 e\n102 f\n103 g\n104 h\n105 i\n106 j\n107 k\n108 l\n109 m\n110 n\n111 o\n112 p\n113 q\n114 r\n115 s\n116 t\n117 u\n118 v\n119 w\n120 x\n121 y\n122 z\n123 {\n124 |\n125 }\n126 ~\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27155050,"reputation":31,"user_id":20694017,"display_name":"PDPS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670262320,"creation_date":1670262320,"answer_id":74692282,"question_id":74692137,"body_markdown":"maybe this is what you want:\r\n\r\n```java\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfor (int i=33; i&lt;=126; i+=1)\r\n\t\t{\r\n\t\t\tchar c = (char)i;\r\n\t\t\tSystem.out.println(i + &quot; --&gt; &quot; + c);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Print ASCII question, asking to print all ASCII codes from 33 to 126","body":"<p>maybe this is what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        \n        for (int i=33; i&lt;=126; i+=1)\n        {\n            char c = (char)i;\n            System.out.println(i + &quot; --&gt; &quot; + c);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670262823,"creation_date":1670262366,"answer_id":74692293,"question_id":74692137,"body_markdown":"You can cast int to char without any side effect if int value within char \r\nrange (from 0 up to  65 535) It means you can use smth like this:\r\n\r\n```\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint i = 33;\r\n\t\twhile (i &lt; 127) {\r\n\t\t\tSystem.out.println(&quot;char value is &quot; + ((char) i));\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```","title":"Print ASCII question, asking to print all ASCII codes from 33 to 126","body":"<p>You can cast int to char without any side effect if int value within char\nrange (from 0 up to  65 535) It means you can use smth like this:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        int i = 33;\n        while (i &lt; 127) {\n            System.out.println(&quot;char value is &quot; + ((char) i));\n            i++;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670263330,"creation_date":1670263330,"answer_id":74692476,"question_id":74692137,"body_markdown":"For the output you need (plus a bit of digit alignment)\r\n\r\n    for(int i = 33;i &lt;= 126;i++) {  \r\n       System.out.printf(&quot;%3d %c%n&quot;, i, (char)i);\r\n    }\r\n\r\n","title":"Print ASCII question, asking to print all ASCII codes from 33 to 126","body":"<p>For the output you need (plus a bit of digit alignment)</p>\n<pre><code>for(int i = 33;i &lt;= 126;i++) {  \n   System.out.printf(&quot;%3d %c%n&quot;, i, (char)i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1503703,"reputation":66,"user_id":1408092,"display_name":"ccdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670264340,"creation_date":1670264340,"answer_id":74692671,"question_id":74692137,"body_markdown":"If you have a char variable, all you need is a cast to int in order to print its ascii value, as in: \r\n\r\n    char a = &#39;A&#39;; \r\n    System.out.println((int) a);","title":"Print ASCII question, asking to print all ASCII codes from 33 to 126","body":"<p>If you have a char variable, all you need is a cast to int in order to print its ascii value, as in:</p>\n<pre><code>char a = 'A'; \nSystem.out.println((int) a);\n</code></pre>\n"}],"owner":{"account_id":27155166,"reputation":1,"user_id":20694113,"display_name":"David sundays"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1670267605,"creation_date":1670261445,"question_id":74692137,"body_markdown":"I am supposed to implement the method printAscii so that it uses a while loop to print the table of characters that are equivalent to the ASCII codes 33 to 126  What happens when if I were to cast an int value to char?\r\n\r\nHere is an example exucation of a full solution\r\n\r\nExample execution:\r\n\r\n33    !\r\n\r\n34    &quot;\r\n\r\n35    #\r\n\r\n36    $\r\n\r\n37    %\r\n\r\n38    &amp;\r\n\r\n. . .\r\n\r\n124    |\r\n\r\n125    }\r\n\r\n126    \\~\r\n\r\nIve been racking my head on getting this done for a while and havent gone very far\r\n\r\nI can for example design something that returns the value of a given number, but not printing the results in a while loop as is being asked\r\n\r\n```\r\npublic class PrintAsciiValueExample1 {\r\n    public static void main(String[] args) {\r\n        // character whose ASCII value to be found  \r\n        char ch1 = &#39;a&#39;;\r\n        char ch2 = &#39;b&#39;;\r\n        // variable that stores the integer value of the character  \r\n        int asciivalue1 = ch1;\r\n        int asciivalue2 = ch2;\r\n        System.out.println(&quot;The ASCII value of &quot; + ch1 + &quot; is: &quot; + asciivalue1);\r\n        System.out.println(&quot;The ASCII value of &quot; + ch2 + &quot; is: &quot; + asciivalue2);\r\n    }\r\n}\r\n```","title":"Print ASCII question, asking to print all ASCII codes from 33 to 126","body":"<p>I am supposed to implement the method printAscii so that it uses a while loop to print the table of characters that are equivalent to the ASCII codes 33 to 126  What happens when if I were to cast an int value to char?</p>\n<p>Here is an example exucation of a full solution</p>\n<p>Example execution:</p>\n<p>33    !</p>\n<p>34    &quot;</p>\n<p>35    #</p>\n<p>36    $</p>\n<p>37    %</p>\n<p>38    &amp;</p>\n<p>. . .</p>\n<p>124    |</p>\n<p>125    }</p>\n<p>126    ~</p>\n<p>Ive been racking my head on getting this done for a while and havent gone very far</p>\n<p>I can for example design something that returns the value of a given number, but not printing the results in a while loop as is being asked</p>\n<pre><code>public class PrintAsciiValueExample1 {\n    public static void main(String[] args) {\n        // character whose ASCII value to be found  \n        char ch1 = 'a';\n        char ch2 = 'b';\n        // variable that stores the integer value of the character  \n        int asciivalue1 = ch1;\n        int asciivalue2 = ch2;\n        System.out.println(&quot;The ASCII value of &quot; + ch1 + &quot; is: &quot; + asciivalue1);\n        System.out.println(&quot;The ASCII value of &quot; + ch2 + &quot; is: &quot; + asciivalue2);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"score":0,"creation_date":1670279683,"post_id":74693253,"comment_id":131835598,"body_markdown":"You should use the ViewPager: https://developer.android.com/guide/navigation/navigation-swipe-view","body":"You should use the ViewPager: <a href=\"https://developer.android.com/guide/navigation/navigation-swipe-view\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/navigation-swipe-view</a>"},{"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"score":0,"creation_date":1670339171,"post_id":74693253,"comment_id":131850631,"body_markdown":"Thanks for this link. It&#39;s helped me a lot and I have created my fragments in both swapping and on the tab. @Mieczkoni","body":"Thanks for this link. It&#39;s helped me a lot and I have created my fragments in both swapping and on the tab. @Mieczkoni"}],"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670267491,"creation_date":1670267491,"question_id":74693253,"body_markdown":"Is there any way to create transactions in fragments by sliding the screen as well as touching the fragments in android studio using java? Like in WhatsApp transactions can be done by touching chat, status, or call as well as it is done by sliding the screen left and right.","title":"Transection in Fragments in android studio using java","body":"<p>Is there any way to create transactions in fragments by sliding the screen as well as touching the fragments in android studio using java? Like in WhatsApp transactions can be done by touching chat, status, or call as well as it is done by sliding the screen left and right.</p>\n"},{"tags":["java","hash","overriding","hashtable"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1670088971,"post_id":74668731,"comment_id":131793945,"body_markdown":"Why exactly do you want to change the hash function? Your algorithm sounds like it will create lots of collisions and this hurts performace for any hash based structure.","body":"Why exactly do you want to change the hash function? Your algorithm sounds like it will create lots of collisions and this hurts performace for any hash based structure."}],"answers":[{"comments":[{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1675137821,"post_id":74668789,"comment_id":132859328,"body_markdown":"Well, yeah, you *can* do it. But it&#39;s a horrifically bad idea.","body":"Well, yeah, you <i>can</i> do it. But it&#39;s a horrifically bad idea."}],"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1670135555,"creation_date":1670086957,"answer_id":74668789,"question_id":74668731,"body_markdown":"Create a new class, and use `String` type field in it. For example:\r\n\r\n    public class MyString {\r\n        private final String value;\r\n\r\n        public MyString(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            MyString myString = (MyString) o;\r\n            return Objects.equals(value, myString.value);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            // use your own implementation\r\n            return value.codePoints().sum();\r\n        }\r\n    }\r\n \r\nAdd `equals()` and `hashCode()` methods with `@Override` annotation.\r\n**Note:** here `hashCode()` operates only with ASCII values.\r\n\r\nAfter that, you will be able to use new class objects in the desired data structure. [Here][1] you can find a detailed explanation of these methods and a contract between `equals()` and `hashCode()`.\r\n\r\n  [1]: https://stackoverflow.com/a/2741898/20666497","title":"How to implement own hashing function for strings?","body":"<p>Create a new class, and use <code>String</code> type field in it. For example:</p>\n<pre><code>public class MyString {\n    private final String value;\n\n    public MyString(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MyString myString = (MyString) o;\n        return Objects.equals(value, myString.value);\n    }\n\n    @Override\n    public int hashCode() {\n        // use your own implementation\n        return value.codePoints().sum();\n    }\n}\n</code></pre>\n<p>Add <code>equals()</code> and <code>hashCode()</code> methods with <code>@Override</code> annotation.\n<strong>Note:</strong> here <code>hashCode()</code> operates only with ASCII values.</p>\n<p>After that, you will be able to use new class objects in the desired data structure. <a href=\"https://stackoverflow.com/a/2741898/20666497\">Here</a> you can find a detailed explanation of these methods and a contract between <code>equals()</code> and <code>hashCode()</code>.</p>\n"},{"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670266947,"creation_date":1670266947,"answer_id":74693163,"question_id":74668731,"body_markdown":"&gt; However, I wanna use something different and much more simple like adding the ASCII values of each character and then adding them all up.\r\n\r\nThis is an extremely bad idea if you care at all about hash table efficiency. What you&#39;re thinking of as an overly-complicated hashing function is actually designed to give a uniform distribution of hash values throughout the entire 32-bit (or whatever) range. That gives the best possibility of uniformly distributing the hash keys (after you mod by the hash table size) in your buckets.\r\n\r\nYour simple method of adding up the ASCII values of the individual characters has multiple flaws. First, you&#39;re limited in the range of values you can reasonably expect to generate. The highest value you can create is `255*n`, where `n` is the length of the key. If your key is 10 characters in length, then you can&#39;t possibly generate more than 2,550 unique hash values. But there are 255^10 possible 10-character strings. Your collision rate will be very high.\r\n\r\nThe second problem is that anagrams generate the same hash value. &quot;stop,&quot; &quot;spot,&quot; and &quot;tops&quot; all generate the same hash value and will hash to the same bucket. Again, this will greatly affect your collision rate.\r\n\r\nIt&#39;s unclear to me why you want to replace the hashing function. If you&#39;re thinking it will result in better performance, you should think again. Sure, it will make generating the hash value faster, but it will result in very skewed key distribution, and correspondingly terrible hash table performance.","title":"How to implement own hashing function for strings?","body":"<blockquote>\n<p>However, I wanna use something different and much more simple like adding the ASCII values of each character and then adding them all up.</p>\n</blockquote>\n<p>This is an extremely bad idea if you care at all about hash table efficiency. What you're thinking of as an overly-complicated hashing function is actually designed to give a uniform distribution of hash values throughout the entire 32-bit (or whatever) range. That gives the best possibility of uniformly distributing the hash keys (after you mod by the hash table size) in your buckets.</p>\n<p>Your simple method of adding up the ASCII values of the individual characters has multiple flaws. First, you're limited in the range of values you can reasonably expect to generate. The highest value you can create is <code>255*n</code>, where <code>n</code> is the length of the key. If your key is 10 characters in length, then you can't possibly generate more than 2,550 unique hash values. But there are 255^10 possible 10-character strings. Your collision rate will be very high.</p>\n<p>The second problem is that anagrams generate the same hash value. &quot;stop,&quot; &quot;spot,&quot; and &quot;tops&quot; all generate the same hash value and will hash to the same bucket. Again, this will greatly affect your collision rate.</p>\n<p>It's unclear to me why you want to replace the hashing function. If you're thinking it will result in better performance, you should think again. Sure, it will make generating the hash value faster, but it will result in very skewed key distribution, and correspondingly terrible hash table performance.</p>\n"}],"owner":{"account_id":27134238,"reputation":21,"user_id":20675991,"display_name":"Nezrik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1670266947,"creation_date":1670086541,"question_id":74668731,"body_markdown":"So this is the default algorithm that generates the hashcode for Strings:\r\n\r\ns[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n\r\nHowever, I wanna use something different and much more simple like adding the ASCII values of each character and then adding them all up.\r\n\r\nHow do I make it so that it uses the algorithm I created, instead of using the default one when I use the put() method for hashtables?\r\n\r\nAs of now I don&#39;t know what to do other than implementing a hash table from scratch.","title":"How to implement own hashing function for strings?","body":"<p>So this is the default algorithm that generates the hashcode for Strings:</p>\n<p>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]</p>\n<p>However, I wanna use something different and much more simple like adding the ASCII values of each character and then adding them all up.</p>\n<p>How do I make it so that it uses the algorithm I created, instead of using the default one when I use the put() method for hashtables?</p>\n<p>As of now I don't know what to do other than implementing a hash table from scratch.</p>\n"},{"tags":["java","selenium","intellij-idea","configuration"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670267327,"post_id":74693157,"comment_id":131832307,"body_markdown":"Follow https://www.jetbrains.com/help/idea/selenium.html instead and use Maven for the dependencies management.","body":"Follow <a href=\"https://www.jetbrains.com/help/idea/selenium.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/selenium.html</a> instead and use Maven for the dependencies management."},{"owner":{"account_id":2435926,"reputation":21167,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"score":0,"creation_date":1670268941,"post_id":74693157,"comment_id":131832752,"body_markdown":"Oh that&#39;s actually the first thing that I tried @CrazyCoder, but I wasn&#39;t able to use it due to my Community edition (as I&#39;m unable to use IntelliJ IDEA Ultimate edition). Details at https://stackoverflow.com/questions/74691305/selenium-ui-automation-testing-plugin-in-intellij-idea","body":"Oh that&#39;s actually the first thing that I tried @CrazyCoder, but I wasn&#39;t able to use it due to my Community edition (as I&#39;m unable to use IntelliJ IDEA Ultimate edition). Details at <a href=\"https://stackoverflow.com/questions/74691305/selenium-ui-automation-testing-plugin-in-intellij-idea\" title=\"selenium ui automation testing plugin in intellij idea\">stackoverflow.com/questions/74691305/&hellip;</a>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670269038,"post_id":74693157,"comment_id":131832780,"body_markdown":"Use with IntelliJ IDEA Ultimate.","body":"Use with IntelliJ IDEA Ultimate."}],"owner":{"account_id":2435926,"reputation":21167,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670266917,"creation_date":1670266917,"question_id":74693157,"body_markdown":"I followed the very detailed [How to use IntelliJ IDE &amp; Selenium](https://www.h2kinfosys.com/blog/how-to-use-intellij-ide-selenium-webdriver/) word for word, but in the end I&#39;m still not be able to use Selenium, getting the errors of:\r\n\r\n`java: package org.openqa.selenium does not exist`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m wondering what else I&#39;m missing from such detailed how-to article (e.g., has the selenium java package been named differently since then?).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uc0oU.png\r\n  [2]: https://i.stack.imgur.com/85wj1.png","title":"How to use Selenium with IntelliJ IDE","body":"<p>I followed the very detailed <a href=\"https://www.h2kinfosys.com/blog/how-to-use-intellij-ide-selenium-webdriver/\" rel=\"nofollow noreferrer\">How to use IntelliJ IDE &amp; Selenium</a> word for word, but in the end I'm still not be able to use Selenium, getting the errors of:</p>\n<p><code>java: package org.openqa.selenium does not exist</code></p>\n<p><a href=\"https://i.stack.imgur.com/Uc0oU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uc0oU.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm wondering what else I'm missing from such detailed how-to article (e.g., has the selenium java package been named differently since then?).</p>\n<p><a href=\"https://i.stack.imgur.com/85wj1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85wj1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1670226401,"post_id":74684817,"comment_id":131818074,"body_markdown":"Don&#39;t use Date, there are far better DateTypes to use nowadays. If you want that output, you&#39;ll need to apply a formatter.","body":"Don&#39;t use Date, there are far better DateTypes to use nowadays. If you want that output, you&#39;ll need to apply a formatter."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1670263127,"creation_date":1670226671,"answer_id":74684862,"question_id":74684817,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nDefine a custom format to match your input and output.  \r\n\r\n    DateTimeFormatter f  = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ;\r\n\r\nParse input using that format. \r\n\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n\r\nAdd five days. Notice how these classes use immutable objects. We instantiate a second `LocalDate` object rather than mutate the original. \r\n\r\n    LocalDate fiveDaysLater = ld.plusDays( 5 ) ;\r\n\r\nGenerate text in your desired format. \r\n\r\n    String output = fiveDaysLater.format( f ) ;\r\n\r\n\r\n","title":"Add 5 days to a Date in Java","body":"<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Define a custom format to match your input and output.</p>\n<pre><code>DateTimeFormatter f  = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ;\n</code></pre>\n<p>Parse input using that format.</p>\n<pre><code>LocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>Add five days. Notice how these classes use immutable objects. We instantiate a second <code>LocalDate</code> object rather than mutate the original.</p>\n<pre><code>LocalDate fiveDaysLater = ld.plusDays( 5 ) ;\n</code></pre>\n<p>Generate text in your desired format.</p>\n<pre><code>String output = fiveDaysLater.format( f ) ;\n</code></pre>\n"}],"owner":{"account_id":24354244,"reputation":59,"user_id":18289688,"display_name":"Umar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670226668,"answer_count":1,"score":0,"last_activity_date":1670266118,"creation_date":1670226332,"question_id":74684817,"body_markdown":"i have a variable which gives me random dates in this format `&quot;dd/MM/yyyy&quot;.I want my code to add 5 days in this date like this.\r\n\r\n    05/12/2022 ---&gt; 10/12/2022\r\nThe code i found on internet is this \r\n\r\n    String stringDate=&quot;05/12/2022&quot;;\r\n    Date date1=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(stringDate);\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(date1);\r\n    cal.add(Calendar.DATE, 5);\r\n    Date dateWith5Days = cal.getTime();\r\n    System.out.println(dateWith5Days+&quot; is the date after adding 5 days.&quot;);\r\n\r\nOutput\r\n\r\n    Sat Dec 10 00:00:00 IST 2022 is the date after adding 5 days.\r\n\r\nExpected output\r\n\r\n    10/12/2022 is the date after adding 5 days.","title":"Add 5 days to a Date in Java","body":"<p>i have a variable which gives me random dates in this format `&quot;dd/MM/yyyy&quot;.I want my code to add 5 days in this date like this.</p>\n<pre><code>05/12/2022 ---&gt; 10/12/2022\n</code></pre>\n<p>The code i found on internet is this</p>\n<pre><code>String stringDate=&quot;05/12/2022&quot;;\nDate date1=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(stringDate);\nCalendar cal = Calendar.getInstance();\ncal.setTime(date1);\ncal.add(Calendar.DATE, 5);\nDate dateWith5Days = cal.getTime();\nSystem.out.println(dateWith5Days+&quot; is the date after adding 5 days.&quot;);\n</code></pre>\n<p>Output</p>\n<pre><code>Sat Dec 10 00:00:00 IST 2022 is the date after adding 5 days.\n</code></pre>\n<p>Expected output</p>\n<pre><code>10/12/2022 is the date after adding 5 days.\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1670264317,"post_id":74692624,"comment_id":131831376,"body_markdown":"looks like you have some syntax error in your `Sample.fxml` file","body":"looks like you have some syntax error in your <code>Sample.fxml</code> file"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1670264430,"post_id":74692624,"comment_id":131831409,"body_markdown":"Isn&#39;t the error message enough: &quot;ClassNotFoundException: application.SampleController&quot;? But you should also note that you should not use `..` in a resource path; it will fail when the application is deployed. See https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","body":"Isn&#39;t the error message enough: &quot;ClassNotFoundException: application.SampleController&quot;? But you should also note that you should not use <code>..</code> in a resource path; it will fail when the application is deployed. See <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a>"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1670264783,"post_id":74692624,"comment_id":131831505,"body_markdown":"Just some constructive feedback, but providing a project download drastically helps other reproduce the problem and can get answers quicker.   https://en.wikipedia.org/wiki/Minimal_reproducible_example","body":"Just some constructive feedback, but providing a project download drastically helps other reproduce the problem and can get answers quicker.   <a href=\"https://en.wikipedia.org/wiki/Minimal_reproducible_example\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Minimal_reproducible_example</a>"},{"owner":{"account_id":27154993,"reputation":3,"user_id":20693970,"display_name":"Nathh.png"},"score":0,"creation_date":1670269927,"post_id":74692624,"comment_id":131833043,"body_markdown":"Im kinda new to Java/JavaFX actually so im not really good at dealing with errors :&#39;D\nThanks for the feedback btw","body":"Im kinda new to Java/JavaFX actually so im not really good at dealing with errors :&#39;D Thanks for the feedback btw"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1670331149,"post_id":74692624,"comment_id":131847444,"body_markdown":"*&quot;I&#39;m not really good at dealing with errors.&quot;* Reading a [stack trace](https://stackoverflow.com/q/3988788/) is a fundamental Java skill. I really recommend being familiar with Java basics before attempting to use a moderately advanced library such as JavaFX.","body":"<i>&quot;I&#39;m not really good at dealing with errors.&quot;</i> Reading a <a href=\"https://stackoverflow.com/q/3988788/\">stack trace</a> is a fundamental Java skill. I really recommend being familiar with Java basics before attempting to use a moderately advanced library such as JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670265388,"creation_date":1670265388,"answer_id":74692868,"question_id":74692624,"body_markdown":"The new error is \r\n\r\n    ClassNotFoundException: application.SampleController\r\n\r\nwhich occurs when you try to load the FXML, specifically on line 5 of `Sample.fxml`.\r\n\r\nWhen you moved your controller class `SampleController` from the `application` package to the `application.controllers` package, you changed its fully-qualified class name. So you need to change the `fx:controller` attribute in the FXML file (on line 5) accordingly:\r\n\r\n    fx:controller=&quot;application.controllers.SampleController&quot;\r\n\r\nAs an aside, note that the resource path you are using for the FXML file is not valid, as `..` is not a valid resource name. It might work while you are still running the application from the file system, but will not work if you bundle it as a jar file. See https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","title":"JavaFX | I want to use different packages in a JavaFX project","body":"<p>The new error is</p>\n<pre><code>ClassNotFoundException: application.SampleController\n</code></pre>\n<p>which occurs when you try to load the FXML, specifically on line 5 of <code>Sample.fxml</code>.</p>\n<p>When you moved your controller class <code>SampleController</code> from the <code>application</code> package to the <code>application.controllers</code> package, you changed its fully-qualified class name. So you need to change the <code>fx:controller</code> attribute in the FXML file (on line 5) accordingly:</p>\n<pre><code>fx:controller=&quot;application.controllers.SampleController&quot;\n</code></pre>\n<p>As an aside, note that the resource path you are using for the FXML file is not valid, as <code>..</code> is not a valid resource name. It might work while you are still running the application from the file system, but will not work if you bundle it as a jar file. See <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a></p>\n"}],"owner":{"account_id":27154993,"reputation":3,"user_id":20693970,"display_name":"Nathh.png"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74692868,"answer_count":1,"score":0,"last_activity_date":1670265991,"creation_date":1670264043,"question_id":74692624,"body_markdown":"I tried creating a JavaFX project in Eclipse and as long as I didn&#39;t change the default file location everything worked fine.\r\n[This is the newly craeted project](https://i.stack.imgur.com/kIo7j.png)\r\n\r\nI want instead to put the SceneControllers in a different package from Main, and .fxml files in another package.\r\n\r\nI want it to become more like this\r\n[Expected folders](https://i.stack.imgur.com/O9WAw.png)\r\n\r\nBut when i run the app i get this error\r\n`\r\n```\r\njava.lang.NullPointerException: Location is required.\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\r\n\tat application.classes.Main.start(Main.java:14)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n`\r\n\r\nSo i tought the issue was to specify the location of the &quot;Sample.fxml&quot; file, and at line 14 wrote:\r\n`AnchorPane root = (AnchorPane)FXMLLoader.load(getClass().getResource(&quot;../Sample.fxml&quot;));`\r\n\r\nAnd got this error:\r\n`\r\n```\r\njavafx.fxml.LoadException: \r\n/C:/Users/ultra/eclipse-workspace/Shopping%20Online/bin/application/guifiles/Sample.fxml:5\r\n\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:933)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:981)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3331)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\r\n\tat application.classes.Main.start(Main.java:14)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ClassNotFoundException: application.SampleController\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:931)\r\n\t... 22 more\r\n\r\n```\r\n`\r\n","title":"JavaFX | I want to use different packages in a JavaFX project","body":"<p>I tried creating a JavaFX project in Eclipse and as long as I didn't change the default file location everything worked fine.\n<a href=\"https://i.stack.imgur.com/kIo7j.png\" rel=\"nofollow noreferrer\">This is the newly craeted project</a></p>\n<p>I want instead to put the SceneControllers in a different package from Main, and .fxml files in another package.</p>\n<p>I want it to become more like this\n<a href=\"https://i.stack.imgur.com/O9WAw.png\" rel=\"nofollow noreferrer\">Expected folders</a></p>\n<p>But when i run the app i get this error\n`</p>\n<pre><code>java.lang.NullPointerException: Location is required.\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\n    at application.classes.Main.start(Main.java:14)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>`</p>\n<p>So i tought the issue was to specify the location of the &quot;Sample.fxml&quot; file, and at line 14 wrote:\n<code>AnchorPane root = (AnchorPane)FXMLLoader.load(getClass().getResource(&quot;../Sample.fxml&quot;));</code></p>\n<p>And got this error:\n`</p>\n<pre><code>javafx.fxml.LoadException: \n/C:/Users/ultra/eclipse-workspace/Shopping%20Online/bin/application/guifiles/Sample.fxml:5\n\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:933)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:981)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3331)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\n    at application.classes.Main.start(Main.java:14)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassNotFoundException: application.SampleController\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:931)\n    ... 22 more\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","oop","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1668597834,"post_id":74454565,"comment_id":131442814,"body_markdown":"you can use a static variable to keep track of the last assigned item and combine that number with an offset for each subclass to generate your item id.","body":"you can use a static variable to keep track of the last assigned item and combine that number with an offset for each subclass to generate your item id."}],"answers":[{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670265750,"creation_date":1670262077,"answer_id":74692244,"question_id":74454565,"body_markdown":"You Item class is you top (abstract) class with 2 (abstract) subclasses: Payload and Flight\r\n\r\nItem must define an abstract method that will return the offset in each concrete subclass.\r\n\r\nPayload has 2 subclasses: Cargo and Person\r\n\r\nFlight has 2 subclasses: CommercialFlight and IndustrialFlight\r\n\r\nYou must store the last generated id in a static field and increase it by one before to append it to the offset defined for each concrete class.\r\n\r\nSee example below:\r\n\r\n    public abstract class Item {\r\n    \tprotected int id;\r\n    \tprotected static int lastGeneratedId = 0;\r\n    \r\n    \tprotected Item() {\r\n    \t\tlastGeneratedId++;\r\n    \t\tthis.id = 100000000 * getIdPrefix() + lastGeneratedId;\r\n    \t\tSystem.out.println(toString());\r\n    \t}\r\n    \r\n    \tprotected abstract int getIdPrefix();\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;New &quot; + getClass().getName() + &quot; created with id &quot; + id;\r\n    \t}\r\n    }\r\n\r\nThe two abstract sublasses:\r\n\r\n**Flight**\r\n\r\n    public abstract class Flight extends Item {\r\n    \r\n    \tpublic Flight() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Payload**\r\n\r\n    public abstract class Payload extends Item {\r\n    \r\n    \tpublic Payload() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd the concrete classes:\r\n\r\n**CommercialFlight** \r\n\r\n    public class CommercialFlight extends Flight {\r\n    \t\r\n    \tpublic CommercialFlight() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected  int getIdPrefix() {\r\n    \t\treturn 1;\r\n    \t}\r\n    }\r\n\r\n**IndustrialFlight**\r\n\r\n    public class IndustrialFlight extends Flight {\r\n    \t\r\n    \tpublic IndustrialFlight() {\r\n    \t\tsuper();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected  int getIdPrefix() {\r\n    \t\treturn 2;\r\n    \t}\r\n    }\r\n\r\n**Person**\r\n\r\n    public class Person extends Payload {\r\n    \t\r\n    \tpublic Person() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected  int getIdPrefix() {\r\n    \t\treturn 3;\r\n    \t}\r\n    }\r\n\r\n**Cargo**\r\n\r\n    public class Cargo extends Payload {\r\n    \t\r\n    \tpublic Cargo() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected  int getIdPrefix() {\r\n    \t\treturn 4;\r\n    \t}\r\n    }\r\n\r\nAnd a class to test all this:\r\n\r\n    public class ItemTester {   \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Cargo();\r\n    \t\tnew IndustrialFlight();\r\n    \t\tnew Cargo();\r\n    \t\tnew CommercialFlight();\r\n    \t\tnew IndustrialFlight();\r\n    \t\tnew Person();\r\n    \t\tnew Person();\r\n    \t}\r\n    }","title":"How do I code an ID number whose first digit changes depending on the subclass created?","body":"<p>You Item class is you top (abstract) class with 2 (abstract) subclasses: Payload and Flight</p>\n<p>Item must define an abstract method that will return the offset in each concrete subclass.</p>\n<p>Payload has 2 subclasses: Cargo and Person</p>\n<p>Flight has 2 subclasses: CommercialFlight and IndustrialFlight</p>\n<p>You must store the last generated id in a static field and increase it by one before to append it to the offset defined for each concrete class.</p>\n<p>See example below:</p>\n<pre><code>public abstract class Item {\n    protected int id;\n    protected static int lastGeneratedId = 0;\n\n    protected Item() {\n        lastGeneratedId++;\n        this.id = 100000000 * getIdPrefix() + lastGeneratedId;\n        System.out.println(toString());\n    }\n\n    protected abstract int getIdPrefix();\n\n    @Override\n    public String toString() {\n        return &quot;New &quot; + getClass().getName() + &quot; created with id &quot; + id;\n    }\n}\n</code></pre>\n<p>The two abstract sublasses:</p>\n<p><strong>Flight</strong></p>\n<pre><code>public abstract class Flight extends Item {\n\n    public Flight() {\n        super();\n    }\n    \n}\n</code></pre>\n<p><strong>Payload</strong></p>\n<pre><code>public abstract class Payload extends Item {\n\n    public Payload() {\n        super();\n    }\n    \n}\n</code></pre>\n<p>And the concrete classes:</p>\n<p><strong>CommercialFlight</strong></p>\n<pre><code>public class CommercialFlight extends Flight {\n    \n    public CommercialFlight() {\n        super();\n    }\n    \n    @Override\n    protected  int getIdPrefix() {\n        return 1;\n    }\n}\n</code></pre>\n<p><strong>IndustrialFlight</strong></p>\n<pre><code>public class IndustrialFlight extends Flight {\n    \n    public IndustrialFlight() {\n        super();\n        \n    }\n    \n    @Override\n    protected  int getIdPrefix() {\n        return 2;\n    }\n}\n</code></pre>\n<p><strong>Person</strong></p>\n<pre><code>public class Person extends Payload {\n    \n    public Person() {\n        super();\n    }\n    \n    @Override\n    protected  int getIdPrefix() {\n        return 3;\n    }\n}\n</code></pre>\n<p><strong>Cargo</strong></p>\n<pre><code>public class Cargo extends Payload {\n    \n    public Cargo() {\n        super();\n    }\n    \n    @Override\n    protected  int getIdPrefix() {\n        return 4;\n    }\n}\n</code></pre>\n<p>And a class to test all this:</p>\n<pre><code>public class ItemTester {   \n    public static void main(String[] args) {\n        new Cargo();\n        new IndustrialFlight();\n        new Cargo();\n        new CommercialFlight();\n        new IndustrialFlight();\n        new Person();\n        new Person();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12679230,"reputation":1,"user_id":9213644,"display_name":"Seyi Asoga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670265750,"creation_date":1668566835,"question_id":74454565,"body_markdown":"I&#39;m working on an assignment in my computer science course and I am stuck on a certain part where I&#39;m asked to generate ID numbers with specific rules and I am not sure how to go about it. Here are the exact instructions:\r\n\r\n\r\n**Phase 3: Item\r\nItems are used in the system as a superclass for both Flight and Payloads. All Items are issued a unique identifier \r\nwithin the system, for tracking. The rules for IDs are as follows:\r\n All ID numbers are 9 digits long\r\n The first digit changes based on the type of item\r\no Commercial Flights start with 1\r\no Industrial Flights start with 2\r\no Persons start with 3\r\no Cargo starts with 4\r\n The last 8 digits begin at 0 and increase by one for each item created\r\no That is, the first Item created will end in 0, the next will end in 1, and so on. Example: creating a\r\nCommercial flight would be issued id 100000000, then a Person would be issued 300000001\r\nrespectively.\r\nConsider where to add code in the hierarchy (Item, and its subclasses) to generate and store these IDs.**\r\n\r\n\r\n\r\nThis is the code I tried, the class Item and its constructor:\r\n\r\n```\r\n\r\n```\r\n    public abstract class Item {\r\n       protected int id;\r\n   \r\n       public Item() {\r\n             int commercialID = 100000000;\r\n             int industrialID = 200000000;\r\n          if( this instanceof Commercial){\r\n             id = commercialID;\r\n             commercialID++;\r\n      } else if (this instanceof Industrial) {\r\n         id = industrialID;\r\n         industrialID++;\r\n      }\r\n\r\n   }\r\n\r\n```\r\n\r\n```\r\nI also tried making the id variable static but that changed nothing\r\nHere are Commercial and Industrial too\r\n\r\n\r\n```\r\n\r\n```\r\n    public class Industrial extends Flight{\r\n\r\n        public Industrial(){\r\n            super();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    public class Commercial extends Flight{\r\n\r\n        public Commercial(){\r\n            super();\r\n\r\n        }\r\n    }\r\n\r\n```\r\n\r\n```\r\nThank you.\r\n","title":"How do I code an ID number whose first digit changes depending on the subclass created?","body":"<p>I'm working on an assignment in my computer science course and I am stuck on a certain part where I'm asked to generate ID numbers with specific rules and I am not sure how to go about it. Here are the exact instructions:</p>\n<p><strong>Phase 3: Item\nItems are used in the system as a superclass for both Flight and Payloads. All Items are issued a unique identifier\nwithin the system, for tracking. The rules for IDs are as follows:\n All ID numbers are 9 digits long\n The first digit changes based on the type of item\no Commercial Flights start with 1\no Industrial Flights start with 2\no Persons start with 3\no Cargo starts with 4\n The last 8 digits begin at 0 and increase by one for each item created\no That is, the first Item created will end in 0, the next will end in 1, and so on. Example: creating a\nCommercial flight would be issued id 100000000, then a Person would be issued 300000001\nrespectively.\nConsider where to add code in the hierarchy (Item, and its subclasses) to generate and store these IDs.</strong></p>\n<p>This is the code I tried, the class Item and its constructor:</p>\n<pre><code>\n</code></pre>\n<pre><code>public abstract class Item {\n   protected int id;\n\n   public Item() {\n         int commercialID = 100000000;\n         int industrialID = 200000000;\n      if( this instanceof Commercial){\n         id = commercialID;\n         commercialID++;\n  } else if (this instanceof Industrial) {\n     id = industrialID;\n     industrialID++;\n  }\n</code></pre>\n<p>}</p>\n<pre><code>\n</code></pre>\n<p>I also tried making the id variable static but that changed nothing\nHere are Commercial and Industrial too</p>\n<pre><code>\n</code></pre>\n<pre><code>public class Industrial extends Flight{\n\n    public Industrial(){\n        super();\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<pre><code>public class Commercial extends Flight{\n\n    public Commercial(){\n        super();\n\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","ubuntu","installation","upgrade","apt-get"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670266197,"post_id":74692918,"comment_id":131831918,"body_markdown":"Your package manager will tell you if there is an update available: `sudo apt update`","body":"Your package manager will tell you if there is an update available: <code>sudo apt update</code>"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1670274379,"post_id":74692918,"comment_id":131834244,"body_markdown":"@g00se when I run `sudo apt update` I get advice to run `apt list --upgradable`. This one lists packages. So that&#39;s it? Is there a way to list available versions or even browse?","body":"@g00se when I run <code>sudo apt update</code> I get advice to run <code>apt list --upgradable</code>. This one lists packages. So that&#39;s it? Is there a way to list available versions or even browse?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670281671,"post_id":74692918,"comment_id":131836032,"body_markdown":"Yes you can follow that advice. You can also look for others with `apt-cache openjdk`","body":"Yes you can follow that advice. You can also look for others with <code>apt-cache openjdk</code>"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1670335228,"post_id":74692918,"comment_id":131849009,"body_markdown":"@g00se yes yes yes, `apt-cache search openjdk` is the one! Thanks!","body":"@g00se yes yes yes, <code>apt-cache search openjdk</code> is the one! Thanks!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670339017,"post_id":74692918,"comment_id":131850561,"body_markdown":"Sorry I forgot the word &#39;search&#39; ;)","body":"Sorry I forgot the word &#39;search&#39; ;)"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670265636,"creation_date":1670265636,"question_id":74692918,"body_markdown":"I have Ununtu server with OpenJDK.\r\nWhen I check Java version from shell, I get this:\r\n\r\n    # java -version\r\n    openjdk version &quot;18.0.2-ea&quot; 2022-07-19\r\n    OpenJDK Runtime Environment (build 18.0.2-ea+9-Ubuntu-222.04)\r\n    OpenJDK 64-Bit Server VM (build 18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing)\r\n\r\nI don&#39;t know how to check is there any minor Java versions upgrades available (for example 18.0.5 or 18.1.0) which means not Java 19 or any other major versions.\r\n\r\nEvery attempt to search around for magic apt-get command ends with instructions on installing Java, not checking minor versions and upgrading minor versions.","title":"Checking Java minor version on Ubuntu server","body":"<p>I have Ununtu server with OpenJDK.\nWhen I check Java version from shell, I get this:</p>\n<pre><code># java -version\nopenjdk version &quot;18.0.2-ea&quot; 2022-07-19\nOpenJDK Runtime Environment (build 18.0.2-ea+9-Ubuntu-222.04)\nOpenJDK 64-Bit Server VM (build 18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing)\n</code></pre>\n<p>I don't know how to check is there any minor Java versions upgrades available (for example 18.0.5 or 18.1.0) which means not Java 19 or any other major versions.</p>\n<p>Every attempt to search around for magic apt-get command ends with instructions on installing Java, not checking minor versions and upgrading minor versions.</p>\n"},{"tags":["java","scheduled-tasks","quartz-scheduler"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425828405,"post_id":28928128,"comment_id":46112116,"body_markdown":"From http://quartz-scheduler.org/generated/2.2.1/html/qs-all/#page/Quartz_Scheduler_Documentation_Set%2Fco-use_jobs_and_triggers.html%23: *SimpleTrigger is handy if you need &#39;one-shot&#39; execution (just single execution of a job at a given moment in time), or if you need to fire a job at a given time, and have it repeat N times, with a delay of T between executions.\n*CronTrigger is useful if you wish to have triggering based on calendar-like schedules such as every Friday, at noon or at 10:15 on the 10th day of every month.*","body":"From <a href=\"http://quartz-scheduler.org/generated/2.2.1/html/qs-all/#page/Quartz_Scheduler_Documentation_Set%2Fco-use_jobs_and_triggers.html%23\" rel=\"nofollow noreferrer\">quartz-scheduler.org/generated/2.2.1/html/qs-all/#page/&hellip;</a>: <i>SimpleTrigger is handy if you need &#39;one-shot&#39; execution (just single execution of a job at a given moment in time), or if you need to fire a job at a given time, and have it repeat N times, with a delay of T between executions. *CronTrigger is useful if you wish to have triggering based on calendar-like schedules such as every Friday, at noon or at 10:15 on the 10th day of every month.</i>"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1425828456,"post_id":28928128,"comment_id":46112132,"body_markdown":"@JBNizet: OKKK...Any example plesae?","body":"@JBNizet: OKKK...Any example plesae?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425828517,"post_id":28928128,"comment_id":46112153,"body_markdown":"http://quartz-scheduler.org/api/2.2.0/org/quartz/CronScheduleBuilder.html Google is your friend. So is the documentation. I&#39;ve never used quartz before, and it took me 3 minutes to find it.","body":"<a href=\"http://quartz-scheduler.org/api/2.2.0/org/quartz/CronScheduleBuilder.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/api/2.2.0/org/quartz/&hellip;</a> Google is your friend. So is the documentation. I&#39;ve never used quartz before, and it took me 3 minutes to find it."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1425828697,"post_id":28928128,"comment_id":46112230,"body_markdown":"@JBNizet: Problem is not the sceduler. The way it should be scheduled. In MKYONG tutorial, he has given an example, but it seems like it is kind of expression I am not familiar with.","body":"@JBNizet: Problem is not the sceduler. The way it should be scheduled. In MKYONG tutorial, he has given an example, but it seems like it is kind of expression I am not familiar with."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425828827,"post_id":28928128,"comment_id":46112284,"body_markdown":"Have you read the documentation I linked to. It contains an example which uses `.withSchedule(dailyAtHourAndMinute(10, 0))`. You don&#39;t even need to read the javadoc to guess what that does.","body":"Have you read the documentation I linked to. It contains an example which uses <code>.withSchedule(dailyAtHourAndMinute(10, 0))</code>. You don&#39;t even need to read the javadoc to guess what that does."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1425829341,"post_id":28928128,"comment_id":46112450,"body_markdown":"@JBNizet: anyway, the hours are mentioned in 24 hour clock?","body":"@JBNizet: anyway, the hours are mentioned in 24 hour clock?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425829535,"post_id":28928128,"comment_id":46112530,"body_markdown":"http://quartz-scheduler.org/documentation/quartz-2.x/cookbook/DailyTrigger","body":"<a href=\"http://quartz-scheduler.org/documentation/quartz-2.x/cookbook/DailyTrigger\" rel=\"nofollow noreferrer\">quartz-scheduler.org/documentation/quartz-2.x/cookbook/&hellip;</a>"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1425831786,"post_id":28928128,"comment_id":46113360,"body_markdown":"@JBNizet: another question. In above example, we have directly called the class. But in servlets, you know, the calling class will be written separatly. so what we do there? Make the calling class a `ServletListener` so it will be invoked automatically?","body":"@JBNizet: another question. In above example, we have directly called the class. But in servlets, you know, the calling class will be written separatly. so what we do there? Make the calling class a <code>ServletListener</code> so it will be invoked automatically?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425831976,"post_id":28928128,"comment_id":46113423,"body_markdown":"If you want some code to be executed when the application is deployed, a ServletContextListener is the right tool.","body":"If you want some code to be executed when the application is deployed, a ServletContextListener is the right tool."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1425832203,"post_id":28928128,"comment_id":46113513,"body_markdown":"@JBNizet:Not when the app is deployed, but to run automatically (so yeah, something like run always), without our specific calling.","body":"@JBNizet:Not when the app is deployed, but to run automatically (so yeah, something like run always), without our specific calling."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425832277,"post_id":28928128,"comment_id":46113536,"body_markdown":"Err, how could code in an app run if the app is not deployed?","body":"Err, how could code in an app run if the app is not deployed?"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1425833966,"post_id":28928128,"comment_id":46114237,"body_markdown":"@JBNizet: I think I got your point. What you meant is that once the app is deployed, the listener will start working from that time onwards right? I got it another way, I thought only as soon as the app is deployed then the listener stops.","body":"@JBNizet: I think I got your point. What you meant is that once the app is deployed, the listener will start working from that time onwards right? I got it another way, I thought only as soon as the app is deployed then the listener stops."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425834170,"post_id":28928128,"comment_id":46114314,"body_markdown":"A listener doesn&#39;t *run* or *stop*. Its `contextInitialized()` method is called when the application is deployed, and its `contextDestroyed()` method is called when the application is undeployed. You decide what to do in both cases. And in this case, the `contextInitialized()` method would create a schedule a job and start the scheduler.","body":"A listener doesn&#39;t <i>run</i> or <i>stop</i>. Its <code>contextInitialized()</code> method is called when the application is deployed, and its <code>contextDestroyed()</code> method is called when the application is undeployed. You decide what to do in both cases. And in this case, the <code>contextInitialized()</code> method would create a schedule a job and start the scheduler."}],"answers":[{"tags":[],"owner":{"account_id":2067520,"reputation":2396,"user_id":1842759,"display_name":"Marlon Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425828859,"creation_date":1425828859,"answer_id":28928232,"question_id":28928128,"body_markdown":"Try create a schedule with Cron:\r\n\r\n\t\tTrigger trigger = TriggerBuilder\r\n\t\t\t\t.newTrigger()\r\n\t\t\t\t.withIdentity(&quot;triggerName&quot;,&quot;triggerGroup&quot;)\r\n               .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 12 * * ?&quot;)).build();\r\n\r\n\t\tTrigger trigger = TriggerBuilder\r\n\t\t\t\t.newTrigger()\r\n\t\t\t\t.withIdentity(&quot;triggerName&quot;,&quot;triggerGroup&quot;)\r\n               .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 8 * * ?&quot;)).build();\r\n","title":"Schedule a task to run at everyday on a specific time","body":"<p>Try create a schedule with Cron:</p>\n\n<pre><code>    Trigger trigger = TriggerBuilder\n            .newTrigger()\n            .withIdentity(\"triggerName\",\"triggerGroup\")\n           .withSchedule(CronScheduleBuilder.cronSchedule(\"0 0 12 * * ?\")).build();\n\n    Trigger trigger = TriggerBuilder\n            .newTrigger()\n            .withIdentity(\"triggerName\",\"triggerGroup\")\n           .withSchedule(CronScheduleBuilder.cronSchedule(\"0 0 8 * * ?\")).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5311389,"reputation":1,"user_id":4237571,"display_name":"Mistr Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508340437,"creation_date":1508340437,"answer_id":46813857,"question_id":28928128,"body_markdown":"    Trigger trigger = TriggerBuilder\r\n                .newTrigger()\r\n                .withIdentity(&quot;triggerName&quot;,&quot;triggerGroup&quot;)\r\n               .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 30 12 * * ?&quot;)).build(); //schedules a job for 12:30am\r\n    \r\n        Trigger trigger = TriggerBuilder\r\n                .newTrigger()\r\n                .withIdentity(&quot;triggerName&quot;,&quot;triggerGroup&quot;)\r\n               .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 14 * * ?&quot;)).build(); //schedules a job for 2pm\r\n\r\n\r\nUse this site for great information on scheduling:\r\nhttp://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html\r\n","title":"Schedule a task to run at everyday on a specific time","body":"<pre><code>Trigger trigger = TriggerBuilder\n            .newTrigger()\n            .withIdentity(\"triggerName\",\"triggerGroup\")\n           .withSchedule(CronScheduleBuilder.cronSchedule(\"0 30 12 * * ?\")).build(); //schedules a job for 12:30am\n\n    Trigger trigger = TriggerBuilder\n            .newTrigger()\n            .withIdentity(\"triggerName\",\"triggerGroup\")\n           .withSchedule(CronScheduleBuilder.cronSchedule(\"0 0 14 * * ?\")).build(); //schedules a job for 2pm\n</code></pre>\n\n<p>Use this site for great information on scheduling:\n<a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html</a></p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1670237079,"post_id":74684406,"comment_id":131821506,"body_markdown":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}],"tags":[],"owner":{"account_id":942594,"reputation":4855,"user_id":970404,"accept_rate":56,"display_name":"ar.gorgin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670265586,"creation_date":1670223662,"answer_id":74684406,"question_id":28928128,"body_markdown":"```\r\nITrigger trigger = TriggerBuilder.Create()\r\n  .WithIdentity(&quot;reportTrigger&quot;).WithSchedule(CronScheduleBuilder.DailyAtHourAndMinute(23,0)).Build();\r\n```","title":"Schedule a task to run at everyday on a specific time","body":"<pre><code>ITrigger trigger = TriggerBuilder.Create()\n  .WithIdentity(&quot;reportTrigger&quot;).WithSchedule(CronScheduleBuilder.DailyAtHourAndMinute(23,0)).Build();\n</code></pre>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670265586,"creation_date":1425828202,"question_id":28928128,"body_markdown":"I am trying to execute specific work in my Servlet/JSP application in everyday at 8.00AM and 12.00 PM. The Quartz library seems to be ideal for this, so I tried using it.\r\n\r\nI used both of the tutorials and examples in below links.\r\n\r\nhttp://www.mkyong.com/java/quartz-2-scheduler-tutorial/\r\n\r\nhttp://www.javacodegeeks.com/2012/07/quartz-2-scheduler-example.html\r\n\r\nBelow is an attempt\r\n\r\n**Job class**\r\n\r\n    import org.quartz.Job;\r\n    import org.quartz.JobExecutionContext;\r\n    import org.quartz.JobExecutionException;\r\n     \r\n    public class HelloJob implements Job\r\n    {\r\n    \tpublic void execute(JobExecutionContext context)\r\n    \tthrows JobExecutionException {\r\n     \r\n    \t\tSystem.out.println(&quot;Hello Quartz!&quot;);\t\r\n     \r\n    \t}\r\n     \r\n    }\r\n\r\n**Trigger class**\r\n\r\n    import org.quartz.JobBuilder;\r\n    import org.quartz.JobDetail;\r\n    import org.quartz.Scheduler;\r\n    import org.quartz.SimpleScheduleBuilder;\r\n    import org.quartz.Trigger;\r\n    import org.quartz.TriggerBuilder;\r\n    import org.quartz.impl.StdSchedulerFactory;\r\n     \r\n    public class SimpleTriggerExample {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n     \r\n    \t\t\r\n     \r\n    \t\tJobDetail job = JobBuilder.newJob(HelloJob.class)\r\n    \t\t\t.withIdentity(&quot;dummyJobName&quot;, &quot;group1&quot;).build();\r\n     \r\n                 \r\n     \r\n    \t\t// Trigger the job to run on the next round minute\r\n    \t\tTrigger trigger = TriggerBuilder\r\n    \t\t\t.newTrigger()\r\n    \t\t\t.withIdentity(&quot;dummyTriggerName&quot;, &quot;group1&quot;)\r\n    \t\t\t.withSchedule(\r\n    \t\t\t\tSimpleScheduleBuilder.simpleSchedule()\r\n    \t\t\t\t\t.withIntervalInSeconds(5).repeatForever())\r\n    \t\t\t.build();\r\n     \r\n    \t\t// schedule it\r\n    \t\tScheduler scheduler = new StdSchedulerFactory().getScheduler();\r\n    \t\tscheduler.start();\r\n    \t\tscheduler.scheduleJob(job, trigger);\r\n     \r\n    \t}\r\n    }\r\n\r\nHowever, both are not satisfying my need. They do not run at specific time. How can I use the Quarts to execute the job everyday 8.00AM and 12.00 PM?","title":"Schedule a task to run at everyday on a specific time","body":"<p>I am trying to execute specific work in my Servlet/JSP application in everyday at 8.00AM and 12.00 PM. The Quartz library seems to be ideal for this, so I tried using it.</p>\n\n<p>I used both of the tutorials and examples in below links.</p>\n\n<p><a href=\"http://www.mkyong.com/java/quartz-2-scheduler-tutorial/\" rel=\"nofollow\">http://www.mkyong.com/java/quartz-2-scheduler-tutorial/</a></p>\n\n<p><a href=\"http://www.javacodegeeks.com/2012/07/quartz-2-scheduler-example.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2012/07/quartz-2-scheduler-example.html</a></p>\n\n<p>Below is an attempt</p>\n\n<p><strong>Job class</strong></p>\n\n<pre><code>import org.quartz.Job;\nimport org.quartz.JobExecutionContext;\nimport org.quartz.JobExecutionException;\n\npublic class HelloJob implements Job\n{\n    public void execute(JobExecutionContext context)\n    throws JobExecutionException {\n\n        System.out.println(\"Hello Quartz!\");    \n\n    }\n\n}\n</code></pre>\n\n<p><strong>Trigger class</strong></p>\n\n<pre><code>import org.quartz.JobBuilder;\nimport org.quartz.JobDetail;\nimport org.quartz.Scheduler;\nimport org.quartz.SimpleScheduleBuilder;\nimport org.quartz.Trigger;\nimport org.quartz.TriggerBuilder;\nimport org.quartz.impl.StdSchedulerFactory;\n\npublic class SimpleTriggerExample {\n    public static void main(String[] args) throws Exception {\n\n\n\n        JobDetail job = JobBuilder.newJob(HelloJob.class)\n            .withIdentity(\"dummyJobName\", \"group1\").build();\n\n\n\n        // Trigger the job to run on the next round minute\n        Trigger trigger = TriggerBuilder\n            .newTrigger()\n            .withIdentity(\"dummyTriggerName\", \"group1\")\n            .withSchedule(\n                SimpleScheduleBuilder.simpleSchedule()\n                    .withIntervalInSeconds(5).repeatForever())\n            .build();\n\n        // schedule it\n        Scheduler scheduler = new StdSchedulerFactory().getScheduler();\n        scheduler.start();\n        scheduler.scheduleJob(job, trigger);\n\n    }\n}\n</code></pre>\n\n<p>However, both are not satisfying my need. They do not run at specific time. How can I use the Quarts to execute the job everyday 8.00AM and 12.00 PM?</p>\n"},{"tags":["java","spring","jaxb"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1670253439,"post_id":74688774,"comment_id":131827440,"body_markdown":"Please don&#39;t delete questions only to repost them with more information. Edit your existing question instead next time. Now, what does the API *actually expect*? Are you sure you want &quot;Unicode&quot; as the encoding? (I&#39;d expect UTF-8 to be more common.) Have you looked with Wireshark or something similar at what&#39;s *actually being posted*? My guess is that your XML string is being escaped as JSON...","body":"Please don&#39;t delete questions only to repost them with more information. Edit your existing question instead next time. Now, what does the API <i>actually expect</i>? Are you sure you want &quot;Unicode&quot; as the encoding? (I&#39;d expect UTF-8 to be more common.) Have you looked with Wireshark or something similar at what&#39;s <i>actually being posted</i>? My guess is that your XML string is being escaped as JSON..."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1670253488,"post_id":74688774,"comment_id":131827454,"body_markdown":"&quot;Based on the error message it looks like i need to escape the double quote.&quot; - No, based on the error message you&#39;re *sending* a double-quote, when the server is actually *expecting* a `&lt;` as the start of the XML. That&#39;s why I&#39;ve suggested you should see what&#39;s actually being sent on the wire.","body":"&quot;Based on the error message it looks like i need to escape the double quote.&quot; - No, based on the error message you&#39;re <i>sending</i> a double-quote, when the server is actually <i>expecting</i> a <code>&lt;</code> as the start of the XML. That&#39;s why I&#39;ve suggested you should see what&#39;s actually being sent on the wire."}],"answers":[{"comments":[{"owner":{"account_id":2272389,"reputation":1347,"user_id":1999453,"accept_rate":67,"display_name":"user1999453"},"score":0,"creation_date":1670256958,"post_id":74688890,"comment_id":131828826,"body_markdown":"Hi I have  tried it but got same error msg","body":"Hi I have  tried it but got same error msg"}],"tags":[],"owner":{"account_id":13121735,"reputation":1877,"user_id":9478932,"display_name":"Benkerroum Mohamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670246529,"creation_date":1670246529,"answer_id":74688890,"question_id":74688774,"body_markdown":"Try using StringEscapeUtils.escapeXml() like the following :\r\n\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(StringEscapeUtils.escapeXml(xmlContent), headers);","title":"how to escape double quote in xml String generated by jaxb","body":"<p>Try using StringEscapeUtils.escapeXml() like the following :</p>\n<pre><code>HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(StringEscapeUtils.escapeXml(xmlContent), headers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2272389,"reputation":1347,"user_id":1999453,"accept_rate":67,"display_name":"user1999453"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670265484,"creation_date":1670265484,"answer_id":74692890,"question_id":74688774,"body_markdown":"I manage to fix the issue by changing the following code:\r\nremove this:\r\n \r\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n\r\nAdded this:\r\n\r\n     messageConverters.add(new StringHttpMessageConverter());\r\n\r\nAnd instead of casting the object to Folder I have used String:\r\n\r\n         ResponseEntity&lt;String&gt; response = restTemplate1.postForEntity(&quot;http://localhost:8080/OpenKM/services/rest/folder/create&quot;, request, String.class);\r\n    \r\nThe complete code is as follows:\r\n       \r\n\r\n \r\n\r\n    final RestTemplate restTemplate1 = new RestTemplate();\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n            messageConverters.add(new StringHttpMessageConverter());\r\n\r\n        restTemplate1.setMessageConverters(messageConverters);\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setBasicAuth(&quot;okmAdmin&quot;, &quot;admin&quot;);\r\n            headers.setContentType(MediaType.APPLICATION_XML);\r\n    \r\n    \r\n            JAXBContext context = null;\r\n            context = JAXBContext.newInstance(Folder.class);\r\n            Marshaller mar = null;\r\n            mar = context.createMarshaller();\r\n    \r\n            mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.FALSE);\r\n    \r\n            //Print XML String to Console\r\n            StringWriter sw = new StringWriter();\r\n    \r\n            Folder folder = new Folder();\r\n            folder.setPath(&quot;/okm:root/test23&quot;);\r\n    \r\n            //Write XML to StringWriter\r\n            mar.marshal(folder, sw);\r\n    \r\n    \r\n            HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(xmlString, headers);\r\n    \r\n    \r\n            ResponseEntity&lt;String&gt; response = restTemplate1.postForEntity(&quot;http://localhost:8080/OpenKM/services/rest/folder/create&quot;, request, String.class);\r\n    \r\n            System.out.println(response);\r\n    \r\n    \r\n        }\r\n\r\nI am adding this in case if someone else have the same issue.\r\n\r\nThanks","title":"how to escape double quote in xml String generated by jaxb","body":"<p>I manage to fix the issue by changing the following code:\nremove this:</p>\n<pre><code>MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n</code></pre>\n<p>Added this:</p>\n<pre><code> messageConverters.add(new StringHttpMessageConverter());\n</code></pre>\n<p>And instead of casting the object to Folder I have used String:</p>\n<pre><code>     ResponseEntity&lt;String&gt; response = restTemplate1.postForEntity(&quot;http://localhost:8080/OpenKM/services/rest/folder/create&quot;, request, String.class);\n</code></pre>\n<p>The complete code is as follows:</p>\n<pre><code>final RestTemplate restTemplate1 = new RestTemplate();\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n        messageConverters.add(new StringHttpMessageConverter());\n\n    restTemplate1.setMessageConverters(messageConverters);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setBasicAuth(&quot;okmAdmin&quot;, &quot;admin&quot;);\n        headers.setContentType(MediaType.APPLICATION_XML);\n\n\n        JAXBContext context = null;\n        context = JAXBContext.newInstance(Folder.class);\n        Marshaller mar = null;\n        mar = context.createMarshaller();\n\n        mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.FALSE);\n\n        //Print XML String to Console\n        StringWriter sw = new StringWriter();\n\n        Folder folder = new Folder();\n        folder.setPath(&quot;/okm:root/test23&quot;);\n\n        //Write XML to StringWriter\n        mar.marshal(folder, sw);\n\n\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(xmlString, headers);\n\n\n        ResponseEntity&lt;String&gt; response = restTemplate1.postForEntity(&quot;http://localhost:8080/OpenKM/services/rest/folder/create&quot;, request, String.class);\n\n        System.out.println(response);\n\n\n    }\n</code></pre>\n<p>I am adding this in case if someone else have the same issue.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":2272389,"reputation":1347,"user_id":1999453,"accept_rate":67,"display_name":"user1999453"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670265484,"creation_date":1670245969,"question_id":74688774,"body_markdown":"Basically I need to build an xml file and then submit the xml request to a restTemplate post action as follows:\r\n\r\n    final RestTemplate restTemplate1 = new RestTemplate();\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n            MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n            converter.setSupportedMediaTypes(Collections.singletonList(MediaType.APPLICATION_XML));\r\n            messageConverters.add(converter);\r\n            restTemplate1.setMessageConverters(messageConverters);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setBasicAuth(&quot;okmAdmin&quot;, &quot;admin&quot;);\r\n        headers.setContentType(MediaType.APPLICATION_XML);\r\n\r\n\r\n        JAXBContext context = null;\r\n        context = JAXBContext.newInstance(Folder.class);\r\n        Marshaller mar = null;\r\n        mar = context.createMarshaller();\r\n        mar.setProperty(&quot;jaxb.encoding&quot;, &quot;Unicode&quot;);\r\n        mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.FALSE);\r\n\r\n        //Print XML String to Console\r\n        StringWriter sw = new StringWriter();\r\n\r\n        Folder folder = new Folder();\r\n        folder.setPath(&quot;/okm:root/test4&quot;);\r\n\r\n        //Write XML to StringWriter\r\n        mar.marshal(folder, sw);\r\n\r\n        String xmlContent = sw.toString();\r\n\r\n        System.out.println(xmlContent);\r\n\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(xmlContent, headers);\r\n\r\n        ResponseEntity&lt;Folder&gt; response = restTemplate1.postForEntity(&quot;http://localhost:8080/OpenKM/services/rest/folder/create&quot;, request, Folder.class);\r\n\r\n\r\nThe xml generated is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;Unicode&quot; standalone=&quot;yes&quot;?&gt;&lt;folder&gt;&lt;path&gt;/okm:root/test4&lt;/path&gt;&lt;permissions&gt;0&lt;/permissions&gt;&lt;subscribed&gt;false&lt;/subscribed&gt;&lt;hasChildren&gt;false&lt;/hasChildren&gt;&lt;style&gt;0&lt;/style&gt;&lt;/folder&gt;\r\n\r\nHowever when the xml is submitted by the resttemplate,I got the following errors:\r\n\r\n    2022-12-05 16:50:21.121 ERROR 15764 --- [nio-8082-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$BadRequest: 400 : &quot;JAXBException occurred : Unexpected character &#39;&quot;&#39; (code 34) in prolog; expected &#39;&lt;&#39;&lt;EOL&gt; at [row,col {unknown-source}]: [1,1]. &quot;] with root cause\r\n\r\n\r\nBased on the error message it looks like i need to escape the double quote.\r\n\r\nHow can I escape it pls?\r\n","title":"how to escape double quote in xml String generated by jaxb","body":"<p>Basically I need to build an xml file and then submit the xml request to a restTemplate post action as follows:</p>\n<pre><code>final RestTemplate restTemplate1 = new RestTemplate();\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.APPLICATION_XML));\n        messageConverters.add(converter);\n        restTemplate1.setMessageConverters(messageConverters);\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBasicAuth(&quot;okmAdmin&quot;, &quot;admin&quot;);\n    headers.setContentType(MediaType.APPLICATION_XML);\n\n\n    JAXBContext context = null;\n    context = JAXBContext.newInstance(Folder.class);\n    Marshaller mar = null;\n    mar = context.createMarshaller();\n    mar.setProperty(&quot;jaxb.encoding&quot;, &quot;Unicode&quot;);\n    mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.FALSE);\n\n    //Print XML String to Console\n    StringWriter sw = new StringWriter();\n\n    Folder folder = new Folder();\n    folder.setPath(&quot;/okm:root/test4&quot;);\n\n    //Write XML to StringWriter\n    mar.marshal(folder, sw);\n\n    String xmlContent = sw.toString();\n\n    System.out.println(xmlContent);\n\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(xmlContent, headers);\n\n    ResponseEntity&lt;Folder&gt; response = restTemplate1.postForEntity(&quot;http://localhost:8080/OpenKM/services/rest/folder/create&quot;, request, Folder.class);\n</code></pre>\n<p>The xml generated is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;Unicode&quot; standalone=&quot;yes&quot;?&gt;&lt;folder&gt;&lt;path&gt;/okm:root/test4&lt;/path&gt;&lt;permissions&gt;0&lt;/permissions&gt;&lt;subscribed&gt;false&lt;/subscribed&gt;&lt;hasChildren&gt;false&lt;/hasChildren&gt;&lt;style&gt;0&lt;/style&gt;&lt;/folder&gt;\n</code></pre>\n<p>However when the xml is submitted by the resttemplate,I got the following errors:</p>\n<pre><code>2022-12-05 16:50:21.121 ERROR 15764 --- [nio-8082-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$BadRequest: 400 : &quot;JAXBException occurred : Unexpected character '&quot;' (code 34) in prolog; expected '&lt;'&lt;EOL&gt; at [row,col {unknown-source}]: [1,1]. &quot;] with root cause\n</code></pre>\n<p>Based on the error message it looks like i need to escape the double quote.</p>\n<p>How can I escape it pls?</p>\n"},{"tags":["java","angular","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1669615972,"post_id":74569409,"comment_id":131673687,"body_markdown":"Might this be a duplicate of https://stackoverflow.com/questions/43913753/spring-boot-with-redirecting-with-single-page-angular2 ?","body":"Might this be a duplicate of <a href=\"https://stackoverflow.com/questions/43913753/spring-boot-with-redirecting-with-single-page-angular2\" title=\"spring boot with redirecting with single page angular2\">stackoverflow.com/questions/43913753/&hellip;</a> ?"},{"owner":{"account_id":7494433,"reputation":11966,"user_id":5695162,"accept_rate":50,"display_name":"Vikas"},"score":0,"creation_date":1669719317,"post_id":74569409,"comment_id":131701523,"body_markdown":"Could you try with hashLocation strategy `RouterModule.forRoot(routes, {useHash: true})` let me know if it works or not? `{useHash: true}` in router module","body":"Could you try with hashLocation strategy <code>RouterModule.forRoot(routes, {useHash: true})</code> let me know if it works or not? <code>{useHash: true}</code> in router module"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1669784892,"post_id":74569409,"comment_id":131719358,"body_markdown":"@Vikas, it could not work","body":"@Vikas, it could not work"},{"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"score":0,"creation_date":1669789165,"post_id":74569409,"comment_id":131720114,"body_markdown":"just my guessing try forward:/index.html this will forward to ur page has server side rendering and preserve things if it doesn&#39;t work you might need to overwrite WebMvcConfigurer im quite sure it default to jsp resolver dispatcher might be the reason you get that circular view path.  Just my 2 cents guessing","body":"just my guessing try forward:/index.html this will forward to ur page has server side rendering and preserve things if it doesn&#39;t work you might need to overwrite WebMvcConfigurer im quite sure it default to jsp resolver dispatcher might be the reason you get that circular view path.  Just my 2 cents guessing"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1669789696,"post_id":74569409,"comment_id":131720235,"body_markdown":"@DarkVision, Sorry, I could not get you fully. Could you please write a separate answer by taking an example?","body":"@DarkVision, Sorry, I could not get you fully. Could you please write a separate answer by taking an example?"}],"answers":[{"tags":[],"owner":{"account_id":2357554,"reputation":29515,"user_id":2065039,"accept_rate":89,"display_name":"Guruprasad J Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811219,"creation_date":1669811219,"answer_id":74627781,"question_id":74569409,"body_markdown":"We had this situation of page refresh for `Angular` and `Springboot` and we resolved this by adding the below Configuration class extending `WebMvcConfigurerAdapter`\r\n\r\n    @Configuration\r\n    public class WebMvcConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/**/*&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                    .resourceChain(true)\r\n                    .addResolver(new PathResourceResolver() {\r\n                        @Override\r\n                        protected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n                            Resource requestedResource = location.createRelative(resourcePath);\r\n                            return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\r\n                                : new ClassPathResource(&quot;/static/index.html&quot;);\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nSo basically, we are telling `Springboot` that if we have the resource, use the same if not then redirect it to `index.html`.\r\n\r\nNow, to handle the path in `Angular`, it depends on how you would have written your `routes`. If the path is available, you show the page, if not, display 404 page.\r\n\r\nHope this helps.\r\n\r\n**Update 1:**\r\n\r\n`WebMvcConfigurerAdapter` is deprecated. If this causes any trouble, then instead of extending the class `WebMvcConfigurerAdapter`, you can `implement WebMvcConfigurer`","title":"Spring Boot 2.7.5 + Angular 15 as a single war","body":"<p>We had this situation of page refresh for <code>Angular</code> and <code>Springboot</code> and we resolved this by adding the below Configuration class extending <code>WebMvcConfigurerAdapter</code></p>\n<pre><code>@Configuration\npublic class WebMvcConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**/*&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;)\n                .resourceChain(true)\n                .addResolver(new PathResourceResolver() {\n                    @Override\n                    protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                        Resource requestedResource = location.createRelative(resourcePath);\n                        return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\n                            : new ClassPathResource(&quot;/static/index.html&quot;);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>So basically, we are telling <code>Springboot</code> that if we have the resource, use the same if not then redirect it to <code>index.html</code>.</p>\n<p>Now, to handle the path in <code>Angular</code>, it depends on how you would have written your <code>routes</code>. If the path is available, you show the page, if not, display 404 page.</p>\n<p>Hope this helps.</p>\n<p><strong>Update 1:</strong></p>\n<p><code>WebMvcConfigurerAdapter</code> is deprecated. If this causes any trouble, then instead of extending the class <code>WebMvcConfigurerAdapter</code>, you can <code>implement WebMvcConfigurer</code></p>\n"},{"tags":[],"owner":{"account_id":13694822,"reputation":76,"user_id":9881789,"display_name":"Prakash Pokharel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669998528,"creation_date":1669998528,"answer_id":74658777,"question_id":74569409,"body_markdown":"If you see the whitelabel error says that &quot;**this application has no explicit mapping for /error**&quot;.\r\n\r\nThat means if no path is matched with the paths that are defined in controller mappings, it forwards the request to &quot;/error&quot; route. So we can override this default behaviour.\r\n\r\nSpring provides **ErrorController** interface to override this functionality\r\n\r\n```\r\nimport org.springframework.boot.web.servlet.error.ErrorController;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class CustomErrorController implements ErrorController {\r\n\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String handleError() {\r\n        return &quot;forward:/&quot;;\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot 2.7.5 + Angular 15 as a single war","body":"<p>If you see the whitelabel error says that &quot;<strong>this application has no explicit mapping for /error</strong>&quot;.</p>\n<p>That means if no path is matched with the paths that are defined in controller mappings, it forwards the request to &quot;/error&quot; route. So we can override this default behaviour.</p>\n<p>Spring provides <strong>ErrorController</strong> interface to override this functionality</p>\n<pre><code>import org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class CustomErrorController implements ErrorController {\n\n    @RequestMapping(&quot;/error&quot;)\n    public String handleError() {\n        return &quot;forward:/&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670265364,"creation_date":1669360885,"question_id":74569409,"body_markdown":"I&#39;m working on a full-stack app having spring boot v2.7.5 as the backend and Angular v15 as the front end. I use IntelliJ IDEA IDE for development. Locally, spring boot runs on http://localhost:8080 and angular runs on http://localhost:4200. I use Gradle to build the project a single war file and which would be deployed on an external tomcat server. \r\n\r\nFollowing is the project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have 3 build.gradle files, 1 for frontend , 1 for backend, and 1 for global. When I run the global build.gradle file, it would call call build.gradle from fronend folder which builds angular project and copies all the build files and put them into **backend/src/main/resources/static** folder. Next, build.gradle from the backend gets called which would build the final war file to be deployed on the external tomcat server.\r\n\r\nThe reason I&#39;m putting frontend build files (index.html, some .js files) into **backend/src/main/resources/static** is the fact that Spring Boot Serves static content from that location. [more details][2] .\r\n\r\nSo the static directory looks like this after adding frontend build files:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen I try to access http://localhost:8080, it loads index.html from the static folder. \r\n[![enter image description here][4]][4]\r\n\r\nSo far it is good. When I click the login button, internally it calls the backend API and moves to the next page (home page i.e., http://localhost:8080/fe/appInstances). \r\n\r\n[![enter image description here][5]][5]\r\n\r\nNow if I refresh the page, it gives me the following 404 Whitelabel Error Page.\r\n[![enter image description here][6]][6]\r\n\r\nI understand that since this is spring-boot as it is looking for a definition of the http://localhost:8080/fe/appInstances API endpoint in the java code. \r\n\r\nTo fix this, I have created the following IndexController.java class which should redirect all the frontend rest endpoints to index.html which is present in **main/resources/static** folder.\r\n\r\n**IndexController.java**\r\n\r\n    @Controller\r\n    public class IndexController {\r\n        @GetMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return &quot;redirect:/index&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/fe/*&quot;)\r\n        public String anyFrontEndApi() {\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nBut now, I get the following Whitelabel error page about **Circular view path [index]: would dispatch back to the current handler URL [/fe/index] again.**\r\n\r\n[![enter image description here][7]][7]\r\n\r\nI have tried changing @Controller to @RestController and changing the return type to ModelandView or something like this. But irrespective of all, it is still giving me the Whitelabel Error Page about Circular view path...\r\n\r\n    @RestController\r\n    public class IndexController {\r\n        @GetMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return &quot;redirect:/index&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/fe/*&quot;)\r\n        public ModelAndView anyFrontEndApi() {\r\n            ModelAndView mv = new ModelAndView();\r\n            mv.setViewName(&quot;index&quot;);\r\n            return mv;\r\n        }\r\n    }\r\n\r\nAm I missing something here? Can someone please suggest me a fix for this?\r\n\r\nPS: @justthink addressed this situation [here][8]. But I don&#39;t know how to do reverse proxy way. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B3aAA.png\r\n  [2]: https://www.baeldung.com/spring-mvc-static-resources#spring-boot\r\n  [3]: https://i.stack.imgur.com/yjeKg.png\r\n  [4]: https://i.stack.imgur.com/Ybskt.png\r\n  [5]: https://i.stack.imgur.com/mVSwY.png\r\n  [6]: https://i.stack.imgur.com/I2Tqa.png\r\n  [7]: https://i.stack.imgur.com/Ik71t.png\r\n  [8]: https://stackoverflow.com/a/67249018/9145082","title":"Spring Boot 2.7.5 + Angular 15 as a single war","body":"<p>I'm working on a full-stack app having spring boot v2.7.5 as the backend and Angular v15 as the front end. I use IntelliJ IDEA IDE for development. Locally, spring boot runs on http://localhost:8080 and angular runs on http://localhost:4200. I use Gradle to build the project a single war file and which would be deployed on an external tomcat server.</p>\n<p>Following is the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/B3aAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B3aAA.png\" alt=\"enter image description here\" /></a></p>\n<p>I have 3 build.gradle files, 1 for frontend , 1 for backend, and 1 for global. When I run the global build.gradle file, it would call call build.gradle from fronend folder which builds angular project and copies all the build files and put them into <strong>backend/src/main/resources/static</strong> folder. Next, build.gradle from the backend gets called which would build the final war file to be deployed on the external tomcat server.</p>\n<p>The reason I'm putting frontend build files (index.html, some .js files) into <strong>backend/src/main/resources/static</strong> is the fact that Spring Boot Serves static content from that location. <a href=\"https://www.baeldung.com/spring-mvc-static-resources#spring-boot\" rel=\"nofollow noreferrer\">more details</a> .</p>\n<p>So the static directory looks like this after adding frontend build files:</p>\n<p><a href=\"https://i.stack.imgur.com/yjeKg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yjeKg.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to access http://localhost:8080, it loads index.html from the static folder.\n<a href=\"https://i.stack.imgur.com/Ybskt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ybskt.png\" alt=\"enter image description here\" /></a></p>\n<p>So far it is good. When I click the login button, internally it calls the backend API and moves to the next page (home page i.e., http://localhost:8080/fe/appInstances).</p>\n<p><a href=\"https://i.stack.imgur.com/mVSwY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mVSwY.png\" alt=\"enter image description here\" /></a></p>\n<p>Now if I refresh the page, it gives me the following 404 Whitelabel Error Page.\n<a href=\"https://i.stack.imgur.com/I2Tqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2Tqa.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand that since this is spring-boot as it is looking for a definition of the http://localhost:8080/fe/appInstances API endpoint in the java code.</p>\n<p>To fix this, I have created the following IndexController.java class which should redirect all the frontend rest endpoints to index.html which is present in <strong>main/resources/static</strong> folder.</p>\n<p><strong>IndexController.java</strong></p>\n<pre><code>@Controller\npublic class IndexController {\n    @GetMapping(&quot;/&quot;)\n    public String index() {\n        return &quot;redirect:/index&quot;;\n    }\n\n    @GetMapping(&quot;/fe/*&quot;)\n    public String anyFrontEndApi() {\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>But now, I get the following Whitelabel error page about <strong>Circular view path [index]: would dispatch back to the current handler URL [/fe/index] again.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Ik71t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ik71t.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried changing @Controller to @RestController and changing the return type to ModelandView or something like this. But irrespective of all, it is still giving me the Whitelabel Error Page about Circular view path...</p>\n<pre><code>@RestController\npublic class IndexController {\n    @GetMapping(&quot;/&quot;)\n    public String index() {\n        return &quot;redirect:/index&quot;;\n    }\n\n    @GetMapping(&quot;/fe/*&quot;)\n    public ModelAndView anyFrontEndApi() {\n        ModelAndView mv = new ModelAndView();\n        mv.setViewName(&quot;index&quot;);\n        return mv;\n    }\n}\n</code></pre>\n<p>Am I missing something here? Can someone please suggest me a fix for this?</p>\n<p>PS: @justthink addressed this situation <a href=\"https://stackoverflow.com/a/67249018/9145082\">here</a>. But I don't know how to do reverse proxy way.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1670248607,"post_id":74689319,"comment_id":131825499,"body_markdown":"Do you just want to extract text from curly braces? See https://stackoverflow.com/a/60417695/3832970 or https://stackoverflow.com/q/12586132/3832970","body":"Do you just want to extract text from curly braces? See <a href=\"https://stackoverflow.com/a/60417695/3832970\">stackoverflow.com/a/60417695/3832970</a> or <a href=\"https://stackoverflow.com/q/12586132/3832970\">stackoverflow.com/q/12586132/3832970</a>"},{"owner":{"account_id":19793741,"reputation":1,"user_id":14496171,"display_name":"Mick"},"score":0,"creation_date":1670248830,"post_id":74689319,"comment_id":131825575,"body_markdown":"No , I just want to remove all punc. except curly brackets","body":"No , I just want to remove all punc. except curly brackets"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1670248912,"post_id":74689319,"comment_id":131825614,"body_markdown":"When you say punctuation, do you mean punctuation proper or (math) symbols included?","body":"When you say punctuation, do you mean punctuation proper or (math) symbols included?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670249025,"post_id":74689319,"comment_id":131825666,"body_markdown":"It seems more like you want to replace your keys, try String.replace().","body":"It seems more like you want to replace your keys, try String.replace()."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1670249086,"post_id":74689319,"comment_id":131825688,"body_markdown":"If you just want to subtract `{}` from `\\p{P}`, use `[\\p{P}&amp;&amp;[^{}]]` or a simple `[^\\P{P}{}]`, see https://stackoverflow.com/q/3201689/3832970","body":"If you just want to subtract <code>{}</code> from <code>\\p{P}</code>, use <code>[\\p{P}&amp;&amp;[^{}]]</code> or a simple <code>[^\\P{P}{}]</code>, see <a href=\"https://stackoverflow.com/q/3201689/3832970\">stackoverflow.com/q/3201689/3832970</a>"}],"answers":[{"tags":[],"owner":{"account_id":15690172,"reputation":191,"user_id":11321530,"display_name":"bragi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670249651,"creation_date":1670249651,"answer_id":74689566,"question_id":74689319,"body_markdown":"To match all words that might also include any curly brackets you can use the following regex, which:\r\n\r\n 1. `{*`: matches zero or more lefthand curly brackets.\r\n 2. `\\w*`: matches zero or more word characters.\r\n 3. `}*`: matches zero or more righthand curly brackets.\r\n\r\n```\r\n({*\\w*}*)\r\n```\r\n\r\nI&#39;d suggest using [regex101.com][1] to test or make any changes you may see fit. I also have a link for the regex101 I used [here][2].\r\n\r\n  [1]: https://regex101.com\r\n  [2]: https://regex101.com/r/Kx5bze/1","title":"How to remove all punctuation except curyl brackets { } in java?","body":"<p>To match all words that might also include any curly brackets you can use the following regex, which:</p>\n<ol>\n<li><code>{*</code>: matches zero or more lefthand curly brackets.</li>\n<li><code>\\w*</code>: matches zero or more word characters.</li>\n<li><code>}*</code>: matches zero or more righthand curly brackets.</li>\n</ol>\n<pre><code>({*\\w*}*)\n</code></pre>\n<p>I'd suggest using <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a> to test or make any changes you may see fit. I also have a link for the regex101 I used <a href=\"https://regex101.com/r/Kx5bze/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":19793741,"reputation":1,"user_id":14496171,"display_name":"Mick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670252660,"answer_count":1,"score":-1,"last_activity_date":1670265303,"creation_date":1670248503,"question_id":74689319,"body_markdown":"We have keys between curly brackets and want to search these keys in some string. But when we split the string like .split(&quot; &quot;) some punctuation stays with the string elements. We tried the `&quot;\\\\p{P}&quot;` regex but it deleted the curly brackets that we need. So how do we fix this issue? \r\n\r\nMany thanks.\r\n\r\n```lang-java\r\nString keys =  &quot; Dear {User_Name}, your process...&quot;\r\nList&lt;String&gt; bodyContent = (Arrays.asList(keys.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;).split(&quot; &quot;)));\r\n```\r\n\r\nAfter these `bodyContent = {&quot;Dear&quot; , &quot;User_Name&quot; , ...}`\r\n\r\nBut we want `&quot;{User_Name}&quot;` instead of `&quot;User_Name&quot;` or `&quot;{User_Name},&quot;`","title":"How to remove all punctuation except curyl brackets { } in java?","body":"<p>We have keys between curly brackets and want to search these keys in some string. But when we split the string like .split(&quot; &quot;) some punctuation stays with the string elements. We tried the <code>&quot;\\\\p{P}&quot;</code> regex but it deleted the curly brackets that we need. So how do we fix this issue?</p>\n<p>Many thanks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String keys =  &quot; Dear {User_Name}, your process...&quot;\nList&lt;String&gt; bodyContent = (Arrays.asList(keys.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;).split(&quot; &quot;)));\n</code></pre>\n<p>After these <code>bodyContent = {&quot;Dear&quot; , &quot;User_Name&quot; , ...}</code></p>\n<p>But we want <code>&quot;{User_Name}&quot;</code> instead of <code>&quot;User_Name&quot;</code> or <code>&quot;{User_Name},&quot;</code></p>\n"},{"tags":["java","class","data-structures","printing","integer"],"comments":[{"owner":{"account_id":1249654,"reputation":159470,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1670263885,"post_id":74692447,"comment_id":131831235,"body_markdown":"How are the &quot;not correct&quot; values wrong?  What are the &quot;expected&quot; results? Looks like the case that is supposed to print i+5 is wrong.","body":"How are the &quot;not correct&quot; values wrong?  What are the &quot;expected&quot; results? Looks like the case that is supposed to print i+5 is wrong."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670264769,"post_id":74692447,"comment_id":131831502,"body_markdown":"I&#39;m not sure I agree with your expected inputs and outputs for printCount(5). The input values `0 1 2 3 4 5 6 7 8 9` should be `5 6 6 0 7 10 0 12 9 0`. Am I the only one that seems like the expected output in the question is wrong?","body":"I&#39;m not sure I agree with your expected inputs and outputs for printCount(5). The input values <code>0 1 2 3 4 5 6 7 8 9</code> should be <code>5 6 6 0 7 10 0 12 9 0</code>. Am I the only one that seems like the expected output in the question is wrong?"}],"answers":[{"tags":[],"owner":{"account_id":25112528,"reputation":114,"user_id":18961987,"display_name":"JustinL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670263849,"creation_date":1670263753,"answer_id":74692560,"question_id":74692447,"body_markdown":"This would be the answer for the for loop the assignemnt for the while I did not understand. You mistook % modulo for division /\r\n\r\n    public static void printCount(int n) {\r\n            System.out.println(&quot;For Loop Output:&quot;);\r\n            for (int i = 0; i &lt; 9; i++) {\r\n                if (i % 2 == 0) {\r\n                    System.out.print((i/2) + n);\r\n                }\r\n                else if (i % 3 == 0) {\r\n                    System.out.print(0);\r\n                }\r\n                else {\r\n                    System.out.print(i);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }","title":"How to print a loop of integers 0-9 with n (the parameter) added to it?","body":"<p>This would be the answer for the for loop the assignemnt for the while I did not understand. You mistook % modulo for division /</p>\n<pre><code>public static void printCount(int n) {\n        System.out.println(&quot;For Loop Output:&quot;);\n        for (int i = 0; i &lt; 9; i++) {\n            if (i % 2 == 0) {\n                System.out.print((i/2) + n);\n            }\n            else if (i % 3 == 0) {\n                System.out.print(0);\n            }\n            else {\n                System.out.print(i);\n            }\n        }\n        System.out.println();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670265039,"post_id":74692622,"comment_id":131831563,"body_markdown":"The question is in Java.  Your answer is in javascript.","body":"The question is in Java.  Your answer is in javascript."}],"tags":[],"owner":{"account_id":18765283,"reputation":11,"user_id":13683315,"display_name":"leni lunderman"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670264037,"creation_date":1670264037,"answer_id":74692622,"question_id":74692447,"body_markdown":"Here is how you can do the loop in javascript:\r\n\r\n    function printLoop(n) { \r\n      for (let i = 0; i &lt;= 9; i++) { \r\n        console.log(i + n); \r\n      }\r\n    }\r\n    \r\n    printLoop(5); // prints 5, 6, 7, 8, 9, 10, 11, 12, 13, 14","title":"How to print a loop of integers 0-9 with n (the parameter) added to it?","body":"<p>Here is how you can do the loop in javascript:</p>\n<pre><code>function printLoop(n) { \n  for (let i = 0; i &lt;= 9; i++) { \n    console.log(i + n); \n  }\n}\n\nprintLoop(5); // prints 5, 6, 7, 8, 9, 10, 11, 12, 13, 14\n</code></pre>\n"}],"owner":{"account_id":26765378,"reputation":13,"user_id":20362623,"display_name":"jdona13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74692560,"answer_count":2,"score":-1,"last_activity_date":1670264800,"creation_date":1670263196,"question_id":74692447,"body_markdown":"So I have an assignment that is to print integers 0-9, but it takes an integer parameter that adds it to each integer. If it were to be printCount(5), it would print: 5, 6, 7, 8, 9, 10, 11, 12, 13, 14. However, another modification was instructed such that if the number n is being added to is DIVISIBLE BY 2, then the output is 1/2 the number PLUS n. If it is divisible by 3, then the output is 0. The intended output if it were printCount(5) now would be: 5, 1, 6, 0, 7, 5, 8, 7, 9, 0. I was instructed to make a for loop AND and while loop in 2 different methods. The for loop looks like: \r\n\r\n```\r\npublic static void printCount(int n) {\r\n        System.out.println(&quot;For Loop Output:&quot;);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            if (i % 2 == 0) {\r\n                System.out.print((i%2) + n);\r\n            }\r\n            else if (i % 3 == 0) {\r\n                System.out.print(0);\r\n            }\r\n            else {\r\n                System.out.print(i);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n```\r\nThis prints: 515055575, but it is not correct. The while loop looks like:\r\n\r\n```\r\npublic static void printCountWhile(int n) {\r\n        int i = 0;\r\n        System.out.println(&quot;While Loop Output:&quot;);\r\n        while (i &lt; 9) {\r\n            if (i % 2 == 0) {\r\n                System.out.print(i+n);\r\n                i++;\r\n            }\r\n            else if (i % 3 == 0) {\r\n                System.out.print(0);\r\n                i++;\r\n            }\r\n            System.out.print(i);\r\n            i++;\r\n        }\r\n    }\r\n```\r\nThis also prints out wrong, printing: 517395117139. How can I fix both of these? Thank you so much for the help. \r\n\r\n","title":"How to print a loop of integers 0-9 with n (the parameter) added to it?","body":"<p>So I have an assignment that is to print integers 0-9, but it takes an integer parameter that adds it to each integer. If it were to be printCount(5), it would print: 5, 6, 7, 8, 9, 10, 11, 12, 13, 14. However, another modification was instructed such that if the number n is being added to is DIVISIBLE BY 2, then the output is 1/2 the number PLUS n. If it is divisible by 3, then the output is 0. The intended output if it were printCount(5) now would be: 5, 1, 6, 0, 7, 5, 8, 7, 9, 0. I was instructed to make a for loop AND and while loop in 2 different methods. The for loop looks like:</p>\n<pre><code>public static void printCount(int n) {\n        System.out.println(&quot;For Loop Output:&quot;);\n        for (int i = 0; i &lt; 9; i++) {\n            if (i % 2 == 0) {\n                System.out.print((i%2) + n);\n            }\n            else if (i % 3 == 0) {\n                System.out.print(0);\n            }\n            else {\n                System.out.print(i);\n            }\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>This prints: 515055575, but it is not correct. The while loop looks like:</p>\n<pre><code>public static void printCountWhile(int n) {\n        int i = 0;\n        System.out.println(&quot;While Loop Output:&quot;);\n        while (i &lt; 9) {\n            if (i % 2 == 0) {\n                System.out.print(i+n);\n                i++;\n            }\n            else if (i % 3 == 0) {\n                System.out.print(0);\n                i++;\n            }\n            System.out.print(i);\n            i++;\n        }\n    }\n</code></pre>\n<p>This also prints out wrong, printing: 517395117139. How can I fix both of these? Thank you so much for the help.</p>\n"},{"tags":["java","spring","oauth-2.0","jwk"],"comments":[{"owner":{"account_id":2747220,"reputation":97,"user_id":2367397,"display_name":"Evgeniy Strokin"},"score":0,"creation_date":1688529599,"post_id":74682843,"comment_id":135083894,"body_markdown":"Did you figure this out? I&#39;m having the same problem. It seems logical to have many kays to verify a signature, but for signing key, the KeySet must have only one key, hence we should be able to use different KeySets for generating JWK and for signing JWT.","body":"Did you figure this out? I&#39;m having the same problem. It seems logical to have many kays to verify a signature, but for signing key, the KeySet must have only one key, hence we should be able to use different KeySets for generating JWK and for signing JWT."}],"answers":[{"comments":[{"owner":{"account_id":17129550,"reputation":61,"user_id":12395944,"display_name":"Mark"},"score":0,"creation_date":1670978217,"post_id":74683479,"comment_id":131996730,"body_markdown":"Two instances of the authorization servers is a workaround that could work","body":"Two instances of the authorization servers is a workaround that could work"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670215757,"creation_date":1670215757,"answer_id":74683479,"question_id":74682843,"body_markdown":"I&#39;m not sure I fully understand [the RFC-7517](https://www.rfc-editor.org/rfc/rfc7517), but it seams that it is allowed to have several keys, with no particular restriction.\r\n\r\nI&#39;m surprised because from the decoding side, I&#39;d expect to fetch from the JWKS endpoint **THE** key to decode JWTs with a given algorithm: it would be rather inneficient to try several keys in turn untill one works...\r\n\r\nHave you considered to run several authorization-server instances, each with one specific key? I guess your clients would know which authorization-server to contact, but resource-servers would need multi-tenancy (accept identities issued by several issuers). You&#39;ll have to provide `JwtIssuerAuthenticationManagerResolver` bean for that:\r\n```java\r\nhttp.oauth2ResourceServer(oauth2 -&gt; oauth2.authenticationManagerResolver(authenticationManagerResolver));\r\n```\r\n\r\nI have written [thin wrappers][1] around `spring-boot-starter-oauth2-resource-server` which support this kind of scenario with configuration from properties file only (the bean above is provided autmatically):\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;!-- replace &quot;webmvc&quot; with &quot;weblux&quot; if your app is reactive --&gt;\r\n    &lt;!-- replace &quot;jwt&quot; with &quot;introspecting&quot; to use token introspection instead of JWT decoding --&gt;\r\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n    &lt;!-- this version is to be used with spring-boot 3.0.0, use 5.x for spring-boot 2.6.x or before --&gt;\r\n    &lt;version&gt;6.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic static class WebSecurityConfig {\t}\r\n```\r\n```properties\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=groups,roles\r\ncom.c4-soft.springaddons.security.issuers[1].location=https://localhost:8444\r\ncom.c4-soft.springaddons.security.issuers[1].authorities.claims=groups,roles\r\n\r\n\r\ncom.c4-soft.springaddons.security.cors[0].path=/some-api\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons","title":"Spring Oauth2 Authorization Server - How to use multiples JWK Keys","body":"<p>I'm not sure I fully understand <a href=\"https://www.rfc-editor.org/rfc/rfc7517\" rel=\"nofollow noreferrer\">the RFC-7517</a>, but it seams that it is allowed to have several keys, with no particular restriction.</p>\n<p>I'm surprised because from the decoding side, I'd expect to fetch from the JWKS endpoint <strong>THE</strong> key to decode JWTs with a given algorithm: it would be rather inneficient to try several keys in turn untill one works...</p>\n<p>Have you considered to run several authorization-server instances, each with one specific key? I guess your clients would know which authorization-server to contact, but resource-servers would need multi-tenancy (accept identities issued by several issuers). You'll have to provide <code>JwtIssuerAuthenticationManagerResolver</code> bean for that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.oauth2ResourceServer(oauth2 -&gt; oauth2.authenticationManagerResolver(authenticationManagerResolver));\n</code></pre>\n<p>I have written <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">thin wrappers</a> around <code>spring-boot-starter-oauth2-resource-server</code> which support this kind of scenario with configuration from properties file only (the bean above is provided autmatically):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;!-- replace &quot;webmvc&quot; with &quot;weblux&quot; if your app is reactive --&gt;\n    &lt;!-- replace &quot;jwt&quot; with &quot;introspecting&quot; to use token introspection instead of JWT decoding --&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;!-- this version is to be used with spring-boot 3.0.0, use 5.x for spring-boot 2.6.x or before --&gt;\n    &lt;version&gt;6.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity\npublic static class WebSecurityConfig { }\n</code></pre>\n<pre><code>com.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=groups,roles\ncom.c4-soft.springaddons.security.issuers[1].location=https://localhost:8444\ncom.c4-soft.springaddons.security.issuers[1].authorities.claims=groups,roles\n\n\ncom.c4-soft.springaddons.security.cors[0].path=/some-api\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17129550,"reputation":61,"user_id":12395944,"display_name":"Mark"},"score":0,"creation_date":1670978089,"post_id":74689766,"comment_id":131996719,"body_markdown":"The JWKS is returning multiple public JWK entries with distinct kid values\n\nIf I left just one JWK entries the accessToken is generated with the kid in the header. But when I put two JWK entries the error I mentioned occurs.","body":"The JWKS is returning multiple public JWK entries with distinct kid values  If I left just one JWK entries the accessToken is generated with the kid in the header. But when I put two JWK entries the error I mentioned occurs."}],"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670264583,"creation_date":1670250596,"answer_id":74689766,"question_id":74682843,"body_markdown":"OAuth has a built-in mechanism to manage multiple keys, called a key identifier (kid). This provides a way for authorization servers to automate token signing key renewal, where both old and new keys are in use, but newer tokens are issued with the newer key.\r\n\r\nCheck these two things:\r\n\r\n- The JWKS must return multiple public JWK entries with distinct kid values\r\n\r\n- When a JWT is issued to a client, it must include a kid in its JWT header that maps to the public key with which to verify it\r\n\r\nOften an authorization server will enable you to have different token issuers configured, and you can then associate a token issuer to clients. This should have no impact on application code, since the JWKS mechanism and kids should take care of it.","title":"Spring Oauth2 Authorization Server - How to use multiples JWK Keys","body":"<p>OAuth has a built-in mechanism to manage multiple keys, called a key identifier (kid). This provides a way for authorization servers to automate token signing key renewal, where both old and new keys are in use, but newer tokens are issued with the newer key.</p>\n<p>Check these two things:</p>\n<ul>\n<li><p>The JWKS must return multiple public JWK entries with distinct kid values</p>\n</li>\n<li><p>When a JWT is issued to a client, it must include a kid in its JWT header that maps to the public key with which to verify it</p>\n</li>\n</ul>\n<p>Often an authorization server will enable you to have different token issuers configured, and you can then associate a token issuer to clients. This should have no impact on application code, since the JWKS mechanism and kids should take care of it.</p>\n"}],"owner":{"account_id":17129550,"reputation":61,"user_id":12395944,"display_name":"Mark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670264583,"creation_date":1670208270,"question_id":74682843,"body_markdown":"I have a requirement in my system that in some flows I have to use a JWT with a specific private/public key and other flows have to user another JWT with other keys.\r\n\r\nI&#39;m using spring oauth2 authorization server 1.0.0.\r\n\r\nWhen I try to set two keys, it works okay to generate the jwks endpoint, but when I do the POST /oauth2/token I got the following exception:\r\n\r\n```\r\norg.springframework.security.oauth2.jwt.JwtEncodingException: An error occurred while attempting to encode the Jwt: Found multiple JWK signing keys for algorithm &#39;RS256&#39;\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtEncoder.selectJwk(NimbusJwtEncoder.java:128) ~[spring-security-oauth2-jose-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtEncoder.encode(NimbusJwtEncoder.java:108) ~[spring-security-oauth2-jose-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.oauth2.server.authorization.token.JwtGenerator.generate(JwtGenerator.java:159) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\r\n\tat org.springframework.security.oauth2.server.authorization.token.JwtGenerator.generate(JwtGenerator.java:58) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\r\n\tat org.springframework.security.oauth2.server.authorization.token.DelegatingOAuth2TokenGenerator.generate(DelegatingOAuth2TokenGenerator.java:59) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\r\n\tat org.springframework.security.oauth2.server.authorization.authentication.OAuth2ClientCredentialsAuthenticationProvider.authenticate(OAuth2ClientCredentialsAuthenticationProvider.java:125) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter.doFilterInternal(OAuth2TokenEndpointFilter.java:167) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\r\n```\r\n\r\nIs that okay my concept of having to JWK keys in the same authorization server?\r\n\r\nHow can I implement the authorization server to use in a specific client credentials request one JWK key, and in another client credential request another JWK key?\r\n\r\nMy code:\r\n\r\n```java\r\n@EnableWebSecurity\r\n@Configuration\r\n@Slf4j\r\npublic class AuthSecurityConfig {\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        return http.formLogin(Customizer.withDefaults()).build();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain authFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n        return http.formLogin(Customizer.withDefaults()).build();\r\n    }\r\n\r\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder\r\n    \t\t,JdbcTemplate jdbcTemplate\r\n    \t\t) {\r\n        JdbcRegisteredClientRepository clientRepository = new JdbcRegisteredClientRepository(jdbcTemplate);\r\n\r\n                return clientRepository;\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizationService auth2AuthorizationService(JdbcOperations jdbcOperations,\r\n                                                                RegisteredClientRepository registeredClientRepository) {\r\n        return new JdbcOAuth2AuthorizationService(\r\n                jdbcOperations,\r\n                registeredClientRepository\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizationConsentService oAuth2AuthorizationConsentService(JdbcOperations jdbcOperations,\r\n                                                                               RegisteredClientRepository registeredClientRepository) {\r\n        return new JdbcOAuth2AuthorizationConsentService(\r\n                jdbcOperations,\r\n                registeredClientRepository\r\n        );\r\n    }\r\n\r\n   @Bean\r\n    public JWKSet jwkSet(AuthProperties authProperties) throws Exception {\r\n        List&lt;JWK&gt; keys = new ArrayList&lt;&gt;();\r\n        \r\n        for (JksProperties jwk : authProperties.getJksList()) {\r\n            keys.add(loadRsa(jwk));\r\n\t\t}\r\n        \r\n        return new JWKSet(keys);\r\n    }\r\n\r\n   @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource(JWKSet jwkSet) {\r\n    \t\r\n        return ((jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet));\r\n    }\r\n\r\n    @Bean\r\n\tpublic JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\r\n\t\treturn OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\r\n\t}\r\n\r\n\r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n```\r\n","title":"Spring Oauth2 Authorization Server - How to use multiples JWK Keys","body":"<p>I have a requirement in my system that in some flows I have to use a JWT with a specific private/public key and other flows have to user another JWT with other keys.</p>\n<p>I'm using spring oauth2 authorization server 1.0.0.</p>\n<p>When I try to set two keys, it works okay to generate the jwks endpoint, but when I do the POST /oauth2/token I got the following exception:</p>\n<pre><code>org.springframework.security.oauth2.jwt.JwtEncodingException: An error occurred while attempting to encode the Jwt: Found multiple JWK signing keys for algorithm 'RS256'\n    at org.springframework.security.oauth2.jwt.NimbusJwtEncoder.selectJwk(NimbusJwtEncoder.java:128) ~[spring-security-oauth2-jose-6.0.0.jar:6.0.0]\n    at org.springframework.security.oauth2.jwt.NimbusJwtEncoder.encode(NimbusJwtEncoder.java:108) ~[spring-security-oauth2-jose-6.0.0.jar:6.0.0]\n    at org.springframework.security.oauth2.server.authorization.token.JwtGenerator.generate(JwtGenerator.java:159) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\n    at org.springframework.security.oauth2.server.authorization.token.JwtGenerator.generate(JwtGenerator.java:58) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\n    at org.springframework.security.oauth2.server.authorization.token.DelegatingOAuth2TokenGenerator.generate(DelegatingOAuth2TokenGenerator.java:59) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\n    at org.springframework.security.oauth2.server.authorization.authentication.OAuth2ClientCredentialsAuthenticationProvider.authenticate(OAuth2ClientCredentialsAuthenticationProvider.java:125) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.0.0.jar:6.0.0]\n    at org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter.doFilterInternal(OAuth2TokenEndpointFilter.java:167) ~[spring-security-oauth2-authorization-server-1.0.0.jar:1.0.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n\n</code></pre>\n<p>Is that okay my concept of having to JWK keys in the same authorization server?</p>\n<p>How can I implement the authorization server to use in a specific client credentials request one JWK key, and in another client credential request another JWK key?</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@Configuration\n@Slf4j\npublic class AuthSecurityConfig {\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        return http.formLogin(Customizer.withDefaults()).build();\n    }\n\n    @Bean\n    public SecurityFilterChain authFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().authenticated();\n        return http.formLogin(Customizer.withDefaults()).build();\n    }\n\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder\n            ,JdbcTemplate jdbcTemplate\n            ) {\n        JdbcRegisteredClientRepository clientRepository = new JdbcRegisteredClientRepository(jdbcTemplate);\n\n                return clientRepository;\n    }\n\n    @Bean\n    public OAuth2AuthorizationService auth2AuthorizationService(JdbcOperations jdbcOperations,\n                                                                RegisteredClientRepository registeredClientRepository) {\n        return new JdbcOAuth2AuthorizationService(\n                jdbcOperations,\n                registeredClientRepository\n        );\n    }\n\n    @Bean\n    public OAuth2AuthorizationConsentService oAuth2AuthorizationConsentService(JdbcOperations jdbcOperations,\n                                                                               RegisteredClientRepository registeredClientRepository) {\n        return new JdbcOAuth2AuthorizationConsentService(\n                jdbcOperations,\n                registeredClientRepository\n        );\n    }\n\n   @Bean\n    public JWKSet jwkSet(AuthProperties authProperties) throws Exception {\n        List&lt;JWK&gt; keys = new ArrayList&lt;&gt;();\n        \n        for (JksProperties jwk : authProperties.getJksList()) {\n            keys.add(loadRsa(jwk));\n        }\n        \n        return new JWKSet(keys);\n    }\n\n   @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource(JWKSet jwkSet) {\n        \n        return ((jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet));\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\n    }\n\n\n    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n</code></pre>\n"},{"tags":["java","eclipse","checkstyle"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1362137755,"post_id":15156599,"comment_id":21341867,"body_markdown":"A workaround is to surround the import block with `//CHECKSTYLE:OFF` ...imports... `/CHECKSTYLE:ON`.","body":"A workaround is to surround the import block with <code>&#47;&#47;CHECKSTYLE:OFF</code> ...imports... <code>&#47;CHECKSTYLE:ON</code>."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":1,"creation_date":1362140529,"post_id":15156599,"comment_id":21343262,"body_markdown":"@MarkoTopolnik: Talking of aesthetic issues, the very aim of checkstyle is to have a beautiful code, (wow coding and beauty). Adding tags would defeat the purpose.","body":"@MarkoTopolnik: Talking of aesthetic issues, the very aim of checkstyle is to have a beautiful code, (wow coding and beauty). Adding tags would defeat the purpose."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1362141168,"post_id":15156599,"comment_id":21343617,"body_markdown":"Not in my experience; checkstyle gives you bolshevik code, all straight and uniform. And I&#39;ve **never** managed to use it without the tags.","body":"Not in my experience; checkstyle gives you bolshevik code, all straight and uniform. And I&#39;ve <b>never</b> managed to use it without the tags."}],"answers":[{"comments":[{"owner":{"account_id":969298,"reputation":24123,"user_id":992151,"accept_rate":82,"display_name":"cowls"},"score":0,"creation_date":1362137473,"post_id":15156637,"comment_id":21341720,"body_markdown":"This removes it for all statements not just the import statement?","body":"This removes it for all statements not just the import statement?"},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1362137738,"post_id":15156637,"comment_id":21341856,"body_markdown":"@PauliusMatulionis: this will remove it from all the statements. please suggest something savvyyyy","body":"@PauliusMatulionis: this will remove it from all the statements. please suggest something savvyyyy"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1362137813,"post_id":15156637,"comment_id":21341894,"body_markdown":"In the same vein, remove Checkstyle from your project.","body":"In the same vein, remove Checkstyle from your project."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1362138243,"post_id":15156637,"comment_id":21342097,"body_markdown":"@PauliusMatulionis: for this i have to change my checkstyle file. Isn&#39;t there no way to break import file names, like we do with if or String...","body":"@PauliusMatulionis: for this i have to change my checkstyle file. Isn&#39;t there no way to break import file names, like we do with if or String..."}],"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362137864,"creation_date":1362137285,"answer_id":15156637,"question_id":15156599,"body_markdown":"Remove:\r\n\r\n    &lt;module name=&quot;LineLength&quot;&gt;\r\n        &lt;property name=&quot;max&quot; value=&quot;80&quot;/&gt;\r\n    &lt;/module&gt;\r\n    \r\nfrom your checkstyle configuration.\r\n\r\n**EDIT:**\r\n\r\nDisable it only for imports:\r\n\r\n    &lt;module name=&quot;LineLength&quot;&gt;\r\n       &lt;property name=&quot;ignorePattern&quot; value=&quot;someRegex&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nYou have to provide the regular expression which finds the line starting with `import` into the `value` attribute. I am not so good at regex so you will need work out the regular expression yourself.\r\n\r\nThe regex like: `...value=&quot;^import&quot;...` should work. But not tested.","title":"Checkstyle length check for import statements","body":"<p>Remove:</p>\n\n<pre><code>&lt;module name=\"LineLength\"&gt;\n    &lt;property name=\"max\" value=\"80\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>from your checkstyle configuration.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Disable it only for imports:</p>\n\n<pre><code>&lt;module name=\"LineLength\"&gt;\n   &lt;property name=\"ignorePattern\" value=\"someRegex\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>You have to provide the regular expression which finds the line starting with <code>import</code> into the <code>value</code> attribute. I am not so good at regex so you will need work out the regular expression yourself.</p>\n\n<p>The regex like: <code>...value=\"^import\"...</code> should work. But not tested.</p>\n"},{"tags":[],"owner":{"account_id":10368026,"reputation":479,"user_id":7646504,"display_name":"Domadin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492172438,"creation_date":1492172438,"answer_id":43411410,"question_id":15156599,"body_markdown":"I want to add some aditional info to Paulius Matulionis&#39;s answer.\r\nIf you are using default Checkstyle rules, you can find checkstyle configuration file by going to your Idea directory:\r\n\r\n%HOMEPATH%\\.IdeaIC2017.1\\config\\plugins\\CheckStyle-IDEA\\classes\\sun_checks.xml\r\n\r\nFolder name &quot;.IdeaIC2017.1&quot; could be different depends on version of Idea you are using.\r\n\r\nAlso, you can find your configuration file name in Idea&#39;s [&quot;Settings&quot;][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3a2EB.jpg","title":"Checkstyle length check for import statements","body":"<p>I want to add some aditional info to Paulius Matulionis's answer.\nIf you are using default Checkstyle rules, you can find checkstyle configuration file by going to your Idea directory:</p>\n\n<p>%HOMEPATH%.IdeaIC2017.1\\config\\plugins\\CheckStyle-IDEA\\classes\\sun_checks.xml</p>\n\n<p>Folder name \".IdeaIC2017.1\" could be different depends on version of Idea you are using.</p>\n\n<p>Also, you can find your configuration file name in Idea's <a href=\"https://i.stack.imgur.com/3a2EB.jpg\" rel=\"nofollow noreferrer\">\"Settings\"</a></p>\n"},{"tags":[],"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579246241,"creation_date":1579246241,"answer_id":59782929,"question_id":15156599,"body_markdown":"To exclude `import` and `package` statements from the check, you can apply following configuration:\r\n\r\n\t&lt;module name=&quot;LineLength&quot;&gt;\r\n\t\t&lt;property name=&quot;max&quot; value=&quot;80&quot; /&gt;\r\n\t\t&lt;property name=&quot;ignorePattern&quot; value=&quot;^(package|import) .*&quot;/&gt;\r\n\t&lt;/module&gt;\r\nSource: https://checkstyle.org/config_sizes.html#LineLength_Examples\r\n\r\nOr you can apply tags as suggested by Marko (but first option is more proffered):\r\n\r\n    // CHECKSTYLE:OFF\r\n    import ...\r\n    // CHECKSTYLE:ON","title":"Checkstyle length check for import statements","body":"<p>To exclude <code>import</code> and <code>package</code> statements from the check, you can apply following configuration:</p>\n\n<pre><code>&lt;module name=\"LineLength\"&gt;\n    &lt;property name=\"max\" value=\"80\" /&gt;\n    &lt;property name=\"ignorePattern\" value=\"^(package|import) .*\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>Source: <a href=\"https://checkstyle.org/config_sizes.html#LineLength_Examples\" rel=\"nofollow noreferrer\">https://checkstyle.org/config_sizes.html#LineLength_Examples</a></p>\n\n<p>Or you can apply tags as suggested by Marko (but first option is more proffered):</p>\n\n<pre><code>// CHECKSTYLE:OFF\nimport ...\n// CHECKSTYLE:ON\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670263967,"creation_date":1670263205,"answer_id":74692452,"question_id":15156599,"body_markdown":"By default, the Checkstyle `LineLength` configuration ignores package and import statements.  This is accomplished by the default value for the [`ignorePattern`](https://checkstyle.sourceforge.io/config_sizes.html#LineLength_Properties) property, which is `&quot;^(package|import) .*&quot;`.\r\n\r\nSince your import statement is failing the `LineLength` check, either it&#39;s formatted differently than expected by the default configuration (e.g. it has a leading space), or you&#39;ve customized the `ignorePattern` in your project, (inadvertantly) removing the `import` check configuration in the process.\r\n\r\nImport statements can be added back to a customized `ignorePattern` regex.  For instance, if it&#39;s currently set to `&quot;somePattern&quot;`, you could configure your `ignorePattern` as follows:\r\n\r\n```xml\r\n&lt;module name=&quot;LineLength&quot;&gt;\r\n  &lt;property name=&quot;ignorePattern&quot; value=&quot;^import .*|somePattern&quot;/&gt;\r\n&lt;/module&gt;\r\n```","title":"Checkstyle length check for import statements","body":"<p>By default, the Checkstyle <code>LineLength</code> configuration ignores package and import statements.  This is accomplished by the default value for the <a href=\"https://checkstyle.sourceforge.io/config_sizes.html#LineLength_Properties\" rel=\"nofollow noreferrer\"><code>ignorePattern</code></a> property, which is <code>&quot;^(package|import) .*&quot;</code>.</p>\n<p>Since your import statement is failing the <code>LineLength</code> check, either it's formatted differently than expected by the default configuration (e.g. it has a leading space), or you've customized the <code>ignorePattern</code> in your project, (inadvertantly) removing the <code>import</code> check configuration in the process.</p>\n<p>Import statements can be added back to a customized <code>ignorePattern</code> regex.  For instance, if it's currently set to <code>&quot;somePattern&quot;</code>, you could configure your <code>ignorePattern</code> as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;module name=&quot;LineLength&quot;&gt;\n  &lt;property name=&quot;ignorePattern&quot; value=&quot;^import .*|somePattern&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2541,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1670263967,"creation_date":1362137162,"question_id":15156599,"body_markdown":"How to remove checkstyle violation if it throws a &quot;Line is longer than 80 characters&quot; for an import statement?","title":"Checkstyle length check for import statements","body":"<p>How to remove checkstyle violation if it throws a \"Line is longer than 80 characters\" for an import statement?</p>\n"},{"tags":["java","mockmvc"],"comments":[{"owner":{"account_id":7718721,"reputation":75,"user_id":5845574,"display_name":"tom1299"},"score":0,"creation_date":1542697635,"post_id":53387415,"comment_id":93651071,"body_markdown":"At first glance it seems that the `value` attribute is missing in the line `@PostMapping(consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)`. In the trace you can see that the request goes straight to `users` which is not mapped in the controller.","body":"At first glance it seems that the <code>value</code> attribute is missing in the line <code>@PostMapping(consumes=&quot;application&#47;json&quot;, produces=&quot;application&#47;json&quot;)</code>. In the trace you can see that the request goes straight to <code>users</code> which is not mapped in the controller."},{"owner":{"account_id":2242924,"reputation":732,"user_id":1976997,"display_name":"ravenskater"},"score":0,"creation_date":1542780524,"post_id":53387415,"comment_id":93687093,"body_markdown":"It is mapped in the controller: @RequestMapping(&quot;/users&quot;)\nAs the request is going to /users and the POST method, spring should be able to match the correct method. However I already tried to add value in the post mapping, but still it doesn&#39;t work.","body":"It is mapped in the controller: @RequestMapping(&quot;/users&quot;) As the request is going to /users and the POST method, spring should be able to match the correct method. However I already tried to add value in the post mapping, but still it doesn&#39;t work."}],"answers":[{"comments":[{"owner":{"account_id":2242924,"reputation":732,"user_id":1976997,"display_name":"ravenskater"},"score":0,"creation_date":1542780850,"post_id":53387926,"comment_id":93687223,"body_markdown":"It worked. In my spring boot version 2.x I did it like this:\nmockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n\nBut I don&#39;t understand why the method UsersControllerTest.findUser() worked autowiring MockMvc","body":"It worked. In my spring boot version 2.x I did it like this: mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).bu&zwnj;&#8203;ild();  But I don&#39;t understand why the method UsersControllerTest.findUser() worked autowiring MockMvc"},{"owner":{"account_id":1818501,"reputation":159,"user_id":1653102,"display_name":"wizardInCloud"},"score":2,"creation_date":1553978293,"post_id":53387926,"comment_id":97588286,"body_markdown":"It worked for me as well. It is so weird that having many GET and PATCH endopoints tested, it only passed the GETs when using only @Autowired MockMvc, but with this solution of `@Autowired WebApplicationContext webApplicationContext;` + `mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();` all passed. (spring-boot.version: 2.1.3.RELEASE + spring-security-test.version: 5.1.4.RELEASE)","body":"It worked for me as well. It is so weird that having many GET and PATCH endopoints tested, it only passed the GETs when using only @Autowired MockMvc, but with this solution of <code>@Autowired WebApplicationContext webApplicationContext;</code> + <code>mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).bu&zwnj;&#8203;ild();</code> all passed. (spring-boot.version: 2.1.3.RELEASE + spring-security-test.version: 5.1.4.RELEASE)"},{"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"score":1,"creation_date":1669301611,"post_id":53387926,"comment_id":131617584,"body_markdown":"What is the trick here?","body":"What is the trick here?"}],"tags":[],"owner":{"account_id":13422521,"reputation":476,"user_id":9684854,"display_name":"XuanGang"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1583665083,"creation_date":1542697869,"answer_id":53387926,"question_id":53387415,"body_markdown":"You can try to debug this program.i think probleam is happend in &quot;mockMvc&quot; object is not autowired.mockMvc object should load from WebApplicationContext in before program run.\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext\r\n \r\n    @Before()\r\n    public void setup()\r\n    {\r\n\t    //Init MockMvc Object and build\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    }","title":"Unit test Springboot MockMvc returns 403 Forbidden","body":"<p>You can try to debug this program.i think probleam is happend in \"mockMvc\" object is not autowired.mockMvc object should load from WebApplicationContext in before program run.</p>\n\n<pre><code>@Autowired\nprivate WebApplicationContext webApplicationContext\n\n@Before()\npublic void setup()\n{\n    //Init MockMvc Object and build\n    mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1701100259,"post_id":57069366,"comment_id":136730107,"body_markdown":"This simply changed the error from 403 FORBIDDEN to 400 INVALID REQUEST CONTENT.","body":"This simply changed the error from 403 FORBIDDEN to 400 INVALID REQUEST CONTENT."}],"tags":[],"owner":{"account_id":1696263,"reputation":577,"user_id":1557601,"display_name":"skrymir1"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1563343123,"creation_date":1563343123,"answer_id":57069366,"question_id":53387415,"body_markdown":"I got around it with `@AutoConfigureMockMvc(addFilters = false)`. Please make sure that this won&#39;t compromise other functionality on your HTTP stack.\r\n","title":"Unit test Springboot MockMvc returns 403 Forbidden","body":"<p>I got around it with <code>@AutoConfigureMockMvc(addFilters = false)</code>. Please make sure that this won't compromise other functionality on your HTTP stack.</p>\n"},{"comments":[{"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"score":0,"creation_date":1672711524,"post_id":74692585,"comment_id":132332637,"body_markdown":"i had the same problem only on put and delete, and your solution worked in my tests, thanks!","body":"i had the same problem only on put and delete, and your solution worked in my tests, thanks!"}],"tags":[],"owner":{"account_id":17265376,"reputation":1384,"user_id":12502237,"display_name":"ckesplin"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1670263851,"creation_date":1670263851,"answer_id":74692585,"question_id":53387415,"body_markdown":"When working with CSRF protection, a CSRF token must be provided or a 403 status will be returned.  I fixed this in my testing by specifically adding a CSRF token to any non-safe HTTP method (POST, PUT, DELETE) as per the [documentation][1].\r\n\r\n```java\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.csrf;\r\n\r\n[...]\r\n\r\nmvc.perform(post(&quot;/&quot;).with(csrf()));\r\nmvc.perform(put(&quot;/&quot;).with(csrf()));\r\nmvc.perform(delete(&quot;/&quot;).with(csrf()));\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/csrf.html","title":"Unit test Springboot MockMvc returns 403 Forbidden","body":"<p>When working with CSRF protection, a CSRF token must be provided or a 403 status will be returned.  I fixed this in my testing by specifically adding a CSRF token to any non-safe HTTP method (POST, PUT, DELETE) as per the <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/csrf.html\" rel=\"noreferrer\">documentation</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.csrf;\n\n[...]\n\nmvc.perform(post(&quot;/&quot;).with(csrf()));\nmvc.perform(put(&quot;/&quot;).with(csrf()));\nmvc.perform(delete(&quot;/&quot;).with(csrf()));\n</code></pre>\n"}],"owner":{"account_id":2242924,"reputation":732,"user_id":1976997,"display_name":"ravenskater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29305,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":53387926,"answer_count":3,"score":21,"last_activity_date":1670263851,"creation_date":1542695286,"question_id":53387415,"body_markdown":"I wrote one unit test that tests UsersController. UsersControllerTest.findUser is working fine, but UsersControllerTest.insertGetModifyDelete it doesn&#39;t.\r\n\r\nIn the log of the test I can see that the POST request doesn&#39;t match any method of UsersController, but I don&#39;t understand why. Could you help me with this, please?.\r\n\r\nThis is my rest java class:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UsersController {\r\n    \t\r\n    \tprivate final UsersService usersService;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic UsersController(UsersService usersService) {\r\n    \t\tthis.usersService = usersService;\r\n    \t}\r\n    \r\n    \t@GetMapping(value=&quot;/{email}&quot;, produces=&quot;application/json&quot;)\r\n        public User get(@PathVariable @Email String email) {\r\n            return usersService.findByEmail(email);\r\n        }\r\n    \t\r\n    \t@PostMapping(consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;String&gt; insert(@RequestBody @Valid User user){\r\n    \t\tusersService.insert(user);\r\n    \t\treturn ResponseEntity.ok(user.getEmail());\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(value=&quot;/{email}&quot;, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; delete(@PathVariable @Email String email) {\r\n    \t\tusersService.delete(email);\r\n    \t\treturn ResponseEntity.ok(email);\r\n    \t}\r\n    \t\r\n    \t@PutMapping(value=&quot;/{email}&quot;, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; update(@PathVariable @Email String email, @RequestBody @Valid User user) {\r\n    \t\tusersService.update(email, user);\r\n    \t\treturn ResponseEntity.ok(user);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI have one test with 2 methods. One is working returning http code 200, but the other returns 403.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @WithMockUser(username = &quot;user&quot;, roles = &quot;USER&quot;)\r\n    public class UsersControllerTest {\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tprivate MockMvc mockMvc;\r\n    \t\r\n    \t@Test\r\n    \tpublic void findUser() throws Exception {\r\n    \t\tmockMvc.perform(get(&quot;/users/{email}&quot;, new Object[] {&quot;boy@test.com&quot;})).andExpect(status().isOk()).andExpect(jsonPath(&quot;$.email&quot;, equalTo(&quot;boy@test.com&quot;))).andExpect(jsonPath(&quot;$.userName&quot;, equalTo(&quot;boy&quot;)));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void insertGetModifyDelete() throws Exception {\r\n    \t\tUser user = new User(&quot;userName&quot;, &quot;email@email.com&quot;);\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tString json = mapper.writeValueAsString(user);\r\n    \t\tmockMvc.perform(post(&quot;/users&quot;).content(json).contentType(MediaType.APPLICATION_JSON).accept(MediaType.APPLICATION_JSON)).andExpect(status().isOk());\r\n    \t\tmockMvc.perform(put(&quot;/users/{email}&quot;, new Object[] {user.getEmail()}).content(json)).andDo(print()).andExpect(status().isOk());\r\n    \t\tmockMvc.perform(delete(&quot;/users/{email}&quot;, new Object[] {user.getEmail()}).content(json)).andDo(print()).andExpect(status().isOk());\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd this is the output of the test:\r\n\r\n    MockHttpServletRequest:\r\n          HTTP Method = GET\r\n          Request URI = /users/boy@test.com\r\n           Parameters = {}\r\n              Headers = {}\r\n                 Body = null\r\n        Session Attrs = {SPRING_SECURITY_CONTEXT=org.springframework.security.core.context.SecurityContextImpl@ca25360: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ca25360: Principal: org.springframework.security.core.userdetails.User@36ebcb: Username: user; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER}\r\n    \r\n    Handler:\r\n                 Type = es.tododev.fairtasks.rest.UsersController\r\n               Method = public es.tododev.fairtasks.dto.User es.tododev.fairtasks.rest.UsersController.get(java.lang.String)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = null\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = {Content-Disposition=[inline;filename=f.txt], Content-Type=[application/json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0], X-Frame-Options=[DENY]}\r\n         Content type = application/json;charset=UTF-8\r\n                 Body = {&quot;userName&quot;:&quot;boy&quot;,&quot;email&quot;:&quot;boy@test.com&quot;}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    MockHttpServletRequest:\r\n          HTTP Method = POST\r\n          Request URI = /users\r\n           Parameters = {}\r\n              Headers = {Content-Type=[application/json;charset=UTF-8], Accept=[application/json]}\r\n                 Body = {&quot;userName&quot;:&quot;userName&quot;,&quot;email&quot;:&quot;email@email.com&quot;}\r\n        Session Attrs = {org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.CSRF_TOKEN=org.springframework.security.web.csrf.DefaultCsrfToken@66944c7c, SPRING_SECURITY_CONTEXT=org.springframework.security.core.context.SecurityContextImpl@ca25360: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ca25360: Principal: org.springframework.security.core.userdetails.User@36ebcb: Username: user; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER}\r\n    \r\n    Handler:\r\n                 Type = null\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = null\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 403\r\n        Error message = Forbidden\r\n              Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0], X-Frame-Options=[DENY]}\r\n         Content type = null\r\n                 Body =\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    [ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 6.155 s &lt;&lt;&lt; FAILURE! - in es.tododev.fairtasks.rest.UsersControllerTest\r\n    [ERROR] insertGetModifyDelete(es.tododev.fairtasks.rest.UsersControllerTest)  Time elapsed: 0.028 s  &lt;&lt;&lt; FAILURE!\r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;403&gt;\r\n            at es.tododev.fairtasks.rest.UsersControllerTest.insertGetModifyDelete(UsersControllerTest.java:48)\r\n\r\n\r\n","title":"Unit test Springboot MockMvc returns 403 Forbidden","body":"<p>I wrote one unit test that tests UsersController. UsersControllerTest.findUser is working fine, but UsersControllerTest.insertGetModifyDelete it doesn't.</p>\n\n<p>In the log of the test I can see that the POST request doesn't match any method of UsersController, but I don't understand why. Could you help me with this, please?.</p>\n\n<p>This is my rest java class:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/users\")\npublic class UsersController {\n\n    private final UsersService usersService;\n\n    @Autowired\n    public UsersController(UsersService usersService) {\n        this.usersService = usersService;\n    }\n\n    @GetMapping(value=\"/{email}\", produces=\"application/json\")\n    public User get(@PathVariable @Email String email) {\n        return usersService.findByEmail(email);\n    }\n\n    @PostMapping(consumes=\"application/json\", produces=\"application/json\")\n    @ResponseBody\n    public ResponseEntity&lt;String&gt; insert(@RequestBody @Valid User user){\n        usersService.insert(user);\n        return ResponseEntity.ok(user.getEmail());\n    }\n\n    @DeleteMapping(value=\"/{email}\", consumes=\"application/json\", produces=\"application/json\")\n    public ResponseEntity&lt;String&gt; delete(@PathVariable @Email String email) {\n        usersService.delete(email);\n        return ResponseEntity.ok(email);\n    }\n\n    @PutMapping(value=\"/{email}\", consumes=\"application/json\", produces=\"application/json\")\n    public ResponseEntity&lt;User&gt; update(@PathVariable @Email String email, @RequestBody @Valid User user) {\n        usersService.update(email, user);\n        return ResponseEntity.ok(user);\n    }\n\n}\n</code></pre>\n\n<p>I have one test with 2 methods. One is working returning http code 200, but the other returns 403.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@WithMockUser(username = \"user\", roles = \"USER\")\npublic class UsersControllerTest {\n\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void findUser() throws Exception {\n        mockMvc.perform(get(\"/users/{email}\", new Object[] {\"boy@test.com\"})).andExpect(status().isOk()).andExpect(jsonPath(\"$.email\", equalTo(\"boy@test.com\"))).andExpect(jsonPath(\"$.userName\", equalTo(\"boy\")));\n    }\n\n    @Test\n    public void insertGetModifyDelete() throws Exception {\n        User user = new User(\"userName\", \"email@email.com\");\n        ObjectMapper mapper = new ObjectMapper();\n        String json = mapper.writeValueAsString(user);\n        mockMvc.perform(post(\"/users\").content(json).contentType(MediaType.APPLICATION_JSON).accept(MediaType.APPLICATION_JSON)).andExpect(status().isOk());\n        mockMvc.perform(put(\"/users/{email}\", new Object[] {user.getEmail()}).content(json)).andDo(print()).andExpect(status().isOk());\n        mockMvc.perform(delete(\"/users/{email}\", new Object[] {user.getEmail()}).content(json)).andDo(print()).andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n\n<p>And this is the output of the test:</p>\n\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /users/boy@test.com\n       Parameters = {}\n          Headers = {}\n             Body = null\n    Session Attrs = {SPRING_SECURITY_CONTEXT=org.springframework.security.core.context.SecurityContextImpl@ca25360: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ca25360: Principal: org.springframework.security.core.userdetails.User@36ebcb: Username: user; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER}\n\nHandler:\n             Type = es.tododev.fairtasks.rest.UsersController\n           Method = public es.tododev.fairtasks.dto.User es.tododev.fairtasks.rest.UsersController.get(java.lang.String)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = {Content-Disposition=[inline;filename=f.txt], Content-Type=[application/json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0], X-Frame-Options=[DENY]}\n     Content type = application/json;charset=UTF-8\n             Body = {\"userName\":\"boy\",\"email\":\"boy@test.com\"}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\nMockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /users\n       Parameters = {}\n          Headers = {Content-Type=[application/json;charset=UTF-8], Accept=[application/json]}\n             Body = {\"userName\":\"userName\",\"email\":\"email@email.com\"}\n    Session Attrs = {org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.CSRF_TOKEN=org.springframework.security.web.csrf.DefaultCsrfToken@66944c7c, SPRING_SECURITY_CONTEXT=org.springframework.security.core.context.SecurityContextImpl@ca25360: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ca25360: Principal: org.springframework.security.core.userdetails.User@36ebcb: Username: user; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER}\n\nHandler:\n             Type = null\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 403\n    Error message = Forbidden\n          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0], X-Frame-Options=[DENY]}\n     Content type = null\n             Body =\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n[ERROR] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 6.155 s &lt;&lt;&lt; FAILURE! - in es.tododev.fairtasks.rest.UsersControllerTest\n[ERROR] insertGetModifyDelete(es.tododev.fairtasks.rest.UsersControllerTest)  Time elapsed: 0.028 s  &lt;&lt;&lt; FAILURE!\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;403&gt;\n        at es.tododev.fairtasks.rest.UsersControllerTest.insertGetModifyDelete(UsersControllerTest.java:48)\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","testing","testng"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670265431,"post_id":74692564,"comment_id":131831660,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] your question to include the stack trace as properly formatted text. It would also help if you showed the code of the failing test, because as it is, we&#39;re just guessing.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/74692564/edit\">edit</a> your question to include the stack trace as properly formatted text. It would also help if you showed the code of the failing test, because as it is, we&#39;re just guessing."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1670404309,"post_id":74692564,"comment_id":131866630,"body_markdown":"Can you include the causing exception w/ stack?","body":"Can you include the causing exception w/ stack?"}],"owner":{"account_id":20651232,"reputation":15,"user_id":17151400,"display_name":"ccaldito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670263768,"creation_date":1670263768,"question_id":74692564,"body_markdown":"I have a project with selenium in java and i use TestNG for the suits to execute regression tests. Im trying to execute one, and doesnt matter wheter i try doing it on Firefox or Chrome that i get an error. The explorer opens with &#39;data&#39; as url and with empty content, and then immediatly closes to do the same once and once again. I get the following error message:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xhvla.png\r\n\r\nThe &#39;Hubo un error al intentar obtener variables&#39; is a custom exception message.","title":"Expected a &#39;:&#39; after a key at 1332 - Selenium JAVA/TestNG","body":"<p>I have a project with selenium in java and i use TestNG for the suits to execute regression tests. Im trying to execute one, and doesnt matter wheter i try doing it on Firefox or Chrome that i get an error. The explorer opens with 'data' as url and with empty content, and then immediatly closes to do the same once and once again. I get the following error message:\n<a href=\"https://i.stack.imgur.com/xhvla.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhvla.png\" alt=\"enter image description here\" /></a></p>\n<p>The 'Hubo un error al intentar obtener variables' is a custom exception message.</p>\n"},{"tags":["java","android","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670277506,"post_id":74692555,"comment_id":131835089,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27155599,"reputation":21,"user_id":20694474,"display_name":"Faiyas Mahmud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670263743,"creation_date":1670263743,"question_id":74692555,"body_markdown":" Could not initialize class org.codehaus.groovy.runtime.InvokerHelper\r\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]\r\n\r\nHow do i fix this issue?It&#39;s a flutter code and it rends well in apk but when i try to builds bundle it give me this error ","title":"Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]","body":"<p>Could not initialize class org.codehaus.groovy.runtime.InvokerHelper</p>\n<blockquote>\n<p>Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]</p>\n</blockquote>\n<p>How do i fix this issue?It's a flutter code and it rends well in apk but when i try to builds bundle it give me this error</p>\n"},{"tags":["java","design-patterns","refactoring"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670260855,"post_id":74691902,"comment_id":131830282,"body_markdown":"Hint: in your example `filter` probably takes a `Predicated&lt;B&gt;`, so just let that be passed into your common method. Second, mostly unrelated hint: you can replace `b -&gt; b.isRegistered()` with simple `B::isRegistered` (a method reference).","body":"Hint: in your example <code>filter</code> probably takes a <code>Predicated&lt;B&gt;</code>, so just let that be passed into your common method. Second, mostly unrelated hint: you can replace <code>b -&gt; b.isRegistered()</code> with simple <code>B::isRegistered</code> (a method reference)."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670263665,"creation_date":1670261225,"answer_id":74692087,"question_id":74691902,"body_markdown":"```java\r\npublic class A {\r\n   private List&lt;B&gt; list;\r\n\r\n   private String find(Predicate&lt;B&gt; filter) {\r\n      return list.stream()\r\n                 .some filter operations\r\n                 .filter(filter)\r\n                 .some mapping;\r\n   }\r\n\r\n   public String findCreated() {\r\n      return find(B::isCreated);\r\n   }\r\n\r\n   public String findRegistered() {\r\n      return find(B::isRegistered);\r\n   }\r\n}\r\n```","title":"How to avoid code duplication in Java having one line difference in methods","body":"<pre class=\"lang-java prettyprint-override\"><code>public class A {\n   private List&lt;B&gt; list;\n\n   private String find(Predicate&lt;B&gt; filter) {\n      return list.stream()\n                 .some filter operations\n                 .filter(filter)\n                 .some mapping;\n   }\n\n   public String findCreated() {\n      return find(B::isCreated);\n   }\n\n   public String findRegistered() {\n      return find(B::isRegistered);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":10458031,"reputation":35,"user_id":7709706,"display_name":"Yakimget"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670263665,"creation_date":1670260249,"question_id":74691902,"body_markdown":"I have following classes:\r\n\r\n```\r\npublic class A {\r\n   private List&lt;B&gt; list;\r\n\r\n   ...\r\n\r\n   public String findCreated() {\r\n      return list.stream()\r\n\t             .\r\n\t\t         .some filter operations\r\n\t\t         .\r\n\t\t         .filter(b -&gt; b.isCreated())\r\n\t\t         .\r\n\t\t         .some mapping\r\n   }\r\n\r\n   public String findRegistered() {\r\n      return list.stream()\r\n\t             .\r\n\t\t         .some filter operations\r\n\t\t         .\r\n\t\t         .filter(b -&gt; b.isRegistered())\r\n\t\t         .\r\n\t\t         .some mapping\r\n   }\r\n}\r\n\r\npublic class B {\r\n\tprivate boolean created;\r\n\tprivate boolean registered;\r\n\r\n    ...\r\n\r\n\tpublic boolean isCreated() {\r\n\t\treturn created;\r\n\t}\r\n\r\n\tpublic boolean isRegistered() {\r\n\t\treturn registered;\r\n\t}\r\n\r\n    ...\r\n}\r\n```\r\n\r\nI would like to refactor this code and have one *find* method in class A, because *find* methods differ by only one line. Do you know how to avoid duplicating code in this example?\r\n\r\nWould any design pattern solve this problem?","title":"How to avoid code duplication in Java having one line difference in methods","body":"<p>I have following classes:</p>\n<pre><code>public class A {\n   private List&lt;B&gt; list;\n\n   ...\n\n   public String findCreated() {\n      return list.stream()\n                 .\n                 .some filter operations\n                 .\n                 .filter(b -&gt; b.isCreated())\n                 .\n                 .some mapping\n   }\n\n   public String findRegistered() {\n      return list.stream()\n                 .\n                 .some filter operations\n                 .\n                 .filter(b -&gt; b.isRegistered())\n                 .\n                 .some mapping\n   }\n}\n\npublic class B {\n    private boolean created;\n    private boolean registered;\n\n    ...\n\n    public boolean isCreated() {\n        return created;\n    }\n\n    public boolean isRegistered() {\n        return registered;\n    }\n\n    ...\n}\n</code></pre>\n<p>I would like to refactor this code and have one <em>find</em> method in class A, because <em>find</em> methods differ by only one line. Do you know how to avoid duplicating code in this example?</p>\n<p>Would any design pattern solve this problem?</p>\n"},{"tags":["java","java-stream","java-9"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670259638,"post_id":74691672,"comment_id":131829868,"body_markdown":"I guess that Java got a bit smarter at short-circuiting the count, so it skips the map as it doesn&#39;t need to evaluate it to obtain the count. That is just a guess though.","body":"I guess that Java got a bit smarter at short-circuiting the count, so it skips the map as it doesn&#39;t need to evaluate it to obtain the count. That is just a guess though."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1670259818,"post_id":74691672,"comment_id":131829928,"body_markdown":"See also the note on [`Stream.count()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#count()): _&quot;An implementation may choose to not execute the stream pipeline (either sequentially or in parallel) if it is capable of computing the count directly from the stream source. In such cases no source elements will be traversed and no intermediate operations will be evaluated.&quot;_.","body":"See also the note on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#count()\" rel=\"nofollow noreferrer\"><code>Stream.count()</code></a>: <i>&quot;An implementation may choose to not execute the stream pipeline (either sequentially or in parallel) if it is capable of computing the count directly from the stream source. In such cases no source elements will be traversed and no intermediate operations will be evaluated.&quot;</i>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670261566,"post_id":74691672,"comment_id":131830497,"body_markdown":"When doing this kind of migration, it&#39;s much more helpful if you test in small increments, even when the intermediate versions are not LTS. You&#39;ve only narrowed it down to one of 9 major versions here. If you&#39;d tested on Java 9, then 10, then 11, you would have cut down your search space by almost 90%. At it happens, this is an issue from the jump from 8 to 9 specifically.","body":"When doing this kind of migration, it&#39;s much more helpful if you test in small increments, even when the intermediate versions are not LTS. You&#39;ve only narrowed it down to one of 9 major versions here. If you&#39;d tested on Java 9, then 10, then 11, you would have cut down your search space by almost 90%. At it happens, this is an issue from the jump from 8 to 9 specifically."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1670263166,"post_id":74691672,"comment_id":131831004,"body_markdown":"@Michael I dont really see how knowing that it started failing in 9 would really help. With this info you still have to review all possible changes in 9 that might affect you, and think about diffing the Javadoc, with the same result as diffing the Java 17 Javadoc in this case. I can agree it may sometimes help answerers, but you can still do it once they request it  and it wasnt necessary here. (anyway, this particular question is a dupe)","body":"@Michael I dont really see how knowing that it started failing in 9 would really help. With this info you still have to review all possible changes in 9 that might affect you, and think about diffing the Javadoc, with the same result as diffing the Java 17 Javadoc in this case. I can agree it may sometimes help answerers, but you can still do it once they request it  and it wasnt necessary here. (anyway, this particular question is a dupe)"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670263378,"post_id":74691672,"comment_id":131831084,"body_markdown":"@DidierL googling &quot;java 9 stream count&quot;, the answer is contained within the first result. googling &quot;java 17 stream count&quot; returns nothing useful. I find it utterly baffling that you think knowing the version that introduced a breaking change is useless. And I&#39;m not talking about helping us. I&#39;m talking about a process of migrating that will help *them* if they do it in future, or would have helped them if they did it this time. That&#39;s why I started with &quot;When doing this kind of migration&quot;.","body":"@DidierL googling &quot;java 9 stream count&quot;, the answer is contained within the first result. googling &quot;java 17 stream count&quot; returns nothing useful. I find it utterly baffling that you think knowing the version that introduced a breaking change is useless. And I&#39;m not talking about helping us. I&#39;m talking about a process of migrating that will help <i>them</i> if they do it in future, or would have helped them if they did it this time. That&#39;s why I started with &quot;When doing this kind of migration&quot;."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1670284985,"post_id":74691672,"comment_id":131836595,"body_markdown":"@Michael well, if I search &quot;java stream count issue&quot;, I find the correct answer as well. But if one knows the problem is with _count_, maybe they should start with reading its Javadoc? This change is not mentioned in the Java 9 release notes, so no help there. But I admit I was too radical in my comment. The thing is, testing intermediate versions from 9 to 17 is time consuming (online compilers would work here though). I dont blame OP for not doing it but they could have spent more time searching (having an MRE was nice but playing around with variations should pinpoint to the _count_).","body":"@Michael well, if I search &quot;java stream count issue&quot;, I find the correct answer as well. But if one knows the problem is with <i>count</i>, maybe they should start with reading its Javadoc? This change is not mentioned in the Java 9 release notes, so no help there. But I admit I was too radical in my comment. The thing is, testing intermediate versions from 9 to 17 is time consuming (online compilers would work here though). I dont blame OP for not doing it but they could have spent more time searching (having an MRE was nice but playing around with variations should pinpoint to the <i>count</i>)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670606888,"post_id":74691672,"comment_id":131920158,"body_markdown":"What is the purpose of a construct like `streamNonnulls(Collections.singleton(message)) .filter(not(Collection::isEmpty)) .findFirst() .map(Collection::stream) .orElseGet(Stream::empty)`? The result of `Collections.singleton(message)` is never `null` and never empty, so the result of the entire expression is know at compile-time to be equivalent to `Stream.of(message)`. And using that straight-forward expression would still reproduce your problem.","body":"What is the purpose of a construct like <code>streamNonnulls(Collections.singleton(message)) .filter(not(Collection::isEmpty)) .findFirst() .map(Collection::stream) .orElseGet(Stream::empty)</code>? The result of <code>Collections.singleton(message)</code> is never <code>null</code> and never empty, so the result of the entire expression is know at compile-time to be equivalent to <code>Stream.of(message)</code>. And using that straight-forward expression would still reproduce your problem."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1670260726,"post_id":74691866,"comment_id":131830229,"body_markdown":"The documentation of `Stream.count()` also explicitly calls this out (see my comment on the question). It might be worthwhile to include it in your answer.","body":"The documentation of <code>Stream.count()</code> also explicitly calls this out (see my comment on the question). It might be worthwhile to include it in your answer."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670263314,"creation_date":1670260035,"answer_id":74691866,"question_id":74691672,"body_markdown":"You&#39;re relying on the *side-effects* performed via `map()` operation, which is discouraged by the documentation (*especially if in your real code you&#39;re doing something more important than printing `&quot;hello&quot;` on the console*).\r\n\r\nHere&#39;s a quote from the [Stream API documentation][sideEffects]:\r\n\r\n&gt; Side-effects in behavioral parameters to stream operations are, in \r\n&gt; general, discouraged, as they can often lead to unwitting violations\r\n&gt; of the statelessness requirement, as well as other thread-safety\r\n&gt; hazards.\r\n&gt; \r\n&gt; If the behavioral parameters do have side-effects, unless explicitly\r\n&gt; stated, there are **no guarantees** as to:\r\n&gt; \r\n&gt; * the visibility of those side-effects to other threads;\r\n&gt; * that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and\r\n&gt; * **that behavioral parameters are always invoked**, since a stream implementation is free to elide operations (or entire stages) from a\r\n&gt; stream pipeline if it can prove that it would not affect the result of\r\n&gt; the computation.\r\n\r\n&gt; The eliding of side-effects may also be surprising. With the exception of terminal operations `forEach` and `forEachOrdered`, **side-effects** of behavioral parameters **may not always be executed** when the stream **implementation can optimize away the execution of behavioral parameters without affecting the result** of the computation.\r\n\r\n&lt;sup&gt;Emphases added&lt;/sup&gt;\r\n\r\nThat means that implementations are free to elide the *side-effects* from the places where they are not expected or(*and*) would not affect the result of the stream execution.\r\n\r\nAn example of such optimization is the behavior of the [`count()`][count] operation:\r\n\r\n&gt; An implementation may choose to not execute the stream pipeline\r\n&gt; (either sequentially or in parallel) if it is capable of computing the\r\n&gt; count directly from the stream source. In such cases no source\r\n&gt; elements will be traversed and no intermediate operations will be\r\n&gt; evaluated.&quot;.\r\n\r\nSince Java 9 `count` would optimize away operations that doesn&#39;t change the number of elements in the stream in case if the source of the stream can provide the information about the number of elements.\r\n\r\nAnother example is eliding of the [`peek()`][peek] operation, which according to the documentation *&quot;exists mainly to support debugging&quot;* and can be optimized away since it doesn&#39;t supposed to contribute to the result produced by the terminal operations like `reduce` or `collect`, or interfere with the resulting action performed by `forEach`/`forEachOrdered`.\r\n\r\n[*Here*][example] you can find a description of the case where `peek` has been elided (*whilst **none** of the other intermediate operations was skipped*).\r\n\r\n_________________________________________________\r\n\r\n**The bottom line:** the code should not depend on the behavior, which is not guaranteed.\r\n\r\n\r\n\r\n\r\n   [sideEffects]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\r\n\r\n   [count]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#count()\r\n\r\n   [peek]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\r\n\r\n   [example]: https://stackoverflow.com/questions/72987975/streams-parallel-skip-not-showing-an-element/72988231","title":"Issue with Stream processing when migrating from Java 8 to 9","body":"<p>You're relying on the <em>side-effects</em> performed via <code>map()</code> operation, which is discouraged by the documentation (<em>especially if in your real code you're doing something more important than printing <code>&quot;hello&quot;</code> on the console</em>).</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">Stream API documentation</a>:</p>\n<blockquote>\n<p>Side-effects in behavioral parameters to stream operations are, in\ngeneral, discouraged, as they can often lead to unwitting violations\nof the statelessness requirement, as well as other thread-safety\nhazards.</p>\n<p>If the behavioral parameters do have side-effects, unless explicitly\nstated, there are <strong>no guarantees</strong> as to:</p>\n<ul>\n<li>the visibility of those side-effects to other threads;</li>\n<li>that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and</li>\n<li><strong>that behavioral parameters are always invoked</strong>, since a stream implementation is free to elide operations (or entire stages) from a\nstream pipeline if it can prove that it would not affect the result of\nthe computation.</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>The eliding of side-effects may also be surprising. With the exception of terminal operations <code>forEach</code> and <code>forEachOrdered</code>, <strong>side-effects</strong> of behavioral parameters <strong>may not always be executed</strong> when the stream <strong>implementation can optimize away the execution of behavioral parameters without affecting the result</strong> of the computation.</p>\n</blockquote>\n<p><sup>Emphases added</sup></p>\n<p>That means that implementations are free to elide the <em>side-effects</em> from the places where they are not expected or(<em>and</em>) would not affect the result of the stream execution.</p>\n<p>An example of such optimization is the behavior of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#count()\" rel=\"nofollow noreferrer\"><code>count()</code></a> operation:</p>\n<blockquote>\n<p>An implementation may choose to not execute the stream pipeline\n(either sequentially or in parallel) if it is capable of computing the\ncount directly from the stream source. In such cases no source\nelements will be traversed and no intermediate operations will be\nevaluated.&quot;.</p>\n</blockquote>\n<p>Since Java 9 <code>count</code> would optimize away operations that doesn't change the number of elements in the stream in case if the source of the stream can provide the information about the number of elements.</p>\n<p>Another example is eliding of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>peek()</code></a> operation, which according to the documentation <em>&quot;exists mainly to support debugging&quot;</em> and can be optimized away since it doesn't supposed to contribute to the result produced by the terminal operations like <code>reduce</code> or <code>collect</code>, or interfere with the resulting action performed by <code>forEach</code>/<code>forEachOrdered</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/72987975/streams-parallel-skip-not-showing-an-element/72988231\"><em>Here</em></a> you can find a description of the case where <code>peek</code> has been elided (<em>whilst <strong>none</strong> of the other intermediate operations was skipped</em>).</p>\n<hr />\n<p><strong>The bottom line:</strong> the code should not depend on the behavior, which is not guaranteed.</p>\n"}],"owner":{"account_id":16051139,"reputation":83,"user_id":11584992,"display_name":"Kartik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1670263650,"accepted_answer_id":74691866,"answer_count":1,"score":2,"last_activity_date":1670263620,"creation_date":1670259091,"question_id":74691672,"body_markdown":"The below code compiled with Java 8 works as expected but doesn&#39;t work with Java 9. Not sure what changed in the Streams execution.\r\n\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Stream;\r\nimport java.lang.*;\r\n\r\npublic class TestingJavaStream {\r\n    public static void main(String[] args) {\r\n\r\n        Message message = new Message();\r\n        message.setName(&quot;Hello World!&quot;);\r\n\r\n        Stream&lt;Message&gt; messageStream = streamNonnulls(Collections.singleton(message))\r\n                .filter(not(Collection::isEmpty))\r\n                .findFirst()\r\n                .map(Collection::stream)\r\n                .orElseGet(Stream::empty);\r\n\r\n        System.out.println(&quot;Number of messages printed are &quot; \r\n                + messageStream\r\n                        .map(TestingJavaStream::print)\r\n                        .count());\r\n    }\r\n\r\n    public static class Message {\r\n        private String name;\r\n\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj)\r\n                return true;\r\n            if (obj == null)\r\n                return false;\r\n            if (getClass() != obj.getClass())\r\n                return false;\r\n            Message other = (Message) obj;\r\n            if (name == null) {\r\n                if (other.name != null)\r\n                    return false;\r\n            } else if (!name.equals(other.name))\r\n                return false;\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Message [name=&quot; + name + &quot;]&quot;;\r\n        }\r\n\r\n    }\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Stream&lt;T&gt; streamNonnulls(T... in) {\r\n        return stream(in).filter(Objects::nonNull);\r\n    }\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Stream&lt;T&gt; stream(T... in) {\r\n        return Optional.ofNullable(in)\r\n                .filter(arr -&gt; !(arr.length == 1 &amp;&amp; arr[0] == null))\r\n                .map(Stream::of)\r\n                .orElseGet(Stream::empty);\r\n    }\r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; p) {\r\n        return (T x) -&gt; !p.test(x);\r\n    }\r\n\r\n    public static Message print(Message someValue) {\r\n        System.out.println(&quot;Message is  :: &quot;+someValue.toString());\r\n        return someValue;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe `print` method in the code prints the message when executed with 8 but doesn&#39;t when executed with 9. \r\n\r\n\r\n\r\nPS: I understand the stream code can be simplified by changing the Optional logic to stream().flatmap(...) but that&#39;s beside the point.\r\n","title":"Issue with Stream processing when migrating from Java 8 to 9","body":"<p>The below code compiled with Java 8 works as expected but doesn't work with Java 9. Not sure what changed in the Streams execution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.function.Predicate;\nimport java.util.stream.Stream;\nimport java.lang.*;\n\npublic class TestingJavaStream {\n    public static void main(String[] args) {\n\n        Message message = new Message();\n        message.setName(&quot;Hello World!&quot;);\n\n        Stream&lt;Message&gt; messageStream = streamNonnulls(Collections.singleton(message))\n                .filter(not(Collection::isEmpty))\n                .findFirst()\n                .map(Collection::stream)\n                .orElseGet(Stream::empty);\n\n        System.out.println(&quot;Number of messages printed are &quot; \n                + messageStream\n                        .map(TestingJavaStream::print)\n                        .count());\n    }\n\n    public static class Message {\n        private String name;\n\n        public String getName() {\n            return this.name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + ((name == null) ? 0 : name.hashCode());\n            return result;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj)\n                return true;\n            if (obj == null)\n                return false;\n            if (getClass() != obj.getClass())\n                return false;\n            Message other = (Message) obj;\n            if (name == null) {\n                if (other.name != null)\n                    return false;\n            } else if (!name.equals(other.name))\n                return false;\n            return true;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Message [name=&quot; + name + &quot;]&quot;;\n        }\n\n    }\n\n    @SafeVarargs\n    public static &lt;T&gt; Stream&lt;T&gt; streamNonnulls(T... in) {\n        return stream(in).filter(Objects::nonNull);\n    }\n\n    @SafeVarargs\n    public static &lt;T&gt; Stream&lt;T&gt; stream(T... in) {\n        return Optional.ofNullable(in)\n                .filter(arr -&gt; !(arr.length == 1 &amp;&amp; arr[0] == null))\n                .map(Stream::of)\n                .orElseGet(Stream::empty);\n    }\n\n    public static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; p) {\n        return (T x) -&gt; !p.test(x);\n    }\n\n    public static Message print(Message someValue) {\n        System.out.println(&quot;Message is  :: &quot;+someValue.toString());\n        return someValue;\n    }\n}\n</code></pre>\n<p>The <code>print</code> method in the code prints the message when executed with 8 but doesn't when executed with 9.</p>\n<p>PS: I understand the stream code can be simplified by changing the Optional logic to stream().flatmap(...) but that's beside the point.</p>\n"},{"tags":["java","xml","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1670686791,"post_id":74691798,"comment_id":131932946,"body_markdown":"check documentation https://logging.apache.org/log4j/2.x/manual/configuration.html","body":"check documentation <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/configuration.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":20030252,"reputation":31,"user_id":14683196,"display_name":"tefan Jiroveanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670263205,"creation_date":1670263205,"answer_id":74692453,"question_id":74691798,"body_markdown":"I had the properties file and xml file both in resources folder.","title":"Log4j2.xml configuration doesn&#39;t work but log4j2.properties does","body":"<p>I had the properties file and xml file both in resources folder.</p>\n"}],"owner":{"account_id":20030252,"reputation":31,"user_id":14683196,"display_name":"tefan Jiroveanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670263205,"creation_date":1670259659,"question_id":74691798,"body_markdown":"Hello I have this problem were if i use a log4j2.xml file as a configuration file the logger won&#39;t log to console, whereas if i am using a .properties file instead i will have the logs in file.\r\n\r\nThis is the .xml file \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Extra logging related to initialization of Log4j. \r\n Set to debug or trace if log4j initialization is failing. --&gt;\r\n&lt;Configuration status=&quot;warn&quot;&gt;\r\n    &lt;Appenders&gt;\r\n    \t&lt;!-- Console appender configuration --&gt;\r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n    \t&lt;!-- Root logger referring to console appender --&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n.properties file:\r\n```\r\n# Set to debug or trace if log4j initialization is failing\r\nstatus = warn\r\n\r\n# Name of the configuration\r\nname = ConsoleLogConfigDemo\r\n\r\n# Console appender configuration\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n# Root logger level\r\nrootLogger.level = debug\r\n\r\n# Root logger referring to console appender\r\nrootLogger.appenderRef.stdout.ref = consoleLogger\r\n```\r\n(I am trying to do this for a migration from log4j to log4j2 and if i am using the .properties file everything seems to work)\r\n","title":"Log4j2.xml configuration doesn&#39;t work but log4j2.properties does","body":"<p>Hello I have this problem were if i use a log4j2.xml file as a configuration file the logger won't log to console, whereas if i am using a .properties file instead i will have the logs in file.</p>\n<p>This is the .xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Extra logging related to initialization of Log4j. \n Set to debug or trace if log4j initialization is failing. --&gt;\n&lt;Configuration status=&quot;warn&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Console appender configuration --&gt;\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Root logger referring to console appender --&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>.properties file:</p>\n<pre><code># Set to debug or trace if log4j initialization is failing\nstatus = warn\n\n# Name of the configuration\nname = ConsoleLogConfigDemo\n\n# Console appender configuration\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Root logger level\nrootLogger.level = debug\n\n# Root logger referring to console appender\nrootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n<p>(I am trying to do this for a migration from log4j to log4j2 and if i am using the .properties file everything seems to work)</p>\n"},{"tags":["java","android","toast"],"answers":[{"tags":[],"owner":{"account_id":19252691,"reputation":16,"user_id":14070306,"display_name":"Ashutosh "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670263110,"creation_date":1670263047,"answer_id":74692422,"question_id":74692086,"body_markdown":"you are assigning value to btnToast before the layout is created.\r\n\r\ntry this :\r\n\r\n  \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n       \r\n      super.onCreate(savedInstanceState);\r\n\r\n      binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n       \r\n      setContentView(binding.getRoot());\r\n    \r\n        btnToast = findViewById(R.id.btnToast);\r\n        btnToast.setOnClickListener(new View.OnClickListener() {\r\n        \r\n       @Override\r\n       public void onClick(View view) {\r\n         Toast.makeText(MainActivity.this,&quot;hello test 123&quot;,Toast.LENGTH_LONG).show();\r\n       }\r\n    });\r\n\r\n\r\n","title":"App crashes as soon as i add onclicklistener when trying to display toast","body":"<p>you are assigning value to btnToast before the layout is created.</p>\n<p>try this :</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n   \n  super.onCreate(savedInstanceState);\n\n  binding = ActivityMainBinding.inflate(getLayoutInflater());\n   \n  setContentView(binding.getRoot());\n\n    btnToast = findViewById(R.id.btnToast);\n    btnToast.setOnClickListener(new View.OnClickListener() {\n    \n   @Override\n   public void onClick(View view) {\n     Toast.makeText(MainActivity.this,&quot;hello test 123&quot;,Toast.LENGTH_LONG).show();\n   }\n});\n</code></pre>\n"}],"owner":{"account_id":27154917,"reputation":5,"user_id":20693901,"display_name":"Jack Barbour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74692422,"answer_count":1,"score":0,"last_activity_date":1670263110,"creation_date":1670261223,"question_id":74692086,"body_markdown":"soon as i try to add a toast my app crashes, i think i&#39;m doing everything correct, but maybe not, trying to get back into programming after long break and running into silly issues like this any ideas?\r\n\r\ni wrote the same code in java and in kotlin and still the app crashes\r\n\r\nit seems as soon as i add the on click listener the app no longer works\r\n\r\nis this a problem in the code or issues with my ide. \r\n\r\nhome xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/text_home&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n    &lt;Button\r\n            android:text=&quot;Button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/btnToast&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmain activity.java:\r\n\r\n```\r\npackage com.example.javaapp;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\nimport com.example.javaapp.databinding.ActivityMainBinding;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n    Button btnToast;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n          btnToast = findViewById(R.id.btnToast);\r\n        btnToast.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n       public void onClick(View view) {\r\n         Toast.makeText(MainActivity.this,&quot;hello test 123&quot;,Toast.LENGTH_LONG).show();\r\n       }\r\n    });\r\n\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        BottomNavigationView navView = findViewById(R.id.nav_view);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n    }\r\n\r\n\r\n\r\n```\r\nlogcat\r\n```\r\n\r\n2022-12-05 16:36:37.852 18840-18840 Process                 com.example.javaapp                  I  Sending signal. PID: 18840 SIG: 9\r\n---------------------------- PROCESS ENDED (18840) for package com.example.javaapp ----------------------------\r\n2022-12-05 16:38:07.020 17039-17039 studio.deploy           install_server-bde4359e              E  Could not remove dir &#39;/data/data/com.example.javaapp/code_cache/.ll/&#39;: No such file or directory\r\n---------------------------- PROCESS STARTED (19001) for package com.example.javaapp ----------------------------\r\n2022-12-05 16:38:07.581 19001-19001 Compatibil...geReporter com.example.javaapp                  D  Compat change id reported: 171979766; UID 10158; state: ENABLED\r\n2022-12-05 16:38:07.601 19001-19001 ziparchive              com.example.javaapp                  W  Unable to open &#39;/data/app/~~FeimdrJdwhN9iQHirqPvHg==/com.example.javaapp-WIltqAi8b9LeodOkfpOG5w==/base.dm&#39;: No such file or directory\r\n2022-12-05 16:38:07.601 19001-19001 ziparchive              com.example.javaapp                  W  Unable to open &#39;/data/app/~~FeimdrJdwhN9iQHirqPvHg==/com.example.javaapp-WIltqAi8b9LeodOkfpOG5w==/base.dm&#39;: No such file or directory\r\n2022-12-05 16:38:07.728 19001-19001 GraphicsEnvironment     com.example.javaapp                  V  ANGLE Developer option for &#39;com.example.javaapp&#39; set to: &#39;default&#39;\r\n2022-12-05 16:38:07.729 19001-19001 GraphicsEnvironment     com.example.javaapp                  V  ANGLE GameManagerService for com.example.javaapp: false\r\n2022-12-05 16:38:07.729 19001-19001 GraphicsEnvironment     com.example.javaapp                  V  Neither updatable production driver nor prerelease driver is supported.\r\n2022-12-05 16:38:07.732 19001-19001 NetworkSecurityConfig   com.example.javaapp                  D  No Network Security Config specified, using platform default\r\n2022-12-05 16:38:07.733 19001-19001 NetworkSecurityConfig   com.example.javaapp                  D  No Network Security Config specified, using platform default\r\n2022-12-05 16:38:07.752 19001-19026 libEGL                  com.example.javaapp                  D  loaded /vendor/lib64/egl/libEGL_emulation.so\r\n2022-12-05 16:38:07.753 19001-19026 libEGL                  com.example.javaapp                  D  loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\n2022-12-05 16:38:07.754 19001-19026 libEGL                  com.example.javaapp                  D  loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\n2022-12-05 16:38:07.806 19001-19001 example.javaapp         com.example.javaapp                  W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\n2022-12-05 16:38:07.806 19001-19001 example.javaapp         com.example.javaapp                  W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\n2022-12-05 16:38:07.807 19001-19001 Compatibil...geReporter com.example.javaapp                  D  Compat change id reported: 210923482; UID 10158; state: DISABLED\r\n2022-12-05 16:38:07.807 19001-19001 Compatibil...geReporter com.example.javaapp                  D  Compat change id reported: 37756858; UID 10158; state: ENABLED\r\n2022-12-05 16:38:07.810 19001-19001 AndroidRuntime          com.example.javaapp                  D  Shutting down VM\r\n2022-12-05 16:38:07.812 19001-19001 AndroidRuntime          com.example.javaapp                  E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.javaapp, PID: 19001\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.javaapp/com.example.javaapp.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3676)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7898)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                    \tat com.example.javaapp.MainActivity.onCreate(MainActivity.java:27)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8290)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8269)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3657)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7898)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n2022-12-05 16:38:07.833 19001-19001 Process                 com.example.javaapp                  I  Sending signal. PID: 19001 SIG: 9\r\n---------------------------- PROCESS ENDED (19001) for package com.example.javaapp ----------------------------\r\n\r\n```\r\n\r\n\r\n\r\n","title":"App crashes as soon as i add onclicklistener when trying to display toast","body":"<p>soon as i try to add a toast my app crashes, i think i'm doing everything correct, but maybe not, trying to get back into programming after long break and running into silly issues like this any ideas?</p>\n<p>i wrote the same code in java and in kotlin and still the app crashes</p>\n<p>it seems as soon as i add the on click listener the app no longer works</p>\n<p>is this a problem in the code or issues with my ide.</p>\n<p>home xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;TextView\n            android:id=&quot;@+id/text_home&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;20sp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n    &lt;Button\n            android:text=&quot;Button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/btnToast&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>main activity.java:</p>\n<pre><code>package com.example.javaapp;\nimport android.view.View;\nimport android.widget.Button;\nimport android.os.Bundle;\nimport android.widget.Toast;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\nimport com.example.javaapp.databinding.ActivityMainBinding;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    Button btnToast;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n          btnToast = findViewById(R.id.btnToast);\n        btnToast.setOnClickListener(new View.OnClickListener() {\n        @Override\n       public void onClick(View view) {\n         Toast.makeText(MainActivity.this,&quot;hello test 123&quot;,Toast.LENGTH_LONG).show();\n       }\n    });\n\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n    }\n\n\n\n</code></pre>\n<p>logcat</p>\n<pre><code>\n2022-12-05 16:36:37.852 18840-18840 Process                 com.example.javaapp                  I  Sending signal. PID: 18840 SIG: 9\n---------------------------- PROCESS ENDED (18840) for package com.example.javaapp ----------------------------\n2022-12-05 16:38:07.020 17039-17039 studio.deploy           install_server-bde4359e              E  Could not remove dir '/data/data/com.example.javaapp/code_cache/.ll/': No such file or directory\n---------------------------- PROCESS STARTED (19001) for package com.example.javaapp ----------------------------\n2022-12-05 16:38:07.581 19001-19001 Compatibil...geReporter com.example.javaapp                  D  Compat change id reported: 171979766; UID 10158; state: ENABLED\n2022-12-05 16:38:07.601 19001-19001 ziparchive              com.example.javaapp                  W  Unable to open '/data/app/~~FeimdrJdwhN9iQHirqPvHg==/com.example.javaapp-WIltqAi8b9LeodOkfpOG5w==/base.dm': No such file or directory\n2022-12-05 16:38:07.601 19001-19001 ziparchive              com.example.javaapp                  W  Unable to open '/data/app/~~FeimdrJdwhN9iQHirqPvHg==/com.example.javaapp-WIltqAi8b9LeodOkfpOG5w==/base.dm': No such file or directory\n2022-12-05 16:38:07.728 19001-19001 GraphicsEnvironment     com.example.javaapp                  V  ANGLE Developer option for 'com.example.javaapp' set to: 'default'\n2022-12-05 16:38:07.729 19001-19001 GraphicsEnvironment     com.example.javaapp                  V  ANGLE GameManagerService for com.example.javaapp: false\n2022-12-05 16:38:07.729 19001-19001 GraphicsEnvironment     com.example.javaapp                  V  Neither updatable production driver nor prerelease driver is supported.\n2022-12-05 16:38:07.732 19001-19001 NetworkSecurityConfig   com.example.javaapp                  D  No Network Security Config specified, using platform default\n2022-12-05 16:38:07.733 19001-19001 NetworkSecurityConfig   com.example.javaapp                  D  No Network Security Config specified, using platform default\n2022-12-05 16:38:07.752 19001-19026 libEGL                  com.example.javaapp                  D  loaded /vendor/lib64/egl/libEGL_emulation.so\n2022-12-05 16:38:07.753 19001-19026 libEGL                  com.example.javaapp                  D  loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\n2022-12-05 16:38:07.754 19001-19026 libEGL                  com.example.javaapp                  D  loaded /vendor/lib64/egl/libGLESv2_emulation.so\n2022-12-05 16:38:07.806 19001-19001 example.javaapp         com.example.javaapp                  W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\n2022-12-05 16:38:07.806 19001-19001 example.javaapp         com.example.javaapp                  W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\n2022-12-05 16:38:07.807 19001-19001 Compatibil...geReporter com.example.javaapp                  D  Compat change id reported: 210923482; UID 10158; state: DISABLED\n2022-12-05 16:38:07.807 19001-19001 Compatibil...geReporter com.example.javaapp                  D  Compat change id reported: 37756858; UID 10158; state: ENABLED\n2022-12-05 16:38:07.810 19001-19001 AndroidRuntime          com.example.javaapp                  D  Shutting down VM\n2022-12-05 16:38:07.812 19001-19001 AndroidRuntime          com.example.javaapp                  E  FATAL EXCEPTION: main\n                                                                                                    Process: com.example.javaapp, PID: 19001\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.javaapp/com.example.javaapp.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3676)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                        at android.os.Looper.loop(Looper.java:288)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7898)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n                                                                                                        at com.example.javaapp.MainActivity.onCreate(MainActivity.java:27)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8290)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8269)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3657)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                        at android.os.Looper.loop(Looper.java:288)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7898)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n2022-12-05 16:38:07.833 19001-19001 Process                 com.example.javaapp                  I  Sending signal. PID: 19001 SIG: 9\n---------------------------- PROCESS ENDED (19001) for package com.example.javaapp ----------------------------\n\n</code></pre>\n"},{"tags":["java","cassandra"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1615374688,"creation_date":1615374688,"answer_id":66563545,"question_id":66563371,"body_markdown":"No, there is no real advantage to storing JSON as string in Cassandra unless the underlying data in the JSON is really schema-less. It will also not save space but in fact use more because each item has to have a key+value instead of just storing the value.\r\n\r\nIf you can, I would recommend mapping the keys to CQL columns so you can store the values natively and accessing the data is more flexible. Cheers!","title":"Single data column vs multiple columns in Cassandra","body":"<p>No, there is no real advantage to storing JSON as string in Cassandra unless the underlying data in the JSON is really schema-less. It will also not save space but in fact use more because each item has to have a key+value instead of just storing the value.</p>\n<p>If you can, I would recommend mapping the keys to CQL columns so you can store the values natively and accessing the data is more flexible. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615385778,"creation_date":1615385778,"answer_id":66566556,"question_id":66563371,"body_markdown":"Erick is spot-on-correct with his answer.\r\n\r\nThe only thing I&#39;d add, would be that storing JSON blobs in a single column makes updates (even more) problematic.  If you update a single JSON property, the whole column gets rewritten.  Also the original JSON blob is _still there_...just &quot;obsoleted&quot; until compaction runs.  The only time that storing a JSON blob in a single column makes any sense, is if the properties don&#39;t change.\r\n\r\nAnd I agree, mapping the keys to CQL columns is a _much_ better option.","title":"Single data column vs multiple columns in Cassandra","body":"<p>Erick is spot-on-correct with his answer.</p>\n<p>The only thing I'd add, would be that storing JSON blobs in a single column makes updates (even more) problematic.  If you update a single JSON property, the whole column gets rewritten.  Also the original JSON blob is <em>still there</em>...just &quot;obsoleted&quot; until compaction runs.  The only time that storing a JSON blob in a single column makes any sense, is if the properties don't change.</p>\n<p>And I agree, mapping the keys to CQL columns is a <em>much</em> better option.</p>\n"},{"tags":[],"owner":{"account_id":14161,"reputation":7871,"user_id":28896,"accept_rate":81,"display_name":"Chris Simpson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670263048,"creation_date":1670263048,"answer_id":74692423,"question_id":66563371,"body_markdown":"I don&#39;t disagree with the excellent and already accepted answer by @erick-ramirez.\r\n\r\nHowever there is often a good case to be made for using frozen UDTs instead of separate columns for related data that is only ever going to be set and retrieved at the same time and will not be specifically filtered as part of your query.\r\n\r\nThe &quot;frozen&quot; part is important as it means less work for cassandra but does mean that you rewrite the whole value each update. \r\n\r\nThis can have a large performance boost over a large number of columns. The nice ScyllaDB people have a great post on that:\r\n\r\n[If You Care About Performance, Employ User Defined Types][1]\r\n\r\n(I know Scylla DB is not exactly Cassandra but I&#39;ve seen multiple articles that say the same thing about Cassandra)\r\n\r\nOne downside is that you add work to the application layer and sometimes mapping complex UDTs to your Java types will be interesting.\r\n\r\n  [1]: https://www.scylladb.com/2017/12/07/performance-udt/","title":"Single data column vs multiple columns in Cassandra","body":"<p>I don't disagree with the excellent and already accepted answer by @erick-ramirez.</p>\n<p>However there is often a good case to be made for using frozen UDTs instead of separate columns for related data that is only ever going to be set and retrieved at the same time and will not be specifically filtered as part of your query.</p>\n<p>The &quot;frozen&quot; part is important as it means less work for cassandra but does mean that you rewrite the whole value each update.</p>\n<p>This can have a large performance boost over a large number of columns. The nice ScyllaDB people have a great post on that:</p>\n<p><a href=\"https://www.scylladb.com/2017/12/07/performance-udt/\" rel=\"nofollow noreferrer\">If You Care About Performance, Employ User Defined Types</a></p>\n<p>(I know Scylla DB is not exactly Cassandra but I've seen multiple articles that say the same thing about Cassandra)</p>\n<p>One downside is that you add work to the application layer and sometimes mapping complex UDTs to your Java types will be interesting.</p>\n"}],"owner":{"account_id":2155965,"reputation":687,"user_id":1911196,"accept_rate":71,"display_name":"ndueck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66563545,"answer_count":3,"score":3,"last_activity_date":1670263048,"creation_date":1615374074,"question_id":66563371,"body_markdown":"I&#39;m working on a project with an existing cassandra database.\r\nThe schema looks like this:\r\n\r\n|partition key (big int)|clustering key1 (timestamp)|data (text)|\r\n|--|---------|-----------|\r\n|1 |2021-03-10 11:54:00.000 |{a:&quot;somedata&quot;, b:2, ...}|\r\n\r\nMy question is: Is there any advantage storing data in a json string?\r\nWill it save some space?\r\n\r\nUntil now I discovered disadvantages only:\r\n- You cannot (easily) add/drop columns at runtime, since the application could override the json string column.\r\n- Parsing the json string is currently the bottleneck regarding performance.","title":"Single data column vs multiple columns in Cassandra","body":"<p>I'm working on a project with an existing cassandra database.\nThe schema looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>partition key (big int)</th>\n<th>clustering key1 (timestamp)</th>\n<th>data (text)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2021-03-10 11:54:00.000</td>\n<td>{a:&quot;somedata&quot;, b:2, ...}</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>My question is: Is there any advantage storing data in a json string?\nWill it save some space?</p>\n<p>Until now I discovered disadvantages only:</p>\n<ul>\n<li>You cannot (easily) add/drop columns at runtime, since the application could override the json string column.</li>\n<li>Parsing the json string is currently the bottleneck regarding performance.</li>\n</ul>\n"},{"tags":["java","date","time","localdatetime"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670228711,"post_id":74685208,"comment_id":131818724,"body_markdown":"Your `String` is not of a standard/ISO format, you will have to create a custom `DateTimeFormatter` for that to work","body":"Your <code>String</code> is not of a standard/ISO format, you will have to create a custom <code>DateTimeFormatter</code> for that to work"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1670229461,"post_id":74685208,"comment_id":131818971,"body_markdown":"Does this answer your question? [How can I parse/format dates with LocalDateTime? (Java 8)](https://stackoverflow.com/questions/22463062/how-can-i-parse-format-dates-with-localdatetime-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22463062/how-can-i-parse-format-dates-with-localdatetime-java-8\">How can I parse/format dates with LocalDateTime? (Java 8)</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670232629,"post_id":74685208,"comment_id":131819991,"body_markdown":"Did you search? Its a good question in that you are clear about what you want and the exception you observe (with nicely formatted stack trace). But your question appears poorly researched. You are supposed to search and research before asking a question here, and I frankly think you would have found stuff to help you solve your problem. (I neither downvoted nor voted to close. I see that others did.)","body":"Did you search? Its a good question in that you are clear about what you want and the exception you observe (with nicely formatted stack trace). But your question appears poorly researched. You are supposed to search and research before asking a question here, and I frankly think you would have found stuff to help you solve your problem. (I neither downvoted nor voted to close. I see that others did.)"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670262973,"post_id":74685774,"comment_id":131830943,"body_markdown":"I made an addition to your answer that I think should be helpful for the OP. If you dont like it, please revert my edit.","body":"I made an addition to your answer that I think should be helpful for the OP. If you dont like it, please revert my edit."}],"tags":[],"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670262849,"creation_date":1670231580,"answer_id":74685774,"question_id":74685208,"body_markdown":"This should do it:\r\n\r\n```\r\nString dateTimeString = &quot;20221120000000&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\nLocalDateTime dateTime = LocalDateTime.parse(dateTimeString, formatter);\r\n```\r\n\r\nIf you dont want to use the DateTimeFormatter, your String needs to be in ISO format\r\n\r\nEdit: it isnt in the question, but you said elsewhere:\r\n\r\n&gt; I want it to convert to this format(&quot;yyyy-MM-dd HH:mm:ss&quot;) \r\n\r\nA `LocalDateTime` cannot have a format (its `toString` method invariably produces an ISO 8601 format). So to obtain a specific format you need to convert to a `String` again:\r\n\r\n```\r\nDateTimeFormatter wantedFormatFormatter\r\n\t\t= DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;);\r\nString formattedDateTime = dateTime.format(wantedFormatFormatter);\r\nSystem.out.println(formattedDateTime);\r\n```\r\n\r\nThis outputs:\r\n\r\n&gt; 2022-11-20 00:00:00\r\n\r\n(I hope you didnt expect a `LocalDateTime` with the format you mentioned. In case you did see [this question: Cant rid of &#39;T&#39; in LocalDateTime](https://stackoverflow.com/questions/52311884/can-t-rid-of-t-in-localdatetime).)","title":"How to convert string to LocalDateTime,how to solve string format &quot;yyyymmddhhMMss&quot; to LocalDateTime","body":"<p>This should do it:</p>\n<pre><code>String dateTimeString = &quot;20221120000000&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\nLocalDateTime dateTime = LocalDateTime.parse(dateTimeString, formatter);\n</code></pre>\n<p>If you dont want to use the DateTimeFormatter, your String needs to be in ISO format</p>\n<p>Edit: it isnt in the question, but you said elsewhere:</p>\n<blockquote>\n<p>I want it to convert to this format(&quot;yyyy-MM-dd HH:mm:ss&quot;) </p>\n</blockquote>\n<p>A <code>LocalDateTime</code> cannot have a format (its <code>toString</code> method invariably produces an ISO 8601 format). So to obtain a specific format you need to convert to a <code>String</code> again:</p>\n<pre><code>DateTimeFormatter wantedFormatFormatter\n        = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;);\nString formattedDateTime = dateTime.format(wantedFormatFormatter);\nSystem.out.println(formattedDateTime);\n</code></pre>\n<p>This outputs:</p>\n<blockquote>\n<p>2022-11-20 00:00:00</p>\n</blockquote>\n<p>(I hope you didnt expect a <code>LocalDateTime</code> with the format you mentioned. In case you did see <a href=\"https://stackoverflow.com/questions/52311884/can-t-rid-of-t-in-localdatetime\">this question: Cant rid of 'T' in LocalDateTime</a>.)</p>\n"}],"owner":{"account_id":26972108,"reputation":5,"user_id":20537964,"display_name":"melo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670516168,"answer_count":1,"score":-3,"last_activity_date":1670262849,"creation_date":1670228601,"question_id":74685208,"body_markdown":"How to convert string to LocalDateTime,how to solve string format &quot;yyyymmddhhMMss&quot; to LocalDateTime\r\n```\r\nString dateTime = &quot;20221120000000&quot;;\r\n\r\nLocalDateTime localDateTime = LocalDateTime.parse(dateTime);\r\n\r\n\r\n```\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;20221120000000&#39; could not be parsed at index 0\r\n\tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1948)\r\n\tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1850)\r\n\tat java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n\tat java.time.LocalDateTime.parse(LocalDateTime.java:477)\r\n\tat com.company.Main.main(Main.java:21)\r\n```\r\n","title":"How to convert string to LocalDateTime,how to solve string format &quot;yyyymmddhhMMss&quot; to LocalDateTime","body":"<p>How to convert string to LocalDateTime,how to solve string format &quot;yyyymmddhhMMss&quot; to LocalDateTime</p>\n<pre><code>String dateTime = &quot;20221120000000&quot;;\n\nLocalDateTime localDateTime = LocalDateTime.parse(dateTime);\n\n\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '20221120000000' could not be parsed at index 0\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1948)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1850)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:477)\n    at com.company.Main.main(Main.java:21)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1670262758,"post_id":74692347,"comment_id":131830864,"body_markdown":"What would you like the name of the run configuration to be while the app is not running and `server.port` doesn&#39;t have a value?","body":"What would you like the name of the run configuration to be while the app is not running and <code>server.port</code> doesn&#39;t have a value?"},{"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":""},"score":0,"creation_date":1670262997,"post_id":74692347,"comment_id":131830952,"body_markdown":"@Jeff Scott Brown servises are running, server on 8081, client server.port=0, it written in application.properties","body":"@Jeff Scott Brown servises are running, server on 8081, client server.port=0, it written in application.properties"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670263926,"post_id":74692347,"comment_id":131831254,"body_markdown":"Please report a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with a small sample project to reproduce this problem.","body":"Please report a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with a small sample project to reproduce this problem."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1670265089,"post_id":74692347,"comment_id":131831572,"body_markdown":"&quot;servises are running, server on 8081, client server.port=0, it written in application.properties &quot; - I understand.  I am asking what you would like the name to be when the server is not running.","body":"&quot;servises are running, server on 8081, client server.port=0, it written in application.properties &quot; - I understand.  I am asking what you would like the name to be when the server is not running."},{"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":""},"score":0,"creation_date":1670265725,"post_id":74692347,"comment_id":131831756,"body_markdown":"@Jeff Scott Brown it no matter the name, i want to see in what server.porn app is running","body":"@Jeff Scott Brown it no matter the name, i want to see in what server.porn app is running"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":""},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670262645,"creation_date":1670262645,"question_id":74692347,"body_markdown":"i want to see server.port like this  \r\n[![enter image description here][1]][1]\r\n\r\n\r\nwhat should i add to configuration?  [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/seukU.png\r\n  [2]: https://i.stack.imgur.com/0WyfY.png","title":"How to show server.port in intellj idea Services tool bar","body":"<p>i want to see server.port like this<br />\n<a href=\"https://i.stack.imgur.com/seukU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/seukU.png\" alt=\"enter image description here\" /></a></p>\n<p>what should i add to configuration?  <a href=\"https://i.stack.imgur.com/0WyfY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0WyfY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","generics","queue","stack"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1670261548,"post_id":74691952,"comment_id":131830489,"body_markdown":"After your for loop, both `st` and `st_top` should have the same size. (Put in some code to check this just to be sure.) Then write a second for-loop that loops `st.size()` times. In that second for loop, pop `st` **and** `st_top`. Use the two integers you get from those two pops to create an instance of `Two Numbers`. Push that instance of `TwoNumbers` to `st_final`.","body":"After your for loop, both <code>st</code> and <code>st_top</code> should have the same size. (Put in some code to check this just to be sure.) Then write a second for-loop that loops <code>st.size()</code> times. In that second for loop, pop <code>st</code> <b>and</b> <code>st_top</code>. Use the two integers you get from those two pops to create an instance of <code>Two Numbers</code>. Push that instance of <code>TwoNumbers</code> to <code>st_final</code>."},{"owner":{"account_id":10058050,"reputation":61,"user_id":17440553,"display_name":"Nadav Barghil"},"score":0,"creation_date":1670261571,"post_id":74691952,"comment_id":131830501,"body_markdown":"After splitting the stack into two equal parts (you should verify that the stack&#39;s size is even before doing so), you will need to create the number pairs and push them into the new stack. you can create the pairs using `new TwoNumbers(n1, n2)` and then add the pair into the new stack using the `push` function","body":"After splitting the stack into two equal parts (you should verify that the stack&#39;s size is even before doing so), you will need to create the number pairs and push them into the new stack. you can create the pairs using <code>new TwoNumbers(n1, n2)</code> and then add the pair into the new stack using the <code>push</code> function"},{"owner":{"account_id":12401738,"reputation":3,"user_id":9038668,"display_name":"CodingHell2312x"},"score":0,"creation_date":1670262258,"post_id":74691952,"comment_id":131830714,"body_markdown":"@ThomasBehr `for(i=0;i&lt;=st.size();i++) {\n            new TwoNumbers(st_top.pop(),st.pop());\n        \tst_final.push(TwoNumbers);\n        }`\nit gives a null value for the two numbers, am i missing something? @NadavBarghil","body":"@ThomasBehr <code>for(i=0;i&lt;=st.size();i++) {             new TwoNumbers(st_top.pop(),st.pop());         \tst_final.push(TwoNumbers);         }</code> it gives a null value for the two numbers, am i missing something? @NadavBarghil"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670264369,"post_id":74691952,"comment_id":131831392,"body_markdown":"@CodingHell2312x While the statement `new TwoNumbers(st_top.pop(), st.pop());` creates and initializes a new instance of `TwoNumbers`, it does not magically assign the name `TwoNumbers` to that new instance. You need to declare a local variable that holds the new instance and then use that local variable&#39;s name to push the new instance into `st_final`. (There&#39;s other ways to solve this, but I think you should learn the local variable stuff first.)","body":"@CodingHell2312x While the statement <code>new TwoNumbers(st_top.pop(), st.pop());</code> creates and initializes a new instance of <code>TwoNumbers</code>, it does not magically assign the name <code>TwoNumbers</code> to that new instance. You need to declare a local variable that holds the new instance and then use that local variable&#39;s name to push the new instance into <code>st_final</code>. (There&#39;s other ways to solve this, but I think you should learn the local variable stuff first.)"},{"owner":{"account_id":12401738,"reputation":3,"user_id":9038668,"display_name":"CodingHell2312x"},"score":0,"creation_date":1670270909,"post_id":74691952,"comment_id":131833340,"body_markdown":"@ThomasBehr got it to work, excuse my lack of knowledge, i&#39;m still in the early steps of oop . thanks for the help","body":"@ThomasBehr got it to work, excuse my lack of knowledge, i&#39;m still in the early steps of oop . thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670262290,"creation_date":1670262290,"answer_id":74692273,"question_id":74691952,"body_markdown":"Here&#39;s an example of using the class TwoNumbers and the Stack class.\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass TwoNumbers{\r\n   int first, second;\r\n   TwoNumbers(int f, int s){ first=f; second=s;}\r\n}\r\n\r\npublic class Main{\r\n\tpublic static void main(String[] args) {\r\n\t\tStack&lt;TwoNumbers&gt; s = new Stack&lt;&gt;();\r\n\t\ts.push(new TwoNumbers(1, 10));\r\n\t\ts.push(new TwoNumbers(2, 20));\r\n\t\r\n\t\twhile(!s.empty()){\r\n\t\t   TwoNumbers p = s.pop();\r\n\t\t   System.out.println(p.first + &quot;:&quot; + p.second);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"how to implement a stack with two numbers inside each cell","body":"<p>Here's an example of using the class TwoNumbers and the Stack class.</p>\n<pre><code>import java.util.*;\n\nclass TwoNumbers{\n   int first, second;\n   TwoNumbers(int f, int s){ first=f; second=s;}\n}\n\npublic class Main{\n    public static void main(String[] args) {\n        Stack&lt;TwoNumbers&gt; s = new Stack&lt;&gt;();\n        s.push(new TwoNumbers(1, 10));\n        s.push(new TwoNumbers(2, 20));\n    \n        while(!s.empty()){\n           TwoNumbers p = s.pop();\n           System.out.println(p.first + &quot;:&quot; + p.second);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12401738,"reputation":3,"user_id":9038668,"display_name":"CodingHell2312x"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74692273,"answer_count":1,"score":0,"last_activity_date":1670262290,"creation_date":1670260566,"question_id":74691952,"body_markdown":"given a class TwoNumbers :\r\n\r\n`   public class TwoNumbers{ private int num1, num2; public TwoNumbers (int num1, int num2){ this.num1 = num1; this.num2 = num2; } }    `  \r\nI want to create a function `public Stack&lt;TwoNumbers&gt; func(Stack&lt;Integer&gt; st);` that does this:\r\n(input)st : \\[8,4,7,5,3,2\\]\r\n(output)st_final: \\[num1=5 | num2=7 , num1=3 | num2=4 , num1=2 | num2=8 \\]\r\n\r\ni managed to do this so far:\r\n\r\n    public static void main(String[] args) {\r\n    \tStack&lt;Integer&gt; st = new Stack&lt;Integer&gt;();\r\n    \tst.push(8);\r\n    \tst.push(4);\r\n    \tst.push(7);\r\n    \tst.push(5);\r\n    \tst.push(3);\r\n    \tst.push(2);\r\n        func(st);\r\n    \r\n    }\r\n    public static Stack&lt;TwoNumbers&gt; func(Stack&lt;Integer&gt; st){\r\n    \tStack&lt;Integer&gt; st_top = new Stack&lt;Integer&gt;();\r\n    \tStack&lt;TwoNumbers&gt; st_final = new Stack&lt;TwoNumbers&gt;();\r\n    \tint i;\r\n        System.out.println(&quot;input st:&quot;+st);\r\n    \r\n    \tfor(i=0;i&lt;=st.size()/2;i++) \r\n    \t\tst_top.push(st.pop());\r\n    \t\t\r\n    \t\r\n    \t\r\n        System.out.println(&quot;st_top:&quot;+st_top);\r\n        System.out.println(&quot;st_bottom&quot;+st);\r\n       \r\n    \r\n        return st_final;\r\n\r\n\r\n\r\n\r\nbut i have no idea how to insert the values into the st_final Stack\r\n\r\n\r\nfinal output :\r\n(input)st : [8,4,7,5,3,2]\r\n(output)st_final: [num1=5 | num2=7 , num1=3 | num2=4 , num1=2 | num2=8 ]\r\n","title":"how to implement a stack with two numbers inside each cell","body":"<p>given a class TwoNumbers :</p>\n<p><code>  public class TwoNumbers{ private int num1, num2; public TwoNumbers (int num1, int num2){ this.num1 = num1; this.num2 = num2; } }   </code><br />\nI want to create a function <code>public Stack&lt;TwoNumbers&gt; func(Stack&lt;Integer&gt; st);</code> that does this:\n(input)st : [8,4,7,5,3,2]\n(output)st_final: [num1=5 | num2=7 , num1=3 | num2=4 , num1=2 | num2=8 ]</p>\n<p>i managed to do this so far:</p>\n<pre><code>public static void main(String[] args) {\n    Stack&lt;Integer&gt; st = new Stack&lt;Integer&gt;();\n    st.push(8);\n    st.push(4);\n    st.push(7);\n    st.push(5);\n    st.push(3);\n    st.push(2);\n    func(st);\n\n}\npublic static Stack&lt;TwoNumbers&gt; func(Stack&lt;Integer&gt; st){\n    Stack&lt;Integer&gt; st_top = new Stack&lt;Integer&gt;();\n    Stack&lt;TwoNumbers&gt; st_final = new Stack&lt;TwoNumbers&gt;();\n    int i;\n    System.out.println(&quot;input st:&quot;+st);\n\n    for(i=0;i&lt;=st.size()/2;i++) \n        st_top.push(st.pop());\n        \n    \n    \n    System.out.println(&quot;st_top:&quot;+st_top);\n    System.out.println(&quot;st_bottom&quot;+st);\n   \n\n    return st_final;\n</code></pre>\n<p>but i have no idea how to insert the values into the st_final Stack</p>\n<p>final output :\n(input)st : [8,4,7,5,3,2]\n(output)st_final: [num1=5 | num2=7 , num1=3 | num2=4 , num1=2 | num2=8 ]</p>\n"},{"tags":["java","sorting","optaplanner","optaweb-employee-rostering"],"answers":[{"comments":[{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670152138,"post_id":74668603,"comment_id":131803001,"body_markdown":"If `join with some lessThan/greaterThan joiners` with this I can get the next appointment in a sorted way, why do we need to again check with `ifNotExists` whether a thrid appointment exist for not ?","body":"If <code>join with some lessThan&#47;greaterThan joiners</code> with this I can get the next appointment in a sorted way, why do we need to again check with <code>ifNotExists</code> whether a thrid appointment exist for not ?"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"score":0,"creation_date":1670158268,"post_id":74668603,"comment_id":131804340,"body_markdown":"I assumed you only want appointments that have no appointment in between them. Assume appointments A, B, C; `ifNotExists` will make sure there is no C such that comes after A and before B. If you don&#39;t have that requirement, you don&#39;t need `ifNotExists`. (Although I find it hard to understand why you&#39;d want to include such pairs.)","body":"I assumed you only want appointments that have no appointment in between them. Assume appointments A, B, C; <code>ifNotExists</code> will make sure there is no C such that comes after A and before B. If you don&#39;t have that requirement, you don&#39;t need <code>ifNotExists</code>. (Although I find it hard to understand why you&#39;d want to include such pairs.)"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670179590,"post_id":74668603,"comment_id":131810069,"body_markdown":"My requirement is to get all the appointments sorted based on the start time, so that I can iterate and take decision whether reaching the next appointment is feasible or not","body":"My requirement is to get all the appointments sorted based on the start time, so that I can iterate and take decision whether reaching the next appointment is feasible or not"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"score":0,"creation_date":1670181021,"post_id":74668603,"comment_id":131810454,"body_markdown":"That requirement would apply in an imperative program, which Constraint Streams is not. Think of Constraint Streams less like a `for` loop and more like an SQL statement. In CS, you pick two appointments and penalize the distance between them in isolation; and you do that for any two appointments for which it makes sense. There is no iterating over all pairs, there is no set order; CS is an incremental API, and imperative thinking just doesn&#39;t work here.","body":"That requirement would apply in an imperative program, which Constraint Streams is not. Think of Constraint Streams less like a <code>for</code> loop and more like an SQL statement. In CS, you pick two appointments and penalize the distance between them in isolation; and you do that for any two appointments for which it makes sense. There is no iterating over all pairs, there is no set order; CS is an incremental API, and imperative thinking just doesn&#39;t work here."},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670237098,"post_id":74668603,"comment_id":131821513,"body_markdown":"I understand that in CS we cannot code in the way I want but is there a way to get the next immediate appointment based on the start time? I guess `Joiners. greaterThanOrEqual` will give the next appointment where `start_time of A &lt; start_time of B` but I don&#39;t think we can guarantee that it will be the next immediate one?","body":"I understand that in CS we cannot code in the way I want but is there a way to get the next immediate appointment based on the start time? I guess <code>Joiners. greaterThanOrEqual</code> will give the next appointment where <code>start_time of A &lt; start_time of B</code> but I don&#39;t think we can guarantee that it will be the next immediate one?"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"score":1,"creation_date":1670237424,"post_id":74668603,"comment_id":131821618,"body_markdown":"Indeed. Which is why you need the `ifNotExists` to follow the `join`.","body":"Indeed. Which is why you need the <code>ifNotExists</code> to follow the <code>join</code>."},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670246044,"post_id":74668603,"comment_id":131824547,"body_markdown":"I have updated the question, I am getting an error while implementing `ifNotExists` logic","body":"I have updated the question, I am getting an error while implementing <code>ifNotExists</code> logic"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"score":0,"creation_date":1670251648,"post_id":74668603,"comment_id":131826753,"body_markdown":"It&#39;s a compiler error, the methods your&#39;re using don&#39;t have the correct signatures. After a join, the argument are no longer just 1 appointment, but 2. So it&#39;s not `(appt) -&gt; ...`, but `(appt1, appt2) -&gt; ..., (appt3) -&gt; ...`.","body":"It&#39;s a compiler error, the methods your&#39;re using don&#39;t have the correct signatures. After a join, the argument are no longer just 1 appointment, but 2. So it&#39;s not <code>(appt) -&gt; ...</code>, but <code>(appt1, appt2) -&gt; ..., (appt3) -&gt; ...</code>."},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670262226,"post_id":74668603,"comment_id":131830698,"body_markdown":"I have updated the question to add the `ifNotExists` condition","body":"I have updated the question to add the <code>ifNotExists</code> condition"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670262448,"post_id":74668603,"comment_id":131830762,"body_markdown":"Do you think this condition will give me the next immediate appointment?\n`.ifNotExists(Appointment.class, Joiners.greaterThan((appt1, appt2) -&gt; appt2.getStartTime(), (appt3) -&gt; appt3.getEndTime()))`","body":"Do you think this condition will give me the next immediate appointment? <code>.ifNotExists(Appointment.class, Joiners.greaterThan((appt1, appt2) -&gt; appt2.getStartTime(), (appt3) -&gt; appt3.getEndTime()))</code>"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"score":0,"creation_date":1670263075,"post_id":74668603,"comment_id":131830978,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250169/discussion-between-lukas-petrovicky-and-roneet-shaw).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250169/discussion-between-lukas-petrovicky-and-roneet-shaw\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670085609,"creation_date":1670085609,"answer_id":74668603,"question_id":74665372,"body_markdown":"You don&#39;t need to sort anything. You do need to better specify your unique pairs:\r\n\r\n - Select the first appointment (`forEach`).\r\n - Select the second appointment such that it starts after the first one ends (`join` with some `lessThan`/`greaterThan` joiners).\r\n - Make sure there is no third appointment between the two ([`ifNotExists`][1]).\r\n\r\nThis will give you all pairs of consecutive appointments.\r\nWhat remains is to penalize based on the difference between the end of the first and the start of the next.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#constraintStreamsConditionalPropagation","title":"Sort list based on time in Optaplanner constraint","body":"<p>You don't need to sort anything. You do need to better specify your unique pairs:</p>\n<ul>\n<li>Select the first appointment (<code>forEach</code>).</li>\n<li>Select the second appointment such that it starts after the first one ends (<code>join</code> with some <code>lessThan</code>/<code>greaterThan</code> joiners).</li>\n<li>Make sure there is no third appointment between the two (<a href=\"https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#constraintStreamsConditionalPropagation\" rel=\"nofollow noreferrer\"><code>ifNotExists</code></a>).</li>\n</ul>\n<p>This will give you all pairs of consecutive appointments.\nWhat remains is to penalize based on the difference between the end of the first and the start of the next.</p>\n"}],"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74668603,"answer_count":1,"score":0,"last_activity_date":1670262176,"creation_date":1670058935,"question_id":74665372,"body_markdown":"I have a use case where I want to assign a salesperson to a list of appointments. Now, these salespeople have to travel from one point to another to reach the appointment location. \r\nI am using Optaplanner to schedule a list of salesperson to a bunch of appointments. I have a constraint defined:\r\n```\r\n  Next appointment start time should be after previous appointment&#39;s end time + travel time to reach the next appointment + Grace time\r\n```\r\n\r\n```\r\n   Constraint nextApptConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory\r\n                // Select each pair of 2 different appointments ...\r\n                .forEachUniquePair(Appointment.class,\r\n                        Joiners.equal((appt) -&gt; appt.getRep().getUuid()))\r\n                //Sort the result based on appointment start time \r\n                //Check for time gap is feasible or not\r\n                // ... and penalize each pair with a hard weight.\r\n                .penalize(HardSoftScore.ONE_HARD)\r\n                .asConstraint(&quot;SalesRep conflict&quot;);\r\n   }\r\n```\r\nThe idea is to first get all the appointments assigned to each sales rep and then sort the result based on appointment start time and then check violations (if any) and penalize accordingly.\r\nHowever, I am not sure how can we sort the appointments in constraint class and whether should I group the appointment or `Joiners.equal((appt) -&gt; appt.getRep().getUuid())` is also correct?\r\n\r\nEdit: \r\nI have added the code as per @lukas recommendation but I am getting the following error \r\n\r\n```\r\nConstraint nextApptConflict(ConstraintFactory constraintFactory) {\r\n        // A sales-rep can accommodate at most one appointment at the same time.\r\n        return constraintFactory\r\n                // Select each pair of 2 different appointments ...\r\n                .forEachUniquePair(Appointment.class,\r\n                        Joiners.equal((appt) -&gt; appt.getRep().getUuid()),\r\n                        Joiners.greaterThanOrEqual((appt) -&gt; appt.getEndTime()))\r\n                .ifNotExists(Appointment.class, Joiners.greaterThanOrEqual((appt) -&gt; appt.getEndTime()))\r\n                .filter((appt1, appt2) -&gt; {\r\n                    int timeInSec = Utility.getTime(Utility.distance(appt1.getPosition(), appt2.getPosition()));\r\n                    Timestamp minReachTime = new Timestamp(appt1.getEndTime().getTime() + (timeInSec+GRACE_TIME_SEC) * 1000);\r\n                    return appt2.getStartTime().before(minReachTime);\r\n                })\r\n                // ... and penalize each pair with a hard weight.\r\n                .penalize(HardSoftScore.ONE_HARD)\r\n                .asConstraint(&quot;SalesRep conflict&quot;);\r\n    }\r\n```\r\nAm I doing anything incorrectly?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bRINW.png\r\n\r\n\r\nEdit 2:\r\n\r\n```\r\nConstraint nextApptConflict(ConstraintFactory constraintFactory) {\r\n        // A sales-rep can accommodate at most one appointment at the same time.\r\n        return constraintFactory\r\n                // Select each pair of 2 different appointments ...\r\n                .forEachUniquePair(Appointment.class,\r\n                        Joiners.equal((appt) -&gt; appt.getRep().getUuid()),\r\n                        Joiners.greaterThanOrEqual((appt1) -&gt; appt1.getStartTime(), (appt2)-&gt; appt2.getEndTime()))\r\n                .ifNotExists(Appointment.class, Joiners.greaterThan((appt1, appt2) -&gt; appt2.getStartTime(), (appt3) -&gt; appt3.getEndTime()))\r\n                .filter((appt1, appt2) -&gt; {\r\n                    int timeInSec = Utility.getTime(Utility.distance(appt1.getPosition(), appt2.getPosition()));\r\n                    Timestamp minReachTime = new Timestamp(appt1.getEndTime().getTime() + (timeInSec+GRACE_TIME_SEC) * 1000);\r\n                    return appt2.getStartTime().before(minReachTime);\r\n                })\r\n                // ... and penalize each pair with a hard weight.\r\n                .penalize(HardSoftScore.ONE_HARD)\r\n                .asConstraint(&quot;SalesRep conflict&quot;);\r\n    }\r\n```","title":"Sort list based on time in Optaplanner constraint","body":"<p>I have a use case where I want to assign a salesperson to a list of appointments. Now, these salespeople have to travel from one point to another to reach the appointment location.\nI am using Optaplanner to schedule a list of salesperson to a bunch of appointments. I have a constraint defined:</p>\n<pre><code>  Next appointment start time should be after previous appointment's end time + travel time to reach the next appointment + Grace time\n</code></pre>\n<pre><code>   Constraint nextApptConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory\n                // Select each pair of 2 different appointments ...\n                .forEachUniquePair(Appointment.class,\n                        Joiners.equal((appt) -&gt; appt.getRep().getUuid()))\n                //Sort the result based on appointment start time \n                //Check for time gap is feasible or not\n                // ... and penalize each pair with a hard weight.\n                .penalize(HardSoftScore.ONE_HARD)\n                .asConstraint(&quot;SalesRep conflict&quot;);\n   }\n</code></pre>\n<p>The idea is to first get all the appointments assigned to each sales rep and then sort the result based on appointment start time and then check violations (if any) and penalize accordingly.\nHowever, I am not sure how can we sort the appointments in constraint class and whether should I group the appointment or <code>Joiners.equal((appt) -&gt; appt.getRep().getUuid())</code> is also correct?</p>\n<p>Edit:\nI have added the code as per @lukas recommendation but I am getting the following error</p>\n<pre><code>Constraint nextApptConflict(ConstraintFactory constraintFactory) {\n        // A sales-rep can accommodate at most one appointment at the same time.\n        return constraintFactory\n                // Select each pair of 2 different appointments ...\n                .forEachUniquePair(Appointment.class,\n                        Joiners.equal((appt) -&gt; appt.getRep().getUuid()),\n                        Joiners.greaterThanOrEqual((appt) -&gt; appt.getEndTime()))\n                .ifNotExists(Appointment.class, Joiners.greaterThanOrEqual((appt) -&gt; appt.getEndTime()))\n                .filter((appt1, appt2) -&gt; {\n                    int timeInSec = Utility.getTime(Utility.distance(appt1.getPosition(), appt2.getPosition()));\n                    Timestamp minReachTime = new Timestamp(appt1.getEndTime().getTime() + (timeInSec+GRACE_TIME_SEC) * 1000);\n                    return appt2.getStartTime().before(minReachTime);\n                })\n                // ... and penalize each pair with a hard weight.\n                .penalize(HardSoftScore.ONE_HARD)\n                .asConstraint(&quot;SalesRep conflict&quot;);\n    }\n</code></pre>\n<p>Am I doing anything incorrectly?</p>\n<p><a href=\"https://i.stack.imgur.com/bRINW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bRINW.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit 2:</p>\n<pre><code>Constraint nextApptConflict(ConstraintFactory constraintFactory) {\n        // A sales-rep can accommodate at most one appointment at the same time.\n        return constraintFactory\n                // Select each pair of 2 different appointments ...\n                .forEachUniquePair(Appointment.class,\n                        Joiners.equal((appt) -&gt; appt.getRep().getUuid()),\n                        Joiners.greaterThanOrEqual((appt1) -&gt; appt1.getStartTime(), (appt2)-&gt; appt2.getEndTime()))\n                .ifNotExists(Appointment.class, Joiners.greaterThan((appt1, appt2) -&gt; appt2.getStartTime(), (appt3) -&gt; appt3.getEndTime()))\n                .filter((appt1, appt2) -&gt; {\n                    int timeInSec = Utility.getTime(Utility.distance(appt1.getPosition(), appt2.getPosition()));\n                    Timestamp minReachTime = new Timestamp(appt1.getEndTime().getTime() + (timeInSec+GRACE_TIME_SEC) * 1000);\n                    return appt2.getStartTime().before(minReachTime);\n                })\n                // ... and penalize each pair with a hard weight.\n                .penalize(HardSoftScore.ONE_HARD)\n                .asConstraint(&quot;SalesRep conflict&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring","string","postgresql","spring-boot"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":1,"creation_date":1670318411,"post_id":74691977,"comment_id":131842841,"body_markdown":"Can the `name` parameter be null? Can we have a look at your `Recipe` object?\nCould you try again with this query :\n`SELECT DISTINCT e.id, e.name FROM Employee e WHERE LOWER(cast(e.name AS TEXT)) LIKE CONCAT(&#39;%&#39;, LOWER(cast(:name AS TEXT)),&#39;%&#39;)`","body":"Can the <code>name</code> parameter be null? Can we have a look at your <code>Recipe</code> object? Could you try again with this query : <code>SELECT DISTINCT e.id, e.name FROM Employee e WHERE LOWER(cast(e.name AS TEXT)) LIKE CONCAT(&#39;%&#39;, LOWER(cast(:name AS TEXT)),&#39;%&#39;)</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":1,"creation_date":1670318705,"post_id":74691977,"comment_id":131842940,"body_markdown":"@MarcBannout Thanks for your reply, it seems to work. Actually I let the user to pass null or empty string and convert them in the app before query. So, maybe it is good idea to use `lower()` method of PostgreSQL. But this approach also useful, many thanks.","body":"@MarcBannout Thanks for your reply, it seems to work. Actually I let the user to pass null or empty string and convert them in the app before query. So, maybe it is good idea to use <code>lower()</code> method of PostgreSQL. But this approach also useful, many thanks."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":1,"creation_date":1670320090,"post_id":74691977,"comment_id":131843502,"body_markdown":"Glad it worked, though, if the solution I provided worked. I suspect that the problem wasn&#39;t with `ILIKE`. You can always try to make it work with `ILIKE` if you prefer not to use the `LOWER()` function. Maybe you could try with `SELECT DISTINCT e.id, e.name FROM Employee e WHERE cast(e.name AS TEXT) ILIKE CONCAT(&#39;%&#39;, cast(:name AS TEXT),&#39;%&#39;)`","body":"Glad it worked, though, if the solution I provided worked. I suspect that the problem wasn&#39;t with <code>ILIKE</code>. You can always try to make it work with <code>ILIKE</code> if you prefer not to use the <code>LOWER()</code> function. Maybe you could try with <code>SELECT DISTINCT e.id, e.name FROM Employee e WHERE cast(e.name AS TEXT) ILIKE CONCAT(&#39;%&#39;, cast(:name AS TEXT),&#39;%&#39;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261860,"post_id":74692062,"comment_id":131830585,"body_markdown":"Thanks Senior, actually it is a copy mistake and it is correct (updated). So, how can I make comparison in my native PostgreSQL query?","body":"Thanks Senior, actually it is a copy mistake and it is correct (updated). So, how can I make comparison in my native PostgreSQL query?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670262020,"post_id":74692062,"comment_id":131830640,"body_markdown":"By the way, I have seen your useful comments on SO for searching and would like to ask you the following issue --&gt;","body":"By the way, I have seen your useful comments on SO for searching and would like to ask you the following issue --&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670262024,"post_id":74692062,"comment_id":131830642,"body_markdown":"Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well.","body":"Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670262042,"post_id":74692062,"comment_id":131830648,"body_markdown":"@Numichi Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/","body":"@Numichi Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">blog.piinalpin.com/2022/04/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670262061,"post_id":74692062,"comment_id":131830650,"body_markdown":"Any idea about these issues besides text comparison in PostgreSQL?","body":"Any idea about these issues besides text comparison in PostgreSQL?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670262198,"post_id":74692062,"comment_id":131830689,"body_markdown":"See my updated answer. And about the other issue, please post a new question. Don&#39;t ask in comments","body":"See my updated answer. And about the other issue, please post a new question. Don&#39;t ask in comments"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670262486,"post_id":74692062,"comment_id":131830774,"body_markdown":"I will check. Here is my question. If you suggest me a way to filter based on related entities, I would be happy. You can post your example on that page (you can give your example based on the approach shared in my previous comment)). [How to create custom query using Spring Data JPA Specifications?](https://stackoverflow.com/questions/74680426/how-to-create-custom-query-using-spring-data-jpa-specifications/74683115?noredirect=1#comment131828439_74683115)","body":"I will check. Here is my question. If you suggest me a way to filter based on related entities, I would be happy. You can post your example on that page (you can give your example based on the approach shared in my previous comment)). <a href=\"https://stackoverflow.com/questions/74680426/how-to-create-custom-query-using-spring-data-jpa-specifications/74683115?noredirect=1#comment131828439_74683115\">How to create custom query using Spring Data JPA Specifications?</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670262592,"post_id":74692062,"comment_id":131830807,"body_markdown":"And thanks for your reply. But I need to make comparison based on specific field in the joined tables (I just simplified question and omitted some code). So, I really need to make this sorting on PostgreSQL side","body":"And thanks for your reply. But I need to make comparison based on specific field in the joined tables (I just simplified question and omitted some code). So, I really need to make this sorting on PostgreSQL side"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670311708,"post_id":74692062,"comment_id":131840927,"body_markdown":"So please ask what you really want to know","body":"So please ask what you really want to know"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670315703,"post_id":74692062,"comment_id":131842019,"body_markdown":"Thanks a lot for your helps, voted up. I added the related entities to [this](https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090) page &gt;&gt;&gt;","body":"Thanks a lot for your helps, voted up. I added the related entities to <a href=\"https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090\">this</a> page &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670315728,"post_id":74692062,"comment_id":131842025,"body_markdown":"I have 3 related entities (Recipe, RecipeIngredient and Ingredient) and while retrieving data from Recipe using `recipeRepository.findAll()` method by using custom filter with Specifications, I need to filter result based on Ingredient Name and need to pass filter name as a key parameter (please see **Filter by Name and Sort by Release Date ASC** section on [this](https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/) article that I followed) &gt;&gt;&gt;","body":"I have 3 related entities (Recipe, RecipeIngredient and Ingredient) and while retrieving data from Recipe using <code>recipeRepository.findAll()</code> method by using custom filter with Specifications, I need to filter result based on Ingredient Name and need to pass filter name as a key parameter (please see <b>Filter by Name and Sort by Release Date ASC</b> section on <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">this</a> article that I followed) &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670315735,"post_id":74692062,"comment_id":131842027,"body_markdown":"So, you may first have a look at the answer @M.Denium posted on [that](https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090) page and share your comments based on this answer. Thanks in advance...","body":"So, you may first have a look at the answer @M.Denium posted on <a href=\"https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090\">that</a> page and share your comments based on this answer. Thanks in advance..."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670262165,"creation_date":1670261128,"answer_id":74692062,"question_id":74691977,"body_markdown":"Your query seems to be wrong. There is twice the parameter :name used. it should be\r\n\r\n    @Query(value = &quot;SELECT DISTINCT e.id, e.name FROM Employee e &quot; +\r\n        &quot;WHERE name ILIKE :name) &quot;,\r\n        nativeQuery = true)\r\n    List&lt;Recipe&gt; getEmployees(@Param(&quot;name&quot;) String name);\r\n\r\n\r\nAnother way to implement case insensitive search is to use an interface method:\r\n\r\n    List&lt;Recipe&gt; findByNameIgnoreCase(String name);","title":"Cannot compare texts on PostgreSQL (case insensitive not works on Spring Data JPA)","body":"<p>Your query seems to be wrong. There is twice the parameter :name used. it should be</p>\n<pre><code>@Query(value = &quot;SELECT DISTINCT e.id, e.name FROM Employee e &quot; +\n    &quot;WHERE name ILIKE :name) &quot;,\n    nativeQuery = true)\nList&lt;Recipe&gt; getEmployees(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>Another way to implement case insensitive search is to use an interface method:</p>\n<pre><code>List&lt;Recipe&gt; findByNameIgnoreCase(String name);\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670262166,"creation_date":1670260680,"question_id":74691977,"body_markdown":"In my Spring Boot app, I use `@Query` as shown below on PostgreSQL and compare name value case-insensitive:\r\n\r\n\r\n```\r\n@Query(value = &quot;SELECT DISTINCT e.id, e.name FROM Employee e &quot; +\r\n        &quot;WHERE e.name ILIKE :name) &quot;,\r\n        nativeQuery = true)\r\nList&lt;Recipe&gt; getEmployees(@Param(&quot;name&quot;) String name);\r\n```\r\n\r\nAlthough it seems to be ok for some time, it cannot return the same result randomly and it continues after rebuilding app and restarting. But it is working when executing the same query on DBeaver. \r\n\r\nSo, how should I compare equality of name field **case insensitively** in PostgreSQL? ","title":"Cannot compare texts on PostgreSQL (case insensitive not works on Spring Data JPA)","body":"<p>In my Spring Boot app, I use <code>@Query</code> as shown below on PostgreSQL and compare name value case-insensitive:</p>\n<pre><code>@Query(value = &quot;SELECT DISTINCT e.id, e.name FROM Employee e &quot; +\n        &quot;WHERE e.name ILIKE :name) &quot;,\n        nativeQuery = true)\nList&lt;Recipe&gt; getEmployees(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>Although it seems to be ok for some time, it cannot return the same result randomly and it continues after rebuilding app and restarting. But it is working when executing the same query on DBeaver.</p>\n<p>So, how should I compare equality of name field <strong>case insensitively</strong> in PostgreSQL?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-hateoas"],"comments":[{"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"score":0,"creation_date":1565399498,"post_id":57438556,"comment_id":101354391,"body_markdown":"Could you post the entity class code?","body":"Could you post the entity class code?"},{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565399860,"post_id":57438556,"comment_id":101354439,"body_markdown":"Just posted an entity class","body":"Just posted an entity class"}],"answers":[{"comments":[{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565400225,"post_id":57438609,"comment_id":101354487,"body_markdown":"Tried. It doesn&#39;t work. Same error. Just tried again.","body":"Tried. It doesn&#39;t work. Same error. Just tried again."}],"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565400094,"creation_date":1565400094,"answer_id":57438609,"question_id":57438556,"body_markdown":"You could try something like this:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;PR_KEY&quot;)\r\n    private String prKey;\r\n\r\nIf you want to read more about this subject you could begin looking throw [here][1] or [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18622716/how-to-use-id-with-string-type-in-jpa-hibernate\r\n  [2]: https://stackoverflow.com/questions/10041938/how-to-choose-the-id-generation-strategy-when-using-jpa-and-hibernate","title":"xHow can I have @Id string for CrudRepository in Spring with Spring Data JPA?","body":"<p>You could try something like this:</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = \"uuid\")\n@GenericGenerator(name = \"uuid\", strategy = \"uuid2\")\n@Column(name = \"PR_KEY\")\nprivate String prKey;\n</code></pre>\n\n<p>If you want to read more about this subject you could begin looking throw <a href=\"https://stackoverflow.com/questions/18622716/how-to-use-id-with-string-type-in-jpa-hibernate\">here</a> or <a href=\"https://stackoverflow.com/questions/10041938/how-to-choose-the-id-generation-strategy-when-using-jpa-and-hibernate\">here</a></p>\n"},{"comments":[{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565400797,"post_id":57438626,"comment_id":101354552,"body_markdown":"Just added this to the repository:\n\n```@Override\n    Optional&lt;XmppUser&gt; findById(String integer);```","body":"Just added this to the repository:  <code>@Override     Optional&lt;XmppUser&gt; findById(String integer);</code>"},{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565400827,"post_id":57438626,"comment_id":101354554,"body_markdown":"It says: `method does not override method from its superclass`","body":"It says: <code>method does not override method from its superclass</code>"},{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1565400933,"post_id":57438626,"comment_id":101354565,"body_markdown":"@DavidJones , Ive added an example","body":"@DavidJones , Ive added an example"},{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565401087,"post_id":57438626,"comment_id":101354583,"body_markdown":"@admiz635 that&#39;s exactly what I have, and inside it: `@Override Optional&lt;XmppUser&gt; findById(String integer);`","body":"@admiz635 that&#39;s exactly what I have, and inside it: <code>@Override Optional&lt;XmppUser&gt; findById(String integer);</code>"},{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565405339,"post_id":57438626,"comment_id":101355036,"body_markdown":"Oh, my bad. Just noticed that the second type parameter to `CrudRepository&lt;XmppUser, String&gt;` is a String! That solved the problem!\n\nGreat job @admiz635!","body":"Oh, my bad. Just noticed that the second type parameter to <code>CrudRepository&lt;XmppUser, String&gt;</code> is a String! That solved the problem!  Great job @admiz635!"}],"tags":[],"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1670261065,"creation_date":1565400372,"answer_id":57438626,"question_id":57438556,"body_markdown":"You must change the type of the ID type parameter in the repository to match with the id attribute type on your entity.\r\n\r\n\r\nFrom the Spring docs:\r\n\r\n&gt;     Interface Repository&lt;T,ID&gt;\r\n&gt;     Type Parameters:\r\n&gt;       T - the domain type the repository manages    \r\n&gt;       ID - the type of the id of the entity the repository manages\r\n\r\nBased on\r\n\r\n\r\n    @Entity // This tells Hibernate to make a table out of this class\r\n    @Table(name = &quot;users&quot;)\r\n    public class XmppUser {\r\n        @Id\r\n        private java.lang.String username;\r\n        //...\r\n    \r\n        }\r\n\r\n\r\nIt should be\r\n\r\n\r\n\r\n\r\n    public interface UserRepository extends CrudRepository&lt;XmppUser, String&gt; {\r\n        //..\r\n        }\r\n\r\nSee:\r\n * https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findById(ID)\r\n*  https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html","title":"xHow can I have @Id string for CrudRepository in Spring with Spring Data JPA?","body":"<p>You must change the type of the ID type parameter in the repository to match with the id attribute type on your entity.</p>\n<p>From the Spring docs:</p>\n<blockquote>\n<pre><code>Interface Repository&lt;T,ID&gt;\nType Parameters:\n  T - the domain type the repository manages    \n  ID - the type of the id of the entity the repository manages\n</code></pre>\n</blockquote>\n<p>Based on</p>\n<pre><code>@Entity // This tells Hibernate to make a table out of this class\n@Table(name = &quot;users&quot;)\npublic class XmppUser {\n    @Id\n    private java.lang.String username;\n    //...\n\n    }\n</code></pre>\n<p>It should be</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;XmppUser, String&gt; {\n    //..\n    }\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findById(ID)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findById(ID)</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8785799,"reputation":79,"user_id":6567802,"display_name":"Stone Feng"},"score":0,"creation_date":1565401134,"post_id":57438629,"comment_id":101354587,"body_markdown":"@DavidJones so your spring data jpa version is?","body":"@DavidJones so your spring data jpa version is?"},{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565401302,"post_id":57438629,"comment_id":101354610,"body_markdown":"Version: 2.1.9.RELEASE","body":"Version: 2.1.9.RELEASE"},{"owner":{"account_id":8785799,"reputation":79,"user_id":6567802,"display_name":"Stone Feng"},"score":0,"creation_date":1565401607,"post_id":57438629,"comment_id":101354640,"body_markdown":"@DavidJones try it like this:@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;)\nprivate String id;","body":"@DavidJones try it like this:@Id @GeneratedValue(strategy = GenerationType.AUTO) @Column(name = &quot;id&quot;) private String id;"},{"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"score":0,"creation_date":1565403586,"post_id":57438629,"comment_id":101354854,"body_markdown":"Doesn&#39;t solve the problem. I expected Spring to have fewer issues. That&#39;s the second bug I found today.","body":"Doesn&#39;t solve the problem. I expected Spring to have fewer issues. That&#39;s the second bug I found today."}],"tags":[],"owner":{"account_id":8785799,"reputation":79,"user_id":6567802,"display_name":"Stone Feng"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565400888,"creation_date":1565400437,"answer_id":57438629,"question_id":57438556,"body_markdown":"according to the latest version of spring data jpa(2.1.10 GA), you can use it like\r\n[![enter image description here][1]][1]\r\n\r\n\r\nhere is the [link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2jL0X.png\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/2.1.10.RELEASE/reference/html/","title":"xHow can I have @Id string for CrudRepository in Spring with Spring Data JPA?","body":"<p>according to the latest version of spring data jpa(2.1.10 GA), you can use it like\n<a href=\"https://i.stack.imgur.com/2jL0X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2jL0X.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is the <a href=\"https://docs.spring.io/spring-data/jpa/docs/2.1.10.RELEASE/reference/html/\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":20782891,"reputation":439,"user_id":15262845,"display_name":"justthink"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615334989,"creation_date":1615334989,"answer_id":66556539,"question_id":57438556,"body_markdown":"JpaRepository is a special case of CrudRepository. Both JpaRepository and CrudRepository declare two type parameters, T and ID. You will need to supply these two class types. For example,\r\n\r\n    public interface UserRepository extends CrudRepository&lt;XmppUser, java.lang.String&gt; {\r\n    //..\r\n    }\r\nor\r\n\r\n    public interface UserRepository extends JpaRepository&lt;XmppUser, java.lang.String&gt; {\r\n    //..\r\n    }\r\n\r\nNotice that the second type `java.lang.String` must match the type of the primary key attribute. In this case, you cannot specify it as `String` or `Integer`, but it is `java.lang.String` instead. \r\n\r\nTry not to name a customized class as `String`. It is a bad practice to use the same class name as already present in the JDK.","title":"xHow can I have @Id string for CrudRepository in Spring with Spring Data JPA?","body":"<p>JpaRepository is a special case of CrudRepository. Both JpaRepository and CrudRepository declare two type parameters, T and ID. You will need to supply these two class types. For example,</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;XmppUser, java.lang.String&gt; {\n//..\n}\n</code></pre>\n<p>or</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;XmppUser, java.lang.String&gt; {\n//..\n}\n</code></pre>\n<p>Notice that the second type <code>java.lang.String</code> must match the type of the primary key attribute. In this case, you cannot specify it as <code>String</code> or <code>Integer</code>, but it is <code>java.lang.String</code> instead.</p>\n<p>Try not to name a customized class as <code>String</code>. It is a bad practice to use the same class name as already present in the JDK.</p>\n"},{"tags":[],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636954404,"creation_date":1636954404,"answer_id":69969849,"question_id":57438556,"body_markdown":"I think there is an approach to solve this problem.\r\n\r\nLet&#39;s say, Site is our @Entity.\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    getters setters\r\n\r\n**then you can invoke findById as follow**\r\n\r\n     Optional&lt;Site&gt; site = getSite(id);\r\n\r\n\r\nNote: this worked for me, I hope it will help someone.","title":"xHow can I have @Id string for CrudRepository in Spring with Spring Data JPA?","body":"<p>I think there is an approach to solve this problem.</p>\n<p>Let's say, Site is our @Entity.</p>\n<pre><code>@Id\nprivate String id;\n\ngetters setters\n</code></pre>\n<p><strong>then you can invoke findById as follow</strong></p>\n<pre><code> Optional&lt;Site&gt; site = getSite(id);\n</code></pre>\n<p>Note: this worked for me, I hope it will help someone.</p>\n"}],"owner":{"account_id":16483561,"reputation":53,"user_id":11909617,"display_name":"Andrey Ruzhentsev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15816,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57438626,"answer_count":5,"score":5,"last_activity_date":1670261065,"creation_date":1565398961,"question_id":57438556,"body_markdown":"The problem is that I am getting an exception using `@RepositoryRestResource` for my `UserRepository` that extends `JpaRepository`.\r\n\r\nThe reason for that is that `findById` is only accepting `Long` or `Int` types by default, even I have \r\n\r\n`@Id String id;` and not `@Id Int id` in my entity definition.\r\n\r\nI have tried searching StackOverflow and Google, but haven&#39;t found any solutions. \r\n\r\nThe error message is as follows:\r\n\r\n`&quot;Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;3175433272470683&#39;; nested exception is java.lang.NumberFormatException: For input string: \\&quot;3175433272470683\\&quot;&quot;`\r\n\r\nI want to make it work with a\r\n\r\n`@Id String id;`\r\n\r\nAny suggestions?\r\n\r\nMany thanks in advances. It&#39;s a big privilege to ask questions here.\r\n\r\nThe Entity class:\r\n```java\r\n@Entity // This tells Hibernate to make a table out of this class\r\n@Table(name = &quot;users&quot;)\r\npublic class XmppUser {\r\n    @Id\r\n    private java.lang.String username;\r\n\r\n    private String password;\r\n    private String serverkey;\r\n    private String salt;\r\n    private int iterationcount;\r\n    private Date created_at;\r\n\r\n    //    @Formula(&quot;ST_ASTEXT(coordinates)&quot;)\r\n//    @Column(columnDefinition = &quot;geometry&quot;)\r\n//    private Point coordinates;\r\n    //    private Point coordinates;\r\n    private String full_name;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;username&quot;, nullable = true)\r\n    private XmppLast xmppLast;\r\n```","title":"xHow can I have @Id string for CrudRepository in Spring with Spring Data JPA?","body":"<p>The problem is that I am getting an exception using <code>@RepositoryRestResource</code> for my <code>UserRepository</code> that extends <code>JpaRepository</code>.</p>\n\n<p>The reason for that is that <code>findById</code> is only accepting <code>Long</code> or <code>Int</code> types by default, even I have </p>\n\n<p><code>@Id String id;</code> and not <code>@Id Int id</code> in my entity definition.</p>\n\n<p>I have tried searching StackOverflow and Google, but haven't found any solutions. </p>\n\n<p>The error message is as follows:</p>\n\n<p><code>\"Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value '3175433272470683'; nested exception is java.lang.NumberFormatException: For input string: \\\"3175433272470683\\\"\"</code></p>\n\n<p>I want to make it work with a</p>\n\n<p><code>@Id String id;</code></p>\n\n<p>Any suggestions?</p>\n\n<p>Many thanks in advances. It's a big privilege to ask questions here.</p>\n\n<p>The Entity class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity // This tells Hibernate to make a table out of this class\n@Table(name = \"users\")\npublic class XmppUser {\n    @Id\n    private java.lang.String username;\n\n    private String password;\n    private String serverkey;\n    private String salt;\n    private int iterationcount;\n    private Date created_at;\n\n    //    @Formula(\"ST_ASTEXT(coordinates)\")\n//    @Column(columnDefinition = \"geometry\")\n//    private Point coordinates;\n    //    private Point coordinates;\n    private String full_name;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"username\", nullable = true)\n    private XmppLast xmppLast;\n</code></pre>\n"},{"tags":["java","logging","log4j2","apache-commons-logging"],"comments":[{"owner":{"account_id":1357044,"reputation":49,"user_id":1295235,"display_name":"MadOverJava"},"score":0,"creation_date":1670357680,"post_id":74635363,"comment_id":131857105,"body_markdown":"@Piotr P. Karwasz - I have seen you commenting on Log4j2 questions in StackOverFlow, would you be kind enough to take a loot at my question please.I have tried everything but not able to crack my problem.I know its a small issue but I cant seem to solve it.","body":"@Piotr P. Karwasz - I have seen you commenting on Log4j2 questions in StackOverFlow, would you be kind enough to take a loot at my question please.I have tried everything but not able to crack my problem.I know its a small issue but I cant seem to solve it."},{"owner":{"account_id":1357044,"reputation":49,"user_id":1295235,"display_name":"MadOverJava"},"score":0,"creation_date":1671827389,"post_id":74635363,"comment_id":132185739,"body_markdown":"Can anyone in this community take a look at my Log4j2 problem.Have tried everything possible but its not working.","body":"Can anyone in this community take a look at my Log4j2 problem.Have tried everything possible but its not working."}],"owner":{"account_id":1357044,"reputation":49,"user_id":1295235,"display_name":"MadOverJava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670260773,"creation_date":1669851555,"question_id":74635363,"body_markdown":"I have to migrate an old Java 8 app from Log4j 1.x to Log4j2 due to vulnerability, application is running fine without issues but logs are not appearing properly in log file.\r\n\r\nThis is the old log4j.xml file.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;\r\n\r\n    \t&lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;Threshold&quot; value=&quot;ERROR&quot; /&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p [%t] [%c] %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n\r\n    \t&lt;appender name=&quot;APPLOG&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;@LOG_DIR@/@LOG_FILE_NAME@&quot; /&gt;\r\n    \t\t&lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;15MB&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;param name=&quot;Threshold&quot; value=&quot;@THRESHOLD@&quot; /&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p [%t] [%c] %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n\r\n    \t&lt;appender name=&quot;AUDITLOG&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n        \t&lt;param name=&quot;File&quot; value=&quot;@AUDIT_LOG_DIR@/@AUDIT_LOG_FILE_NAME@&quot;/&gt;\r\n         \t&lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n         \t&lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\r\n         \t&lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;yyyy-MM-dd-HH&quot; /&gt;\r\n         \t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n           \t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[%t] %m%n&quot;/&gt;\r\n         \t&lt;/layout&gt;\r\n       &lt;/appender&gt;\r\n       \r\n    \t&lt;category name=&quot;com.abc&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;@THRESHOLD@&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/category&gt;\r\n\r\n    \t&lt;category name=&quot;org.httpclient&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;INFO&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/category&gt;\r\n\r\n    \t&lt;category name=&quot;org.springframework&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;INFO&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/category&gt;\r\n\r\n    \t&lt;category name=&quot;com.mchange.v2&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;INFO&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/category&gt;\r\n\r\n    \t&lt;category name=&quot;org.mortbay&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;INFO&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/category&gt;\r\n\r\n    \t&lt;category name=&quot;org.apache&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;INFO&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/category&gt;\r\n\r\n    \t&lt;category name=&quot;AUDIT_LOGGER&quot; additivity=&quot;false&quot;&gt;\r\n         \t&lt;priority value=&quot;INFO&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;AUDITLOG&quot;/&gt;\r\n    \t&lt;/category&gt;\r\n    \t\r\n    \t&lt;!-- Setup the Root category --&gt;\r\n    \t&lt;root&gt;\r\n    \t\t&lt;priority value=&quot;@THRESHOLD@&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;APPLOG&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is converted log4j2.xml file\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;!--&lt;Properties&gt;\r\n            &lt;Property name=&quot;logPath&quot;&gt;target/cucumber-logs&lt;/Property&gt;\r\n            &lt;Property name=&quot;rollingFileName&quot;&gt;cucumber&lt;/Property&gt;\r\n        &lt;/Properties&gt;--&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d %-5p [%t] [%c] %m%n&quot;/&gt;\r\n                &lt;ThresholdFilter level=&quot;ERROR&quot;/&gt;\r\n            &lt;/Console&gt;\r\n            &lt;RollingFile name=&quot;APPLOG&quot; append=&quot;true&quot;\r\n                         fileName=&quot;@LOG_DIR@/@LOG_FILE_NAME@&quot;\r\n                         filePattern=&quot;@LOG_DIR@/@LOG_FILE_NAME@.%d{yyyy-MM-dd-HH}&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d %-5p [%t] [%c] %m%n&quot;/&gt;\r\n                &lt;ThresholdFilter level=&quot;@THRESHOLD@&quot;/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;15 MB&quot;/&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n            &lt;RollingFile name=&quot;AUDITLOG&quot; append=&quot;true&quot;\r\n                         fileName=&quot;@AUDIT_LOG_DIR@/@AUDIT_LOG_FILE_NAME@&quot;\r\n                         filePattern=&quot;@AUDIT_LOG_DIR@/@AUDIT_LOG_FILE_NAME@.%d{yyyy-MM-dd-HH}&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;[%t] %m%n&quot;/&gt;\r\n                &lt;ThresholdFilter level=&quot;INFO&quot;/&gt;\r\n                    &lt;!-- Causes a rollover once the date/time pattern no longer applies to the active file --&gt;\r\n                &lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;!-- Category definitions --&gt;\r\n            &lt;Logger name=&quot;com.abc&quot; level=&quot;@THRESHOLD@&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.httpclient&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.springframework&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;com.mchange.v2&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.mortbay&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.apache&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;AUDIT_LOGGER&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;AUDITLOG&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n\r\n            &lt;!-- Setup the Root category --&gt;\r\n            &lt;Root level=&quot;DEBUG&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;APPLOG&quot; level=&quot;@THRESHOLD@&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNot sure what is missing/wrong in the log4j2 file but some logs only appear in Console and not in log file even though I am expecting exactly opposite.I have configured Console for only Error messages, and log file to contain messages like Info,Debug.\r\nI am clueless, can someone help here?\r\n\r\nNote: @LOG_DIR@/@LOG_FILE_NAME@ - These variable values are replaced during build time.","title":"Migrating Log4j1 to Log4j2 for Spring 3 + Java8 App, but some logs are only printing on Console instead of Log file, what is missing","body":"<p>I have to migrate an old Java 8 app from Log4j 1.x to Log4j2 due to vulnerability, application is running fine without issues but logs are not appearing properly in log file.</p>\n<p>This is the old log4j.xml file.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\" debug=\"false\"&gt;\n\n    &lt;appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n        &lt;param name=\"Threshold\" value=\"ERROR\" /&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\" value=\"%d %-5p [%t] [%c] %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"APPLOG\" class=\"org.apache.log4j.RollingFileAppender\"&gt;\n        &lt;param name=\"File\" value=\"@LOG_DIR@/@LOG_FILE_NAME@\" /&gt;\n        &lt;param name=\"Append\" value=\"true\" /&gt;\n        &lt;param name=\"MaxFileSize\" value=\"15MB\" /&gt;\n        &lt;param name=\"MaxBackupIndex\" value=\"10\" /&gt;\n        &lt;param name=\"Threshold\" value=\"@THRESHOLD@\" /&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\" value=\"%d %-5p [%t] [%c] %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"AUDITLOG\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n        &lt;param name=\"File\" value=\"@AUDIT_LOG_DIR@/@AUDIT_LOG_FILE_NAME@\"/&gt;\n        &lt;param name=\"Append\" value=\"true\"/&gt;\n        &lt;param name=\"Threshold\" value=\"INFO\"/&gt;\n        &lt;param name=\"DatePattern\" value=\"'.'yyyy-MM-dd-HH\" /&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\" value=\"[%t] %m%n\"/&gt;\n        &lt;/layout&gt;\n   &lt;/appender&gt;\n   \n    &lt;category name=\"com.abc\" additivity=\"false\"&gt;\n        &lt;priority value=\"@THRESHOLD@\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/category&gt;\n\n    &lt;category name=\"org.httpclient\" additivity=\"false\"&gt;\n        &lt;priority value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/category&gt;\n\n    &lt;category name=\"org.springframework\" additivity=\"false\"&gt;\n        &lt;priority value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/category&gt;\n\n    &lt;category name=\"com.mchange.v2\" additivity=\"false\"&gt;\n        &lt;priority value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/category&gt;\n\n    &lt;category name=\"org.mortbay\" additivity=\"false\"&gt;\n        &lt;priority value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/category&gt;\n\n    &lt;category name=\"org.apache\" additivity=\"false\"&gt;\n        &lt;priority value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/category&gt;\n\n    &lt;category name=\"AUDIT_LOGGER\" additivity=\"false\"&gt;\n        &lt;priority value=\"INFO\" /&gt;\n        &lt;appender-ref ref=\"AUDITLOG\"/&gt;\n    &lt;/category&gt;\n    \n    &lt;!-- Setup the Root category --&gt;\n    &lt;root&gt;\n        &lt;priority value=\"@THRESHOLD@\" /&gt;\n        &lt;appender-ref ref=\"APPLOG\" /&gt;\n    &lt;/root&gt;\n&lt;/log4j:configuration&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is converted log4j2.xml file</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration&gt;\n    &lt;!--&lt;Properties&gt;\n        &lt;Property name=\"logPath\"&gt;target/cucumber-logs&lt;/Property&gt;\n        &lt;Property name=\"rollingFileName\"&gt;cucumber&lt;/Property&gt;\n    &lt;/Properties&gt;--&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"CONSOLE\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d %-5p [%t] [%c] %m%n\"/&gt;\n            &lt;ThresholdFilter level=\"ERROR\"/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=\"APPLOG\" append=\"true\"\n                     fileName=\"@LOG_DIR@/@LOG_FILE_NAME@\"\n                     filePattern=\"@LOG_DIR@/@LOG_FILE_NAME@.%d{yyyy-MM-dd-HH}\"&gt;\n            &lt;PatternLayout pattern=\"%d %-5p [%t] [%c] %m%n\"/&gt;\n            &lt;ThresholdFilter level=\"@THRESHOLD@\"/&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"15 MB\"/&gt;\n            &lt;DefaultRolloverStrategy max=\"10\"/&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=\"AUDITLOG\" append=\"true\"\n                     fileName=\"@AUDIT_LOG_DIR@/@AUDIT_LOG_FILE_NAME@\"\n                     filePattern=\"@AUDIT_LOG_DIR@/@AUDIT_LOG_FILE_NAME@.%d{yyyy-MM-dd-HH}\"&gt;\n            &lt;PatternLayout pattern=\"[%t] %m%n\"/&gt;\n            &lt;ThresholdFilter level=\"INFO\"/&gt;\n                &lt;!-- Causes a rollover once the date/time pattern no longer applies to the active file --&gt;\n            &lt;TimeBasedTriggeringPolicy modulate=\"true\"/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Category definitions --&gt;\n        &lt;Logger name=\"com.abc\" level=\"@THRESHOLD@\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"org.httpclient\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"org.springframework\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"com.mchange.v2\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"org.mortbay\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"org.apache\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"AUDIT_LOGGER\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"AUDITLOG\"/&gt;\n        &lt;/Logger&gt;\n\n        &lt;!-- Setup the Root category --&gt;\n        &lt;Root level=\"DEBUG\"&gt;\n            &lt;AppenderRef ref=\"APPLOG\" level=\"@THRESHOLD@\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Not sure what is missing/wrong in the log4j2 file but some logs only appear in Console and not in log file even though I am expecting exactly opposite.I have configured Console for only Error messages, and log file to contain messages like Info,Debug.\nI am clueless, can someone help here?</p>\n<p>Note: @LOG_DIR@/@LOG_FILE_NAME@ - These variable values are replaced during build time.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1670259729,"post_id":74691669,"comment_id":131829895,"body_markdown":"To diagnose infinite loops, run your program in a debugger, then suspend execution and inspect the state of the program (and optionally, step through an iteration of the loop to see why it doesn&#39;t make progress).","body":"To diagnose infinite loops, run your program in a debugger, then suspend execution and inspect the state of the program (and optionally, step through an iteration of the loop to see why it doesn&#39;t make progress)."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1670259776,"post_id":74691669,"comment_id":131829912,"body_markdown":"`case1.getRomanNumeral() != &quot;XVI&quot;` won&#39;t work: Please have a look at [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"<code>case1.getRomanNumeral() != &quot;XVI&quot;</code> won&#39;t work: Please have a look at <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":26462848,"reputation":21,"user_id":20104537,"display_name":"Skyzreal"},"score":0,"creation_date":1670261338,"post_id":74691669,"comment_id":131830428,"body_markdown":"Thanks, I just changed my case1 to .equals, I completely forgot. And I really tried to run the debugger, but Eclipse is giving me a lot of issues. I keep having the &quot;Editor does not contain a main type&quot; message, even though there is one","body":"Thanks, I just changed my case1 to .equals, I completely forgot. And I really tried to run the debugger, but Eclipse is giving me a lot of issues. I keep having the &quot;Editor does not contain a main type&quot; message, even though there is one"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670261361,"post_id":74691669,"comment_id":131830434,"body_markdown":"There is a logical progression of Roman to Arabic and Arabic to Roman.  Check out [this](https://stackoverflow.com/a/66038188/1552534) as an example.","body":"There is a logical progression of Roman to Arabic and Arabic to Roman.  Check out <a href=\"https://stackoverflow.com/a/66038188/1552534\">this</a> as an example."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670262798,"post_id":74691669,"comment_id":131830880,"body_markdown":"You could use an `enum` for your Roman numerals","body":"You could use an <code>enum</code> for your Roman numerals"}],"answers":[{"comments":[{"owner":{"account_id":26462848,"reputation":21,"user_id":20104537,"display_name":"Skyzreal"},"score":0,"creation_date":1670261583,"post_id":74691984,"comment_id":131830503,"body_markdown":"Thank you ! I changed my while for if and it worked. I keep forgetting stupid things, including that while, do.. while and for needs updater statement always. Thanks again !","body":"Thank you ! I changed my while for if and it worked. I keep forgetting stupid things, including that while, do.. while and for needs updater statement always. Thanks again !"},{"owner":{"account_id":26525278,"reputation":26,"user_id":20158372,"display_name":"Ivo Heberle"},"score":0,"creation_date":1670262664,"post_id":74691984,"comment_id":131830833,"body_markdown":"another thing i found is in the `convertRomanToInteger(String n)` Method the condition in the for-loop should be `i &lt; decimal.length()` instead of `i &lt;= decimal.length()` since indexing starts at 0 and ends at `length()-1`","body":"another thing i found is in the <code>convertRomanToInteger(String n)</code> Method the condition in the for-loop should be <code>i &lt; decimal.length()</code> instead of <code>i &lt;= decimal.length()</code> since indexing starts at 0 and ends at <code>length()-1</code>"},{"owner":{"account_id":26462848,"reputation":21,"user_id":20104537,"display_name":"Skyzreal"},"score":0,"creation_date":1670354978,"post_id":74691984,"comment_id":131856200,"body_markdown":"Yes, I actually resolved that issue by adding -1, but your solution would&#39;ve worked as well. Thanks again ! :D","body":"Yes, I actually resolved that issue by adding -1, but your solution would&#39;ve worked as well. Thanks again ! :D"}],"tags":[],"owner":{"account_id":26525278,"reputation":26,"user_id":20158372,"display_name":"Ivo Heberle"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670260707,"creation_date":1670260707,"answer_id":74691984,"question_id":74691669,"body_markdown":"you probably have to change the decimalNumeral aswell when calling setRomanNumeral and vice versa otherwise the values never change\r\n\r\nso something like\r\n\r\n    public void setDecimalNumeral(int i) {\r\n            decimalNum = i;\r\n            romanNum = convertIntegerToRoman(i);\r\n        }\r\n\r\n\r\nalso inside your while loop you never change the condition, so if you get in, you never get out, so you probably should change them to if statements\r\n\r\n     for (int i = 0; i &lt;= decimal.length(); i++) {\r\n            if (decimal.charAt(i) == &#39;M&#39;) {\r\n                finalDecimal += 1000;\r\n            } // if(n.charAt(i) == &#39;M&#39;)","title":"Roman to int without arrays","body":"<p>you probably have to change the decimalNumeral aswell when calling setRomanNumeral and vice versa otherwise the values never change</p>\n<p>so something like</p>\n<pre><code>public void setDecimalNumeral(int i) {\n        decimalNum = i;\n        romanNum = convertIntegerToRoman(i);\n    }\n</code></pre>\n<p>also inside your while loop you never change the condition, so if you get in, you never get out, so you probably should change them to if statements</p>\n<pre><code> for (int i = 0; i &lt;= decimal.length(); i++) {\n        if (decimal.charAt(i) == 'M') {\n            finalDecimal += 1000;\n        } // if(n.charAt(i) == 'M')\n</code></pre>\n"}],"owner":{"account_id":26462848,"reputation":21,"user_id":20104537,"display_name":"Skyzreal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74691984,"answer_count":1,"score":0,"last_activity_date":1670260707,"creation_date":1670259087,"question_id":74691669,"body_markdown":"I&#39;m very new with java, I haven&#39;t learned arrays and maps yet, so I have to create a program to convert from integer to Roman and vice-versa. My conversion from int to string works, but not string to int. It somehow does an infinite loop and I&#39;m not too sure why. What could I change to my while loop to make it stop its infinite process ?\r\nWe don&#39;t have to consider XI and such, so 4 = IIII 9 = VIIII\r\nWe only take into account M, D, C, L, X, V, I\r\nWe needed to create 3 constructors, one empty, one that takes a string, and one that takes a int\r\nMy server class :\r\n\r\n\r\n\r\n```\r\npackage jfauvelle_G10_A04;\r\n\r\npublic class RomanNumeral {\r\n\tprivate String romanNum = &quot;&quot;;\r\n\tprivate int decimalNum = 0;\r\n\r\n\tpublic RomanNumeral() {\r\n\t\tromanNum = &quot;&quot;;\r\n\t\tdecimalNum = 0;\r\n\t}\r\n\r\n\tpublic RomanNumeral(String r) {\r\n\t\tdecimalNum = convertRomanToInteger(r);\r\n\t\tromanNum = r;\r\n\t}\r\n\r\n\tpublic RomanNumeral(int i) {\r\n\t\tromanNum = convertIntegerToRoman(i);\r\n\t\tdecimalNum = i;\r\n\t\t\r\n\t}\r\n\r\n\tpublic void setRomanNumeral(String r) {\r\n\t\tromanNum = r;\r\n\t}\r\n\r\n\tpublic String getRomanNumeral() {\r\n\t\treturn romanNum;\r\n\t}\r\n\r\n\tpublic void setDecimalNumeral(int i) {\r\n\t\tdecimalNum = i;\r\n\t}\r\n\r\n\tpublic int getDecimalNumeral() {\r\n\t\treturn decimalNum;\r\n\r\n\t}\r\n\r\n\tpublic String convertIntegerToRoman(int r) {\r\n\t\tint roman = r; \r\n\t\tString finalRoman = &quot;&quot;;\r\n\r\n\t\twhile (roman &gt;= 1000) {\r\n\t\t\tfinalRoman = finalRoman + &quot;M&quot;;\r\n\t\t\troman -= 1000;\r\n\t\t} // while(r &gt;= 1000)\r\n\r\n\t\twhile (roman &gt;= 500) {\r\n\t\t\tfinalRoman = finalRoman + &quot;D&quot;;\r\n\t\t\troman -= 500;\r\n\r\n\t\t} // while(r &gt;= 500)\r\n\r\n\t\twhile (roman &gt;= 100) {\r\n\t\t\tfinalRoman = finalRoman + &quot;C&quot;;\r\n\t\t\troman -= 100;\r\n\t\t} // while(r &gt;= 100)\r\n\r\n\t\twhile (roman &gt;= 50) {\r\n\t\t\tfinalRoman = finalRoman + &quot;L&quot;;\r\n\t\t\troman -= 50;\r\n\t\t} // while(r &gt;= 50)\r\n\r\n\t\twhile (roman &gt;= 10) {\r\n\t\t\tfinalRoman = finalRoman + &quot;X&quot;;\r\n\t\t\troman -= 10;\r\n\r\n\t\t} // while(r &gt;= 10)\r\n\r\n\t\twhile (roman &gt;= 5) {\r\n\t\t\tfinalRoman = finalRoman + &quot;V&quot;;\r\n\t\t\troman -= 5;\r\n\t\t} // while(r &gt;= 5)\r\n\r\n\t\twhile (roman &gt;= 1) {\r\n\t\t\tfinalRoman = finalRoman + &quot;I&quot;;\r\n\t\t\troman -= 1;\r\n\t\t} \r\n\r\n\t\treturn finalRoman;\r\n\t}\r\n\r\n\tprivate int convertRomanToInteger(String n) {\r\n\t\tString decimal = n;\r\n\t\tint finalDecimal = 0;\r\n\t\t  \r\n\t\t\r\n\t\tfor (int i = 0; i &lt;= decimal.length(); i++) {\r\n\t\t\twhile (decimal.charAt(i) == &#39;M&#39;) {\r\n\t\t\t\tfinalDecimal += 1000;\r\n\t\t\t} // while(n.charAt(i) == &#39;M&#39;)\r\n\t\t\r\n\t\t\twhile (decimal.charAt(i) == &#39;D&#39;) {\r\n\t\t\t\tfinalDecimal += 500;\r\n\t\t\t} // while(n.charAt(i) == &#39;D&#39;)\r\n\t\t\t\r\n\t\t\twhile (decimal.charAt(i) == &#39;C&#39;) {\r\n\t\t\t\tfinalDecimal += 100;\r\n\t\t\t} // while(n.charAt(i) == &#39;C&#39;)\r\n\t\t\t\r\n\r\n\t\t\twhile (decimal.charAt(i) == &#39;L&#39;) {\r\n\t\t\t\tfinalDecimal += 50;\r\n\t\t\t} // while(n.charAt(i) == &#39;L&#39;)\r\n\t\t\t\r\n\r\n\t\t\twhile (decimal.charAt(i) == &#39;X&#39;) {\r\n\t\t\t\tfinalDecimal += 10;\r\n\t\t\t} // while(n.charAt(i) == &#39;X&#39;)\r\n\t\t\t\r\n\r\n\t\t\twhile (decimal.charAt(i) == &#39;V&#39;) {\r\n\t\t\t\tfinalDecimal += 5;\r\n\t\t\t} // while(n.charAt(i) == &#39;V&#39;)\r\n\t\t\t\r\n\r\n\t\t\twhile (decimal.charAt(i) == &#39;I&#39;) {\r\n\t\t\t\tfinalDecimal += 1;\r\n\t\t\t} // while(n.charAt(i) == &#39;I&#39;)\r\n\t\t\t\r\n\t\t} // for\r\n\t\treturn finalDecimal;\r\n\r\n\t}// convertRomanToInteger()\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nMain class: \r\n\r\n\r\n\r\n```\r\npublic class RomanNumeralCalculatorTestCase {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean working = true;\r\n\t\tRomanNumeral case1 = new RomanNumeral();\r\n\t\tcase1.setRomanNumeral(&quot;XVI&quot;);\r\n\t\tif (case1.getRomanNumeral() != &quot;XVI&quot;) {\r\n\t\t\tworking = false;\r\n\t\t\tSystem.err.println(&quot;ERROR: Roman numeral was not set properly. It is &quot; + case1.getRomanNumeral()\r\n\t\t\t\t\t+ &quot;. It should be XVI&quot;);\r\n\t\t}//if\r\n\t\tcase1.setDecimalNumeral(2004);\r\n\t\tif (case1.getDecimalNumeral() != 2004) {\r\n\t\t\tworking = false;\r\n\t\t\tSystem.err.println(&quot;ERROR: Decimal number was not set properly. It is &quot; + case1.getDecimalNumeral()\r\n\t\t\t\t\t+ &quot;. It should be XVI&quot;);\r\n\t\t}\r\n\r\n\t\tRomanNumeral case2 = new RomanNumeral(1000);\r\n\t\tString s = &quot;M&quot;;\r\n\t\tif(!(case2.getRomanNumeral().equals(s))) {\r\n\t\t\tworking = false;\r\n\t\t\tSystem.err.println(&quot;ERROR: Decimal number was not set properly. It is &quot; + case2.getRomanNumeral()\r\n\t\t\t\t\t+ &quot;, it should be M.&quot;);\r\n\t\t}\r\n\t\tRomanNumeral case3 = new RomanNumeral(&quot;M&quot;);\r\n\t\tif(case3.getDecimalNumeral() != 1000) {\r\n\t\t\tworking = false;\r\n\t\t\tSystem.err.println(&quot;ERROR: Decimal number was not set properly. It is &quot; + case3.getDecimalNumeral()\r\n\t\t\t\t\t+ &quot;. It should be 1000&quot;);\r\n\t\t}\r\n\t\tif(working)\r\n\t\t\tSystem.out.print(&quot;Congratz ! The test case work !&quot;);\r\n\t}// public static void main(String[] args)\r\n}// public class RomanNumeralCalculatorTestCase\r\n\r\n```\r\n\r\n\r\nI tried to use a small and simple array, but it remained as a string. If someone has a suggestion of a small and very simple array that I can understand, I would be really open to that solution. I just want to understand the solution.","title":"Roman to int without arrays","body":"<p>I'm very new with java, I haven't learned arrays and maps yet, so I have to create a program to convert from integer to Roman and vice-versa. My conversion from int to string works, but not string to int. It somehow does an infinite loop and I'm not too sure why. What could I change to my while loop to make it stop its infinite process ?\nWe don't have to consider XI and such, so 4 = IIII 9 = VIIII\nWe only take into account M, D, C, L, X, V, I\nWe needed to create 3 constructors, one empty, one that takes a string, and one that takes a int\nMy server class :</p>\n<pre><code>package jfauvelle_G10_A04;\n\npublic class RomanNumeral {\n    private String romanNum = &quot;&quot;;\n    private int decimalNum = 0;\n\n    public RomanNumeral() {\n        romanNum = &quot;&quot;;\n        decimalNum = 0;\n    }\n\n    public RomanNumeral(String r) {\n        decimalNum = convertRomanToInteger(r);\n        romanNum = r;\n    }\n\n    public RomanNumeral(int i) {\n        romanNum = convertIntegerToRoman(i);\n        decimalNum = i;\n        \n    }\n\n    public void setRomanNumeral(String r) {\n        romanNum = r;\n    }\n\n    public String getRomanNumeral() {\n        return romanNum;\n    }\n\n    public void setDecimalNumeral(int i) {\n        decimalNum = i;\n    }\n\n    public int getDecimalNumeral() {\n        return decimalNum;\n\n    }\n\n    public String convertIntegerToRoman(int r) {\n        int roman = r; \n        String finalRoman = &quot;&quot;;\n\n        while (roman &gt;= 1000) {\n            finalRoman = finalRoman + &quot;M&quot;;\n            roman -= 1000;\n        } // while(r &gt;= 1000)\n\n        while (roman &gt;= 500) {\n            finalRoman = finalRoman + &quot;D&quot;;\n            roman -= 500;\n\n        } // while(r &gt;= 500)\n\n        while (roman &gt;= 100) {\n            finalRoman = finalRoman + &quot;C&quot;;\n            roman -= 100;\n        } // while(r &gt;= 100)\n\n        while (roman &gt;= 50) {\n            finalRoman = finalRoman + &quot;L&quot;;\n            roman -= 50;\n        } // while(r &gt;= 50)\n\n        while (roman &gt;= 10) {\n            finalRoman = finalRoman + &quot;X&quot;;\n            roman -= 10;\n\n        } // while(r &gt;= 10)\n\n        while (roman &gt;= 5) {\n            finalRoman = finalRoman + &quot;V&quot;;\n            roman -= 5;\n        } // while(r &gt;= 5)\n\n        while (roman &gt;= 1) {\n            finalRoman = finalRoman + &quot;I&quot;;\n            roman -= 1;\n        } \n\n        return finalRoman;\n    }\n\n    private int convertRomanToInteger(String n) {\n        String decimal = n;\n        int finalDecimal = 0;\n          \n        \n        for (int i = 0; i &lt;= decimal.length(); i++) {\n            while (decimal.charAt(i) == 'M') {\n                finalDecimal += 1000;\n            } // while(n.charAt(i) == 'M')\n        \n            while (decimal.charAt(i) == 'D') {\n                finalDecimal += 500;\n            } // while(n.charAt(i) == 'D')\n            \n            while (decimal.charAt(i) == 'C') {\n                finalDecimal += 100;\n            } // while(n.charAt(i) == 'C')\n            \n\n            while (decimal.charAt(i) == 'L') {\n                finalDecimal += 50;\n            } // while(n.charAt(i) == 'L')\n            \n\n            while (decimal.charAt(i) == 'X') {\n                finalDecimal += 10;\n            } // while(n.charAt(i) == 'X')\n            \n\n            while (decimal.charAt(i) == 'V') {\n                finalDecimal += 5;\n            } // while(n.charAt(i) == 'V')\n            \n\n            while (decimal.charAt(i) == 'I') {\n                finalDecimal += 1;\n            } // while(n.charAt(i) == 'I')\n            \n        } // for\n        return finalDecimal;\n\n    }// convertRomanToInteger()\n}\n\n\n</code></pre>\n<p>Main class:</p>\n<pre><code>public class RomanNumeralCalculatorTestCase {\n\n    public static void main(String[] args) {\n        boolean working = true;\n        RomanNumeral case1 = new RomanNumeral();\n        case1.setRomanNumeral(&quot;XVI&quot;);\n        if (case1.getRomanNumeral() != &quot;XVI&quot;) {\n            working = false;\n            System.err.println(&quot;ERROR: Roman numeral was not set properly. It is &quot; + case1.getRomanNumeral()\n                    + &quot;. It should be XVI&quot;);\n        }//if\n        case1.setDecimalNumeral(2004);\n        if (case1.getDecimalNumeral() != 2004) {\n            working = false;\n            System.err.println(&quot;ERROR: Decimal number was not set properly. It is &quot; + case1.getDecimalNumeral()\n                    + &quot;. It should be XVI&quot;);\n        }\n\n        RomanNumeral case2 = new RomanNumeral(1000);\n        String s = &quot;M&quot;;\n        if(!(case2.getRomanNumeral().equals(s))) {\n            working = false;\n            System.err.println(&quot;ERROR: Decimal number was not set properly. It is &quot; + case2.getRomanNumeral()\n                    + &quot;, it should be M.&quot;);\n        }\n        RomanNumeral case3 = new RomanNumeral(&quot;M&quot;);\n        if(case3.getDecimalNumeral() != 1000) {\n            working = false;\n            System.err.println(&quot;ERROR: Decimal number was not set properly. It is &quot; + case3.getDecimalNumeral()\n                    + &quot;. It should be 1000&quot;);\n        }\n        if(working)\n            System.out.print(&quot;Congratz ! The test case work !&quot;);\n    }// public static void main(String[] args)\n}// public class RomanNumeralCalculatorTestCase\n\n</code></pre>\n<p>I tried to use a small and simple array, but it remained as a string. If someone has a suggestion of a small and very simple array that I can understand, I would be really open to that solution. I just want to understand the solution.</p>\n"},{"tags":["java","zip","password-protection"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628950690,"post_id":68783417,"comment_id":121560355,"body_markdown":"If it allows you to open an `InputStream` on it in the first place when it&#39;s password-protected, my guess is that&#39;s it&#39;s likely to throw an exception if you try to read it. Did you try that?","body":"If it allows you to open an <code>InputStream</code> on it in the first place when it&#39;s password-protected, my guess is that&#39;s it&#39;s likely to throw an exception if you try to read it. Did you try that?"},{"owner":{"account_id":11594888,"reputation":57,"user_id":8493919,"display_name":"user3629"},"score":0,"creation_date":1629722290,"post_id":68783417,"comment_id":121754244,"body_markdown":"yes i am able to read","body":"yes i am able to read"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629946849,"creation_date":1628954172,"answer_id":68784597,"question_id":68783417,"body_markdown":"Sorry, I don&#39;t think there is a library that will do exactly what you want.\r\n\r\n - zip4j `ZipFile` can only open a `File` or a `String` pathname.\r\n\r\n - Java SE `ZipFile` can only open a `File` or a `String` pathname ... and doesn&#39;t support encrypted entries.\r\n\r\n - Java SE `ZipInputStream` does support an `InputStream`, but doesn&#39;t support encrypted entries.\r\n\r\n - Apache Commons `ZipFile` does support seekable input streams (and channels), but not `InputStream`.  And it doesn&#39;t understand encrypted entries.\r\n\r\n - Apache Commons `ZipInputStream` works with any `InputStream` but it doesn&#39;t understand encrypted entries.\r\n\r\n------------\r\n\r\nSo what are the options?\r\n\r\nThe simplest option would be to copy the `InputStream` contents to a temporary file and then use zip4j `ZipFile` as per the code in your question.   When you are finished, delete the temporary file. \r\n\r\nIn theory, you ought to be able to use Java SE `ZipInputStream` and scan the entries to check the `FileHeader` for each file.  (Bit zero of the &quot;general purpose bit&quot; field tells you if the file is encrypted.)  The problem is that `ZipEntry` doesn&#39;t expose the information.\r\n\r\nHowever, Apache&#39;s `ZipInputStream` class (which can read an `InputStream`!), exposes the general purpose bit field.  So this would provide a way to test if any of the files in the ZIP is encrypted.  If that is all you need, then you have another possible option.","title":"how to check given inputstream(zip file) is password protected or not using java?","body":"<p>Sorry, I don't think there is a library that will do exactly what you want.</p>\n<ul>\n<li><p>zip4j <code>ZipFile</code> can only open a <code>File</code> or a <code>String</code> pathname.</p>\n</li>\n<li><p>Java SE <code>ZipFile</code> can only open a <code>File</code> or a <code>String</code> pathname ... and doesn't support encrypted entries.</p>\n</li>\n<li><p>Java SE <code>ZipInputStream</code> does support an <code>InputStream</code>, but doesn't support encrypted entries.</p>\n</li>\n<li><p>Apache Commons <code>ZipFile</code> does support seekable input streams (and channels), but not <code>InputStream</code>.  And it doesn't understand encrypted entries.</p>\n</li>\n<li><p>Apache Commons <code>ZipInputStream</code> works with any <code>InputStream</code> but it doesn't understand encrypted entries.</p>\n</li>\n</ul>\n<hr />\n<p>So what are the options?</p>\n<p>The simplest option would be to copy the <code>InputStream</code> contents to a temporary file and then use zip4j <code>ZipFile</code> as per the code in your question.   When you are finished, delete the temporary file.</p>\n<p>In theory, you ought to be able to use Java SE <code>ZipInputStream</code> and scan the entries to check the <code>FileHeader</code> for each file.  (Bit zero of the &quot;general purpose bit&quot; field tells you if the file is encrypted.)  The problem is that <code>ZipEntry</code> doesn't expose the information.</p>\n<p>However, Apache's <code>ZipInputStream</code> class (which can read an <code>InputStream</code>!), exposes the general purpose bit field.  So this would provide a way to test if any of the files in the ZIP is encrypted.  If that is all you need, then you have another possible option.</p>\n"}],"owner":{"account_id":11594888,"reputation":57,"user_id":8493919,"display_name":"user3629"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68784597,"answer_count":1,"score":0,"last_activity_date":1670260377,"creation_date":1628945042,"question_id":68783417,"body_markdown":"I have inputstream of zip file , want to check if this inputstream is password protected or not . I have gone through this https://stackoverflow.com/questions/11174851/how-to-use-zip4j-to-extract-an-zip-file-with-password-protection.\r\n   \r\n\r\n    String source = &quot;folder/source.zip&quot;;\r\n    String destination = &quot;folder/source/&quot;;\r\n    String password = &quot;password&quot;;\r\n\r\n    try {\r\n    ZipFile zipFile = new ZipFile(source);\r\n    if (zipFile.isEncrypted()) {\r\n        zipFile.setPassword(password);\r\n    }\r\n    zipFile.extractAll(destination);\r\n    } catch (ZipException e) {\r\n    e.printStackTrace();\r\n    }\r\nin this website above solution is given . but i do not have file or file path location. i have only inputstream of zip file can someone tell me how i can check whether given inputstream (zip file) is password protected or not. thanks in advance.","title":"how to check given inputstream(zip file) is password protected or not using java?","body":"<p>I have inputstream of zip file , want to check if this inputstream is password protected or not . I have gone through this <a href=\"https://stackoverflow.com/questions/11174851/how-to-use-zip4j-to-extract-an-zip-file-with-password-protection\">How to use zip4j to extract an zip file with password protection</a>.</p>\n<pre><code>String source = &quot;folder/source.zip&quot;;\nString destination = &quot;folder/source/&quot;;\nString password = &quot;password&quot;;\n\ntry {\nZipFile zipFile = new ZipFile(source);\nif (zipFile.isEncrypted()) {\n    zipFile.setPassword(password);\n}\nzipFile.extractAll(destination);\n} catch (ZipException e) {\ne.printStackTrace();\n}\n</code></pre>\n<p>in this website above solution is given . but i do not have file or file path location. i have only inputstream of zip file can someone tell me how i can check whether given inputstream (zip file) is password protected or not. thanks in advance.</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1670251569,"post_id":74689787,"comment_id":131826725,"body_markdown":"Can you show us your code please?!","body":"Can you show us your code please?!"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1670252107,"post_id":74689787,"comment_id":131826951,"body_markdown":"@YCF_L added code example. Exact query just changed table and column names. table2 is a mapping table between 2 tables.","body":"@YCF_L added code example. Exact query just changed table and column names. table2 is a mapping table between 2 tables."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1670252722,"post_id":74689787,"comment_id":131827174,"body_markdown":"I mean your java code","body":"I mean your java code"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1670253198,"post_id":74689787,"comment_id":131827355,"body_markdown":"@YCF_L added java code","body":"@YCF_L added java code"}],"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670259566,"creation_date":1670250683,"question_id":74689787,"body_markdown":"I have a DB made with PosthreSql. I need to query for a object that has 1 column as a array. Is there a way for me to use DataClassRowMapper to map postgresql Array into Java List? Or do i have the create custom mapper for that? The Java Record itself will be useed as a REST response for the client side.\r\n\r\n\r\nCode example:\r\n\r\n    select t1.uuid, t1.name, array_agg(t2.a_uuid) a_uuids\r\n    from table1 t1\r\n    join table2 t2 on t1.uuid = t2.b_uuid\r\n    group by t1.uuid, t1.name\r\n\r\nJava code example\r\n\r\n    jdbcTemplate.queryForObject(&quot;&quot;&quot;query&quot;&quot;&quot;, params, DataClassRowMapper.newInstance(Result.class));\r\n\r\nWhere Result is \r\n\r\n    public record Record(UUID uuid, String name, List&lt;UUID&gt; aUuids);","title":"How to map string[] into java List&lt;String&gt; with DataClassRowMapper in JDBC with Postgresql?","body":"<p>I have a DB made with PosthreSql. I need to query for a object that has 1 column as a array. Is there a way for me to use DataClassRowMapper to map postgresql Array into Java List? Or do i have the create custom mapper for that? The Java Record itself will be useed as a REST response for the client side.</p>\n<p>Code example:</p>\n<pre><code>select t1.uuid, t1.name, array_agg(t2.a_uuid) a_uuids\nfrom table1 t1\njoin table2 t2 on t1.uuid = t2.b_uuid\ngroup by t1.uuid, t1.name\n</code></pre>\n<p>Java code example</p>\n<pre><code>jdbcTemplate.queryForObject(&quot;&quot;&quot;query&quot;&quot;&quot;, params, DataClassRowMapper.newInstance(Result.class));\n</code></pre>\n<p>Where Result is</p>\n<pre><code>public record Record(UUID uuid, String name, List&lt;UUID&gt; aUuids);\n</code></pre>\n"},{"tags":["java","android","firebase","android-gradle-plugin","crashlytics"],"comments":[{"owner":{"account_id":10565292,"reputation":2108,"user_id":7783718,"display_name":"Abhay Koradiya"},"score":0,"creation_date":1544441713,"post_id":53704804,"comment_id":94264215,"body_markdown":"Have you use any jar lib ? If so, post here.","body":"Have you use any jar lib ? If so, post here."},{"owner":{"account_id":7524765,"reputation":294,"user_id":5715394,"display_name":"Badr"},"score":0,"creation_date":1544442131,"post_id":53704804,"comment_id":94264470,"body_markdown":"there is a conflict in the versions, try using same versions for all firebase and google play service dependencies","body":"there is a conflict in the versions, try using same versions for all firebase and google play service dependencies"},{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1544442789,"post_id":53704804,"comment_id":94264803,"body_markdown":"What happens if u remove this `com.google.android.gms:play-services-base:16.0.1`?","body":"What happens if u remove this <code>com.google.android.gms:play-services-base:16.0.1</code>?"}],"answers":[{"comments":[{"owner":{"account_id":15127958,"reputation":740,"user_id":10916719,"display_name":"Shahjad Ans Sunny"},"score":0,"creation_date":1569496780,"post_id":53705188,"comment_id":102620434,"body_markdown":"so where can i get to monitor all the crashes ?","body":"so where can i get to monitor all the crashes ?"},{"owner":{"account_id":8257713,"reputation":175,"user_id":6210335,"display_name":"rajat singh"},"score":0,"creation_date":1569588635,"post_id":53705188,"comment_id":102656566,"body_markdown":"All you crashes will be visible on firebase console, you can access them from left hand side menu under crashlytics section","body":"All you crashes will be visible on firebase console, you can access them from left hand side menu under crashlytics section"},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":0,"creation_date":1575229259,"post_id":53705188,"comment_id":104486427,"body_markdown":"According to the roadmap, the new Firebase SDK is not ready yet, they say keep using the crashlytics/fabric.io variant. See roadmap: https://get.fabric.io/roadmap#the-roadmap","body":"According to the roadmap, the new Firebase SDK is not ready yet, they say keep using the crashlytics/fabric.io variant. See roadmap: <a href=\"https://get.fabric.io/roadmap#the-roadmap\" rel=\"nofollow noreferrer\">get.fabric.io/roadmap#the-roadmap</a>"}],"tags":[],"owner":{"account_id":8257713,"reputation":175,"user_id":6210335,"display_name":"rajat singh"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":true,"score":-1,"last_activity_date":1544442949,"creation_date":1544442949,"answer_id":53705188,"question_id":53704804,"body_markdown":"You don&#39;t need any dependency or.jar file to add crashlytics in your app just follow below steps and let me know if you face any error.\r\nAdd the dependency on Google Analytics for Firebase to your app-level build.gradle file:\r\n\r\n    implementation &#39;com.google.firebase:firebase-core:16.0.6&#39;\r\nAfter this, Declare the com.google.firebase.analytics.FirebaseAnalytics object at the top of your activity:\r\n\r\n    private FirebaseAnalytics mFirebaseAnalytics;\r\nThen initialize it in the onCreate() method:\r\n\r\n    // Obtain the FirebaseAnalytics instance.\r\n    mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\r\n\r\nThat&#39;s it for more info refer to official docs of Firebase on How to integrate crashlytics (https://firebase.google.com/docs/analytics/android/start)\r\n\r\nNote : mismatching of firebase libraries can give you gradle compilation errors ","title":"How to add firebase crashlytics into android projects","body":"<p>You don't need any dependency or.jar file to add crashlytics in your app just follow below steps and let me know if you face any error.\nAdd the dependency on Google Analytics for Firebase to your app-level build.gradle file:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-core:16.0.6'\n</code></pre>\n\n<p>After this, Declare the com.google.firebase.analytics.FirebaseAnalytics object at the top of your activity:</p>\n\n<pre><code>private FirebaseAnalytics mFirebaseAnalytics;\n</code></pre>\n\n<p>Then initialize it in the onCreate() method:</p>\n\n<pre><code>// Obtain the FirebaseAnalytics instance.\nmFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\n</code></pre>\n\n<p>That's it for more info refer to official docs of Firebase on How to integrate crashlytics (<a href=\"https://firebase.google.com/docs/analytics/android/start\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/analytics/android/start</a>)</p>\n\n<p>Note : mismatching of firebase libraries can give you gradle compilation errors </p>\n"},{"tags":[],"owner":{"account_id":4405060,"reputation":10539,"user_id":3589715,"display_name":"AlexPad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571662792,"creation_date":1571662792,"answer_id":58486856,"question_id":53704804,"body_markdown":"To enter Firebase Crashlytics the first thing you need to do is follow these simple steps:\r\n\r\nIn app-&gt; build.gradle:\r\n\r\n    apply plugin: &#39;io.fabric&#39;\r\n    dependencies {\r\n     implementation &quot;com.google.firebase:firebase-core:17.2.0&quot;\r\n    // Add dependency\r\n    implementation &#39;com.crashlytics.sdk.android:crashlytics:2.10.1&#39;\r\n    }\r\n\r\nIn general build.gradle:\r\n     \r\n    buildscript {\r\n\r\n    repositories {\r\n       \r\n        maven {\r\n            url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;io.fabric.tools:gradle:1.31.2&#39;  // Crashlytics plugin\r\n    }\r\n\r\n**Obviously after that, insert the json file in your project folder to connect your app to Firebase**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PNhoG.png\r\n\r\nTo do the first test and evaluate if everything is working properly, you don&#39;t need to initialize anything, because Crashlytics has the singleton. So go to the main screen of your app and not to Application (otherwise it won&#39;t work), and try this:\r\n\r\n    Crashlytics.getInstance().crash();\r\n\r\nAfter doing the test, go to your app&#39;s Firebase panel and click on the Crashlytics button","title":"How to add firebase crashlytics into android projects","body":"<p>To enter Firebase Crashlytics the first thing you need to do is follow these simple steps:</p>\n\n<p>In app-> build.gradle:</p>\n\n<pre><code>apply plugin: 'io.fabric'\ndependencies {\n implementation \"com.google.firebase:firebase-core:17.2.0\"\n// Add dependency\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n}\n</code></pre>\n\n<p>In general build.gradle:</p>\n\n<pre><code>buildscript {\n\nrepositories {\n\n    maven {\n        url 'https://maven.fabric.io/public'\n    }\n}\ndependencies {\n    classpath 'io.fabric.tools:gradle:1.31.2'  // Crashlytics plugin\n}\n</code></pre>\n\n<p><strong>Obviously after that, insert the json file in your project folder to connect your app to Firebase</strong>\n<a href=\"https://i.stack.imgur.com/PNhoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PNhoG.png\" alt=\"enter image description here\"></a></p>\n\n<p>To do the first test and evaluate if everything is working properly, you don't need to initialize anything, because Crashlytics has the singleton. So go to the main screen of your app and not to Application (otherwise it won't work), and try this:</p>\n\n<pre><code>Crashlytics.getInstance().crash();\n</code></pre>\n\n<p>After doing the test, go to your app's Firebase panel and click on the Crashlytics button</p>\n"},{"comments":[{"owner":{"account_id":1639165,"reputation":1296,"user_id":1511958,"accept_rate":72,"display_name":"san88"},"score":0,"creation_date":1624442035,"post_id":58620414,"comment_id":120358196,"body_markdown":"The Fabric SDK is no longer supported as of November 15, 2020. To continue getting crash reports in the Firebase console, make sure you upgrade to the Firebase Crashlytics SDK .\n  https://firebase.google.com/docs/crashlytics/upgrade-sdk?platform=android","body":"The Fabric SDK is no longer supported as of November 15, 2020. To continue getting crash reports in the Firebase console, make sure you upgrade to the Firebase Crashlytics SDK .   <a href=\"https://firebase.google.com/docs/crashlytics/upgrade-sdk?platform=android\" rel=\"nofollow noreferrer\">firebase.google.com/docs/crashlytics/&hellip;</a>"}],"tags":[],"owner":{"account_id":13865284,"reputation":343,"user_id":10034770,"display_name":"Kavya Shravan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572420551,"creation_date":1572420551,"answer_id":58620414,"question_id":53704804,"body_markdown":"I have followed the below steps to achieve adding the Firebase Crashlytics to the project,\r\n\r\n1.Get the google-service json file and complete adding project to the firebase follow this link [Firebase Console][1]. \r\n\r\n2.In project build.gradle file add the below code,\r\n\r\n    buildscript {\r\n    repositories {\r\n        maven {\r\n            url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://maven.google.com&#39;\r\n        }\r\n    }\r\n     dependencies {\r\n         // Check for v3.1.2 or higher\r\n         classpath &#39;com.google.gms:google-services:4.3.2&#39;\r\n         // Add dependency\r\n         classpath &#39;io.fabric.tools:gradle:1.31.2&#39;\r\n      }\r\n    }\r\n\r\n    allprojects {\r\n      repositories {\r\n          maven {\r\n              url &#39;https://maven.google.com&#39;\r\n          }\r\n          maven {\r\n              url &#39;https://maven.fabric.io/public&#39;\r\n          }\r\n       }\r\n    }\r\n\r\n3.Inside the app build.gradle file, add the below code,\r\n\r\n    apply plugin: &#39;io.fabric&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nand in dependencies add,\r\n\r\n    implementation &#39;com.crashlytics.sdk.android:crashlytics:2.10.1&#39;\r\n\r\n4.Induce the crash to check whether it gets reflected in the console in section crashlytics,\r\n\r\n    Crashlytics.getInstance().crash();\r\n\r\nHope it helps :)\r\n\r\n\r\n  [1]: https://console.firebase.google.com/","title":"How to add firebase crashlytics into android projects","body":"<p>I have followed the below steps to achieve adding the Firebase Crashlytics to the project,</p>\n\n<p>1.Get the google-service json file and complete adding project to the firebase follow this link <a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase Console</a>. </p>\n\n<p>2.In project build.gradle file add the below code,</p>\n\n<pre><code>buildscript {\nrepositories {\n    maven {\n        url 'https://maven.fabric.io/public'\n    }\n    maven {\n        url 'https://maven.google.com'\n    }\n}\n dependencies {\n     // Check for v3.1.2 or higher\n     classpath 'com.google.gms:google-services:4.3.2'\n     // Add dependency\n     classpath 'io.fabric.tools:gradle:1.31.2'\n  }\n}\n\nallprojects {\n  repositories {\n      maven {\n          url 'https://maven.google.com'\n      }\n      maven {\n          url 'https://maven.fabric.io/public'\n      }\n   }\n}\n</code></pre>\n\n<p>3.Inside the app build.gradle file, add the below code,</p>\n\n<pre><code>apply plugin: 'io.fabric'\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>and in dependencies add,</p>\n\n<pre><code>implementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n</code></pre>\n\n<p>4.Induce the crash to check whether it gets reflected in the console in section crashlytics,</p>\n\n<pre><code>Crashlytics.getInstance().crash();\n</code></pre>\n\n<p>Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":9143565,"reputation":781,"user_id":6800637,"display_name":"AllanRibas"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1601495244,"creation_date":1579312207,"answer_id":59796881,"question_id":53704804,"body_markdown":"  build.gradle [Module](https://github.com/Allanksr/Android/blob/aa7e08f738be27d31547b8d460cbea01eab2c789/Firebase%20Crashlytics/Crashlytics/app/build.gradle#L5)\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    apply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n \r\n\r\n    // add the Firebase SDK for Google Analytics\r\n    // The app need this to init in Firebase console\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.1&#39;\r\n\r\n     // Add the Firebase SDK for Crashlytics.\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.0.0-beta01&#39;\r\n\r\n\r\nbuild.gradle [Project](https://github.com/Allanksr/Android/blob/aa7e08f738be27d31547b8d460cbea01eab2c789/Firebase%20Crashlytics/Crashlytics/build.gradle#L13)\r\n\r\n    classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.0.0-beta01&#39;\r\n\r\nYou do not need fabric.io anymore, it is deprecated and will be available until March 31, 2020.\r\nTake a look at this [Project](https://github.com/Allanksr/Android)\r\n and  [Video](https://www.youtube.com/watch?v=a-XgoJSNx-k)\r\n\r\nif after all Firebase doesn&#39;t recognize the app, record an exception using this\r\n[recordException](https://stackoverflow.com/questions/51714355/how-to-log-non-fatal-caught-exceptions-with-firebase-crashlytics/64144685#64144685)\r\n","title":"How to add firebase crashlytics into android projects","body":"<p>build.gradle <a href=\"https://github.com/Allanksr/Android/blob/aa7e08f738be27d31547b8d460cbea01eab2c789/Firebase%20Crashlytics/Crashlytics/app/build.gradle#L5\" rel=\"nofollow noreferrer\">Module</a></p>\n<pre><code>apply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\n\n// add the Firebase SDK for Google Analytics\n// The app need this to init in Firebase console\nimplementation 'com.google.firebase:firebase-analytics:17.2.1'\n\n // Add the Firebase SDK for Crashlytics.\nimplementation 'com.google.firebase:firebase-crashlytics:17.0.0-beta01'\n</code></pre>\n<p>build.gradle <a href=\"https://github.com/Allanksr/Android/blob/aa7e08f738be27d31547b8d460cbea01eab2c789/Firebase%20Crashlytics/Crashlytics/build.gradle#L13\" rel=\"nofollow noreferrer\">Project</a></p>\n<pre><code>classpath 'com.google.firebase:firebase-crashlytics-gradle:2.0.0-beta01'\n</code></pre>\n<p>You do not need fabric.io anymore, it is deprecated and will be available until March 31, 2020.\nTake a look at this <a href=\"https://github.com/Allanksr/Android\" rel=\"nofollow noreferrer\">Project</a>\nand  <a href=\"https://www.youtube.com/watch?v=a-XgoJSNx-k\" rel=\"nofollow noreferrer\">Video</a></p>\n<p>if after all Firebase doesn't recognize the app, record an exception using this\n<a href=\"https://stackoverflow.com/questions/51714355/how-to-log-non-fatal-caught-exceptions-with-firebase-crashlytics/64144685#64144685\">recordException</a></p>\n"},{"tags":[],"owner":{"account_id":13305908,"reputation":37,"user_id":9605694,"display_name":"Aman Shukla"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584023728,"creation_date":1584023728,"answer_id":60656311,"question_id":53704804,"body_markdown":"1. in your build.gradle add:\r\n    \r\n        buildscript {\r\n        repositories {\r\n\r\n        // Add Google&#39;s Maven repository.\r\n        google()\r\n\r\n        maven {\r\n           url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n        }\r\n\r\n        dependencies {\r\n        // ...\r\n\r\n        // Add the Google Services plugin (check for v3.1.2 or higher).\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n\r\n        // Add the Fabric Crashlytics plugin.\r\n        classpath &#39;io.fabric.tools:gradle:1.31.2&#39;\r\n\r\n        }\r\n        }\r\n2. Add your app level build.gradle\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n        // Add the Fabric plugin.\r\n        apply plugin: &#39;io.fabric&#39;\r\n\r\n        dependencies {\r\n        // ...\r\n\r\n        // (Recommended) Add the Google Analytics dependency.\r\n        implementation &#39;com.google.firebase:firebase-analytics:17.2.3&#39;\r\n\r\n        // Add the Firebase Crashlytics dependency.\r\n        implementation &#39;com.crashlytics.sdk.android:crashlytics:2.10.1&#39;\r\n        }\r\n3. Change min Sdk version to 16 in app level build.gradle.\r\n\r\nYou can go through this link for detailed description of how to connect to crashlytics http://blogssolutions.co.in/android-app-add-firebase-crashlytics/\r\n","title":"How to add firebase crashlytics into android projects","body":"<ol>\n<li><p>in your build.gradle add:</p>\n\n<pre><code>buildscript {\nrepositories {\n\n// Add Google's Maven repository.\ngoogle()\n\nmaven {\n   url 'https://maven.fabric.io/public'\n}\n}\n\ndependencies {\n// ...\n\n// Add the Google Services plugin (check for v3.1.2 or higher).\nclasspath 'com.google.gms:google-services:4.3.3'\n\n// Add the Fabric Crashlytics plugin.\nclasspath 'io.fabric.tools:gradle:1.31.2'\n\n}\n}\n</code></pre></li>\n<li><p>Add your app level build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n// Add the Fabric plugin.\napply plugin: 'io.fabric'\n\ndependencies {\n// ...\n\n// (Recommended) Add the Google Analytics dependency.\nimplementation 'com.google.firebase:firebase-analytics:17.2.3'\n\n// Add the Firebase Crashlytics dependency.\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n}\n</code></pre></li>\n<li>Change min Sdk version to 16 in app level build.gradle.</li>\n</ol>\n\n<p>You can go through this link for detailed description of how to connect to crashlytics <a href=\"http://blogssolutions.co.in/android-app-add-firebase-crashlytics/\" rel=\"nofollow noreferrer\">http://blogssolutions.co.in/android-app-add-firebase-crashlytics/</a></p>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599647314,"creation_date":1599647314,"answer_id":63809712,"question_id":53704804,"body_markdown":"Register your android app  in firebase console and download **google-play-services.json** and paste under app in project directory.\r\n\r\nPlease follow below steps:\r\n\r\nIn project level build.gradle,add below dependency:\r\n\r\n**classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.2.1&#39;**\r\n\r\nIn app level build.gradle,add below plugin:\r\n\r\n**apply plugin: &#39;com.google.firebase.crashlytics&#39;**\r\n\r\nIn project level build.gradle,add below dependency:\r\n\r\n**implementation &#39;com.google.firebase:firebase-analytics:17.5.0&#39;\r\nimplementation &#39;com.crashlytics.sdk.android:crashlytics:2.10.1&#39;**\r\n\r\nFor checking,add below code to crash\r\n\r\n**Crashlytics.getInstance().crash();**","title":"How to add firebase crashlytics into android projects","body":"<p>Register your android app  in firebase console and download <strong>google-play-services.json</strong> and paste under app in project directory.</p>\n<p>Please follow below steps:</p>\n<p>In project level build.gradle,add below dependency:</p>\n<p><strong>classpath 'com.google.firebase:firebase-crashlytics-gradle:2.2.1'</strong></p>\n<p>In app level build.gradle,add below plugin:</p>\n<p><strong>apply plugin: 'com.google.firebase.crashlytics'</strong></p>\n<p>In project level build.gradle,add below dependency:</p>\n<p><strong>implementation 'com.google.firebase:firebase-analytics:17.5.0'\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'</strong></p>\n<p>For checking,add below code to crash</p>\n<p><strong>Crashlytics.getInstance().crash();</strong></p>\n"},{"tags":[],"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670259490,"creation_date":1661961199,"answer_id":73558660,"question_id":53704804,"body_markdown":"in android studio 4.0 and above \r\nproject level gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.10&#39; apply false\r\n    \r\n        \r\n        id &#39;com.google.gms.google-services&#39; version &#39;4.3.10&#39; apply false  // Google Services plugin\r\n        // Crashlytics Gradle plugin\r\n        id &#39;com.google.firebase.crashlytics&#39; version &#39;2.8.1&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n    \r\nApp level gradle \r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n    }\r\n\r\n\r\n\r\n    dependencies {\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:30.3.2&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n    }","title":"How to add firebase crashlytics into android projects","body":"<p>in android studio 4.0 and above\nproject level gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.1.0' apply false\n    id 'com.android.library' version '7.1.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.6.10' apply false\n\n    \n    id 'com.google.gms.google-services' version '4.3.10' apply false  // Google Services plugin\n    // Crashlytics Gradle plugin\n    id 'com.google.firebase.crashlytics' version '2.8.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>App level gradle</p>\n<pre><code>plugins {\nid 'com.android.application'\nid 'org.jetbrains.kotlin.android'\nid 'com.google.gms.google-services'\nid 'com.google.firebase.crashlytics'\n}\n\n\n\ndependencies {\n\nimplementation platform('com.google.firebase:firebase-bom:30.3.2')\nimplementation 'com.google.firebase:firebase-analytics'\nimplementation 'com.google.firebase:firebase-crashlytics'\n}\n</code></pre>\n"}],"owner":{"account_id":14773886,"reputation":259,"user_id":10669458,"display_name":"Dr. Jake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29120,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53705188,"answer_count":7,"score":11,"last_activity_date":1670259490,"creation_date":1544441631,"question_id":53704804,"body_markdown":"In my application, I want to use **firebase Crashlytics** and for this, I added below codes into my application.&lt;br&gt;\r\nI added this codes step by step from google document!&lt;br&gt;\r\nI added below codes but when sync application show me an error and not sync project.&lt;br&gt;\r\n\r\n**Build.gradle (project) :** \r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.2.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.1.0&#39;\r\n            classpath &#39;io.fabric.tools:gradle:1.26.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n            maven { url &#39;https://dl.bintray.com/tapsellorg/maven&#39; }\r\n            maven { url &#39;https://maven.google.com/&#39; }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n**Build.gradle (app) :** \r\n\r\n    dependencies {\r\n        implementation &#39;com.google.android.gms:play-services-base:16.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.6&#39;\r\n        implementation &#39;com.crashlytics.sdk.android:crashlytics:2.9.7&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n\r\n\r\nbut when added this line `apply plugin: &#39;com.google.gms.google-services&#39;` , when click on sync show me below error : \r\n\r\n    The library com.google.android.gms:play-services-base is being requested by various other libraries at [[11.0.2,11.0.2]], but resolves to 16.0.1. Disable the plugin and check your dependencies tree using ./gradlew :app:dependencies.\r\n\r\n\r\n\r\nHow can I fix it?","title":"How to add firebase crashlytics into android projects","body":"<p>In my application, I want to use <strong>firebase Crashlytics</strong> and for this, I added below codes into my application.<br>\nI added this codes step by step from google document!<br>\nI added below codes but when sync application show me an error and not sync project.<br></p>\n\n<p><strong>Build.gradle (project) :</strong> </p>\n\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath 'com.google.gms:google-services:4.1.0'\n        classpath 'io.fabric.tools:gradle:1.26.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n        maven { url 'https://dl.bintray.com/tapsellorg/maven' }\n        maven { url 'https://maven.google.com/' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>Build.gradle (app) :</strong> </p>\n\n<pre><code>dependencies {\n    implementation 'com.google.android.gms:play-services-base:16.0.1'\n    implementation 'com.google.firebase:firebase-core:16.0.6'\n    implementation 'com.crashlytics.sdk.android:crashlytics:2.9.7'\n}\napply plugin: 'com.google.gms.google-services'\napply plugin: 'io.fabric'\n</code></pre>\n\n<p>but when added this line <code>apply plugin: 'com.google.gms.google-services'</code> , when click on sync show me below error : </p>\n\n<pre><code>The library com.google.android.gms:play-services-base is being requested by various other libraries at [[11.0.2,11.0.2]], but resolves to 16.0.1. Disable the plugin and check your dependencies tree using ./gradlew :app:dependencies.\n</code></pre>\n\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":1,"creation_date":1670251538,"post_id":74644120,"comment_id":131826714,"body_markdown":"Use the @PostConstruct annotation.","body":"Use the @PostConstruct annotation."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670258604,"creation_date":1670258604,"answer_id":74691580,"question_id":74644120,"body_markdown":"There are a few ways to handle this; PostConstruct is the most straightforward.\r\n\r\nYou just add a PostConstruct annotation to your method, dropping the `@Scheduled` annotation altogether.  Spring will execute this method after it creates the bean and is done initializing it.\r\n\r\n    @PostConstruct\r\n    public void foo ()\r\n    {\r\n    }","title":"Components method only called once at start","body":"<p>There are a few ways to handle this; PostConstruct is the most straightforward.</p>\n<p>You just add a PostConstruct annotation to your method, dropping the <code>@Scheduled</code> annotation altogether.  Spring will execute this method after it creates the bean and is done initializing it.</p>\n<pre><code>@PostConstruct\npublic void foo ()\n{\n}\n</code></pre>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74691580,"answer_count":1,"score":0,"last_activity_date":1670258604,"creation_date":1669907538,"question_id":74644120,"body_markdown":"I have s Spring Component. How can I call a method only one at start and never again?\r\n\r\nI use Scheduler but I am only aware of periodically calls.\r\n\r\nSure I can set the interval very high - but maybe there is a better solution for my problem.\r\n\r\n    @Component\r\n    public class Test\r\n    {\r\n    \t@Scheduled (fixedDelay = 100000)\r\n    \tpublic void foo ()\r\n        {\r\n        }\r\n    }","title":"Components method only called once at start","body":"<p>I have s Spring Component. How can I call a method only one at start and never again?</p>\n<p>I use Scheduler but I am only aware of periodically calls.</p>\n<p>Sure I can set the interval very high - but maybe there is a better solution for my problem.</p>\n<pre><code>@Component\npublic class Test\n{\n    @Scheduled (fixedDelay = 100000)\n    public void foo ()\n    {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":430718,"reputation":2188,"user_id":814304,"accept_rate":33,"display_name":"iMysak"},"score":0,"creation_date":1359601275,"post_id":14617181,"comment_id":20413865,"body_markdown":"look on http://stackoverflow.com/questions/3965446/how-to-read-system-environment-variable-in-spring-applicationcontext","body":"look on <a href=\"http://stackoverflow.com/questions/3965446/how-to-read-system-environment-variable-in-spring-applicationcontext\" title=\"how to read system environment variable in spring applicationcontext\">stackoverflow.com/questions/3965446/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"comment_count":0,"down_vote_count":1,"up_vote_count":76,"is_accepted":true,"score":75,"last_activity_date":1359597103,"creation_date":1359597103,"answer_id":14617182,"question_id":14617181,"body_markdown":"    @Component\r\n    public class SomeClass {\r\n\r\n        @Value(&quot;#{environment.SOME_KEY_PROPERTY}&quot;)\r\n        private String key;\r\n\r\n        ....\r\n    }","title":"Java Spring: How to use `@Value` annotation to inject an `Environment` property?","body":"<pre><code>@Component\npublic class SomeClass {\n\n    @Value(\"#{environment.SOME_KEY_PROPERTY}\")\n    private String key;\n\n    ....\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":140637,"reputation":6194,"user_id":1311394,"display_name":"ach"},"score":13,"creation_date":1359646675,"post_id":14617285,"comment_id":20433797,"body_markdown":"Note, this is for Spring 3.1+ only.","body":"Note, this is for Spring 3.1+ only."},{"owner":{"account_id":8097459,"reputation":6349,"user_id":6101554,"accept_rate":42,"display_name":"Marty Chang"},"score":1,"creation_date":1462222369,"post_id":14617285,"comment_id":61537190,"body_markdown":"This worked for me in my Spring Boot app (running spring-core 4.2.5.RELEASE), and it appears much cleaner than the other accepted answer.","body":"This worked for me in my Spring Boot app (running spring-core 4.2.5.RELEASE), and it appears much cleaner than the other accepted answer."},{"owner":{"account_id":6338747,"reputation":523,"user_id":4921402,"accept_rate":82,"display_name":"ninrod"},"score":0,"creation_date":1483026778,"post_id":14617285,"comment_id":69968000,"body_markdown":"Ok but how do I configure said PropertySourcesPlaceHolderConfigurer to grab the environment variables values?","body":"Ok but how do I configure said PropertySourcesPlaceHolderConfigurer to grab the environment variables values?"},{"owner":{"account_id":316230,"reputation":4519,"user_id":632293,"display_name":"jediz"},"score":0,"creation_date":1484043081,"post_id":14617285,"comment_id":70336495,"body_markdown":"you can use this approach on a setter method, too","body":"you can use this approach on a setter method, too"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1519125052,"post_id":14617285,"comment_id":84772185,"body_markdown":"@ach if I understand correctly, the difference between 3.1+ and lower is the `$` vs `#`. is that right?","body":"@ach if I understand correctly, the difference between 3.1+ and lower is the <code>$</code> vs <code>#</code>. is that right?"},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":4,"creation_date":1588160630,"post_id":14617285,"comment_id":108791640,"body_markdown":"@asgs The `#` tells spring that inside it is a SpEL expression and one expression you have is `environment` to get values from the environment. On the other hand, `$` express a property that spring will try to load its value, from a property file, environment, command-line arguments, etc.","body":"@asgs The <code>#</code> tells spring that inside it is a SpEL expression and one expression you have is <code>environment</code> to get values from the environment. On the other hand, <code>$</code> express a property that spring will try to load its value, from a property file, environment, command-line arguments, etc."},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1588598691,"post_id":14617285,"comment_id":108951388,"body_markdown":"@PhoneixS if `$` can handle environment variables, then I guess, there&#39;s no need to use `#` (at least from a consistency perspective)","body":"@PhoneixS if <code>$</code> can handle environment variables, then I guess, there&#39;s no need to use <code>#</code> (at least from a consistency perspective)"},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":1,"creation_date":1588608233,"post_id":14617285,"comment_id":108957461,"body_markdown":"@asgs you&#39;re correct for environment variables. But `#` can handle more things, so maybe some projects have more `#` than `$`.","body":"@asgs you&#39;re correct for environment variables. But <code>#</code> can handle more things, so maybe some projects have more <code>#</code> than <code>$</code>."},{"owner":{"account_id":5224110,"reputation":139,"user_id":8921265,"display_name":"Abdulbasith"},"score":0,"creation_date":1645198919,"post_id":14617285,"comment_id":125815090,"body_markdown":"what other property can you lookup other than `environment` using `#`?","body":"what other property can you lookup other than <code>environment</code> using <code>#</code>?"}],"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"comment_count":9,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1670258178,"creation_date":1359597878,"answer_id":14617285,"question_id":14617181,"body_markdown":"You should be able to do this(assuming that you have a PropertySourcesPlaceHolderConfigurer registered)\r\n\r\n```java\r\n    @Value(&quot;${SOME_KEY_PROPERTY}&quot;)\r\n    private String key;\r\n```\r\n\r\n_Note_ you can set a default value with:\r\n\r\n```java\r\n    @Value(&quot;${SOME_KEY_PROPERTY:default-value}&quot;)\r\n```","title":"Java Spring: How to use `@Value` annotation to inject an `Environment` property?","body":"<p>You should be able to do this(assuming that you have a PropertySourcesPlaceHolderConfigurer registered)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;${SOME_KEY_PROPERTY}&quot;)\n    private String key;\n</code></pre>\n<p><em>Note</em> you can set a default value with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;${SOME_KEY_PROPERTY:default-value}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"comment_count":0,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1490112228,"creation_date":1490110774,"answer_id":42931711,"question_id":14617181,"body_markdown":"You might also find it useful to provide a ***default value*** in case the variable is not defined:\r\n\r\n    @Value(&quot;${some_property:default_value}&quot;)\r\n    private String key;\r\n\r\nOtherwise you&#39;ll get an exception whenever `some_property` is not defined.\r\n\r\n`default_value` can also be blank, in that case it will behave as if `some_property` was optional:\r\n\r\n    @Value(&quot;${some_property:}&quot;)\r\n    private String key;\r\n\r\n(Notice the colon)\r\n\r\nIf the default value contains special characters (dot, colon, etc.), then wrap it in SpEL like this:\r\n\r\n    @Value(&quot;${some_property:#{&#39;default_value&#39;}}&quot;)\r\n    private String key;\r\n","title":"Java Spring: How to use `@Value` annotation to inject an `Environment` property?","body":"<p>You might also find it useful to provide a <strong><em>default value</em></strong> in case the variable is not defined:</p>\n\n<pre><code>@Value(\"${some_property:default_value}\")\nprivate String key;\n</code></pre>\n\n<p>Otherwise you'll get an exception whenever <code>some_property</code> is not defined.</p>\n\n<p><code>default_value</code> can also be blank, in that case it will behave as if <code>some_property</code> was optional:</p>\n\n<pre><code>@Value(\"${some_property:}\")\nprivate String key;\n</code></pre>\n\n<p>(Notice the colon)</p>\n\n<p>If the default value contains special characters (dot, colon, etc.), then wrap it in SpEL like this:</p>\n\n<pre><code>@Value(\"${some_property:#{'default_value'}}\")\nprivate String key;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1524851847,"creation_date":1524851847,"answer_id":50067870,"question_id":14617181,"body_markdown":"If you need to add an environment variable as default value.\r\n\r\n    @Value(&quot;${awsId:#{environment.AWS_ACCESS_KEY_ID}}&quot;)\r\n    @Value(&quot;${awsSecret:#{environment.AWS_SECRET_ACCESS_KEY}}&quot;)\r\n\r\nThis is a combination of two previous answers.","title":"Java Spring: How to use `@Value` annotation to inject an `Environment` property?","body":"<p>If you need to add an environment variable as default value.</p>\n\n<pre><code>@Value(\"${awsId:#{environment.AWS_ACCESS_KEY_ID}}\")\n@Value(\"${awsSecret:#{environment.AWS_SECRET_ACCESS_KEY}}\")\n</code></pre>\n\n<p>This is a combination of two previous answers.</p>\n"},{"tags":[],"owner":{"account_id":52723,"reputation":7596,"user_id":157591,"accept_rate":62,"display_name":"Peter Szanto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649239758,"creation_date":1649239758,"answer_id":71764824,"question_id":14617181,"body_markdown":"There are 17 ways to override a property value in spring boot, one of them is environment variables (Item 10. in the [official documentation][1]\r\n\r\nThe only trick is that you have to convert property names to to uppercase and underscore. For example if you want to overwrite the property\r\n\r\n`myApp.myProperty`\r\n\r\nthen you have to have an environment variable called\r\n\r\n`MYAPP_MYPROPERTY`\r\n\r\nthis means that you can just have\r\n\r\n@Value(&quot;${myApp.myProperty}&quot;)\r\n\r\nwithout any customization and you can still overwrite it with an environment variable\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html","title":"Java Spring: How to use `@Value` annotation to inject an `Environment` property?","body":"<p>There are 17 ways to override a property value in spring boot, one of them is environment variables (Item 10. in the <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">official documentation</a></p>\n<p>The only trick is that you have to convert property names to to uppercase and underscore. For example if you want to overwrite the property</p>\n<p><code>myApp.myProperty</code></p>\n<p>then you have to have an environment variable called</p>\n<p><code>MYAPP_MYPROPERTY</code></p>\n<p>this means that you can just have</p>\n<p>@Value(&quot;${myApp.myProperty}&quot;)</p>\n<p>without any customization and you can still overwrite it with an environment variable</p>\n"}],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92013,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":14617182,"answer_count":5,"score":51,"last_activity_date":1670258178,"creation_date":1359597103,"question_id":14617181,"body_markdown":"Using a construct such as\r\n\r\n    @Component\r\n    public class SomeClass {\r\n    \r\n        @Inject\r\n        private Environment env;\r\n    \r\n        private String key;\r\n\r\n\r\n        @PostConstruct\r\n        private void init() {\r\n\r\n            key = env.getProperty(&quot;SOME_KEY_PROPERTY&quot;);\r\n\r\n        }\r\n        \r\n        ....\r\n    }\r\n\r\nit is possible to assign some field with some property.\r\n\r\nIs there a shorter, more concise form to do this?","title":"Java Spring: How to use `@Value` annotation to inject an `Environment` property?","body":"<p>Using a construct such as</p>\n\n<pre><code>@Component\npublic class SomeClass {\n\n    @Inject\n    private Environment env;\n\n    private String key;\n\n\n    @PostConstruct\n    private void init() {\n\n        key = env.getProperty(\"SOME_KEY_PROPERTY\");\n\n    }\n\n    ....\n}\n</code></pre>\n\n<p>it is possible to assign some field with some property.</p>\n\n<p>Is there a shorter, more concise form to do this?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":1,"creation_date":1670253728,"post_id":74690390,"comment_id":131827526,"body_markdown":"I think you want this: [Class.isAssignableFrom](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-)","body":"I think you want this: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\" rel=\"nofollow noreferrer\">Class.isAssignableFrom</a>"},{"owner":{"account_id":991688,"reputation":4736,"user_id":1008794,"display_name":"Rulle"},"score":0,"creation_date":1670253867,"post_id":74690390,"comment_id":131827586,"body_markdown":"@rghome Interesting. It could be that `src.isAssignableFrom(dst) || dst.isAssignableFrom(src)` would be equivalent to `isCastCompilable(dst, src)` but I would have to test that...","body":"@rghome Interesting. It could be that <code>src.isAssignableFrom(dst) || dst.isAssignableFrom(src)</code> would be equivalent to <code>isCastCompilable(dst, src)</code> but I would have to test that..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1670254676,"post_id":74690390,"comment_id":131827908,"body_markdown":"@Rulle I don&#39;t think that&#39;s the case. Your &quot;if and only if&quot; means that you only want one of the two cases to be true. I can&#39;t tell which is which because you change nomenclature from `src` and `dst` to `x` and `y`.","body":"@Rulle I don&#39;t think that&#39;s the case. Your &quot;if and only if&quot; means that you only want one of the two cases to be true. I can&#39;t tell which is which because you change nomenclature from <code>src</code> and <code>dst</code> to <code>x</code> and <code>y</code>."},{"owner":{"account_id":991688,"reputation":4736,"user_id":1008794,"display_name":"Rulle"},"score":0,"creation_date":1670255484,"post_id":74690390,"comment_id":131828223,"body_markdown":"@AndyTurner No. That is not what &quot;if and only if&quot; means.","body":"@AndyTurner No. That is not what &quot;if and only if&quot; means."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1670261624,"post_id":74690390,"comment_id":131830516,"body_markdown":"You may want to read up the [JLS &#167;5.5 Casting Contexts](https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.5). Short version: If A and B are both not interfaces, they need to be related. Doesn&#39;t apply to interfaces, some special case if A is final (there can be no possible subclass that implements B if A doesn&#39;t implement it...).","body":"You may want to read up the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">JLS &#167;5.5 Casting Contexts</a>. Short version: If A and B are both not interfaces, they need to be related. Doesn&#39;t apply to interfaces, some special case if A is final (there can be no possible subclass that implements B if A doesn&#39;t implement it...)."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1670261689,"post_id":74690390,"comment_id":131830533,"body_markdown":"Also `Boolean b1 = Boolean.TRUE; boolean b2 = (boolean) b1;` works fine - there are things that can be casted to `boolean`.","body":"Also <code>Boolean b1 = Boolean.TRUE; boolean b2 = (boolean) b1;</code> works fine - there are things that can be casted to <code>boolean</code>."},{"owner":{"account_id":991688,"reputation":4736,"user_id":1008794,"display_name":"Rulle"},"score":0,"creation_date":1670272986,"post_id":74690390,"comment_id":131833881,"body_markdown":"@JohannesKuhn I appreciate your efforts. If you can implement this and submit an answer, feel free to do that. Otherwise, I will go with the solution that I submitted as an answer. It is not pretty but it does exactly what I want.","body":"@JohannesKuhn I appreciate your efforts. If you can implement this and submit an answer, feel free to do that. Otherwise, I will go with the solution that I submitted as an answer. It is not pretty but it does exactly what I want."}],"answers":[{"tags":[],"owner":{"account_id":991688,"reputation":4736,"user_id":1008794,"display_name":"Rulle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670258057,"creation_date":1670258057,"answer_id":74691459,"question_id":74690390,"body_markdown":"*Answering my own question:* Generate a piece of code for the cast that we want to test for and try to compile it with the Janino compiler to see if it is a valid cast or not:\r\n\r\n    import org.codehaus.janino.SimpleCompiler;\r\n    \r\n    public class CastableInfo {\r\n        public boolean testIfCastCompilable(Class dst, Class src) {\r\n            String Y = dst.getName();\r\n            String X = src.getName();\r\n            String sampleCode = &quot;public class TestCast {public &quot;\r\n                + Y + &quot; convert(&quot; + X + &quot; x) {return (&quot; + Y + &quot;)x;}}&quot;;\r\n            SimpleCompiler cl = new SimpleCompiler();\r\n            try {\r\n                cl.cook(sampleCode);\r\n                return true;\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"Test at runtime if a cast would compile","body":"<p><em>Answering my own question:</em> Generate a piece of code for the cast that we want to test for and try to compile it with the Janino compiler to see if it is a valid cast or not:</p>\n<pre><code>import org.codehaus.janino.SimpleCompiler;\n\npublic class CastableInfo {\n    public boolean testIfCastCompilable(Class dst, Class src) {\n        String Y = dst.getName();\n        String X = src.getName();\n        String sampleCode = &quot;public class TestCast {public &quot;\n            + Y + &quot; convert(&quot; + X + &quot; x) {return (&quot; + Y + &quot;)x;}}&quot;;\n        SimpleCompiler cl = new SimpleCompiler();\n        try {\n            cl.cook(sampleCode);\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":991688,"reputation":4736,"user_id":1008794,"display_name":"Rulle"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670258057,"creation_date":1670253451,"question_id":74690390,"body_markdown":"Given two `java.lang.Class` objects `dst` and `src` and assuming that they represent the types `Y` and `X` respectively, I would like a function `public static boolean isCastCompilable(Class dst, Class src)` that returns `true` if and only if the statements `X x; Y y = ((Y)x);` would compile for those types `X` and `Y`.\r\n\r\nHere is a first attempt at hand-coding these rules:\r\n\r\n```java\r\npublic class Compilable {\r\n\r\n    public boolean isCastCompilable(Class dstClass, Class srcClass) {\r\n        if (Objects.equals(srcClass, dstClass)) {\r\n            return true;\r\n        }\r\n        \r\n        if (Boolean.TYPE.equals(srcClass)) {\r\n            return false; // Boolean cannot be converted explicity to any primitive type:\r\n            // https://javajee.com/casting-of-primitives-in-java\r\n        }\r\n\r\n... more code\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nFor instance, this function would return `true` for `isCastCompilable(java.util.List.class, java.util.ArrayList.class)` because the statements `java.util.ArrayList x; java.util.List y = ((java.util.List)x);` would be valid Java code that a compiler would accept.\r\n\r\nIt should return `false` for `isCastCompilable(Boolean.TYPE, String.class)` because `String x; boolean y = (boolean)x;` would be rejected by the compiler.\r\n\r\n**My question:** Is there a straight-forward way of implementing `isCastCompilable` or will I have to handcode all the casting rules myself, the way I started doing in the code example above?\r\n\r\n**Context:** I am making a kind of Java code generator and would like to test if the code that performs casts will compile in order not to emit invalid code.","title":"Test at runtime if a cast would compile","body":"<p>Given two <code>java.lang.Class</code> objects <code>dst</code> and <code>src</code> and assuming that they represent the types <code>Y</code> and <code>X</code> respectively, I would like a function <code>public static boolean isCastCompilable(Class dst, Class src)</code> that returns <code>true</code> if and only if the statements <code>X x; Y y = ((Y)x);</code> would compile for those types <code>X</code> and <code>Y</code>.</p>\n<p>Here is a first attempt at hand-coding these rules:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Compilable {\n\n    public boolean isCastCompilable(Class dstClass, Class srcClass) {\n        if (Objects.equals(srcClass, dstClass)) {\n            return true;\n        }\n        \n        if (Boolean.TYPE.equals(srcClass)) {\n            return false; // Boolean cannot be converted explicity to any primitive type:\n            // https://javajee.com/casting-of-primitives-in-java\n        }\n\n... more code\n\n        return false;\n    }\n}\n</code></pre>\n<p>For instance, this function would return <code>true</code> for <code>isCastCompilable(java.util.List.class, java.util.ArrayList.class)</code> because the statements <code>java.util.ArrayList x; java.util.List y = ((java.util.List)x);</code> would be valid Java code that a compiler would accept.</p>\n<p>It should return <code>false</code> for <code>isCastCompilable(Boolean.TYPE, String.class)</code> because <code>String x; boolean y = (boolean)x;</code> would be rejected by the compiler.</p>\n<p><strong>My question:</strong> Is there a straight-forward way of implementing <code>isCastCompilable</code> or will I have to handcode all the casting rules myself, the way I started doing in the code example above?</p>\n<p><strong>Context:</strong> I am making a kind of Java code generator and would like to test if the code that performs casts will compile in order not to emit invalid code.</p>\n"},{"tags":["java","spring","postgresql","junit","h2"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1670255984,"post_id":74690866,"comment_id":131828426,"body_markdown":"This is a really good example why testing against a different database than used in production doesn&#39;t really test anything at all. H2 converts unquoted names to uppercase if I&#39;m not mistaken. try `getPrimaryKeys(null, &quot;PUBLIC&quot;, table)`","body":"This is a really good example why testing against a different database than used in production doesn&#39;t really test anything at all. H2 converts unquoted names to uppercase if I&#39;m not mistaken. try <code>getPrimaryKeys(null, &quot;PUBLIC&quot;, table)</code>"},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1670256136,"post_id":74690866,"comment_id":131828478,"body_markdown":"I&#39;ve tried that already and it doesn&#39;t give anything also. To be nearly similar as production i&#39;ve used mode as `PostgreSQL`. thanks.","body":"I&#39;ve tried that already and it doesn&#39;t give anything also. To be nearly similar as production i&#39;ve used mode as <code>PostgreSQL</code>. thanks."},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":1,"creation_date":1670256468,"post_id":74690866,"comment_id":131828616,"body_markdown":"Thank you very much it was the issue you mentioned `H2 converts unquoted names to uppercase if I&#39;m not mistaken.`","body":"Thank you very much it was the issue you mentioned <code>H2 converts unquoted names to uppercase if I&#39;m not mistaken.</code>"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1670285341,"post_id":74690866,"comment_id":131836665,"body_markdown":"`;MODE=PostgreSQL` should normally be used together with `;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH`: https://h2database.com/html/features.html#compatibility","body":"<code>;MODE=PostgreSQL</code> should normally be used together with <code>;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH</code>: <a href=\"https://h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#compatibility</a>"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670256758,"creation_date":1670255591,"question_id":74690866,"body_markdown":"I am writing a unit test to test the data source behaviour.\r\n\r\nI have written test like below\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class HTests {\r\n\r\n    private H helper;\r\n    private DataSource dataSource;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataSource = new EmbeddedDatabaseBuilder()\r\n                .setName(&quot;testDB;MODE=PostgreSQL&quot;)\r\n                .setType(EmbeddedDatabaseType.H2) //.H2\r\n                .addScript(&quot;schema.sql&quot;)\r\n                .build();\r\n        helper = new H(dataSource);\r\n    }\r\n\r\n    @Test\r\n    void getPkKeys() throws SQLException {\r\n        String primaryKey = helper.pkKeys(&quot;links&quot;);\r\n        Assertions.assertEquals(&quot;ID&quot;, primaryKey);\r\n    }\r\n```\r\n\r\nThe primary key function is written like below inside class `H`\r\n```\r\n@Component\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class H {\r\n\r\n    private final DataSource dataSource;\r\n\r\n    public String pkKeys(String table) {\r\n        try(Connection connection = dataSource.getConnection()) {\r\n            DatabaseMetaData db = connection.getMetaData();\r\n            try(ResultSet tableColumns = connection.getMetaData().getPrimaryKeys(null, &quot;public&quot;, table)) {\r\n                while (tableColumns.next()) {\r\n                    log.info(&quot;Found {}&quot;, tableColumns.getString(COLUMN_NAME));\r\n                    return tableColumns.getString(COLUMN_NAME);\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n\r\n        throw new IllegalStateException(&quot;primary key is required&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy `schema.sql` looks like below\r\n```sql\r\nCREATE TABLE EMPLOYEE\r\n(\r\n    ID int NOT NULL,\r\n    FIRST_NAME varchar(255),\r\n    LAST_NAME varchar(255),\r\n    ADDRESS varchar(255),\r\n    PRIMARY KEY (ID)\r\n);\r\n\r\nINSERT INTO EMPLOYEE VALUES (1, &#39;James&#39;, &#39;Gosling&#39;, &#39;Canada&#39;);\r\nINSERT INTO EMPLOYEE VALUES (2, &#39;Donald&#39;, &#39;Knuth&#39;, &#39;USA&#39;);\r\nINSERT INTO EMPLOYEE VALUES (3, &#39;Linus&#39;, &#39;Torvalds&#39;, &#39;Finland&#39;);\r\nINSERT INTO EMPLOYEE VALUES (4, &#39;Dennis&#39;, &#39;Ritchie&#39;, &#39;USA&#39;);\r\n\r\nDROP TABLE IF EXISTS links;\r\n\r\nCREATE TABLE links (\r\n\tid SERIAL PRIMARY KEY,\r\n\turl VARCHAR(255) NOT NULL,\r\n\tname VARCHAR(255) NOT NULL,\r\n\tdescription VARCHAR (255),\r\n        last_update DATE\r\n);\r\n\r\nINSERT INTO links (url, name)\r\nVALUES(&#39;https://www.postgresqltutorial.com&#39;,&#39;PostgreSQL Tutorial&#39;);\r\n```\r\n\r\nIssue is `primaryKey` function never returns primary keys of above tables.\r\n\r\nError logged is\r\n```none\r\n15:46:19.866 [main] DEBUG org.springframework.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 11 ms.\r\n15:46:19.867 [main] DEBUG org.springframework.jdbc.datasource.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testDB;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]\r\n\r\njava.lang.IllegalStateException: primary key is required\r\n\r\n\tat abc.bcd.sql.H.pkKeys(H.java:40)\r\n```\r\n\r\nI have verified via debugger that these tables are created fine and are available in database metadata of connection instance.","title":"Issue fetching primary keys of table in embedded data source H2","body":"<p>I am writing a unit test to test the data source behaviour.</p>\n<p>I have written test like below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class HTests {\n\n    private H helper;\n    private DataSource dataSource;\n\n    @BeforeEach\n    void setUp() {\n        dataSource = new EmbeddedDatabaseBuilder()\n                .setName(&quot;testDB;MODE=PostgreSQL&quot;)\n                .setType(EmbeddedDatabaseType.H2) //.H2\n                .addScript(&quot;schema.sql&quot;)\n                .build();\n        helper = new H(dataSource);\n    }\n\n    @Test\n    void getPkKeys() throws SQLException {\n        String primaryKey = helper.pkKeys(&quot;links&quot;);\n        Assertions.assertEquals(&quot;ID&quot;, primaryKey);\n    }\n</code></pre>\n<p>The primary key function is written like below inside class <code>H</code></p>\n<pre><code>@Component\n@AllArgsConstructor\n@Slf4j\npublic class H {\n\n    private final DataSource dataSource;\n\n    public String pkKeys(String table) {\n        try(Connection connection = dataSource.getConnection()) {\n            DatabaseMetaData db = connection.getMetaData();\n            try(ResultSet tableColumns = connection.getMetaData().getPrimaryKeys(null, &quot;public&quot;, table)) {\n                while (tableColumns.next()) {\n                    log.info(&quot;Found {}&quot;, tableColumns.getString(COLUMN_NAME));\n                    return tableColumns.getString(COLUMN_NAME);\n                }\n            }\n        } catch (SQLException e) {\n            throw new IllegalStateException(e);\n        }\n\n        throw new IllegalStateException(&quot;primary key is required&quot;);\n    }\n}\n</code></pre>\n<p>My <code>schema.sql</code> looks like below</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE EMPLOYEE\n(\n    ID int NOT NULL,\n    FIRST_NAME varchar(255),\n    LAST_NAME varchar(255),\n    ADDRESS varchar(255),\n    PRIMARY KEY (ID)\n);\n\nINSERT INTO EMPLOYEE VALUES (1, 'James', 'Gosling', 'Canada');\nINSERT INTO EMPLOYEE VALUES (2, 'Donald', 'Knuth', 'USA');\nINSERT INTO EMPLOYEE VALUES (3, 'Linus', 'Torvalds', 'Finland');\nINSERT INTO EMPLOYEE VALUES (4, 'Dennis', 'Ritchie', 'USA');\n\nDROP TABLE IF EXISTS links;\n\nCREATE TABLE links (\n    id SERIAL PRIMARY KEY,\n    url VARCHAR(255) NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    description VARCHAR (255),\n        last_update DATE\n);\n\nINSERT INTO links (url, name)\nVALUES('https://www.postgresqltutorial.com','PostgreSQL Tutorial');\n</code></pre>\n<p>Issue is <code>primaryKey</code> function never returns primary keys of above tables.</p>\n<p>Error logged is</p>\n<pre class=\"lang-none prettyprint-override\"><code>15:46:19.866 [main] DEBUG org.springframework.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 11 ms.\n15:46:19.867 [main] DEBUG org.springframework.jdbc.datasource.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testDB;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]\n\njava.lang.IllegalStateException: primary key is required\n\n    at abc.bcd.sql.H.pkKeys(H.java:40)\n</code></pre>\n<p>I have verified via debugger that these tables are created fine and are available in database metadata of connection instance.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670256504,"post_id":74690863,"comment_id":131828637,"body_markdown":"You can only do this by applying `instanceof` checks (or similar) and calling the right method with an explicit cast. Method resolution is done at compile-time, and given the type of the variable `a` is `A`, it will select the method `doSmthingWithA(A)`. The fact that at runtime it might have a value of `B` or `C` doesn&#39;t come into consideration.","body":"You can only do this by applying <code>instanceof</code> checks (or similar) and calling the right method with an explicit cast. Method resolution is done at compile-time, and given the type of the variable <code>a</code> is <code>A</code>, it will select the method <code>doSmthingWithA(A)</code>. The fact that at runtime it might have a value of <code>B</code> or <code>C</code> doesn&#39;t come into consideration."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1670257119,"post_id":74690863,"comment_id":131828910,"body_markdown":"I thnk, this problem is sometime solved with the [visitor design pattern](https://en.wikipedia.org/wiki/Visitor_pattern#Java_example). Visitor does need neither instanceof nor casts. You need to be able to modify classes A, B, and C, though.","body":"I thnk, this problem is sometime solved with the <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern#Java_example\" rel=\"nofollow noreferrer\">visitor design pattern</a>. Visitor does need neither instanceof nor casts. You need to be able to modify classes A, B, and C, though."},{"owner":{"account_id":27153879,"reputation":11,"user_id":20692974,"display_name":"magicshark"},"score":0,"creation_date":1670277170,"post_id":74690863,"comment_id":131835010,"body_markdown":"@ThomasBehr, I don&#39;t know this design pattern. I build a poc and it&#39;s work but if i&#39;m right, I should use a interface with a void visit(Visitor visitor) method, but In my case it&#39;s inpossible cause of catch clause expect a Throwable class. So I use an abstract class wich extends Exception.\nI think it&#39;s ok thx a lot","body":"@ThomasBehr, I don&#39;t know this design pattern. I build a poc and it&#39;s work but if i&#39;m right, I should use a interface with a void visit(Visitor visitor) method, but In my case it&#39;s inpossible cause of catch clause expect a Throwable class. So I use an abstract class wich extends Exception. I think it&#39;s ok thx a lot"}],"owner":{"account_id":27153879,"reputation":11,"user_id":20692974,"display_name":"magicshark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1670256661,"creation_date":1670255586,"question_id":74690863,"body_markdown":"Is there a way to do something like this:\r\n\r\n```java\r\npublic class Controler{\r\n\r\n    public String doSomething(int i){\r\n        Service s = new Service();\r\n        A a = s.doIt(i);\r\n        return this.doSmthingWithA(a);\r\n    }\r\n\r\n    private static String doSmthingWithA(A a) {\r\n        return &quot;a&quot;;\r\n    }\r\n\r\n    private static String doSmthingWithA(B b) {\r\n        return &quot;b&quot;;\r\n    }\r\n\r\n    private static String doSmthingWithA(C c) {\r\n        return &quot;c&quot;;\r\n    }\r\n}\r\n\r\nclass A {\r\n}\r\n\r\nclass B extends A {\r\n}\r\n\r\nclass C extends A {\r\n}\r\n\r\nclass Service{\r\n    public A doIt(int i){\r\n        if(i == 1){\r\n            return new B();\r\n        }\r\n        return new C();\r\n    }\r\n}\r\n````\r\n\r\nAnd the unit test \r\n\r\n``` java\r\n@Test\r\npublic void t(){\r\n    Controler c = new Controler();\r\n    Assert.assertEquals(&quot;b&quot;,c.doSomething(1));\r\n    Assert.assertEquals(&quot;c&quot;,c.doSomething(2));\r\n}\r\n```\r\n\r\n\r\nNow, I always got `c.doSomething(1)` equals to &quot;a&quot; or I want to find a way without explicit cast. This example is very simple, but in my case I use it to simplify a catch expression in my app with more than 15 different checked exceptions.","title":"Is it possible to automatically cast by method signature","body":"<p>Is there a way to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Controler{\n\n    public String doSomething(int i){\n        Service s = new Service();\n        A a = s.doIt(i);\n        return this.doSmthingWithA(a);\n    }\n\n    private static String doSmthingWithA(A a) {\n        return &quot;a&quot;;\n    }\n\n    private static String doSmthingWithA(B b) {\n        return &quot;b&quot;;\n    }\n\n    private static String doSmthingWithA(C c) {\n        return &quot;c&quot;;\n    }\n}\n\nclass A {\n}\n\nclass B extends A {\n}\n\nclass C extends A {\n}\n\nclass Service{\n    public A doIt(int i){\n        if(i == 1){\n            return new B();\n        }\n        return new C();\n    }\n}\n</code></pre>\n<p>And the unit test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void t(){\n    Controler c = new Controler();\n    Assert.assertEquals(&quot;b&quot;,c.doSomething(1));\n    Assert.assertEquals(&quot;c&quot;,c.doSomething(2));\n}\n</code></pre>\n<p>Now, I always got <code>c.doSomething(1)</code> equals to &quot;a&quot; or I want to find a way without explicit cast. This example is very simple, but in my case I use it to simplify a catch expression in my app with more than 15 different checked exceptions.</p>\n"},{"tags":["java","android","maven","web-services","gradle"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1624495434,"post_id":68108265,"comment_id":120377111,"body_markdown":"Q: &quot;I did research for hours but cannot find anything&quot;.  All you have to do is Google on the error message: `java.lang.IllegalArgumentException: Unsupported class file major version 59`.  The JVM you&#39;re running doesn&#39;t support the class file(s) you&#39;re trying to load.  Specifically, &quot;59&quot; is Java 15: https://javaalmanac.io/bytecode/versions/.  So either 1) find an older .jar, or 2) run a newer JVM.","body":"Q: &quot;I did research for hours but cannot find anything&quot;.  All you have to do is Google on the error message: <code>java.lang.IllegalArgumentException: Unsupported class file major version 59</code>.  The JVM you&#39;re running doesn&#39;t support the class file(s) you&#39;re trying to load.  Specifically, &quot;59&quot; is Java 15: <a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"nofollow noreferrer\">javaalmanac.io/bytecode/versions</a>.  So either 1) find an older .jar, or 2) run a newer JVM."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":1,"creation_date":1637228464,"post_id":68108265,"comment_id":123771728,"body_markdown":"when I Googled the error message, this was the first result","body":"when I Googled the error message, this was the first result"}],"answers":[{"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1624495866,"post_id":68108349,"comment_id":120377163,"body_markdown":"And remember that Oracle hates developers - Java 12 through Java 15 are already past support.  Java 11 is a &quot;long term support&quot; release.  If your code is meant to be production you should look at using Java 11 for now until Java 17 comes out in September of 2021.","body":"And remember that Oracle hates developers - Java 12 through Java 15 are already past support.  Java 11 is a &quot;long term support&quot; release.  If your code is meant to be production you should look at using Java 11 for now until Java 17 comes out in September of 2021."},{"owner":{"account_id":19697165,"reputation":141,"user_id":14420837,"display_name":"programmer_66"},"score":1,"creation_date":1624497369,"post_id":68108349,"comment_id":120377380,"body_markdown":"Thanks for the reply. I have looked on whick JDK version tomcat runs in my project and it seems like its running on JDK15. However I discovered that when I refresh the error page couple times it works. Very strange.","body":"Thanks for the reply. I have looked on whick JDK version tomcat runs in my project and it seems like its running on JDK15. However I discovered that when I refresh the error page couple times it works. Very strange."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1624541069,"post_id":68108349,"comment_id":120391330,"body_markdown":"@programmer_66 &#39;a couple of times&#39; makes no sense. &#39;one time&#39; - that suggests that you used to run it on a too-low version but no longer do so, and that the cache config is messed up. (and note that &#39;there is no cache config counts, as that means caching occurs) - as in, your browser is showing the cached version, and thus reloading &#39;fixes it&#39;. You need to look into cache directives to fix this.","body":"@programmer_66 &#39;a couple of times&#39; makes no sense. &#39;one time&#39; - that suggests that you used to run it on a too-low version but no longer do so, and that the cache config is messed up. (and note that &#39;there is no cache config counts, as that means caching occurs) - as in, your browser is showing the cached version, and thus reloading &#39;fixes it&#39;. You need to look into cache directives to fix this."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624495133,"creation_date":1624495133,"answer_id":68108349,"question_id":68108265,"body_markdown":"You&#39;ve made class files that cannot be read by JDK14 and downwards; you need at least JDK15. That&#39;s what &#39;59&#39; means (it&#39;s the class file format version emitted by JDK15).\r\n\r\nYou have two options:\r\n\r\n## Downgrade\r\n\r\n`&lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;` - make this a lower version, at least as low as the version of the JDK you installed on your server.\r\n\r\n## Upgrade\r\n\r\nUpgrade your server to run JDK15 or up. Specifically, when you run your tomcat, somewhere, somehow, the java executable is run. That needs to be JDK15 (you can install multiple JDKs on one system - that&#39;s fine, but the one used to run tomcat needs to be 15 or up).\r\n","title":"java.lang.IllegalArgumentException: Unsupported class file major version 59","body":"<p>You've made class files that cannot be read by JDK14 and downwards; you need at least JDK15. That's what '59' means (it's the class file format version emitted by JDK15).</p>\n<p>You have two options:</p>\n<h2>Downgrade</h2>\n<p><code>&lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;</code> - make this a lower version, at least as low as the version of the JDK you installed on your server.</p>\n<h2>Upgrade</h2>\n<p>Upgrade your server to run JDK15 or up. Specifically, when you run your tomcat, somewhere, somehow, the java executable is run. That needs to be JDK15 (you can install multiple JDKs on one system - that's fine, but the one used to run tomcat needs to be 15 or up).</p>\n"},{"comments":[{"owner":{"account_id":17904607,"reputation":383,"user_id":13008114,"display_name":"bulgarian-beast"},"score":1,"creation_date":1660149657,"post_id":72675889,"comment_id":129466725,"body_markdown":"This solved my problem on a flutter project.\nThe release build was failing before this instruction was added.","body":"This solved my problem on a flutter project. The release build was failing before this instruction was added."}],"tags":[],"owner":{"account_id":22798977,"reputation":3043,"user_id":16952036,"display_name":"MANISH"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1655632709,"creation_date":1655632709,"answer_id":72675889,"question_id":68108265,"body_markdown":"I also got same erorr while building android release apk for my flutter project , I resolved this by adding :\r\n\r\n    android.jetifier.blacklist=bcprov-jdk15on\r\n\r\nin **gradle.properties** file and rebuild the project and it worked for me.\r\n\r\nIf this work for you that&#39;s good else you can  refer to this issue on **github** [here][1] and [this][2].\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/issues/762\r\n  [2]: https://issuetracker.google.com/issues/172784894?pli=1","title":"java.lang.IllegalArgumentException: Unsupported class file major version 59","body":"<p>I also got same erorr while building android release apk for my flutter project , I resolved this by adding :</p>\n<pre><code>android.jetifier.blacklist=bcprov-jdk15on\n</code></pre>\n<p>in <strong>gradle.properties</strong> file and rebuild the project and it worked for me.</p>\n<p>If this work for you that's good else you can  refer to this issue on <strong>github</strong> <a href=\"https://github.com/bcgit/bc-java/issues/762\" rel=\"noreferrer\">here</a> and <a href=\"https://issuetracker.google.com/issues/172784894?pli=1\" rel=\"noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":14554226,"reputation":37,"user_id":10512230,"display_name":"Teebeh Eteem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670256571,"creation_date":1670256571,"answer_id":74691104,"question_id":68108265,"body_markdown":"How I fixed this issue, using a **mac**, clicking on **Android Studio** on the top left corner of your screen, then click on **Preferences**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nClick on **Build, Execution, Deployment**, click on **Build Tools** and select **Gradle**.\r\nWhere you see **Gradle JDK**, click the **drop-down** and select any **Embedded JDK** lower than **15**, in this example, I used **11.0.13**.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen click on **Apply**, and **Ok**.\r\n\r\nYou should be good now. &#128079;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cY9Sl.png\r\n  [2]: https://i.stack.imgur.com/X31GD.png","title":"java.lang.IllegalArgumentException: Unsupported class file major version 59","body":"<p>How I fixed this issue, using a <strong>mac</strong>, clicking on <strong>Android Studio</strong> on the top left corner of your screen, then click on <strong>Preferences</strong></p>\n<p><a href=\"https://i.stack.imgur.com/cY9Sl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cY9Sl.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on <strong>Build, Execution, Deployment</strong>, click on <strong>Build Tools</strong> and select <strong>Gradle</strong>.\nWhere you see <strong>Gradle JDK</strong>, click the <strong>drop-down</strong> and select any <strong>Embedded JDK</strong> lower than <strong>15</strong>, in this example, I used <strong>11.0.13</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/X31GD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X31GD.png\" alt=\"enter image description here\" /></a></p>\n<p>Then click on <strong>Apply</strong>, and <strong>Ok</strong>.</p>\n<p>You should be good now. </p>\n"}],"owner":{"account_id":19697165,"reputation":141,"user_id":14420837,"display_name":"programmer_66"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26228,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1670256571,"creation_date":1624493944,"question_id":68108265,"body_markdown":"I am working on my first project with Java restful web services, but I am running into some issues. When I run the server with Tomcat and type the URL of the GET service, I get an HTTP Status 500  Internal Server Error. I did the research for hours but cannot find anything. Maybe there is some issue in the pom.xml.\r\n\r\nBelow is some code:\r\n\r\nResourceConfig:\r\n\r\n```\r\npackage nl.hu.bep.IPASS.Config;\r\n\r\nimport javax.ws.rs.ApplicationPath;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\r\n\r\n@ApplicationPath(&quot;/restservices&quot;)\r\npublic class JerseyConfig extends ResourceConfig {\r\n\r\n    public JerseyConfig(){\r\n        packages(&quot;nl.hu.bep.IPASS.webservices&quot;);\r\n\r\n\r\n    }\r\n}\r\n```\r\nResource code:\r\n```\r\nimport nl.hu.bep.IPASS.model.Product;\r\nimport nl.hu.bep.IPASS.model.ProductBeheer;\r\n\r\n\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.Response;\r\nimport java.sql.SQLException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Path(&quot;/producten&quot;)\r\npublic class ProductResource {\r\n    @GET\r\n    @Produces(&quot;application/json&quot;)\r\n    public Response getProducten(){\r\n        ProductBeheer beheer = ProductBeheer.getInstance();\r\n\r\n        return Response.ok(beheer.getAlleProducten()).build();\r\n\r\n    }\r\n\r\n```\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;nl.hu.bep.IPASS&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SD_IPASS_2021&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;SD_IPASS_2021&lt;/name&gt;\r\n\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.30.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n      &lt;version&gt;2.30.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.30.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.2.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n      &lt;version&gt;0.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n      &lt;version&gt;12.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nerror:\r\n\r\n[Screenshot Error][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/L97hW.png\r\n\r\nCan someone help me, please?","title":"java.lang.IllegalArgumentException: Unsupported class file major version 59","body":"<p>I am working on my first project with Java restful web services, but I am running into some issues. When I run the server with Tomcat and type the URL of the GET service, I get an HTTP Status 500  Internal Server Error. I did the research for hours but cannot find anything. Maybe there is some issue in the pom.xml.</p>\n<p>Below is some code:</p>\n<p>ResourceConfig:</p>\n<pre><code>package nl.hu.bep.IPASS.Config;\n\nimport javax.ws.rs.ApplicationPath;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\n\n@ApplicationPath(&quot;/restservices&quot;)\npublic class JerseyConfig extends ResourceConfig {\n\n    public JerseyConfig(){\n        packages(&quot;nl.hu.bep.IPASS.webservices&quot;);\n\n\n    }\n}\n</code></pre>\n<p>Resource code:</p>\n<pre><code>import nl.hu.bep.IPASS.model.Product;\nimport nl.hu.bep.IPASS.model.ProductBeheer;\n\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.Response;\nimport java.sql.SQLException;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Path(&quot;/producten&quot;)\npublic class ProductResource {\n    @GET\n    @Produces(&quot;application/json&quot;)\n    public Response getProducten(){\n        ProductBeheer beheer = ProductBeheer.getInstance();\n\n        return Response.ok(beheer.getAlleProducten()).build();\n\n    }\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;nl.hu.bep.IPASS&lt;/groupId&gt;\n  &lt;artifactId&gt;SD_IPASS_2021&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;SD_IPASS_2021&lt;/name&gt;\n\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n      &lt;version&gt;1.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n      &lt;version&gt;2.30.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n      &lt;version&gt;2.30.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n      &lt;version&gt;2.30.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.2.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n      &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n      &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n      &lt;version&gt;12.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.6.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n\n\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>error:</p>\n<p><a href=\"https://i.stack.imgur.com/L97hW.png\" rel=\"noreferrer\">Screenshot Error</a></p>\n<p>Can someone help me, please?</p>\n"},{"tags":["java","jetty","classcastexception"],"answers":[{"comments":[{"owner":{"account_id":5072097,"reputation":21,"user_id":4070600,"display_name":"e leibowitz"},"score":0,"creation_date":1670314633,"post_id":74691094,"comment_id":131841710,"body_markdown":"thanks for your detailed and clear answer! just to clarify: the LogRecord class it is an internal class under x - common jar that we created. so when I implement it  - should I add it like &quot;org.apache.log4j.&quot; for example?","body":"thanks for your detailed and clear answer! just to clarify: the LogRecord class it is an internal class under x - common jar that we created. so when I implement it  - should I add it like &quot;org.apache.log4j.&quot; for example?"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670256544,"creation_date":1670256544,"answer_id":74691094,"question_id":74689070,"body_markdown":"Logging is tricky with isolated classloaders.\r\n\r\n**Option 1: using the Servlet spec properly**\r\n\r\n* Ideally, per Servlet spec, Logging should be isolated within the individual webapps.\r\n* The `LogRecord` class should only come from the webapp `WEB-INF/lib/` location.\r\n* The `LogRecord` class should not come from the server or system classloader.\r\n* Logging events coming from a webapp should not be handled/appended by a server level configuration file.\r\n* Each webapp should have it&#39;s own logging configuration.\r\n* Your server level logging should use a different logging implementation than your webapps.\r\n\r\n**Option 2: Breaking the servlet spec classloader isolation**\r\n\r\nAlternatively you can complete break the webapp classloader isolation and force the logging classes to only be picked up by the server level classloader.  This is the iron-handed approach to managing logging.\r\n\r\nExample:\r\n\r\n``` java\r\nWebAppContext webapp = (WebAppContext)handler;\r\n// System classes are classes that cannot be replaced by\r\n// the webapps, and they are *always* loaded from the\r\n// system classloader\r\nwebapp.getSystemClassMatcher().add(&quot;org.apache.log4j.&quot;);\r\nwebapp.getSystemClassMatcher().add(&quot;org.slf4j.&quot;);\r\nwebapp.getSystemClassMatcher().add(&quot;org.apache.commons.logging.&quot;);\r\n\r\n// Server classes are classes that are hidden from being\r\n// loaded by the web application using system classloader,\r\n// so if web application needs to load any of such classes,\r\n// it has to include them in its distribution.\r\n// A negative pattern (&quot;-pattern&quot;) means the class is not\r\n// hidden from the webapp classloader.\r\nwebapp.getServerClassMatcher().add(&quot;-org.apache.log4j.&quot;);\r\nwebapp.getServerClassMatcher().add(&quot;-org.slf4j.&quot;);\r\nwebapp.getServerClassMatcher().add(&quot;-org.apache.commons.logging.&quot;);\r\n```\r\n\r\nThe above can be implemented as a `DeploymentManager` binding so that it is applied to all webapps being deployed.\r\n\r\n``` java\r\nimport org.eclipse.jetty.deploy.App;\r\nimport org.eclipse.jetty.deploy.AppLifeCycle;\r\nimport org.eclipse.jetty.deploy.graph.Node;\r\nimport org.eclipse.jetty.server.handler.ContextHandler;\r\nimport org.eclipse.jetty.webapp.WebAppContext;\r\n\r\npublic class CentralizedWebAppLoggingBinding implements AppLifeCycle.Binding\r\n{\r\n    public String[] getBindingTargets()\r\n    {\r\n        return new String[]\r\n            {&quot;deploying&quot;};\r\n    }\r\n\r\n    public void processBinding(Node node, App app) throws Exception\r\n    {\r\n        ContextHandler handler = app.getContextHandler();\r\n        if (handler == null)\r\n        {\r\n            throw new NullPointerException(&quot;No Handler created for App: &quot; + app);\r\n        }\r\n\r\n        if (handler instanceof WebAppContext)\r\n        {\r\n            WebAppContext webapp = (WebAppContext)handler;\r\n            webapp.getSystemClassMatcher().add(&quot;org.apache.log4j.&quot;);\r\n            webapp.getSystemClassMatcher().add(&quot;org.slf4j.&quot;);\r\n            webapp.getSystemClassMatcher().add(&quot;org.apache.commons.logging.&quot;);\r\n\r\n            webapp.getServerClassMatcher().add(&quot;-org.apache.log4j.&quot;);\r\n            webapp.getServerClassMatcher().add(&quot;-org.slf4j.&quot;);\r\n            webapp.getServerClassMatcher().add(&quot;-org.apache.commons.logging.&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Jetty WARs container - different class loader for the same class","body":"<p>Logging is tricky with isolated classloaders.</p>\n<p><strong>Option 1: using the Servlet spec properly</strong></p>\n<ul>\n<li>Ideally, per Servlet spec, Logging should be isolated within the individual webapps.</li>\n<li>The <code>LogRecord</code> class should only come from the webapp <code>WEB-INF/lib/</code> location.</li>\n<li>The <code>LogRecord</code> class should not come from the server or system classloader.</li>\n<li>Logging events coming from a webapp should not be handled/appended by a server level configuration file.</li>\n<li>Each webapp should have it's own logging configuration.</li>\n<li>Your server level logging should use a different logging implementation than your webapps.</li>\n</ul>\n<p><strong>Option 2: Breaking the servlet spec classloader isolation</strong></p>\n<p>Alternatively you can complete break the webapp classloader isolation and force the logging classes to only be picked up by the server level classloader.  This is the iron-handed approach to managing logging.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebAppContext webapp = (WebAppContext)handler;\n// System classes are classes that cannot be replaced by\n// the webapps, and they are *always* loaded from the\n// system classloader\nwebapp.getSystemClassMatcher().add(&quot;org.apache.log4j.&quot;);\nwebapp.getSystemClassMatcher().add(&quot;org.slf4j.&quot;);\nwebapp.getSystemClassMatcher().add(&quot;org.apache.commons.logging.&quot;);\n\n// Server classes are classes that are hidden from being\n// loaded by the web application using system classloader,\n// so if web application needs to load any of such classes,\n// it has to include them in its distribution.\n// A negative pattern (&quot;-pattern&quot;) means the class is not\n// hidden from the webapp classloader.\nwebapp.getServerClassMatcher().add(&quot;-org.apache.log4j.&quot;);\nwebapp.getServerClassMatcher().add(&quot;-org.slf4j.&quot;);\nwebapp.getServerClassMatcher().add(&quot;-org.apache.commons.logging.&quot;);\n</code></pre>\n<p>The above can be implemented as a <code>DeploymentManager</code> binding so that it is applied to all webapps being deployed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.jetty.deploy.App;\nimport org.eclipse.jetty.deploy.AppLifeCycle;\nimport org.eclipse.jetty.deploy.graph.Node;\nimport org.eclipse.jetty.server.handler.ContextHandler;\nimport org.eclipse.jetty.webapp.WebAppContext;\n\npublic class CentralizedWebAppLoggingBinding implements AppLifeCycle.Binding\n{\n    public String[] getBindingTargets()\n    {\n        return new String[]\n            {&quot;deploying&quot;};\n    }\n\n    public void processBinding(Node node, App app) throws Exception\n    {\n        ContextHandler handler = app.getContextHandler();\n        if (handler == null)\n        {\n            throw new NullPointerException(&quot;No Handler created for App: &quot; + app);\n        }\n\n        if (handler instanceof WebAppContext)\n        {\n            WebAppContext webapp = (WebAppContext)handler;\n            webapp.getSystemClassMatcher().add(&quot;org.apache.log4j.&quot;);\n            webapp.getSystemClassMatcher().add(&quot;org.slf4j.&quot;);\n            webapp.getSystemClassMatcher().add(&quot;org.apache.commons.logging.&quot;);\n\n            webapp.getServerClassMatcher().add(&quot;-org.apache.log4j.&quot;);\n            webapp.getServerClassMatcher().add(&quot;-org.slf4j.&quot;);\n            webapp.getServerClassMatcher().add(&quot;-org.apache.commons.logging.&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5072097,"reputation":21,"user_id":4070600,"display_name":"e leibowitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670256544,"creation_date":1670247325,"question_id":74689070,"body_markdown":"I have a jetty server that contains 6 wars.\r\nfor example: a.war, b.war and more..\r\n\r\na and b have a dependency on x jar. both of them use the same version.\r\n\r\nI have a strange problem:\r\nwhen the jetty is installed on a windows machine on C disk, everything works as expected.\r\nwhen the jetty is installed on a windows machine on **E** disk, I get &quot;class cast exception&quot; in line:\r\n\r\nLogRecord logRecord = (LogRecord) loggingEvent.getMessage().getParameters()[0]; (72).\r\n\r\nI see that one LogRecord comes from a.war with one class loader and the second ((LogRecord) loggingEvent.getMessage().getParameters()[0]) comes from b.war with a different class loader.\r\n\r\n\r\nI want to understand what can be the root cause. and if I have a way to avoid it.\r\n\r\nThanks in advance","title":"Jetty WARs container - different class loader for the same class","body":"<p>I have a jetty server that contains 6 wars.\nfor example: a.war, b.war and more..</p>\n<p>a and b have a dependency on x jar. both of them use the same version.</p>\n<p>I have a strange problem:\nwhen the jetty is installed on a windows machine on C disk, everything works as expected.\nwhen the jetty is installed on a windows machine on <strong>E</strong> disk, I get &quot;class cast exception&quot; in line:</p>\n<p>LogRecord logRecord = (LogRecord) loggingEvent.getMessage().getParameters()[0]; (72).</p>\n<p>I see that one LogRecord comes from a.war with one class loader and the second ((LogRecord) loggingEvent.getMessage().getParameters()[0]) comes from b.war with a different class loader.</p>\n<p>I want to understand what can be the root cause. and if I have a way to avoid it.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","mongodb","spring-boot","docker-compose","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":6922155,"reputation":3064,"user_id":5314440,"display_name":"barbakini"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1503054246,"creation_date":1503054246,"answer_id":45755149,"question_id":45742999,"body_markdown":"You are setting mongodb host in property file as **localhost**. In a container localhost address **itself**, but your mongodb is **not** in that container(car-service) which car-service run in. While you are using docker compose, you can address a container with its name. In your case it is **mongodb**.","title":"com.mongodb.MongoSocketOpenException: Exception opening socket(MongoDB, Docker)","body":"<p>You are setting mongodb host in property file as <strong>localhost</strong>. In a container localhost address <strong>itself</strong>, but your mongodb is <strong>not</strong> in that container(car-service) which car-service run in. While you are using docker compose, you can address a container with its name. In your case it is <strong>mongodb</strong>.</p>\n"},{"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":2,"creation_date":1562342027,"post_id":56906060,"comment_id":100356919,"body_markdown":"how does this answer differ from the previous Answer?","body":"how does this answer differ from the previous Answer?"},{"owner":{"account_id":1838787,"reputation":99,"user_id":1668635,"display_name":"Tim"},"score":12,"creation_date":1562358821,"post_id":56906060,"comment_id":100362414,"body_markdown":"its explicit, not implicit :)","body":"its explicit, not implicit :)"}],"tags":[],"owner":{"account_id":1838787,"reputation":99,"user_id":1668635,"display_name":"Tim"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1562378525,"creation_date":1562341613,"answer_id":56906060,"question_id":45742999,"body_markdown":"to clarify @barbakini&#39;s answer, to define it in applications.yaml use:\r\n\r\n    spring.data.mongodb.host: mongodb\r\n\r\n\r\n","title":"com.mongodb.MongoSocketOpenException: Exception opening socket(MongoDB, Docker)","body":"<p>to clarify @barbakini's answer, to define it in applications.yaml use:</p>\n\n<pre><code>spring.data.mongodb.host: mongodb\n</code></pre>\n"},{"comments":[{"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1606462646,"post_id":62876316,"comment_id":114973538,"body_markdown":"Might be Mongo is not yet installed.","body":"Might be Mongo is not yet installed."},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":0,"creation_date":1632306590,"post_id":62876316,"comment_id":122454766,"body_markdown":"mongodb: unrecognized service","body":"mongodb: unrecognized service"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1654523204,"post_id":62876316,"comment_id":128103999,"body_markdown":"Will never work because you are not searching inside your docker container, but on your host only, and mongodb could be installed (and different one) or not at all.\nThat&#39;s why some people get &quot;unrecognized service&quot; or &quot;connection refused&quot; messages.","body":"Will never work because you are not searching inside your docker container, but on your host only, and mongodb could be installed (and different one) or not at all. That&#39;s why some people get &quot;unrecognized service&quot; or &quot;connection refused&quot; messages."}],"tags":[],"owner":{"account_id":5861536,"reputation":748,"user_id":4617050,"display_name":"dinesh kandpal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594644966,"creation_date":1594644966,"answer_id":62876316,"question_id":45742999,"body_markdown":"Your mongoDB service is not UP ,\r\n\r\nCheck the status by following command\r\n\r\n    sudo service mongodb status\r\n    \r\n    sudo service mongodb start\r\n\r\n\r\nHope it should work, there could be several reasons as well ,\r\nlike the configuration you defined in your application for mongodb service is incorrect such as port .","title":"com.mongodb.MongoSocketOpenException: Exception opening socket(MongoDB, Docker)","body":"<p>Your mongoDB service is not UP ,</p>\n<p>Check the status by following command</p>\n<pre><code>sudo service mongodb status\n\nsudo service mongodb start\n</code></pre>\n<p>Hope it should work, there could be several reasons as well ,\nlike the configuration you defined in your application for mongodb service is incorrect such as port .</p>\n"},{"tags":[],"owner":{"account_id":19627534,"reputation":1,"user_id":14366551,"display_name":"Pankaj gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601477999,"creation_date":1601477586,"answer_id":64140230,"question_id":45742999,"body_markdown":"Try to add  \r\n`network_mode: host`  \r\nand remove  \r\n    `links: ....`  \r\nfor all services, that want to connect with mongo or eureka or postgresql, inside your docker-compose.yml.   \r\nBy doing so you will connect to docker localhost. ","title":"com.mongodb.MongoSocketOpenException: Exception opening socket(MongoDB, Docker)","body":"<p>Try to add<br />\n<code>network_mode: host</code><br />\nand remove<br />\n<code>links: ....</code><br />\nfor all services, that want to connect with mongo or eureka or postgresql, inside your docker-compose.yml.<br />\nBy doing so you will connect to docker localhost.</p>\n"}],"owner":{"account_id":9553052,"reputation":361,"user_id":7238206,"accept_rate":63,"display_name":"bsuart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62017,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":45755149,"answer_count":4,"score":12,"last_activity_date":1670256509,"creation_date":1502996211,"question_id":45742999,"body_markdown":"I try to starting my application(Spring Boot + Spring Cloud + Eureka + MongoDB) with using docker image, but i can&#39;t get connection to MongoDB.\r\n\r\n**Exception:**\r\n\r\n    exception &quot;com.mongodb.MongoSocketOpenException: Exception opening socket.&quot;\r\n\r\nI starting my application with execute command: *docker-compose up --build*\r\n\r\n**Docker log:**\r\n\r\n    com.mongodb. MongoSocket0penException: Exception opening socket at com.mongodb. connection. SocketStream.open(SocketStream.java: 63) ~|mongo-java-driver-3.2.2.jar!/:naj\r\n      at com. monsoob: connection. berettaberverwontortser/ersonito-kunnablearancerainitservertonitolnava:1203-dionso-java-driver*3?2.2.jarl/:nal\r\n      at : java. lang. Thread.run (Thread. java: 745) Lna:1.8.0_111]\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n      at java.net.PlainSocketImpl.socketConnect (Native Method) ~ [na: 1.8.0_1111 at java.net.AbstractPlainSocketImp1.doConnect (AbstractplainSocketImpl.java:350) ~ [na: 1.8.0_111]\r\n      at java.net.AbstractPlainSocketImp1.connectToAddress(AbstractPlainSocketImp1.java:206)~[na:1.8.0_1111 \r\n      at java.net .AbstractPlainSocketImp1.connect (AbstractPlain5ocket Imp],java:188) ~[na:1.8.0_111]\r\n      at java.net.SocksSocketImpl.connect (SocksSocketImpl.java:392) ~|na:1.8.0_111] java.net Socket. connect (Socket, java: 589) ~[na:1.8:0-111]\r\n      at com.mongodb.connection. SocketStreamHelper.initialize(SocketStreamHelper. java: 50) ~ [mongo-java-driver-3.2.2.ar!/:na] at com. mongodb. connection. SocketStream.open(SocketStream. java:58) ~ [mongo-java-driver-3.2.2.jar!/:na]\r\n    3 common frames omitted\r\n\r\n\r\n**application.yml:**\r\n\r\n    # Spring properties\r\n    spring:\r\n      application:\r\n        name: car-service\r\n      data:\r\n        mongodb.host: localhost\r\n        mongodb.port: 32769\r\n        mongodb.uri: mongodb://localhost/test\r\n        mongo.repositories.enabled: true\r\n    \r\n    \r\n    # Discovery Server Access\r\n    eureka:\r\n        client:\r\n          serviceUrl:\r\n            defaultZone: http://localhost:8761/eureka/\r\n    \r\n    # HTTP Server (Tomcat) Port\r\n    server: \r\n      port: 2220\r\n    \r\n    error:\r\n      whitelabel:\r\n        enabled: false\r\n\r\n**docker-compose.yml:**\r\n\r\n    eureka:\r\n      build: ./eureka-discovery-service\r\n      ports:\r\n        - &quot;8761:8761&quot;\r\n    \r\n    mongodb:\r\n      image: mongo:3.0.4\r\n      ports:\r\n        - &quot;32769:32769&quot;\r\n    \r\n    postgresql:\r\n      image: postgres:9.6.1\r\n      ports:\r\n        - &quot;32770:32770&quot;\r\n    \r\n    gateway-service:\r\n      build: ./gateway-service\r\n      ports:\r\n        - &quot;9090:9090&quot;\r\n      links:\r\n        - eureka\r\n      environment:\r\n        SPRING_APPLICATION_NAME: gateway-service\r\n        SPRING_PROFILES_ACTIVE: enableEureka\r\n        EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\r\n        EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\r\n    \r\n    airplane-service:\r\n      build: ./airplane-service\r\n      ports:\r\n        - &quot;2222:2222&quot;\r\n      links:\r\n        - eureka\r\n        - postgresql\r\n      environment:\r\n        SPRING_APPLICATION_NAME: airplane-service\r\n        SPRING_PROFILES_ACTIVE: enableEureka\r\n        EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\r\n        EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\r\n        SPRING_SLEUTH_ENABLED: &quot;true&quot;\r\n        SPRING_DATASOURCE_POSTGRESQL_URL: jdbc:postgresql://localhost:32770/postgres\r\n    \r\n    car-service:\r\n      build: ./car-service\r\n      ports:\r\n        - &quot;2220:2220&quot;\r\n      links:\r\n        - eureka\r\n        - mongodb\r\n      environment:\r\n        SPRING_APPLICATION_NAME: car-service\r\n        SPRING_PROFILES_ACTIVE: enableEureka\r\n        EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\r\n        EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\r\n        SPRING_SLEUTH_ENABLED: &quot;true&quot;\r\n        SPRING_DATA_MONGODB_URI: mongodb://localhost:32769/test\r\n    \r\n    \r\n    machine-service:\r\n      build: ./machine-service\r\n      ports:\r\n        - &quot;2224:2224&quot;\r\n      links:\r\n        - eureka\r\n      environment:\r\n        SPRING_APPLICATION_NAME: machine-service\r\n        SPRING_PROFILES_ACTIVE: enableEureka\r\n        EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\r\n        EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\r\n        SPRING_SLEUTH_ENABLED: &quot;true&quot;\r\n\r\n\r\nWhy I have exception opening a socket? How to fix this problem?\r\n","title":"com.mongodb.MongoSocketOpenException: Exception opening socket(MongoDB, Docker)","body":"<p>I try to starting my application(Spring Boot + Spring Cloud + Eureka + MongoDB) with using docker image, but i can't get connection to MongoDB.</p>\n<p><strong>Exception:</strong></p>\n<pre><code>exception &quot;com.mongodb.MongoSocketOpenException: Exception opening socket.&quot;\n</code></pre>\n<p>I starting my application with execute command: <em>docker-compose up --build</em></p>\n<p><strong>Docker log:</strong></p>\n<pre><code>com.mongodb. MongoSocket0penException: Exception opening socket at com.mongodb. connection. SocketStream.open(SocketStream.java: 63) ~|mongo-java-driver-3.2.2.jar!/:naj\n  at com. monsoob: connection. berettaberverwontortser/ersonito-kunnablearancerainitservertonitolnava:1203-dionso-java-driver*3?2.2.jarl/:nal\n  at : java. lang. Thread.run (Thread. java: 745) Lna:1.8.0_111]\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n  at java.net.PlainSocketImpl.socketConnect (Native Method) ~ [na: 1.8.0_1111 at java.net.AbstractPlainSocketImp1.doConnect (AbstractplainSocketImpl.java:350) ~ [na: 1.8.0_111]\n  at java.net.AbstractPlainSocketImp1.connectToAddress(AbstractPlainSocketImp1.java:206)~[na:1.8.0_1111 \n  at java.net .AbstractPlainSocketImp1.connect (AbstractPlain5ocket Imp],java:188) ~[na:1.8.0_111]\n  at java.net.SocksSocketImpl.connect (SocksSocketImpl.java:392) ~|na:1.8.0_111] java.net Socket. connect (Socket, java: 589) ~[na:1.8:0-111]\n  at com.mongodb.connection. SocketStreamHelper.initialize(SocketStreamHelper. java: 50) ~ [mongo-java-driver-3.2.2.ar!/:na] at com. mongodb. connection. SocketStream.open(SocketStream. java:58) ~ [mongo-java-driver-3.2.2.jar!/:na]\n3 common frames omitted\n</code></pre>\n<p><strong>application.yml:</strong></p>\n<pre><code># Spring properties\nspring:\n  application:\n    name: car-service\n  data:\n    mongodb.host: localhost\n    mongodb.port: 32769\n    mongodb.uri: mongodb://localhost/test\n    mongo.repositories.enabled: true\n\n\n# Discovery Server Access\neureka:\n    client:\n      serviceUrl:\n        defaultZone: http://localhost:8761/eureka/\n\n# HTTP Server (Tomcat) Port\nserver: \n  port: 2220\n\nerror:\n  whitelabel:\n    enabled: false\n</code></pre>\n<p><strong>docker-compose.yml:</strong></p>\n<pre><code>eureka:\n  build: ./eureka-discovery-service\n  ports:\n    - &quot;8761:8761&quot;\n\nmongodb:\n  image: mongo:3.0.4\n  ports:\n    - &quot;32769:32769&quot;\n\npostgresql:\n  image: postgres:9.6.1\n  ports:\n    - &quot;32770:32770&quot;\n\ngateway-service:\n  build: ./gateway-service\n  ports:\n    - &quot;9090:9090&quot;\n  links:\n    - eureka\n  environment:\n    SPRING_APPLICATION_NAME: gateway-service\n    SPRING_PROFILES_ACTIVE: enableEureka\n    EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\n    EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\n\nairplane-service:\n  build: ./airplane-service\n  ports:\n    - &quot;2222:2222&quot;\n  links:\n    - eureka\n    - postgresql\n  environment:\n    SPRING_APPLICATION_NAME: airplane-service\n    SPRING_PROFILES_ACTIVE: enableEureka\n    EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\n    EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\n    SPRING_SLEUTH_ENABLED: &quot;true&quot;\n    SPRING_DATASOURCE_POSTGRESQL_URL: jdbc:postgresql://localhost:32770/postgres\n\ncar-service:\n  build: ./car-service\n  ports:\n    - &quot;2220:2220&quot;\n  links:\n    - eureka\n    - mongodb\n  environment:\n    SPRING_APPLICATION_NAME: car-service\n    SPRING_PROFILES_ACTIVE: enableEureka\n    EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\n    EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\n    SPRING_SLEUTH_ENABLED: &quot;true&quot;\n    SPRING_DATA_MONGODB_URI: mongodb://localhost:32769/test\n\n\nmachine-service:\n  build: ./machine-service\n  ports:\n    - &quot;2224:2224&quot;\n  links:\n    - eureka\n  environment:\n    SPRING_APPLICATION_NAME: machine-service\n    SPRING_PROFILES_ACTIVE: enableEureka\n    EUREKA_INSTANCE_PREFER_IP_ADDRESS: &quot;true&quot;\n    EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://eureka:8761/eureka/\n    SPRING_SLEUTH_ENABLED: &quot;true&quot;\n</code></pre>\n<p>Why I have exception opening a socket? How to fix this problem?</p>\n"},{"tags":["java","java-8","java-stream","comparator"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":9,"creation_date":1533649408,"post_id":51728273,"comment_id":90417119,"body_markdown":"The problem is that you&#39;re comparing strings and `9xx` is always greater than `1xxx`.","body":"The problem is that you&#39;re comparing strings and <code>9xx</code> is always greater than <code>1xxx</code>."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":3,"creation_date":1533649455,"post_id":51728273,"comment_id":90417161,"body_markdown":"You want to use `Double::valueOf`, not `String::valueOf`.","body":"You want to use <code>Double::valueOf</code>, not <code>String::valueOf</code>."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533649428,"creation_date":1533649428,"answer_id":51728321,"question_id":51728273,"body_markdown":"It appears you want to compare the number numerically instead of their String representation e.g. `&quot;16.0&quot; &lt; &quot;9.0&quot;` as `&#39;1&#39; &lt; &#39;9&#39;`\r\n\r\n    List&lt;Double&gt; items = Arrays.asList(9.0, 4.0, 16.0, -6.0, 5.0);\r\n    double max = items.stream().max(Comparator.naturalOrder()).get();\r\n    double min = items.stream().min(Comparator.naturalOrder()).get();\r\n    System.out.println(min + &quot; &quot; + max);\r\n\r\nprints\r\n\r\n    -6.0 16.0","title":"Find maximum and minimum double value in a list","body":"<p>It appears you want to compare the number numerically instead of their String representation e.g. <code>\"16.0\" &lt; \"9.0\"</code> as <code>'1' &lt; '9'</code></p>\n\n<pre><code>List&lt;Double&gt; items = Arrays.asList(9.0, 4.0, 16.0, -6.0, 5.0);\ndouble max = items.stream().max(Comparator.naturalOrder()).get();\ndouble min = items.stream().min(Comparator.naturalOrder()).get();\nSystem.out.println(min + \" \" + max);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>-6.0 16.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533649549,"creation_date":1533649456,"answer_id":51728329,"question_id":51728273,"body_markdown":"Your are comparing them as `String` so by alphabetical order : 1xx is before 9xx\r\n\r\nYou need to compare then as `Double or Integer`, so use `Comparator.comparing(Double::valueOf)` (or `Integer::valueOf`)","title":"Find maximum and minimum double value in a list","body":"<p>Your are comparing them as <code>String</code> so by alphabetical order : 1xx is before 9xx</p>\n\n<p>You need to compare then as <code>Double or Integer</code>, so use <code>Comparator.comparing(Double::valueOf)</code> (or <code>Integer::valueOf</code>)</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1533649512,"creation_date":1533649512,"answer_id":51728355,"question_id":51728273,"body_markdown":"You don&#39;t want to compare using strings but by the natural order of your double elements, i.e. `Comparator.naturalOrder()` instead of `Comparator.comparing(String::valueOf)`.\r\n\r\nComparing via strings will result in the characters being compared and since the character value of `9` (of `&quot;9.0&quot;`) is greater than `1` (of `&quot;16.0&quot;`) you get the result you see. Changing `&quot;16.0&quot;` to `&quot;92.0&quot;` will result in `.` to be compared with `2` (since the first character is equal) and thus `&quot;92xx&quot;` is greater than `&quot;9.xx&quot;`. ","title":"Find maximum and minimum double value in a list","body":"<p>You don't want to compare using strings but by the natural order of your double elements, i.e. <code>Comparator.naturalOrder()</code> instead of <code>Comparator.comparing(String::valueOf)</code>.</p>\n\n<p>Comparing via strings will result in the characters being compared and since the character value of <code>9</code> (of <code>\"9.0\"</code>) is greater than <code>1</code> (of <code>\"16.0\"</code>) you get the result you see. Changing <code>\"16.0\"</code> to <code>\"92.0\"</code> will result in <code>.</code> to be compared with <code>2</code> (since the first character is equal) and thus <code>\"92xx\"</code> is greater than <code>\"9.xx\"</code>. </p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1533650911,"post_id":51728369,"comment_id":90418245,"body_markdown":"good, the nitpick would be that this does a bit more than just min and max - but yes, totally agreed on this solution","body":"good, the nitpick would be that this does a bit more than just min and max - but yes, totally agreed on this solution"}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533649562,"creation_date":1533649562,"answer_id":51728369,"question_id":51728273,"body_markdown":"There&#39;s a more appropriate stream type for doubles. Using it, you can get `min` and `max` in one terminal operation (eliminating the need to supply a comparator in the process):\r\n\r\n    DoubleSummaryStatistics stats = items.stream().mapToDouble(d -&gt; d)\r\n     .summaryStatistics();\r\n    //even better: DoubleStream.of(9.0, 4.0, 16.0, -6.0, 5.0).summaryStatistics()\r\n\r\nAnd `stats` will have:\r\n\r\n    count=5, sum=28.000000, min=-6.000000, average=5.600000, max=16.000000","title":"Find maximum and minimum double value in a list","body":"<p>There's a more appropriate stream type for doubles. Using it, you can get <code>min</code> and <code>max</code> in one terminal operation (eliminating the need to supply a comparator in the process):</p>\n\n<pre><code>DoubleSummaryStatistics stats = items.stream().mapToDouble(d -&gt; d)\n .summaryStatistics();\n//even better: DoubleStream.of(9.0, 4.0, 16.0, -6.0, 5.0).summaryStatistics()\n</code></pre>\n\n<p>And <code>stats</code> will have:</p>\n\n<pre><code>count=5, sum=28.000000, min=-6.000000, average=5.600000, max=16.000000\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1533649642,"post_id":51728385,"comment_id":90417310,"body_markdown":"This answers the exact question +1.","body":"This answers the exact question +1."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1533649615,"creation_date":1533649615,"answer_id":51728385,"question_id":51728273,"body_markdown":"What about :\r\n\r\n    double max = items.stream().mapToDouble(Double::doubleValue).max().getAsDouble();//16.0\r\n    double min = items.stream().mapToDouble(Double::doubleValue).min().getAsDouble();//-6.0","title":"Find maximum and minimum double value in a list","body":"<p>What about :</p>\n\n<pre><code>double max = items.stream().mapToDouble(Double::doubleValue).max().getAsDouble();//16.0\ndouble min = items.stream().mapToDouble(Double::doubleValue).min().getAsDouble();//-6.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670506383,"post_id":74691029,"comment_id":131894015,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74691029/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27154246,"reputation":1,"user_id":20693303,"display_name":"Paul Raj"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670256306,"creation_date":1670256306,"answer_id":74691029,"question_id":51728273,"body_markdown":"items\r\n.stream()\r\n.sorted()\r\n.limit(1)\r\n.collect(Colletors.toList();\r\n","title":"Find maximum and minimum double value in a list","body":"<p>items\n.stream()\n.sorted()\n.limit(1)\n.collect(Colletors.toList();</p>\n"}],"owner":{"account_id":11989239,"reputation":1426,"user_id":8772899,"display_name":"Adam Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15727,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":6,"score":14,"last_activity_date":1670256306,"creation_date":1533649308,"question_id":51728273,"body_markdown":"I have the following list of double values:\r\n\r\n    items {9.0, 4.0, 16.0, -6.0, 5.0}\r\n\r\nI want to find the maximum and minimum values and for that I did:\r\n\r\n    double max = items.stream().max(Comparator.comparing(String::valueOf)).get();\r\n    double min = items.stream().min(Comparator.comparing(String::valueOf)).get();\r\n\r\nThe result that I got is `max=9.0` and `min=-6.0`. I was expecting the maximum to be `16.0`. Later, I changed `16.0` to `92.0` and it worked; it gave me `max=92.0`\r\n\r\nDo you know how to solve that?","title":"Find maximum and minimum double value in a list","body":"<p>I have the following list of double values:</p>\n\n<pre><code>items {9.0, 4.0, 16.0, -6.0, 5.0}\n</code></pre>\n\n<p>I want to find the maximum and minimum values and for that I did:</p>\n\n<pre><code>double max = items.stream().max(Comparator.comparing(String::valueOf)).get();\ndouble min = items.stream().min(Comparator.comparing(String::valueOf)).get();\n</code></pre>\n\n<p>The result that I got is <code>max=9.0</code> and <code>min=-6.0</code>. I was expecting the maximum to be <code>16.0</code>. Later, I changed <code>16.0</code> to <code>92.0</code> and it worked; it gave me <code>max=92.0</code></p>\n\n<p>Do you know how to solve that?</p>\n"},{"tags":["java","sql","oracle","jdbc","plsql"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1669539792,"post_id":74588100,"comment_id":131660389,"body_markdown":"Your number `3,20000` is presented in a very strange format. Do you mean `3,200,000`? Or just `320,000`?","body":"Your number <code>3,20000</code> is presented in a very strange format. Do you mean <code>3,200,000</code>? Or just <code>320,000</code>?"},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1669542267,"post_id":74588100,"comment_id":131660773,"body_markdown":"Why are you not just using a single CLOB argument - why split it in to shorter strings at all?","body":"Why are you not just using a single CLOB argument - why split it in to shorter strings at all?"},{"owner":{"account_id":26983848,"reputation":33,"user_id":20547817,"display_name":"Rashmi Sharma"},"score":0,"creation_date":1669548543,"post_id":74588100,"comment_id":131661855,"body_markdown":"It was done long back by some other developers....I am not so sure Alex. is there any solution looking at existing setup.","body":"It was done long back by some other developers....I am not so sure Alex. is there any solution looking at existing setup."}],"answers":[{"tags":[],"owner":{"account_id":25181945,"reputation":4211,"user_id":19023353,"display_name":"d r"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669590563,"creation_date":1669590563,"answer_id":74594512,"question_id":74588100,"body_markdown":"If there is a possibility for you to split the data in 2 sets of 10 fields of VarChar2(32000) values - you could, in that case (with minor intervention), keep your procedure working.\r\nWhat I&#39;m trying to say is that you split first 320K in ten fields like you already do - put them into an array and then take the second set of 320K data using the same logic. In that case you should in your original procedure add one more parameter saying if it is set no. 1 or 2.    \r\nYou should handle the proces with a small package and an array.  \r\nNot sure how your procedure looks like, just offering something to think about.   \r\nHere is an option - 1st create an array of the appropriate size:\r\n~~~sql\r\ncreate or replace TYPE X_ARRAY \r\nAS VARRAY(32) OF VarChar2(32000);\r\n~~~\r\nNext is the package to handle the data and to get you a CLOB to be written into a database:\r\n~~~sql\r\ncreate or replace PACKAGE MANAGE_CLOBS AS \r\n-- -----------------------------------------------  \r\n  Procedure Init;\r\n-- -----------------------------------------------\r\n  Procedure AddPart(p_Part IN VARCHAR2);\r\n-- ----------------------------------------------\r\n  Function GetArray RETURN X_ARRAY;\r\n-- ----------------------------------------------\r\n  Function GetCLOB RETURN CLOB;\r\n-- ----------------------------------------------\r\n  Procedure SetToArray(P_FIELD1 IN VARCHAR2, P_FIELD2 IN VARCHAR2, P_FIELD3 IN VARCHAR2, P_FIELD4 IN VARCHAR2, P_FIELD5 IN VARCHAR2, \r\n                       P_FIELD6 IN VARCHAR2, P_FIELD7 IN VARCHAR2, P_FIELD8 IN VARCHAR2, P_FIELD9 IN VARCHAR2, P_FIELD10 IN VARCHAR2, P_SET_NUMBER IN NUMBER := 1);\r\n--\r\nEND MANAGE_CLOBS;\r\n~~~\r\n... and package body ...\r\n~~~sql\r\ncreate or replace PACKAGE BODY MANAGE_CLOBS AS\r\n    mSet      NUMBER(1);\r\n    mArray    X_ARRAY;\r\n    mCLOB     CLOB;\r\n  -- -----------------------------------------------  \r\n    Procedure Init IS\r\n        Begin\r\n            mSet := 0;\r\n            mArray := X_ARRAY();\r\n             mCLOB := Null;\r\n        End Init;\r\n  -- -----------------------------------------------\r\n    Procedure AddPart(P_Part IN VARCHAR2) is\r\n        Begin\r\n            mCLOB := mCLOB || P_Part;\r\n        End AddPart;\r\n  -- ---------------------------------------------\r\n    Function GetArray RETURN X_ARRAY IS\r\n        BEGIN\r\n            RETURN mArray;\r\n        END GetArray;\r\n  -- ---------------------------------------------\r\n    Function GetCLOB RETURN CLOB IS\r\n        BEGIN\r\n            FOR i In 1..mArray.count LOOP\r\n                AddPart(mArray(i));\r\n            END LOOP;\r\n            RETURN mCLOB;\r\n        END GetCLOB;\r\n-- ---------------------------------------------\r\n    Procedure SetToArray(P_FIELD1 IN VARCHAR2, P_FIELD2 IN VARCHAR2, P_FIELD3 IN VARCHAR2, P_FIELD4 IN VARCHAR2, P_FIELD5 IN VARCHAR2, \r\n                         P_FIELD6 IN VARCHAR2, P_FIELD7 IN VARCHAR2, P_FIELD8 IN VARCHAR2, P_FIELD9 IN VARCHAR2, P_FIELD10 IN VARCHAR2, P_SET_NUMBER IN NUMBER := 1) IS\r\n            idx   Number(2);\r\n            fld   VarChar2(32000);\r\n            sq    VarChar2(1) := &#39;&#39;&#39;&#39;;\r\n        BEGIN\r\n            If mSet &lt; P_SET_NUMBER Then\r\n                mSet := P_SET_NUMBER;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 1) := P_FIELD1;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 2) := P_FIELD2;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 3) := P_FIELD3;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 4) := P_FIELD4;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 5) := P_FIELD5;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 6) := P_FIELD6;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 7) := P_FIELD7;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 8) := P_FIELD8;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 9) := P_FIELD9;\r\n                mArray.extend;\r\n                mArray((P_SET_NUMBER - 1) * 10 + 10) := P_FIELD10;\r\n            End If;\r\n        END SetToArray;\r\nEND MANAGE_CLOBS;\r\n~~~\r\nNow your procedure that collects the data from 10 (32000) fields should be altered to something like below, where you would pass your FIELD1, FIELD2,... , FIELD10 data in two sets (the last parameter). The data will be stored in the array and after that collected into xCLOB variable that you can store in your table.\r\n~~~sql\r\nSET SERVEROUTPUT ON\r\nDeclare \r\n    xArray    X_ARRAY;\r\n    xCLOB     CLOB;\r\nBegin\r\n    MANAGE_CLOBS.Init;\r\n    MANAGE_CLOBS.SetToArray(&#39;AAAAA&#39;, &#39;BBBBB&#39;, &#39;CCCCC&#39;, &#39;DDDDD&#39;, &#39;EEEEE&#39;,\r\n                           &#39;FFFFF&#39;, &#39;GGGGG&#39;, &#39;HHHHH&#39;, &#39;IIIII&#39;, &#39;JJJJJ&#39;, 1);\r\n    --\r\n    MANAGE_CLOBS.SetToArray(&#39;kkkkk&#39;, &#39;lllll&#39;, &#39;mmmmm&#39;, &#39;nnnnn&#39;, &#39;ooooo&#39;,\r\n                           &#39;ppppp&#39;, &#39;rrrrr&#39;, &#39;sssss&#39;, &#39;ttttt&#39;, &#39;uuuuu&#39;, 2);\r\n    --\r\n    xArray := MANAGE_CLOBS.GetArray;  -- this line is not needed - here it is just for you to do some cheks if you want before transfer to xCLOB\r\n    xCLOB := MANAGE_CLOBS.GetCLOB;    -- xCLOB should contain all the data passed to the procedure\r\n    DBMS_OUTPUT.PUT_LINE(SubStr(xCLOB, 1, 200));\r\nEnd;\r\n--  \r\n--  R e s u l t :\r\n--  anonymous block completed\r\n--  AAAAABBBBBCCCCCDDDDDEEEEEFFFFFGGGGGHHHHHIIIIIJJJJJkkkkklllllmmmmmnnnnnoooooppppprrrrrssssstttttuuuuu\r\n~~~\r\nRegards...","title":"changing varchar2 data type in oracle due to more size requirement","body":"<p>If there is a possibility for you to split the data in 2 sets of 10 fields of VarChar2(32000) values - you could, in that case (with minor intervention), keep your procedure working.\nWhat I'm trying to say is that you split first 320K in ten fields like you already do - put them into an array and then take the second set of 320K data using the same logic. In that case you should in your original procedure add one more parameter saying if it is set no. 1 or 2.<br />\nYou should handle the proces with a small package and an array.<br />\nNot sure how your procedure looks like, just offering something to think about.<br />\nHere is an option - 1st create an array of the appropriate size:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace TYPE X_ARRAY \nAS VARRAY(32) OF VarChar2(32000);\n</code></pre>\n<p>Next is the package to handle the data and to get you a CLOB to be written into a database:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace PACKAGE MANAGE_CLOBS AS \n-- -----------------------------------------------  \n  Procedure Init;\n-- -----------------------------------------------\n  Procedure AddPart(p_Part IN VARCHAR2);\n-- ----------------------------------------------\n  Function GetArray RETURN X_ARRAY;\n-- ----------------------------------------------\n  Function GetCLOB RETURN CLOB;\n-- ----------------------------------------------\n  Procedure SetToArray(P_FIELD1 IN VARCHAR2, P_FIELD2 IN VARCHAR2, P_FIELD3 IN VARCHAR2, P_FIELD4 IN VARCHAR2, P_FIELD5 IN VARCHAR2, \n                       P_FIELD6 IN VARCHAR2, P_FIELD7 IN VARCHAR2, P_FIELD8 IN VARCHAR2, P_FIELD9 IN VARCHAR2, P_FIELD10 IN VARCHAR2, P_SET_NUMBER IN NUMBER := 1);\n--\nEND MANAGE_CLOBS;\n</code></pre>\n<p>... and package body ...</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace PACKAGE BODY MANAGE_CLOBS AS\n    mSet      NUMBER(1);\n    mArray    X_ARRAY;\n    mCLOB     CLOB;\n  -- -----------------------------------------------  \n    Procedure Init IS\n        Begin\n            mSet := 0;\n            mArray := X_ARRAY();\n             mCLOB := Null;\n        End Init;\n  -- -----------------------------------------------\n    Procedure AddPart(P_Part IN VARCHAR2) is\n        Begin\n            mCLOB := mCLOB || P_Part;\n        End AddPart;\n  -- ---------------------------------------------\n    Function GetArray RETURN X_ARRAY IS\n        BEGIN\n            RETURN mArray;\n        END GetArray;\n  -- ---------------------------------------------\n    Function GetCLOB RETURN CLOB IS\n        BEGIN\n            FOR i In 1..mArray.count LOOP\n                AddPart(mArray(i));\n            END LOOP;\n            RETURN mCLOB;\n        END GetCLOB;\n-- ---------------------------------------------\n    Procedure SetToArray(P_FIELD1 IN VARCHAR2, P_FIELD2 IN VARCHAR2, P_FIELD3 IN VARCHAR2, P_FIELD4 IN VARCHAR2, P_FIELD5 IN VARCHAR2, \n                         P_FIELD6 IN VARCHAR2, P_FIELD7 IN VARCHAR2, P_FIELD8 IN VARCHAR2, P_FIELD9 IN VARCHAR2, P_FIELD10 IN VARCHAR2, P_SET_NUMBER IN NUMBER := 1) IS\n            idx   Number(2);\n            fld   VarChar2(32000);\n            sq    VarChar2(1) := '''';\n        BEGIN\n            If mSet &lt; P_SET_NUMBER Then\n                mSet := P_SET_NUMBER;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 1) := P_FIELD1;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 2) := P_FIELD2;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 3) := P_FIELD3;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 4) := P_FIELD4;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 5) := P_FIELD5;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 6) := P_FIELD6;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 7) := P_FIELD7;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 8) := P_FIELD8;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 9) := P_FIELD9;\n                mArray.extend;\n                mArray((P_SET_NUMBER - 1) * 10 + 10) := P_FIELD10;\n            End If;\n        END SetToArray;\nEND MANAGE_CLOBS;\n</code></pre>\n<p>Now your procedure that collects the data from 10 (32000) fields should be altered to something like below, where you would pass your FIELD1, FIELD2,... , FIELD10 data in two sets (the last parameter). The data will be stored in the array and after that collected into xCLOB variable that you can store in your table.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SET SERVEROUTPUT ON\nDeclare \n    xArray    X_ARRAY;\n    xCLOB     CLOB;\nBegin\n    MANAGE_CLOBS.Init;\n    MANAGE_CLOBS.SetToArray('AAAAA', 'BBBBB', 'CCCCC', 'DDDDD', 'EEEEE',\n                           'FFFFF', 'GGGGG', 'HHHHH', 'IIIII', 'JJJJJ', 1);\n    --\n    MANAGE_CLOBS.SetToArray('kkkkk', 'lllll', 'mmmmm', 'nnnnn', 'ooooo',\n                           'ppppp', 'rrrrr', 'sssss', 'ttttt', 'uuuuu', 2);\n    --\n    xArray := MANAGE_CLOBS.GetArray;  -- this line is not needed - here it is just for you to do some cheks if you want before transfer to xCLOB\n    xCLOB := MANAGE_CLOBS.GetCLOB;    -- xCLOB should contain all the data passed to the procedure\n    DBMS_OUTPUT.PUT_LINE(SubStr(xCLOB, 1, 200));\nEnd;\n--  \n--  R e s u l t :\n--  anonymous block completed\n--  AAAAABBBBBCCCCCDDDDDEEEEEFFFFFGGGGGHHHHHIIIIIJJJJJkkkkklllllmmmmmnnnnnoooooppppprrrrrssssstttttuuuuu\n</code></pre>\n<p>Regards...</p>\n"},{"tags":[],"owner":{"account_id":6242120,"reputation":642,"user_id":4855385,"display_name":"Douglas Surber"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670256234,"creation_date":1670256234,"answer_id":74691012,"question_id":74588100,"body_markdown":"Oracle LONG type can hold up to 2GB, so 2G single byte characters or 1G Unicode characters.","title":"changing varchar2 data type in oracle due to more size requirement","body":"<p>Oracle LONG type can hold up to 2GB, so 2G single byte characters or 1G Unicode characters.</p>\n"}],"owner":{"account_id":26983848,"reputation":33,"user_id":20547817,"display_name":"Rashmi Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670256234,"creation_date":1669532058,"question_id":74588100,"body_markdown":"I am using one application in which I am using `jdbc`. as of now we have input length in UI for user is `320000` (320k). so we were dividing this field in 10 parts and sending this to `Pl/SQL` db procedure to insert into the table. We were receiving message in 10 varchar2 variables in procedure parameter.\r\n\r\nBut now client has changed the requirement. and he want to double the size for user.\r\nso if we divide `640000/10` it will come `64000` which goes beyond the limit of `varchar2` which is 32767. means we can not use varchar2 type variable in procedure to store these values.\r\n\r\nThis procedure is called by many other applications.\r\n\r\nMy question is which datatype should I change for my `pl/sql` variables inside procedure instead of `varchar2 `so that code does not break for other applications?\r\n\r\nexisting is \r\n\r\n    create procedure(field 1 varchar2, field2 varchar2...........field10 varchar2)\r\n    begin\r\n    \r\n    end\r\n\r\nwhat datatype we should use instead of varchar2 here.\r\n\r\nIn procedure we are aggregating these inputs and storing into one single column which is of CLOB type.\r\n\r\nI read the documentation but still did not get solution","title":"changing varchar2 data type in oracle due to more size requirement","body":"<p>I am using one application in which I am using <code>jdbc</code>. as of now we have input length in UI for user is <code>320000</code> (320k). so we were dividing this field in 10 parts and sending this to <code>Pl/SQL</code> db procedure to insert into the table. We were receiving message in 10 varchar2 variables in procedure parameter.</p>\n<p>But now client has changed the requirement. and he want to double the size for user.\nso if we divide <code>640000/10</code> it will come <code>64000</code> which goes beyond the limit of <code>varchar2</code> which is 32767. means we can not use varchar2 type variable in procedure to store these values.</p>\n<p>This procedure is called by many other applications.</p>\n<p>My question is which datatype should I change for my <code>pl/sql</code> variables inside procedure instead of <code>varchar2 </code>so that code does not break for other applications?</p>\n<p>existing is</p>\n<pre><code>create procedure(field 1 varchar2, field2 varchar2...........field10 varchar2)\nbegin\n\nend\n</code></pre>\n<p>what datatype we should use instead of varchar2 here.</p>\n<p>In procedure we are aggregating these inputs and storing into one single column which is of CLOB type.</p>\n<p>I read the documentation but still did not get solution</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670330769,"post_id":74680426,"comment_id":131847314,"body_markdown":"@CLOSURES Why did you close chico?","body":"@CLOSURES Why did you close chico?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670225248,"post_id":74683115,"comment_id":131817745,"body_markdown":"Thanks a lot for this useful example, voted up... I integrated a specification example on https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/ I have the following issues, could you clarify me pls? &gt;&gt;&gt;","body":"Thanks a lot for this useful example, voted up... I integrated a specification example on <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">blog.piinalpin.com/2022/04/&hellip;</a> I have the following issues, could you clarify me pls? &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670225439,"post_id":74683115,"comment_id":131817790,"body_markdown":"**1.** There are 3 entities joined via Hibernate using proper relationship. I have Recipe, RecipeIngredient and Ingredient entities. I use Recipe as type for my specification. But I need one filter on Ingredient field. In this case, should I filter that field by passing value? Or can I also filter it using the same filter for Recipe?","body":"<b>1.</b> There are 3 entities joined via Hibernate using proper relationship. I have Recipe, RecipeIngredient and Ingredient entities. I use Recipe as type for my specification. But I need one filter on Ingredient field. In this case, should I filter that field by passing value? Or can I also filter it using the same filter for Recipe?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670225624,"post_id":74683115,"comment_id":131817834,"body_markdown":"**2.** I have an ENUM field that I need to filter. As you see Enumeration of Field Type section on that page, I use STRING as type in my filter definition. But I get error and as far as I see from my search, there is not a workaround. So, do you have any idea about that problem? Maybe you had experience for filtering enum field.","body":"<b>2.</b> I have an ENUM field that I need to filter. As you see Enumeration of Field Type section on that page, I use STRING as type in my filter definition. But I get error and as far as I see from my search, there is not a workaround. So, do you have any idea about that problem? Maybe you had experience for filtering enum field."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670227010,"post_id":74683115,"comment_id":131818235,"body_markdown":"By the way, when I use specs and query parameters ta the same time I get this error --&gt; **&quot;Using named parameters for method public abstract Page RecipeRepository.findByFields(Specification, Pageable) but parameter &#39;Optional[spec]&#39; not found in annotated query &#39;SELECT ...&quot;**. My method signature is `Page&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text, @Nullable Specification&lt;Recipe&gt; spec, @Nullable Pageable pageable);`. Any idea?","body":"By the way, when I use specs and query parameters ta the same time I get this error --&gt; <b>&quot;Using named parameters for method public abstract Page RecipeRepository.findByFields(Specification, Pageable) but parameter &#39;Optional[spec]&#39; not found in annotated query &#39;SELECT ...&quot;</b>. My method signature is <code>Page&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text, @Nullable Specification&lt;Recipe&gt; spec, @Nullable Pageable pageable);</code>. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670228150,"post_id":74683115,"comment_id":131818542,"body_markdown":"I think I cannot mix @Query and Specification, right? https://stackoverflow.com/questions/26379522/can-i-combine-a-query-definition-with-a-specification-in-a-spring-data-jpa-repo/26381869#26381869","body":"I think I cannot mix @Query and Specification, right? <a href=\"https://stackoverflow.com/questions/26379522/can-i-combine-a-query-definition-with-a-specification-in-a-spring-data-jpa-repo/26381869#26381869\" title=\"can i combine a query definition with a specification in a spring data jpa repo\">stackoverflow.com/questions/26379522/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670228194,"post_id":74683115,"comment_id":131818561,"body_markdown":"If so, as I need to pass these filter parameters (4 parameter) to my @Query, then how can I build my WHERE clause dynamically? I cannot use spec, but I am not sure if there is an aternative for creating WHERE clause in my Query. Any idea?","body":"If so, as I need to pass these filter parameters (4 parameter) to my @Query, then how can I build my WHERE clause dynamically? I cannot use spec, but I am not sure if there is an aternative for creating WHERE clause in my Query. Any idea?"},{"owner":{"account_id":4688053,"reputation":2010,"user_id":3794944,"accept_rate":79,"display_name":"Funsaized"},"score":0,"creation_date":1670256027,"post_id":74683115,"comment_id":131828439,"body_markdown":"Eh been a minute, so not 100% on the mixing of specification and @Query; however, I believe you may be correct, good call! In that case the same behavior can be achieved with just Specification and Pageable objects, per your recent comments. I have edited the response to match.","body":"Eh been a minute, so not 100% on the mixing of specification and @Query; however, I believe you may be correct, good call! In that case the same behavior can be achieved with just Specification and Pageable objects, per your recent comments. I have edited the response to match."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261746,"post_id":74683115,"comment_id":131830552,"body_markdown":"Thanks for reply. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well.","body":"Thanks for reply. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261755,"post_id":74683115,"comment_id":131830554,"body_markdown":"I have Recipe, RecipeIngredient (bridge table) and Ingredient tables and they have necessary relationship implementations","body":"I have Recipe, RecipeIngredient (bridge table) and Ingredient tables and they have necessary relationship implementations"}],"tags":[],"owner":{"account_id":4688053,"reputation":2010,"user_id":3794944,"accept_rate":79,"display_name":"Funsaized"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670255981,"creation_date":1670211530,"answer_id":74683115,"question_id":74680426,"body_markdown":"You can use [Specification](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications). To create:\r\n\r\n\r\n    Specification&lt;Entity&gt; spec = (root, query, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    \r\n        // Add conditions to the predicates list\r\n    \r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    };\r\n\r\nThe predicates list is used to hold conditions for the WHERE. You can add conditions to this list using the cb (CriteriaBuilder) object and the root and query parameters. These parameters provide access to the entity and the query being constructed.\r\n\r\nYou can then use the Specification object in a @Query annotation on your repository method to apply the dynamic WHERE clause to the query.\r\n\r\n\r\nRepository example:\r\n\r\n    @Repository\r\n    public interface EntityRepository extends JpaRepository&lt;Entity, Long&gt;, JpaSpecificationExecutor&lt;Entity&gt; {\r\n    \r\n        // Other repository methods\r\n    \r\n        List&lt;Entity&gt; findAll(Specification&lt;Entity&gt; spec, Pageable pageable);\r\n    }\r\n\r\nThe above repository extends the JpaSpecificationExecutor to allow working with the JPA criteria API. The findByFields method also takes a Specification object as an argument. This Specification dynamically constructs the WHERE clause for the query.\r\n\r\nSo running the query:\r\n\r\n    List&lt;Entity&gt; entities = entityRepository.finAll(spec, pageable);\r\n\r\n","title":"How to create custom query using Spring Data JPA Specifications?","body":"<p>You can use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">Specification</a>. To create:</p>\n<pre><code>Specification&lt;Entity&gt; spec = (root, query, cb) -&gt; {\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n    // Add conditions to the predicates list\n\n    return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n};\n</code></pre>\n<p>The predicates list is used to hold conditions for the WHERE. You can add conditions to this list using the cb (CriteriaBuilder) object and the root and query parameters. These parameters provide access to the entity and the query being constructed.</p>\n<p>You can then use the Specification object in a @Query annotation on your repository method to apply the dynamic WHERE clause to the query.</p>\n<p>Repository example:</p>\n<pre><code>@Repository\npublic interface EntityRepository extends JpaRepository&lt;Entity, Long&gt;, JpaSpecificationExecutor&lt;Entity&gt; {\n\n    // Other repository methods\n\n    List&lt;Entity&gt; findAll(Specification&lt;Entity&gt; spec, Pageable pageable);\n}\n</code></pre>\n<p>The above repository extends the JpaSpecificationExecutor to allow working with the JPA criteria API. The findByFields method also takes a Specification object as an argument. This Specification dynamically constructs the WHERE clause for the query.</p>\n<p>So running the query:</p>\n<pre><code>List&lt;Entity&gt; entities = entityRepository.finAll(spec, pageable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670227552,"post_id":74683141,"comment_id":131818390,"body_markdown":"Thanks a lot for your help. Actually I applied a custom filter by following https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/ However, I cannot pass extra filter parameters besides specs to my custom repository method. My method is `Page&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text, @Nullable Specification&lt;Recipe&gt; spec, @Nullable Pageable pageable);`. Any idea?","body":"Thanks a lot for your help. Actually I applied a custom filter by following <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">blog.piinalpin.com/2022/04/&hellip;</a> However, I cannot pass extra filter parameters besides specs to my custom repository method. My method is <code>Page&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text, @Nullable Specification&lt;Recipe&gt; spec, @Nullable Pageable pageable);</code>. Any idea?"},{"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"score":0,"creation_date":1670237751,"post_id":74683141,"comment_id":131821724,"body_markdown":"It&#39;s all the same , at my last few lines of codes shows how to use my `findAll(Specification,Pageble)` method; Just add ur text parameter at `findByFields(text,spec,pageble)` then ur all set;  The WHERE use is all about the Specification;","body":"It&#39;s all the same , at my last few lines of codes shows how to use my <code>findAll(Specification,Pageble)</code> method; Just add ur text parameter at <code>findByFields(text,spec,pageble)</code> then ur all set;  The WHERE use is all about the Specification;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261567,"post_id":74683141,"comment_id":131830499,"body_markdown":"Thanks for reply. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well.","body":"Thanks for reply. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261616,"post_id":74683141,"comment_id":131830514,"body_markdown":"I have Recipe, RecipeIngredient (bridge table) and Ingredient tables and they have necessary relationship implementations.","body":"I have Recipe, RecipeIngredient (bridge table) and Ingredient tables and they have necessary relationship implementations."},{"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"score":0,"creation_date":1670310405,"post_id":74683141,"comment_id":131840602,"body_markdown":"Is it possible for u to attch the code somewhere so I can understand; My english wasn&#39;t that good to understand from ur descriptions;","body":"Is it possible for u to attch the code somewhere so I can understand; My english wasn&#39;t that good to understand from ur descriptions;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670315483,"post_id":74683141,"comment_id":131841959,"body_markdown":"Thanks a lot for your helps, voted up. I added the related entities to [this](https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090) page. I have 3 related entities (Recipe, RecipeIngredient and Ingredient) and while retrieving data from Recipe using `recipeRepository.findAll()` method, I need to pass `ingredient.name` as key parameter (please see **Filter by Name and Sort by Release Date ASC** section on [this](https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/) article that I followed).","body":"Thanks a lot for your helps, voted up. I added the related entities to <a href=\"https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090\">this</a> page. I have 3 related entities (Recipe, RecipeIngredient and Ingredient) and while retrieving data from Recipe using <code>recipeRepository.findAll()</code> method, I need to pass <code>ingredient.name</code> as key parameter (please see <b>Filter by Name and Sort by Release Date ASC</b> section on <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">this</a> article that I followed)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670315486,"post_id":74683141,"comment_id":131841962,"body_markdown":"So, you may first have a look at the answer @M.Denium posted on [that](https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090) page and share your comments based on this answer. Thanks in advance...","body":"So, you may first have a look at the answer @M.Denium posted on <a href=\"https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090\">that</a> page and share your comments based on this answer. Thanks in advance..."},{"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"score":0,"creation_date":1670318561,"post_id":74683141,"comment_id":131842894,"body_markdown":"This answer below is the right answer for ur question; \n  https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090","body":"This answer below is the right answer for ur question;    <a href=\"https://stackoverflow.com/questions/74685356/dynamic-query-with-query-in-spring-data-jpa/74698090#74698090\" title=\"dynamic query with query in spring data jpa\">stackoverflow.com/questions/74685356/&hellip;</a>"}],"tags":[],"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670211861,"creation_date":1670211861,"answer_id":74683141,"question_id":74680426,"body_markdown":"It&#39;s something like this:&lt;br/&gt;\r\n```Java\r\n       Specification&lt;BugData&gt; bugDataSpecification = new Specification&lt;BugData&gt;() {\r\n            @Override\r\n            public Predicate toPredicate(Root&lt;BugData&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n                Path&lt;Object&gt; bugName = root.get(&quot;bugName&quot;);\r\n                Path&lt;Object&gt; bugType = root.get(&quot;bugType&quot;);\r\n                Path&lt;Object&gt; bugLevel = root.get(&quot;bugLevel&quot;);\r\n                List&lt;Predicate&gt; predicateListAnd = new ArrayList&lt;&gt;();\r\n                List&lt;Predicate&gt; predicateListOr = new ArrayList&lt;&gt;();\r\n\r\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugLevel())) {\r\n                    Predicate pLevel = cb.equal(bugLevel, bugRequestParam.getBugLevel()); // ==\r\n                    predicateListAnd.add(pLevel);\r\n                }\r\n                for (int i = 0; i &lt; bugRequestParam.getBugTypeList().size(); i++) {\r\n\r\n                    Predicate p1 = cb.equal(bugType, bugRequestParam.getBugTypeList().get(i));\r\n                    predicateListOr.add(p1);\r\n                }\r\n\r\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugName())) {\r\n                    Expression&lt;Integer&gt; findStr = cb.locate(bugName.as(String.class), bugRequestParam.getBugName());  //LOCATE\r\n                    Predicate pName = cb.greaterThan(findStr, 0);   // &gt;\r\n                    predicateListAnd.add(pName);\r\n                }\r\n                Predicate resultAnd[] = predicateListAnd.toArray(new Predicate[predicateListAnd.size()]);\r\n                Predicate resultOr[] = predicateListOr.toArray(new Predicate[predicateListOr.size()]);\r\n                Predicate end = cb.and(cb.and(resultAnd), cb.or(resultOr));\r\n                return end;\r\n            }\r\n        };\r\n```\r\nThe whole part of this code:&lt;br/&gt;\r\n```Java\r\n    @GetMapping(value = &quot;specification&quot;)\r\n    public List&lt;BugData&gt; whereTiaojian() {\r\n        BugRequestParam bugRequestParam = new BugRequestParam();\r\n        bugRequestParam.setBugLevel(&quot;mid&quot;);\r\n        bugRequestParam.setBugName(&quot;CVE-2019-8331&quot;);\r\n        bugRequestParam.setLimit(100);\r\n        bugRequestParam.setPage(0);\r\n        List&lt;String&gt; bugTypeList = new ArrayList&lt;&gt;(4);\r\n        bugTypeList.add(&quot;CWE-79&quot;);\r\n        bugTypeList.add(&quot;CWE-502&quot;);\r\n        bugTypeList.add(&quot;CWE-284&quot;);\r\n        bugRequestParam.setBugTypeList(bugTypeList);\r\n\r\n        Pageable pageable = PageRequest.of(bugRequestParam.getPage(), bugRequestParam.getLimit());\r\n\r\n        Specification&lt;BugData&gt; bugDataSpecification = new Specification&lt;BugData&gt;() {\r\n            @Override\r\n            public Predicate toPredicate(Root&lt;BugData&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n                Path&lt;Object&gt; bugName = root.get(&quot;bugName&quot;);\r\n                Path&lt;Object&gt; bugType = root.get(&quot;bugType&quot;);\r\n                Path&lt;Object&gt; bugLevel = root.get(&quot;bugLevel&quot;);\r\n                List&lt;Predicate&gt; predicateListAnd = new ArrayList&lt;&gt;();\r\n                List&lt;Predicate&gt; predicateListOr = new ArrayList&lt;&gt;();\r\n\r\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugLevel())) {\r\n                    Predicate pLevel = cb.equal(bugLevel, bugRequestParam.getBugLevel());\r\n                    predicateListAnd.add(pLevel);\r\n                }\r\n                for (int i = 0; i &lt; bugRequestParam.getBugTypeList().size(); i++) {\r\n\r\n                    Predicate p1 = cb.equal(bugType, bugRequestParam.getBugTypeList().get(i));\r\n                    predicateListOr.add(p1);\r\n                }\r\n\r\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugName())) {\r\n                    Expression&lt;Integer&gt; findStr = cb.locate(bugName.as(String.class), bugRequestParam.getBugName());\r\n                    Predicate pName = cb.greaterThan(findStr, 0);\r\n                    predicateListAnd.add(pName);\r\n                }\r\n                Predicate resultAnd[] = predicateListAnd.toArray(new Predicate[predicateListAnd.size()]);\r\n                Predicate resultOr[] = predicateListOr.toArray(new Predicate[predicateListOr.size()]);\r\n                Predicate end = cb.and(cb.and(resultAnd), cb.or(resultOr));\r\n                return end;\r\n            }\r\n        };\r\n        Page&lt;BugData&gt; bugDataPage = bugDataVersionFiveDao.findAll(bugDataSpecification, pageable);\r\n        // This findAll method is the most important part of this all;\r\n        return bugDataPage.getContent();\r\n\r\n    }\r\n\r\n```","title":"How to create custom query using Spring Data JPA Specifications?","body":"<p>It's something like this:<br/></p>\n<pre><code>       Specification&lt;BugData&gt; bugDataSpecification = new Specification&lt;BugData&gt;() {\n            @Override\n            public Predicate toPredicate(Root&lt;BugData&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n                Path&lt;Object&gt; bugName = root.get(&quot;bugName&quot;);\n                Path&lt;Object&gt; bugType = root.get(&quot;bugType&quot;);\n                Path&lt;Object&gt; bugLevel = root.get(&quot;bugLevel&quot;);\n                List&lt;Predicate&gt; predicateListAnd = new ArrayList&lt;&gt;();\n                List&lt;Predicate&gt; predicateListOr = new ArrayList&lt;&gt;();\n\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugLevel())) {\n                    Predicate pLevel = cb.equal(bugLevel, bugRequestParam.getBugLevel()); // ==\n                    predicateListAnd.add(pLevel);\n                }\n                for (int i = 0; i &lt; bugRequestParam.getBugTypeList().size(); i++) {\n\n                    Predicate p1 = cb.equal(bugType, bugRequestParam.getBugTypeList().get(i));\n                    predicateListOr.add(p1);\n                }\n\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugName())) {\n                    Expression&lt;Integer&gt; findStr = cb.locate(bugName.as(String.class), bugRequestParam.getBugName());  //LOCATE\n                    Predicate pName = cb.greaterThan(findStr, 0);   // &gt;\n                    predicateListAnd.add(pName);\n                }\n                Predicate resultAnd[] = predicateListAnd.toArray(new Predicate[predicateListAnd.size()]);\n                Predicate resultOr[] = predicateListOr.toArray(new Predicate[predicateListOr.size()]);\n                Predicate end = cb.and(cb.and(resultAnd), cb.or(resultOr));\n                return end;\n            }\n        };\n</code></pre>\n<p>The whole part of this code:<br/></p>\n<pre><code>    @GetMapping(value = &quot;specification&quot;)\n    public List&lt;BugData&gt; whereTiaojian() {\n        BugRequestParam bugRequestParam = new BugRequestParam();\n        bugRequestParam.setBugLevel(&quot;mid&quot;);\n        bugRequestParam.setBugName(&quot;CVE-2019-8331&quot;);\n        bugRequestParam.setLimit(100);\n        bugRequestParam.setPage(0);\n        List&lt;String&gt; bugTypeList = new ArrayList&lt;&gt;(4);\n        bugTypeList.add(&quot;CWE-79&quot;);\n        bugTypeList.add(&quot;CWE-502&quot;);\n        bugTypeList.add(&quot;CWE-284&quot;);\n        bugRequestParam.setBugTypeList(bugTypeList);\n\n        Pageable pageable = PageRequest.of(bugRequestParam.getPage(), bugRequestParam.getLimit());\n\n        Specification&lt;BugData&gt; bugDataSpecification = new Specification&lt;BugData&gt;() {\n            @Override\n            public Predicate toPredicate(Root&lt;BugData&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n                Path&lt;Object&gt; bugName = root.get(&quot;bugName&quot;);\n                Path&lt;Object&gt; bugType = root.get(&quot;bugType&quot;);\n                Path&lt;Object&gt; bugLevel = root.get(&quot;bugLevel&quot;);\n                List&lt;Predicate&gt; predicateListAnd = new ArrayList&lt;&gt;();\n                List&lt;Predicate&gt; predicateListOr = new ArrayList&lt;&gt;();\n\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugLevel())) {\n                    Predicate pLevel = cb.equal(bugLevel, bugRequestParam.getBugLevel());\n                    predicateListAnd.add(pLevel);\n                }\n                for (int i = 0; i &lt; bugRequestParam.getBugTypeList().size(); i++) {\n\n                    Predicate p1 = cb.equal(bugType, bugRequestParam.getBugTypeList().get(i));\n                    predicateListOr.add(p1);\n                }\n\n                if (!StringUtils.isNullOrEmpty(bugRequestParam.getBugName())) {\n                    Expression&lt;Integer&gt; findStr = cb.locate(bugName.as(String.class), bugRequestParam.getBugName());\n                    Predicate pName = cb.greaterThan(findStr, 0);\n                    predicateListAnd.add(pName);\n                }\n                Predicate resultAnd[] = predicateListAnd.toArray(new Predicate[predicateListAnd.size()]);\n                Predicate resultOr[] = predicateListOr.toArray(new Predicate[predicateListOr.size()]);\n                Predicate end = cb.and(cb.and(resultAnd), cb.or(resultOr));\n                return end;\n            }\n        };\n        Page&lt;BugData&gt; bugDataPage = bugDataVersionFiveDao.findAll(bugDataSpecification, pageable);\n        // This findAll method is the most important part of this all;\n        return bugDataPage.getContent();\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3144,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1670330532,"answer_count":2,"score":1,"last_activity_date":1670255981,"creation_date":1670184119,"question_id":74680426,"body_markdown":"In my Spring Boot app, I created a custom filtering using JPA Specification as mentioned on [Searching And Filtering Using JPA Specification - Spring Boot](https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/). However, I need to join multiple tables and build a `WHERE` clause for my specific search via `@Query`. \r\n\r\nI checked https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications page, but could not build a proper structure.\r\n\r\nSo, how can create a dynamic WHERE clause for my query? ","title":"How to create custom query using Spring Data JPA Specifications?","body":"<p>In my Spring Boot app, I created a custom filtering using JPA Specification as mentioned on <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">Searching And Filtering Using JPA Specification - Spring Boot</a>. However, I need to join multiple tables and build a <code>WHERE</code> clause for my specific search via <code>@Query</code>.</p>\n<p>I checked <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications</a> page, but could not build a proper structure.</p>\n<p>So, how can create a dynamic WHERE clause for my query?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":197511,"reputation":3964,"user_id":441634,"accept_rate":91,"display_name":"JHarnach"},"score":0,"creation_date":1333573692,"post_id":10019205,"comment_id":12811923,"body_markdown":"I can&#39;t believe I overlooked this. Thanks Garrett!","body":"I can&#39;t believe I overlooked this. Thanks Garrett!"},{"owner":{"account_id":48006,"reputation":3395,"user_id":142404,"accept_rate":90,"display_name":"Max"},"score":1,"creation_date":1333573930,"post_id":10019205,"comment_id":12811985,"body_markdown":"And use the MessageFormat class if you would like to format strings in a locale and language independent way.","body":"And use the MessageFormat class if you would like to format strings in a locale and language independent way."}],"tags":[],"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"comment_count":2,"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1415166293,"creation_date":1333573415,"answer_id":10019205,"question_id":10019162,"body_markdown":"# `String.format()`\r\n\r\nSince Java 5, you can use [`String.format`][1] to parametrize Strings. Example:\r\n\r\n    String fs;\r\n    fs = String.format(&quot;The value of the float &quot; +\r\n                       &quot;variable is %f, while &quot; +\r\n                       &quot;the value of the &quot; + \r\n                       &quot;integer variable is %d, &quot; +\r\n                       &quot; and the string is %s&quot;,\r\n                       floatVar, intVar, stringVar);\r\n\r\nSee http://docs.oracle.com/javase/tutorial/java/data/strings.html\r\n\r\nAlternatively, you could just create a wrapper for the `String` to do something more fancy.\r\n\r\n# `MessageFormat`\r\n\r\nPer the comment by [Max][2] and [answer by Affe][3], you can localize your parameterized String with the [`MessageFormat`][4] class.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\r\n  [2]: https://stackoverflow.com/users/142404/max\r\n  [3]: https://stackoverflow.com/a/10019232/642706\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html","title":"Parameterized Strings in Java","body":"<h1><code>String.format()</code></h1>\n\n<p>Since Java 5, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\" rel=\"noreferrer\"><code>String.format</code></a> to parametrize Strings. Example:</p>\n\n<pre><code>String fs;\nfs = String.format(\"The value of the float \" +\n                   \"variable is %f, while \" +\n                   \"the value of the \" + \n                   \"integer variable is %d, \" +\n                   \" and the string is %s\",\n                   floatVar, intVar, stringVar);\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/java/data/strings.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/data/strings.html</a></p>\n\n<p>Alternatively, you could just create a wrapper for the <code>String</code> to do something more fancy.</p>\n\n<h1><code>MessageFormat</code></h1>\n\n<p>Per the comment by <a href=\"https://stackoverflow.com/users/142404/max\">Max</a> and <a href=\"https://stackoverflow.com/a/10019232/642706\">answer by Affe</a>, you can localize your parameterized String with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>MessageFormat</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333573422,"creation_date":1333573422,"answer_id":10019207,"question_id":10019162,"body_markdown":"[Java String formatter][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html","title":"Parameterized Strings in Java","body":"<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\" rel=\"nofollow\">Java String formatter</a></p>\n"},{"tags":[],"owner":{"account_id":60264,"reputation":23015,"user_id":180090,"accept_rate":75,"display_name":"Keith Randall"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1333573450,"creation_date":1333573450,"answer_id":10019214,"question_id":10019162,"body_markdown":"You could use `String.format`.  Something like:\r\n\r\n    String message = String.format(&quot;You requested %2$s but were assigned %1$s&quot;, &quot;foo&quot;, &quot;bar&quot;);\r\n\r\nwill generate\r\n\r\n    &quot;You requested bar but were assigned foo&quot;\r\n","title":"Parameterized Strings in Java","body":"<p>You could use <code>String.format</code>.  Something like:</p>\n\n<pre><code>String message = String.format(\"You requested %2$s but were assigned %1$s\", \"foo\", \"bar\");\n</code></pre>\n\n<p>will generate</p>\n\n<pre><code>\"You requested bar but were assigned foo\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1333573538,"creation_date":1333573538,"answer_id":10019230,"question_id":10019162,"body_markdown":"Well if your String was `final` you sure wouldn&#39;t be able to modify it later. I don&#39;t know if maybe you could find a better use case for that kind of thing as you could simply do:\r\n\r\n    public void addWarning(Element E, String requested, String actual){\r\n\r\n         String warning = &quot;You requested&quot; + requested + &quot; but were assigned &quot; + actual + &quot; instead.&quot;     \r\n         e.setText(warning);\r\n    }","title":"Parameterized Strings in Java","body":"<p>Well if your String was <code>final</code> you sure wouldn't be able to modify it later. I don't know if maybe you could find a better use case for that kind of thing as you could simply do:</p>\n\n<pre><code>public void addWarning(Element E, String requested, String actual){\n\n     String warning = \"You requested\" + requested + \" but were assigned \" + actual + \" instead.\"     \n     e.setText(warning);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7253671,"reputation":186,"user_id":8899019,"display_name":"Teodor Marinescu"},"score":0,"creation_date":1541663730,"post_id":10019232,"comment_id":93295086,"body_markdown":"In my opinion this is the right answer to this question. Thanks!","body":"In my opinion this is the right answer to this question. Thanks!"}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1333573543,"creation_date":1333573543,"answer_id":10019232,"question_id":10019162,"body_markdown":"It is built-in, yes.  The class you&#39;re looking for is [java.text.MessageFormat][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html","title":"Parameterized Strings in Java","body":"<p>It is built-in, yes.  The class you're looking for is <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">java.text.MessageFormat</a></p>\n"},{"comments":[{"owner":{"account_id":197511,"reputation":3964,"user_id":441634,"accept_rate":91,"display_name":"JHarnach"},"score":0,"creation_date":1333573824,"post_id":10019265,"comment_id":12811957,"body_markdown":"localization may become relevant down the road, I hadn&#39;t considered that. Good point.","body":"localization may become relevant down the road, I hadn&#39;t considered that. Good point."}],"tags":[],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333573715,"creation_date":1333573715,"answer_id":10019265,"question_id":10019162,"body_markdown":"I would probably do something like:\r\n\r\n    private final String warning = String.format(&quot;You requested %s but were assigned %s instead.&quot;, requested, actual);\r\n\r\nIf you wanted to put the parameterized string before the call to format the string you could do something like what you see below, although this is less clear.\r\n\r\nNeither of these solutions are inherently localizeable; you may want to consider something like a .properties file if you wish to support non-English locales.\r\n\r\n    private static final String warning = &quot;You requested %s but were assigned %s instead.&quot;;\r\n    \r\n    public void addWarning(Element E, String requested, String actual){\r\n         e.setText(String.format(warning, requested, actual);\r\n         //warning.reset() or something, I haven&#39;t sorted that out yet.\r\n    }\r\n","title":"Parameterized Strings in Java","body":"<p>I would probably do something like:</p>\n\n<pre><code>private final String warning = String.format(\"You requested %s but were assigned %s instead.\", requested, actual);\n</code></pre>\n\n<p>If you wanted to put the parameterized string before the call to format the string you could do something like what you see below, although this is less clear.</p>\n\n<p>Neither of these solutions are inherently localizeable; you may want to consider something like a .properties file if you wish to support non-English locales.</p>\n\n<pre><code>private static final String warning = \"You requested %s but were assigned %s instead.\";\n\npublic void addWarning(Element E, String requested, String actual){\n     e.setText(String.format(warning, requested, actual);\n     //warning.reset() or something, I haven't sorted that out yet.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333574220,"creation_date":1333574220,"answer_id":10019384,"question_id":10019162,"body_markdown":"the [formatter][1] can do this for you (with some extras as adding leading zeroes spacing things out and more)\r\n\r\nprivate static final String warning = &quot;You requested %1$s but were assigned %2$s instead.&quot;;\r\n\r\n    public void addWarning(Element E, String requested, String actual){\r\n         Formatter f = new Formatter();//you&#39;ll need to recreate it each time\r\n         try{\r\n             f.format(warning,requested,actual);\r\n             e.setText(f.out().toString());\r\n        }finally{f.close();}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html\r\n","title":"Parameterized Strings in Java","body":"<p>the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html\" rel=\"nofollow\">formatter</a> can do this for you (with some extras as adding leading zeroes spacing things out and more)</p>\n\n<p>private static final String warning = \"You requested %1$s but were assigned %2$s instead.\";</p>\n\n<pre><code>public void addWarning(Element E, String requested, String actual){\n     Formatter f = new Formatter();//you'll need to recreate it each time\n     try{\n         f.format(warning,requested,actual);\n         e.setText(f.out().toString());\n    }finally{f.close();}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1377766,"reputation":81,"user_id":1311413,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333651893,"creation_date":1333575838,"answer_id":10019694,"question_id":10019162,"body_markdown":"The String class provides the following format method, http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html. For example (as per the original post):\r\n\r\n    private final static String string = &quot;You requested %s but were assigned %s instead.&quot;;\r\n    \r\n    public void addWarning(Element e, String requested, String actual) {\r\n    String warning = String.format(string, requested, actual);\r\n    e.setText(warning);\r\n","title":"Parameterized Strings in Java","body":"<p>The String class provides the following format method, <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html</a>. For example (as per the original post):</p>\n\n<pre><code>private final static String string = \"You requested %s but were assigned %s instead.\";\n\npublic void addWarning(Element e, String requested, String actual) {\nString warning = String.format(string, requested, actual);\ne.setText(warning);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670255693,"creation_date":1670255693,"answer_id":74690905,"question_id":10019162,"body_markdown":"Since Java 15, String has a method `formatted` equivalent to `String.format`.\r\n\r\nSo you can directly use `&quot;var1 is %s, var2 is %s&quot;.formatted(var1, var2);`\r\n\r\n[Java documentation][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html?is-external=true#formatted(java.lang.Object...)","title":"Parameterized Strings in Java","body":"<p>Since Java 15, String has a method <code>formatted</code> equivalent to <code>String.format</code>.</p>\n<p>So you can directly use <code>&quot;var1 is %s, var2 is %s&quot;.formatted(var1, var2);</code></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html?is-external=true#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">Java documentation</a></p>\n"}],"owner":{"account_id":197511,"reputation":3964,"user_id":441634,"accept_rate":91,"display_name":"JHarnach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108420,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":10019205,"answer_count":9,"score":45,"last_activity_date":1670255693,"creation_date":1333573189,"question_id":10019162,"body_markdown":"I find myself very frequently wanting to write reusable strings with parameter placeholders in them, almost exactly like what you&#39;d find in an SQL `PreparedStatement`. \r\n\r\nHere&#39;s an example:\r\n\r\n    private static final String warning = &quot;You requested ? but were assigned ? instead.&quot;;\r\n\r\n    public void addWarning(Element E, String requested, String actual){\r\n\r\n         warning.addParam(0, requested);\r\n         warning.addParam(1, actual);\r\n         e.setText(warning);\r\n         //warning.reset() or something, I haven&#39;t sorted that out yet.\r\n    }\r\n\r\nDoes something like this exist already in Java? Or, is there a better way to address something like this? \r\n\r\nWhat I&#39;m really asking: ***is this ideal?***","title":"Parameterized Strings in Java","body":"<p>I find myself very frequently wanting to write reusable strings with parameter placeholders in them, almost exactly like what you'd find in an SQL <code>PreparedStatement</code>.</p>\n<p>Here's an example:</p>\n<pre><code>private static final String warning = &quot;You requested ? but were assigned ? instead.&quot;;\n\npublic void addWarning(Element E, String requested, String actual){\n\n     warning.addParam(0, requested);\n     warning.addParam(1, actual);\n     e.setText(warning);\n     //warning.reset() or something, I haven't sorted that out yet.\n}\n</code></pre>\n<p>Does something like this exist already in Java? Or, is there a better way to address something like this?</p>\n<p>What I'm really asking: <em><strong>is this ideal?</strong></em></p>\n"},{"tags":["java","maven","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":482571,"reputation":3920,"user_id":897041,"accept_rate":87,"display_name":"Muhammad Gelbana"},"score":1,"creation_date":1537885386,"post_id":8202181,"comment_id":91941468,"body_markdown":"This won&#39;t resolve `org.apache.poi.xssf.eventusermodel.XSSFReader, org.apache.poi.xssf.model.SharedStringsTable, org.apache.poi.openxml4j.opc.OPCPackage` imports.","body":"This won&#39;t resolve <code>org.apache.poi.xssf.eventusermodel.XSSFReader, org.apache.poi.xssf.model.SharedStringsTable, org.apache.poi.openxml4j.opc.OPCPackage</code> imports."},{"owner":{"account_id":21341,"reputation":8170,"user_id":51782,"accept_rate":80,"display_name":"Sri Sankaran"},"score":0,"creation_date":1539804101,"post_id":8202181,"comment_id":92638755,"body_markdown":"@MuhammadGelbana I&#39;m sorry.  I&#39;ve been far removed from this space for several years now.  Please update the answer with the required edits.","body":"@MuhammadGelbana I&#39;m sorry.  I&#39;ve been far removed from this space for several years now.  Please update the answer with the required edits."}],"tags":[],"owner":{"account_id":21341,"reputation":8170,"user_id":51782,"accept_rate":80,"display_name":"Sri Sankaran"},"comment_count":2,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1599573334,"creation_date":1321799385,"answer_id":8202181,"question_id":8202008,"body_markdown":"No, **you** don&#39;t have to include all of _POI_&#39;s dependencies.  Maven&#39;s transitive dependency mechanism will take care of that.  As [noted][1] you just have to express a dependency on the appropriate POI artifact.  For example:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8-beta4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n**Edit(UPDATE):** I don&#39;t know about previous versions but to resolve imports to XSSFWorkbook and other classes in org.apache.poi package you need to add dependency for poi-ooxml too. The dependencies will be:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.apache.poi/poi/3.8-beta4","title":"Required maven dependencies for Apache POI to work","body":"<p>No, <strong>you</strong> don't have to include all of <em>POI</em>'s dependencies.  Maven's transitive dependency mechanism will take care of that.  As <a href=\"http://mvnrepository.com/artifact/org.apache.poi/poi/3.8-beta4\" rel=\"noreferrer\">noted</a> you just have to express a dependency on the appropriate POI artifact.  For example:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.8-beta4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Edit(UPDATE):</strong> I don't know about previous versions but to resolve imports to XSSFWorkbook and other classes in org.apache.poi package you need to add dependency for poi-ooxml too. The dependencies will be:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1395676148,"creation_date":1395669883,"answer_id":22611694,"question_id":8202008,"body_markdown":"For an excel writer you might need the following:\r\n\r\n                &lt;dependency&gt;\r\n                  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n\r\n\r\n            &lt;dependency&gt;\r\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n","title":"Required maven dependencies for Apache POI to work","body":"<p>For an excel writer you might need the following:</p>\n\n<pre><code>            &lt;dependency&gt;\n              &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n              &lt;artifactId&gt;poi&lt;/artifactId&gt;\n              &lt;version&gt;3.10-FINAL&lt;/version&gt;\n           &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n             &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n       &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4463025,"reputation":43,"user_id":3631318,"display_name":"Kishor Gaur"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1400589971,"creation_date":1400588753,"answer_id":23759804,"question_id":8202008,"body_markdown":"ooxml for dealing the .xlsx files and the ooxml refers to the xml, hence we will be needed to refer the below three dependedncies in the pom.xml for the \r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n       &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n       &lt;version&gt;3.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n       &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n       &lt;version&gt;1.4.01&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n       &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n       &lt;version&gt;3.9&lt;/version&gt;\r\n       &lt;exclusions&gt;\r\n         &lt;exclusion&gt;\r\n           &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n           &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n         &lt;/exclusion&gt;\t\t\r\n       &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Required maven dependencies for Apache POI to work","body":"<p>ooxml for dealing the .xlsx files and the ooxml refers to the xml, hence we will be needed to refer the below three dependedncies in the pom.xml for the </p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi&lt;/artifactId&gt;\n   &lt;version&gt;3.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n   &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n   &lt;version&gt;1.4.01&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n   &lt;version&gt;3.9&lt;/version&gt;\n   &lt;exclusions&gt;\n     &lt;exclusion&gt;\n       &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n       &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n     &lt;/exclusion&gt;       \n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1410976612,"post_id":25891233,"comment_id":40532403,"body_markdown":"The stax-api jar and dom4j jar are not needed on the latest release of Apache POI (3.11), so this is not always correct","body":"The stax-api jar and dom4j jar are not needed on the latest release of Apache POI (3.11), so this is not always correct"}],"tags":[],"owner":{"account_id":2310803,"reputation":21,"user_id":2028975,"display_name":"Mahmoud"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410959241,"creation_date":1410958684,"answer_id":25891233,"question_id":8202008,"body_markdown":"If you are not using maven, then you will need **\r\n\r\n\r\n- **poi**\r\n- **poi-ooxml**\r\n- **xmlbeans**\r\n- **dom4j**\r\n- **poi-ooxml-schemas**\r\n- **stax-api**\r\n- **ooxml-schemas**\r\n\r\n","title":"Required maven dependencies for Apache POI to work","body":"<p>If you are not using maven, then you will need **</p>\n\n<ul>\n<li><strong>poi</strong></li>\n<li><strong>poi-ooxml</strong></li>\n<li><strong>xmlbeans</strong></li>\n<li><strong>dom4j</strong></li>\n<li><strong>poi-ooxml-schemas</strong></li>\n<li><strong>stax-api</strong></li>\n<li><strong>ooxml-schemas</strong></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":3,"creation_date":1417517984,"post_id":27242413,"comment_id":42970093,"body_markdown":"Apache POI 3.9 is rather old, why are you suggesting people use that? And the `openxml4j` dependency shouldn&#39;t be needed these days","body":"Apache POI 3.9 is rather old, why are you suggesting people use that? And the <code>openxml4j</code> dependency shouldn&#39;t be needed these days"},{"owner":{"account_id":1075183,"reputation":751,"user_id":5319114,"accept_rate":64,"display_name":"Leo"},"score":0,"creation_date":1517250287,"post_id":27242413,"comment_id":84009867,"body_markdown":"can&#39;t make maven in eclipse recognize any version superior that 3.9. usually it get the job done. Also it&#39;s ridiculous to add 6-7 dependencies for something that was supposed to resolve all the dependencies for a library","body":"can&#39;t make maven in eclipse recognize any version superior that 3.9. usually it get the job done. Also it&#39;s ridiculous to add 6-7 dependencies for something that was supposed to resolve all the dependencies for a library"}],"tags":[],"owner":{"account_id":5420560,"reputation":21,"user_id":4314305,"display_name":"Muthu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417497817,"creation_date":1417497817,"answer_id":27242413,"question_id":8202008,"body_markdown":"I used the below dependency. If you are using Selenium then it&#39;s good to use all of them as below.\r\nElse you will see some errors and then do the reserch and add some more dependencies.\r\n\r\n    &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                     &lt;version&gt;3.9&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                     &lt;version&gt;3.9&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n                     &lt;version&gt;3.9&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n                     &lt;version&gt;3.9&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\r\n                     &lt;version&gt;1.1&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n\r\n              &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;openxml4j&lt;/artifactId&gt;\r\n                     &lt;version&gt;1.0-beta&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n","title":"Required maven dependencies for Apache POI to work","body":"<p>I used the below dependency. If you are using Selenium then it's good to use all of them as below.\nElse you will see some errors and then do the reserch and add some more dependencies.</p>\n\n<pre><code>&lt;dependency&gt;\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                 &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                 &lt;version&gt;3.9&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                 &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                 &lt;version&gt;3.9&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                 &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n                 &lt;version&gt;3.9&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                 &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n                 &lt;version&gt;3.9&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                 &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\n                 &lt;version&gt;1.1&lt;/version&gt;\n          &lt;/dependency&gt;\n\n          &lt;dependency&gt;\n                 &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                 &lt;artifactId&gt;openxml4j&lt;/artifactId&gt;\n                 &lt;version&gt;1.0-beta&lt;/version&gt;\n          &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1419325305,"post_id":27616178,"comment_id":43655368,"body_markdown":"Why are you suggesting an old version? Surely 3.11, the latest stable version, would be better?","body":"Why are you suggesting an old version? Surely 3.11, the latest stable version, would be better?"}],"tags":[],"owner":{"account_id":5054136,"reputation":3220,"user_id":4057865,"accept_rate":100,"display_name":"Green Lei"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419321110,"creation_date":1419321110,"answer_id":27616178,"question_id":8202008,"body_markdown":"        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Required maven dependencies for Apache POI to work","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.10-FINAL&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9693906,"reputation":53,"user_id":7191070,"display_name":"Tanmay Vaishya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481698667,"creation_date":1481698667,"answer_id":41136558,"question_id":8202008,"body_markdown":"Add this dependency to work with Apache POI\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.16-beta1&lt;/version&gt;\r\n\t &lt;/dependency&gt;","title":"Required maven dependencies for Apache POI to work","body":"<p>Add this dependency to work with Apache POI</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;3.16-beta1&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7783106,"reputation":508,"user_id":5888901,"accept_rate":38,"display_name":"mustafa918"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491990305,"creation_date":1491990305,"answer_id":43366000,"question_id":8202008,"body_markdown":"this is the list of maven artifact id for all poi component.\r\nin this link http://poi.apache.org/overview.html#components","title":"Required maven dependencies for Apache POI to work","body":"<p>this is the list of maven artifact id for all poi component.\nin this link <a href=\"http://poi.apache.org/overview.html#components\" rel=\"nofollow noreferrer\">http://poi.apache.org/overview.html#components</a></p>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1495015023,"post_id":43951782,"comment_id":75069778,"body_markdown":"The same version of &quot;poi&quot; and &quot;poi-ooxml&quot; should be used","body":"The same version of &quot;poi&quot; and &quot;poi-ooxml&quot; should be used"}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495014981,"creation_date":1494669701,"answer_id":43951782,"question_id":8202008,"body_markdown":"The following works for me:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.16&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.16&lt;/version&gt;\r\n    \t&lt;/dependency&gt;","title":"Required maven dependencies for Apache POI to work","body":"<p>The following works for me:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.16&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17129950,"reputation":19,"user_id":12396260,"display_name":"Anshul Vij"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1574152130,"creation_date":1574152130,"answer_id":58929582,"question_id":8202008,"body_markdown":"There are multiple jars which are required for your **APACHE POI** to work with your application.\r\n\r\n*List of JAR file:-*\r\n\r\n 1. poi-4.1.0\r\n 2. poi-ooxml-4.1.0\r\n 3. commons-collections4-4.3\r\n 4. commons-compress-1.18\r\n 5. xmlbeans-3.1.0\r\n 6. poi-ooxml-schemas-3.9\r\n 7. dom4j-1.6.1\r\n\r\n","title":"Required maven dependencies for Apache POI to work","body":"<p>There are multiple jars which are required for your <strong>APACHE POI</strong> to work with your application.</p>\n\n<p><em>List of JAR file:-</em></p>\n\n<ol>\n<li>poi-4.1.0</li>\n<li>poi-ooxml-4.1.0</li>\n<li>commons-collections4-4.3</li>\n<li>commons-compress-1.18</li>\n<li>xmlbeans-3.1.0</li>\n<li>poi-ooxml-schemas-3.9</li>\n<li>dom4j-1.6.1</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19001195,"reputation":54,"user_id":13868564,"display_name":"Srayan Ray"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1611130184,"creation_date":1611130184,"answer_id":65805416,"question_id":8202008,"body_markdown":"Add these dependencies to your maven pom.xml . It will take care of all of the imports including OPCpackage\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Required maven dependencies for Apache POI to work","body":"<p>Add these dependencies to your maven pom.xml . It will take care of all of the imports including OPCpackage</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619709041,"creation_date":1619709041,"answer_id":67320135,"question_id":8202008,"body_markdown":"To read an Excel file with Apache POI 5.0.0 like this:\r\n\r\n    Workbook wb = WorkbookFactory.create(myFile);\r\n\r\n\r\n... the following libraries are required (latest versions as I&#39;m typing this):\r\n\r\n - commons-collections4-4.4.jar ([link][1])\r\n - commons-compress-1.20.jar ([link][2])\r\n - log4j-api-2.14.1.jar ([link][3])\r\n - log4j-core-2.14.1.jar (downloaded with ^)\r\n - poi-5.0.0.jar ([link][4])\r\n - poi-ooxml-5.0.0.jar (downloaded with ^)\r\n - poi-ooxml-lite-5.0.0.jar / poi-ooxml-full-5.0.0.jar (use only one, downloaded with ^)\r\n - xmlbeans-5.0.0.jar ([link][5])\r\n\r\nIf `myFile` is a &quot;.xls&quot; file, one more library has to be added:\r\n\r\n - commons-math3-3.6.1.jar ([link][6])\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/\r\n  [2]: https://commons.apache.org/proper/commons-compress/\r\n  [3]: https://logging.apache.org/log4j\r\n  [4]: https://poi.apache.org/\r\n  [5]: http://xmlbeans.apache.org/\r\n  [6]: https://commons.apache.org/proper/commons-math/","title":"Required maven dependencies for Apache POI to work","body":"<p>To read an Excel file with Apache POI 5.0.0 like this:</p>\n<pre><code>Workbook wb = WorkbookFactory.create(myFile);\n</code></pre>\n<p>... the following libraries are required (latest versions as I'm typing this):</p>\n<ul>\n<li>commons-collections4-4.4.jar (<a href=\"http://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">link</a>)</li>\n<li>commons-compress-1.20.jar (<a href=\"https://commons.apache.org/proper/commons-compress/\" rel=\"nofollow noreferrer\">link</a>)</li>\n<li>log4j-api-2.14.1.jar (<a href=\"https://logging.apache.org/log4j\" rel=\"nofollow noreferrer\">link</a>)</li>\n<li>log4j-core-2.14.1.jar (downloaded with ^)</li>\n<li>poi-5.0.0.jar (<a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">link</a>)</li>\n<li>poi-ooxml-5.0.0.jar (downloaded with ^)</li>\n<li>poi-ooxml-lite-5.0.0.jar / poi-ooxml-full-5.0.0.jar (use only one, downloaded with ^)</li>\n<li>xmlbeans-5.0.0.jar (<a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">link</a>)</li>\n</ul>\n<p>If <code>myFile</code> is a &quot;.xls&quot; file, one more library has to be added:</p>\n<ul>\n<li>commons-math3-3.6.1.jar (<a href=\"https://commons.apache.org/proper/commons-math/\" rel=\"nofollow noreferrer\">link</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19020821,"reputation":1,"user_id":13884932,"display_name":"Vaibhav Nalawade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633329772,"creation_date":1633329772,"answer_id":69431853,"question_id":8202008,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.dolphin&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;excel&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;excel&lt;/name&gt;\r\n\t&lt;description&gt;Excel Sheet Import Into Databse Using SpringBoot And Apache Worbook&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nThe Main Code For Apache POI Then Update Update Maven Project\r\n\r\n    &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis Will Work","title":"Required maven dependencies for Apache POI to work","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.5.5\n \n\ncom.dolphin\nexcel\n0.0.1-SNAPSHOT\nexcel\nExcel Sheet Import Into Databse Using SpringBoot And Apache Worbook\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n          &lt;artifactId&gt;poi&lt;/artifactId&gt;\n          &lt;version&gt;3.10-FINAL&lt;/version&gt;\n       &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The Main Code For Apache POI Then Update Update Maven Project</p>\n<pre><code>&lt;dependency&gt;\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n          &lt;artifactId&gt;poi&lt;/artifactId&gt;\n          &lt;version&gt;3.10-FINAL&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This Will Work</p>\n"},{"tags":[],"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652700916,"creation_date":1652700916,"answer_id":72258572,"question_id":8202008,"body_markdown":"Apache POI has mainly two libraries, \r\n1. To process Excel &#39;97-2007 file format (.xls), called HSSF workbook.\r\n2. To process Excel 2007 OOXML (.xlsx), called XSSF workbook.\r\n\r\nYou can add anyone depend on your need. Difference can be found [here](https://poi.apache.org/components/spreadsheet/index.html).\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Required maven dependencies for Apache POI to work","body":"<p>Apache POI has mainly two libraries,</p>\n<ol>\n<li>To process Excel '97-2007 file format (.xls), called HSSF workbook.</li>\n<li>To process Excel 2007 OOXML (.xlsx), called XSSF workbook.</li>\n</ol>\n<p>You can add anyone depend on your need. Difference can be found <a href=\"https://poi.apache.org/components/spreadsheet/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14461190,"reputation":161,"user_id":10445963,"display_name":"ChoKaPeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670255658,"creation_date":1670255658,"answer_id":74690888,"question_id":8202008,"body_markdown":"Since POI 5.0.0, some housekeeping has been done:\r\n\r\nAccording to [the official FAQ](https://poi.apache.org/help/faq.html#faq-N10025):\r\n- `poi-ooxml-full` was previously known as `ooxml-schemas`\r\n- `poi-ooxml-lite` was previously known as `poi-ooxml-schemas`\r\n\r\nAccording to [the official components list](https://poi.apache.org/components/index.html#components):\r\n- `poi-ooxml` now transparently requires `poi-ooxml-lite`\r\n\r\nAs @mustafa918 noticed, you should refer to https://poi.apache.org/components/index.html#components to find out which dependency you need. To work with XLS, `poi` will be enough; for XLSX you will need to add `poi-ooxml`","title":"Required maven dependencies for Apache POI to work","body":"<p>Since POI 5.0.0, some housekeeping has been done:</p>\n<p>According to <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">the official FAQ</a>:</p>\n<ul>\n<li><code>poi-ooxml-full</code> was previously known as <code>ooxml-schemas</code></li>\n<li><code>poi-ooxml-lite</code> was previously known as <code>poi-ooxml-schemas</code></li>\n</ul>\n<p>According to <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\">the official components list</a>:</p>\n<ul>\n<li><code>poi-ooxml</code> now transparently requires <code>poi-ooxml-lite</code></li>\n</ul>\n<p>As @mustafa918 noticed, you should refer to <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/index.html#components</a> to find out which dependency you need. To work with XLS, <code>poi</code> will be enough; for XLSX you will need to add <code>poi-ooxml</code></p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183024,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":8202181,"answer_count":15,"score":36,"last_activity_date":1670255658,"creation_date":1321797738,"question_id":8202008,"body_markdown":"I want to use Apache POI library to parse excel files (old versions and newer versions of excel). So I was wondering what jars do i need to include from the Apache POI because in following link:\r\n\r\nhttp://mvnrepository.com/artifact/org.apache.poi\r\n\r\nI found lots of jars to be included, do I need to include them all?\r\n\r\nIf so, what is the latest stable version to be included, and does it work with Microsoft&#39;s Office 2010?","title":"Required maven dependencies for Apache POI to work","body":"<p>I want to use Apache POI library to parse excel files (old versions and newer versions of excel). So I was wondering what jars do i need to include from the Apache POI because in following link:</p>\n\n<p><a href=\"http://mvnrepository.com/artifact/org.apache.poi\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.apache.poi</a></p>\n\n<p>I found lots of jars to be included, do I need to include them all?</p>\n\n<p>If so, what is the latest stable version to be included, and does it work with Microsoft's Office 2010?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-dataset"],"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":2,"creation_date":1670260807,"post_id":74690692,"comment_id":131830264,"body_markdown":"Running spark on cluster my give different results from your local run propably because data is shuffled in the cluster, however it should always give the correct answer, it seems that your approach is indeterministic, so probably the problem either in your code, or data in the cluster is different or baddly consumed, can you share code/data that reproduce your problem ?","body":"Running spark on cluster my give different results from your local run propably because data is shuffled in the cluster, however it should always give the correct answer, it seems that your approach is indeterministic, so probably the problem either in your code, or data in the cluster is different or baddly consumed, can you share code/data that reproduce your problem ?"}],"owner":{"account_id":8492744,"reputation":63,"user_id":9022604,"display_name":"JoeHills"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670255594,"creation_date":1670254729,"question_id":74690692,"body_markdown":"I experience some problems with a spark job I have. The job consists of some joins, repartition, followed by Map, groupbykey (with a string key) and eventually Aggregate using a commutative and associative agregator. I use Dataset API and kryo serialization in order to use generic objects in the dataset. \r\n\r\nMy problem is that I get different results when running on the cluster vs local run. Local runs result the same correct output every time but the cluster runs result different and incorrect output. Moreover, the output differs between different runs in the cluster. \r\nI don&#39;t use any approximation operation, nor float values as keys. My guess is that it has something to do with the partitions or the execution over several executors though I have no further ideas. I&#39;ll be glad to hear any suggestions:)","title":"Spark different result local run vs run on cluster","body":"<p>I experience some problems with a spark job I have. The job consists of some joins, repartition, followed by Map, groupbykey (with a string key) and eventually Aggregate using a commutative and associative agregator. I use Dataset API and kryo serialization in order to use generic objects in the dataset.</p>\n<p>My problem is that I get different results when running on the cluster vs local run. Local runs result the same correct output every time but the cluster runs result different and incorrect output. Moreover, the output differs between different runs in the cluster.\nI don't use any approximation operation, nor float values as keys. My guess is that it has something to do with the partitions or the execution over several executors though I have no further ideas. I'll be glad to hear any suggestions:)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1670254793,"post_id":74690694,"comment_id":131827950,"body_markdown":"Please be more specific than &quot;It doesn&#39;t works&quot;.","body":"Please be more specific than &quot;It doesn&#39;t works&quot;."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1670255078,"post_id":74690694,"comment_id":131828054,"body_markdown":"If you want to print horizontally, then you can&#39;t finish one pattern first and then begin the second, because the terminal always operates row-wise. You need to rework your algorithm so that every part that should lie on the first row is printed completely, then the second one completely and so on.","body":"If you want to print horizontally, then you can&#39;t finish one pattern first and then begin the second, because the terminal always operates row-wise. You need to rework your algorithm so that every part that should lie on the first row is printed completely, then the second one completely and so on."}],"answers":[{"tags":[],"owner":{"account_id":16209146,"reputation":29,"user_id":11703638,"display_name":"Andres Carrasquilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670255387,"creation_date":1670255387,"answer_id":74690827,"question_id":74690694,"body_markdown":"You must change the way they are doing the algorithm.\r\nYou must first get everything you want to print, and then paint them line by line.","title":"How to make horizonal star patterns?","body":"<p>You must change the way they are doing the algorithm.\nYou must first get everything you want to print, and then paint them line by line.</p>\n"},{"tags":[],"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670255411,"creation_date":1670255411,"answer_id":74690833,"question_id":74690694,"body_markdown":"You are appending a line separator after every line of *&#39;s.\r\n\r\n    stringBuilder.append(System.getProperty(&quot;line.separator&quot;))\r\n \r\nThis means that when it&#39;s building the second diamond shape, it&#39;s starting on the next line below the bottom of the first diamond. The second diamond will be below the first diamond because of this.\r\n\r\nYou will need to build the two diamonds at the same time, \r\ne.g. append the 1st line of *&#39;s for the first diamond, then the 1st line of *&#39;s for the second diamond, then a new line.\r\nRepeat until all lines have been appended.","title":"How to make horizonal star patterns?","body":"<p>You are appending a line separator after every line of *'s.</p>\n<pre><code>stringBuilder.append(System.getProperty(&quot;line.separator&quot;))\n</code></pre>\n<p>This means that when it's building the second diamond shape, it's starting on the next line below the bottom of the first diamond. The second diamond will be below the first diamond because of this.</p>\n<p>You will need to build the two diamonds at the same time,\ne.g. append the 1st line of *'s for the first diamond, then the 1st line of *'s for the second diamond, then a new line.\nRepeat until all lines have been appended.</p>\n"}],"owner":{"account_id":16866062,"reputation":79,"user_id":12195745,"display_name":"Mj choi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74690833,"answer_count":2,"score":-3,"last_activity_date":1670255411,"creation_date":1670254731,"question_id":74690694,"body_markdown":"If I want to make below picture likes horizonal star patterns, how to make it?\r\n\r\nI want to make this :\r\n\r\n```  \r\n  *           *\r\n ***         ***\r\n*****       *****\r\n ***         ***\r\n  *           *\r\n```\r\nBut in my code print like this (It doesn&#39;t works)\r\n```\r\n  *\r\n ***\r\n*****\r\n ***\r\n  *\r\n    *\r\n   ***\r\n  *****\r\n *******\r\n*********\r\n *******\r\n  *****\r\n   ***\r\n    *\r\n```\r\nhere is my code\r\nI try to make first picture to use Stringbuiler, It doesn&#39;t works..\r\nPlease tell me any idea.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        test(3,stringBuilder);\r\n        test(5,stringBuilder);\r\n        print(stringBuilder);\r\n    }\r\n\r\n    public static void test(int n,StringBuilder stringBuilder){\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            for(int j=0;j&lt;n-i-1;j++){\r\n                stringBuilder.append(&quot; &quot;);\r\n            }\r\n            for(int k=0;k&lt;2*i+1;k++){\r\n                stringBuilder.append(&quot;*&quot;);\r\n            }\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n        }\r\n\r\n        for(int i=n-1;i&gt;0;i--)\r\n        {\r\n            for(int j=n-1;j&gt;=i;j--){\r\n                stringBuilder.append(&quot; &quot;);\r\n            }\r\n            for(int k=2*i-1;k&gt;0;k--){\r\n                stringBuilder.append(&quot;*&quot;);\r\n            }\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n        }\r\n    }\r\n\r\n    public static void print(StringBuilder stringBuilder){\r\n        System.out.println(stringBuilder);\r\n    }\r\n```\r\n\r\n\r\n","title":"How to make horizonal star patterns?","body":"<p>If I want to make below picture likes horizonal star patterns, how to make it?</p>\n<p>I want to make this :</p>\n<pre><code>  *           *\n ***         ***\n*****       *****\n ***         ***\n  *           *\n</code></pre>\n<p>But in my code print like this (It doesn't works)</p>\n<pre><code>  *\n ***\n*****\n ***\n  *\n    *\n   ***\n  *****\n *******\n*********\n *******\n  *****\n   ***\n    *\n</code></pre>\n<p>here is my code\nI try to make first picture to use Stringbuiler, It doesn't works..\nPlease tell me any idea.</p>\n<pre><code>    public static void main(String[] args) {\n        StringBuilder stringBuilder = new StringBuilder();\n        test(3,stringBuilder);\n        test(5,stringBuilder);\n        print(stringBuilder);\n    }\n\n    public static void test(int n,StringBuilder stringBuilder){\n        for(int i=0;i&lt;n;i++)\n        {\n            for(int j=0;j&lt;n-i-1;j++){\n                stringBuilder.append(&quot; &quot;);\n            }\n            for(int k=0;k&lt;2*i+1;k++){\n                stringBuilder.append(&quot;*&quot;);\n            }\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\n        }\n\n        for(int i=n-1;i&gt;0;i--)\n        {\n            for(int j=n-1;j&gt;=i;j--){\n                stringBuilder.append(&quot; &quot;);\n            }\n            for(int k=2*i-1;k&gt;0;k--){\n                stringBuilder.append(&quot;*&quot;);\n            }\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\n        }\n    }\n\n    public static void print(StringBuilder stringBuilder){\n        System.out.println(stringBuilder);\n    }\n</code></pre>\n"},{"tags":["java","heroku","reflection","completable-future","java-17"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":3,"creation_date":1637190666,"post_id":69943595,"comment_id":123763484,"body_markdown":"Could you provide the full stacktrace of the exception?","body":"Could you provide the full stacktrace of the exception?"},{"owner":{"account_id":8699022,"reputation":69,"user_id":6509544,"display_name":"Paride Rama"},"score":0,"creation_date":1637242796,"post_id":69943595,"comment_id":123777633,"body_markdown":"This is the only message I have.\nI receive this message calling a rest controller with Postman.\nI have the message only in dev environment, not on local environment.\nThe problem was related to CompletableFuture Instrumentation on New Relic.\nI need to deactivate it, and now the app works","body":"This is the only message I have. I receive this message calling a rest controller with Postman. I have the message only in dev environment, not on local environment. The problem was related to CompletableFuture Instrumentation on New Relic. I need to deactivate it, and now the app works"}],"answers":[{"tags":[],"owner":{"account_id":91652,"reputation":458,"user_id":251542,"display_name":"Andr&#233; Onuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670254839,"creation_date":1638226206,"answer_id":70162286,"question_id":69943595,"body_markdown":"This error relates to [this bug][1], which is being investigating.\r\n\r\nCurrently the workaround is to disable CompletableFuture instrumentation.\r\nThat can be done by adding the following to your newrelic.yml, under the common stanza:\r\n\r\n      class_transformer:\r\n        com.newrelic.instrumentation.java.completable-future-jdk8u40:\r\n          enabled: false\r\n\r\n\r\n  [1]: https://github.com/newrelic/newrelic-java-agent/issues/526\r\n\r\nUpdate 2022-02-23: The bug in New Relic was caused by this bug in Java 17: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8282241\r\n\r\nUpdate 2022-07-29: Java 19 early releases already contains a fix. Should be fixed in Java 17.0.5, to be released in Oct 2022.\r\n\r\nUpdate 2022-10-19: Java 17.0.5 has been released with the fix to the bug that caused this issue.","title":"java.lang.reflect.GenericSignatureFormatError for CompletableFuture after Java update to 17 version","body":"<p>This error relates to <a href=\"https://github.com/newrelic/newrelic-java-agent/issues/526\" rel=\"nofollow noreferrer\">this bug</a>, which is being investigating.</p>\n<p>Currently the workaround is to disable CompletableFuture instrumentation.\nThat can be done by adding the following to your newrelic.yml, under the common stanza:</p>\n<pre><code>  class_transformer:\n    com.newrelic.instrumentation.java.completable-future-jdk8u40:\n      enabled: false\n</code></pre>\n<p>Update 2022-02-23: The bug in New Relic was caused by this bug in Java 17: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8282241\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8282241</a></p>\n<p>Update 2022-07-29: Java 19 early releases already contains a fix. Should be fixed in Java 17.0.5, to be released in Oct 2022.</p>\n<p>Update 2022-10-19: Java 17.0.5 has been released with the fix to the bug that caused this issue.</p>\n"}],"owner":{"account_id":8699022,"reputation":69,"user_id":6509544,"display_name":"Paride Rama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670254839,"creation_date":1636723444,"question_id":69943595,"body_markdown":"I have updated the Java version of our company application from 8 to 17.\r\nOn local machine it works fine, both in building and on run-time calls.\r\nAlso on GitHub it is deployed fine, along with the Junit test execution.\r\n\r\nThe problem is after I deploy the application on Heroku.\r\nThe Heroku build is on success, but on runtime, when I call the methods, I receive this error:\r\n\r\n    &quot;message&quot;: &quot;Handler dispatch failed; nested exception is java.lang.reflect.GenericSignatureFormatError: Signature Parse error: expected a class type\\n\\tRemaining input: java/util/concurrent/CompletableFuture&quot;,\r\n\r\nIt&#39;s something related to java reflection methods and the method&#39;s signature.\r\nMy controller rest method return a CompletableFuture Object.\r\nSomething is not good with the CompletableFuture.........","title":"java.lang.reflect.GenericSignatureFormatError for CompletableFuture after Java update to 17 version","body":"<p>I have updated the Java version of our company application from 8 to 17.\nOn local machine it works fine, both in building and on run-time calls.\nAlso on GitHub it is deployed fine, along with the Junit test execution.</p>\n<p>The problem is after I deploy the application on Heroku.\nThe Heroku build is on success, but on runtime, when I call the methods, I receive this error:</p>\n<pre><code>&quot;message&quot;: &quot;Handler dispatch failed; nested exception is java.lang.reflect.GenericSignatureFormatError: Signature Parse error: expected a class type\\n\\tRemaining input: java/util/concurrent/CompletableFuture&quot;,\n</code></pre>\n<p>It's something related to java reflection methods and the method's signature.\nMy controller rest method return a CompletableFuture Object.\nSomething is not good with the CompletableFuture.........</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1670228108,"post_id":74685015,"comment_id":131818530,"body_markdown":"Step through your code with a debugger. At the point when you encounter the second `0`, you will see that you have one `i++` &quot;too much&quot;, which makes you not enter the `while` again. Because your `while` is exited when the index points to the `0` in the array - and your `for` loop increases the index for the next loop iteration.","body":"Step through your code with a debugger. At the point when you encounter the second <code>0</code>, you will see that you have one <code>i++</code> &quot;too much&quot;, which makes you not enter the <code>while</code> again. Because your <code>while</code> is exited when the index points to the <code>0</code> in the array - and your <code>for</code> loop increases the index for the next loop iteration."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670228971,"post_id":74685015,"comment_id":131818812,"body_markdown":"Furthermore, you have to initialize you variable &#39;count&#39; to 0 at the beginning of the &#39;for&#39; loop, otherwise you code will continue to increase the &#39;count&#39; value and it will return 13 instead of 9","body":"Furthermore, you have to initialize you variable &#39;count&#39; to 0 at the beginning of the &#39;for&#39; loop, otherwise you code will continue to increase the &#39;count&#39; value and it will return 13 instead of 9"}],"answers":[{"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1670231215,"post_id":74685256,"comment_id":131819501,"body_markdown":"Thanks @IvanDvurechenskiy, I fixed that issue.","body":"Thanks @IvanDvurechenskiy, I fixed that issue."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1670246847,"post_id":74685256,"comment_id":131824875,"body_markdown":"I suggest a slight improvement: if you initialize with `count= - &quot;some large number&quot;; maxCount= 0;`, you can dispense yourself with the test `count &gt;= 0`. For the large number, the array length can do.","body":"I suggest a slight improvement: if you initialize with <code>count= - &quot;some large number&quot;; maxCount= 0;</code>, you can dispense yourself with the test <code>count &gt;= 0</code>. For the large number, the array length can do."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1670247393,"post_id":74685256,"comment_id":131825074,"body_markdown":"I added a version that gets rid of `count++` as well.","body":"I added a version that gets rid of <code>count++</code> as well."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670247343,"creation_date":1670228895,"answer_id":74685256,"question_id":74685015,"body_markdown":"Some issues:\r\n\r\n* The inner loop may run `i` out of the array&#39;s range.\r\n* When you find the *ending* zero, your code does not take into account that this zero is also the start of a new group, and &quot;misses&quot; it.\r\n* `count` is never reset to zero, so it keeps increasing also when you get into a second &quot;group&quot;\r\n* `maxCount` is set unconditionally, yet it should only be updated if the new count is greater than the count you already got.\r\n* There is no provision for when there is no group at all. I would suggest to return -1 in that case, so to differentiate it from the case where there *is* a group of length 0. This -1 should then be the initial value of the counts.\r\n\r\nAlso:\r\n\r\n* It is strange that the outer loop condition is made more strict by the `if` condition at the top of your loop. So why not make that `i&lt; arr.length-2` the loop condition?\r\n\r\nHere is a correction of your attempt:\r\n\r\n```\r\nstatic int solution(int[] arr) {\r\n    int count = -1; // Start with invalid count\r\n    int maxCount = -1;\r\n\r\n    for (int i = 0; i &lt; arr.length - 2; i++) { // Stricter loop condition\r\n        if (arr[i] == 0) {\r\n            count = 0; // Reset counter\r\n            // Safety &amp; Look ahead for zero\r\n            while (i + 1 &lt; arr.length &amp;&amp; arr[i + 1] != 0) {\r\n                count++;\r\n                i++;\r\n            }\r\n            if (i + 1 &gt;= arr.length) break; // No ending zero found\r\n            // Only update if improvement\r\n            if (count &gt; maxCount) maxCount = count;\r\n        }\r\n    }\r\n    return maxCount;\r\n}\r\n```\r\n\r\nYou can however reduce the code a bit by using the outer loop to do the job of the inner loop:\r\n\r\n```\r\nstatic int solution(int[] arr) {\r\n    // Start with a count that can safely increment with `++` without getting positive\r\n    int count = -arr.length; \r\n    int maxCount = -1;\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] == 0) {\r\n            if (count &gt; maxCount) maxCount = count;\r\n            count = 0; // Start of a potential new group\r\n        } else {\r\n            count++;\r\n        }\r\n    }\r\n    return maxCount;\r\n}\r\n```\r\n\r\nAnd instead of maintaining `count` you could maintain the last starting index of a group:\r\n\r\n```\r\nstatic int solution(int[] arr) {\r\n    int start = arr.length; // Invalid start index\r\n    int maxCount = -1;\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] == 0) {\r\n            if (i - start &gt; maxCount) maxCount = i - start;\r\n            start = i + 1;\r\n        }\r\n    }\r\n}\r\n```","title":"Write a function that returns the maximum quantity of non-zero elements between two zero elements","body":"<p>Some issues:</p>\n<ul>\n<li>The inner loop may run <code>i</code> out of the array's range.</li>\n<li>When you find the <em>ending</em> zero, your code does not take into account that this zero is also the start of a new group, and &quot;misses&quot; it.</li>\n<li><code>count</code> is never reset to zero, so it keeps increasing also when you get into a second &quot;group&quot;</li>\n<li><code>maxCount</code> is set unconditionally, yet it should only be updated if the new count is greater than the count you already got.</li>\n<li>There is no provision for when there is no group at all. I would suggest to return -1 in that case, so to differentiate it from the case where there <em>is</em> a group of length 0. This -1 should then be the initial value of the counts.</li>\n</ul>\n<p>Also:</p>\n<ul>\n<li>It is strange that the outer loop condition is made more strict by the <code>if</code> condition at the top of your loop. So why not make that <code>i&lt; arr.length-2</code> the loop condition?</li>\n</ul>\n<p>Here is a correction of your attempt:</p>\n<pre><code>static int solution(int[] arr) {\n    int count = -1; // Start with invalid count\n    int maxCount = -1;\n\n    for (int i = 0; i &lt; arr.length - 2; i++) { // Stricter loop condition\n        if (arr[i] == 0) {\n            count = 0; // Reset counter\n            // Safety &amp; Look ahead for zero\n            while (i + 1 &lt; arr.length &amp;&amp; arr[i + 1] != 0) {\n                count++;\n                i++;\n            }\n            if (i + 1 &gt;= arr.length) break; // No ending zero found\n            // Only update if improvement\n            if (count &gt; maxCount) maxCount = count;\n        }\n    }\n    return maxCount;\n}\n</code></pre>\n<p>You can however reduce the code a bit by using the outer loop to do the job of the inner loop:</p>\n<pre><code>static int solution(int[] arr) {\n    // Start with a count that can safely increment with `++` without getting positive\n    int count = -arr.length; \n    int maxCount = -1;\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] == 0) {\n            if (count &gt; maxCount) maxCount = count;\n            count = 0; // Start of a potential new group\n        } else {\n            count++;\n        }\n    }\n    return maxCount;\n}\n</code></pre>\n<p>And instead of maintaining <code>count</code> you could maintain the last starting index of a group:</p>\n<pre><code>static int solution(int[] arr) {\n    int start = arr.length; // Invalid start index\n    int maxCount = -1;\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] == 0) {\n            if (i - start &gt; maxCount) maxCount = i - start;\n            start = i + 1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1196549"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670234379,"creation_date":1670232076,"answer_id":74685862,"question_id":74685015,"body_markdown":"This problem can be solved in a single pass. Observe the counts of non-zero elements when progressing from left to right:\r\n\r\n    1,2,0,2,3,4,5,0,1,2,3,4,5,6,7,8,8,0,1\r\n    - - 0 1 2 3 4 0 1 2 3 4 5 6 7 8 9 0 1\r\n\r\nNow consider the partial solution for the left subarray processed\r\n\r\n    1,2,0,2,3,4,5,0,1,2,3,4,5,6,7,8,8,0,1\r\n    - - 0 1 2 3 4 0 1 2 3 4 5 6 7 8 9 0 1\r\n    0 0 0 0 0 0 0 4 4 4 4 4 4 4 4 4 4 9 9\r\n\r\nThis tells you how to solve:\r\n\r\n- keep a counter of the number of non-zero elements since the previous zero.  (Increment on nonzero, reset to zero on zero.)\r\n\r\n- keep the &quot;answer&quot; updated: every time you see a zero, keep the largest of the counter and the current answer, initially zero.\r\n\r\nFor the initial elements, it suffices to keep the count negative so that it does not influence the answer. A safe option is to initialize with minus the length of the list.\r\n\r\n----------\r\nTechnically, the loop is based on an invariant expressing that the counter holds the number of numbers since the previous zero (or a negative value), while answer holds the correct answer for the subarray traversed so far.\r\n\r\n\r\n----------\r\n\r\n    counter= - length(list)\r\n    answer= 0\r\n    for element in list:\r\n      if element == 0:\r\n          answer= max(counter, answer)\r\n          counter= 0\r\n      else:\r\n          counter= counter + 1\r\n","title":"Write a function that returns the maximum quantity of non-zero elements between two zero elements","body":"<p>This problem can be solved in a single pass. Observe the counts of non-zero elements when progressing from left to right:</p>\n<pre><code>1,2,0,2,3,4,5,0,1,2,3,4,5,6,7,8,8,0,1\n- - 0 1 2 3 4 0 1 2 3 4 5 6 7 8 9 0 1\n</code></pre>\n<p>Now consider the partial solution for the left subarray processed</p>\n<pre><code>1,2,0,2,3,4,5,0,1,2,3,4,5,6,7,8,8,0,1\n- - 0 1 2 3 4 0 1 2 3 4 5 6 7 8 9 0 1\n0 0 0 0 0 0 0 4 4 4 4 4 4 4 4 4 4 9 9\n</code></pre>\n<p>This tells you how to solve:</p>\n<ul>\n<li><p>keep a counter of the number of non-zero elements since the previous zero.  (Increment on nonzero, reset to zero on zero.)</p>\n</li>\n<li><p>keep the &quot;answer&quot; updated: every time you see a zero, keep the largest of the counter and the current answer, initially zero.</p>\n</li>\n</ul>\n<p>For the initial elements, it suffices to keep the count negative so that it does not influence the answer. A safe option is to initialize with minus the length of the list.</p>\n<hr />\n<p>Technically, the loop is based on an invariant expressing that the counter holds the number of numbers since the previous zero (or a negative value), while answer holds the correct answer for the subarray traversed so far.</p>\n<hr />\n<pre><code>counter= - length(list)\nanswer= 0\nfor element in list:\n  if element == 0:\n      answer= max(counter, answer)\n      counter= 0\n  else:\n      counter= counter + 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670254662,"creation_date":1670233134,"answer_id":74686050,"question_id":74685015,"body_markdown":"This will fix your all scenario,\r\n*Time complexity is **O(n)***\r\n\r\n     \r\n      public static int maxCountBwZero(int arr[]) {\r\n    \t\tint i = 0;\r\n    \t\tint tempCount = 0;\r\n    \t\tint size = arr.length;\r\n    \t\tint maxCount = 0;\r\n    \t\tboolean startCount = false;\r\n    \r\n    \t\twhile (i &lt; size) {\r\n    \t\t\tif (arr[i] == 0) {\r\n    \t\t\t\tif (maxCount == 0 &amp;&amp; tempCount == 0) {\r\n    \t\t\t\t\tstartCount = true;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tif (tempCount &gt; 0 &amp;&amp; (tempCount &gt;= maxCount)) {\r\n    \t\t\t\t\t\tmaxCount = tempCount;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\ttempCount = 0;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (startCount) {\r\n    \t\t\t\ttempCount++;\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \r\n    \t\t}\r\n    \t\treturn maxCount;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] arr = { 1, 2, 0, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 6, 7, 8, 8, 0, 1 };\r\n    \t\tint[] arr1 = { 1, 2, 3, 0, 0, 3, 2, 1 };\r\n    \r\n    \t\tSystem.out.println(maxCountBwZero(arr));\r\n    \t\tSystem.out.println(maxCountBwZero(arr1));\r\n    \t}","title":"Write a function that returns the maximum quantity of non-zero elements between two zero elements","body":"<p>This will fix your all scenario,\n<em>Time complexity is <strong>O(n)</strong></em></p>\n<pre><code>  public static int maxCountBwZero(int arr[]) {\n        int i = 0;\n        int tempCount = 0;\n        int size = arr.length;\n        int maxCount = 0;\n        boolean startCount = false;\n\n        while (i &lt; size) {\n            if (arr[i] == 0) {\n                if (maxCount == 0 &amp;&amp; tempCount == 0) {\n                    startCount = true;\n                } else {\n                    if (tempCount &gt; 0 &amp;&amp; (tempCount &gt;= maxCount)) {\n                        maxCount = tempCount;\n                    }\n                    tempCount = 0;\n                }\n            } else if (startCount) {\n                tempCount++;\n            }\n            i++;\n\n        }\n        return maxCount;\n    }\n\n    public static void main(String[] args) {\n\n        int[] arr = { 1, 2, 0, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 6, 7, 8, 8, 0, 1 };\n        int[] arr1 = { 1, 2, 3, 0, 0, 3, 2, 1 };\n\n        System.out.println(maxCountBwZero(arr));\n        System.out.println(maxCountBwZero(arr1));\n    }\n</code></pre>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74685256,"answer_count":3,"score":0,"last_activity_date":1670254662,"creation_date":1670227516,"question_id":74685015,"body_markdown":"Given an array of integers I need to find the maximum quantity of non zero elements between two zero elements\r\n\r\nFor example: ```int[] arr = {1,2,0,2,3,4,5,0,1,2,3,4,5,6,7,8,8,0,1}```\r\n\r\nThis should return 9. However, this returns 4:\r\n\r\n```java\r\nstatic int solution(int[] arr) {\r\n    int count = 0;\r\n    int maxCount = 0;\r\n\r\n    for (int i = 0; i &lt; arr.length - 1; i++) {\r\n        if (arr[i] == 0 &amp;&amp; i &lt; arr.length - 2) {\r\n            i++;\r\n            while (arr[i] != 0) {\r\n                count++;\r\n                i++;\r\n            }\r\n            maxCount = count;\r\n        }\r\n    }\r\n    return maxCount;\r\n}\r\n```\r\n\r\nUPD: For the case of {1,2,3,0,0,3,2,1}, function should return 0","title":"Write a function that returns the maximum quantity of non-zero elements between two zero elements","body":"<p>Given an array of integers I need to find the maximum quantity of non zero elements between two zero elements</p>\n<p>For example: <code>int[] arr = {1,2,0,2,3,4,5,0,1,2,3,4,5,6,7,8,8,0,1}</code></p>\n<p>This should return 9. However, this returns 4:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int solution(int[] arr) {\n    int count = 0;\n    int maxCount = 0;\n\n    for (int i = 0; i &lt; arr.length - 1; i++) {\n        if (arr[i] == 0 &amp;&amp; i &lt; arr.length - 2) {\n            i++;\n            while (arr[i] != 0) {\n                count++;\n                i++;\n            }\n            maxCount = count;\n        }\n    }\n    return maxCount;\n}\n</code></pre>\n<p>UPD: For the case of {1,2,3,0,0,3,2,1}, function should return 0</p>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670203001,"post_id":74681901,"comment_id":131814447,"body_markdown":"Did you mean to `RUN mvn package` in the Dockerfile?  With what you&#39;ve shown you&#39;re copying the source code but not building it at all.  (Don&#39;t forget to also declare the main container `CMD` to launch the Java process as well.)","body":"Did you mean to <code>RUN mvn package</code> in the Dockerfile?  With what you&#39;ve shown you&#39;re copying the source code but not building it at all.  (Don&#39;t forget to also declare the main container <code>CMD</code> to launch the Java process as well.)"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1670208872,"post_id":74681901,"comment_id":131815222,"body_markdown":"How would you do it in maven outside docker?","body":"How would you do it in maven outside docker?"},{"owner":{"account_id":12617298,"reputation":155,"user_id":9473240,"display_name":"pippa dupree"},"score":0,"creation_date":1670225902,"post_id":74681901,"comment_id":131817915,"body_markdown":"@Thorbj&#248;rnRavnAndersen I&#39;ve shown this in the question description exactly.","body":"@Thorbj&#248;rnRavnAndersen I&#39;ve shown this in the question description exactly."},{"owner":{"account_id":12617298,"reputation":155,"user_id":9473240,"display_name":"pippa dupree"},"score":0,"creation_date":1670226051,"post_id":74681901,"comment_id":131817975,"body_markdown":"@DavidMaze I&#39;m running mvn package manually after attaching to the container as shown in the steps in the question description.","body":"@DavidMaze I&#39;m running mvn package manually after attaching to the container as shown in the steps in the question description."}],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1670405610,"post_id":74690574,"comment_id":131867048,"body_markdown":"Next time, look inside the jar file to see what is there, and compare with the functional one.   `COPY . .` is your friend.","body":"Next time, look inside the jar file to see what is there, and compare with the functional one.   <code>COPY . .</code> is your friend."}],"tags":[],"owner":{"account_id":12617298,"reputation":155,"user_id":9473240,"display_name":"pippa dupree"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670254593,"creation_date":1670254262,"answer_id":74690574,"question_id":74681901,"body_markdown":"I solved this after a few hours of trial and error. It appears Maven is pretty strict with directory structure. I changed my dockerfile to the below which solved the issue. \r\n\r\n    FROM maven:3.8.6-openjdk-11 AS build\r\n    COPY pom.xml .\r\n    COPY src /src\r\n\r\nI can now package and run the jar all in the docker container directly after attaching to the container.\r\n","title":"Build executable jar in docker container using Maven","body":"<p>I solved this after a few hours of trial and error. It appears Maven is pretty strict with directory structure. I changed my dockerfile to the below which solved the issue.</p>\n<pre><code>FROM maven:3.8.6-openjdk-11 AS build\nCOPY pom.xml .\nCOPY src /src\n</code></pre>\n<p>I can now package and run the jar all in the docker container directly after attaching to the container.</p>\n"}],"owner":{"account_id":12617298,"reputation":155,"user_id":9473240,"display_name":"pippa dupree"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74690574,"answer_count":1,"score":0,"last_activity_date":1670254593,"creation_date":1670196506,"question_id":74681901,"body_markdown":"How can I build an executable jar file in a docker container using Maven?\r\n\r\nA simplified example of what I am trying to solve. \r\n\r\n**Local repo layout:** \r\n\r\n[![local repo layout][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l2iAd.png\r\n\r\n**Main:**\r\n\r\n    package org.example;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n        }\r\n    }\r\n**pom.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-troubleshooting&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Local machine workflow(working as expected):**\r\n\r\n    mvn clean package\r\n&gt; ...[INFO] BUILD SUCCESS\r\n\r\n    java -jar target/maven-troubleshooting-1.0-SNAPSHOT.jar\r\n\r\n&gt; Hello world!\r\n\r\n**Dockerfile:**\r\n\r\n    FROM maven:3.8.6-openjdk-11\r\n    RUN mkdir -p /usr/src/app\r\n    WORKDIR /usr/src/app\r\n    COPY pom.xml /usr/src/app\r\n    COPY src /usr/src/app\r\n\r\n**Docker workflow:**\r\n\r\n&gt; docker build . -t simplified-mvn-troubleshooting  \r\n&gt; docker run -it simplified-mvn-troubleshooting bash\r\n\r\n(now in the running container)\r\n\r\n&gt;mvn clean package  \r\n&gt; ...[INFO] BUILD SUCCESS\r\n\r\n&gt;java -jar target/maven-troubleshooting-1.0-SNAPSHOT.jar\r\n\r\n    Error: Could not find or load main class org.example.Main\r\n    Caused by: java.lang.ClassNotFoundException: org.example.Main\r\n\r\nWhat am I missing?","title":"Build executable jar in docker container using Maven","body":"<p>How can I build an executable jar file in a docker container using Maven?</p>\n<p>A simplified example of what I am trying to solve.</p>\n<p><strong>Local repo layout:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/l2iAd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2iAd.png\" alt=\"local repo layout\" /></a></p>\n<p><strong>Main:</strong></p>\n<pre><code>package org.example;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-troubleshooting&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Local machine workflow(working as expected):</strong></p>\n<pre><code>mvn clean package\n</code></pre>\n<blockquote>\n<p>...[INFO] BUILD SUCCESS</p>\n</blockquote>\n<pre><code>java -jar target/maven-troubleshooting-1.0-SNAPSHOT.jar\n</code></pre>\n<blockquote>\n<p>Hello world!</p>\n</blockquote>\n<p><strong>Dockerfile:</strong></p>\n<pre><code>FROM maven:3.8.6-openjdk-11\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nCOPY pom.xml /usr/src/app\nCOPY src /usr/src/app\n</code></pre>\n<p><strong>Docker workflow:</strong></p>\n<blockquote>\n<p>docker build . -t simplified-mvn-troubleshooting<br />\ndocker run -it simplified-mvn-troubleshooting bash</p>\n</blockquote>\n<p>(now in the running container)</p>\n<blockquote>\n<p>mvn clean package<br />\n...[INFO] BUILD SUCCESS</p>\n</blockquote>\n<blockquote>\n<p>java -jar target/maven-troubleshooting-1.0-SNAPSHOT.jar</p>\n</blockquote>\n<pre><code>Error: Could not find or load main class org.example.Main\nCaused by: java.lang.ClassNotFoundException: org.example.Main\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","apache-kafka","confluent-cloud"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670089572,"post_id":74664045,"comment_id":131794080,"body_markdown":"Please show your actual producer code. And try to reproduce with running Kafka locally","body":"Please show your actual producer code. And try to reproduce with running Kafka locally"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670089724,"post_id":74664045,"comment_id":131794117,"body_markdown":"Most importantly, `send` doesn&#39;t actually make a network request. It sends it to a local buffer. If you don&#39;t `flush` the buffer, the topic remains empty...","body":"Most importantly, <code>send</code> doesn&#39;t actually make a network request. It sends it to a local buffer. If you don&#39;t <code>flush</code> the buffer, the topic remains empty..."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1670116839,"post_id":74664045,"comment_id":131798732,"body_markdown":"@OneCricketeer there is a flush.","body":"@OneCricketeer there is a flush."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1670124931,"post_id":74664045,"comment_id":131799503,"body_markdown":"@OneCricketeer I added a link to the source code that I&#39;m running. This is unchanged from Confluent themselves. I also picked the cloud version  to avoid Docker and related issues. It&#39;s one less thing that can be blamed on me.","body":"@OneCricketeer I added a link to the source code that I&#39;m running. This is unchanged from Confluent themselves. I also picked the cloud version  to avoid Docker and related issues. It&#39;s one less thing that can be blamed on me."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670133814,"post_id":74664045,"comment_id":131800335,"body_markdown":"Well, Confluent also maintains a working Docker Compose repo, that is free to use, so if you don&#39;t want to use/pay for the cloud, then don&#39;t https://github.com/confluentinc/cp-all-in-one  ... No one will blame you unless you&#39;ve setup authentication wrong; it&#39;s easier to reproduce your issue if you are using Docker locally","body":"Well, Confluent also maintains a working Docker Compose repo, that is free to use, so if you don&#39;t want to use/pay for the cloud, then don&#39;t <a href=\"https://github.com/confluentinc/cp-all-in-one\" rel=\"nofollow noreferrer\">github.com/confluentinc/cp-all-in-one</a>  ... No one will blame you unless you&#39;ve setup authentication wrong; it&#39;s easier to reproduce your issue if you are using Docker locally"},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1670217945,"post_id":74664045,"comment_id":131816400,"body_markdown":"@OneCricketeer I had some hesitation, but figured more logging would be available if I managed my own cluster. As mentioned above, I created a local Docker instance and successfully posted 10 messages. Again on Confluent&#39;s cloud, I see the topic, but no messages. Please see edit above.","body":"@OneCricketeer I had some hesitation, but figured more logging would be available if I managed my own cluster. As mentioned above, I created a local Docker instance and successfully posted 10 messages. Again on Confluent&#39;s cloud, I see the topic, but no messages. Please see edit above."}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670254482,"creation_date":1670042590,"question_id":74664045,"body_markdown":"I&#39;m new to both Confluent and Kafka, and am trying to run the sample producer and consumer code in Java. No exceptions are being thrown, but the web console shows no messages. When this happened for Kafka connections for other people, I&#39;ve seen it be due to a Docker networking setup. \r\n\r\nInterestingly, if I go to the Confluent web page and produce a test message, it never shows up on the consumer. \r\n\r\nI likely missed a key bit of information, please let me know what I should be looking at.\r\n\r\nThanks,\r\nWoodsman\r\n\r\n\r\nConsumer Properties:\r\n```\r\n[2022-12-02 23:28:21,243] INFO ConsumerConfig values: \r\n\tallow.auto.create.topics = true\r\n\tauto.commit.interval.ms = 5000\r\n\tauto.offset.reset = earliest\r\n\tbootstrap.servers = [some-machine.us-east-1.aws.confluent.cloud:9092]\r\n\tcheck.crcs = true\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = consumer-demo-consumer-1-1\r\n\tclient.rack = \r\n\tconnections.max.idle.ms = 540000\r\n\tdefault.api.timeout.ms = 60000\r\n\tenable.auto.commit = true\r\n\texclude.internal.topics = true\r\n\tfetch.max.bytes = 52428800\r\n\tfetch.max.wait.ms = 500\r\n\tfetch.min.bytes = 1\r\n\tgroup.id = demo-consumer-1\r\n\tgroup.instance.id = null\r\n\theartbeat.interval.ms = 3000\r\n\tinterceptor.classes = []\r\n\tinternal.leave.group.on.close = true\r\n\tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n\tisolation.level = read_uncommitted\r\n\tkey.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n\tmax.partition.fetch.bytes = 1048576\r\n\tmax.poll.interval.ms = 300000\r\n\tmax.poll.records = 500\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = [hidden]\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = PLAIN\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = SASL_SSL\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsession.timeout.ms = 45000\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\tvalue.deserializer = class io.confluent.kafka.serializers.KafkaJsonDeserializer\r\n```\r\n\r\nProducer Properties:\r\n```\r\n\tbootstrap.servers = [some-machine.us-east-1.aws.confluent.cloud:9092]\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = \r\n\tconnections.max.idle.ms = 300000\r\n\tdefault.api.timeout.ms = 60000\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 2147483647\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = [hidden]\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = PLAIN\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = SASL_SSL\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n```\r\n\r\nI&#39;m running the code at https://docs.confluent.io/platform/current/tutorials/examples/clients/docs/java.html#basic-producer-and-consumer-and-kafka-streams unchanged. \r\n\r\nUpdated approach:\r\nI was asked to install a local Kafka cluster. I created a cluster by running docker-compose using the docker-compose file at https://developer.confluent.io/tutorials/creating-first-apache-kafka-producer-application/kafka.html#initialize-the-project. I used the exact docker-compose file as Confluent specified. I also changed the configuration to the one they specified on that same link (though I changed the topic names), but ran the same producer and consumer code as previously mentioned. \r\n\r\nIt is \r\n```\r\nbootstrap.servers=localhost:29092\r\nacks=all\r\n```\r\n\r\nAll messages were sent and received successfully to my local cluster. Again, the differences are a different authentication method, and the location itself. ***There was no change in the producer or consumer Java code***\r\n\r\nWhat should I look for? This is for a client who is insisting on a cluster managed by Confluent. What should I look for or start? At this point, I believe this is some Confluent configuration that I&#39;m not aware of.","title":"Topic in Confluent Cloud is always empty","body":"<p>I'm new to both Confluent and Kafka, and am trying to run the sample producer and consumer code in Java. No exceptions are being thrown, but the web console shows no messages. When this happened for Kafka connections for other people, I've seen it be due to a Docker networking setup.</p>\n<p>Interestingly, if I go to the Confluent web page and produce a test message, it never shows up on the consumer.</p>\n<p>I likely missed a key bit of information, please let me know what I should be looking at.</p>\n<p>Thanks,\nWoodsman</p>\n<p>Consumer Properties:</p>\n<pre><code>[2022-12-02 23:28:21,243] INFO ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 5000\n    auto.offset.reset = earliest\n    bootstrap.servers = [some-machine.us-east-1.aws.confluent.cloud:9092]\n    check.crcs = true\n    client.dns.lookup = use_all_dns_ips\n    client.id = consumer-demo-consumer-1-1\n    client.rack = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = true\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = demo-consumer-1\n    group.instance.id = null\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    internal.throw.on.fetch.stable.offset.unsupported = false\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = [hidden]\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = PLAIN\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = SASL_SSL\n    security.providers = null\n    send.buffer.bytes = 131072\n    session.timeout.ms = 45000\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    value.deserializer = class io.confluent.kafka.serializers.KafkaJsonDeserializer\n</code></pre>\n<p>Producer Properties:</p>\n<pre><code>    bootstrap.servers = [some-machine.us-east-1.aws.confluent.cloud:9092]\n    client.dns.lookup = use_all_dns_ips\n    client.id = \n    connections.max.idle.ms = 300000\n    default.api.timeout.ms = 60000\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 2147483647\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = [hidden]\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = PLAIN\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = SASL_SSL\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n</code></pre>\n<p>I'm running the code at <a href=\"https://docs.confluent.io/platform/current/tutorials/examples/clients/docs/java.html#basic-producer-and-consumer-and-kafka-streams\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/tutorials/examples/clients/docs/java.html#basic-producer-and-consumer-and-kafka-streams</a> unchanged.</p>\n<p>Updated approach:\nI was asked to install a local Kafka cluster. I created a cluster by running docker-compose using the docker-compose file at <a href=\"https://developer.confluent.io/tutorials/creating-first-apache-kafka-producer-application/kafka.html#initialize-the-project\" rel=\"nofollow noreferrer\">https://developer.confluent.io/tutorials/creating-first-apache-kafka-producer-application/kafka.html#initialize-the-project</a>. I used the exact docker-compose file as Confluent specified. I also changed the configuration to the one they specified on that same link (though I changed the topic names), but ran the same producer and consumer code as previously mentioned.</p>\n<p>It is</p>\n<pre><code>bootstrap.servers=localhost:29092\nacks=all\n</code></pre>\n<p>All messages were sent and received successfully to my local cluster. Again, the differences are a different authentication method, and the location itself. <em><strong>There was no change in the producer or consumer Java code</strong></em></p>\n<p>What should I look for? This is for a client who is insisting on a cluster managed by Confluent. What should I look for or start? At this point, I believe this is some Confluent configuration that I'm not aware of.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670238654,"post_id":74684646,"comment_id":131822032,"body_markdown":"You should be using a dedicated thread to do that . And you need to loop all the code, not just the play method. Have a look at `SwingWorker` to provide your thread","body":"You should be using a dedicated thread to do that . And you need to loop all the code, not just the play method. Have a look at <code>SwingWorker</code> to provide your thread"}],"answers":[{"tags":[],"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670253766,"creation_date":1670253766,"answer_id":74690466,"question_id":74684646,"body_markdown":"Please don&#39;t use classes under `sun.*`, see [this](https://stackoverflow.com/a/1834836/14790684). For proper audio playing, see [this](https://stackoverflow.com/a/22032338/14790684).\r\n\r\nHowever you should do something like this to achieve what you want:\r\n\r\n```java\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\nimport javax.swing.*;\r\nimport java.io.File;\r\n\r\npublic class Audio {\r\n\r\n    public static void main(String[] args) {\r\n        Clip clip = getClip(&quot;C:\\\\Users\\\\\\\\IdeaProjects\\\\Game\\\\src\\\\com\\\\company\\\\audio\\\\skeleton.wav&quot;);\r\n        playForever(clip);\r\n        boolean play = true;\r\n        // ...\r\n        // do stuff\r\n        // ...\r\n        if (!play) clip.stop();\r\n    }\r\n\r\n    public static void playForever(Clip clip) {\r\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n        clip.start();\r\n    }\r\n\r\n    public static Clip getClip(String filepath) {\r\n        String reset = &quot;\\u001B[0m&quot;;\r\n        String red = &quot;\\u001B[31m&quot;;\r\n        try {\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(AudioSystem.getAudioInputStream(new File(filepath)));\r\n            return clip;\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error. Can&#39;t find an audiofile skeleton.wav&quot;);\r\n            System.out.println(red + &quot;Error. Can&#39;t find an audiofile skeleton.wav&quot; + reset);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nTo play the audio even when the main thread finishes, you should do this:\r\n\r\n```java\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\nimport javax.swing.*;\r\nimport java.io.File;\r\n\r\npublic class Audio {\r\n\r\n    public static void main(String[] args) {\r\n        Clip clip = getClip(&quot;C:\\\\Users\\\\\\\\IdeaProjects\\\\Game\\\\src\\\\com\\\\company\\\\audio\\\\skeleton.wav&quot;);\r\n        Thread thread = playForever(clip);\r\n        // ...\r\n        // do stuff\r\n        // ...\r\n        boolean play = true;\r\n        if (!play) stopAudio(thread);\r\n    }\r\n\r\n    public static Thread playForever(Clip clip) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n            clip.start();\r\n            synchronized (Thread.currentThread()) {\r\n                try {\r\n                    Thread.currentThread().wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n        return thread;\r\n    }\r\n\r\n    public static void stopAudio(Thread thread) {\r\n        synchronized (thread) {\r\n            thread.notify();\r\n        }\r\n    }\r\n\r\n    public static Clip getClip(String filepath) {\r\n        String reset = &quot;\\u001B[0m&quot;;\r\n        String red = &quot;\\u001B[31m&quot;;\r\n        try {\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(AudioSystem.getAudioInputStream(new File(filepath)));\r\n            return clip;\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error. Can&#39;t find an audiofile skeleton.wav&quot;);\r\n            System.out.println(red + &quot;Error. Can&#39;t find an audiofile skeleton.wav&quot; + reset);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to make repeated playback of audio?","body":"<p>Please don't use classes under <code>sun.*</code>, see <a href=\"https://stackoverflow.com/a/1834836/14790684\">this</a>. For proper audio playing, see <a href=\"https://stackoverflow.com/a/22032338/14790684\">this</a>.</p>\n<p>However you should do something like this to achieve what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.swing.*;\nimport java.io.File;\n\npublic class Audio {\n\n    public static void main(String[] args) {\n        Clip clip = getClip(&quot;C:\\\\Users\\\\\\\\IdeaProjects\\\\Game\\\\src\\\\com\\\\company\\\\audio\\\\skeleton.wav&quot;);\n        playForever(clip);\n        boolean play = true;\n        // ...\n        // do stuff\n        // ...\n        if (!play) clip.stop();\n    }\n\n    public static void playForever(Clip clip) {\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n        clip.start();\n    }\n\n    public static Clip getClip(String filepath) {\n        String reset = &quot;\\u001B[0m&quot;;\n        String red = &quot;\\u001B[31m&quot;;\n        try {\n            Clip clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(new File(filepath)));\n            return clip;\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, &quot;Error. Can't find an audiofile skeleton.wav&quot;);\n            System.out.println(red + &quot;Error. Can't find an audiofile skeleton.wav&quot; + reset);\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>To play the audio even when the main thread finishes, you should do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.swing.*;\nimport java.io.File;\n\npublic class Audio {\n\n    public static void main(String[] args) {\n        Clip clip = getClip(&quot;C:\\\\Users\\\\\\\\IdeaProjects\\\\Game\\\\src\\\\com\\\\company\\\\audio\\\\skeleton.wav&quot;);\n        Thread thread = playForever(clip);\n        // ...\n        // do stuff\n        // ...\n        boolean play = true;\n        if (!play) stopAudio(thread);\n    }\n\n    public static Thread playForever(Clip clip) {\n        Thread thread = new Thread(() -&gt; {\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\n            clip.start();\n            synchronized (Thread.currentThread()) {\n                try {\n                    Thread.currentThread().wait();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n        thread.start();\n        return thread;\n    }\n\n    public static void stopAudio(Thread thread) {\n        synchronized (thread) {\n            thread.notify();\n        }\n    }\n\n    public static Clip getClip(String filepath) {\n        String reset = &quot;\\u001B[0m&quot;;\n        String red = &quot;\\u001B[31m&quot;;\n        try {\n            Clip clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(new File(filepath)));\n            return clip;\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, &quot;Error. Can't find an audiofile skeleton.wav&quot;);\n            System.out.println(red + &quot;Error. Can't find an audiofile skeleton.wav&quot; + reset);\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23114132,"reputation":1,"user_id":17221652,"display_name":"codor01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74690466,"answer_count":1,"score":0,"last_activity_date":1670253766,"creation_date":1670225251,"question_id":74684646,"body_markdown":"I&#39;m trying to make an audio play again after it finishes.\r\n\r\nLibraries I use:\r\n\r\n```\r\nimport sun.audio.AudioPlayer;\r\nimport sun.audio.AudioStream;\r\nimport javax.swing.*;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.InputStream;\r\n```\r\n\r\nI use while loop, boolean and sleep():\r\n\r\n```\r\nboolean play = true;\r\n        while(play) {\r\n            playMusic(&quot;C:\\\\Users\\\\\\\\IdeaProjects\\\\Game\\\\src\\\\com\\\\company\\\\audio\\\\skeleton.wav&quot;);\r\n            Thread.sleep(10);\r\n```\r\n\r\nHere is the function:\r\n\r\n```\r\npublic static void playMusic(String filepath) {\r\n        String reset = &quot;\\u001B[0m&quot;;\r\n        String red = &quot;\\u001B[31m&quot;;\r\n        //-&gt;\r\n        InputStream music;\r\n        try {\r\n            music = new FileInputStream(new File(filepath));\r\n            AudioStream audios = new AudioStream(music);\r\n            boolean game = true;\r\n            while(true)\r\n                AudioPlayer.player.start(audios);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error. Can&#39;t find an audiofile skeleton.wav&quot;);\r\n            System.out.println(red + &quot;Error. Can&#39;t find an audiofile skeleton.wav&quot; + reset);\r\n        }\r\n    }\r\n```\r\n\r\nBut when the audio finishes, there is silence.\r\n\r\nIt doesn&#39;t play again in 10 ms..\r\nWhy?\r\n\r\nHow to make repeated playback of audio?","title":"How to make repeated playback of audio?","body":"<p>I'm trying to make an audio play again after it finishes.</p>\n<p>Libraries I use:</p>\n<pre><code>import sun.audio.AudioPlayer;\nimport sun.audio.AudioStream;\nimport javax.swing.*;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\n</code></pre>\n<p>I use while loop, boolean and sleep():</p>\n<pre><code>boolean play = true;\n        while(play) {\n            playMusic(&quot;C:\\\\Users\\\\\\\\IdeaProjects\\\\Game\\\\src\\\\com\\\\company\\\\audio\\\\skeleton.wav&quot;);\n            Thread.sleep(10);\n</code></pre>\n<p>Here is the function:</p>\n<pre><code>public static void playMusic(String filepath) {\n        String reset = &quot;\\u001B[0m&quot;;\n        String red = &quot;\\u001B[31m&quot;;\n        //-&gt;\n        InputStream music;\n        try {\n            music = new FileInputStream(new File(filepath));\n            AudioStream audios = new AudioStream(music);\n            boolean game = true;\n            while(true)\n                AudioPlayer.player.start(audios);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, &quot;Error. Can't find an audiofile skeleton.wav&quot;);\n            System.out.println(red + &quot;Error. Can't find an audiofile skeleton.wav&quot; + reset);\n        }\n    }\n</code></pre>\n<p>But when the audio finishes, there is silence.</p>\n<p>It doesn't play again in 10 ms..\nWhy?</p>\n<p>How to make repeated playback of audio?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670253703,"creation_date":1670253363,"answer_id":74690378,"question_id":74678644,"body_markdown":"Yes, it&#39;s a Java specific problem \r\n\r\n- Each connector task (max.tasks) runs its own thread.\r\n- Each thread runs its own instance of the Task class.\r\n- You cannot share state directly between threads (Task instances), despite them being the same class. Adding `this` doesn&#39;t change anything  since you don&#39;t have a local variable of the same name. \r\n\r\nAlso, `put` is repeatedly called, based on Kafka Consumer polling. You&#39;ll need to **sum** the size of the collection (or batch data before writing to the database) to print any accurate count of records seen so far. ","title":"Sink having access to objects of another instance of same class","body":"<p>Yes, it's a Java specific problem</p>\n<ul>\n<li>Each connector task (max.tasks) runs its own thread.</li>\n<li>Each thread runs its own instance of the Task class.</li>\n<li>You cannot share state directly between threads (Task instances), despite them being the same class. Adding <code>this</code> doesn't change anything  since you don't have a local variable of the same name.</li>\n</ul>\n<p>Also, <code>put</code> is repeatedly called, based on Kafka Consumer polling. You'll need to <strong>sum</strong> the size of the collection (or batch data before writing to the database) to print any accurate count of records seen so far.</p>\n"}],"owner":{"account_id":27143264,"reputation":1,"user_id":20683849,"display_name":"DiogoSilva14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670253703,"creation_date":1670171733,"question_id":74678644,"body_markdown":"I&#39;m having a problem with my kafka connector. I&#39;m new to java so this might be a Java mistake Im making and not a kafka specific problem. \r\n\r\n\r\n\r\n\r\nMy Connector class is the following:\r\n\r\n\r\n\r\n```\r\npackage org.MySink.influxSink;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.kafka.common.config.ConfigDef;\r\nimport org.apache.kafka.common.config.ConfigException;\r\nimport org.apache.kafka.connect.connector.Task;\r\nimport org.apache.kafka.connect.errors.ConnectException;\r\nimport org.apache.kafka.connect.sink.SinkConnector;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class MySinkConnector extends SinkConnector {\r\n  private static Logger log = LoggerFactory.getLogger(MySinkConnector.class);\r\n  private Map&lt;String, String&gt; configProps;\r\n\r\n  @Override\r\n  public String version() {\r\n    return VersionUtil.getVersion();\r\n  }\r\n\r\n  @Override\r\n  public void start(Map&lt;String, String&gt; map) {\r\n\ttry {\r\n\t\tconfigProps = map;\r\n\t} catch(ConfigException e) {\r\n\t\tthrow new ConnectException(&quot;Couldn&#39;t start InfluxSinkConnector due to configuration error&quot;, e);\r\n\t}\r\n  }\r\n\r\n  @Override\r\n  public Class&lt;? extends Task&gt; taskClass() {\r\n    return MySinkTask.class;\r\n  }\r\n\r\n  @Override\r\n  public List&lt;Map&lt;String, String&gt;&gt; taskConfigs(int maxTasks) {\r\n\tList&lt;Map&lt;String, String&gt;&gt; taskConfigs = new ArrayList&lt;&gt;();\r\n\t\r\n    for(int i=0; i &lt; maxTasks; i++) {\r\n    \ttaskConfigs.add(configProps);\r\n    }\r\n    \r\n\r\n    return taskConfigs;\r\n\r\n  }\r\n\r\n  @Override\r\n  public void stop() {\r\n    return;\r\n  }\r\n\r\n  @Override\r\n  public ConfigDef config() {\r\n    return MySinkConnectorConfig.conf();\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd my task is the following:\r\n\r\n\r\n```\r\npackage org.MySink.influxSink;\r\n\r\nimport org.apache.kafka.clients.consumer.OffsetAndMetadata;\r\nimport org.apache.kafka.common.TopicPartition;\r\nimport org.apache.kafka.connect.errors.ConnectException;\r\nimport org.apache.kafka.connect.sink.SinkRecord;\r\nimport org.apache.kafka.connect.sink.SinkTask;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic class MySinkTask extends SinkTask {\r\n  private static Logger log = LoggerFactory.getLogger(MySinkTask.class);\r\n  \r\n  private String influxMeasurement;\r\n  private MySinkConnectorConfig config;\r\n  private Map&lt;String, String&gt; configMap;\r\n  \r\n  @Override\r\n  public String version() {\r\n    return VersionUtil.getVersion();\r\n  }\r\n\r\n  @Override\r\n  public void start(Map&lt;String, String&gt; map) {\r\n    config = new MySinkConnectorConfig(map);\r\n    configMap = map;\r\n    \r\n    influxMeasurement = config.getInfluxMeasurement();\r\n\r\n  }\r\n\r\n  @Override\r\n  public void put(Collection&lt;SinkRecord&gt; collection) {\r\n\t  if(collection.isEmpty()) {\r\n\t\t  return;\r\n\t  }\r\n\t  \r\n\t  final SinkRecord first = collection.iterator().next();\r\n\t  final int recordsCount = collection.size();\r\n\t  \r\n\r\n\t  log.info(influxMeasurement + &quot;: Received {} records. First record Kafka coordinates: ({}-{}-{}).&quot;,\r\n\t\t\t  recordsCount, first.topic(), first.kafkaPartition(), first.kafkaOffset());\r\n\r\n  }\r\n\r\n  @Override\r\n  public void flush(Map&lt;TopicPartition, OffsetAndMetadata&gt; map) {\r\n\r\n  }\r\n\r\n  @Override\r\n  public void stop() {\r\n    //Close resources here.\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is a simplified version of the connector that ilustrates the issue. The problem I was having was that I had two instances of the connector subscribed to two different problems. But whenever they would get published I would get the message:\r\n\r\n\r\n```\r\nkafka-connect              | 2022-12-04T16:21:06.431482588Z [2022-12-04 16:21:06,431] INFO ActiveSessions: Received 1 records. First record Kafka coordinates: (TotalSessions-0-1134). (org.MySink.influxSink.MySinkTask)\r\nkafka-connect              | 2022-12-04T16:21:06.431530001Z [2022-12-04 16:21:06,431] INFO ActiveSessions: Received 1 records. First record Kafka coordinates: (ActiveSessions-0-1122). (org.MySink.influxSink.MySinkTask)\r\n```\r\n\r\nSo, aparently both topics were going to the same connector and always the last one declared. After a lot of debugging I decided to change the line\r\n\r\n```\r\nlog.info(influxMeasurement + &quot;: Received {} records. First record Kafka coordinates: ({}-{}-{}).&quot;,\r\n\t\t\t  recordsCount, first.topic(), first.kafkaPartition(), first.kafkaOffset());\r\n  }\r\n```\r\n\r\nto\r\n\r\n```\r\nlog.info(this.influxMeasurement + &quot;: Received {} records. First record Kafka coordinates: ({}-{}-{}).&quot;,\r\n\t\t\t  recordsCount, first.topic(), first.kafkaPartition(), first.kafkaOffset());\r\n  }\r\n```\r\n\r\nAnd it resolved the issue as now I would get the message:\r\n\r\n```\r\nkafka-connect              | 2022-12-04T16:21:06.431482588Z [2022-12-04 16:21:06,431] INFO TotalSessions: Received 1 records. First record Kafka coordinates: (TotalSessions-0-1134). (org.MySink.influxSink.MySinkTask)\r\nkafka-connect              | 2022-12-04T16:21:06.431530001Z [2022-12-04 16:21:06,431] INFO ActiveSessions: Received 1 records. First record Kafka coordinates: (ActiveSessions-0-1122). (org.MySink.influxSink.MySinkTask)\r\n```\r\n\r\n\r\n\r\nSo, aparently, the messages were going to the right connectors but the variable influxMeasurement was changed on the first connector when the second one was declared. Does anyone have an idea why this might have happened?\r\n","title":"Sink having access to objects of another instance of same class","body":"<p>I'm having a problem with my kafka connector. I'm new to java so this might be a Java mistake Im making and not a kafka specific problem.</p>\n<p>My Connector class is the following:</p>\n<pre><code>package org.MySink.influxSink;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.kafka.common.config.ConfigDef;\nimport org.apache.kafka.common.config.ConfigException;\nimport org.apache.kafka.connect.connector.Task;\nimport org.apache.kafka.connect.errors.ConnectException;\nimport org.apache.kafka.connect.sink.SinkConnector;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MySinkConnector extends SinkConnector {\n  private static Logger log = LoggerFactory.getLogger(MySinkConnector.class);\n  private Map&lt;String, String&gt; configProps;\n\n  @Override\n  public String version() {\n    return VersionUtil.getVersion();\n  }\n\n  @Override\n  public void start(Map&lt;String, String&gt; map) {\n    try {\n        configProps = map;\n    } catch(ConfigException e) {\n        throw new ConnectException(&quot;Couldn't start InfluxSinkConnector due to configuration error&quot;, e);\n    }\n  }\n\n  @Override\n  public Class&lt;? extends Task&gt; taskClass() {\n    return MySinkTask.class;\n  }\n\n  @Override\n  public List&lt;Map&lt;String, String&gt;&gt; taskConfigs(int maxTasks) {\n    List&lt;Map&lt;String, String&gt;&gt; taskConfigs = new ArrayList&lt;&gt;();\n    \n    for(int i=0; i &lt; maxTasks; i++) {\n        taskConfigs.add(configProps);\n    }\n    \n\n    return taskConfigs;\n\n  }\n\n  @Override\n  public void stop() {\n    return;\n  }\n\n  @Override\n  public ConfigDef config() {\n    return MySinkConnectorConfig.conf();\n  }\n}\n\n</code></pre>\n<p>And my task is the following:</p>\n<pre><code>package org.MySink.influxSink;\n\nimport org.apache.kafka.clients.consumer.OffsetAndMetadata;\nimport org.apache.kafka.common.TopicPartition;\nimport org.apache.kafka.connect.errors.ConnectException;\nimport org.apache.kafka.connect.sink.SinkRecord;\nimport org.apache.kafka.connect.sink.SinkTask;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class MySinkTask extends SinkTask {\n  private static Logger log = LoggerFactory.getLogger(MySinkTask.class);\n  \n  private String influxMeasurement;\n  private MySinkConnectorConfig config;\n  private Map&lt;String, String&gt; configMap;\n  \n  @Override\n  public String version() {\n    return VersionUtil.getVersion();\n  }\n\n  @Override\n  public void start(Map&lt;String, String&gt; map) {\n    config = new MySinkConnectorConfig(map);\n    configMap = map;\n    \n    influxMeasurement = config.getInfluxMeasurement();\n\n  }\n\n  @Override\n  public void put(Collection&lt;SinkRecord&gt; collection) {\n      if(collection.isEmpty()) {\n          return;\n      }\n      \n      final SinkRecord first = collection.iterator().next();\n      final int recordsCount = collection.size();\n      \n\n      log.info(influxMeasurement + &quot;: Received {} records. First record Kafka coordinates: ({}-{}-{}).&quot;,\n              recordsCount, first.topic(), first.kafkaPartition(), first.kafkaOffset());\n\n  }\n\n  @Override\n  public void flush(Map&lt;TopicPartition, OffsetAndMetadata&gt; map) {\n\n  }\n\n  @Override\n  public void stop() {\n    //Close resources here.\n  }\n\n}\n\n</code></pre>\n<p>This is a simplified version of the connector that ilustrates the issue. The problem I was having was that I had two instances of the connector subscribed to two different problems. But whenever they would get published I would get the message:</p>\n<pre><code>kafka-connect              | 2022-12-04T16:21:06.431482588Z [2022-12-04 16:21:06,431] INFO ActiveSessions: Received 1 records. First record Kafka coordinates: (TotalSessions-0-1134). (org.MySink.influxSink.MySinkTask)\nkafka-connect              | 2022-12-04T16:21:06.431530001Z [2022-12-04 16:21:06,431] INFO ActiveSessions: Received 1 records. First record Kafka coordinates: (ActiveSessions-0-1122). (org.MySink.influxSink.MySinkTask)\n</code></pre>\n<p>So, aparently both topics were going to the same connector and always the last one declared. After a lot of debugging I decided to change the line</p>\n<pre><code>log.info(influxMeasurement + &quot;: Received {} records. First record Kafka coordinates: ({}-{}-{}).&quot;,\n              recordsCount, first.topic(), first.kafkaPartition(), first.kafkaOffset());\n  }\n</code></pre>\n<p>to</p>\n<pre><code>log.info(this.influxMeasurement + &quot;: Received {} records. First record Kafka coordinates: ({}-{}-{}).&quot;,\n              recordsCount, first.topic(), first.kafkaPartition(), first.kafkaOffset());\n  }\n</code></pre>\n<p>And it resolved the issue as now I would get the message:</p>\n<pre><code>kafka-connect              | 2022-12-04T16:21:06.431482588Z [2022-12-04 16:21:06,431] INFO TotalSessions: Received 1 records. First record Kafka coordinates: (TotalSessions-0-1134). (org.MySink.influxSink.MySinkTask)\nkafka-connect              | 2022-12-04T16:21:06.431530001Z [2022-12-04 16:21:06,431] INFO ActiveSessions: Received 1 records. First record Kafka coordinates: (ActiveSessions-0-1122). (org.MySink.influxSink.MySinkTask)\n</code></pre>\n<p>So, aparently, the messages were going to the right connectors but the variable influxMeasurement was changed on the first connector when the second one was declared. Does anyone have an idea why this might have happened?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670252909,"creation_date":1670252909,"answer_id":74690284,"question_id":74683965,"body_markdown":"The value must be set when you create a consumer client. It cannot be modified on a record-per-record basis &quot;dynamically&quot;, no.\r\n\r\nYou can do math in any property value, however.  But that&#39;ll be static while using the same consumer instance ","title":"Set MAX_POLL_RECORDS_CONFIG dynamically in Kafka","body":"<p>The value must be set when you create a consumer client. It cannot be modified on a record-per-record basis &quot;dynamically&quot;, no.</p>\n<p>You can do math in any property value, however.  But that'll be static while using the same consumer instance</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670253429,"creation_date":1670253429,"answer_id":74690384,"question_id":74683965,"body_markdown":"If what you want to limit is the batch size in bytes instead of the number of records, you can set the `FETCH_MAX_BYTES_CONFIG` instead and set `MAX_POLL_RECORDS_CONFIG` to a large/unreacheable value (i.e. unlimited).\r\n\r\nNote that `FETCH_MAX_BYTES_CONFIG` actually affects the underlying fetching behaviour, not just what is returned from each call to `poll()`.","title":"Set MAX_POLL_RECORDS_CONFIG dynamically in Kafka","body":"<p>If what you want to limit is the batch size in bytes instead of the number of records, you can set the <code>FETCH_MAX_BYTES_CONFIG</code> instead and set <code>MAX_POLL_RECORDS_CONFIG</code> to a large/unreacheable value (i.e. unlimited).</p>\n<p>Note that <code>FETCH_MAX_BYTES_CONFIG</code> actually affects the underlying fetching behaviour, not just what is returned from each call to <code>poll()</code>.</p>\n"}],"owner":{"account_id":26897145,"reputation":21,"user_id":20474870,"display_name":"Dona Dominic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670253429,"creation_date":1670220059,"question_id":74683965,"body_markdown":"In Kafka the default MAX_POLL_RECORDS_CONFIG is 500. That is at maximum 500 messages can be pulled at a time. Is there any way to set this value dynamically based on the message size?\r\nIf message size is 50B then 1MB/50B should be the value assigned.\r\n","title":"Set MAX_POLL_RECORDS_CONFIG dynamically in Kafka","body":"<p>In Kafka the default MAX_POLL_RECORDS_CONFIG is 500. That is at maximum 500 messages can be pulled at a time. Is there any way to set this value dynamically based on the message size?\nIf message size is 50B then 1MB/50B should be the value assigned.</p>\n"},{"tags":["java","netbeans","refactoring"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1435049965,"post_id":30997959,"comment_id":50025008,"body_markdown":"If the class already exists you can Move the method.","body":"If the class already exists you can Move the method."},{"owner":{"account_id":3203331,"reputation":189,"user_id":3676207,"accept_rate":100,"display_name":"sam_haz"},"score":0,"creation_date":1435050753,"post_id":30997959,"comment_id":50025497,"body_markdown":"That mean, we do not have any direct way in extracting class from method?","body":"That mean, we do not have any direct way in extracting class from method?"}],"answers":[{"comments":[{"owner":{"account_id":1898217,"reputation":8630,"user_id":1714692,"accept_rate":43,"display_name":"roschach"},"score":0,"creation_date":1548457084,"post_id":54373705,"comment_id":95562209,"body_markdown":"its better to repost the pic in your answer.","body":"its better to repost the pic in your answer."}],"tags":[],"owner":{"account_id":11897138,"reputation":21,"user_id":8706185,"display_name":"Carlos Tagle"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670253337,"creation_date":1548455764,"answer_id":54373705,"question_id":30997959,"body_markdown":"[![enter image description here][1]][1]You can use the option Refactor / Introduce / Method in order to extract a selected portion of method to a new method in same class, thats like Intellij Idea option. See the picture below:\r\n\r\n[Refactor / Introduce / Method][2]\r\n\r\n\r\n&lt;img src = &quot;https://i.stack.imgur.com/LitqH.png&quot;/&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NoAwZ.png\r\n  [2]: https://i.stack.imgur.com/LitqH.png","title":"Refactoring - Extract Method Object in Netbeans 8.0.2","body":"<p><a href=\"https://i.stack.imgur.com/NoAwZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoAwZ.png\" alt=\"enter image description here\" /></a>You can use the option Refactor / Introduce / Method in order to extract a selected portion of method to a new method in same class, thats like Intellij Idea option. See the picture below:</p>\n<p><a href=\"https://i.stack.imgur.com/LitqH.png\" rel=\"nofollow noreferrer\">Refactor / Introduce / Method</a></p>\n\n"}],"owner":{"account_id":3203331,"reputation":189,"user_id":3676207,"accept_rate":100,"display_name":"sam_haz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1670253337,"creation_date":1435049096,"question_id":30997959,"body_markdown":"While doing refactoring in Netbeans I am stuck in a problem. I am not able to find the &quot;Extract Method Object&quot; option in Netbeans which helps to extract a class from a method [Like the Intellij Idea Option mentioned in this link https://www.jetbrains.com/idea/help/extract-method-object.html ] . Is there any alternative option to this?\r\n\r\n![Refactoring Option in Netbeans][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/urtD2.jpg","title":"Refactoring - Extract Method Object in Netbeans 8.0.2","body":"<p>While doing refactoring in Netbeans I am stuck in a problem. I am not able to find the \"Extract Method Object\" option in Netbeans which helps to extract a class from a method [Like the Intellij Idea Option mentioned in this link <a href=\"https://www.jetbrains.com/idea/help/extract-method-object.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/help/extract-method-object.html</a> ] . Is there any alternative option to this?</p>\n\n<p><img src=\"https://i.stack.imgur.com/urtD2.jpg\" alt=\"Refactoring Option in Netbeans\"></p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","reactive"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1670317178,"post_id":74690272,"comment_id":131842459,"body_markdown":"How did you verify that `Flux&lt;String&gt;` returns a single string? From your question description it seems like the `Flux&lt;String&gt;` is behaving correctly as it emits every string/URL individually. (It&#39;s not a List!)","body":"How did you verify that <code>Flux&lt;String&gt;</code> returns a single string? From your question description it seems like the <code>Flux&lt;String&gt;</code> is behaving correctly as it emits every string/URL individually. (It&#39;s not a List!)"},{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":0,"creation_date":1690629733,"post_id":74690272,"comment_id":135382167,"body_markdown":"This help: https://github.com/spring-projects/spring-framework/issues/22662","body":"This help: <a href=\"https://github.com/spring-projects/spring-framework/issues/22662\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/22662</a>"}],"owner":{"account_id":27153501,"reputation":11,"user_id":20692637,"display_name":"Colin Blokkeel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670253103,"creation_date":1670252858,"question_id":74690272,"body_markdown":"I have a method where I want to return a List of string. So I naturally use `Flux&lt;String&gt;`, but this returns a concatenated string.\r\nWhen I use `.collectList()` to return a `Mono&lt;List&lt;String&gt;&gt;`, I get the array, but I find this dirty.\r\n\r\n\r\nThe code : \r\n```\r\n@Override\r\npublic Flux&lt;String&gt; uploadFiles(GcpFolderEnum type, Flux&lt;FilePart&gt; files) {\r\n    if (FileUploadEnum.GCP.equals(fileUploadProperties.getType())) {\r\n        return files.flatMap(file -&gt; this.gcpServices.pushToBucket(type, file, file.filename())\r\n                .map(this.gcpServices::getUrlCdnFromBucket));\r\n    }\r\n\r\n    return Flux.empty();\r\n}\r\n```\r\n\r\nI am using java 11","title":"Flux&lt;String&gt; returns a single string, where Mono&lt;List&lt;String&gt;&gt; returns an array. Why?","body":"<p>I have a method where I want to return a List of string. So I naturally use <code>Flux&lt;String&gt;</code>, but this returns a concatenated string.\nWhen I use <code>.collectList()</code> to return a <code>Mono&lt;List&lt;String&gt;&gt;</code>, I get the array, but I find this dirty.</p>\n<p>The code :</p>\n<pre><code>@Override\npublic Flux&lt;String&gt; uploadFiles(GcpFolderEnum type, Flux&lt;FilePart&gt; files) {\n    if (FileUploadEnum.GCP.equals(fileUploadProperties.getType())) {\n        return files.flatMap(file -&gt; this.gcpServices.pushToBucket(type, file, file.filename())\n                .map(this.gcpServices::getUrlCdnFromBucket));\n    }\n\n    return Flux.empty();\n}\n</code></pre>\n<p>I am using java 11</p>\n"},{"tags":["java","scala","apache-spark","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":28401,"reputation":7279,"user_id":75838,"accept_rate":100,"display_name":"Joel Cochran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670253054,"creation_date":1670253054,"answer_id":74690316,"question_id":74683352,"body_markdown":"I remember having a similar issue. On the Storage Account, under Settings &gt; Configuration, enable the &quot;Allow Blob public access&quot; option:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis does not mean your account is public, only that containers and blobs may be set to public. It seems as though SAS tokens are managed as public, which makes sense in a way since anyone with the link can access the item(s).\r\n\r\n  [1]: https://i.stack.imgur.com/oeERr.png","title":"WASB with SAS token throws error: &quot;Public access is not permitted on this storage account.&quot;","body":"<p>I remember having a similar issue. On the Storage Account, under Settings &gt; Configuration, enable the &quot;Allow Blob public access&quot; option:</p>\n<p><a href=\"https://i.stack.imgur.com/oeERr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oeERr.png\" alt=\"enter image description here\" /></a></p>\n<p>This does not mean your account is public, only that containers and blobs may be set to public. It seems as though SAS tokens are managed as public, which makes sense in a way since anyone with the link can access the item(s).</p>\n"}],"owner":{"account_id":27147598,"reputation":1,"user_id":20687538,"display_name":"Bhavani Sankar Patnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670253054,"creation_date":1670214439,"question_id":74683352,"body_markdown":"I am not able to access a blob storage with private endpoint from apache spark. It is failing with error: \r\n```\r\norg.apache.hadoop.fs.azure.AzureException: com.microsoft.azure.storage.StorageException: \r\nPublic access is not permitted on this storage account.\r\n```\r\n\r\nSame is working with Access Keys but not with SAS tokens. I have used below conf setting as given in the documentation:\r\n\r\n```\r\nsparkSession.conf().set(\r\n  &quot;fs.azure.sas.&lt;CONTAINER_NAME&gt;.&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net&quot;, \r\n  &lt;BASE-64_ENCODED_SASTOKEN&gt;)\r\n```\r\n\r\nI have also tried like below but the result is same as above mentioned (&quot;Public access is not permitted on this storage account.&quot;)  \r\n```\r\nsparkSession.sparkContext().conf().set(\r\n  &quot;fs.azure.sas.&lt;CONTAINER_NAME&gt;.&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net&quot;, \r\n  &lt;BASE-64_ENCODED_SASTOKEN&gt;)\r\n```\r\n\r\nI tried with access keys and it works but with SAS tokens apache spark seems to have a problem in accessing the blob storage private endpoints. It works well with the public access but not with private endpoint.","title":"WASB with SAS token throws error: &quot;Public access is not permitted on this storage account.&quot;","body":"<p>I am not able to access a blob storage with private endpoint from apache spark. It is failing with error:</p>\n<pre><code>org.apache.hadoop.fs.azure.AzureException: com.microsoft.azure.storage.StorageException: \nPublic access is not permitted on this storage account.\n</code></pre>\n<p>Same is working with Access Keys but not with SAS tokens. I have used below conf setting as given in the documentation:</p>\n<pre><code>sparkSession.conf().set(\n  &quot;fs.azure.sas.&lt;CONTAINER_NAME&gt;.&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net&quot;, \n  &lt;BASE-64_ENCODED_SASTOKEN&gt;)\n</code></pre>\n<p>I have also tried like below but the result is same as above mentioned (&quot;Public access is not permitted on this storage account.&quot;)</p>\n<pre><code>sparkSession.sparkContext().conf().set(\n  &quot;fs.azure.sas.&lt;CONTAINER_NAME&gt;.&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net&quot;, \n  &lt;BASE-64_ENCODED_SASTOKEN&gt;)\n</code></pre>\n<p>I tried with access keys and it works but with SAS tokens apache spark seems to have a problem in accessing the blob storage private endpoints. It works well with the public access but not with private endpoint.</p>\n"},{"tags":["java","spring","spring-boot","junit","properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670309438,"post_id":74690311,"comment_id":131840390,"body_markdown":"The problem is you are working around/against Spring Boot. Instead tell Spring Boot through properties it needs to load `externalApi` properties as well. Spring Boot will then handle the profile specific bits. For this add `spring.config.name` as a property. It should contain both `application` and `externalApi` like so `spring.config.name=application,externalApi` and now Spring Boot will automatically load both files (including the context specific ones). You can remove the `@PropertySource` now.","body":"The problem is you are working around/against Spring Boot. Instead tell Spring Boot through properties it needs to load <code>externalApi</code> properties as well. Spring Boot will then handle the profile specific bits. For this add <code>spring.config.name</code> as a property. It should contain both <code>application</code> and <code>externalApi</code> like so <code>spring.config.name=application,externalApi</code> and now Spring Boot will automatically load both files (including the context specific ones). You can remove the <code>@PropertySource</code> now."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670309530,"post_id":74690311,"comment_id":131840409,"body_markdown":"To add Maven Profiles are a different thing then Spring Profiles, so adding `-Ptest` won&#39;t activate the Spring Test Profile. Although they share terminology they are totally different things.","body":"To add Maven Profiles are a different thing then Spring Profiles, so adding <code>-Ptest</code> won&#39;t activate the Spring Test Profile. Although they share terminology they are totally different things."}],"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670253037,"creation_date":1670253037,"question_id":74690311,"body_markdown":"I have a files structure like this:\r\n\r\n \r\n\r\n    - main/resources\r\n        - application.yml\r\n        - externalApi.yml\r\n        - application-dev.yml\r\n        - externalApi-dev.yml\r\n     - test/resources\r\n        - application-test.yml\r\n        - externalApi-test.yml\r\n\r\nNow in ApiWebClient class I want to use this additional file &quot;externalApi.yml&quot; based on active profile. I used `@PropertySource` like this: \r\n\r\n    @PropertySource(value = &quot;classpath:externalApi-${spring.profiles.active}.yml&quot;, factory = YamlPropertySourceFactory.class)\r\n    public class ApiWebClientImpl implements ApiWebClient {\r\n\r\nand everything looks fine, application starts. The problem starts in the tests:\r\n\r\n    @SpringBootTest(classes = TestApplication.class)\r\n    @EnableConfigurationProperties\r\n    @ConfigurationPropertiesScan(basePackages = &quot;com.xyz.testapplication&quot;)\r\n    @ActiveProfiles(value = &quot;test&quot;)\r\n    public class ApiWebClientTest {\r\n\r\nWhen I ran it with maven (with &quot;test&quot; profile or without it) like this: `mvn clean install -Ptest` I&#39;ve got error message that says \r\n\r\n    java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;classpath:externalApi-${spring.profiles.active}.yml\r\n\r\nSo I&#39;ve added it manually (`@ActiveProfiles` somehow does not work):\r\n\r\n`@SpringBootTest(classes = AdapterTestApplication.class, properties = &quot;spring.profiles.active=test&quot;)`\r\n\r\nand this is working properly but I don&#39;t want to update all of the spring boot tests with this part `properties = &quot;spring.profiles.active=test&quot;`. What if I will have like 200 tests? How to do it automatically? Why it does not take proper config file when I run it? Maybe there is way to get rid off `${spring.profiles.active}` in annotation?\r\n \r\n\r\n","title":"How to resolve additional configuration file based on profile in Spring Boot?","body":"<p>I have a files structure like this:</p>\n<pre><code>- main/resources\n    - application.yml\n    - externalApi.yml\n    - application-dev.yml\n    - externalApi-dev.yml\n - test/resources\n    - application-test.yml\n    - externalApi-test.yml\n</code></pre>\n<p>Now in ApiWebClient class I want to use this additional file &quot;externalApi.yml&quot; based on active profile. I used <code>@PropertySource</code> like this:</p>\n<pre><code>@PropertySource(value = &quot;classpath:externalApi-${spring.profiles.active}.yml&quot;, factory = YamlPropertySourceFactory.class)\npublic class ApiWebClientImpl implements ApiWebClient {\n</code></pre>\n<p>and everything looks fine, application starts. The problem starts in the tests:</p>\n<pre><code>@SpringBootTest(classes = TestApplication.class)\n@EnableConfigurationProperties\n@ConfigurationPropertiesScan(basePackages = &quot;com.xyz.testapplication&quot;)\n@ActiveProfiles(value = &quot;test&quot;)\npublic class ApiWebClientTest {\n</code></pre>\n<p>When I ran it with maven (with &quot;test&quot; profile or without it) like this: <code>mvn clean install -Ptest</code> I've got error message that says</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.profiles.active' in value &quot;classpath:externalApi-${spring.profiles.active}.yml\n</code></pre>\n<p>So I've added it manually (<code>@ActiveProfiles</code> somehow does not work):</p>\n<p><code>@SpringBootTest(classes = AdapterTestApplication.class, properties = &quot;spring.profiles.active=test&quot;)</code></p>\n<p>and this is working properly but I don't want to update all of the spring boot tests with this part <code>properties = &quot;spring.profiles.active=test&quot;</code>. What if I will have like 200 tests? How to do it automatically? Why it does not take proper config file when I run it? Maybe there is way to get rid off <code>${spring.profiles.active}</code> in annotation?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670234550,"post_id":74686322,"comment_id":131820716,"body_markdown":"What have you tried in code?","body":"What have you tried in code?"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":1,"creation_date":1670234847,"post_id":74686322,"comment_id":131820818,"body_markdown":"You need to do this manually in firestore, There is no default way to do this, you can update two param every time when you update any document, Thanks","body":"You need to do this manually in firestore, There is no default way to do this, you can update two param every time when you update any document, Thanks"},{"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"score":0,"creation_date":1670274040,"post_id":74686322,"comment_id":131834156,"body_markdown":"I would update the last update as server-side date: like `docRef.update(&quot;timestamp&quot;, FieldValue.serverTimestamp())` or you if you want you can replace the `FieldValue.serverTimestamp()` with your own time. take a look at this docs: \nhttps://cloud.google.com/firestore/docs/samples/firestore-data-set-server-timestamp#firestore_data_set_server_timestamp-java","body":"I would update the last update as server-side date: like <code>docRef.update(&quot;timestamp&quot;, FieldValue.serverTimestamp())</code> or you if you want you can replace the <code>FieldValue.serverTimestamp()</code> with your own time. take a look at this docs:  <a href=\"https://cloud.google.com/firestore/docs/samples/firestore-data-set-server-timestamp#firestore_data_set_server_timestamp-java\" rel=\"nofollow noreferrer\">cloud.google.com/firestore/docs/samples/&hellip;</a>"}],"owner":{"account_id":16057875,"reputation":1,"user_id":11589662,"display_name":"Andrea Galbusera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670253020,"creation_date":1670234319,"question_id":74686322,"body_markdown":"I need to implement &quot;last updated on ..... at .....&quot; writing. How can I recover this data from Firestore?\r\nEach document must have its own. And with each change it will have to be updated.\r\n\r\nThank you\r\n\r\n\r\n\r\nI try to search for this but i&#39;ve to found anithing","title":"Add &quot;last update&quot; of day and time in Android studio (Java). From Firebase Firestore","body":"<p>I need to implement &quot;last updated on ..... at .....&quot; writing. How can I recover this data from Firestore?\nEach document must have its own. And with each change it will have to be updated.</p>\n<p>Thank you</p>\n<p>I try to search for this but i've to found anithing</p>\n"},{"tags":["java","arraylist"],"answers":[{"comments":[{"owner":{"account_id":16152907,"reputation":17,"user_id":11660864,"display_name":"Slim&#39;odara"},"score":0,"creation_date":1567649254,"post_id":57797528,"comment_id":102027935,"body_markdown":"Will importing the Array class (import java.util.Arrays;) in my main class will be a required step? This is my first-week coding in Java","body":"Will importing the Array class (import java.util.Arrays;) in my main class will be a required step? This is my first-week coding in Java"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1567650509,"post_id":57797528,"comment_id":102028142,"body_markdown":"Yes. Or use `java.util.Arrays` instead of `Arrays` (`import` doesn&#39;t exist after compilation anyway).","body":"Yes. Or use <code>java.util.Arrays</code> instead of <code>Arrays</code> (<code>import</code> doesn&#39;t exist after compilation anyway)."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567648921,"creation_date":1567648921,"answer_id":57797528,"question_id":57797497,"body_markdown":"Your need a `List&lt;String&gt;` instead of a single `String`, [`Arrays.asList(T...)`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-) is probably the easiest solution:\r\n\r\n    Patient patientobj = new Patient(&quot;sean&quot;, &quot;john&quot;, Arrays.asList(&quot;allergy1&quot;));\r\n\r\nAnd if you have more allergies\r\n\r\n    Patient patientobj = new Patient(&quot;sean&quot;, &quot;john&quot;, \r\n            Arrays.asList(&quot;allergy1&quot;, &quot;allergy2&quot;));\r\n","title":"How to pass a list variable into a constructor/method","body":"<p>Your need a <code>List&lt;String&gt;</code> instead of a single <code>String</code>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"nofollow noreferrer\"><code>Arrays.asList(T...)</code></a> is probably the easiest solution:</p>\n\n<pre><code>Patient patientobj = new Patient(\"sean\", \"john\", Arrays.asList(\"allergy1\"));\n</code></pre>\n\n<p>And if you have more allergies</p>\n\n<pre><code>Patient patientobj = new Patient(\"sean\", \"john\", \n        Arrays.asList(\"allergy1\", \"allergy2\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15700819,"reputation":86,"user_id":11328983,"display_name":"javaNoob"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567650037,"creation_date":1567649135,"answer_id":57797550,"question_id":57797497,"body_markdown":"    public class Patient {\r\n\r\n    private String patientfirstName;\r\n    private String patientLastName;\r\n    private List&lt;String&gt; allergyList;\r\n\r\n\r\n     public Patient(String patientfirstName, String patientLastName, \r\n     List&lt;String&gt; allergyList) {\r\n     this.patientfirstName = patientfirstName;\r\n     this.patientLastName = patientLastName;\r\n     this.allergyList = allergyList;\r\n      }\r\n\r\n\r\n\r\n\r\n     *Patient patientobj = new Patient(&quot;sean&quot;,&quot;john&quot;,&quot;allegry1&quot;);*// this is wrong you have to pass a list not the string. you should do something like this:\r\n\r\n     // first create a list and add the value to it\r\n     List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n     list.add(&quot;allergy1&quot;);\r\n\r\n     // now create a object and pass the list along with other variables\r\n     Patient patientobj = new Patient(&quot;sean&quot;,&quot;john&quot;,list);\r\n\r\n","title":"How to pass a list variable into a constructor/method","body":"<pre><code>public class Patient {\n\nprivate String patientfirstName;\nprivate String patientLastName;\nprivate List&lt;String&gt; allergyList;\n\n\n public Patient(String patientfirstName, String patientLastName, \n List&lt;String&gt; allergyList) {\n this.patientfirstName = patientfirstName;\n this.patientLastName = patientLastName;\n this.allergyList = allergyList;\n  }\n\n\n\n\n *Patient patientobj = new Patient(\"sean\",\"john\",\"allegry1\");*// this is wrong you have to pass a list not the string. you should do something like this:\n\n // first create a list and add the value to it\n List&lt;String&gt; list = new ArrayList&lt;&gt;();\n list.add(\"allergy1\");\n\n // now create a object and pass the list along with other variables\n Patient patientobj = new Patient(\"sean\",\"john\",list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14740307,"reputation":114,"user_id":10645101,"display_name":"Chivenh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567653802,"creation_date":1567653802,"answer_id":57798025,"question_id":57797497,"body_markdown":"You also has a solutionis just add one constructor of the class `Patient`.\r\n```java\r\npublic Patient (String patientfirstName,String patientLastName,String allergeyList){\r\nthis.patientfirstName  = patientfirstName;\r\nthis.patientLastName = patientLastName;\\\r\nthis.allergeyList = new ArrayList&lt;&gt;( Arrays.asList(allergeyList));\r\n}\r\n```\r\n\r\n","title":"How to pass a list variable into a constructor/method","body":"<p>You also has a solutionis just add one constructor of the class <code>Patient</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Patient (String patientfirstName,String patientLastName,String allergeyList){\nthis.patientfirstName  = patientfirstName;\nthis.patientLastName = patientLastName;\\\nthis.allergeyList = new ArrayList&lt;&gt;( Arrays.asList(allergeyList));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16605675,"reputation":1,"user_id":12000229,"display_name":"Pietro Celiento"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567671360,"creation_date":1567671360,"answer_id":57801197,"question_id":57797497,"body_markdown":"In my opinion, you could use **Varargs**.\r\nThanks to varargs you can put into the parameters how many arguments do you want\r\n\r\n\r\n\r\n    public class Patient {\r\n\t\r\n\tpublic String patientfirstName;\r\n\tpublic String patientLastName;\r\n\tpublic List&lt;String&gt; allergyList;\r\n\r\n\r\n\r\n\tpublic Patient(String fName,String lName,String...aList) {\r\n\t\tthis.patientfirstName = fName;\r\n\t\tthis.patientLastName = lName;\r\n\t\tthis.allergyList = Arrays.asList(aList);\r\n\t}\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tPatient firstPatient = new Patient(&quot;Foo&quot;, &quot;Bar&quot;, &quot;First Allergy&quot;,&quot;Second Allergy&quot;);\r\n\t\t\r\n\t\tPatient secondPatient = new Patient(&quot;Foo&quot;, &quot;Baz&quot;, &quot;First Allergy&quot;,&quot;Second Allergy&quot;,&quot;Third Allergy&quot;,&quot;Fourth Allergy&quot;);\r\n\t\t\r\n\t\tPatient ThirdPatient = new Patient(&quot;Foo&quot;, &quot;Foo&quot;, &quot;First Allergy&quot;);\r\n\t}\r\n\r\n\r\n\r\n\r\nThe parameter **&quot;aList&quot;** is like an array because varargs is like an array with no specific lenght,the length you choose when you enter the parameters, as you can see\r\n\r\nThe type of allergyList is by choice.. you can also do this:\r\n\r\n\r\nIn &quot;Patient&quot; attributes:\r\n   \r\n\r\n     public String[] allergyList;\r\n\r\nIn the costructor:\r\n\r\n    public Patient(String fName,String lName,String...aList) {\r\n    \t\tthis.patientfirstName = fName;\r\n    \t\tthis.patientLastName = lName;\r\n    \t\tthis.allergyList = allergyList;\r\n    \t}\r\n\r\n","title":"How to pass a list variable into a constructor/method","body":"<p>In my opinion, you could use <strong>Varargs</strong>.\nThanks to varargs you can put into the parameters how many arguments do you want</p>\n\n<pre><code>public class Patient {\n\npublic String patientfirstName;\npublic String patientLastName;\npublic List&lt;String&gt; allergyList;\n\n\n\npublic Patient(String fName,String lName,String...aList) {\n    this.patientfirstName = fName;\n    this.patientLastName = lName;\n    this.allergyList = Arrays.asList(aList);\n}\n\n\npublic static void main(String[] args) {\n\n    Patient firstPatient = new Patient(\"Foo\", \"Bar\", \"First Allergy\",\"Second Allergy\");\n\n    Patient secondPatient = new Patient(\"Foo\", \"Baz\", \"First Allergy\",\"Second Allergy\",\"Third Allergy\",\"Fourth Allergy\");\n\n    Patient ThirdPatient = new Patient(\"Foo\", \"Foo\", \"First Allergy\");\n}\n</code></pre>\n\n<p>The parameter <strong>\"aList\"</strong> is like an array because varargs is like an array with no specific lenght,the length you choose when you enter the parameters, as you can see</p>\n\n<p>The type of allergyList is by choice.. you can also do this:</p>\n\n<p>In \"Patient\" attributes:</p>\n\n<pre><code> public String[] allergyList;\n</code></pre>\n\n<p>In the costructor:</p>\n\n<pre><code>public Patient(String fName,String lName,String...aList) {\n        this.patientfirstName = fName;\n        this.patientLastName = lName;\n        this.allergyList = allergyList;\n    }\n</code></pre>\n"}],"owner":{"account_id":16152907,"reputation":17,"user_id":11660864,"display_name":"Slim&#39;odara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3712,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1670252915,"creation_date":1567648605,"question_id":57797497,"body_markdown":"I&#39;m new to Java. I&#39;m having issues passing a List variable that is part of a constructor definition when I created an object of the class\r\n\r\n        public class Patient {\r\n\r\n\t    private String patientfirstName;\r\n\t    private String patientLastName;\r\n\t    private List&lt;String&gt; allergyList;\r\n\r\n\r\n         public Patient(String patientfirstName, String patientLastName, \r\n         List&lt;String&gt; allergyList) {\r\n\t\t this.patientfirstName = patientfirstName;\r\n\t\t this.patientLastName = patientLastName;\r\n\t\t this.allergyList = allergyList;\r\n\t      }\r\n\r\n\r\n         Patient patientobj = new Patient(&quot;sean&quot;,&quot;john&quot;,&quot;allegry1&quot;);\r\n\r\ngives an error: &quot;constructor &quot;Str,str,str&quot; not defined.&quot; \r\n\r\nI need help on how to pass the allergy","title":"How to pass a list variable into a constructor/method","body":"<p>I'm new to Java. I'm having issues passing a List variable that is part of a constructor definition when I created an object of the class</p>\n<pre><code>    public class Patient {\n\n    private String patientfirstName;\n    private String patientLastName;\n    private List&lt;String&gt; allergyList;\n\n\n     public Patient(String patientfirstName, String patientLastName, \n     List&lt;String&gt; allergyList) {\n     this.patientfirstName = patientfirstName;\n     this.patientLastName = patientLastName;\n     this.allergyList = allergyList;\n      }\n\n\n     Patient patientobj = new Patient(&quot;sean&quot;,&quot;john&quot;,&quot;allegry1&quot;);\n</code></pre>\n<p>gives an error: &quot;constructor &quot;Str,str,str&quot; not defined.&quot;</p>\n<p>I need help on how to pass the allergy</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":5,"creation_date":1373648927,"post_id":17620320,"comment_id":25650383,"body_markdown":"You are passing `String[]` and your constructor takes `String`.","body":"You are passing <code>String[]</code> and your constructor takes <code>String</code>."}],"answers":[{"comments":[{"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"score":1,"creation_date":1373649138,"post_id":17620337,"comment_id":25650483,"body_markdown":"How am I passing String[] as first arg?","body":"How am I passing String[] as first arg?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1373649162,"post_id":17620337,"comment_id":25650498,"body_markdown":"@Grafica in `TestPayroll` class, `name` variable is `String[] name`.","body":"@Grafica in <code>TestPayroll</code> class, <code>name</code> variable is <code>String[] name</code>."},{"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"score":0,"creation_date":1373649336,"post_id":17620337,"comment_id":25650602,"body_markdown":"So what is it supposed to be?","body":"So what is it supposed to be?"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1373649362,"post_id":17620337,"comment_id":25650612,"body_markdown":"@Grafica a single instance of `String`, for example `name[0]` for `Tiny Tim`","body":"@Grafica a single instance of <code>String</code>, for example <code>name[0]</code> for <code>Tiny Tim</code>"},{"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"score":0,"creation_date":1373649569,"post_id":17620337,"comment_id":25650725,"body_markdown":"@Jigar Joshi: what line are you referring to that name[0] should be in?","body":"@Jigar Joshi: what line are you referring to that name[0] should be in?"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1373649618,"post_id":17620337,"comment_id":25650745,"body_markdown":"`Payroll payroll = new Payroll(name, weeksPay);`","body":"<code>Payroll payroll = new Payroll(name, weeksPay);</code>"},{"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"score":0,"creation_date":1373649836,"post_id":17620337,"comment_id":25650878,"body_markdown":"@Jigar Joshi: Like this? &#39;Payroll payroll = new Payroll(name[], weeksPay);&#39;\nWhat should my JOptionPane statement look like, since I want to display the week&#39;s pay associated with ea. name?","body":"@Jigar Joshi: Like this? &#39;Payroll payroll = new Payroll(name[], weeksPay);&#39; What should my JOptionPane statement look like, since I want to display the week&#39;s pay associated with ea. name?"},{"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"score":0,"creation_date":1373650202,"post_id":17620337,"comment_id":25651080,"body_markdown":"The code is supposed to have private data members for an employee&#39;s name, hourly rate pay, number of hours worked, and total pay for the week. The array of 3 Payroll objects is instantiated manually with the number of hours each employee worked.  I want to display the week&#39;s pay for each employee.","body":"The code is supposed to have private data members for an employee&#39;s name, hourly rate pay, number of hours worked, and total pay for the week. The array of 3 Payroll objects is instantiated manually with the number of hours each employee worked.  I want to display the week&#39;s pay for each employee."},{"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"score":0,"creation_date":1373650298,"post_id":17620337,"comment_id":25651126,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/33379/discussion-between-grafica-and-jigar-joshi)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/33379/discussion-between-grafica-and-jigar-joshi\">continue this discussion in chat</a>"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":9,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1373648918,"creation_date":1373648918,"answer_id":17620337,"question_id":17620320,"body_markdown":"You have following constructors for `Payroll`\r\n\r\n        public Payroll(String name, double weeksPay) {/* some code */}\r\nand\r\n\r\n        public Payroll() {/* some */}\r\n\r\nand you are passing `String[]` as first argument","title":"Why is there an error &quot;no suitable constructor found&quot; for my String[]?","body":"<p>You have following constructors for <code>Payroll</code></p>\n\n<pre><code>    public Payroll(String name, double weeksPay) {/* some code */}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    public Payroll() {/* some */}\n</code></pre>\n\n<p>and you are passing <code>String[]</code> as first argument</p>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373649135,"creation_date":1373649135,"answer_id":17620402,"question_id":17620320,"body_markdown":"       //Payroll constructor. your argument types is String and double.\r\n        public Payroll(String name, double weeksPay) {\r\n            this.name = name;\r\n            this.weeksPay = weeksPay;\r\n        }\r\n\r\nBut \r\n\r\n      //Payroll object\r\n      Payroll payroll = new Payroll(name, weeksPay); // you are using String[] array and double as in put arguments.\r\n","title":"Why is there an error &quot;no suitable constructor found&quot; for my String[]?","body":"<pre><code>   //Payroll constructor. your argument types is String and double.\n    public Payroll(String name, double weeksPay) {\n        this.name = name;\n        this.weeksPay = weeksPay;\n    }\n</code></pre>\n\n<p>But </p>\n\n<pre><code>  //Payroll object\n  Payroll payroll = new Payroll(name, weeksPay); // you are using String[] array and double as in put arguments.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9598838,"reputation":13,"user_id":7127110,"display_name":"kmistri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595167089,"creation_date":1595167089,"answer_id":62981224,"question_id":17620320,"body_markdown":"This is the method you are calling, which takes an argument as a single string:\r\n```\r\n//Payroll constructor\r\n        public Payroll(String name, double weeksPay)\r\n```\r\nAnd here are the calls you are making:\r\n```\r\n    //Payroll object\r\n    Payroll payroll = new Payroll(name, weeksPay);\r\n```\r\nWhere the objects are referenced name as a string array object rather than passing a single string:\r\n```\r\n    private String [] name = {&quot;Tiny Tim&quot;, &quot;Brad Pitt&quot;, &quot;Madonna&quot;};\r\n```\r\n\r\nTry it with an enumerator to pass the value one by one.\r\nOR\r\nYou can create a constructor for string array where the same logic needs to be added into a constructor rather than the main method.","title":"Why is there an error &quot;no suitable constructor found&quot; for my String[]?","body":"<p>This is the method you are calling, which takes an argument as a single string:</p>\n<pre><code>//Payroll constructor\n        public Payroll(String name, double weeksPay)\n</code></pre>\n<p>And here are the calls you are making:</p>\n<pre><code>    //Payroll object\n    Payroll payroll = new Payroll(name, weeksPay);\n</code></pre>\n<p>Where the objects are referenced name as a string array object rather than passing a single string:</p>\n<pre><code>    private String [] name = {&quot;Tiny Tim&quot;, &quot;Brad Pitt&quot;, &quot;Madonna&quot;};\n</code></pre>\n<p>Try it with an enumerator to pass the value one by one.\nOR\nYou can create a constructor for string array where the same logic needs to be added into a constructor rather than the main method.</p>\n"}],"owner":{"account_id":1051120,"reputation":369,"user_id":1055034,"accept_rate":77,"display_name":"Grafica"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36891,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":17620337,"answer_count":3,"score":2,"last_activity_date":1670252724,"creation_date":1373648856,"question_id":17620320,"body_markdown":"The error is that there is no &quot;suitable constructor found&quot; for TestPayroll with this statement:  \r\n`Payroll payroll = new Payroll(name, weeksPay); `\r\n\r\nWhat should the constructor be? I assume it should be in the Payroll class. \r\n\r\nI want to display the pay for the week for Tiny Tim, Brad Pitt, and Madonna.\r\n\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class TestPayroll {\r\n    \r\n    \tprivate String [] name = {&quot;Tiny Tim&quot;, &quot;Brad Pitt&quot;, &quot;Madonna&quot;};\r\n    \tprivate double [] payRate = {100.25, 150.50, 124.25};\r\n    \tprivate double [] hrsWorked = {40, 35, 36};\r\n    \tprivate double weeksPay;\r\n    \t\r\n    \t//Payroll object\r\n    \tPayroll payroll = new Payroll(name, weeksPay);\r\n    \t\t\r\n    \t\t\r\n        public static void main(String[] args) {\r\n    \t\t\t\t\t\r\n    \t//Display weekly pay\r\n    \tJOptionPane.showMessageDialog(null, &quot;%s&#39;s pay for the week is: $%.2f\\n&quot;, payroll[0].getName(), payroll[0].getWeeksPay()); \r\n    \t\t\r\n    \t}\t\r\n    \t\t\t\t\t\r\n    }\r\n    \r\n    public class Payroll {\r\n    \t\t\r\n        public static void main(String[] args) {\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate String name;\r\n    \t\tprivate double payRate;\r\n    \t\tprivate double hrsWorked;\r\n    \t\tprivate double weeksPay;\r\n    \t\t\r\n    \t\t//default constructor\r\n    \t\tpublic Payroll() {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.payRate = payRate;\r\n    \t\t\tthis.hrsWorked = hrsWorked;\r\n    \t\t\tthis.weeksPay = weeksPay;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//Payroll constructor\r\n    \t\tpublic Payroll(String name, double weeksPay) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.weeksPay = weeksPay;\r\n    \t\t}\r\n    \t\t\t\t\r\n    \t\t//return name\r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//set name\r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//return pay rate\r\n    \t\tpublic double getPayRate() {\r\n    \t\t\treturn payRate;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//set pay rate\r\n    \t\tpublic void setPayRate(double payRate) {\r\n    \t\t\tthis.payRate = payRate;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//return hours worked for the week\r\n    \t\tpublic double getHrsWorked() {\r\n    \t\t\treturn hrsWorked;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//set hours worked for the week\r\n    \t\tpublic void setHrsWorked(double hrsWorked) {\r\n    \t\t\tthis.hrsWorked = hrsWorked;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//find week&#39;s pay\r\n    \t\tpublic double getWeeksPay(double weeksPay) {\r\n    \t\t\tdouble weeksPay = payRate * hrsWorked;\r\n                return weeksPay;\r\n    \t\t}\t\r\n    \t\t\t\t\t\r\n    }","title":"Why is there an error &quot;no suitable constructor found&quot; for my String[]?","body":"<p>The error is that there is no &quot;suitable constructor found&quot; for TestPayroll with this statement:<br />\n<code>Payroll payroll = new Payroll(name, weeksPay); </code></p>\n<p>What should the constructor be? I assume it should be in the Payroll class.</p>\n<p>I want to display the pay for the week for Tiny Tim, Brad Pitt, and Madonna.</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class TestPayroll {\n\n    private String [] name = {&quot;Tiny Tim&quot;, &quot;Brad Pitt&quot;, &quot;Madonna&quot;};\n    private double [] payRate = {100.25, 150.50, 124.25};\n    private double [] hrsWorked = {40, 35, 36};\n    private double weeksPay;\n    \n    //Payroll object\n    Payroll payroll = new Payroll(name, weeksPay);\n        \n        \n    public static void main(String[] args) {\n                    \n    //Display weekly pay\n    JOptionPane.showMessageDialog(null, &quot;%s's pay for the week is: $%.2f\\n&quot;, payroll[0].getName(), payroll[0].getWeeksPay()); \n        \n    }   \n                    \n}\n\npublic class Payroll {\n        \n    public static void main(String[] args) {\n        }\n        \n        private String name;\n        private double payRate;\n        private double hrsWorked;\n        private double weeksPay;\n        \n        //default constructor\n        public Payroll() {\n            this.name = name;\n            this.payRate = payRate;\n            this.hrsWorked = hrsWorked;\n            this.weeksPay = weeksPay;\n        }\n        \n        //Payroll constructor\n        public Payroll(String name, double weeksPay) {\n            this.name = name;\n            this.weeksPay = weeksPay;\n        }\n                \n        //return name\n        public String getName() {\n            return name;\n        }\n        \n        //set name\n        public void setName(String name) {\n            this.name = name;\n        }\n        \n        //return pay rate\n        public double getPayRate() {\n            return payRate;\n        }\n        \n        //set pay rate\n        public void setPayRate(double payRate) {\n            this.payRate = payRate;\n        }\n        \n        //return hours worked for the week\n        public double getHrsWorked() {\n            return hrsWorked;\n        }\n        \n        //set hours worked for the week\n        public void setHrsWorked(double hrsWorked) {\n            this.hrsWorked = hrsWorked;\n        }\n        \n        //find week's pay\n        public double getWeeksPay(double weeksPay) {\n            double weeksPay = payRate * hrsWorked;\n            return weeksPay;\n        }   \n                    \n}\n</code></pre>\n"},{"tags":["java","jdbc","firebird","jaybird"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1670251580,"post_id":74687703,"comment_id":131826730,"body_markdown":"Please show how you&#39;re running your program, specifically how you have configured the classpath. The error means that the Jaybird JDBC driver is not on the classpath. As an aside, the stacktrace shows you&#39;re using Java 9 or higher to run, not Java 8. Also, please translate the sentence before the stacktrace. It seems to be Portuguese. If I interpret that correctly, you seem to be trying and Jaybird 4.0.8 *and* Jaybird 3.0.12. You should pick only one.","body":"Please show how you&#39;re running your program, specifically how you have configured the classpath. The error means that the Jaybird JDBC driver is not on the classpath. As an aside, the stacktrace shows you&#39;re using Java 9 or higher to run, not Java 8. Also, please translate the sentence before the stacktrace. It seems to be Portuguese. If I interpret that correctly, you seem to be trying and Jaybird 4.0.8 <i>and</i> Jaybird 3.0.12. You should pick only one."}],"answers":[{"comments":[{"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"score":0,"creation_date":1670347205,"post_id":74690115,"comment_id":131853711,"body_markdown":"Thanks for the answer, the problem was that I had not unzipped the jaybird lib, so I unzipped it and added it to the project, everything went well.","body":"Thanks for the answer, the problem was that I had not unzipped the jaybird lib, so I unzipped it and added it to the project, everything went well."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670252442,"creation_date":1670252080,"answer_id":74690115,"question_id":74687703,"body_markdown":"The error means that Jaybird is not on the classpath. When running your application, make sure you specify the correct classpath (you need both `jaybird-4.0.8.java8.jar` and `connector-api-1.5.jar`):\r\n\r\nFor example:\r\n```none\r\njava -cp .;D:\\libs\\jaybird-4.0.8.java8\\jaybird-4.0.8.java8.jar;D:\\libs\\jaybird-4.0.8.java8\\lib\\connector-api-1.5.jar testej.TesteConexao\r\n```\r\n\r\nor (only) `jaybird-full-4.0.8.java8.jar`:\r\n\r\n```none\r\njava -cp .;D:\\libs\\jaybird-4.0.8.java8\\jaybird-full-4.0.8.java8.jar testej.TesteConexao\r\n```\r\n\r\nWhen running from Linux, use `:` as the classpath separator instead of `;`.\r\n\r\nAs an aside, explicitly loading the driver with `Class.forName` hasn&#39;t been necessary since Jaybird 2.2 on Java 6 or higher.","title":"java.lang.ClassNotFoundException: org.firebirdsql.jdbc.FBDriver","body":"<p>The error means that Jaybird is not on the classpath. When running your application, make sure you specify the correct classpath (you need both <code>jaybird-4.0.8.java8.jar</code> and <code>connector-api-1.5.jar</code>):</p>\n<p>For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp .;D:\\libs\\jaybird-4.0.8.java8\\jaybird-4.0.8.java8.jar;D:\\libs\\jaybird-4.0.8.java8\\lib\\connector-api-1.5.jar testej.TesteConexao\n</code></pre>\n<p>or (only) <code>jaybird-full-4.0.8.java8.jar</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp .;D:\\libs\\jaybird-4.0.8.java8\\jaybird-full-4.0.8.java8.jar testej.TesteConexao\n</code></pre>\n<p>When running from Linux, use <code>:</code> as the classpath separator instead of <code>;</code>.</p>\n<p>As an aside, explicitly loading the driver with <code>Class.forName</code> hasn't been necessary since Jaybird 2.2 on Java 6 or higher.</p>\n"}],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670252502,"creation_date":1670240956,"question_id":74687703,"body_markdown":"I am not able to access the Firebird configuration string, and it works perfectly in MySQL.\r\n\r\n```\r\npackage testej;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class TesteConexao {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            \r\n            Class.forName(&quot;org.firebirdsql.jdbc.FBDriver&quot;);\r\n            String URL = &quot;jdbc:firebirdsql:localhost/3050:C:/DB/DASHBOARD.FDB&quot;;\r\n            String usuario = &quot;SYSDBA&quot;;\r\n            String senha = &quot;masterkey&quot;;\r\n            Connection conn = DriverManager.getConnection(URL, usuario, senha);\r\n            System.out.println(&quot;Conex&#227;o efetuada com sucesso!&quot;);\r\n            conn.close();\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            \r\n            ex.printStackTrace();\r\n            \r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\njava version &quot;1.8.0_311&quot;, my firebird is 3.0.10 33601 x64, jdbc driver jaybird4.0.8 1.8 ,jaybird 3.0.12 1.8 , jaxb.2.3.0\r\n\r\n```\r\njava.lang.ClassNotFoundException: org.firebirdsql.jdbc.FBDriver\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    at java.base/java.lang.Class.forName0(Native Method)\r\n    at java.base/java.lang.Class.forName(Class.java:375)\r\n    at testej.TesteConexao.main(TesteConexao.java:12)\r\n```\r\n","title":"java.lang.ClassNotFoundException: org.firebirdsql.jdbc.FBDriver","body":"<p>I am not able to access the Firebird configuration string, and it works perfectly in MySQL.</p>\n<pre><code>package testej;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class TesteConexao {\n\n    public static void main(String[] args) {\n        try {\n            \n            Class.forName(&quot;org.firebirdsql.jdbc.FBDriver&quot;);\n            String URL = &quot;jdbc:firebirdsql:localhost/3050:C:/DB/DASHBOARD.FDB&quot;;\n            String usuario = &quot;SYSDBA&quot;;\n            String senha = &quot;masterkey&quot;;\n            Connection conn = DriverManager.getConnection(URL, usuario, senha);\n            System.out.println(&quot;Conexo efetuada com sucesso!&quot;);\n            conn.close();\n        } catch (ClassNotFoundException | SQLException ex) {\n            \n            ex.printStackTrace();\n            \n        }\n\n    }\n\n}\n</code></pre>\n<p>java version &quot;1.8.0_311&quot;, my firebird is 3.0.10 33601 x64, jdbc driver jaybird4.0.8 1.8 ,jaybird 3.0.12 1.8 , jaxb.2.3.0</p>\n<pre><code>java.lang.ClassNotFoundException: org.firebirdsql.jdbc.FBDriver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at testej.TesteConexao.main(TesteConexao.java:12)\n</code></pre>\n"},{"tags":["java","visual-studio-code","debugging"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669364419,"post_id":74557459,"comment_id":131629507,"body_markdown":"Use the `vmArgs` parameter in *launch.json* to add arguments to the jvm.\nOr use `&quot;java.debug.settings.vmArgs&quot;:` configuration in *settings.json*. Here is the [official documentation](https://code.visualstudio.com/docs/java/java-debugging#_launch) explaining it.","body":"Use the <code>vmArgs</code> parameter in <i>launch.json</i> to add arguments to the jvm. Or use <code>&quot;java.debug.settings.vmArgs&quot;:</code> configuration in <i>settings.json</i>. Here is the <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\">official documentation</a> explaining it."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669873836,"post_id":74557459,"comment_id":131743085,"body_markdown":"Is there any progress on the problem? If you find the solution, you could click &#39;&#39; to mark it as an answer to change its status to Answered. It will also help others to solve a similar issue. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"Is there any progress on the problem? If you find the solution, you could click &#39;&#39; to mark it as an answer to change its status to Answered. It will also help others to solve a similar issue. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670016426,"post_id":74557459,"comment_id":131782807,"body_markdown":"I accepted the answer but it requires modification. Check the latest comments I added. I can&#39;t modify the answer due to limits reached by the site. Can you help?","body":"I accepted the answer but it requires modification. Check the latest comments I added. I can&#39;t modify the answer due to limits reached by the site. Can you help?"}],"answers":[{"comments":[{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1669647911,"post_id":74570577,"comment_id":131683692,"body_markdown":"Thanks a lot. I though if I change `server=n` to `server=y` that would solve the error `ERROR: transport error 202: recv error: Connection reset by peer`. I managed to create an attach request with `server=y` but the error would be thrown after a couple of minutes even after debugging is active as successful. Can you help find out why this error is thrown during the debugging session?","body":"Thanks a lot. I though if I change <code>server=n</code> to <code>server=y</code> that would solve the error <code>ERROR: transport error 202: recv error: Connection reset by peer</code>. I managed to create an attach request with <code>server=y</code> but the error would be thrown after a couple of minutes even after debugging is active as successful. Can you help find out why this error is thrown during the debugging session?"},{"owner":{"account_id":12172246,"reputation":789,"user_id":8886529,"display_name":"vladimirror"},"score":0,"creation_date":1669652537,"post_id":74570577,"comment_id":131685512,"body_markdown":"@tarekahf oof, I am like happy to help, but we would need to find a better chat option :D Does it work the first couple of minutes though? Also, I am no Java expert so I am not sure I will be of huge help, just saying.","body":"@tarekahf oof, I am like happy to help, but we would need to find a better chat option :D Does it work the first couple of minutes though? Also, I am no Java expert so I am not sure I will be of huge help, just saying."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1669653795,"post_id":74570577,"comment_id":131685996,"body_markdown":"That&#39;s awesome! I am searching now and I have doubt that it&#39;s the application causing this error. I will find a multi-module sample maven simple project and try to debug and see if I will get this error.","body":"That&#39;s awesome! I am searching now and I have doubt that it&#39;s the application causing this error. I will find a multi-module sample maven simple project and try to debug and see if I will get this error."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1669919666,"post_id":74570577,"comment_id":131758159,"body_markdown":"I marked this as an answer, but I will edit it later to add more details. Basically, it is only possible to change debug arguments with the `attach request`.","body":"I marked this as an answer, but I will edit it later to add more details. Basically, it is only possible to change debug arguments with the <code>attach request</code>."},{"owner":{"account_id":12172246,"reputation":789,"user_id":8886529,"display_name":"vladimirror"},"score":0,"creation_date":1669997460,"post_id":74570577,"comment_id":131777477,"body_markdown":"@tarekahf Really? AFAIK according to the docs, the `attach` config has only &quot;location&quot; options ie. where to connect, and everything else seems to be done using the `launch` config. Although I might be just misunderstanding your question.","body":"@tarekahf Really? AFAIK according to the docs, the <code>attach</code> config has only &quot;location&quot; options ie. where to connect, and everything else seems to be done using the <code>launch</code> config. Although I might be just misunderstanding your question."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670011964,"post_id":74570577,"comment_id":131781728,"body_markdown":"Yes, the attach request depends on a task to be launched before the attach. The task will invoke the command line to launch Java.exe with the custom debug arguments. You can rip off the java.exe command from the launch request shown the integrated terminal and create the shell task accordingly. I think one of the docs you mentioned explained this in details. I can&#39;t edit the answer due to some limitation now with the site.","body":"Yes, the attach request depends on a task to be launched before the attach. The task will invoke the command line to launch Java.exe with the custom debug arguments. You can rip off the java.exe command from the launch request shown the integrated terminal and create the shell task accordingly. I think one of the docs you mentioned explained this in details. I can&#39;t edit the answer due to some limitation now with the site."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670016308,"post_id":74570577,"comment_id":131782785,"body_markdown":"This is the article with a lot of details to configure a `launch request` with a `preLaunchTask` task configuration: https://github.com/microsoft/vscode-java-debug/blob/main/Configuration.md#attach-to-a-debuggee. If you can edit the answer and provide such details, that would be great.","body":"This is the article with a lot of details to configure a <code>launch request</code> with a <code>preLaunchTask</code> task configuration: <a href=\"https://github.com/microsoft/vscode-java-debug/blob/main/Configuration.md#attach-to-a-debuggee\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-debug/blob/main/&hellip;</a>. If you can edit the answer and provide such details, that would be great."},{"owner":{"account_id":12172246,"reputation":789,"user_id":8886529,"display_name":"vladimirror"},"score":0,"creation_date":1670252542,"post_id":74570577,"comment_id":131827117,"body_markdown":"@tarekahf thank you! I had no idea about that repository. I have added it into the text.","body":"@tarekahf thank you! I had no idea about that repository. I have added it into the text."}],"tags":[],"owner":{"account_id":12172246,"reputation":789,"user_id":8886529,"display_name":"vladimirror"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670252486,"creation_date":1669368278,"answer_id":74570577,"question_id":74557459,"body_markdown":"Stack Overflow seems to have these answers. I never tested them myself though. \r\n- https://stackoverflow.com/questions/61700234/how-to-set-java-vmargs-in-vscode-at-workspace-level\r\n- https://stackoverflow.com/questions/60305138/vscode-java-test-config-vmargs-not-working\r\n- Thanks to your mention, there is an article with a lot of details to configure a `launch request` with a `preLaunchTask` task configuration at https://github.com/microsoft/vscode-java-debug/blob/388c842bcc854a9e2f7f1e8fc5aa9520cb7fecf6/Configuration.md#attach-to-a-debuggee\r\n\r\nIf it helps, one of the SO questions, and a comment here, has a link to the VSCode configuration reference, https://code.visualstudio.com/docs/java/java-debugging#_attach . There you can see the `attach request` options.\r\n\r\nMy understanding of the `attach` vs `launch` is that \r\n- `launch` runs your App, and then automatically attaches a debugger to it.\r\n- `attach` is used only in cases where you have an already running JVM, lets say on some remote server, and you want to debug it. \r\n\r\nHow are you running starting your JVM? My guess would be that if you are starting the JVM from terminal, then put the `server=y` option there. If you want the VSCode to run the JVM, which I assume is the case, then the `launch request` is what you want.","title":"How to change Java Debug Arguments in vscode launch.json config?","body":"<p>Stack Overflow seems to have these answers. I never tested them myself though.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/61700234/how-to-set-java-vmargs-in-vscode-at-workspace-level\">How to set java vmargs in vscode at workspace level</a></li>\n<li><a href=\"https://stackoverflow.com/questions/60305138/vscode-java-test-config-vmargs-not-working\">vsCode java.test.config vmArgs not working</a></li>\n<li>Thanks to your mention, there is an article with a lot of details to configure a <code>launch request</code> with a <code>preLaunchTask</code> task configuration at <a href=\"https://github.com/microsoft/vscode-java-debug/blob/388c842bcc854a9e2f7f1e8fc5aa9520cb7fecf6/Configuration.md#attach-to-a-debuggee\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode-java-debug/blob/388c842bcc854a9e2f7f1e8fc5aa9520cb7fecf6/Configuration.md#attach-to-a-debuggee</a></li>\n</ul>\n<p>If it helps, one of the SO questions, and a comment here, has a link to the VSCode configuration reference, <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_attach\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-debugging#_attach</a> . There you can see the <code>attach request</code> options.</p>\n<p>My understanding of the <code>attach</code> vs <code>launch</code> is that</p>\n<ul>\n<li><code>launch</code> runs your App, and then automatically attaches a debugger to it.</li>\n<li><code>attach</code> is used only in cases where you have an already running JVM, lets say on some remote server, and you want to debug it.</li>\n</ul>\n<p>How are you running starting your JVM? My guess would be that if you are starting the JVM from terminal, then put the <code>server=y</code> option there. If you want the VSCode to run the JVM, which I assume is the case, then the <code>launch request</code> is what you want.</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74570577,"answer_count":1,"score":0,"last_activity_date":1670252486,"creation_date":1669277085,"question_id":74557459,"body_markdown":"I configure `launch.json` to launch Java debugger and working successfully. After a short while, I see error `ERROR: transport error 202: recv error: Connection reset by peer`. I did google it, and it was suggested to change the debug argument from:\r\n\r\n`-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:52252`\r\n\r\nto:\r\n\r\n`-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:52252`\r\n\r\nThe debug arguments above are auto generated by vscode. How I can change it? I didn&#39;t find a way to configure such argument. The only option is to configure a task to run the command, and configure a debug option to run the task to launch the debugger and attached to that debugger session.\r\n\r\nI am checking if there is a way to change the part to `server=y` as it is much easier.","title":"How to change Java Debug Arguments in vscode launch.json config?","body":"<p>I configure <code>launch.json</code> to launch Java debugger and working successfully. After a short while, I see error <code>ERROR: transport error 202: recv error: Connection reset by peer</code>. I did google it, and it was suggested to change the debug argument from:</p>\n<p><code>-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:52252</code></p>\n<p>to:</p>\n<p><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:52252</code></p>\n<p>The debug arguments above are auto generated by vscode. How I can change it? I didn't find a way to configure such argument. The only option is to configure a task to run the command, and configure a debug option to run the task to launch the debugger and attached to that debugger session.</p>\n<p>I am checking if there is a way to change the part to <code>server=y</code> as it is much easier.</p>\n"},{"tags":["java","multithreading","spring-boot","maven","spring-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670249027,"post_id":74689417,"comment_id":131825669,"body_markdown":"Please don&#39;t post code as images, but use the code tags to properly include the code in your question.","body":"Please don&#39;t post code as images, but use the code tags to properly include the code in your question."},{"owner":{"account_id":21666001,"reputation":1,"user_id":15984386,"display_name":"Student P"},"score":0,"creation_date":1670249727,"post_id":74689417,"comment_id":131825923,"body_markdown":"Sorry, it was from the VM, I wrote it down manually. Thanks for the advice!","body":"Sorry, it was from the VM, I wrote it down manually. Thanks for the advice!"}],"owner":{"account_id":21666001,"reputation":1,"user_id":15984386,"display_name":"Student P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670251968,"creation_date":1670248951,"question_id":74689417,"body_markdown":"We are encountering some issues while trying to stop the Kafka Consumer and the Java Application after receiving one event from the Kafka Topic (Spring Boot application). We are trying to stop the application after each event received. \r\n\r\nWe used the @Async annotation and we are trying to stop the current thread and then the consumer and the Java application .. Currently, the application tries to stop the current thread, but somehow it also executes all the other threads that contain the other events. What happens in the end is - instead of only executing the first thread with the first event, it executes all the threads and after that it stops the consumer.\r\nAfter the first event, we can see the log that says &quot;Event processed - Stopping the app&quot;, but it continues to execute all the other threads. We are currently using an external sdk that offers the Kafka functionality, so there are some limitations.\r\n```java\r\n@Async\r\npublic void async () {\r\n    log.info(&quot;Event processed, stopping the app&quot;);\r\n    try {\r\n        Thread.sleep(3000);\r\n        consumerController.stopConsumer();\r\n        System.exit(0);\r\n    } catch (Exception e) {\r\n        log.info(&quot;Thread interruped. App stopped.&quot; + e);\r\n    }\r\n}\r\n```","title":"Stopping the Spring Boot application after receiving one event from Kafka Topic","body":"<p>We are encountering some issues while trying to stop the Kafka Consumer and the Java Application after receiving one event from the Kafka Topic (Spring Boot application). We are trying to stop the application after each event received.</p>\n<p>We used the @Async annotation and we are trying to stop the current thread and then the consumer and the Java application .. Currently, the application tries to stop the current thread, but somehow it also executes all the other threads that contain the other events. What happens in the end is - instead of only executing the first thread with the first event, it executes all the threads and after that it stops the consumer.\nAfter the first event, we can see the log that says &quot;Event processed - Stopping the app&quot;, but it continues to execute all the other threads. We are currently using an external sdk that offers the Kafka functionality, so there are some limitations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Async\npublic void async () {\n    log.info(&quot;Event processed, stopping the app&quot;);\n    try {\n        Thread.sleep(3000);\n        consumerController.stopConsumer();\n        System.exit(0);\n    } catch (Exception e) {\n        log.info(&quot;Thread interruped. App stopped.&quot; + e);\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","tomcat6","tls1.2"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1540827655,"post_id":53047558,"comment_id":92997723,"body_markdown":"It is not quite clear what you are asking and where you are looking for the cipher order. It might be useful to have the exact debug message you see. In general: the server decides which cipher gets used at the end and different servers might make different decisions even if the client offers always the same ciphers in the same order.","body":"It is not quite clear what you are asking and where you are looking for the cipher order. It might be useful to have the exact debug message you see. In general: the server decides which cipher gets used at the end and different servers might make different decisions even if the client offers always the same ciphers in the same order."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1540840854,"post_id":53047558,"comment_id":93004336,"body_markdown":"See this related question: https://serverfault.com/questions/316313","body":"See this related question: <a href=\"https://serverfault.com/questions/316313\">serverfault.com/questions/316313</a>"}],"owner":{"account_id":3511170,"reputation":1068,"user_id":2935450,"display_name":"Rahul Tokase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670251773,"creation_date":1540822961,"question_id":53047558,"body_markdown":"I have https integration with two host server and I am using java 1.6 and provided cipher using the `-Dhttp.ciphers` list. we have added Strong cipher first and then added the weaker once. Assuming the order is been followed when we make the SSL connection.\r\n\r\nWhat i observed in the SSL debug log whenever java application is making the connection to host A\r\nCipher list order is maintain as given in `-D` option in client Hello message.\r\nHere we are using `httpsURLconnection` to make a connection.\r\n\r\n\r\nBut when we make the SSL connection to host B cipher list in client hello message is getting changed. Weak cipher is coming before Strong cipher and as a result weak cipher is selected by the Server host B. Here we are making an use of Apache Default httpclient 3.1 to make https connection.\r\n\r\nAny idea about why the order of weak ciphers is getting changed ?\r\n\r\n\r\n\r\n","title":"TLS 1.2 client cipher list in clientHello is coming different order for different https server hosts","body":"<p>I have https integration with two host server and I am using java 1.6 and provided cipher using the <code>-Dhttp.ciphers</code> list. we have added Strong cipher first and then added the weaker once. Assuming the order is been followed when we make the SSL connection.</p>\n<p>What i observed in the SSL debug log whenever java application is making the connection to host A\nCipher list order is maintain as given in <code>-D</code> option in client Hello message.\nHere we are using <code>httpsURLconnection</code> to make a connection.</p>\n<p>But when we make the SSL connection to host B cipher list in client hello message is getting changed. Weak cipher is coming before Strong cipher and as a result weak cipher is selected by the Server host B. Here we are making an use of Apache Default httpclient 3.1 to make https connection.</p>\n<p>Any idea about why the order of weak ciphers is getting changed ?</p>\n"},{"tags":["java","netbeans"],"answers":[{"comments":[{"owner":{"account_id":8397723,"reputation":1,"user_id":6304200,"display_name":"James Acevedo"},"score":0,"creation_date":1670251895,"post_id":74689988,"comment_id":131826858,"body_markdown":"The links are saved in my database so i want to use those links as the resource for my button icon","body":"The links are saved in my database so i want to use those links as the resource for my button icon"},{"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"score":0,"creation_date":1670252361,"post_id":74689988,"comment_id":131827034,"body_markdown":"I&#39;m assuming that &quot;uses an image form a link &quot; is from an link.... When you view the web page&#39;s source from the broser. ie. Right-click and select View Source you should see the buttons image source as in &lt;img src = .... that should be able to be opened in a seperate web gage and you will see just the image of the icon. If not then the page is not being constructed with a valid image source.... or if it is then click on refresh - some broswers want Ctrl button down before you Refresh. You should see the button with the icon.","body":"I&#39;m assuming that &quot;uses an image form a link &quot; is from an link.... When you view the web page&#39;s source from the broser. ie. Right-click and select View Source you should see the buttons image source as in &lt;img src = .... that should be able to be opened in a seperate web gage and you will see just the image of the icon. If not then the page is not being constructed with a valid image source.... or if it is then click on refresh - some broswers want Ctrl button down before you Refresh. You should see the button with the icon."},{"owner":{"account_id":8397723,"reputation":1,"user_id":6304200,"display_name":"James Acevedo"},"score":0,"creation_date":1670252744,"post_id":74689988,"comment_id":131827181,"body_markdown":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null","body":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null"},{"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"score":0,"creation_date":1670253070,"post_id":74689988,"comment_id":131827300,"body_markdown":"The pointer is looking for data that is not at the location where the pointer is pointing to.","body":"The pointer is looking for data that is not at the location where the pointer is pointing to."},{"owner":{"account_id":8397723,"reputation":1,"user_id":6304200,"display_name":"James Acevedo"},"score":0,"creation_date":1670253510,"post_id":74689988,"comment_id":131827464,"body_markdown":"Im trying to fix that don&#39;t know how","body":"Im trying to fix that don&#39;t know how"},{"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"score":0,"creation_date":1670253699,"post_id":74689988,"comment_id":131827522,"body_markdown":"You need a variable and have the data in the variable which the pointer points to. A pointer is looking to a piece of memory which is empty  ie. null.","body":"You need a variable and have the data in the variable which the pointer points to. A pointer is looking to a piece of memory which is empty  ie. null."}],"tags":[],"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670251507,"creation_date":1670251507,"answer_id":74689988,"question_id":74689815,"body_markdown":"I suspect that it may be because web paged are cached and if the icon has the same name then the browser probably does not refresh the content. ","title":"How can i change a button icon from a web link that is saved in my database?","body":"<p>I suspect that it may be because web paged are cached and if the icon has the same name then the browser probably does not refresh the content.</p>\n"}],"owner":{"account_id":8397723,"reputation":1,"user_id":6304200,"display_name":"James Acevedo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670251507,"creation_date":1670250827,"question_id":74689815,"body_markdown":"Ok the purpose of the app is that the icon in the button uses an image form a link that is stored in mysql. The query fetches the desired link using result set from my data base and is added dynamically to the button icon url.\r\n\r\n```\r\n public void tbMoviesload(String id) {\r\n        try {\r\n            Statement s = Database.mycon().createStatement();\r\n            ResultSet rs = s.executeQuery(&quot; SELECT * FROM Movies WHERE id = &#39;&quot; + id + &quot;&#39; &quot;);\r\n            URL url;\r\n            try {\r\n                url = new URL(rs.getString(&quot;Link&quot;));\r\n                jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource(url.toString())));\r\n            } catch (MalformedURLException ex) {\r\n                Logger.getLogger(UserForm.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            \r\n\r\n           \r\n            if (rs.next()) {\r\n                TitleField.setText(rs.getString(&quot;Title&quot;));\r\n                DirectorField.setText(rs.getString(&quot;Director&quot;));\r\n                WritersField.setText(rs.getString(&quot;Writers&quot;));\r\n                ReleaseDateField.setText(rs.getString(&quot;ReleaseDate&quot;));\r\n                RunningTimeField.setText(rs.getString(&quot;RunningTime&quot;));\r\n                RatedField.setText(rs.getString(&quot;Rated&quot;));\r\n                GenreField.setText(rs.getString(&quot;Genre&quot;));\r\n                CastField.setText(rs.getString(&quot;Cast&quot;));\r\n                \r\n                \r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nI expect that the icon changes dynamically","title":"How can i change a button icon from a web link that is saved in my database?","body":"<p>Ok the purpose of the app is that the icon in the button uses an image form a link that is stored in mysql. The query fetches the desired link using result set from my data base and is added dynamically to the button icon url.</p>\n<pre><code> public void tbMoviesload(String id) {\n        try {\n            Statement s = Database.mycon().createStatement();\n            ResultSet rs = s.executeQuery(&quot; SELECT * FROM Movies WHERE id = '&quot; + id + &quot;' &quot;);\n            URL url;\n            try {\n                url = new URL(rs.getString(&quot;Link&quot;));\n                jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource(url.toString())));\n            } catch (MalformedURLException ex) {\n                Logger.getLogger(UserForm.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            \n\n           \n            if (rs.next()) {\n                TitleField.setText(rs.getString(&quot;Title&quot;));\n                DirectorField.setText(rs.getString(&quot;Director&quot;));\n                WritersField.setText(rs.getString(&quot;Writers&quot;));\n                ReleaseDateField.setText(rs.getString(&quot;ReleaseDate&quot;));\n                RunningTimeField.setText(rs.getString(&quot;RunningTime&quot;));\n                RatedField.setText(rs.getString(&quot;Rated&quot;));\n                GenreField.setText(rs.getString(&quot;Genre&quot;));\n                CastField.setText(rs.getString(&quot;Cast&quot;));\n                \n                \n            }\n        } catch (SQLException e) {\n            System.out.println(e);\n        }\n\n    }\n</code></pre>\n<p>I expect that the icon changes dynamically</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9390,"page":833,"page_size":100}
