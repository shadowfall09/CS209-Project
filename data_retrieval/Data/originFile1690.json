{"items":[{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":12884490,"reputation":1444,"user_id":9318492,"display_name":"Dushyant Tankariya"},"score":0,"creation_date":1564990541,"post_id":57353856,"comment_id":101195398,"body_markdown":"Possible duplicate of [Using lambda to format Map into String](https://stackoverflow.com/a/30237714/9318492)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/a/30237714/9318492\">Using lambda to format Map into String</a>"},{"owner":{"account_id":16449243,"reputation":133,"user_id":11883072,"display_name":"Rohan Gujarathi"},"score":0,"creation_date":1564992314,"post_id":57353856,"comment_id":101196221,"body_markdown":"That link explains working with the map. That is not what I am looking for. I want to extract T from Mono&lt;T&gt;","body":"That link explains working with the map. That is not what I am looking for. I want to extract T from Mono&lt;T&gt;"}],"answers":[{"tags":[],"owner":{"account_id":9435286,"reputation":1400,"user_id":7017439,"accept_rate":86,"display_name":"Narandhran Thangavel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641924045,"creation_date":1564991176,"answer_id":57354267,"question_id":57353856,"body_markdown":"*You have to subscribe before getting the string from mono object* \r\n\r\nJust have a look at this for more detail https://stackoverflow.com/questions/47179937/how-to-get-string-from-monostring-in-reactive-java\r\n\r\n   \r\n\r\n    public class MonoT {\r\n        \tstatic String x = null;\r\n        \tpublic static void main(String[] args) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\tMono&lt;String&gt; username = Mono.just(&quot;Naren&quot;);\r\n        \t\t\r\n        \t\tusername.subscribe(v-&gt;{\r\n        \t\t\tx = v;\r\n        \t\t});\t\r\n        \t\t\r\n        \t\tSystem.out.println(x);\r\n        \t}\r\n        \r\n        }","title":"How to extract string from Mono&lt;String&gt; in reactor core","body":"<p><em>You have to subscribe before getting the string from mono object</em></p>\n<p>Just have a look at this for more detail <a href=\"https://stackoverflow.com/questions/47179937/how-to-get-string-from-monostring-in-reactive-java\">How to get String from Mono&lt;String&gt; in reactive java</a></p>\n<pre><code>public class MonoT {\n        static String x = null;\n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\n            Mono&lt;String&gt; username = Mono.just(&quot;Naren&quot;);\n            \n            username.subscribe(v-&gt;{\n                x = v;\n            }); \n            \n            System.out.println(x);\n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1565010238,"creation_date":1564994237,"answer_id":57354893,"question_id":57353856,"body_markdown":"To answer the question directly in its simplest form - you use [`Mono.block()`][1].\r\n\r\nBut you almost certainly *shouldn&#39;t*, as this blocks the thread, defeating the point of using reactor in the first place. You should, instead, call `subscribe()` and then provide a consumer. The consumer will be called asynchronously when the `Mono` emits a value, with that value as a parameter.\r\n\r\nThere&#39;s nothing inherently stopping you just assigning the value to a field of course:\r\n\r\n    mono.subscribe(v -&gt; this.value = v);\r\n\r\n...but this has very limited usefulness in practice, since you won&#39;t know *when* that field will be initialised.\r\n\r\nThe more *normal* way is to either call the other methods in your subscriber all in one go:\r\n\r\n    mono.subscribe(v -&gt; {\r\n        oneMethodThatNeedsTheValue(v);\r\n        anotherMethodThatNeedsTheValue(v);\r\n    });\r\n\r\n...or to use [`Mono.cache()`][2] and pass it around:\r\n\r\n    class Test {\r\n\r\n        void useMonoVal(Mono&lt;String&gt; mono) {\r\n            mono.subscribe(s -&gt; System.out.println(&quot;I need to see &quot; + s));\r\n        }\r\n\r\n        void anotherMethod(Mono&lt;String&gt; mono) {\r\n            mono.subscribe(s -&gt; System.out.println(&quot;I need to talk to &quot; + s));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Mono myMono = Mono.just(&quot;Bob&quot;).cache();\r\n            Test t = new Test();\r\n            t.useMonoVal(myMono);\r\n            t.anotherMethod(myMono);\r\n        }\r\n\r\n    }\r\n\r\n(The `cache()` method ensures that the `Mono` is only evluated once and then cached for all future subscribers, which is irrelevant when using the `just()` factory of course, but just there for the sake of a complete example.)\r\n\r\nTo expand, the whole point of using a reactive paradigm (and therefore reactor, and by extension its `Mono` and `Flux` objects) is that it enables you to code in a *non-blocking* way, meaning that the current thread of execution isn&#39;t &quot;held up&quot; waiting for the mono to emit a value.\r\n\r\n*Side note: I&#39;m not sure it&#39;s directly relevant to the question, but you can&#39;t do `a.map(System.out::println);` - you probably mean `a.subscribe(System.out::println);`.*\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--","title":"How to extract string from Mono&lt;String&gt; in reactor core","body":"<p>To answer the question directly in its simplest form - you use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\" rel=\"noreferrer\"><code>Mono.block()</code></a>.</p>\n\n<p>But you almost certainly <em>shouldn't</em>, as this blocks the thread, defeating the point of using reactor in the first place. You should, instead, call <code>subscribe()</code> and then provide a consumer. The consumer will be called asynchronously when the <code>Mono</code> emits a value, with that value as a parameter.</p>\n\n<p>There's nothing inherently stopping you just assigning the value to a field of course:</p>\n\n<pre><code>mono.subscribe(v -&gt; this.value = v);\n</code></pre>\n\n<p>...but this has very limited usefulness in practice, since you won't know <em>when</em> that field will be initialised.</p>\n\n<p>The more <em>normal</em> way is to either call the other methods in your subscriber all in one go:</p>\n\n<pre><code>mono.subscribe(v -&gt; {\n    oneMethodThatNeedsTheValue(v);\n    anotherMethodThatNeedsTheValue(v);\n});\n</code></pre>\n\n<p>...or to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\" rel=\"noreferrer\"><code>Mono.cache()</code></a> and pass it around:</p>\n\n<pre><code>class Test {\n\n    void useMonoVal(Mono&lt;String&gt; mono) {\n        mono.subscribe(s -&gt; System.out.println(\"I need to see \" + s));\n    }\n\n    void anotherMethod(Mono&lt;String&gt; mono) {\n        mono.subscribe(s -&gt; System.out.println(\"I need to talk to \" + s));\n    }\n\n    public static void main(String[] args) {\n        Mono myMono = Mono.just(\"Bob\").cache();\n        Test t = new Test();\n        t.useMonoVal(myMono);\n        t.anotherMethod(myMono);\n    }\n\n}\n</code></pre>\n\n<p>(The <code>cache()</code> method ensures that the <code>Mono</code> is only evluated once and then cached for all future subscribers, which is irrelevant when using the <code>just()</code> factory of course, but just there for the sake of a complete example.)</p>\n\n<p>To expand, the whole point of using a reactive paradigm (and therefore reactor, and by extension its <code>Mono</code> and <code>Flux</code> objects) is that it enables you to code in a <em>non-blocking</em> way, meaning that the current thread of execution isn't \"held up\" waiting for the mono to emit a value.</p>\n\n<p><em>Side note: I'm not sure it's directly relevant to the question, but you can't do <code>a.map(System.out::println);</code> - you probably mean <code>a.subscribe(System.out::println);</code>.</em></p>\n"}],"owner":{"account_id":16449243,"reputation":133,"user_id":11883072,"display_name":"Rohan Gujarathi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24378,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":57354893,"answer_count":2,"score":13,"last_activity_date":1641924045,"creation_date":1564989574,"question_id":57353856,"body_markdown":"I have a `Mono&lt;String&gt;` object in reactor. How can I get a string value from this object?\r\n\r\nI know I can do something like below :\r\nFor `Mono&lt;String&gt; userName`, I can do,\r\n\r\n    userName.map(System.out::println). \r\n\r\nBut this will directly print the value. I want to store this string value into another variable so that I can pass that variable around to some other functions. How can I extract this value?","title":"How to extract string from Mono&lt;String&gt; in reactor core","body":"<p>I have a <code>Mono&lt;String&gt;</code> object in reactor. How can I get a string value from this object?</p>\n\n<p>I know I can do something like below :\nFor <code>Mono&lt;String&gt; userName</code>, I can do,</p>\n\n<pre><code>userName.map(System.out::println). \n</code></pre>\n\n<p>But this will directly print the value. I want to store this string value into another variable so that I can pass that variable around to some other functions. How can I extract this value?</p>\n"},{"tags":["java","mongodb","junit","integration-testing","embedded-database"],"comments":[{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1317065563,"post_id":6437226,"comment_id":107737406,"body_markdown":"If you are using maven, you can use ours http://mvnrepository.com/artifact/com.wenzani/mongodb-maven-plugin","body":"If you are using maven, you can use ours <a href=\"http://mvnrepository.com/artifact/com.wenzani/mongodb-maven-plugin\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.wenzani/mongodb-maven-plugin</a>"},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1357389890,"post_id":6437226,"comment_id":107737409,"body_markdown":"You can also check this project which simulate a MongoDB inside JVM memory.\nhttps://github.com/thiloplanz/jmockmongo\nBut it is still in development.","body":"You can also check this project which simulate a MongoDB inside JVM memory. <a href=\"https://github.com/thiloplanz/jmockmongo\" rel=\"nofollow noreferrer\">github.com/thiloplanz/jmockmongo</a> But it is still in development."},{"owner":{"account_id":33644,"reputation":3853,"user_id":94334,"accept_rate":100,"display_name":"Tamir"},"score":0,"creation_date":1367481099,"post_id":6437226,"comment_id":107737412,"body_markdown":"Not [just for] for unit testings, but read this blog post if you like to run MongoDB (even a cluster) as in-memory deployment if you&#39;re using Linux. http://edgystuff.tumblr.com/post/49304254688 Would be great to have it out of the box like RavenDB though.","body":"Not [just for] for unit testings, but read this blog post if you like to run MongoDB (even a cluster) as in-memory deployment if you&#39;re using Linux. <a href=\"http://edgystuff.tumblr.com/post/49304254688\" rel=\"nofollow noreferrer\">edgystuff.tumblr.com/post/49304254688</a> Would be great to have it out of the box like RavenDB though."},{"owner":{"account_id":141840,"reputation":642,"user_id":349147,"display_name":"Robert Taylor"},"score":0,"creation_date":1392298734,"post_id":6437226,"comment_id":107737416,"body_markdown":"Similar to the embedmongo-maven-plugin mentioned here, there is also a [Gradle Mongo Plugin](https://github.com/sourcemuse/GradleMongoPlugin &quot;Gradle Mongo Plugin&quot;) available. Like the Maven plugin it also wraps the [flapdoodle EmbeddedMongoDb api](https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo &quot;Flapdoodle EmbeddedMongoDb&quot;) and allows you to run a managed instance of Mongo from your Gradle builds.","body":"Similar to the embedmongo-maven-plugin mentioned here, there is also a <a href=\"https://github.com/sourcemuse/GradleMongoPlugin\" title=\"Gradle Mongo Plugin\" rel=\"nofollow noreferrer\">Gradle Mongo Plugin</a> available. Like the Maven plugin it also wraps the <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo\" title=\"Flapdoodle EmbeddedMongoDb\" rel=\"nofollow noreferrer\">flapdoodle EmbeddedMongoDb api</a> and allows you to run a managed instance of Mongo from your Gradle builds."},{"owner":{"account_id":2295272,"reputation":624,"user_id":2016866,"accept_rate":70,"display_name":"Edmond"},"score":0,"creation_date":1496900372,"post_id":6437226,"comment_id":107737419,"body_markdown":"Check this code example here: https://github.com/familysyan/embedded-mongo-integ. No installation, no dependency. It&#39;s simply a platform independent ant script that do download and setup for you. It also cleans up everything after your tests.","body":"Check this code example here: <a href=\"https://github.com/familysyan/embedded-mongo-integ\" rel=\"nofollow noreferrer\">github.com/familysyan/embedded-mongo-integ</a>. No installation, no dependency. It&#39;s simply a platform independent ant script that do download and setup for you. It also cleans up everything after your tests."}],"answers":[{"tags":[],"owner":{"account_id":171143,"reputation":2667,"user_id":398362,"display_name":"rozky"},"down_vote_count":1,"up_vote_count":104,"is_accepted":false,"score":103,"last_activity_date":1449878354,"creation_date":1332451837,"answer_id":9830861,"question_id":6437226,"body_markdown":"I have found [Embedded MongoDB][1] library which looks quite promising and does what you have asked for. \r\n\r\nCurrently supports MongoDB versions: `1.6.5` to `3.1.6`, provided the binaries are still available from the configured mirror.\r\n\r\nHere is short example of use, which I have just tried and it works perfectly:\r\n\r\n    public class EmbeddedMongoTest {\r\n        private static final String DATABASE_NAME = &quot;embedded&quot;;\r\n\r\n        private MongodExecutable mongodExe;\r\n        private MongodProcess mongod;\r\n        private Mongo mongo;\r\n\r\n        @Before\r\n        public void beforeEach() throws Exception {\r\n            MongoDBRuntime runtime = MongoDBRuntime.getDefaultInstance();\r\n            mongodExe = runtime.prepare(new MongodConfig(Version.V2_3_0, 12345, Network.localhostIsIPv6()));\r\n            mongod = mongodExe.start();\r\n            mongo = new Mongo(&quot;localhost&quot;, 12345);\r\n        }\r\n\r\n        @After\r\n        public void afterEach() throws Exception {\r\n            if (this.mongod != null) {\r\n                this.mongod.stop();\r\n                this.mongodExe.stop();\r\n            }\r\n        }\r\n\r\n        @Test\r\n        public void shouldCreateNewObjectInEmbeddedMongoDb() {\r\n            // given\r\n            DB db = mongo.getDB(DATABASE_NAME);\r\n            DBCollection col = db.createCollection(&quot;testCollection&quot;, new BasicDBObject());\r\n\r\n            // when\r\n            col.save(new BasicDBObject(&quot;testDoc&quot;, new Date()));\r\n\r\n            // then\r\n            assertThat(col.getCount(), Matchers.is(1L));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/flapdoodle-oss/embedmongo.flapdoodle.de","title":"Embedded MongoDB when running integration tests","body":"<p>I have found <a href=\"https://github.com/flapdoodle-oss/embedmongo.flapdoodle.de\">Embedded MongoDB</a> library which looks quite promising and does what you have asked for. </p>\n\n<p>Currently supports MongoDB versions: <code>1.6.5</code> to <code>3.1.6</code>, provided the binaries are still available from the configured mirror.</p>\n\n<p>Here is short example of use, which I have just tried and it works perfectly:</p>\n\n<pre><code>public class EmbeddedMongoTest {\n    private static final String DATABASE_NAME = \"embedded\";\n\n    private MongodExecutable mongodExe;\n    private MongodProcess mongod;\n    private Mongo mongo;\n\n    @Before\n    public void beforeEach() throws Exception {\n        MongoDBRuntime runtime = MongoDBRuntime.getDefaultInstance();\n        mongodExe = runtime.prepare(new MongodConfig(Version.V2_3_0, 12345, Network.localhostIsIPv6()));\n        mongod = mongodExe.start();\n        mongo = new Mongo(\"localhost\", 12345);\n    }\n\n    @After\n    public void afterEach() throws Exception {\n        if (this.mongod != null) {\n            this.mongod.stop();\n            this.mongodExe.stop();\n        }\n    }\n\n    @Test\n    public void shouldCreateNewObjectInEmbeddedMongoDb() {\n        // given\n        DB db = mongo.getDB(DATABASE_NAME);\n        DBCollection col = db.createCollection(\"testCollection\", new BasicDBObject());\n\n        // when\n        col.save(new BasicDBObject(\"testDoc\", new Date()));\n\n        // then\n        assertThat(col.getCount(), Matchers.is(1L));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1340485527,"creation_date":1340485527,"answer_id":11172981,"question_id":6437226,"body_markdown":"If you&#39;re using Maven you may be interested in a plugin I&#39;ve created that wraps the [flapdoodle.de &#39;embedded mongo&#39; API](https://github.com/flapdoodle-oss/embedmongo.flapdoodle.de):\r\n\r\n## [embedmongo-maven-plugin](https://github.com/joelittlejohn/embedmongo-maven-plugin) ##\r\n\r\nIt provides a `start` goal that you can use to start any version of MongoDB you want (e.g. during `pre-integration-test`), and a `stop` goal that will stop MongoDB (e.g. during `post-integration-test`).\r\n\r\nThe real benefit of using this plugin over others is that there is no requirement for MongoDB to be installed beforehand. MongoDB binaries are downloaded and stored in `~/.embedmongo` for future builds.","title":"Embedded MongoDB when running integration tests","body":"<p>If you're using Maven you may be interested in a plugin I've created that wraps the <a href=\"https://github.com/flapdoodle-oss/embedmongo.flapdoodle.de\">flapdoodle.de 'embedded mongo' API</a>:</p>\n\n<h2><a href=\"https://github.com/joelittlejohn/embedmongo-maven-plugin\">embedmongo-maven-plugin</a></h2>\n\n<p>It provides a <code>start</code> goal that you can use to start any version of MongoDB you want (e.g. during <code>pre-integration-test</code>), and a <code>stop</code> goal that will stop MongoDB (e.g. during <code>post-integration-test</code>).</p>\n\n<p>The real benefit of using this plugin over others is that there is no requirement for MongoDB to be installed beforehand. MongoDB binaries are downloaded and stored in <code>~/.embedmongo</code> for future builds.</p>\n"},{"tags":[],"owner":{"account_id":1242013,"reputation":5863,"user_id":1204393,"display_name":"Aur&#233;lien Thieriot"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1340835488,"creation_date":1340835488,"answer_id":11235580,"question_id":6437226,"body_markdown":"If you are using sbt and specs2, I wrote the same kind of wrapper for embedmongo\r\n\r\n[https://github.com/athieriot/specs2-embedmongo][1]\r\n\r\n\r\n  [1]: https://github.com/athieriot/specs2-embedmongo","title":"Embedded MongoDB when running integration tests","body":"<p>If you are using sbt and specs2, I wrote the same kind of wrapper for embedmongo</p>\n\n<p><a href=\"https://github.com/athieriot/specs2-embedmongo\" rel=\"noreferrer\">https://github.com/athieriot/specs2-embedmongo</a></p>\n"},{"tags":[],"owner":{"account_id":265210,"reputation":421,"user_id":552030,"display_name":"zlob"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1380708946,"creation_date":1380708946,"answer_id":19134663,"question_id":6437226,"body_markdown":"There is Foursquare product [Fongo](https://github.com/foursquare/fongo).\r\nFongo is an in-memory java implementation of mongo. It intercepts calls to the standard mongo-java-driver for finds, updates, inserts, removes and other methods. The primary use is for lightweight unit testing where you don&#39;t want to spin up a mongo process.","title":"Embedded MongoDB when running integration tests","body":"<p>There is Foursquare product <a href=\"https://github.com/foursquare/fongo\" rel=\"noreferrer\">Fongo</a>.\nFongo is an in-memory java implementation of mongo. It intercepts calls to the standard mongo-java-driver for finds, updates, inserts, removes and other methods. The primary use is for lightweight unit testing where you don't want to spin up a mongo process.</p>\n"},{"tags":[],"owner":{"account_id":1583262,"reputation":9258,"user_id":1468130,"accept_rate":59,"display_name":"Jackson Ray Hamilton"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1434083385,"creation_date":1434083026,"answer_id":30795283,"question_id":6437226,"body_markdown":"In production, you will be using a real database.\r\n\r\nIf you want your tests to reflect how your product behaves in production, use a real instance of Mongo.\r\n\r\nA fake implementation may not behave exactly the same as a real one. When testing, you should strive for correctness. Speed of execution comes second.","title":"Embedded MongoDB when running integration tests","body":"<p>In production, you will be using a real database.</p>\n\n<p>If you want your tests to reflect how your product behaves in production, use a real instance of Mongo.</p>\n\n<p>A fake implementation may not behave exactly the same as a real one. When testing, you should strive for correctness. Speed of execution comes second.</p>\n"},{"tags":[],"owner":{"account_id":4356026,"reputation":1989,"user_id":3554624,"display_name":"panser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1455454123,"creation_date":1455454123,"answer_id":35391942,"question_id":6437226,"body_markdown":"with spring-boot 1.3 you can use **EmbeddedMongoAutoConfiguration**\r\n\r\n**pom.xml**\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n     ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n            &lt;version&gt;${embedded-mongo.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**MongoConfig**\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = { EmbeddedMongoAutoConfiguration.class })\r\n    public class MongoConfig{\r\n    }\r\n","title":"Embedded MongoDB when running integration tests","body":"<p>with spring-boot 1.3 you can use <strong>EmbeddedMongoAutoConfiguration</strong></p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;version&gt;${embedded-mongo.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>MongoConfig</strong></p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = { EmbeddedMongoAutoConfiguration.class })\npublic class MongoConfig{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13617,"reputation":12591,"user_id":27483,"accept_rate":67,"display_name":"Irwin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474604044,"creation_date":1474604044,"answer_id":39652527,"question_id":6437226,"body_markdown":"You can run MongoDB in memory as of version 3.2.6. From the [site][1]:\r\n\r\n&gt; Starting in MongoDB Enterprise version 3.2.6, the in-memory storage\r\n&gt; engine is part of general availability (GA) in the 64-bit builds.\r\n&gt; Other than some metadata and diagnostic data, the in-memory storage\r\n&gt; engine does not maintain any on-disk data, including configuration\r\n&gt; data, indexes, user credentials, etc.\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/core/inmemory/","title":"Embedded MongoDB when running integration tests","body":"<p>You can run MongoDB in memory as of version 3.2.6. From the <a href=\"https://docs.mongodb.com/manual/core/inmemory/\" rel=\"nofollow\">site</a>:</p>\n\n<blockquote>\n  <p>Starting in MongoDB Enterprise version 3.2.6, the in-memory storage\n  engine is part of general availability (GA) in the 64-bit builds.\n  Other than some metadata and diagnostic data, the in-memory storage\n  engine does not maintain any on-disk data, including configuration\n  data, indexes, user credentials, etc.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7577263,"reputation":2260,"user_id":5749217,"display_name":"Collin Krawll"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1641923538,"creation_date":1547758483,"answer_id":54244131,"question_id":6437226,"body_markdown":"Here&#39;s an updated (for 2022) version of the [accepted answer from @rozky][1] (a lot has been changed in both the Mongo and Embedded MongoDB libraries).\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.mongodb.BasicDBObject;\r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.client.MongoCollection;\r\n    import com.mongodb.client.MongoDatabase;\r\n    import de.flapdoodle.embed.mongo.MongodExecutable;\r\n    import de.flapdoodle.embed.mongo.MongodProcess;\r\n    import de.flapdoodle.embed.mongo.MongodStarter;\r\n    import de.flapdoodle.embed.mongo.config.MongodConfig;\r\n    import de.flapdoodle.embed.mongo.config.Net;\r\n    import de.flapdoodle.embed.mongo.distribution.Version;\r\n    import de.flapdoodle.embed.process.runtime.Network;\r\n    import java.util.Date;\r\n    import org.junit.After;\r\n    import static org.junit.Assert.*;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    \r\n    public class EmbeddedMongoTest {\r\n\r\n        private static final String DATABASE_NAME = &quot;embedded&quot;;\r\n    \r\n        private MongodExecutable mongodExe;\r\n        private MongodProcess mongod;\r\n        private MongoClient mongo;\r\n    \r\n        @Before\r\n        public void beforeEach() throws Exception {\r\n            MongodStarter starter = MongodStarter.getDefaultInstance();\r\n            String bindIp = &quot;localhost&quot;;\r\n    \t    int port = 12345;\r\n            MongodConfig mongodConfig = MongodConfig.builder()\r\n    \t\t    .version(Version.Main.PRODUCTION)\r\n    \t\t    .net(new Net(bindIp, port, Network.localhostIsIPv6()))\r\n    \t\t    .build();\r\n            this.mongodExe = starter.prepare(mongodConfig);\r\n            this.mongod = mongodExe.start();\r\n            this.mongo = new MongoClient(bindIp, port);\r\n        }\r\n    \r\n        @After\r\n        public void afterEach() throws Exception {\r\n            if (this.mongod != null) {\r\n                this.mongod.stop();\r\n                this.mongodExe.stop();\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void shouldCreateNewObjectInEmbeddedMongoDb() {\r\n            // given\r\n            MongoDatabase db = mongo.getDatabase(DATABASE_NAME);\r\n            db.createCollection(&quot;testCollection&quot;);\r\n            MongoCollection&lt;BasicDBObject&gt; col = db.getCollection(&quot;testCollection&quot;, BasicDBObject.class);\r\n    \r\n            // when\r\n            col.insertOne(new BasicDBObject(&quot;testDoc&quot;, new Date()));\r\n    \r\n            // then\r\n            assertEquals(1L, col.countDocuments());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9830861/5749217","title":"Embedded MongoDB when running integration tests","body":"<p>Here's an updated (for 2022) version of the <a href=\"https://stackoverflow.com/a/9830861/5749217\">accepted answer from @rozky</a> (a lot has been changed in both the Mongo and Embedded MongoDB libraries).</p>\n<pre><code>package com.example.mongo;\n\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport de.flapdoodle.embed.mongo.MongodExecutable;\nimport de.flapdoodle.embed.mongo.MongodProcess;\nimport de.flapdoodle.embed.mongo.MongodStarter;\nimport de.flapdoodle.embed.mongo.config.MongodConfig;\nimport de.flapdoodle.embed.mongo.config.Net;\nimport de.flapdoodle.embed.mongo.distribution.Version;\nimport de.flapdoodle.embed.process.runtime.Network;\nimport java.util.Date;\nimport org.junit.After;\nimport static org.junit.Assert.*;\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class EmbeddedMongoTest {\n\n    private static final String DATABASE_NAME = &quot;embedded&quot;;\n\n    private MongodExecutable mongodExe;\n    private MongodProcess mongod;\n    private MongoClient mongo;\n\n    @Before\n    public void beforeEach() throws Exception {\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n        String bindIp = &quot;localhost&quot;;\n        int port = 12345;\n        MongodConfig mongodConfig = MongodConfig.builder()\n            .version(Version.Main.PRODUCTION)\n            .net(new Net(bindIp, port, Network.localhostIsIPv6()))\n            .build();\n        this.mongodExe = starter.prepare(mongodConfig);\n        this.mongod = mongodExe.start();\n        this.mongo = new MongoClient(bindIp, port);\n    }\n\n    @After\n    public void afterEach() throws Exception {\n        if (this.mongod != null) {\n            this.mongod.stop();\n            this.mongodExe.stop();\n        }\n    }\n\n    @Test\n    public void shouldCreateNewObjectInEmbeddedMongoDb() {\n        // given\n        MongoDatabase db = mongo.getDatabase(DATABASE_NAME);\n        db.createCollection(&quot;testCollection&quot;);\n        MongoCollection&lt;BasicDBObject&gt; col = db.getCollection(&quot;testCollection&quot;, BasicDBObject.class);\n\n        // when\n        col.insertOne(new BasicDBObject(&quot;testDoc&quot;, new Date()));\n\n        // then\n        assertEquals(1L, col.countDocuments());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12174233,"reputation":67,"user_id":8887819,"display_name":"Dheeraj kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577707013,"creation_date":1577707013,"answer_id":59530452,"question_id":6437226,"body_markdown":"Not just for unit testing, but also explained how to use inmemory mongodb with rest api.\r\n\r\nmaven dependency:\r\n==============================================================================\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n=============================================================================\r\napplication.properties\r\n=============================================================================\r\n\r\n    server.port = 8080\r\n    spring.data.mongodb.database=user_db\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.host=localhost\r\n\r\n=============================================================================\r\nUserRepository.java\r\n=============================================================================\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt;{\r\n\r\n}\r\n=============================================================================\r\n\r\n**for reference and all java code use below link:(step by step explanation)**\r\n\r\nhttps://www.youtube.com/watch?v=2Tq2Q7EzhSA&amp;t=7s\r\n","title":"Embedded MongoDB when running integration tests","body":"<p>Not just for unit testing, but also explained how to use inmemory mongodb with rest api.</p>\n\n<h1>maven dependency:</h1>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>=============================================================================</p>\n\n<h1>application.properties</h1>\n\n<pre><code>server.port = 8080\nspring.data.mongodb.database=user_db\nspring.data.mongodb.port=27017\nspring.data.mongodb.host=localhost\n</code></pre>\n\n<p>=============================================================================</p>\n\n<h1>UserRepository.java</h1>\n\n<p>public interface UserRepository extends MongoRepository{</p>\n\n<h1>}</h1>\n\n<p><strong>for reference and all java code use below link:(step by step explanation)</strong></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=2Tq2Q7EzhSA&amp;t=7s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=2Tq2Q7EzhSA&amp;t=7s</a></p>\n"},{"tags":[],"owner":{"account_id":11356216,"reputation":2637,"user_id":8325761,"display_name":"bubbles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587046011,"creation_date":1587046011,"answer_id":61252286,"question_id":6437226,"body_markdown":"Performances are better when executing `mongod` with `storageEngine=&#39;ephemeralForTest&#39;`\r\n\r\n```java\r\nnew MongodConfigBuilder()\r\n    .version(Version.Main.PRODUCTION)\r\n    .cmdOptions(new MongoCmdOptionsBuilder()\r\n         .useStorageEngine(&quot;ephemeralForTest&quot;)\r\n         .build())\r\n    .net(new Net(&quot;localhost&quot;, port, Network.localhostIsIPv6()))\r\n    .build()\r\n```","title":"Embedded MongoDB when running integration tests","body":"<p>Performances are better when executing <code>mongod</code> with <code>storageEngine='ephemeralForTest'</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new MongodConfigBuilder()\n    .version(Version.Main.PRODUCTION)\n    .cmdOptions(new MongoCmdOptionsBuilder()\n         .useStorageEngine(\"ephemeralForTest\")\n         .build())\n    .net(new Net(\"localhost\", port, Network.localhostIsIPv6()))\n    .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6483320,"reputation":526,"user_id":5019670,"display_name":"Punit Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625335365,"creation_date":1625335365,"answer_id":68238791,"question_id":6437226,"body_markdown":"To run Embedded mongodb for integration test following are the maven dependency needed:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nTry using below code snipped for `EmbeddedMongoAutoConfiguration`:\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\r\nimport org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class EmbeddedMongoApplication {\r\n\r\n    public static void main(String[] args) {\r\n         System.setProperty(&quot;os.arch&quot;, &quot;x86_64&quot;);\r\n         SpringApplication.run(EmbeddedMongoApplication.class, args);\r\n    }\r\n    \r\n    @Bean\r\n    public EmbeddedMongoAutoConfiguration embeddedMongoAutoConfiguration(MongoProperties mongoProperties) {\r\n        return new EmbeddedMongoAutoConfiguration(mongoProperties);\r\n    }\r\n}\r\n```\r\n\r\n**Note:**\r\n\r\nEmbedded mongodb will be downloaded to below Path. So take into consideration that path have proper permission.\r\n```\r\nLinux : $HOME/.embedmongo/linux/mongodb-linux-x86_64-3.2.2.tgz\r\nWindows : C:\\Users\\&lt;username&gt;\\.embedmongo\\win32\\mongodb-win32-x86_64-3.x.x.zip\r\n```","title":"Embedded MongoDB when running integration tests","body":"<p>To run Embedded mongodb for integration test following are the maven dependency needed:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Try using below code snipped for <code>EmbeddedMongoAutoConfiguration</code>:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.mongo.MongoProperties;\nimport org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class EmbeddedMongoApplication {\n\n    public static void main(String[] args) {\n         System.setProperty(&quot;os.arch&quot;, &quot;x86_64&quot;);\n         SpringApplication.run(EmbeddedMongoApplication.class, args);\n    }\n    \n    @Bean\n    public EmbeddedMongoAutoConfiguration embeddedMongoAutoConfiguration(MongoProperties mongoProperties) {\n        return new EmbeddedMongoAutoConfiguration(mongoProperties);\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>Embedded mongodb will be downloaded to below Path. So take into consideration that path have proper permission.</p>\n<pre><code>Linux : $HOME/.embedmongo/linux/mongodb-linux-x86_64-3.2.2.tgz\nWindows : C:\\Users\\&lt;username&gt;\\.embedmongo\\win32\\mongodb-win32-x86_64-3.x.x.zip\n</code></pre>\n"}],"owner":{"account_id":18858,"reputation":17426,"user_id":43662,"accept_rate":92,"display_name":"seanhodges"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104728,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":54244131,"answer_count":11,"score":135,"last_activity_date":1641923538,"creation_date":1308732537,"question_id":6437226,"body_markdown":"My question is a variation of [this one][1].\r\n\r\nSince my Java Web-app project requires a lot of read filters/queries and interfaces with tools like GridFS, I&#39;m struggling to think of a sensible way to employ MongoDB in the way the above solution suggests.\r\n\r\nTherefore, I&#39;m considering running an embedded instance of MongoDB alongside my integration tests. I&#39;d like it to **start up automatically** (either for each test or the whole suite), **flush the database** for every test, and **shut down** at the end. These tests might be run on development machines as well as the CI server, so my solution will also need to be **portable**.\r\n\r\nCan anyone with more knowledge on MongoDB help me get idea of the feasibility of this approach, and/or perhaps suggest any reading material that might help me get started?\r\n\r\nI&#39;m also open to other suggestions people might have on how I could approach this problem...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3859109/integration-tests-with-mongodb","title":"Embedded MongoDB when running integration tests","body":"<p>My question is a variation of <a href=\"https://stackoverflow.com/questions/3859109/integration-tests-with-mongodb\">this one</a>.</p>\n\n<p>Since my Java Web-app project requires a lot of read filters/queries and interfaces with tools like GridFS, I'm struggling to think of a sensible way to employ MongoDB in the way the above solution suggests.</p>\n\n<p>Therefore, I'm considering running an embedded instance of MongoDB alongside my integration tests. I'd like it to <strong>start up automatically</strong> (either for each test or the whole suite), <strong>flush the database</strong> for every test, and <strong>shut down</strong> at the end. These tests might be run on development machines as well as the CI server, so my solution will also need to be <strong>portable</strong>.</p>\n\n<p>Can anyone with more knowledge on MongoDB help me get idea of the feasibility of this approach, and/or perhaps suggest any reading material that might help me get started?</p>\n\n<p>I'm also open to other suggestions people might have on how I could approach this problem...</p>\n"},{"tags":["java","amazon-web-services","dynamodb-queries","amazon-dynamodb"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641924411,"post_id":70671017,"comment_id":124933353,"body_markdown":"Why you have asked this question, if you already know the answer?","body":"Why you have asked this question, if you already know the answer?"}],"answers":[{"tags":[],"owner":{"account_id":7024121,"reputation":31,"user_id":5382248,"display_name":"Vijay Babu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641922275,"creation_date":1641922275,"answer_id":70671018,"question_id":70671017,"body_markdown":"```\r\nPutItemExpressionSpec PUT_ITEM_EXPRESSION_SPEC = new ExpressionSpecBuilder()\r\n           .withCondition(ExpressionSpecBuilder.S(&quot;uuid&quot;).notExists())\r\n           .buildForPut();\r\n\r\n// create item\r\n\r\nPutItemSpec putItemSpec = new PutItemSpec()\r\n                .withItem(item)\r\n                .withExpressionSpec(PUT_ITEM_EXPRESSION_SPEC); // Checking if UUID exists on the Table\r\n// get Table\r\ntable.putItem(putItemSpec);","title":"Conditional expression on putItem","body":"<pre><code>PutItemExpressionSpec PUT_ITEM_EXPRESSION_SPEC = new ExpressionSpecBuilder()\n           .withCondition(ExpressionSpecBuilder.S(&quot;uuid&quot;).notExists())\n           .buildForPut();\n\n// create item\n\nPutItemSpec putItemSpec = new PutItemSpec()\n                .withItem(item)\n                .withExpressionSpec(PUT_ITEM_EXPRESSION_SPEC); // Checking if UUID exists on the Table\n// get Table\ntable.putItem(putItemSpec);\n</code></pre>\n"}],"owner":{"account_id":7024121,"reputation":31,"user_id":5382248,"display_name":"Vijay Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641937387,"answer_count":1,"score":-1,"last_activity_date":1641923096,"creation_date":1641922275,"question_id":70671017,"body_markdown":"i am trying to check if key exist on table before making putItem operation on dynamodb to prevent overriding existing key value","title":"Conditional expression on putItem","body":"<p>i am trying to check if key exist on table before making putItem operation on dynamodb to prevent overriding existing key value</p>\n"},{"tags":["java","geotools"],"comments":[{"owner":{"account_id":2743330,"reputation":2128,"user_id":2364295,"accept_rate":53,"display_name":"Mastiff"},"score":0,"creation_date":1657739715,"post_id":70669081,"comment_id":128884911,"body_markdown":"Did you ever figure it out?  I&#39;m at the same spot.  I just want the countries, but the metadata has &quot;republic&quot; and dozens of other variations.","body":"Did you ever figure it out?  I&#39;m at the same spot.  I just want the countries, but the metadata has &quot;republic&quot; and dozens of other variations."},{"owner":{"account_id":2247232,"reputation":3160,"user_id":2601293,"accept_rate":88,"display_name":"J&#39;e"},"score":0,"creation_date":1657742164,"post_id":70669081,"comment_id":128885669,"body_markdown":"@Mastiff sortof.  Merging them into a smaller list just made each polygon more complicated and didn&#39;t help with lookup take a long time. My solution was to create a quad tree where each tile maps to all the countries that intersect its boundary. Each &quot;Tile&quot; has 4 children tiles [up-right, up-left, lower-right, lower-left] where each child is another instance of the Tile class.  Using a lon/lat to find the country name went from about 5 seconds to about 5 mSec.","body":"@Mastiff sortof.  Merging them into a smaller list just made each polygon more complicated and didn&#39;t help with lookup take a long time. My solution was to create a quad tree where each tile maps to all the countries that intersect its boundary. Each &quot;Tile&quot; has 4 children tiles [up-right, up-left, lower-right, lower-left] where each child is another instance of the Tile class.  Using a lon/lat to find the country name went from about 5 seconds to about 5 mSec."},{"owner":{"account_id":2743330,"reputation":2128,"user_id":2364295,"accept_rate":53,"display_name":"Mastiff"},"score":0,"creation_date":1657745491,"post_id":70669081,"comment_id":128886724,"body_markdown":"Ok thanks.  I was assuming the initial giant GADM contained thousands of small polygons representing states and counties and who-knows-what.  Sounds like this is not the case, and that the country boundaries themselves are just complex?","body":"Ok thanks.  I was assuming the initial giant GADM contained thousands of small polygons representing states and counties and who-knows-what.  Sounds like this is not the case, and that the country boundaries themselves are just complex?"}],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641922929,"creation_date":1641922929,"answer_id":70671167,"question_id":70669081,"body_markdown":"Instead of `Filter.INCLUDE` you need to provide a filter that selects the features that you want. You&#39;ll need to play about a bit but if you just want countries then something like ENGTYPE_1 = &#39;Kingdom&#39; or ENGTYPE_1 = &#39;Country&#39; might do it.\r\n\r\nThe easiest way to build a filter is to add the [`gt-cql` module][1] to your project and use \r\n\r\n    Filter f = ECQL.toFilter(&quot;ENGTYPE_1 = &#39;Kingdom&#39; or ENGTYPE_1 = &#39;Country&#39;&quot;);\r\n    FeatureCollection&lt;SimpleFeatureType, SimpleFeature&gt; collection = source.getFeatures(f);\r\n\r\nI&#39;d also recommend using the [geopackage][2] rather than the shapefile as your filter will be passed to the database and you&#39;ll get the features back more quickly. \r\n\r\nAnd as a final style note `URLs.fileToUrl(file)` is preferred over `file.toURI().toURL()` as it handles windows files and spaces much better.\r\n\r\n\r\n  [1]: https://docs.geotools.org/latest/userguide/library/cql/index.html\r\n  [2]: https://biogeo.ucdavis.edu/data/gadm3.6/gadm36_gpkg.zip","title":"Get country level Geometries from GADM","body":"<p>Instead of <code>Filter.INCLUDE</code> you need to provide a filter that selects the features that you want. You'll need to play about a bit but if you just want countries then something like ENGTYPE_1 = 'Kingdom' or ENGTYPE_1 = 'Country' might do it.</p>\n<p>The easiest way to build a filter is to add the <a href=\"https://docs.geotools.org/latest/userguide/library/cql/index.html\" rel=\"nofollow noreferrer\"><code>gt-cql</code> module</a> to your project and use</p>\n<pre><code>Filter f = ECQL.toFilter(&quot;ENGTYPE_1 = 'Kingdom' or ENGTYPE_1 = 'Country'&quot;);\nFeatureCollection&lt;SimpleFeatureType, SimpleFeature&gt; collection = source.getFeatures(f);\n</code></pre>\n<p>I'd also recommend using the <a href=\"https://biogeo.ucdavis.edu/data/gadm3.6/gadm36_gpkg.zip\" rel=\"nofollow noreferrer\">geopackage</a> rather than the shapefile as your filter will be passed to the database and you'll get the features back more quickly.</p>\n<p>And as a final style note <code>URLs.fileToUrl(file)</code> is preferred over <code>file.toURI().toURL()</code> as it handles windows files and spaces much better.</p>\n"}],"owner":{"account_id":2247232,"reputation":3160,"user_id":2601293,"accept_rate":88,"display_name":"J&#39;e"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641922929,"creation_date":1641913766,"question_id":70669081,"body_markdown":"I&#39;m using geotools to open [gadm36.shp from gadm.org][1] which shapefile containing worldwide administrative areas. I&#39;m trying to get a single Geometry (e.g. org.locationtech.jts.geom.MultiPolygon) for each country.  So if for example, there were 195 countries in this shapefile, I would have 195 Geometries.  As a side note, I also have the GPKG file for the world so if using that is simpler, I&#39;m happy to use that instead.\r\n\r\n```\r\n// load collection from shapefile\r\nFile file = new File(&quot;&lt;PATH&gt;/gadm36.shp&quot;);\r\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;url&quot;, file.toURI().toURL());\r\nDataStore dataStore = DataStoreFinder.getDataStore(map);\r\nString typeName = dataStore.getTypeNames()[0];\r\nFeatureSource&lt;SimpleFeatureType, SimpleFeature&gt; source = dataStore.getFeatureSource(typeName);\r\n\r\nFeatureCollection&lt;SimpleFeatureType, SimpleFeature&gt; collection = source.getFeatures(Filter.INCLUDE);\r\n```\r\n\r\n**That last line collection has a size of 339127.  It seems to contain every sate, country, town, village, etc. How do I get a smaller list of just the countries?**\r\n\r\n  [1]: https://gadm.org/download_world.html","title":"Get country level Geometries from GADM","body":"<p>I'm using geotools to open <a href=\"https://gadm.org/download_world.html\" rel=\"nofollow noreferrer\">gadm36.shp from gadm.org</a> which shapefile containing worldwide administrative areas. I'm trying to get a single Geometry (e.g. org.locationtech.jts.geom.MultiPolygon) for each country.  So if for example, there were 195 countries in this shapefile, I would have 195 Geometries.  As a side note, I also have the GPKG file for the world so if using that is simpler, I'm happy to use that instead.</p>\n<pre><code>// load collection from shapefile\nFile file = new File(&quot;&lt;PATH&gt;/gadm36.shp&quot;);\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;url&quot;, file.toURI().toURL());\nDataStore dataStore = DataStoreFinder.getDataStore(map);\nString typeName = dataStore.getTypeNames()[0];\nFeatureSource&lt;SimpleFeatureType, SimpleFeature&gt; source = dataStore.getFeatureSource(typeName);\n\nFeatureCollection&lt;SimpleFeatureType, SimpleFeature&gt; collection = source.getFeatures(Filter.INCLUDE);\n</code></pre>\n<p><strong>That last line collection has a size of 339127.  It seems to contain every sate, country, town, village, etc. How do I get a smaller list of just the countries?</strong></p>\n"},{"tags":["java","spring-boot","cron","scheduler"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1641869088,"post_id":70659607,"comment_id":124914482,"body_markdown":"Why 11th? Why not 1st? Will it always be 11th-24th?","body":"Why 11th? Why not 1st? Will it always be 11th-24th?"},{"owner":{"account_id":4158923,"reputation":9,"user_id":4665682,"display_name":"Jitendra Verma"},"score":0,"creation_date":1641878250,"post_id":70659607,"comment_id":124915908,"body_markdown":"It can be 1st that is not the issue.","body":"It can be 1st that is not the issue."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1641879017,"post_id":70659607,"comment_id":124916052,"body_markdown":"So 1st to 14th every quarter is what you want?","body":"So 1st to 14th every quarter is what you want?"},{"owner":{"account_id":4158923,"reputation":9,"user_id":4665682,"display_name":"Jitendra Verma"},"score":0,"creation_date":1641887860,"post_id":70659607,"comment_id":124918174,"body_markdown":"Yes that&#39;s exactly what I am looking for","body":"Yes that&#39;s exactly what I am looking for"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1641888263,"post_id":70659607,"comment_id":124918294,"body_markdown":"Then [my answer](https://stackoverflow.com/a/70661085/256196) is what you want.","body":"Then <a href=\"https://stackoverflow.com/a/70661085/256196\">my answer</a> is what you want."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641922666,"creation_date":1641869468,"answer_id":70661085,"question_id":70659607,"body_markdown":"To schedule a cron job to run at midnight on days 1 to 14 of the first month of every quarter:\r\n\r\n     minute: 0\r\n      hour: 0\r\n         day of the month: 1 to 14 inclusive\r\n              months: 1,4,7 and 10\r\n                   day of the week: all\r\n                  \r\n        \r\n    0 0 1-14 1,4,7,10 * my-script.sh\r\n\r\nTo schedule a task in Spring Boot, which uses an enhanced flavour of cron expressions, add `0` to the front (for *second*) and use `?` (meaning any, rather than `*` which means all) for the day of week, [specified via the `@Scheduled` annotation][1]: \r\n\r\n    @Scheduled(cron = &quot;0 0 0 1-14 1,4,7,10 ?&quot;)\r\n\r\n  [1]: http://schedule-a-task-using-cron-expressions","title":"Can anybody give a pattern on how do i run a cron job on quarterly basis. This job is supposed to run for 14 days on quarterly basis","body":"<p>To schedule a cron job to run at midnight on days 1 to 14 of the first month of every quarter:</p>\n<pre><code> minute: 0\n  hour: 0\n     day of the month: 1 to 14 inclusive\n          months: 1,4,7 and 10\n               day of the week: all\n              \n    \n0 0 1-14 1,4,7,10 * my-script.sh\n</code></pre>\n<p>To schedule a task in Spring Boot, which uses an enhanced flavour of cron expressions, add <code>0</code> to the front (for <em>second</em>) and use <code>?</code> (meaning any, rather than <code>*</code> which means all) for the day of week, <a href=\"http://schedule-a-task-using-cron-expressions\" rel=\"nofollow noreferrer\">specified via the <code>@Scheduled</code> annotation</a>:</p>\n<pre><code>@Scheduled(cron = &quot;0 0 0 1-14 1,4,7,10 ?&quot;)\n</code></pre>\n"}],"owner":{"account_id":4158923,"reputation":9,"user_id":4665682,"display_name":"Jitendra Verma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641922666,"creation_date":1641853722,"question_id":70659607,"body_markdown":"I have a job that supposed to run on quarterly basis. But once this job started, it should run for 14 days. Example- job starts on 11th Jan then it should run from 11th jan till 24th jan.Next time it should run on 11th April to 24 April.\r\nCan anyone please suggest cron expression for achieving above requirement?","title":"Can anybody give a pattern on how do i run a cron job on quarterly basis. This job is supposed to run for 14 days on quarterly basis","body":"<p>I have a job that supposed to run on quarterly basis. But once this job started, it should run for 14 days. Example- job starts on 11th Jan then it should run from 11th jan till 24th jan.Next time it should run on 11th April to 24 April.\nCan anyone please suggest cron expression for achieving above requirement?</p>\n"},{"tags":["java","android","view"],"answers":[{"tags":[],"owner":{"account_id":23247379,"reputation":337,"user_id":17335765,"display_name":"Marina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641920458,"creation_date":1641920458,"answer_id":70670629,"question_id":70665557,"body_markdown":"I don&#39;t really understood your question but I hope it would help:\r\n\r\n    ArrayList&lt;ImageView&gt; list = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; mViews.size; i++) {\r\n                if (mViews.get(i) instanceof ImageView)\r\n                    list.add(mViews.get(i));\r\n            }","title":"Can I Show View on any Imageview in Android Studio [java]","body":"<p>I don't really understood your question but I hope it would help:</p>\n<pre><code>ArrayList&lt;ImageView&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; mViews.size; i++) {\n            if (mViews.get(i) instanceof ImageView)\n                list.add(mViews.get(i));\n        }\n</code></pre>\n"}],"owner":{"account_id":23823507,"reputation":3,"user_id":17830896,"display_name":"Adnan Gulzar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70670629,"answer_count":1,"score":0,"last_activity_date":1641922538,"creation_date":1641898363,"question_id":70665557,"body_markdown":"I have this type of ArrayList\r\n\r\n    public static ArrayList&lt;View&gt; mViews;\r\n\r\nCreated New Arraylist like this \r\n\r\n    mViews = new ArrayList&lt;&gt;();\r\n\r\nI add View in the Arraylist like this\r\n\r\n     mViews.add(stickerView);\r\n\r\n\r\nand the View is Stored like this\r\n\r\n    StickerView{ad64560 V.ED..... ......I. 0,0-1080,2022}\r\n    \r\n    StickerView{79c1ed5 V.ED..... ......I. 0,0-1080,2022}\r\n\r\n   \r\n\r\ncan I show the mViews list on any imageView\r\n","title":"Can I Show View on any Imageview in Android Studio [java]","body":"<p>I have this type of ArrayList</p>\n<pre><code>public static ArrayList&lt;View&gt; mViews;\n</code></pre>\n<p>Created New Arraylist like this</p>\n<pre><code>mViews = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I add View in the Arraylist like this</p>\n<pre><code> mViews.add(stickerView);\n</code></pre>\n<p>and the View is Stored like this</p>\n<pre><code>StickerView{ad64560 V.ED..... ......I. 0,0-1080,2022}\n\nStickerView{79c1ed5 V.ED..... ......I. 0,0-1080,2022}\n</code></pre>\n<p>can I show the mViews list on any imageView</p>\n"},{"tags":["java","methods"],"answers":[{"tags":[],"owner":{"account_id":21212558,"reputation":56,"user_id":15600858,"display_name":"emmavie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641922486,"creation_date":1641922486,"answer_id":70671066,"question_id":70670868,"body_markdown":"A simple way would be to add two counter variables, one for each player (playerA and playerB) so when a shot is successful, add one to the counter variable. When a counter variable is equal to 5, you would set a boolean variable to true and write an if statement like if the boolean flag is true then end the game. \r\n\r\n \r\n   \r\n    \r\n","title":"How can I end my program when one of players win?","body":"<p>A simple way would be to add two counter variables, one for each player (playerA and playerB) so when a shot is successful, add one to the counter variable. When a counter variable is equal to 5, you would set a boolean variable to true and write an if statement like if the boolean flag is true then end the game.</p>\n"}],"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641922486,"creation_date":1641921560,"question_id":70670868,"body_markdown":"I have here a simple battleship game, where 2 player enters cords for their ships and then they shoot each other. How can I stop the program, when one of them scores 5 successful hits?\r\nSiatka A is where player A puts his ships and siatka B where B puts his.\r\n\r\n    public static int shotA(boolean enemy[][], boolean mine[][]){\r\n        Scanner shot = new Scanner(System.in);\r\n        int x = Integer.parseInt(shot.nextLine());\r\n        int y = Integer.parseInt(shot.nextLine());\r\n        if (enemy[x][y]==true){\r\n            System.out.println(&quot;Trafiony&quot;);\r\n            System.out.println(&quot;Jeszcze raz strzelasz&quot;);\r\n            shotA(enemy, mine);\r\n        }else{\r\n            System.out.println(&quot;Pudo&quot;);\r\n            System.out.println(&quot;Teraz gracz B&quot;);\r\n            shotB(mine, enemy);\r\n        }\r\n        return ;\r\n    }\r\n    \r\n    public static int shotB(boolean enemy[][], boolean mine[][]){\r\n        Scanner shot = new Scanner(System.in);\r\n        int x = Integer.parseInt(shot.nextLine());\r\n        int y = Integer.parseInt(shot.nextLine());\r\n        \r\n        if (enemy[x][y]==true){\r\n            \r\n            System.out.println(&quot;Trafiony&quot;);\r\n            System.out.println(&quot;Jeszcze raz strzelasz&quot;);\r\n            shotB(enemy, mine);\r\n        }else{\r\n            System.out.println(&quot;Pudo&quot;);\r\n            System.out.println(&quot;Teraz gracz A&quot;);\r\n            shotB(mine, enemy);\r\n        }\r\n        return ;\r\n\r\n    public static void main(String[] args) {\r\n        boolean[][] siatkaA = new boolean[10][10];\r\n        boolean[][] siatkaB = new boolean[10][10];\r\n        for (int i = 0; i &lt; siatkaA.length; i++) {\r\n            for (int j = 0; j &lt; siatkaA[0].length; j++) {\r\n                siatkaA[i][j]=false;\r\n                siatkaB[i][j]=false;\r\n            }\r\n        }\r\n        \r\n        Scanner wsp = new Scanner(System.in);\r\n        System.out.println(&quot;Podaj wsporzdne 5 statk&#243;w graczu A(wartoci 0-9, pisane po przecinku&quot;);\r\n        String statkiA=wsp.nextLine();\r\n        System.out.println(&quot;Podaj wsporzdne 5 statk&#243;w graczu B(wartoci 0-9, pisane po przecinku&quot;);\r\n        String statkiB=wsp.nextLine();\r\n        String[] wspA= statkiA.split(&quot;,&quot;);\r\n        String[] wspB= statkiB.split(&quot;,&quot;);\r\n        int first=0;\r\n        int second=0;\r\n        for (int i = 0; i &lt; wspA.length; i+=2) {\r\n            first=Integer.parseInt(wspA[i]);\r\n            second=Integer.parseInt(wspA[i+1]);\r\n            siatkaA[first][second]=true;\r\n        }\r\n        for (int i = 0; i &lt; wspB.length; i+=2) {\r\n            first=Integer.parseInt(wspB[i]);\r\n            second=Integer.parseInt(wspB[i+1]);\r\n            siatkaB[first][second]=true;\r\n        }\r\n        \r\n        \r\n        System.out.println(&quot;Zaczyna gracz A:&quot;);\r\n        shotA(siatkaB, siatkaA);\r\n\r\nI am doing this simple code for training, but i am stuck at that part and asking for some help and advice.","title":"How can I end my program when one of players win?","body":"<p>I have here a simple battleship game, where 2 player enters cords for their ships and then they shoot each other. How can I stop the program, when one of them scores 5 successful hits?\nSiatka A is where player A puts his ships and siatka B where B puts his.</p>\n<pre><code>public static int shotA(boolean enemy[][], boolean mine[][]){\n    Scanner shot = new Scanner(System.in);\n    int x = Integer.parseInt(shot.nextLine());\n    int y = Integer.parseInt(shot.nextLine());\n    if (enemy[x][y]==true){\n        System.out.println(&quot;Trafiony&quot;);\n        System.out.println(&quot;Jeszcze raz strzelasz&quot;);\n        shotA(enemy, mine);\n    }else{\n        System.out.println(&quot;Pudo&quot;);\n        System.out.println(&quot;Teraz gracz B&quot;);\n        shotB(mine, enemy);\n    }\n    return ;\n}\n\npublic static int shotB(boolean enemy[][], boolean mine[][]){\n    Scanner shot = new Scanner(System.in);\n    int x = Integer.parseInt(shot.nextLine());\n    int y = Integer.parseInt(shot.nextLine());\n    \n    if (enemy[x][y]==true){\n        \n        System.out.println(&quot;Trafiony&quot;);\n        System.out.println(&quot;Jeszcze raz strzelasz&quot;);\n        shotB(enemy, mine);\n    }else{\n        System.out.println(&quot;Pudo&quot;);\n        System.out.println(&quot;Teraz gracz A&quot;);\n        shotB(mine, enemy);\n    }\n    return ;\n\npublic static void main(String[] args) {\n    boolean[][] siatkaA = new boolean[10][10];\n    boolean[][] siatkaB = new boolean[10][10];\n    for (int i = 0; i &lt; siatkaA.length; i++) {\n        for (int j = 0; j &lt; siatkaA[0].length; j++) {\n            siatkaA[i][j]=false;\n            siatkaB[i][j]=false;\n        }\n    }\n    \n    Scanner wsp = new Scanner(System.in);\n    System.out.println(&quot;Podaj wsporzdne 5 statkw graczu A(wartoci 0-9, pisane po przecinku&quot;);\n    String statkiA=wsp.nextLine();\n    System.out.println(&quot;Podaj wsporzdne 5 statkw graczu B(wartoci 0-9, pisane po przecinku&quot;);\n    String statkiB=wsp.nextLine();\n    String[] wspA= statkiA.split(&quot;,&quot;);\n    String[] wspB= statkiB.split(&quot;,&quot;);\n    int first=0;\n    int second=0;\n    for (int i = 0; i &lt; wspA.length; i+=2) {\n        first=Integer.parseInt(wspA[i]);\n        second=Integer.parseInt(wspA[i+1]);\n        siatkaA[first][second]=true;\n    }\n    for (int i = 0; i &lt; wspB.length; i+=2) {\n        first=Integer.parseInt(wspB[i]);\n        second=Integer.parseInt(wspB[i+1]);\n        siatkaB[first][second]=true;\n    }\n    \n    \n    System.out.println(&quot;Zaczyna gracz A:&quot;);\n    shotA(siatkaB, siatkaA);\n</code></pre>\n<p>I am doing this simple code for training, but i am stuck at that part and asking for some help and advice.</p>\n"},{"tags":["java","spring","servlets","servlet-filters"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1319491868,"post_id":7882042,"comment_id":9619209,"body_markdown":"I prefer DelegatingFilterProxy as discussed in [this post](http://stackoverflow.com/questions/2416671/accessing-spring-beans-from-servlet-filters-and-tags), feels less ad-hoc.","body":"I prefer DelegatingFilterProxy as discussed in <a href=\"http://stackoverflow.com/questions/2416671/accessing-spring-beans-from-servlet-filters-and-tags\">this post</a>, feels less ad-hoc."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1319491822,"creation_date":1319491507,"answer_id":7882181,"question_id":7882042,"body_markdown":"Try:\r\n\r\n    UsersConnectionRepository bean = \r\n      (UsersConnectionRepository)WebApplicationContextUtils.\r\n        getRequiredWebApplicationContext(filterConfig.getServletContext()).\r\n        getBean(&quot;usersConnectionRepository&quot;);\r\n\r\nWhere `usersConnectionRepository` is a name/id of your bean in the application context. Or even better:\r\n\r\n    UsersConnectionRepository bean = WebApplicationContextUtils.\r\n      getRequiredWebApplicationContext(filterConfig.getServletContext()).\r\n      getBean(UsersConnectionRepository.class);\r\n\r\nAlso have a look at [GenericFilterBean](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/filter/GenericFilterBean.html) and its subclasses.","title":"How can I get a Spring bean in a servlet filter?","body":"<p>Try:</p>\n\n<pre><code>UsersConnectionRepository bean = \n  (UsersConnectionRepository)WebApplicationContextUtils.\n    getRequiredWebApplicationContext(filterConfig.getServletContext()).\n    getBean(\"usersConnectionRepository\");\n</code></pre>\n\n<p>Where <code>usersConnectionRepository</code> is a name/id of your bean in the application context. Or even better:</p>\n\n<pre><code>UsersConnectionRepository bean = WebApplicationContextUtils.\n  getRequiredWebApplicationContext(filterConfig.getServletContext()).\n  getBean(UsersConnectionRepository.class);\n</code></pre>\n\n<p>Also have a look at <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/filter/GenericFilterBean.html\" rel=\"noreferrer\">GenericFilterBean</a> and its subclasses.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1319491548,"creation_date":1319491548,"answer_id":7882192,"question_id":7882042,"body_markdown":"There are three ways:\r\n\r\n1. Use `WebApplicationContextUtils`:\r\n        \r\n        public void init(FilterConfig cfg) { \r\n            ApplicationContext ctx = WebApplicationContextUtils\r\n              .getRequiredWebApplicationContext(cfg.getServletContext());\r\n            this.bean = ctx.getBean(YourBeanType.class);\r\n        }\r\n\r\n2. Using the [`DelegatingFilterProxy`][1] - you map that filter, and declare your filter as bean. The delegating proxy will then invoke all beans that implement the `Filter` interface.\r\n\r\n3. Use `@Configurable` on your filter. I would prefer one of the other two options though. (This option uses aspectj weaving)\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/filter/DelegatingFilterProxy.html","title":"How can I get a Spring bean in a servlet filter?","body":"<p>There are three ways:</p>\n\n<ol>\n<li><p>Use <code>WebApplicationContextUtils</code>:</p>\n\n<pre><code>public void init(FilterConfig cfg) { \n    ApplicationContext ctx = WebApplicationContextUtils\n      .getRequiredWebApplicationContext(cfg.getServletContext());\n    this.bean = ctx.getBean(YourBeanType.class);\n}\n</code></pre></li>\n<li><p>Using the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/filter/DelegatingFilterProxy.html\" rel=\"noreferrer\"><code>DelegatingFilterProxy</code></a> - you map that filter, and declare your filter as bean. The delegating proxy will then invoke all beans that implement the <code>Filter</code> interface.</p></li>\n<li><p>Use <code>@Configurable</code> on your filter. I would prefer one of the other two options though. (This option uses aspectj weaving)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1181167,"reputation":2327,"user_id":1156067,"accept_rate":44,"display_name":"Elad Tabak"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1484209704,"creation_date":1484209704,"answer_id":41608291,"question_id":7882042,"body_markdown":"Spring have a utility just for this.\r\n\r\nIn your Filter code, override the init method like this:\r\n\r\n    public void init(FilterConfig cfg) { \r\n        super.init(cfg);\r\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n    }\r\n\r\nThen you just @Inject your beans to that filter, same way as any other bean you would inject.\r\n\r\n    @Inject\r\n    private UsersConnectionRepository repository;\r\n\r\n","title":"How can I get a Spring bean in a servlet filter?","body":"<p>Spring have a utility just for this.</p>\n\n<p>In your Filter code, override the init method like this:</p>\n\n<pre><code>public void init(FilterConfig cfg) { \n    super.init(cfg);\n    SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n}\n</code></pre>\n\n<p>Then you just @Inject your beans to that filter, same way as any other bean you would inject.</p>\n\n<pre><code>@Inject\nprivate UsersConnectionRepository repository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11955975,"reputation":19,"user_id":8748330,"display_name":"Kelvin Phan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507613124,"creation_date":1507579518,"answer_id":46654166,"question_id":7882042,"body_markdown":"extends this below class.\r\n\r\n    abstract public class SpringServletFilter implements Filter{\r\n    \t@Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n    \t\t//must provide autowiring support to inject SpringBean\r\n    \t\tSpringBeanAutowiringSupport.processInjectionBasedOnServletContext(this, filterConfig.getServletContext());\t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void destroy() {\t}\r\n    \r\n    \tabstract public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException;\r\n    }","title":"How can I get a Spring bean in a servlet filter?","body":"<p>extends this below class.</p>\n\n<pre><code>abstract public class SpringServletFilter implements Filter{\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        //must provide autowiring support to inject SpringBean\n        SpringBeanAutowiringSupport.processInjectionBasedOnServletContext(this, filterConfig.getServletContext());      \n    }\n\n    @Override\n    public void destroy() { }\n\n    abstract public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3364917,"reputation":3325,"user_id":2825798,"display_name":"PraveenKumar Lalasangi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570550556,"creation_date":1567087982,"answer_id":57712093,"question_id":7882042,"body_markdown":"### To have clear idea of how beans can be accessed between contexts\r\n\r\nThere are two types of context in spring&lt;br&gt;\r\n1. Root context (Context&#39;s Loaded by ContextLoaderListener)&lt;br&gt;\r\n2. Servlet context (Context&#39;s Loaded by DispatcherServlet)\r\n\r\n### Is beans defined in rootContext are visible in servletContext? - YES\r\nBeans defined in root context is always visible in all servlet contexts by default. for example dataSource bean defined in root context can be accessed in servlet context as given below.\r\n```java\r\n@Configuration\r\npublic class RootConfiguration\r\n{\r\n\t@Bean\r\n\tpublic DataSource dataSource()\r\n\t{\r\n       ...\r\n    }\r\n}\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(basePackages = &quot;com.pvn.mvctiles&quot;)\r\npublic class ServletConfiguration implements WebMvcConfigurer\r\n{\r\n\t@Autowired\r\n\tprivate DataSource dataSource;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n### Is beans defined in servletContext visible in rootContext - yes*\r\n\r\n(Why * in Yes)&lt;br&gt;\r\n1. Initialization of context order is rootContext first and servletContext next.\r\nDuring initialization of rootContext i.e, in the root context configuration class/xml if you try to get the bean defined in servletContext you will get NULL. (because servletContext is not initialized yet, hence we can say beans not visible/registered during initialization of rootContext)&lt;br&gt;\r\nBut you can get beans defined in servletContext after initialization of servletContext(you can get beans through application context)&lt;br&gt;&lt;br&gt;\r\nyou can print and confirm it by\r\n```\r\napplicationContext.getBeanDefinitionNames();\r\n```\r\n&lt;br&gt;\r\n2. If you want to access beans of servlet context in the filter or in the another servlet context, add ```&quot;org.springframework.web.servlet&quot;``` base package to your root config class/xml\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;org.springframework.web.servlet&quot; )\r\npublic class RootConfiguration\r\n```\r\nafter adding you can get all below beans from application context&lt;br&gt;\r\n\r\n``` springSecurityConfig```, ``` tilesConfigurer```, ``` themeSource```, ``` themeResolver```, ``` messageSource```, ``` localeResolver```, ``` requestMappingHandlerMapping```, ``` mvcPathMatcher```, ``` mvcUrlPathHelper```, ``` mvcContentNegotiationManager```, ``` viewControllerHandlerMapping```, ``` beanNameHandlerMapping```, ``` resourceHandlerMapping```, ``` mvcResourceUrlProvider```, ``` defaultServletHandlerMapping```, ``` requestMappingHandlerAdapter```, ``` mvcConversionService```, ``` mvcValidator```, ``` mvcUriComponentsContributor```, ``` httpRequestHandlerAdapter```, ``` simpleControllerHandlerAdapter```, ``` handlerExceptionResolver```, ``` mvcViewResolver```, ``` mvcHandlerMappingIntrospector```\r\n\r\nIf you want to get your custom beans in rootContext add base package value to rootContext component scan as given below.\r\n```\r\n@Configuration\r\n@ComponentScan(basePackages = { &quot;com.your.configuration.package&quot;, &quot;org.springframework.web.servlet&quot; })\r\npublic class RootConfiguration\r\n```\r\nAbove given configuration will be helpful if you want injected dependency be available in your rootContext and can be accessed in your servlet-filter. For example If you catch exception in filter and want to send error response which is same as response sent by ```HttpMessageConverter``` but it is configured in servletContext, then you may want to access that configured converter to send the same response.\r\n\r\nNote this, below autowiring will not work in servlet-filters &lt;br&gt;\r\n```\r\n@Autowired\r\nprivate ApplicationContext appContext;\r\n```\r\nApplicationContext autowiring will not work in servlet filter, as filters are initialized before spring container got initialized.(Depends on order of your filter and DelegatingProxyFilter)\r\n\r\nSo, to get applicationContext in filter\r\n```java\r\npublic class YourFilter implements Filter\r\n{\r\n\tprivate ApplicationContext appContext;\r\n\r\n\t@Override\r\n\tpublic void init(FilterConfig filterConfig) throws ServletException\r\n\t{\r\n\t\tFilter.super.init(filterConfig);\r\n\t\tappContext = WebApplicationContextUtils.getRequiredWebApplicationContext(filterConfig.getServletContext());\r\n\t}\r\n}\r\n```\r\n\r\nHope it gives clear idea of how beans can be accessed between contexts.","title":"How can I get a Spring bean in a servlet filter?","body":"<h3>To have clear idea of how beans can be accessed between contexts</h3>\n\n<p>There are two types of context in spring<br>\n1. Root context (Context's Loaded by ContextLoaderListener)<br>\n2. Servlet context (Context's Loaded by DispatcherServlet)</p>\n\n<h3>Is beans defined in rootContext are visible in servletContext? - YES</h3>\n\n<p>Beans defined in root context is always visible in all servlet contexts by default. for example dataSource bean defined in root context can be accessed in servlet context as given below.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RootConfiguration\n{\n    @Bean\n    public DataSource dataSource()\n    {\n       ...\n    }\n}\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"com.pvn.mvctiles\")\npublic class ServletConfiguration implements WebMvcConfigurer\n{\n    @Autowired\n    private DataSource dataSource;\n\n    ...\n}\n</code></pre>\n\n<h3>Is beans defined in servletContext visible in rootContext - yes*</h3>\n\n<p>(Why * in Yes)<br>\n1. Initialization of context order is rootContext first and servletContext next.\nDuring initialization of rootContext i.e, in the root context configuration class/xml if you try to get the bean defined in servletContext you will get NULL. (because servletContext is not initialized yet, hence we can say beans not visible/registered during initialization of rootContext)<br>\nBut you can get beans defined in servletContext after initialization of servletContext(you can get beans through application context)<br><br>\nyou can print and confirm it by</p>\n\n<pre><code>applicationContext.getBeanDefinitionNames();\n</code></pre>\n\n<p><br>\n2. If you want to access beans of servlet context in the filter or in the another servlet context, add <code>\"org.springframework.web.servlet\"</code> base package to your root config class/xml</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = \"org.springframework.web.servlet\" )\npublic class RootConfiguration\n</code></pre>\n\n<p>after adding you can get all below beans from application context<br></p>\n\n<p><code>springSecurityConfig</code>, <code>tilesConfigurer</code>, <code>themeSource</code>, <code>themeResolver</code>, <code>messageSource</code>, <code>localeResolver</code>, <code>requestMappingHandlerMapping</code>, <code>mvcPathMatcher</code>, <code>mvcUrlPathHelper</code>, <code>mvcContentNegotiationManager</code>, <code>viewControllerHandlerMapping</code>, <code>beanNameHandlerMapping</code>, <code>resourceHandlerMapping</code>, <code>mvcResourceUrlProvider</code>, <code>defaultServletHandlerMapping</code>, <code>requestMappingHandlerAdapter</code>, <code>mvcConversionService</code>, <code>mvcValidator</code>, <code>mvcUriComponentsContributor</code>, <code>httpRequestHandlerAdapter</code>, <code>simpleControllerHandlerAdapter</code>, <code>handlerExceptionResolver</code>, <code>mvcViewResolver</code>, <code>mvcHandlerMappingIntrospector</code></p>\n\n<p>If you want to get your custom beans in rootContext add base package value to rootContext component scan as given below.</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages = { \"com.your.configuration.package\", \"org.springframework.web.servlet\" })\npublic class RootConfiguration\n</code></pre>\n\n<p>Above given configuration will be helpful if you want injected dependency be available in your rootContext and can be accessed in your servlet-filter. For example If you catch exception in filter and want to send error response which is same as response sent by <code>HttpMessageConverter</code> but it is configured in servletContext, then you may want to access that configured converter to send the same response.</p>\n\n<p>Note this, below autowiring will not work in servlet-filters <br></p>\n\n<pre><code>@Autowired\nprivate ApplicationContext appContext;\n</code></pre>\n\n<p>ApplicationContext autowiring will not work in servlet filter, as filters are initialized before spring container got initialized.(Depends on order of your filter and DelegatingProxyFilter)</p>\n\n<p>So, to get applicationContext in filter</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class YourFilter implements Filter\n{\n    private ApplicationContext appContext;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException\n    {\n        Filter.super.init(filterConfig);\n        appContext = WebApplicationContextUtils.getRequiredWebApplicationContext(filterConfig.getServletContext());\n    }\n}\n</code></pre>\n\n<p>Hope it gives clear idea of how beans can be accessed between contexts.</p>\n"},{"tags":[],"owner":{"account_id":16562022,"reputation":101,"user_id":11967711,"display_name":"SarangRN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641922422,"creation_date":1641922422,"answer_id":70671048,"question_id":7882042,"body_markdown":"One more solution if you are using spring security and  extending the OncePerRequestFilter\r\n```\r\n@Component\r\npublic class CustomAuthorizationFilter extends OncePerRequestFilter{\r\n\r\n\t@Autowired\r\n\tResourceConfig resourceConfig;\r\n\r\n\tpublic CustomAuthorizationFilter() {\r\n\t\t\tSpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n\t}\r\n...your code\r\n... //resourceConfig will not be null\r\n\r\n```","title":"How can I get a Spring bean in a servlet filter?","body":"<p>One more solution if you are using spring security and  extending the OncePerRequestFilter</p>\n<pre><code>@Component\npublic class CustomAuthorizationFilter extends OncePerRequestFilter{\n\n    @Autowired\n    ResourceConfig resourceConfig;\n\n    public CustomAuthorizationFilter() {\n            SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n    }\n...your code\n... //resourceConfig will not be null\n\n</code></pre>\n"}],"owner":{"account_id":333522,"reputation":1572,"user_id":659431,"accept_rate":62,"display_name":"IturPablo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53036,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":7882181,"answer_count":6,"score":48,"last_activity_date":1641922422,"creation_date":1319490754,"question_id":7882042,"body_markdown":"I have defined a `javax.servlet.Filter` and I have Java class with Spring annotations.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Bean;\r\n\r\n    @Configuration\r\n    public class SocialConfig {\r\n\r\n        // ...\r\n\r\n        @Bean\r\n        public UsersConnectionRepository usersConnectionRepository() {\r\n            // ...\r\n        }\r\n    }\r\n\r\nI want to get the bean `UsersConnectionRepository` in my `Filter`, so I tried the following:\r\n\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        UsersConnectionRepository bean = (UsersConnectionRepository) filterConfig.getServletContext().getAttribute(&quot;#{connectionFactoryLocator}&quot;);\r\n    }\r\n\r\nBut it always returns `null`. How can I get a Spring bean in a `Filter`?","title":"How can I get a Spring bean in a servlet filter?","body":"<p>I have defined a <code>javax.servlet.Filter</code> and I have Java class with Spring annotations.</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Bean;\n\n@Configuration\npublic class SocialConfig {\n\n    // ...\n\n    @Bean\n    public UsersConnectionRepository usersConnectionRepository() {\n        // ...\n    }\n}\n</code></pre>\n\n<p>I want to get the bean <code>UsersConnectionRepository</code> in my <code>Filter</code>, so I tried the following:</p>\n\n<pre><code>public void init(FilterConfig filterConfig) throws ServletException {\n    UsersConnectionRepository bean = (UsersConnectionRepository) filterConfig.getServletContext().getAttribute(\"#{connectionFactoryLocator}\");\n}\n</code></pre>\n\n<p>But it always returns <code>null</code>. How can I get a Spring bean in a <code>Filter</code>?</p>\n"},{"tags":["java","graph","lambda","set"],"answers":[{"tags":[],"owner":{"account_id":7584144,"reputation":1238,"user_id":5753895,"display_name":"Ken Clubok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453632102,"creation_date":1453632102,"answer_id":34974763,"question_id":34974460,"body_markdown":"I&#39;m not sure why you are getting that result, but I do see another problem with this code:  It is order-dependent.  For example, even if the code worked as intended, it would matter whether `[Node[0], Node[1], Node[2]]` is compared first to `[Node[0], Node[2], Node[6]]` or `[Node[2], Node[6], Node[7]]`. But Sets don&#39;t have a defined order, so the result is either non-deterministic or implementation-dependent, depending on how you look at it.\r\n\r\nIf you really want deterministic order-dependent operations here, you should be using `List&lt;Set&lt;Node&gt;&gt;`, rather than `Set&lt;Set&lt;Node&gt;&gt;`.","title":"Merge sets when two elements in common","body":"<p>I'm not sure why you are getting that result, but I do see another problem with this code:  It is order-dependent.  For example, even if the code worked as intended, it would matter whether <code>[Node[0], Node[1], Node[2]]</code> is compared first to <code>[Node[0], Node[2], Node[6]]</code> or <code>[Node[2], Node[6], Node[7]]</code>. But Sets don't have a defined order, so the result is either non-deterministic or implementation-dependent, depending on how you look at it.</p>\n\n<p>If you really want deterministic order-dependent operations here, you should be using <code>List&lt;Set&lt;Node&gt;&gt;</code>, rather than <code>Set&lt;Set&lt;Node&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691985,"reputation":1221,"user_id":1554154,"display_name":"rinde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1453717646,"creation_date":1453641843,"answer_id":34976316,"question_id":34974460,"body_markdown":"Some considerations:\r\n\r\n - Each time you apply a merge, you have to restart the procedure and iterate over the modified collection. Because of this, the iteration order of the input set is important, if you want your code to be deterministic you may want to use collections that give guarantees over their iteration order (e.g. use `LinkedHashSet` (not `HashSet`) or `List`.\r\n - Your current code has side effects as it modifies the supplied sets when merging. In general I think it helps to abstain from creating side effects whenever possible.\r\n\r\nThe following code does what you want:\r\n\r\n    static &lt;T&gt; List&lt;Set&lt;T&gt;&gt; mergeSets(Collection&lt;? extends Set&lt;T&gt;&gt; unmergedSets) {\r\n      final List&lt;Set&lt;T&gt;&gt; mergedSets = new ArrayList&lt;&gt;(unmergedSets);\r\n    \r\n      List&lt;Integer&gt; mergeCandidate = Collections.emptyList();\r\n      do {\r\n        mergeCandidate = findMergeCandidate(mergedSets);\r\n    \r\n        // apply the merge\r\n        if (!mergeCandidate.isEmpty()) {\r\n          // gather the sets to merge\r\n          final Set&lt;T&gt; mergedSet = Sets.union(\r\n              mergedSets.get(mergeCandidate.get(0)),\r\n              mergedSets.get(mergeCandidate.get(1)));\r\n    \r\n          // removes both sets using their index, starts with the highest index\r\n          mergedSets.remove(mergeCandidate.get(0).intValue());\r\n          mergedSets.remove(mergeCandidate.get(1).intValue());\r\n    \r\n          // add the mergedSet\r\n          mergedSets.add(mergedSet);\r\n        }\r\n      } while (!mergeCandidate.isEmpty());\r\n    \r\n      return mergedSets;\r\n    }\r\n    \r\n    // O(n^2/2)\r\n    static &lt;T&gt; List&lt;Integer&gt; findMergeCandidate(List&lt;Set&lt;T&gt;&gt; sets) {\r\n      for (int i = 0; i &lt; sets.size(); i++) {\r\n        for (int j = i + 1; j &lt; sets.size(); j++) {\r\n          if (Sets.intersection(sets.get(i), sets.get(j)).size() == 2) {\r\n            return Arrays.asList(j, i);\r\n          }\r\n        }\r\n      }\r\n      return Collections.emptyList();\r\n    }\r\n\r\nFor testing this method I created two helper methods:\r\n\r\n    static Set&lt;Integer&gt; set(int... ints) {\r\n      return new LinkedHashSet&lt;&gt;(Ints.asList(ints));\r\n    }\r\n    \r\n    @SafeVarargs\r\n    static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; sets(Set&lt;T&gt;... sets) {\r\n      return new LinkedHashSet&lt;&gt;(Arrays.asList(sets));\r\n    }\r\n\r\nThese helper methods allow to write very readable tests, for example (using the numbers from the question):\r\n\r\n    public static void main(String[] args) {\r\n        // prints [[2, 6, 7, 0, 1]]\r\n        System.out.println(mergeSets(sets(set(0, 1, 2, 6), set(2, 6, 7))));\r\n        // prints [[3, 4, 5], [0, 2, 6, 1, 7]]\r\n        System.out.println(\r\n          mergeSets(sets(set(0, 1, 2), set(0, 2, 6), set(3, 4, 5), set(2, 6, 7))));\r\n    }\r\n\r\n\r\n  [2]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Sets.html#cartesianProduct(java.util.Set...)","title":"Merge sets when two elements in common","body":"<p>Some considerations:</p>\n\n<ul>\n<li>Each time you apply a merge, you have to restart the procedure and iterate over the modified collection. Because of this, the iteration order of the input set is important, if you want your code to be deterministic you may want to use collections that give guarantees over their iteration order (e.g. use <code>LinkedHashSet</code> (not <code>HashSet</code>) or <code>List</code>.</li>\n<li>Your current code has side effects as it modifies the supplied sets when merging. In general I think it helps to abstain from creating side effects whenever possible.</li>\n</ul>\n\n<p>The following code does what you want:</p>\n\n<pre><code>static &lt;T&gt; List&lt;Set&lt;T&gt;&gt; mergeSets(Collection&lt;? extends Set&lt;T&gt;&gt; unmergedSets) {\n  final List&lt;Set&lt;T&gt;&gt; mergedSets = new ArrayList&lt;&gt;(unmergedSets);\n\n  List&lt;Integer&gt; mergeCandidate = Collections.emptyList();\n  do {\n    mergeCandidate = findMergeCandidate(mergedSets);\n\n    // apply the merge\n    if (!mergeCandidate.isEmpty()) {\n      // gather the sets to merge\n      final Set&lt;T&gt; mergedSet = Sets.union(\n          mergedSets.get(mergeCandidate.get(0)),\n          mergedSets.get(mergeCandidate.get(1)));\n\n      // removes both sets using their index, starts with the highest index\n      mergedSets.remove(mergeCandidate.get(0).intValue());\n      mergedSets.remove(mergeCandidate.get(1).intValue());\n\n      // add the mergedSet\n      mergedSets.add(mergedSet);\n    }\n  } while (!mergeCandidate.isEmpty());\n\n  return mergedSets;\n}\n\n// O(n^2/2)\nstatic &lt;T&gt; List&lt;Integer&gt; findMergeCandidate(List&lt;Set&lt;T&gt;&gt; sets) {\n  for (int i = 0; i &lt; sets.size(); i++) {\n    for (int j = i + 1; j &lt; sets.size(); j++) {\n      if (Sets.intersection(sets.get(i), sets.get(j)).size() == 2) {\n        return Arrays.asList(j, i);\n      }\n    }\n  }\n  return Collections.emptyList();\n}\n</code></pre>\n\n<p>For testing this method I created two helper methods:</p>\n\n<pre><code>static Set&lt;Integer&gt; set(int... ints) {\n  return new LinkedHashSet&lt;&gt;(Ints.asList(ints));\n}\n\n@SafeVarargs\nstatic &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; sets(Set&lt;T&gt;... sets) {\n  return new LinkedHashSet&lt;&gt;(Arrays.asList(sets));\n}\n</code></pre>\n\n<p>These helper methods allow to write very readable tests, for example (using the numbers from the question):</p>\n\n<pre><code>public static void main(String[] args) {\n    // prints [[2, 6, 7, 0, 1]]\n    System.out.println(mergeSets(sets(set(0, 1, 2, 6), set(2, 6, 7))));\n    // prints [[3, 4, 5], [0, 2, 6, 1, 7]]\n    System.out.println(\n      mergeSets(sets(set(0, 1, 2), set(0, 2, 6), set(3, 4, 5), set(2, 6, 7))));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641922365,"creation_date":1641922365,"answer_id":70671036,"question_id":34974460,"body_markdown":"Here&#39;s a clean approach using recursion:\r\n\r\n\tpublic static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; mergeIntersectingSets(Collection&lt;? extends Set&lt;T&gt;&gt; unmergedSets) {\r\n\t\tboolean edited = false;\r\n\t\t\r\n\t\tSet&lt;Set&lt;T&gt;&gt; mergedSets = new HashSet&lt;&gt;();\r\n\t\tfor (Set&lt;T&gt; subset1 : unmergedSets) {\r\n\t\t\tboolean merged = false;\r\n\t\t\t\r\n\t\t\t// if at least one element is contained in another subset, then merge the subsets\r\n\t\t\tfor (Set&lt;T&gt; subset2 : mergedSets) {\r\n\t\t\t\tif (!Collections.disjoint(subset1, subset2)) {\r\n\t\t\t\t\tsubset2.addAll(subset1);\r\n\t\t\t\t\tmerged = true;\r\n\t\t\t\t\tedited = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// otherwise, add the current subset as a new subset\r\n\t\t\tif (!merged) mergedSets.add(subset1);\r\n\t\t}\r\n\t\t\r\n\t\tif (edited) return mergeIntersectingSets(mergedSets); // continue merging until we reach a fixpoint\r\n\t\telse return mergedSets;\r\n\t}\r\n","title":"Merge sets when two elements in common","body":"<p>Here's a clean approach using recursion:</p>\n<pre><code>public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; mergeIntersectingSets(Collection&lt;? extends Set&lt;T&gt;&gt; unmergedSets) {\n    boolean edited = false;\n    \n    Set&lt;Set&lt;T&gt;&gt; mergedSets = new HashSet&lt;&gt;();\n    for (Set&lt;T&gt; subset1 : unmergedSets) {\n        boolean merged = false;\n        \n        // if at least one element is contained in another subset, then merge the subsets\n        for (Set&lt;T&gt; subset2 : mergedSets) {\n            if (!Collections.disjoint(subset1, subset2)) {\n                subset2.addAll(subset1);\n                merged = true;\n                edited = true;\n            }\n        }\n        // otherwise, add the current subset as a new subset\n        if (!merged) mergedSets.add(subset1);\n    }\n    \n    if (edited) return mergeIntersectingSets(mergedSets); // continue merging until we reach a fixpoint\n    else return mergedSets;\n}\n</code></pre>\n"}],"owner":{"account_id":7234198,"reputation":375,"user_id":5520027,"accept_rate":82,"display_name":"priya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34976316,"answer_count":3,"score":2,"last_activity_date":1641922365,"creation_date":1453629974,"question_id":34974460,"body_markdown":"This is the follow up of [compare sets][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/34963632/compare-sets-inside-a-set#comment57665618_34964554\r\n\r\nI have \r\n\r\n    Set&lt;Set&lt;Node&gt;&gt; NestedSet = new HashSet&lt;Set&lt;Node&gt;&gt;();\r\n\r\n    [[Node[0], Node[1], Node[2]], [Node[0], Node[2], Node[6]], [Node[3], Node[4], Node[5]]  [Node[2], Node[6], Node[7]] ]\r\n\r\nI want to merge the sets when there are two elements in common. For example 0,1,2 and 0,2,6 has two elements in common so merging them to form [0,1,2,6]. \r\n\r\nAgain [0,1,2,6] and [2,6,7] has 2 and 6 common. so merging them and getting [0,1,2,6,7]. \r\n\r\nThe final output should be :\r\n\r\n    [  [Node[0], Node[1], Node[2], Node[6], Node[7]], [Node[3], Node[4], Node[5]] ]\r\n\r\nI tried  like this :\r\n\r\n             for (Set&lt;Node&gt; s1 : NestedSet ) {\r\n\t\t\t\t\t\t    Optional&lt;Set&lt;Node&gt;&gt; findFirst = result.stream().filter(p -&gt; { HashSet&lt;Node&gt; temp = new HashSet&lt;&gt;(s1); \r\n\t\t\t\t\t\t    temp.retainAll(p); \r\n\t\t\t\t\t\t    return temp.size() == 2; }).findFirst(); \r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t    if (findFirst.isPresent()){\r\n\t\t\t\t\t\t    \t\r\n\t\t\t\t\t\t        findFirst.get().addAll(s1); \r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t    else {\r\n\t\t\t\t\t\t    \tresult.add(s1);\r\n\t\t\t\t\t\t    }    \r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t}\r\n\r\nBut the result I got was :\r\n\r\n    [[Node[0], Node[1], Node[2], Node[6], Node[7]], [Node[3], Node[4], Node[5]], [Node[0], Node[2], Node[6], Node[7]]]\r\n\r\n\r\nAny idea ? Is there any way to get the desired output?","title":"Merge sets when two elements in common","body":"<p>This is the follow up of <a href=\"https://stackoverflow.com/questions/34963632/compare-sets-inside-a-set#comment57665618_34964554\">compare sets</a></p>\n\n<p>I have </p>\n\n<pre><code>Set&lt;Set&lt;Node&gt;&gt; NestedSet = new HashSet&lt;Set&lt;Node&gt;&gt;();\n\n[[Node[0], Node[1], Node[2]], [Node[0], Node[2], Node[6]], [Node[3], Node[4], Node[5]]  [Node[2], Node[6], Node[7]] ]\n</code></pre>\n\n<p>I want to merge the sets when there are two elements in common. For example 0,1,2 and 0,2,6 has two elements in common so merging them to form [0,1,2,6]. </p>\n\n<p>Again [0,1,2,6] and [2,6,7] has 2 and 6 common. so merging them and getting [0,1,2,6,7]. </p>\n\n<p>The final output should be :</p>\n\n<pre><code>[  [Node[0], Node[1], Node[2], Node[6], Node[7]], [Node[3], Node[4], Node[5]] ]\n</code></pre>\n\n<p>I tried  like this :</p>\n\n<pre><code>         for (Set&lt;Node&gt; s1 : NestedSet ) {\n                        Optional&lt;Set&lt;Node&gt;&gt; findFirst = result.stream().filter(p -&gt; { HashSet&lt;Node&gt; temp = new HashSet&lt;&gt;(s1); \n                        temp.retainAll(p); \n                        return temp.size() == 2; }).findFirst(); \n\n                        if (findFirst.isPresent()){\n\n                            findFirst.get().addAll(s1); \n                        }\n                        else {\n                            result.add(s1);\n                        }    \n\n                    }\n</code></pre>\n\n<p>But the result I got was :</p>\n\n<pre><code>[[Node[0], Node[1], Node[2], Node[6], Node[7]], [Node[3], Node[4], Node[5]], [Node[0], Node[2], Node[6], Node[7]]]\n</code></pre>\n\n<p>Any idea ? Is there any way to get the desired output?</p>\n"},{"tags":["java","sql","swing","ms-access-2010"],"answers":[{"tags":[],"owner":{"account_id":3475676,"reputation":858,"user_id":2908941,"accept_rate":50,"display_name":"asaini007"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387556915,"creation_date":1387484667,"answer_id":20690995,"question_id":20690966,"body_markdown":"Simply configure what happens when the &quot;x&quot; is pressed using a `WindowListener`.\r\n\r\nThis is done easily using two methods for the JFrame (`frame`, in the examples below) that displays everything:\r\n\r\n    1. frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE); // by default pressing the &quot;x&quot; will do nothing.\r\n    2. frame.addWindowListener(new WindowAdapter() {  // However, when the &quot;x&quot; is pressed...\r\n        \tpublic void windowClosing(WindowEvent e) {  // this method is called,\r\n        \t\t...  // and you write the body here to allow your program to respond appropriately\r\n        \t}\r\n        });\r\n\r\nEventually you&#39;ll want to call `frame.dispose()` to finally close the window.\r\n\r\nYou can implement additional methods in the body of the` WindowAdapter` inner class to respond to different window events... see the [WindowAdapter interface][1] for methods that can be implemented.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowAdapter.html","title":"Incorporate a timeout option when user click the upper right &quot;x&quot; on the window versus a button.","body":"<p>Simply configure what happens when the \"x\" is pressed using a <code>WindowListener</code>.</p>\n\n<p>This is done easily using two methods for the JFrame (<code>frame</code>, in the examples below) that displays everything:</p>\n\n<pre><code>1. frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE); // by default pressing the \"x\" will do nothing.\n2. frame.addWindowListener(new WindowAdapter() {  // However, when the \"x\" is pressed...\n        public void windowClosing(WindowEvent e) {  // this method is called,\n            ...  // and you write the body here to allow your program to respond appropriately\n        }\n    });\n</code></pre>\n\n<p>Eventually you'll want to call <code>frame.dispose()</code> to finally close the window.</p>\n\n<p>You can implement additional methods in the body of the<code>WindowAdapter</code> inner class to respond to different window events... see the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowAdapter.html\" rel=\"nofollow\">WindowAdapter interface</a> for methods that can be implemented.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1387485055,"creation_date":1387485055,"answer_id":20691111,"question_id":20690966,"body_markdown":"&gt; Sadly, this is only in a perfect world where users will actually use those buttons and not the little red &quot;x&quot; on the upper right.\r\n\r\nSee [Closing an Application.][1] You can create an Action that can be invoked when you use a button, menu item or when the user clicks on the &quot;X&quot; (close) button.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2009/05/01/closing-an-application/","title":"Incorporate a timeout option when user click the upper right &quot;x&quot; on the window versus a button.","body":"<blockquote>\n  <p>Sadly, this is only in a perfect world where users will actually use those buttons and not the little red \"x\" on the upper right.</p>\n</blockquote>\n\n<p>See <a href=\"http://tips4java.wordpress.com/2009/05/01/closing-an-application/\" rel=\"nofollow\">Closing an Application.</a> You can create an Action that can be invoked when you use a button, menu item or when the user clicks on the \"X\" (close) button.</p>\n"},{"tags":[],"owner":{"account_id":2876990,"reputation":21,"user_id":2468755,"display_name":"Omar HM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641922350,"creation_date":1641922350,"answer_id":70671032,"question_id":20690966,"body_markdown":"1-\tThe KB5002099 patch deployed in Client computers recently, introduce a bug as a side effect of a security fix.\r\n\r\nHere in the link  is the description of this patch -&gt; https://support.microsoft.com/en-us/topic/description-of-the-security-update-for-office-2016-december-14-2021-kb5002099-10670400-427f-4819-8de6-abd11e73100b\r\n\r\nInside this description, you will find the Know issue of this update, and the solution (KB4484211) How to get and install the update\r\nDatabases on network share can&#39;t be accessed by multiple users in Office 2016 (KB4484211) (microsoft.com)\r\n2-\tSelect download update for Office 2016, This update is available only for manual download and installation from the Microsoft Download Center. \r\nhttps://support.microsoft.com/en-us/topic/databases-on-network-share-can-t-be-accessed-by-multiple-users-in-office-2016-kb4484211-88a51f7f-f7dd-2d9c-0b96-b7fca0867a4f\r\n","title":"Incorporate a timeout option when user click the upper right &quot;x&quot; on the window versus a button.","body":"<p>1-  The KB5002099 patch deployed in Client computers recently, introduce a bug as a side effect of a security fix.</p>\n<p>Here in the link  is the description of this patch -&gt; <a href=\"https://support.microsoft.com/en-us/topic/description-of-the-security-update-for-office-2016-december-14-2021-kb5002099-10670400-427f-4819-8de6-abd11e73100b\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/topic/description-of-the-security-update-for-office-2016-december-14-2021-kb5002099-10670400-427f-4819-8de6-abd11e73100b</a></p>\n<p>Inside this description, you will find the Know issue of this update, and the solution (KB4484211) How to get and install the update\nDatabases on network share can't be accessed by multiple users in Office 2016 (KB4484211) (microsoft.com)\n2-  Select download update for Office 2016, This update is available only for manual download and installation from the Microsoft Download Center.\n<a href=\"https://support.microsoft.com/en-us/topic/databases-on-network-share-can-t-be-accessed-by-multiple-users-in-office-2016-kb4484211-88a51f7f-f7dd-2d9c-0b96-b7fca0867a4f\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/topic/databases-on-network-share-can-t-be-accessed-by-multiple-users-in-office-2016-kb4484211-88a51f7f-f7dd-2d9c-0b96-b7fca0867a4f</a></p>\n"}],"owner":{"account_id":3132297,"reputation":118,"user_id":2649693,"display_name":"Jesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20691111,"answer_count":3,"score":2,"last_activity_date":1641922350,"creation_date":1387484578,"question_id":20690966,"body_markdown":"I built a Swing application that works with an MSAccess database. I have various buttons to click **when** clicked--they will disconnect and unlock the database. \r\n\r\nSadly, this is only in a perfect world where users will actually use those buttons and not the little red &quot;x&quot; on the upper right. When some users click that, the database stays locked with a file extension &#39;.ldb&#39; for those of you unfamiliar with MSAccess. \r\n\r\nI need to avoid that. Is there any function that I can implement? Like a timeout? I looked up the\r\n\r\n    DriverManager.setLoginTimeout(10);\r\n\r\nmethod, but that seems to be for login attempts. Is there something for my criteria? \r\n\r\nThanks. \r\n\r\nPS: Sadly, i can&#39;t use any other database. \r\n\r\n","title":"Incorporate a timeout option when user click the upper right &quot;x&quot; on the window versus a button.","body":"<p>I built a Swing application that works with an MSAccess database. I have various buttons to click <strong>when</strong> clicked--they will disconnect and unlock the database. </p>\n\n<p>Sadly, this is only in a perfect world where users will actually use those buttons and not the little red \"x\" on the upper right. When some users click that, the database stays locked with a file extension '.ldb' for those of you unfamiliar with MSAccess. </p>\n\n<p>I need to avoid that. Is there any function that I can implement? Like a timeout? I looked up the</p>\n\n<pre><code>DriverManager.setLoginTimeout(10);\n</code></pre>\n\n<p>method, but that seems to be for login attempts. Is there something for my criteria? </p>\n\n<p>Thanks. </p>\n\n<p>PS: Sadly, i can't use any other database. </p>\n"},{"tags":["java","azure-cosmosdb","spring-boot-test","spring-expression-language"],"answers":[{"tags":[],"owner":{"account_id":1799535,"reputation":73,"user_id":1638198,"display_name":"Beks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641922058,"creation_date":1641922058,"answer_id":70670979,"question_id":70653095,"body_markdown":"I had included the annotation\r\n\r\n```\r\n@ContextConfiguration(classes = {TestContextConfig.class, MyClass1.class, MyClass2.class})\r\n```\r\n\r\nOn the Integration Test, whereas, I have `@EnableAutoConfiguration` already, and that setting was &quot;not happy&quot; on creating the Test Application Context such that some necessary beans would be missing, and the resolution of the EL was not working.\r\n\r\nSOLUTION: Removed the annotation: `@ContextConfiguration(classes =` and all worked like fire!","title":"Cosmos DB Container Name with EL not resolving in SpringBootTest","body":"<p>I had included the annotation</p>\n<pre><code>@ContextConfiguration(classes = {TestContextConfig.class, MyClass1.class, MyClass2.class})\n</code></pre>\n<p>On the Integration Test, whereas, I have <code>@EnableAutoConfiguration</code> already, and that setting was &quot;not happy&quot; on creating the Test Application Context such that some necessary beans would be missing, and the resolution of the EL was not working.</p>\n<p>SOLUTION: Removed the annotation: <code>@ContextConfiguration(classes =</code> and all worked like fire!</p>\n"}],"owner":{"account_id":1799535,"reputation":73,"user_id":1638198,"display_name":"Beks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70670979,"answer_count":1,"score":3,"last_activity_date":1641922058,"creation_date":1641820944,"question_id":70653095,"body_markdown":"```\r\n@SpringBootTest(properties = {&quot;spring.profiles.active=build&quot;}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`\r\n@TestPropertySource(value = {&quot;classpath:application-test.properties&quot;})\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@EnableAutoConfiguration\r\n```\r\n\r\nI have the annotations shown on my integration test. and the entity class is like below\r\n\r\n```\r\n@Container(containerName = &quot;Statuses-${spring.profiles.active}&quot;)\r\npublic class MessageStatus implements Serializable\r\n```\r\n\r\nThe container name is successfully created as Statuses-local in the local env and when running the spring boot app, but this is not able to resolve the EL on the cosmos DB container name when running tests. Instead, the container creates as Statuses-${spring.profile.active}.\r\n\r\nPlease help, I need this to run tests using the build profile and the container name correctly resolves the EL on it when running the SpringBoot app, BUT when running my integration tests, this is misbehaving. Anything I am missing?\r\n\r\nUPDATE:\r\nI have\r\n```\r\n@SpringBootApplication\r\nDependsOn(&quot;expressionResolver&quot;)\r\n```\r\non the main application class\r\n\r\nFurthermore, I have tried another alternative of getting the container name from a function in a bean, but this is again is trying to create the container name as the code to resolve the name...\r\n\r\n```\r\n@Container(containerName = &quot;#{@MyBean.getMessageStatusContainerName()}&quot;)\r\npublic class MessageStatus implements Serializable\r\n```\r\n\r\nAnd this, again, works fine when running the SpringBoot App, but NOT when trying to run tests.\r\n","title":"Cosmos DB Container Name with EL not resolving in SpringBootTest","body":"<pre><code>@SpringBootTest(properties = {&quot;spring.profiles.active=build&quot;}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`\n@TestPropertySource(value = {&quot;classpath:application-test.properties&quot;})\n@RunWith(SpringJUnit4ClassRunner.class)\n@EnableAutoConfiguration\n</code></pre>\n<p>I have the annotations shown on my integration test. and the entity class is like below</p>\n<pre><code>@Container(containerName = &quot;Statuses-${spring.profiles.active}&quot;)\npublic class MessageStatus implements Serializable\n</code></pre>\n<p>The container name is successfully created as Statuses-local in the local env and when running the spring boot app, but this is not able to resolve the EL on the cosmos DB container name when running tests. Instead, the container creates as Statuses-${spring.profile.active}.</p>\n<p>Please help, I need this to run tests using the build profile and the container name correctly resolves the EL on it when running the SpringBoot app, BUT when running my integration tests, this is misbehaving. Anything I am missing?</p>\n<p>UPDATE:\nI have</p>\n<pre><code>@SpringBootApplication\nDependsOn(&quot;expressionResolver&quot;)\n</code></pre>\n<p>on the main application class</p>\n<p>Furthermore, I have tried another alternative of getting the container name from a function in a bean, but this is again is trying to create the container name as the code to resolve the name...</p>\n<pre><code>@Container(containerName = &quot;#{@MyBean.getMessageStatusContainerName()}&quot;)\npublic class MessageStatus implements Serializable\n</code></pre>\n<p>And this, again, works fine when running the SpringBoot App, but NOT when trying to run tests.</p>\n"},{"tags":["java","windows","eclipse","java-stream","command-line-interface"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1641921582,"post_id":70670769,"comment_id":124932284,"body_markdown":"It looks like you&#39;re running in Eclipse under at least Java 16 as the `toList()` method was added in that version.  You&#39;re not running under Java 11.","body":"It looks like you&#39;re running in Eclipse under at least Java 16 as the <code>toList()</code> method was added in that version.  You&#39;re not running under Java 11."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1641921755,"post_id":70670769,"comment_id":124932340,"body_markdown":"Specifically, when launched from Eclipse you are running *your application* using Java 16 or newer.","body":"Specifically, when launched from Eclipse you are running <i>your application</i> using Java 16 or newer."}],"answers":[{"tags":[],"owner":{"account_id":11817142,"reputation":477,"user_id":8647107,"display_name":"Rusu Dinu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641922039,"creation_date":1641921286,"answer_id":70670810,"question_id":70670769,"body_markdown":"Explanation:\r\nYou are trying to call .toList() on a stream, and streams don&#39;t have the .toList() method (in Java &lt; 16), therefore you have to use a Collector.\r\n\r\nShort answer:\r\nyou could either use `.collect(Collectors.toList())` instead of `.toList()` if you want to run your program with Java &lt; 16, or you could use `.toList()` on the stream (as you are doing now) but run it with at least Java 16.\r\n\r\nAnd your entire code should look something like this, if you would like to run it with Java older than 16: \r\n\r\n    private static List&lt;String&gt; runWindowsCommandAsRuntime(String command) {\r\n\r\n        List&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n\r\n        String[] comm = {\r\n                &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\r\n                &quot;/S&quot;,\r\n                &quot;/K&quot;,\r\n                &quot;\\&quot;&quot; + command + &quot;\\&quot;&quot;,\r\n                &quot;&amp;&quot;,\r\n                &quot;exit&quot; //devo uscire o il processo CMD resta appeso e non esce l&#39;output\r\n        };\r\n\r\n\r\n        String dbg = &quot;&quot;;\r\n        for (String s : comm)\r\n            dbg += s + &quot; &quot;;\r\n        System.out.println(&quot;COMMAND: &quot; + dbg);\r\n\r\n        try {\r\n            Runtime rt = Runtime.getRuntime();\r\n            Process p = rt.exec(comm);\r\n\r\n            //get the output\r\n\r\n            out.addAll(\r\n                    new BufferedReader(new InputStreamReader(p.getInputStream()))\r\n                            .lines().collect(Collectors.toList()) //the exception is thrown here\r\n            );\r\n\r\n\r\n            int exitVal = p.exitValue();\r\n            System.out.println(&quot;Exited with error code &quot; + exitVal);\r\n\r\n            p.destroy();\r\n\r\n        } catch (Exception ex) {\r\n            return null;\r\n        }\r\n\r\n        return out;\r\n\r\n    }","title":"errorNoSuchMethodError: java.util.stream.Stream.toList()Ljava/util/List only from CLI, fine from eclipse","body":"<p>Explanation:\nYou are trying to call .toList() on a stream, and streams don't have the .toList() method (in Java &lt; 16), therefore you have to use a Collector.</p>\n<p>Short answer:\nyou could either use <code>.collect(Collectors.toList())</code> instead of <code>.toList()</code> if you want to run your program with Java &lt; 16, or you could use <code>.toList()</code> on the stream (as you are doing now) but run it with at least Java 16.</p>\n<p>And your entire code should look something like this, if you would like to run it with Java older than 16:</p>\n<pre><code>private static List&lt;String&gt; runWindowsCommandAsRuntime(String command) {\n\n    List&lt;String&gt; out = new ArrayList&lt;String&gt;();\n\n    String[] comm = {\n            &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\n            &quot;/S&quot;,\n            &quot;/K&quot;,\n            &quot;\\&quot;&quot; + command + &quot;\\&quot;&quot;,\n            &quot;&amp;&quot;,\n            &quot;exit&quot; //devo uscire o il processo CMD resta appeso e non esce l'output\n    };\n\n\n    String dbg = &quot;&quot;;\n    for (String s : comm)\n        dbg += s + &quot; &quot;;\n    System.out.println(&quot;COMMAND: &quot; + dbg);\n\n    try {\n        Runtime rt = Runtime.getRuntime();\n        Process p = rt.exec(comm);\n\n        //get the output\n\n        out.addAll(\n                new BufferedReader(new InputStreamReader(p.getInputStream()))\n                        .lines().collect(Collectors.toList()) //the exception is thrown here\n        );\n\n\n        int exitVal = p.exitValue();\n        System.out.println(&quot;Exited with error code &quot; + exitVal);\n\n        p.destroy();\n\n    } catch (Exception ex) {\n        return null;\n    }\n\n    return out;\n\n}\n</code></pre>\n"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1823,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70670810,"answer_count":1,"score":2,"last_activity_date":1641922039,"creation_date":1641921111,"question_id":70670769,"body_markdown":"I&#39;m trying to run windows CLI command from java.\r\nI got an issue when parsing results but only when running the code as a runnable jar from cli, from within eclipse it runs fine\r\n\r\n```java\r\nprivate static List&lt;String&gt; runWindowsCommandAsRuntime(String command) {\r\n    \t\r\n    \tList&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n        \r\n    \tString[] comm = {\r\n    \t\t\t&quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\r\n    \t\t\t&quot;/S&quot;,\r\n    \t\t\t&quot;/K&quot;,\r\n    \t\t\t&quot;\\&quot;&quot;+command+&quot;\\&quot;&quot;,\r\n    \t\t\t&quot;&amp;&quot;,\r\n    \t\t\t&quot;exit&quot; //devo uscire o il processo CMD resta appeso e non esce l&#39;output\r\n    \t\t\t};\r\n    \t\r\n    \r\n    \tString dbg = &quot;&quot;;\r\n    \tfor(String s : comm)\r\n    \t\tdbg += s + &quot; &quot;;\r\n    \tSystem.out.println(&quot;COMMAND: &quot;+dbg);\r\n    \t\r\n    \ttry {\r\n            Runtime rt = Runtime.getRuntime();\r\n            Process p = rt.exec(comm);\r\n            \r\n            //get the output\r\n            \r\n            out.addAll(\r\n            \t\tnew BufferedReader(new InputStreamReader(p.getInputStream()))\r\n      \t\t\t   .lines().toList() //the exception is thrown here\r\n\t\t\t   );\r\n            \r\n            \r\n            int exitVal = p.exitValue();\r\n            System.out.println(&quot;Exited with error code &quot; + exitVal);\r\n\r\n            p.destroy();\r\n      \r\n        } catch (Exception ex) {\r\n            Utility.logException(&quot;Utility(SystemWindows)&quot;, ex);\r\n            return null;\r\n        }\r\n    \t\r\n    \treturn out;\r\n    \t\r\n    }\r\n\r\n// sample call: runWindowsCommandAsRuntime(&quot;WMIC OS Get Caption,Version&quot;);\r\n\r\n```\r\n\r\nWhen I run the program trough eclipse it works fine,\r\nwhen I call it from cli (`java -jar my_program.jar`) it starts then throws this\r\n\r\nI checked the java version and is both on eclipse and from cli java 11\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)\r\nCaused by: java.lang.NoSuchMethodError: java.util.stream.Stream.toList()Ljava/util/List;\r\n```","title":"errorNoSuchMethodError: java.util.stream.Stream.toList()Ljava/util/List only from CLI, fine from eclipse","body":"<p>I'm trying to run windows CLI command from java.\nI got an issue when parsing results but only when running the code as a runnable jar from cli, from within eclipse it runs fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;String&gt; runWindowsCommandAsRuntime(String command) {\n        \n        List&lt;String&gt; out = new ArrayList&lt;String&gt;();\n        \n        String[] comm = {\n                &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\n                &quot;/S&quot;,\n                &quot;/K&quot;,\n                &quot;\\&quot;&quot;+command+&quot;\\&quot;&quot;,\n                &quot;&amp;&quot;,\n                &quot;exit&quot; //devo uscire o il processo CMD resta appeso e non esce l'output\n                };\n        \n    \n        String dbg = &quot;&quot;;\n        for(String s : comm)\n            dbg += s + &quot; &quot;;\n        System.out.println(&quot;COMMAND: &quot;+dbg);\n        \n        try {\n            Runtime rt = Runtime.getRuntime();\n            Process p = rt.exec(comm);\n            \n            //get the output\n            \n            out.addAll(\n                    new BufferedReader(new InputStreamReader(p.getInputStream()))\n                   .lines().toList() //the exception is thrown here\n               );\n            \n            \n            int exitVal = p.exitValue();\n            System.out.println(&quot;Exited with error code &quot; + exitVal);\n\n            p.destroy();\n      \n        } catch (Exception ex) {\n            Utility.logException(&quot;Utility(SystemWindows)&quot;, ex);\n            return null;\n        }\n        \n        return out;\n        \n    }\n\n// sample call: runWindowsCommandAsRuntime(&quot;WMIC OS Get Caption,Version&quot;);\n\n</code></pre>\n<p>When I run the program trough eclipse it works fine,\nwhen I call it from cli (<code>java -jar my_program.jar</code>) it starts then throws this</p>\n<p>I checked the java version and is both on eclipse and from cli java 11</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)\nCaused by: java.lang.NoSuchMethodError: java.util.stream.Stream.toList()Ljava/util/List;\n</code></pre>\n"},{"tags":["java","android","json","listview"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1510147369,"post_id":47180827,"comment_id":81310495,"body_markdown":"You display lists in listviews, not objects","body":"You display lists in listviews, not objects"},{"owner":{"account_id":4069517,"reputation":2118,"user_id":3343174,"accept_rate":65,"display_name":"Fakher"},"score":0,"creation_date":1510147566,"post_id":47180827,"comment_id":81310646,"body_markdown":"DId you implement your POJO class. The Java class that will present the JSON Object","body":"DId you implement your POJO class. The Java class that will present the JSON Object"},{"owner":{"account_id":11778271,"reputation":1130,"user_id":8618875,"accept_rate":40,"display_name":"clauub"},"score":0,"creation_date":1510147618,"post_id":47180827,"comment_id":81310686,"body_markdown":"I tried something but that&#39;s all.","body":"I tried something but that&#39;s all."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1510147637,"post_id":47180827,"comment_id":81310702,"body_markdown":"Forget the JSON. Do you know how to display a Java object in a ListView? Do you know how to pass objects between Activities?","body":"Forget the JSON. Do you know how to display a Java object in a ListView? Do you know how to pass objects between Activities?"},{"owner":{"account_id":11778271,"reputation":1130,"user_id":8618875,"accept_rate":40,"display_name":"clauub"},"score":0,"creation_date":1510147674,"post_id":47180827,"comment_id":81310728,"body_markdown":"Yes, I know that","body":"Yes, I know that"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1510147693,"post_id":47180827,"comment_id":81310740,"body_markdown":"If you tried something, [edit] your question to include the listview code. Also the adapter class, because you&#39;ll need one","body":"If you tried something, <a href=\"https://stackoverflow.com/posts/47180827/edit\">edit</a> your question to include the listview code. Also the adapter class, because you&#39;ll need one"},{"owner":{"account_id":3585215,"reputation":2252,"user_id":2992553,"accept_rate":60,"display_name":"alan_derua"},"score":0,"creation_date":1510147788,"post_id":47180827,"comment_id":81310804,"body_markdown":"I would rate you to use RecyclerView. Here is a tutorial: https://developer.android.com/training/material/lists-cards.html#RecyclerView","body":"I would rate you to use RecyclerView. Here is a tutorial: <a href=\"https://developer.android.com/training/material/lists-cards.html#RecyclerView\" rel=\"nofollow noreferrer\">developer.android.com/training/material/&hellip;</a>"},{"owner":{"account_id":11778271,"reputation":1130,"user_id":8618875,"accept_rate":40,"display_name":"clauub"},"score":0,"creation_date":1510148082,"post_id":47180827,"comment_id":81311003,"body_markdown":"Ok, I updated my code","body":"Ok, I updated my code"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1510148312,"post_id":47180827,"comment_id":81311149,"body_markdown":"Okay, and why don&#39;t you make a `new Card()` and set the values rather than a `new JSONObject()`?","body":"Okay, and why don&#39;t you make a <code>new Card()</code> and set the values rather than a <code>new JSONObject()</code>?"},{"owner":{"account_id":11778271,"reputation":1130,"user_id":8618875,"accept_rate":40,"display_name":"clauub"},"score":0,"creation_date":1510148425,"post_id":47180827,"comment_id":81311235,"body_markdown":"It&#39;s a good idea, but can you help me with code ? Because I don&#39;t know how to do it.. :|","body":"It&#39;s a good idea, but can you help me with code ? Because I don&#39;t know how to do it.. :|"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1510148672,"post_id":47180827,"comment_id":81311408,"body_markdown":"I don&#39;t know what you&#39;re even trying to do here. The title of your question is answered here. But that has nothing to do with a ListView. https://stackoverflow.com/questions/12213987/how-to-pass-json-object-to-new-activity","body":"I don&#39;t know what you&#39;re even trying to do here. The title of your question is answered here. But that has nothing to do with a ListView. <a href=\"https://stackoverflow.com/questions/12213987/how-to-pass-json-object-to-new-activity\" title=\"how to pass json object to new activity\">stackoverflow.com/questions/12213987/&hellip;</a>"},{"owner":{"account_id":11778271,"reputation":1130,"user_id":8618875,"accept_rate":40,"display_name":"clauub"},"score":0,"creation_date":1510148824,"post_id":47180827,"comment_id":81311530,"body_markdown":"ok, I&#39;ll try to find out somehow.","body":"ok, I&#39;ll try to find out somehow."}],"owner":{"account_id":11778271,"reputation":1130,"user_id":8618875,"accept_rate":40,"display_name":"clauub"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641921903,"creation_date":1510147271,"question_id":47180827,"body_markdown":"I want data from my **`JSON`** to be displayed in another **`Activity`** inside a **`ListView`** with 3 columns. I made a **`Layout`** for my **`ListView`** but that&#39;s all \r\n\r\n      &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:descendantFocusability=&quot;afterDescendants&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:paddingBottom=&quot;15dp&quot;\r\n        android:paddingLeft=&quot;15dp&quot;\r\n        android:paddingRight=&quot;15dp&quot;\r\n        android:paddingTop=&quot;15dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtViewNumarCumparator&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:text=&quot;NumarCumparator&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/listaProduse&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/txtViewNumarCumparator&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:text=&quot;NumarProduse&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/sumaProduse&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:text=&quot;SumaProdsue&quot; /&gt;\r\n\r\nI have a **`JSONObject`** which retrieves data like this : \r\n\r\n    {&quot;dataCurenta&quot;:&quot;11-08-2017&quot;,\r\n     &quot;produseSelectate&quot;:3,\r\n     &quot;pretTotal&quot;:605  \r\n    }\r\n\r\nHere is the code : \r\n\r\n                JSONObject json = new JSONObject();\r\n                try {\r\n                    json.put(&quot;dataCurenta&quot;, getDate(calendarData.getTimeInMillis()));\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    json.put(&quot;produseSelectate&quot;, listaProdusePreview.getAdapter().getCount());\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    json.put(&quot;pretTotal&quot;, totalPrice);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    json.put(&quot;numarVanzare&quot;, numarVanzare);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Log.d(&quot;LISTA&quot;, json.toString());\r\n\r\n Adapter : \r\n\r\n    public class CardArrayAdapter  extends ArrayAdapter&lt;Card&gt; {\r\n    private static final String TAG = &quot;CardArrayAdapter&quot;;\r\n    private List&lt;Card&gt; cardList = new ArrayList&lt;Card&gt;();\r\n\r\n    static class CardViewHolder {\r\n        TextView line1;\r\n        TextView line2;\r\n        TextView line3;\r\n    }\r\n\r\n    public CardArrayAdapter(Context context, int textViewResourceId) {\r\n        super(context, textViewResourceId);\r\n    }\r\n\r\n    @Override\r\n    public void add(Card object) {\r\n        cardList.add(object);\r\n        super.add(object);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return this.cardList.size();\r\n    }\r\n\r\n    @Override\r\n    public Card getItem(int index) {\r\n        return this.cardList.get(index);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View row = convertView;\r\n        CardViewHolder viewHolder;\r\n        if (row == null) {\r\n            LayoutInflater inflater = (LayoutInflater) this.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            row = inflater.inflate(R.layout.list_item_card, parent, false);\r\n            viewHolder = new CardViewHolder();\r\n            viewHolder.line1 = (TextView) row.findViewById(R.id.txtViewNumarCumparator);\r\n            viewHolder.line2 = (TextView) row.findViewById(R.id.listaProduse);\r\n            viewHolder.line3 = (TextView) row.findViewById(R.id.sumaProduse);\r\n            row.setTag(viewHolder);\r\n        } else {\r\n            viewHolder = (CardViewHolder)row.getTag();\r\n        }\r\n        Card card = getItem(position);\r\n\r\n            viewHolder.line1.setText(card.getNumarCumparator());\r\n            viewHolder.line2.setText(card.getListaProduse());\r\n            viewHolder.line3.setText(card.getSumaProduse());\r\n\r\n        return row;\r\n    }\r\n\r\n    public Bitmap decodeToBitmap(byte[] decodedByte) {\r\n        return BitmapFactory.decodeByteArray(decodedByte, 0, decodedByte.length);\r\n    } }\r\n\r\nObject class : \r\n\r\n    public class Card {\r\n    private Integer numarCumparator;\r\n    private String listaProduse;\r\n    private Integer sumaProduse;\r\n\r\n    public Card(Integer numarCumparator, String listaProduse, Integer sumaProduse) {\r\n        this.numarCumparator = numarCumparator;\r\n        this.listaProduse = listaProduse;\r\n        this.sumaProduse = sumaProduse;\r\n    }\r\n\r\n    public Integer getNumarCumparator() {\r\n        return numarCumparator;\r\n    }\r\n\r\n    public void setNumarCumparator(Integer numarCumparator) {\r\n        this.numarCumparator = numarCumparator;\r\n    }\r\n\r\n    public String getListaProduse() {\r\n        return listaProduse;\r\n    }\r\n\r\n    public void setListaProduse(String listaProduse) {\r\n        this.listaProduse = listaProduse;\r\n    }\r\n\r\n    public Integer getSumaProduse() {\r\n        return sumaProduse;\r\n    }\r\n\r\n    public void setSumaProduse(Integer sumaProduse) {\r\n        this.sumaProduse = sumaProduse;\r\n    }}\r\n\r\nHope the question is clear, I really need to get out from this problem. ","title":"Display JSONObject in another activity ListView","body":"<p>I want data from my <strong><code>JSON</code></strong> to be displayed in another <strong><code>Activity</code></strong> inside a <strong><code>ListView</code></strong> with 3 columns. I made a <strong><code>Layout</code></strong> for my <strong><code>ListView</code></strong> but that's all</p>\n<pre><code>  &lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:descendantFocusability=&quot;afterDescendants&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingBottom=&quot;15dp&quot;\n    android:paddingLeft=&quot;15dp&quot;\n    android:paddingRight=&quot;15dp&quot;\n    android:paddingTop=&quot;15dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtViewNumarCumparator&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:text=&quot;NumarCumparator&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/listaProduse&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_below=&quot;@+id/txtViewNumarCumparator&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;NumarProduse&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/sumaProduse&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;SumaProdsue&quot; /&gt;\n</code></pre>\n<p>I have a <strong><code>JSONObject</code></strong> which retrieves data like this :</p>\n<pre><code>{&quot;dataCurenta&quot;:&quot;11-08-2017&quot;,\n &quot;produseSelectate&quot;:3,\n &quot;pretTotal&quot;:605  \n}\n</code></pre>\n<p>Here is the code :</p>\n<pre><code>            JSONObject json = new JSONObject();\n            try {\n                json.put(&quot;dataCurenta&quot;, getDate(calendarData.getTimeInMillis()));\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            try {\n                json.put(&quot;produseSelectate&quot;, listaProdusePreview.getAdapter().getCount());\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            try {\n                json.put(&quot;pretTotal&quot;, totalPrice);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            try {\n                json.put(&quot;numarVanzare&quot;, numarVanzare);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            Log.d(&quot;LISTA&quot;, json.toString());\n</code></pre>\n<p>Adapter :</p>\n<pre><code>public class CardArrayAdapter  extends ArrayAdapter&lt;Card&gt; {\nprivate static final String TAG = &quot;CardArrayAdapter&quot;;\nprivate List&lt;Card&gt; cardList = new ArrayList&lt;Card&gt;();\n\nstatic class CardViewHolder {\n    TextView line1;\n    TextView line2;\n    TextView line3;\n}\n\npublic CardArrayAdapter(Context context, int textViewResourceId) {\n    super(context, textViewResourceId);\n}\n\n@Override\npublic void add(Card object) {\n    cardList.add(object);\n    super.add(object);\n}\n\n@Override\npublic int getCount() {\n    return this.cardList.size();\n}\n\n@Override\npublic Card getItem(int index) {\n    return this.cardList.get(index);\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View row = convertView;\n    CardViewHolder viewHolder;\n    if (row == null) {\n        LayoutInflater inflater = (LayoutInflater) this.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        row = inflater.inflate(R.layout.list_item_card, parent, false);\n        viewHolder = new CardViewHolder();\n        viewHolder.line1 = (TextView) row.findViewById(R.id.txtViewNumarCumparator);\n        viewHolder.line2 = (TextView) row.findViewById(R.id.listaProduse);\n        viewHolder.line3 = (TextView) row.findViewById(R.id.sumaProduse);\n        row.setTag(viewHolder);\n    } else {\n        viewHolder = (CardViewHolder)row.getTag();\n    }\n    Card card = getItem(position);\n\n        viewHolder.line1.setText(card.getNumarCumparator());\n        viewHolder.line2.setText(card.getListaProduse());\n        viewHolder.line3.setText(card.getSumaProduse());\n\n    return row;\n}\n\npublic Bitmap decodeToBitmap(byte[] decodedByte) {\n    return BitmapFactory.decodeByteArray(decodedByte, 0, decodedByte.length);\n} }\n</code></pre>\n<p>Object class :</p>\n<pre><code>public class Card {\nprivate Integer numarCumparator;\nprivate String listaProduse;\nprivate Integer sumaProduse;\n\npublic Card(Integer numarCumparator, String listaProduse, Integer sumaProduse) {\n    this.numarCumparator = numarCumparator;\n    this.listaProduse = listaProduse;\n    this.sumaProduse = sumaProduse;\n}\n\npublic Integer getNumarCumparator() {\n    return numarCumparator;\n}\n\npublic void setNumarCumparator(Integer numarCumparator) {\n    this.numarCumparator = numarCumparator;\n}\n\npublic String getListaProduse() {\n    return listaProduse;\n}\n\npublic void setListaProduse(String listaProduse) {\n    this.listaProduse = listaProduse;\n}\n\npublic Integer getSumaProduse() {\n    return sumaProduse;\n}\n\npublic void setSumaProduse(Integer sumaProduse) {\n    this.sumaProduse = sumaProduse;\n}}\n</code></pre>\n<p>Hope the question is clear, I really need to get out from this problem.</p>\n"},{"tags":["java","soap","mime"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1641829125,"post_id":70654528,"comment_id":124902609,"body_markdown":"Before &#39;request.saveChamges&#39; can you debug and see what your request has for headers after the loop completes.","body":"Before &#39;request.saveChamges&#39; can you debug and see what your request has for headers after the loop completes."},{"owner":{"account_id":5556725,"reputation":141,"user_id":4407838,"display_name":"Anas"},"score":0,"creation_date":1641829238,"post_id":70654528,"comment_id":124902657,"body_markdown":"I already debuged, and it is changed correctly before the &#39;request.saveChanges&#39;","body":"I already debuged, and it is changed correctly before the &#39;request.saveChanges&#39;"},{"owner":{"account_id":5556725,"reputation":141,"user_id":4407838,"display_name":"Anas"},"score":0,"creation_date":1641829730,"post_id":70654528,"comment_id":124902890,"body_markdown":"Maybe the &#39;Content type&#39; header is recalculated, but I need to find a way to change it.","body":"Maybe the &#39;Content type&#39; header is recalculated, but I need to find a way to change it."},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":0,"creation_date":1641842616,"post_id":70654528,"comment_id":124908259,"body_markdown":"It seems to me that you want to perform a call to a SOAP 1.2 endpoint and trying to set the content type to application/soap+xml; charset=utf-8 using the code above. Are you trying to call a SOAP 1.2 using that code?","body":"It seems to me that you want to perform a call to a SOAP 1.2 endpoint and trying to set the content type to application/soap+xml; charset=utf-8 using the code above. Are you trying to call a SOAP 1.2 using that code?"},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":0,"creation_date":1641843099,"post_id":70654528,"comment_id":124908406,"body_markdown":"Or otherwise asked, why do you need to change the content type?","body":"Or otherwise asked, why do you need to change the content type?"},{"owner":{"account_id":5556725,"reputation":141,"user_id":4407838,"display_name":"Anas"},"score":0,"creation_date":1641888512,"post_id":70654528,"comment_id":124918362,"body_markdown":"Yes Bogdan, It has been asked by the team of a new server.","body":"Yes Bogdan, It has been asked by the team of a new server."},{"owner":{"account_id":5556725,"reputation":141,"user_id":4407838,"display_name":"Anas"},"score":0,"creation_date":1641986797,"post_id":70654528,"comment_id":124950289,"body_markdown":"Thanks Bogdan, I have already in my XML : &lt;soap:Envelope xmlns:soap=&quot;w3.org/2003/05/soap-envelope&quot;, and I changed now the creation of the message factory like you said and it solves the issue, no need to update the mime header manually.","body":"Thanks Bogdan, I have already in my XML : &lt;soap:Envelope xmlns:soap=&quot;w3.org/2003/05/soap-envelope&quot;, and I changed now the creation of the message factory like you said and it solves the issue, no need to update the mime header manually."}],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641921888,"creation_date":1641921888,"answer_id":70670939,"question_id":70654528,"body_markdown":"From the code you have and the comment, it seems to me that you are using [SAAJ][1] to make a SOAP call to a SOAP 1.2 endpoint and your attempt to set the correct content type is conflicting with whatever SAAJ is doing behind the scenes. \r\n\r\nSAAJ allows you to work with an object tree while handling the SOAP details for you. By default it knows to work with SOAP 1.1. The main thing to note here is that for SOAP 1.1. the content type is `text/xml` and the SOAP XML namespace is `http://schemas.xmlsoap.org/soap/envelope/`.\r\n\r\nYou want to send `application/soap+xml` which is the content type for SOAP 1.2. The SOAP XML namespace will in this case be `http://www.w3.org/2003/05/soap-envelope`.\r\n\r\nSo even if you manage to set the desired content type, your XML message created by SAAJ will still be wrong because it will have the namespace of SOAP 1.1. because that&#39;s the default.\r\n\r\nIf you want to call a SOAP 1.2. endpoint you need to tell SAAJ that. Your SAAJ object tree is probably built by using a [MessageFactory][2] which has a default instantiation of SOAP 1.1. with:\r\n\r\n    MessageFactory mf = MessageFactory.newInstance();\r\n\r\nIf you need SOAP 1.2. you need to tell SAAJ that with this instead:\r\n\r\n    MessageFactory mf = MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);\r\n\r\nIf you do that you will still have the issue with the content type, but this time it will be SAAJ setting `application/soap+xml` (which is what you want) and also set the proper XML SOAP namespaces within the message.\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/saaj/info\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/MessageFactory.html","title":"How to change Mime Headers of SOAP message using Java","body":"<p>From the code you have and the comment, it seems to me that you are using <a href=\"https://stackoverflow.com/tags/saaj/info\">SAAJ</a> to make a SOAP call to a SOAP 1.2 endpoint and your attempt to set the correct content type is conflicting with whatever SAAJ is doing behind the scenes.</p>\n<p>SAAJ allows you to work with an object tree while handling the SOAP details for you. By default it knows to work with SOAP 1.1. The main thing to note here is that for SOAP 1.1. the content type is <code>text/xml</code> and the SOAP XML namespace is <code>http://schemas.xmlsoap.org/soap/envelope/</code>.</p>\n<p>You want to send <code>application/soap+xml</code> which is the content type for SOAP 1.2. The SOAP XML namespace will in this case be <code>http://www.w3.org/2003/05/soap-envelope</code>.</p>\n<p>So even if you manage to set the desired content type, your XML message created by SAAJ will still be wrong because it will have the namespace of SOAP 1.1. because that's the default.</p>\n<p>If you want to call a SOAP 1.2. endpoint you need to tell SAAJ that. Your SAAJ object tree is probably built by using a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/MessageFactory.html\" rel=\"nofollow noreferrer\">MessageFactory</a> which has a default instantiation of SOAP 1.1. with:</p>\n<pre><code>MessageFactory mf = MessageFactory.newInstance();\n</code></pre>\n<p>If you need SOAP 1.2. you need to tell SAAJ that with this instead:</p>\n<pre><code>MessageFactory mf = MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);\n</code></pre>\n<p>If you do that you will still have the issue with the content type, but this time it will be SAAJ setting <code>application/soap+xml</code> (which is what you want) and also set the proper XML SOAP namespaces within the message.</p>\n"}],"owner":{"account_id":5556725,"reputation":141,"user_id":4407838,"display_name":"Anas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70670939,"answer_count":1,"score":2,"last_activity_date":1641921888,"creation_date":1641827242,"question_id":70654528,"body_markdown":"I have to change Mime header for SOAP request, especially the &#39;content type&#39; header, my code is already working for most of headers, but for some reason I get back the old value for the content type header:\r\n\r\nHere is the simplified code with comments:\r\n\r\n    public static synchronized SOAPMessage sendSoapRequest(String endpointUrl, SOAPMessage request) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException {\r\n    SOAPMessage response = null;\r\n\r\n   \r\n    HashMap&lt;String,String&gt; headers =  ConfigManager.GetInstance().GetHeaders(); \r\n   \r\n    int number_of_retries = ConfigManager.GetInstance().GetNumberOfAttempts();\r\n    if (number_of_retries==0)\r\n      {\r\n        number_of_retries = 10;\r\n      }\r\n   \r\n    for (int i = 0; i &lt;=number_of_retries ; i++) {\r\n     try {\r\n\r\n        \r\n        // Send HTTP SOAP request and get response\r\n        SOAPConnection soapConnection\r\n                = SOAPConnectionFactory.newInstance().createConnection();\r\n\t\t***// here I have mime headers with &quot;Content-Type: text/xml; charset=utf-8&quot;***\r\n        if (headers != null)\r\n            {\r\n            Iterator it = headers.entrySet().iterator();\r\n            while (it.hasNext()) {\r\n                HashMap.Entry pair = (HashMap.Entry)it.next();\r\n               \r\n                // request.getMimeHeaders().addHeader(pair.getKey().toString(),  pair.getValue().toString());\r\n                request.getMimeHeaders().setHeader(pair.getKey().toString(), pair.getValue().toString()); ***// I set here: &quot;Content-Type =&gt; application/soap+xml&quot;***\r\n              \r\n                }\r\n            request.saveChanges();   ***// I got back mime headers with &quot;Content-Type: text/xml;*** charset=utf-8&quot;\r\n            }\r\n       \r\n\r\n        response = soapConnection.call(request, endpointUrl); ***// If I don&#39;t use request.saveChanges(), I also get back mime headers with &quot;Content-Type: text/xml; charset=utf-8&quot;***\r\n        // Close connection\r\n        soapConnection.close();\r\n       \r\n        return response;\r\n      } \r\n     }\r\n     return null;\r\n    }\r\n\r\nI don&#39;t understand why Content-Type is set back to &#39;text/xml; charset=utf-8&#39; and how to fix it.\r\n","title":"How to change Mime Headers of SOAP message using Java","body":"<p>I have to change Mime header for SOAP request, especially the 'content type' header, my code is already working for most of headers, but for some reason I get back the old value for the content type header:</p>\n<p>Here is the simplified code with comments:</p>\n<pre><code>public static synchronized SOAPMessage sendSoapRequest(String endpointUrl, SOAPMessage request) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException {\nSOAPMessage response = null;\n\n\nHashMap&lt;String,String&gt; headers =  ConfigManager.GetInstance().GetHeaders(); \n\nint number_of_retries = ConfigManager.GetInstance().GetNumberOfAttempts();\nif (number_of_retries==0)\n  {\n    number_of_retries = 10;\n  }\n\nfor (int i = 0; i &lt;=number_of_retries ; i++) {\n try {\n\n    \n    // Send HTTP SOAP request and get response\n    SOAPConnection soapConnection\n            = SOAPConnectionFactory.newInstance().createConnection();\n    ***// here I have mime headers with &quot;Content-Type: text/xml; charset=utf-8&quot;***\n    if (headers != null)\n        {\n        Iterator it = headers.entrySet().iterator();\n        while (it.hasNext()) {\n            HashMap.Entry pair = (HashMap.Entry)it.next();\n           \n            // request.getMimeHeaders().addHeader(pair.getKey().toString(),  pair.getValue().toString());\n            request.getMimeHeaders().setHeader(pair.getKey().toString(), pair.getValue().toString()); ***// I set here: &quot;Content-Type =&gt; application/soap+xml&quot;***\n          \n            }\n        request.saveChanges();   ***// I got back mime headers with &quot;Content-Type: text/xml;*** charset=utf-8&quot;\n        }\n   \n\n    response = soapConnection.call(request, endpointUrl); ***// If I don't use request.saveChanges(), I also get back mime headers with &quot;Content-Type: text/xml; charset=utf-8&quot;***\n    // Close connection\n    soapConnection.close();\n   \n    return response;\n  } \n }\n return null;\n}\n</code></pre>\n<p>I don't understand why Content-Type is set back to 'text/xml; charset=utf-8' and how to fix it.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","jpa-2.1"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641919480,"post_id":70670361,"comment_id":124931427,"body_markdown":"Are you pointing to correct database and schema? As it is working well when running un database.","body":"Are you pointing to correct database and schema? As it is working well when running un database."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641921303,"creation_date":1641921303,"answer_id":70670811,"question_id":70670361,"body_markdown":"You are attempting to map native query results to non-entity class. If i am not mistaken resulting column names should match method names. Have you tried setting aliases to the columns like this?\r\n\r\n    SELECT e.first_name AS firstName, e.last_name AS lastName\r\n\r\nAlso have you read this https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo? It looks pretty similar to your case.\r\n\r\nAnd if that doesn&#39;t help it looks as if google has lots of results for how to do it [native query result in dto][1].\r\n\r\n\r\n  [1]: https://www.google.com/search?q=spring%20data%20jpa%20native%20query%20result%20directly%20into%20dto&amp;rlz=1C1GCEB_enDE964DE964&amp;ei=ZbXdYbjiKLuRxc8PuL6L8Ao&amp;oq=spring%20data%20native%20query%20how%20to%20map%20result%20to%20object&amp;gs_lcp=Cgdnd3Mtd2l6EAMYADIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwA0oECEEYAEoECEYYAFAAWABgmFdoAXACeACAAQCIAQCSAQCYAQDIAQjAAQE&amp;sclient=gws-wiz","title":"Result from JPA project is null","body":"<p>You are attempting to map native query results to non-entity class. If i am not mistaken resulting column names should match method names. Have you tried setting aliases to the columns like this?</p>\n<pre><code>SELECT e.first_name AS firstName, e.last_name AS lastName\n</code></pre>\n<p>Also have you read this <a href=\"https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo\">Spring Data JPA map the native query result to Non-Entity POJO</a>? It looks pretty similar to your case.</p>\n<p>And if that doesn't help it looks as if google has lots of results for how to do it <a href=\"https://www.google.com/search?q=spring%20data%20jpa%20native%20query%20result%20directly%20into%20dto&amp;rlz=1C1GCEB_enDE964DE964&amp;ei=ZbXdYbjiKLuRxc8PuL6L8Ao&amp;oq=spring%20data%20native%20query%20how%20to%20map%20result%20to%20object&amp;gs_lcp=Cgdnd3Mtd2l6EAMYADIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwAzIHCAAQRxCwA0oECEEYAEoECEYYAFAAWABgmFdoAXACeACAAQCIAQCSAQCYAQDIAQjAAQE&amp;sclient=gws-wiz\" rel=\"nofollow noreferrer\">native query result in dto</a>.</p>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70670811,"answer_count":1,"score":0,"last_activity_date":1641921303,"creation_date":1641919330,"question_id":70670361,"body_markdown":"I have these Postgres tables: \r\n\r\n    create table deals_new\r\n    (\r\n        id                  bigserial primary key,\r\n        slip_id             text,\r\n        deal_type           integer,\r\n        timestamp           timestamp,\r\n        employee_id         bigint\r\n            constraint employee_id_fk\r\n                references common.employees\r\n    );\r\n    \r\n    create table twap\r\n    (\r\n        id                 bigserial     primary key,\r\n        deal_id            varchar          not null,\r\n        employee_id        bigint\r\n            constraint fk_twap__employee_id\r\n                references common.employees,\r\n        status             integer\r\n    );\r\n    \r\n    create table common.employees\r\n    (\r\n        id              bigint primary key,\r\n        first_name      varchar(150),\r\n        last_name       varchar(150)\r\n    );\r\n\r\n***Entities:***\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Table(name = &quot;deals_new&quot;)\r\n    public class DealTwap {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;slip_id&quot;)\r\n        private String slipId;\r\n        ...\r\n    }\r\n    \r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;twap&quot;)\r\n    public class Twap implements Serializable {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;deal_id&quot;)\r\n        private String dealId;\r\n    \r\n        @Column(name = &quot;employee_id&quot;)\r\n        private Long employeeId;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;slip_id&quot;, referencedColumnName = &quot;deal_id&quot;)\r\n        private List&lt;Deal&gt; deals;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Employee {\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;account_id&quot;)\r\n        private Account account;\r\n    }\r\n\r\n*!!NOTE!!! There is not relation between `Employee` and `Twap`*\r\n\r\nI created this JPA repository:\r\n\r\n    public interface DealsRepository extends JpaRepository&lt;DealTwap, Long&gt; {\r\n    \r\n        @Query (value =\r\n                &quot;SELECT e.first_name, e.last_name &quot; +\r\n                        &quot;FROM common.deals_new d &quot; +\r\n                        &quot;JOIN common.employees e ON e.id = d.employee_id &quot; +\r\n                        &quot;LEFT OUTER JOIN common.twap t on &quot; +\r\n                        &quot;        t.deal_id = d.slip_id AND &quot; +\r\n                        &quot;        d.timestamp between &#39;11-11-2010&#39; AND &#39;11-11-2011&#39; AND &quot; +\r\n                        &quot;        d.deal_type in (1, 2) &quot; +\r\n                        &quot;OFFSET :offset &quot; +\r\n                        &quot;LIMIT :limit &quot;,\r\n                nativeQuery = true)\r\n        List&lt;ResultDTO&gt; getHistoryAllPairsSearchParam(@Param(&quot;offset&quot;) int offset,\r\n                                                          @Param(&quot;limit&quot;) int limit);\r\n    }\r\n\r\nAs you can see I get the result using this Interface:\r\n\r\n    public interface ResultDTO {\r\n        String getFirstName();\r\n        String getLastName();\r\n    }\r\n\r\n    List&lt;ResultDTO&gt; list = dealsRepository.getHistoryAllPairsSearchParam(...);\r\n\r\n        for (ResultDTO item : list) {\r\n            System.out.println(&quot;!!!!!!!!!!!!!!! a &quot; + item.getFirstName());\r\n        }\r\n\r\nWhen I run the code I get:\r\n\r\n    !!!!!!!!!!!!!!! a null\r\n    !!!!!!!!!!!!!!! a null\r\n    !!!!!!!!!!!!!!! a null\r\n    ..........\r\n\r\nDo you know what could be wrong? I get always null as a result. When I run this query in SQL editor I get proper table with result.\r\n\r\n\r\n","title":"Result from JPA project is null","body":"<p>I have these Postgres tables:</p>\n<pre><code>create table deals_new\n(\n    id                  bigserial primary key,\n    slip_id             text,\n    deal_type           integer,\n    timestamp           timestamp,\n    employee_id         bigint\n        constraint employee_id_fk\n            references common.employees\n);\n\ncreate table twap\n(\n    id                 bigserial     primary key,\n    deal_id            varchar          not null,\n    employee_id        bigint\n        constraint fk_twap__employee_id\n            references common.employees,\n    status             integer\n);\n\ncreate table common.employees\n(\n    id              bigint primary key,\n    first_name      varchar(150),\n    last_name       varchar(150)\n);\n</code></pre>\n<p><em><strong>Entities:</strong></em></p>\n<pre><code>@Entity\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Setter\n@ToString\n@Table(name = &quot;deals_new&quot;)\npublic class DealTwap {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;slip_id&quot;)\n    private String slipId;\n    ...\n}\n\n@Entity\n@NoArgsConstructor\n@Getter\n@Setter\n@Table(name = &quot;twap&quot;)\npublic class Twap implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @Column(name = &quot;deal_id&quot;)\n    private String dealId;\n\n    @Column(name = &quot;employee_id&quot;)\n    private Long employeeId;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;slip_id&quot;, referencedColumnName = &quot;deal_id&quot;)\n    private List&lt;Deal&gt; deals;\n}\n\n@Entity\n@Table(name = &quot;employees&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@Builder\n@Getter\n@Setter\n@ToString\npublic class Employee {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n}\n</code></pre>\n<p><em>!!NOTE!!! There is not relation between <code>Employee</code> and <code>Twap</code></em></p>\n<p>I created this JPA repository:</p>\n<pre><code>public interface DealsRepository extends JpaRepository&lt;DealTwap, Long&gt; {\n\n    @Query (value =\n            &quot;SELECT e.first_name, e.last_name &quot; +\n                    &quot;FROM common.deals_new d &quot; +\n                    &quot;JOIN common.employees e ON e.id = d.employee_id &quot; +\n                    &quot;LEFT OUTER JOIN common.twap t on &quot; +\n                    &quot;        t.deal_id = d.slip_id AND &quot; +\n                    &quot;        d.timestamp between '11-11-2010' AND '11-11-2011' AND &quot; +\n                    &quot;        d.deal_type in (1, 2) &quot; +\n                    &quot;OFFSET :offset &quot; +\n                    &quot;LIMIT :limit &quot;,\n            nativeQuery = true)\n    List&lt;ResultDTO&gt; getHistoryAllPairsSearchParam(@Param(&quot;offset&quot;) int offset,\n                                                      @Param(&quot;limit&quot;) int limit);\n}\n</code></pre>\n<p>As you can see I get the result using this Interface:</p>\n<pre><code>public interface ResultDTO {\n    String getFirstName();\n    String getLastName();\n}\n\nList&lt;ResultDTO&gt; list = dealsRepository.getHistoryAllPairsSearchParam(...);\n\n    for (ResultDTO item : list) {\n        System.out.println(&quot;!!!!!!!!!!!!!!! a &quot; + item.getFirstName());\n    }\n</code></pre>\n<p>When I run the code I get:</p>\n<pre><code>!!!!!!!!!!!!!!! a null\n!!!!!!!!!!!!!!! a null\n!!!!!!!!!!!!!!! a null\n..........\n</code></pre>\n<p>Do you know what could be wrong? I get always null as a result. When I run this query in SQL editor I get proper table with result.</p>\n"},{"tags":["java","gradle","plugins","jib"],"answers":[{"tags":[],"owner":{"account_id":416821,"reputation":2373,"user_id":792443,"accept_rate":89,"display_name":"loosebazooka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641921280,"creation_date":1578412038,"answer_id":59631660,"question_id":59588495,"body_markdown":"Update: Jib **2.6.0** now has support for late evaluation of `jib.to.image` and `jib.to.tags`. You can configure these using `project.provider` and they will only be evaluated when they are used.\r\n\r\n```\r\njib {\r\n  ...\r\n  to {\r\n    image = &#39;rishabh9/jib-demo&#39;\r\n    tags = project.provider{[version]}\r\n  }\r\n  ...\r\n}\r\n```\r\n\r\n---\r\n\r\nFor older versions of jib you can try the previous answer:\r\n\r\nFrom the solution discussed on gitter.im/google/jib\r\n\r\nLooking into the code of the gitsemver plugin you can see that it updates the version after the project is evaluated: https://github.com/OpenLimark/GitFlowSemVerPlugin/blob/develop/src/main/groovy/com/limark/open/gradle/plugins/gitflowsemver/GitFlowSemVerPlugin.groovy#L51\r\n\r\nSo what you can do is just set your tag version in an afterEvaluate block and you&#39;ll correctly pick up the version:\r\n```\r\njib {\r\n  ...\r\n  to {\r\n    image = &#39;rishabh9/jib-demo&#39;\r\n    project.afterEvaluate { // &lt;-- so we evaluate version after it has been set\r\n      tags = [version]\r\n    }\r\n  }\r\n  ...\r\n}\r\n```","title":"Jib plugin not able to access project.version as updated by another Gradle plugin","body":"<p>Update: Jib <strong>2.6.0</strong> now has support for late evaluation of <code>jib.to.image</code> and <code>jib.to.tags</code>. You can configure these using <code>project.provider</code> and they will only be evaluated when they are used.</p>\n<pre><code>jib {\n  ...\n  to {\n    image = 'rishabh9/jib-demo'\n    tags = project.provider{[version]}\n  }\n  ...\n}\n</code></pre>\n<hr />\n<p>For older versions of jib you can try the previous answer:</p>\n<p>From the solution discussed on gitter.im/google/jib</p>\n<p>Looking into the code of the gitsemver plugin you can see that it updates the version after the project is evaluated: <a href=\"https://github.com/OpenLimark/GitFlowSemVerPlugin/blob/develop/src/main/groovy/com/limark/open/gradle/plugins/gitflowsemver/GitFlowSemVerPlugin.groovy#L51\" rel=\"nofollow noreferrer\">https://github.com/OpenLimark/GitFlowSemVerPlugin/blob/develop/src/main/groovy/com/limark/open/gradle/plugins/gitflowsemver/GitFlowSemVerPlugin.groovy#L51</a></p>\n<p>So what you can do is just set your tag version in an afterEvaluate block and you'll correctly pick up the version:</p>\n<pre><code>jib {\n  ...\n  to {\n    image = 'rishabh9/jib-demo'\n    project.afterEvaluate { // &lt;-- so we evaluate version after it has been set\n      tags = [version]\n    }\n  }\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":1389489,"reputation":390,"user_id":1479478,"accept_rate":86,"display_name":"Rishabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1781,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59631660,"answer_count":1,"score":3,"last_activity_date":1641921280,"creation_date":1578119534,"question_id":59588495,"body_markdown":"I have my `build.gradle` setup as follows (listing only plugins for brevity)\r\n\r\n```\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;maven-publish&#39;\r\n  id &#39;signing&#39;\r\n  id &#39;org.springframework.boot&#39; version &#39;2.2.2.RELEASE&#39;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n  id &#39;com.limark.gitflowsemver&#39; version &#39;0.3.1&#39;\r\n  id &#39;com.google.cloud.tools.jib&#39; version &#39;1.8.0&#39;\r\n}\r\n...\r\ngroup = &#39;com.app.my&#39;\r\n// The below line remains commented\r\n// version = &#39;0.1.0&#39; \r\n...\r\n\r\njib {\r\n  from {\r\n    image = &#39;azul/zulu-openjdk-alpine:11-jre&#39;\r\n  }\r\n  to {\r\n    image = &#39;aws_account_id.dkr.ecr.region.amazonaws.com/my-app&#39;\r\n    tags = [version]\r\n  }\r\n  container {\r\n    format = &#39;OCI&#39;\r\n  }\r\n}\r\n\r\npublishing {\r\n  repositories {\r\n    maven {\r\n      def releasesRepoUrl = &quot;http://localhost:8081/repository/maven-releases/&quot;\r\n      def snapshotsRepoUrl = &quot;http://localhost:8081/repository/maven-snapshots/&quot;\r\n      url = version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n      credentials {\r\n        username nexusUsername\r\n        password nexusPassword\r\n      }\r\n    }\r\n  }\r\n  publications {\r\n    mavenJava(MavenPublication) {\r\n      artifactId = &#39;my-app&#39;\r\n      from components.java\r\n      pom {\r\n        name = &#39;My App&#39;\r\n        description = &#39;My App&#39;\r\n        url = &#39;https://my-app.com&#39;\r\n        developers {\r\n          developer {\r\n            id = &#39;john&#39;\r\n            name = &#39;John Doe&#39;\r\n            email = &#39;an.emaill@address.here&#39;\r\n          }\r\n        }\r\n        scm {\r\n          connection = &#39;scm:git:ssh://git@bitbucket.org:acme/my-app.git&#39;\r\n          developerConnection = &#39;scm:git:ssh://git@bitbucket.org:acme/my-app.git&#39;\r\n          url = &#39;https://bitbucket.org/acme/my-app&#39;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nsigning {\r\n  sign publishing.publications.mavenJava\r\n}\r\n```\r\n\r\nThe `gitflowsemver` [plugin][1] updates the `project.version` based on the GitFlow branching strategy. The `publish` task is able to access the version as updated by the `gitflowsemver` plugin, but when I try to build a docker image using `jib`, it does not tag the image with the updated version. It is always tagged as `unspecified`. But if I un-comment the line `version = &#39;0.1.0&#39;` the `jib` plugin is able to pick up the version. I am unable to understand why. Any help is highly appreciated.\r\n\r\n\r\n  [1]: https://github.com/OpenLimark/GitFlowSemVerPlugin","title":"Jib plugin not able to access project.version as updated by another Gradle plugin","body":"<p>I have my <code>build.gradle</code> setup as follows (listing only plugins for brevity)</p>\n\n<pre><code>plugins {\n  id 'java'\n  id 'maven-publish'\n  id 'signing'\n  id 'org.springframework.boot' version '2.2.2.RELEASE'\n  id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n  id 'com.limark.gitflowsemver' version '0.3.1'\n  id 'com.google.cloud.tools.jib' version '1.8.0'\n}\n...\ngroup = 'com.app.my'\n// The below line remains commented\n// version = '0.1.0' \n...\n\njib {\n  from {\n    image = 'azul/zulu-openjdk-alpine:11-jre'\n  }\n  to {\n    image = 'aws_account_id.dkr.ecr.region.amazonaws.com/my-app'\n    tags = [version]\n  }\n  container {\n    format = 'OCI'\n  }\n}\n\npublishing {\n  repositories {\n    maven {\n      def releasesRepoUrl = \"http://localhost:8081/repository/maven-releases/\"\n      def snapshotsRepoUrl = \"http://localhost:8081/repository/maven-snapshots/\"\n      url = version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n      credentials {\n        username nexusUsername\n        password nexusPassword\n      }\n    }\n  }\n  publications {\n    mavenJava(MavenPublication) {\n      artifactId = 'my-app'\n      from components.java\n      pom {\n        name = 'My App'\n        description = 'My App'\n        url = 'https://my-app.com'\n        developers {\n          developer {\n            id = 'john'\n            name = 'John Doe'\n            email = 'an.emaill@address.here'\n          }\n        }\n        scm {\n          connection = 'scm:git:ssh://git@bitbucket.org:acme/my-app.git'\n          developerConnection = 'scm:git:ssh://git@bitbucket.org:acme/my-app.git'\n          url = 'https://bitbucket.org/acme/my-app'\n        }\n      }\n    }\n  }\n}\n\nsigning {\n  sign publishing.publications.mavenJava\n}\n</code></pre>\n\n<p>The <code>gitflowsemver</code> <a href=\"https://github.com/OpenLimark/GitFlowSemVerPlugin\" rel=\"nofollow noreferrer\">plugin</a> updates the <code>project.version</code> based on the GitFlow branching strategy. The <code>publish</code> task is able to access the version as updated by the <code>gitflowsemver</code> plugin, but when I try to build a docker image using <code>jib</code>, it does not tag the image with the updated version. It is always tagged as <code>unspecified</code>. But if I un-comment the line <code>version = '0.1.0'</code> the <code>jib</code> plugin is able to pick up the version. I am unable to understand why. Any help is highly appreciated.</p>\n"},{"tags":["java","json","scala","jackson"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1641926505,"post_id":70670777,"comment_id":124934205,"body_markdown":"What is `@Data`, a Lombok annotation maybe?","body":"What is <code>@Data</code>, a Lombok annotation maybe?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1641926649,"post_id":70670777,"comment_id":124934272,"body_markdown":"I don&#39;t think it&#39;s related to Scala though, all your code is Java. Maybe related to https://stackoverflow.com/questions/66597368/why-do-my-field-based-jackson-mixins-break-when-using-lombok-data","body":"I don&#39;t think it&#39;s related to Scala though, all your code is Java. Maybe related to <a href=\"https://stackoverflow.com/questions/66597368/why-do-my-field-based-jackson-mixins-break-when-using-lombok-data\" title=\"why do my field based jackson mixins break when using lombok data\">stackoverflow.com/questions/66597368/&hellip;</a>"}],"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641921137,"creation_date":1641921137,"question_id":70670777,"body_markdown":"I have a use case where my JSON POJO is in java and i need to serialise it in Scala Codebase. \r\n\r\nLet&#39;s say my pojo is - \r\n\r\n    @Data\r\n    public class JobConfigTest {\r\n    \r\n        private String name;\r\n    \r\n    }\r\n\r\nand my json processer is - \r\n\r\n    public class jsonmapper {\r\n    \r\n        private static jsonmapper instance;\r\n        private final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        private jsonmapper() {\r\n            mapper.registerModule(new Jdk8Module());\r\n            mapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.JAVA_LANG_OBJECT);\r\n        }\r\n        public static jsonmapper getInstance() {\r\n            if (instance == null) {\r\n                instance = new jsonmapper();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n    \r\n        public &lt;T&gt; T fromJson(String config, Class&lt;T&gt; clazz) throws JsonProcessingException {\r\n            T lib = null;\r\n            try {\r\n                lib = mapper.readValue(config, clazz);\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n            return lib;\r\n        }\r\n\r\nWhen I run the below code in scala Test case it fails - \r\n\r\n    val str : String = &quot;{\\&quot;name\\&quot;: \\&quot;Hotel\\&quot;}&quot;;\r\n    jsonmapper.getInstance().fromJson(str, classOf[JobConfigTest])\r\n\r\nThe error i get is - \r\n\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;name&quot; (class com.codbase.datavalidation.config.JobConfigTest), not marked as ignorable (0 known properties: ])\r\n     at [Source: (String)&quot;{&quot;name&quot;: &quot;Hotel&quot;}&quot;; line: 1, column: 11] (through reference chain: com.codebase.datavalidation.config.JobConfigTest[&quot;name&quot;])","title":"Jackson Json Processing in scala using Java POJO","body":"<p>I have a use case where my JSON POJO is in java and i need to serialise it in Scala Codebase.</p>\n<p>Let's say my pojo is -</p>\n<pre><code>@Data\npublic class JobConfigTest {\n\n    private String name;\n\n}\n</code></pre>\n<p>and my json processer is -</p>\n<pre><code>public class jsonmapper {\n\n    private static jsonmapper instance;\n    private final ObjectMapper mapper = new ObjectMapper();\n\n    private jsonmapper() {\n        mapper.registerModule(new Jdk8Module());\n        mapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.JAVA_LANG_OBJECT);\n    }\n    public static jsonmapper getInstance() {\n        if (instance == null) {\n            instance = new jsonmapper();\n        }\n        return instance;\n    }\n\n\n    public &lt;T&gt; T fromJson(String config, Class&lt;T&gt; clazz) throws JsonProcessingException {\n        T lib = null;\n        try {\n            lib = mapper.readValue(config, clazz);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n            throw e;\n        }\n        return lib;\n    }\n</code></pre>\n<p>When I run the below code in scala Test case it fails -</p>\n<pre><code>val str : String = &quot;{\\&quot;name\\&quot;: \\&quot;Hotel\\&quot;}&quot;;\njsonmapper.getInstance().fromJson(str, classOf[JobConfigTest])\n</code></pre>\n<p>The error i get is -</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;name&quot; (class com.codbase.datavalidation.config.JobConfigTest), not marked as ignorable (0 known properties: ])\n at [Source: (String)&quot;{&quot;name&quot;: &quot;Hotel&quot;}&quot;; line: 1, column: 11] (through reference chain: com.codebase.datavalidation.config.JobConfigTest[&quot;name&quot;])\n</code></pre>\n"},{"tags":["java","aspose"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1458825754,"post_id":36200563,"comment_id":60035785,"body_markdown":"This is contradictory. &quot;Converting docx to pdf&quot; *is* &quot;creating a pdf file&quot;. You just did not save it to disc ...","body":"This is contradictory. &quot;Converting docx to pdf&quot; <i>is</i> &quot;creating a pdf file&quot;. You just did not save it to disc ..."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1458826131,"post_id":36200563,"comment_id":60036052,"body_markdown":"Yes you can write to a **ByteArrayOutputStream** and then take its byte  array. One needs a conversion library.","body":"Yes you can write to a <b>ByteArrayOutputStream</b> and then take its byte  array. One needs a conversion library."}],"answers":[{"tags":[],"owner":{"account_id":191107,"reputation":1070,"user_id":4952051,"display_name":"Awais Hafeez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1459226510,"creation_date":1459226510,"answer_id":36275608,"question_id":36200563,"body_markdown":"I believe, you can achieve this by using the following code of [Aspose.Words for Java][1]:\r\n\r\n    ByteArrayInputStream inStream = byte array of DOCX/TXT;\r\n    // Load Document from inStream\r\n    Document doc = new Document(inStream);\r\n    \r\n    /* Perform any document processing tasks here */\r\n    \r\n    // Save the modified document into out stream\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    doc.save(baos, SaveFormat.PDF);\r\n    \r\n    // You can then get the PDF document back into the InputStream as follows\r\n    InputStream inputStream = new ByteArrayInputStream(baos.toByteArray());\r\n\r\nPlease also check the [file formats that you can currently convert to PDF][2] (byte array or save to disk) using Aspose.Words for Java. I work with Aspose as Developer Evangelist.\r\n\r\n\r\n  [1]: http://www.aspose.com/java/word-component.aspx\r\n  [2]: http://www.aspose.com/api/java/words/com.aspose.words/constants/LoadFormat","title":"Convert byte array of docx format to byte array of pdf format directly","body":"<p>I believe, you can achieve this by using the following code of <a href=\"http://www.aspose.com/java/word-component.aspx\" rel=\"nofollow\">Aspose.Words for Java</a>:</p>\n\n<pre><code>ByteArrayInputStream inStream = byte array of DOCX/TXT;\n// Load Document from inStream\nDocument doc = new Document(inStream);\n\n/* Perform any document processing tasks here */\n\n// Save the modified document into out stream\nByteArrayOutputStream baos = new ByteArrayOutputStream();\ndoc.save(baos, SaveFormat.PDF);\n\n// You can then get the PDF document back into the InputStream as follows\nInputStream inputStream = new ByteArrayInputStream(baos.toByteArray());\n</code></pre>\n\n<p>Please also check the <a href=\"http://www.aspose.com/api/java/words/com.aspose.words/constants/LoadFormat\" rel=\"nofollow\">file formats that you can currently convert to PDF</a> (byte array or save to disk) using Aspose.Words for Java. I work with Aspose as Developer Evangelist.</p>\n"}],"owner":{"account_id":7618631,"reputation":19,"user_id":5777251,"accept_rate":33,"display_name":"V. Rastogi "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3247,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641920981,"creation_date":1458823546,"question_id":36200563,"body_markdown":"Is there is any possible way to Convert byte array of docx/txt or of any format  to byte array of pdf format directly, without creating pdf file.","title":"Convert byte array of docx format to byte array of pdf format directly","body":"<p>Is there is any possible way to Convert byte array of docx/txt or of any format  to byte array of pdf format directly, without creating pdf file.</p>\n"},{"tags":["javascript","java","graalvm"],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564153054,"creation_date":1564153054,"answer_id":57222591,"question_id":57211453,"body_markdown":"I&#39;m the author of https://github.com/graalvm/graal-js-jdk11-maven-demo and I looked into this, seems the problem is that the profiles are set up to work **only** with JDK11.\r\n\r\nIf you apply the following patch to the pom file of graal-js-jdk11-maven-demo it should work with JDK12 as well (as show by https://travis-ci.org/graalvm/graal-js-jdk11-maven-demo/jobs/564052535)\r\n\r\n    diff --git a/pom.xml b/pom.xml\r\n    index e2a76c1..95cfa2c 100644\r\n    --- a/pom.xml\r\n    +++ b/pom.xml\r\n    @@ -15,7 +15,7 @@\r\n         &lt;profile&gt;\r\n             &lt;id&gt;jdk11&lt;/id&gt;\r\n             &lt;activation&gt;\r\n    -                &lt;jdk&gt;11&lt;/jdk&gt;\r\n    +                &lt;jdk&gt;[11,&lt;/jdk&gt;\r\n             &lt;/activation&gt;\r\n             &lt;dependencies&gt;\r\n                 &lt;dependency&gt;\r\n","title":"How to use GraalVM in Java? class not found exception","body":"<p>I'm the author of <a href=\"https://github.com/graalvm/graal-js-jdk11-maven-demo\" rel=\"nofollow noreferrer\">https://github.com/graalvm/graal-js-jdk11-maven-demo</a> and I looked into this, seems the problem is that the profiles are set up to work <strong>only</strong> with JDK11.</p>\n\n<p>If you apply the following patch to the pom file of graal-js-jdk11-maven-demo it should work with JDK12 as well (as show by <a href=\"https://travis-ci.org/graalvm/graal-js-jdk11-maven-demo/jobs/564052535\" rel=\"nofollow noreferrer\">https://travis-ci.org/graalvm/graal-js-jdk11-maven-demo/jobs/564052535</a>)</p>\n\n<pre><code>diff --git a/pom.xml b/pom.xml\nindex e2a76c1..95cfa2c 100644\n--- a/pom.xml\n+++ b/pom.xml\n@@ -15,7 +15,7 @@\n     &lt;profile&gt;\n         &lt;id&gt;jdk11&lt;/id&gt;\n         &lt;activation&gt;\n-                &lt;jdk&gt;11&lt;/jdk&gt;\n+                &lt;jdk&gt;[11,&lt;/jdk&gt;\n         &lt;/activation&gt;\n         &lt;dependencies&gt;\n             &lt;dependency&gt;\n</code></pre>\n"}],"owner":{"display_name":"user5354385"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5484,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641920752,"creation_date":1564098590,"question_id":57211453,"body_markdown":"I want to make this example to work: https://github.com/graalvm/graal-js-jdk11-maven-demo/blob/master/src/main/java/com/mycompany/app/App.java\r\n\r\nBut I get an exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: jdk/vm/ci/services/Services\r\n\r\nI included GraalVM via Maven\r\n\r\nThe same exception is thrown in this minimal example\r\n\r\n    import org.graalvm.polyglot.Context;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Context context = Context.create(&quot;js&quot;);\r\n            context.eval(&quot;js&quot;, &quot;console.log(&#39;Hello from Earth&#39;)&quot;);\r\n        }\r\n    }\r\n\r\nThe pom\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\r\n    &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\r\n    &lt;version&gt;19.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n    &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n    &lt;version&gt;19.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js-scriptengine --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n    &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n    &lt;version&gt;19.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.compiler/compiler --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\r\n    &lt;artifactId&gt;compiler&lt;/artifactId&gt;\r\n    &lt;version&gt;19.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nI am using jdk-12.0.1 (Open JDK) and working on a Windows 10 computer. \r\n\r\nSomewhere on the internet I found that this\r\n     \r\n     -XX:+UnlockExperimentalVMOptions -XX:+UseJVMCICompiler\r\n\r\nshould be included as VM arguments. When I do that the exception changes to:\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: class org.graalvm.compiler.truffle.runtime.hotspot.AbstractHotSpotTruffleRuntimeAccess (in unnamed module @0x2d8e6db6) cannot access class jdk.vm.ci.services.Services (in module jdk.internal.vm.ci) because module jdk.internal.vm.ci does not export jdk.vm.ci.services to unnamed module @0x2d8e6db6 \r\n\r\nMaybe there is a problem with the modules: modules-info.java\r\n\r\n    module App {\r\n\texports testinggraal;\r\n\t\r\n\trequires org.graalvm.sdk;\r\n\trequires java.scripting;\r\n\trequires org.graalvm.truffle;\r\n\trequires org.graalvm.js;\r\n     }","title":"How to use GraalVM in Java? class not found exception","body":"<p>I want to make this example to work: <a href=\"https://github.com/graalvm/graal-js-jdk11-maven-demo/blob/master/src/main/java/com/mycompany/app/App.java\" rel=\"nofollow noreferrer\">https://github.com/graalvm/graal-js-jdk11-maven-demo/blob/master/src/main/java/com/mycompany/app/App.java</a></p>\n\n<p>But I get an exception in thread \"main\" java.lang.NoClassDefFoundError: jdk/vm/ci/services/Services</p>\n\n<p>I included GraalVM via Maven</p>\n\n<p>The same exception is thrown in this minimal example</p>\n\n<pre><code>import org.graalvm.polyglot.Context;\n\npublic class Main {\n    public static void main(String[] args) {\n        Context context = Context.create(\"js\");\n        context.eval(\"js\", \"console.log('Hello from Earth')\");\n    }\n}\n</code></pre>\n\n<p>The pom</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n&lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n&lt;version&gt;19.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n&lt;artifactId&gt;js&lt;/artifactId&gt;\n&lt;version&gt;19.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js-scriptengine --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n&lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n&lt;version&gt;19.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.graalvm.compiler/compiler --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\n&lt;artifactId&gt;compiler&lt;/artifactId&gt;\n&lt;version&gt;19.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I am using jdk-12.0.1 (Open JDK) and working on a Windows 10 computer. </p>\n\n<p>Somewhere on the internet I found that this</p>\n\n<pre><code> -XX:+UnlockExperimentalVMOptions -XX:+UseJVMCICompiler\n</code></pre>\n\n<p>should be included as VM arguments. When I do that the exception changes to:</p>\n\n<p>Exception in thread \"main\" java.lang.IllegalAccessError: class org.graalvm.compiler.truffle.runtime.hotspot.AbstractHotSpotTruffleRuntimeAccess (in unnamed module @0x2d8e6db6) cannot access class jdk.vm.ci.services.Services (in module jdk.internal.vm.ci) because module jdk.internal.vm.ci does not export jdk.vm.ci.services to unnamed module @0x2d8e6db6 </p>\n\n<p>Maybe there is a problem with the modules: modules-info.java</p>\n\n<pre><code>module App {\nexports testinggraal;\n\nrequires org.graalvm.sdk;\nrequires java.scripting;\nrequires org.graalvm.truffle;\nrequires org.graalvm.js;\n }\n</code></pre>\n"},{"tags":["java","spring","gradle","heroku","build.gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641913824,"post_id":70668628,"comment_id":124928709,"body_markdown":"Flyway is executed by Spring Boot, this doesn&#39;t change when using Maven or Gradle. So basically the `flyway:migrate` doesn&#39;t do anything. Without a full stacktrace this would be impossible to answer.","body":"Flyway is executed by Spring Boot, this doesn&#39;t change when using Maven or Gradle. So basically the <code>flyway:migrate</code> doesn&#39;t do anything. Without a full stacktrace this would be impossible to answer."},{"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"score":0,"creation_date":1641914270,"post_id":70668628,"comment_id":124928919,"body_markdown":"@M.Deinum, I will change the question with the complete log.","body":"@M.Deinum, I will change the question with the complete log."},{"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"score":0,"creation_date":1641914417,"post_id":70668628,"comment_id":124928988,"body_markdown":"Wow, I think its a problem with migrations, gonna reset de database to test.","body":"Wow, I think its a problem with migrations, gonna reset de database to test."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641914704,"post_id":70668628,"comment_id":124929142,"body_markdown":"did you by accident also upgrade some libraries? Like use a newer version of Flyway? Or accidentally edited the sql files (like changes line endings etc.?).","body":"did you by accident also upgrade some libraries? Like use a newer version of Flyway? Or accidentally edited the sql files (like changes line endings etc.?)."},{"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"score":0,"creation_date":1641915045,"post_id":70668628,"comment_id":124929331,"body_markdown":"I changed the sql files because the project was not in use by anyone, so, for propose of organization, I organizated the sql files and reseted this Im my machine, but forgoted and don&#39;t know how to do that on heroku.","body":"I changed the sql files because the project was not in use by anyone, so, for propose of organization, I organizated the sql files and reseted this Im my machine, but forgoted and don&#39;t know how to do that on heroku."},{"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"score":0,"creation_date":1641917745,"post_id":70668628,"comment_id":124930619,"body_markdown":"I reseted flyway and a new error appears.","body":"I reseted flyway and a new error appears."},{"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"score":0,"creation_date":1641917952,"post_id":70668628,"comment_id":124930710,"body_markdown":"I will change the question one more time.","body":"I will change the question one more time."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641970636,"post_id":70668628,"comment_id":124944235,"body_markdown":"Without baselining you cannot reset/change the sql as that will change the checksum and thus lead to errors. Your current error has nothing to do with flyway but with missing properties in your `application.properties` or your `application.properties` isn&#39;t read (wrong location?).","body":"Without baselining you cannot reset/change the sql as that will change the checksum and thus lead to errors. Your current error has nothing to do with flyway but with missing properties in your <code>application.properties</code> or your <code>application.properties</code> isn&#39;t read (wrong location?)."}],"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641920669,"creation_date":1641912030,"question_id":70668628,"body_markdown":"I have a problem deploying my Spring boot application with gradle on heroku. The project works with flyway on migrations and postgres as database, I&#39;m trying to do the deploy, but heroku is complaining and giving the following log:\r\n\r\n```\r\n2022-01-11T16:08:15.174724+00:00 app[web.1]: 2022-01-11 16:08:15.174  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.310829+00:00 app[web.1]: 2022-01-11 16:08:15.310  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.458987+00:00 app[web.1]: 2022-01-11 16:08:15.458  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.557556+00:00 app[web.1]: 2022-01-11 16:08:15.557  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.660010+00:00 app[web.1]: 2022-01-11 16:08:15.659  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.758015+00:00 app[web.1]: 2022-01-11 16:08:15.757  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.926062+00:00 app[web.1]: 2022-01-11 16:08:15.925  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:15.950385+00:00 app[web.1]: 2022-01-11 16:08:15.950  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;018 - criarArquivos&quot;\r\n2022-01-11T16:08:16.100506+00:00 app[web.1]: 2022-01-11 16:08:16.100  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.143832+00:00 app[web.1]: 2022-01-11 16:08:16.143  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.162863+00:00 app[web.1]: 2022-01-11 16:08:16.162  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;019 - criarArquivosProposta&quot;\r\n2022-01-11T16:08:16.294016+00:00 app[web.1]: 2022-01-11 16:08:16.293  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.336561+00:00 app[web.1]: 2022-01-11 16:08:16.336  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.362030+00:00 app[web.1]: 2022-01-11 16:08:16.361  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;020 - criarArquivosEdital&quot;\r\n2022-01-11T16:08:16.469778+00:00 app[web.1]: 2022-01-11 16:08:16.469  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.531438+00:00 app[web.1]: 2022-01-11 16:08:16.531  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.551781+00:00 app[web.1]: 2022-01-11 16:08:16.551  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;021 - criarArquivosUsuario&quot;\r\n2022-01-11T16:08:16.646818+00:00 app[web.1]: 2022-01-11 16:08:16.646  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.717529+00:00 app[web.1]: 2022-01-11 16:08:16.717  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\r\n2022-01-11T16:08:16.737369+00:00 app[web.1]: 2022-01-11 16:08:16.737  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 21 migrations to schema &quot;public&quot;, now at version v021 (execution time 00:11.952s)\r\n2022-01-11T16:08:16.974590+00:00 app[web.1]: 2022-01-11 16:08:16.974  INFO 4 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-01-11T16:08:17.048129+00:00 app[web.1]: 2022-01-11 16:08:17.047  INFO 4 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n2022-01-11T16:08:17.275410+00:00 app[web.1]: 2022-01-11 16:08:17.275  INFO 4 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-01-11T16:08:17.435786+00:00 app[web.1]: 2022-01-11 16:08:17.435  INFO 4 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2022-01-11T16:08:20.352207+00:00 app[web.1]: 2022-01-11 16:08:20.351  INFO 4 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-01-11T16:08:20.365827+00:00 app[web.1]: 2022-01-11 16:08:20.365  INFO 4 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-01-11T16:08:20.556259+00:00 app[web.1]: 2022-01-11 16:08:20.556  WARN 4 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2022-01-11T16:08:24.205506+00:00 app[web.1]: 2022-01-11 16:08:24.205  WARN 4 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;arquivosController&#39;: Unsatisfied dependency expressed through field &#39;arquivosPropostasService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;arquivosPropostasService&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;arquivos.propostas&#39; in value &quot;${arquivos.propostas}&quot;\r\n2022-01-11T16:08:24.220521+00:00 app[web.1]: 2022-01-11 16:08:24.220  INFO 4 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-01-11T16:08:24.222658+00:00 app[web.1]: 2022-01-11 16:08:24.222  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-01-11T16:08:24.255639+00:00 app[web.1]: 2022-01-11 16:08:24.255  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2022-01-11T16:08:24.258455+00:00 app[web.1]: 2022-01-11 16:08:24.258  INFO 4 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-01-11T16:08:24.285249+00:00 app[web.1]: 2022-01-11 16:08:24.285  INFO 4 --- [           main] ConditionEvaluationReportLoggingListener :\r\n2022-01-11T16:08:24.285251+00:00 app[web.1]: \r\n2022-01-11T16:08:24.285253+00:00 app[web.1]: Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-01-11T16:08:24.319226+00:00 app[web.1]: 2022-01-11 16:08:24.318 ERROR 4 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n2022-01-11T16:08:24.319228+00:00 app[web.1]: \r\n2022-01-11T16:08:24.319231+00:00 app[web.1]: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;arquivosController&#39;: Unsatisfied dependency expressed through field &#39;arquivosPropostasService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;arquivosPropostasService&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;arquivos.propostas&#39; in value &quot;${arquivos.propostas}&quot;\r\n2022-01-11T16:08:24.319239+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319239+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319240+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319241+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319242+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319242+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319243+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319246+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319246+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319246+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319247+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319247+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319247+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319248+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319248+00:00 app[web.1]: at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n2022-01-11T16:08:24.319248+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.2.jar!/:2.5.2]\r\n2022-01-11T16:08:24.319249+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.2.jar!/:2.5.2]\r\n2022-01-11T16:08:24.319249+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.2.jar!/:2.5.2]\r\n2022-01-11T16:08:24.319250+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.2.jar!/:2.5.2]\r\n2022-01-11T16:08:24.319250+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.2.jar!/:2.5.2]\r\n2022-01-11T16:08:24.319250+00:00 app[web.1]: at com.sti.sigproj.SigprojApplication.main(SigprojApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\r\n2022-01-11T16:08:24.319253+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312-heroku]\r\n2022-01-11T16:08:24.319253+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312-heroku]\r\n2022-01-11T16:08:24.319258+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312-heroku]\r\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312-heroku]\r\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2022-01-11T16:08:24.319261+00:00 app[web.1]: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;arquivosPropostasService&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;arquivos.propostas&#39; in value &quot;${arquivos.propostas}&quot;\r\n2022-01-11T16:08:24.319261+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319261+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319262+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319262+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319262+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319263+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319263+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319263+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319264+00:00 app[web.1]: at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319264+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319264+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319265+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319266+00:00 app[web.1]: ... 28 common frames omitted\r\n2022-01-11T16:08:24.319266+00:00 app[web.1]: Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;arquivos.propostas&#39; in value &quot;${arquivos.propostas}&quot;\r\n2022-01-11T16:08:24.319266+00:00 app[web.1]: at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319268+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319270+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1321) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319272+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.8.jar!/:5.3.8]\r\n2022-01-11T16:08:24.319272+00:00 app[web.1]: ... 39 common frames omitted\r\n2022-01-11T16:08:24.319272+00:00 app[web.1]: \r\n2022-01-11T16:08:24.514445+00:00 heroku[web.1]: Process exited with status 1\r\n2022-01-11T16:08:24.655431+00:00 heroku[web.1]: State changed from starting to crashed\r\n2022-01-11T16:08:25.702604+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=api-sistemaderegistroatual.herokuapp.com request_id=7d4601b8-32fa-4a8a-b375-c03c3d194bf6 fwd=&quot;179.124.141.140&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n2022-01-11T16:08:26.525942+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=api-sistemaderegistroatual.herokuapp.com request_id=95fbafa2-4c6a-40c5-b6cb-4d0a1217eb39 fwd=&quot;179.124.141.140&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n```\r\n\r\nThis is my current build.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &quot;org.springframework.boot&quot; version &quot;2.5.2&quot;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n            &#39;Main-Class&#39;: &#39;com.sti.sigproj.SigprojApplication&#39;\r\n        )\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        url = uri(&#39;https://repo.maven.apache.org/maven2/&#39;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.5.2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web:2.5.2&#39;\r\n    implementation &#39;org.flywaydb:flyway-core:7.7.3&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:2.5.2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client:2.5.2&#39;\r\n    implementation &#39;org.modelmapper.extensions:modelmapper-spring:2.3.0&#39;\r\n    implementation &#39;commons-codec:commons-codec:1.15&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail:2.5.2&#39;\r\n    implementation &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n    implementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n    implementation(&#39;com.github.javafaker:javafaker:1.0.2&#39;) { exclude module: &#39;snakeyaml&#39; }\r\n    runtimeOnly &#39;com.h2database:h2:1.4.200&#39;\r\n    runtimeOnly &#39;org.springframework.boot:spring-boot-devtools:2.5.2&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql:42.2.22&#39;\r\n    testImplementation &#39;org.flywaydb.flyway-test-extensions:flyway-spring-test:5.0.0&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.5.2&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test:5.5.1&#39;\r\n    testImplementation &#39;org.junit.vintage:junit-vintage-engine:5.7.2&#39;\r\n}\r\n\r\ngroup = &#39;com.sti.sigproj&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\ndescription = &#39;sigproj&#39;\r\njava.sourceCompatibility = JavaVersion.VERSION_1_8\r\n\r\npublishing {\r\n    publications {\r\n        maven(MavenPublication) {\r\n            from(components.java)\r\n        }\r\n    }\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nAnd here is the procfile:\r\n```\r\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar target/sigproj-0.0.1-SNAPSHOT.jar\r\nflyway:migrate\r\n```\r\n\r\nHere is the part heroku is complaining in the arquivosPropostaService.java:\r\n```\r\n@Value(&quot;${arquivos.propostas.doc-chefia-imediata}&quot;)\r\nprivate String diretorioDocsChefiaImediata;\r\n```\r\n\r\nThat leads to application.properties:\r\n```\r\narquivos.propostas=/arquivos/propostas\r\narquivos.propostas.doc-chefia-imediata=/docs-chefia-imediata\r\n```\r\n\r\nThe project contains maven and recently was changed to gradle. I think the problem is in the procfile and in build.gradle or maybe some lack in config vars, an old version of the project worked on maven, but the current version needs gradle.","title":"Running Spring app built with gradle and flyway on Heroku","body":"<p>I have a problem deploying my Spring boot application with gradle on heroku. The project works with flyway on migrations and postgres as database, I'm trying to do the deploy, but heroku is complaining and giving the following log:</p>\n<pre><code>2022-01-11T16:08:15.174724+00:00 app[web.1]: 2022-01-11 16:08:15.174  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.310829+00:00 app[web.1]: 2022-01-11 16:08:15.310  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.458987+00:00 app[web.1]: 2022-01-11 16:08:15.458  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.557556+00:00 app[web.1]: 2022-01-11 16:08:15.557  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.660010+00:00 app[web.1]: 2022-01-11 16:08:15.659  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.758015+00:00 app[web.1]: 2022-01-11 16:08:15.757  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.926062+00:00 app[web.1]: 2022-01-11 16:08:15.925  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:15.950385+00:00 app[web.1]: 2022-01-11 16:08:15.950  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;018 - criarArquivos&quot;\n2022-01-11T16:08:16.100506+00:00 app[web.1]: 2022-01-11 16:08:16.100  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.143832+00:00 app[web.1]: 2022-01-11 16:08:16.143  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.162863+00:00 app[web.1]: 2022-01-11 16:08:16.162  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;019 - criarArquivosProposta&quot;\n2022-01-11T16:08:16.294016+00:00 app[web.1]: 2022-01-11 16:08:16.293  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.336561+00:00 app[web.1]: 2022-01-11 16:08:16.336  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.362030+00:00 app[web.1]: 2022-01-11 16:08:16.361  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;020 - criarArquivosEdital&quot;\n2022-01-11T16:08:16.469778+00:00 app[web.1]: 2022-01-11 16:08:16.469  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.531438+00:00 app[web.1]: 2022-01-11 16:08:16.531  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.551781+00:00 app[web.1]: 2022-01-11 16:08:16.551  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;021 - criarArquivosUsuario&quot;\n2022-01-11T16:08:16.646818+00:00 app[web.1]: 2022-01-11 16:08:16.646  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.717529+00:00 app[web.1]: 2022-01-11 16:08:16.717  INFO 4 --- [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2022-01-11T16:08:16.737369+00:00 app[web.1]: 2022-01-11 16:08:16.737  INFO 4 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 21 migrations to schema &quot;public&quot;, now at version v021 (execution time 00:11.952s)\n2022-01-11T16:08:16.974590+00:00 app[web.1]: 2022-01-11 16:08:16.974  INFO 4 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-01-11T16:08:17.048129+00:00 app[web.1]: 2022-01-11 16:08:17.047  INFO 4 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2022-01-11T16:08:17.275410+00:00 app[web.1]: 2022-01-11 16:08:17.275  INFO 4 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-01-11T16:08:17.435786+00:00 app[web.1]: 2022-01-11 16:08:17.435  INFO 4 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2022-01-11T16:08:20.352207+00:00 app[web.1]: 2022-01-11 16:08:20.351  INFO 4 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-01-11T16:08:20.365827+00:00 app[web.1]: 2022-01-11 16:08:20.365  INFO 4 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-01-11T16:08:20.556259+00:00 app[web.1]: 2022-01-11 16:08:20.556  WARN 4 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-01-11T16:08:24.205506+00:00 app[web.1]: 2022-01-11 16:08:24.205  WARN 4 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'arquivosController': Unsatisfied dependency expressed through field 'arquivosPropostasService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'arquivosPropostasService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'arquivos.propostas' in value &quot;${arquivos.propostas}&quot;\n2022-01-11T16:08:24.220521+00:00 app[web.1]: 2022-01-11 16:08:24.220  INFO 4 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-01-11T16:08:24.222658+00:00 app[web.1]: 2022-01-11 16:08:24.222  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-01-11T16:08:24.255639+00:00 app[web.1]: 2022-01-11 16:08:24.255  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2022-01-11T16:08:24.258455+00:00 app[web.1]: 2022-01-11 16:08:24.258  INFO 4 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-01-11T16:08:24.285249+00:00 app[web.1]: 2022-01-11 16:08:24.285  INFO 4 --- [           main] ConditionEvaluationReportLoggingListener :\n2022-01-11T16:08:24.285251+00:00 app[web.1]: \n2022-01-11T16:08:24.285253+00:00 app[web.1]: Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-01-11T16:08:24.319226+00:00 app[web.1]: 2022-01-11 16:08:24.318 ERROR 4 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2022-01-11T16:08:24.319228+00:00 app[web.1]: \n2022-01-11T16:08:24.319231+00:00 app[web.1]: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'arquivosController': Unsatisfied dependency expressed through field 'arquivosPropostasService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'arquivosPropostasService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'arquivos.propostas' in value &quot;${arquivos.propostas}&quot;\n2022-01-11T16:08:24.319239+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319239+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319240+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319241+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319242+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319242+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319243+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319246+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319246+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319246+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319247+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319247+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319247+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319248+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319248+00:00 app[web.1]: at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar!/:2.5.2]\n2022-01-11T16:08:24.319248+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.2.jar!/:2.5.2]\n2022-01-11T16:08:24.319249+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.2.jar!/:2.5.2]\n2022-01-11T16:08:24.319249+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.2.jar!/:2.5.2]\n2022-01-11T16:08:24.319250+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.2.jar!/:2.5.2]\n2022-01-11T16:08:24.319250+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.2.jar!/:2.5.2]\n2022-01-11T16:08:24.319250+00:00 app[web.1]: at com.sti.sigproj.SigprojApplication.main(SigprojApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\n2022-01-11T16:08:24.319253+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312-heroku]\n2022-01-11T16:08:24.319253+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312-heroku]\n2022-01-11T16:08:24.319258+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312-heroku]\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312-heroku]\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2022-01-11T16:08:24.319259+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [sigproj-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2022-01-11T16:08:24.319261+00:00 app[web.1]: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'arquivosPropostasService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'arquivos.propostas' in value &quot;${arquivos.propostas}&quot;\n2022-01-11T16:08:24.319261+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319261+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319262+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319262+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319262+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319263+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319263+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319263+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319264+00:00 app[web.1]: at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319264+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319264+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319265+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319266+00:00 app[web.1]: ... 28 common frames omitted\n2022-01-11T16:08:24.319266+00:00 app[web.1]: Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'arquivos.propostas' in value &quot;${arquivos.propostas}&quot;\n2022-01-11T16:08:24.319266+00:00 app[web.1]: at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319267+00:00 app[web.1]: at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319268+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319270+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1321) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319271+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319272+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.8.jar!/:5.3.8]\n2022-01-11T16:08:24.319272+00:00 app[web.1]: ... 39 common frames omitted\n2022-01-11T16:08:24.319272+00:00 app[web.1]: \n2022-01-11T16:08:24.514445+00:00 heroku[web.1]: Process exited with status 1\n2022-01-11T16:08:24.655431+00:00 heroku[web.1]: State changed from starting to crashed\n2022-01-11T16:08:25.702604+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=api-sistemaderegistroatual.herokuapp.com request_id=7d4601b8-32fa-4a8a-b375-c03c3d194bf6 fwd=&quot;179.124.141.140&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-01-11T16:08:26.525942+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=api-sistemaderegistroatual.herokuapp.com request_id=95fbafa2-4c6a-40c5-b6cb-4d0a1217eb39 fwd=&quot;179.124.141.140&quot; dyno= connect= service= status=503 bytes= protocol=https\n</code></pre>\n<p>This is my current build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'maven-publish'\n    id &quot;org.springframework.boot&quot; version &quot;2.5.2&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n}\n\njar {\n    manifest {\n        attributes(\n            'Main-Class': 'com.sti.sigproj.SigprojApplication'\n        )\n    }\n}\n\nrepositories {\n    mavenLocal()\n    maven {\n        url = uri('https://repo.maven.apache.org/maven2/')\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.5.2'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:2.5.2'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.5.2'\n    implementation 'org.flywaydb:flyway-core:7.7.3'\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.5.2'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client:2.5.2'\n    implementation 'org.modelmapper.extensions:modelmapper-spring:2.3.0'\n    implementation 'commons-codec:commons-codec:1.15'\n    implementation 'io.jsonwebtoken:jjwt:0.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter-mail:2.5.2'\n    implementation 'io.springfox:springfox-swagger2:2.9.2'\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n    implementation('com.github.javafaker:javafaker:1.0.2') { exclude module: 'snakeyaml' }\n    runtimeOnly 'com.h2database:h2:1.4.200'\n    runtimeOnly 'org.springframework.boot:spring-boot-devtools:2.5.2'\n    runtimeOnly 'org.postgresql:postgresql:42.2.22'\n    testImplementation 'org.flywaydb.flyway-test-extensions:flyway-spring-test:5.0.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.2'\n    testImplementation 'org.springframework.security:spring-security-test:5.5.1'\n    testImplementation 'org.junit.vintage:junit-vintage-engine:5.7.2'\n}\n\ngroup = 'com.sti.sigproj'\nversion = '0.0.1-SNAPSHOT'\ndescription = 'sigproj'\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            from(components.java)\n        }\n    }\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>And here is the procfile:</p>\n<pre><code>web: java -Dserver.port=$PORT $JAVA_OPTS -jar target/sigproj-0.0.1-SNAPSHOT.jar\nflyway:migrate\n</code></pre>\n<p>Here is the part heroku is complaining in the arquivosPropostaService.java:</p>\n<pre><code>@Value(&quot;${arquivos.propostas.doc-chefia-imediata}&quot;)\nprivate String diretorioDocsChefiaImediata;\n</code></pre>\n<p>That leads to application.properties:</p>\n<pre><code>arquivos.propostas=/arquivos/propostas\narquivos.propostas.doc-chefia-imediata=/docs-chefia-imediata\n</code></pre>\n<p>The project contains maven and recently was changed to gradle. I think the problem is in the procfile and in build.gradle or maybe some lack in config vars, an old version of the project worked on maven, but the current version needs gradle.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"  "},"score":1,"creation_date":1641917606,"post_id":70669908,"comment_id":124930553,"body_markdown":"Try changing `Car  cheapestCar = cars[0];` to `Car cheapestCar = null;`","body":"Try changing <code>Car  cheapestCar = cars[0];</code> to <code>Car cheapestCar = null;</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1641917616,"post_id":70669908,"comment_id":124930557,"body_markdown":"The first car you are currently selecting isn&#39;t necessarily of the right type. You need to go through the array until you find the first car of the right type, and only then start looking at the price.","body":"The first car you are currently selecting isn&#39;t necessarily of the right type. You need to go through the array until you find the first car of the right type, and only then start looking at the price."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1641918742,"post_id":70669908,"comment_id":124931083,"body_markdown":"As a general note, throwing an exception when the array is empty is inconsistent with returning null if no cars of the right type are found: an empty array trivially means there are not cars of the right type to be found. So you should either return null in both cases, or throw an exception in both cases.","body":"As a general note, throwing an exception when the array is empty is inconsistent with returning null if no cars of the right type are found: an empty array trivially means there are not cars of the right type to be found. So you should either return null in both cases, or throw an exception in both cases."}],"answers":[{"tags":[],"owner":{"account_id":7115457,"reputation":1071,"user_id":5441932,"accept_rate":69,"display_name":"konsolas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641917718,"creation_date":1641917702,"answer_id":70669975,"question_id":70669908,"body_markdown":"Java 8 Streams might help you do this more concisely.\r\n\r\n    public static Optional&lt;Car&gt; findCar (Car[] cars, String type) {\r\n        return Arrays.stream(cars)\r\n                .filter(car -&gt; car.getType().equals(type))\r\n                .min(Comparator.comparingDouble(car::getPrice));\r\n    }\r\n\r\nIt&#39;s usually better to return an `Optional&lt;T&gt;` instead of `null` as it helps ensure that users of the function don&#39;t forget about the case where no car exists.","title":"How can i fix this method so it returns null if the car type is not found","body":"<p>Java 8 Streams might help you do this more concisely.</p>\n<pre><code>public static Optional&lt;Car&gt; findCar (Car[] cars, String type) {\n    return Arrays.stream(cars)\n            .filter(car -&gt; car.getType().equals(type))\n            .min(Comparator.comparingDouble(car::getPrice));\n}\n</code></pre>\n<p>It's usually better to return an <code>Optional&lt;T&gt;</code> instead of <code>null</code> as it helps ensure that users of the function don't forget about the case where no car exists.</p>\n"},{"tags":[],"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641920520,"creation_date":1641918170,"answer_id":70670092,"question_id":70669908,"body_markdown":"Currently the &quot;cheapestCar&quot; is initialized to be simply the first car in the array - without checking if that car is of the correct type (which in and of itself might be another problem).\r\n\r\nSo as a first step, get rid of that initialization:\r\n\r\n```\r\nCar cheapestCar = null;\r\n```\r\n\r\nOf course now the next line will fail because you cannot get the price of a non-existing car. Since the price is only used to determine potentially lower prices, it is safe to start with the highest price possible, in this case:\r\n\r\n```\r\ndouble price = Double.POSITIVE_INFINITY;\r\n```\r\n\r\nThe whole code would then be:\r\n```\r\npublic static Car findCar (Car[] cars, String type) \r\n{ \r\n    if (cars.length == 0) \r\n        throw new java.lang.IllegalArgumentException (&quot;no cars&quot;); \r\n \r\n    \r\n    Car    cheapestCar = null; \r\n    double  price = Double.POSITIVE_INFINITY; \r\n    \r\n    for (int i = 0; i &lt; cars.length; i++) \r\n        if (cars[i].getPrice() &lt;= price &amp;&amp; \r\n            cars[i].getType().equals(type)) \r\n        { \r\n            cheapestCar = cars[i]; \r\n            price = cheapestCar.getPrice (); \r\n            \r\n        } \r\n    \r\n    return cheapestCar;\r\n}\r\n```\r\n\r\nBe careful, though, as any code _using_ this function may not be able to handle a `null` return value (since currently it cannot be null).\r\n\r\nI&#39;ve also changed your price comparison from `&lt;` to `&lt;=` since the only car of the correct type could in theory have an infinite price as well. This might change your results if there is more than one &quot;cheapest&quot; car - your current function would return the _first_ one found, my function with that changed comparison will return the _last_ one found.\r\n\r\nAnd as a general note, see [@konsolas&#39; answer][1] for a potentially more concise approach for the whole function and [Andy Turner&#39;s comment][2] for a slight (still existing) inconsistency regarding returning `null` vs throwing an exception.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70669975/4616087\r\n  [2]: https://stackoverflow.com/questions/70669908/how-can-i-fix-this-method-so-it-returns-null-if-the-car-type-is-not-found/70670092#comment124931083_70669908","title":"How can i fix this method so it returns null if the car type is not found","body":"<p>Currently the &quot;cheapestCar&quot; is initialized to be simply the first car in the array - without checking if that car is of the correct type (which in and of itself might be another problem).</p>\n<p>So as a first step, get rid of that initialization:</p>\n<pre><code>Car cheapestCar = null;\n</code></pre>\n<p>Of course now the next line will fail because you cannot get the price of a non-existing car. Since the price is only used to determine potentially lower prices, it is safe to start with the highest price possible, in this case:</p>\n<pre><code>double price = Double.POSITIVE_INFINITY;\n</code></pre>\n<p>The whole code would then be:</p>\n<pre><code>public static Car findCar (Car[] cars, String type) \n{ \n    if (cars.length == 0) \n        throw new java.lang.IllegalArgumentException (&quot;no cars&quot;); \n \n    \n    Car    cheapestCar = null; \n    double  price = Double.POSITIVE_INFINITY; \n    \n    for (int i = 0; i &lt; cars.length; i++) \n        if (cars[i].getPrice() &lt;= price &amp;&amp; \n            cars[i].getType().equals(type)) \n        { \n            cheapestCar = cars[i]; \n            price = cheapestCar.getPrice (); \n            \n        } \n    \n    return cheapestCar;\n}\n</code></pre>\n<p>Be careful, though, as any code <em>using</em> this function may not be able to handle a <code>null</code> return value (since currently it cannot be null).</p>\n<p>I've also changed your price comparison from <code>&lt;</code> to <code>&lt;=</code> since the only car of the correct type could in theory have an infinite price as well. This might change your results if there is more than one &quot;cheapest&quot; car - your current function would return the <em>first</em> one found, my function with that changed comparison will return the <em>last</em> one found.</p>\n<p>And as a general note, see <a href=\"https://stackoverflow.com/a/70669975/4616087\">@konsolas' answer</a> for a potentially more concise approach for the whole function and <a href=\"https://stackoverflow.com/questions/70669908/how-can-i-fix-this-method-so-it-returns-null-if-the-car-type-is-not-found/70670092#comment124931083_70669908\">Andy Turner's comment</a> for a slight (still existing) inconsistency regarding returning <code>null</code> vs throwing an exception.</p>\n"}],"owner":{"account_id":23907081,"reputation":13,"user_id":17904536,"display_name":"user17904536"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70670092,"answer_count":2,"score":0,"last_activity_date":1641920520,"creation_date":1641917430,"question_id":70669908,"body_markdown":"How can i fix this method so it returns null if the car type is not found? \r\nIm new to java so take it with a grain of salt\r\n\r\n\r\n    public static Car findCar (Car[] cars, String type) \r\n    { \r\n        if (cars.length == 0) \r\n            throw new java.lang.IllegalArgumentException (&quot;no cars&quot;); \r\n     \r\n        \r\n        Car    cheapestCar = cars[0]; \r\n        double  price = cheapestCar.getPrice (); \r\n        \r\n        for (int i = 0; i &lt; cars.length; i++) \r\n            if (cars[i].getPrice() &lt; price &amp;&amp; \r\n                cars[i].getType().equals(type)) \r\n            { \r\n            \tcheapestCar = cars[i]; \r\n                price = cheapestCar.getPrice (); \r\n                \r\n            } \r\n        \r\n        return cheapestCar;\r\n    } \r\n\r\n\r\n\t","title":"How can i fix this method so it returns null if the car type is not found","body":"<p>How can i fix this method so it returns null if the car type is not found?\nIm new to java so take it with a grain of salt</p>\n<pre><code>public static Car findCar (Car[] cars, String type) \n{ \n    if (cars.length == 0) \n        throw new java.lang.IllegalArgumentException (&quot;no cars&quot;); \n \n    \n    Car    cheapestCar = cars[0]; \n    double  price = cheapestCar.getPrice (); \n    \n    for (int i = 0; i &lt; cars.length; i++) \n        if (cars[i].getPrice() &lt; price &amp;&amp; \n            cars[i].getType().equals(type)) \n        { \n            cheapestCar = cars[i]; \n            price = cheapestCar.getPrice (); \n            \n        } \n    \n    return cheapestCar;\n} \n</code></pre>\n"},{"tags":["java","spring-boot","jackson","entity"],"comments":[{"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"score":0,"creation_date":1535375348,"post_id":52039545,"comment_id":91030626,"body_markdown":"Check these post if it helps you.\nhttps://stackoverflow.com/questions/23101260/ignore-fields-from-java-object-dynamically-while-sending-as-json-from-spring-mvc\nhttps://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization","body":"Check these post if it helps you. <a href=\"https://stackoverflow.com/questions/23101260/ignore-fields-from-java-object-dynamically-while-sending-as-json-from-spring-mvc\" title=\"ignore fields from java object dynamically while sending as json from spring mvc\">stackoverflow.com/questions/23101260/&hellip;</a> <a href=\"https://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization\" title=\"only using jsonignore during serialization but not deserialization\">stackoverflow.com/questions/12505141/&hellip;</a>"},{"owner":{"account_id":5097610,"reputation":573,"user_id":4088381,"accept_rate":100,"display_name":"Ashok Kumar N"},"score":0,"creation_date":1535375551,"post_id":52039545,"comment_id":91030755,"body_markdown":"try to comment @JsonProperty(&quot;bin&quot;) and check","body":"try to comment @JsonProperty(&quot;bin&quot;) and check"},{"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"score":0,"creation_date":1535376288,"post_id":52039545,"comment_id":91031267,"body_markdown":"Annotate property as @JsonProperty(access = Access.WRITE_ONLY)\nprivate String bin;","body":"Annotate property as @JsonProperty(access = Access.WRITE_ONLY) private String bin;"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1695050466,"post_id":52039545,"comment_id":135969009,"body_markdown":"Very late comment: I am guessing the mysterious Id field originates from the Persistable interface","body":"Very late comment: I am guessing the mysterious Id field originates from the Persistable interface"}],"answers":[{"tags":[],"owner":{"account_id":6201724,"reputation":365,"user_id":5627572,"accept_rate":80,"display_name":"x86-64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535374273,"creation_date":1535373952,"answer_id":52039704,"question_id":52039545,"body_markdown":"Try annotating with `@NaturalId` instead of `@Id`.","title":"Spring Data Rest - hide instead of exposing ID","body":"<p>Try annotating with <code>@NaturalId</code> instead of <code>@Id</code>.</p>\n"},{"tags":[],"owner":{"account_id":8062381,"reputation":6887,"user_id":6077549,"accept_rate":5,"display_name":"alltej"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1535374939,"creation_date":1535374939,"answer_id":52040021,"question_id":52039545,"body_markdown":"Try annotating that field with `@JsonIgnore`","title":"Spring Data Rest - hide instead of exposing ID","body":"<p>Try annotating that field with <code>@JsonIgnore</code></p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1535488586,"creation_date":1535488586,"answer_id":52065845,"question_id":52039545,"body_markdown":"Thanks all, I think it has to do with some configuration of Spring or Jackson that will automatically expose the field mapped with `@Id`. I can just guess because no time for a confirmation.\r\n\r\nAnd some colleague suggests me to define a DTO instead of putting the `@Jsonxxx` annotations in the class, saying the model represents data model and are related to the table, while DTO is related with view layer. So I did it and now all is fine.\r\n\r\nNow the model is free of `id` field and `@JsonProperty`/`@JsonIgnore`:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;bin_info&quot;)\r\n    public class BinInfo implements Serializable, Persistable&lt;String&gt; {\r\n        @Id\r\n        @NaturalId\r\n        @NotBlank //this is for absent parameter. Not equal to Pattern regex check\r\n        @Pattern(regexp = &quot;^\\\\d{6,8}$&quot;) //6-8 digits\r\n        @Column(name=&quot;bin&quot;)\r\n        //@JsonProperty(&quot;bin&quot;)\r\n        private String bin;\r\n\r\n        ...\r\n\r\nAnd the DTO is totally without `@Id`:\r\n\r\n    @Data\r\n    public class BinInfoDTO {\r\n        @JsonProperty(&quot;bin&quot;)\r\n        private String bin;\r\n        \r\n        @JsonProperty(&quot;json_full&quot;)\r\n        private String json_full;\r\n        \r\n        ...\r\n\r\nWhen I retrieve an entity, with a mapping method I set all values I need in a DTO to the DTO and return it to the endpoint. Then the JSON is normal and fine.\r\n\r\n","title":"Spring Data Rest - hide instead of exposing ID","body":"<p>Thanks all, I think it has to do with some configuration of Spring or Jackson that will automatically expose the field mapped with <code>@Id</code>. I can just guess because no time for a confirmation.</p>\n\n<p>And some colleague suggests me to define a DTO instead of putting the <code>@Jsonxxx</code> annotations in the class, saying the model represents data model and are related to the table, while DTO is related with view layer. So I did it and now all is fine.</p>\n\n<p>Now the model is free of <code>id</code> field and <code>@JsonProperty</code>/<code>@JsonIgnore</code>:</p>\n\n<pre><code>@Entity\n@Data\n@Table(name=\"bin_info\")\npublic class BinInfo implements Serializable, Persistable&lt;String&gt; {\n    @Id\n    @NaturalId\n    @NotBlank //this is for absent parameter. Not equal to Pattern regex check\n    @Pattern(regexp = \"^\\\\d{6,8}$\") //6-8 digits\n    @Column(name=\"bin\")\n    //@JsonProperty(\"bin\")\n    private String bin;\n\n    ...\n</code></pre>\n\n<p>And the DTO is totally without <code>@Id</code>:</p>\n\n<pre><code>@Data\npublic class BinInfoDTO {\n    @JsonProperty(\"bin\")\n    private String bin;\n\n    @JsonProperty(\"json_full\")\n    private String json_full;\n\n    ...\n</code></pre>\n\n<p>When I retrieve an entity, with a mapping method I set all values I need in a DTO to the DTO and return it to the endpoint. Then the JSON is normal and fine.</p>\n"},{"tags":[],"owner":{"account_id":20521720,"reputation":3,"user_id":15061153,"display_name":"Patrick Mendes Guimar&#227;es"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641920437,"creation_date":1641920437,"answer_id":70670625,"question_id":52039545,"body_markdown":"You have to implement the get and set from id field.","title":"Spring Data Rest - hide instead of exposing ID","body":"<p>You have to implement the get and set from id field.</p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52065845,"answer_count":4,"score":3,"last_activity_date":1641920437,"creation_date":1535373424,"question_id":52039545,"body_markdown":"I have en entity class which has an natural ID field mapped as `@Id` and I don&#39;t have any surrogate ID(invented field only for table ID) field. And, in the Jackson marshalled JSON I see an extra `id` exposed.\r\n\r\nSo instead of:\r\n\r\n    {\r\n        &quot;bin&quot;:&quot;123456&quot;, ...\r\n    }\r\n\r\nI see:\r\n\r\n    {\r\n        &quot;id&quot;:&quot;123456&quot;, &quot;bin&quot;:&quot;123456&quot;, ...\r\n    }\r\n\r\nwhich I don&#39;t want because they are repeated information. How can I prevent this? \r\n\r\nI haven&#39;t touched REST/MVC configuration adapter; they are for exposing the ID classes, but I don&#39;t want that. \r\n\r\nBean:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;bin_info&quot;)\r\n    public class BinInfo implements Serializable, Persistable&lt;String&gt; {\r\n        @Id\r\n        @NotBlank //this is for absent parameter. Not equal to Pattern regex check\r\n        @Pattern(regexp = &quot;^\\\\d{6,8}$&quot;) //6-8 digits\r\n        @Column(name=&quot;bin&quot;)\r\n        @JsonProperty(&quot;bin&quot;)\r\n        private String bin;\r\n        \r\n        ...\r\n\r\n\r\nI am with these dependencies:\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-actuator&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-aop&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-data-rest&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-undertow&#39;)\r\n        runtime(&#39;com.h2database:h2&#39;)\r\n        runtime(&#39;org.postgresql:postgresql&#39;)\r\n        testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n        testCompile(&#39;io.cucumber:cucumber-java:3.0.2&#39;)\r\n        testCompile(&#39;io.cucumber:cucumber-junit:3.0.2&#39;)\r\n        testCompile(&#39;io.cucumber:cucumber-spring:3.0.2&#39;)\r\n    }\r\n\r\n\r\nSpring Boot 2.0.3.\r\n\r\n","title":"Spring Data Rest - hide instead of exposing ID","body":"<p>I have en entity class which has an natural ID field mapped as <code>@Id</code> and I don't have any surrogate ID(invented field only for table ID) field. And, in the Jackson marshalled JSON I see an extra <code>id</code> exposed.</p>\n\n<p>So instead of:</p>\n\n<pre><code>{\n    \"bin\":\"123456\", ...\n}\n</code></pre>\n\n<p>I see:</p>\n\n<pre><code>{\n    \"id\":\"123456\", \"bin\":\"123456\", ...\n}\n</code></pre>\n\n<p>which I don't want because they are repeated information. How can I prevent this? </p>\n\n<p>I haven't touched REST/MVC configuration adapter; they are for exposing the ID classes, but I don't want that. </p>\n\n<p>Bean:</p>\n\n<pre><code>@Entity\n@Data\n@Table(name=\"bin_info\")\npublic class BinInfo implements Serializable, Persistable&lt;String&gt; {\n    @Id\n    @NotBlank //this is for absent parameter. Not equal to Pattern regex check\n    @Pattern(regexp = \"^\\\\d{6,8}$\") //6-8 digits\n    @Column(name=\"bin\")\n    @JsonProperty(\"bin\")\n    private String bin;\n\n    ...\n</code></pre>\n\n<p>I am with these dependencies:</p>\n\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-actuator')\n    compile('org.springframework.boot:spring-boot-starter-aop')\n    compile('org.springframework.boot:spring-boot-starter-data-jpa')\n    compile('org.springframework.boot:spring-boot-starter-data-rest')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('org.springframework.boot:spring-boot-starter-undertow')\n    runtime('com.h2database:h2')\n    runtime('org.postgresql:postgresql')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n    testCompile('io.cucumber:cucumber-java:3.0.2')\n    testCompile('io.cucumber:cucumber-junit:3.0.2')\n    testCompile('io.cucumber:cucumber-spring:3.0.2')\n}\n</code></pre>\n\n<p>Spring Boot 2.0.3.</p>\n"},{"tags":["java","function","methods","parameters","parameter-passing"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1641398590,"post_id":70595908,"comment_id":124795790,"body_markdown":"what&#39;s the problem are you trying to solve?","body":"what&#39;s the problem are you trying to solve?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1641398597,"post_id":70595908,"comment_id":124795799,"body_markdown":"So if you pass `null`, does it remove tags or not? Not very clean design. Tri-state booleans should be avoided like the plague in the first place, so this has more issues than just passing a `null`.","body":"So if you pass <code>null</code>, does it remove tags or not? Not very clean design. Tri-state booleans should be avoided like the plague in the first place, so this has more issues than just passing a <code>null</code>."},{"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"score":0,"creation_date":1641398816,"post_id":70595908,"comment_id":124795887,"body_markdown":"Sorry if the question is not clear enough, the Boolean was just an example for a second parameter, but just to imagine that a method have several parameters, and I can get the functionality I need of it by passing only some of its parameters, is the right thing to do here to pass the others as null/empty or create a another method with the parameters I need only?\n@Kayaman","body":"Sorry if the question is not clear enough, the Boolean was just an example for a second parameter, but just to imagine that a method have several parameters, and I can get the functionality I need of it by passing only some of its parameters, is the right thing to do here to pass the others as null/empty or create a another method with the parameters I need only? @Kayaman"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1641399165,"post_id":70595908,"comment_id":124796024,"body_markdown":"If the choice is between passing null as a default value or cloning and duplicating (potentially a lot of) code I would rather chose passing null. That being said as everything in programming it should be done in moderation and if at some point you end up having a call like `getContent(id, null, null, null, null, null, null);` you probably overdid it and should rethink your method design ;)","body":"If the choice is between passing null as a default value or cloning and duplicating (potentially a lot of) code I would rather chose passing null. That being said as everything in programming it should be done in moderation and if at some point you end up having a call like <code>getContent(id, null, null, null, null, null, null);</code> you probably overdid it and should rethink your method design ;)"},{"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"score":0,"creation_date":1641399356,"post_id":70595908,"comment_id":124796103,"body_markdown":"@OHGODSPIDERS\nIt&#39;s kind of a legacy code, sure refactoring is an option, if not the best, but just wanted to know some opinions about such case.","body":"@OHGODSPIDERS It&#39;s kind of a legacy code, sure refactoring is an option, if not the best, but just wanted to know some opinions about such case."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641399673,"post_id":70595908,"comment_id":124796241,"body_markdown":"I tried editing the Questions body to make that shown URL a link. But I failed. Can anyone spot what is causing the Stack Overflow sites renderer to not hide the URL?","body":"I tried editing the Questions body to make that shown URL a link. But I failed. Can anyone spot what is causing the Stack Overflow sites renderer to not hide the URL?"},{"owner":{"account_id":3273747,"reputation":20854,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":1,"creation_date":1641920388,"post_id":70595908,"comment_id":124931808,"body_markdown":"@BasilBourque It&#39;s the parenthesis in the URL&#39;s search string URI that needed to be escaped.","body":"@BasilBourque It&#39;s the parenthesis in the URL&#39;s search string URI that needed to be escaped."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641420507,"creation_date":1641398911,"answer_id":70596024,"question_id":70595908,"body_markdown":"Either way is allowed. I have seen both used, even within the libraries bundled with Java.\r\n\r\n# Prefer overloading\r\n\r\n    String getContent( String id , Boolean remove_tags ) {  }\r\n    String getContent( String id ) {  }\r\n\r\n&#128073; Adding the second method with a single parameter has the benefit of clearly **communicating that a single argument will succeed**. \r\n\r\nWith only the first method, the calling programmer cannot tell if passing a null for the second argument is allowed. She would have to study the Javadoc, or perhaps even the source code, to determine if a null will succeed.\r\n\r\n[Self-documenting code][1] is generally preferable. \r\n\r\nBy the way, the technical term for adding methods that share a name is [*overloading*][2].\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Self-documenting_code\r\n  [2]: https://en.m.wikipedia.org/wiki/Function_overloading","title":"Is it okay to pass null/empty unused parameters to a method?","body":"<p>Either way is allowed. I have seen both used, even within the libraries bundled with Java.</p>\n<h1>Prefer overloading</h1>\n<pre><code>String getContent( String id , Boolean remove_tags ) {  }\nString getContent( String id ) {  }\n</code></pre>\n<p> Adding the second method with a single parameter has the benefit of clearly <strong>communicating that a single argument will succeed</strong>.</p>\n<p>With only the first method, the calling programmer cannot tell if passing a null for the second argument is allowed. She would have to study the Javadoc, or perhaps even the source code, to determine if a null will succeed.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Self-documenting_code\" rel=\"nofollow noreferrer\">Self-documenting code</a> is generally preferable.</p>\n<p>By the way, the technical term for adding methods that share a name is <a href=\"https://en.m.wikipedia.org/wiki/Function_overloading\" rel=\"nofollow noreferrer\"><em>overloading</em></a>.</p>\n"}],"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1641920335,"accepted_answer_id":70596024,"answer_count":1,"score":1,"last_activity_date":1641920377,"creation_date":1641398416,"question_id":70595908,"body_markdown":"I&#39;m trying to find what is the best practice to do in a similar case, say I have a method\r\n\r\n```\r\nString getContent(String id, Boolean remove_tags) {\r\n    \r\n}\r\n```\r\n\r\nThis has a long implementation, and I need the functionality but in some cases I don&#39;t want to send the second parameter, is the right practice for this case to pass it as **null** or to create a another method with only the first parameter and make that method return this one this way:\r\n\r\n``` \r\nString getContent(String id) {\r\n     return getContent(id, null);\r\n}\r\n```\r\n\r\nI&#39;ve read a suggestion in this question [here][1] to only pass it as a null.\r\n\r\nI might be making a big deal of *nothing*, but I&#39;ve tried to make a couple researches about such a topic and couldn&#39;t find something useful, so I need some opinions please about this! \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21205492/how-do-you-call-a-method-using-only-some-of-its-parameters#:~:text=You%20can%20pass,null%2C%20null%2C%20null\\)%3B","title":"Is it okay to pass null/empty unused parameters to a method?","body":"<p>I'm trying to find what is the best practice to do in a similar case, say I have a method</p>\n<pre><code>String getContent(String id, Boolean remove_tags) {\n    \n}\n</code></pre>\n<p>This has a long implementation, and I need the functionality but in some cases I don't want to send the second parameter, is the right practice for this case to pass it as <strong>null</strong> or to create a another method with only the first parameter and make that method return this one this way:</p>\n<pre><code>String getContent(String id) {\n     return getContent(id, null);\n}\n</code></pre>\n<p>I've read a suggestion in this question <a href=\"https://stackoverflow.com/questions/21205492/how-do-you-call-a-method-using-only-some-of-its-parameters#:%7E:text=You%20can%20pass,null%2C%20null%2C%20null)%3B\">here</a> to only pass it as a null.</p>\n<p>I might be making a big deal of <em>nothing</em>, but I've tried to make a couple researches about such a topic and couldn't find something useful, so I need some opinions please about this!</p>\n"},{"tags":["java","hibernate","maven","jboss","log4j"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1641822804,"post_id":70653381,"comment_id":124899778,"body_markdown":"Define the dependency to log4j 2.X in your own pom file with the version you like to use...","body":"Define the dependency to log4j 2.X in your own pom file with the version you like to use..."}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641920265,"creation_date":1641920265,"answer_id":70670586,"question_id":70653381,"body_markdown":"Those are all false positive CVE&#39;s. JBoss Logging is simply a logging facade that binds to loggers. It does nothing with the log manager so as long as the log manager you&#39;re using is safe, then you&#39;re safe.\r\n\r\nHibernate is NOT vulnerable to the CVE. JBoss Logging is not vulnerable to any of those CVE&#39;s either. JBoss Logging ONLY has a dependency on the `log4j-api` which is not vulnerable.","title":"How to fix log4j vulnerability in Hibernate Validator maven package","body":"<p>Those are all false positive CVE's. JBoss Logging is simply a logging facade that binds to loggers. It does nothing with the log manager so as long as the log manager you're using is safe, then you're safe.</p>\n<p>Hibernate is NOT vulnerable to the CVE. JBoss Logging is not vulnerable to any of those CVE's either. JBoss Logging ONLY has a dependency on the <code>log4j-api</code> which is not vulnerable.</p>\n"}],"owner":{"account_id":4708666,"reputation":1,"user_id":3809920,"display_name":"Eddie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641920265,"creation_date":1641822301,"question_id":70653381,"body_markdown":"I was wondering how to fix the vulnerability of log4j security issue called Log4Shell? On this [link][1] the author says that Hibernate Validator doesn&#39;t use log4j but jboss logging, however, when I look into the dependencies, it says that jboss logging uses log4j as a dependency.\r\n\r\nIn [mvnrepository][1] jboss logging shows the vulnerability.\r\n\r\nI am using the latest version of maven Hibernate Validator: 7.0.2.Final and this is getting jboss logging version 3.4.2.Final which is using log4j 2.14.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging/3.4.2.Final","title":"How to fix log4j vulnerability in Hibernate Validator maven package","body":"<p>I was wondering how to fix the vulnerability of log4j security issue called Log4Shell? On this <a href=\"https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging/3.4.2.Final\" rel=\"nofollow noreferrer\">link</a> the author says that Hibernate Validator doesn't use log4j but jboss logging, however, when I look into the dependencies, it says that jboss logging uses log4j as a dependency.</p>\n<p>In <a href=\"https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging/3.4.2.Final\" rel=\"nofollow noreferrer\">mvnrepository</a> jboss logging shows the vulnerability.</p>\n<p>I am using the latest version of maven Hibernate Validator: 7.0.2.Final and this is getting jboss logging version 3.4.2.Final which is using log4j 2.14.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641595677,"post_id":70627941,"comment_id":124854287,"body_markdown":"That&#39;s... complicated. `&quot;hello&quot;` and `&quot;hey&quot;` are both compile-time constants. For example, if both lines are written one after the other, the first constant might not even be created (due to compile time optimization). Furhtermore, all compile-time constants `&quot;hello&quot;` reference the same `String`-object (due to string interning). So if we have more than one compile-time constant `&quot;hello&quot;`, it is not be sufficient to only dereference one of them.","body":"That&#39;s... complicated. <code>&quot;hello&quot;</code> and <code>&quot;hey&quot;</code> are both compile-time constants. For example, if both lines are written one after the other, the first constant might not even be created (due to compile time optimization). Furhtermore, all compile-time constants <code>&quot;hello&quot;</code> reference the same <code>String</code>-object (due to string interning). So if we have more than one compile-time constant <code>&quot;hello&quot;</code>, it is not be sufficient to only dereference one of them."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641596498,"post_id":70627941,"comment_id":124854444,"body_markdown":"@Turing85 BINGO!!! I had forgotten that term &quot;compile-time&quot; constants. This is something I learned in Assembly Language. And yes... it is indeed complicated.","body":"@Turing85 BINGO!!! I had forgotten that term &quot;compile-time&quot; constants. This is something I learned in Assembly Language. And yes... it is indeed complicated."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641920243,"creation_date":1641596259,"answer_id":70628077,"question_id":70627941,"body_markdown":"&gt; As far as I remember, `x` now is a constant\r\n\r\nNo. The reference is not a constant. It is a reference to an immutable, but the reference itself (the &quot;pointer&quot;) is not (crediting Turing85 for the clarification). For `x` to be considered a constant, it needs to be declared with the keyword `final` (then the reference itself will be a constant). For example, `final String x = &quot;hello&quot;;`. Because it is not a constant, it allows you to change the reference later on in the code `x = &quot;hey&quot;;`. THAT SAID, because of how Java manages strings (and other immutables), &quot;hello&quot; and &quot;hey&quot; are indeed constants. They are &quot;permanent&quot; members of the String pool. Meaning that, their life cycle is the same as the life of your program. I think there are ways change this, but by default I am pretty sure this is the case. So, if you create multiple objects with the same `String` value:\r\n\r\n    String a = &quot;hello&quot;; // will add &quot;hello&quot; to String pool if it doesn&#39;t exist there\r\n    String b = &quot;hello&quot;; // finds &quot;hello&quot; in the string pool and returns back the same reference to this variable\r\n    String c = &quot;hello&quot;; // same as `b` above\r\n\r\nHowever, if you create a new `String` using the copy constructor:\r\n\r\n    String d = new String(&quot;hello&quot;); // Will add new &quot;hello&quot; to heap even though it already exist in string pool. (Thanks Holger!)\r\n\r\nExplaining in detail how the GC works is not very easy to explain; especially in a single SO post. I don&#39;t even fully understand it myself. But, since the purpose of the pool is to eliminate the need to create &quot;infinite&quot; copies of the same thing over and over, &quot;hello&quot; and &quot;hey&quot; won&#39;t be garbage-collected. As for the variable `x`, it will be handled by the GC depending on many factors, one of which is scope.  Also, there is no guarantee as to when (if ever) the GC will cleanup an unused resource.\r\n\r\nI think this is accurate, albeit somewhat ambiguous or incomplete. But at a high-level, this is how GC will work in this case to the best of my knowledge.\r\n\r\n**UPDATE**: Thanks to @Holger for bringing this to my attention. When a _String Literal_ is assigned to a variable, it will first look for such value in the **String Pool** to see if such string exists. If it doesn&#39;t, it creates it and assigns it to the variable. HOWEVER, when a string is created with the **`new`** operator, it will add the new string JUST into *Heap Memory*. That&#39;s the main difference between assigning string literals vs. new strings to a variable.","title":"Does the garbage collector count this as a collectable object?","body":"<blockquote>\n<p>As far as I remember, <code>x</code> now is a constant</p>\n</blockquote>\n<p>No. The reference is not a constant. It is a reference to an immutable, but the reference itself (the &quot;pointer&quot;) is not (crediting Turing85 for the clarification). For <code>x</code> to be considered a constant, it needs to be declared with the keyword <code>final</code> (then the reference itself will be a constant). For example, <code>final String x = &quot;hello&quot;;</code>. Because it is not a constant, it allows you to change the reference later on in the code <code>x = &quot;hey&quot;;</code>. THAT SAID, because of how Java manages strings (and other immutables), &quot;hello&quot; and &quot;hey&quot; are indeed constants. They are &quot;permanent&quot; members of the String pool. Meaning that, their life cycle is the same as the life of your program. I think there are ways change this, but by default I am pretty sure this is the case. So, if you create multiple objects with the same <code>String</code> value:</p>\n<pre><code>String a = &quot;hello&quot;; // will add &quot;hello&quot; to String pool if it doesn't exist there\nString b = &quot;hello&quot;; // finds &quot;hello&quot; in the string pool and returns back the same reference to this variable\nString c = &quot;hello&quot;; // same as `b` above\n</code></pre>\n<p>However, if you create a new <code>String</code> using the copy constructor:</p>\n<pre><code>String d = new String(&quot;hello&quot;); // Will add new &quot;hello&quot; to heap even though it already exist in string pool. (Thanks Holger!)\n</code></pre>\n<p>Explaining in detail how the GC works is not very easy to explain; especially in a single SO post. I don't even fully understand it myself. But, since the purpose of the pool is to eliminate the need to create &quot;infinite&quot; copies of the same thing over and over, &quot;hello&quot; and &quot;hey&quot; won't be garbage-collected. As for the variable <code>x</code>, it will be handled by the GC depending on many factors, one of which is scope.  Also, there is no guarantee as to when (if ever) the GC will cleanup an unused resource.</p>\n<p>I think this is accurate, albeit somewhat ambiguous or incomplete. But at a high-level, this is how GC will work in this case to the best of my knowledge.</p>\n<p><strong>UPDATE</strong>: Thanks to @Holger for bringing this to my attention. When a <em>String Literal</em> is assigned to a variable, it will first look for such value in the <strong>String Pool</strong> to see if such string exists. If it doesn't, it creates it and assigns it to the variable. HOWEVER, when a string is created with the <strong><code>new</code></strong> operator, it will add the new string JUST into <em>Heap Memory</em>. That's the main difference between assigning string literals vs. new strings to a variable.</p>\n"}],"owner":{"account_id":23864777,"reputation":11,"user_id":17867277,"display_name":"Hakafo_Farino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641920243,"creation_date":1641595204,"question_id":70627941,"body_markdown":"Given a string \r\n\r\n    String x = &quot;hello&quot;;\r\n\r\nAs far as I remember, `x` now is a constant with a reference but when in the middle of the code I change value to \r\n\r\n    x = &quot;hey&quot;;\r\n\r\n`hello` stays stuck in the memory and the GC frees it. Is it true ? If not, could you explain more how the GC work?","title":"Does the garbage collector count this as a collectable object?","body":"<p>Given a string</p>\n<pre><code>String x = &quot;hello&quot;;\n</code></pre>\n<p>As far as I remember, <code>x</code> now is a constant with a reference but when in the middle of the code I change value to</p>\n<pre><code>x = &quot;hey&quot;;\n</code></pre>\n<p><code>hello</code> stays stuck in the memory and the GC frees it. Is it true ? If not, could you explain more how the GC work?</p>\n"},{"tags":["java","selenium","testing","automated-tests","selenium-chromedriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1641899539,"post_id":70665773,"comment_id":124922657,"body_markdown":"I hope `ext/chromedriver` in `System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;ext/chromedriver&quot;)` is not a hardcoded string?","body":"I hope <code>ext&#47;chromedriver</code> in <code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;ext&#47;chromedriver&quot;)</code> is not a hardcoded string?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641920125,"creation_date":1641900820,"answer_id":70666087,"question_id":70665773,"body_markdown":"NoClassDefFoundError\r\n--------------------\r\n**`NoClassDefFoundError`** occurs when the _JVM_ is unable to find a particular class at runtime which was available at compile time. For example, if we have resolved a method call from a class or accessing any static member of a Class and that Class is not available during run-time then _JVM_ will throw `NoClassDefFoundError`.\r\n\r\nThe error you are seeing is :\r\n\r\n    java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\r\nThis clearly indicates that _Selenium_ is trying to resolve the particular class at runtime from _`org/openqa/selenium/WebDriver`_ which is no more available.\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nSolution :\r\n----------\r\nWithin the _`System.setProperty()`_ line you need to pass the absolute path of the [ChromeDriver](https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747) as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/complete/path/to/chromedriver&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver](https://stackoverflow.com/questions/47823506/exception-in-thread-main-java-lang-noclassdeffounderror-org-openqa-selenium-w/47845104#47845104)\r\n- [Selenium-TestNG-Maven - Getting &quot;java.lang.NoClassDefFoundError: org/openqa/selenium/firefox/FirefoxDriver&quot;](https://stackoverflow.com/questions/50730321/selenium-testng-maven-getting-java-lang-noclassdeffounderror-org-openqa-sele/50739624#50739624)\r\n- [java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap error using GeckoDriver Firefox through Selenium in Java](https://stackoverflow.com/questions/59319629/java-lang-noclassdeffounderror-com-google-common-collect-immutablemap-error-usi/59319773#59319773)","title":"NoClassDefFoundError with chromedriver","body":"<h2>NoClassDefFoundError</h2>\n<p><strong><code>NoClassDefFoundError</code></strong> occurs when the <em>JVM</em> is unable to find a particular class at runtime which was available at compile time. For example, if we have resolved a method call from a class or accessing any static member of a Class and that Class is not available during run-time then <em>JVM</em> will throw <code>NoClassDefFoundError</code>.</p>\n<p>The error you are seeing is :</p>\n<pre><code>java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n</code></pre>\n<p>This clearly indicates that <em>Selenium</em> is trying to resolve the particular class at runtime from <em><code>org/openqa/selenium/WebDriver</code></em> which is no more available.</p>\n<hr />\n<h2>Solution :</h2>\n<p>Within the <em><code>System.setProperty()</code></em> line you need to pass the absolute path of the <a href=\"https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747\">ChromeDriver</a> as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/complete/path/to/chromedriver&quot;);\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/47823506/exception-in-thread-main-java-lang-noclassdeffounderror-org-openqa-selenium-w/47845104#47845104\">Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50730321/selenium-testng-maven-getting-java-lang-noclassdeffounderror-org-openqa-sele/50739624#50739624\">Selenium-TestNG-Maven - Getting &quot;java.lang.NoClassDefFoundError: org/openqa/selenium/firefox/FirefoxDriver&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59319629/java-lang-noclassdeffounderror-com-google-common-collect-immutablemap-error-usi/59319773#59319773\">java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap error using GeckoDriver Firefox through Selenium in Java</a></li>\n</ul>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70666087,"answer_count":1,"score":1,"last_activity_date":1641920125,"creation_date":1641899357,"question_id":70665773,"body_markdown":"I get this error when I attempt to run a test using `chromedriver`:\r\n\r\n&gt;org.gradle.api.internal.tasks.testing.TestSuiteExecutionException: Could not complete execution for Gradle Test Executor 30.\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base@16.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@16.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base@16.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@16.0.1/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:111)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\t... 18 more\r\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = &#39;com.paulcarron.learningspringboot.learningspringboot.EndToEndTests&#39;] resolution failed\r\n\tat org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\r\n\tat org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:45)\r\n\tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\r\n\t... 25 more\r\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3334)\r\n\tat java.base/java.lang.Class.privateGetPublicMethods(Class.java:3359)\r\n\tat java.base/java.lang.Class.getMethods(Class.java:1990)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.getDefaultMethods(ReflectionUtils.java:1481)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:1454)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.findMethod(ReflectionUtils.java:1304)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.isMethodPresent(ReflectionUtils.java:1205)\r\n\tat org.junit.jupiter.engine.discovery.predicates.IsTestClassWithTests.hasTestOrTestFactoryOrTestTemplateMethods(IsTestClassWithTests.java:50)\r\n\tat org.junit.jupiter.engine.discovery.predicates.IsTestClassWithTests.test(IsTestClassWithTests.java:46)\r\n\tat org.junit.jupiter.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:67)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\r\n\t... 30 more\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\t... 54 more\r\n\r\nI deployed `chromedriver` to the ext folder and have the correct version for my browser. What would be causing this issue? It seems to be coming from the `@BeforeClass` which can be seen below:\r\n\r\n```Java\r\n@BeforeClass\r\npublic static void setUp() throws IOException {\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;ext/chromedriver&quot;);\r\n    service = createDefaultService();\r\n    driver = new ChromeDriver(service);\r\n    Path testResults = Paths.get(&quot;build&quot;, &quot;test-results&quot;);\r\n    if (!Files.exists(testResults)) {\r\n        Files.createDirectory(testResults);\r\n    }\r\n}\r\n```","title":"NoClassDefFoundError with chromedriver","body":"<p>I get this error when I attempt to run a test using <code>chromedriver</code>:</p>\n<blockquote>\n<p>org.gradle.api.internal.tasks.testing.TestSuiteExecutionException: Could not complete execution for Gradle Test Executor 30.\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\nat java.base@16.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base@16.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base@16.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base@16.0.1/java.lang.reflect.Method.invoke(Method.java:567)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\nat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\nat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\nat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:111)\nat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\nat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\nat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\nat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n... 18 more\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = 'com.paulcarron.learningspringboot.learningspringboot.EndToEndTests'] resolution failed\nat org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\nat org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:45)\nat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\nat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\n... 25 more\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3334)\nat java.base/java.lang.Class.privateGetPublicMethods(Class.java:3359)\nat java.base/java.lang.Class.getMethods(Class.java:1990)\nat org.junit.platform.commons.util.ReflectionUtils.getDefaultMethods(ReflectionUtils.java:1481)\nat org.junit.platform.commons.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:1454)\nat org.junit.platform.commons.util.ReflectionUtils.findMethod(ReflectionUtils.java:1304)\nat org.junit.platform.commons.util.ReflectionUtils.isMethodPresent(ReflectionUtils.java:1205)\nat org.junit.jupiter.engine.discovery.predicates.IsTestClassWithTests.hasTestOrTestFactoryOrTestTemplateMethods(IsTestClassWithTests.java:50)\nat org.junit.jupiter.engine.discovery.predicates.IsTestClassWithTests.test(IsTestClassWithTests.java:46)\nat org.junit.jupiter.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:67)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\nat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\nat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\nat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\n... 30 more\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n... 54 more</p>\n</blockquote>\n<p>I deployed <code>chromedriver</code> to the ext folder and have the correct version for my browser. What would be causing this issue? It seems to be coming from the <code>@BeforeClass</code> which can be seen below:</p>\n<pre><code>@BeforeClass\npublic static void setUp() throws IOException {\n\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;ext/chromedriver&quot;);\n    service = createDefaultService();\n    driver = new ChromeDriver(service);\n    Path testResults = Paths.get(&quot;build&quot;, &quot;test-results&quot;);\n    if (!Files.exists(testResults)) {\n        Files.createDirectory(testResults);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","completable-future"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641919868,"creation_date":1628784512,"answer_id":68760849,"question_id":68760773,"body_markdown":"If that&#39;s the only code in your `main`, the `main` method will most likely return (and end your program) before the async task has had a chance to run.\r\n\r\nJust add a `Thread.sleep(1000);` or something like that after your code and you should see the expected output.\r\n\r\nBut we don&#39;t really know how long we need to wait, so a more robust approach would be to use a synchronization mechanism, for example:\r\n\r\n    CountDownLatch done = new CountDownLatch(1);\r\n    CompletableFuture.runAsync(()-&gt;{\r\n      System.out.println(&quot;1st Task Completed&quot;);\r\n      done.countDown();\r\n    });\r\n    done.await();\r\n","title":"why runAsync method in CompletableFuture is not executing until unless we are calling get method on CompletableFuture?","body":"<p>If that's the only code in your <code>main</code>, the <code>main</code> method will most likely return (and end your program) before the async task has had a chance to run.</p>\n<p>Just add a <code>Thread.sleep(1000);</code> or something like that after your code and you should see the expected output.</p>\n<p>But we don't really know how long we need to wait, so a more robust approach would be to use a synchronization mechanism, for example:</p>\n<pre><code>CountDownLatch done = new CountDownLatch(1);\nCompletableFuture.runAsync(()-&gt;{\n  System.out.println(&quot;1st Task Completed&quot;);\n  done.countDown();\n});\ndone.await();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":460635,"reputation":11,"user_id":4807449,"display_name":"Ronnie Horo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628788454,"creation_date":1628788454,"answer_id":68761706,"question_id":68760773,"body_markdown":"The execution of the program occurs in parallel with the printing of the string which is an asynchronous execution(aka future). The call to the get() method, blocks the main thread and waits until the future is complete or throws an exception.\r\n\r\nIn the example that you have shared, the program exits before the string gets printed. Only for the sake of an example, CountDownLatch or a Thread.sleep() could be used. `get()` is sufficient for this use-case and personally, any other construct should be avoided.\r\n\r\nThere&#39;s an article, [CompletableFuture : A Simplified Guide to Async Programming][1], that is an interesting read and has simplified the usage of CompletableFuture\r\n\r\n\r\n  [1]: https://medium.com/swlh/completablefuture-a-simplified-guide-to-async-programming-41cecb162308","title":"why runAsync method in CompletableFuture is not executing until unless we are calling get method on CompletableFuture?","body":"<p>The execution of the program occurs in parallel with the printing of the string which is an asynchronous execution(aka future). The call to the get() method, blocks the main thread and waits until the future is complete or throws an exception.</p>\n<p>In the example that you have shared, the program exits before the string gets printed. Only for the sake of an example, CountDownLatch or a Thread.sleep() could be used. <code>get()</code> is sufficient for this use-case and personally, any other construct should be avoided.</p>\n<p>There's an article, <a href=\"https://medium.com/swlh/completablefuture-a-simplified-guide-to-async-programming-41cecb162308\" rel=\"nofollow noreferrer\">CompletableFuture : A Simplified Guide to Async Programming</a>, that is an interesting read and has simplified the usage of CompletableFuture</p>\n"}],"owner":{"account_id":8510160,"reputation":590,"user_id":6380454,"display_name":"Rajanikanta Pradhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1628795273,"accepted_answer_id":68760849,"answer_count":2,"score":0,"last_activity_date":1641919868,"creation_date":1628784177,"question_id":68760773,"body_markdown":"So ideally when we are using threading concept, it will run the task asynchronously,\r\nSo in the below snippet:\r\n\r\n      CompletableFuture result=  CompletableFuture.runAsync(()-&gt;{\r\n            System.out.println(&quot;1st Task Completed&quot;);\r\n\r\n        });\r\nWhile running this code in main method it is not printing &quot;1st Task Completed&quot; .\r\nif I will  put result.get() then it&#39;s printing &quot;1st Task Completed&quot;.\r\nSo is the task is is executing whenever we are calling get method ? \r\n","title":"why runAsync method in CompletableFuture is not executing until unless we are calling get method on CompletableFuture?","body":"<p>So ideally when we are using threading concept, it will run the task asynchronously,\nSo in the below snippet:</p>\n<pre><code>  CompletableFuture result=  CompletableFuture.runAsync(()-&gt;{\n        System.out.println(&quot;1st Task Completed&quot;);\n\n    });\n</code></pre>\n<p>While running this code in main method it is not printing &quot;1st Task Completed&quot; .\nif I will  put result.get() then it's printing &quot;1st Task Completed&quot;.\nSo is the task is is executing whenever we are calling get method ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":1,"creation_date":1487075952,"post_id":42226385,"comment_id":71612367,"body_markdown":"Do you know what the unencoded byte array should contain?  The only way to check is to unencode it and see if you get back what you had originally.","body":"Do you know what the unencoded byte array should contain?  The only way to check is to unencode it and see if you get back what you had originally."},{"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"score":0,"creation_date":1487081628,"post_id":42226385,"comment_id":71616177,"body_markdown":"You cannot distinguish between something that *looks* like Base64 and something that actually *is* Base64. You need to keep track of the metadata to be sure.","body":"You cannot distinguish between something that <i>looks</i> like Base64 and something that actually <i>is</i> Base64. You need to keep track of the metadata to be sure."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487076377,"creation_date":1487076377,"answer_id":42226589,"question_id":42226385,"body_markdown":"Base64-encoded strings have length divisible by 4, and consist of characters `A`-`Z`, `a`-`z`, `0`-`9`, `+`, and `/`. If your array of bytes has length that is not divisible by 4, or contains bytes that map to characters outside these ranges, then it does not represent a Base64-encoded string; otherwise, your array of bytes represents a valid Base-64 encoded string.","title":"How to check that byte array is Base64 encoded?","body":"<p>Base64-encoded strings have length divisible by 4, and consist of characters <code>A</code>-<code>Z</code>, <code>a</code>-<code>z</code>, <code>0</code>-<code>9</code>, <code>+</code>, and <code>/</code>. If your array of bytes has length that is not divisible by 4, or contains bytes that map to characters outside these ranges, then it does not represent a Base64-encoded string; otherwise, your array of bytes represents a valid Base-64 encoded string.</p>\n"},{"tags":[],"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1641919336,"creation_date":1487076515,"answer_id":42226640,"question_id":42226385,"body_markdown":"You can use apache&#39;s [Base64.isBase64(byte\\[\\])][1] method:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n    ...\r\n\r\n    boolean isBase64 = Base64.isBase64(bytes);\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#isBase64-byte:A-","title":"How to check that byte array is Base64 encoded?","body":"<p>You can use apache's <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#isBase64-byte:A-\" rel=\"nofollow noreferrer\">Base64.isBase64(byte[])</a> method:</p>\n<pre><code>import org.apache.commons.codec.binary.Base64;\n\n...\n\nboolean isBase64 = Base64.isBase64(bytes);\n</code></pre>\n"}],"owner":{"account_id":9297930,"reputation":77,"user_id":6904332,"accept_rate":40,"display_name":"Bear Bear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6055,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1641919336,"creation_date":1487075792,"question_id":42226385,"body_markdown":"How to check that byte array is Base64 encoded?\r\n\r\nI have an array of bytes, which I need to test if it is base64 encoded.","title":"How to check that byte array is Base64 encoded?","body":"<p>How to check that byte array is Base64 encoded?</p>\n\n<p>I have an array of bytes, which I need to test if it is base64 encoded.</p>\n"},{"tags":["java","multithreading","spring-boot","tomcat","threadpool"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641971937,"post_id":70670334,"comment_id":124944593,"body_markdown":"And how are you testing things? Running app and test on same machine? Running on seperate machines? How many connections to the database do you have? Do you have `open=-session-in-view-enabled`?","body":"And how are you testing things? Running app and test on same machine? Running on seperate machines? How many connections to the database do you have? Do you have <code>open=-session-in-view-enabled</code>?"},{"owner":{"account_id":13383913,"reputation":19,"user_id":9658381,"display_name":"Abhishek"},"score":0,"creation_date":1642004717,"post_id":70670334,"comment_id":124958708,"body_markdown":"I am using Jmeter to create load. Application is running in Kubernetees while testing is running on different VM. I have enabled 15 connection to database.  Session open enabled parameter is not added in my spring application","body":"I am using Jmeter to create load. Application is running in Kubernetees while testing is running on different VM. I have enabled 15 connection to database.  Session open enabled parameter is not added in my spring application"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642056364,"post_id":70670334,"comment_id":124971556,"body_markdown":"If that parameter isn&#39;t added it is enabled (by default), which means your handling is more or less limited by the number of connections you allow to your database.","body":"If that parameter isn&#39;t added it is enabled (by default), which means your handling is more or less limited by the number of connections you allow to your database."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642605951,"post_id":70670334,"comment_id":125116287,"body_markdown":"I don&#39;t know much about this, but I&#39;d expect Tomcat will configure the optimal amount of threads automatically.","body":"I don&#39;t know much about this, but I&#39;d expect Tomcat will configure the optimal amount of threads automatically."}],"owner":{"account_id":13383913,"reputation":19,"user_id":9658381,"display_name":"Abhishek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641919205,"creation_date":1641919205,"question_id":70670334,"body_markdown":"I have spring boot application with embedded tomcat and Java melody configured to it using dependency in pom.xml.\r\n\r\nI am doing performance testing for my application but problem is no matter how big load is i.e 30hits per second or 500hits per second. Number of threads in java melody in not going beyond 25-30.\r\n\r\nIs their any default configuration in spring boot which is limiting the threads opening or any resources depend like memory or cpu ? I am not using any thread configuration in my application which means by default it will have 200 threads if i am not wrong.\r\nPlease suggest.\r\nNote : I am running my application with 5gb memory and 2 vCPU.","title":"Thread configuration in spring boot with embedded tomcat","body":"<p>I have spring boot application with embedded tomcat and Java melody configured to it using dependency in pom.xml.</p>\n<p>I am doing performance testing for my application but problem is no matter how big load is i.e 30hits per second or 500hits per second. Number of threads in java melody in not going beyond 25-30.</p>\n<p>Is their any default configuration in spring boot which is limiting the threads opening or any resources depend like memory or cpu ? I am not using any thread configuration in my application which means by default it will have 200 threads if i am not wrong.\nPlease suggest.\nNote : I am running my application with 5gb memory and 2 vCPU.</p>\n"},{"tags":["java","spring","maven","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1557421133,"post_id":39542944,"comment_id":98768457,"body_markdown":"Had a &quot;sighting&quot; of this was overcome once by clearing the ~/.m2/repository dir...","body":"Had a &quot;sighting&quot; of this was overcome once by clearing the ~/.m2/repository dir..."}],"answers":[{"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1474102350,"creation_date":1474089128,"answer_id":39543067,"question_id":39542944,"body_markdown":"Your pom.xml should be like this. Include &quot;relativePath&quot; in parent.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.Inventory&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Master&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;Test&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath /&gt;      \r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd your java main class\r\n\r\n    package com.Inventory;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class TestApplication{\r\n\tpublic static void main(String[] args) {\r\n        System.out.println(&quot;----START----&quot;);\r\n        SpringApplication.run(TestApplication.class, args);\r\n      }\r\n    }\r\n","title":"spring-boot A required class was missing while executing org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage","body":"<p>Your pom.xml should be like this. Include \"relativePath\" in parent.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.Inventory&lt;/groupId&gt;\n&lt;artifactId&gt;Master&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;Test&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt;      \n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And your java main class</p>\n\n<pre><code>package com.Inventory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestApplication{\npublic static void main(String[] args) {\n    System.out.println(\"----START----\");\n    SpringApplication.run(TestApplication.class, args);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7653451,"reputation":167,"user_id":5801251,"accept_rate":25,"display_name":"Nilesh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579268400,"creation_date":1579268400,"answer_id":59788544,"question_id":39542944,"body_markdown":"In my case parent `spring-boot-starter-parent` dependencies was not compatible. After reducing it solves problem ","title":"spring-boot A required class was missing while executing org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage","body":"<p>In my case parent <code>spring-boot-starter-parent</code> dependencies was not compatible. After reducing it solves problem </p>\n"},{"tags":[],"owner":{"account_id":14105449,"reputation":297,"user_id":10189639,"display_name":"msashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641919146,"creation_date":1641918801,"answer_id":70670235,"question_id":39542944,"body_markdown":"I faced similar issue but for commons-logging while re-packaging with springboot starter parent version 2.1.6. \r\n\r\nTo fix this, I added dependency under plugin section for spring-boot-maven-plugin.\r\n\r\n        &lt;plugin&gt;\r\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                 &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;repackage&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                 &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n                 &lt;dependency&gt;\r\n                      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                      &lt;version&gt;1.2&lt;/version&gt;\r\n                 &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n       &lt;/plugin&gt;\r\nI&#39;d suspected corruption of jar and still feel adding dependency as above is not correct but after several attempts above option worked for me. ","title":"spring-boot A required class was missing while executing org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage","body":"<p>I faced similar issue but for commons-logging while re-packaging with springboot starter parent version 2.1.6.</p>\n<p>To fix this, I added dependency under plugin section for spring-boot-maven-plugin.</p>\n<pre><code>    &lt;plugin&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n       &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;executions&gt;\n             &lt;execution&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;repackage&lt;/goal&gt;\n                  &lt;/goals&gt;\n             &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n             &lt;dependency&gt;\n                  &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                  &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                  &lt;version&gt;1.2&lt;/version&gt;\n             &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n   &lt;/plugin&gt;\n</code></pre>\n<p>I'd suspected corruption of jar and still feel adding dependency as above is not correct but after several attempts above option worked for me.</p>\n"}],"owner":{"account_id":8888882,"reputation":1259,"user_id":6636242,"accept_rate":38,"display_name":"krs8888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12654,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1641919146,"creation_date":1474087626,"question_id":39542944,"body_markdown":"I am using eclipse to learn spring boot. I created a simple application but when i run it using `mvn spring-boot:run` I get error. I have a main class which \r\n\r\n    public static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;----START----&quot;);\r\n    \t\tSpringApplication.run(TestApplication.class, args);\r\n    }\r\n\r\nThis is what my pom looks like\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.Inventory&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Master&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Test&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\t\t\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThis is the error I am getting\r\n\r\n    \r\n    \r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.576 s\r\n    [INFO] Finished at: 2016-09-16T21:40:53-07:00\r\n    [INFO] Final Memory: 28M/265M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage (default) on project shipWireMaster: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: A required class was missing while executing org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage: org/springframework/asm/ClassVisitor\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/home/karan/.m2/repository/org/springframework/boot/spring-boot-maven-plugin/1.4.0.RELEASE/spring-boot-maven-plugin-1.4.0.RELEASE.jar\r\n    [ERROR] urls[1] = file:/home/karan/.m2/repository/org/springframework/boot/spring-boot-loader-tools/1.4.0.RELEASE/spring-boot-loader-tools-1.4.0.RELEASE.jar\r\n    [ERROR] urls[2] = file:/home/karan/.m2/repository/org/springframework/spring-core/4.3.2.RELEASE/spring-core-4.3.2.RELEASE.jar\r\n    [ERROR] urls[3] = file:/home/karan/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar\r\n    [ERROR] urls[4] = file:/home/karan/.m2/repository/org/apache/maven/maven-archiver/2.6/maven-archiver-2.6.jar\r\n    [ERROR] urls[5] = file:/home/karan/.m2/repository/org/apache/maven/shared/maven-shared-utils/0.7/maven-shared-utils-0.7.jar\r\n    [ERROR] urls[6] = file:/home/karan/.m2/repository/com/google/code/findbugs/jsr305/2.0.1/jsr305-2.0.1.jar\r\n    [ERROR] urls[7] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.21/plexus-interpolation-1.21.jar\r\n    [ERROR] urls[8] = file:/home/karan/.m2/repository/org/eclipse/aether/aether-util/1.0.2.v20150114/aether-util-1.0.2.v20150114.jar\r\n    [ERROR] urls[9] = file:/home/karan/.m2/repository/javax/enterprise/cdi-api/1.0/cdi-api-1.0.jar\r\n    [ERROR] urls[10] = file:/home/karan/.m2/repository/javax/annotation/jsr250-api/1.0/jsr250-api-1.0.jar\r\n    [ERROR] urls[11] = file:/home/karan/.m2/repository/org/sonatype/sisu/sisu-guice/3.1.0/sisu-guice-3.1.0-no_aop.jar\r\n    [ERROR] urls[12] = file:/home/karan/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar\r\n    [ERROR] urls[13] = file:/home/karan/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.0.0.M5/org.eclipse.sisu.inject-0.0.0.M5.jar\r\n    [ERROR] urls[14] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar\r\n    [ERROR] urls[15] = file:/home/karan/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\r\n    [ERROR] urls[16] = file:/home/karan/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\r\n    [ERROR] urls[17] = file:/home/karan/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/1.4/maven-common-artifact-filters-1.4.jar\r\n    [ERROR] urls[18] = file:/home/karan/.m2/repository/org/apache/xbean/xbean-reflect/3.4/xbean-reflect-3.4.jar\r\n    [ERROR] urls[19] = file:/home/karan/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar\r\n    [ERROR] urls[20] = file:/home/karan/.m2/repository/commons-logging/commons-logging-api/1.1/commons-logging-api-1.1.jar\r\n    [ERROR] urls[21] = file:/home/karan/.m2/repository/com/google/collections/google-collections/1.0/google-collections-1.0.jar\r\n    [ERROR] urls[22] = file:/home/karan/.m2/repository/junit/junit/4.12/junit-4.12.jar\r\n    [ERROR] urls[23] = file:/home/karan/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar\r\n    [ERROR] urls[24] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-archiver/2.8.1/plexus-archiver-2.8.1.jar\r\n    [ERROR] urls[25] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-io/2.3.2/plexus-io-2.3.2.jar\r\n    [ERROR] urls[26] = file:/home/karan/.m2/repository/org/apache/commons/commons-compress/1.9/commons-compress-1.9.jar\r\n    [ERROR] urls[27] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.20/plexus-utils-3.0.20.jar\r\n    [ERROR] urls[28] = file:/home/karan/.m2/repository/org/apache/maven/plugins/maven-shade-plugin/2.2/maven-shade-plugin-2.2.jar\r\n    [ERROR] urls[29] = file:/home/karan/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\r\n    [ERROR] urls[30] = file:/home/karan/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\r\n    [ERROR] urls[31] = file:/home/karan/.m2/repository/asm/asm/3.3.1/asm-3.3.1.jar\r\n    [ERROR] urls[32] = file:/home/karan/.m2/repository/asm/asm-commons/3.3.1/asm-commons-3.3.1.jar\r\n    [ERROR] urls[33] = file:/home/karan/.m2/repository/asm/asm-tree/3.3.1/asm-tree-3.3.1.jar\r\n    [ERROR] urls[34] = file:/home/karan/.m2/repository/org/jdom/jdom/1.1/jdom-1.1.jar\r\n    [ERROR] urls[35] = file:/home/karan/.m2/repository/org/apache/maven/shared/maven-dependency-tree/2.1/maven-dependency-tree-2.1.jar\r\n    [ERROR] urls[36] = file:/home/karan/.m2/repository/org/vafer/jdependency/0.7/jdependency-0.7.jar\r\n    [ERROR] urls[37] = file:/home/karan/.m2/repository/commons-io/commons-io/1.3.2/commons-io-1.3.2.jar\r\n    [ERROR] urls[38] = file:/home/karan/.m2/repository/asm/asm-analysis/3.2/asm-analysis-3.2.jar\r\n    [ERROR] urls[39] = file:/home/karan/.m2/repository/asm/asm-util/3.2/asm-util-3.2.jar\r\n    [ERROR] urls[40] = file:/home/karan/.m2/repository/com/google/guava/guava/18.0/guava-18.0.jar\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR] \r\n    [ERROR] -----------------------------------------------------: org.springframework.asm.ClassVisitor\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n\r\nHow do I resolve this ? I tried cleaning, installing and repackaging but nothing works","title":"spring-boot A required class was missing while executing org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage","body":"<p>I am using eclipse to learn spring boot. I created a simple application but when i run it using <code>mvn spring-boot:run</code> I get error. I have a main class which </p>\n\n<pre><code>public static void main(String[] args) {\n        System.out.println(\"----START----\");\n        SpringApplication.run(TestApplication.class, args);\n}\n</code></pre>\n\n<p>This is what my pom looks like</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.Inventory&lt;/groupId&gt;\n    &lt;artifactId&gt;Master&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;        \n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>This is the error I am getting</p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.576 s\n[INFO] Finished at: 2016-09-16T21:40:53-07:00\n[INFO] Final Memory: 28M/265M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage (default) on project shipWireMaster: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: A required class was missing while executing org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage: org/springframework/asm/ClassVisitor\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/home/karan/.m2/repository/org/springframework/boot/spring-boot-maven-plugin/1.4.0.RELEASE/spring-boot-maven-plugin-1.4.0.RELEASE.jar\n[ERROR] urls[1] = file:/home/karan/.m2/repository/org/springframework/boot/spring-boot-loader-tools/1.4.0.RELEASE/spring-boot-loader-tools-1.4.0.RELEASE.jar\n[ERROR] urls[2] = file:/home/karan/.m2/repository/org/springframework/spring-core/4.3.2.RELEASE/spring-core-4.3.2.RELEASE.jar\n[ERROR] urls[3] = file:/home/karan/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar\n[ERROR] urls[4] = file:/home/karan/.m2/repository/org/apache/maven/maven-archiver/2.6/maven-archiver-2.6.jar\n[ERROR] urls[5] = file:/home/karan/.m2/repository/org/apache/maven/shared/maven-shared-utils/0.7/maven-shared-utils-0.7.jar\n[ERROR] urls[6] = file:/home/karan/.m2/repository/com/google/code/findbugs/jsr305/2.0.1/jsr305-2.0.1.jar\n[ERROR] urls[7] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.21/plexus-interpolation-1.21.jar\n[ERROR] urls[8] = file:/home/karan/.m2/repository/org/eclipse/aether/aether-util/1.0.2.v20150114/aether-util-1.0.2.v20150114.jar\n[ERROR] urls[9] = file:/home/karan/.m2/repository/javax/enterprise/cdi-api/1.0/cdi-api-1.0.jar\n[ERROR] urls[10] = file:/home/karan/.m2/repository/javax/annotation/jsr250-api/1.0/jsr250-api-1.0.jar\n[ERROR] urls[11] = file:/home/karan/.m2/repository/org/sonatype/sisu/sisu-guice/3.1.0/sisu-guice-3.1.0-no_aop.jar\n[ERROR] urls[12] = file:/home/karan/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar\n[ERROR] urls[13] = file:/home/karan/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.0.0.M5/org.eclipse.sisu.inject-0.0.0.M5.jar\n[ERROR] urls[14] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar\n[ERROR] urls[15] = file:/home/karan/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\n[ERROR] urls[16] = file:/home/karan/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[17] = file:/home/karan/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/1.4/maven-common-artifact-filters-1.4.jar\n[ERROR] urls[18] = file:/home/karan/.m2/repository/org/apache/xbean/xbean-reflect/3.4/xbean-reflect-3.4.jar\n[ERROR] urls[19] = file:/home/karan/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar\n[ERROR] urls[20] = file:/home/karan/.m2/repository/commons-logging/commons-logging-api/1.1/commons-logging-api-1.1.jar\n[ERROR] urls[21] = file:/home/karan/.m2/repository/com/google/collections/google-collections/1.0/google-collections-1.0.jar\n[ERROR] urls[22] = file:/home/karan/.m2/repository/junit/junit/4.12/junit-4.12.jar\n[ERROR] urls[23] = file:/home/karan/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar\n[ERROR] urls[24] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-archiver/2.8.1/plexus-archiver-2.8.1.jar\n[ERROR] urls[25] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-io/2.3.2/plexus-io-2.3.2.jar\n[ERROR] urls[26] = file:/home/karan/.m2/repository/org/apache/commons/commons-compress/1.9/commons-compress-1.9.jar\n[ERROR] urls[27] = file:/home/karan/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.20/plexus-utils-3.0.20.jar\n[ERROR] urls[28] = file:/home/karan/.m2/repository/org/apache/maven/plugins/maven-shade-plugin/2.2/maven-shade-plugin-2.2.jar\n[ERROR] urls[29] = file:/home/karan/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\n[ERROR] urls[30] = file:/home/karan/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\n[ERROR] urls[31] = file:/home/karan/.m2/repository/asm/asm/3.3.1/asm-3.3.1.jar\n[ERROR] urls[32] = file:/home/karan/.m2/repository/asm/asm-commons/3.3.1/asm-commons-3.3.1.jar\n[ERROR] urls[33] = file:/home/karan/.m2/repository/asm/asm-tree/3.3.1/asm-tree-3.3.1.jar\n[ERROR] urls[34] = file:/home/karan/.m2/repository/org/jdom/jdom/1.1/jdom-1.1.jar\n[ERROR] urls[35] = file:/home/karan/.m2/repository/org/apache/maven/shared/maven-dependency-tree/2.1/maven-dependency-tree-2.1.jar\n[ERROR] urls[36] = file:/home/karan/.m2/repository/org/vafer/jdependency/0.7/jdependency-0.7.jar\n[ERROR] urls[37] = file:/home/karan/.m2/repository/commons-io/commons-io/1.3.2/commons-io-1.3.2.jar\n[ERROR] urls[38] = file:/home/karan/.m2/repository/asm/asm-analysis/3.2/asm-analysis-3.2.jar\n[ERROR] urls[39] = file:/home/karan/.m2/repository/asm/asm-util/3.2/asm-util-3.2.jar\n[ERROR] urls[40] = file:/home/karan/.m2/repository/com/google/guava/guava/18.0/guava-18.0.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------: org.springframework.asm.ClassVisitor\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n\n<p>How do I resolve this ? I tried cleaning, installing and repackaging but nothing works</p>\n"},{"tags":["java"],"owner":{"account_id":22679799,"reputation":179,"user_id":16850290,"display_name":"stacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641919129,"creation_date":1641919129,"question_id":70670313,"body_markdown":"I have a list of objects as follows.\r\n\r\n    List&lt;Map&lt;String, CustomObject&gt;&gt; xList = getData();\r\n\r\nxList&#39;s structure as follows. \r\n\r\n    [\r\n        {\r\n            ask: {\r\n                description: {\r\n                    pricing: &quot;200&quot;,\r\n                    // other key / values\r\n                }\r\n            },\r\n            // other key / values\r\n        },\r\n        {\r\n            description: {\r\n                pricing: &quot;500&quot;,\r\n                // other key / values\r\n            }\r\n            // other key / values\r\n        },\r\n        more objects\r\n    ]\r\n\r\nI am looking to change the value for the `pricing` key.\r\n\r\nThis key is meant to be used for sorting via another service and looking to hide actual value. \r\n\r\nThus for example if the pricing value for Object1 is 200 and Object2 is 500, I wish to modify the object / or create a copy as follows where the `pricing` value is ordered from the lowest:\r\n\r\n    [\r\n        {\r\n            ask: {\r\n                description: {\r\n                    pricing: &quot;1&quot;, // order 1 cos 200 is lower than 500\r\n                    // other key / values\r\n                }\r\n            },\r\n            // other key / values\r\n        },\r\n        {\r\n            ask: {\r\n                description: {\r\n                    pricing: &quot;2&quot;, // order 2 cos 500 is higher than 200\r\n                    // other key / values\r\n                }\r\n            },\r\n            // other key / values\r\n        },\r\n        more objects\r\n    ]\r\n\r\nBut for me to know the order value correctly, I am gonna need to know \r\n&lt;br/&gt;all the pricing values first before modifying anything.\r\n\r\nUnable to see how I could know all the `pricing` values and modify the values via a stream. Could I get some advice please. \r\n\r\nWas attempting something like the following but as said I can&#39;t be doing this without knowing all the pricing values first.\r\n\r\n    List&lt;Map&lt;String, CustomObject&gt;&gt; xList = getData();\r\n    \r\n    xList.stream().map(AllData::getAsk)\r\n            .map(map -&gt; map.get(&quot;description&quot;))\r\n            .map(stringObjectMap -&gt; stringObjectMap.get(&quot;pricing&quot;))\r\n\r\nor\r\n\r\n    for (CustomObject data : xList) {\r\n        Map&lt;String, Object&gt; map = data.getAsk().get(&quot;description&quot;);\r\n        int pricing = Integer.parseInt((String) map.get(&quot;pricing&quot;));\r\n    }","title":"Modify values in list of objects dependant on same key across all objects in list","body":"<p>I have a list of objects as follows.</p>\n<pre><code>List&lt;Map&lt;String, CustomObject&gt;&gt; xList = getData();\n</code></pre>\n<p>xList's structure as follows.</p>\n<pre><code>[\n    {\n        ask: {\n            description: {\n                pricing: &quot;200&quot;,\n                // other key / values\n            }\n        },\n        // other key / values\n    },\n    {\n        description: {\n            pricing: &quot;500&quot;,\n            // other key / values\n        }\n        // other key / values\n    },\n    more objects\n]\n</code></pre>\n<p>I am looking to change the value for the <code>pricing</code> key.</p>\n<p>This key is meant to be used for sorting via another service and looking to hide actual value.</p>\n<p>Thus for example if the pricing value for Object1 is 200 and Object2 is 500, I wish to modify the object / or create a copy as follows where the <code>pricing</code> value is ordered from the lowest:</p>\n<pre><code>[\n    {\n        ask: {\n            description: {\n                pricing: &quot;1&quot;, // order 1 cos 200 is lower than 500\n                // other key / values\n            }\n        },\n        // other key / values\n    },\n    {\n        ask: {\n            description: {\n                pricing: &quot;2&quot;, // order 2 cos 500 is higher than 200\n                // other key / values\n            }\n        },\n        // other key / values\n    },\n    more objects\n]\n</code></pre>\n<p>But for me to know the order value correctly, I am gonna need to know\n<br/>all the pricing values first before modifying anything.</p>\n<p>Unable to see how I could know all the <code>pricing</code> values and modify the values via a stream. Could I get some advice please.</p>\n<p>Was attempting something like the following but as said I can't be doing this without knowing all the pricing values first.</p>\n<pre><code>List&lt;Map&lt;String, CustomObject&gt;&gt; xList = getData();\n\nxList.stream().map(AllData::getAsk)\n        .map(map -&gt; map.get(&quot;description&quot;))\n        .map(stringObjectMap -&gt; stringObjectMap.get(&quot;pricing&quot;))\n</code></pre>\n<p>or</p>\n<pre><code>for (CustomObject data : xList) {\n    Map&lt;String, Object&gt; map = data.getAsk().get(&quot;description&quot;);\n    int pricing = Integer.parseInt((String) map.get(&quot;pricing&quot;));\n}\n</code></pre>\n"},{"tags":["java","tomcat","servlets","netbeans","web-applications"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1641972783,"post_id":70670311,"comment_id":124944875,"body_markdown":"The stack trace says: **jakarta**.servlet.ServletException: [...] NoClassDefFoundError: **javax** /servlet/http/HttpServlet. You have probably messed the dependencies, compiling against the older javax namespace but running with the newest jakarta namespace.","body":"The stack trace says: <b>jakarta</b>.servlet.ServletException: [...] NoClassDefFoundError: <b>javax</b> /servlet/http/HttpServlet. You have probably messed the dependencies, compiling against the older javax namespace but running with the newest jakarta namespace."},{"owner":{"account_id":20231718,"reputation":11,"user_id":14838088,"display_name":"Oussama"},"score":0,"creation_date":1642084489,"post_id":70670311,"comment_id":124982091,"body_markdown":"How do i fix it ?","body":"How do i fix it ?"}],"owner":{"account_id":20231718,"reputation":11,"user_id":14838088,"display_name":"Oussama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641919127,"creation_date":1641919127,"question_id":70670311,"body_markdown":"I am new to java web world and I am trying to deploy a simple web application using netbeans 12.3 .\r\nI started with a simple addition form in my index.html :\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Start Page&lt;/title&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;form action=&quot;add&quot; method=&quot;get&quot;&gt;\r\n                \r\n                Number 1 : &lt;input type=&quot;text&quot; name=&quot;no1&quot;&gt;  &lt;br&gt; &lt;br&gt;\r\n                \r\n                Number 2 : &lt;input type=&quot;text&quot; name=&quot;no2&quot;&gt; &lt;br&gt; &lt;br&gt;  \r\n                \r\n                &lt;input type=&quot;submit&quot; name=&quot;btnadd&quot; value=&quot;Add&quot; &gt; \r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere is my web.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app id=&quot;webapp&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;java.sun.com/xml/ns/j2ee java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;add&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;MyServlets.add&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;add&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;\r\n                20000\r\n            &lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    &lt;/web-app&gt; \r\n\r\nMy servlet add is inside the folder MyServlets in Sources Packages \r\nI am using Tomcat 10.0 to deploy the web project but when i m in the index page and i click the button add after entering the two numbers i get an error  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is how the files are organized in the project folder :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vMBSz.jpg\r\n  [2]: https://i.stack.imgur.com/vxU6b.jpg","title":"Error instantiating servlet class [MyServlets.add]","body":"<p>I am new to java web world and I am trying to deploy a simple web application using netbeans 12.3 .\nI started with a simple addition form in my index.html :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Start Page&lt;/title&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form action=&quot;add&quot; method=&quot;get&quot;&gt;\n            \n            Number 1 : &lt;input type=&quot;text&quot; name=&quot;no1&quot;&gt;  &lt;br&gt; &lt;br&gt;\n            \n            Number 2 : &lt;input type=&quot;text&quot; name=&quot;no2&quot;&gt; &lt;br&gt; &lt;br&gt;  \n            \n            &lt;input type=&quot;submit&quot; name=&quot;btnadd&quot; value=&quot;Add&quot; &gt; \n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my web.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app id=&quot;webapp&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;java.sun.com/xml/ns/j2ee java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;add&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;MyServlets.add&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;add&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            20000\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt; \n</code></pre>\n<p>My servlet add is inside the folder MyServlets in Sources Packages\nI am using Tomcat 10.0 to deploy the web project but when i m in the index page and i click the button add after entering the two numbers i get an error</p>\n<p><a href=\"https://i.stack.imgur.com/vMBSz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vMBSz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is how the files are organized in the project folder :</p>\n<p><a href=\"https://i.stack.imgur.com/vxU6b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxU6b.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","node.js","spring-boot","vaadin"],"answers":[{"tags":[],"owner":{"account_id":16265464,"reputation":31,"user_id":11745689,"display_name":"prussaq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610714042,"creation_date":1610631666,"answer_id":65720100,"question_id":64248583,"body_markdown":"The version of Node.js that comes with vaadin is the problem. Install the latest version of Node.js. Go to its installation directory copy node_modules folder and node.exe and replace those in C:\\Users\\~\\.vaadin\\node.","title":"Node.js error in Vaadin Spring Boot application","body":"<p>The version of Node.js that comes with vaadin is the problem. Install the latest version of Node.js. Go to its installation directory copy node_modules folder and node.exe and replace those in C:\\Users~.vaadin\\node.</p>\n"},{"tags":[],"owner":{"account_id":6732432,"reputation":1,"user_id":5188273,"display_name":"Rafa S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641919125,"creation_date":1641919125,"answer_id":70670308,"question_id":64248583,"body_markdown":"For me was help: \r\n1. install npm, \r\n2. add path to PATH \r\n3. restart console/ide.","title":"Node.js error in Vaadin Spring Boot application","body":"<p>For me was help:</p>\n<ol>\n<li>install npm,</li>\n<li>add path to PATH</li>\n<li>restart console/ide.</li>\n</ol>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2069,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641919125,"creation_date":1602088988,"question_id":64248583,"body_markdown":"Trying to run [Creating CRUD UI with Vaadin project][1] in `Intellij IDEA` thar contains following `build.gradle` :\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.3.2.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &quot;https://maven.vaadin.com/vaadin-addons&quot; }\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &#39;com.vaadin:vaadin-bom:14.3.9&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.vaadin:vaadin-spring-boot-starter&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n\r\nGot node problem while run project:\r\n\r\n    2020-10-07 19:01:42.637  INFO 8364 --- [           main] NodeInstaller                            : Installing node version v12.18.3\r\n    2020-10-07 19:01:42.637  INFO 8364 --- [           main] NodeInstaller                            : Downloading https://nodejs.org/dist/v12.18.3/node-v12.18.3-win-x64.zip to C:\\Users\\g\\.vaadin\\node-v12.18.3-win-x64.zip\r\n    2020-10-07 19:01:42.638  INFO 8364 --- [           main] ProxyConfig                              : No proxies configured\r\n    2020-10-07 19:01:42.638  INFO 8364 --- [           main] FileDownloader                           : No proxy was configured, downloading directly\r\n    2020-10-07 19:01:52.244  INFO 8364 --- [           main] NodeInstaller                            : Unpacking C:\\Users\\g\\.vaadin\\node-v12.18.3-win-x64.zip into C:\\Users\\g\\.vaadin\\node\\tmp\r\n    2020-10-07 19:01:54.523  INFO 8364 --- [           main] NodeInstaller                            : Copying node binary from C:\\Users\\g\\.vaadin\\node\\tmp\\node-v12.18.3-win-x64\\node.exe to C:\\Users\\g\\.vaadin\\node\\node.exe\r\n    2020-10-07 19:01:54.524  INFO 8364 --- [           main] NodeInstaller                            : Extracting NPM\r\n    2020-10-07 19:02:21.733  INFO 8364 --- [           main] NodeInstaller                            : Local node installation successful.\r\n    C:\\Users\\g\\.vaadin\\node\\node.exe: bad option: --no-update-notifier\r\n    C:\\Users\\g\\.vaadin\\node\\node.exe: bad option: --no-audit\r\n    C:\\Users\\g\\.vaadin\\node\\node.exe: bad option: --scripts-prepend-node-path=true\r\n    2020-10-07 19:02:22.336 ERROR 8364 --- [           main] dev-updater                              : Command `C:\\Users\\g\\.vaadin\\node\\node.exe --no-update-notifier --no-audit --scripts-prepend-node-path=true install` failed:\r\n    \r\n    2020-10-07 19:02:22.336 ERROR 8364 --- [           main] dev-updater                              : &gt;&gt;&gt; Dependency ERROR. Check that all required dependencies are deployed in npm repositories.\r\n    2020-10-07 19:02:22.340 ERROR 8364 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener]\r\n    \r\n    java.lang.RuntimeException: Unable to initialize Vaadin DevModeHandler\r\n\r\nHow to solve this problem?\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/crud-with-vaadin/","title":"Node.js error in Vaadin Spring Boot application","body":"<p>Trying to run <a href=\"https://spring.io/guides/gs/crud-with-vaadin/\" rel=\"nofollow noreferrer\">Creating CRUD UI with Vaadin project</a> in <code>Intellij IDEA</code> thar contains following <code>build.gradle</code> :</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.2.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n    maven { url &quot;https://maven.vaadin.com/vaadin-addons&quot; }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'com.vaadin:vaadin-bom:14.3.9'\n    }\n}\n\ndependencies {\n    implementation 'com.vaadin:vaadin-spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    runtimeOnly 'com.h2database:h2'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Got node problem while run project:</p>\n<pre><code>2020-10-07 19:01:42.637  INFO 8364 --- [           main] NodeInstaller                            : Installing node version v12.18.3\n2020-10-07 19:01:42.637  INFO 8364 --- [           main] NodeInstaller                            : Downloading https://nodejs.org/dist/v12.18.3/node-v12.18.3-win-x64.zip to C:\\Users\\g\\.vaadin\\node-v12.18.3-win-x64.zip\n2020-10-07 19:01:42.638  INFO 8364 --- [           main] ProxyConfig                              : No proxies configured\n2020-10-07 19:01:42.638  INFO 8364 --- [           main] FileDownloader                           : No proxy was configured, downloading directly\n2020-10-07 19:01:52.244  INFO 8364 --- [           main] NodeInstaller                            : Unpacking C:\\Users\\g\\.vaadin\\node-v12.18.3-win-x64.zip into C:\\Users\\g\\.vaadin\\node\\tmp\n2020-10-07 19:01:54.523  INFO 8364 --- [           main] NodeInstaller                            : Copying node binary from C:\\Users\\g\\.vaadin\\node\\tmp\\node-v12.18.3-win-x64\\node.exe to C:\\Users\\g\\.vaadin\\node\\node.exe\n2020-10-07 19:01:54.524  INFO 8364 --- [           main] NodeInstaller                            : Extracting NPM\n2020-10-07 19:02:21.733  INFO 8364 --- [           main] NodeInstaller                            : Local node installation successful.\nC:\\Users\\g\\.vaadin\\node\\node.exe: bad option: --no-update-notifier\nC:\\Users\\g\\.vaadin\\node\\node.exe: bad option: --no-audit\nC:\\Users\\g\\.vaadin\\node\\node.exe: bad option: --scripts-prepend-node-path=true\n2020-10-07 19:02:22.336 ERROR 8364 --- [           main] dev-updater                              : Command `C:\\Users\\g\\.vaadin\\node\\node.exe --no-update-notifier --no-audit --scripts-prepend-node-path=true install` failed:\n\n2020-10-07 19:02:22.336 ERROR 8364 --- [           main] dev-updater                              : &gt;&gt;&gt; Dependency ERROR. Check that all required dependencies are deployed in npm repositories.\n2020-10-07 19:02:22.340 ERROR 8364 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener]\n\njava.lang.RuntimeException: Unable to initialize Vaadin DevModeHandler\n</code></pre>\n<p>How to solve this problem?</p>\n"},{"tags":["java","spring","rabbitmq","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641919122,"creation_date":1641919122,"answer_id":70670306,"question_id":70662983,"body_markdown":"The mentioned `_ _ TypeId _ _` is used only for JSON message converters. So, if that really a case for you in the part what you really send from that producer, then you can take a look into the `AbstractJackson2MessageConverter.setJavaTypeMapper(Jackson2JavaTypeMapper)`. The default one `DefaultJackson2JavaTypeMapper` has a property like this:\r\n\r\n    public String getClassIdFieldName() {\r\n\t\treturn DEFAULT_CLASSID_FIELD_NAME;\r\n\t}\r\n\r\nWhich really is that mentioned above name:\r\n\r\n    public static final String DEFAULT_CLASSID_FIELD_NAME = &quot;__TypeId__&quot;;\r\n\r\nso, if you are able to extend this `DefaultJackson2JavaTypeMapper` and override that getter for your custom header mapper, then that `Jackson2JsonMessageConverter` can convert properly incoming JSON data into a desired type presented by your custom header. Then `@RabbitListener` would accept the value.\r\n\r\nBut you still need to be sure that `typePrecedence` on that mapper is set to `TYPE_ID`:\r\n\r\n    /**\r\n\t * Set the precedence for evaluating type information in message properties.\r\n\t * When using {@code @RabbitListener} at the method level, the framework attempts\r\n\t * to determine the target type for payload conversion from the method signature.\r\n\t * If so, this type is provided in the\r\n\t * {@link MessageProperties#getInferredArgumentType() inferredArgumentType}\r\n\t * message property.\r\n\t * &lt;p&gt;\r\n\t * By default, if the type is concrete (not abstract, not an interface), this will\r\n\t * be used ahead of type information provided in the {@code __TypeId__} and\r\n\t * associated headers provided by the sender.\r\n\t * &lt;p&gt;\r\n\t * If you wish to force the use of the  {@code __TypeId__} and associated headers\r\n\t * (such as when the actual type is a subclass of the method argument type),\r\n\t * set the precedence to {@link Jackson2JavaTypeMapper.TypePrecedence#TYPE_ID}.\r\n\t *\r\n\t * @param typePrecedence the precedence.\r\n\t * @since 1.6\r\n\t */\r\n\tpublic void setTypePrecedence(TypePrecedence typePrecedence) {\r\n\r\nOtherwise it consults the `@RabbitListener` method signature.\r\n\r\nSee more info in docs: https://docs.spring.io/spring-amqp/docs/current/reference/html/#Jackson2JsonMessageConverter-from-message","title":"How to change message type detection strategy?","body":"<p>The mentioned <code>_ _ TypeId _ _</code> is used only for JSON message converters. So, if that really a case for you in the part what you really send from that producer, then you can take a look into the <code>AbstractJackson2MessageConverter.setJavaTypeMapper(Jackson2JavaTypeMapper)</code>. The default one <code>DefaultJackson2JavaTypeMapper</code> has a property like this:</p>\n<pre><code>public String getClassIdFieldName() {\n    return DEFAULT_CLASSID_FIELD_NAME;\n}\n</code></pre>\n<p>Which really is that mentioned above name:</p>\n<pre><code>public static final String DEFAULT_CLASSID_FIELD_NAME = &quot;__TypeId__&quot;;\n</code></pre>\n<p>so, if you are able to extend this <code>DefaultJackson2JavaTypeMapper</code> and override that getter for your custom header mapper, then that <code>Jackson2JsonMessageConverter</code> can convert properly incoming JSON data into a desired type presented by your custom header. Then <code>@RabbitListener</code> would accept the value.</p>\n<p>But you still need to be sure that <code>typePrecedence</code> on that mapper is set to <code>TYPE_ID</code>:</p>\n<pre><code>/**\n * Set the precedence for evaluating type information in message properties.\n * When using {@code @RabbitListener} at the method level, the framework attempts\n * to determine the target type for payload conversion from the method signature.\n * If so, this type is provided in the\n * {@link MessageProperties#getInferredArgumentType() inferredArgumentType}\n * message property.\n * &lt;p&gt;\n * By default, if the type is concrete (not abstract, not an interface), this will\n * be used ahead of type information provided in the {@code __TypeId__} and\n * associated headers provided by the sender.\n * &lt;p&gt;\n * If you wish to force the use of the  {@code __TypeId__} and associated headers\n * (such as when the actual type is a subclass of the method argument type),\n * set the precedence to {@link Jackson2JavaTypeMapper.TypePrecedence#TYPE_ID}.\n *\n * @param typePrecedence the precedence.\n * @since 1.6\n */\npublic void setTypePrecedence(TypePrecedence typePrecedence) {\n</code></pre>\n<p>Otherwise it consults the <code>@RabbitListener</code> method signature.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#Jackson2JsonMessageConverter-from-message\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#Jackson2JsonMessageConverter-from-message</a></p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70670306,"answer_count":1,"score":0,"last_activity_date":1641919122,"creation_date":1641885813,"question_id":70662983,"body_markdown":"Im using a custom RabbitMQ client in application A and `Spring Amqp Library` in application B.\r\nIve faced with a problem: How to decide witch `@RabbitListener` to use for different message types?\r\n\r\nProblem:\r\n I send custom messages from app A to app B. In a message I set custom header type - its not a default property and not a default Spring Amqp Header (which is _ _ TypeId _ _) - just a new custom header.\r\n\r\nIn application B (spring amqp) I have to decide which listener to use. As I understood, Spring Amqp uses _ _ TypeId _ _ as a default mechanism of message type detection strategy (I dont know how to call it properly), but I wanna use my own strategy.\r\n\r\nIve found the next trick, but it seems quite strange and not obvious:\r\n```java\r\nprivate void determineMessageType(Message message) {\r\n    MessageProperties props = message.getMessageProperties();\r\n    Map&lt;String, Object&gt; headers = props.getHeaders();\r\n    final String type = String.valueOf(headers.get(&quot;type&quot;));\r\n    if (&quot;popularity-report&quot;.equals(type)) {\r\n        props.getHeaders().put(&quot;__TypeId__&quot;,\r\n                PopularityReportCommand.class.getName());\r\n    } \r\n}\r\n```\r\nCan I use custom type detection strategy for Spring Amqp application somehow? Or how to solve these the problem properly in Spring Amqp?\r\n","title":"How to change message type detection strategy?","body":"<p>Im using a custom RabbitMQ client in application A and <code>Spring Amqp Library</code> in application B.\nIve faced with a problem: How to decide witch <code>@RabbitListener</code> to use for different message types?</p>\n<p>Problem:\nI send custom messages from app A to app B. In a message I set custom header type - its not a default property and not a default Spring Amqp Header (which is _ _ TypeId _ _) - just a new custom header.</p>\n<p>In application B (spring amqp) I have to decide which listener to use. As I understood, Spring Amqp uses _ _ TypeId _ _ as a default mechanism of message type detection strategy (I dont know how to call it properly), but I wanna use my own strategy.</p>\n<p>Ive found the next trick, but it seems quite strange and not obvious:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void determineMessageType(Message message) {\n    MessageProperties props = message.getMessageProperties();\n    Map&lt;String, Object&gt; headers = props.getHeaders();\n    final String type = String.valueOf(headers.get(&quot;type&quot;));\n    if (&quot;popularity-report&quot;.equals(type)) {\n        props.getHeaders().put(&quot;__TypeId__&quot;,\n                PopularityReportCommand.class.getName());\n    } \n}\n</code></pre>\n<p>Can I use custom type detection strategy for Spring Amqp application somehow? Or how to solve these the problem properly in Spring Amqp?</p>\n"},{"tags":["java","jackson","gmail","gmail-api","jackson2"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1613604591,"creation_date":1613601137,"answer_id":66250911,"question_id":66249053,"body_markdown":"Look up the [API documentation of class `JacksonFactory`][1].\r\nIt tells you what to do:\r\n\r\n&gt; **Deprecated.**  \r\n  use com.google.api.client.json.GsonFactory instead \r\n\r\nLooking into the [API documentation of class `GsonFactory`][2]\r\nyou see, its API methods are compatible to those of `JacksonFactory`,\r\nsince both extend from the same superclass `JsonFactory`.\r\n(Only their internal implementations are different, of course.)\r\n\r\nTherefore it is simple to change your code. Just to replace the line\r\n\r\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\r\nby \r\n\r\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n\r\n [1]: https://googleapis.dev/java/google-http-client/latest/com/google/api/client/json/jackson2/JacksonFactory.html\r\n [2]: https://googleapis.dev/java/google-http-client/latest/com/google/api/client/json/gson/GsonFactory.html\r\n ","title":"&#39;com.google.api.client.json.jackson2.JacksonFactory&#39; is deprecated. What are my options?","body":"<p>Look up the <a href=\"https://googleapis.dev/java/google-http-client/latest/com/google/api/client/json/jackson2/JacksonFactory.html\" rel=\"noreferrer\">API documentation of class <code>JacksonFactory</code></a>.\nIt tells you what to do:</p>\n<blockquote>\n<p><strong>Deprecated.</strong><br />\nuse com.google.api.client.json.GsonFactory instead</p>\n</blockquote>\n<p>Looking into the <a href=\"https://googleapis.dev/java/google-http-client/latest/com/google/api/client/json/gson/GsonFactory.html\" rel=\"noreferrer\">API documentation of class <code>GsonFactory</code></a>\nyou see, its API methods are compatible to those of <code>JacksonFactory</code>,\nsince both extend from the same superclass <code>JsonFactory</code>.\n(Only their internal implementations are different, of course.)</p>\n<p>Therefore it is simple to change your code. Just to replace the line</p>\n<pre><code>private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n</code></pre>\n<p>by</p>\n<pre><code>private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21179689,"reputation":31,"user_id":15574329,"display_name":"dashdee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641919017,"creation_date":1641919017,"answer_id":70670274,"question_id":66249053,"body_markdown":"The actual class is com.google.api.client.json.**gson.**GsonFactory.  The deprecation message is missing &quot;.gson&quot;.","title":"&#39;com.google.api.client.json.jackson2.JacksonFactory&#39; is deprecated. What are my options?","body":"<p>The actual class is com.google.api.client.json.**gson.**GsonFactory.  The deprecation message is missing &quot;.gson&quot;.</p>\n"}],"owner":{"account_id":20696255,"reputation":137,"user_id":15196371,"display_name":"ANWESH MOHAPATRA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9428,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":66250911,"answer_count":2,"score":13,"last_activity_date":1641919017,"creation_date":1613591607,"question_id":66249053,"body_markdown":"While following the [Gmail API java quickstart guide][1]  I came across this code snippet:&lt;br&gt;\r\n\r\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\r\n Using it in the editor gave me a warning that it is deprecated. What are my options?\r\n\r\n\r\n  [1]: https://developers.google.com/gmail/api/quickstart/java","title":"&#39;com.google.api.client.json.jackson2.JacksonFactory&#39; is deprecated. What are my options?","body":"<p>While following the <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"noreferrer\">Gmail API java quickstart guide</a>  I came across this code snippet:<br></p>\n<pre><code>private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n</code></pre>\n<p>Using it in the editor gave me a warning that it is deprecated. What are my options?</p>\n"},{"tags":["java","javafx","launch"],"comments":[{"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"score":1,"creation_date":1498838655,"post_id":44850645,"comment_id":76682088,"body_markdown":"make `MainGUI extends Application` instead of `PlayerScreen`.","body":"make <code>MainGUI extends Application</code> instead of <code>PlayerScreen</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1498838790,"post_id":44850645,"comment_id":76682166,"body_markdown":"Just omit `PlayerScreen screen = new PlayerScreen()`, and call `Application.launch(PlayerScreen.class, args);` (which will instantiate `PlayerScreen` for you). (It&#39;s not really clear what separation you are trying to achieve by having the two different classes here.)","body":"Just omit <code>PlayerScreen screen = new PlayerScreen()</code>, and call <code>Application.launch(PlayerScreen.class, args);</code> (which will instantiate <code>PlayerScreen</code> for you). (It&#39;s not really clear what separation you are trying to achieve by having the two different classes here.)"},{"owner":{"account_id":11158303,"reputation":21,"user_id":8189324,"display_name":"mark119"},"score":0,"creation_date":1498839111,"post_id":44850645,"comment_id":76682363,"body_markdown":"@James_D thanks, that worked. I need to have two classes because MainGui also has to show two other stages. (You can write it as an answer so you get the points by the way)","body":"@James_D thanks, that worked. I need to have two classes because MainGui also has to show two other stages. (You can write it as an answer so you get the points by the way)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1498839135,"post_id":44850645,"comment_id":76682377,"body_markdown":"But in that case, `PlayerScreen` should **not** be a subclass of application. The `Application` subclass (there should only be one) is supposed to represent the entire application. Even with the fix I suggested, you still have this hugely misconfigured.","body":"But in that case, <code>PlayerScreen</code> should <b>not</b> be a subclass of application. The <code>Application</code> subclass (there should only be one) is supposed to represent the entire application. Even with the fix I suggested, you still have this hugely misconfigured."}],"answers":[{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498838719,"creation_date":1498838719,"answer_id":44850733,"question_id":44850645,"body_markdown":"make `MainGUI extends Application` instead of `PlayerScreen`.\r\n\r\nin Application methods start() is called on the special thread which should be used for all UI interactions. Also, Application prepared first `Stage` for you. So you don&#39;t need to explicitly create it.","title":"Java Application this operation is permitted on the event thread only Error","body":"<p>make <code>MainGUI extends Application</code> instead of <code>PlayerScreen</code>.</p>\n\n<p>in Application methods start() is called on the special thread which should be used for all UI interactions. Also, Application prepared first <code>Stage</code> for you. So you don't need to explicitly create it.</p>\n"},{"tags":[],"owner":{"account_id":14551298,"reputation":331,"user_id":10510070,"display_name":"Ahmad Ellamey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641912457,"creation_date":1641912457,"answer_id":70668724,"question_id":44850645,"body_markdown":"you Should use Platform.runLater(()-&gt;{//code here})","title":"Java Application this operation is permitted on the event thread only Error","body":"<p>you Should use Platform.runLater(()-&gt;{//code here})</p>\n"}],"owner":{"account_id":11158303,"reputation":21,"user_id":8189324,"display_name":"mark119"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8551,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641918824,"creation_date":1498838455,"question_id":44850645,"body_markdown":"I have the class `PlayerScreen` that creates the graphics of a class and i want to run it from the class `MainGUI` but i keep getting ` java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main` \r\n\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n\r\n    public class PlayerScreen extends Application {\r\n    \t@Override\r\n\t    public void start(Stage primaryStage){\r\n\t\t    primaryStage.setTitle(&quot;Player Screen&quot;);\r\n\t\t    primaryStage.show();\r\n\t    }\r\n\t     public static void main(String[] args) {\r\n\t            launch(args);\r\n\t        }\r\n    }\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n\r\n    public class MainGUI {\r\n\t    private static Stage stage = new Stage();\r\n\t    public static void main(String[] args) {\r\n\t\t     PlayerScreen screen = new PlayerScreen();\r\n\t\t     PlayerScreen.launch(args);\r\n\t        }\r\n\t    public Stage getStage() {\r\n\t\t    return stage;\r\n\t    }\r\n\t    public void setStage(Stage stage) {\r\n\t\t    MainGUI.stage = stage;\r\n\t    }\r\n    }\r\nI have tried instead of `PlayerScreen.launch(args);` with `screen.launch(args);` and `Application.launch(args);` but i keep getting the same error. There is another `launch` method that includes the class but i don&#39;t know what to put in the second variable `Application.launch(MainGUI.class, args);` `args` is not accepted","title":"Java Application this operation is permitted on the event thread only Error","body":"<p>I have the class <code>PlayerScreen</code> that creates the graphics of a class and i want to run it from the class <code>MainGUI</code> but i keep getting <code>java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main</code> </p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.stage.Stage;\n\npublic class PlayerScreen extends Application {\n    @Override\n    public void start(Stage primaryStage){\n        primaryStage.setTitle(\"Player Screen\");\n        primaryStage.show();\n    }\n     public static void main(String[] args) {\n            launch(args);\n        }\n}\nimport javafx.application.Application;\nimport javafx.stage.Stage;\n\npublic class MainGUI {\n    private static Stage stage = new Stage();\n    public static void main(String[] args) {\n         PlayerScreen screen = new PlayerScreen();\n         PlayerScreen.launch(args);\n        }\n    public Stage getStage() {\n        return stage;\n    }\n    public void setStage(Stage stage) {\n        MainGUI.stage = stage;\n    }\n}\n</code></pre>\n\n<p>I have tried instead of <code>PlayerScreen.launch(args);</code> with <code>screen.launch(args);</code> and <code>Application.launch(args);</code> but i keep getting the same error. There is another <code>launch</code> method that includes the class but i don't know what to put in the second variable <code>Application.launch(MainGUI.class, args);</code> <code>args</code> is not accepted</p>\n"},{"tags":["java","sorting","hashmap","parallelstream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1641247132,"post_id":70571855,"comment_id":124752274,"body_markdown":"Why don&#39;t you just `return Double.compare(sortableValue1, sortableValue2);`?","body":"Why don&#39;t you just <code>return Double.compare(sortableValue1, sortableValue2);</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641247178,"post_id":70571855,"comment_id":124752286,"body_markdown":"What is `getSortableValue` doing? Perhaps that is your bottleneck.","body":"What is <code>getSortableValue</code> doing? Perhaps that is your bottleneck."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1641247194,"post_id":70571855,"comment_id":124752295,"body_markdown":"Or you could simplify even further: `Comparator&lt;MyObject&gt; SortableValueComparator = Comparator.comparingDouble(MyObject::getSortableValue));`","body":"Or you could simplify even further: <code>Comparator&lt;MyObject&gt; SortableValueComparator = Comparator.comparingDouble(MyObject::getSortableValue));</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1641247330,"post_id":70571855,"comment_id":124752342,"body_markdown":"You say it works fine yet you show an exception stack trace? Im confused.","body":"You say it works fine yet you show an exception stack trace? Im confused."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1641247382,"post_id":70571855,"comment_id":124752363,"body_markdown":"For the Comparator error use Comparator.comparingDouble. for parallel sorting look at the Arrays class, there is a parallelSort method.","body":"For the Comparator error use Comparator.comparingDouble. for parallel sorting look at the Arrays class, there is a parallelSort method."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1641249647,"post_id":70571855,"comment_id":124752962,"body_markdown":"@NathanHughes I think he&#39;s trying to sort multiple lists in parallel, not parallel sort one list.","body":"@NathanHughes I think he&#39;s trying to sort multiple lists in parallel, not parallel sort one list."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641250574,"post_id":70571855,"comment_id":124753154,"body_markdown":"@shmosel thanks for your reply! I have tried that as well, and I get an error still even using `return Double.compare(clickRate2, clickRate1);`. I will try your suggestion of trying to simplify further!!","body":"@shmosel thanks for your reply! I have tried that as well, and I get an error still even using <code>return Double.compare(clickRate2, clickRate1);</code>. I will try your suggestion of trying to simplify further!!"},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641250626,"post_id":70571855,"comment_id":124753166,"body_markdown":"@BasilBourque sorry, edited my post to make it clearer. A single threaded for loop works fine, but I want to sort multiple lists in parallel.","body":"@BasilBourque sorry, edited my post to make it clearer. A single threaded for loop works fine, but I want to sort multiple lists in parallel."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641250674,"post_id":70571855,"comment_id":124753178,"body_markdown":"@NathanHughes, as shmosel has said I am trying to sort multiple Lists in parallel. Thank you shmosel.","body":"@NathanHughes, as shmosel has said I am trying to sort multiple Lists in parallel. Thank you shmosel."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641251506,"post_id":70571855,"comment_id":124753349,"body_markdown":"@BasilBourque getSortableValue is getting the double value from the object to compare. I want to sort the list descending, using the sortableValue. It should not be too intense as the object has already been passed to the comparator, but I would take any advice at this point. :)","body":"@BasilBourque getSortableValue is getting the double value from the object to compare. I want to sort the list descending, using the sortableValue. It should not be too intense as the object has already been passed to the comparator, but I would take any advice at this point. :)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641252456,"post_id":70571855,"comment_id":124753528,"body_markdown":"(A) Is `getSortableValue` a simple getter method? (B) Is that method returning a `Double` object or a `double ` primitive? Avoiding unnecessary auto-boxing would help performance.","body":"(A) Is <code>getSortableValue</code> a simple getter method? (B) Is that method returning a <code>Double</code> object or a <code>double </code> primitive? Avoiding unnecessary auto-boxing would help performance."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641253198,"post_id":70571855,"comment_id":124753647,"body_markdown":"@BasilBourque in both cases I am using the `Double` object. I did not know that about autoboxing, so I appreciate that nugget!","body":"@BasilBourque in both cases I am using the <code>Double</code> object. I did not know that about autoboxing, so I appreciate that nugget!"},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641253311,"post_id":70571855,"comment_id":124753668,"body_markdown":"@user16320675 no sir, nothing outside of what you see in the code there.","body":"@user16320675 no sir, nothing outside of what you see in the code there."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641253661,"post_id":70571855,"comment_id":124753718,"body_markdown":"@user16320675 I&#39;m happy to make edits if there is something specific you need to see, from my limited understanding, this should be all the info needed? I am also &#39;generalizing&#39; the code so it&#39;s not exactly what I have.","body":"@user16320675 I&#39;m happy to make edits if there is something specific you need to see, from my limited understanding, this should be all the info needed? I am also &#39;generalizing&#39; the code so it&#39;s not exactly what I have."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1641279881,"post_id":70571855,"comment_id":124757767,"body_markdown":"What looks strange is that `TimSort.mergeLo()` / `TimSort.mergeHi()` (where the exception is thrown) is only ever executed when the size of the list to be sorted is greater or equal to `TimSort.MIN_MERGE` (which is 32). If all of your `List&lt;MyObject&gt;` have sizes from 1 to 10 then that code should never be executed...","body":"What looks strange is that <code>TimSort.mergeLo()</code> / <code>TimSort.mergeHi()</code> (where the exception is thrown) is only ever executed when the size of the list to be sorted is greater or equal to <code>TimSort.MIN_MERGE</code> (which is 32). If all of your <code>List&lt;MyObject&gt;</code> have sizes from 1 to 10 then that code should never be executed..."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641322730,"post_id":70571855,"comment_id":124774068,"body_markdown":"All thanks for your help!! I am working on this this week, and hopefully can come back with some updates. @ThomasKl&#228;ger I didn&#39;t notice that, and as I&#39;ve gone back and worked on suggestions from this thread I discovered that I am over-building `List&lt;MyObject&gt;` for MANY of the lists, and there are huge amounts of duplicates! My next step is to address that problem, but your insight here is actually very helpful and I will keep an eye out for `List&lt;MyObject&gt;` &gt; 32 after I have done that.","body":"All thanks for your help!! I am working on this this week, and hopefully can come back with some updates. @ThomasKl&#228;ger I didn&#39;t notice that, and as I&#39;ve gone back and worked on suggestions from this thread I discovered that I am over-building <code>List&lt;MyObject&gt;</code> for MANY of the lists, and there are huge amounts of duplicates! My next step is to address that problem, but your insight here is actually very helpful and I will keep an eye out for <code>List&lt;MyObject&gt;</code> &gt; 32 after I have done that."},{"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"score":0,"creation_date":1641918657,"post_id":70571855,"comment_id":124931039,"body_markdown":"Hey all, it works. simply needed to use `stream()` instead of `parallelStream()`. I appreciate all your effort to help me troubleshoot this as I&#39;m learning how to do more software development. Cheers.","body":"Hey all, it works. simply needed to use <code>stream()</code> instead of <code>parallelStream()</code>. I appreciate all your effort to help me troubleshoot this as I&#39;m learning how to do more software development. Cheers."}],"answers":[{"tags":[],"owner":{"account_id":6528327,"reputation":84,"user_id":5050346,"display_name":"Chris Ebert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641248646,"creation_date":1641248646,"answer_id":70572101,"question_id":70571855,"body_markdown":"best to put a breakpoint where the exception is thrown and check the values being compared. Then write a unit test that checks what happens when those values are passed in to the comparator + how the result compares with &#39;equals&#39; on the same two objects.\r\nIt is *very* likely that your comparator is returning a 0 value for objects that are not also &#39;equal&#39; - i.e. the implementation of &#39;equals&#39; on MyObject compares something other than the sortableValue. This causes problems when merging collections.\r\n\r\nSo, set a breakpoint, see what values are breaking the contract, capture it in a test or two. Once you&#39;ve figured it out, it might be that you&#39;ll have to add some additional fields (if you don&#39;t have control of &#39;equals&#39; or this is existing code you mustn&#39;t change that way) to your comparator to make the &#39;equals&#39; match.\r\n\r\n","title":"Trying to use Map.values().parallelStream().forEach(list -&gt; list.sort(comparator)) but get error: &quot;Comparison method violates its general contract!&quot;","body":"<p>best to put a breakpoint where the exception is thrown and check the values being compared. Then write a unit test that checks what happens when those values are passed in to the comparator + how the result compares with 'equals' on the same two objects.\nIt is <em>very</em> likely that your comparator is returning a 0 value for objects that are not also 'equal' - i.e. the implementation of 'equals' on MyObject compares something other than the sortableValue. This causes problems when merging collections.</p>\n<p>So, set a breakpoint, see what values are breaking the contract, capture it in a test or two. Once you've figured it out, it might be that you'll have to add some additional fields (if you don't have control of 'equals' or this is existing code you mustn't change that way) to your comparator to make the 'equals' match.</p>\n"},{"tags":[],"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641918732,"creation_date":1641918732,"answer_id":70670219,"question_id":70571855,"body_markdown":"Instead of using \r\n\r\n    Map.values().parallelStream().forEach(list -&gt; list.sort(comparator))\r\nI used \r\n\r\n    Map.values().Stream().forEach(list -&gt; list.sort(comparator))\r\n\r\nand it worked! ","title":"Trying to use Map.values().parallelStream().forEach(list -&gt; list.sort(comparator)) but get error: &quot;Comparison method violates its general contract!&quot;","body":"<p>Instead of using</p>\n<pre><code>Map.values().parallelStream().forEach(list -&gt; list.sort(comparator))\n</code></pre>\n<p>I used</p>\n<pre><code>Map.values().Stream().forEach(list -&gt; list.sort(comparator))\n</code></pre>\n<p>and it worked!</p>\n"}],"owner":{"account_id":8277013,"reputation":11,"user_id":8882127,"display_name":"Sam P"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70670219,"answer_count":2,"score":0,"last_activity_date":1641918732,"creation_date":1641246766,"question_id":70571855,"body_markdown":"I am trying to use multi-threading to sort arrays that are stored in a map. There are a large amount of records, ~3.1 million, and thus while I am attempting to sort these records in a single threaded for loop it takes many hours to complete. I&#39;m hoping to get this time down as much as possible, ideally within a few minutes (please don&#39;t laugh!). \r\n\r\nStacktrace:\r\n----------\r\n\r\n        Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:562)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:591)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:689)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:765)\r\n    \tat com.salesforce.process.Process.startProcess(Process.java:51)\r\n    \tat com.salesforce.process.Schedule.main(Schedule.java:10)\r\n    Caused by: java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n    \tat java.base/java.util.TimSort.mergeLo(TimSort.java:781)\r\n    \tat java.base/java.util.TimSort.mergeAt(TimSort.java:518)\r\n    \tat java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\r\n    \tat java.base/java.util.TimSort.sort(TimSort.java:245)\r\n    \tat java.base/java.util.Arrays.sort(Arrays.java:1307)\r\n    \tat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\r\n    \tat com.salesforce.process.Process.lambda$startProcess$0(Process.java:51)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1779)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\r\n    \tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n\r\n\r\n----------\r\n\r\n\r\nClass Object:\r\n-------------\r\n\r\n    public class MyObject {\r\n\tprivate Integer id;\r\n\tpublic String someString;\r\n\tpublic Double sortableValue;\r\n\t\r\n    ... contructors &amp; getters and setters ...\r\n    public static Comparator&lt;MyObject&gt; SortableValueComparator = new Comparator&lt;MyObject&gt;() {\r\n\r\n\t\tpublic int compare(MyObject ds1, MyObject ds2) {\r\n\t\t   Double sortableValue1 = ds1.getSortableValue();\r\n\t\t   Double sortableValue2 = ds2.getSortableValue();\r\n\t\t   //descending order\t   \r\n\t\t   if (Double.compare(sortableValue1, sortableValue2) == 0) {\r\n\t            return 0;\r\n\t        }\r\n\t        else if (Double.compare(sortableValue1, sortableValue2) &lt; 0) {\r\n\t            return -1;\r\n\t        }\r\n\t        else {\r\n\t            return 1;\r\n\t        }\r\n\t    }\r\n\t};\r\n\r\n\r\n----------\r\n\r\n\r\nThe Code:\r\n---------\r\n\r\nAnd I&#39;m trying to execute this in the code like this: \r\n\r\n    Map&lt;String,List&lt;MyObject&gt;&gt; map = new HashMap&lt;String,List&lt;MyObject&gt;&gt;();\r\n    // inject 3.1 million keys with List&lt;MyObject&gt; values, with 1-10 items in each list.\r\n    \r\n    map.values().parallelStream().forEach(list -&gt; list.sort(MyObject.SortableValueComparator));\r\n\r\n    \r\n----------\r\nNOTE: this is not what I want to do, but I initially wrote the code like this and it worked. That is to say, my comparator works if I do it this way. \r\n\r\n    for (List&lt;MyObject&gt; list : map.values()) {\r\n    \t\t\tCollections.sort(list, MyObject.SortableValueComparator);    \r\n    \t\t}\r\n\r\nhowever, it takes for.ev.er to complete, which sadly is not acceptable for our business case. What can this noob do to make this parallelStream() or some way of threading this work?? If you need more info, please let me know! Thanks so much!! \r\n\r\n**Edit: I want to also give you guys a sample of the data below.**\r\nSo this is a `Map&lt;String,List&lt;MyObject&gt;&gt;`. \r\n\r\n    key (String): &quot;key1&quot;, values (List&lt;MyObject&gt;): [{&quot;a&quot;,0.0112},{&quot;b&quot;,0.12},{&quot;c&quot;,0.00512}]\r\n    key: &quot;key2&quot;, values: [{&quot;d&quot;,0.0922},{&quot;a&quot;,0.0112},{&quot;f&quot;,0.23}]\r\n    key: &quot;key3&quot;, values: [{&quot;z&quot;,0.141},{&quot;w&quot;,0.432},{&quot;x&quot;,0.0001}]\r\n\r\nso, If I wanted to sort key3 list of objects, they would return like this: \r\n\r\n    key: &quot;key3&quot;, values: [{&quot;w&quot;,0.432},{&quot;z&quot;,0.141},,{&quot;x&quot;,0.0001}]\r\n\r\nand, I want to do this sort function on every record. \r\n\r\n\r\n","title":"Trying to use Map.values().parallelStream().forEach(list -&gt; list.sort(comparator)) but get error: &quot;Comparison method violates its general contract!&quot;","body":"<p>I am trying to use multi-threading to sort arrays that are stored in a map. There are a large amount of records, ~3.1 million, and thus while I am attempting to sort these records in a single threaded for loop it takes many hours to complete. I'm hoping to get this time down as much as possible, ideally within a few minutes (please don't laugh!).</p>\n<h2>Stacktrace:</h2>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:562)\n    at java.base/java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:591)\n    at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:689)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:765)\n    at com.salesforce.process.Process.startProcess(Process.java:51)\n    at com.salesforce.process.Schedule.main(Schedule.java:10)\nCaused by: java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/java.util.TimSort.mergeLo(TimSort.java:781)\n    at java.base/java.util.TimSort.mergeAt(TimSort.java:518)\n    at java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\n    at java.base/java.util.TimSort.sort(TimSort.java:245)\n    at java.base/java.util.Arrays.sort(Arrays.java:1307)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1721)\n    at com.salesforce.process.Process.lambda$startProcess$0(Process.java:51)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1779)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\n    at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n</code></pre>\n<hr />\n<h2>Class Object:</h2>\n<pre><code>public class MyObject {\nprivate Integer id;\npublic String someString;\npublic Double sortableValue;\n\n... contructors &amp; getters and setters ...\npublic static Comparator&lt;MyObject&gt; SortableValueComparator = new Comparator&lt;MyObject&gt;() {\n\n    public int compare(MyObject ds1, MyObject ds2) {\n       Double sortableValue1 = ds1.getSortableValue();\n       Double sortableValue2 = ds2.getSortableValue();\n       //descending order      \n       if (Double.compare(sortableValue1, sortableValue2) == 0) {\n            return 0;\n        }\n        else if (Double.compare(sortableValue1, sortableValue2) &lt; 0) {\n            return -1;\n        }\n        else {\n            return 1;\n        }\n    }\n};\n</code></pre>\n<hr />\n<h2>The Code:</h2>\n<p>And I'm trying to execute this in the code like this:</p>\n<pre><code>Map&lt;String,List&lt;MyObject&gt;&gt; map = new HashMap&lt;String,List&lt;MyObject&gt;&gt;();\n// inject 3.1 million keys with List&lt;MyObject&gt; values, with 1-10 items in each list.\n\nmap.values().parallelStream().forEach(list -&gt; list.sort(MyObject.SortableValueComparator));\n</code></pre>\n<hr />\n<p>NOTE: this is not what I want to do, but I initially wrote the code like this and it worked. That is to say, my comparator works if I do it this way.</p>\n<pre><code>for (List&lt;MyObject&gt; list : map.values()) {\n            Collections.sort(list, MyObject.SortableValueComparator);    \n        }\n</code></pre>\n<p>however, it takes for.ev.er to complete, which sadly is not acceptable for our business case. What can this noob do to make this parallelStream() or some way of threading this work?? If you need more info, please let me know! Thanks so much!!</p>\n<p><strong>Edit: I want to also give you guys a sample of the data below.</strong>\nSo this is a <code>Map&lt;String,List&lt;MyObject&gt;&gt;</code>.</p>\n<pre><code>key (String): &quot;key1&quot;, values (List&lt;MyObject&gt;): [{&quot;a&quot;,0.0112},{&quot;b&quot;,0.12},{&quot;c&quot;,0.00512}]\nkey: &quot;key2&quot;, values: [{&quot;d&quot;,0.0922},{&quot;a&quot;,0.0112},{&quot;f&quot;,0.23}]\nkey: &quot;key3&quot;, values: [{&quot;z&quot;,0.141},{&quot;w&quot;,0.432},{&quot;x&quot;,0.0001}]\n</code></pre>\n<p>so, If I wanted to sort key3 list of objects, they would return like this:</p>\n<pre><code>key: &quot;key3&quot;, values: [{&quot;w&quot;,0.432},{&quot;z&quot;,0.141},,{&quot;x&quot;,0.0001}]\n</code></pre>\n<p>and, I want to do this sort function on every record.</p>\n"},{"tags":["java","macos"],"answers":[{"tags":[],"owner":{"account_id":1539445,"reputation":65,"user_id":1434443,"display_name":"SachinKakkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641917950,"creation_date":1589955235,"answer_id":61906298,"question_id":60956955,"body_markdown":"I found a solution. And it has been solved on my mac\r\n\r\nstep1. rename libjli.dylib\r\n\r\n```\r\ncd /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/MacOS\r\nsudo mv libjli.dylib libjli.dylib.bak\r\n```\r\n\r\nstep2. create linked file for libjli.dylib\r\n```\r\nsudo ln -s ../Home/lib/libjli.dylib libjli.dylib\r\n```\r\n\r\nstep3. restart Eclipse.\r\n\r\nThis should be a bug for Eclipse and should be fixed in the next version of Eclipse.","title":"MAC - STS 4 &quot;Failed to create the Java Virtual Machine&quot;","body":"<p>I found a solution. And it has been solved on my mac</p>\n<p>step1. rename libjli.dylib</p>\n<pre><code>cd /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/MacOS\nsudo mv libjli.dylib libjli.dylib.bak\n</code></pre>\n<p>step2. create linked file for libjli.dylib</p>\n<pre><code>sudo ln -s ../Home/lib/libjli.dylib libjli.dylib\n</code></pre>\n<p>step3. restart Eclipse.</p>\n<p>This should be a bug for Eclipse and should be fixed in the next version of Eclipse.</p>\n"}],"owner":{"account_id":6853834,"reputation":31,"user_id":5270132,"display_name":"Fernando Benavides Navarro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641917950,"creation_date":1585677429,"question_id":60956955,"body_markdown":"After installing STS 4 I&#39;m getting below message: \r\n[MAC - STS 4 &quot;Failed to create the Java Virtual Machine][1] \r\n  [1]: https://i.stack.imgur.com/iHLKl.png\r\n\r\n...\r\n\r\nSpringToolSuite4.ini:\r\n\r\n    -startup\r\n    ../Eclipse/plugins/org.eclipse.equinox.launcher_1.5.700.v20200207-2156.jar\r\n    --launcher.library\r\n    ../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.1100.v20190907-0426\r\n    -product\r\n    org.springframework.boot.ide.branding.sts4\r\n    --launcher.defaultAction\r\n    openFile\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Xms256m\r\n    -Xmx1024m\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -XstartOnFirstThread\r\n    -Dorg.eclipse.swt.internal.carbon.smallFonts\r\n    -Xdock:icon=../Resources/sts4.icns\r\n    --launcher.appendVmargs\r\n    -vm\r\n    /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home/bin/java\r\n\r\n\r\n\r\nJava Version: \r\n\r\n\r\n    java version &quot;14&quot; 2020-03-17\r\n    Java(TM) SE Runtime Environment (build 14+36-1461)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)\r\n\r\n\r\n\r\n$JAVA_HOME:\r\n`/Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home`","title":"MAC - STS 4 &quot;Failed to create the Java Virtual Machine&quot;","body":"<p>After installing STS 4 I'm getting below message: \n<a href=\"https://i.stack.imgur.com/iHLKl.png\" rel=\"nofollow noreferrer\">MAC - STS 4 \"Failed to create the Java Virtual Machine</a> \n...</p>\n\n<p>SpringToolSuite4.ini:</p>\n\n<pre><code>-startup\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.5.700.v20200207-2156.jar\n--launcher.library\n../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.1100.v20190907-0426\n-product\norg.springframework.boot.ide.branding.sts4\n--launcher.defaultAction\nopenFile\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-Xms256m\n-Xmx1024m\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n-Xdock:icon=../Resources/sts4.icns\n--launcher.appendVmargs\n-vm\n/Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home/bin/java\n</code></pre>\n\n<p>Java Version: </p>\n\n<pre><code>java version \"14\" 2020-03-17\nJava(TM) SE Runtime Environment (build 14+36-1461)\nJava HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)\n</code></pre>\n\n<p>$JAVA_HOME:\n<code>/Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home</code></p>\n"},{"tags":["java","android","security","triggers","frameworks"],"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":1,"creation_date":1641918972,"post_id":70670020,"comment_id":124931183,"body_markdown":"Take a look at `WorkManager`.","body":"Take a look at <code>WorkManager</code>."},{"owner":{"account_id":23907201,"reputation":1,"user_id":17904630,"display_name":"SE Researcher"},"score":0,"creation_date":1642009429,"post_id":70670020,"comment_id":124960809,"body_markdown":"I will take a look, well appreciated, thank you!","body":"I will take a look, well appreciated, thank you!"}],"owner":{"account_id":23907201,"reputation":1,"user_id":17904630,"display_name":"SE Researcher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641917915,"creation_date":1641917915,"question_id":70670020,"body_markdown":"Hello Stack Overflow community,\r\n\r\nYou might know that the Android Framework allows developers to trigger a piece of code that can be postponed using the AlarmManager and specific methods such as ```setExact``` : \r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    Intent i = new Intent(this, TargetActivity.class);\r\n    PendingIntent pi = PendingIntent.getActivity(this, 0, i, 0);\r\n    AlarmManager am = ((AlarmManager) this.getSystemService(Context.ALARM_SERVICE));\r\n    int delay = //do some calculation\r\n    am.setExact(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + delay, pi);\r\n}\r\n```\r\n\r\nBasically, this code allows triggering some other piece of code (i.e., in this TargetActivity class) under specific circumstances defined by the calculation of the ```delay``` variable.\r\nYou might have noticed that though some code can be triggered under specific circumstances, there are no ```if``` statements in this code, nor ```switch/case```, nor ```loops``` that would emulate conditions.\r\n\r\nHence my question, do the community know other ways to trigger some piece of code under specific circumstances, but without ```if``` statements? \r\nFor instance, it could be triggering code if the phone is in a particular location, if a specific network frame is received, if a specific sms is received, if a call from a specific person is received, if the Android version is a specific version, if the phone is not an emulator, etc. All **without** ```if/loop/switch/case``` statements\r\n\r\nI thank you in advance for your valuable help.\r\n","title":"Are there other ways than the AlarmManager to trigger code under specific circumstances in the Android Framework?","body":"<p>Hello Stack Overflow community,</p>\n<p>You might know that the Android Framework allows developers to trigger a piece of code that can be postponed using the AlarmManager and specific methods such as <code>setExact</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Intent i = new Intent(this, TargetActivity.class);\n    PendingIntent pi = PendingIntent.getActivity(this, 0, i, 0);\n    AlarmManager am = ((AlarmManager) this.getSystemService(Context.ALARM_SERVICE));\n    int delay = //do some calculation\n    am.setExact(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + delay, pi);\n}\n</code></pre>\n<p>Basically, this code allows triggering some other piece of code (i.e., in this TargetActivity class) under specific circumstances defined by the calculation of the <code>delay</code> variable.\nYou might have noticed that though some code can be triggered under specific circumstances, there are no <code>if</code> statements in this code, nor <code>switch/case</code>, nor <code>loops</code> that would emulate conditions.</p>\n<p>Hence my question, do the community know other ways to trigger some piece of code under specific circumstances, but without <code>if</code> statements?\nFor instance, it could be triggering code if the phone is in a particular location, if a specific network frame is received, if a specific sms is received, if a call from a specific person is received, if the Android version is a specific version, if the phone is not an emulator, etc. All <strong>without</strong> <code>if/loop/switch/case</code> statements</p>\n<p>I thank you in advance for your valuable help.</p>\n"},{"tags":["java","junit","hamcrest","assertj"],"comments":[{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":1,"creation_date":1641913310,"post_id":70668882,"comment_id":124928420,"body_markdown":"Probably you need to use `allMatch` like this: `myMap.values().stream().allMatch(data -&gt;data.getB().equals(true));`","body":"Probably you need to use <code>allMatch</code> like this: <code>myMap.values().stream().allMatch(data -&gt;data.getB().equals(true));</code>"}],"answers":[{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1641913818,"creation_date":1641913818,"answer_id":70669097,"question_id":70668882,"body_markdown":"You can use `allMatch` terminal operation to check all element of map like this: \r\n\r\n\r\n    myMap.values().stream().allMatch(Data::getB);\r\n\r\n\r\nor use filter and count it like this: \r\n\r\n\r\n    \r\n    myMap.values().stream().filter(Data::getB).count() == myMap.size();\r\n","title":"JUnit: Is there a way to assert all array values at once?","body":"<p>You can use <code>allMatch</code> terminal operation to check all element of map like this:</p>\n<pre><code>myMap.values().stream().allMatch(Data::getB);\n</code></pre>\n<p>or use filter and count it like this:</p>\n<pre><code>myMap.values().stream().filter(Data::getB).count() == myMap.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23890523,"reputation":139,"user_id":17890254,"display_name":"Medamine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641916163,"creation_date":1641916163,"answer_id":70669608,"question_id":70668882,"body_markdown":"you can use more elegant way with the **assertj** library using **allMatch** or **allSatisfy**: \r\n\r\n\r\nhttps://assertj.github.io/doc/#assertj-core-group-satisfy\r\n\r\n    List&lt;TolkienCharacter&gt; hobbits = list(frodo, sam, pippin);\r\n    \r\n    // all elements must satisfy the given assertions\r\n    assertThat(hobbits).allSatisfy(character -&gt; {\r\n      assertThat(character.getRace()).isEqualTo(HOBBIT);\r\n      assertThat(character.getName()).isNotEqualTo(&quot;Sauron&quot;);\r\n    });","title":"JUnit: Is there a way to assert all array values at once?","body":"<p>you can use more elegant way with the <strong>assertj</strong> library using <strong>allMatch</strong> or <strong>allSatisfy</strong>:</p>\n<p><a href=\"https://assertj.github.io/doc/#assertj-core-group-satisfy\" rel=\"nofollow noreferrer\">https://assertj.github.io/doc/#assertj-core-group-satisfy</a></p>\n<pre><code>List&lt;TolkienCharacter&gt; hobbits = list(frodo, sam, pippin);\n\n// all elements must satisfy the given assertions\nassertThat(hobbits).allSatisfy(character -&gt; {\n  assertThat(character.getRace()).isEqualTo(HOBBIT);\n  assertThat(character.getName()).isNotEqualTo(&quot;Sauron&quot;);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641916290,"creation_date":1641916290,"answer_id":70669633,"question_id":70668882,"body_markdown":"With [AssertJ Core][1] you can chain [`extracting`][2] and [`containsOnly`][3]:\r\n\r\n    Map&lt;Integer, Data&gt; myMap = new HashMap&lt;&gt;();\r\n    myMap.put(1, new Data(1, true));\r\n    myMap.put(2, new Data(2, true));\r\n    myMap.put(3, new Data(3, true));\r\n\r\n    assertThat(myMap.values()).extracting(Data::getB).containsOnly(true);\r\n\r\nThe benefit of using AssertJ is also a nicely formatted error message in case of failures. For example, the following:\r\n\r\n    Map&lt;Integer, Data&gt; myMap = new HashMap&lt;&gt;();\r\n    myMap.put(1, new Data(1, true));\r\n    myMap.put(2, new Data(2, false));\r\n    myMap.put(3, new Data(3, false));\r\n\r\n    assertThat(myMap.values()).extracting(Data::getB).containsOnly(true);\r\n\r\nwould fail with:\r\n\r\n    java.lang.AssertionError: \r\n    Expecting ArrayList:\r\n      [true, false, false]\r\n    to contain only:\r\n      [true]\r\n    but the following element(s) were unexpected:\r\n      [false, false]\r\n\r\nMore `Iterable` assertions are described in the [official documentation][4]. \r\n\r\n\r\n  [1]: https://assertj.github.io/doc/#assertj-core\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.util.function.Function)\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#containsOnly(ELEMENT...)\r\n  [4]: https://assertj.github.io/doc/#assertj-core-group-assertions","title":"JUnit: Is there a way to assert all array values at once?","body":"<p>With <a href=\"https://assertj.github.io/doc/#assertj-core\" rel=\"nofollow noreferrer\">AssertJ Core</a> you can chain <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> and <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#containsOnly(ELEMENT...)\" rel=\"nofollow noreferrer\"><code>containsOnly</code></a>:</p>\n<pre><code>Map&lt;Integer, Data&gt; myMap = new HashMap&lt;&gt;();\nmyMap.put(1, new Data(1, true));\nmyMap.put(2, new Data(2, true));\nmyMap.put(3, new Data(3, true));\n\nassertThat(myMap.values()).extracting(Data::getB).containsOnly(true);\n</code></pre>\n<p>The benefit of using AssertJ is also a nicely formatted error message in case of failures. For example, the following:</p>\n<pre><code>Map&lt;Integer, Data&gt; myMap = new HashMap&lt;&gt;();\nmyMap.put(1, new Data(1, true));\nmyMap.put(2, new Data(2, false));\nmyMap.put(3, new Data(3, false));\n\nassertThat(myMap.values()).extracting(Data::getB).containsOnly(true);\n</code></pre>\n<p>would fail with:</p>\n<pre><code>java.lang.AssertionError: \nExpecting ArrayList:\n  [true, false, false]\nto contain only:\n  [true]\nbut the following element(s) were unexpected:\n  [false, false]\n</code></pre>\n<p>More <code>Iterable</code> assertions are described in the <a href=\"https://assertj.github.io/doc/#assertj-core-group-assertions\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70669097,"answer_count":3,"score":0,"last_activity_date":1641917894,"creation_date":1641912978,"question_id":70668882,"body_markdown":"I have a map in which its values are a simple pojo.\r\nFor example (in a very loosely code):\r\n\r\n    Class Data{\r\n      int a;\r\n      Boolean b;\r\n    }\r\n    \r\n    Map&lt;Integer, Data&gt; myMap = new HashMap&lt;&gt;();\r\n\r\nNow the map is being populated with values.\r\nAnd at then end I would like to assert that all the b values of the data object of all map entries are, for example, true.\r\n\r\nSo I tried something like that:\r\n\r\n\r\n    private void computeAllBooleans(){\r\n\r\n        allBooleansStatus = true;\r\n        myMap.values()\r\n            .forEach(data -&gt;\r\n                allBooleansStatus = allBooleansStatus &amp;&amp; data.getB();\r\n    }\r\n\r\n1. Is there a more concise way to achieve that?\r\n2. Is there a way to assert it with JUnit (or other relevant frameworks like hamcrest, assertj, etc.) assertions?\r\n\r\n\r\n\r\n(I noticed this [link][1] but didn&#39;t understand how can I use the suggested answers there...)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3829780/checking-all-array-values-at-once\r\n","title":"JUnit: Is there a way to assert all array values at once?","body":"<p>I have a map in which its values are a simple pojo.\nFor example (in a very loosely code):</p>\n<pre><code>Class Data{\n  int a;\n  Boolean b;\n}\n\nMap&lt;Integer, Data&gt; myMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>Now the map is being populated with values.\nAnd at then end I would like to assert that all the b values of the data object of all map entries are, for example, true.</p>\n<p>So I tried something like that:</p>\n<pre><code>private void computeAllBooleans(){\n\n    allBooleansStatus = true;\n    myMap.values()\n        .forEach(data -&gt;\n            allBooleansStatus = allBooleansStatus &amp;&amp; data.getB();\n}\n</code></pre>\n<ol>\n<li>Is there a more concise way to achieve that?</li>\n<li>Is there a way to assert it with JUnit (or other relevant frameworks like hamcrest, assertj, etc.) assertions?</li>\n</ol>\n<p>(I noticed this <a href=\"https://stackoverflow.com/questions/3829780/checking-all-array-values-at-once\">link</a> but didn't understand how can I use the suggested answers there...)</p>\n"},{"tags":["java","spring-boot","maven","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":13059401,"reputation":13,"user_id":9437118,"display_name":"surajit das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641911801,"creation_date":1641911801,"answer_id":70668583,"question_id":70668361,"body_markdown":"I think you should try these things:\r\n\r\n 1. Change the port number in the ***application.properties*** file.\r\n    \r\n    &gt; server.port = [port number]\r\n        \r\n[![enter image description here][1]][1]\r\n\r\n    \r\n 2. Edit the project&#39;s configuration and explicitly add the ***@SpringBootApplication*** containing class or just go to the file and run the **main()** method.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7n6bE.png\r\n  [2]: https://i.stack.imgur.com/YZmdN.png","title":"IntelliJ Tomcat serves wrong webapp","body":"<p>I think you should try these things:</p>\n<ol>\n<li><p>Change the port number in the <em><strong>application.properties</strong></em> file.</p>\n<blockquote>\n<p>server.port = [port number]</p>\n</blockquote>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/7n6bE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7n6bE.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Edit the project's configuration and explicitly add the <em><strong>@SpringBootApplication</strong></em> containing class or just go to the file and run the <strong>main()</strong> method.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/YZmdN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YZmdN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8408747,"reputation":71,"user_id":6311418,"display_name":"Fahim Fahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641917791,"creation_date":1641917791,"answer_id":70669995,"question_id":70668361,"body_markdown":"Few things can be checked.\r\n\r\n 1. If you are using your local tomcat then verify the tomcat if that is the one you are actually using. Better remove the tomcat and import a fresh one. \r\n\r\nor\r\n\r\n 1. close the project from IntelliJ and reimport.\r\n 2. clean build maven project and run again.\r\n \r\n\r\n","title":"IntelliJ Tomcat serves wrong webapp","body":"<p>Few things can be checked.</p>\n<ol>\n<li>If you are using your local tomcat then verify the tomcat if that is the one you are actually using. Better remove the tomcat and import a fresh one.</li>\n</ol>\n<p>or</p>\n<ol>\n<li>close the project from IntelliJ and reimport.</li>\n<li>clean build maven project and run again.</li>\n</ol>\n"}],"owner":{"account_id":18195847,"reputation":81,"user_id":13240919,"display_name":"TheLegend27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641917791,"creation_date":1641910734,"question_id":70668361,"body_markdown":"I&#39;m using IntelliJ Ultimate to develop a SpringBoot App (+ maven). When i hit run, tomcat still serves a old vaadin project. How can i remove it? I already cleared my browsers cache, tried to load the side in a private browser window and removed the project from the tomcats webapp folder","title":"IntelliJ Tomcat serves wrong webapp","body":"<p>I'm using IntelliJ Ultimate to develop a SpringBoot App (+ maven). When i hit run, tomcat still serves a old vaadin project. How can i remove it? I already cleared my browsers cache, tried to load the side in a private browser window and removed the project from the tomcats webapp folder</p>\n"},{"tags":["java","spring-boot","http-status-code-404","http-status-code-500"],"comments":[{"owner":{"account_id":23645851,"reputation":11,"user_id":17675523,"display_name":"electric chef"},"score":0,"creation_date":1641918024,"post_id":70669918,"comment_id":124930740,"body_markdown":"So the same request is sent to both servers by the client to the same application on different servers and you are getting two different error codes, instead of  an expected single error code?","body":"So the same request is sent to both servers by the client to the same application on different servers and you are getting two different error codes, instead of  an expected single error code?"},{"owner":{"account_id":14903821,"reputation":23,"user_id":10761853,"display_name":"axelsven"},"score":0,"creation_date":1641918176,"post_id":70669918,"comment_id":124930797,"body_markdown":"@electricchef right, a request sent to dev will return 500 and the same request, but sent to prod, will return 404 instead","body":"@electricchef right, a request sent to dev will return 500 and the same request, but sent to prod, will return 404 instead"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1641918841,"post_id":70669918,"comment_id":124931127,"body_markdown":"This could be because of both servers are having different Database and different data. In case of PROD data is not available in some validation before the code which throws the 500 throws the 404. While n DEV data is available, so after availability check some code after that throwing 500 error.","body":"This could be because of both servers are having different Database and different data. In case of PROD data is not available in some validation before the code which throws the 500 throws the 404. While n DEV data is available, so after availability check some code after that throwing 500 error."},{"owner":{"account_id":23645851,"reputation":11,"user_id":17675523,"display_name":"electric chef"},"score":0,"creation_date":1641919275,"post_id":70669918,"comment_id":124931330,"body_markdown":"@GauravJeswani is there a way to test that?  Would you find a piece of data known in one, not the other, see what comes back, and then run another combination, not known in both, etc. ?","body":"@GauravJeswani is there a way to test that?  Would you find a piece of data known in one, not the other, see what comes back, and then run another combination, not known in both, etc. ?"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641919358,"post_id":70669918,"comment_id":124931362,"body_markdown":"@electricchef I think here you want to tag the author of question. Or it is for me?","body":"@electricchef I think here you want to tag the author of question. Or it is for me?"},{"owner":{"account_id":23645851,"reputation":11,"user_id":17675523,"display_name":"electric chef"},"score":0,"creation_date":1641919547,"post_id":70669918,"comment_id":124931456,"body_markdown":"Both, but it seems posters are tagged/notified by default.","body":"Both, but it seems posters are tagged/notified by default."},{"owner":{"account_id":14903821,"reputation":23,"user_id":10761853,"display_name":"axelsven"},"score":0,"creation_date":1641920745,"post_id":70669918,"comment_id":124931960,"body_markdown":"It&#39;s a get request. DEV and PROD both point to the same DB. Example GET /send-notif-for-id/12345   a NPE is thrown because of a list that should be traversed but the list is null, and we get 500/404 depending on the server","body":"It&#39;s a get request. DEV and PROD both point to the same DB. Example GET /send-notif-for-id/12345   a NPE is thrown because of a list that should be traversed but the list is null, and we get 500/404 depending on the server"}],"owner":{"account_id":14903821,"reputation":23,"user_id":10761853,"display_name":"axelsven"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641917478,"creation_date":1641917478,"question_id":70669918,"body_markdown":"I have a spring app deployed on two servers (dev and prod). Because of a bug in one of the service classes, a NPE is thrown. The dev instance displays a 500 error when hitting the respective controller, but the PROD instance shows a 404 error instead, for the same controller.\r\n\r\n\r\nWhat would be a good way to find the cause for such discrepancy? I would expect both servers to show a 500 error.\r\n","title":"Spring boot web app returns different error codes in different servers","body":"<p>I have a spring app deployed on two servers (dev and prod). Because of a bug in one of the service classes, a NPE is thrown. The dev instance displays a 500 error when hitting the respective controller, but the PROD instance shows a 404 error instead, for the same controller.</p>\n<p>What would be a good way to find the cause for such discrepancy? I would expect both servers to show a 500 error.</p>\n"},{"tags":["java","apache-kafka","quarkus"],"comments":[{"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"score":1,"creation_date":1641909706,"post_id":70667498,"comment_id":124926577,"body_markdown":"For anyone wondering the solution was: the security.protocol has to be SASL_SSL in upper case","body":"For anyone wondering the solution was: the security.protocol has to be SASL_SSL in upper case"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1641917435,"post_id":70667498,"comment_id":124930481,"body_markdown":"Please post answers below rather than as comments","body":"Please post answers below rather than as comments"}],"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641917404,"creation_date":1641907085,"question_id":70667498,"body_markdown":"I am trying to build a Kafka Consumer with Quarkus. Sadly I don&#39;t seem to get it working.\r\n\r\nThis is my application.properties:\r\n```\r\n#Kafka settings\r\nkafka.bootstrap.servers=servers name\r\nkafka.group.id=my specialized group id\r\n\r\nkafka.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nkafka.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nsecurity.protocol=sasl_ssl\r\nsasl.mechanism=PLAIN\r\nsasl.username=username\r\nsasl.password=password\r\n\r\n#first topic settings\r\nmp.messaging.incoming.first-topic.topic=topic name\r\nmp.messaging.incoming.first-topic.connector=smallrye-kafka\r\n\r\n#second topic settings\r\nmp.messaging.incoming.second-topic.topic=topic name\r\nmp.messaging.incoming.second-topic.connector=smallrye-kafka\r\n\r\n#Processing all messages (for test purposes)\r\n%dev.mp.messaging.incoming.first-topic.auto.offset.reset=earliest\r\n%dev.mp.messaging.incoming.second-topic.auto.offset.reset=earliest\r\n```\r\n\r\nThis is what my Java class looks like:\r\n```\r\n@Path(&quot;someName&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@ApplicationScoped\r\npublic class IpsiConnectorResource {\r\n\tprivate static final Logger LOGGER = Logger.getLogger(IpsiConnectorResource.class.getName());\r\n\r\n    @Connector(&quot;first-topic&quot;)\r\n\t@Incoming(&quot;first-topic&quot;)\r\n\t@Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\r\n\tpublic CompletionStage&lt;Void&gt; processFirstTopicMessage(final Message&lt;byte[]&gt; message) throws IOException {\r\n\t\tLOGGER.info(&quot;message received: &quot; + message.getPayload().toString());\r\n\t\treturn message.ack();\r\n\t}\r\n\t\r\n    @Connector(&quot;second-topic&quot;)\r\n\t@Incoming(&quot;second-topic&quot;)\r\n\t@Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\r\n\tpublic CompletionStage&lt;Void&gt; processSecondTopicMessage(final Message&lt;byte[]&gt; message) throws IOException {\r\n\t\tLOGGER.info(&quot;message received: &quot; + message.getPayload().toString());\r\n\t\treturn message.ack();\r\n\t}\r\n}\r\n```\r\n\r\nThe error message looks something like this:\r\n```\r\n WARN  [org.apa.kaf.cli.NetworkClient] (smallrye-kafka-consumer-thread-1) [Consumer clientId=kafka-consumer-second-topic, groupId=my sepcialized group id] Bootstrap broker servers name (id: -1 rack: null) disconnected\r\nWARN  [org.apa.kaf.cli.NetworkClient] (smallrye-kafka-consumer-thread-1) [Consumer clientId=kafka-consumer-first-topic, groupId=my sepcialized group id] Bootstrap broker servers name (id: -1 rack: null) disconnected\r\n```\r\n\r\nI changed some of the namings to protect my data.\r\n\r\nDoes someone have any experience in this?\r\n\r\nThanks a lot in advance!!!","title":"Quarkus Kafka Consumner not connecting","body":"<p>I am trying to build a Kafka Consumer with Quarkus. Sadly I don't seem to get it working.</p>\n<p>This is my application.properties:</p>\n<pre><code>#Kafka settings\nkafka.bootstrap.servers=servers name\nkafka.group.id=my specialized group id\n\nkafka.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nkafka.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nsecurity.protocol=sasl_ssl\nsasl.mechanism=PLAIN\nsasl.username=username\nsasl.password=password\n\n#first topic settings\nmp.messaging.incoming.first-topic.topic=topic name\nmp.messaging.incoming.first-topic.connector=smallrye-kafka\n\n#second topic settings\nmp.messaging.incoming.second-topic.topic=topic name\nmp.messaging.incoming.second-topic.connector=smallrye-kafka\n\n#Processing all messages (for test purposes)\n%dev.mp.messaging.incoming.first-topic.auto.offset.reset=earliest\n%dev.mp.messaging.incoming.second-topic.auto.offset.reset=earliest\n</code></pre>\n<p>This is what my Java class looks like:</p>\n<pre><code>@Path(&quot;someName&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@ApplicationScoped\npublic class IpsiConnectorResource {\n    private static final Logger LOGGER = Logger.getLogger(IpsiConnectorResource.class.getName());\n\n    @Connector(&quot;first-topic&quot;)\n    @Incoming(&quot;first-topic&quot;)\n    @Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\n    public CompletionStage&lt;Void&gt; processFirstTopicMessage(final Message&lt;byte[]&gt; message) throws IOException {\n        LOGGER.info(&quot;message received: &quot; + message.getPayload().toString());\n        return message.ack();\n    }\n    \n    @Connector(&quot;second-topic&quot;)\n    @Incoming(&quot;second-topic&quot;)\n    @Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\n    public CompletionStage&lt;Void&gt; processSecondTopicMessage(final Message&lt;byte[]&gt; message) throws IOException {\n        LOGGER.info(&quot;message received: &quot; + message.getPayload().toString());\n        return message.ack();\n    }\n}\n</code></pre>\n<p>The error message looks something like this:</p>\n<pre><code> WARN  [org.apa.kaf.cli.NetworkClient] (smallrye-kafka-consumer-thread-1) [Consumer clientId=kafka-consumer-second-topic, groupId=my sepcialized group id] Bootstrap broker servers name (id: -1 rack: null) disconnected\nWARN  [org.apa.kaf.cli.NetworkClient] (smallrye-kafka-consumer-thread-1) [Consumer clientId=kafka-consumer-first-topic, groupId=my sepcialized group id] Bootstrap broker servers name (id: -1 rack: null) disconnected\n</code></pre>\n<p>I changed some of the namings to protect my data.</p>\n<p>Does someone have any experience in this?</p>\n<p>Thanks a lot in advance!!!</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641917286,"creation_date":1641917286,"answer_id":70669878,"question_id":70668620,"body_markdown":"If your topic only has one partition, then only one consumer of the same `group.id` setting can read this partition. If you must have one partition for ordering purposes, then you need unique group ids for reading this data in multiple consumers. \r\n\r\nOtherwise, if the topic has multiple partitions, then 2 consumers should actively be reading them. \r\n\r\nYou&#39;d &quot;stop&quot; reading by not calling `poll()`. \r\n\r\n","title":"How to stop concurrent consumer consuming message in KAFKA?","body":"<p>If your topic only has one partition, then only one consumer of the same <code>group.id</code> setting can read this partition. If you must have one partition for ordering purposes, then you need unique group ids for reading this data in multiple consumers.</p>\n<p>Otherwise, if the topic has multiple partitions, then 2 consumers should actively be reading them.</p>\n<p>You'd &quot;stop&quot; reading by not calling <code>poll()</code>.</p>\n"}],"owner":{"account_id":23864771,"reputation":81,"user_id":17867272,"display_name":"LearnThings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641917286,"creation_date":1641911985,"question_id":70668620,"body_markdown":"I have a simple Kafka consumer micro-service application which consumes message from some topic and the same application is running in two different pool . \r\n\r\nSo when message is produced from producer and my app tries to consume the message from topic and it is consumed by one only in one pool.\r\n\r\nHow can I stop the concurrent message reading from consumer kafka. I want to consume the same message in both the pool.\r\n\r\nWhat can be the possible solution for this scenario\r\n","title":"How to stop concurrent consumer consuming message in KAFKA?","body":"<p>I have a simple Kafka consumer micro-service application which consumes message from some topic and the same application is running in two different pool .</p>\n<p>So when message is produced from producer and my app tries to consume the message from topic and it is consumed by one only in one pool.</p>\n<p>How can I stop the concurrent message reading from consumer kafka. I want to consume the same message in both the pool.</p>\n<p>What can be the possible solution for this scenario</p>\n"},{"tags":["java","android","android-studio","audio"],"answers":[{"tags":[],"owner":{"account_id":11717706,"reputation":2536,"user_id":8577615,"display_name":"Ahmed Abdalla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641917114,"creation_date":1641917114,"answer_id":70669830,"question_id":70669188,"body_markdown":"To keep sound playing when the screen is off, use a [foreground service][1] to play the sound and when the user clicks the start button, you should start your service\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/foreground-services","title":"How can I keep running an activity when screen is off or locked in Android studio in Java?","body":"<p>To keep sound playing when the screen is off, use a <a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">foreground service</a> to play the sound and when the user clicks the start button, you should start your service</p>\n"}],"owner":{"account_id":23906489,"reputation":1,"user_id":17904001,"display_name":"Le Xing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641917114,"creation_date":1641914204,"question_id":70669188,"body_markdown":"I am developing an App, which can play a tone at a fixed frequency to the users by using the Audiotrack Java class. Now the sound can be played when a button is pressed, I want to keep the sound keep playing when the screen is off, because the users may want to listen to the sound for 20 minutes at night where doesn&#39;t require the screen on all the time. Anyone can help with this? \r\n\r\nI have tried the **WakeLock** according to other posts on Stack overflow, but it doesn&#39;t work. when I go to the activity, the app stops and quits.","title":"How can I keep running an activity when screen is off or locked in Android studio in Java?","body":"<p>I am developing an App, which can play a tone at a fixed frequency to the users by using the Audiotrack Java class. Now the sound can be played when a button is pressed, I want to keep the sound keep playing when the screen is off, because the users may want to listen to the sound for 20 minutes at night where doesn't require the screen on all the time. Anyone can help with this?</p>\n<p>I have tried the <strong>WakeLock</strong> according to other posts on Stack overflow, but it doesn't work. when I go to the activity, the app stops and quits.</p>\n"},{"tags":["java","websphere"],"answers":[{"tags":[],"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazc"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641829475,"creation_date":1639164670,"answer_id":70309538,"question_id":70308808,"body_markdown":"CVE-2021-44228 creates a large attack surface depending on the imagination of the attacker and an [RCE][1] is just one of them.\r\n\r\nI would strongly advise you to avoid having a false conclusion by relying on a JVM feature targeting a certain attack vector; there are more vectors. Simply either bump `log4j-core` to 2.15.0 or set the `log4j2.formatMsgNoLookups=true` system property.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arbitrary_code_execution\r\n\r\n","title":"IBM Java get defaults (to mitigate CVE-2021-44228 AKA Log4Shell vulnerability)","body":"<p>CVE-2021-44228 creates a large attack surface depending on the imagination of the attacker and an <a href=\"https://en.wikipedia.org/wiki/Arbitrary_code_execution\" rel=\"nofollow noreferrer\">RCE</a> is just one of them.</p>\n<p>I would strongly advise you to avoid having a false conclusion by relying on a JVM feature targeting a certain attack vector; there are more vectors. Simply either bump <code>log4j-core</code> to 2.15.0 or set the <code>log4j2.formatMsgNoLookups=true</code> system property.</p>\n"},{"tags":[],"owner":{"account_id":205975,"reputation":6422,"user_id":455009,"display_name":"ches"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641829661,"creation_date":1639211272,"answer_id":70313660,"question_id":70308808,"body_markdown":"_Answering the letter of the question_:\r\n\r\nIt does not appear that the system properties in question have any value by default. If they did, you could check with:\r\n\r\n    java -XshowSettings:properties -version\r\n\r\nNote that `-X` flags are non-standard, though IBM Java supports this one (checked Semeru 11).\r\n\r\n_As for the context_:\r\n\r\n[The implementations][1] (in [OpenJDK][2] at least) query for the property values, defaulting to `false` if the properties are unset, e.g.,\r\n\r\n```java\r\n// System property to control whether classes may be loaded from an\r\n// arbitrary URL code base\r\nString trust = getPrivilegedProperty(\r\n        &quot;com.sun.jndi.ldap.object.trustURLCodebase&quot;, &quot;false&quot;);\r\ntrustURLCodebase = &quot;true&quot;.equalsIgnoreCase(trust);\r\n```\r\n\r\nSo neither `-XshowSettings` nor the programmatic check in the question are helpful to know for certain what behavior your JVM defaults to for these features, or if the JVM version you&#39;re running uses these properties at all if you set them explicitly.\r\n\r\nI agree with [Volkan&#39;s point][3], but I also would like to verify that these (dangerous) [JNDI][4] features are disabled regardless of the Log4j exploit. Unfortunately though we need another way to do that, ideally an implementation-independent one.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/6eb6ec05fd4f80e11d0b052b58190bc8b53f4b11/src/java.naming/share/classes/com/sun/jndi/ldap/VersionHelper.java#L53-L57\r\n  [2]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [3]: https://stackoverflow.com/questions/70308808/ibm-java-get-defaults-to-mitigate-cve-2021-44228-aka-log4shell-vulnerability/70309538#70309538\r\n  [4]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n\r\n\r\n\r\n\r\n","title":"IBM Java get defaults (to mitigate CVE-2021-44228 AKA Log4Shell vulnerability)","body":"<p><em>Answering the letter of the question</em>:</p>\n<p>It does not appear that the system properties in question have any value by default. If they did, you could check with:</p>\n<pre><code>java -XshowSettings:properties -version\n</code></pre>\n<p>Note that <code>-X</code> flags are non-standard, though IBM Java supports this one (checked Semeru 11).</p>\n<p><em>As for the context</em>:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/6eb6ec05fd4f80e11d0b052b58190bc8b53f4b11/src/java.naming/share/classes/com/sun/jndi/ldap/VersionHelper.java#L53-L57\" rel=\"nofollow noreferrer\">The implementations</a> (in <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> at least) query for the property values, defaulting to <code>false</code> if the properties are unset, e.g.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// System property to control whether classes may be loaded from an\n// arbitrary URL code base\nString trust = getPrivilegedProperty(\n        &quot;com.sun.jndi.ldap.object.trustURLCodebase&quot;, &quot;false&quot;);\ntrustURLCodebase = &quot;true&quot;.equalsIgnoreCase(trust);\n</code></pre>\n<p>So neither <code>-XshowSettings</code> nor the programmatic check in the question are helpful to know for certain what behavior your JVM defaults to for these features, or if the JVM version you're running uses these properties at all if you set them explicitly.</p>\n<p>I agree with <a href=\"https://stackoverflow.com/questions/70308808/ibm-java-get-defaults-to-mitigate-cve-2021-44228-aka-log4shell-vulnerability/70309538#70309538\">Volkan's point</a>, but I also would like to verify that these (dangerous) <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">JNDI</a> features are disabled regardless of the Log4j exploit. Unfortunately though we need another way to do that, ideally an implementation-independent one.</p>\n"},{"tags":[],"owner":{"account_id":3694702,"reputation":73,"user_id":3076415,"display_name":"Venod Raveendran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641916970,"creation_date":1639225325,"answer_id":70315103,"question_id":70308808,"body_markdown":"I would assume that turning these feature off will prevent [remote code execution][1] (RCE) using [JNDI][2], not just the one using Log4j&amp;nbsp;2:\r\n\r\n```lang-none\r\nlog4j2.formatMsgNoLookups -&gt; set to true\r\n&quot;com.sun.jndi.rmi.object.trustURLCodebase&quot; -&gt; set to false\r\n&quot;com.sun.jndi.cosnaming.object.trustURLCodebase&quot; -&gt; set to false\r\n```\r\n\r\nUpgrade Log4J2 to 2.17.1 and upgrade Java to higher than Java 8u121.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arbitrary_code_execution\r\n  [2]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n\r\n\r\n","title":"IBM Java get defaults (to mitigate CVE-2021-44228 AKA Log4Shell vulnerability)","body":"<p>I would assume that turning these feature off will prevent <a href=\"https://en.wikipedia.org/wiki/Arbitrary_code_execution\" rel=\"nofollow noreferrer\">remote code execution</a> (RCE) using <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">JNDI</a>, not just the one using Log4j2:</p>\n<pre class=\"lang-none prettyprint-override\"><code>log4j2.formatMsgNoLookups -&gt; set to true\n&quot;com.sun.jndi.rmi.object.trustURLCodebase&quot; -&gt; set to false\n&quot;com.sun.jndi.cosnaming.object.trustURLCodebase&quot; -&gt; set to false\n</code></pre>\n<p>Upgrade Log4J2 to 2.17.1 and upgrade Java to higher than Java 8u121.</p>\n"},{"tags":[],"owner":{"account_id":14036429,"reputation":315,"user_id":10138996,"display_name":"pascalre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641830342,"creation_date":1639393704,"answer_id":70333647,"question_id":70308808,"body_markdown":"The command\r\n\r\n    jps -lvm\r\n\r\nwill output your running Java processes with their parameters.\r\n\r\nSee also [this answer to *Getting the parameters of a running JVM*][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/5317152/getting-the-parameters-of-a-running-jvm/5317243#5317243\r\n\r\n","title":"IBM Java get defaults (to mitigate CVE-2021-44228 AKA Log4Shell vulnerability)","body":"<p>The command</p>\n<pre><code>jps -lvm\n</code></pre>\n<p>will output your running Java processes with their parameters.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/5317152/getting-the-parameters-of-a-running-jvm/5317243#5317243\">this answer to <em>Getting the parameters of a running JVM</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":23646577,"reputation":36,"user_id":17676122,"display_name":"Jan S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641830884,"creation_date":1639553117,"answer_id":70359798,"question_id":70308808,"body_markdown":"The upgrade to Log4j 2.15.x is not enough. There is another exploit (see *[Second Log4j vulnerability discovered, patch already released][1]*) and a new version Log4j 2.16 has been published already, disabling the default JNDI settings (*[Download Apache Log4j 2][2]*) and upgrade to 2.16 version is more important now.\r\n\r\nBut there are many Log4j clones, custom code using the same Log4j classes and that is why it&#39;s important to check the JVM settings, especially for previous JDK versions as prior to 6u211, 7u201 and 8u191 and disable [JNDI][3] + [RMI][4] settings. More about it was presented at [Black Hat][5] in 2016. See *[A journey from JNDI/LDAP manipulation to remote code execution dream land][6]*.\r\n\r\n  [1]: https://www.zdnet.com/article/second-log4j-vulnerability-found-apache-log4j-2-16-0-released/\r\n  [2]: https://logging.apache.org/log4j/2.x/download.html\r\n  [3]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [4]: https://en.wikipedia.org/wiki/Java_remote_method_invocation\r\n  [5]: https://en.wikipedia.org/wiki/Black_Hat_Briefings\r\n  [6]: https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf\r\n\r\n\r\n","title":"IBM Java get defaults (to mitigate CVE-2021-44228 AKA Log4Shell vulnerability)","body":"<p>The upgrade to Log4j 2.15.x is not enough. There is another exploit (see <em><a href=\"https://www.zdnet.com/article/second-log4j-vulnerability-found-apache-log4j-2-16-0-released/\" rel=\"nofollow noreferrer\">Second Log4j vulnerability discovered, patch already released</a></em>) and a new version Log4j 2.16 has been published already, disabling the default JNDI settings (<em><a href=\"https://logging.apache.org/log4j/2.x/download.html\" rel=\"nofollow noreferrer\">Download Apache Log4j 2</a></em>) and upgrade to 2.16 version is more important now.</p>\n<p>But there are many Log4j clones, custom code using the same Log4j classes and that is why it's important to check the JVM settings, especially for previous JDK versions as prior to 6u211, 7u201 and 8u191 and disable <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">JNDI</a> + <a href=\"https://en.wikipedia.org/wiki/Java_remote_method_invocation\" rel=\"nofollow noreferrer\">RMI</a> settings. More about it was presented at <a href=\"https://en.wikipedia.org/wiki/Black_Hat_Briefings\" rel=\"nofollow noreferrer\">Black Hat</a> in 2016. See <em><a href=\"https://www.blackhat.com/docs/us-16/materials/us-16-Munoz-A-Journey-From-JNDI-LDAP-Manipulation-To-RCE.pdf\" rel=\"nofollow noreferrer\">A journey from JNDI/LDAP manipulation to remote code execution dream land</a></em>.</p>\n"}],"owner":{"account_id":1095538,"reputation":1110,"user_id":1747983,"display_name":"Tilo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8905,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1641916970,"creation_date":1639160212,"question_id":70308808,"body_markdown":"How can I dump on Java (IBM Java) the default values to check the default of the following?\r\n\r\n    &quot;com.sun.jndi.rmi.object.trustURLCodebase&quot;\r\n    &quot;com.sun.jndi.cosnaming.object.trustURLCodebase&quot;\r\n\r\nSomething like this, but for the above parameters:\r\n\r\n```lang-none\r\njava -XX:+PrintFlagsFinal -version\r\n```\r\n\r\nThis is for a [CVE-2021-44228][1] mitigation review.\r\n\r\nIdeally this can be checked on cmd and not need to run test code.\r\n\r\nHere is my attempt of test code which doesn&#39;t show (display Null):\r\n\r\n```lang-java\r\nimport java.util.Properties;\r\n\r\nclass TiloDisplay\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Properties prop = System.getProperties();\r\n        printProperties(prop);\r\n    }\r\n\r\n    public static void printProperties(Properties prop) {\r\n        prop.stringPropertyNames().stream()\r\n                .map(key -&gt; key + &quot;: &quot; + prop.getProperty(key))\r\n                .forEach(System.out::println);\r\n        System.out.println(&quot;CVE check part ========================================== &quot; );\r\n        System.out.println(&quot;CVE check for:: com.sun.jndi.ldap.object.trustURLCodebase: &quot; + prop.getProperty(&quot;com.sun.jndi.ldap.object.trustURLCodebase&quot;));\r\n        System.out.println(&quot;CVE check for:: com.sun.jndi.rmi.object.trustURLCodebase: &quot; + prop.getProperty(&quot;com.sun.jndi.rmi.object.trustURLCodebase&quot;));\r\n        System.out.println(&quot;CVE check for:: com.sun.jndi.cosnaming.object.trustURLCodebase: &quot; + prop.getProperty(&quot;com.sun.jndi.cosnaming.object.trustURLCodebase&quot;));\r\n        System.out.println(&quot;Cross Check: &quot; + prop.getProperty(&quot;java.version&quot;));\r\n    }\r\n}\r\n```\r\n\r\nCompile and run:\r\n\r\n```lang-none\r\njavac DisplayApp.java -source 1.8 -target 1.8\r\njava TiloDisplay\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Log4Shell\r\n\r\n\r\n","title":"IBM Java get defaults (to mitigate CVE-2021-44228 AKA Log4Shell vulnerability)","body":"<p>How can I dump on Java (IBM Java) the default values to check the default of the following?</p>\n<pre><code>&quot;com.sun.jndi.rmi.object.trustURLCodebase&quot;\n&quot;com.sun.jndi.cosnaming.object.trustURLCodebase&quot;\n</code></pre>\n<p>Something like this, but for the above parameters:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -XX:+PrintFlagsFinal -version\n</code></pre>\n<p>This is for a <a href=\"https://en.wikipedia.org/wiki/Log4Shell\" rel=\"nofollow noreferrer\">CVE-2021-44228</a> mitigation review.</p>\n<p>Ideally this can be checked on cmd and not need to run test code.</p>\n<p>Here is my attempt of test code which doesn't show (display Null):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Properties;\n\nclass TiloDisplay\n{\n    public static void main(String[] args)\n    {\n        Properties prop = System.getProperties();\n        printProperties(prop);\n    }\n\n    public static void printProperties(Properties prop) {\n        prop.stringPropertyNames().stream()\n                .map(key -&gt; key + &quot;: &quot; + prop.getProperty(key))\n                .forEach(System.out::println);\n        System.out.println(&quot;CVE check part ========================================== &quot; );\n        System.out.println(&quot;CVE check for:: com.sun.jndi.ldap.object.trustURLCodebase: &quot; + prop.getProperty(&quot;com.sun.jndi.ldap.object.trustURLCodebase&quot;));\n        System.out.println(&quot;CVE check for:: com.sun.jndi.rmi.object.trustURLCodebase: &quot; + prop.getProperty(&quot;com.sun.jndi.rmi.object.trustURLCodebase&quot;));\n        System.out.println(&quot;CVE check for:: com.sun.jndi.cosnaming.object.trustURLCodebase: &quot; + prop.getProperty(&quot;com.sun.jndi.cosnaming.object.trustURLCodebase&quot;));\n        System.out.println(&quot;Cross Check: &quot; + prop.getProperty(&quot;java.version&quot;));\n    }\n}\n</code></pre>\n<p>Compile and run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac DisplayApp.java -source 1.8 -target 1.8\njava TiloDisplay\n</code></pre>\n"},{"tags":["java","database","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1641916773,"post_id":70669047,"comment_id":124930180,"body_markdown":"There are many tutorials (see https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion) on JsonBackReference which show it will be excluded from the JSON - so it will not behave the way you want. Including the client will serialize all its projects, so you might as well just fetch the client itself directly, as it will include this project within its projects.","body":"There are many tutorials (see <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>) on JsonBackReference which show it will be excluded from the JSON - so it will not behave the way you want. Including the client will serialize all its projects, so you might as well just fetch the client itself directly, as it will include this project within its projects."}],"answers":[{"tags":[],"owner":{"account_id":5888731,"reputation":1,"user_id":4635971,"display_name":"Nino Ecf Ninoecf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641916928,"creation_date":1641916928,"answer_id":70669778,"question_id":70669047,"body_markdown":"Note that:\r\n\r\n**@JsonManagedReference** is the forward part of reference  the one that gets serialized normally.\r\n**@JsonBackReference** is the back part of reference  it will be omitted from serialization.\r\nThe serialized Item object does not contain a reference to the Client object.\r\n\r\nUse **@JsonIdentityInfo**\r\n\r\n    @JsonIdentityInfo(\r\n      generator = ObjectIdGenerators.PropertyGenerator.class, \r\n      property = &quot;id&quot;)\r\n    public class Client\r\n    \r\n    @JsonIdentityInfo(\r\n      generator = ObjectIdGenerators.PropertyGenerator.class, \r\n      property = &quot;id&quot;)\r\n    public class Project\r\n    \r\n    @JsonIdentityInfo(\r\n      generator = ObjectIdGenerators.PropertyGenerator.class, \r\n      property = &quot;id&quot;)\r\n    public class Listing\r\n\r\nMore info here: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"How to create a 3 way bi-directional relationship with @JsonManagedReference and @JsonBackReference in JPA/Hibernate","body":"<p>Note that:</p>\n<p><strong>@JsonManagedReference</strong> is the forward part of reference  the one that gets serialized normally.\n<strong>@JsonBackReference</strong> is the back part of reference  it will be omitted from serialization.\nThe serialized Item object does not contain a reference to the Client object.</p>\n<p>Use <strong>@JsonIdentityInfo</strong></p>\n<pre><code>@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;id&quot;)\npublic class Client\n\n@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;id&quot;)\npublic class Project\n\n@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;id&quot;)\npublic class Listing\n</code></pre>\n<p>More info here: <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n"}],"owner":{"account_id":12979377,"reputation":3,"user_id":9382370,"display_name":"Chris Dworczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641916928,"creation_date":1641913653,"question_id":70669047,"body_markdown":"My entities are set up as such:\r\n-------------------------------\r\n\r\nClient\r\n------\r\n\r\n    \r\n\r\n\r\n        @Entity\r\n        @Table(name = &quot;client&quot;)\r\n        public class Client {\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id;\r\n            \r\n            ...\r\n        \r\n            @OneToMany(mappedBy = &quot;client&quot;)\r\n            @JsonManagedReference\r\n            private List&lt;Project&gt; projects;\r\n        }\r\n\r\nProject\r\n-------\r\n\r\n        @Entity\r\n        @Table(name = &quot;project&quot;)\r\n        public class Project {\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id;\r\n            \r\n            ...\r\n        \r\n            @ManyToOne(name= &quot;client&quot;)\r\n            @JsonBackReference\r\n            private Client client;\r\n\r\n            @OneToMany(mappedBy = &quot;project&quot;)\r\n            @JsonManagedReference\r\n            private List&lt;Listing&gt; listings;\r\n        }\r\n\r\nListing\r\n-------\r\n\r\n    @Entity\r\n        @Table(name = &quot;listing&quot;)\r\n        public class Listing{\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id;\r\n            \r\n            ...\r\n\r\n            @ManyToOne(name= &quot;project&quot;)\r\n            @JsonBackReference\r\n            private Project project;\r\n        }\r\n\r\n\r\n\r\nCurrently, If I make a call to a specific client by ID then I will get the Client, their projects, and the listings for that project. This works as it should. However, when I make a call to the Project by ID I only get the listings of that project, I would also like to know WHICH Client OWNS that project. Similarly, when I call Listing by ID then I ONLY receive the listing with that ID, I would also like the PROJECT which OWNS that Listing as well as the CLIENT which owns it, is this possible to do? Thank you.","title":"How to create a 3 way bi-directional relationship with @JsonManagedReference and @JsonBackReference in JPA/Hibernate","body":"<h2>My entities are set up as such:</h2>\n<h2>Client</h2>\n<pre><code>    @Entity\n    @Table(name = &quot;client&quot;)\n    public class Client {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        \n        ...\n    \n        @OneToMany(mappedBy = &quot;client&quot;)\n        @JsonManagedReference\n        private List&lt;Project&gt; projects;\n    }\n</code></pre>\n<h2>Project</h2>\n<pre><code>    @Entity\n    @Table(name = &quot;project&quot;)\n    public class Project {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        \n        ...\n    \n        @ManyToOne(name= &quot;client&quot;)\n        @JsonBackReference\n        private Client client;\n\n        @OneToMany(mappedBy = &quot;project&quot;)\n        @JsonManagedReference\n        private List&lt;Listing&gt; listings;\n    }\n</code></pre>\n<h2>Listing</h2>\n<pre><code>@Entity\n    @Table(name = &quot;listing&quot;)\n    public class Listing{\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        \n        ...\n\n        @ManyToOne(name= &quot;project&quot;)\n        @JsonBackReference\n        private Project project;\n    }\n</code></pre>\n<p>Currently, If I make a call to a specific client by ID then I will get the Client, their projects, and the listings for that project. This works as it should. However, when I make a call to the Project by ID I only get the listings of that project, I would also like to know WHICH Client OWNS that project. Similarly, when I call Listing by ID then I ONLY receive the listing with that ID, I would also like the PROJECT which OWNS that Listing as well as the CLIENT which owns it, is this possible to do? Thank you.</p>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":122,"is_accepted":true,"score":122,"last_activity_date":1504781334,"creation_date":1389483360,"answer_id":21069296,"question_id":21065854,"body_markdown":"The status logger is used internally by log4j2 components. Setting `status=&quot;debug&quot;` (or &quot;trace&quot;) in the configuration will cause this internal logging to be output to the command line. \r\n\r\nIt will print debug information about which log4j2 plugin components are loaded (all configuration elements map to log4j2 plugins), and more details like for example what appenders and loggers were found, what parameters they have and how they are combined.\r\n\r\nThis is useful for troubleshooting configuration issues.\n\nFrom Log4j 2.9, you can use system property `log4j2.debug` (no value required) to turn on internal Log4j2 status logging even before the configuration file is loaded. Prior to version 2.9, the same can be achieved with system property ` -Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE`. ","title":"What does status mean in Log4j2 configuration?","body":"<p>The status logger is used internally by log4j2 components. Setting <code>status=\"debug\"</code> (or \"trace\") in the configuration will cause this internal logging to be output to the command line. </p>\n\n<p>It will print debug information about which log4j2 plugin components are loaded (all configuration elements map to log4j2 plugins), and more details like for example what appenders and loggers were found, what parameters they have and how they are combined.</p>\n\n<p>This is useful for troubleshooting configuration issues.</p>\n\n<p>From Log4j 2.9, you can use system property <code>log4j2.debug</code> (no value required) to turn on internal Log4j2 status logging even before the configuration file is loaded. Prior to version 2.9, the same can be achieved with system property <code>-Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE</code>. </p>\n"}],"owner":{"account_id":1867377,"reputation":3480,"user_id":1690578,"accept_rate":73,"display_name":"Yurii Bondarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46766,"favorite_count":0,"down_vote_count":1,"up_vote_count":98,"accepted_answer_id":21069296,"answer_count":1,"score":97,"last_activity_date":1641916541,"creation_date":1389463228,"question_id":21065854,"body_markdown":"I just have finished adjustment of log4j2.xml configuration file and spotted something I don&#39;t really understand. So what is `&lt;Configuration status=&quot;SOME_STATUS_HERE&quot;&gt;`?\r\n\r\nAlmost in all examples here :\r\nhttp://logging.apache.org/log4j/2.x/manual/configuration.html\r\nfolks from Apache added status to configuration.\r\n\r\nFor example here is the first one:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt; &lt;!--status=&quot;WARN&quot; - what is this???--&gt; \r\n \r\n &lt;Appenders&gt;\r\n  &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n   &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n  &lt;/Console&gt;\r\n &lt;/Appenders&gt;\r\n\r\n &lt;Loggers&gt;\r\n  &lt;Root level=&quot;error&quot;&gt;\r\n   &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n  &lt;/Root&gt;\r\n &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```","title":"What does status mean in Log4j2 configuration?","body":"<p>I just have finished adjustment of log4j2.xml configuration file and spotted something I don't really understand. So what is <code>&lt;Configuration status=&quot;SOME_STATUS_HERE&quot;&gt;</code>?</p>\n<p>Almost in all examples here :\n<a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html</a>\nfolks from Apache added status to configuration.</p>\n<p>For example here is the first one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt; &lt;!--status=&quot;WARN&quot; - what is this???--&gt; \n \n &lt;Appenders&gt;\n  &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n   &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n  &lt;/Console&gt;\n &lt;/Appenders&gt;\n\n &lt;Loggers&gt;\n  &lt;Root level=&quot;error&quot;&gt;\n   &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n  &lt;/Root&gt;\n &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1526089005,"post_id":50302046,"comment_id":87620682,"body_markdown":"The javadoc explains this:   https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","body":"The javadoc explains this:   <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":11811166,"reputation":58,"user_id":8642594,"accept_rate":100,"display_name":"user8642594"},"score":1,"creation_date":1526089829,"post_id":50302046,"comment_id":87620791,"body_markdown":"don&#39;t know how I missed this. Thank you","body":"don&#39;t know how I missed this. Thank you"},{"owner":{"account_id":104253,"reputation":24492,"user_id":278842,"accept_rate":51,"display_name":"Christopher Oezbek"},"score":0,"creation_date":1641915935,"post_id":50302046,"comment_id":124929764,"body_markdown":"If I search the Javadocs I don&#39;t find `\\p{P}` just `\\p{Punctuation}` and `\\p{Print}`. Similarly I searched the referenced answer which is already supposed to answer this question and also don&#39;t find a reference to `\\p{P}`","body":"If I search the Javadocs I don&#39;t find <code>\\p{P}</code> just <code>\\p{Punctuation}</code> and <code>\\p{Print}</code>. Similarly I searched the referenced answer which is already supposed to answer this question and also don&#39;t find a reference to <code>\\p{P}</code>"},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1643796304,"post_id":50302046,"comment_id":125431998,"body_markdown":"The linked question (&quot;[What does this regex mean?](//stackoverflow.com/q/22937618/90527)&quot;) doesn&#39;t specifically mention the punctuation Unicode category, but does state that `\\p` is for Unicode categories, which addresses what `\\p` means (which is asked in this question). Whether it&#39;s a duplicate depends in part on whether this question is primarily asking for an explanation for `\\p`, or what the &#39;P&#39; category is (in which case, this question is actually asking 2 questions, one of which is a duplicate).","body":"The linked question (&quot;<a href=\"//stackoverflow.com/q/22937618/90527\">What does this regex mean?</a>&quot;) doesn&#39;t specifically mention the punctuation Unicode category, but does state that <code>\\p</code> is for Unicode categories, which addresses what <code>\\p</code> means (which is asked in this question). Whether it&#39;s a duplicate depends in part on whether this question is primarily asking for an explanation for <code>\\p</code>, or what the &#39;P&#39; category is (in which case, this question is actually asking 2 questions, one of which is a duplicate)."}],"answers":[{"tags":[],"owner":{"account_id":13552037,"reputation":96,"user_id":9776641,"display_name":"Shamus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526088403,"creation_date":1526088403,"answer_id":50302074,"question_id":50302046,"body_markdown":"In PCRE regular expressions\r\n\r\n - `\\p{P}` is &quot;Any punctuation character&quot;\r\n - `\\p{Z}` is &quot;Any whitespace character&quot;\r\n\r\nSee the &quot;EXPLANATION&quot; section on the right: https://regex101.com/r/ZFIKpv/1","title":"What does \\p{P} mean?","body":"<p>In PCRE regular expressions</p>\n\n<ul>\n<li><code>\\p{P}</code> is \"Any punctuation character\"</li>\n<li><code>\\p{Z}</code> is \"Any whitespace character\"</li>\n</ul>\n\n<p>See the \"EXPLANATION\" section on the right: <a href=\"https://regex101.com/r/ZFIKpv/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/ZFIKpv/1</a></p>\n"}],"owner":{"account_id":11811166,"reputation":58,"user_id":8642594,"accept_rate":100,"display_name":"user8642594"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7020,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1526114641,"answer_count":1,"score":-1,"last_activity_date":1641916076,"creation_date":1526088177,"question_id":50302046,"body_markdown":"So, I was messing around with regex to convert sentences into pig latin, and decided to extend the assignment to allow for punctuation. \r\nI was looking for a regex that allowed for me to replace the punctuation with an empty string and found `myString.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;);` and was curious as to what the \\p and {P} actually do here. Other similar questions have used `&quot;\\\\p{Z}&quot;` to replace whitespace, which leads me to think the \\p is searching for whatever is inside of the brackets.\r\n\r\nAnyways any clarifications or directions to documentation would be much appreciated.","title":"What does \\p{P} mean?","body":"<p>So, I was messing around with regex to convert sentences into pig latin, and decided to extend the assignment to allow for punctuation.\nI was looking for a regex that allowed for me to replace the punctuation with an empty string and found <code>myString.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;);</code> and was curious as to what the \\p and {P} actually do here. Other similar questions have used <code>&quot;\\\\p{Z}&quot;</code> to replace whitespace, which leads me to think the \\p is searching for whatever is inside of the brackets.</p>\n<p>Anyways any clarifications or directions to documentation would be much appreciated.</p>\n"},{"tags":["java","jnlp","adoptopenjdk","openwebstart"],"answers":[{"tags":[],"owner":{"account_id":8848954,"reputation":1,"user_id":6608894,"display_name":"Ciprian Maftei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641915893,"creation_date":1641915893,"answer_id":70669554,"question_id":70081224,"body_markdown":"I had the same issue, the downgrade of Jenkins Version to 2.303.3 seems to resolve my problem.","title":"JNLP file blocked by security manager stating the error -&gt; java.security.AccessControlException: access denied","body":"<p>I had the same issue, the downgrade of Jenkins Version to 2.303.3 seems to resolve my problem.</p>\n"}],"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641915893,"creation_date":1637671772,"question_id":70081224,"body_markdown":"I am trying to run my jnlp file which is basically getting my jenkins agent online after i reboot my pc , previously with java web start recently with OpenWebStart i am getting this issue every time when i launch jnlp file after 02 - 03 seconds it terminated the session and in log file i have seen this error\r\n\r\nFollowing are the configuration \r\nOS: Windows 10\r\nOpenWebStart version : 1.4.0\r\nJVM : 11.0.10\r\nOpen JDK : 1.8.0_302\r\n\r\nI already tried to with different higher version of openjdk to check this issue and i got that error even with the OpenJDK: 1.11.---\r\n\r\nLog File :-\r\n\r\n    Nov. 23, 2021 1:29:45 NACHM. org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver resolve\r\n    INFORMATION: Remoting server accepts the following protocols: [JNLP4-connect, Ping]\r\n    Nov. 23, 2021 1:29:52 NACHM. org.jenkinsci.remoting.protocol.impl.BIONetworkLayer$Reader run\r\n    INFORMATION: Waiting for ProtocolStack to start.\r\n    Nov. 23, 2021 1:29:56 NACHM. hudson.remoting.UserRequest perform\r\n    WARNUNG: LinkageError while performing UserRequest:hudson.slaves.SlaveComputer$SlaveInitializer@7f43a890\r\n    java.lang.ExceptionInInitializerError\r\n    \tat hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1050)\r\n    \tat hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1041)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n    \tat hudson.remoting.Request$2.run(Request.java:376)\r\n    \tat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:122)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;hudson.util.RingBufferLogHandler.defaultSize&quot; &quot;read&quot;)\r\n    \tat java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n    \tat java.base/java.security.AccessController.checkPermission(AccessController.java:897)\r\n    \tat java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\r\n    \tat net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:271)\r\n    \tat java.base/java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1066)\r\n    \tat java.base/java.lang.System.getProperty(System.java:816)\r\n    \tat java.base/java.lang.Integer.getInteger(Integer.java:1340)\r\n    \tat java.base/java.lang.Integer.getInteger(Integer.java:1296)\r\n    \tat hudson.util.RingBufferLogHandler.&lt;clinit&gt;(RingBufferLogHandler.java:39)\r\n    \t... 11 more\r\n    \r\n    Nov. 23, 2021 1:30:07 NACHM. org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver resolve\r\n    INFORMATION: Remoting server accepts the following protocols: [JNLP4-connect, Ping]\r\n    Nov. 23, 2021 1:30:11 NACHM. org.jenkinsci.remoting.protocol.impl.BIONetworkLayer$Reader run\r\n    INFORMATION: Waiting for ProtocolStack to start.\r\n    Nov. 23, 2021 1:30:16 NACHM. hudson.remoting.UserRequest perform\r\n    WARNUNG: LinkageError while performing UserRequest:hudson.slaves.SlaveComputer$SlaveInitializer@7ad18fca\r\n    java.lang.ExceptionInInitializerError\r\n    \tat hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1050)\r\n    \tat hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1041)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n    \tat hudson.remoting.Request$2.run(Request.java:376)\r\n    \tat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:122)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;hudson.util.RingBufferLogHandler.defaultSize&quot; &quot;read&quot;)\r\n    \tat java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n    \tat java.base/java.security.AccessController.checkPermission(AccessController.java:897)\r\n    \tat java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\r\n    \tat net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:271)\r\n    \tat java.base/java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1066)\r\n    \tat java.base/java.lang.System.getProperty(System.java:816)\r\n    \tat java.base/java.lang.Integer.getInteger(Integer.java:1340)\r\n    \tat java.base/java.lang.Integer.getInteger(Integer.java:1296)\r\n    \tat hudson.util.RingBufferLogHandler.&lt;clinit&gt;(RingBufferLogHandler.java:39)\r\n    \t... 11 more\r\n\r\n\r\nMy JNLP file :-\r\n\r\n        &lt;jnlp codebase=&quot;http://localhost:7070/computer/testSystem/&quot; spec=&quot;1.0+&quot;&gt;\r\n        &lt;information&gt;\r\n        &lt;title&gt;\r\n        Agent for testSystem\r\n        &lt;/title&gt;\r\n        &lt;vendor&gt;\r\n        Jenkins project\r\n        &lt;/vendor&gt;\r\n        &lt;homepage href=&quot;https://jenkins-ci.org/&quot;&gt;&lt;/homepage&gt;\r\n        &lt;/information&gt;\r\n        &lt;security&gt;\r\n        &lt;all-permissions&gt;\r\n        &lt;/all-permissions&gt;\r\n        &lt;/security&gt;\r\n        &lt;resources&gt;\r\n        &lt;j2se version=&quot;1.8+&quot;&gt;\r\n        &lt;/j2se&gt;\r\n        &lt;jar href=&quot;http://localhost:7070/jnlpJars/remoting.jar&quot;&gt;\r\n        &lt;/jar&gt;\r\n        &lt;/resources&gt;\r\n        &lt;application-desc main-class=&quot;hudson.remoting.jnlp.Main&quot;&gt;\r\n        &lt;argument&gt;\r\n        338e93b0b127faf70a56c0edec39a70804accd7157c49e1e37e3be14aa8ea8db\r\n        &lt;/argument&gt;\r\n        &lt;argument&gt;BAL&lt;/argument&gt;\r\n        &lt;argument&gt;-workDir&lt;/argument&gt;\r\n        &lt;argument&gt;\r\n        C:\\Jenkins\r\n        &lt;/argument&gt;\r\n        &lt;argument&gt;\r\n        -internalDir\r\n    &lt;/argument&gt;\r\n        &lt;argument&gt;\r\n        remoting\r\n        &lt;/argument&gt;\r\n        &lt;argument&gt;\r\n        -url\r\n        &lt;/argument&gt;\r\n        &lt;argument&gt;\r\n        http://localhost:7070/&lt;/argument&gt;\r\n        &lt;/application-desc&gt;\r\n        &lt;/jnlp&gt;","title":"JNLP file blocked by security manager stating the error -&gt; java.security.AccessControlException: access denied","body":"<p>I am trying to run my jnlp file which is basically getting my jenkins agent online after i reboot my pc , previously with java web start recently with OpenWebStart i am getting this issue every time when i launch jnlp file after 02 - 03 seconds it terminated the session and in log file i have seen this error</p>\n<p>Following are the configuration\nOS: Windows 10\nOpenWebStart version : 1.4.0\nJVM : 11.0.10\nOpen JDK : 1.8.0_302</p>\n<p>I already tried to with different higher version of openjdk to check this issue and i got that error even with the OpenJDK: 1.11.---</p>\n<p>Log File :-</p>\n<pre><code>Nov. 23, 2021 1:29:45 NACHM. org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver resolve\nINFORMATION: Remoting server accepts the following protocols: [JNLP4-connect, Ping]\nNov. 23, 2021 1:29:52 NACHM. org.jenkinsci.remoting.protocol.impl.BIONetworkLayer$Reader run\nINFORMATION: Waiting for ProtocolStack to start.\nNov. 23, 2021 1:29:56 NACHM. hudson.remoting.UserRequest perform\nWARNUNG: LinkageError while performing UserRequest:hudson.slaves.SlaveComputer$SlaveInitializer@7f43a890\njava.lang.ExceptionInInitializerError\n    at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1050)\n    at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1041)\n    at hudson.remoting.UserRequest.perform(UserRequest.java:211)\n    at hudson.remoting.UserRequest.perform(UserRequest.java:54)\n    at hudson.remoting.Request$2.run(Request.java:376)\n    at hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:122)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;hudson.util.RingBufferLogHandler.defaultSize&quot; &quot;read&quot;)\n    at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.base/java.security.AccessController.checkPermission(AccessController.java:897)\n    at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\n    at net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:271)\n    at java.base/java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1066)\n    at java.base/java.lang.System.getProperty(System.java:816)\n    at java.base/java.lang.Integer.getInteger(Integer.java:1340)\n    at java.base/java.lang.Integer.getInteger(Integer.java:1296)\n    at hudson.util.RingBufferLogHandler.&lt;clinit&gt;(RingBufferLogHandler.java:39)\n    ... 11 more\n\nNov. 23, 2021 1:30:07 NACHM. org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver resolve\nINFORMATION: Remoting server accepts the following protocols: [JNLP4-connect, Ping]\nNov. 23, 2021 1:30:11 NACHM. org.jenkinsci.remoting.protocol.impl.BIONetworkLayer$Reader run\nINFORMATION: Waiting for ProtocolStack to start.\nNov. 23, 2021 1:30:16 NACHM. hudson.remoting.UserRequest perform\nWARNUNG: LinkageError while performing UserRequest:hudson.slaves.SlaveComputer$SlaveInitializer@7ad18fca\njava.lang.ExceptionInInitializerError\n    at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1050)\n    at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1041)\n    at hudson.remoting.UserRequest.perform(UserRequest.java:211)\n    at hudson.remoting.UserRequest.perform(UserRequest.java:54)\n    at hudson.remoting.Request$2.run(Request.java:376)\n    at hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:122)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;hudson.util.RingBufferLogHandler.defaultSize&quot; &quot;read&quot;)\n    at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.base/java.security.AccessController.checkPermission(AccessController.java:897)\n    at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\n    at net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:271)\n    at java.base/java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1066)\n    at java.base/java.lang.System.getProperty(System.java:816)\n    at java.base/java.lang.Integer.getInteger(Integer.java:1340)\n    at java.base/java.lang.Integer.getInteger(Integer.java:1296)\n    at hudson.util.RingBufferLogHandler.&lt;clinit&gt;(RingBufferLogHandler.java:39)\n    ... 11 more\n</code></pre>\n<p>My JNLP file :-</p>\n<pre><code>    &lt;jnlp codebase=&quot;http://localhost:7070/computer/testSystem/&quot; spec=&quot;1.0+&quot;&gt;\n    &lt;information&gt;\n    &lt;title&gt;\n    Agent for testSystem\n    &lt;/title&gt;\n    &lt;vendor&gt;\n    Jenkins project\n    &lt;/vendor&gt;\n    &lt;homepage href=&quot;https://jenkins-ci.org/&quot;&gt;&lt;/homepage&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n    &lt;all-permissions&gt;\n    &lt;/all-permissions&gt;\n    &lt;/security&gt;\n    &lt;resources&gt;\n    &lt;j2se version=&quot;1.8+&quot;&gt;\n    &lt;/j2se&gt;\n    &lt;jar href=&quot;http://localhost:7070/jnlpJars/remoting.jar&quot;&gt;\n    &lt;/jar&gt;\n    &lt;/resources&gt;\n    &lt;application-desc main-class=&quot;hudson.remoting.jnlp.Main&quot;&gt;\n    &lt;argument&gt;\n    338e93b0b127faf70a56c0edec39a70804accd7157c49e1e37e3be14aa8ea8db\n    &lt;/argument&gt;\n    &lt;argument&gt;BAL&lt;/argument&gt;\n    &lt;argument&gt;-workDir&lt;/argument&gt;\n    &lt;argument&gt;\n    C:\\Jenkins\n    &lt;/argument&gt;\n    &lt;argument&gt;\n    -internalDir\n&lt;/argument&gt;\n    &lt;argument&gt;\n    remoting\n    &lt;/argument&gt;\n    &lt;argument&gt;\n    -url\n    &lt;/argument&gt;\n    &lt;argument&gt;\n    http://localhost:7070/&lt;/argument&gt;\n    &lt;/application-desc&gt;\n    &lt;/jnlp&gt;\n</code></pre>\n"},{"tags":["java","android","pytorch"],"answers":[{"tags":[],"owner":{"account_id":5869242,"reputation":10510,"user_id":4622046,"display_name":"Zabir Al Nazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641915235,"creation_date":1641885558,"answer_id":70662943,"question_id":70635721,"body_markdown":"This one works for initializing a tensor with all zeros.\r\n```\r\nFloatBuffer buffer = Tensor.allocateFloatBuffer(1*224*224*3);\r\nTensor tensor = Tensor.fromBlob(buffer, new long[]{1, 224, 224, 3});\r\n```","title":"How to create a random tensor with a given shape in pytorch lite (Java)?","body":"<p>This one works for initializing a tensor with all zeros.</p>\n<pre><code>FloatBuffer buffer = Tensor.allocateFloatBuffer(1*224*224*3);\nTensor tensor = Tensor.fromBlob(buffer, new long[]{1, 224, 224, 3});\n</code></pre>\n"}],"owner":{"account_id":5869242,"reputation":10510,"user_id":4622046,"display_name":"Zabir Al Nazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641915235,"creation_date":1641670270,"question_id":70635721,"body_markdown":"I want to create a random tensor with a shape (BxHxWxC) to test my `ptl` model. How can I create it?\r\n\r\nI have seen the documentation here: https://pytorch.org/javadoc/1.4.0/org/pytorch/Tensor.html\r\n\r\nI see `fromBlob` but not any method to create a random tensor with a specific shape which is pretty normal in pytorch to test a model.\r\n","title":"How to create a random tensor with a given shape in pytorch lite (Java)?","body":"<p>I want to create a random tensor with a shape (BxHxWxC) to test my <code>ptl</code> model. How can I create it?</p>\n<p>I have seen the documentation here: <a href=\"https://pytorch.org/javadoc/1.4.0/org/pytorch/Tensor.html\" rel=\"nofollow noreferrer\">https://pytorch.org/javadoc/1.4.0/org/pytorch/Tensor.html</a></p>\n<p>I see <code>fromBlob</code> but not any method to create a random tensor with a specific shape which is pretty normal in pytorch to test a model.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","swagger-2.0"],"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":1,"creation_date":1528261271,"post_id":50712519,"comment_id":88433896,"body_markdown":"Please refer: https://github.com/springfox/springfox/issues/977","body":"Please refer: <a href=\"https://github.com/springfox/springfox/issues/977\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/977</a>"},{"owner":{"account_id":8877678,"reputation":91,"user_id":6629184,"display_name":"mmr25"},"score":0,"creation_date":1617942028,"post_id":50712519,"comment_id":118456630,"body_markdown":"This solution works perfectly for me\n[https://stackoverflow.com/a/59948001](https://stackoverflow.com/a/59948001)","body":"This solution works perfectly for me <a href=\"https://stackoverflow.com/a/59948001\">https://stackoverflow.com/a/59948001</a>"}],"answers":[{"tags":[],"owner":{"account_id":4294979,"reputation":914,"user_id":3510285,"display_name":"Hatice"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528348936,"creation_date":1528264189,"answer_id":50713024,"question_id":50712519,"body_markdown":"   Try this configuration class.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig extends WebMvcConfigurationSupport {\r\n    \r\n      @Bean\r\n      public Docket productApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n            .select().apis(RequestHandlerSelectors.basePackage(&quot;&quot;my.favorite.package&quot;&quot;))\r\n                            .paths(regex(PathSelectors.any()))\r\n            .build();\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/documentation/v2/api-docs&quot;, &quot;/v2/api-docs&quot;).setKeepQueryParams(true);\r\n        registry.addRedirectViewController(&quot;/documentation/swagger-resources/configuration/ui&quot;, &quot;/swagger-resources/configuration/ui&quot;);\r\n        registry.addRedirectViewController(&quot;/documentation/swagger-resources/configuration/security&quot;, &quot;/swagger-resources/configuration/security&quot;);\r\n        registry.addRedirectViewController(&quot;/documentation/swagger-resources&quot;, &quot;/swagger-resources&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/documentation/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n      }\r\n    \r\n    \r\n    }","title":"How to change Swagger-ui URL prefix?","body":"<p>Try this configuration class.</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig extends WebMvcConfigurationSupport {\n\n  @Bean\n  public Docket productApi() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select().apis(RequestHandlerSelectors.basePackage(\"\"my.favorite.package\"\"))\n                        .paths(regex(PathSelectors.any()))\n        .build();\n\n  }\n\n  @Override\n  public void addViewControllers(ViewControllerRegistry registry) {\n    registry.addRedirectViewController(\"/documentation/v2/api-docs\", \"/v2/api-docs\").setKeepQueryParams(true);\n    registry.addRedirectViewController(\"/documentation/swagger-resources/configuration/ui\", \"/swagger-resources/configuration/ui\");\n    registry.addRedirectViewController(\"/documentation/swagger-resources/configuration/security\", \"/swagger-resources/configuration/security\");\n    registry.addRedirectViewController(\"/documentation/swagger-resources\", \"/swagger-resources\");\n  }\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"/documentation/**\").addResourceLocations(\"classpath:/META-INF/resources/\");\n  }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641915179,"creation_date":1615820362,"answer_id":66640426,"question_id":50712519,"body_markdown":"### UPD: Springfox is abandoned\r\n\r\nSpringfox Swagger had always been kinda dirty solution with a lot of unclearness and bugs, but by now (2021 Q4) it hadn&#39;t been updated for more than a year.\r\n\r\nThe final straw was the fact that [Springfox Swagger 3.0 doesn&#39;t work anymore with Spring Boot 2.6.x.][1]\r\n\r\nSo, if you reading this, please, consider switching over to https://springdoc.org/ instead. \r\n\r\n&gt; It&#39;s a pretty straightforward conversion and they do a great job of\r\n&gt; documenting it. https://springdoc.org/#migrating-from-springfox.\r\n\r\n### Original answer\r\n\r\nI&#39;ve found a working solution for Springfox 3.0.0 [here][2]:\r\n\r\n```\r\nspringfox:\r\n  documentation:\r\n    swaggerUi:\r\n      baseUrl: /documentation\r\n    openApi:\r\n      v3:\r\n        path: /documentation/v3/api-docs\r\n    swagger:\r\n      v2:\r\n        path: /documentation/v2/api-docs\r\n```\r\n\r\nConfiguration above will change base-path for Swagger endpoints to `/documentation` without any redirects and other crutches.\r\n\r\nIt is sad that these configurations is missing in the docs tho.\r\n\r\n[1]: https://github.com/springfox/springfox/issues/3934\r\n[2]: https://github.com/springfox/springfox/issues/2250#issuecomment-667454685","title":"How to change Swagger-ui URL prefix?","body":"<h3>UPD: Springfox is abandoned</h3>\n<p>Springfox Swagger had always been kinda dirty solution with a lot of unclearness and bugs, but by now (2021 Q4) it hadn't been updated for more than a year.</p>\n<p>The final straw was the fact that <a href=\"https://github.com/springfox/springfox/issues/3934\" rel=\"nofollow noreferrer\">Springfox Swagger 3.0 doesn't work anymore with Spring Boot 2.6.x.</a></p>\n<p>So, if you reading this, please, consider switching over to <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">https://springdoc.org/</a> instead.</p>\n<blockquote>\n<p>It's a pretty straightforward conversion and they do a great job of\ndocumenting it. <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">https://springdoc.org/#migrating-from-springfox</a>.</p>\n</blockquote>\n<h3>Original answer</h3>\n<p>I've found a working solution for Springfox 3.0.0 <a href=\"https://github.com/springfox/springfox/issues/2250#issuecomment-667454685\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>springfox:\n  documentation:\n    swaggerUi:\n      baseUrl: /documentation\n    openApi:\n      v3:\n        path: /documentation/v3/api-docs\n    swagger:\n      v2:\n        path: /documentation/v2/api-docs\n</code></pre>\n<p>Configuration above will change base-path for Swagger endpoints to <code>/documentation</code> without any redirects and other crutches.</p>\n<p>It is sad that these configurations is missing in the docs tho.</p>\n"},{"tags":[],"owner":{"account_id":4844082,"reputation":11,"user_id":5605183,"display_name":"Harsha VK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630312282,"creation_date":1630312282,"answer_id":68981054,"question_id":50712519,"body_markdown":"You can simply use\r\nserver.servlet.context-path=/my/custom/path/\r\n\r\nthis works as per requirement.","title":"How to change Swagger-ui URL prefix?","body":"<p>You can simply use\nserver.servlet.context-path=/my/custom/path/</p>\n<p>this works as per requirement.</p>\n"}],"owner":{"account_id":2471884,"reputation":189,"user_id":2153533,"display_name":"Ravi Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32539,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1641915179,"creation_date":1528261090,"question_id":50712519,"body_markdown":"I am using Springfox Swagger2 with Spring boot 1.5.9.\r\n\r\nI can access swagger UI on this link.\r\n\r\nhttp://localhost:8090/swagger-ui.html\r\n\r\nHow can I change it to be available on following URL?\r\n\r\nhttp://localhost:8090/my/custom/path/swagger-ui.html\r\n\r\n    @EnableSwagger2\r\n    public class Configuration {\r\n\r\n\t@Bean\r\n    public Docket api() { \r\n        return new Docket(DocumentationType.SWAGGER_2)  \r\n          .select()\r\n          .apis(RequestHandlerSelectors.basePackage(&quot;my.favorite.package&quot;))\r\n          .paths(PathSelectors.any())\r\n          .build()\r\n          .apiInfo(apiInfo()).useDefaultResponseMessages(false);\r\n    }\r\n\t\r\n\tprivate ApiInfo apiInfo() {\r\n\t\treturn new ApiInfoBuilder().title(&quot;My title&quot;).version(&quot;1.0&quot;)\r\n\t\t\t\t.contact(new Contact(&quot;Blah&quot;, &quot;blah.com&quot;, &quot;blah@blah.com&quot;)).build();\r\n\t}\r\n    }\r\n","title":"How to change Swagger-ui URL prefix?","body":"<p>I am using Springfox Swagger2 with Spring boot 1.5.9.</p>\n\n<p>I can access swagger UI on this link.</p>\n\n<p><a href=\"http://localhost:8090/swagger-ui.html\" rel=\"noreferrer\">http://localhost:8090/swagger-ui.html</a></p>\n\n<p>How can I change it to be available on following URL?</p>\n\n<p><a href=\"http://localhost:8090/my/custom/path/swagger-ui.html\" rel=\"noreferrer\">http://localhost:8090/my/custom/path/swagger-ui.html</a></p>\n\n<pre><code>@EnableSwagger2\npublic class Configuration {\n\n@Bean\npublic Docket api() { \n    return new Docket(DocumentationType.SWAGGER_2)  \n      .select()\n      .apis(RequestHandlerSelectors.basePackage(\"my.favorite.package\"))\n      .paths(PathSelectors.any())\n      .build()\n      .apiInfo(apiInfo()).useDefaultResponseMessages(false);\n}\n\nprivate ApiInfo apiInfo() {\n    return new ApiInfoBuilder().title(\"My title\").version(\"1.0\")\n            .contact(new Contact(\"Blah\", \"blah.com\", \"blah@blah.com\")).build();\n}\n}\n</code></pre>\n"},{"tags":["java","json","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1641903778,"post_id":70666697,"comment_id":124924196,"body_markdown":"What exactly is the result you are looking for? And which Postgres version are you using?","body":"What exactly is the result you are looking for? And which Postgres version are you using?"},{"owner":{"account_id":23563717,"reputation":41,"user_id":17604761,"display_name":"Michael Lipilov"},"score":0,"creation_date":1641904298,"post_id":70666697,"comment_id":124924414,"body_markdown":"postgres:13.1,\n\nexpected: column with one row where the searched value is","body":"postgres:13.1,  expected: column with one row where the searched value is"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1641905099,"post_id":70666697,"comment_id":124924689,"body_markdown":"You mean the position of a specific value inside the array?","body":"You mean the position of a specific value inside the array?"},{"owner":{"account_id":10969163,"reputation":6667,"user_id":8060017,"display_name":"Edouard"},"score":1,"creation_date":1641905827,"post_id":70666697,"comment_id":124925010,"body_markdown":"In your query you only `SELECT json_column`, so basically it prints out the json column, the `LATERAL` query is just without any effect here. What is the criteria to filter the right value from your json data : the position in the json array, the value, ... anything else ?","body":"In your query you only <code>SELECT json_column</code>, so basically it prints out the json column, the <code>LATERAL</code> query is just without any effect here. What is the criteria to filter the right value from your json data : the position in the json array, the value, ... anything else ?"},{"owner":{"account_id":23563717,"reputation":41,"user_id":17604761,"display_name":"Michael Lipilov"},"score":0,"creation_date":1641907785,"post_id":70666697,"comment_id":124925772,"body_markdown":"@Edouard, the JSON structure that I have posted is saved in DB the way I showed in the post. So, I have a key, called ids, and array of ids. I just need smth like this:\n\nSELECT table.ids WHERE ids.value = 12","body":"@Edouard, the JSON structure that I have posted is saved in DB the way I showed in the post. So, I have a key, called ids, and array of ids. I just need smth like this:  SELECT table.ids WHERE ids.value = 12"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641915052,"creation_date":1641909863,"answer_id":70668134,"question_id":70666697,"body_markdown":"- Use `json_array_elements` to unpack the json array\r\n- Join each row with unpacked array elems\r\n- Filter by unpacked elem value\r\n\r\n```lang-sql\r\nselect t.* from my_table t\r\ncross join json_array_elements(json_column-&gt;&#39;ids&#39;) as j(id)\r\nwhere j.id::text = &#39;12312&#39;;\r\n```\r\n\r\n**Update**\r\n\r\nAs there is an outer array, and only one object in the outer array, this modification seems to be sufficent:\r\n```lang-sql\r\nselect t.* from my_table t\r\ncross join json_array_elements(\r\n    json_array_element(json_column,0)-&gt;&#39;ids&#39;\r\n) as j(id)\r\nwhere j.id::text = &#39;12312&#39;;\r\n```","title":"Contains into JSON array PostgreSQL","body":"<ul>\n<li>Use <code>json_array_elements</code> to unpack the json array</li>\n<li>Join each row with unpacked array elems</li>\n<li>Filter by unpacked elem value</li>\n</ul>\n<pre class=\"lang-sql prettyprint-override\"><code>select t.* from my_table t\ncross join json_array_elements(json_column-&gt;'ids') as j(id)\nwhere j.id::text = '12312';\n</code></pre>\n<p><strong>Update</strong></p>\n<p>As there is an outer array, and only one object in the outer array, this modification seems to be sufficent:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select t.* from my_table t\ncross join json_array_elements(\n    json_array_element(json_column,0)-&gt;'ids'\n) as j(id)\nwhere j.id::text = '12312';\n</code></pre>\n"}],"owner":{"account_id":23563717,"reputation":41,"user_id":17604761,"display_name":"Michael Lipilov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70668134,"answer_count":1,"score":0,"last_activity_date":1641915052,"creation_date":1641903600,"question_id":70666697,"body_markdown":"I am trying to find specific value in a JSON array placed at PostgreSQL DB. I searched for some solutions (visited all the links when u search smth like &quot;find value in json array postgresql&quot;) and tried them but I haven&#39;t succeeded, here the last one working example for me:\r\n\r\n    SELECT json_column\r\n    FROM table t,\r\n         LATERAL (\r\n             SELECT array_agg(json::text::integer) arr\r\n             FROM json_array_elements(t.json_column -&gt; &#39;ids&#39;) json\r\n             ) subquery;\r\n\r\nAnd this solution just prints out my JSON column. I understand the workflow of `json_array_elements` and `array_agg` but `LATERAL` is magic for me. Maybe it is the cause? \r\n\r\nThe JSON structure I have:\r\n\r\n    [\r\n      {\r\n        &quot;ids&quot;: [\r\n          12312,\r\n          123123,\r\n          124124,\r\n          124124124,\r\n          12,\r\n          12234\r\n        ]\r\n      }\r\n    ]\r\n    \r\nSo, I need to understand how to extract values and find the one I need. Thanks for your help in advance!","title":"Contains into JSON array PostgreSQL","body":"<p>I am trying to find specific value in a JSON array placed at PostgreSQL DB. I searched for some solutions (visited all the links when u search smth like &quot;find value in json array postgresql&quot;) and tried them but I haven't succeeded, here the last one working example for me:</p>\n<pre><code>SELECT json_column\nFROM table t,\n     LATERAL (\n         SELECT array_agg(json::text::integer) arr\n         FROM json_array_elements(t.json_column -&gt; 'ids') json\n         ) subquery;\n</code></pre>\n<p>And this solution just prints out my JSON column. I understand the workflow of <code>json_array_elements</code> and <code>array_agg</code> but <code>LATERAL</code> is magic for me. Maybe it is the cause?</p>\n<p>The JSON structure I have:</p>\n<pre><code>[\n  {\n    &quot;ids&quot;: [\n      12312,\n      123123,\n      124124,\n      124124124,\n      12,\n      12234\n    ]\n  }\n]\n</code></pre>\n<p>So, I need to understand how to extract values and find the one I need. Thanks for your help in advance!</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641662388,"creation_date":1641662070,"answer_id":70634638,"question_id":70618247,"body_markdown":"Nothing out of the box.\r\n\r\nOne idea (I did not try it out): You&#39;d need to create your own implementation of the `ElasticsearchOperations` interface, lets call it `MyOperations` and return that from the `AbstractElasticsearchConfiguration#elasticsearchOperations()` method which your configuration inherits. In this `MyOperations` implementation (which is a singleton Spring bean), you&#39;d create a delegate `ElasticsearchOperations` with the same code like in the configuration class that is connected to normal cluster. Every method in your implementation then delegates to the corresponding method of the delegate.\r\n\r\nIn the failure case, your implementation would create a new delegate that now connects to the secondary cluster and replace the first one with it. Or create both and implement a toggle feature to switch between the two.\r\n\r\n","title":"Spring data Elasticsearch : Reinitialise elasticsearch hosts/cluster_password programmatically","body":"<p>Nothing out of the box.</p>\n<p>One idea (I did not try it out): You'd need to create your own implementation of the <code>ElasticsearchOperations</code> interface, lets call it <code>MyOperations</code> and return that from the <code>AbstractElasticsearchConfiguration#elasticsearchOperations()</code> method which your configuration inherits. In this <code>MyOperations</code> implementation (which is a singleton Spring bean), you'd create a delegate <code>ElasticsearchOperations</code> with the same code like in the configuration class that is connected to normal cluster. Every method in your implementation then delegates to the corresponding method of the delegate.</p>\n<p>In the failure case, your implementation would create a new delegate that now connects to the secondary cluster and replace the first one with it. Or create both and implement a toggle feature to switch between the two.</p>\n"},{"tags":[],"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641914760,"creation_date":1641914760,"answer_id":70669298,"question_id":70618247,"body_markdown":"Expanding on the answer provided by P.J.Meisch, \r\n\r\nCreate a custom implementation for `ElasticsearchOperations`\r\n\r\n```\r\npublic class CustomElasticsearchOperations implements ElasticsearchOperations {\r\nprivate ElasticsearchOperations delegateElasticSearchOp;\r\n\r\n    /**\r\n     * Main Constructor to create the instance using existing elasticsearchConverter bean\r\n     * @param elasticsearchConverter : ElasticsearchConverter\r\n     */\r\n    public CustomElasticsearchOperations(ElasticsearchConverter elasticsearchConverter) {\r\n        updateElasticsearchOperationDelegate(elasticsearchConverter);\r\n    }\r\n\r\n\r\n    private ElasticsearchOperations createNewElasticsearchOperationDelegate(ElasticsearchConverter elasticsearchConverter){\r\n        return new ElasticsearchRestTemplate(ElasticsearchRestHighLevelClientProvider.INSTANCE.elasticsearchClient(),elasticsearchConverter);\r\n    }\r\n\r\n    /**\r\n     * Method to update the delegate ElasticsearchRestTemplate to register elasticsearch configurations\r\n     * @param elasticsearchConverter : Default spring lib provided ElasticsearchConverter instance\r\n     */\r\n    public void updateElasticsearchOperationDelegate(ElasticsearchConverter elasticsearchConverter){\r\n        this.delegateElasticSearchOp = createNewElasticsearchOperationDelegate(elasticsearchConverter);\r\n    }\r\n\r\n    /*\r\n     * ElasticsearchOperations method implementation using Delegate ElasticsearchRestTemplatea\r\n     */\r\n\r\n    @Override\r\n    public IndexOperations indexOps(Class&lt;?&gt; aClass) {\r\n        return delegateElasticSearchOp.indexOps(aClass);\r\n    }\r\n\r\n    @Override\r\n    public IndexOperations indexOps(IndexCoordinates indexCoordinates) {\r\n        return delegateElasticSearchOp.indexOps(indexCoordinates);\r\n    }\r\n\r\n    @Override\r\n    public ClusterOperations cluster() {\r\n        return delegateElasticSearchOp.cluster();\r\n    }\r\n\r\n    @Override\r\n    public ElasticsearchConverter getElasticsearchConverter() {\r\n        return delegateElasticSearchOp.getElasticsearchConverter();\r\n    }\r\n    // And so on... delegate the impl of overriden method to existing ElasticsearchRestTemplate\r\n\r\n}\r\n\r\n```\r\n\r\nWhere `ElasticsearchRestHighLevelClientProvider` is a class that holds the logic to create object of `RestHighLevelClient` that holds the values for current cluster configurations\r\n\r\n```\r\n// This is a sample from spring documentation. Create your own rest client with your own configs\r\npublic enum ElasticsearchRestHighLevelClientProvider{\r\n    INSTANCE; \r\n    // below is a sample, change it according to your requirements.\r\n       \r\n    public RestHighLevelClient elasticsearchClient() {\r\n         String hosts [] = getLatestConfigs().getHosts();\r\n         final ClientConfiguration clientConfiguration = \r\n         ClientConfiguration.builder()  \r\n            .connectedTo(hosts)\r\n            .build();\r\n\r\n         return RestClients.create(clientConfiguration).rest();       \r\n\r\n\r\n    }\r\n    // your code for fetching cluster configs.. \r\n\r\n}\r\n\r\n```\r\n\r\nAnd finally, register the bean of `CustomElasticsearchOperations`\r\n\r\n```\r\n@Configuration\r\npublic class ElasticSearchAutoConfigurations  extends ElasticsearchConfigurationSupport {\r\n\r\n    @Bean(\r\n            name = {&quot;elasticsearchOperations&quot;, &quot;elasticsearchTemplate&quot;}\r\n    )\r\n    public ElasticsearchOperations elasticsearchOperations(ElasticsearchConverter elasticsearchConverter) {\r\n        return new CustomElasticsearchOperations(elasticsearchConverter);\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow when your configurations change you can Autowire the instances of `ElasticsearchOperations` and `ElasticsearchConverter`  beans, and invoke `ElasticsearchOperations#updateElasticsearchOperationDelegate(elasticsearchConverter)`\r\n\r\nThis will replace the instance of `ElasticsearchRestTemplate` within `CustomElasticsearchOperations` singleton bean with the new configs, and new requests will go to the cluster you want to switch to.\r\n \r\nNote that \r\n\r\n - If you have autowired `ElasticsearchRestTemplate` to make non spring repository based calls to elasticsearch, change the autowired candidate to parent interface `ElasticsearchOperations` as `ElasticsearchRestTemplate`&#39;s instance will not be present in the application context\r\n \r\n - `ElasticsearchConverter` is already created within `ElasticsearchConfigurationSupport` class. So no need to create this bean again\r\n\r\n","title":"Spring data Elasticsearch : Reinitialise elasticsearch hosts/cluster_password programmatically","body":"<p>Expanding on the answer provided by P.J.Meisch,</p>\n<p>Create a custom implementation for <code>ElasticsearchOperations</code></p>\n<pre><code>public class CustomElasticsearchOperations implements ElasticsearchOperations {\nprivate ElasticsearchOperations delegateElasticSearchOp;\n\n    /**\n     * Main Constructor to create the instance using existing elasticsearchConverter bean\n     * @param elasticsearchConverter : ElasticsearchConverter\n     */\n    public CustomElasticsearchOperations(ElasticsearchConverter elasticsearchConverter) {\n        updateElasticsearchOperationDelegate(elasticsearchConverter);\n    }\n\n\n    private ElasticsearchOperations createNewElasticsearchOperationDelegate(ElasticsearchConverter elasticsearchConverter){\n        return new ElasticsearchRestTemplate(ElasticsearchRestHighLevelClientProvider.INSTANCE.elasticsearchClient(),elasticsearchConverter);\n    }\n\n    /**\n     * Method to update the delegate ElasticsearchRestTemplate to register elasticsearch configurations\n     * @param elasticsearchConverter : Default spring lib provided ElasticsearchConverter instance\n     */\n    public void updateElasticsearchOperationDelegate(ElasticsearchConverter elasticsearchConverter){\n        this.delegateElasticSearchOp = createNewElasticsearchOperationDelegate(elasticsearchConverter);\n    }\n\n    /*\n     * ElasticsearchOperations method implementation using Delegate ElasticsearchRestTemplatea\n     */\n\n    @Override\n    public IndexOperations indexOps(Class&lt;?&gt; aClass) {\n        return delegateElasticSearchOp.indexOps(aClass);\n    }\n\n    @Override\n    public IndexOperations indexOps(IndexCoordinates indexCoordinates) {\n        return delegateElasticSearchOp.indexOps(indexCoordinates);\n    }\n\n    @Override\n    public ClusterOperations cluster() {\n        return delegateElasticSearchOp.cluster();\n    }\n\n    @Override\n    public ElasticsearchConverter getElasticsearchConverter() {\n        return delegateElasticSearchOp.getElasticsearchConverter();\n    }\n    // And so on... delegate the impl of overriden method to existing ElasticsearchRestTemplate\n\n}\n\n</code></pre>\n<p>Where <code>ElasticsearchRestHighLevelClientProvider</code> is a class that holds the logic to create object of <code>RestHighLevelClient</code> that holds the values for current cluster configurations</p>\n<pre><code>// This is a sample from spring documentation. Create your own rest client with your own configs\npublic enum ElasticsearchRestHighLevelClientProvider{\n    INSTANCE; \n    // below is a sample, change it according to your requirements.\n       \n    public RestHighLevelClient elasticsearchClient() {\n         String hosts [] = getLatestConfigs().getHosts();\n         final ClientConfiguration clientConfiguration = \n         ClientConfiguration.builder()  \n            .connectedTo(hosts)\n            .build();\n\n         return RestClients.create(clientConfiguration).rest();       \n\n\n    }\n    // your code for fetching cluster configs.. \n\n}\n\n</code></pre>\n<p>And finally, register the bean of <code>CustomElasticsearchOperations</code></p>\n<pre><code>@Configuration\npublic class ElasticSearchAutoConfigurations  extends ElasticsearchConfigurationSupport {\n\n    @Bean(\n            name = {&quot;elasticsearchOperations&quot;, &quot;elasticsearchTemplate&quot;}\n    )\n    public ElasticsearchOperations elasticsearchOperations(ElasticsearchConverter elasticsearchConverter) {\n        return new CustomElasticsearchOperations(elasticsearchConverter);\n    }\n}\n\n</code></pre>\n<p>Now when your configurations change you can Autowire the instances of <code>ElasticsearchOperations</code> and <code>ElasticsearchConverter</code>  beans, and invoke <code>ElasticsearchOperations#updateElasticsearchOperationDelegate(elasticsearchConverter)</code></p>\n<p>This will replace the instance of <code>ElasticsearchRestTemplate</code> within <code>CustomElasticsearchOperations</code> singleton bean with the new configs, and new requests will go to the cluster you want to switch to.</p>\n<p>Note that</p>\n<ul>\n<li><p>If you have autowired <code>ElasticsearchRestTemplate</code> to make non spring repository based calls to elasticsearch, change the autowired candidate to parent interface <code>ElasticsearchOperations</code> as <code>ElasticsearchRestTemplate</code>'s instance will not be present in the application context</p>\n</li>\n<li><p><code>ElasticsearchConverter</code> is already created within <code>ElasticsearchConfigurationSupport</code> class. So no need to create this bean again</p>\n</li>\n</ul>\n"}],"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70634638,"answer_count":2,"score":0,"last_activity_date":1641914760,"creation_date":1641542591,"question_id":70618247,"body_markdown":"TL;DR : How to switch elastic search hosts at runtime using spring-data-elasticsearch?\r\n\r\nWe have a spring boot application (v : 2.5.2) using spring data elasticsearch (v: 4.2.2).\r\n\r\nI am using java configurations to initialize ES connection as mentioned in [High Level Rest Client][1] section of spring&#39;s documentation.\r\n\r\nWe have a requirement where we need to change the elasticsearch hosts at runtime and not manually restart our servers. \r\n\r\nI tried restarting spring IOC on hostname config change using something similar to spring actuator&#39;s [RestartEndpoint][2]. But this seems to work only in spring&#39;s embedded tomcat and not with the external tomcat that we use.\r\n\r\nIs there an alternate way to do this?\r\n\r\n[This is required in case there is a disaster and we need to switch to backup]\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.rest\r\n  [2]: https://github.com/spring-cloud/spring-cloud-commons/blob/main/spring-cloud-context/src/main/java/org/springframework/cloud/context/restart/RestartEndpoint.java","title":"Spring data Elasticsearch : Reinitialise elasticsearch hosts/cluster_password programmatically","body":"<p>TL;DR : How to switch elastic search hosts at runtime using spring-data-elasticsearch?</p>\n<p>We have a spring boot application (v : 2.5.2) using spring data elasticsearch (v: 4.2.2).</p>\n<p>I am using java configurations to initialize ES connection as mentioned in <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.rest\" rel=\"nofollow noreferrer\">High Level Rest Client</a> section of spring's documentation.</p>\n<p>We have a requirement where we need to change the elasticsearch hosts at runtime and not manually restart our servers.</p>\n<p>I tried restarting spring IOC on hostname config change using something similar to spring actuator's <a href=\"https://github.com/spring-cloud/spring-cloud-commons/blob/main/spring-cloud-context/src/main/java/org/springframework/cloud/context/restart/RestartEndpoint.java\" rel=\"nofollow noreferrer\">RestartEndpoint</a>. But this seems to work only in spring's embedded tomcat and not with the external tomcat that we use.</p>\n<p>Is there an alternate way to do this?</p>\n<p>[This is required in case there is a disaster and we need to switch to backup]</p>\n"},{"tags":["java","runtimeexception"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1641912690,"post_id":70668743,"comment_id":124928078,"body_markdown":"Looks like there is an not printable char at the end of the string. BTW Take care of java naming conventions. package names should be lower case","body":"Looks like there is an not printable char at the end of the string. BTW Take care of java naming conventions. package names should be lower case"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1641913123,"post_id":70668743,"comment_id":124928318,"body_markdown":"The question is: what is your input? If your input is from a file, inspect its exact contents using a Hex Editor (like HxD) or some other tool. It may also be related to a Byte Order Mark.","body":"The question is: what is your input? If your input is from a file, inspect its exact contents using a Hex Editor (like HxD) or some other tool. It may also be related to a Byte Order Mark."},{"owner":{"account_id":10953134,"reputation":51,"user_id":17860002,"display_name":"manofculture"},"score":0,"creation_date":1641913618,"post_id":70668743,"comment_id":124928598,"body_markdown":"uhh this is not working in an IDE but when it got accepted when i submitted this code...idk why","body":"uhh this is not working in an IDE but when it got accepted when i submitted this code...idk why"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641914663,"creation_date":1641914663,"answer_id":70669281,"question_id":70668743,"body_markdown":"There is a space after the 3 in the input.  This causes the `Integer.parseInt(String)` to fail.  Trimming the line of input should suffice to solve your issue.\r\n\r\n    int t = Integer.parseInt(br.readLine().trim());","title":"why am i getting an error [Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;3&quot;] in line 7 of my code?","body":"<p>There is a space after the 3 in the input.  This causes the <code>Integer.parseInt(String)</code> to fail.  Trimming the line of input should suffice to solve your issue.</p>\n<pre><code>int t = Integer.parseInt(br.readLine().trim());\n</code></pre>\n"}],"owner":{"account_id":10953134,"reputation":51,"user_id":17860002,"display_name":"manofculture"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70669281,"answer_count":1,"score":-1,"last_activity_date":1641914663,"creation_date":1641912514,"question_id":70668743,"body_markdown":"So i was solving a question in competitive programming where i had to take these numbers as input...\r\n```\r\n3 \r\n40 40 100\r\n45 45 90\r\n180 1 1\r\n```\r\nand here&#39;s my code:\r\n```\r\npackage CP;\r\nimport java.io.*;\r\nimport java.util.*;\r\nclass Test {\r\n    public static void main(String[] args)throws IOException{\r\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n        int t=Integer.parseInt(br.readLine());\r\n        while(t--&gt;0){\r\n            StringTokenizer s=new StringTokenizer(br.readLine());\r\n            int a=Integer.parseInt(s.nextToken());\r\n            int b=Integer.parseInt(s.nextToken());\r\n            int c=Integer.parseInt(s.nextToken());\r\n            if(a+b+c==180) System.out.println(&quot;YES&quot;);\r\n            else System.out.println(&quot;NO&quot;);\r\n        }\r\n        br.close();\r\n    }\r\n}\r\n```\r\nso this code works fine when i take inputs line by line. but when i take all the lines as input at a time it shows [Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;3&quot;] in line 7. why is this happening?","title":"why am i getting an error [Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;3&quot;] in line 7 of my code?","body":"<p>So i was solving a question in competitive programming where i had to take these numbers as input...</p>\n<pre><code>3 \n40 40 100\n45 45 90\n180 1 1\n</code></pre>\n<p>and here's my code:</p>\n<pre><code>package CP;\nimport java.io.*;\nimport java.util.*;\nclass Test {\n    public static void main(String[] args)throws IOException{\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        int t=Integer.parseInt(br.readLine());\n        while(t--&gt;0){\n            StringTokenizer s=new StringTokenizer(br.readLine());\n            int a=Integer.parseInt(s.nextToken());\n            int b=Integer.parseInt(s.nextToken());\n            int c=Integer.parseInt(s.nextToken());\n            if(a+b+c==180) System.out.println(&quot;YES&quot;);\n            else System.out.println(&quot;NO&quot;);\n        }\n        br.close();\n    }\n}\n</code></pre>\n<p>so this code works fine when i take inputs line by line. but when i take all the lines as input at a time it shows [Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;3&quot;] in line 7. why is this happening?</p>\n"},{"tags":["java","windows","service"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641916586,"post_id":70668840,"comment_id":124930084,"body_markdown":"In certain cases - such as for per-user background tasks - you can set up a new task under Computer Management / Task Scheduler which may avoids adding as a Windows Service.","body":"In certain cases - such as for per-user background tasks - you can set up a new task under Computer Management / Task Scheduler which may avoids adding as a Windows Service."}],"answers":[{"tags":[],"owner":{"account_id":8340816,"reputation":4606,"user_id":6266192,"display_name":"Dudi Boy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641914443,"creation_date":1641914443,"answer_id":70669238,"question_id":70668840,"body_markdown":"Use Windows services feature.\r\n\r\nRead this [answer][1].\r\nAnd this [solution][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\r\n  [2]: https://www.coretechnologies.com/products/AlwaysUp/Apps/RunJavaApplicationAsAService.html","title":"Windows - running command as a service","body":"<p>Use Windows services feature.</p>\n<p>Read this <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\">answer</a>.\nAnd this <a href=\"https://www.coretechnologies.com/products/AlwaysUp/Apps/RunJavaApplicationAsAService.html\" rel=\"nofollow noreferrer\">solution</a>.</p>\n"}],"owner":{"account_id":16111650,"reputation":15,"user_id":11629729,"display_name":"Tomer Gross"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70669238,"answer_count":1,"score":-1,"last_activity_date":1641914443,"creation_date":1641912865,"question_id":70668840,"body_markdown":"I have a command that I would like to create a service from. For example: &quot;java -jar agent.jar&quot; (the command is blocking - when closing the cmd it will stop the agent). I would like to make the command run as a service in the background so I can log out from my user and it will still work.\r\nOn Linux, I know for a fact that I can use `nohup mycommand`. The problem is on **Windows** OS. Also, replace `java` with `javaw` will solve the blocking issue but when I sign out it will still kill the agent.\r\nHow do I do that?\r\nI&#39;ll appreciate your help!\r\n\r\nTomer.","title":"Windows - running command as a service","body":"<p>I have a command that I would like to create a service from. For example: &quot;java -jar agent.jar&quot; (the command is blocking - when closing the cmd it will stop the agent). I would like to make the command run as a service in the background so I can log out from my user and it will still work.\nOn Linux, I know for a fact that I can use <code>nohup mycommand</code>. The problem is on <strong>Windows</strong> OS. Also, replace <code>java</code> with <code>javaw</code> will solve the blocking issue but when I sign out it will still kill the agent.\nHow do I do that?\nI'll appreciate your help!</p>\n<p>Tomer.</p>\n"},{"tags":["java","android","android-camera"],"comments":[{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1399876739,"post_id":23601862,"comment_id":36230458,"body_markdown":"Have you requested [camera feature](http://developer.android.com/training/camera/photobasics.html) in your manifest?","body":"Have you requested <a href=\"http://developer.android.com/training/camera/photobasics.html\" rel=\"nofollow noreferrer\">camera feature</a> in your manifest?"},{"owner":{"account_id":4457358,"reputation":1,"user_id":3627183,"display_name":"user3627183"},"score":0,"creation_date":1399879802,"post_id":23601862,"comment_id":36232055,"body_markdown":"yes\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;","body":"yes &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;"},{"owner":{"account_id":2438174,"reputation":128,"user_id":2127495,"display_name":"oz adari"},"score":0,"creation_date":1446497263,"post_id":23601862,"comment_id":54757928,"body_markdown":"CameraManager uses api 21 and plus","body":"CameraManager uses api 21 and plus"},{"owner":{"account_id":1116440,"reputation":189,"user_id":1105664,"display_name":"Pratim"},"score":0,"creation_date":1641914446,"post_id":23601862,"comment_id":124929005,"body_markdown":"Still getting this in API&gt;21 &amp; with permissions as well. Did you find a solution to this","body":"Still getting this in API&gt;21 &amp; with permissions as well. Did you find a solution to this"}],"answers":[{"tags":[],"owner":{"account_id":7800298,"reputation":173,"user_id":5899994,"display_name":"Fady Emad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1455643469,"creation_date":1455643469,"answer_id":35439095,"question_id":23601862,"body_markdown":"Here are four things that might get the app to start working again. One of these four have always done the trick for me when the I get the error.\r\n------------------------------------------------------------------------\r\n\r\n 1. Switch to another app and then back to the camera app.     \r\n    Hit the back button to exit the camera app and then tap to open it again. This has the least success rate, to be honest, but it does work and its the quickest solution.  \r\n 2. Exit all apps that might be using the camera. \r\n     Go to Settings&gt;Battery and check if mm-qcamera-daemon  is running. Exit it and launch the app again to see if the camera connects. \r\n 3. Exit the app and relaunch it. This works most times. \r\n      If it doesnt try to force stop the app and clear the cache. The measures sound drastic but it has a high success rate.\r\n 4. If all else fails, restart your phone.      \r\n     Exit every app thats running before restart it. I found this to work when nothing else would and so far the error hasnt popped up again.\r\n\r\n \r\n","title":"getCameraIdList() function returns an empty array","body":"<h2>Here are four things that might get the app to start working again. One of these four have always done the trick for me when the I get the error.</h2>\n\n<ol>\n<li>Switch to another app and then back to the camera app.<br>\nHit the back button to exit the camera app and then tap to open it again. This has the least success rate, to be honest, but it does work and its the quickest solution.  </li>\n<li>Exit all apps that might be using the camera. \n Go to Settings>Battery and check if mm-qcamera-daemon  is running. Exit it and launch the app again to see if the camera connects. </li>\n<li>Exit the app and relaunch it. This works most times. \n  If it doesnt try to force stop the app and clear the cache. The measures sound drastic but it has a high success rate.</li>\n<li>If all else fails, restart your phone.<br>\n Exit every app thats running before restart it. I found this to work when nothing else would and so far the error hasnt popped up again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":170884,"reputation":132,"user_id":397912,"display_name":"Trurl123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474339039,"creation_date":1474339039,"answer_id":39584872,"question_id":23601862,"body_markdown":"The function getCameraIdList works only from version 21 of Android API","title":"getCameraIdList() function returns an empty array","body":"<p>The function getCameraIdList works only from version 21 of Android API</p>\n"}],"owner":{"account_id":4457358,"reputation":1,"user_id":3627183,"display_name":"user3627183"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641914411,"creation_date":1399873762,"question_id":23601862,"body_markdown":"I&#39;m trying to work with Android&#39;s camera API 2, and I had a bug which I wasn&#39;t able to fix.\r\nThe function getCameraIdList() returns an empty array for some reason, although I do have 2 working cameras on my emulator (I checked it using the Android camera app).\r\nI am working on an emulated device with the following details:\r\nDevice: Nexus S\r\nAPI level: androd 4.4.2, API level 19\r\nCPU: intel atom x86\r\nfront &amp; back camera are emulated\r\n\r\nwhat do you think?\r\nattached is the code.\r\n\r\n\r\n\r\n\r\n    private CameraManager mManager;\r\n    private String[] mCameraIds;\r\n    mManager = (CameraManager)getSystemService(Context.CAMERA_SERVICE);\r\n    mCameraIds = mManager.getCameraIdList();","title":"getCameraIdList() function returns an empty array","body":"<p>I'm trying to work with Android's camera API 2, and I had a bug which I wasn't able to fix.\nThe function getCameraIdList() returns an empty array for some reason, although I do have 2 working cameras on my emulator (I checked it using the Android camera app).\nI am working on an emulated device with the following details:\nDevice: Nexus S\nAPI level: androd 4.4.2, API level 19\nCPU: intel atom x86\nfront &amp; back camera are emulated</p>\n\n<p>what do you think?\nattached is the code.</p>\n\n<pre><code>private CameraManager mManager;\nprivate String[] mCameraIds;\nmManager = (CameraManager)getSystemService(Context.CAMERA_SERVICE);\nmCameraIds = mManager.getCameraIdList();\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625919153,"creation_date":1625918640,"answer_id":68327535,"question_id":68327412,"body_markdown":"First I&#39;d suggest using a List instead of an array. It&#39;s much simpler to add and remove items.\r\n\r\nAt present the code for setting the ownership is:\r\n```\r\n  dog.setOwner(o);\r\n  owner.dogList[0] = dog;\r\n```\r\nWhat change do you think you could make to `Dog.setOwner()` so that you didn&#39;t need to do `owner.dogList[0] = dog;` after calling it? That is, putting some code in `setOwner` so that you could just say `dog.setOwner(o)` and both directions of the relationship would be established?\r\n\r\nSetting the relationship the other way is not so easy -- you are giving the Dog to the Owner by directly manipulating a data structure which is inside the Owner object, instead of calling a method. This means that you have nowhere to put code to create the other direction of the relationship. So creating an `Owner.addDog` method is a good idea.\r\n\r\nFinally, once you start setting the bidirectional relationship in both places you&#39;ll need to think about avoiding an infinite recursion.","title":"Set up a bidirectional relationship between dog and owner (Java)","body":"<p>First I'd suggest using a List instead of an array. It's much simpler to add and remove items.</p>\n<p>At present the code for setting the ownership is:</p>\n<pre><code>  dog.setOwner(o);\n  owner.dogList[0] = dog;\n</code></pre>\n<p>What change do you think you could make to <code>Dog.setOwner()</code> so that you didn't need to do <code>owner.dogList[0] = dog;</code> after calling it? That is, putting some code in <code>setOwner</code> so that you could just say <code>dog.setOwner(o)</code> and both directions of the relationship would be established?</p>\n<p>Setting the relationship the other way is not so easy -- you are giving the Dog to the Owner by directly manipulating a data structure which is inside the Owner object, instead of calling a method. This means that you have nowhere to put code to create the other direction of the relationship. So creating an <code>Owner.addDog</code> method is a good idea.</p>\n<p>Finally, once you start setting the bidirectional relationship in both places you'll need to think about avoiding an infinite recursion.</p>\n"},{"tags":[],"owner":{"account_id":1844999,"reputation":411,"user_id":1673536,"display_name":"Hisham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625918721,"creation_date":1625918721,"answer_id":68327547,"question_id":68327412,"body_markdown":"I suggest\r\nChange your `Owner.dogList` to be a list instead of an array.\r\nChange `Dog.setOwner()` to: \r\n\r\n    public void setOwner(Owner o) {\r\n        if(this.owner != o) {\r\n            this.owner = o;\r\n            o.getDogList().add(this);\r\n        }\r\n    }\r\nAnd just call `dog.setOwner(o);` in your `giveDog()` method.\r\n\r\n ","title":"Set up a bidirectional relationship between dog and owner (Java)","body":"<p>I suggest\nChange your <code>Owner.dogList</code> to be a list instead of an array.\nChange <code>Dog.setOwner()</code> to:</p>\n<pre><code>public void setOwner(Owner o) {\n    if(this.owner != o) {\n        this.owner = o;\n        o.getDogList().add(this);\n    }\n}\n</code></pre>\n<p>And just call <code>dog.setOwner(o);</code> in your <code>giveDog()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":8561300,"reputation":736,"user_id":6415262,"display_name":"HandsomeCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625928638,"creation_date":1625919047,"answer_id":68327584,"question_id":68327412,"body_markdown":"Can you try this\r\n\r\nFirstly, Modify `setOwner` method in that not only sets Owner but all assign dog to the owner\r\n\r\n    class Dog {\r\n    \tprivate String name;\r\n    \tprivate String breed;\r\n    \tprivate int age;\r\n    \tprivate int weight;\r\n    \tprivate double tailLength;\r\n    \tprivate Owner owner;\r\n    \r\n    \t...\r\n\r\n    \tpublic Owner setOwner(Owner owner) {\r\n    \t\towner.assignDog(this);\r\n    \t\treturn this.owner = owner;\r\n    \t}\r\n    \r\n    \t...\r\n    }\r\n\r\nSecondly, create `assignDog` method in `Owner` class\r\n\r\n    class Owner {\r\n    \r\n    \tprivate String ownerName;\r\n    \tpublic Dog[] dogList = new Dog[10];\r\n        private int dogCount = -1;\r\n    \r\n    \t...\r\n\r\n    \tpublic void assignDog(Dog dog) {\r\n    \t\tthis.dogList[++dogCount] = dog;\r\n    \t}\r\n    \r\n    \t...\r\n    \r\n    }\r\n\r\nFinally, you can call `setOwner` which will set the bidirectional relationship\r\n\r\n    public class Solution {\r\n    \r\n    \tpublic static List&lt;Dog&gt; dogs = Arrays.asList(new Dog(&quot;Tom&quot;));\r\n    \r\n    \tpublic static List&lt;Owner&gt; owners = Arrays.asList(new Owner(&quot;ALICE&quot;));\r\n    \r\n    \tpublic static Dog findDog(String name) {\r\n    \t\tfor (Dog dog : dogs) {\r\n    \t\t\tif (dog.getName().equals(name)) {\r\n    \t\t\t\treturn dog;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic static Owner findOwner(String name) {\r\n    \t\tfor (Owner owner : owners) {\r\n    \t\t\tif (owner.getName().equals(name)) {\r\n    \t\t\t\treturn owner;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] arg) {\r\n    \r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.print(&quot;Enter the name of the dog?&gt;&quot;);\r\n    \t\tString name = sc.nextLine();\r\n    \t\tDog dog = findDog(name);\r\n    \r\n    \t\tif (dog == null) {\r\n    \t\t\tSystem.out.print(&quot;Error: No dog with that name&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tif (dog.getOwner() != null) {\r\n    \t\t\tSystem.out.print(&quot;Error: Dog already has owner&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.print(&quot;Enter the name of the new owner?&gt;&quot;);\r\n    \t\tString nameOfOwner = sc.nextLine().toUpperCase();\r\n    \t\tOwner o = findOwner(nameOfOwner);\r\n    \r\n    \t\tif (o != null) {\r\n    \r\n    \t\t\tdog.setOwner(o);\r\n    \t\t\tSystem.out.println(o.getName() + &quot; now owns &quot; + dog.getName());\r\n    \r\n    \t\t} else {\r\n    \t\t\tSystem.out.print(&quot;Error: No such owner&quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Set up a bidirectional relationship between dog and owner (Java)","body":"<p>Can you try this</p>\n<p>Firstly, Modify <code>setOwner</code> method in that not only sets Owner but all assign dog to the owner</p>\n<pre><code>class Dog {\n    private String name;\n    private String breed;\n    private int age;\n    private int weight;\n    private double tailLength;\n    private Owner owner;\n\n    ...\n\n    public Owner setOwner(Owner owner) {\n        owner.assignDog(this);\n        return this.owner = owner;\n    }\n\n    ...\n}\n</code></pre>\n<p>Secondly, create <code>assignDog</code> method in <code>Owner</code> class</p>\n<pre><code>class Owner {\n\n    private String ownerName;\n    public Dog[] dogList = new Dog[10];\n    private int dogCount = -1;\n\n    ...\n\n    public void assignDog(Dog dog) {\n        this.dogList[++dogCount] = dog;\n    }\n\n    ...\n\n}\n</code></pre>\n<p>Finally, you can call <code>setOwner</code> which will set the bidirectional relationship</p>\n<pre><code>public class Solution {\n\n    public static List&lt;Dog&gt; dogs = Arrays.asList(new Dog(&quot;Tom&quot;));\n\n    public static List&lt;Owner&gt; owners = Arrays.asList(new Owner(&quot;ALICE&quot;));\n\n    public static Dog findDog(String name) {\n        for (Dog dog : dogs) {\n            if (dog.getName().equals(name)) {\n                return dog;\n            }\n        }\n        return null;\n    }\n\n    public static Owner findOwner(String name) {\n        for (Owner owner : owners) {\n            if (owner.getName().equals(name)) {\n                return owner;\n            }\n        }\n        return null;\n    }\n\n    public static void main(String[] arg) {\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.print(&quot;Enter the name of the dog?&gt;&quot;);\n        String name = sc.nextLine();\n        Dog dog = findDog(name);\n\n        if (dog == null) {\n            System.out.print(&quot;Error: No dog with that name&quot;);\n            return;\n        }\n\n        if (dog.getOwner() != null) {\n            System.out.print(&quot;Error: Dog already has owner&quot;);\n            return;\n        }\n\n        System.out.print(&quot;Enter the name of the new owner?&gt;&quot;);\n        String nameOfOwner = sc.nextLine().toUpperCase();\n        Owner o = findOwner(nameOfOwner);\n\n        if (o != null) {\n\n            dog.setOwner(o);\n            System.out.println(o.getName() + &quot; now owns &quot; + dog.getName());\n\n        } else {\n            System.out.print(&quot;Error: No such owner&quot;);\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22050553,"reputation":1,"user_id":16314920,"display_name":"Anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641913545,"creation_date":1625917617,"question_id":68327412,"body_markdown":"I am very new to programming and I&#39;m working on an assignment for a dog auction program, where i want to write a method to give a dog to a person.\r\n    \r\nI have an owner class, where I want to store dog objects in an array (I know using a list is an option, but the assignment specifies the use of an array). I have a dog class, where I want to be able to set an owner.\r\nThe problem I have is that I want to automatically set the dogs owner variable whenever I add the dog to the owners array of owned dogs, and vice versa, i want to automatically add the dog to the array if i call the setOwner method in the dog class\r\n    \r\nThis is my dog class:\r\n    \r\n    public class Dog{\r\n        private String name;\r\n        private String breed;\r\n        private int age;\r\n        private int weight;\r\n        private double tailLength;\r\n        private Owner owner;\r\n    \r\n        public Dog(String name, String breed, int age, int weight) {\r\n                this.name = name;\r\n                this.breed = breed;\r\n                this.age = age;\r\n                this.weight = weight;\r\n                \r\n        }\r\n       \r\n        public String getName() {\r\n            return name;\r\n        }\r\n        \r\n        public String getBreed() {\r\n            return breed;\r\n        }\r\n        \r\n        public void increaseAge() {\r\n            age++;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public int getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public double getTailLength() {\r\n            if (breed.equalsIgnoreCase(&quot;dachshund&quot;) || breed.equalsIgnoreCase(&quot;tax&quot;)) {\r\n                return 3.7;\r\n            } else {\r\n                return weight * (age / 10.0);\r\n            }\r\n        }\r\n        \r\n       public Owner setOwner(Owner owner){\r\n        return this.owner = owner;\r\n       }\r\n       \r\n        public Owner getOwner(){\r\n            return owner;\r\n        }\r\n        \r\n        public String toString() {\r\n            return &quot;Name: &quot; + name + &quot; Breed: &quot; + breed + &quot; Age: &quot; + age + &quot; Weight: &quot; + weight + &quot; Tail length: &quot; + getTailLength();\r\n        }\r\n    \r\n    }\r\n    \r\nThis is the owner class:\r\n\r\n    public class Owner {\r\n            \r\n            private String ownerName;\r\n            public Dog[] dogList = new Dog[1];\r\n            \r\n            public Owner(String ownerName) {\r\n                this.ownerName = ownerName;\r\n            }\r\n            \r\n            public String toString(){\r\n                return &quot;Name: &quot; + ownerName;\r\n            }\r\n            \r\n            public String getName(){\r\n                return ownerName;\r\n            }            \r\n        \r\n        }\r\n    \r\nFinally, this is the giveDog method so far:\r\n\r\n    public void giveDog(){\r\n            System.out.print(&quot;Enter the name of the dog?&gt;&quot;);\r\n            String name = input.nextLine();\r\n            Dog dog = findDog(name);\r\n        \r\n        if (dog == null){\r\n            System.out.print(&quot;Error: No dog with that name&quot;);\r\n        return; \r\n        }\r\n       \r\n        if (dog.getOwner() !=null){                    \r\n            System.out.print(&quot;Error: Dog already has owner&quot;);\r\n        return; \r\n        }\r\n\r\n             System.out.print(&quot;Enter the name of the new owner?&gt;&quot;);\r\n             String nameOfOwner = input.nextLine().toUpperCase();\r\n             Owner o = findOwner(nameOfOwner);\r\n\r\n             if (o!= null) {\r\n                \r\n                dog.setOwner(o);\r\n                owner.dogList[0] = dog;\r\n            \r\n\r\n             \r\n\r\n    \r\n                 System.out.println(owner.getName()+&quot; now owns &quot;+ dog.getName()); \r\n\r\n\r\n             \r\n\r\n             } else {\r\n                 System.out.print(&quot;Error: No such owner&quot;);\r\n    \r\n            } \r\n         }\r\n\r\nWhat change(s) could I make to my code so that adding a dog to an owner or vice versa sets the other automatically?","title":"Set up a bidirectional relationship between dog and owner (Java)","body":"<p>I am very new to programming and I'm working on an assignment for a dog auction program, where i want to write a method to give a dog to a person.</p>\n<p>I have an owner class, where I want to store dog objects in an array (I know using a list is an option, but the assignment specifies the use of an array). I have a dog class, where I want to be able to set an owner.\nThe problem I have is that I want to automatically set the dogs owner variable whenever I add the dog to the owners array of owned dogs, and vice versa, i want to automatically add the dog to the array if i call the setOwner method in the dog class</p>\n<p>This is my dog class:</p>\n<pre><code>public class Dog{\n    private String name;\n    private String breed;\n    private int age;\n    private int weight;\n    private double tailLength;\n    private Owner owner;\n\n    public Dog(String name, String breed, int age, int weight) {\n            this.name = name;\n            this.breed = breed;\n            this.age = age;\n            this.weight = weight;\n            \n    }\n   \n    public String getName() {\n        return name;\n    }\n    \n    public String getBreed() {\n        return breed;\n    }\n    \n    public void increaseAge() {\n        age++;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public int getWeight() {\n        return weight;\n    }\n\n    public double getTailLength() {\n        if (breed.equalsIgnoreCase(&quot;dachshund&quot;) || breed.equalsIgnoreCase(&quot;tax&quot;)) {\n            return 3.7;\n        } else {\n            return weight * (age / 10.0);\n        }\n    }\n    \n   public Owner setOwner(Owner owner){\n    return this.owner = owner;\n   }\n   \n    public Owner getOwner(){\n        return owner;\n    }\n    \n    public String toString() {\n        return &quot;Name: &quot; + name + &quot; Breed: &quot; + breed + &quot; Age: &quot; + age + &quot; Weight: &quot; + weight + &quot; Tail length: &quot; + getTailLength();\n    }\n\n}\n</code></pre>\n<p>This is the owner class:</p>\n<pre><code>public class Owner {\n        \n        private String ownerName;\n        public Dog[] dogList = new Dog[1];\n        \n        public Owner(String ownerName) {\n            this.ownerName = ownerName;\n        }\n        \n        public String toString(){\n            return &quot;Name: &quot; + ownerName;\n        }\n        \n        public String getName(){\n            return ownerName;\n        }            \n    \n    }\n</code></pre>\n<p>Finally, this is the giveDog method so far:</p>\n<pre><code>public void giveDog(){\n        System.out.print(&quot;Enter the name of the dog?&gt;&quot;);\n        String name = input.nextLine();\n        Dog dog = findDog(name);\n    \n    if (dog == null){\n        System.out.print(&quot;Error: No dog with that name&quot;);\n    return; \n    }\n   \n    if (dog.getOwner() !=null){                    \n        System.out.print(&quot;Error: Dog already has owner&quot;);\n    return; \n    }\n\n         System.out.print(&quot;Enter the name of the new owner?&gt;&quot;);\n         String nameOfOwner = input.nextLine().toUpperCase();\n         Owner o = findOwner(nameOfOwner);\n\n         if (o!= null) {\n            \n            dog.setOwner(o);\n            owner.dogList[0] = dog;\n        \n\n         \n\n\n             System.out.println(owner.getName()+&quot; now owns &quot;+ dog.getName()); \n\n\n         \n\n         } else {\n             System.out.print(&quot;Error: No such owner&quot;);\n\n        } \n     }\n</code></pre>\n<p>What change(s) could I make to my code so that adding a dog to an owner or vice versa sets the other automatically?</p>\n"},{"tags":["java","android","sql-server","database-connection","connection-timeout"],"answers":[{"tags":[],"owner":{"account_id":4917712,"reputation":353,"user_id":3961199,"display_name":"Igor Kudryashov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1490682140,"creation_date":1490682140,"answer_id":43061991,"question_id":43061357,"body_markdown":"IMO you have chosen the wrong way. Do not use the connection to the SQL server from Android. It is necessary to make a web service on the SQL server&#39;s side and use this web service from Android. JDBC drivers are not designed to work in mobile networks.","title":"java.sql.SQLException: Network error IOException: failed to connect ETIMEDOUT","body":"<p>IMO you have chosen the wrong way. Do not use the connection to the SQL server from Android. It is necessary to make a web service on the SQL server's side and use this web service from Android. JDBC drivers are not designed to work in mobile networks.</p>\n"}],"owner":{"account_id":10556956,"reputation":395,"user_id":7777799,"accept_rate":62,"display_name":"Iqraa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1466,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43061991,"answer_count":1,"score":4,"last_activity_date":1641913477,"creation_date":1490679395,"question_id":43061357,"body_markdown":"I am developing an android app in which I have to connect android application with SQL server database in order to authenticated the user with their username and password. I have used the jtds library in order to provide Sql connection to android.Below is my code:\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n        EditText username,password;\r\n        CheckBox mCbShowPwd;\r\n        Connection con;\r\n        String un,pass,db,ip,in;\r\n        TextView t;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            username = (EditText) findViewById(R.id.username_edtext);\r\n            password = (EditText) findViewById(R.id.passwd_edtext);\r\n            mCbShowPwd = (CheckBox) findViewById(R.id.cbShowPwd);\r\n            t = (TextView) findViewById(R.id.text);\r\n            final Button forget_btn = (Button) findViewById(R.id.forget_btn);\r\n            forget_btn.setOnClickListener(this);\r\n            final Button login_btn = (Button) findViewById(R.id.login_button);\r\n            login_btn.setOnClickListener(this);\r\n            ip = &quot;172.16.0.**&quot;;\r\n            in=&quot;********&quot;;\r\n            db = &quot;*******&quot;;\r\n            un = &quot;****&quot;;\r\n            pass = &quot;****&quot;;\r\n            mCbShowPwd.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    // checkbox status is changed from uncheck to checked.\r\n                    if (!isChecked) {\r\n                        password.setTransformationMethod(PasswordTransformationMethod.getInstance());\r\n                    } else {\r\n                        password.setTransformationMethod(HideReturnsTransformationMethod.getInstance());}\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            switch (v.getId())\r\n            {\r\n                case R.id.forget_btn:\r\n                {\r\n                    Intent intent=new Intent(&quot;com.example.pc.uowv1.ForgetPassActivity&quot;);\r\n                    startActivity(intent);\r\n                    break;\r\n                }\r\n                case R.id.login_button:\r\n                {\r\n                    CheckLogin checkLogin = new CheckLogin();// this is the Asynctask, which is used to process in background to reduce load on app process\r\n                    checkLogin.execute(&quot;&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        public class CheckLogin extends AsyncTask&lt;String,String,String&gt;\r\n        {\r\n            String z = &quot;&quot;;\r\n            Boolean isSuccess = false;\r\n            String usernam = username.getText().toString();\r\n            String passwordd = password.getText().toString();\r\n    \r\n            @Override\r\n            protected void onPreExecute()\r\n            {\r\n                //progressBar.setVisibility(View.VISIBLE);\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String r)\r\n            {\r\n                Toast.makeText(MainActivity.this, r, Toast.LENGTH_SHORT).show();\r\n                if(isSuccess)\r\n                {\r\n                    Toast.makeText(MainActivity.this , &quot;Login Successfull&quot; , Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n            @Override\r\n            protected String doInBackground(String... params)\r\n            {\r\n                if(usernam.trim().equals(&quot;&quot;)|| passwordd.trim().equals(&quot;&quot;))\r\n                    z = &quot;Please enter Username and Password&quot;;\r\n                else\r\n                {\r\n                    try\r\n                    {\r\n                        con = connectionclass(un, pass, db, ip,in);\r\n                        if (con == null)\r\n                        {\r\n                            z = &quot;Check Your Internet Access!&quot;;\r\n                        }\r\n                        else\r\n                        {\r\n                            String query = &quot;select * from Login where username= &#39;&quot; + usernam.toString() +&quot;&#39;and password=&#39;&quot;+passwordd.toString()+&quot;&#39;&quot;;\r\n                            Statement stmt = con.createStatement();\r\n                            ResultSet rs = stmt.executeQuery(query);\r\n                            if(rs.next())\r\n                            {\r\n                                //mApp.setmGuser(usernam);\r\n                                z = &quot;Login successful&quot;;\r\n                                isSuccess=true;\r\n                                con.close();\r\n                                Intent intent=new Intent(MainActivity.this,MAin2Activity.class);\r\n                                intent.putExtra(&quot;username&quot;,usernam.toString());\r\n                                startActivity(intent);\r\n                            }\r\n                            else\r\n                            {\r\n                                z = &quot;Invalid Username and password!&quot;;\r\n                                isSuccess = false;\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (Exception ex)\r\n                    {\r\n                        isSuccess = false;\r\n                        z = ex.getMessage();\r\n                    }\r\n                }\r\n                return z;\r\n            }\r\n        }\r\n        @SuppressLint(&quot;NewApi&quot;)\r\n        public Connection connectionclass(String user, String password, String database, String server,String instance)\r\n        {\r\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(policy);\r\n            Connection connection = null;\r\n            String ConnectionURL = null;\r\n            try\r\n            {\r\n    \r\n                Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n                ConnectionURL = &quot;jdbc:jtds:sqlserver://&quot; + server + &quot;/&quot;+ database+&quot;;instance=&quot; + instance + &quot;;user=&quot; + user+ &quot;;password=&quot; + password + &quot;;&quot;;\r\n                connection = DriverManager.getConnection(ConnectionURL);\r\n            }\r\n            catch (SQLException se)\r\n            {\r\n                Log.e(&quot;error here 1 : &quot;, se.getMessage());\r\n                t.setText(se.getMessage());\r\n            }\r\n            catch (ClassNotFoundException e)\r\n            {\r\n                Log.e(&quot;error here 2 : &quot;, e.getMessage());\r\n                t.setText(e.getMessage());\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                Log.e(&quot;error here 3 : &quot;, e.getMessage());\r\n                t.setText(e.getMessage());\r\n            }\r\n            return connection;\r\n        }\r\n    }\r\n\r\nThe Code works on same network but when I connect to other network in my android device it throws\r\n\r\n    Exception E/error&#160;here&#160;1&#160;:: Network error IOException: failed to \r\n    connect to /172.16.0.** (port 1433): connect failed: ETIMEDOUT \r\n    (Connection timed out).","title":"java.sql.SQLException: Network error IOException: failed to connect ETIMEDOUT","body":"<p>I am developing an android app in which I have to connect android application with SQL server database in order to authenticated the user with their username and password. I have used the jtds library in order to provide Sql connection to android.Below is my code:</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    EditText username,password;\n    CheckBox mCbShowPwd;\n    Connection con;\n    String un,pass,db,ip,in;\n    TextView t;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        username = (EditText) findViewById(R.id.username_edtext);\n        password = (EditText) findViewById(R.id.passwd_edtext);\n        mCbShowPwd = (CheckBox) findViewById(R.id.cbShowPwd);\n        t = (TextView) findViewById(R.id.text);\n        final Button forget_btn = (Button) findViewById(R.id.forget_btn);\n        forget_btn.setOnClickListener(this);\n        final Button login_btn = (Button) findViewById(R.id.login_button);\n        login_btn.setOnClickListener(this);\n        ip = \"172.16.0.**\";\n        in=\"********\";\n        db = \"*******\";\n        un = \"****\";\n        pass = \"****\";\n        mCbShowPwd.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                // checkbox status is changed from uncheck to checked.\n                if (!isChecked) {\n                    password.setTransformationMethod(PasswordTransformationMethod.getInstance());\n                } else {\n                    password.setTransformationMethod(HideReturnsTransformationMethod.getInstance());}\n            }\n        });\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId())\n        {\n            case R.id.forget_btn:\n            {\n                Intent intent=new Intent(\"com.example.pc.uowv1.ForgetPassActivity\");\n                startActivity(intent);\n                break;\n            }\n            case R.id.login_button:\n            {\n                CheckLogin checkLogin = new CheckLogin();// this is the Asynctask, which is used to process in background to reduce load on app process\n                checkLogin.execute(\"\");\n                break;\n            }\n        }\n    }\n    public class CheckLogin extends AsyncTask&lt;String,String,String&gt;\n    {\n        String z = \"\";\n        Boolean isSuccess = false;\n        String usernam = username.getText().toString();\n        String passwordd = password.getText().toString();\n\n        @Override\n        protected void onPreExecute()\n        {\n            //progressBar.setVisibility(View.VISIBLE);\n        }\n\n        @Override\n        protected void onPostExecute(String r)\n        {\n            Toast.makeText(MainActivity.this, r, Toast.LENGTH_SHORT).show();\n            if(isSuccess)\n            {\n                Toast.makeText(MainActivity.this , \"Login Successfull\" , Toast.LENGTH_SHORT).show();\n            }\n        }\n        @Override\n        protected String doInBackground(String... params)\n        {\n            if(usernam.trim().equals(\"\")|| passwordd.trim().equals(\"\"))\n                z = \"Please enter Username and Password\";\n            else\n            {\n                try\n                {\n                    con = connectionclass(un, pass, db, ip,in);\n                    if (con == null)\n                    {\n                        z = \"Check Your Internet Access!\";\n                    }\n                    else\n                    {\n                        String query = \"select * from Login where username= '\" + usernam.toString() +\"'and password='\"+passwordd.toString()+\"'\";\n                        Statement stmt = con.createStatement();\n                        ResultSet rs = stmt.executeQuery(query);\n                        if(rs.next())\n                        {\n                            //mApp.setmGuser(usernam);\n                            z = \"Login successful\";\n                            isSuccess=true;\n                            con.close();\n                            Intent intent=new Intent(MainActivity.this,MAin2Activity.class);\n                            intent.putExtra(\"username\",usernam.toString());\n                            startActivity(intent);\n                        }\n                        else\n                        {\n                            z = \"Invalid Username and password!\";\n                            isSuccess = false;\n                        }\n                    }\n                }\n                catch (Exception ex)\n                {\n                    isSuccess = false;\n                    z = ex.getMessage();\n                }\n            }\n            return z;\n        }\n    }\n    @SuppressLint(\"NewApi\")\n    public Connection connectionclass(String user, String password, String database, String server,String instance)\n    {\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(policy);\n        Connection connection = null;\n        String ConnectionURL = null;\n        try\n        {\n\n            Class.forName(\"net.sourceforge.jtds.jdbc.Driver\");\n            ConnectionURL = \"jdbc:jtds:sqlserver://\" + server + \"/\"+ database+\";instance=\" + instance + \";user=\" + user+ \";password=\" + password + \";\";\n            connection = DriverManager.getConnection(ConnectionURL);\n        }\n        catch (SQLException se)\n        {\n            Log.e(\"error here 1 : \", se.getMessage());\n            t.setText(se.getMessage());\n        }\n        catch (ClassNotFoundException e)\n        {\n            Log.e(\"error here 2 : \", e.getMessage());\n            t.setText(e.getMessage());\n        }\n        catch (Exception e)\n        {\n            Log.e(\"error here 3 : \", e.getMessage());\n            t.setText(e.getMessage());\n        }\n        return connection;\n    }\n}\n</code></pre>\n\n<p>The Code works on same network but when I connect to other network in my android device it throws</p>\n\n<pre><code>Exception E/errorhere1:: Network error IOException: failed to \nconnect to /172.16.0.** (port 1433): connect failed: ETIMEDOUT \n(Connection timed out).\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","automation","dependencies"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1641912747,"post_id":70668686,"comment_id":124928115,"body_markdown":"Which errors? So I can&#39;t have an idea because I don&#39;t see anything useful... Furthermore why do your colleagues don&#39;t help? If it is that important start find a consultant and pay them for helping/fixing your issues...","body":"Which errors? So I can&#39;t have an idea because I don&#39;t see anything useful... Furthermore why do your colleagues don&#39;t help? If it is that important start find a consultant and pay them for helping/fixing your issues..."},{"owner":{"account_id":22712533,"reputation":1,"user_id":16878291,"display_name":"Kevin Greiner"},"score":0,"creation_date":1641913391,"post_id":70668686,"comment_id":124928482,"body_markdown":"Sorry I am unsure how to format on this site. Pretty new to it. My colleagues have been trying to help but they cant figure it out either. Just curious as to what the issue could be. with maven dependencies.","body":"Sorry I am unsure how to format on this site. Pretty new to it. My colleagues have been trying to help but they cant figure it out either. Just curious as to what the issue could be. with maven dependencies."},{"owner":{"account_id":13874778,"reputation":574,"user_id":10016733,"display_name":"B Sangappa"},"score":0,"creation_date":1641913577,"post_id":70668686,"comment_id":124928576,"body_markdown":"This will happen initially as you will not access from your IDE(specially in IntelliJ). Quick way to fix this is : get the JARS from your friend/coworker which are in .m2-&gt;repository-&gt;com-&gt;hp and place it in your .m2-&gt;repository-&gt;com-&gt;hp(if hp not there just copy paste it in com folder). this will resolve your issue(I guess, cz for me it is resolved)","body":"This will happen initially as you will not access from your IDE(specially in IntelliJ). Quick way to fix this is : get the JARS from your friend/coworker which are in .m2-&gt;repository-&gt;com-&gt;hp and place it in your .m2-&gt;repository-&gt;com-&gt;hp(if hp not there just copy paste it in com folder). this will resolve your issue(I guess, cz for me it is resolved)"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1641915218,"post_id":70668686,"comment_id":124929411,"body_markdown":"So if you have &quot;errors&quot; , why dont post that errors here?","body":"So if you have &quot;errors&quot; , why dont post that errors here?"}],"answers":[{"tags":[],"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641913411,"creation_date":1641913411,"answer_id":70668988,"question_id":70668686,"body_markdown":"Look for your desired dependencies in https://mvnrepository.com\r\n\r\nIf they do not exist, then you need to find a dependency that exists. Otherwise, try finding those dependencies online and download them as files to import them through IntelliJ.\r\n\r\n---\r\n**Example of a correct dependency**:\r\n\r\noracle:ojdbc6:jar:11.2.0.3","title":"Problem downloading Maven dependencies in Intellij","body":"<p>Look for your desired dependencies in <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">https://mvnrepository.com</a></p>\n<p>If they do not exist, then you need to find a dependency that exists. Otherwise, try finding those dependencies online and download them as files to import them through IntelliJ.</p>\n<hr />\n<p><strong>Example of a correct dependency</strong>:</p>\n<p>oracle:ojdbc6:jar:11.2.0.3</p>\n"}],"owner":{"account_id":22712533,"reputation":1,"user_id":16878291,"display_name":"Kevin Greiner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641913411,"creation_date":1641912268,"question_id":70668686,"body_markdown":"These errors have been throwing me off. I have the same exact setup as my coworker and he has no errors for our project in Intellij. Any ideas on how to fix these errors? I am trying to download Maven dependencies and I am just not having any luck. We spent a whole two days trying to fix this. I am new to the company and we need this project setup so I can get working. Many thanks in advance! Below are my errors I am receiving. The packages apparently do not exist and it is failing to download.\r\n\r\ncom.hp.lft:common:15.2.0\r\n\r\ncom.hp.lft:report:15.2.0\r\n\r\ncom.hp.lft:reportbuilder:15.2.0\r\n\r\ncom.hp.lft:sdk:15.2.0\r\n\r\ncom.hp.lft:unittesting:15.2.0\r\n\r\ncom.hp.lft:verifications:15.2.0\r\n\r\norg.testng:jcommander:6.9.12\r\n\r\ncom.oracle:ojdbc6:11.2.0.3","title":"Problem downloading Maven dependencies in Intellij","body":"<p>These errors have been throwing me off. I have the same exact setup as my coworker and he has no errors for our project in Intellij. Any ideas on how to fix these errors? I am trying to download Maven dependencies and I am just not having any luck. We spent a whole two days trying to fix this. I am new to the company and we need this project setup so I can get working. Many thanks in advance! Below are my errors I am receiving. The packages apparently do not exist and it is failing to download.</p>\n<p>com.hp.lft:common:15.2.0</p>\n<p>com.hp.lft:report:15.2.0</p>\n<p>com.hp.lft:reportbuilder:15.2.0</p>\n<p>com.hp.lft:sdk:15.2.0</p>\n<p>com.hp.lft:unittesting:15.2.0</p>\n<p>com.hp.lft:verifications:15.2.0</p>\n<p>org.testng:jcommander:6.9.12</p>\n<p>com.oracle:ojdbc6:11.2.0.3</p>\n"},{"tags":["java","spring-boot","freemarker"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641971995,"post_id":70668750,"comment_id":124944608,"body_markdown":"Write a wrapper object that contains both objects or create a dedicated form object and do the conversion inside your controller method.","body":"Write a wrapper object that contains both objects or create a dedicated form object and do the conversion inside your controller method."},{"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"score":0,"creation_date":1641991904,"post_id":70668750,"comment_id":124952389,"body_markdown":"Yes this is a variant with the object wrapper, but I have 4 Classes if I need to do for each wrapper will be a lot of effort. I quiet don&#39;t catch what is a dedicated form object.I make it done try split method.","body":"Yes this is a variant with the object wrapper, but I have 4 Classes if I need to do for each wrapper will be a lot of effort. I quiet don&#39;t catch what is a dedicated form object.I make it done try split method."}],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641913346,"creation_date":1641912541,"question_id":70668750,"body_markdown":"I try to send a request to two different objects from one class from same form in freemarker if In this example is not working how can I set different values for each object since when i try with simple variables names it write it only in one of the objects.\r\n\r\n**Controller**\r\n\r\n    @PostMapping(value = &quot;/emergency_contacts&quot;)\r\n    public String setContacts(@ModelAttribute(&quot;emergency&quot;) EmergencyContact emergencyContact, @ModelAttribute(&quot;emergencyTwo&quot;) EmergencyContact emergencyContactTwo) {\r\n\r\n        emergencyContactService.save(emergencyContact);\r\n        emergencyContactService.save(emergencyContactTwo);\r\n\r\n        return &quot;redirect:/profile&quot;;\r\n    }\r\n\r\n**HTML**\r\n   \r\n\r\n    &lt;form method=&quot;post&quot; action=&quot;profile/emergency_contacts&quot;&gt;\r\n    &lt;div class=&quot;col-md-6&quot;&gt;\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;emergency.type&quot; value=&quot;Primary&quot;&gt;\r\n\t\t&lt;label&gt;Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n\t\t&lt;input name=&quot;emergency.name&quot; type=&quot;text&quot; class=&quot;form-control&quot;&gt;\r\n\t&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n    &lt;div class=&quot;col-md-6&quot;&gt;\r\n        \t&lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;emergency.type&quot; value=&quot;Primary&quot;&gt;\r\n        \t\t&lt;label&gt;Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n        \t\t&lt;input name=&quot;emergencyTwo.name&quot; type=&quot;text&quot; class=&quot;form-control&quot;&gt;\r\n        \t&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    \r\n    &lt;button&gt;Submit&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n        ","title":"Two @ModelAtributes from same Class different Objects in one form Spring FreeMarker","body":"<p>I try to send a request to two different objects from one class from same form in freemarker if In this example is not working how can I set different values for each object since when i try with simple variables names it write it only in one of the objects.</p>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(value = &quot;/emergency_contacts&quot;)\npublic String setContacts(@ModelAttribute(&quot;emergency&quot;) EmergencyContact emergencyContact, @ModelAttribute(&quot;emergencyTwo&quot;) EmergencyContact emergencyContactTwo) {\n\n    emergencyContactService.save(emergencyContact);\n    emergencyContactService.save(emergencyContactTwo);\n\n    return &quot;redirect:/profile&quot;;\n}\n</code></pre>\n<p><strong>HTML</strong></p>\n<pre><code>&lt;form method=&quot;post&quot; action=&quot;profile/emergency_contacts&quot;&gt;\n&lt;div class=&quot;col-md-6&quot;&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;emergency.type&quot; value=&quot;Primary&quot;&gt;\n    &lt;label&gt;Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n    &lt;input name=&quot;emergency.name&quot; type=&quot;text&quot; class=&quot;form-control&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n\n<pre><code>&lt;div class=&quot;col-md-6&quot;&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name=&quot;emergency.type&quot; value=&quot;Primary&quot;&gt;\n            &lt;label&gt;Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n            &lt;input name=&quot;emergencyTwo.name&quot; type=&quot;text&quot; class=&quot;form-control&quot;&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;button&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n\n    \n</code></pre>\n"},{"tags":["java","security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641909605,"creation_date":1641909605,"answer_id":70668074,"question_id":70665686,"body_markdown":"It is not a good idea to store client secrets, access tokens, refresh tokens etc in persistence storage unless it is stored in a secret store (like Vault). But there are other options.\r\n\r\nIf you are using Spring then you can use Spring [OAuth2RestTemplate](https://github.com/spring-projects/spring-security-oauth/blob/main/spring-security-oauth2/src/main/java/org/springframework/security/oauth2/client/OAuth2RestTemplate.java) or else you can write something similar by looking at the code.\r\n\r\nIt acquires or renews an access token transparently and caches to avoid round trips to Authorization server. ","title":"Safely storing refresh tokens in Java application","body":"<p>It is not a good idea to store client secrets, access tokens, refresh tokens etc in persistence storage unless it is stored in a secret store (like Vault). But there are other options.</p>\n<p>If you are using Spring then you can use Spring <a href=\"https://github.com/spring-projects/spring-security-oauth/blob/main/spring-security-oauth2/src/main/java/org/springframework/security/oauth2/client/OAuth2RestTemplate.java\" rel=\"nofollow noreferrer\">OAuth2RestTemplate</a> or else you can write something similar by looking at the code.</p>\n<p>It acquires or renews an access token transparently and caches to avoid round trips to Authorization server.</p>\n"},{"tags":[],"owner":{"account_id":12368896,"reputation":24911,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641912907,"creation_date":1641912401,"answer_id":70668708,"question_id":70665686,"body_markdown":"The simplest option is to use memory storage, but if that diesn&#39;t work because you need to deal with restarts etc, operating systems provide per-user secure storage. This is a model sometimes used by OAuth desktop or console clients:\r\n\r\n- Credential Manager on Windows\r\n- Keychain on macOS\r\n- Passwords and Keys on Linux\r\n\r\nIt would require some native interop to interact with these credential stores, via use of a library such as [java-keytar](https://github.com/starxg/java-keytar).\r\n\r\n**DESKTOP EXAMPLE**\r\n\r\nFor something to compare against see these resources of mine:\r\n\r\n- [Node.js desktop keytar code](https://github.com/gary-archer/oauth.desktopsample.final/blob/master/src/plumbing/oauth/tokenStorage.ts)\r\n- This [blog post](https://authguidance.com/2018/01/26/final-desktop-sample-overview/) has some related screenshots towards the end ","title":"Safely storing refresh tokens in Java application","body":"<p>The simplest option is to use memory storage, but if that diesn't work because you need to deal with restarts etc, operating systems provide per-user secure storage. This is a model sometimes used by OAuth desktop or console clients:</p>\n<ul>\n<li>Credential Manager on Windows</li>\n<li>Keychain on macOS</li>\n<li>Passwords and Keys on Linux</li>\n</ul>\n<p>It would require some native interop to interact with these credential stores, via use of a library such as <a href=\"https://github.com/starxg/java-keytar\" rel=\"nofollow noreferrer\">java-keytar</a>.</p>\n<p><strong>DESKTOP EXAMPLE</strong></p>\n<p>For something to compare against see these resources of mine:</p>\n<ul>\n<li><a href=\"https://github.com/gary-archer/oauth.desktopsample.final/blob/master/src/plumbing/oauth/tokenStorage.ts\" rel=\"nofollow noreferrer\">Node.js desktop keytar code</a></li>\n<li>This <a href=\"https://authguidance.com/2018/01/26/final-desktop-sample-overview/\" rel=\"nofollow noreferrer\">blog post</a> has some related screenshots towards the end</li>\n</ul>\n"}],"owner":{"account_id":14944047,"reputation":172,"user_id":10789836,"display_name":"emperor-shallots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641913230,"creation_date":1641898987,"question_id":70665686,"body_markdown":"Let&#39;s say we have a very simple Java application, that edits resources on remote servers, that it authenticates with using Access Tokens. Application always uses the same identity, so it is always using the same client id, secret and refresh token to obtain access token.\r\n\r\nThe whole authentication process is supposed to go through without user intervention and app should perform actions automatically triggered by the user from another application. The other app is sending HTTP requests, but the whole thing would only be accessed in internal network and there would be no &quot;legal&quot; way to access it outside of it.\r\n\r\nIs there a way to keep this data (refresh token, client id, secret...) securely within my application?\r\n\r\nI have seen similar questions, but they all talked about websites and cookies, but this is supposed to happen under the hood, without any frontend etc. so I don&#39;t think those apply to my issue.\r\n\r\nEdit: the application will be deployed on an internal server so it&#39;s not a Desktop solution. Basically there is an internal app that will send HTTP request to mine, triggering edit on a remote server that is outside of the internal network.","title":"Safely storing refresh tokens in Java application","body":"<p>Let's say we have a very simple Java application, that edits resources on remote servers, that it authenticates with using Access Tokens. Application always uses the same identity, so it is always using the same client id, secret and refresh token to obtain access token.</p>\n<p>The whole authentication process is supposed to go through without user intervention and app should perform actions automatically triggered by the user from another application. The other app is sending HTTP requests, but the whole thing would only be accessed in internal network and there would be no &quot;legal&quot; way to access it outside of it.</p>\n<p>Is there a way to keep this data (refresh token, client id, secret...) securely within my application?</p>\n<p>I have seen similar questions, but they all talked about websites and cookies, but this is supposed to happen under the hood, without any frontend etc. so I don't think those apply to my issue.</p>\n<p>Edit: the application will be deployed on an internal server so it's not a Desktop solution. Basically there is an internal app that will send HTTP request to mine, triggering edit on a remote server that is outside of the internal network.</p>\n"},{"tags":["java","stream","java-io"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641912193,"creation_date":1641911739,"answer_id":70668572,"question_id":70667879,"body_markdown":"&lt;h3&gt;The naming is really confusing &lt;/h3&gt;\r\n\r\nThe I/O streams (Byte Streams and Character Streams) are data streams are \r\n***completely unrelated*** to the new Stream API (java.util.stream). So we are talking here about two differents things with the same name &quot;**stream**&quot;.\r\n\r\n**IO Streams** : used on Input/output operations reading the data from a resource (input), or writing the data to a resource (output).\r\n\r\n**java.util.stream** :include Stream,IntStream,DoubleStream... Stream definition by Oracle documentation is a *sequence of elements supporting sequential and parallel aggregate operations*.\r\n","title":"Types of Streams based on Data Flow?","body":"<h3>The naming is really confusing </h3>\n<p>The I/O streams (Byte Streams and Character Streams) are data streams are\n<em><strong>completely unrelated</strong></em> to the new Stream API (java.util.stream). So we are talking here about two differents things with the same name &quot;<strong>stream</strong>&quot;.</p>\n<p><strong>IO Streams</strong> : used on Input/output operations reading the data from a resource (input), or writing the data to a resource (output).</p>\n<p><strong>java.util.stream</strong> :include Stream,IntStream,DoubleStream... Stream definition by Oracle documentation is a <em>sequence of elements supporting sequential and parallel aggregate operations</em>.</p>\n"}],"owner":{"account_id":22956230,"reputation":223,"user_id":17086756,"display_name":"nightboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70668572,"answer_count":1,"score":1,"last_activity_date":1641912193,"creation_date":1641908806,"question_id":70667879,"body_markdown":"Long Story Short:\r\nHow many types of Streams are there based on Data Flow in the java.io package?\r\nAre they Byte Streams and Character Streams or Binary Streams and Character Streams?\r\n\r\nFull Question:\r\n\r\nhttps://youtu.be/v1_ATyL4CNQ?t=20m5s\r\nSkip to 20:05\r\nAfter watching this tutorial yesterday, I was left with the impression that there are 2 Types of Streams, based on Data Flow: BinaryStreams and CharacterStreams. Today after learning more about the topic, my new findings seem to contradict the old ones.\r\n\r\nMost of the people on the internet divide the Streams into 2 types Byte Streams and Character Streams. However when searching oracle docs I found information about Binary Streams too, then I found information about Int, Double, Long Streams from the java.util.stream package.\r\n\r\nI am sorry if I am asking a silly question, but I am really confused right now.\r\n","title":"Types of Streams based on Data Flow?","body":"<p>Long Story Short:\nHow many types of Streams are there based on Data Flow in the java.io package?\nAre they Byte Streams and Character Streams or Binary Streams and Character Streams?</p>\n<p>Full Question:</p>\n<p><a href=\"https://youtu.be/v1_ATyL4CNQ?t=20m5s\" rel=\"nofollow noreferrer\">https://youtu.be/v1_ATyL4CNQ?t=20m5s</a>\nSkip to 20:05\nAfter watching this tutorial yesterday, I was left with the impression that there are 2 Types of Streams, based on Data Flow: BinaryStreams and CharacterStreams. Today after learning more about the topic, my new findings seem to contradict the old ones.</p>\n<p>Most of the people on the internet divide the Streams into 2 types Byte Streams and Character Streams. However when searching oracle docs I found information about Binary Streams too, then I found information about Int, Double, Long Streams from the java.util.stream package.</p>\n<p>I am sorry if I am asking a silly question, but I am really confused right now.</p>\n"},{"tags":["java","serialization","chronicle","chronicle-map"],"comments":[{"owner":{"account_id":212296,"reputation":75,"user_id":465040,"display_name":"Leon Adeoye"},"score":0,"creation_date":1643118522,"post_id":70653571,"comment_id":125250508,"body_markdown":"Is there no one who can help me with this question? :-)","body":"Is there no one who can help me with this question? :-)"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1643122847,"post_id":70653571,"comment_id":125252617,"body_markdown":"Is there any reason you can&#39;t just add `implements Serializable` to `Example` and don&#39;t use `ExampleSerializer`? Also I managed to implement `size`  with `return Integer.BYTES + (toWrite.getName() == null ? 10 : toWrite.getName().getBytes(StandardCharsets.UTF_8).length) + 1;` but not sure why + 1 is needed to make put and get work.","body":"Is there any reason you can&#39;t just add <code>implements Serializable</code> to <code>Example</code> and don&#39;t use <code>ExampleSerializer</code>? Also I managed to implement <code>size</code>  with <code>return Integer.BYTES + (toWrite.getName() == null ? 10 : toWrite.getName().getBytes(StandardCharsets.UTF_8).length) + 1;</code> but not sure why + 1 is needed to make put and get work."}],"owner":{"account_id":212296,"reputation":75,"user_id":465040,"display_name":"Leon Adeoye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641912062,"creation_date":1641823122,"question_id":70653571,"body_markdown":"I have created a simple class: \r\n\r\n```\r\npublic class Example\r\n{\r\n   private String name;\r\n   private int age;\r\n   // With getters and setters.\r\n}\r\n```\r\n\r\nthat I would like &quot;put&quot; into a chronicle map:\r\n```\r\n            ChronicleMap&lt;String,Example&gt; map = ChronicleMapBuilder\r\n                    .of(String.class, Example.class)\r\n                    .name(&quot;example-map&quot;)\r\n                    .entries(5_000)\r\n                    .averageValue(new Example())\r\n                    .valueMarshaller(ExampleSerializer.getInstance())\r\n                    .averageKey(&quot;Horatio&quot;)\r\n                    .createPersistedTo(new File(&quot;../logs/example.txt&quot;));\r\n```\r\n\r\nHowever, I do not fully understand how to implement the ExampleSerializer class because I am not sure how the string member variables should be handled. **How do I size strings? In the read and write methods, how do I read the string member variable, and how do I write the string member variable respectively.** Pls note that on average, the name member string length will be between 7-10 characters. I have created the serializer below:\r\n\r\n```\r\npublic class ExampleSerializer implements SizedReader&lt;Example&gt;,SizedWriter&lt;Example&gt;\r\n{\r\n\tprivate static ExampleSerializer INSTANCE = new ExampleSerializer();\r\n\r\n\tpublic static ExampleSerializer getInstance() { return INSTANCE; }\r\n\r\n\tprivate ExampleSerializer() {}\r\n\r\n\t@NotNull\r\n\t@Override\r\n\tpublic Example read(Bytes in, long size, @Nullable Example using)\r\n\t{\r\n\t\tif (using == null)\r\n\t\t\tusing = new Example();\r\n\r\n\t\tusing.setAge(in.readInt());\r\n\t\tusing.setName(in.readUtf8()); // NOT SURE IF THIS IS CORRECT FOR A STRING\r\n\t\treturn using;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long size(@NotNull Example toWrite)\r\n\t{\r\n\t\treturn Integer.BYTES + ???; // NOT SURE WHAT THE SIZE SHOULD BE FOR STRING MEMBER?\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(Bytes out, long size, @NotNull Example toWrite)\r\n\t{\r\n\t\tout.writeInt(toWrite.getAge());\r\n\t\tout.writeUtf8(toWrite.getName()); // NOT SURE IF THIS IS CORRECT FOR A STRING\r\n\t}\r\n}\r\n```\r\n\r\n","title":"How to implement read and write methods of Chronicle Map SizedWriter and SizedReader interfaces for class with string member","body":"<p>I have created a simple class:</p>\n<pre><code>public class Example\n{\n   private String name;\n   private int age;\n   // With getters and setters.\n}\n</code></pre>\n<p>that I would like &quot;put&quot; into a chronicle map:</p>\n<pre><code>            ChronicleMap&lt;String,Example&gt; map = ChronicleMapBuilder\n                    .of(String.class, Example.class)\n                    .name(&quot;example-map&quot;)\n                    .entries(5_000)\n                    .averageValue(new Example())\n                    .valueMarshaller(ExampleSerializer.getInstance())\n                    .averageKey(&quot;Horatio&quot;)\n                    .createPersistedTo(new File(&quot;../logs/example.txt&quot;));\n</code></pre>\n<p>However, I do not fully understand how to implement the ExampleSerializer class because I am not sure how the string member variables should be handled. <strong>How do I size strings? In the read and write methods, how do I read the string member variable, and how do I write the string member variable respectively.</strong> Pls note that on average, the name member string length will be between 7-10 characters. I have created the serializer below:</p>\n<pre><code>public class ExampleSerializer implements SizedReader&lt;Example&gt;,SizedWriter&lt;Example&gt;\n{\n    private static ExampleSerializer INSTANCE = new ExampleSerializer();\n\n    public static ExampleSerializer getInstance() { return INSTANCE; }\n\n    private ExampleSerializer() {}\n\n    @NotNull\n    @Override\n    public Example read(Bytes in, long size, @Nullable Example using)\n    {\n        if (using == null)\n            using = new Example();\n\n        using.setAge(in.readInt());\n        using.setName(in.readUtf8()); // NOT SURE IF THIS IS CORRECT FOR A STRING\n        return using;\n    }\n\n    @Override\n    public long size(@NotNull Example toWrite)\n    {\n        return Integer.BYTES + ???; // NOT SURE WHAT THE SIZE SHOULD BE FOR STRING MEMBER?\n    }\n\n    @Override\n    public void write(Bytes out, long size, @NotNull Example toWrite)\n    {\n        out.writeInt(toWrite.getAge());\n        out.writeUtf8(toWrite.getName()); // NOT SURE IF THIS IS CORRECT FOR A STRING\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","design-patterns","dto"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1641848256,"post_id":70658769,"comment_id":124910011,"body_markdown":"hi and welcome to SO. Opinion questions are downvoted since this is not the point of website - please show what you have done so far and ask a question for a specific problem with code","body":"hi and welcome to SO. Opinion questions are downvoted since this is not the point of website - please show what you have done so far and ask a question for a specific problem with code"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641849502,"creation_date":1641849502,"answer_id":70658982,"question_id":70658769,"body_markdown":"&gt; If I create only one DTO, will it be used for all of the above\r\n&gt; actions?\r\n\r\nNot unless you write code to make that happen.  You could have a single DTO for any number of actions if you wanted, but Spring does not impose that.  Creating a DTO will not make it be used for all of the actions.\r\n\r\n&gt; Should I create a DTO for each of those actions?\r\n\r\nGenerally, no.","title":"Should I create multiple DTOs for the same entity?","body":"<blockquote>\n<p>If I create only one DTO, will it be used for all of the above\nactions?</p>\n</blockquote>\n<p>Not unless you write code to make that happen.  You could have a single DTO for any number of actions if you wanted, but Spring does not impose that.  Creating a DTO will not make it be used for all of the actions.</p>\n<blockquote>\n<p>Should I create a DTO for each of those actions?</p>\n</blockquote>\n<p>Generally, no.</p>\n"},{"tags":[],"owner":{"account_id":16398866,"reputation":66,"user_id":11845512,"display_name":"Lolfish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641911756,"creation_date":1641849906,"answer_id":70659036,"question_id":70658769,"body_markdown":"I would create one DTO per &quot;display&quot; case. \r\nBut it is not an obligation.\r\n\r\n","title":"Should I create multiple DTOs for the same entity?","body":"<p>I would create one DTO per &quot;display&quot; case.\nBut it is not an obligation.</p>\n"},{"tags":[],"owner":{"display_name":"user10260739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641865650,"creation_date":1641865650,"answer_id":70660770,"question_id":70658769,"body_markdown":"You can use Single DTO for all those operations and exclude that particular field which performing the operation. Like when Employee is editing their information then exclude the input of role property while saving/updating the record.","title":"Should I create multiple DTOs for the same entity?","body":"<p>You can use Single DTO for all those operations and exclude that particular field which performing the operation. Like when Employee is editing their information then exclude the input of role property while saving/updating the record.</p>\n"}],"owner":{"account_id":23897709,"reputation":21,"user_id":17896382,"display_name":"DragonVN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1641911756,"creation_date":1641848126,"question_id":70658769,"body_markdown":"(Sorry my English is so bad).\r\n\r\nThe user entity in my spring boot project has the following basic fields: id, name, email, role, password. Admin can create new employee (including password field), update employee (except for password field), view employee information (except for password field). Employees can edit their information(except for role field). If I create only one DTO, will it be used for all of the above actions? Should I create a DTO for each of those actions?","title":"Should I create multiple DTOs for the same entity?","body":"<p>(Sorry my English is so bad).</p>\n<p>The user entity in my spring boot project has the following basic fields: id, name, email, role, password. Admin can create new employee (including password field), update employee (except for password field), view employee information (except for password field). Employees can edit their information(except for role field). If I create only one DTO, will it be used for all of the above actions? Should I create a DTO for each of those actions?</p>\n"},{"tags":["java","expression","jls"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1641908891,"post_id":70667665,"comment_id":124926211,"body_markdown":"There are no &quot;casual statements&quot; in the JLS. The list is complete. Note that you are not allowed to write the line `a=33;` at some random place in the class declaration - it must be in one of those places mentioned in the first bullet point (for example in a method declaration or in a constructor).","body":"There are no &quot;casual statements&quot; in the JLS. The list is complete. Note that you are not allowed to write the line <code>a=33;</code> at some random place in the class declaration - it must be in one of those places mentioned in the first bullet point (for example in a method declaration or in a constructor)."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1641909816,"post_id":70667665,"comment_id":124926632,"body_markdown":"@ThomasKl&#228;ger - but I think that the JLS must also have commented on the placement of the above expression in the method body as well. There is not mention of  the method body in the list.","body":"@ThomasKl&#228;ger - but I think that the JLS must also have commented on the placement of the above expression in the method body as well. There is not mention of  the method body in the list."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1641910120,"post_id":70667665,"comment_id":124926769,"body_markdown":"The method body is part of the method declaration ([8.4. Method Declarations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4)) and is therefore implicitly included. It is not necessary to add it separately to the list.","body":"The method body is part of the method declaration (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4\" rel=\"nofollow noreferrer\">8.4. Method Declarations</a>) and is therefore implicitly included. It is not necessary to add it separately to the list."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641911747,"creation_date":1641910252,"answer_id":70668242,"question_id":70667665,"body_markdown":"That clause is actually true, though it is not stated in a precise way.\r\n\r\nFor example:\r\n\r\n - `a=33;`\r\n\r\n   The `a=33` is an expression, and when followed by a `;` it is also an expression statement.  An expression statement is only allowed where other statements are allowed; i.e. *within* a method or constructor declaration (in the *body*), or in an instance or `static` initializer (block).  \r\n\r\n   Note that in the JLS, a method&#39;s body is *part of* the method&#39;s declaration.  That is why we can say that statements are *within* a method declaration.\r\n\r\n - `foo();`\r\n\r\n   The `foo()` call is an expression, and when followed by a `;` it is also an expression statement; see above.\r\n\r\nIt is a matter of understanding what is meant by &quot;in&quot; in this context.  It means &quot;inside of&quot; rather than &quot;directly inside of&quot;.\r\n\r\nThe imprecision arises when you consider that an expression statement that is inside of a method declaration that is inside of a class is ... also *indirectly* inside the class.\r\n\r\nYou could argue that the clause descriptive rather than normative since they don&#39;t specify precisely what &quot;in&quot; means in this context.  But even so, the description is correct if you interpret it as above.\r\n\r\n-------------------------\r\n\r\nYour `int a=23;` &quot;example&quot; is not an expression, so it is not apropos to the point you are trying to make.  It could be a statement, or it could be a (package private) field declaration that is &quot;in&quot; a class or interface declaration.\r\n\r\n","title":"Places where an expression can occur as per the JLS?","body":"<p>That clause is actually true, though it is not stated in a precise way.</p>\n<p>For example:</p>\n<ul>\n<li><p><code>a=33;</code></p>\n<p>The <code>a=33</code> is an expression, and when followed by a <code>;</code> it is also an expression statement.  An expression statement is only allowed where other statements are allowed; i.e. <em>within</em> a method or constructor declaration (in the <em>body</em>), or in an instance or <code>static</code> initializer (block).</p>\n<p>Note that in the JLS, a method's body is <em>part of</em> the method's declaration.  That is why we can say that statements are <em>within</em> a method declaration.</p>\n</li>\n<li><p><code>foo();</code></p>\n<p>The <code>foo()</code> call is an expression, and when followed by a <code>;</code> it is also an expression statement; see above.</p>\n</li>\n</ul>\n<p>It is a matter of understanding what is meant by &quot;in&quot; in this context.  It means &quot;inside of&quot; rather than &quot;directly inside of&quot;.</p>\n<p>The imprecision arises when you consider that an expression statement that is inside of a method declaration that is inside of a class is ... also <em>indirectly</em> inside the class.</p>\n<p>You could argue that the clause descriptive rather than normative since they don't specify precisely what &quot;in&quot; means in this context.  But even so, the description is correct if you interpret it as above.</p>\n<hr />\n<p>Your <code>int a=23;</code> &quot;example&quot; is not an expression, so it is not apropos to the point you are trying to make.  It could be a statement, or it could be a (package private) field declaration that is &quot;in&quot; a class or interface declaration.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70668242,"answer_count":1,"score":0,"last_activity_date":1641911747,"creation_date":1641907809,"question_id":70667665,"body_markdown":"Consider the Article **&#167;15.1** regarding places where the expression can occur:\r\n&gt; An expression occurs in either:\r\n&gt;\r\n&gt;  The declaration of some (class or interface) type that is being declared: in a\r\nfield initializer, in a static initializer, in an instance initializer, in a constructor\r\ndeclaration, in a method declaration, or in an annotation.\r\n&gt;\r\n&gt;  An annotation on a package declaration or on a top level type declaration.\r\n\r\nI don&#39;t think this is exhaustive list of all occurrence places for expression - as eg:\r\n```java\r\nint a=23; //declaration of a local type\r\na=33; //this is re-initialization of the type\r\n\r\n//or like a simple method invocation from inside a method like\r\nfoo();\r\n```\r\n- The places where we are trying to re-initialize the expression are not highlighted by this clause.\r\n- also the simple method invocation is not being highlighted in the above clause - even though it is a formal expression.\r\n\r\n**Is the clause above correct - or is just a casual statement in the JLS?**","title":"Places where an expression can occur as per the JLS?","body":"<p>Consider the Article <strong>15.1</strong> regarding places where the expression can occur:</p>\n<blockquote>\n<p>An expression occurs in either:</p>\n<p> The declaration of some (class or interface) type that is being declared: in a\nfield initializer, in a static initializer, in an instance initializer, in a constructor\ndeclaration, in a method declaration, or in an annotation.</p>\n<p> An annotation on a package declaration or on a top level type declaration.</p>\n</blockquote>\n<p>I don't think this is exhaustive list of all occurrence places for expression - as eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a=23; //declaration of a local type\na=33; //this is re-initialization of the type\n\n//or like a simple method invocation from inside a method like\nfoo();\n</code></pre>\n<ul>\n<li>The places where we are trying to re-initialize the expression are not highlighted by this clause.</li>\n<li>also the simple method invocation is not being highlighted in the above clause - even though it is a formal expression.</li>\n</ul>\n<p><strong>Is the clause above correct - or is just a casual statement in the JLS?</strong></p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1630847773,"post_id":69062995,"comment_id":122061767,"body_markdown":"You change the colour after you&#39;ve drawn the ellipse.","body":"You change the colour after you&#39;ve drawn the ellipse."},{"owner":{"account_id":18673487,"reputation":43,"user_id":13611691,"display_name":"Vivvi"},"score":0,"creation_date":1630861135,"post_id":69062995,"comment_id":122064991,"body_markdown":"If I write: fill(fc) after the ellipse() function then the circle that change color is the one two circles below the one I am hovering on","body":"If I write: fill(fc) after the ellipse() function then the circle that change color is the one two circles below the one I am hovering on"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1630877470,"post_id":69062995,"comment_id":122068595,"body_markdown":"By &quot;change the colour&quot; I mean &quot;assign a new colour to `fc`.","body":"By &quot;change the colour&quot; I mean &quot;assign a new colour to <code>fc</code>."},{"owner":{"account_id":18673487,"reputation":43,"user_id":13611691,"display_name":"Vivvi"},"score":0,"creation_date":1630907526,"post_id":69062995,"comment_id":122072890,"body_markdown":"I wrote the fill() and ellipse() commands at the end of the for loop and now it works. Thanks !","body":"I wrote the fill() and ellipse() commands at the end of the for loop and now it works. Thanks !"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1630908800,"post_id":69062995,"comment_id":122073141,"body_markdown":"And hopefully you can see why :-)","body":"And hopefully you can see why :-)"},{"owner":{"account_id":18673487,"reputation":43,"user_id":13611691,"display_name":"Vivvi"},"score":0,"creation_date":1630946311,"post_id":69062995,"comment_id":122087304,"body_markdown":"well.. to be honest I do not fully understand why I had a consistent shift between the circle changing color and the hovering spot and the amount of that shift depends on where I place the fill() command","body":"well.. to be honest I do not fully understand why I had a consistent shift between the circle changing color and the hovering spot and the amount of that shift depends on where I place the fill() command"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1630960783,"post_id":69062995,"comment_id":122091133,"body_markdown":"You check the mouse position for each circle. If you check and change the colour after you&#39;ve already drawn the circle, the circle with the mouse hover gets the old colour (because you&#39;ve already drawn it) and the next circle gets the new colour (because you draw it before you check the mouse hover again).","body":"You check the mouse position for each circle. If you check and change the colour after you&#39;ve already drawn the circle, the circle with the mouse hover gets the old colour (because you&#39;ve already drawn it) and the next circle gets the new colour (because you draw it before you check the mouse hover again)."}],"answers":[{"tags":[],"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641911692,"creation_date":1638618582,"answer_id":70225319,"question_id":69062995,"body_markdown":"We need to store the center of the circle. It seems like you have already done this. Then, use basic length formula. Here is a method I&#39;d suggest you use.\r\n\r\n    boolean overCircle(int centerX, int centerY, int radius) {\r\n        return sqrt(pow(mouseX - centerX, 2) + pow(mouseY - centerY, 2))\r\n        &lt;= radius;\r\n    }\r\n\r\nIt checks the length of a straight line from the mouse to the center of the circle, and if that length is more than the radius, obviously, it is no longer within the bounds of the circle.\r\n\r\nIf you plan on adding multiple of these types of circles, I&#39;d recommend turning it into an object. Next, we need to be checking this method, so in draw,\r\n\r\n    if(overCircle(circleX, circleY, r) {\r\n        circleColor = hoveringColor;\r\n    } else circleColor = notHoveringColor;\r\n    fill(circleColor);\r\n    circle(circleX, circleY);\r\n\r\nHope this helped. Have a good day.","title":"Processing mouse hovering","body":"<p>We need to store the center of the circle. It seems like you have already done this. Then, use basic length formula. Here is a method I'd suggest you use.</p>\n<pre><code>boolean overCircle(int centerX, int centerY, int radius) {\n    return sqrt(pow(mouseX - centerX, 2) + pow(mouseY - centerY, 2))\n    &lt;= radius;\n}\n</code></pre>\n<p>It checks the length of a straight line from the mouse to the center of the circle, and if that length is more than the radius, obviously, it is no longer within the bounds of the circle.</p>\n<p>If you plan on adding multiple of these types of circles, I'd recommend turning it into an object. Next, we need to be checking this method, so in draw,</p>\n<pre><code>if(overCircle(circleX, circleY, r) {\n    circleColor = hoveringColor;\n} else circleColor = notHoveringColor;\nfill(circleColor);\ncircle(circleX, circleY);\n</code></pre>\n<p>Hope this helped. Have a good day.</p>\n"}],"owner":{"account_id":18673487,"reputation":43,"user_id":13611691,"display_name":"Vivvi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641911692,"creation_date":1630841489,"question_id":69062995,"body_markdown":"I am new to processing and I am just trying to do some basci sketches to get familiar with it.\r\nI have made a grid of circles and I would like to change a circle fill color when I hover on top of it. \r\n\r\n    color[] pastel = {#8dd3c7, #ffffb3, #bebada, #fb8072, #80b1d3, #fdb462, #7fc97f};\r\n    color[] palette = pastel;\r\n    int fc = palette[2];\r\n    \r\n    int r = 40;\r\n    int s = 50;\r\n    \r\n    void setup() {\r\n      size(500, 500);\r\n      smooth();\r\n      noStroke();\r\n      background(#e8e8e8);\r\n    //  background(#5e5e5d);\r\n    }\r\n    \r\n    void draw() {\r\n      for(int x = 0+s/2; x &lt; width; x += s){\r\n        for(int y = 0+s/2; y &lt; height; y += s) {\r\n          fill(fc);\r\n          ellipse(x, y, r, r);\r\n          \r\n          if(dist(x, y, mouseX, mouseY) &lt; r/2) {\r\n        fc = palette[3];\r\n      } else {\r\n        fc = palette[2];\r\n      }\r\n    }\r\n      }\r\n    \r\n      }\r\n\r\nThough, there is a shift between the mouse coordinates and the circle that change fill color - the one that change color is the one below the one I am hovering on. \r\nAny idea why?\r\nThanks !\r\n","title":"Processing mouse hovering","body":"<p>I am new to processing and I am just trying to do some basci sketches to get familiar with it.\nI have made a grid of circles and I would like to change a circle fill color when I hover on top of it.</p>\n<pre><code>color[] pastel = {#8dd3c7, #ffffb3, #bebada, #fb8072, #80b1d3, #fdb462, #7fc97f};\ncolor[] palette = pastel;\nint fc = palette[2];\n\nint r = 40;\nint s = 50;\n\nvoid setup() {\n  size(500, 500);\n  smooth();\n  noStroke();\n  background(#e8e8e8);\n//  background(#5e5e5d);\n}\n\nvoid draw() {\n  for(int x = 0+s/2; x &lt; width; x += s){\n    for(int y = 0+s/2; y &lt; height; y += s) {\n      fill(fc);\n      ellipse(x, y, r, r);\n      \n      if(dist(x, y, mouseX, mouseY) &lt; r/2) {\n    fc = palette[3];\n  } else {\n    fc = palette[2];\n  }\n}\n  }\n\n  }\n</code></pre>\n<p>Though, there is a shift between the mouse coordinates and the circle that change fill color - the one that change color is the one below the one I am hovering on.\nAny idea why?\nThanks !</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1443128656,"post_id":32770399,"comment_id":53380712,"body_markdown":"Can you post the test as well?","body":"Can you post the test as well?"},{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1443129501,"post_id":32770399,"comment_id":53381150,"body_markdown":"let me know if more information is needed to provide. I mean the same code i ran with previous version it works but somehow newer version has errors","body":"let me know if more information is needed to provide. I mean the same code i ran with previous version it works but somehow newer version has errors"},{"owner":{"account_id":1341820,"reputation":4183,"user_id":1283348,"accept_rate":71,"display_name":"malaguna"},"score":0,"creation_date":1444825772,"post_id":32770399,"comment_id":54063008,"body_markdown":"Your `test.entityMgrFactory` bean uses a `jpaVendorAdapter` with database property set to `ORACLE`, and your `dataSource` property points to a H2 dataSource with `ORACLE` mode. Did you try to disable `ORACLE` mode and change `jpaVendorAdapter` to H2? It is only to test what happens.","body":"Your <code>test.entityMgrFactory</code> bean uses a <code>jpaVendorAdapter</code> with database property set to <code>ORACLE</code>, and your <code>dataSource</code> property points to a H2 dataSource with <code>ORACLE</code> mode. Did you try to disable <code>ORACLE</code> mode and change <code>jpaVendorAdapter</code> to H2? It is only to test what happens."},{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1444837368,"post_id":32770399,"comment_id":54071433,"body_markdown":"switched to mode=MYSQL and value=H2 still the same error. The database type doesn&#39;t really matter. it is the issue of hibernate. If i disable entire hibernate it will run if I just use spring / jdbc","body":"switched to mode=MYSQL and value=H2 still the same error. The database type doesn&#39;t really matter. it is the issue of hibernate. If i disable entire hibernate it will run if I just use spring / jdbc"},{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1444837596,"post_id":32770399,"comment_id":54071594,"body_markdown":"The issue I think is hibernate close the connection after session/transaction and it wasn&#39;t returned to the connecton pool so it cannot reuse the connection and cause this.","body":"The issue I think is hibernate close the connection after session/transaction and it wasn&#39;t returned to the connecton pool so it cannot reuse the connection and cause this."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444912397,"post_id":32770399,"comment_id":54106558,"body_markdown":"You don&#39;t need to set the dialect on the transaction manager that is already done for you, remove the `hibernate.connection.release_mode` as I suspect that is the culprit. You also declare your database as `ORACLE` where you are clearly not using ORACLE but H2. (although you do run H2 in ORACLE mode doesn&#39;t mean the OracleDialect fully works!).","body":"You don&#39;t need to set the dialect on the transaction manager that is already done for you, remove the <code>hibernate.connection.release_mode</code> as I suspect that is the culprit. You also declare your database as <code>ORACLE</code> where you are clearly not using ORACLE but H2. (although you do run H2 in ORACLE mode doesn&#39;t mean the OracleDialect fully works!)."},{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1444943533,"post_id":32770399,"comment_id":54126083,"body_markdown":"@M.Deinum I think you are somewhat right. When I removed &#39;@Transaction&#39; and &#39;@TransactionManager&#39; it works fine. as I see it also call the hibernate without issues. but why?","body":"@M.Deinum I think you are somewhat right. When I removed &#39;@Transaction&#39; and &#39;@TransactionManager&#39; it works fine. as I see it also call the hibernate without issues. but why?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444973868,"post_id":32770399,"comment_id":54135143,"body_markdown":"Removing that basically removes all transactionallity and leaves it to the testcase however nothing will be issued to the server so no statements will be issued.","body":"Removing that basically removes all transactionallity and leaves it to the testcase however nothing will be issued to the server so no statements will be issued."},{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1445002953,"post_id":32770399,"comment_id":54151450,"body_markdown":"The data still pass through the transaction though, for example I was still able to get the data from dao even if the @transaction was removed. am I missing something?","body":"The data still pass through the transaction though, for example I was still able to get the data from dao even if the @transaction was removed. am I missing something?"},{"owner":{"account_id":3401727,"reputation":2100,"user_id":2853724,"display_name":"SyntaX"},"score":0,"creation_date":1447390302,"post_id":32770399,"comment_id":55144709,"body_markdown":"Please check answer the answer I posted, accept if solves your problem. Let me know if you continue to have the same issue.","body":"Please check answer the answer I posted, accept if solves your problem. Let me know if you continue to have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":6942710,"reputation":750,"user_id":5328434,"display_name":"Andr&#233; Blaszczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444857630,"creation_date":1444857630,"answer_id":33135783,"question_id":32770399,"body_markdown":"There was a quite similar bug in Spring 3.2.2 RELEASE (Jira [SPR-10395](https://jira.spring.io/browse/SPR-10395)) with Hibernate 4.2.\r\n\r\nHowever, you use another Spring version. The issue seems to be in **Hibernate Entity Manager.** (in 4.2.5 Final version at least).\r\n\r\nTry to change this Hibernate dependance (upgrade or drowngrade) :\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n         &lt;version&gt;4.x.x&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n","title":"Could not rollback, connection closed","body":"<p>There was a quite similar bug in Spring 3.2.2 RELEASE (Jira <a href=\"https://jira.spring.io/browse/SPR-10395\" rel=\"nofollow\">SPR-10395</a>) with Hibernate 4.2.</p>\n\n<p>However, you use another Spring version. The issue seems to be in <strong>Hibernate Entity Manager.</strong> (in 4.2.5 Final version at least).</p>\n\n<p>Try to change this Hibernate dependance (upgrade or drowngrade) :</p>\n\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n     &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n     &lt;version&gt;4.x.x&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478180077,"creation_date":1444912005,"answer_id":33148563,"question_id":32770399,"body_markdown":"&gt; Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking.\r\n\r\nit means that there was some disconnection.\r\n\r\nTo fix issues with disconnection and make jpa able to recconnect to database server, **application.properties** file should contain below properties.\r\n\r\n    spring.datasource.connection-test-query=SELECT 1\r\n    spring.datasource.test-while-idle=true\r\n    spring.datasource.test-on-borrow=true\r\n    spring.datasource.validation-interval=10000\r\n    spring.datasource.log-validation-errors=true\r\n    spring.datasource.validation-query=SELECT 1 \r\n","title":"Could not rollback, connection closed","body":"<blockquote>\n  <p>Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking.</p>\n</blockquote>\n\n<p>it means that there was some disconnection.</p>\n\n<p>To fix issues with disconnection and make jpa able to recconnect to database server, <strong>application.properties</strong> file should contain below properties.</p>\n\n<pre><code>spring.datasource.connection-test-query=SELECT 1\nspring.datasource.test-while-idle=true\nspring.datasource.test-on-borrow=true\nspring.datasource.validation-interval=10000\nspring.datasource.log-validation-errors=true\nspring.datasource.validation-query=SELECT 1 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3401727,"reputation":2100,"user_id":2853724,"display_name":"SyntaX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447405891,"creation_date":1447390196,"answer_id":33686137,"question_id":32770399,"body_markdown":"&gt; Please stop using H2 in server mode, use it in embedded mode to\r\n&gt; support @Transactional rollback.\r\n\r\nThe above exception is thrown because H2 in server mode not supporting Transaction rollback, it is auto-commit by default. Once your query is executed, it is auto-committed and the session is closed. Hence rollback causes the Exception that is thrown.\r\n\r\nTo use H2 in embedded mode, add the jar to classpath and replace the datasource bean by `&lt;jdbc:embedded-database id=&quot;dataSource&quot; type=&quot;H2&quot; /&gt;`. In your case the value will be `id=&quot;test.dataSource&quot;`.\r\n\r\nHere are some known issues in H2 when used in Server Mode:\r\n\r\n - [problem with transaction rollback in server mode][1]\r\n - [transactions not working with Spring 3.1  H2  junit 4 hibernate 3.2][2]\r\n - [Using Spring, why can H2 transaction rollback work correctly in embedded-database mode, but not in server mode?][3]\r\n\r\nMy recommendation is use a database that well supports transactions with commit and rollback for testing, e.g. [MySQL InnoDB][4].\r\n\r\nPlease let me know if you continue to have the Exception even after trying this.\r\n\r\n  [1]: http://osdir.com/ml/h2-database/2014-06/msg00181.html\r\n  [2]: https://stackoverflow.com/questions/14574988/transactions-not-working-with-spring-3-1-h2-junit-4-hibernate-3-2\r\n  [3]: https://stackoverflow.com/questions/24484180/using-spring-why-can-h2-transaction-rollback-work-correctly-in-embedded-databas\r\n  [4]: https://dev.mysql.com/doc/refman/5.7/en/innodb-introduction.html","title":"Could not rollback, connection closed","body":"<blockquote>\n  <p>Please stop using H2 in server mode, use it in embedded mode to\n  support @Transactional rollback.</p>\n</blockquote>\n\n<p>The above exception is thrown because H2 in server mode not supporting Transaction rollback, it is auto-commit by default. Once your query is executed, it is auto-committed and the session is closed. Hence rollback causes the Exception that is thrown.</p>\n\n<p>To use H2 in embedded mode, add the jar to classpath and replace the datasource bean by <code>&lt;jdbc:embedded-database id=\"dataSource\" type=\"H2\" /&gt;</code>. In your case the value will be <code>id=\"test.dataSource\"</code>.</p>\n\n<p>Here are some known issues in H2 when used in Server Mode:</p>\n\n<ul>\n<li><a href=\"http://osdir.com/ml/h2-database/2014-06/msg00181.html\" rel=\"nofollow noreferrer\">problem with transaction rollback in server mode</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14574988/transactions-not-working-with-spring-3-1-h2-junit-4-hibernate-3-2\">transactions not working with Spring 3.1  H2  junit 4 hibernate 3.2</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24484180/using-spring-why-can-h2-transaction-rollback-work-correctly-in-embedded-databas\">Using Spring, why can H2 transaction rollback work correctly in embedded-database mode, but not in server mode?</a></li>\n</ul>\n\n<p>My recommendation is use a database that well supports transactions with commit and rollback for testing, e.g. <a href=\"https://dev.mysql.com/doc/refman/5.7/en/innodb-introduction.html\" rel=\"nofollow noreferrer\">MySQL InnoDB</a>.</p>\n\n<p>Please let me know if you continue to have the Exception even after trying this.</p>\n"},{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641911551,"creation_date":1641911551,"answer_id":70668537,"question_id":32770399,"body_markdown":"This happens when you are trying to update or insert record and trx is failing due to some reason . By default you have auto-commit on which can cause this issue .\r\nYou can try to update below config in application.yaml \r\n   datasource:\r\n    hikari:\r\n      poolName: Hikari\r\n      auto-commit: false\r\n","title":"Could not rollback, connection closed","body":"<p>This happens when you are trying to update or insert record and trx is failing due to some reason . By default you have auto-commit on which can cause this issue .\nYou can try to update below config in application.yaml\ndatasource:\nhikari:\npoolName: Hikari\nauto-commit: false</p>\n"}],"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42936,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":4,"score":23,"last_activity_date":1641911551,"creation_date":1443126792,"question_id":32770399,"body_markdown":"Recently I have upgrade all my jar files to the latest version (Spring 4.2.x, JPA and Hibernate)\r\n\r\nNow I am facing some issues with the test cases. Here is the stackTrace of the test...\r\n\r\n    org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:548)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:853)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:830)\r\n    \tat org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:125)\r\n    \tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:218)\r\n    \tat org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:313)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:93)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:86)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:241)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: javax.persistence.PersistenceException: unexpected error when rollbacking\r\n    \tat org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:111)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:544)\r\n    \t... 25 more\r\n    Caused by: org.hibernate.TransactionException: rollback failed\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.rollback(AbstractTransactionImpl.java:217)\r\n    \tat org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:108)\r\n    \t... 26 more\r\n    Caused by: org.hibernate.TransactionException: unable to rollback against JDBC connection\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doRollback(JdbcTransaction.java:167)\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.rollback(AbstractTransactionImpl.java:211)\r\n    \t... 27 more\r\n    Caused by: java.sql.SQLRecoverableException: Closed Connection\r\n    \tat oracle.jdbc.driver.PhysicalConnection.rollback(PhysicalConnection.java:3948)\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doRollback(JdbcTransaction.java:163)\r\n    \t... 28 more\r\n\r\nIt says the connection is closed....and cannot rollback. does the pool connection from hibernate auto close the connection? Does anyone have any idea on what is the causing of this?\r\n\r\nEdit:\r\nTest code added (the test is big if more information is needed I will edit again)\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;testConfig.xml&quot; })\r\n    @Transactional\r\n    @TransactionConfiguration(transactionManager = &quot;test.txManager&quot;, defaultRollback = true)\r\n    public class ControllerTest {\r\n    ... logs ... \r\n    \r\n    \t@Autowired\r\n    \tprivate Controller controller;\r\n    \tstatic final String testIdValue = &quot;114294&quot;;\r\n        ... other decorations...\r\n    \r\n    \tprivate Request createRequest() throws Exception {\r\n    \t\tRequest r = new Request();\r\n    \t\tr.setTask(true);\r\n            other set for test values...\r\n            r.assignTaskList(...);\r\n            ...\r\n    \t\treturn r;\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void assignEndpointsForsSynchTest() throws Exception {\r\n    \t\t\r\n    \t\tRequest req = createRequest();\r\n    \r\n    \t\ttry {\r\n    \t\t\tResponse resp = Controller\r\n    \t\t\t\t\t.assignTask(req);\r\n                assertTrue(req.SUCCESSFUL);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.info(e.getMessage());\r\n                fail(&quot;Unexpected Exception&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nFor the xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\r\n    \thttp://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\r\n    \thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n     \t\t\t\t\t&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;log4jInitialization&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;targetClass&quot; value=&quot;org.springframework.util.Log4jConfigurer&quot; /&gt;\r\n    \t\t&lt;property name=&quot;targetMethod&quot; value=&quot;initLogging&quot; /&gt;\r\n    \t\t&lt;property name=&quot;arguments&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath:log4j.properties&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;test.dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;\r\n    \t\tlazy-init=&quot;false&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot;\r\n    \t\t\tvalue=&quot;jdbc:h2:mem:test_mem;DB_CLOSE_DELAY=-1;MODE=ORACLE&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;jdbc:initialize-database data-source=&quot;test.dataSource&quot;&gt;\r\n    \t\t&lt;jdbc:script location=&quot;com/sky/ac/core/engine/comp/schema.sql&quot; /&gt;\r\n    \t\t&lt;jdbc:script location=&quot;com/sky/ac/core/engine/comp/test_data.sql&quot; /&gt;\r\n    \t&lt;/jdbc:initialize-database&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;test.txManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;test.entityMgrFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;jpaDialect&quot;&gt; &lt;!-- to support mixed jpaDAO and jdbcTemplateDAO access --&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaDialect&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;test.entityMgrFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;paPersistence&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;com.sky.ac.core.lock.data&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.sky.ac.core.vs.dao.jpa&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.sky.ac.core.sr.data&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.sky.ac.core.rule.data&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.sky.ac.core.util.data&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com.sky.ac.core.trace.data&lt;/value&gt; \r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;database&quot; value=&quot;ORACLE&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;jpaProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.format_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.connection.release_mode&quot;&gt;after_statement&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;test.dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n      \t&lt;tx:annotation-driven transaction-manager=&quot;test.txManager&quot;/&gt;\r\n    \r\n    \t&lt;bean class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n    \r\n    ....bean class defs....","title":"Could not rollback, connection closed","body":"<p>Recently I have upgrade all my jar files to the latest version (Spring 4.2.x, JPA and Hibernate)</p>\n\n<p>Now I am facing some issues with the test cases. Here is the stackTrace of the test...</p>\n\n<pre><code>org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:548)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:853)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:830)\n    at org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:125)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:218)\n    at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:313)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:93)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:86)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:241)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: javax.persistence.PersistenceException: unexpected error when rollbacking\n    at org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:111)\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:544)\n    ... 25 more\nCaused by: org.hibernate.TransactionException: rollback failed\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.rollback(AbstractTransactionImpl.java:217)\n    at org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:108)\n    ... 26 more\nCaused by: org.hibernate.TransactionException: unable to rollback against JDBC connection\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doRollback(JdbcTransaction.java:167)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.rollback(AbstractTransactionImpl.java:211)\n    ... 27 more\nCaused by: java.sql.SQLRecoverableException: Closed Connection\n    at oracle.jdbc.driver.PhysicalConnection.rollback(PhysicalConnection.java:3948)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doRollback(JdbcTransaction.java:163)\n    ... 28 more\n</code></pre>\n\n<p>It says the connection is closed....and cannot rollback. does the pool connection from hibernate auto close the connection? Does anyone have any idea on what is the causing of this?</p>\n\n<p>Edit:\nTest code added (the test is big if more information is needed I will edit again)</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"testConfig.xml\" })\n@Transactional\n@TransactionConfiguration(transactionManager = \"test.txManager\", defaultRollback = true)\npublic class ControllerTest {\n... logs ... \n\n    @Autowired\n    private Controller controller;\n    static final String testIdValue = \"114294\";\n    ... other decorations...\n\n    private Request createRequest() throws Exception {\n        Request r = new Request();\n        r.setTask(true);\n        other set for test values...\n        r.assignTaskList(...);\n        ...\n        return r;\n    }\n\n    @Test\n    public void assignEndpointsForsSynchTest() throws Exception {\n\n        Request req = createRequest();\n\n        try {\n            Response resp = Controller\n                    .assignTask(req);\n            assertTrue(req.SUCCESSFUL);\n        } catch (Exception e) {\n            log.info(e.getMessage());\n            fail(\"Unexpected Exception\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>For the xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:jdbc=\"http://www.springframework.org/schema/jdbc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\n    http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n                    \"&gt;\n\n    &lt;bean id=\"log4jInitialization\"\n        class=\"org.springframework.beans.factory.config.MethodInvokingFactoryBean\"&gt;\n        &lt;property name=\"targetClass\" value=\"org.springframework.util.Log4jConfigurer\" /&gt;\n        &lt;property name=\"targetMethod\" value=\"initLogging\" /&gt;\n        &lt;property name=\"arguments\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:log4j.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"test.dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"\n        lazy-init=\"false\"&gt;\n        &lt;property name=\"driverClassName\" value=\"org.h2.Driver\" /&gt;\n        &lt;property name=\"url\"\n            value=\"jdbc:h2:mem:test_mem;DB_CLOSE_DELAY=-1;MODE=ORACLE\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;jdbc:initialize-database data-source=\"test.dataSource\"&gt;\n        &lt;jdbc:script location=\"com/sky/ac/core/engine/comp/schema.sql\" /&gt;\n        &lt;jdbc:script location=\"com/sky/ac/core/engine/comp/test_data.sql\" /&gt;\n    &lt;/jdbc:initialize-database&gt;\n\n\n    &lt;bean id=\"test.txManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"test.entityMgrFactory\" /&gt;\n        &lt;property name=\"jpaDialect\"&gt; &lt;!-- to support mixed jpaDAO and jdbcTemplateDAO access --&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaDialect\" /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"test.entityMgrFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"paPersistence\" /&gt;\n        &lt;property name=\"packagesToScan\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.sky.ac.core.lock.data&lt;/value&gt;\n                &lt;value&gt;com.sky.ac.core.vs.dao.jpa&lt;/value&gt;\n                &lt;value&gt;com.sky.ac.core.sr.data&lt;/value&gt;\n                &lt;value&gt;com.sky.ac.core.rule.data&lt;/value&gt;\n                &lt;value&gt;com.sky.ac.core.util.data&lt;/value&gt;\n                &lt;value&gt;com.sky.ac.core.trace.data&lt;/value&gt; \n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                &lt;property name=\"database\" value=\"ORACLE\" /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"hibernate.format_sql\"&gt;false&lt;/prop&gt;\n                &lt;prop key=\"hibernate.cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/prop&gt;\n                &lt;prop key=\"hibernate.id.new_generator_mappings\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"hibernate.connection.release_mode\"&gt;after_statement&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=\"dataSource\" ref=\"test.dataSource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"test.txManager\"/&gt;\n\n    &lt;bean class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n....bean class defs....\n</code></pre>\n"},{"tags":["java","swing","layout-manager","grouplayout"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1641828641,"post_id":70654513,"comment_id":124902377,"body_markdown":"So this appears to happen because the minimumSize gets changed to a really large value. The strangest part about it for me, it only happens when I paste in the text with the emoji&#39;s if I just use a bunch of text that extends beyond the edge of the text field it behaves properly.","body":"So this appears to happen because the minimumSize gets changed to a really large value. The strangest part about it for me, it only happens when I paste in the text with the emoji&#39;s if I just use a bunch of text that extends beyond the edge of the text field it behaves properly."},{"owner":{"account_id":9081975,"reputation":642,"user_id":6761506,"accept_rate":88,"display_name":"Kcits970"},"score":0,"creation_date":1641854514,"post_id":70654513,"comment_id":124911828,"body_markdown":"That is SO WEIRD! The fact that the minimumSize becomes larger than the maximumSize is such an unexpected behavior","body":"That is SO WEIRD! The fact that the minimumSize becomes larger than the maximumSize is such an unexpected behavior"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1641861096,"post_id":70654513,"comment_id":124913185,"body_markdown":"Let me know if you decide that getting that layout is more important than debugging the problems with the group layout. It is easily done with a combination of other layouts, and I neither use nor debug group layout. **BTW:** *&quot;Here&#39;s a SSCCE that demonstrates this problem. (I tried to minimize it as much as I can, I apologize if my example is too long.)&quot;* No, it is short and to the point. Nice work! As the author of the SSCCE document, I consider anything under 100 lines of code as qualifying as &#39;short&#39;.","body":"Let me know if you decide that getting that layout is more important than debugging the problems with the group layout. It is easily done with a combination of other layouts, and I neither use nor debug group layout. <b>BTW:</b> <i>&quot;Here&#39;s a SSCCE that demonstrates this problem. (I tried to minimize it as much as I can, I apologize if my example is too long.)&quot;</i> No, it is short and to the point. Nice work! As the author of the SSCCE document, I consider anything under 100 lines of code as qualifying as &#39;short&#39;."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1641889766,"post_id":70654513,"comment_id":124918839,"body_markdown":"@matt _So this appears to happen because the minimumSize gets changed to a really large value_ can you post code that proves it ?","body":"@matt <i>So this appears to happen because the minimumSize gets changed to a really large value</i> can you post code that proves it ?"},{"owner":{"account_id":9081975,"reputation":642,"user_id":6761506,"accept_rate":88,"display_name":"Kcits970"},"score":1,"creation_date":1641890065,"post_id":70654513,"comment_id":124918956,"body_markdown":"@c0der I&#39;ve added some more code in my question regarding that, I&#39;ve overrided the `paint()` method to check the minimum, preferred, and maximum sizes","body":"@c0der I&#39;ve added some more code in my question regarding that, I&#39;ve overrided the <code>paint()</code> method to check the minimum, preferred, and maximum sizes"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1641890875,"post_id":70654513,"comment_id":124919238,"body_markdown":"@c0der I added a component listener in the example posted, and printed the dimensions.","body":"@c0der I added a component listener in the example posted, and printed the dimensions."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1641910895,"post_id":70654513,"comment_id":124927176,"body_markdown":"@matt I see what you mean. Anyway explicitly setting min size works around this bug, as you can see in my answer.","body":"@matt I see what you mean. Anyway explicitly setting min size works around this bug, as you can see in my answer."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641911175,"creation_date":1641828277,"answer_id":70654781,"question_id":70654513,"body_markdown":"Edit: \r\nThe behavior of the min size, growing after a resize, and becoming larger than the max size seems like a bug. &lt;br/&gt;\r\nSetting the min size explicitly is a workaround it: \r\n\r\n    .addGroup(groupLayout.createParallelGroup(Alignment.LEADING)\r\n\t    .addComponent(text1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)\r\n\t\t.addComponent(text2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\r\n\r\nThis sets the component min and max size to default size as explained in the [documentation](https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html): \r\n\r\n&gt; To make a component fixed size (suppress resizing):\r\n&gt; group.addComponent(component, GroupLayout.PREFERRED_SIZE,\r\n&gt; GroupLayout.DEFAULT_SIZE,\r\n&gt;           GroupLayout.PREFERRED_SIZE)\r\n\r\nYou can achieve the same behavior by setting the **min** as well as the max sizes: \r\n\r\n    text1.setMinimumSize(text1.getPreferredSize());\r\n    text1.setMaximumSize(text1.getPreferredSize());\r\n ","title":"Problem with GroupLayout: components suddenly &quot;burst&quot; when resizing window","body":"<p>Edit:\nThe behavior of the min size, growing after a resize, and becoming larger than the max size seems like a bug. <br/>\nSetting the min size explicitly is a workaround it:</p>\n<pre><code>.addGroup(groupLayout.createParallelGroup(Alignment.LEADING)\n    .addComponent(text1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)\n    .addComponent(text2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\n</code></pre>\n<p>This sets the component min and max size to default size as explained in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>To make a component fixed size (suppress resizing):\ngroup.addComponent(component, GroupLayout.PREFERRED_SIZE,\nGroupLayout.DEFAULT_SIZE,\nGroupLayout.PREFERRED_SIZE)</p>\n</blockquote>\n<p>You can achieve the same behavior by setting the <strong>min</strong> as well as the max sizes:</p>\n<pre><code>text1.setMinimumSize(text1.getPreferredSize());\ntext1.setMaximumSize(text1.getPreferredSize());\n</code></pre>\n"}],"owner":{"account_id":9081975,"reputation":642,"user_id":6761506,"accept_rate":88,"display_name":"Kcits970"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70654781,"answer_count":1,"score":3,"last_activity_date":1641911175,"creation_date":1641827177,"question_id":70654513,"body_markdown":"I had a Java assignment about a month ago, which was about building a GUI. I used GroupLayout to manage the position of the components. I ran into a problem where if I put a very long string of text into a JTextField and resize the outer window, the textfield suddenly &quot;bursts&quot;.\r\n\r\nI fixed the issue using GridBagLayout, but I wanted to come back to the original problem in hopes of getting a better understanding of GroupLayout.\r\n\r\nHere&#39;s a SSCCE that demonstrates this problem. (I tried to minimize it as much as I can, I apologize if my example is too long.)\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Main extends JFrame {\r\n    JTextField text1;\r\n    JTextField text2;\r\n    JPanel myPanel;\r\n\r\n    public static void main(String[] args) {\r\n        javax.swing.SwingUtilities.invokeLater(() -&gt; new Main());\r\n    }\r\n\r\n    public Main() {\r\n        super(&quot;Sussy Imposter&quot;);\r\n\r\n        createComponents();\r\n        setLayout();\r\n        configureSettings();\r\n    }\r\n\r\n    public void createComponents() {\r\n        text1 = new JTextField(20);\r\n        text2 = new JTextField(20);\r\n        text1.setMaximumSize(text1.getPreferredSize());\r\n        text2.setMaximumSize(text2.getPreferredSize());\r\n\r\n        myPanel = new JPanel();\r\n        myPanel.setBackground(Color.CYAN);\r\n        myPanel.setPreferredSize(new Dimension(100, 100));\r\n    }\r\n\r\n    public void setLayout() {\r\n        Container c = getContentPane();\r\n        GroupLayout groupLayout = new GroupLayout(c);\r\n        c.setLayout(groupLayout);\r\n\r\n        groupLayout.setAutoCreateGaps(true);\r\n        groupLayout.setAutoCreateContainerGaps(true);\r\n        groupLayout.setHorizontalGroup(\r\n            groupLayout.createSequentialGroup()\r\n            .addComponent(myPanel)\r\n            .addGroup(groupLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                .addComponent(text1)\r\n                .addComponent(text2))\r\n        );\r\n        groupLayout.setVerticalGroup(\r\n            groupLayout.createParallelGroup()\r\n                .addComponent(myPanel)\r\n                .addGroup(groupLayout.createSequentialGroup()\r\n                    .addComponent(text1)\r\n                    .addComponent(text2))\r\n        );\r\n    }\r\n\r\n    public void configureSettings() {\r\n        pack();\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n[![Result of the SSCCE][1]][1]\r\n\r\nWhen I copy-paste this text: `Let me send you to space &#128640;Space travel ASMR Roleplay &#128640;(Eng)(Kor) | Roleplay, Storytime, Whitenoise` into one of the textfields, and resize the outer window, the textfield &quot;bursts&quot;.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve set the maximum size of the textfields to their preferred sizes in `createComponents()`, so I don&#39;t understand why the size of the textfield exceeds its maximum size when I resize the window.\r\n\r\nCan anyone explain why I&#39;m getting this odd behavior?\r\n\r\nEDIT: I&#39;ve overrided the `paint()` method to see how the width of the textfield size change.\r\n```\r\npublic void paint(Graphics g) {\r\n    super.paint(g);\r\n    System.out.printf(&quot;min: %d\\n&quot;, text1.getMinimumSize().width);\r\n    System.out.printf(&quot;pre: %d\\n&quot;, text1.getPreferredSize().width);\r\n    System.out.printf(&quot;max: %d\\n&quot;, text1.getMaximumSize().width);\r\n}\r\n```\r\n\r\n*Output before resizing*\r\n```\r\nmin: 5\r\npre: 224\r\nmax: 224\r\n```\r\n\r\n*Output after resizing*\r\n```\r\nmin: 569\r\npre: 224\r\nmax: 224\r\n```\r\n\r\nAs @matt pointed out in the comments, this seems to happen because the minimumSize becomes very large. More notably, the minimumSize grows larger than the preferredSize and the maximumSize, which is very unexpected.\r\n\r\n  [1]: https://i.stack.imgur.com/8OGvj.png\r\n  [2]: https://i.stack.imgur.com/7S3eE.png","title":"Problem with GroupLayout: components suddenly &quot;burst&quot; when resizing window","body":"<p>I had a Java assignment about a month ago, which was about building a GUI. I used GroupLayout to manage the position of the components. I ran into a problem where if I put a very long string of text into a JTextField and resize the outer window, the textfield suddenly &quot;bursts&quot;.</p>\n<p>I fixed the issue using GridBagLayout, but I wanted to come back to the original problem in hopes of getting a better understanding of GroupLayout.</p>\n<p>Here's a SSCCE that demonstrates this problem. (I tried to minimize it as much as I can, I apologize if my example is too long.)</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main extends JFrame {\n    JTextField text1;\n    JTextField text2;\n    JPanel myPanel;\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; new Main());\n    }\n\n    public Main() {\n        super(&quot;Sussy Imposter&quot;);\n\n        createComponents();\n        setLayout();\n        configureSettings();\n    }\n\n    public void createComponents() {\n        text1 = new JTextField(20);\n        text2 = new JTextField(20);\n        text1.setMaximumSize(text1.getPreferredSize());\n        text2.setMaximumSize(text2.getPreferredSize());\n\n        myPanel = new JPanel();\n        myPanel.setBackground(Color.CYAN);\n        myPanel.setPreferredSize(new Dimension(100, 100));\n    }\n\n    public void setLayout() {\n        Container c = getContentPane();\n        GroupLayout groupLayout = new GroupLayout(c);\n        c.setLayout(groupLayout);\n\n        groupLayout.setAutoCreateGaps(true);\n        groupLayout.setAutoCreateContainerGaps(true);\n        groupLayout.setHorizontalGroup(\n            groupLayout.createSequentialGroup()\n            .addComponent(myPanel)\n            .addGroup(groupLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                .addComponent(text1)\n                .addComponent(text2))\n        );\n        groupLayout.setVerticalGroup(\n            groupLayout.createParallelGroup()\n                .addComponent(myPanel)\n                .addGroup(groupLayout.createSequentialGroup()\n                    .addComponent(text1)\n                    .addComponent(text2))\n        );\n    }\n\n    public void configureSettings() {\n        pack();\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8OGvj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8OGvj.png\" alt=\"Result of the SSCCE\" /></a></p>\n<p>When I copy-paste this text: <code>Let me send you to space Space travel ASMR Roleplay (Eng)(Kor) | Roleplay, Storytime, Whitenoise</code> into one of the textfields, and resize the outer window, the textfield &quot;bursts&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/7S3eE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7S3eE.png\" alt=\"enter image description here\" /></a></p>\n<p>I've set the maximum size of the textfields to their preferred sizes in <code>createComponents()</code>, so I don't understand why the size of the textfield exceeds its maximum size when I resize the window.</p>\n<p>Can anyone explain why I'm getting this odd behavior?</p>\n<p>EDIT: I've overrided the <code>paint()</code> method to see how the width of the textfield size change.</p>\n<pre><code>public void paint(Graphics g) {\n    super.paint(g);\n    System.out.printf(&quot;min: %d\\n&quot;, text1.getMinimumSize().width);\n    System.out.printf(&quot;pre: %d\\n&quot;, text1.getPreferredSize().width);\n    System.out.printf(&quot;max: %d\\n&quot;, text1.getMaximumSize().width);\n}\n</code></pre>\n<p><em>Output before resizing</em></p>\n<pre><code>min: 5\npre: 224\nmax: 224\n</code></pre>\n<p><em>Output after resizing</em></p>\n<pre><code>min: 569\npre: 224\nmax: 224\n</code></pre>\n<p>As @matt pointed out in the comments, this seems to happen because the minimumSize becomes very large. More notably, the minimumSize grows larger than the preferredSize and the maximumSize, which is very unexpected.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":549013,"reputation":1644,"user_id":1737811,"accept_rate":64,"display_name":"mutantkeyboard"},"score":0,"creation_date":1641911149,"post_id":70668299,"comment_id":124927296,"body_markdown":"Does this answer your question? [Null pointer crash on getActivity().getPackageManager().queryIntentActivities()](https://stackoverflow.com/questions/46752480/null-pointer-crash-on-getactivity-getpackagemanager-queryintentactivities)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46752480/null-pointer-crash-on-getactivity-getpackagemanager-queryintentactivities\">Null pointer crash on getActivity().getPackageManager().queryIntentActivities()</a>"}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641911112,"creation_date":1641911112,"answer_id":70668446,"question_id":70668299,"body_markdown":"It&#39;s not `getActivity().getPackageManager()`that is `null`.  \r\nIt&#39;s `intent.resolveActivity` that returns `null`  \r\nAnd this simply means that there doesn&#39;t exist an activity that can handle the `Uri` that you provided. Be sure to write your uri correct","title":"getActivity().getPackageManager() showing null?","body":"<p>It's not <code>getActivity().getPackageManager()</code>that is <code>null</code>.<br />\nIt's <code>intent.resolveActivity</code> that returns <code>null</code><br />\nAnd this simply means that there doesn't exist an activity that can handle the <code>Uri</code> that you provided. Be sure to write your uri correct</p>\n"}],"owner":{"account_id":23905881,"reputation":1,"user_id":17903476,"display_name":"KUNAL KUMAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641911112,"creation_date":1641910467,"question_id":70668299,"body_markdown":"I have tried removing the if condition but didn&#39;t work, also it&#39;s inside the fragment so no context issue. \r\n\r\n```\r\nbutton = view.findViewById(R.id.button);\r\nurl = view.findViewById(R.id.Url);\r\nbutton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        String s= url.getText().toString();\r\n        Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(s));\r\n\r\n        if (intent.resolveActivity(getActivity().getPackageManager()) != null) {\r\n            startActivity(intent);\r\n        }\r\n        else{\r\n            url.setText(&quot;Error&quot;);\r\n        }\r\n    }\r\n});\r\n```","title":"getActivity().getPackageManager() showing null?","body":"<p>I have tried removing the if condition but didn't work, also it's inside the fragment so no context issue.</p>\n<pre><code>button = view.findViewById(R.id.button);\nurl = view.findViewById(R.id.Url);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        String s= url.getText().toString();\n        Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(s));\n\n        if (intent.resolveActivity(getActivity().getPackageManager()) != null) {\n            startActivity(intent);\n        }\n        else{\n            url.setText(&quot;Error&quot;);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","css","spring"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1641889862,"post_id":70626506,"comment_id":124918874,"body_markdown":"Do you have the `css` directory in your app (context) directory?","body":"Do you have the <code>css</code> directory in your app (context) directory?"}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641585470,"creation_date":1641585470,"answer_id":70626547,"question_id":70626506,"body_markdown":"You need to tell spring security to ignore css files by overriding this method in WebSecurityConfigurerAdapter:\r\n\r\n```\r\n @Override\r\n public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;,&quot;/vendor/**&quot;,&quot;/fonts/**&quot;).anyRequest();\r\n }\r\n```","title":"Spring isn&#39;t loading CSS and gives a 404 when the page is loaded","body":"<p>You need to tell spring security to ignore css files by overriding this method in WebSecurityConfigurerAdapter:</p>\n<pre><code> @Override\n public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;,&quot;/vendor/**&quot;,&quot;/fonts/**&quot;).anyRequest();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641900096,"creation_date":1641900096,"answer_id":70665917,"question_id":70626506,"body_markdown":"The configuration that you posted in your question:\r\n\r\n``` lang-java\r\npublic class AppConfig implements WebMvcConfigurer {\r\n    ...\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/css/**&quot;)\r\n                .addResourceLocations(&quot;/css/&quot;);\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\ntells Spring MVC to serve `/css/style.css` from the `css` directory in your context directory. If it doesn&#39;t exist, you get a 404.\r\n\r\nIf you want to serve the file from the classpath (which is what your question seems to imply), then you should do this instead:\r\n\r\n``` lang-java\r\npublic class AppConfig implements WebMvcConfigurer {\r\n    ...\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/css/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/resources/css/&quot;);\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nSee the documentation of [`ResourceHandlerRegistry`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/ResourceHandlerRegistry.html) for more details.\r\n","title":"Spring isn&#39;t loading CSS and gives a 404 when the page is loaded","body":"<p>The configuration that you posted in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppConfig implements WebMvcConfigurer {\n    ...\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/css/**&quot;)\n                .addResourceLocations(&quot;/css/&quot;);\n    }\n    ...\n}\n</code></pre>\n<p>tells Spring MVC to serve <code>/css/style.css</code> from the <code>css</code> directory in your context directory. If it doesn't exist, you get a 404.</p>\n<p>If you want to serve the file from the classpath (which is what your question seems to imply), then you should do this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppConfig implements WebMvcConfigurer {\n    ...\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/css/**&quot;)\n                .addResourceLocations(&quot;classpath:/resources/css/&quot;);\n    }\n    ...\n}\n</code></pre>\n<p>See the documentation of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/ResourceHandlerRegistry.html\" rel=\"nofollow noreferrer\"><code>ResourceHandlerRegistry</code></a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641911027,"creation_date":1641911027,"answer_id":70668429,"question_id":70626506,"body_markdown":"For a non-Spring Boot project your `css` folder should be not in `src/main/resources` but in `src/main/webapp`.","title":"Spring isn&#39;t loading CSS and gives a 404 when the page is loaded","body":"<p>For a non-Spring Boot project your <code>css</code> folder should be not in <code>src/main/resources</code> but in <code>src/main/webapp</code>.</p>\n"}],"owner":{"account_id":18385675,"reputation":67,"user_id":13392777,"display_name":"iducam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70668429,"answer_count":3,"score":1,"last_activity_date":1641911027,"creation_date":1641585214,"question_id":70626506,"body_markdown":"I&#39;m running a Spring (not Boot) web app and it&#39;s finding my JSP views properly, but my CSS isn&#39;t being found for some reason. To be clear, the page is loading with the necessary elements, but any CSS styling from classes in my `.css` files is not being applied. The structure for the CSS file I&#39;m trying to use is `src/main/resources/css/style.css`. \r\n\r\nBelow is the relevant code for my `AppConfig` class:\r\n```\r\npublic class AppConfig implements WebMvcConfigurer {\r\n    ...\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/css/**&quot;)\r\n                .addResourceLocations(&quot;/css/&quot;);\r\n    }\r\n    ...\r\n}\r\n```\r\nAnd the JSP header:\r\n```\r\n &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/css/style.css&quot;/&gt;\r\n```\r\n\r\nI&#39;ve already checked some other questions asking after this issue and have had no luck. Several of them advised checking the config file for Spring Security to ensure that permission is granted for all requests using the resource file but based on what I can see, it shouldn&#39;t be prohibiting the CSS from being loaded:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setPasswordEncoder(encoder());\r\n        authenticationProvider.setUserDetailsService(userService);\r\n\r\n        return authenticationProvider;\r\n    }\r\n\r\n}\r\n``` ","title":"Spring isn&#39;t loading CSS and gives a 404 when the page is loaded","body":"<p>I'm running a Spring (not Boot) web app and it's finding my JSP views properly, but my CSS isn't being found for some reason. To be clear, the page is loading with the necessary elements, but any CSS styling from classes in my <code>.css</code> files is not being applied. The structure for the CSS file I'm trying to use is <code>src/main/resources/css/style.css</code>.</p>\n<p>Below is the relevant code for my <code>AppConfig</code> class:</p>\n<pre><code>public class AppConfig implements WebMvcConfigurer {\n    ...\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/css/**&quot;)\n                .addResourceLocations(&quot;/css/&quot;);\n    }\n    ...\n}\n</code></pre>\n<p>And the JSP header:</p>\n<pre><code> &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/css/style.css&quot;/&gt;\n</code></pre>\n<p>I've already checked some other questions asking after this issue and have had no luck. Several of them advised checking the config file for Spring Security to ensure that permission is granted for all requests using the resource file but based on what I can see, it shouldn't be prohibiting the CSS from being loaded:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Bean\n    public BCryptPasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setPasswordEncoder(encoder());\n        authenticationProvider.setUserDetailsService(userService);\n\n        return authenticationProvider;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641902341,"post_id":70666363,"comment_id":124923678,"body_markdown":"What do you mean by &quot;read all child elements&quot;?","body":"What do you mean by &quot;read all child elements&quot;?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1641910732,"post_id":70666363,"comment_id":124927073,"body_markdown":"Are you looking for https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events? If that doesn&#39;t answer your question, can you please edit it (there&#39;s a link right under it) to show the [minimal code of what you already tried](http://stackoverflow.com/help/mcve)?","body":"Are you looking for <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a>? If that doesn&#39;t answer your question, can you please edit it (there&#39;s a link right under it) to show the <a href=\"http://stackoverflow.com/help/mcve\">minimal code of what you already tried</a>?"}],"owner":{"account_id":17686756,"reputation":1,"user_id":17901661,"display_name":"giorgi latsabidze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641910664,"creation_date":1641902036,"question_id":70666363,"body_markdown":"![enter image description here][1]\r\n\r\nHow can I read all child elements from firebase without authentication if these elements were added by authenticated users? in Android Studio\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hToEF.png","title":"How can I read all child elements from firebase without authentication if these elements were added by authenticated users? in Android Studio","body":"<p><img src=\"https://i.stack.imgur.com/hToEF.png\" alt=\"enter image description here\" /></p>\n<p>How can I read all child elements from firebase without authentication if these elements were added by authenticated users? in Android Studio</p>\n"},{"tags":["java","binary-tree","recursive-datastructures"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641911133,"post_id":70668222,"comment_id":124927289,"body_markdown":"You&#39;re describing a Binary Search Tree or BST. Is &quot;recursive&quot; part of the requirement or just that you think it has to be done that way?","body":"You&#39;re describing a Binary Search Tree or BST. Is &quot;recursive&quot; part of the requirement or just that you think it has to be done that way?"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641910334,"creation_date":1641910334,"answer_id":70668266,"question_id":70668222,"body_markdown":"You are ignoring the result of your recursive calls.\r\n\r\nRather than doing:\r\n\r\n```\r\ncheckForValue(value, current.right);  // Result ignored.\r\ncheckForValue(value, current.left);   // Result ignored.\r\nreturn false;                         // Always returned.\r\n```\r\n\r\ninstead do:\r\n\r\n```\r\nreturn checkForValue(value, current.right)\r\n    || checkForValue(value, current.left);\r\n```\r\n\r\nThis will only descend into the left branch if the right branch resulted in false.","title":"How can I return a boolean while traversing a BinaryTree recursivly and checking for a specific Node with matching Value?","body":"<p>You are ignoring the result of your recursive calls.</p>\n<p>Rather than doing:</p>\n<pre><code>checkForValue(value, current.right);  // Result ignored.\ncheckForValue(value, current.left);   // Result ignored.\nreturn false;                         // Always returned.\n</code></pre>\n<p>instead do:</p>\n<pre><code>return checkForValue(value, current.right)\n    || checkForValue(value, current.left);\n</code></pre>\n<p>This will only descend into the left branch if the right branch resulted in false.</p>\n"}],"owner":{"account_id":19393337,"reputation":59,"user_id":14181512,"display_name":"Neo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70668266,"answer_count":1,"score":0,"last_activity_date":1641910334,"creation_date":1641910164,"question_id":70668222,"body_markdown":"I&#39;m currently working on Tree Data Structures and Recursion in Java.\r\nMy Plan was to have a **recursive** method, which traverses the Tree and checks if any Node in the Tree has this certain value. If so, the method returns **true**, else the method returns **false**.\r\nFor a better understanding I added print Statements.\r\nThe Issue I have is that, the method retuns false even if a node exsits with that certain value.\r\nIt only returns true, if the value matches the root value.\r\nMy Method looks like this:\r\n```\r\n//Calling this method in the main function\r\n    public boolean checkForValue(int value) {\r\n        return checkForValue(value, root);\r\n    }\r\n    \r\n    private boolean checkForValue(int value, TreeNode current) {\r\n        //Checking if the current value is null, if so return false\r\n        if(current == null) {\r\n            return false;\r\n        } else {\r\n            //if the current nodes value matches the value we are looking for\r\n            // it should return true\r\n            if(current.value == value) {\r\n                \r\n                System.out.println(&quot;Found a Node with same value&quot;);\r\n                \r\n                return true;\r\n            }\r\n            //if it wasnt the value, call the method recusrivly\r\n            //with the current.right node\r\n             else {\r\n                System.out.println(&quot;Value didnt matched the current Node&quot;);\r\n                checkForValue(value, current.right);\r\n                checkForValue(value, current.left);\r\n                return false;\r\n                \r\n            }\r\n        }\r\n        \r\n    }\r\n```\r\nMy Main Method looks like this:\r\n```\r\npublic static void main(String[] args) {\r\n            Tree tree = new Tree();\r\n            tree.add(new TreeNode(20));\r\n            tree.add(new TreeNode(30));\r\n            tree.add(new TreeNode(10));\r\n            tree.add(new TreeNode(15));\r\n            tree.add(new TreeNode(5));\r\n            tree.add(new TreeNode(40));\r\n            tree.add(new TreeNode(29));\r\n            System.out.println(tree.checkForValue(40));\r\n}\r\n```\r\nIt prints out false, although the Tree has a Node with Value of 40.\r\nMy Console looks like this after running it:\r\n\r\n 1. Value didnt matched the current Node\r\n 2. Value didnt matched the current Node\r\n 3. Value didnt matched the current Node\r\n 4. Value didnt matched the current Node\r\n 5. Value didnt matched the current Node\r\n 6. Found a Node with same value\r\n 7. Value didnt matched the current Node\r\n\r\nAfter finding the Node (line 6) it should just return true and **not** continue (line 7). How can i make sure that I stop, if I found the value?","title":"How can I return a boolean while traversing a BinaryTree recursivly and checking for a specific Node with matching Value?","body":"<p>I'm currently working on Tree Data Structures and Recursion in Java.\nMy Plan was to have a <strong>recursive</strong> method, which traverses the Tree and checks if any Node in the Tree has this certain value. If so, the method returns <strong>true</strong>, else the method returns <strong>false</strong>.\nFor a better understanding I added print Statements.\nThe Issue I have is that, the method retuns false even if a node exsits with that certain value.\nIt only returns true, if the value matches the root value.\nMy Method looks like this:</p>\n<pre><code>//Calling this method in the main function\n    public boolean checkForValue(int value) {\n        return checkForValue(value, root);\n    }\n    \n    private boolean checkForValue(int value, TreeNode current) {\n        //Checking if the current value is null, if so return false\n        if(current == null) {\n            return false;\n        } else {\n            //if the current nodes value matches the value we are looking for\n            // it should return true\n            if(current.value == value) {\n                \n                System.out.println(&quot;Found a Node with same value&quot;);\n                \n                return true;\n            }\n            //if it wasnt the value, call the method recusrivly\n            //with the current.right node\n             else {\n                System.out.println(&quot;Value didnt matched the current Node&quot;);\n                checkForValue(value, current.right);\n                checkForValue(value, current.left);\n                return false;\n                \n            }\n        }\n        \n    }\n</code></pre>\n<p>My Main Method looks like this:</p>\n<pre><code>public static void main(String[] args) {\n            Tree tree = new Tree();\n            tree.add(new TreeNode(20));\n            tree.add(new TreeNode(30));\n            tree.add(new TreeNode(10));\n            tree.add(new TreeNode(15));\n            tree.add(new TreeNode(5));\n            tree.add(new TreeNode(40));\n            tree.add(new TreeNode(29));\n            System.out.println(tree.checkForValue(40));\n}\n</code></pre>\n<p>It prints out false, although the Tree has a Node with Value of 40.\nMy Console looks like this after running it:</p>\n<ol>\n<li>Value didnt matched the current Node</li>\n<li>Value didnt matched the current Node</li>\n<li>Value didnt matched the current Node</li>\n<li>Value didnt matched the current Node</li>\n<li>Value didnt matched the current Node</li>\n<li>Found a Node with same value</li>\n<li>Value didnt matched the current Node</li>\n</ol>\n<p>After finding the Node (line 6) it should just return true and <strong>not</strong> continue (line 7). How can i make sure that I stop, if I found the value?</p>\n"},{"tags":["java","utf-8","jar"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1641545402,"post_id":70618561,"comment_id":124836514,"body_markdown":"I suppose the problem is rather with limited UTF-8 capabilities in your console - see e.g. https://stackoverflow.com/questions/388490/how-to-use-unicode-characters-in-windows-command-line for some insights on Windows","body":"I suppose the problem is rather with limited UTF-8 capabilities in your console - see e.g. <a href=\"https://stackoverflow.com/questions/388490/how-to-use-unicode-characters-in-windows-command-line\" title=\"how to use unicode characters in windows command line\">stackoverflow.com/questions/388490/&hellip;</a> for some insights on Windows"}],"answers":[{"tags":[],"owner":{"account_id":8985442,"reputation":881,"user_id":6699134,"display_name":"Abhinandan Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641910116,"creation_date":1641910116,"answer_id":70668207,"question_id":70618561,"body_markdown":"It turns out the way I was creating the fatJar was causing this problem. I changed it to using shadowJar plugin and now everything is working normally except the text with custom font are getting formatted to normal text. This is fine in my case.\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.2&quot; //use this for fatjar\r\n    }\r\n\r\nand then \r\n\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.example.myapp.App&#39;\r\n        }\r\n    }\r\n\r\nand finally building the jar with this command:\r\n\r\n    gradle shadowJar","title":"JAR not able to encode languages properly","body":"<p>It turns out the way I was creating the fatJar was causing this problem. I changed it to using shadowJar plugin and now everything is working normally except the text with custom font are getting formatted to normal text. This is fine in my case.</p>\n<pre><code>plugins {\n    id 'application'\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.2&quot; //use this for fatjar\n}\n</code></pre>\n<p>and then</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'com.example.myapp.App'\n    }\n}\n</code></pre>\n<p>and finally building the jar with this command:</p>\n<pre><code>gradle shadowJar\n</code></pre>\n"}],"owner":{"account_id":8985442,"reputation":881,"user_id":6699134,"display_name":"Abhinandan Chakraborty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70668207,"answer_count":1,"score":1,"last_activity_date":1641910116,"creation_date":1641544507,"question_id":70618561,"body_markdown":"I&#39;m building a web app with [Javalin](https://javalin.io/). Everything is working fine until I started running the JAR directly from command prompt. I noticed all the emojis, international languages and custom font are appearing as &quot;??????&quot; in my JSON response. So I started testing with a simple string in my main method &amp; tried to print it out in console and this is the results I&#39;m getting:\r\n```\r\npublic class App {\r\n\r\n        public static void main(String[] args) {\r\n\r\n                String myString = &quot;  .   .Ol&#225; Mundo&quot;;\r\n\r\n                byte bytes[] = myString.getBytes(&quot;ISO-8859-1&quot;); \r\n                String value = new String(bytes, &quot;UTF-8&quot;); \r\n\r\n                byte bytes2[] = myString.getBytes(&quot;UTF-8&quot;); \r\n                String value2 = new String(bytes2, &quot;UTF-8&quot;); \r\n\r\n                System.out.println(&quot;value: &quot; + value);\r\n                System.out.println(&quot;value 2: &quot; + value2);\r\n        }\r\n\r\n} \r\n```\r\n\r\n**Try #1** `java -jar app.jar`\r\n**Try #2** `java -Dfile.encoding=UTF-8 -jar app.jar`\r\nand this is the output that I&#39;m getting for both command:\r\n```\r\nvalue: ??&#209;????&#178;?&#181;&#209;? ?&#188;??&#209;? . ???&#177;?????? ?????????????? .Ol?&#161; Mundo\r\nvalue2: ????????? ???? . ?????? ?????????? .Ol&#225; Mundo\r\n```\r\n\r\nI followed through this [answer][1] to get to this point\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17169419/6699134\r\n\r\nI noticed that this issue doesn&#39;t occur when I run from gradle task but as soon as I&#39;m using jar directly then it causes this problem. Note that this is the first time I&#39;m using Java in backend. I&#39;m mostly a Node JS developer where it&#39;s not a big issue with managing emoji &amp; international fonts. Any help will be greatly appreciated. Thanks\r\n\r\n\r\n**UPDATE**\r\n\r\nI tested this with API\r\n\r\n**App.java**\r\n```\r\npublic class App {\r\n        public static void main(String[] args) {\r\n            Javalin app = Javalin.create().start(7000);\r\n            app.get(&quot;/api/test&quot;, Models::config);\r\n        }\r\n}\r\n```\r\n**Models.java**\r\n```\r\npublic class Models {\r\n        public static void config(Context context) {\r\n            String myString = &quot;  .   .Ol&#225; Mundo&quot;;\r\n            byte[] bytes2 = myString.getBytes();\r\n            String value2 = new String(bytes2, StandardCharsets.UTF_8);\r\n\r\n            context.result(value2);\r\n        }\r\n}\r\n```\r\nNow running jar gives this output in browser:\r\n\r\n    ?????? ??? . ????? ??????? .Ol&#225; Mundo\r\nand if running jar with command **#2** then this is the output:\r\n\r\n    ??? ? . ? ??? .Ol Mundo","title":"JAR not able to encode languages properly","body":"<p>I'm building a web app with <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a>. Everything is working fine until I started running the JAR directly from command prompt. I noticed all the emojis, international languages and custom font are appearing as &quot;??????&quot; in my JSON response. So I started testing with a simple string in my main method &amp; tried to print it out in console and this is the results I'm getting:</p>\n<pre><code>public class App {\n\n        public static void main(String[] args) {\n\n                String myString = &quot;  .   .Ol Mundo&quot;;\n\n                byte bytes[] = myString.getBytes(&quot;ISO-8859-1&quot;); \n                String value = new String(bytes, &quot;UTF-8&quot;); \n\n                byte bytes2[] = myString.getBytes(&quot;UTF-8&quot;); \n                String value2 = new String(bytes2, &quot;UTF-8&quot;); \n\n                System.out.println(&quot;value: &quot; + value);\n                System.out.println(&quot;value 2: &quot; + value2);\n        }\n\n} \n</code></pre>\n<p><strong>Try #1</strong> <code>java -jar app.jar</code>\n<strong>Try #2</strong> <code>java -Dfile.encoding=UTF-8 -jar app.jar</code>\nand this is the output that I'm getting for both command:</p>\n<pre><code>value: ???????? ???? . ????????? ?????????????? .Ol? Mundo\nvalue2: ????????? ???? . ?????? ?????????? .Ol Mundo\n</code></pre>\n<p>I followed through this <a href=\"https://stackoverflow.com/a/17169419/6699134\">answer</a> to get to this point</p>\n<p>I noticed that this issue doesn't occur when I run from gradle task but as soon as I'm using jar directly then it causes this problem. Note that this is the first time I'm using Java in backend. I'm mostly a Node JS developer where it's not a big issue with managing emoji &amp; international fonts. Any help will be greatly appreciated. Thanks</p>\n<p><strong>UPDATE</strong></p>\n<p>I tested this with API</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App {\n        public static void main(String[] args) {\n            Javalin app = Javalin.create().start(7000);\n            app.get(&quot;/api/test&quot;, Models::config);\n        }\n}\n</code></pre>\n<p><strong>Models.java</strong></p>\n<pre><code>public class Models {\n        public static void config(Context context) {\n            String myString = &quot;  .   .Ol Mundo&quot;;\n            byte[] bytes2 = myString.getBytes();\n            String value2 = new String(bytes2, StandardCharsets.UTF_8);\n\n            context.result(value2);\n        }\n}\n</code></pre>\n<p>Now running jar gives this output in browser:</p>\n<pre><code>?????? ??? . ????? ??????? .Ol Mundo\n</code></pre>\n<p>and if running jar with command <strong>#2</strong> then this is the output:</p>\n<pre><code>??? ? . ? ??? .Ol Mundo\n</code></pre>\n"},{"tags":["java","maven","logging","maven-surefire-plugin","junit-jupiter"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1641909400,"post_id":70667966,"comment_id":124926423,"body_markdown":"You have to change [JUnit Jupiter](https://github.com/junit-team/junit5/issues) and yes skipped tests produce a warning.","body":"You have to change <a href=\"https://github.com/junit-team/junit5/issues\" rel=\"nofollow noreferrer\">JUnit Jupiter</a> and yes skipped tests produce a warning."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1641909712,"post_id":70667966,"comment_id":124926579,"body_markdown":"Why not simply naming them like `SomeComplexDevTest` and they can be executed via IDE..and why those tests are only executing on a dev machine? Why not on a CI ... ?","body":"Why not simply naming them like <code>SomeComplexDevTest</code> and they can be executed via IDE..and why those tests are only executing on a dev machine? Why not on a CI ... ?"},{"owner":{"account_id":3444525,"reputation":3069,"user_id":2885656,"accept_rate":94,"display_name":"Software Craftsman"},"score":0,"creation_date":1641910031,"post_id":70667966,"comment_id":124926735,"body_markdown":"@khmarbaise, it&#39;s &quot;historically grown&quot; situation which I inherited &quot;as is&quot;... I agree, that there definitely is potential for improvement.","body":"@khmarbaise, it&#39;s &quot;historically grown&quot; situation which I inherited &quot;as is&quot;... I agree, that there definitely is potential for improvement."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1641910087,"post_id":70667966,"comment_id":124926755,"body_markdown":"Move conditional tests into a separate maven module","body":"Move conditional tests into a separate maven module"}],"owner":{"account_id":3444525,"reputation":3069,"user_id":2885656,"accept_rate":94,"display_name":"Software Craftsman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641910107,"creation_date":1641909192,"question_id":70667966,"body_markdown":"I have some JUnit unit tests which are annotated like this to be executed only if there is a specific system property defined. Usually, those tests are only executed on demand by a developer on the local machine by enabling the property, but are not executed during the regular Maven build.\r\n\r\n```\r\n@EnabledIfSystemProperty( named = &quot;dev.test.integration&quot;, matches = &quot;true&quot; )\r\npublic class SomeComplexTest\r\n{\r\n    // whatever...\r\n}\r\n```\r\nNow, those tests are skipped, and this leads to the following warning in Maven logs:\r\n```\r\n[WARNING] Tests run: 140, Failures: 0, Errors: 0, Skipped: 2\r\n```\r\nQuestion: is there any way to control the particular logging level for such cases (intentionally skipped JUnit tests), e.g. so that it is not WARN but INFO. My goal is simply to have a completely &quot;green&quot; Maven build, this warning is not relevant to me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CI7J6.png","title":"How to control logging level for conditionally skipped unit tests in Maven / Surefire","body":"<p>I have some JUnit unit tests which are annotated like this to be executed only if there is a specific system property defined. Usually, those tests are only executed on demand by a developer on the local machine by enabling the property, but are not executed during the regular Maven build.</p>\n<pre><code>@EnabledIfSystemProperty( named = &quot;dev.test.integration&quot;, matches = &quot;true&quot; )\npublic class SomeComplexTest\n{\n    // whatever...\n}\n</code></pre>\n<p>Now, those tests are skipped, and this leads to the following warning in Maven logs:</p>\n<pre><code>[WARNING] Tests run: 140, Failures: 0, Errors: 0, Skipped: 2\n</code></pre>\n<p>Question: is there any way to control the particular logging level for such cases (intentionally skipped JUnit tests), e.g. so that it is not WARN but INFO. My goal is simply to have a completely &quot;green&quot; Maven build, this warning is not relevant to me.</p>\n<p><a href=\"https://i.stack.imgur.com/CI7J6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CI7J6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","testing","integration-testing","put"],"comments":[{"owner":{"account_id":14521658,"reputation":138,"user_id":10489165,"display_name":"japhy"},"score":0,"creation_date":1641745761,"post_id":70639933,"comment_id":124880989,"body_markdown":"I don&#39;t see your requestbody in your test","body":"I don&#39;t see your requestbody in your test"},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1641795255,"post_id":70639933,"comment_id":124890617,"body_markdown":"What requestbody do you mean? I passed the object agency to my method call in `agencyService.updatePartialDto()`","body":"What requestbody do you mean? I passed the object agency to my method call in <code>agencyService.updatePartialDto()</code>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641724502,"creation_date":1641723444,"answer_id":70640300,"question_id":70639933,"body_markdown":"Try to add the following `ResultHandler` after performing a request on `MockMvc`. It will then print out more detail which includes the exception type that causes 400 : \r\n\r\n``` java\r\n  mockMvc.perform(put(&quot;/agencies/editAgency/&quot; + agency.getId())\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk())\r\n                .andDo(MockMvcResultHandlers.print());\r\n```\r\n\r\nSuch information should give you more insight about the root cause. ","title":"Integration test for PUT method returns 400 Bad Request","body":"<p>Try to add the following <code>ResultHandler</code> after performing a request on <code>MockMvc</code>. It will then print out more detail which includes the exception type that causes 400 :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  mockMvc.perform(put(&quot;/agencies/editAgency/&quot; + agency.getId())\n                .contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andDo(MockMvcResultHandlers.print());\n</code></pre>\n<p>Such information should give you more insight about the root cause.</p>\n"}],"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641910022,"creation_date":1641720367,"question_id":70639933,"body_markdown":"I have been trying to write a test for a PUT method, but I can&#39;t seem to figure out why the actual result code is 400 Bad Request instead of 200 Ok.\r\nThis is my test:\r\n```\r\n@WebMvcTest(controllers = AgencyController.class)\r\npublic class AgencyControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private AgencyService agencyService;\r\n\r\n    @MockBean\r\n    private AgencyMapper agencyMapper;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Update agency-happy&quot;)\r\n    public void updateAgency() throws Exception {\r\n        Agency agency = new Agency();\r\n        agency.setId(1);\r\n        agency.setName(&quot;Agency&quot;);\r\n        agency.setEmail(&quot;agency@gmail.com&quot;);\r\n\r\n        doReturn(Collections.singletonList(agency)).when(agencyService).getAll();\r\n\r\n        agency.setName(&quot;Updated name&quot;);\r\n        agency.setEmail(&quot;updated@gmail.com&quot;);\r\n\r\n        when(agencyService.updatePartialDto(agency, agency.getId())).thenReturn(agency);\r\n\r\n        mockMvc.perform(put(&quot;/agencies/editAgency/&quot; + agency.getId())\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk())\r\n                .andDo(MockMvcResultHandlers.print());\r\n\r\n    }\r\n}\r\n```\r\nAnd this is my method in the agency controller:\r\n```\r\n  @PutMapping(&quot;/editAgency/{id}&quot;)\r\n    public Agency updatePartial(@RequestBody AgencyDto agencyDto, @PathVariable Integer id) {\r\n        Agency mappedAgency = mapper.mapToEntity(agencyDto);\r\n        return service.updatePartialDto(mappedAgency, id);\r\n    }\r\n```\r\nI&#39;ve tried debugging the test and expected vs actual returns 200 vs 400. The test seems to be fine until it hits the line with ```mockMvc.perform()```. When stepping into the function, it finally comes to a point where it hits the method \r\n```\r\npublic int getStatus() {\r\n        return this.status;\r\n    }\r\n``` \r\nfrom ```MockHttpServletResponse.class``` and here it returns 400.\r\nThe ```getAll()``` method from the service is just a call to JpaRepository&#39;s ```findAll()``` method.\r\nWhat have I done wrong? I also searched for examples, but I didn&#39;t find anything relatable.\r\nError:\r\n```\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\r\n\tat com.project.controller.AgencyControllerTest.updateAgency(AgencyControllerTest.java:155)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n```","title":"Integration test for PUT method returns 400 Bad Request","body":"<p>I have been trying to write a test for a PUT method, but I can't seem to figure out why the actual result code is 400 Bad Request instead of 200 Ok.\nThis is my test:</p>\n<pre><code>@WebMvcTest(controllers = AgencyController.class)\npublic class AgencyControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    private AgencyService agencyService;\n\n    @MockBean\n    private AgencyMapper agencyMapper;\n\n    @Test\n    @DisplayName(&quot;Update agency-happy&quot;)\n    public void updateAgency() throws Exception {\n        Agency agency = new Agency();\n        agency.setId(1);\n        agency.setName(&quot;Agency&quot;);\n        agency.setEmail(&quot;agency@gmail.com&quot;);\n\n        doReturn(Collections.singletonList(agency)).when(agencyService).getAll();\n\n        agency.setName(&quot;Updated name&quot;);\n        agency.setEmail(&quot;updated@gmail.com&quot;);\n\n        when(agencyService.updatePartialDto(agency, agency.getId())).thenReturn(agency);\n\n        mockMvc.perform(put(&quot;/agencies/editAgency/&quot; + agency.getId())\n                        .contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andDo(MockMvcResultHandlers.print());\n\n    }\n}\n</code></pre>\n<p>And this is my method in the agency controller:</p>\n<pre><code>  @PutMapping(&quot;/editAgency/{id}&quot;)\n    public Agency updatePartial(@RequestBody AgencyDto agencyDto, @PathVariable Integer id) {\n        Agency mappedAgency = mapper.mapToEntity(agencyDto);\n        return service.updatePartialDto(mappedAgency, id);\n    }\n</code></pre>\n<p>I've tried debugging the test and expected vs actual returns 200 vs 400. The test seems to be fine until it hits the line with <code>mockMvc.perform()</code>. When stepping into the function, it finally comes to a point where it hits the method</p>\n<pre><code>public int getStatus() {\n        return this.status;\n    }\n</code></pre>\n<p>from <code>MockHttpServletResponse.class</code> and here it returns 400.\nThe <code>getAll()</code> method from the service is just a call to JpaRepository's <code>findAll()</code> method.\nWhat have I done wrong? I also searched for examples, but I didn't find anything relatable.\nError:</p>\n<pre><code>    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\n    at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n    at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\n    at com.project.controller.AgencyControllerTest.updateAgency(AgencyControllerTest.java:155)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n</code></pre>\n"},{"tags":["java","footer","itextpdf"],"answers":[{"tags":[],"owner":{"account_id":2138478,"reputation":151,"user_id":2054501,"display_name":"Pranav Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1365578172,"creation_date":1365577246,"answer_id":15919071,"question_id":15918382,"body_markdown":"For implementing Header and footer you need to implement a HeaderFooter class that extends   \r\nPdfPageEventHelper class of iText API. Then override the `onEndPage()` to set header and footer. In this example I am setting`name` in header and &#39;page mumber` in footer.\r\n\r\nIn pdf creation side code you need to use `HeaderAndFooter` class like this:\r\n        \r\n        Document document = new Document(PageSize.LETTER);\r\n        PdfWriter writer = PdfWriter.getInstance(document, &quot;C:\\sample.pdf&quot;);\r\n        //set page event to PdfWriter instance that you use to prepare pdf\r\n        writer.setPageEvent(new HeaderAndFooter(name));\r\n        .... //Add your content to documne here and close the document at last\r\n        \r\n        /*\r\n         * HeaderAndFooter class\r\n         */\r\n        public class HeaderAndFooter extends PdfPageEventHelper {\r\n    \t\r\n    \tprivate String name = &quot;&quot;;\r\n    \t\r\n    \t\r\n    \tprotected Phrase footer;\r\n    \tprotected Phrase header;\r\n    \t\r\n    \t/*\r\n    \t * Font for header and footer part.\r\n    \t */\r\n    \tprivate static Font headerFont = new Font(Font.COURIER, 9,\r\n    \t\t\tFont.NORMAL,Color.blue);\r\n    \t\r\n    \tprivate static Font footerFont = new Font(Font.TIMES_ROMAN, 9,\r\n    \t\t\tFont.BOLD,Color.blue);\r\n    \t\r\n    \t\r\n    \t/*\r\n    \t * constructor\r\n    \t */\r\n    \tpublic HeaderAndFooter(String name) {\r\n    \t\tsuper();\r\n    \t\t\r\n    \t\tthis.name = name;\r\n    \t\t\r\n    \t\t\r\n    \t\theader = new Phrase(&quot;***** Header *****&quot;);\r\n    \t\tfooter = new Phrase(&quot;**** Footer ****&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void onEndPage(PdfWriter writer, Document document) {\r\n    \r\n    \t\tPdfContentByte cb = writer.getDirectContent();\r\n    \r\n    \t\t//header content\r\n    \t\tString headerContent = &quot;Name: &quot; +name;\r\n    \t\t\t\t\r\n    \t\t//header content\r\n    \t\tString footerContent = headerContent;\r\n    \t\t/*\r\n    \t\t * Header\r\n    \t\t */\r\n    \t\tColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(headerContent,headerFont), \r\n    \t\t\t\tdocument.leftMargin() - 1, document.top() + 30, 0);\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * Foooter\r\n    \t\t */\r\n    \t\tColumnText.showTextAligned(cb, Element.ALIGN_RIGHT, new Phrase(String.format(&quot; %d &quot;, \r\n    \t\t\t\twriter.getPageNumber()),footerFont), \r\n    \t\t\t\tdocument.right() - 2 , document.bottom() - 20, 0);\r\n    \r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nHope it helps. I had used this in one of the allication.","title":"How to make a footer in generating a pdf file using an itextpdf","body":"<p>For implementing Header and footer you need to implement a HeaderFooter class that extends<br>\nPdfPageEventHelper class of iText API. Then override the <code>onEndPage()</code> to set header and footer. In this example I am setting<code>name</code> in header and 'page mumber` in footer.</p>\n\n<p>In pdf creation side code you need to use <code>HeaderAndFooter</code> class like this:</p>\n\n<pre><code>    Document document = new Document(PageSize.LETTER);\n    PdfWriter writer = PdfWriter.getInstance(document, \"C:\\sample.pdf\");\n    //set page event to PdfWriter instance that you use to prepare pdf\n    writer.setPageEvent(new HeaderAndFooter(name));\n    .... //Add your content to documne here and close the document at last\n\n    /*\n     * HeaderAndFooter class\n     */\n    public class HeaderAndFooter extends PdfPageEventHelper {\n\n    private String name = \"\";\n\n\n    protected Phrase footer;\n    protected Phrase header;\n\n    /*\n     * Font for header and footer part.\n     */\n    private static Font headerFont = new Font(Font.COURIER, 9,\n            Font.NORMAL,Color.blue);\n\n    private static Font footerFont = new Font(Font.TIMES_ROMAN, 9,\n            Font.BOLD,Color.blue);\n\n\n    /*\n     * constructor\n     */\n    public HeaderAndFooter(String name) {\n        super();\n\n        this.name = name;\n\n\n        header = new Phrase(\"***** Header *****\");\n        footer = new Phrase(\"**** Footer ****\");\n    }\n\n\n    @Override\n    public void onEndPage(PdfWriter writer, Document document) {\n\n        PdfContentByte cb = writer.getDirectContent();\n\n        //header content\n        String headerContent = \"Name: \" +name;\n\n        //header content\n        String footerContent = headerContent;\n        /*\n         * Header\n         */\n        ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(headerContent,headerFont), \n                document.leftMargin() - 1, document.top() + 30, 0);\n\n        /*\n         * Foooter\n         */\n        ColumnText.showTextAligned(cb, Element.ALIGN_RIGHT, new Phrase(String.format(\" %d \", \n                writer.getPageNumber()),footerFont), \n                document.right() - 2 , document.bottom() - 20, 0);\n\n    }\n\n}\n</code></pre>\n\n<p>Hope it helps. I had used this in one of the allication.</p>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641909879,"creation_date":1641909879,"answer_id":70668137,"question_id":15918382,"body_markdown":"small demo with itextpdf 5\r\n\r\n            final ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n            final Document document = new Document();\r\n            final PdfContentByte cb = PdfWriter.getInstance(document, byteStream).getDirectContent();\r\n    \r\n            final Paragraph footerTitleParagraph = new Paragraph();\r\n            footerTitleParagraph.add(&quot;footer title with no style&quot;);\r\n            ColumnText.showTextAligned(cb, Element.ALIGN_CENTER, footerTitleParagraph, document.right()/2, document.bottom()-15, 0);\r\n    \r\n            final Paragraph footerSubTitleParagraph = new Paragraph(&quot;footer sub-title with style&quot;, FOOTER_FONT_SUB));\r\n            ColumnText.showTextAligned(cb, Element.ALIGN_CENTER, footerSubTitleParagraph, document.right()/2, document.bottom()-25, 0);","title":"How to make a footer in generating a pdf file using an itextpdf","body":"<p>small demo with itextpdf 5</p>\n<pre><code>        final ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n        final Document document = new Document();\n        final PdfContentByte cb = PdfWriter.getInstance(document, byteStream).getDirectContent();\n\n        final Paragraph footerTitleParagraph = new Paragraph();\n        footerTitleParagraph.add(&quot;footer title with no style&quot;);\n        ColumnText.showTextAligned(cb, Element.ALIGN_CENTER, footerTitleParagraph, document.right()/2, document.bottom()-15, 0);\n\n        final Paragraph footerSubTitleParagraph = new Paragraph(&quot;footer sub-title with style&quot;, FOOTER_FONT_SUB));\n        ColumnText.showTextAligned(cb, Element.ALIGN_CENTER, footerSubTitleParagraph, document.right()/2, document.bottom()-25, 0);\n</code></pre>\n"}],"owner":{"account_id":1883401,"reputation":543,"user_id":1703098,"accept_rate":70,"display_name":"Weddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13947,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":15919071,"answer_count":2,"score":2,"last_activity_date":1641909879,"creation_date":1365574754,"question_id":15918382,"body_markdown":"I have been searching the net on how to make or set a footer using itextpdf in java. and up until now i havent found anything on how to do it. I have seen some articles on how to use and set a header. but not footers. here&#39;s a sample code\r\n\r\n    Document document = new Document(PageSize.LETTER);\r\n        \r\n    Paragraph here = new Paragraph();\r\n    Paragraph there = new Paragraph();\r\n    \r\n    Font Font1 = new Font(Font.FontFamily.HELVETICA, 9, Font.BOLD);\r\n    \r\n    here.add(new Paragraph(&quot;sample here&quot;, Font1));\r\n    there.add(new Paragraph(&quot;sample there&quot;, Font1));\r\n    //footer here \r\n    \r\n    document.add(here);\r\n    document.add(there);\r\n    document.add(footer);\r\n\r\n","title":"How to make a footer in generating a pdf file using an itextpdf","body":"<p>I have been searching the net on how to make or set a footer using itextpdf in java. and up until now i havent found anything on how to do it. I have seen some articles on how to use and set a header. but not footers. here's a sample code</p>\n\n<pre><code>Document document = new Document(PageSize.LETTER);\n\nParagraph here = new Paragraph();\nParagraph there = new Paragraph();\n\nFont Font1 = new Font(Font.FontFamily.HELVETICA, 9, Font.BOLD);\n\nhere.add(new Paragraph(\"sample here\", Font1));\nthere.add(new Paragraph(\"sample there\", Font1));\n//footer here \n\ndocument.add(here);\ndocument.add(there);\ndocument.add(footer);\n</code></pre>\n"},{"tags":["java","maven","nexus"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1641899002,"post_id":70665662,"comment_id":124922469,"body_markdown":"How did you put the snapshot in your nexus?","body":"How did you put the snapshot in your nexus?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1641899147,"post_id":70665662,"comment_id":124922520,"body_markdown":"Is the library that requires the snapshot a snapshot itself? If not that might be the reason as depending on a snapshot has a couple of risks, e.g. compatibility, security etc. - thus a &quot;release&quot; version should only depend on a defined version (or a range of version) of a dependency. Nexus might be enforcing that.","body":"Is the library that requires the snapshot a snapshot itself? If not that might be the reason as depending on a snapshot has a couple of risks, e.g. compatibility, security etc. - thus a &quot;release&quot; version should only depend on a defined version (or a range of version) of a dependency. Nexus might be enforcing that."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1641902505,"post_id":70665662,"comment_id":124923740,"body_markdown":"SNAPSHOT just tells maven to pick the latest snapshot version (depending on your repo, you could keep the last N snapshot version). Maven reads the file `maven-metadata.xml` from the repository (it shoult be on the same folder as the jar files) and one of the properties references the latest snapshot which is versioned in the way you shared (name-version-timestamp-index). Check the medatadata file as it might be corrupted. As an example, check this [snapshot repo](https://repo.spring.io/ui/native/snapshot/org/springframework/spring-beans/5.3.9-SNAPSHOT) from spring.","body":"SNAPSHOT just tells maven to pick the latest snapshot version (depending on your repo, you could keep the last N snapshot version). Maven reads the file <code>maven-metadata.xml</code> from the repository (it shoult be on the same folder as the jar files) and one of the properties references the latest snapshot which is versioned in the way you shared (name-version-timestamp-index). Check the medatadata file as it might be corrupted. As an example, check this <a href=\"https://repo.spring.io/ui/native/snapshot/org/springframework/spring-beans/5.3.9-SNAPSHOT\" rel=\"nofollow noreferrer\">snapshot repo</a> from spring."},{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1641902545,"post_id":70665662,"comment_id":124923757,"body_markdown":"@Thorbj&#248;rnRavnAndersen it is done via Jenkins or Azure DevOps. I have no insight in that.","body":"@Thorbj&#248;rnRavnAndersen it is done via Jenkins or Azure DevOps. I have no insight in that."},{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1641902568,"post_id":70665662,"comment_id":124923769,"body_markdown":"@Thomas yes, both are snapshots.","body":"@Thomas yes, both are snapshots."},{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1641903594,"post_id":70665662,"comment_id":124924123,"body_markdown":"@Augusto but why does Maven with `-X` says it tries to load t tries to fetch https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-SNAPSHOT.jar instead of https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-20220101.111111-11.jar ?","body":"@Augusto but why does Maven with <code>-X</code> says it tries to load t tries to fetch <a href=\"https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-SNAPSHOT.jar\" rel=\"nofollow noreferrer\">nexus/nexus/repository/snapshots/tld/company/lib/&hellip;</a> instead of <a href=\"https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-20220101.111111-11.jar\" rel=\"nofollow noreferrer\">nexus/nexus/repository/snapshots/tld/company/lib/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641909627,"creation_date":1641909627,"answer_id":70668081,"question_id":70665662,"body_markdown":"Okay, the issue was resolved.\r\n\r\nWe had a &quot;clean snapshots task&quot; in Nexus which deleted &quot;old&quot; -- although this one was not that old -- snapshots. We changed the number of kept snapshots and restored the ones missing.\r\n\r\nThanks so far for all suggestions!","title":"How to tell maven to use a snapshot version? It tries to load x.y.z-SNAPSHOT but nexus has replaced -SNAPSHOT","body":"<p>Okay, the issue was resolved.</p>\n<p>We had a &quot;clean snapshots task&quot; in Nexus which deleted &quot;old&quot; -- although this one was not that old -- snapshots. We changed the number of kept snapshots and restored the ones missing.</p>\n<p>Thanks so far for all suggestions!</p>\n"}],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70668081,"answer_count":1,"score":0,"last_activity_date":1641909627,"creation_date":1641898868,"question_id":70665662,"body_markdown":"We use a nexus repository for our libraries. Another projects has it as a dependency in version 6.1.2-SNAPSHOT, but maven fails to fetch it.\r\n\r\nIt tries to fetch https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-SNAPSHOT.jar but it fails.\r\nWhen checking manually I can see that there is a https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-20220101.111111-11.jar available.\r\n\r\nMy settings.xml has a repository entry for the snapshots:\r\n```\r\n        &lt;repository&gt;\r\n          &lt;id&gt;snapshots&lt;/id&gt;\r\n          &lt;url&gt;https://nexus/nexus/repository/snapshots&lt;/url&gt;\r\n          &lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;\r\n          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n```\r\n\r\nHow do I tell Maven to use that instead?","title":"How to tell maven to use a snapshot version? It tries to load x.y.z-SNAPSHOT but nexus has replaced -SNAPSHOT","body":"<p>We use a nexus repository for our libraries. Another projects has it as a dependency in version 6.1.2-SNAPSHOT, but maven fails to fetch it.</p>\n<p>It tries to fetch https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-SNAPSHOT.jar but it fails.\nWhen checking manually I can see that there is a https://nexus/nexus/repository/snapshots/tld/company/lib/lib-6.1.2-20220101.111111-11.jar available.</p>\n<p>My settings.xml has a repository entry for the snapshots:</p>\n<pre><code>        &lt;repository&gt;\n          &lt;id&gt;snapshots&lt;/id&gt;\n          &lt;url&gt;https://nexus/nexus/repository/snapshots&lt;/url&gt;\n          &lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;\n          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n        &lt;/repository&gt;\n</code></pre>\n<p>How do I tell Maven to use that instead?</p>\n"},{"tags":["java","mockito","spy"],"comments":[{"owner":{"account_id":9196626,"reputation":1093,"user_id":6835152,"display_name":"Ramees Thattarath"},"score":2,"creation_date":1641909521,"post_id":70667987,"comment_id":124926492,"body_markdown":"https://stackoverflow.com/a/31085466/6835152\nDid u try updateTimeseries(anyInt());","body":"<a href=\"https://stackoverflow.com/a/31085466/6835152\">stackoverflow.com/a/31085466/6835152</a> Did u try updateTimeseries(anyInt());"},{"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"score":0,"creation_date":1641909825,"post_id":70667987,"comment_id":124926637,"body_markdown":"yeah, that&#39;s it","body":"yeah, that&#39;s it"}],"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641927911,"answer_count":0,"score":0,"last_activity_date":1641909262,"creation_date":1641909262,"question_id":70667987,"body_markdown":"I have a Spring Boot Test with a Bean I want to spy on:\r\n\r\n\r\n    @SpyBean\r\n    private TimeseriesWriter writer;\r\n\r\n    @Test\r\n    public void testEmpty() {\r\n        ...\r\n        Mockito.verify(writer, Mockito.never()).updateTimeseries(any());\r\n    }\r\n\r\nI was under the impression that this is how I verify that the updateTimeseries method is never called. \r\nBut I get following error:\r\n\r\n\r\n    org.mockito.exceptions.misusing.UnfinishedVerificationException: \r\n    Missing method call for verify(mock) here:\r\n    -&gt; at com.xxxTest.testEmpty(xxxTest.java:134)\r\n\r\nDebugging shows that the method is definitely not called. So how do I verify that?","title":"UnfinishedVerificationException when verfying with Mockito.never()","body":"<p>I have a Spring Boot Test with a Bean I want to spy on:</p>\n<pre><code>@SpyBean\nprivate TimeseriesWriter writer;\n\n@Test\npublic void testEmpty() {\n    ...\n    Mockito.verify(writer, Mockito.never()).updateTimeseries(any());\n}\n</code></pre>\n<p>I was under the impression that this is how I verify that the updateTimeseries method is never called.\nBut I get following error:</p>\n<pre><code>org.mockito.exceptions.misusing.UnfinishedVerificationException: \nMissing method call for verify(mock) here:\n-&gt; at com.xxxTest.testEmpty(xxxTest.java:134)\n</code></pre>\n<p>Debugging shows that the method is definitely not called. So how do I verify that?</p>\n"},{"tags":["java","spring","mongodb","jpa"],"answers":[{"tags":[],"owner":{"account_id":19657556,"reputation":18738,"user_id":14389830,"display_name":"NeNaD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641909253,"creation_date":1641909253,"answer_id":70667986,"question_id":70667722,"body_markdown":"When defining your schema model, you can set `default: undefined` config for that property.\r\n```javascript\r\nconst schema= new Schema({\r\n  property_1: { type: Array, default: undefined },\r\n})\r\n```","title":"Skip empty list from persistence in Spring Mongo","body":"<p>When defining your schema model, you can set <code>default: undefined</code> config for that property.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const schema= new Schema({\n  property_1: { type: Array, default: undefined },\n})\n</code></pre>\n"}],"owner":{"account_id":12641140,"reputation":151,"user_id":9373723,"display_name":"Johny Placebo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641909253,"creation_date":1641908082,"question_id":70667722,"body_markdown":"I have a Spring application that uses `MongoTemplate` to write to MongoDB. The problem is that I want to skip empty list entity properties from persistence to save some space around the docuemnt. How can I do that? ","title":"Skip empty list from persistence in Spring Mongo","body":"<p>I have a Spring application that uses <code>MongoTemplate</code> to write to MongoDB. The problem is that I want to skip empty list entity properties from persistence to save some space around the docuemnt. How can I do that?</p>\n"},{"tags":["java","jdbc","db2"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1641903354,"post_id":70665882,"comment_id":124924050,"body_markdown":"I think it means it has no effect if called after an `execute***` has been called on a `Statement`, but it&#39;s very poorly written. This means it can&#39;t be used to tune the fetch size on-the-fly, but you need to decide it up front. Fetch size is one of the most annoyingly complicated things to exist in JDBC. Also the documentation is garbage, it has no explanation what a fetch size of 0 implies.","body":"I think it means it has no effect if called after an <code>execute***</code> has been called on a <code>Statement</code>, but it&#39;s very poorly written. This means it can&#39;t be used to tune the fetch size on-the-fly, but you need to decide it up front. Fetch size is one of the most annoyingly complicated things to exist in JDBC. Also the documentation is garbage, it has no explanation what a fetch size of 0 implies."},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1641911861,"post_id":70665882,"comment_id":124927644,"body_markdown":"One may try in addition: `queryDataSize`: 32KB (default), 256KB (max until 11.5.7), 10MB (max since 11.5.7), `queryPrefetch=true` (since 11.5.6).","body":"One may try in addition: <code>queryDataSize</code>: 32KB (default), 256KB (max until 11.5.7), 10MB (max since 11.5.7), <code>queryPrefetch=true</code> (since 11.5.6)."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1641912971,"post_id":70665882,"comment_id":124928238,"body_markdown":"When you get access to Db2, (or even indirect access via a helpful DBA if available) then the place to start optimising might not be with the fetch size, but with the access plan for the query.","body":"When you get access to Db2, (or even indirect access via a helpful DBA if available) then the place to start optimising might not be with the fetch size, but with the access plan for the query."}],"answers":[{"tags":[],"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641909003,"creation_date":1641909003,"answer_id":70667930,"question_id":70665882,"body_markdown":"What it means is that the `fetchSize` value set at the connection level is used by default for all future `Statement` objects, unless it&#39;s overridden by `Statement.fetchSize()`. Changing `fetchSize` at the connection level will have no effect on `Statement`s created previously.","title":"fetchSize property on a DB2 database (JDBC)","body":"<p>What it means is that the <code>fetchSize</code> value set at the connection level is used by default for all future <code>Statement</code> objects, unless it's overridden by <code>Statement.fetchSize()</code>. Changing <code>fetchSize</code> at the connection level will have no effect on <code>Statement</code>s created previously.</p>\n"}],"owner":{"account_id":1707399,"reputation":10960,"user_id":1566187,"accept_rate":85,"display_name":"Ely"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641909003,"creation_date":1641899957,"question_id":70665882,"body_markdown":"I am looking into improving performance of a select query on a DB2 database with millions of rows. I do not have access yet unfortunately and cannot test it.&lt;br&gt;\r\nSo I try to read through the documentation and there is a statement that confuses me. The statement is in bold and italic saying that `the fetchSize property does not affect Statement objects that exist when fetchSize is set.`\r\n\r\nAs far as I know I have to create a `Statement` object in order to set the `fetchSize` property and that is how I see and do it in the program code.&lt;br&gt;\r\nAlso, that statement somehow contradicts its previous sentence saying that one can use `Statement.setFetchSize method` to set the fetch size.\r\n\r\nCan anyone clarify or could share his/her experience with JDBC/fetchSize/DB2 ?\r\n\r\nIn the documentation of IBM (see [link][1]):\r\n\r\n&gt; **fetchSize**\r\n&gt; \r\n&gt; Specifies the default fetch size for ResultSet objects that\r\n&gt; are generated from Statement objects. The data type of this property\r\n&gt; is int.\r\n&gt; \r\n&gt; The fetchSize default can be overridden by the\r\n&gt; Statement.setFetchSize method.\r\n&gt; ***The fetchSize property does not affect Statement objects that exist when fetchSize is set.***\r\n&gt; \r\n&gt; Possible values of fetchSize are:\r\n&gt; \r\n&gt; **0 or positive-integer**\r\n&gt; \r\n&gt; The default fetchSize value for newly created\r\n&gt; Statement objects. If the fetchSize property value is invalid, the IBM\r\n&gt; Data Server Driver for JDBC and SQLJ sets the default fetchSize value\r\n&gt; to 0.\r\n&gt; \r\n&gt; **DB2BaseDataSource.FETCHSIZE_NOT_SET (-1)**\r\n&gt; \r\n&gt; Indicates that the default fetchSize value for Statement objects is 0.\r\n&gt; This value is the property default. The fetchSize property differs from the\r\n&gt; queryDataSize property. fetchSize affects the number of rows that are\r\n&gt; returned, and queryDataSize affects the number of bytes that are\r\n&gt; returned.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/db2/11.5?topic=pdsdjs-common-data-server-driver-jdbc-sqlj-properties-all-database-products","title":"fetchSize property on a DB2 database (JDBC)","body":"<p>I am looking into improving performance of a select query on a DB2 database with millions of rows. I do not have access yet unfortunately and cannot test it.<br>\nSo I try to read through the documentation and there is a statement that confuses me. The statement is in bold and italic saying that <code>the fetchSize property does not affect Statement objects that exist when fetchSize is set.</code></p>\n<p>As far as I know I have to create a <code>Statement</code> object in order to set the <code>fetchSize</code> property and that is how I see and do it in the program code.<br>\nAlso, that statement somehow contradicts its previous sentence saying that one can use <code>Statement.setFetchSize method</code> to set the fetch size.</p>\n<p>Can anyone clarify or could share his/her experience with JDBC/fetchSize/DB2 ?</p>\n<p>In the documentation of IBM (see <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=pdsdjs-common-data-server-driver-jdbc-sqlj-properties-all-database-products\" rel=\"nofollow noreferrer\">link</a>):</p>\n<blockquote>\n<p><strong>fetchSize</strong></p>\n<p>Specifies the default fetch size for ResultSet objects that\nare generated from Statement objects. The data type of this property\nis int.</p>\n<p>The fetchSize default can be overridden by the\nStatement.setFetchSize method.\n<em><strong>The fetchSize property does not affect Statement objects that exist when fetchSize is set.</strong></em></p>\n<p>Possible values of fetchSize are:</p>\n<p><strong>0 or positive-integer</strong></p>\n<p>The default fetchSize value for newly created\nStatement objects. If the fetchSize property value is invalid, the IBM\nData Server Driver for JDBC and SQLJ sets the default fetchSize value\nto 0.</p>\n<p><strong>DB2BaseDataSource.FETCHSIZE_NOT_SET (-1)</strong></p>\n<p>Indicates that the default fetchSize value for Statement objects is 0.\nThis value is the property default. The fetchSize property differs from the\nqueryDataSize property. fetchSize affects the number of rows that are\nreturned, and queryDataSize affects the number of bytes that are\nreturned.</p>\n</blockquote>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1641860671,"post_id":70660317,"comment_id":124913111,"body_markdown":"Is it just your IDE?  Do you get the same error from the command line?","body":"Is it just your IDE?  Do you get the same error from the command line?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1644463286,"post_id":70660317,"comment_id":125615813,"body_markdown":"There are no global variables in Java, and `service` is not an exception to this.","body":"There are no global variables in Java, and <code>service</code> is not an exception to this."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641860663,"creation_date":1641860663,"answer_id":70660342,"question_id":70660317,"body_markdown":"Execution order is: First all initializing expressions are resolved in lexical order (top to bottom through the file), __then__ the constructor runs.\r\n\r\nIn other words, that `userPredicate =` line runs __before__ your `this.service = service;` line. It&#39;s doomed to failure, and the compiler knows it, so it will refuse to compile this code.\r\n\r\nThe fix is trivial - move that `userPredicate` initialization into the constructor:\r\n\r\n```\r\nprivate final TestService service;\r\nprivate final Predicate&lt;User&gt; userPredicate;\r\n\r\n@AutoWired\r\npublic MyService(TestService service) {\r\n  this.service = service;\r\n  this.userPredicate = user -&gt; service.isValidUser(user);\r\n}\r\n```\r\n\r\nFor what its worth, if you don&#39;t need the `service` for anything except making that userPredicate, might as well get rid of the `service` field entirely.\r\n","title":"Java Predicate implementation can&#39;t access global final variable","body":"<p>Execution order is: First all initializing expressions are resolved in lexical order (top to bottom through the file), <strong>then</strong> the constructor runs.</p>\n<p>In other words, that <code>userPredicate =</code> line runs <strong>before</strong> your <code>this.service = service;</code> line. It's doomed to failure, and the compiler knows it, so it will refuse to compile this code.</p>\n<p>The fix is trivial - move that <code>userPredicate</code> initialization into the constructor:</p>\n<pre><code>private final TestService service;\nprivate final Predicate&lt;User&gt; userPredicate;\n\n@AutoWired\npublic MyService(TestService service) {\n  this.service = service;\n  this.userPredicate = user -&gt; service.isValidUser(user);\n}\n</code></pre>\n<p>For what its worth, if you don't need the <code>service</code> for anything except making that userPredicate, might as well get rid of the <code>service</code> field entirely.</p>\n"}],"owner":{"account_id":4240624,"reputation":521,"user_id":3470629,"accept_rate":22,"display_name":"user3470629"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1641908873,"accepted_answer_id":70660342,"answer_count":1,"score":4,"last_activity_date":1641908878,"creation_date":1641860272,"question_id":70660317,"body_markdown":"I created a simple rest service using java, and springboot. here is my service layer code\r\n\r\n    @Service\r\n    class MyService {\r\n        private final TestService service;\r\n\r\n        @Autowired\r\n        public MyService(final TestService service) {\r\n            this.service = service;\r\n        }\r\n\r\n        // here is the issue\r\n        private final Predicate&lt;User&gt; userPredicate = (user) -&gt; this.service.isValidUser(user);\r\n    }\r\n\r\nIn the above line, the ide complaining about the variable service might not be initialized, and I can not use it in the predicate implementation. I tried removing final to the service, that works, but I do not want to remove final to the TestService declaration.\r\n\r\nAnyone have any solution ?","title":"Java Predicate implementation can&#39;t access global final variable","body":"<p>I created a simple rest service using java, and springboot. here is my service layer code</p>\n<pre><code>@Service\nclass MyService {\n    private final TestService service;\n\n    @Autowired\n    public MyService(final TestService service) {\n        this.service = service;\n    }\n\n    // here is the issue\n    private final Predicate&lt;User&gt; userPredicate = (user) -&gt; this.service.isValidUser(user);\n}\n</code></pre>\n<p>In the above line, the ide complaining about the variable service might not be initialized, and I can not use it in the predicate implementation. I tried removing final to the service, that works, but I do not want to remove final to the TestService declaration.</p>\n<p>Anyone have any solution ?</p>\n"},{"tags":["java","lambda","anonymous-inner-class"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1466793942,"post_id":38020110,"comment_id":63482092,"body_markdown":"Related: http://stackoverflow.com/questions/30130148/reference-to-the-final-field-from-lambda-expression","body":"Related: <a href=\"http://stackoverflow.com/questions/30130148/reference-to-the-final-field-from-lambda-expression\" title=\"reference to the final field from lambda expression\">stackoverflow.com/questions/30130148/&hellip;</a>"},{"owner":{"account_id":8425000,"reputation":1382,"user_id":6322589,"accept_rate":57,"display_name":"lucasvw"},"score":2,"creation_date":1466794063,"post_id":38020110,"comment_id":63482157,"body_markdown":"Interestingly enough, if you remove the `final` modifier on `val` it compiles...","body":"Interestingly enough, if you remove the <code>final</code> modifier on <code>val</code> it compiles..."},{"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"score":1,"creation_date":1466794109,"post_id":38020110,"comment_id":63482185,"body_markdown":"When you change `String.valueOf(val)` into `String.valueOf(Immutable.this.val)` it compiles too","body":"When you change <code>String.valueOf(val)</code> into <code>String.valueOf(Immutable.this.val)</code> it compiles too"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1466794154,"post_id":38020110,"comment_id":63482200,"body_markdown":"Also, http://stackoverflow.com/questions/30360824/java-the-blank-final-field-may-not-have-been-initialized-anonymous-interface-v?rq=1","body":"Also, <a href=\"http://stackoverflow.com/questions/30360824/java-the-blank-final-field-may-not-have-been-initialized-anonymous-interface-v?rq=1\" title=\"java the blank final field may not have been initialized anonymous interface v\">stackoverflow.com/questions/30360824/&hellip;</a>"},{"owner":{"account_id":8425000,"reputation":1382,"user_id":6322589,"accept_rate":57,"display_name":"lucasvw"},"score":1,"creation_date":1466794295,"post_id":38020110,"comment_id":63482275,"body_markdown":"@csharpfolk `this` instead of `Immutable.this` also works.","body":"@csharpfolk <code>this</code> instead of <code>Immutable.this</code> also works."},{"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"score":1,"creation_date":1466794454,"post_id":38020110,"comment_id":63482376,"body_markdown":"@lucasvw I am using this &quot;online java ide&quot; site: https://www.compilejava.net/, and there it doesn&#39;t work with only `this`.","body":"@lucasvw I am using this &quot;online java ide&quot; site: <a href=\"https://www.compilejava.net/\" rel=\"nofollow noreferrer\">compilejava.net</a>, and there it doesn&#39;t work with only <code>this</code>."},{"owner":{"account_id":8425000,"reputation":1382,"user_id":6322589,"accept_rate":57,"display_name":"lucasvw"},"score":0,"creation_date":1466794901,"post_id":38020110,"comment_id":63482611,"body_markdown":"@csharpfolk Well that is interesting. It works in Eclipse, jdk 1.8.0_77","body":"@csharpfolk Well that is interesting. It works in Eclipse, jdk 1.8.0_77"},{"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"score":0,"creation_date":1466798216,"post_id":38020110,"comment_id":63484136,"body_markdown":"Initializing the `lambdaGetValString` field in the constructor works, too.","body":"Initializing the <code>lambdaGetValString</code> field in the constructor works, too."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1466801107,"post_id":38020110,"comment_id":63485360,"body_markdown":"@lucasvw removing `final` or `this.val` (especially the latter) fixing this is just bizarre.","body":"@lucasvw removing <code>final</code> or <code>this.val</code> (especially the latter) fixing this is just bizarre."},{"owner":{"account_id":1534488,"reputation":355,"user_id":1430890,"display_name":"Marius K."},"score":1,"creation_date":1466849633,"post_id":38020110,"comment_id":63495010,"body_markdown":"I guess it got something to do with synthetic methods and access rules","body":"I guess it got something to do with synthetic methods and access rules"}],"answers":[{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1466798612,"creation_date":1466798612,"answer_id":38021272,"question_id":38020110,"body_markdown":"This won&#39;t compile:\r\n\r\n\tpublic class Example\r\n\t{\r\n\t  private final int x;\r\n\t  private final int y = 2 * x;\r\n\t  \r\n\t  public Example() {\r\n\t\tx = 10;\r\n\t  }\r\n\t}\r\n\r\nbut this will:\r\n\r\n\tpublic class Example\r\n\t{\r\n\t  private final int x;\r\n\t  private final int y;\r\n\t  \r\n\t  public Example() {\r\n\t\tx = 10;\r\n\t\ty = 2 * x;\r\n\t  }\r\n\t}\r\n\r\nand so will this:\r\n\r\n\tpublic class Example\r\n\t{\r\n\t  private final int x = 10;\r\n\t  private final int y = 2 * x;\r\n\t}\r\n\r\nSo it&#39;s nothing to do with lambdas.\r\nA field that is initialized on the same line that it is declared on is evaluated before the constructor is executed.\r\nSo at that point, the variable &#39;val&#39; (or in this example &#39;x&#39;) has not been initialized.\r\n","title":"Java lambdas have different variable requirements than anonymous inner classes","body":"<p>This won't compile:</p>\n\n<pre><code>public class Example\n{\n  private final int x;\n  private final int y = 2 * x;\n\n  public Example() {\n    x = 10;\n  }\n}\n</code></pre>\n\n<p>but this will:</p>\n\n<pre><code>public class Example\n{\n  private final int x;\n  private final int y;\n\n  public Example() {\n    x = 10;\n    y = 2 * x;\n  }\n}\n</code></pre>\n\n<p>and so will this:</p>\n\n<pre><code>public class Example\n{\n  private final int x = 10;\n  private final int y = 2 * x;\n}\n</code></pre>\n\n<p>So it's nothing to do with lambdas.\nA field that is initialized on the same line that it is declared on is evaluated before the constructor is executed.\nSo at that point, the variable 'val' (or in this example 'x') has not been initialized.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1641908659,"creation_date":1467140824,"answer_id":38084362,"question_id":38020110,"body_markdown":"The chapter on [lambda expression bodies][3] states\r\n\r\n&gt; Unlike code appearing in anonymous class declarations, **the meaning of\r\n&gt; names and the `this` and `super` keywords appearing in a lambda body,\r\n&gt; along with the accessibility of referenced declarations, are the same\r\n&gt; as in the surrounding context** (except that lambda parameters introduce\r\n&gt; new names).\r\n&gt; \r\n&gt; The transparency of `this` (both explicit and implicit) in the body of a\r\n&gt; lambda expression - that is, treating it the same as in the\r\n&gt; surrounding context - allows more flexibility for implementations, and\r\n&gt; prevents the meaning of unqualified names in the body from being\r\n&gt; dependent on overload resolution.\r\n\r\nThey&#39;re more strict because of that.\r\n\r\nThe surrounding context, in this case, is an assignment to a field and the issue at hand is an access of a field, `val`, a blank `final` field, in the right hand side of the expression.\r\n\r\nThe Java Language Specification states\r\n\r\n&gt; Each local variable (&#167;14.4) and every blank `final` field (&#167;4.12.4,\r\n&gt; &#167;8.3.1.2) must have a definitely assigned value when any access of its\r\n&gt; value occurs.\r\n&gt; \r\n&gt; An access to its value consists of the **simple name** of the variable\r\n&gt; (**or, for a field, the simple name of the field qualified by `this`**)\r\n&gt; occurring anywhere in an expression except as the left-hand operand of\r\n&gt; the simple assignment operator `=` (&#167;15.26.1).\r\n&gt; \r\n&gt; **For every access of a local variable or blank `final` field `x`, `x` must be\r\n&gt; definitely assigned before the access, or a compile-time error occurs.**\r\n\r\nIt then goes on to say\r\n\r\n&gt; Let `C` be a class, and let `V` be a blank `final` non-`static` member field\r\n&gt; of `C`, declared in `C`. Then:\r\n&gt; \r\n&gt; - `V` is definitely unassigned (and moreover is not definitely assigned) before the leftmost instance initializer (&#167;8.6) or instance variable\r\n&gt; initializer of `C`.\r\n&gt; \r\n&gt; - **`V` is [un]assigned before an instance initializer or instance variable initializer of `C` other than the leftmost iff `V` is\r\n&gt; [un]assigned after the preceding instance initializer or instance\r\n&gt; variable initializer of `C`.**\r\n\r\nYour code basically looks like this\r\n\r\n    private final int val;\r\n    // leftmost instance variable initializer, val still unassigned \r\n    private final Callable&lt;String&gt; anonInnerGetValString = ...\r\n    // still unassigned after preceding variable initializer\r\n    private final Callable&lt;String&gt; lambdaGetValString = ...\r\n\r\nThe compiler therefore determines that `val` in unassigned when it&#39;s accessed within the initialization expression for `lambdaGetValString`.\r\n\r\n \r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2","title":"Java lambdas have different variable requirements than anonymous inner classes","body":"<p>The chapter on <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">lambda expression bodies</a> states</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, <strong>the meaning of\nnames and the <code>this</code> and <code>super</code> keywords appearing in a lambda body,\nalong with the accessibility of referenced declarations, are the same\nas in the surrounding context</strong> (except that lambda parameters introduce\nnew names).</p>\n<p>The transparency of <code>this</code> (both explicit and implicit) in the body of a\nlambda expression - that is, treating it the same as in the\nsurrounding context - allows more flexibility for implementations, and\nprevents the meaning of unqualified names in the body from being\ndependent on overload resolution.</p>\n</blockquote>\n<p>They're more strict because of that.</p>\n<p>The surrounding context, in this case, is an assignment to a field and the issue at hand is an access of a field, <code>val</code>, a blank <code>final</code> field, in the right hand side of the expression.</p>\n<p>The Java Language Specification states</p>\n<blockquote>\n<p>Each local variable (14.4) and every blank <code>final</code> field (4.12.4,\n8.3.1.2) must have a definitely assigned value when any access of its\nvalue occurs.</p>\n<p>An access to its value consists of the <strong>simple name</strong> of the variable\n(<strong>or, for a field, the simple name of the field qualified by <code>this</code></strong>)\noccurring anywhere in an expression except as the left-hand operand of\nthe simple assignment operator <code>=</code> (15.26.1).</p>\n<p><strong>For every access of a local variable or blank <code>final</code> field <code>x</code>, <code>x</code> must be\ndefinitely assigned before the access, or a compile-time error occurs.</strong></p>\n</blockquote>\n<p>It then goes on to say</p>\n<blockquote>\n<p>Let <code>C</code> be a class, and let <code>V</code> be a blank <code>final</code> non-<code>static</code> member field\nof <code>C</code>, declared in <code>C</code>. Then:</p>\n<ul>\n<li><p><code>V</code> is definitely unassigned (and moreover is not definitely assigned) before the leftmost instance initializer (8.6) or instance variable\ninitializer of <code>C</code>.</p>\n</li>\n<li><p><strong><code>V</code> is [un]assigned before an instance initializer or instance variable initializer of <code>C</code> other than the leftmost iff <code>V</code> is\n[un]assigned after the preceding instance initializer or instance\nvariable initializer of <code>C</code>.</strong></p>\n</li>\n</ul>\n</blockquote>\n<p>Your code basically looks like this</p>\n<pre><code>private final int val;\n// leftmost instance variable initializer, val still unassigned \nprivate final Callable&lt;String&gt; anonInnerGetValString = ...\n// still unassigned after preceding variable initializer\nprivate final Callable&lt;String&gt; lambdaGetValString = ...\n</code></pre>\n<p>The compiler therefore determines that <code>val</code> in unassigned when it's accessed within the initialization expression for <code>lambdaGetValString</code>.</p>\n"},{"tags":[],"owner":{"account_id":8608149,"reputation":526,"user_id":9285942,"display_name":"David Good"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564159032,"creation_date":1564159032,"answer_id":57224013,"question_id":38020110,"body_markdown":"In my case, I had a `Predicate` which was trying to access a `private final` instance variable. I made the `Predicate` final as well which fixed it.\r\n\r\n**Before - Compiler error, this.availableCities might not have been initialized**\r\n\r\n    class Service {\r\n      private final List&lt;String&gt; availableCities;\r\n      Service(List&lt;String&gt; availableCities) {\r\n        this.availableCities = availableCities;\r\n      }\r\n      private Predicate&lt;String&gt; isCityAvailable = city -&gt; this.availableCities.contains(city);\r\n    }\r\n\r\n**After - No more error**\r\n\r\n    class Service {\r\n      private final List&lt;String&gt; availableCities;\r\n      private final Predicate&lt;String&gt; isCityAvailable;\r\n      Service(List&lt;String&gt; availableCities) {\r\n        this.availableCities = availableCities;\r\n        this.isCityAvailable = city -&gt; this.availableCities.contains(city);\r\n      }\r\n    }\r\n\r\nI think the &quot;may not have been initialized&quot; compiler error has some merit, since otherwise there&#39;s nothing stopping you from calling the `Predicate` from within the constructor before the final instance variable is initialized:\r\n\r\n**Potentially Why the Compiler Enforces This**\r\n\r\n    class Service {\r\n      private final List&lt;String&gt; availableCities;\r\n      Service(List&lt;String&gt; availableCities, String topCity) {\r\n        boolean isTopCityAvailable = isCityAvailable.test(topCity); // Error: this.availableCities is not initialized yet\r\n        this.availableCities = availableCities;\r\n      }\r\n      private Predicate&lt;String&gt; isCityAvailable = city -&gt; this.availableCities.contains(city);\r\n    }","title":"Java lambdas have different variable requirements than anonymous inner classes","body":"<p>In my case, I had a <code>Predicate</code> which was trying to access a <code>private final</code> instance variable. I made the <code>Predicate</code> final as well which fixed it.</p>\n\n<p><strong>Before - Compiler error, this.availableCities might not have been initialized</strong></p>\n\n<pre><code>class Service {\n  private final List&lt;String&gt; availableCities;\n  Service(List&lt;String&gt; availableCities) {\n    this.availableCities = availableCities;\n  }\n  private Predicate&lt;String&gt; isCityAvailable = city -&gt; this.availableCities.contains(city);\n}\n</code></pre>\n\n<p><strong>After - No more error</strong></p>\n\n<pre><code>class Service {\n  private final List&lt;String&gt; availableCities;\n  private final Predicate&lt;String&gt; isCityAvailable;\n  Service(List&lt;String&gt; availableCities) {\n    this.availableCities = availableCities;\n    this.isCityAvailable = city -&gt; this.availableCities.contains(city);\n  }\n}\n</code></pre>\n\n<p>I think the \"may not have been initialized\" compiler error has some merit, since otherwise there's nothing stopping you from calling the <code>Predicate</code> from within the constructor before the final instance variable is initialized:</p>\n\n<p><strong>Potentially Why the Compiler Enforces This</strong></p>\n\n<pre><code>class Service {\n  private final List&lt;String&gt; availableCities;\n  Service(List&lt;String&gt; availableCities, String topCity) {\n    boolean isTopCityAvailable = isCityAvailable.test(topCity); // Error: this.availableCities is not initialized yet\n    this.availableCities = availableCities;\n  }\n  private Predicate&lt;String&gt; isCityAvailable = city -&gt; this.availableCities.contains(city);\n}\n</code></pre>\n"}],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2719,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":38084362,"answer_count":3,"score":22,"last_activity_date":1641908659,"creation_date":1466793696,"question_id":38020110,"body_markdown":"I have an anonymous inner class and an equivalent lambda. Why are the variable initialization rules stricter for the lambda, and is there a solution cleaner than an anonymous inner class or initializing it in the constructor?\r\n\r\n    import java.util.concurrent.Callable;\r\n\r\n    public class Immutable {\r\n        private final int val;\r\n\r\n        public Immutable(int val) { this.val = val; }\r\n  \r\n        // Works fine\r\n        private final Callable&lt;String&gt; anonInnerGetValString = new Callable&lt;String&gt;() {    \r\n            @Override\r\n            public String call() throws Exception {\r\n                return String.valueOf(val);\r\n            }\r\n        };\r\n  \r\n        // Doesn&#39;t compile; &quot;Variable &#39;val&#39; might not have been initialized&quot;\r\n        private final Callable&lt;String&gt; lambdaGetValString = () -&gt; String.valueOf(val);\r\n    }\r\n\r\nEdit: I did run across one workaround: using a getter for `val`.","title":"Java lambdas have different variable requirements than anonymous inner classes","body":"<p>I have an anonymous inner class and an equivalent lambda. Why are the variable initialization rules stricter for the lambda, and is there a solution cleaner than an anonymous inner class or initializing it in the constructor?</p>\n\n<pre><code>import java.util.concurrent.Callable;\n\npublic class Immutable {\n    private final int val;\n\n    public Immutable(int val) { this.val = val; }\n\n    // Works fine\n    private final Callable&lt;String&gt; anonInnerGetValString = new Callable&lt;String&gt;() {    \n        @Override\n        public String call() throws Exception {\n            return String.valueOf(val);\n        }\n    };\n\n    // Doesn't compile; \"Variable 'val' might not have been initialized\"\n    private final Callable&lt;String&gt; lambdaGetValString = () -&gt; String.valueOf(val);\n}\n</code></pre>\n\n<p>Edit: I did run across one workaround: using a getter for <code>val</code>.</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1641908632,"post_id":70667825,"comment_id":124926116,"body_markdown":"It is returned from `itemRepo`. Is `itemRepo` mock?","body":"It is returned from <code>itemRepo</code>. Is <code>itemRepo</code> mock?"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641908685,"post_id":70667825,"comment_id":124926138,"body_markdown":"Yes, mock......","body":"Yes, mock......"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1641908749,"post_id":70667825,"comment_id":124926159,"body_markdown":"Then you know its value because you control what is returned from  `itemRepo.save(itemPriceRequest)`","body":"Then you know its value because you control what is returned from  <code>itemRepo.save(itemPriceRequest)</code>"},{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641909077,"post_id":70667825,"comment_id":124926290,"body_markdown":"Actually there is a private method, but I think I follow another approach. With the help of you, I find a solution, many thanks an regards.","body":"Actually there is a private method, but I think I follow another approach. With the help of you, I find a solution, many thanks an regards."}],"owner":{"display_name":"user17862362"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641908513,"creation_date":1641908513,"question_id":70667825,"body_markdown":"I use `ArgumentCaptor` in my unit tests in order to get the values passed to the method. However, for the following method, I need to grab the `updated` value that is not passed to method directly. So, how can I get `updated` parameter&#39;s value properly?\r\n\r\n\r\n```\r\npublic CommandDTO update(UUID uuid, ItemPriceRequest itemPriceRequest) {\r\n\r\n    // ...\r\n\r\n    final ItemPrice updated = itemRepo.save(itemPriceRequest);\r\n    return CommandDTO.builder().uuid(updated.getUuid()).build();\r\n}\r\n```\r\n","title":"How to get returned value using ArgumentCaptor in Unit Test?","body":"<p>I use <code>ArgumentCaptor</code> in my unit tests in order to get the values passed to the method. However, for the following method, I need to grab the <code>updated</code> value that is not passed to method directly. So, how can I get <code>updated</code> parameter's value properly?</p>\n<pre><code>public CommandDTO update(UUID uuid, ItemPriceRequest itemPriceRequest) {\n\n    // ...\n\n    final ItemPrice updated = itemRepo.save(itemPriceRequest);\n    return CommandDTO.builder().uuid(updated.getUuid()).build();\n}\n</code></pre>\n"},{"tags":["java","multithreading","list","concurrency","concurrentmodification"],"answers":[{"tags":[],"owner":{"account_id":466908,"reputation":13049,"user_id":871953,"accept_rate":94,"display_name":"Eugene Retunsky"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1334846489,"creation_date":1334787650,"answer_id":10218931,"question_id":10218883,"body_markdown":"You can use either `java.util.concurrent.CopyOnWriteArrayList` or make a copy (or get an array with `Collection.toArray` method) before iterating the list in the thread.\r\n\r\nBesides that, removing in a for-each construction breaks iterator, so it&#39;s not a valid way to process the list in this case.\r\n\r\nBut you can do the following:\r\n\r\n    for (Iterator&lt;SomeClass&gt; i = list.iterator(); i.hasNext();) {\r\n        SomeClass next = i.next();\r\n        if (need_to_remove){\r\n           i.remove(i);                \r\n        }\r\n    }\r\n\r\nor \r\n\r\n    for (int i = list.size() - 1; i &gt;= 0; i--){            \r\n        if (need_to_remove) {\r\n            list.remove(i);                \r\n        }\r\n    }\r\n\r\nAlso note, that if your code accesses the list from different threads and the list is modified, you need to synchronize it. For example:\r\n\r\n        private final ReadWriteLock lock = new ReentrantReadWriteLock();\r\n\r\n  \r\n        final Lock w = lock.writeLock();\r\n        w.lock();\r\n        try {\r\n            // modifications of the list\r\n        } finally {\r\n            w.unlock();\r\n        }\r\n\r\n          .................................\r\n\r\n        final Lock r = lock.readLock();\r\n        r.lock();\r\n        try {\r\n            // read-only operations on the list\r\n            // e.g. copy it to an array\r\n        } finally {\r\n            r.unlock();\r\n        }\r\n        // and iterate outside the lock \r\n\r\nBut note, that operations withing locks should be as short as possible.","title":"Best way to prevent concurrent modification exception","body":"<p>You can use either <code>java.util.concurrent.CopyOnWriteArrayList</code> or make a copy (or get an array with <code>Collection.toArray</code> method) before iterating the list in the thread.</p>\n\n<p>Besides that, removing in a for-each construction breaks iterator, so it's not a valid way to process the list in this case.</p>\n\n<p>But you can do the following:</p>\n\n<pre><code>for (Iterator&lt;SomeClass&gt; i = list.iterator(); i.hasNext();) {\n    SomeClass next = i.next();\n    if (need_to_remove){\n       i.remove(i);                \n    }\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>for (int i = list.size() - 1; i &gt;= 0; i--){            \n    if (need_to_remove) {\n        list.remove(i);                \n    }\n}\n</code></pre>\n\n<p>Also note, that if your code accesses the list from different threads and the list is modified, you need to synchronize it. For example:</p>\n\n<pre><code>    private final ReadWriteLock lock = new ReentrantReadWriteLock();\n\n\n    final Lock w = lock.writeLock();\n    w.lock();\n    try {\n        // modifications of the list\n    } finally {\n        w.unlock();\n    }\n\n      .................................\n\n    final Lock r = lock.readLock();\n    r.lock();\n    try {\n        // read-only operations on the list\n        // e.g. copy it to an array\n    } finally {\n        r.unlock();\n    }\n    // and iterate outside the lock \n</code></pre>\n\n<p>But note, that operations withing locks should be as short as possible.</p>\n"},{"tags":[],"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334787806,"creation_date":1334787806,"answer_id":10218966,"question_id":10218883,"body_markdown":"You should make a copy of the list in `getSomeStuff()`. Publishing a reference to a private field like this makes it effectively public, so it isn&#39;t something you want to do anyway.\r\n\r\nAlso, consider returning a copy as an [`ImmutableList`][1] or at least as an [unmodifiable list][2].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29","title":"Best way to prevent concurrent modification exception","body":"<p>You should make a copy of the list in <code>getSomeStuff()</code>. Publishing a reference to a private field like this makes it effectively public, so it isn't something you want to do anyway.</p>\n\n<p>Also, consider returning a copy as an <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"nofollow\"><code>ImmutableList</code></a> or at least as an <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29\" rel=\"nofollow\">unmodifiable list</a>.</p>\n"}],"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14247,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10218931,"answer_count":2,"score":5,"last_activity_date":1641908438,"creation_date":1334787377,"question_id":10218883,"body_markdown":"Here is some pseudo code as follows.\r\n\r\n    public class MyObject\r\n    {\t\r\n    \tprivate List&lt;Object&gt; someStuff;\r\n    \tprivate Timer timer;\r\n    \r\n    \tpublic MyObject()\r\n    \t{\r\n    \t\tsomeStuff = new ArrayList&lt;Object&gt;();\r\n    \t\r\n    \t\ttimer = new Timer(new TimerTask(){\r\n    \t\t\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tfor(Object o : someStuff)\r\n    \t\t\t\t{\r\n    \t\t\t\t\t//do some more stuff involving add and removes possibly\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}, 0, 60*1000);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Object&gt; getSomeStuff()\r\n    \t{\r\n    \t\treturn this.someStuff;\r\n    \t}\r\n    }\r\n\r\nSo essentially the problem is that other objects not listed in the code above call getSomeStuff() to get the list for read-only purposes. I am getting concurrentmodificationexception in the timer thread when this occurs. I tried making the getSomeStuff method synchronized, and even tried synchronized blocks in the timer thread, but still kept getting the error. What is the easiest method of stopping concurrent access of the list?","title":"Best way to prevent concurrent modification exception","body":"<p>Here is some pseudo code as follows.</p>\n\n<pre><code>public class MyObject\n{   \n    private List&lt;Object&gt; someStuff;\n    private Timer timer;\n\n    public MyObject()\n    {\n        someStuff = new ArrayList&lt;Object&gt;();\n\n        timer = new Timer(new TimerTask(){\n\n            public void run()\n            {\n                for(Object o : someStuff)\n                {\n                    //do some more stuff involving add and removes possibly\n                }\n            }\n        }, 0, 60*1000);\n    }\n\n    public List&lt;Object&gt; getSomeStuff()\n    {\n        return this.someStuff;\n    }\n}\n</code></pre>\n\n<p>So essentially the problem is that other objects not listed in the code above call getSomeStuff() to get the list for read-only purposes. I am getting concurrentmodificationexception in the timer thread when this occurs. I tried making the getSomeStuff method synchronized, and even tried synchronized blocks in the timer thread, but still kept getting the error. What is the easiest method of stopping concurrent access of the list?</p>\n"},{"tags":["java","android","firebase","android-activity","firebase-realtime-database"],"comments":[{"owner":{"account_id":3171726,"reputation":3408,"user_id":2680506,"accept_rate":100,"display_name":"Dave S"},"score":1,"creation_date":1526412872,"post_id":50357768,"comment_id":87732406,"body_markdown":"My guess is your value changed listener is still active, so when you set the status to free, it gets triggered and sets it back to blocked.","body":"My guess is your value changed listener is still active, so when you set the status to free, it gets triggered and sets it back to blocked."},{"owner":{"account_id":7340484,"reputation":774,"user_id":5590221,"accept_rate":47,"display_name":"Ronaldo"},"score":0,"creation_date":1526595992,"post_id":50357768,"comment_id":87818467,"body_markdown":"@DaveS Do you know how I can stop that?","body":"@DaveS Do you know how I can stop that?"},{"owner":{"account_id":3171726,"reputation":3408,"user_id":2680506,"accept_rate":100,"display_name":"Dave S"},"score":0,"creation_date":1526596161,"post_id":50357768,"comment_id":87818524,"body_markdown":"A few options 1. don&#39;t use a value changed listener. 2. Track the state to interrupt the loop and not execute under certain conditions. 3. Remove the listener when done using it.","body":"A few options 1. don&#39;t use a value changed listener. 2. Track the state to interrupt the loop and not execute under certain conditions. 3. Remove the listener when done using it."},{"owner":{"account_id":7340484,"reputation":774,"user_id":5590221,"accept_rate":47,"display_name":"Ronaldo"},"score":0,"creation_date":1526662429,"post_id":50357768,"comment_id":87847639,"body_markdown":"@DaveS Well, I&#39;ve now tried the first and the third option. Unfortunately, they don&#39;t solve my problem. The third one I don&#39;t fully understand. Do you have an example for this?","body":"@DaveS Well, I&#39;ve now tried the first and the third option. Unfortunately, they don&#39;t solve my problem. The third one I don&#39;t fully understand. Do you have an example for this?"},{"owner":{"account_id":3171726,"reputation":3408,"user_id":2680506,"accept_rate":100,"display_name":"Dave S"},"score":0,"creation_date":1526662742,"post_id":50357768,"comment_id":87847783,"body_markdown":"https://stackoverflow.com/a/30986328/2680506","body":"<a href=\"https://stackoverflow.com/a/30986328/2680506\">stackoverflow.com/a/30986328/2680506</a>"},{"owner":{"account_id":7340484,"reputation":774,"user_id":5590221,"accept_rate":47,"display_name":"Ronaldo"},"score":0,"creation_date":1526684043,"post_id":50357768,"comment_id":87855754,"body_markdown":"@DaveS I tried it but, didn&#39;t work for me","body":"@DaveS I tried it but, didn&#39;t work for me"}],"answers":[{"tags":[],"owner":{"account_id":7340484,"reputation":774,"user_id":5590221,"accept_rate":47,"display_name":"Ronaldo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1526690741,"creation_date":1526690741,"answer_id":50420781,"question_id":50357768,"body_markdown":"I can&#39;t believe that the solution was so &quot;simple&quot;. All the time i was thinking that the ValueEventListeners in the `setYouChatID()` method were wrong. However, in the `sendMessageToUser()` method there was still an `addValueEventListener()` instead of an `addListenerForSingleValueEvent()`. After I fixed this, the problem was gone! ","title":"Loop when trying to change value in Firebase database on android","body":"<p>I can't believe that the solution was so \"simple\". All the time i was thinking that the ValueEventListeners in the <code>setYouChatID()</code> method were wrong. However, in the <code>sendMessageToUser()</code> method there was still an <code>addValueEventListener()</code> instead of an <code>addListenerForSingleValueEvent()</code>. After I fixed this, the problem was gone! </p>\n"},{"tags":[],"owner":{"account_id":8004915,"reputation":481,"user_id":6038484,"display_name":"Jinson Paul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641908042,"creation_date":1526985322,"answer_id":50465561,"question_id":50357768,"body_markdown":"Always use \r\n\r\n&gt; addListenerForSingleValueEvent()\r\n\r\n if any database modification or any function to be performed inside the dataChange method\r\n","title":"Loop when trying to change value in Firebase database on android","body":"<p>Always use</p>\n<blockquote>\n<p>addListenerForSingleValueEvent()</p>\n</blockquote>\n<p>if any database modification or any function to be performed inside the dataChange method</p>\n"}],"owner":{"account_id":7340484,"reputation":774,"user_id":5590221,"accept_rate":47,"display_name":"Ronaldo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2035,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":50420781,"answer_count":2,"score":12,"last_activity_date":1641908042,"creation_date":1526412132,"question_id":50357768,"body_markdown":"I&#39;m currently trying to write a messaging app and found a bug I&#39;ve been stuck with for two weeks and just can&#39;t get anywhere. \r\n\r\nThe app works as follows: \r\nWhen a user is contacted, the status of both users should be set to &quot;blocked&quot; so that no one else can contact them. This is how I implemented it in the program:\r\n\r\n\r\n\r\n**the send button:**\r\n\r\n    openNewChatButton = (Button) findViewById(R.id.mainSendButton);\r\n            openNewChatButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String checkText = sendMainMessage.getText().toString();\r\n                    if (checkText.isEmpty()) {\r\n                        Toast.makeText(MainActivity.this, &quot;Bitte verfasse vorher eine Nachricht.&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        sendMessageToUser();\r\n                    }\r\n                }\r\n            });\r\n\r\n**Creating message and sending it:**\r\n\r\n    public void sendMessageToUser() {\r\n            mUsersDatabaseForRandomChatUser.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    key = sampleUserID;\r\n                    if (current_uid.equals(key) || key == null || key == &quot;&quot;) {\r\n                        Toast.makeText(MainActivity.this, &quot;Keinen passenden Chatpartner gefunden!&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Intent newMessageIntent = new Intent(MainActivity.this, ChatActivity.class);\r\n                        newMessageIntent.putExtra(&quot;chatuser_id&quot;, key);\r\n                        newMessageIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                        newMessageIntent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        sendChatMessage();\r\n                        finish();\r\n                        setYouChatID();\r\n                        changeStateOfUserToBlocked();\r\n                        startActivity(newMessageIntent);\r\n    \r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n    private void sendChatMessage() {\r\n            String message = sendMainMessage.getText().toString();\r\n            if (!TextUtils.isEmpty(message)) {\r\n                String current_user_ref = &quot;messages/&quot; + current_uid + &quot;/&quot; + key;\r\n                String chat_user_ref = &quot;messages/&quot; + key + &quot;/&quot; + current_uid;\r\n    \r\n                DatabaseReference user_message_push = mRootReference.child(&quot;Messages&quot;).child(current_uid).child(key).push();\r\n                String push_id = user_message_push.getKey();\r\n    \r\n                Map messageMap = new HashMap();\r\n                messageMap.put(&quot;message&quot;, message);\r\n                messageMap.put(&quot;seen&quot;, false);\r\n                messageMap.put(&quot;type&quot;, &quot;text&quot;);\r\n                messageMap.put(&quot;time&quot;, ServerValue.TIMESTAMP);\r\n                messageMap.put(&quot;from&quot;, current_uid);\r\n    \r\n                sendMainMessage.setText(&quot;&quot;);\r\n    \r\n                Map messageUserMap = new HashMap();\r\n                messageUserMap.put(current_user_ref + &quot;/&quot; + push_id, messageMap);\r\n                messageUserMap.put(chat_user_ref + &quot;/&quot; + push_id, messageMap);\r\n    \r\n                mRootReference.updateChildren(messageUserMap, new DatabaseReference.CompletionListener() {\r\n                    @Override\r\n                    public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\r\n                        if (databaseError != null)\r\n                            Log.d(&quot;CHAT_LOG&quot;, databaseError.getMessage().toString());\r\n                    }\r\n                });\r\n    \r\n            }\r\n        }\r\n\r\n**Changing status of user and setting current chatpartner:** \r\n\r\n    private void setYouChatID() {\r\n        DatabaseReference youChatID = mRootReference.child(&quot;Users&quot;).child(mAuth.getCurrentUser().getUid()).child(&quot;youchatid&quot;);\r\n        youChatID.setValue(key);\r\n    \r\n        DatabaseReference youChatIDChatUser = mRootReference.child(&quot;Users&quot;).child(key).child(&quot;youchatid&quot;);\r\n        youChatIDChatUser.setValue(current_uid);\r\n    }\r\n    \r\n    private void changeStateOfUserToBlocked() {\r\n        DatabaseReference stateDatabaseChatUser = mRootReference.child(&quot;Users&quot;).child(key).child(&quot;status&quot;);\r\n        stateDatabaseChatUser.setValue(&quot;blocked&quot;);\r\n    \r\n        DatabaseReference stateDatabaseUser = mRootReference.child(&quot;Users&quot;).child(mAuth.getCurrentUser().getUid()).child(&quot;status&quot;);\r\n        stateDatabaseUser.setValue(&quot;blocked&quot;);\r\n    }\r\n\r\n\r\nUp to here everything works perfectly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, when the chat is closed, the status of both users should be set back to &quot;free&quot; and the current chatPartner (youchatid) should be set to &quot;default&quot;.\r\n\r\n       @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n            mCurrentUserId = mAuth.getCurrentUser().getUid();\r\n            mRootReference = FirebaseDatabase.getInstance().getReference();\r\n            mChatUserId = getIntent().getStringExtra(&quot;giveUserChatID&quot;);\r\n    \r\n            setContentView(R.layout.activity_securty_pop_up);\r\n            bestaetigenButton = findViewById(R.id.bestaetigenButton);\r\n            bestaetigenButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(SecurtyPopUpActivity.this, MainActivity.class);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    finish();\r\n                    startActivity(intent);\r\n                    changeStateOfUserToFree();\r\n                    removeYouChatID();\r\n    \r\n    \r\n                }\r\n            });\r\n        }\r\n\r\n       public void changeStateOfUserToFree() {\r\n            DatabaseReference stateDatabaseChatUser = mRootReference.child(&quot;Users&quot;).child(mChatUserId).child(&quot;status&quot;);\r\n            stateDatabaseChatUser.setValue(&quot;free&quot;);\r\n    \r\n            DatabaseReference stateDatabaseUser = mRootReference.child(&quot;Users&quot;).child(mAuth.getCurrentUser().getUid()).child(&quot;status&quot;);\r\n            stateDatabaseUser.setValue(&quot;free&quot;);\r\n        }\r\n\r\n      public void removeYouChatID() {\r\n            DatabaseReference youChatID = mRootReference.child(&quot;Users&quot;).child(mAuth.getCurrentUser().getUid()).child(&quot;youchatid&quot;);\r\n            youChatID.setValue(&quot;default&quot;);\r\n    \r\n            DatabaseReference youChatIDChatUser = mRootReference.child(&quot;Users&quot;).child(mChatUserId).child(&quot;youchatid&quot;);\r\n            youChatIDChatUser.setValue(&quot;default&quot;);\r\n        }\r\n\r\nThis is exactly where the problem starts!\r\n\r\nIt looks as if the program got caught in a loop at this point.\r\nBoth attributes are changed briefly, but return to the old value and the activity is opened again. \r\n\r\nHowever, if I close all tasks on my smartphone (including my app) and try the same thing again, it works without problems. \r\nAfter the first time, however, it does not work again and the loop starts over, as you can see from the video. \r\n\r\nBecause this is not so easy to understand, I added a video here:\r\nhttps://www.youtube.com/watch?v=fNgjYbgB44w\r\n\r\nI am more than desperate and just can&#39;t find a solution to this problem? Maybe one of you will have an idea.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ejxPe.png","title":"Loop when trying to change value in Firebase database on android","body":"<p>I'm currently trying to write a messaging app and found a bug I've been stuck with for two weeks and just can't get anywhere. </p>\n\n<p>The app works as follows: \nWhen a user is contacted, the status of both users should be set to \"blocked\" so that no one else can contact them. This is how I implemented it in the program:</p>\n\n<p><strong>the send button:</strong></p>\n\n<pre><code>openNewChatButton = (Button) findViewById(R.id.mainSendButton);\n        openNewChatButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String checkText = sendMainMessage.getText().toString();\n                if (checkText.isEmpty()) {\n                    Toast.makeText(MainActivity.this, \"Bitte verfasse vorher eine Nachricht.\", Toast.LENGTH_SHORT).show();\n                } else {\n                    sendMessageToUser();\n                }\n            }\n        });\n</code></pre>\n\n<p><strong>Creating message and sending it:</strong></p>\n\n<pre><code>public void sendMessageToUser() {\n        mUsersDatabaseForRandomChatUser.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                key = sampleUserID;\n                if (current_uid.equals(key) || key == null || key == \"\") {\n                    Toast.makeText(MainActivity.this, \"Keinen passenden Chatpartner gefunden!\", Toast.LENGTH_SHORT).show();\n                } else {\n                    Intent newMessageIntent = new Intent(MainActivity.this, ChatActivity.class);\n                    newMessageIntent.putExtra(\"chatuser_id\", key);\n                    newMessageIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                    newMessageIntent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    sendChatMessage();\n                    finish();\n                    setYouChatID();\n                    changeStateOfUserToBlocked();\n                    startActivity(newMessageIntent);\n\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n            }\n        });\n    }\n\n\n\nprivate void sendChatMessage() {\n        String message = sendMainMessage.getText().toString();\n        if (!TextUtils.isEmpty(message)) {\n            String current_user_ref = \"messages/\" + current_uid + \"/\" + key;\n            String chat_user_ref = \"messages/\" + key + \"/\" + current_uid;\n\n            DatabaseReference user_message_push = mRootReference.child(\"Messages\").child(current_uid).child(key).push();\n            String push_id = user_message_push.getKey();\n\n            Map messageMap = new HashMap();\n            messageMap.put(\"message\", message);\n            messageMap.put(\"seen\", false);\n            messageMap.put(\"type\", \"text\");\n            messageMap.put(\"time\", ServerValue.TIMESTAMP);\n            messageMap.put(\"from\", current_uid);\n\n            sendMainMessage.setText(\"\");\n\n            Map messageUserMap = new HashMap();\n            messageUserMap.put(current_user_ref + \"/\" + push_id, messageMap);\n            messageUserMap.put(chat_user_ref + \"/\" + push_id, messageMap);\n\n            mRootReference.updateChildren(messageUserMap, new DatabaseReference.CompletionListener() {\n                @Override\n                public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\n                    if (databaseError != null)\n                        Log.d(\"CHAT_LOG\", databaseError.getMessage().toString());\n                }\n            });\n\n        }\n    }\n</code></pre>\n\n<p><strong>Changing status of user and setting current chatpartner:</strong> </p>\n\n<pre><code>private void setYouChatID() {\n    DatabaseReference youChatID = mRootReference.child(\"Users\").child(mAuth.getCurrentUser().getUid()).child(\"youchatid\");\n    youChatID.setValue(key);\n\n    DatabaseReference youChatIDChatUser = mRootReference.child(\"Users\").child(key).child(\"youchatid\");\n    youChatIDChatUser.setValue(current_uid);\n}\n\nprivate void changeStateOfUserToBlocked() {\n    DatabaseReference stateDatabaseChatUser = mRootReference.child(\"Users\").child(key).child(\"status\");\n    stateDatabaseChatUser.setValue(\"blocked\");\n\n    DatabaseReference stateDatabaseUser = mRootReference.child(\"Users\").child(mAuth.getCurrentUser().getUid()).child(\"status\");\n    stateDatabaseUser.setValue(\"blocked\");\n}\n</code></pre>\n\n<p>Up to here everything works perfectly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ejxPe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ejxPe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, when the chat is closed, the status of both users should be set back to \"free\" and the current chatPartner (youchatid) should be set to \"default\".</p>\n\n<pre><code>   @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        mAuth = FirebaseAuth.getInstance();\n        mCurrentUserId = mAuth.getCurrentUser().getUid();\n        mRootReference = FirebaseDatabase.getInstance().getReference();\n        mChatUserId = getIntent().getStringExtra(\"giveUserChatID\");\n\n        setContentView(R.layout.activity_securty_pop_up);\n        bestaetigenButton = findViewById(R.id.bestaetigenButton);\n        bestaetigenButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(SecurtyPopUpActivity.this, MainActivity.class);\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                finish();\n                startActivity(intent);\n                changeStateOfUserToFree();\n                removeYouChatID();\n\n\n            }\n        });\n    }\n\n   public void changeStateOfUserToFree() {\n        DatabaseReference stateDatabaseChatUser = mRootReference.child(\"Users\").child(mChatUserId).child(\"status\");\n        stateDatabaseChatUser.setValue(\"free\");\n\n        DatabaseReference stateDatabaseUser = mRootReference.child(\"Users\").child(mAuth.getCurrentUser().getUid()).child(\"status\");\n        stateDatabaseUser.setValue(\"free\");\n    }\n\n  public void removeYouChatID() {\n        DatabaseReference youChatID = mRootReference.child(\"Users\").child(mAuth.getCurrentUser().getUid()).child(\"youchatid\");\n        youChatID.setValue(\"default\");\n\n        DatabaseReference youChatIDChatUser = mRootReference.child(\"Users\").child(mChatUserId).child(\"youchatid\");\n        youChatIDChatUser.setValue(\"default\");\n    }\n</code></pre>\n\n<p>This is exactly where the problem starts!</p>\n\n<p>It looks as if the program got caught in a loop at this point.\nBoth attributes are changed briefly, but return to the old value and the activity is opened again. </p>\n\n<p>However, if I close all tasks on my smartphone (including my app) and try the same thing again, it works without problems. \nAfter the first time, however, it does not work again and the loop starts over, as you can see from the video. </p>\n\n<p>Because this is not so easy to understand, I added a video here:\n<a href=\"https://www.youtube.com/watch?v=fNgjYbgB44w\" rel=\"noreferrer\">https://www.youtube.com/watch?v=fNgjYbgB44w</a></p>\n\n<p>I am more than desperate and just can't find a solution to this problem? Maybe one of you will have an idea.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"score":2,"creation_date":1641907720,"post_id":70667618,"comment_id":124925755,"body_markdown":"Because `int` data type does not support leading zeros as is your case. Use `String`s instead","body":"Because <code>int</code> data type does not support leading zeros as is your case. Use <code>String</code>s instead"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1641907798,"post_id":70667618,"comment_id":124925778,"body_markdown":"Integers have the same value whether there is a zero in front or not.","body":"Integers have the same value whether there is a zero in front or not."}],"answers":[{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641907852,"creation_date":1641907852,"answer_id":70667677,"question_id":70667618,"body_markdown":"Since you declared the array as an int[], Java stores and outputs the result with just the most significant digits. You can store it as a string if you want to keep the 0, or format the output by concatenating &quot;0&quot; by hand before the stdCode","title":"In integer array the zero is not coming in values?","body":"<p>Since you declared the array as an int[], Java stores and outputs the result with just the most significant digits. You can store it as a string if you want to keep the 0, or format the output by concatenating &quot;0&quot; by hand before the stdCode</p>\n"},{"tags":[],"owner":{"account_id":15826634,"reputation":34,"user_id":11419295,"display_name":"Harry Lu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641907867,"creation_date":1641907867,"answer_id":70667679,"question_id":70667618,"body_markdown":"The leading zero will be omitted when your input string is parsed into integer.\r\nIf you want to remain the leading zero you should choose the &quot;String&quot; data type.","title":"In integer array the zero is not coming in values?","body":"<p>The leading zero will be omitted when your input string is parsed into integer.\nIf you want to remain the leading zero you should choose the &quot;String&quot; data type.</p>\n"}],"owner":{"account_id":21051002,"reputation":1,"user_id":15471373,"display_name":"amann"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1641908395,"answer_count":2,"score":-3,"last_activity_date":1641907867,"creation_date":1641907618,"question_id":70667618,"body_markdown":"            int stdCodes[] = new int[2];\r\n            System.out.println(&quot;Enter 2 STD codes:&quot;);\r\n            for (int i = 0;  i &lt;2; i++) \r\n            {\r\n                stdCodes[i] = sc.nextInt();\r\n            }\r\n            for (int i = 0;  i &lt;2; i++) \r\n            {\r\n               System.out.println(stdCodes[i]);\r\n            }\r\n\r\n  \r\n\r\n     Enter 2 STD codes:\r\n        01975\r\n        01887\r\n       \r\n        output:\r\n        1975\r\n        1887\r\n        \r\n\r\nWhile entering std codes in SDA i entered std code with zero but why zero is not in values at time of display array?\r\n","title":"In integer array the zero is not coming in values?","body":"<pre><code>        int stdCodes[] = new int[2];\n        System.out.println(&quot;Enter 2 STD codes:&quot;);\n        for (int i = 0;  i &lt;2; i++) \n        {\n            stdCodes[i] = sc.nextInt();\n        }\n        for (int i = 0;  i &lt;2; i++) \n        {\n           System.out.println(stdCodes[i]);\n        }\n\n\n\n Enter 2 STD codes:\n    01975\n    01887\n   \n    output:\n    1975\n    1887\n    \n</code></pre>\n<p>While entering std codes in SDA i entered std code with zero but why zero is not in values at time of display array?</p>\n"},{"tags":["java","xml","spring","servlets"],"answers":[{"tags":[],"owner":{"account_id":3796139,"reputation":8113,"user_id":3151168,"accept_rate":100,"display_name":"ksokol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448004305,"creation_date":1448004305,"answer_id":33821108,"question_id":33820507,"body_markdown":"Spring is unable to find your dispatcher configuration. You didn&#39;t define a `contextConfigLocation`. In that case Spring tries to load a dispatcher configuration from `/WEB-INF/&lt;servlet-name&gt;-servlet.xml`. In your case `/WEB-INF/mvc-dispatcher-servlet.xml`.\r\n\r\nEither you put your configuration under `/WEB-INF/` and rename it to `mvc-dispatcher-servlet.xml` or you define a `contextConfigLocation` in your `web.xml`:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;   \r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/points/to/your/configuration.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt; \r\n    &lt;/servlet&gt;","title":"Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]","body":"<p>Spring is unable to find your dispatcher configuration. You didn't define a <code>contextConfigLocation</code>. In that case Spring tries to load a dispatcher configuration from <code>/WEB-INF/&lt;servlet-name&gt;-servlet.xml</code>. In your case <code>/WEB-INF/mvc-dispatcher-servlet.xml</code>.</p>\n\n<p>Either you put your configuration under <code>/WEB-INF/</code> and rename it to <code>mvc-dispatcher-servlet.xml</code> or you define a <code>contextConfigLocation</code> in your <code>web.xml</code>:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;   \n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/points/to/your/configuration.xml&lt;/param-value&gt;\n    &lt;/init-param&gt; \n&lt;/servlet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448004596,"creation_date":1448004596,"answer_id":33821177,"question_id":33820507,"body_markdown":"You have 2 solutions:\r\n\r\nEnther name your context configuration file (applicationContext.xml in my example), by adding :\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nYou can also use a file from your classpath (resources).\r\n\r\nOr use the default mechanism:\r\n\r\nIf your servler is names mvc-application, spring will loop for a file named\r\n`mvc-application-servlet.xml` in yout `WEB-INF`. The rule is simple, spring is looking for a file according to a pattern: `{servletName}-servlet.xml`\r\n\r\nSo you can either rename your file, or set it&#39;s path directly.\r\nSimplest aproatch is to rename your configuration file to : &#39;mvc-dispatcher-servlet.xml&#39;","title":"Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]","body":"<p>You have 2 solutions:</p>\n\n<p>Enther name your context configuration file (applicationContext.xml in my example), by adding :</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>You can also use a file from your classpath (resources).</p>\n\n<p>Or use the default mechanism:</p>\n\n<p>If your servler is names mvc-application, spring will loop for a file named\n<code>mvc-application-servlet.xml</code> in yout <code>WEB-INF</code>. The rule is simple, spring is looking for a file according to a pattern: <code>{servletName}-servlet.xml</code></p>\n\n<p>So you can either rename your file, or set it's path directly.\nSimplest aproatch is to rename your configuration file to : 'mvc-dispatcher-servlet.xml'</p>\n"},{"tags":[],"owner":{"account_id":10104128,"reputation":4849,"user_id":7467246,"accept_rate":67,"display_name":"Priyantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493269845,"creation_date":1493269845,"answer_id":43649106,"question_id":33820507,"body_markdown":"I also had the same problem like this.I think you need to add some new thing for the web.xml file.Here is my final correct cord for web.xml file.\r\n\r\n      &lt;servlet&gt;\r\n\t      &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n\t      &lt;servlet-class&gt;\r\n\t         org.springframework.web.servlet.DispatcherServlet\r\n\t      &lt;/servlet-class&gt;\r\n\t      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t   &lt;/servlet&gt;\r\n\t   \r\n\t   &lt;servlet-mapping&gt;\r\n         &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n         &lt;!-- &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt; --&gt;\r\n         &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n       &lt;/servlet-mapping&gt;\r\n       \r\n        &lt;context-param&gt;\r\n\t\t   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t   &lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;\r\n\t   &lt;/context-param&gt; \r\n\t   \r\n\t   &lt;listener&gt;\r\n\t  \t  &lt;listener-class&gt;\r\n\t         org.springframework.web.context.ContextLoaderListener\r\n\t  \t  &lt;/listener-class&gt;\r\n\t   &lt;/listener&gt;\r\nAccording to this \r\n&gt; servlet-name,servlet-mapping,param-value same.\r\n\r\n Otherwise it is show error.Here is **mvc-dispatcher**. Then you crete your servlet.xml file as **mvc-dispatcher-servlet.xml**\r\n\r\nYou can get more idea from [this][1] doc.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet","title":"Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]","body":"<p>I also had the same problem like this.I think you need to add some new thing for the web.xml file.Here is my final correct cord for web.xml file.</p>\n\n<pre><code>  &lt;servlet&gt;\n      &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;\n         org.springframework.web.servlet.DispatcherServlet\n      &lt;/servlet-class&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n   &lt;/servlet&gt;\n\n   &lt;servlet-mapping&gt;\n     &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n     &lt;!-- &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt; --&gt;\n     &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n   &lt;/servlet-mapping&gt;\n\n    &lt;context-param&gt;\n       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n       &lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;\n   &lt;/context-param&gt; \n\n   &lt;listener&gt;\n      &lt;listener-class&gt;\n         org.springframework.web.context.ContextLoaderListener\n      &lt;/listener-class&gt;\n   &lt;/listener&gt;\n</code></pre>\n\n<p>According to this </p>\n\n<blockquote>\n  <p>servlet-name,servlet-mapping,param-value same.</p>\n</blockquote>\n\n<p>Otherwise it is show error.Here is <strong>mvc-dispatcher</strong>. Then you crete your servlet.xml file as <strong>mvc-dispatcher-servlet.xml</strong></p>\n\n<p>You can get more idea from <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet\" rel=\"nofollow noreferrer\">this</a> doc.</p>\n"},{"tags":[],"owner":{"account_id":21604869,"reputation":1,"user_id":15932444,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641907846,"creation_date":1641907846,"answer_id":70667675,"question_id":33820507,"body_markdown":"I came across this issue when I couldn&#39;t launch quite old code inside Tomcat 9. Versions are important, as they are Java dependent. For tomcat 9 at least java 8 or more.\r\nThere were 2 additional steps to what was described in this thread, I had to make to get a working project:\r\n\r\n-update spring jars,\r\n\r\n-get correct folders structure in project and war file;\r\n\r\nCurrent Spring MVC version is **&lt;version&gt;5.3.14&lt;/version&gt;**\r\nhttps://mvnrepository.com/artifact/org.springframework/spring-webmvc\r\nSpring MVC version of the project that I was working on was \r\n**&lt;version&gt;3.0.3.RELEASE&lt;/version&gt;**\r\nThe first thing I had to do was to update Spring from 3 to 4. To do that, I switched from Ant to Maven. But the project was not working, so I had to adjust the structure of the folders inside the project.\r\n\r\nDoing my research, I understood that the way folders are organized inside the WAR is crucial, but default settings inside &#39;Maven&#39; didn&#39;t allow building the necessary structure.\r\n\r\nI used:\r\n**&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;**\r\nto achieve necessary structure in my project. Below I will share the structure that worked for me:\r\n\r\n[- The structure of the project(inside IDE)][1]\r\n\r\n[- The structure of the project(inside war file that was produced)][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aKlNW.png\r\n  [2]: https://i.stack.imgur.com/soRNO.png","title":"Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]","body":"<p>I came across this issue when I couldn't launch quite old code inside Tomcat 9. Versions are important, as they are Java dependent. For tomcat 9 at least java 8 or more.\nThere were 2 additional steps to what was described in this thread, I had to make to get a working project:</p>\n<p>-update spring jars,</p>\n<p>-get correct folders structure in project and war file;</p>\n<p>Current Spring MVC version is <strong>5.3.14</strong>\n<a href=\"https://mvnrepository.com/artifact/org.springframework/spring-webmvc\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework/spring-webmvc</a>\nSpring MVC version of the project that I was working on was\n<strong>3.0.3.RELEASE</strong>\nThe first thing I had to do was to update Spring from 3 to 4. To do that, I switched from Ant to Maven. But the project was not working, so I had to adjust the structure of the folders inside the project.</p>\n<p>Doing my research, I understood that the way folders are organized inside the WAR is crucial, but default settings inside 'Maven' didn't allow building the necessary structure.</p>\n<p>I used:\n<strong>maven-war-plugin\n3.3.2</strong>\nto achieve necessary structure in my project. Below I will share the structure that worked for me:</p>\n<p><a href=\"https://i.stack.imgur.com/aKlNW.png\" rel=\"nofollow noreferrer\">- The structure of the project(inside IDE)</a></p>\n<p><a href=\"https://i.stack.imgur.com/soRNO.png\" rel=\"nofollow noreferrer\">- The structure of the project(inside war file that was produced)</a></p>\n"}],"owner":{"account_id":1820980,"reputation":41,"user_id":1655056,"accept_rate":0,"display_name":"Programmer254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13869,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1641907846,"creation_date":1448001796,"question_id":33820507,"body_markdown":"I am having this error when I run my code. Any help will be appreciated. Thanks.\r\n\r\nHere is my dispatcher servlet.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n            \r\n        &lt;context:component-scan base-package=&quot;tutorial.mvc&quot;/&gt;\r\n    \r\n        &lt;mvc:annotation-driven/&gt;\r\n        \r\n        &lt;bean id=&quot;HandlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/&gt;\r\n        \r\n        &lt;bean id=&quot;jspViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\t   \r\n    \t    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/&quot; /&gt;\r\n    \t    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\t   \r\n    \t&lt;/bean&gt; \r\n    &lt;/beans&gt;\r\n\r\nHere is my web.xml\r\n\r\n\r\n \r\n\r\n    &lt;servlet&gt;\r\n      \t&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n      \t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  \t\r\n      &lt;/servlet&gt;\r\n      \r\n      &lt;servlet-mapping&gt;\r\n      \t&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n      \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt; \r\n\r\nHere is the error that I end up getting.\r\n    \r\n       \t Nov 20, 2015 1:39:45 AM org.apache.catalina.core.ApplicationContext log\r\n    SEVERE: StandardWrapper.Throwable\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]; nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:343)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1284)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1197)\r\n    \tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:864)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:134)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2462)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2451)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]\r\n    \tat org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:141)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)\r\n    \t... 35 more","title":"Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]","body":"<p>I am having this error when I run my code. Any help will be appreciated. Thanks.</p>\n\n<p>Here is my dispatcher servlet.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"tutorial.mvc\"/&gt;\n\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;bean id=\"HandlerMapping\" class=\"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping\"/&gt;\n\n    &lt;bean id=\"jspViewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;      \n        &lt;property name=\"prefix\" value=\"/WEB-INF/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;    \n    &lt;/bean&gt; \n&lt;/beans&gt;\n</code></pre>\n\n<p>Here is my web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    \n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt; \n</code></pre>\n\n<p>Here is the error that I end up getting.</p>\n\n<pre><code>     Nov 20, 2015 1:39:45 AM org.apache.catalina.core.ApplicationContext log\nSEVERE: StandardWrapper.Throwable\norg.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]; nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:343)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1284)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1197)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:864)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:134)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\n    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2462)\n    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2451)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml]\n    at org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:141)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)\n    ... 35 more\n</code></pre>\n"},{"tags":["java","gwt"],"answers":[{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1509855206,"creation_date":1509730640,"answer_id":47101531,"question_id":47098480,"body_markdown":"You need to add a dependency on that jar now, it is no longer part of GWT (and probably shouldn&#39;t have been to begin with, which is why it is gone):\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t  &lt;classifier&gt;sources&lt;/classifier&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGradle:\r\n\r\n    gwt &#39;javax.xml.bind:jaxb-api:2.3.0&#39;\r\n\r\n\r\n---\r\n\r\nEDIT: Correction, it looks like this might not be just related to updating GWT, but specific to Java 9 - no longer are these classes included in JDK 9, so you must actually have a dependency on the jaxb-api in your project.","title":"Getting &quot;XmlRootElement cannot be resolved to a type&quot; error after upgrading GWT from 2.8.1 to 2.8.2","body":"<p>You need to add a dependency on that jar now, it is no longer part of GWT (and probably shouldn't have been to begin with, which is why it is gone):</p>\n\n<p>Maven:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;classifier&gt;sources&lt;/classifier&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Gradle:</p>\n\n<pre><code>gwt 'javax.xml.bind:jaxb-api:2.3.0'\n</code></pre>\n\n<hr>\n\n<p>EDIT: Correction, it looks like this might not be just related to updating GWT, but specific to Java 9 - no longer are these classes included in JDK 9, so you must actually have a dependency on the jaxb-api in your project.</p>\n"},{"tags":[],"owner":{"account_id":18255042,"reputation":51,"user_id":13289185,"display_name":"Himanshi raikwar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586635420,"creation_date":1586631747,"answer_id":61162193,"question_id":47098480,"body_markdown":"Using this dependency (added in your POM file) has solved the problem for me\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Getting &quot;XmlRootElement cannot be resolved to a type&quot; error after upgrading GWT from 2.8.1 to 2.8.2","body":"<p>Using this dependency (added in your POM file) has solved the problem for me</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2387337,"reputation":1259,"user_id":2088026,"display_name":"brian17han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24507,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":47101531,"answer_count":2,"score":10,"last_activity_date":1641907620,"creation_date":1509720443,"question_id":47098480,"body_markdown":"In order to fix the broken GWT drag and drop in Chrome 61, we decided to upgrade \r\nGWT since the fix is in GWT 2.8.2.\r\n\r\nAfter upgrading, I got hundreds of following errors:\r\n    \r\n    [ERROR] Line 7: XmlRootElement cannot be resolved to a type\r\n    [ERROR] Line 3: The import javax.xml.bind cannot be resolved\r\n\r\nI tried to upgraded other dependencies to the latest version and got no luck.\r\nAny solutions or suggestions are appreciated. Thanks.","title":"Getting &quot;XmlRootElement cannot be resolved to a type&quot; error after upgrading GWT from 2.8.1 to 2.8.2","body":"<p>In order to fix the broken GWT drag and drop in Chrome 61, we decided to upgrade \nGWT since the fix is in GWT 2.8.2.</p>\n\n<p>After upgrading, I got hundreds of following errors:</p>\n\n<pre><code>[ERROR] Line 7: XmlRootElement cannot be resolved to a type\n[ERROR] Line 3: The import javax.xml.bind cannot be resolved\n</code></pre>\n\n<p>I tried to upgraded other dependencies to the latest version and got no luck.\nAny solutions or suggestions are appreciated. Thanks.</p>\n"},{"tags":["java","authentication","token","dropwizard"],"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641906973,"creation_date":1641906973,"question_id":70667471,"body_markdown":"I am trying to create a login token  for a user. Let&#39;s call that user &quot;manager&quot;. There are already existing tokens for different roles. The manager role is a role such that the manager can also be an agent. Thus, a manager should be able to login on two different platforms - Mobile and Web and the manager should not be logged out from either of the platforms.\r\n\r\nHere is what the profile service looks like. \r\n\r\n    public class ProfileService {\r\n    \r\n        private String baseUrl;\r\n        private ObjectMapper objectMapper;\r\n    \r\n        public ProfileService(String baseUrl) {\r\n            this.baseUrl = baseUrl;\r\n            objectMapper = new ObjectMapper();\r\n        }\r\n    \r\n        public ProfileDTO fetchUserProfile(String profileId){\r\n            Client client = ClientBuilder.newClient();\r\n            log.info(&quot;This is the base url {}&quot;, baseUrl);\r\n            Map response = client.target(baseUrl + &quot;/api/v1/users/&quot; + profileId).request().get(Map.class);\r\n            Object data = response.get(&quot;data&quot;);\r\n    \r\n            Map dataMap = this.objectMapper.convertValue(data, Map.class);\r\n    \r\n            Map roleGroup = this.objectMapper.convertValue(dataMap.get(&quot;roleGroup&quot;), Map.class);\r\n            List roleObjs = this.objectMapper.convertValue(dataMap.get(&quot;roles&quot;), List.class);\r\n            String userType = dataMap.get(&quot;userType&quot;).toString();\r\n            String roleGroupName = (Objects.isNull(roleGroup)) ? userType : roleGroup.get(&quot;name&quot;).toString();\r\n            List&lt;String&gt; roles = new ArrayList&lt;&gt;();\r\n    \r\n            if (Objects.nonNull(roleObjs)) {\r\n                for (Object entry : roleObjs) {\r\n                    Map role = this.objectMapper.convertValue(entry, Map.class);\r\n                    roles.add(role.get(&quot;name&quot;).toString().toUpperCase(Locale.ROOT));\r\n                }\r\n            }\r\n    \r\n            return new ProfileDTO(dataMap.get(&quot;id&quot;).toString(), dataMap.get(&quot;email&quot;).toString(),\r\n                    dataMap.get(&quot;firstName&quot;).toString(), roleGroupName, userType,\r\n                    roles, (Boolean) dataMap.get(&quot;enabled&quot;), (Boolean) dataMap.get(&quot;verified&quot;));\r\n        }\r\n    }\r\n\r\nHere is the existing service that is not giving me the desired results.\r\n\r\n \r\n\r\n    private void verify(ProfileDTO profile, Types.Platform platform) throws AuthenticationException {\r\n            if (!profile.isEnabled() || profile.getUserType() == null) {\r\n                throw new AuthenticationException(&quot;Unauthorized!&quot;);\r\n            }\r\n            switch (platform) {\r\n                case WEB:\r\n                    if(!profile.getUserType().equalsIgnoreCase(Constants.STAFF_ROLE)){\r\n    \r\n                        throw new AuthenticationException(&quot;Unauthorized web platform user&quot;);\r\n                    }\r\n                    return;\r\n                case MOBILE:\r\n                    if (!profile.getUserType().equalsIgnoreCase(Constants.AGENT_ROLE)){\r\n                        throw new AuthenticationException(&quot;Unauthorized mobile platform user&quot;);\r\n                    }\r\n                    return;\r\n                case AGGREGATOR:\r\n                    if(!profile.getRoles().add(&quot;AGGREGATOR_ROLE&quot;)){\r\n                        throw new AuthenticationException(&quot;Unauthorized aggregator&quot;);\r\n                    }\r\n                default:\r\n                    throw new AuthenticationException(&quot;Unauthorized! Unknown platform&quot;);\r\n            }\r\n        }\r\n    private String generateToken(ClPrincipal principal) throws JoseException {\r\n            final JwtClaims claims = new JwtClaims();\r\n            claims.setSubject(principal.getProfileId());\r\n            claims.setStringClaim(Constants.USERNAME, principal.getUsername());\r\n            claims.setStringClaim(Constants.FIRST_NAME, principal.getFirstname());\r\n            claims.setStringClaim(Constants.LAST_NAME, principal.getLastname());\r\n            claims.setStringClaim(Constants.ROLE_GROUP, principal.getRoleGroup());\r\n            claims.setStringListClaim(Constants.ROLES, principal.getRoles());\r\n            claims.setExpirationTimeMinutesInTheFuture(oAuthConfig.getTokenTTL() / 60);\r\n            claims.setJwtId(UUID.randomUUID().toString())\r\n\r\nWhat do I do to get the desired result I stated earlier. I keep getting the default message for the switch case `(&quot;Unauthorized! Unknown platform&quot;)`\r\n","title":"How to create a token for a role in dropwizard?","body":"<p>I am trying to create a login token  for a user. Let's call that user &quot;manager&quot;. There are already existing tokens for different roles. The manager role is a role such that the manager can also be an agent. Thus, a manager should be able to login on two different platforms - Mobile and Web and the manager should not be logged out from either of the platforms.</p>\n<p>Here is what the profile service looks like.</p>\n<pre><code>public class ProfileService {\n\n    private String baseUrl;\n    private ObjectMapper objectMapper;\n\n    public ProfileService(String baseUrl) {\n        this.baseUrl = baseUrl;\n        objectMapper = new ObjectMapper();\n    }\n\n    public ProfileDTO fetchUserProfile(String profileId){\n        Client client = ClientBuilder.newClient();\n        log.info(&quot;This is the base url {}&quot;, baseUrl);\n        Map response = client.target(baseUrl + &quot;/api/v1/users/&quot; + profileId).request().get(Map.class);\n        Object data = response.get(&quot;data&quot;);\n\n        Map dataMap = this.objectMapper.convertValue(data, Map.class);\n\n        Map roleGroup = this.objectMapper.convertValue(dataMap.get(&quot;roleGroup&quot;), Map.class);\n        List roleObjs = this.objectMapper.convertValue(dataMap.get(&quot;roles&quot;), List.class);\n        String userType = dataMap.get(&quot;userType&quot;).toString();\n        String roleGroupName = (Objects.isNull(roleGroup)) ? userType : roleGroup.get(&quot;name&quot;).toString();\n        List&lt;String&gt; roles = new ArrayList&lt;&gt;();\n\n        if (Objects.nonNull(roleObjs)) {\n            for (Object entry : roleObjs) {\n                Map role = this.objectMapper.convertValue(entry, Map.class);\n                roles.add(role.get(&quot;name&quot;).toString().toUpperCase(Locale.ROOT));\n            }\n        }\n\n        return new ProfileDTO(dataMap.get(&quot;id&quot;).toString(), dataMap.get(&quot;email&quot;).toString(),\n                dataMap.get(&quot;firstName&quot;).toString(), roleGroupName, userType,\n                roles, (Boolean) dataMap.get(&quot;enabled&quot;), (Boolean) dataMap.get(&quot;verified&quot;));\n    }\n}\n</code></pre>\n<p>Here is the existing service that is not giving me the desired results.</p>\n<pre><code>private void verify(ProfileDTO profile, Types.Platform platform) throws AuthenticationException {\n        if (!profile.isEnabled() || profile.getUserType() == null) {\n            throw new AuthenticationException(&quot;Unauthorized!&quot;);\n        }\n        switch (platform) {\n            case WEB:\n                if(!profile.getUserType().equalsIgnoreCase(Constants.STAFF_ROLE)){\n\n                    throw new AuthenticationException(&quot;Unauthorized web platform user&quot;);\n                }\n                return;\n            case MOBILE:\n                if (!profile.getUserType().equalsIgnoreCase(Constants.AGENT_ROLE)){\n                    throw new AuthenticationException(&quot;Unauthorized mobile platform user&quot;);\n                }\n                return;\n            case AGGREGATOR:\n                if(!profile.getRoles().add(&quot;AGGREGATOR_ROLE&quot;)){\n                    throw new AuthenticationException(&quot;Unauthorized aggregator&quot;);\n                }\n            default:\n                throw new AuthenticationException(&quot;Unauthorized! Unknown platform&quot;);\n        }\n    }\nprivate String generateToken(ClPrincipal principal) throws JoseException {\n        final JwtClaims claims = new JwtClaims();\n        claims.setSubject(principal.getProfileId());\n        claims.setStringClaim(Constants.USERNAME, principal.getUsername());\n        claims.setStringClaim(Constants.FIRST_NAME, principal.getFirstname());\n        claims.setStringClaim(Constants.LAST_NAME, principal.getLastname());\n        claims.setStringClaim(Constants.ROLE_GROUP, principal.getRoleGroup());\n        claims.setStringListClaim(Constants.ROLES, principal.getRoles());\n        claims.setExpirationTimeMinutesInTheFuture(oAuthConfig.getTokenTTL() / 60);\n        claims.setJwtId(UUID.randomUUID().toString())\n</code></pre>\n<p>What do I do to get the desired result I stated earlier. I keep getting the default message for the switch case <code>(&quot;Unauthorized! Unknown platform&quot;)</code></p>\n"},{"tags":["java","android","android-9.0-pie"],"comments":[{"owner":{"account_id":8917580,"reputation":296,"user_id":6655568,"display_name":"Mohit patel"},"score":0,"creation_date":1560592330,"post_id":56609068,"comment_id":99793623,"body_markdown":"Can you paste get intent code of the activity ?","body":"Can you paste get intent code of the activity ?"},{"owner":{"account_id":16140029,"reputation":11,"user_id":11651444,"display_name":"user11651444"},"score":0,"creation_date":1560594910,"post_id":56609068,"comment_id":99794097,"body_markdown":"Bundle extras = activity.getIntent().getExtras();\n        if (extras != null) {\n            requestData = (RequestData) extras.getSerializable(&quot;requestNotifyData&quot;);\n        }","body":"Bundle extras = activity.getIntent().getExtras();         if (extras != null) {             requestData = (RequestData) extras.getSerializable(&quot;requestNotifyData&quot;);         }"},{"owner":{"account_id":8917580,"reputation":296,"user_id":6655568,"display_name":"Mohit patel"},"score":0,"creation_date":1560595001,"post_id":56609068,"comment_id":99794119,"body_markdown":"did you try getting the extra&#39;s using intent in that activity?","body":"did you try getting the extra&#39;s using intent in that activity?"},{"owner":{"account_id":16140029,"reputation":11,"user_id":11651444,"display_name":"user11651444"},"score":0,"creation_date":1560598845,"post_id":56609068,"comment_id":99794940,"body_markdown":"yes, not working","body":"yes, not working"},{"owner":{"account_id":16140029,"reputation":11,"user_id":11651444,"display_name":"user11651444"},"score":0,"creation_date":1560598961,"post_id":56609068,"comment_id":99794972,"body_markdown":"in launching activity in oncreate method  onCreate(Bundle savedInstanceState) i m getting savedInstanceState as null","body":"in launching activity in oncreate method  onCreate(Bundle savedInstanceState) i m getting savedInstanceState as null"},{"owner":{"account_id":8917580,"reputation":296,"user_id":6655568,"display_name":"Mohit patel"},"score":0,"creation_date":1560600348,"post_id":56609068,"comment_id":99795279,"body_markdown":"please try to get the data from onNewIntent Override method.","body":"please try to get the data from onNewIntent Override method."},{"owner":{"account_id":16140029,"reputation":11,"user_id":11651444,"display_name":"user11651444"},"score":0,"creation_date":1560601626,"post_id":56609068,"comment_id":99795570,"body_markdown":"activity is single task so onNewIntent logs not getting printed","body":"activity is single task so onNewIntent logs not getting printed"}],"answers":[{"tags":[],"owner":{"account_id":16140029,"reputation":11,"user_id":11651444,"display_name":"user11651444"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574239464,"creation_date":1574239464,"answer_id":58950051,"question_id":56609068,"body_markdown":"    Setting extras with Bundle:\r\n     Bundle bundle = new Bundle();\r\n     bundle.putSerializable(&quot;name&quot;, requestList);\r\n     intent.putExtra(&quot;notification&quot;, bundle);\r\n    \r\n    Getting extras in activity:\r\n    intent.extras.getBundle(&quot;notification&quot;).getSerializable(&quot;name&quot;)","title":"on click of notification &quot;launching activity&quot; has extras as null, when app is in foreground or back ground in Android api 28 (pie)","body":"<pre><code>Setting extras with Bundle:\n Bundle bundle = new Bundle();\n bundle.putSerializable(\"name\", requestList);\n intent.putExtra(\"notification\", bundle);\n\nGetting extras in activity:\nintent.extras.getBundle(\"notification\").getSerializable(\"name\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3675138,"reputation":1125,"user_id":3061401,"display_name":"Pratik Satani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641906957,"creation_date":1641893019,"answer_id":70664317,"question_id":56609068,"body_markdown":" Please use send data\r\n\r\n    intent.setData(Uri.parse(&quot;here url will be there&quot;))\r\n\r\nto get data \r\n\r\n    final String fcm_message = intent.data.toString()\r\n","title":"on click of notification &quot;launching activity&quot; has extras as null, when app is in foreground or back ground in Android api 28 (pie)","body":"<p>Please use send data</p>\n<pre><code>intent.setData(Uri.parse(&quot;here url will be there&quot;))\n</code></pre>\n<p>to get data</p>\n<pre><code>final String fcm_message = intent.data.toString()\n</code></pre>\n"}],"owner":{"account_id":16140029,"reputation":11,"user_id":11651444,"display_name":"user11651444"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641906957,"creation_date":1560590577,"question_id":56609068,"body_markdown":"Below is my code for pending intent for Android API level greater then 8:\r\n   \r\n    Intent intent = new Intent(context, NotificationActivityBDO.class);\r\n    intent.putExtra(&quot;requestNotifyData&quot;, requestData);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\n    PendingIntent contentIntent =\r\n        PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n\r\n    String CHANNEL_ID = chanelID;// The id of the channel.\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        String programId = BankBrandingUtil.getProgramIdForBranding(context);\r\n        Log.d(TAG, &quot;programId: &quot; + programId);\r\n        icon = R.drawable.pn_icon;\r\n        CharSequence name;\r\n        name = &quot;Transactions&quot;;// The user-visible name of the channel.\r\n        int importance = NotificationManager.IMPORTANCE_HIGH;\r\n        NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n        mChannel.setDescription(context.getResources().getString(R.string.lbl_iap_notification_channel_desc));\r\n        getNotificationManager(context).createNotificationChannel(mChannel);\r\n    }\r\n    Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(),  R.drawable.ic_launcher);\r\n\r\n    //Notification.Builder builder = new Notification.Builder(context);\r\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID);\r\n    builder.setContentIntent(contentIntent);\r\n    builder.setLargeIcon(bitmap);\r\n    builder.setSmallIcon(icon);\r\n    builder.setTicker(tickerText)\r\n           .setContentTitle(title)\r\n           .setContentText(text);\r\n    builder.setOnlyAlertOnce(true);\r\n    builder.setAutoCancel(true);\r\n    builder.setWhen(when);\r\n\r\n    Notification notification = builder.build();\r\n\r\n    notification.defaults |= Notification.DEFAULT_SOUND;\r\n    notification.defaults |= Notification.DEFAULT_VIBRATE;\r\n\r\n    Log.v(TAG, &quot;notifiTag: &quot; + notifiTag);\r\n    Log.v(TAG, &quot;notifiId: &quot; + notifiId);\r\n\r\n    getNotificationManager(context).notify(notifiTag, notifiId, notification);   \r\n    \r\nIn `NotificationActivityBDO` i m getting extras as below:\r\n\r\n    Bundle extras = activity.getIntent().getExtras();\r\n    if (extras != null) {\r\n        requestData = (RequestData) extras.getSerializable(&quot;requestNotifyData&quot;);\r\n    }\r\n\r\nAbove code is working fine for below 8 and recently my device got update to pie (Android version 9), notification is rendered and on click I see in launching activity extras as `null`.\r\n\r\nIrrespective of app in background or foreground I&#39;m getting  `requestMoneyData` as `null` and when debugging I see extras as &quot;empty parcel&quot; and this happened only in Android version 9 and its working fine in below Android 9.\r\n\r\n Any help is appreciated to resolve the above problem.\r\n","title":"on click of notification &quot;launching activity&quot; has extras as null, when app is in foreground or back ground in Android api 28 (pie)","body":"<p>Below is my code for pending intent for Android API level greater then 8:</p>\n\n<pre><code>Intent intent = new Intent(context, NotificationActivityBDO.class);\nintent.putExtra(\"requestNotifyData\", requestData);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\nPendingIntent contentIntent =\n    PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);\n\nString CHANNEL_ID = chanelID;// The id of the channel.\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    String programId = BankBrandingUtil.getProgramIdForBranding(context);\n    Log.d(TAG, \"programId: \" + programId);\n    icon = R.drawable.pn_icon;\n    CharSequence name;\n    name = \"Transactions\";// The user-visible name of the channel.\n    int importance = NotificationManager.IMPORTANCE_HIGH;\n    NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, importance);\n    mChannel.setDescription(context.getResources().getString(R.string.lbl_iap_notification_channel_desc));\n    getNotificationManager(context).createNotificationChannel(mChannel);\n}\nBitmap bitmap = BitmapFactory.decodeResource(context.getResources(),  R.drawable.ic_launcher);\n\n//Notification.Builder builder = new Notification.Builder(context);\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID);\nbuilder.setContentIntent(contentIntent);\nbuilder.setLargeIcon(bitmap);\nbuilder.setSmallIcon(icon);\nbuilder.setTicker(tickerText)\n       .setContentTitle(title)\n       .setContentText(text);\nbuilder.setOnlyAlertOnce(true);\nbuilder.setAutoCancel(true);\nbuilder.setWhen(when);\n\nNotification notification = builder.build();\n\nnotification.defaults |= Notification.DEFAULT_SOUND;\nnotification.defaults |= Notification.DEFAULT_VIBRATE;\n\nLog.v(TAG, \"notifiTag: \" + notifiTag);\nLog.v(TAG, \"notifiId: \" + notifiId);\n\ngetNotificationManager(context).notify(notifiTag, notifiId, notification);   \n</code></pre>\n\n<p>In <code>NotificationActivityBDO</code> i m getting extras as below:</p>\n\n<pre><code>Bundle extras = activity.getIntent().getExtras();\nif (extras != null) {\n    requestData = (RequestData) extras.getSerializable(\"requestNotifyData\");\n}\n</code></pre>\n\n<p>Above code is working fine for below 8 and recently my device got update to pie (Android version 9), notification is rendered and on click I see in launching activity extras as <code>null</code>.</p>\n\n<p>Irrespective of app in background or foreground I'm getting  <code>requestMoneyData</code> as <code>null</code> and when debugging I see extras as \"empty parcel\" and this happened only in Android version 9 and its working fine in below Android 9.</p>\n\n<p>Any help is appreciated to resolve the above problem.</p>\n"},{"tags":["java","synchronization"],"answers":[{"tags":[],"owner":{"account_id":2675967,"reputation":150,"user_id":2312387,"display_name":"Sherif Abdelkhaliq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586029352,"creation_date":1586029189,"answer_id":61033779,"question_id":61033640,"body_markdown":"UML cannot handle synchronized by default, however, you can use stereotypes, this best described in this [Visualizing the synchronization of Java-threads with UML ][1] paper with examples.\r\n\r\nYou may not be able to do this with class diagrams, but, you can do it with sequence diagrams.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.academia.edu/481442/Visualizing_the_synchronization_of_Java-threads_with_UML\r\n  [2]: https://i.stack.imgur.com/0V8Jv.png","title":"How can I show, that a method is synchronized in class diagram (UML)?","body":"<p>UML cannot handle synchronized by default, however, you can use stereotypes, this best described in this <a href=\"https://www.academia.edu/481442/Visualizing_the_synchronization_of_Java-threads_with_UML\" rel=\"nofollow noreferrer\">Visualizing the synchronization of Java-threads with UML </a> paper with examples.</p>\n\n<p>You may not be able to do this with class diagrams, but, you can do it with sequence diagrams.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0V8Jv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0V8Jv.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23905300,"reputation":1,"user_id":17902963,"display_name":"Youssef Okab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641906766,"creation_date":1641906766,"answer_id":70667423,"question_id":61033640,"body_markdown":"You can try a user-defined notation with adding a note.\r\n[Note for synchronized methods][1]\r\n[Example for synchronzed method][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k4zEO.png\r\n  [2]: https://i.stack.imgur.com/jJTwk.png\r\n\r\n","title":"How can I show, that a method is synchronized in class diagram (UML)?","body":"<p>You can try a user-defined notation with adding a note.\n<a href=\"https://i.stack.imgur.com/k4zEO.png\" rel=\"nofollow noreferrer\">Note for synchronized methods</a>\n<a href=\"https://i.stack.imgur.com/jJTwk.png\" rel=\"nofollow noreferrer\">Example for synchronzed method</a></p>\n"}],"owner":{"account_id":17521233,"reputation":992,"user_id":12707241,"display_name":"F_Schmidt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61033779,"answer_count":2,"score":0,"last_activity_date":1641906766,"creation_date":1586028505,"question_id":61033640,"body_markdown":"I have created a class in java with a `public static synchronized` method.\r\n\r\nHow can I show that the public method (+) is synchronized in a class diagram?\r\n\r\nEdit:\r\nI want to show this in the class diagram, that is important! No need for activity diagram, only CLASS diagram...","title":"How can I show, that a method is synchronized in class diagram (UML)?","body":"<p>I have created a class in java with a <code>public static synchronized</code> method.</p>\n\n<p>How can I show that the public method (+) is synchronized in a class diagram?</p>\n\n<p>Edit:\nI want to show this in the class diagram, that is important! No need for activity diagram, only CLASS diagram...</p>\n"},{"tags":["java","spring-boot","tomcat","deployment","war"],"comments":[{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1640344735,"post_id":70464733,"comment_id":124573858,"body_markdown":"&quot;When I try to access the service...&quot; how exactly are you trying to access the service? May be you should add `/myapp` at the end of the url?","body":"&quot;When I try to access the service...&quot; how exactly are you trying to access the service? May be you should add <code>&#47;myapp</code> at the end of the url?"},{"owner":{"account_id":7598435,"reputation":409,"user_id":5763896,"display_name":"Theo Stefou"},"score":0,"creation_date":1640346063,"post_id":70464733,"comment_id":124574147,"body_markdown":"@dhakalkumar Yes, I use /myapp, that is not the problem definitely. As I mentioned, the spring boot initialization logs don&#39;t even show up after the app is deployed.","body":"@dhakalkumar Yes, I use /myapp, that is not the problem definitely. As I mentioned, the spring boot initialization logs don&#39;t even show up after the app is deployed."}],"answers":[{"tags":[],"owner":{"account_id":7598435,"reputation":409,"user_id":5763896,"display_name":"Theo Stefou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641906172,"creation_date":1641906172,"answer_id":70667289,"question_id":70464733,"body_markdown":"I finally found what was wrong. Because the project was initially created by some colleague, the pom.xml file was one level above where its meant to be. I have no clue why they did that and how they have been working and deploying fine with that. Moving pom.xml to the directory it&#39;s meant to be solved the problem. &lt;br&gt; EDIT: What&#39;s also funny about this is that running the project locally with the embedded tomcat server of spring boot didn&#39;t cause this issue.","title":"Tomcat war gets deployed but spring boot app does not start running","body":"<p>I finally found what was wrong. Because the project was initially created by some colleague, the pom.xml file was one level above where its meant to be. I have no clue why they did that and how they have been working and deploying fine with that. Moving pom.xml to the directory it's meant to be solved the problem. <br> EDIT: What's also funny about this is that running the project locally with the embedded tomcat server of spring boot didn't cause this issue.</p>\n"}],"owner":{"account_id":7598435,"reputation":409,"user_id":5763896,"display_name":"Theo Stefou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70667289,"answer_count":1,"score":0,"last_activity_date":1641906172,"creation_date":1640276176,"question_id":70464733,"body_markdown":"I am trying to deploy a spring boot app on a tomcat server.\r\nI have this dependency in my pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nWhen checking the logs of the server (catalina.out) it says:\r\n\r\n    Deployment of web application archive [/home/username/apache-tomcat-8.5.57/webapps/myapp.war] has finished in [4,501] ms\r\n\r\nand as a result of the .war file being in the /webapps directory, the directory webapps/myapp is created. However, when I try to access the service, I get a 404 error stating that &quot;The requested resource is not available&quot;. I have tried from the front-end angular app, postman, and simple get request directly from the browser. The logs of spring never appear in the logs of tomcat. &lt;br&gt; &lt;br&gt;\r\nThe .war file is built using the following command:\r\n\r\n    mvn clean package -Pprod\r\n\r\nNOTE: On the same tomcat server, there is an angular app which is running just fine. The server has been used before and has worked with the current configurations. I believe it has something to do with the way I am deploying (?)\r\n","title":"Tomcat war gets deployed but spring boot app does not start running","body":"<p>I am trying to deploy a spring boot app on a tomcat server.\nI have this dependency in my pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When checking the logs of the server (catalina.out) it says:</p>\n<pre><code>Deployment of web application archive [/home/username/apache-tomcat-8.5.57/webapps/myapp.war] has finished in [4,501] ms\n</code></pre>\n<p>and as a result of the .war file being in the /webapps directory, the directory webapps/myapp is created. However, when I try to access the service, I get a 404 error stating that &quot;The requested resource is not available&quot;. I have tried from the front-end angular app, postman, and simple get request directly from the browser. The logs of spring never appear in the logs of tomcat. <br> <br>\nThe .war file is built using the following command:</p>\n<pre><code>mvn clean package -Pprod\n</code></pre>\n<p>NOTE: On the same tomcat server, there is an angular app which is running just fine. The server has been used before and has worked with the current configurations. I believe it has something to do with the way I am deploying (?)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1641837673,"post_id":70656597,"comment_id":124906524,"body_markdown":"Email is received as ????? or sent as ?????","body":"Email is received as ????? or sent as ?????"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1641839873,"post_id":70656597,"comment_id":124907301,"body_markdown":"Is it received with ???? or visualized with ????? in the e-mail client ? Have a look into the raw message body (eg. for long time Outlook has/had problems with encoding).","body":"Is it received with ???? or visualized with ????? in the e-mail client ? Have a look into the raw message body (eg. for long time Outlook has/had problems with encoding)."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1641844211,"post_id":70656597,"comment_id":124908757,"body_markdown":"Please [edit] the question and provide a [mcve]. Look at the raw message source, mail clients may mess things up, especially the ones from Microsoft. If you&#39;re talking about the subject getting messed up: headers need to be ascii or [encoded](https://en.wikipedia.org/wiki/MIME#Encoded-Word). If it&#39;s about the body, why do you use ISO_8859_1 (latin)?","body":"Please <a href=\"https://stackoverflow.com/posts/70656597/edit\">edit</a> the question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Look at the raw message source, mail clients may mess things up, especially the ones from Microsoft. If you&#39;re talking about the subject getting messed up: headers need to be ascii or <a href=\"https://en.wikipedia.org/wiki/MIME#Encoded-Word\" rel=\"nofollow noreferrer\">encoded</a>. If it&#39;s about the body, why do you use ISO_8859_1 (latin)?"},{"owner":{"account_id":21654323,"reputation":53,"user_id":15974420,"display_name":"sandeep himgire"},"score":0,"creation_date":1641902449,"post_id":70656597,"comment_id":124923721,"body_markdown":"@ \nPeterMmm received with ????","body":"@  PeterMmm received with ????"},{"owner":{"account_id":21654323,"reputation":53,"user_id":15974420,"display_name":"sandeep himgire"},"score":0,"creation_date":1641903873,"post_id":70656597,"comment_id":124924238,"body_markdown":"@ Robert both body and subject received with ???? .I have modified question with more detail also as you suggested I removed ISO_8859_1 (latin) from both subject and body.","body":"@ Robert both body and subject received with ???? .I have modified question with more detail also as you suggested I removed ISO_8859_1 (latin) from both subject and body."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641905536,"creation_date":1641905536,"answer_id":70667134,"question_id":70656597,"body_markdown":"I think your problem is in the line `byte[] bytes = sub.getBytes();`This line gets you bytes of the string in the charset that is default on your system which may not be UTF-8. change it to &lt;br&gt;\r\n`byte[] bytes = sub.getBytes(StandardCharsets.UTF_8);`&lt;br&gt;\r\nThis will first convert String into UTF-8 and then return the byte array that represent your String content as UTF-8 encoded as oppose to encoded into your system default charset. So then when you read your bytes with line&lt;br&gt;\r\n\r\n    body = new String(bytesBody, UTF_8);\r\nYou should get a desired result. \r\n&lt;br&gt;\r\nAlso here is the tool that helped me a lot to diagnose and debug thorny encoding issues.\r\nThere is an Open Source java library MgntUtils (written by me) that has a Utility that converts Strings to unicode sequence and vise versa:\r\n\r\n    result = &quot;Hello World&quot;;\r\n    result = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\r\n    System.out.println(result);\r\n    result = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\r\n    System.out.println(result);\r\n\r\nThe output of this code is:\r\n\r\n    \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n    Hello World\r\n\r\nThe library can be found at [Maven Central][1] or at [Github][2] It comes as maven artifact and with sources and javadoc\r\n\r\nHere is javadoc for the class [StringUnicodeEncoderDecoder][3]\r\n\r\n\r\n  [1]: https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\r\n  [2]: https://github.com/michaelgantman/Mgnt\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html","title":"Java send email with Japanese character","body":"<p>I think your problem is in the line <code>byte[] bytes = sub.getBytes();</code>This line gets you bytes of the string in the charset that is default on your system which may not be UTF-8. change it to <br>\n<code>byte[] bytes = sub.getBytes(StandardCharsets.UTF_8);</code><br>\nThis will first convert String into UTF-8 and then return the byte array that represent your String content as UTF-8 encoded as oppose to encoded into your system default charset. So then when you read your bytes with line<br></p>\n<pre><code>body = new String(bytesBody, UTF_8);\n</code></pre>\n<p>You should get a desired result.\n<br>\nAlso here is the tool that helped me a lot to diagnose and debug thorny encoding issues.\nThere is an Open Source java library MgntUtils (written by me) that has a Utility that converts Strings to unicode sequence and vise versa:</p>\n<pre><code>result = &quot;Hello World&quot;;\nresult = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\nSystem.out.println(result);\nresult = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\nSystem.out.println(result);\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\nHello World\n</code></pre>\n<p>The library can be found at <a href=\"https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\" rel=\"nofollow noreferrer\">Maven Central</a> or at <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">Github</a> It comes as maven artifact and with sources and javadoc</p>\n<p>Here is javadoc for the class <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">StringUnicodeEncoderDecoder</a></p>\n"}],"owner":{"account_id":21654323,"reputation":53,"user_id":15974420,"display_name":"sandeep himgire"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641905658,"creation_date":1641835932,"question_id":70656597,"body_markdown":"I am using java to send emails. requirement is to send email in different languages, for Japanese I get email as  &quot;???????&quot; characters.\r\n\r\nThe code is something like this:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport static java.nio.charset.StandardCharsets.*;\r\nimport javax.mail.MessagingException;\r\n\r\nimport javax.mail.internet.MimeMessage;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.mail.javamail.MimeMessageHelper;\r\nimport org.springframework.stereotype.Service;\r\nimport java.io.File;\r\n\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\r\n\r\n@Service\r\npublic class EmailService {\r\n\r\n\t@Autowired(required=true)\r\n\tprivate JavaMailSenderImpl javaMailSender;\r\n\r\n\tvoid sendEmailhtml(String to, String sub, String body, String imageFile) throws MessagingException, IOException {\r\n\t\tjavaMailSender = new JavaMailSenderImpl();\r\n\r\n\tjavaMailSender.setHost(&quot;smtp.test.com&quot;);\r\n\t\tMimeMessage msg = javaMailSender.createMimeMessage();\r\n\t\tmsg.setHeader(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\r\n\t\tmsg.setContent(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\r\n\r\n\t\tMimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n\t\thelper.setTo(to);\r\n\t\tbyte[] bytes = sub.getBytes();\r\n\t\tsub = new String(bytes, UTF_8);\r\n\t\thelper.setSubject(sub);\r\n\t\tbyte[] bytesBody = body.getBytes();\r\n\t\tbody = new String(bytesBody, UTF_8);\r\n\t\thelper.setText(body,true);\r\n\t\t// add image file as inline image\r\n\t\tif(imageFile!= null) {\r\n\t\t\tFileSystemResource fileresource = new FileSystemResource(new File(imageFile));\r\n\t\t\thelper.addInline(&quot;referral-email-image&quot;, fileresource);\r\n\t\t}\r\n\t\thelper.setFrom(&quot;test@invalidemail.com&quot;);\r\n\t\tjavaMailSender.send(msg);\r\n\t}\r\n\r\n}\r\n```\r\nI am calling sendEmailhtml function with below argument value.\r\n\r\n```lang-html\r\nbody=&lt;p style=&quot;align-content: center;&quot;&gt; &lt;img alt=&quot;referral emai header&quot; src=&quot;cid:referral-email-image&quot;/&gt; &lt;/p&gt;  &lt;p&gt;FirstName, &lt;/p&gt;     &lt;p&gt;CandidateFName CandidateLastName .CandidateFName&lt;b&gt;CandidateFName&lt;/b&gt;  &lt;b&gt; &lt;a alt=&quot;Careers Site&quot; href=&quot;https://test.com/&quot;&gt;&lt;/a&gt;&lt;/b&gt;  &lt;/p&gt;    &lt;p&gt;         &lt;p&gt;             &lt;b&gt;CandidateFName&lt;/b&gt;\r\n \r\nsub=\r\n```\r\nAny assistance provided would be greatly appreciated.","title":"Java send email with Japanese character","body":"<p>I am using java to send emails. requirement is to send email in different languages, for Japanese I get email as  &quot;???????&quot; characters.</p>\n<p>The code is something like this:</p>\n<pre><code>import java.io.IOException;\nimport static java.nio.charset.StandardCharsets.*;\nimport javax.mail.MessagingException;\n\nimport javax.mail.internet.MimeMessage;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.stereotype.Service;\nimport java.io.File;\n\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\n@Service\npublic class EmailService {\n\n    @Autowired(required=true)\n    private JavaMailSenderImpl javaMailSender;\n\n    void sendEmailhtml(String to, String sub, String body, String imageFile) throws MessagingException, IOException {\n        javaMailSender = new JavaMailSenderImpl();\n\n    javaMailSender.setHost(&quot;smtp.test.com&quot;);\n        MimeMessage msg = javaMailSender.createMimeMessage();\n        msg.setHeader(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\n        msg.setContent(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\n\n        MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n        helper.setTo(to);\n        byte[] bytes = sub.getBytes();\n        sub = new String(bytes, UTF_8);\n        helper.setSubject(sub);\n        byte[] bytesBody = body.getBytes();\n        body = new String(bytesBody, UTF_8);\n        helper.setText(body,true);\n        // add image file as inline image\n        if(imageFile!= null) {\n            FileSystemResource fileresource = new FileSystemResource(new File(imageFile));\n            helper.addInline(&quot;referral-email-image&quot;, fileresource);\n        }\n        helper.setFrom(&quot;test@invalidemail.com&quot;);\n        javaMailSender.send(msg);\n    }\n\n}\n</code></pre>\n<p>I am calling sendEmailhtml function with below argument value.</p>\n<pre class=\"lang-html prettyprint-override\"><code>body=&lt;p style=&quot;align-content: center;&quot;&gt; &lt;img alt=&quot;referral emai header&quot; src=&quot;cid:referral-email-image&quot;/&gt; &lt;/p&gt;  &lt;p&gt;FirstName, &lt;/p&gt;     &lt;p&gt;CandidateFName CandidateLastName .CandidateFName&lt;b&gt;CandidateFName&lt;/b&gt;  &lt;b&gt; &lt;a alt=&quot;Careers Site&quot; href=&quot;https://test.com/&quot;&gt;&lt;/a&gt;&lt;/b&gt;  &lt;/p&gt;    &lt;p&gt;         &lt;p&gt;             &lt;b&gt;CandidateFName&lt;/b&gt;\n \nsub=\n</code></pre>\n<p>Any assistance provided would be greatly appreciated.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":1,"creation_date":1541115996,"post_id":53110830,"comment_id":93116915,"body_markdown":"Can you try to set `userEntity.setAccount(accountEntity)` as well before saving?","body":"Can you try to set <code>userEntity.setAccount(accountEntity)</code> as well before saving?"},{"owner":{"account_id":13142764,"reputation":63,"user_id":9493797,"display_name":"P.Juchimowicz"},"score":1,"creation_date":1541116102,"post_id":53110830,"comment_id":93116935,"body_markdown":"That worked :) But why? Without @Transactional I dont&#39;t have to add from both sides","body":"That worked :) But why? Without @Transactional I dont&#39;t have to add from both sides"},{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":1,"creation_date":1541116167,"post_id":53110830,"comment_id":93116948,"body_markdown":"Normally you&#39;d need to set both sides for any sort of relationship. Hibernate needs such level of explicitness","body":"Normally you&#39;d need to set both sides for any sort of relationship. Hibernate needs such level of explicitness"},{"owner":{"account_id":4166869,"reputation":1208,"user_id":3488735,"accept_rate":82,"display_name":"Gewure"},"score":0,"creation_date":1541116262,"post_id":53110830,"comment_id":93116971,"body_markdown":"why.. because they relate to each other and are not connected by default unless you set a default value for them, thus are null. if you explicitely set them, as pointed out by @bur&#230;quete, they are.","body":"why.. because they relate to each other and are not connected by default unless you set a default value for them, thus are null. if you explicitely set them, as pointed out by @bur&#230;quete, they are."},{"owner":{"account_id":13142764,"reputation":63,"user_id":9493797,"display_name":"P.Juchimowicz"},"score":0,"creation_date":1541116483,"post_id":53110830,"comment_id":93117019,"body_markdown":"I understand, but without @Transactional I can set only from one side and it works. I know that I am inquisitive :)","body":"I understand, but without @Transactional I can set only from one side and it works. I know that I am inquisitive :)"},{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1541116651,"post_id":53110830,"comment_id":93117060,"body_markdown":"Without transactional I think you are committing into whatever datasource you are using, and nothing is rollbacked. &amp; since you are selecting data without any id with `findAll`, you get any other user/account entities that have already been committed, some with relationship &amp; some without, thus the random error you are getting.","body":"Without transactional I think you are committing into whatever datasource you are using, and nothing is rollbacked. &amp; since you are selecting data without any id with <code>findAll</code>, you get any other user/account entities that have already been committed, some with relationship &amp; some without, thus the random error you are getting."}],"answers":[{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1541116742,"creation_date":1541116213,"answer_id":53110945,"question_id":53110830,"body_markdown":"You&#39;d need to set both sides of a relationship for explicitly defining it.\r\nTry adding `userEntity.setAccount(accountEntity)` during your setup case, this would resolve the issue.\r\n\r\nHibernate won&#39;t help you and assume just because you set `a -&gt; b`, it would set `b &lt;- a` for you within the other entity.\r\n\r\nThe reason why it might work without `@Transactional` is that, without the annotation you are committing your setup data into whatever datasource you are using, and nothing is rollbacked at the end, and since you are selecting data without any `id` with `findAll`, you are getting previous user/account entites that have already been committed, some with relationship &amp; some without, thus the random error you are getting.","title":"@Transactional in bidirectional relation with Spring Data returns null","body":"<p>You'd need to set both sides of a relationship for explicitly defining it.\nTry adding <code>userEntity.setAccount(accountEntity)</code> during your setup case, this would resolve the issue.</p>\n\n<p>Hibernate won't help you and assume just because you set <code>a -&gt; b</code>, it would set <code>b &lt;- a</code> for you within the other entity.</p>\n\n<p>The reason why it might work without <code>@Transactional</code> is that, without the annotation you are committing your setup data into whatever datasource you are using, and nothing is rollbacked at the end, and since you are selecting data without any <code>id</code> with <code>findAll</code>, you are getting previous user/account entites that have already been committed, some with relationship &amp; some without, thus the random error you are getting.</p>\n"},{"tags":[],"owner":{"account_id":12682930,"reputation":1163,"user_id":9215910,"display_name":"Pooja Aggarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541133221,"creation_date":1541129635,"answer_id":53112346,"question_id":53110830,"body_markdown":"It is because you are not setting account in `userEntity`. Please try like following:\r\n\r\n    userEntity.setAccount(accountEntity);","title":"@Transactional in bidirectional relation with Spring Data returns null","body":"<p>It is because you are not setting account in <code>userEntity</code>. Please try like following:</p>\n\n<pre><code>userEntity.setAccount(accountEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8348155,"reputation":812,"user_id":6271234,"accept_rate":71,"display_name":"Flyout91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641905657,"creation_date":1641893474,"answer_id":70664403,"question_id":53110830,"body_markdown":"I will explain why the behavior is different depending on whether your are in a transaction or not :\r\n\r\n**When you are in a transaction :**\r\n\r\na) Any get to fetch an entity A you have created prior to this transaction (so which is already in DB) will return a **new object** in term of memory adress, and hibernate will resolve its bidirectional relationship, even if you did not set it explicitly.\r\n\r\nb) Any get to fetch an entity B you have created earlier in this transaction (so which is not yet in DB) will return the **same object** in term of memory adress, so it really is the same object, thus if you did not set its bidirectional relationship explicitly, it will not exist until you set it or until the transaction is over (as it will effectively persist B in DB) and you fetch B again.\r\n\r\n\r\n**When you are not in a transaction :**\r\n\r\nAny get to fetch any entity will behave like described in case a).\r\n\r\n**Conclusion :**\r\n\r\nThe author was in case b).","title":"@Transactional in bidirectional relation with Spring Data returns null","body":"<p>I will explain why the behavior is different depending on whether your are in a transaction or not :</p>\n<p><strong>When you are in a transaction :</strong></p>\n<p>a) Any get to fetch an entity A you have created prior to this transaction (so which is already in DB) will return a <strong>new object</strong> in term of memory adress, and hibernate will resolve its bidirectional relationship, even if you did not set it explicitly.</p>\n<p>b) Any get to fetch an entity B you have created earlier in this transaction (so which is not yet in DB) will return the <strong>same object</strong> in term of memory adress, so it really is the same object, thus if you did not set its bidirectional relationship explicitly, it will not exist until you set it or until the transaction is over (as it will effectively persist B in DB) and you fetch B again.</p>\n<p><strong>When you are not in a transaction :</strong></p>\n<p>Any get to fetch any entity will behave like described in case a).</p>\n<p><strong>Conclusion :</strong></p>\n<p>The author was in case b).</p>\n"}],"owner":{"account_id":13142764,"reputation":63,"user_id":9493797,"display_name":"P.Juchimowicz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53110945,"answer_count":3,"score":6,"last_activity_date":1641905657,"creation_date":1541115372,"question_id":53110830,"body_markdown":"I am using Spring Data and @Transactional annotation(for automatic rollback after tests). \r\nI have simple bidirectional relation between account and user(owning side):  \r\n\r\n    @Entity\r\n    @Table(name = &quot;ACCOUNT_T&quot;)\r\n    public class AccountEntity {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String email;\r\n        private String password;\r\n        private String verificationCode;\r\n        private Boolean active = false;\r\n\r\n        @OneToOne(mappedBy = &quot;account&quot;, fetch = FetchType.EAGER, \r\n                  cascade = {CascadeType.MERGE, CascadeType.PERSIST,\r\n                             CascadeType.DETACH, CascadeType.REFRESH})\r\n        private UserEntity user;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;USER_T&quot;)\r\n    public class UserEntity {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String surname;\r\n        private String phone;\r\n        private LocalDate birthDate;\r\n\r\n        @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;account_id&quot;)\r\n        private AccountEntity account;\r\n    }\r\n\r\nI am using JpaRepositories and fetching is set to eager.\r\nWhy sometimes when I get objects from database I can&#39;t get their child \r\nobjects-null is returned. It depends on from which side I add objects.\r\nI have written simple test using Junit5: \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest\r\n    @Transactional\r\n    class UserAndAccountRepositoriesTest {\r\n     \r\n        void testA() {\r\n            UserEntity userEntity = new UserEntity();\r\n            setUserProperties(userEntity);\r\n            AccountEntity accountEntity = new AccountEntity();\r\n            setAccountProperties(accountEntity); //just setting values for fields\r\n            accountEntity.setUser(userEntity);\r\n            accountRepository.save(accountEntity);\r\n\r\n            accountRepository.findAll().get(0).getUser(); //returns user\r\n            userRepository.findAll().get(0).getAccount(); //returns null,but should return account related to that user\r\n        }\r\n       \r\n        void testB() {\r\n            UserEntity userEntity = new UserEntity();\r\n            setUserProperties(userEntity);\r\n            AccountEntity accountEntity = new AccountEntity();\r\n            setAccountProperties(accountEntity);\r\n            accountEntity.setUser(userEntity);\r\n            accountRepository.save(accountEntity);\r\n\r\n            accountRepository.findAll().get(0).getUser(); //again returns null,but shouldn&#39;t\r\n            userRepository.findAll().get(0).getAccount(); //returns account\r\n        }\r\n    }\r\n\r\nWithout `@Transactional` everything works fine - I am not getting null.\r\nWhat am I doing wrong?","title":"@Transactional in bidirectional relation with Spring Data returns null","body":"<p>I am using Spring Data and @Transactional annotation(for automatic rollback after tests). \nI have simple bidirectional relation between account and user(owning side):  </p>\n\n<pre><code>@Entity\n@Table(name = \"ACCOUNT_T\")\npublic class AccountEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String email;\n    private String password;\n    private String verificationCode;\n    private Boolean active = false;\n\n    @OneToOne(mappedBy = \"account\", fetch = FetchType.EAGER, \n              cascade = {CascadeType.MERGE, CascadeType.PERSIST,\n                         CascadeType.DETACH, CascadeType.REFRESH})\n    private UserEntity user;\n}\n\n@Entity\n@Table(name = \"USER_T\")\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String surname;\n    private String phone;\n    private LocalDate birthDate;\n\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    @JoinColumn(name = \"account_id\")\n    private AccountEntity account;\n}\n</code></pre>\n\n<p>I am using JpaRepositories and fetching is set to eager.\nWhy sometimes when I get objects from database I can't get their child \nobjects-null is returned. It depends on from which side I add objects.\nI have written simple test using Junit5: </p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@Transactional\nclass UserAndAccountRepositoriesTest {\n\n    void testA() {\n        UserEntity userEntity = new UserEntity();\n        setUserProperties(userEntity);\n        AccountEntity accountEntity = new AccountEntity();\n        setAccountProperties(accountEntity); //just setting values for fields\n        accountEntity.setUser(userEntity);\n        accountRepository.save(accountEntity);\n\n        accountRepository.findAll().get(0).getUser(); //returns user\n        userRepository.findAll().get(0).getAccount(); //returns null,but should return account related to that user\n    }\n\n    void testB() {\n        UserEntity userEntity = new UserEntity();\n        setUserProperties(userEntity);\n        AccountEntity accountEntity = new AccountEntity();\n        setAccountProperties(accountEntity);\n        accountEntity.setUser(userEntity);\n        accountRepository.save(accountEntity);\n\n        accountRepository.findAll().get(0).getUser(); //again returns null,but shouldn't\n        userRepository.findAll().get(0).getAccount(); //returns account\n    }\n}\n</code></pre>\n\n<p>Without <code>@Transactional</code> everything works fine - I am not getting null.\nWhat am I doing wrong?</p>\n"},{"tags":["java","web-services","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":23904123,"reputation":11,"user_id":17901909,"display_name":"skydriver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641902818,"creation_date":1641902818,"answer_id":70666544,"question_id":70666396,"body_markdown":"Possible solution:\r\nImplement one method with @Path(&quot;list&quot;) and handle the case with an empty taskstatus parameter value inside","title":"Java JAX-RS How to implement a GET API with query and normal request","body":"<p>Possible solution:\nImplement one method with @Path(&quot;list&quot;) and handle the case with an empty taskstatus parameter value inside</p>\n"},{"tags":[],"owner":{"account_id":5448189,"reputation":429,"user_id":4333961,"display_name":"alexandrum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641903418,"creation_date":1641903418,"answer_id":70666661,"question_id":70666396,"body_markdown":"You can create something like:\r\n\r\n  \r\n\r\n     @GET\r\n       @Path(&quot;list/{taskStatus}&quot;)\r\n       public List getFilteredTodos(@PathParm(&quot;taskStatus&quot;) String taskStatus) {\r\n          // do the filtering\r\n       }\r\n\r\nSo you will have a different path that will not be conflicted with the main one. &lt;br&gt;\r\nMore details [here][1] and [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6896897/4333961\r\n  [2]: https://docs.jboss.org/resteasy/docs/1.0.2.GA/userguide/html_single/index.html#_Path_and_regular_expression_mappings","title":"Java JAX-RS How to implement a GET API with query and normal request","body":"<p>You can create something like:</p>\n<pre><code> @GET\n   @Path(&quot;list/{taskStatus}&quot;)\n   public List getFilteredTodos(@PathParm(&quot;taskStatus&quot;) String taskStatus) {\n      // do the filtering\n   }\n</code></pre>\n<p>So you will have a different path that will not be conflicted with the main one. <br>\nMore details <a href=\"https://stackoverflow.com/a/6896897/4333961\">here</a> and <a href=\"https://docs.jboss.org/resteasy/docs/1.0.2.GA/userguide/html_single/index.html#_Path_and_regular_expression_mappings\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641905614,"creation_date":1641902206,"question_id":70666396,"body_markdown":"I am learning JAX-RS, as an activity, I have created an endpoint which will list out all the TODO within by DB. \r\n\r\n    @Path(&quot;list&quot;)\r\n    @GET\r\n    public List&lt;Todo&gt; getTodos(){\r\n        return todoService.getTodos();\r\n    }\r\n\r\nThe end point URL is \r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list\r\n\r\nCurrently it lists all the TODO items, Since, I am learning query params I have decided to add add  a condition to and list out only completed TODO items. \r\n\r\nThe end point URL is \r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list?taskstatus=completed\r\n\r\nThe implementation method which I have written is \r\n    @Path(&quot;list&quot;)\r\n    @GET\r\n    public List&lt;Todo&gt; getFilteredTodos(@QueryParam(&quot;taskstatus&quot;) String taskstatus_){\r\n        return todoService.getFilteredTodos();\r\n    }\r\n\r\nThe build is fine, but while deploying it throws the below error:\r\n\r\n    The application resource model has failed during application initialization.\r\n\r\n    [[FATAL] A resource model has ambiguous (sub-)resource method for HTTP method GET and input mime-types as defined by&quot;@Consumes&quot; and &quot;@Produces&quot; annotations at Java methods public java.util.List academy.learnprogramming.rest.TodoRest.getTodos() and public java.util.List academy.learnprogramming.rest.TodoRest.getFilteredTodos(java.lang.String) at matching regular expression /list. These two methods produces and consumes exactly the same mime-types and therefore their invocation as a resource methods will always fail.; source=&#39;org.glassfish.jersey.server.model.RuntimeResource@8bd9d08&#39;]\r\n\r\nI get that the deployement has failed as the both are having the same URI but how do I handle such a scenario?\r\n\r\n\r\nPossible Solution:\r\n\r\n\r\n    @Path(&quot;list&quot;)\r\n    @GET\r\n    public List&lt;Todo&gt; getFilteredTodos(@QueryParam(&quot;taskstatus&quot;) String taskstatus_){\r\n        if (taskstatus_!=null &amp;&amp; !taskstatus_.isEmpty()) {\r\n            return todoService.getFilteredTodos(taskstatus_);\r\n        }else{\r\n            return todoService.getTodos();\r\n        }\r\n\r\n    }\r\n","title":"Java JAX-RS How to implement a GET API with query and normal request","body":"<p>I am learning JAX-RS, as an activity, I have created an endpoint which will list out all the TODO within by DB.</p>\n<pre><code>@Path(&quot;list&quot;)\n@GET\npublic List&lt;Todo&gt; getTodos(){\n    return todoService.getTodos();\n}\n</code></pre>\n<p>The end point URL is</p>\n<pre><code>http://localhost:9090/hello-todo/api/v1/todo/list\n</code></pre>\n<p>Currently it lists all the TODO items, Since, I am learning query params I have decided to add add  a condition to and list out only completed TODO items.</p>\n<p>The end point URL is</p>\n<pre><code>http://localhost:9090/hello-todo/api/v1/todo/list?taskstatus=completed\n</code></pre>\n<p>The implementation method which I have written is\n@Path(&quot;list&quot;)\n@GET\npublic List getFilteredTodos(@QueryParam(&quot;taskstatus&quot;) String taskstatus_){\nreturn todoService.getFilteredTodos();\n}</p>\n<p>The build is fine, but while deploying it throws the below error:</p>\n<pre><code>The application resource model has failed during application initialization.\n\n[[FATAL] A resource model has ambiguous (sub-)resource method for HTTP method GET and input mime-types as defined by&quot;@Consumes&quot; and &quot;@Produces&quot; annotations at Java methods public java.util.List academy.learnprogramming.rest.TodoRest.getTodos() and public java.util.List academy.learnprogramming.rest.TodoRest.getFilteredTodos(java.lang.String) at matching regular expression /list. These two methods produces and consumes exactly the same mime-types and therefore their invocation as a resource methods will always fail.; source='org.glassfish.jersey.server.model.RuntimeResource@8bd9d08']\n</code></pre>\n<p>I get that the deployement has failed as the both are having the same URI but how do I handle such a scenario?</p>\n<p>Possible Solution:</p>\n<pre><code>@Path(&quot;list&quot;)\n@GET\npublic List&lt;Todo&gt; getFilteredTodos(@QueryParam(&quot;taskstatus&quot;) String taskstatus_){\n    if (taskstatus_!=null &amp;&amp; !taskstatus_.isEmpty()) {\n        return todoService.getFilteredTodos(taskstatus_);\n    }else{\n        return todoService.getTodos();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-rcp"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641862827,"post_id":70660455,"comment_id":124913452,"body_markdown":"You have the package `javax.lang.model.type` (either in your code or in a dependency) which also exists in the system library, which is not allowed since Java 9.","body":"You have the package <code>javax.lang.model.type</code> (either in your code or in a dependency) which also exists in the system library, which is not allowed since Java 9."},{"owner":{"display_name":"user14223135"},"score":0,"creation_date":1641864526,"post_id":70660455,"comment_id":124913724,"body_markdown":"Can you be more specific? My project is very simple, jdk11 and a new plug-in project. I don&#39;t find any dependencies","body":"Can you be more specific? My project is very simple, jdk11 and a new plug-in project. I don&#39;t find any dependencies"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641865171,"post_id":70660455,"comment_id":124913824,"body_markdown":"In your plug-in project, do you have the package `javax.lang.model.type`? If yes, rename it. Otherwise, please show what you have in _Project &gt; Properties: Java Build Path_ in the tab _Libraries_ (top level nodes and child nodes of _Plug-in Dependencies_).","body":"In your plug-in project, do you have the package <code>javax.lang.model.type</code>? If yes, rename it. Otherwise, please show what you have in <i>Project &gt; Properties: Java Build Path</i> in the tab <i>Libraries</i> (top level nodes and child nodes of <i>Plug-in Dependencies</i>)."},{"owner":{"display_name":"user14223135"},"score":0,"creation_date":1641869661,"post_id":70660455,"comment_id":124914564,"body_markdown":"The plug-in project only contains standard jdk11 and org eclipse. jdt. core\nThere are no other dependencies in the class path","body":"The plug-in project only contains standard jdk11 and org eclipse. jdt. core There are no other dependencies in the class path"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641889212,"post_id":70660455,"comment_id":124918603,"body_markdown":"In the _Open Type_ (Ctrl+Shift+T) dialog, when I enter `javax.lang.model.type`, I see that the `org.eclipse.jdt.compiler.tool` plugin contains `javax15api.jar` that also contains the `javax.lang.model.type` package, but it&#39;s not exported. I was not able to reproduce your issue with the `org.eclipse.jdt.core.manipulation` plugin that also contains this dependency, also not when using Java 17 instead of Java 8. Maybe you face this issue by using such an old Eclipse that is 5 releases behind. If you can reproduce this issue in the current Eclipse 2021-12, please show your `MANIFEST.MF` file.","body":"In the <i>Open Type</i> (Ctrl+Shift+T) dialog, when I enter <code>javax.lang.model.type</code>, I see that the <code>org.eclipse.jdt.compiler.tool</code> plugin contains <code>javax15api.jar</code> that also contains the <code>javax.lang.model.type</code> package, but it&#39;s not exported. I was not able to reproduce your issue with the <code>org.eclipse.jdt.core.manipulation</code> plugin that also contains this dependency, also not when using Java 17 instead of Java 8. Maybe you face this issue by using such an old Eclipse that is 5 releases behind. If you can reproduce this issue in the current Eclipse 2021-12, please show your <code>MANIFEST.MF</code> file."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1641889476,"post_id":70660455,"comment_id":124918714,"body_markdown":"@howlger I can&#39;t recreate this on 2021-12 with Java 17 following these exact steps","body":"@howlger I can&#39;t recreate this on 2021-12 with Java 17 following these exact steps"},{"owner":{"display_name":"user14223135"},"score":0,"creation_date":1641905340,"post_id":70660455,"comment_id":124924792,"body_markdown":"OK , Eclipse 2021-12 This problem cannot be reproduced\ne..... thank you , @howlger","body":"OK , Eclipse 2021-12 This problem cannot be reproduced e..... thank you , @howlger"}],"answers":[{"tags":[],"owner":{"display_name":"user14223135"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641905408,"creation_date":1641905408,"answer_id":70667097,"question_id":70660455,"body_markdown":"Upgrading to eclipse 2021-12 can solve the problem\r\n\r\nThank you , @howlger","title":"Eclipse RCP , The packagexxx is accessible from more than one module: &lt;unnamed&gt;","body":"<p>Upgrading to eclipse 2021-12 can solve the problem</p>\n<p>Thank you , @howlger</p>\n"}],"owner":{"display_name":"user14223135"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70667097,"answer_count":1,"score":0,"last_activity_date":1641905408,"creation_date":1641862218,"question_id":70660455,"body_markdown":"Eclipse RCP 2020-09 , Java JDK 11  , Window10\r\n\r\nStep\r\n\r\n1 . Create A Simple Plugin Project( click [ next ]  [ finish ] )\r\n\r\n2 . Require-Bundle: org.eclipse.jdt.core\r\n\r\n3 . Create A Java File\r\n\r\n```\r\nimport javax.lang.model.type.NullType;\r\n\r\npublic class A {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tNullType type ;\r\n\t}\r\n\r\n}\r\n```\r\nCompilation error : `The package javax.lang.model.type is accessible from more than one module: &lt;unnamed&gt;, java.compiler`\r\n\r\nI try not to rely on ***org.eclipse.jdt.core*** ( delete Require-Bundle: org.eclipse.jdt.core )\r\n\r\nCompilation success ! \r\n\r\nIt seems that there is a conflict between ***org.eclipse.jdt.core*** and ***javax.lang.model***\r\n \r\nI have imported almost all ***org.eclipse.xxx*** without this problem. Only org.eclipse.jdt.core has this problem\r\n\r\nI also checked the internal information of ***org.eclipse.jdt.core*** and found no special settings\r\n\r\nWhy? How can I solve this problem ? \r\nHelp me , please !","title":"Eclipse RCP , The packagexxx is accessible from more than one module: &lt;unnamed&gt;","body":"<p>Eclipse RCP 2020-09 , Java JDK 11  , Window10</p>\n<p>Step</p>\n<p>1 . Create A Simple Plugin Project( click [ next ]  [ finish ] )</p>\n<p>2 . Require-Bundle: org.eclipse.jdt.core</p>\n<p>3 . Create A Java File</p>\n<pre><code>import javax.lang.model.type.NullType;\n\npublic class A {\n    \n    public static void main(String[] args) {\n        NullType type ;\n    }\n\n}\n</code></pre>\n<p>Compilation error : <code>The package javax.lang.model.type is accessible from more than one module: &lt;unnamed&gt;, java.compiler</code></p>\n<p>I try not to rely on <em><strong>org.eclipse.jdt.core</strong></em> ( delete Require-Bundle: org.eclipse.jdt.core )</p>\n<p>Compilation success !</p>\n<p>It seems that there is a conflict between <em><strong>org.eclipse.jdt.core</strong></em> and <em><strong>javax.lang.model</strong></em></p>\n<p>I have imported almost all <em><strong>org.eclipse.xxx</strong></em> without this problem. Only org.eclipse.jdt.core has this problem</p>\n<p>I also checked the internal information of <em><strong>org.eclipse.jdt.core</strong></em> and found no special settings</p>\n<p>Why? How can I solve this problem ?\nHelp me , please !</p>\n"},{"tags":["java","android","database","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1641896412,"post_id":70665023,"comment_id":124921428,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."}],"answers":[{"tags":[],"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641905209,"creation_date":1641905209,"answer_id":70667037,"question_id":70665023,"body_markdown":" I should add on Gradle (Project File):\r\n\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n    }\r\nAnd Add on Gradle on (Module File):\r\n\r\n    dependencies {\r\n    .\r\n    .\r\n    .\r\n     }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;","title":"Exiting the App when Using FireBase Database on Android Studio (Java)","body":"<p>I should add on Gradle (Project File):</p>\n<pre><code>dependencies {\n    classpath 'com.google.gms:google-services:3.0.0'\n}\n</code></pre>\n<p>And Add on Gradle on (Module File):</p>\n<pre><code>dependencies {\n.\n.\n.\n }\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}],"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70667037,"answer_count":1,"score":-1,"last_activity_date":1641905209,"creation_date":1641896078,"question_id":70665023,"body_markdown":"Need to use firebase database I:\r\n- Create an account on FireBase and create simple json file which shows the Hierarchy of the Database and Add it to the Realtime DataBase.\r\n- Add these dependencies to the build.gradle(Module) File:\r\n\r\n    compile &#39;com.google.firebase:firebase-core:10.2.0&#39;\r\n\r\n    compile &#39;com.google.firebase:firebase-database:10.2.0&#39;\r\n- I made two activities the main activity has two buttons when you click at the Sign in Button the second activity starts.(It was working very well until I add the Firebase using these commands):(the App Crush (Exiting))\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n\r\n    DatabaseReference table_user = database.getReference(&quot;User&quot;);","title":"Exiting the App when Using FireBase Database on Android Studio (Java)","body":"<p>Need to use firebase database I:</p>\n<ul>\n<li><p>Create an account on FireBase and create simple json file which shows the Hierarchy of the Database and Add it to the Realtime DataBase.</p>\n</li>\n<li><p>Add these dependencies to the build.gradle(Module) File:</p>\n<p>compile 'com.google.firebase:firebase-core:10.2.0'</p>\n<p>compile 'com.google.firebase:firebase-database:10.2.0'</p>\n</li>\n<li><p>I made two activities the main activity has two buttons when you click at the Sign in Button the second activity starts.(It was working very well until I add the Firebase using these commands):(the App Crush (Exiting))</p>\n<p>FirebaseDatabase database = FirebaseDatabase.getInstance();</p>\n<p>DatabaseReference table_user = database.getReference(&quot;User&quot;);</p>\n</li>\n</ul>\n"},{"tags":["java","methods","linked-list","queue","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":3742341,"reputation":2043,"user_id":3111870,"display_name":"Shahzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641905185,"creation_date":1641905185,"answer_id":70667031,"question_id":70666671,"body_markdown":"The issue here is the way you are using `java.util.Scanner`.\r\n\r\nOnce you close a scanner, it also closes the input stream you passed it (`System.in` in this case). You can read more about this in the [docs][1].\r\n\r\nOne way to get around this is to create a single Scanner instance and use that wherever you need to. In your sepcific case, you could do something like:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        Queue&lt;Integer&gt; q= new LinkedList&lt;Integer&gt;();\r\n        NQ(q, scanner);\r\n        displayQ(q);\r\n        DQ(q, scanner);\r\n        displayQ(q);\r\n\r\n        scanner.close();\r\n    }\r\n\r\nYou would need update `NQ` and `DQ` to accept the scanner (instead of creating a new instance), and also not close the scanner in those methods.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#:~:text=When%20a%20Scanner%20is%20closed%2C%20it%20will%20close%20its%20input%20source%20if%20the%20source%20implements%20the%20Closeable%20interface.","title":"making user methods for queue and encounterd this error","body":"<p>The issue here is the way you are using <code>java.util.Scanner</code>.</p>\n<p>Once you close a scanner, it also closes the input stream you passed it (<code>System.in</code> in this case). You can read more about this in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#:%7E:text=When%20a%20Scanner%20is%20closed%2C%20it%20will%20close%20its%20input%20source%20if%20the%20source%20implements%20the%20Closeable%20interface.\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>One way to get around this is to create a single Scanner instance and use that wherever you need to. In your sepcific case, you could do something like:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n\n    Queue&lt;Integer&gt; q= new LinkedList&lt;Integer&gt;();\n    NQ(q, scanner);\n    displayQ(q);\n    DQ(q, scanner);\n    displayQ(q);\n\n    scanner.close();\n}\n</code></pre>\n<p>You would need update <code>NQ</code> and <code>DQ</code> to accept the scanner (instead of creating a new instance), and also not close the scanner in those methods.</p>\n"}],"owner":{"account_id":23904643,"reputation":1,"user_id":17902381,"display_name":"Ocean Man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641905185,"creation_date":1641903461,"question_id":70666671,"body_markdown":"I encountered this error for some reason while i&#39;m making methods. [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZG5eU.png\r\ncan someone please help me with this and here is the code i used \r\n\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    import java.util.Scanner;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n            Queue&lt;Integer&gt; q= new LinkedList&lt;Integer&gt;();\r\n            NQ(q);\r\n            displayQ(q);\r\n            DQ(q);\r\n            displayQ(q);}\r\n    \r\n        public static void NQ(Queue&lt;Integer&gt; q){\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Number of digits to be added: &quot;);\r\n            int digits= scan.nextInt();\r\n            System.out.println(&quot;Enter numbers to be Added:&quot;);\r\n            for (int i = 0; i &lt; digits; i++) {\r\n                q.add(scan.nextInt());\r\n            }\r\n            scan.close();\r\n        }\r\n        public static void DQ(Queue&lt;Integer&gt; q){\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Number of digits to be remove: &quot;);\r\n            int digits= scan.nextInt();\r\n            for (int i = 0; i &lt; digits; i++) {\r\n                q.remove();\r\n            }\r\n            scan.close();\r\n        }\r\n        public static void displayQ(Queue&lt;Integer&gt; q) {\r\n            System.out.println(q);\r\n        }}\r\n\r\nThis is the output of the code\r\n\r\n    Number of digits to be added: 5    \r\n    Enter numbers to be Added:  1  2  3 4  5  \r\n    [1, 2, 3, 4, 5] \r\n    Number of digits to be remove: Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n                at java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n                at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n                at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n                at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n                at Test.DQ(Test.java:31)\r\n                at Test.main(Test.java:12)\r\n\r\nWhat Should I Do?!?!?!?","title":"making user methods for queue and encounterd this error","body":"<p>I encountered this error for some reason while i'm making methods. <a href=\"https://i.stack.imgur.com/ZG5eU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>can someone please help me with this and here is the code i used</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Scanner;\n\npublic class Test {\n\n    public static void main(String[] args) {\n    \n        Queue&lt;Integer&gt; q= new LinkedList&lt;Integer&gt;();\n        NQ(q);\n        displayQ(q);\n        DQ(q);\n        displayQ(q);}\n\n    public static void NQ(Queue&lt;Integer&gt; q){\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Number of digits to be added: &quot;);\n        int digits= scan.nextInt();\n        System.out.println(&quot;Enter numbers to be Added:&quot;);\n        for (int i = 0; i &lt; digits; i++) {\n            q.add(scan.nextInt());\n        }\n        scan.close();\n    }\n    public static void DQ(Queue&lt;Integer&gt; q){\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Number of digits to be remove: &quot;);\n        int digits= scan.nextInt();\n        for (int i = 0; i &lt; digits; i++) {\n            q.remove();\n        }\n        scan.close();\n    }\n    public static void displayQ(Queue&lt;Integer&gt; q) {\n        System.out.println(q);\n    }}\n</code></pre>\n<p>This is the output of the code</p>\n<pre><code>Number of digits to be added: 5    \nEnter numbers to be Added:  1  2  3 4  5  \n[1, 2, 3, 4, 5] \nNumber of digits to be remove: Exception in thread &quot;main&quot; java.util.NoSuchElementException\n            at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n            at java.base/java.util.Scanner.next(Scanner.java:1594)\n            at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n            at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n            at Test.DQ(Test.java:31)\n            at Test.main(Test.java:12)\n</code></pre>\n<p>What Should I Do?!?!?!?</p>\n"},{"tags":["java","xml","logback"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641905141,"creation_date":1641905141,"answer_id":70667022,"question_id":70666424,"body_markdown":"The below creates a property that holds the pattern, so perhaps it would allow you to format it as you want:\r\n\r\nExample:\r\n\r\n      &lt;property name=&quot;ENCODER_PATTERN&quot;\r\n              value=&quot;%d{yyyy-MM-dd  HH:mm:ss.SSS} [%thread] %-5level %logger{80} - %msg%n&quot; /&gt;\r\n\r\n\r\n      &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;pattern&gt;${ENCODER_PATTERN}&lt;/pattern&gt;\r\n      &lt;/encoder&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Ignore formatting in XML Logback file","body":"<p>The below creates a property that holds the pattern, so perhaps it would allow you to format it as you want:</p>\n<p>Example:</p>\n<pre><code>  &lt;property name=&quot;ENCODER_PATTERN&quot;\n          value=&quot;%d{yyyy-MM-dd  HH:mm:ss.SSS} [%thread] %-5level %logger{80} - %msg%n&quot; /&gt;\n\n\n  &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;${ENCODER_PATTERN}&lt;/pattern&gt;\n  &lt;/encoder&gt;\n</code></pre>\n"}],"owner":{"account_id":17259931,"reputation":986,"user_id":12498105,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1641905141,"creation_date":1641902342,"question_id":70666424,"body_markdown":"I&#39;m using the Rolling File Appender in Logback with a very basic Encoder Pattern to log in JSON. The app is written in Java. I know there are a few Logback JSON packages out there for Java, but I decided not to use them so I didn&#39;t have to introduce any new dependencies in the code.\r\n\r\nI&#39;ve got the following appender working. It spits out logs in a JSON format that Filebeat and Logstash can read.\r\n\r\n```\r\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;file&gt;/opt/tomcat/logs/LOG.log&lt;/file&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n      &lt;!-- rollover daily --&gt;\r\n      &lt;fileNamePattern&gt;/opt/tomcat/logs/LOG.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n      &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n        &lt;!-- or whenever the file size reaches 100MB --&gt;\r\n        &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n      &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n      &lt;cleanHistoryOnStart&gt;true&lt;/cleanHistoryOnStart&gt;\r\n    &lt;/rollingPolicy&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;\r\n{&quot;@timestamp&quot;: &quot;%d{ISO8601}&quot;, &quot;date&quot;: &quot;%d{dd-MM-yy}&quot;, &quot;thread&quot;: &quot;%thread&quot;, &quot;level&quot;: &quot;%-5level&quot;, &quot;className&quot;: &quot;%logger{36}&quot;, &quot;message&quot;: &quot;%replace(%replace(%msg){&#39;\\n&#39;,&#39;\\u2028&#39;}){&#39;\\t&#39;,&#39; &#39;} %replace(%replace(%ex){&#39;\\n&#39;,&#39;\\u2028&#39;}){&#39;\\t&#39;,&#39; &#39;}&quot; }%nopex%n\r\n      &lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n```\r\n\r\nAs you can see the indentation of this line `{&quot;@timestamp&quot;: &quot;%d{ISO8601}&quot;,....` is off (if I indent it, it gets indented in the log file, itself), and the line is way too long for any Checkstyle validation (and readability). I&#39;d much rather compose it like this:\r\n\r\n```\r\n&lt;encoder&gt;\r\n  &lt;pattern&gt;\r\n    {\r\n      &quot;@timestamp&quot;: &quot;%d{ISO8601}&quot;, \r\n      &quot;date&quot;: &quot;%d{dd-MM-yy}&quot;, \r\n      ...\r\n    }%nopex%n\r\n  &lt;/pattern&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nAny thoughts on how I can get XML and/or Logback to ignore the formatting of this pattern and just spit out the text?","title":"Ignore formatting in XML Logback file","body":"<p>I'm using the Rolling File Appender in Logback with a very basic Encoder Pattern to log in JSON. The app is written in Java. I know there are a few Logback JSON packages out there for Java, but I decided not to use them so I didn't have to introduce any new dependencies in the code.</p>\n<p>I've got the following appender working. It spits out logs in a JSON format that Filebeat and Logstash can read.</p>\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;/opt/tomcat/logs/LOG.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;!-- rollover daily --&gt;\n      &lt;fileNamePattern&gt;/opt/tomcat/logs/LOG.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n        &lt;!-- or whenever the file size reaches 100MB --&gt;\n        &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n      &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n      &lt;cleanHistoryOnStart&gt;true&lt;/cleanHistoryOnStart&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;\n{&quot;@timestamp&quot;: &quot;%d{ISO8601}&quot;, &quot;date&quot;: &quot;%d{dd-MM-yy}&quot;, &quot;thread&quot;: &quot;%thread&quot;, &quot;level&quot;: &quot;%-5level&quot;, &quot;className&quot;: &quot;%logger{36}&quot;, &quot;message&quot;: &quot;%replace(%replace(%msg){'\\n','\\u2028'}){'\\t',' '} %replace(%replace(%ex){'\\n','\\u2028'}){'\\t',' '}&quot; }%nopex%n\n      &lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n</code></pre>\n<p>As you can see the indentation of this line <code>{&quot;@timestamp&quot;: &quot;%d{ISO8601}&quot;,....</code> is off (if I indent it, it gets indented in the log file, itself), and the line is way too long for any Checkstyle validation (and readability). I'd much rather compose it like this:</p>\n<pre><code>&lt;encoder&gt;\n  &lt;pattern&gt;\n    {\n      &quot;@timestamp&quot;: &quot;%d{ISO8601}&quot;, \n      &quot;date&quot;: &quot;%d{dd-MM-yy}&quot;, \n      ...\n    }%nopex%n\n  &lt;/pattern&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>Any thoughts on how I can get XML and/or Logback to ignore the formatting of this pattern and just spit out the text?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8302,"page":1690,"page_size":100}
