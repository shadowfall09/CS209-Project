{"items":[{"tags":["java","android","android-intent","android-activity"],"owner":{"account_id":27891163,"reputation":1,"user_id":21297506,"display_name":"JefferyC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677505422,"creation_date":1677505329,"question_id":75581258,"body_markdown":"On Android Version 4.4.2:\r\n\r\nI have this code inside an `onResume()` method.\r\n```\r\n\r\n      if (paid) {\r\n            Intent intent = new Intent(this, EventsActivity.class);\r\n            startActivity(intent);\r\n       } \r\n```\r\n\r\nI am calling this from the `ProductsActivity.class`,and there already exists an instance/task of the EventsActivity.\r\n\r\n`ProductsActivity` and `EventsActivity` are both `singleInstance`.\r\n\r\nNothing happens when this part of the code is ran.\r\n\r\nOn my other device with Android Version 5.1.1, this all works as intended, it is only on this specific device with Android Version 4.4.2, it doesn&#39;t take me to the `EventsActivity`.\r\n\r\n\r\n\r\nI have tried:\r\n\r\n```\r\n    Intent intent = new Intent(ProductsActivity.this, EventsActivity.class);\r\n    startActivity(intent);\r\n```\r\n\r\nas well as adding Flags to the intent but nothing worked.\r\n\r\nI had a look at the Activity Stack with `adb shell dumpsys activity activities` as well but cannot find the problem of why `EventsActivity` is not being shown.","title":"startActivity not adding/moving activity to foreground","body":"<p>On Android Version 4.4.2:</p>\n<p>I have this code inside an <code>onResume()</code> method.</p>\n<pre><code>\n      if (paid) {\n            Intent intent = new Intent(this, EventsActivity.class);\n            startActivity(intent);\n       } \n</code></pre>\n<p>I am calling this from the <code>ProductsActivity.class</code>,and there already exists an instance/task of the EventsActivity.</p>\n<p><code>ProductsActivity</code> and <code>EventsActivity</code> are both <code>singleInstance</code>.</p>\n<p>Nothing happens when this part of the code is ran.</p>\n<p>On my other device with Android Version 5.1.1, this all works as intended, it is only on this specific device with Android Version 4.4.2, it doesn't take me to the <code>EventsActivity</code>.</p>\n<p>I have tried:</p>\n<pre><code>    Intent intent = new Intent(ProductsActivity.this, EventsActivity.class);\n    startActivity(intent);\n</code></pre>\n<p>as well as adding Flags to the intent but nothing worked.</p>\n<p>I had a look at the Activity Stack with <code>adb shell dumpsys activity activities</code> as well but cannot find the problem of why <code>EventsActivity</code> is not being shown.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677506385,"post_id":75581261,"comment_id":133345384,"body_markdown":"A `List&lt;String&gt;` is not a `List&lt;Object&gt;` and a `Stream&lt;EntityVersion&lt;Product&gt;&gt;` is not a `Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;`. But there’s no sense in storing a Stream anyway.","body":"A <code>List&lt;String&gt;</code> is not a <code>List&lt;Object&gt;</code> and a <code>Stream&lt;EntityVersion&lt;Product&gt;&gt;</code> is not a <code>Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;</code>. But there’s no sense in storing a Stream anyway."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1677506677,"post_id":75581261,"comment_id":133345482,"body_markdown":"Even though `EntityVersion&lt;Product&gt;` is a subtype of `EntityVersion&lt;? extends BaseEntity&gt;`, that does not mean `Stream&lt;EntityVersion&lt;Product&gt;&gt;` is a subtype of `Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;`, in the same way that `Stream&lt;Dog&gt;` is not a subtype of `Stream&lt;Animal&gt;`. See also [this recent question I answered](https://stackoverflow.com/q/75332666/5133585), which is also about the subtyping of nested generics. They follow the same rules as a single layer of generics, really.","body":"Even though <code>EntityVersion&lt;Product&gt;</code> is a subtype of <code>EntityVersion&lt;? extends BaseEntity&gt;</code>, that does not mean <code>Stream&lt;EntityVersion&lt;Product&gt;&gt;</code> is a subtype of <code>Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;</code>, in the same way that <code>Stream&lt;Dog&gt;</code> is not a subtype of <code>Stream&lt;Animal&gt;</code>. See also <a href=\"https://stackoverflow.com/q/75332666/5133585\">this recent question I answered</a>, which is also about the subtyping of nested generics. They follow the same rules as a single layer of generics, really."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1677506781,"post_id":75581261,"comment_id":133345506,"body_markdown":"Rather, `Stream&lt;EntityVersion&lt;Product&gt;&gt;` is a subtype of `Stream&lt;? extends EntityVersion&lt;? extends BaseEntity&gt;&gt;`.","body":"Rather, <code>Stream&lt;EntityVersion&lt;Product&gt;&gt;</code> is a subtype of <code>Stream&lt;? extends EntityVersion&lt;? extends BaseEntity&gt;&gt;</code>."}],"owner":{"account_id":133693,"reputation":627,"user_id":335258,"accept_rate":100,"display_name":"Francesco Papagno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677505385,"creation_date":1677505385,"question_id":75581261,"body_markdown":"I&#39;m interested in understanding why, in the example given below, the row instantiating `wrapper2` gives a compilation error:\r\n```\r\njava: incompatible types: inference variable V has incompatible bounds\r\n    equality constraints: java.util.stream.Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;\r\n    lower bounds: java.util.stream.Stream&lt;EntityVersion&lt;Product&gt;&gt;\r\n```\r\n\r\nExample:\r\n```\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\nimport java.util.stream.Stream;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.val;\r\n\r\n@Data\r\nclass BaseEntity {\r\n    UUID id;\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass Product extends BaseEntity {\r\n    String name;\r\n};\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass EntityVersion&lt;T extends BaseEntity&gt; {\r\n    String status;\r\n    T entity;\r\n}\r\n\r\nrecord EntityVersions(Map&lt;String, Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;&gt; entityVersions) {}\r\n\r\nclass Main {\r\n    \r\n    public static void main(String[]args){\r\n        EntityVersion&lt;Product&gt; product = new EntityVersion&lt;&gt;(&quot;new&quot;, new Product(&quot;Product 1&quot;));\r\n                \r\n        Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt; products1 = Stream.of(product);\r\n        val wrapper1 = new EntityVersions(Map.of(&quot;products&quot;, products1));\r\n        \r\n        Stream&lt;EntityVersion&lt;Product&gt;&gt; products2 = Stream.of(product);\r\n        val wrapper2 = new EntityVersions(Map.of(&quot;products&quot;, products2));\r\n    }\r\n}\r\n\r\n\r\n```","title":"Unexpected behaviour of generics wildcard","body":"<p>I'm interested in understanding why, in the example given below, the row instantiating <code>wrapper2</code> gives a compilation error:</p>\n<pre><code>java: incompatible types: inference variable V has incompatible bounds\n    equality constraints: java.util.stream.Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;\n    lower bounds: java.util.stream.Stream&lt;EntityVersion&lt;Product&gt;&gt;\n</code></pre>\n<p>Example:</p>\n<pre><code>import java.util.Map;\nimport java.util.UUID;\nimport java.util.stream.Stream;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.val;\n\n@Data\nclass BaseEntity {\n    UUID id;\n}\n\n@Data\n@AllArgsConstructor\nclass Product extends BaseEntity {\n    String name;\n};\n\n@Data\n@AllArgsConstructor\nclass EntityVersion&lt;T extends BaseEntity&gt; {\n    String status;\n    T entity;\n}\n\nrecord EntityVersions(Map&lt;String, Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;&gt; entityVersions) {}\n\nclass Main {\n    \n    public static void main(String[]args){\n        EntityVersion&lt;Product&gt; product = new EntityVersion&lt;&gt;(&quot;new&quot;, new Product(&quot;Product 1&quot;));\n                \n        Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt; products1 = Stream.of(product);\n        val wrapper1 = new EntityVersions(Map.of(&quot;products&quot;, products1));\n        \n        Stream&lt;EntityVersion&lt;Product&gt;&gt; products2 = Stream.of(product);\n        val wrapper2 = new EntityVersions(Map.of(&quot;products&quot;, products2));\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","openssl","spring-webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1677685704,"post_id":75581151,"comment_id":133387456,"body_markdown":"Make sure required CA is added to the JVM trust store. In addition, you can use `-Djavax.net.debug=all` system property to troubleshoot TLS https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html","body":"Make sure required CA is added to the JVM trust store. In addition, you can use <code>-Djavax.net.debug=all</code> system property to troubleshoot TLS <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/security/jsse&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"score":0,"creation_date":1677824279,"post_id":75581151,"comment_id":133417165,"body_markdown":"The &quot;problem&quot; on adding it to the truststore is that we have several stage machines (deploy, test, dev, prod) where it would have been to be added to. Besides that we are forced to change certificates yearly. So this means a lot of work. In the meantime i got it to work by this suggestion: https://stackoverflow.com/a/53147631/7320372","body":"The &quot;problem&quot; on adding it to the truststore is that we have several stage machines (deploy, test, dev, prod) where it would have been to be added to. Besides that we are forced to change certificates yearly. So this means a lot of work. In the meantime i got it to work by this suggestion: <a href=\"https://stackoverflow.com/a/53147631/7320372\">stackoverflow.com/a/53147631/7320372</a>"}],"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677505274,"creation_date":1677504794,"question_id":75581151,"body_markdown":"I&#180;m facing a strange issue. \r\n\r\nWe have a valid certificate from a trusted root CA - in concrete USERTrust RSA Certification Authority for server-01.\r\n\r\nWhen i visit the API in the browser for server-01, everything`s fine.   \r\nWe have a certificate chain with the above root CA und then a intermediate one.\r\n\r\nWhen i use this code:\r\n```java\r\nreturn reactiveWebClient\r\n\t\t\t\t.get()\r\n\t\t\t\t.uri(uri.toString())\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToFlux(IncomingMessage.class);\r\n\r\n```\r\nIt fails with this exception:   `org.springframework.web.reactive.function.client.WebClientRequestException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path`\r\n\r\nWhen i try another server-02 in our infrastructure the above `reactiveWebClient` works.  \r\nThis server-02 has also a valid certificate but from another issuer CA.\r\n\r\nThe intermediate CA from server-01 is:  \r\nGEANT OV RSA CA 4\r\n\r\nThe intermediate CA from server-02 is:  \r\nDFN-Verein Certification Authority 2\r\n\r\n**Please note:** \r\n\r\nBoth server have valid certificates.\r\n`openssl` command verifies this.\r\n\r\nFor my understanding somethings wrong with the first server-01 intermediate certificate.\r\n\r\nHow can i handle this?\r\n\r\n**Please note:** \r\n\r\nI don&#180;t want to install the whole cert in the JDK&#180;s trusted certificates as we have to exchange all server certificates on a yearly basis.","title":"Spring WebClient fails on intermediate certificate","body":"<p>I´m facing a strange issue.</p>\n<p>We have a valid certificate from a trusted root CA - in concrete USERTrust RSA Certification Authority for server-01.</p>\n<p>When i visit the API in the browser for server-01, everything`s fine.<br />\nWe have a certificate chain with the above root CA und then a intermediate one.</p>\n<p>When i use this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return reactiveWebClient\n                .get()\n                .uri(uri.toString())\n                .retrieve()\n                .bodyToFlux(IncomingMessage.class);\n\n</code></pre>\n<p>It fails with this exception:   <code>org.springframework.web.reactive.function.client.WebClientRequestException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path</code></p>\n<p>When i try another server-02 in our infrastructure the above <code>reactiveWebClient</code> works.<br />\nThis server-02 has also a valid certificate but from another issuer CA.</p>\n<p>The intermediate CA from server-01 is:<br />\nGEANT OV RSA CA 4</p>\n<p>The intermediate CA from server-02 is:<br />\nDFN-Verein Certification Authority 2</p>\n<p><strong>Please note:</strong></p>\n<p>Both server have valid certificates.\n<code>openssl</code> command verifies this.</p>\n<p>For my understanding somethings wrong with the first server-01 intermediate certificate.</p>\n<p>How can i handle this?</p>\n<p><strong>Please note:</strong></p>\n<p>I don´t want to install the whole cert in the JDK´s trusted certificates as we have to exchange all server certificates on a yearly basis.</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1677315304,"post_id":75557088,"comment_id":133316687,"body_markdown":"`Company` has no `address` and `contacts` instance variables","body":"<code>Company</code> has no <code>address</code> and <code>contacts</code> instance variables"},{"owner":{"account_id":25427262,"reputation":3,"user_id":19232284,"display_name":"Estudio Tademan"},"score":0,"creation_date":1677505113,"post_id":75557088,"comment_id":133344947,"body_markdown":"I already edit the code. I had to make an adaptation from existing code to make things more clear .Thank you.","body":"I already edit the code. I had to make an adaptation from existing code to make things more clear .Thank you."}],"answers":[{"comments":[{"owner":{"account_id":25427262,"reputation":3,"user_id":19232284,"display_name":"Estudio Tademan"},"score":0,"creation_date":1677504989,"post_id":75564441,"comment_id":133344913,"body_markdown":"Thanks ! The problem with that ,is that Company do not have a List of Child like you added. If you look my example,it says &quot;     public List&lt;Parent&gt; childs; &quot; . So ,i can not use a harcoded name (    @JacksonXmlProperty(localName = &quot;my_child&quot;)) . Because ,each child is gonna have its own name (    @JsonTypeName(&quot;my_child&quot;) . Maybe i have another class extending from Parent with the following root annotation (    @JsonTypeName(&quot;my_child_2&quot;)","body":"Thanks ! The problem with that ,is that Company do not have a List of Child like you added. If you look my example,it says &quot;     public List&lt;Parent&gt; childs; &quot; . So ,i can not use a harcoded name (    @JacksonXmlProperty(localName = &quot;my_child&quot;)) . Because ,each child is gonna have its own name (    @JsonTypeName(&quot;my_child&quot;) . Maybe i have another class extending from Parent with the following root annotation (    @JsonTypeName(&quot;my_child_2&quot;)"},{"owner":{"account_id":25427262,"reputation":3,"user_id":19232284,"display_name":"Estudio Tademan"},"score":0,"creation_date":1677505216,"post_id":75564441,"comment_id":133344990,"body_markdown":"And the output with my above commente ,should be  \n&lt;my_child&gt;\n    &lt;street&gt;a&lt;/street&gt;\n    &lt;state&gt;b&lt;/state&gt;\n    &lt;city&gt;c&lt;/city&gt;\n  &lt;/my_child&gt;\n  &lt;my_child_2&gt;\n    &lt;street&gt;d&lt;/street&gt;\n    &lt;state&gt;e&lt;/state&gt;\n    &lt;city&gt;f&lt;/city&gt;\n  &lt;/my_child_2&gt;","body":"And the output with my above commente ,should be   &lt;my_child&gt;     &lt;street&gt;a&lt;/street&gt;     &lt;state&gt;b&lt;/state&gt;     &lt;city&gt;c&lt;/city&gt;   &lt;/my_child&gt;   &lt;my_child_2&gt;     &lt;street&gt;d&lt;/street&gt;     &lt;state&gt;e&lt;/state&gt;     &lt;city&gt;f&lt;/city&gt;   &lt;/my_child_2&gt;"}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677317312,"creation_date":1677317312,"answer_id":75564441,"question_id":75557088,"body_markdown":"before I specify the solution, I would like to point out several problems with the code:\r\n\r\n 1. It doesn&#39;t compile (`Company` class has no `address` and `contacts` instance variables that are specified in constructor). I removed these properties.\r\n 1. `Company` class holds list of `Parent` items, but `Parent` is an empty class with no relation to `Child`. I removed `Parent`.\r\n\r\nThe solution is to specify two Jackson xml annotations for `List&lt;Child&gt;` instance variable of `Company`:\r\n\r\n 1. the obvious `@JacksonXmlElementWrapper(useWrapping = false)`\r\n 1. `@JacksonXmlProperty(localName = &quot;my_child&quot;)` tells Jackson what to name the list item\r\n 1. no annotations are required for `Child` class itself. \r\n\r\n`Company` class looks like this \r\n\r\n\t@JacksonXmlRootElement(localName = &quot;my_company&quot;)\r\n\tpublic class Company {\r\n\t\r\n\t\t//Creating properties of Company class\r\n\t\tpublic String comName;\r\n\t\tpublic String comEmail;\r\n\t\r\n\t\t@JacksonXmlElementWrapper(useWrapping = false)\r\n\t\t@JacksonXmlProperty(localName = &quot;my_child&quot;)\r\n\t\tpublic List&lt;Child&gt; childs;\r\n\r\n\t\t// constructor ... \r\n\r\ntest method\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList&lt;Company.Child&gt; childs = List.of(\r\n\t\t\t\tnew Company.Child(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n\t\t\t\tnew Company.Child(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\r\n\t\t);\r\n\t\tCompany company = new Company(&quot;A&quot;, &quot;ema&quot;, childs);\r\n\t\ttry {\r\n\t\t\tXmlMapper mapper = new XmlMapper();\r\n\t\t\tmapper.writerWithDefaultPrettyPrinter().writeValue(System.out, company);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\noutput \r\n\r\n```\r\n&lt;my_company&gt;\r\n  &lt;comName&gt;A&lt;/comName&gt;\r\n  &lt;comEmail&gt;ema&lt;/comEmail&gt;\r\n  &lt;my_child&gt;\r\n    &lt;street&gt;a&lt;/street&gt;\r\n    &lt;state&gt;b&lt;/state&gt;\r\n    &lt;city&gt;c&lt;/city&gt;\r\n  &lt;/my_child&gt;\r\n  &lt;my_child&gt;\r\n    &lt;street&gt;d&lt;/street&gt;\r\n    &lt;state&gt;e&lt;/state&gt;\r\n    &lt;city&gt;f&lt;/city&gt;\r\n  &lt;/my_child&gt;\r\n&lt;/my_company&gt;\r\n\r\n```\r\n","title":"Jackson transfor POJO to XML avoid list Wrapper","body":"<p>before I specify the solution, I would like to point out several problems with the code:</p>\n<ol>\n<li>It doesn't compile (<code>Company</code> class has no <code>address</code> and <code>contacts</code> instance variables that are specified in constructor). I removed these properties.</li>\n<li><code>Company</code> class holds list of <code>Parent</code> items, but <code>Parent</code> is an empty class with no relation to <code>Child</code>. I removed <code>Parent</code>.</li>\n</ol>\n<p>The solution is to specify two Jackson xml annotations for <code>List&lt;Child&gt;</code> instance variable of <code>Company</code>:</p>\n<ol>\n<li>the obvious <code>@JacksonXmlElementWrapper(useWrapping = false)</code></li>\n<li><code>@JacksonXmlProperty(localName = &quot;my_child&quot;)</code> tells Jackson what to name the list item</li>\n<li>no annotations are required for <code>Child</code> class itself.</li>\n</ol>\n<p><code>Company</code> class looks like this</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;my_company&quot;)\npublic class Company {\n\n    //Creating properties of Company class\n    public String comName;\n    public String comEmail;\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JacksonXmlProperty(localName = &quot;my_child&quot;)\n    public List&lt;Child&gt; childs;\n\n    // constructor ... \n</code></pre>\n<p>test method</p>\n<pre><code>public static void main(String[] args) {\n\n    List&lt;Company.Child&gt; childs = List.of(\n            new Company.Child(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\n            new Company.Child(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\n    );\n    Company company = new Company(&quot;A&quot;, &quot;ema&quot;, childs);\n    try {\n        XmlMapper mapper = new XmlMapper();\n        mapper.writerWithDefaultPrettyPrinter().writeValue(System.out, company);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>output</p>\n<pre><code>&lt;my_company&gt;\n  &lt;comName&gt;A&lt;/comName&gt;\n  &lt;comEmail&gt;ema&lt;/comEmail&gt;\n  &lt;my_child&gt;\n    &lt;street&gt;a&lt;/street&gt;\n    &lt;state&gt;b&lt;/state&gt;\n    &lt;city&gt;c&lt;/city&gt;\n  &lt;/my_child&gt;\n  &lt;my_child&gt;\n    &lt;street&gt;d&lt;/street&gt;\n    &lt;state&gt;e&lt;/state&gt;\n    &lt;city&gt;f&lt;/city&gt;\n  &lt;/my_child&gt;\n&lt;/my_company&gt;\n\n</code></pre>\n"}],"owner":{"account_id":25427262,"reputation":3,"user_id":19232284,"display_name":"Estudio Tademan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677505069,"creation_date":1677244996,"question_id":75557088,"body_markdown":"I am trying to get an output without a root node for a list.\r\nI will simplify my code with a more simple idea :\r\n\r\n\r\n```\r\n    @JacksonXmlRootElement(localName = &quot;my_company&quot;)\r\n    public class Company {\r\n\r\n     //Creating properties of Company class\r\n     public String comName;\r\n     public String comEmail;\r\n\r\n     @JacksonXmlElementWrapper(useWrapping = false)\r\n     public List&lt;Parent&gt; childs;\r\n\r\n     // constructor\r\n     Company(String comName, String comEmail, List&lt;Parent&gt; childs) {\r\n        this.comName = comName;\r\n        this.comEmail = comEmail;\r\n        this.childs = childs;\r\n     }\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n    class Parent{\r\n\r\n    }\r\n    @JsonTypeName(&quot;my_child&quot;)\r\n     class Child extends Parent{\r\n      public String street;\r\n      public String state;\r\n      public String city;\r\n\r\n      Child(String street, String state, String city){\r\n         this.street = street;\r\n         this.state = state;\r\n         this.city = city;\r\n     }\r\n  }\r\n```\r\n  This is the result i get :\r\n\r\n```\r\n   &lt;my_company&gt;\r\n       &lt;comName&gt;A&lt;/comName&gt;\r\n       &lt;comEmail&gt;ema&lt;/comEmail&gt;\r\n       &lt;childs&gt;\r\n         &lt;my_child&gt;\r\n           &lt;street&gt;a&lt;/street&gt;\r\n           &lt;state&gt;b&lt;/state&gt;\r\n          &lt;city&gt;c&lt;/city&gt;\r\n        &lt;/my_child&gt;\r\n       &lt;/childs&gt;\r\n       &lt;childs&gt;\r\n        &lt;my_child&gt;\r\n          &lt;street&gt;a&lt;/street&gt;\r\n          &lt;state&gt;b&lt;/state&gt;\r\n          &lt;city&gt;c&lt;/city&gt;\r\n        &lt;/my_child&gt;\r\n       &lt;/childs&gt;\r\n   &lt;/my_company&gt;\r\n```\r\nI dont want that , I need to remove &quot;childs&quot; tag ,i wanna this :\r\n```\r\n    &lt;my_company&gt;\r\n        &lt;comName&gt;A&lt;/comName&gt;\r\n        &lt;comEmail&gt;ema&lt;/comEmail&gt;\r\n          &lt;my_child&gt;\r\n             &lt;street&gt;a&lt;/street&gt;\r\n             &lt;state&gt;b&lt;/state&gt;\r\n             &lt;city&gt;c&lt;/city&gt;\r\n          &lt;/my_child&gt;\r\n         &lt;my_child&gt;\r\n            &lt;street&gt;a&lt;/street&gt;\r\n            &lt;state&gt;b&lt;/state&gt;\r\n            &lt;city&gt;c&lt;/city&gt;\r\n         &lt;/my_child&gt;\r\n    &lt;/my_company&gt;\r\n```\r\n ***@JacksonXmlElementWrapper(useWrapping = false)*** should do the trick,but i tried 1 millon different combinations,documentation,forum,etc. Thanks in advance.\r\n\r\n\r\n","title":"Jackson transfor POJO to XML avoid list Wrapper","body":"<p>I am trying to get an output without a root node for a list.\nI will simplify my code with a more simple idea :</p>\n<pre><code>    @JacksonXmlRootElement(localName = &quot;my_company&quot;)\n    public class Company {\n\n     //Creating properties of Company class\n     public String comName;\n     public String comEmail;\n\n     @JacksonXmlElementWrapper(useWrapping = false)\n     public List&lt;Parent&gt; childs;\n\n     // constructor\n     Company(String comName, String comEmail, List&lt;Parent&gt; childs) {\n        this.comName = comName;\n        this.comEmail = comEmail;\n        this.childs = childs;\n     }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n    class Parent{\n\n    }\n    @JsonTypeName(&quot;my_child&quot;)\n     class Child extends Parent{\n      public String street;\n      public String state;\n      public String city;\n\n      Child(String street, String state, String city){\n         this.street = street;\n         this.state = state;\n         this.city = city;\n     }\n  }\n</code></pre>\n<p>This is the result i get :</p>\n<pre><code>   &lt;my_company&gt;\n       &lt;comName&gt;A&lt;/comName&gt;\n       &lt;comEmail&gt;ema&lt;/comEmail&gt;\n       &lt;childs&gt;\n         &lt;my_child&gt;\n           &lt;street&gt;a&lt;/street&gt;\n           &lt;state&gt;b&lt;/state&gt;\n          &lt;city&gt;c&lt;/city&gt;\n        &lt;/my_child&gt;\n       &lt;/childs&gt;\n       &lt;childs&gt;\n        &lt;my_child&gt;\n          &lt;street&gt;a&lt;/street&gt;\n          &lt;state&gt;b&lt;/state&gt;\n          &lt;city&gt;c&lt;/city&gt;\n        &lt;/my_child&gt;\n       &lt;/childs&gt;\n   &lt;/my_company&gt;\n</code></pre>\n<p>I dont want that , I need to remove &quot;childs&quot; tag ,i wanna this :</p>\n<pre><code>    &lt;my_company&gt;\n        &lt;comName&gt;A&lt;/comName&gt;\n        &lt;comEmail&gt;ema&lt;/comEmail&gt;\n          &lt;my_child&gt;\n             &lt;street&gt;a&lt;/street&gt;\n             &lt;state&gt;b&lt;/state&gt;\n             &lt;city&gt;c&lt;/city&gt;\n          &lt;/my_child&gt;\n         &lt;my_child&gt;\n            &lt;street&gt;a&lt;/street&gt;\n            &lt;state&gt;b&lt;/state&gt;\n            &lt;city&gt;c&lt;/city&gt;\n         &lt;/my_child&gt;\n    &lt;/my_company&gt;\n</code></pre>\n<p><em><strong>@JacksonXmlElementWrapper(useWrapping = false)</strong></em> should do the trick,but i tried 1 millon different combinations,documentation,forum,etc. Thanks in advance.</p>\n"},{"tags":["java","sql-server","postgresql","amazon-web-services","babelfish"],"owner":{"account_id":2928702,"reputation":771,"user_id":2509520,"display_name":"Peter Tarlos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677504874,"creation_date":1657124969,"question_id":72887000,"body_markdown":"We recently converted our SQL Server database to AWS Aurora PostgreSQL(v.13.6).\r\n\r\nWe&#39;re using [Babelfish][1] for Aurora PostgreSQL to connect to the database with Java 8 &amp; JDBC &amp; SQL Server driver.  While testing, we discovered that Babelfish does NOT return generated row id on SQL insert statements (code below).  **How can this be fixed?**  \r\n\r\nSQL Server driver:\r\n&lt;!-- language: lang-xml --&gt;\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t&lt;version&gt;10.2.1.jre8&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\nHowever, the same test code works when using the PostgreSQL URL &amp; postgres driver.  (returns the generated row id)\r\n\r\nPostgres driver:\r\n&lt;!-- language: lang-xml --&gt;\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;version&gt;42.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTest code:\r\n&lt;!-- language: lang-java --&gt;\r\n```\r\n\tprivate void testInsert(String dbUrl, String sql) {\r\n\t\tlogger.debug(&quot;dbUrl: {}&quot;, dbUrl);\r\n\t\ttry (Connection conn = DriverManager.getConnection(\r\n\t\t\t\tdbUrl, DBUtil.DB_USERNAME, DBUtil.DB_PASSWORD);\r\n             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\r\n\t\t\tsetValues(ps);\r\n\t\t\tconn.setAutoCommit(false); // begin Transaction\r\n\t\t\tlogger.debug(&quot;executeUpdate: {}&quot;, sql);\r\n\r\n            int rows = ps.executeUpdate();\r\n\r\n            logger.debug(&quot;rows: {}&quot;, rows);\r\n            \r\n            try (ResultSet rs = ps.getGeneratedKeys()) {\r\n            \tlogger.debug(&quot;rs: {}&quot;, rs);\r\n                if (rs.next()) {\r\n                    Long id = rs.getLong(1);\r\n                    logger.debug(&quot;id: {}&quot;, id);\r\n                }\r\n                else {\r\n                    logger.debug(&quot;ResultSet is empty&quot;);\r\n                }\r\n            }\r\n          \r\n            conn.rollback();\r\n //           conn.commit();\r\n        } catch (SQLException e) {\r\n            logger.error(null, e);\r\n        }\r\n\t}\r\n```\r\n\r\nOutput:\r\n```\r\n# results with Babelfish URL &amp; SQL Server driver: (returns 0 for row ID)\r\nrows: 1\r\nrs: SQLServerResultSet:1\r\nid: 0\r\n\r\n# results with PostgreSQL URL &amp; postgres driver: (returns the row ID)\r\nrows: 1\r\nrs: org.postgresql.jdbc.PgResultSet@2aceadd4\r\nid: 1548\r\n```\r\n\r\n\r\n  [1]: https://aws.amazon.com/rds/aurora/babelfish/","title":"Babelfish for Aurora PostgreSQL not returning generated row id","body":"<p>We recently converted our SQL Server database to AWS Aurora PostgreSQL(v.13.6).</p>\n<p>We're using <a href=\"https://aws.amazon.com/rds/aurora/babelfish/\" rel=\"nofollow noreferrer\">Babelfish</a> for Aurora PostgreSQL to connect to the database with Java 8 &amp; JDBC &amp; SQL Server driver.  While testing, we discovered that Babelfish does NOT return generated row id on SQL insert statements (code below).  <strong>How can this be fixed?</strong></p>\n<p>SQL Server driver:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;10.2.1.jre8&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>However, the same test code works when using the PostgreSQL URL &amp; postgres driver.  (returns the generated row id)</p>\n<p>Postgres driver:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void testInsert(String dbUrl, String sql) {\n        logger.debug(&quot;dbUrl: {}&quot;, dbUrl);\n        try (Connection conn = DriverManager.getConnection(\n                dbUrl, DBUtil.DB_USERNAME, DBUtil.DB_PASSWORD);\n             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n            setValues(ps);\n            conn.setAutoCommit(false); // begin Transaction\n            logger.debug(&quot;executeUpdate: {}&quot;, sql);\n\n            int rows = ps.executeUpdate();\n\n            logger.debug(&quot;rows: {}&quot;, rows);\n            \n            try (ResultSet rs = ps.getGeneratedKeys()) {\n                logger.debug(&quot;rs: {}&quot;, rs);\n                if (rs.next()) {\n                    Long id = rs.getLong(1);\n                    logger.debug(&quot;id: {}&quot;, id);\n                }\n                else {\n                    logger.debug(&quot;ResultSet is empty&quot;);\n                }\n            }\n          \n            conn.rollback();\n //           conn.commit();\n        } catch (SQLException e) {\n            logger.error(null, e);\n        }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code># results with Babelfish URL &amp; SQL Server driver: (returns 0 for row ID)\nrows: 1\nrs: SQLServerResultSet:1\nid: 0\n\n# results with PostgreSQL URL &amp; postgres driver: (returns the row ID)\nrows: 1\nrs: org.postgresql.jdbc.PgResultSet@2aceadd4\nid: 1548\n</code></pre>\n"},{"tags":["java","scala","bdd","scalatest","junit-jupiter"],"owner":{"account_id":13517282,"reputation":11,"user_id":9751497,"display_name":"Tsiry.MANANKASINA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677504725,"creation_date":1677504725,"question_id":75581137,"body_markdown":"I&#39;m using : \r\n- scala 2.12.15\r\n-  Java 17\r\n-  scalatest_2.12:3.2.15\r\n-  JUnit 5\r\n-  Gradle\r\n\r\nWith this very simple codes in my test folder: \r\n  \r\n```\r\nimport org.scalatest.flatspec.AnyFlatSpec\r\n\r\n\r\nclass MyTestSpec extends AnyFlatSpec {\r\n\r\n  &quot;An empty Set&quot; should &quot;have size 0&quot; in {\r\n    assert(Set.empty.size === 0)\r\n  }\r\n}\r\n```\r\nwhen I try to execute this test, I have : **No tests found...**\r\n\r\nWhen I Use Junit 4, it&#39;s OK, but with Junit 5, KO.\r\n\r\n**remark **: \r\nIn my gradle, I have : \r\n\r\n```\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nIs AnyFlatSpec don&#39;t support JUnit 5 ? Is there another solution ?\r\n\r\nThanks for your help !\r\n","title":"BDD : Test using Sclatest - AnyFlatSpec and Junit 5 not detected","body":"<p>I'm using :</p>\n<ul>\n<li>scala 2.12.15</li>\n<li>Java 17</li>\n<li>scalatest_2.12:3.2.15</li>\n<li>JUnit 5</li>\n<li>Gradle</li>\n</ul>\n<p>With this very simple codes in my test folder:</p>\n<pre><code>import org.scalatest.flatspec.AnyFlatSpec\n\n\nclass MyTestSpec extends AnyFlatSpec {\n\n  &quot;An empty Set&quot; should &quot;have size 0&quot; in {\n    assert(Set.empty.size === 0)\n  }\n}\n</code></pre>\n<p>when I try to execute this test, I have : <strong>No tests found...</strong></p>\n<p>When I Use Junit 4, it's OK, but with Junit 5, KO.</p>\n<p>**remark **:\nIn my gradle, I have :</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Is AnyFlatSpec don't support JUnit 5 ? Is there another solution ?</p>\n<p>Thanks for your help !</p>\n"},{"tags":["java","docker","jar","jboss","keycloak"],"owner":{"account_id":27239616,"reputation":1,"user_id":20765995,"display_name":"Evgeny Baranovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677504256,"creation_date":1677504256,"question_id":75581059,"body_markdown":"I have a keycloak SPI jar (overwriting provider). To put this SPI into /deployments folder inside container, I added following lines to my dockerfile:\r\n\r\n```\r\nCOPY --chown=jboss:jboss keycloak-spi-1.0.0.jar /opt/jboss/keycloak/standalone/deployments\r\nRUN touch /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\r\nRUN echo &quot;keycloak-spi-1.0.0.jar&quot; &gt;&gt; /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\r\n```\r\nKeycloak seems to be picking up on deployment, however, somewhy this time it fails with following stack trace:\r\n\r\n```\r\n13:17:36,485 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: WFLYSRV0153: Failed to process phase STRUCTURE of deployment &quot;keycloak-spi-1.0.0.jar&quot;\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:95)\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n        ... 8 more\r\nCaused by: java.util.zip.ZipException: zip END header not found\r\n        at java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)\r\n        at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)\r\n        at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)\r\n        at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308)\r\n        at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)\r\n        at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\r\n        at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248)\r\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177)\r\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:348)\r\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:319)\r\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:285)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:90)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:77)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:386)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:410)\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentMountProvider$Factory$ServerDeploymentRepositoryImpl.mountDeploymentContent(DeploymentMountProvider.java:108)\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:91)\r\n        ... 9 more\r\n```\r\n\r\n```\r\n13:17:46,342 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-spi-1.0.0.jar&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;keycloak-spi-1.0.0.jar\\&quot;.STRUCTURE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase STRUCTURE of deployment \\&quot;keycloak-spi-1.0.0.jar\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\r\n    Caused by: java.util.zip.ZipException: zip END header not found&quot;}}\r\n```\r\n\r\nHere is the structure of SPI jar:\r\n\r\n```\r\n&gt;&gt; jar tf keycloak-spi-1.0.0.jar\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\nmy/\r\nmy/package/\r\nmy/package/project/\r\nmy/package/project/be/\r\nMETA-INF/services/\r\nmy/package/project/be/MyServiceProvider.class\r\nmy/package/project/be/MyServiceProviderFactory.class\r\nMETA-INF/services/org.keycloak.email.EmailSenderProviderFactory\r\nMETA-INF/maven/\r\nMETA-INF/maven/my.package.project/\r\nMETA-INF/maven/my.package.project/keycloak-spi/\r\nMETA-INF/maven/my.package.project/keycloak-spi/pom.xml\r\nMETA-INF/maven/my.package.project/keycloak-spi/pom.properties\r\n\r\n```\r\n\r\n\r\n\r\n When I deploy it using docker-compose.yaml (see below what I added to do it), I deploy it successfully\r\n\r\n```\r\n    volumes:\r\n      - ../localSetup/providers/keycloak-spi-1.0.0.jar:/opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar\r\n```\r\n\r\nMeanwhile, if I use compose, everything deploys just fine. However, I am unable to use compose on production, so I need to do something while creating image. Please send help.","title":"Unable to deploy keycloak SPI via docker (dockerfile)","body":"<p>I have a keycloak SPI jar (overwriting provider). To put this SPI into /deployments folder inside container, I added following lines to my dockerfile:</p>\n<pre><code>COPY --chown=jboss:jboss keycloak-spi-1.0.0.jar /opt/jboss/keycloak/standalone/deployments\nRUN touch /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\nRUN echo &quot;keycloak-spi-1.0.0.jar&quot; &gt;&gt; /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\n</code></pre>\n<p>Keycloak seems to be picking up on deployment, however, somewhy this time it fails with following stack trace:</p>\n<pre><code>13:17:36,485 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: WFLYSRV0153: Failed to process phase STRUCTURE of deployment &quot;keycloak-spi-1.0.0.jar&quot;\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:95)\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n        ... 8 more\nCaused by: java.util.zip.ZipException: zip END header not found\n        at java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)\n        at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)\n        at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)\n        at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308)\n        at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)\n        at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\n        at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248)\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177)\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:348)\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:319)\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:285)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:90)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:77)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:386)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:410)\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentMountProvider$Factory$ServerDeploymentRepositoryImpl.mountDeploymentContent(DeploymentMountProvider.java:108)\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:91)\n        ... 9 more\n</code></pre>\n<pre><code>13:17:46,342 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-spi-1.0.0.jar&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;keycloak-spi-1.0.0.jar\\&quot;.STRUCTURE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase STRUCTURE of deployment \\&quot;keycloak-spi-1.0.0.jar\\&quot;\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\n    Caused by: java.util.zip.ZipException: zip END header not found&quot;}}\n</code></pre>\n<p>Here is the structure of SPI jar:</p>\n<pre><code>&gt;&gt; jar tf keycloak-spi-1.0.0.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nmy/\nmy/package/\nmy/package/project/\nmy/package/project/be/\nMETA-INF/services/\nmy/package/project/be/MyServiceProvider.class\nmy/package/project/be/MyServiceProviderFactory.class\nMETA-INF/services/org.keycloak.email.EmailSenderProviderFactory\nMETA-INF/maven/\nMETA-INF/maven/my.package.project/\nMETA-INF/maven/my.package.project/keycloak-spi/\nMETA-INF/maven/my.package.project/keycloak-spi/pom.xml\nMETA-INF/maven/my.package.project/keycloak-spi/pom.properties\n\n</code></pre>\n<p>When I deploy it using docker-compose.yaml (see below what I added to do it), I deploy it successfully</p>\n<pre><code>    volumes:\n      - ../localSetup/providers/keycloak-spi-1.0.0.jar:/opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar\n</code></pre>\n<p>Meanwhile, if I use compose, everything deploys just fine. However, I am unable to use compose on production, so I need to do something while creating image. Please send help.</p>\n"},{"tags":["java","reflection","lambda","java-8"],"comments":[{"owner":{"account_id":4251195,"reputation":379,"user_id":3478229,"display_name":"ddan"},"score":0,"creation_date":1396189757,"post_id":19845213,"comment_id":99182558,"body_markdown":"Looks like it might be possible after all, by using a proxy to record which method gets called. https://stackoverflow.com/a/22745127/3478229","body":"Looks like it might be possible after all, by using a proxy to record which method gets called. <a href=\"https://stackoverflow.com/a/22745127/3478229\">stackoverflow.com/a/22745127/3478229</a>"},{"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"score":0,"creation_date":1396332793,"post_id":19845213,"comment_id":99182560,"body_markdown":"It is possible, but this puts constraints on proxied class. For example, it cannot be final and need to have default public or protected constructor. Moreover this will not work for final methods.","body":"It is possible, but this puts constraints on proxied class. For example, it cannot be final and need to have default public or protected constructor. Moreover this will not work for final methods."},{"owner":{"account_id":25463,"reputation":19710,"user_id":65458,"accept_rate":88,"display_name":"Piotr Findeisen"},"score":0,"creation_date":1477768523,"post_id":19845213,"comment_id":99182561,"body_markdown":"Accepting caveats (we can&#39;t distinguish lambdas, and a lambda can contain IFs fooling us), this is a good approach and useful in APIs -- you can grab a ready impl https://github.com/joj-io/joj-reflect/blob/master/src/main/java/io/joj/reflect/MethodReferences.java if you wish.","body":"Accepting caveats (we can&#39;t distinguish lambdas, and a lambda can contain IFs fooling us), this is a good approach and useful in APIs -- you can grab a ready impl <a href=\"https://github.com/joj-io/joj-reflect/blob/master/src/main/java/io/joj/reflect/MethodReferences.java\" rel=\"nofollow noreferrer\">github.com/joj-io/joj-reflect/blob/master/src/main/java/io/j&zwnj;&#8203;oj/&hellip;</a> if you wish."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1529532545,"post_id":19845213,"comment_id":88912886,"body_markdown":"I keep wanting to do this as well.  The &quot;Correct&quot; way to do it in most cases would be to create a custom annotation and tag that method via the annotation, but that gets cumbersome pretty fast.","body":"I keep wanting to do this as well.  The &quot;Correct&quot; way to do it in most cases would be to create a custom annotation and tag that method via the annotation, but that gets cumbersome pretty fast."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1558645855,"post_id":19845213,"comment_id":99179928,"body_markdown":"Possible duplicate of [How to get Method object in Java without using method string names](https://stackoverflow.com/questions/9864300/how-to-get-method-object-in-java-without-using-method-string-names). It doesn&#39;t mention method reference but has several reasonable answers, unlike this question here.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9864300/how-to-get-method-object-in-java-without-using-method-string-names\">How to get Method object in Java without using method string names</a>. It doesn&#39;t mention method reference but has several reasonable answers, unlike this question here."}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1383853872,"creation_date":1383853872,"answer_id":19845303,"question_id":19845213,"body_markdown":"Though I haven&#39;t tried it myself, I think the answer is &quot;no,&quot; since [a method reference is semantically the same as a lambda.](http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Though I haven't tried it myself, I think the answer is \"no,\" since <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">a method reference is semantically the same as a lambda.</a></p>\n"},{"comments":[{"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"score":34,"creation_date":1390257146,"post_id":19845393,"comment_id":32005258,"body_markdown":"I am curious if there is any official conversation about this limitation. It seems to me that having type-safe method references would be incredibly valuable in Java. This seems like the perfect time to add them and it would be a shame to see this opportunity to (significantly) improve java&#39;s meta-programming be lost.","body":"I am curious if there is any official conversation about this limitation. It seems to me that having type-safe method references would be incredibly valuable in Java. This seems like the perfect time to add them and it would be a shame to see this opportunity to (significantly) improve java&#39;s meta-programming be lost."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":17,"creation_date":1399432042,"post_id":19845393,"comment_id":36054089,"body_markdown":"This is not a limitation; it is simply you are looking for a different feature, _method literals_.  This is a different beast from _method references_.","body":"This is not a limitation; it is simply you are looking for a different feature, <i>method literals</i>.  This is a different beast from <i>method references</i>."},{"owner":{"account_id":47948,"reputation":7983,"user_id":142239,"accept_rate":56,"display_name":"Siu Ching Pong -Asuka Kenji-"},"score":1,"creation_date":1420089034,"post_id":19845393,"comment_id":43868710,"body_markdown":"In your example, `MyClass::myMethod` is just a syntactic sugar of `new Action() { @Override public void invoke() { MyClass.myMethod(); } }`. It is unfortunate that Java wasn&#39;t made to have &quot;real&quot; method references, like in C#, as to maintain some VM / binary compatibility. If it wasn&#39;t a concern, I think they&#39;d make `java.lang.reflect.Method` generic, so it behaves more like `java.lang.Class` and so `java.util.function.Function` would be unnecessary. But then, &quot;variadic generics&quot; (varargs in generic parameters) must also be introduced, like in C++ 11, to include all possible method signatures.","body":"In your example, <code>MyClass::myMethod</code> is just a syntactic sugar of <code>new Action() { @Override public void invoke() { MyClass.myMethod(); } }</code>. It is unfortunate that Java wasn&#39;t made to have &quot;real&quot; method references, like in C#, as to maintain some VM / binary compatibility. If it wasn&#39;t a concern, I think they&#39;d make <code>java.lang.reflect.Method</code> generic, so it behaves more like <code>java.lang.Class</code> and so <code>java.util.function.Function</code> would be unnecessary. But then, &quot;variadic generics&quot; (varargs in generic parameters) must also be introduced, like in C++ 11, to include all possible method signatures."},{"owner":{"account_id":47948,"reputation":7983,"user_id":142239,"accept_rate":56,"display_name":"Siu Ching Pong -Asuka Kenji-"},"score":0,"creation_date":1420089308,"post_id":19845393,"comment_id":43868737,"body_markdown":"Then, `MyClass::myMethod` would have been of the type `Method&lt;Void, Void&gt;` or alike, and it could be used like `java.util.function.Function` as well as for obtaining meta information. But, unfortunately, they did not make it this way...","body":"Then, <code>MyClass::myMethod</code> would have been of the type <code>Method&lt;Void, Void&gt;</code> or alike, and it could be used like <code>java.util.function.Function</code> as well as for obtaining meta information. But, unfortunately, they did not make it this way..."},{"owner":{"account_id":187459,"reputation":613,"user_id":425523,"accept_rate":100,"display_name":"kd8azz"},"score":4,"creation_date":1429992280,"post_id":19845393,"comment_id":47865173,"body_markdown":"It looks like your answer is incorrect.  It&#39;s possible, though not straightforward.  http://benjiweber.co.uk/blog/2013/12/28/typesafe-database-interaction-with-java-8/","body":"It looks like your answer is incorrect.  It&#39;s possible, though not straightforward.  <a href=\"http://benjiweber.co.uk/blog/2013/12/28/typesafe-database-interaction-with-java-8/\" rel=\"nofollow noreferrer\">benjiweber.co.uk/blog/2013/12/28/&hellip;</a>"},{"owner":{"account_id":1117076,"reputation":2818,"user_id":1106178,"accept_rate":50,"display_name":"dexter meyers"},"score":3,"creation_date":1434967104,"post_id":19845393,"comment_id":49984595,"body_markdown":"@BrianGoetz +100 for method literals and while at it property literals. I&#39;m sure your colleagues at the JPA spec team would be internally thankful ;)","body":"@BrianGoetz +100 for method literals and while at it property literals. I&#39;m sure your colleagues at the JPA spec team would be internally thankful ;)"},{"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"score":0,"creation_date":1453298273,"post_id":19845393,"comment_id":57540034,"body_markdown":"No, as some already said, it is possible. See http://stackoverflow.com/questions/31178103/how-can-i-find-the-target-of-a-java8-method-reference and http://benjiweber.co.uk/blog/2013/12/28/typesafe-database-interaction-with-java-8/","body":"No, as some already said, it is possible. See <a href=\"http://stackoverflow.com/questions/31178103/how-can-i-find-the-target-of-a-java8-method-reference\" title=\"how can i find the target of a java8 method reference\">stackoverflow.com/questions/31178103/&hellip;</a> and <a href=\"http://benjiweber.co.uk/blog/2013/12/28/typesafe-database-interaction-with-java-8/\" rel=\"nofollow noreferrer\">benjiweber.co.uk/blog/2013/12/28/&hellip;</a>"},{"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"score":2,"creation_date":1453312874,"post_id":19845393,"comment_id":57550499,"body_markdown":"@Devabc Of course it may be *possible* in some situations, but there is no supported API that is equivalent to the C# example provided by the OP.  I think that is reasonable basis for my answer, and I stand by it.  Other possibilities, like using proxies or even analyzing the bootstrap method arguments in the bytecode, are either unreliable or impose additional restrictions.  Are they worth mentioning in a separate answer?  Sure.  Do they make my answer *incorrect* or worthy of a downvote?  I do not see how.  That said, I did rephrase my answer to sound less absolute.","body":"@Devabc Of course it may be <i>possible</i> in some situations, but there is no supported API that is equivalent to the C# example provided by the OP.  I think that is reasonable basis for my answer, and I stand by it.  Other possibilities, like using proxies or even analyzing the bootstrap method arguments in the bytecode, are either unreliable or impose additional restrictions.  Are they worth mentioning in a separate answer?  Sure.  Do they make my answer <i>incorrect</i> or worthy of a downvote?  I do not see how.  That said, I did rephrase my answer to sound less absolute."},{"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"score":1,"creation_date":1508610597,"post_id":19845393,"comment_id":80680657,"body_markdown":"If you don&#39;t mind using ugly hacks there is a way. Right now lambdas are generated using ASM library - so they are represented as regular JVM/Java classes. You must inspect generated bytecode to find you which method will be called and read value of private field to find out on which object. You may also access lambda closure this way. There is already library on GitHub that does exactly that but I cannot recall it&#39;s name right now...","body":"If you don&#39;t mind using ugly hacks there is a way. Right now lambdas are generated using ASM library - so they are represented as regular JVM/Java classes. You must inspect generated bytecode to find you which method will be called and read value of private field to find out on which object. You may also access lambda closure this way. There is already library on GitHub that does exactly that but I cannot recall it&#39;s name right now..."},{"owner":{"account_id":4529684,"reputation":71,"user_id":3680557,"display_name":"YSavanier"},"score":0,"creation_date":1613380732,"post_id":19845393,"comment_id":117047677,"body_markdown":"To mitigate the unreliability argument, I personaly found the cglib dummy proxification to get the otherwise erased type (like in https://stackoverflow.com/questions/19845213/how-to-get-the-methodinfo-of-a-java-8-method-reference/49998151#49998151 answer) to be the more elegant and simple way to do this as cglib is commonly used in production environments. Bytebuddy might be a reasonnable approach to as it is getting more and more leverage today.","body":"To mitigate the unreliability argument, I personaly found the cglib dummy proxification to get the otherwise erased type (like in <a href=\"https://stackoverflow.com/questions/19845213/how-to-get-the-methodinfo-of-a-java-8-method-reference/49998151#49998151\" title=\"how to get the methodinfo of a java 8 method reference\">stackoverflow.com/questions/19845213/&hellip;</a> answer) to be the more elegant and simple way to do this as cglib is commonly used in production environments. Bytebuddy might be a reasonnable approach to as it is getting more and more leverage today."}],"tags":[],"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"comment_count":10,"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1453312229,"creation_date":1383854118,"answer_id":19845393,"question_id":19845213,"body_markdown":"No, there is no reliable, supported way to do this.  You assign a method reference to an instance of a functional interface, but that instance is cooked up by `LambdaMetaFactory`, and there is no way to drill into it to find the method you originally bound to.\r\n\r\nLambdas and method references in Java work quite differently than delegates in C#.  For some interesting background, read up on `invokedynamic`.\r\n\r\nOther answers and comments here show that it may currently be possible to retrieve the bound method with some additional work, but make sure you understand the caveats.","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>No, there is no reliable, supported way to do this.  You assign a method reference to an instance of a functional interface, but that instance is cooked up by <code>LambdaMetaFactory</code>, and there is no way to drill into it to find the method you originally bound to.</p>\n\n<p>Lambdas and method references in Java work quite differently than delegates in C#.  For some interesting background, read up on <code>invokedynamic</code>.</p>\n\n<p>Other answers and comments here show that it may currently be possible to retrieve the bound method with some additional work, but make sure you understand the caveats.</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429395243,"creation_date":1429395243,"answer_id":29723489,"question_id":19845213,"body_markdown":"If you can make the interface `Action` extend `Serializable`, then [this answer][1] from another question seems to provide a solution (at least on some compilers and runtimes).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21879031/86989","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>If you can make the interface <code>Action</code> extend <code>Serializable</code>, then <a href=\"https://stackoverflow.com/a/21879031/86989\">this answer</a> from another question seems to provide a solution (at least on some compilers and runtimes).</p>\n"},{"comments":[{"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"score":0,"creation_date":1535619243,"post_id":37631164,"comment_id":91135680,"body_markdown":"Thanks, BTW, instead of Mockito we can oblige the developers to extend bean classes themselves (and implement `String getMethod()` in their mocks)","body":"Thanks, BTW, instead of Mockito we can oblige the developers to extend bean classes themselves (and implement <code>String getMethod()</code> in their mocks)"},{"owner":{"account_id":3347267,"reputation":781,"user_id":2812189,"display_name":"fbastien"},"score":0,"creation_date":1641369580,"post_id":37631164,"comment_id":124784157,"body_markdown":"Nice solution! BTW, if you write `Class&lt;T&gt;` instead of `Class&lt;?&gt;` in the signature of your `getMethodName` method, then there&#39;s no more need for casting `Mockito.mock()` to `(T)` nor having `@SuppressWarnings(&quot;unchecked&quot;)`","body":"Nice solution! BTW, if you write <code>Class&lt;T&gt;</code> instead of <code>Class&lt;?&gt;</code> in the signature of your <code>getMethodName</code> method, then there&#39;s no more need for casting <code>Mockito.mock()</code> to <code>(T)</code> nor having <code>@SuppressWarnings(&quot;unchecked&quot;)</code>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644274610,"post_id":37631164,"comment_id":125558054,"body_markdown":"@fbastien unfortunately that wouldn’t work because the type of `object.getClass()` is not `Class&lt;? extends T&gt;` but simply `Class&lt;?&gt;` because of the generics. Consider for example the case of `T` being `List&lt;String&gt;`, `getClass()` could return e.g. `ArrayList.class`, which is not a subtype of `List&lt;String&gt;`. See also the note on the actual return type in [Object.getClass()’s javadoc](https://cr.openjdk.java.net/~iris/se/11/latestSpec/api/java.base/java/lang/Object.html#getClass()).","body":"@fbastien unfortunately that wouldn’t work because the type of <code>object.getClass()</code> is not <code>Class&lt;? extends T&gt;</code> but simply <code>Class&lt;?&gt;</code> because of the generics. Consider for example the case of <code>T</code> being <code>List&lt;String&gt;</code>, <code>getClass()</code> could return e.g. <code>ArrayList.class</code>, which is not a subtype of <code>List&lt;String&gt;</code>. See also the note on the actual return type in <a href=\"https://cr.openjdk.java.net/~iris/se/11/latestSpec/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\">Object.getClass()’s javadoc</a>."}],"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1465049149,"creation_date":1465049149,"answer_id":37631164,"question_id":19845213,"body_markdown":"In my case I was looking for a way to get rid of this in unit tests:\r\n\r\n    Point p = getAPoint();\r\n    assertEquals(p.getX(), 4, &quot;x&quot;);\r\n    assertEquals(p.getY(), 6, &quot;x&quot;);\r\n\r\nAs you can see someone is testing Method `getAPoint` and checks that the coordinates are as expected, but in the description of each assert was copied and is not in sync with what is checked. Better would be to write this only once.\r\n\r\nFrom the ideas by @ddan I built a proxy solution using Mockito:\r\n\r\n    private&lt;T&gt; void assertPropertyEqual(final T object, final Function&lt;T, ?&gt; getter, final Object expected) {\r\n        final String methodName = getMethodName(object.getClass(), getter);\r\n        assertEquals(getter.apply(object), expected, methodName);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private&lt;T&gt; String getMethodName(final Class&lt;?&gt; clazz, final Function&lt;T, ?&gt; getter) {\r\n        final Method[] method = new Method[1];\r\n        getter.apply((T)Mockito.mock(clazz, Mockito.withSettings().invocationListeners(methodInvocationReport -&gt; {\r\n            method[0] = ((InvocationOnMock) methodInvocationReport.getInvocation()).getMethod();\r\n        })));\r\n        return method[0].getName();\r\n    }\r\n\r\nNo I can simply use\r\n\r\n    assertPropertyEqual(p, Point::getX, 4);\r\n    assertPropertyEqual(p, Point::getY, 6);\r\n\r\nand the description of the assert is guaranteed to be in sync with the code.\r\n\r\nDownside:\r\n\r\n- Will be slightly slower than above\r\n- Needs Mockito to work\r\n- Hardly useful to anything but the usecase above.\r\n\r\nHowever it does show a way how it could be done.","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>In my case I was looking for a way to get rid of this in unit tests:</p>\n\n<pre><code>Point p = getAPoint();\nassertEquals(p.getX(), 4, \"x\");\nassertEquals(p.getY(), 6, \"x\");\n</code></pre>\n\n<p>As you can see someone is testing Method <code>getAPoint</code> and checks that the coordinates are as expected, but in the description of each assert was copied and is not in sync with what is checked. Better would be to write this only once.</p>\n\n<p>From the ideas by @ddan I built a proxy solution using Mockito:</p>\n\n<pre><code>private&lt;T&gt; void assertPropertyEqual(final T object, final Function&lt;T, ?&gt; getter, final Object expected) {\n    final String methodName = getMethodName(object.getClass(), getter);\n    assertEquals(getter.apply(object), expected, methodName);\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate&lt;T&gt; String getMethodName(final Class&lt;?&gt; clazz, final Function&lt;T, ?&gt; getter) {\n    final Method[] method = new Method[1];\n    getter.apply((T)Mockito.mock(clazz, Mockito.withSettings().invocationListeners(methodInvocationReport -&gt; {\n        method[0] = ((InvocationOnMock) methodInvocationReport.getInvocation()).getMethod();\n    })));\n    return method[0].getName();\n}\n</code></pre>\n\n<p>No I can simply use</p>\n\n<pre><code>assertPropertyEqual(p, Point::getX, 4);\nassertPropertyEqual(p, Point::getY, 6);\n</code></pre>\n\n<p>and the description of the assert is guaranteed to be in sync with the code.</p>\n\n<p>Downside:</p>\n\n<ul>\n<li>Will be slightly slower than above</li>\n<li>Needs Mockito to work</li>\n<li>Hardly useful to anything but the usecase above.</li>\n</ul>\n\n<p>However it does show a way how it could be done.</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":4,"creation_date":1501082293,"post_id":45330587,"comment_id":77623952,"body_markdown":"Please add some words of explanation to your answer. Furthermore, the OP does not want the name of a method currently called but of a method a reference to which is forwarded.","body":"Please add some words of explanation to your answer. Furthermore, the OP does not want the name of a method currently called but of a method a reference to which is forwarded."}],"tags":[],"owner":{"account_id":3819917,"reputation":71,"user_id":3168221,"display_name":"Asghar Nemati"},"comment_count":1,"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1501080913,"creation_date":1501080913,"answer_id":45330587,"question_id":19845213,"body_markdown":"Try this\r\n\r\n    Thread.currentThread().getStackTrace()[2].getMethodName();","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Try this</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[2].getMethodName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3641223,"reputation":2385,"user_id":3035247,"accept_rate":0,"display_name":"xiaohuo"},"score":0,"creation_date":1527069532,"post_id":47302814,"comment_id":87983587,"body_markdown":"Is very limited, not a general solution","body":"Is very limited, not a general solution"},{"owner":{"account_id":694325,"reputation":413,"user_id":571792,"display_name":"rumatoest"},"score":0,"creation_date":1573458422,"post_id":47302814,"comment_id":103875420,"body_markdown":"And also it depends on Unsafe and can not be used on modern JDKs","body":"And also it depends on Unsafe and can not be used on modern JDKs"},{"owner":{"account_id":3044,"reputation":12486,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"score":1,"creation_date":1573494377,"post_id":47302814,"comment_id":103892167,"body_markdown":"@rumatoest: reflection-util supports modern JDKs. Could you file an issue on GitHub for the use-case that doesn’t work for you?","body":"@rumatoest: reflection-util supports modern JDKs. Could you file an issue on GitHub for the use-case that doesn’t work for you?"},{"owner":{"account_id":4529684,"reputation":71,"user_id":3680557,"display_name":"YSavanier"},"score":0,"creation_date":1613379936,"post_id":47302814,"comment_id":117047395,"body_markdown":"This only works for methods without an argument nor a return type, useless for most cases...","body":"This only works for methods without an argument nor a return type, useless for most cases..."},{"owner":{"account_id":3044,"reputation":12486,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"score":0,"creation_date":1613584345,"post_id":47302814,"comment_id":117122343,"body_markdown":"@YSavanier: In reflection-util 2.9.0 we introduced ClassUtils.getMethodName(…) which allows you to capture methods with a return type. I’ve updated my answer accordingly.\nBut yes, the implementation is certainly no silver bullet and some cases are not (yet) supported.\nAnyway, having a solution for *some* cases could be interesting for *some* people…","body":"@YSavanier: In reflection-util 2.9.0 we introduced ClassUtils.getMethodName(…) which allows you to capture methods with a return type. I’ve updated my answer accordingly. But yes, the implementation is certainly no silver bullet and some cases are not (yet) supported. Anyway, having a solution for <i>some</i> cases could be interesting for <i>some</i> people…"}],"tags":[],"owner":{"account_id":3044,"reputation":12486,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"comment_count":5,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1613584293,"creation_date":1510735234,"answer_id":47302814,"question_id":19845213,"body_markdown":"We have published the small library [reflection-util][1] that can be used to capture a method name.\r\n\r\nExample:\r\n\r\n\tclass MyClass {\r\n\r\n        private int value;\r\n\r\n\t\tpublic void myMethod() {\r\n\t\t}\r\n\r\n\t\tpublic int getValue() {\r\n            return value;\r\n\t\t}\r\n\r\n\t}\r\n\r\n    String methodName = ClassUtils.getMethodName(MyClass.class, MyClass::myMethod);\r\n    System.out.println(methodName); // prints &quot;myMethod&quot;\r\n\r\n    String getterName = ClassUtils.getMethodName(MyClass.class, MyClass::getValue);\r\n    System.out.println(getterName); // prints &quot;getValue&quot;\r\n\r\nImplementation details: A Proxy subclass of `MyClass` is created with [ByteBuddy][2] and a call to the method is captured to retrieve its name.\r\n`ClassUtils` caches the information such that we do not need to create a new proxy on every invocation.\r\n\r\nPlease note that this approach is *no silver bullet* and there are some known cases that don’t work:\r\n- It doesn’t work for **static** methods.\r\n- It doesn’t work if the class is **final**.\r\n- We currently do not support all potential method signatures. It should work for methods that do not take an argument such as a getter method.\r\n\r\n[1]: https://github.com/cronn/reflection-util\r\n[2]: https://bytebuddy.net","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>We have published the small library <a href=\"https://github.com/cronn/reflection-util\" rel=\"nofollow noreferrer\">reflection-util</a> that can be used to capture a method name.</p>\n<p>Example:</p>\n<pre><code>class MyClass {\n\n    private int value;\n\n    public void myMethod() {\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n}\n\nString methodName = ClassUtils.getMethodName(MyClass.class, MyClass::myMethod);\nSystem.out.println(methodName); // prints &quot;myMethod&quot;\n\nString getterName = ClassUtils.getMethodName(MyClass.class, MyClass::getValue);\nSystem.out.println(getterName); // prints &quot;getValue&quot;\n</code></pre>\n<p>Implementation details: A Proxy subclass of <code>MyClass</code> is created with <a href=\"https://bytebuddy.net\" rel=\"nofollow noreferrer\">ByteBuddy</a> and a call to the method is captured to retrieve its name.\n<code>ClassUtils</code> caches the information such that we do not need to create a new proxy on every invocation.</p>\n<p>Please note that this approach is <em>no silver bullet</em> and there are some known cases that don’t work:</p>\n<ul>\n<li>It doesn’t work for <strong>static</strong> methods.</li>\n<li>It doesn’t work if the class is <strong>final</strong>.</li>\n<li>We currently do not support all potential method signatures. It should work for methods that do not take an argument such as a getter method.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1370627,"reputation":495,"user_id":1305930,"display_name":"vivimice"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510897114,"creation_date":1510897114,"answer_id":47343958,"question_id":19845213,"body_markdown":"There may not be a reliable way, but under some circumstances:\r\n\r\n1. your `MyClass` is not final, and has an accessible constructor (limitation of cglib)\r\n2. your `myMethod` is not overloaded, and not static\r\n\r\nThe you can try using cglib to create a proxy of `MyClass`, then using an `MethodInterceptor` to report the `Method` while the method reference is invoked in a following trial run.\r\n\r\nExample code:\r\n\r\n    public static void main(String[] args) {\r\n        Method m = MethodReferenceUtils.getReferencedMethod(ArrayList.class, ArrayList::contains);\r\n        System.out.println(m);\r\n    }\r\n\r\nYou will see the following output:\r\n\r\n    public boolean java.util.ArrayList.contains(java.lang.Object)\r\n\r\nWhile:\r\n\r\n\tpublic class MethodReferenceUtils {\r\n\t\r\n\t\t@FunctionalInterface\r\n\t\tpublic static interface MethodRefWith1Arg&lt;T, A1&gt; {\r\n\t\t\tvoid call(T t, A1 a1);\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;T, A1&gt; Method getReferencedMethod(Class&lt;T&gt; clazz, MethodRefWith1Arg&lt;T, A1&gt; methodRef) {\r\n\t\t\treturn findReferencedMethod(clazz, t -&gt; methodRef.call(t, null));\r\n\t\t}\r\n\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tprivate static &lt;T&gt; Method findReferencedMethod(Class&lt;T&gt; clazz, Consumer&lt;T&gt; invoker) {\r\n\t\t\tAtomicReference&lt;Method&gt; ref = new AtomicReference&lt;&gt;();\r\n\t\t\tEnhancer enhancer = new Enhancer();\r\n\t\t\tenhancer.setSuperclass(clazz);\r\n\t\t\tenhancer.setCallback(new MethodInterceptor() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\r\n\t\t\t\t\tref.set(method);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttry {\r\n\t\t\t\tinvoker.accept((T) enhancer.create());\r\n\t\t\t} catch (ClassCastException e) {\r\n\t\t\t\tthrow new IllegalArgumentException(String.format(&quot;Invalid method reference on class [%s]&quot;, clazz));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tMethod method = ref.get();\r\n\t\t\tif (method == null) {\r\n\t\t\t\tthrow new IllegalArgumentException(String.format(&quot;Invalid method reference on class [%s]&quot;, clazz));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn method;\r\n\t\t}\r\n\t}\r\n\r\nIn the above code, `MethodRefWith1Arg` is just a syntax sugar for you to reference an non-static method with one arguments. You can create as many as `MethodRefWithXArgs` for referencing your other methods.\r\n","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>There may not be a reliable way, but under some circumstances:</p>\n\n<ol>\n<li>your <code>MyClass</code> is not final, and has an accessible constructor (limitation of cglib)</li>\n<li>your <code>myMethod</code> is not overloaded, and not static</li>\n</ol>\n\n<p>The you can try using cglib to create a proxy of <code>MyClass</code>, then using an <code>MethodInterceptor</code> to report the <code>Method</code> while the method reference is invoked in a following trial run.</p>\n\n<p>Example code:</p>\n\n<pre><code>public static void main(String[] args) {\n    Method m = MethodReferenceUtils.getReferencedMethod(ArrayList.class, ArrayList::contains);\n    System.out.println(m);\n}\n</code></pre>\n\n<p>You will see the following output:</p>\n\n<pre><code>public boolean java.util.ArrayList.contains(java.lang.Object)\n</code></pre>\n\n<p>While:</p>\n\n<pre><code>public class MethodReferenceUtils {\n\n    @FunctionalInterface\n    public static interface MethodRefWith1Arg&lt;T, A1&gt; {\n        void call(T t, A1 a1);\n    }\n\n    public static &lt;T, A1&gt; Method getReferencedMethod(Class&lt;T&gt; clazz, MethodRefWith1Arg&lt;T, A1&gt; methodRef) {\n        return findReferencedMethod(clazz, t -&gt; methodRef.call(t, null));\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;T&gt; Method findReferencedMethod(Class&lt;T&gt; clazz, Consumer&lt;T&gt; invoker) {\n        AtomicReference&lt;Method&gt; ref = new AtomicReference&lt;&gt;();\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(clazz);\n        enhancer.setCallback(new MethodInterceptor() {\n            @Override\n            public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\n                ref.set(method);\n                return null;\n            }\n        });\n        try {\n            invoker.accept((T) enhancer.create());\n        } catch (ClassCastException e) {\n            throw new IllegalArgumentException(String.format(\"Invalid method reference on class [%s]\", clazz));\n        }\n\n        Method method = ref.get();\n        if (method == null) {\n            throw new IllegalArgumentException(String.format(\"Invalid method reference on class [%s]\", clazz));\n        }\n\n        return method;\n    }\n}\n</code></pre>\n\n<p>In the above code, <code>MethodRefWith1Arg</code> is just a syntax sugar for you to reference an non-static method with one arguments. You can create as many as <code>MethodRefWithXArgs</code> for referencing your other methods.</p>\n"},{"comments":[{"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"score":0,"creation_date":1524719079,"post_id":47398463,"comment_id":87086348,"body_markdown":"Oh... yes, it is to risky for production ;-)","body":"Oh... yes, it is to risky for production ;-)"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644276370,"post_id":47398463,"comment_id":125558495,"body_markdown":"While this is an interesting approach, it will only work in Java 8 due to the `sun.*` imports (hence, I guess, the downvotes). You may want to update it for more recent versions of Java and describe the limitations.","body":"While this is an interesting approach, it will only work in Java 8 due to the <code>sun.*</code> imports (hence, I guess, the downvotes). You may want to update it for more recent versions of Java and describe the limitations."}],"tags":[],"owner":{"account_id":10057552,"reputation":47,"user_id":7435294,"display_name":"Dmitriy V."},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511201329,"creation_date":1511201329,"answer_id":47398463,"question_id":19845213,"body_markdown":"So, I play with this code\r\n\r\n    import sun.reflect.ConstantPool;\r\n    \r\n    import java.lang.reflect.Method;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class Main {\r\n        private Consumer&lt;String&gt; consumer;\r\n    \r\n        Main() {\r\n            consumer = this::test;\r\n        }\r\n    \r\n        public void test(String val) {\r\n            System.out.println(&quot;val = &quot; + val);\r\n        }\r\n    \r\n        public void run() throws Exception {\r\n            ConstantPool oa = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(consumer.getClass());\r\n            for (int i = 0; i &lt; oa.getSize(); i++) {\r\n                try {\r\n                    Object v = oa.getMethodAt(i);\r\n                    if (v instanceof Method) {\r\n                        System.out.println(&quot;index = &quot; + i + &quot;, method = &quot; + v);\r\n                    }\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            new Main().run();\r\n        }\r\n    }\r\n\r\noutput of this code is:\r\n\r\n    index = 30, method = public void Main.test(java.lang.String)\r\nAnd as I notice index of referenced method is always 30.\r\nFinal code may look like\r\n\r\n    public Method unreference(Object methodRef) {\r\n            ConstantPool constantPool = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(methodRef.getClass());\r\n            try {\r\n                Object method = constantPool.getMethodAt(30);\r\n                if (method instanceof Method) {\r\n                    return (Method) method;\r\n                }\r\n            }catch (Exception ignored) {\r\n            }\r\n            throw new IllegalArgumentException(&quot;Not a method reference.&quot;);\r\n        }\r\n\r\n**Be careful with this code in production!**","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>So, I play with this code</p>\n\n<pre><code>import sun.reflect.ConstantPool;\n\nimport java.lang.reflect.Method;\nimport java.util.function.Consumer;\n\npublic class Main {\n    private Consumer&lt;String&gt; consumer;\n\n    Main() {\n        consumer = this::test;\n    }\n\n    public void test(String val) {\n        System.out.println(\"val = \" + val);\n    }\n\n    public void run() throws Exception {\n        ConstantPool oa = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(consumer.getClass());\n        for (int i = 0; i &lt; oa.getSize(); i++) {\n            try {\n                Object v = oa.getMethodAt(i);\n                if (v instanceof Method) {\n                    System.out.println(\"index = \" + i + \", method = \" + v);\n                }\n            } catch (Exception e) {\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        new Main().run();\n    }\n}\n</code></pre>\n\n<p>output of this code is:</p>\n\n<pre><code>index = 30, method = public void Main.test(java.lang.String)\n</code></pre>\n\n<p>And as I notice index of referenced method is always 30.\nFinal code may look like</p>\n\n<pre><code>public Method unreference(Object methodRef) {\n        ConstantPool constantPool = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(methodRef.getClass());\n        try {\n            Object method = constantPool.getMethodAt(30);\n            if (method instanceof Method) {\n                return (Method) method;\n            }\n        }catch (Exception ignored) {\n        }\n        throw new IllegalArgumentException(\"Not a method reference.\");\n    }\n</code></pre>\n\n<p><strong>Be careful with this code in production!</strong></p>\n"},{"comments":[{"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"score":2,"creation_date":1524719031,"post_id":49998151,"comment_id":87086332,"body_markdown":"I&#39;ve checked. It doesn&#39;t work for final methods, nor final classes nor static methods.","body":"I&#39;ve checked. It doesn&#39;t work for final methods, nor final classes nor static methods."},{"owner":{"account_id":10594124,"reputation":4488,"user_id":7803527,"accept_rate":75,"display_name":"Dean Xu"},"score":1,"creation_date":1524720190,"post_id":49998151,"comment_id":87086700,"body_markdown":"@Rafal Yes, it is. I had written in the doc. But Your downvote does not make sense . First, your question has no that restriction. I&#39;m going here to give you a solution only for your question. Second, I checked 4 answers above who gives solution and have more than 1 upvote. 3 of them can&#39;t work for final/static methods. Third, it&#39;s rare to reflect a static method, why you need that?","body":"@Rafal Yes, it is. I had written in the doc. But Your downvote does not make sense . First, your question has no that restriction. I&#39;m going here to give you a solution only for your question. Second, I checked 4 answers above who gives solution and have more than 1 upvote. 3 of them can&#39;t work for final/static methods. Third, it&#39;s rare to reflect a static method, why you need that?"},{"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"score":0,"creation_date":1524810638,"post_id":49998151,"comment_id":87129439,"body_markdown":"I can change downvote, but you have to edit you answer to let me do that (due to Stackoveflow restriction). Upvotes for other questions has been made not by me. My question has no restrictions... yes... so I expect answer which covers all cases or at least it is clear which are not covered.","body":"I can change downvote, but you have to edit you answer to let me do that (due to Stackoveflow restriction). Upvotes for other questions has been made not by me. My question has no restrictions... yes... so I expect answer which covers all cases or at least it is clear which are not covered."},{"owner":{"account_id":10594124,"reputation":4488,"user_id":7803527,"accept_rate":75,"display_name":"Dean Xu"},"score":0,"creation_date":1524810880,"post_id":49998151,"comment_id":87129576,"body_markdown":"@Rafal Thank you, sir. It doesn&#39;t matter. If you see me somewhere else, please don&#39;t downvote carelessly :)","body":"@Rafal Thank you, sir. It doesn&#39;t matter. If you see me somewhere else, please don&#39;t downvote carelessly :)"},{"owner":{"account_id":69636,"reputation":3071,"user_id":202504,"display_name":"jmiserez"},"score":3,"creation_date":1548693268,"post_id":49998151,"comment_id":95623558,"body_markdown":"The crucial piece of info is missing here, i.e. *how* your library works. If Github goes down then this answer is useless. The other answers at least link to some relevant code on StackOverflow.","body":"The crucial piece of info is missing here, i.e. <i>how</i> your library works. If Github goes down then this answer is useless. The other answers at least link to some relevant code on StackOverflow."},{"owner":{"account_id":4529684,"reputation":71,"user_id":3680557,"display_name":"YSavanier"},"score":0,"creation_date":1613379513,"post_id":49998151,"comment_id":117047201,"body_markdown":"Thank you so much for you piece of code, this is the only simple way I found to do this java&#39;s lifehack. Such great idea of using cglib as a temporary proxification in order to get the otherwise erased genericity you are my hero ! :D","body":"Thank you so much for you piece of code, this is the only simple way I found to do this java&#39;s lifehack. Such great idea of using cglib as a temporary proxification in order to get the otherwise erased genericity you are my hero ! :D"}],"tags":[],"owner":{"account_id":10594124,"reputation":4488,"user_id":7803527,"accept_rate":75,"display_name":"Dean Xu"},"comment_count":6,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1524562391,"creation_date":1524562391,"answer_id":49998151,"question_id":19845213,"body_markdown":"You can use my library [`Reflect Without String`][1]\r\n\r\n    Method myMethod = ReflectWithoutString.methodGetter(MyClass.class).getMethod(MyClass::myMethod);\r\n\r\n\r\n  [1]: https://github.com/XDean/ReflectWithoutString","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>You can use my library <a href=\"https://github.com/XDean/ReflectWithoutString\" rel=\"nofollow noreferrer\"><code>Reflect Without String</code></a></p>\n\n<pre><code>Method myMethod = ReflectWithoutString.methodGetter(MyClass.class).getMethod(MyClass::myMethod);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677504025,"creation_date":1676310972,"answer_id":75439570,"question_id":19845213,"body_markdown":"Another solution using Mockito:\r\n\r\n**pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Test code:**\r\n\r\n    @Test\r\n    void testMethodNameGetter() {\r\n        final var invocations = MethodUtil.getMethodFromGetter(DummyClass.class, DummyClass::getTestString);\r\n        Assertions.assertEquals(&quot;getTestString&quot;, invocations.get(0).getMethod().getName());\r\n    }\r\n    @Test\r\n    void testMethodNameSetter() {\r\n        final var invocations = MethodUtil.getMethodFromSetter(DummyClass.class, DummyClass::setTestString);\r\n        Assertions.assertEquals(&quot;setTestString&quot;, invocations.get(0).getMethod().getName());\r\n    }\r\n\r\n**java code:**\r\n\r\n    public class MethodUtil {\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public static class MethodInvocation {\r\n        private Method method;\r\n        private Object[] arguments;\r\n    }\r\n\r\n    private MethodUtil() {\r\n        // static class\r\n    }\r\n\r\n    public static &lt;T&gt; List&lt;MethodInvocation&gt; getMethodFromGetter(final Class&lt;T&gt; clazz, final Function&lt;T, ?&gt; getter) {\r\n        return captureMethodOnInvocation(clazz, getter::apply);\r\n    }\r\n\r\n    public static &lt;\r\n            T,\r\n            V&gt; List&lt;MethodInvocation&gt; getMethodFromSetter(final Class&lt;T&gt; clazz, final BiConsumer&lt;T, V&gt; setter) {\r\n        return captureMethodOnInvocation(clazz, (T mock) -&gt; {\r\n\r\n            final BiConsumer setterGeneric = setter;\r\n            tryOneByOneUntilSuccess(\r\n                    () -&gt; setterGeneric.accept(mock, 0),\r\n                    () -&gt; setterGeneric.accept(mock, false),\r\n                    () -&gt; setterGeneric.accept(mock, 0D),\r\n                    () -&gt; setterGeneric.accept(mock, 0F),\r\n                    () -&gt; setterGeneric.accept(mock, null));\r\n        });\r\n    }\r\n\r\n    private static void tryOneByOneUntilSuccess(final Runnable... runnableArray) {\r\n        for (int i = 0, runnableArrayLength = runnableArray.length; i &lt; runnableArrayLength; i++) {\r\n            final Runnable runnable = runnableArray[i];\r\n            try {\r\n                runnable.run();\r\n                break;\r\n            } catch (final NullPointerException | ClassCastException e) {\r\n                if (i == runnableArrayLength - 1) {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static &lt;\r\n            T&gt; List&lt;MethodInvocation&gt; captureMethodOnInvocation(final Class&lt;T&gt; clazz, final Consumer&lt;T&gt; invokeMock) {\r\n        try {\r\n            final List&lt;MethodInvocation&gt; methodReferences = new ArrayList&lt;&gt;();\r\n            final InvocationListener invocationListener = new InvocationListener() {\r\n                @Override\r\n                public void reportInvocation(final MethodInvocationReport methodInvocationReport) {\r\n                    final InvocationOnMock invocation = (InvocationOnMock) methodInvocationReport.getInvocation();\r\n\r\n                    final Method method = invocation.getMethod();\r\n                    final Object[] arguments = invocation.getArguments();\r\n                    methodReferences.add(new MethodInvocation(method, arguments));\r\n                }\r\n            };\r\n            final MockSettings mockSettings = Mockito.withSettings().invocationListeners(invocationListener);\r\n            final T mock = Mockito.mock(clazz, mockSettings);\r\n            invokeMock.accept(mock);\r\n            return methodReferences;\r\n\r\n        } catch (final Exception e) {\r\n            throw new RuntimeException(&quot;Method could not be captured at runtime.&quot;, e);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Another solution using Mockito:</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Test code:</strong></p>\n<pre><code>@Test\nvoid testMethodNameGetter() {\n    final var invocations = MethodUtil.getMethodFromGetter(DummyClass.class, DummyClass::getTestString);\n    Assertions.assertEquals(&quot;getTestString&quot;, invocations.get(0).getMethod().getName());\n}\n@Test\nvoid testMethodNameSetter() {\n    final var invocations = MethodUtil.getMethodFromSetter(DummyClass.class, DummyClass::setTestString);\n    Assertions.assertEquals(&quot;setTestString&quot;, invocations.get(0).getMethod().getName());\n}\n</code></pre>\n<p><strong>java code:</strong></p>\n<pre><code>public class MethodUtil {\n\n@Getter\n@AllArgsConstructor\npublic static class MethodInvocation {\n    private Method method;\n    private Object[] arguments;\n}\n\nprivate MethodUtil() {\n    // static class\n}\n\npublic static &lt;T&gt; List&lt;MethodInvocation&gt; getMethodFromGetter(final Class&lt;T&gt; clazz, final Function&lt;T, ?&gt; getter) {\n    return captureMethodOnInvocation(clazz, getter::apply);\n}\n\npublic static &lt;\n        T,\n        V&gt; List&lt;MethodInvocation&gt; getMethodFromSetter(final Class&lt;T&gt; clazz, final BiConsumer&lt;T, V&gt; setter) {\n    return captureMethodOnInvocation(clazz, (T mock) -&gt; {\n\n        final BiConsumer setterGeneric = setter;\n        tryOneByOneUntilSuccess(\n                () -&gt; setterGeneric.accept(mock, 0),\n                () -&gt; setterGeneric.accept(mock, false),\n                () -&gt; setterGeneric.accept(mock, 0D),\n                () -&gt; setterGeneric.accept(mock, 0F),\n                () -&gt; setterGeneric.accept(mock, null));\n    });\n}\n\nprivate static void tryOneByOneUntilSuccess(final Runnable... runnableArray) {\n    for (int i = 0, runnableArrayLength = runnableArray.length; i &lt; runnableArrayLength; i++) {\n        final Runnable runnable = runnableArray[i];\n        try {\n            runnable.run();\n            break;\n        } catch (final NullPointerException | ClassCastException e) {\n            if (i == runnableArrayLength - 1) {\n                throw e;\n            }\n        }\n    }\n\n}\n\nprivate static &lt;\n        T&gt; List&lt;MethodInvocation&gt; captureMethodOnInvocation(final Class&lt;T&gt; clazz, final Consumer&lt;T&gt; invokeMock) {\n    try {\n        final List&lt;MethodInvocation&gt; methodReferences = new ArrayList&lt;&gt;();\n        final InvocationListener invocationListener = new InvocationListener() {\n            @Override\n            public void reportInvocation(final MethodInvocationReport methodInvocationReport) {\n                final InvocationOnMock invocation = (InvocationOnMock) methodInvocationReport.getInvocation();\n\n                final Method method = invocation.getMethod();\n                final Object[] arguments = invocation.getArguments();\n                methodReferences.add(new MethodInvocation(method, arguments));\n            }\n        };\n        final MockSettings mockSettings = Mockito.withSettings().invocationListeners(invocationListener);\n        final T mock = Mockito.mock(clazz, mockSettings);\n        invokeMock.accept(mock);\n        return methodReferences;\n\n    } catch (final Exception e) {\n        throw new RuntimeException(&quot;Method could not be captured at runtime.&quot;, e);\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38307,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":19845393,"answer_count":10,"score":100,"last_activity_date":1677504025,"creation_date":1383853579,"question_id":19845213,"body_markdown":"Please have a look at the following code:\r\n\r\n    Method methodInfo = MyClass.class.getMethod(&quot;myMethod&quot;);\r\n\r\nThis works, but the method name is passed as a string, so this will compile even if myMethod does not exist.\r\n\r\nOn the other hand, Java 8 introduces a method reference feature. It is checked at compile time. It is possible to use this feature to get method info?\r\n\r\n    printMethodName(MyClass::myMethod);\r\n\r\nFull example:\r\n\r\n    @FunctionalInterface\r\n    private interface Action {\r\n        \r\n        void invoke();\r\n    }\r\n    \r\n    private static class MyClass {\r\n        \r\n        public static void myMethod() {\r\n        }\r\n    }\r\n    \r\n    private static void printMethodName(Action action) {\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        // This works, but method name is passed as a string, so this will compile\r\n        // even if myMethod does not exist\r\n        Method methodInfo = MyClass.class.getMethod(&quot;myMethod&quot;);\r\n        \r\n        // Here we pass reference to a method. It is somehow possible to\r\n        // obtain java.lang.reflect.Method for myMethod inside printMethodName?\r\n        printMethodName(MyClass::myMethod);\r\n    }\r\n\r\nIn other words I would like to have a code which is the equivalent of the following C# code:\r\n\r\n        private static class InnerClass\r\n        {\r\n            public static void MyMethod()\r\n            {\r\n                Console.WriteLine(&quot;Hello&quot;);\r\n            }\r\n        }\r\n\r\n        static void PrintMethodName(Action action)\r\n        {\r\n            // Can I get java.lang.reflect.Method in the same way?\r\n            MethodInfo methodInfo = action.GetMethodInfo();\r\n        }\r\n\r\n        static void Main()\r\n        {\r\n            PrintMethodName(InnerClass.MyMethod);\r\n        }\r\n","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Please have a look at the following code:</p>\n\n<pre><code>Method methodInfo = MyClass.class.getMethod(\"myMethod\");\n</code></pre>\n\n<p>This works, but the method name is passed as a string, so this will compile even if myMethod does not exist.</p>\n\n<p>On the other hand, Java 8 introduces a method reference feature. It is checked at compile time. It is possible to use this feature to get method info?</p>\n\n<pre><code>printMethodName(MyClass::myMethod);\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>@FunctionalInterface\nprivate interface Action {\n\n    void invoke();\n}\n\nprivate static class MyClass {\n\n    public static void myMethod() {\n    }\n}\n\nprivate static void printMethodName(Action action) {\n}\n\npublic static void main(String[] args) throws NoSuchMethodException {\n    // This works, but method name is passed as a string, so this will compile\n    // even if myMethod does not exist\n    Method methodInfo = MyClass.class.getMethod(\"myMethod\");\n\n    // Here we pass reference to a method. It is somehow possible to\n    // obtain java.lang.reflect.Method for myMethod inside printMethodName?\n    printMethodName(MyClass::myMethod);\n}\n</code></pre>\n\n<p>In other words I would like to have a code which is the equivalent of the following C# code:</p>\n\n<pre><code>    private static class InnerClass\n    {\n        public static void MyMethod()\n        {\n            Console.WriteLine(\"Hello\");\n        }\n    }\n\n    static void PrintMethodName(Action action)\n    {\n        // Can I get java.lang.reflect.Method in the same way?\n        MethodInfo methodInfo = action.GetMethodInfo();\n    }\n\n    static void Main()\n    {\n        PrintMethodName(InnerClass.MyMethod);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-activity"],"comments":[{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":2,"creation_date":1677501861,"post_id":75580367,"comment_id":133343912,"body_markdown":"Call method in onStop() as app is still running in the background and activity is not destroyed. For multiple activities you can make a base class for this purpose.","body":"Call method in onStop() as app is still running in the background and activity is not destroyed. For multiple activities you can make a base class for this purpose."}],"answers":[{"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1677506758,"post_id":75580838,"comment_id":133345502,"body_markdown":"It’s also called when a dialog box appears on the screen or the user pulls down the notification bar, so it might not be suitable for the OP&#39;s use case.","body":"It’s also called when a dialog box appears on the screen or the user pulls down the notification bar, so it might not be suitable for the OP&#39;s use case."}],"tags":[],"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677502960,"creation_date":1677502960,"answer_id":75580838,"question_id":75580367,"body_markdown":"You didn&#39;t state if you were doing this with JAVA or Kotlin, but not a big deal.\r\ntry onPause() This is called when the user presses the home button and the activity is no longer in the foreground.\r\n\r\n```\r\n    @Override\r\n    protected void onPause(){\r\n        super.onPause();\r\n        something();\r\n    }\r\n```","title":"Android : Call function when user close app from any activity","body":"<p>You didn't state if you were doing this with JAVA or Kotlin, but not a big deal.\ntry onPause() This is called when the user presses the home button and the activity is no longer in the foreground.</p>\n<pre><code>    @Override\n    protected void onPause(){\n        super.onPause();\n        something();\n    }\n</code></pre>\n"}],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677503776,"creation_date":1677500024,"question_id":75580367,"body_markdown":"I want to call one function when the user closes the app from any activity. For e.g. the user opens the app and uses it for some time and then clicks on the home button and closes the app at that time I want to call one method.\r\n\r\n\r\nHow can I archive this.?\r\n\r\nCurrently I used onDestroy method for the call function but seems like it does work for me","title":"Android : Call function when user close app from any activity","body":"<p>I want to call one function when the user closes the app from any activity. For e.g. the user opens the app and uses it for some time and then clicks on the home button and closes the app at that time I want to call one method.</p>\n<p>How can I archive this.?</p>\n<p>Currently I used onDestroy method for the call function but seems like it does work for me</p>\n"},{"tags":["java","jboss","wildfly"],"answers":[{"comments":[{"owner":{"account_id":13092570,"reputation":127,"user_id":9459527,"display_name":"mikedoy"},"score":0,"creation_date":1677189945,"post_id":75537920,"comment_id":133294564,"body_markdown":"Thank you I will try that when I get a chance. I hit more pressing issues at the moment. I will mark as accepted.","body":"Thank you I will try that when I get a chance. I hit more pressing issues at the moment. I will mark as accepted."}],"tags":[],"owner":{"account_id":24460312,"reputation":16,"user_id":18381413,"display_name":"fischey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677503298,"creation_date":1677098284,"answer_id":75537920,"question_id":75516296,"body_markdown":"You need to add the Module to the standalone.xml configuration File, so that the Wildfly will load the module. See here: http://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/?amp=1 section global modules\r\n\r\nIn your example it should look like this:\r\n\r\n````\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.0&quot; &gt;            \r\n      &lt;global-modules&gt;\r\n        &lt;module name=com.acme.bouncy&quot; slot=&quot;main&quot; /&gt;            \r\n      &lt;/global-modules&gt; \r\n    &lt;/subsystem&gt;\r\n````\r\n\r\nYou could also use the jboss-cli to add the module.\r\n````\r\nsubsystem=ee/:write-attribute(name=global-modules,value=[{&quot;name&quot; =&gt; &quot;com.acme.bouncy&quot;,&quot;slot&quot; =&gt; &quot;main&quot;}])\r\n````","title":"wildfly 21 -- add bouncy castle provider without changing JDK configuration","body":"<p>You need to add the Module to the standalone.xml configuration File, so that the Wildfly will load the module. See here: <a href=\"http://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/?amp=1\" rel=\"nofollow noreferrer\">http://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/?amp=1</a> section global modules</p>\n<p>In your example it should look like this:</p>\n<pre><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.0&quot; &gt;            \n      &lt;global-modules&gt;\n        &lt;module name=com.acme.bouncy&quot; slot=&quot;main&quot; /&gt;            \n      &lt;/global-modules&gt; \n    &lt;/subsystem&gt;\n</code></pre>\n<p>You could also use the jboss-cli to add the module.</p>\n<pre><code>subsystem=ee/:write-attribute(name=global-modules,value=[{&quot;name&quot; =&gt; &quot;com.acme.bouncy&quot;,&quot;slot&quot; =&gt; &quot;main&quot;}])\n</code></pre>\n"}],"owner":{"account_id":13092570,"reputation":127,"user_id":9459527,"display_name":"mikedoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75537920,"answer_count":1,"score":0,"last_activity_date":1677503298,"creation_date":1676953599,"question_id":75516296,"body_markdown":"I tried creating a module with the provider jar \r\nThis is the module:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.acme.bouncy&quot;&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;bcprovider.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n```\r\nI added the option to change security file to wildfly.conf which adds the provider\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/var/opt/acme/bcprops.security&quot;\r\n```\r\nbut I still get this error unless the jar file is added to jre/lib/ext (which I don&#39;t want to do):\r\n```\r\n2023-02-21 03:42:47,014 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service org.wildfly.security.credential-store.mastercs: org.jboss.msc.service.StartException in service org.wildfly.security.credential-store.mastercs: WFLYELY00004: Unable to start the service.\r\n\tat org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:132)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.wildfly.security.credential.store.CredentialStoreException: ELY09514: Unable to initialize credential store\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:953)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.setupExternalStorage(KeyStoreCredentialStore.java:962)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.load(KeyStoreCredentialStore.java:841)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.initialize(KeyStoreCredentialStore.java:223)\r\n\tat org.wildfly.security.credential.store.CredentialStore.initialize(CredentialStore.java:160)\r\n\tat org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:123)\r\n\t... 8 more\r\nCaused by: java.security.KeyStoreException: BKS not found\r\n\tat java.security.KeyStore.getInstance(KeyStore.java:851)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:949)\r\n\t... 13 more\r\nCaused by: java.security.NoSuchAlgorithmException: BKS KeyStore not available\r\n\tat sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n\tat java.security.Security.getImpl(Security.java:695)\r\n\tat java.security.KeyStore.getInstance(KeyStore.java:848)\r\n\t... 14 more\r\n```","title":"wildfly 21 -- add bouncy castle provider without changing JDK configuration","body":"<p>I tried creating a module with the provider jar\nThis is the module:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.acme.bouncy&quot;&gt;\n        &lt;resources&gt;\n            &lt;resource-root path=&quot;bcprovider.jar&quot;/&gt;\n        &lt;/resources&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;javax.api&quot;/&gt;\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/module&gt;\n</code></pre>\n<p>I added the option to change security file to wildfly.conf which adds the provider</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/var/opt/acme/bcprops.security&quot;\n</code></pre>\n<p>but I still get this error unless the jar file is added to jre/lib/ext (which I don't want to do):</p>\n<pre><code>2023-02-21 03:42:47,014 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service org.wildfly.security.credential-store.mastercs: org.jboss.msc.service.StartException in service org.wildfly.security.credential-store.mastercs: WFLYELY00004: Unable to start the service.\n    at org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:132)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.wildfly.security.credential.store.CredentialStoreException: ELY09514: Unable to initialize credential store\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:953)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.setupExternalStorage(KeyStoreCredentialStore.java:962)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.load(KeyStoreCredentialStore.java:841)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.initialize(KeyStoreCredentialStore.java:223)\n    at org.wildfly.security.credential.store.CredentialStore.initialize(CredentialStore.java:160)\n    at org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:123)\n    ... 8 more\nCaused by: java.security.KeyStoreException: BKS not found\n    at java.security.KeyStore.getInstance(KeyStore.java:851)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:949)\n    ... 13 more\nCaused by: java.security.NoSuchAlgorithmException: BKS KeyStore not available\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n    at java.security.Security.getImpl(Security.java:695)\n    at java.security.KeyStore.getInstance(KeyStore.java:848)\n    ... 14 more\n</code></pre>\n"},{"tags":["java","spring","xsd","dependencies"],"owner":{"account_id":22804956,"reputation":1,"user_id":18894094,"display_name":"Владимир Хейфец"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677503010,"answer_count":0,"score":0,"last_activity_date":1677503297,"creation_date":1677498838,"question_id":75580146,"body_markdown":"Lately Spring moved some of their XSD files. Because of it our product just stops working.\r\n\r\nCan you make me some advice, what is better solution to avoid such kind of problems. Should we have our versions of dependencies that relates only on locally stored files? What is best way to store them? \r\n\r\nWe are very small region software company and I&#39;ll be really appreciated to hear some best practices from more experienced developers from bigger companies.\r\n\r\nNow we just change some jar files and links in them to existed XSD. ","title":"Where to store XSD and how to avoid strong dependencies to external links?","body":"<p>Lately Spring moved some of their XSD files. Because of it our product just stops working.</p>\n<p>Can you make me some advice, what is better solution to avoid such kind of problems. Should we have our versions of dependencies that relates only on locally stored files? What is best way to store them?</p>\n<p>We are very small region software company and I'll be really appreciated to hear some best practices from more experienced developers from bigger companies.</p>\n<p>Now we just change some jar files and links in them to existed XSD.</p>\n"},{"tags":["java","database","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367291959,"post_id":16289804,"comment_id":23320296,"body_markdown":"I take Hibernate is generating the schema, right?","body":"I take Hibernate is generating the schema, right?"},{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1367297791,"post_id":16289804,"comment_id":23321482,"body_markdown":"If the column is created without precision and scale, then H2 doesn&#39;t truncate. So either the column is created with precision / scale, or Hibernate, or your application truncates the value. I can&#39;t say which one it is however.","body":"If the column is created without precision and scale, then H2 doesn&#39;t truncate. So either the column is created with precision / scale, or Hibernate, or your application truncates the value. I can&#39;t say which one it is however."},{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1367390165,"post_id":16289804,"comment_id":23359043,"body_markdown":"Could you get the schema of this database, by executing the SQL statement `SCRIPT` in the H2 database?","body":"Could you get the schema of this database, by executing the SQL statement <code>SCRIPT</code> in the H2 database?"},{"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"score":0,"creation_date":1367413896,"post_id":16289804,"comment_id":23367261,"body_markdown":"I assume it will be the creation script (thanks for now), will verify it soon","body":"I assume it will be the creation script (thanks for now), will verify it soon"},{"owner":{"account_id":309306,"reputation":5033,"user_id":621686,"accept_rate":71,"display_name":"bvulaj"},"score":0,"creation_date":1439998239,"post_id":16289804,"comment_id":52094008,"body_markdown":"Ever find an answer to this?  We&#39;re also experiencing this problem.","body":"Ever find an answer to this?  We&#39;re also experiencing this problem."},{"owner":{"account_id":9478211,"reputation":387,"user_id":7046953,"display_name":"Scar Coder"},"score":0,"creation_date":1483569105,"post_id":16289804,"comment_id":70154576,"body_markdown":"I found a helpful answer here:\nhttp://stackoverflow.com/questions/15568048/play-framework-ebean-bigdecimal-fraction","body":"I found a helpful answer here: <a href=\"http://stackoverflow.com/questions/15568048/play-framework-ebean-bigdecimal-fraction\" title=\"play framework ebean bigdecimal fraction\">stackoverflow.com/questions/15568048/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1391737894,"creation_date":1391737894,"answer_id":21617841,"question_id":16289804,"body_markdown":"Even though you don&#39;t know the precision/scale up-front, I think you still need to define the *maximum* precision and scale in the `@Column` annotation. You need to have a look at the database schema generated to see how Hibernate is defining the column.\r\n\r\nBy the way, I can tell you that the creation of the `BigDecimal` value coming back from the database is done by the proprietary JDBC driver&#39;s implementation of the `getBigDecimal` method of the database-specific `ResultSet` sub-class.\r\n\r\nI found this out by stepping thru the Hibernate source code with a debugger, while trying to find the answer to [my own question][1].\r\n\r\nIt seems that some implementations of the `getBigDecimal` method will either use the precision/scale defined in the database schema, or will try to optimise the `BigDecimal` returned by only defining the minimum precision/scale required to hold the value retrieved.\r\n\r\nSee also [my question here][1] and this [other question][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21568693/hibernate-bigdecimal-column-mapping-for-custom-dialect\r\n  [2]: https://stackoverflow.com/questions/6544232/how-do-i-map-a-bigdecimal-in-hibernate-so-i-get-back-the-same-scale-i-put-in","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>Even though you don't know the precision/scale up-front, I think you still need to define the <em>maximum</em> precision and scale in the <code>@Column</code> annotation. You need to have a look at the database schema generated to see how Hibernate is defining the column.</p>\n\n<p>By the way, I can tell you that the creation of the <code>BigDecimal</code> value coming back from the database is done by the proprietary JDBC driver's implementation of the <code>getBigDecimal</code> method of the database-specific <code>ResultSet</code> sub-class.</p>\n\n<p>I found this out by stepping thru the Hibernate source code with a debugger, while trying to find the answer to <a href=\"https://stackoverflow.com/questions/21568693/hibernate-bigdecimal-column-mapping-for-custom-dialect\">my own question</a>.</p>\n\n<p>It seems that some implementations of the <code>getBigDecimal</code> method will either use the precision/scale defined in the database schema, or will try to optimise the <code>BigDecimal</code> returned by only defining the minimum precision/scale required to hold the value retrieved.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/21568693/hibernate-bigdecimal-column-mapping-for-custom-dialect\">my question here</a> and this <a href=\"https://stackoverflow.com/questions/6544232/how-do-i-map-a-bigdecimal-in-hibernate-so-i-get-back-the-same-scale-i-put-in\">other question</a>.</p>\n"},{"tags":[],"owner":{"account_id":5729160,"reputation":185,"user_id":4525240,"display_name":"James Matlik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440005852,"creation_date":1440005852,"answer_id":32102104,"question_id":16289804,"body_markdown":"We ran into a situation very similar to what is described here, but the problem was partly due to how we manage our environment.  We are using Spring Data JPA (uses Hibernate) but manage our schema migrations using Flyway.\r\n\r\nWhen interacting with Postgres, everything was fine, but when using H2 for testing, all our DECIMAL types were persisted into the database with only two digits of rounded (half up) scale with no obvious reason.\r\n\r\nIn our case, the problem was resolved by setting this flag in our Spring Boot application.properties:\r\n\r\n`spring.jpa.hibernate.ddl-auto=none`\r\n\r\nSo, the root cause was incomplete JPA definitions for DDL generation being applied by Hibernate.  Our solution was to disable the automatic DDL generation because we are taking care of it with SQL scripts, but this should also be fixable via a more complete JPA definition.","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>We ran into a situation very similar to what is described here, but the problem was partly due to how we manage our environment.  We are using Spring Data JPA (uses Hibernate) but manage our schema migrations using Flyway.</p>\n\n<p>When interacting with Postgres, everything was fine, but when using H2 for testing, all our DECIMAL types were persisted into the database with only two digits of rounded (half up) scale with no obvious reason.</p>\n\n<p>In our case, the problem was resolved by setting this flag in our Spring Boot application.properties:</p>\n\n<p><code>spring.jpa.hibernate.ddl-auto=none</code></p>\n\n<p>So, the root cause was incomplete JPA definitions for DDL generation being applied by Hibernate.  Our solution was to disable the automatic DDL generation because we are taking care of it with SQL scripts, but this should also be fixable via a more complete JPA definition.</p>\n"},{"tags":[],"owner":{"account_id":332311,"reputation":3167,"user_id":657525,"display_name":"womd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677503295,"creation_date":1677502746,"answer_id":75580799,"question_id":16289804,"body_markdown":"ran into this, trying to store values like: 0.08559, 0.000000012, would be stored as 0.00.\r\nOne has to use scale + precision attribute on the Entity definition \r\neg:\r\n\r\n    @Column(scale = 15, precision = 30)\r\n    private BigDecimal myValue;\r\n\r\nremember: Precision specifies total number of digits in a number\r\nscale specifies number of digits after the decimal point.\r\n","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>ran into this, trying to store values like: 0.08559, 0.000000012, would be stored as 0.00.\nOne has to use scale + precision attribute on the Entity definition\neg:</p>\n<pre><code>@Column(scale = 15, precision = 30)\nprivate BigDecimal myValue;\n</code></pre>\n<p>remember: Precision specifies total number of digits in a number\nscale specifies number of digits after the decimal point.</p>\n"}],"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7541,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1677503295,"creation_date":1367277517,"question_id":16289804,"body_markdown":"We are using H2 database for testing purposes, but when I store BigDecimal value into it using Hibernate and then load it back the value is truncated to two decimal places:\r\n\r\nThe field definition looks like this\r\n\r\n    @Column(name = &quot;Rate&quot;, nullable = true)\r\n    private BigDecimal rate;\r\n\r\nso 1.456 is truncated into 1.46.\r\n\r\nI don&#39;t know the precision upfront (it is different for every entity), so I can&#39;t define them on the annotation.\r\n\r\nIs there some way how to resolve this?","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>We are using H2 database for testing purposes, but when I store BigDecimal value into it using Hibernate and then load it back the value is truncated to two decimal places:</p>\n\n<p>The field definition looks like this</p>\n\n<pre><code>@Column(name = \"Rate\", nullable = true)\nprivate BigDecimal rate;\n</code></pre>\n\n<p>so 1.456 is truncated into 1.46.</p>\n\n<p>I don't know the precision upfront (it is different for every entity), so I can't define them on the annotation.</p>\n\n<p>Is there some way how to resolve this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1677501558,"post_id":75580502,"comment_id":133343823,"body_markdown":"Do you use the value returned by save()?","body":"Do you use the value returned by save()?"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677501772,"post_id":75580502,"comment_id":133343877,"body_markdown":"Ughh, I&#39;m not sure that I understand what you excalty mean, If you dont mind, be more specific, sorry","body":"Ughh, I&#39;m not sure that I understand what you excalty mean, If you dont mind, be more specific, sorry"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677501888,"post_id":75580502,"comment_id":133343921,"body_markdown":"It looks like you’re overwriting the transaction with the one in the database before you call the method to update `transaction = transactionService.getTransactionById(transactionId);`","body":"It looks like you’re overwriting the transaction with the one in the database before you call the method to update <code>transaction = transactionService.getTransactionById(transactionId);</code>"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677502108,"post_id":75580502,"comment_id":133343980,"body_markdown":"When I remove that line result is same","body":"When I remove that line result is same"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677502229,"post_id":75580502,"comment_id":133344031,"body_markdown":"Also, just to mention, you can see that In transaction table I have field as `note` and when i try to edit that field its also as for `amount`, new values are not recieved","body":"Also, just to mention, you can see that In transaction table I have field as <code>note</code> and when i try to edit that field its also as for <code>amount</code>, new values are not recieved"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677502452,"post_id":75580502,"comment_id":133344099,"body_markdown":"You’re doing the same thing in both controller and service. You take in the `Transaction` object, but then overwrite it when you fetch the existing from the database. I suggest making a new object such as `Transaction existing = transactionService.getTransactionById(transactionId);`, then overwrite it’s data with the new fields from `transaction` and call `save(existing);`","body":"You’re doing the same thing in both controller and service. You take in the <code>Transaction</code> object, but then overwrite it when you fetch the existing from the database. I suggest making a new object such as <code>Transaction existing = transactionService.getTransactionById(transactionId);</code>, then overwrite it’s data with the new fields from <code>transaction</code> and call <code>save(existing);</code>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1677502478,"post_id":75580502,"comment_id":133344105,"body_markdown":"Both `amount` and `note` are not annotated as `@Column`","body":"Both <code>amount</code> and <code>note</code> are not annotated as <code>@Column</code>"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677503085,"post_id":75580502,"comment_id":133344287,"body_markdown":"@CalvinP. Can you be a bit more specific? Like where I need to create new `existing` object? In controller?","body":"@CalvinP. Can you be a bit more specific? Like where I need to create new <code>existing</code> object? In controller?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677503512,"post_id":75580502,"comment_id":133344418,"body_markdown":"@Frosty I would recommend creating it in the service actually, as traditionally this is where most of your business logic should lie.","body":"@Frosty I would recommend creating it in the service actually, as traditionally this is where most of your business logic should lie."}],"answers":[{"comments":[{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677503419,"post_id":75580881,"comment_id":133344389,"body_markdown":"Yeah, that is fine, I tried like you but its look like I missed something. By the way, I mentioined above that I also have a `note` column inside transaction table, but when I update it its not changed, look like same problem like for amount before","body":"Yeah, that is fine, I tried like you but its look like I missed something. By the way, I mentioined above that I also have a <code>note</code> column inside transaction table, but when I update it its not changed, look like same problem like for amount before"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677504215,"post_id":75580881,"comment_id":133344633,"body_markdown":"Hi, I made it, I just have one question regardles amount field, if you have a time to give me advice about it","body":"Hi, I made it, I just have one question regardles amount field, if you have a time to give me advice about it"},{"owner":{"account_id":17857092,"reputation":26,"user_id":12971433,"display_name":"Navid Mahbub"},"score":0,"creation_date":1677562521,"post_id":75580881,"comment_id":133357665,"body_markdown":"To solve the `note` problem update the `transaction` variable and save the `transaction` variable instead of `existingTransactionInDb`. Also, don&#39;t forget to check if `transaction` and `existingTransactionInDb` primaryId same and not null. otherwise it will create a new one","body":"To solve the <code>note</code> problem update the <code>transaction</code> variable and save the <code>transaction</code> variable instead of <code>existingTransactionInDb</code>. Also, don&#39;t forget to check if <code>transaction</code> and <code>existingTransactionInDb</code> primaryId same and not null. otherwise it will create a new one"}],"tags":[],"owner":{"account_id":17857092,"reputation":26,"user_id":12971433,"display_name":"Navid Mahbub"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677503245,"creation_date":1677503245,"answer_id":75580881,"question_id":75580502,"body_markdown":"&gt; transaction = transactionService.getTransactionById(transactionId);\r\n\r\nThe problem is in the above as you reused the variable. The incoming new `transaction` with value 15 is getting overwritten by an already existing `transaction` with initialValue 1;\r\n\r\nThe following should work now:\r\n\r\n    @PostMapping(&quot;/updateIncome/{transactionId}&quot;)\r\n\tpublic String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tUserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n\t\tlong userId = user.getId();\r\n\r\n\t\tboolean thereAreErrors = result.hasErrors();\r\n\t\tif (thereAreErrors) {\r\n\t\t\tmodel.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\r\n\t\t\treturn &quot;income_transaction&quot;;\r\n\t\t}\r\n\r\n\t\ttransactionService.updateIncome(transaction, transactionId);\r\n\t\treturn &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n\t}\r\n\r\n\r\n    @Override\r\n\tpublic void updateIncome(Transaction transaction, Long transactionId) {\r\n\t\tTransaction existingTransactionInDb = getTransactionById(transactionId);\r\n\t\tdouble amount = transaction.getAmount();\r\n\t\tSystem.out.println(transaction.getAmount());\r\n\t\texistingTransactionInDb.getWallet().setInitialBalance(existingTransactionInDb.getWallet().getInitialBalance() + amount);\r\n\t\tthis.transactionRepository.save(existingTransactionInDb);\r\n\t}","title":"Value is always same when try to update data from table","body":"<blockquote>\n<p>transaction = transactionService.getTransactionById(transactionId);</p>\n</blockquote>\n<p>The problem is in the above as you reused the variable. The incoming new <code>transaction</code> with value 15 is getting overwritten by an already existing <code>transaction</code> with initialValue 1;</p>\n<p>The following should work now:</p>\n<pre><code>@PostMapping(&quot;/updateIncome/{transactionId}&quot;)\npublic String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\n        return &quot;income_transaction&quot;;\n    }\n\n    transactionService.updateIncome(transaction, transactionId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n\n\n@Override\npublic void updateIncome(Transaction transaction, Long transactionId) {\n    Transaction existingTransactionInDb = getTransactionById(transactionId);\n    double amount = transaction.getAmount();\n    System.out.println(transaction.getAmount());\n    existingTransactionInDb.getWallet().setInitialBalance(existingTransactionInDb.getWallet().getInitialBalance() + amount);\n    this.transactionRepository.save(existingTransactionInDb);\n}\n</code></pre>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75580881,"answer_count":1,"score":-1,"last_activity_date":1677503245,"creation_date":1677500911,"question_id":75580502,"body_markdown":"I have two tables that are connected, `Wallets` and `Transaction`. Now, Each transaction is connected with wallet and this are entites:\r\n\r\n`Wallets:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;wallet&quot;)\r\n    public class Wallet {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;wallet_id&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Please, insert a wallet name&quot;)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    private Double initialBalance;\r\n\r\n    @Transient\r\n    private double totalBalance;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\r\n            CascadeType.ALL})\r\n    private Set&lt;Transaction&gt; transactions;\r\n\r\n`Transactions:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;transaction_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;wallet_name&quot;, nullable = false)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    @Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\r\n    private Double amount;\r\n\r\n    private String note;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n\r\n    @ManyToOne\r\n    @OnDelete(action = OnDeleteAction.NO_ACTION)\r\n    @JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\r\n    private Wallet wallet;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM(&#39;EXPENSE&#39;, &#39;INCOME&#39;)&quot;)\r\n    private TransactionType transactionType;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM(&#39;FOOD_AND_DRINK&#39;, &#39;SHOPPING&#39;, &#39;TRANSPORT&#39;, &#39;HOME&#39;,&quot; +\r\n            &quot; &#39;BILLS_AND_FEES&#39;, &#39;ENTERTAINMENT&#39;, &#39;CAR&#39;, &#39;TRAVEL&#39;, &#39;FAMILY_AND_PERSONAL&#39;, &#39;HEALTHCARE&#39;,&quot; +\r\n            &quot; &#39;EDUCATION&#39;, &#39;GROCERIES&#39;, &#39;GIFTS&#39;, &#39;BEAUTY&#39;, &#39;WORK&#39;, &#39;SPORTS_AND_HOBBIES&#39;, &#39;OTHER&#39;)&quot;)\r\n    private ExpenseCategories expenseCategories;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM(&#39;SALARY&#39;, &#39;BUSINESS&#39;, &#39;GIFTS&#39;, &#39;EXTRA_INCOME&#39;, &#39;LOAN&#39;, &#39;PARENTAL_LEAVE&#39;, &#39;INSURANCE_PAYOUT&#39;, &#39;OTHER&#39;)&quot;)\r\n    private IncomeCategories incomeCategories;\r\n\r\nThis is service to update table:\r\n\r\n    @Override\r\n    public void updateIncome(Transaction transaction, Long transactionId) {\r\n        transaction = getTransactionById(transactionId);\r\n        double amount = transaction.getAmount();\r\n        System.out.println(transaction.getAmount());\r\n        transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);\r\n        this.transactionRepository.save(transaction);\r\n    }\r\n\r\nThis is `controller:`\r\n\r\n      @PostMapping(&quot;/updateIncome/{transactionId}&quot;)\r\n    public String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        transaction = transactionService.getTransactionById(transactionId);\r\n\r\n        boolean thereAreErrors = result.hasErrors();\r\n        if (thereAreErrors) {\r\n            model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\r\n            return &quot;income_transaction&quot;;\r\n        }\r\n\r\n        transactionService.updateIncome(transaction, transactionId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n    }\r\n\r\nAnd what is the problem?\r\n\r\nYou see here:\r\n\r\n     double amount = transaction.getAmount();\r\n     System.out.println(transaction.getAmount());\r\n\r\nThat is now `1` because initally transaction is created and amount is set to `1`, but when I open the page and change amount field to `15` for example so I&#39;m actually updating it there, and submit form its still `1` and here `transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);` is also `+ 1 (1 as amount)` instead of `15` as a new value because I&#39;m updating it.\r\n\r\nWhat Im doing wrong? I&#39;m trying to update transaction data by Id that is related to wallet but have trouble","title":"Value is always same when try to update data from table","body":"<p>I have two tables that are connected, <code>Wallets</code> and <code>Transaction</code>. Now, Each transaction is connected with wallet and this are entites:</p>\n<p><code>Wallets:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;wallet&quot;)\npublic class Wallet {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;wallet_id&quot;)\nprivate Long id;\n\n@NotBlank(message = &quot;Please, insert a wallet name&quot;)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\nprivate Double initialBalance;\n\n@Transient\nprivate double totalBalance;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate User user;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\n        CascadeType.ALL})\nprivate Set&lt;Transaction&gt; transactions;\n</code></pre>\n<p><code>Transactions:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;transaction_id&quot;)\nprivate Long id;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Column(name = &quot;wallet_name&quot;, nullable = false)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\n@Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\nprivate Double amount;\n\nprivate String note;\n\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n@Column(name = &quot;date&quot;)\nprivate LocalDate date;\n\n@ManyToOne\n@OnDelete(action = OnDeleteAction.NO_ACTION)\n@JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\nprivate Wallet wallet;\n\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM('EXPENSE', 'INCOME')&quot;)\nprivate TransactionType transactionType;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM('FOOD_AND_DRINK', 'SHOPPING', 'TRANSPORT', 'HOME',&quot; +\n        &quot; 'BILLS_AND_FEES', 'ENTERTAINMENT', 'CAR', 'TRAVEL', 'FAMILY_AND_PERSONAL', 'HEALTHCARE',&quot; +\n        &quot; 'EDUCATION', 'GROCERIES', 'GIFTS', 'BEAUTY', 'WORK', 'SPORTS_AND_HOBBIES', 'OTHER')&quot;)\nprivate ExpenseCategories expenseCategories;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM('SALARY', 'BUSINESS', 'GIFTS', 'EXTRA_INCOME', 'LOAN', 'PARENTAL_LEAVE', 'INSURANCE_PAYOUT', 'OTHER')&quot;)\nprivate IncomeCategories incomeCategories;\n</code></pre>\n<p>This is service to update table:</p>\n<pre><code>@Override\npublic void updateIncome(Transaction transaction, Long transactionId) {\n    transaction = getTransactionById(transactionId);\n    double amount = transaction.getAmount();\n    System.out.println(transaction.getAmount());\n    transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);\n    this.transactionRepository.save(transaction);\n}\n</code></pre>\n<p>This is <code>controller:</code></p>\n<pre><code>  @PostMapping(&quot;/updateIncome/{transactionId}&quot;)\npublic String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    transaction = transactionService.getTransactionById(transactionId);\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\n        return &quot;income_transaction&quot;;\n    }\n\n    transactionService.updateIncome(transaction, transactionId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n</code></pre>\n<p>And what is the problem?</p>\n<p>You see here:</p>\n<pre><code> double amount = transaction.getAmount();\n System.out.println(transaction.getAmount());\n</code></pre>\n<p>That is now <code>1</code> because initally transaction is created and amount is set to <code>1</code>, but when I open the page and change amount field to <code>15</code> for example so I'm actually updating it there, and submit form its still <code>1</code> and here <code>transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);</code> is also <code>+ 1 (1 as amount)</code> instead of <code>15</code> as a new value because I'm updating it.</p>\n<p>What Im doing wrong? I'm trying to update transaction data by Id that is related to wallet but have trouble</p>\n"},{"tags":["java","spring","tomcat","tomcat9"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677500849,"post_id":75580464,"comment_id":133343643,"body_markdown":"`jakarta.*` vs. `javax.*`","body":"<code>jakarta.*</code> vs. <code>javax.*</code>"},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1677501190,"post_id":75580464,"comment_id":133343737,"body_markdown":"Idk why you downgraded my question? And youR comment doesn&#39;t explain much.","body":"Idk why you downgraded my question? And youR comment doesn&#39;t explain much."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677501432,"post_id":75580464,"comment_id":133343797,"body_markdown":"from the  [tomcat 10 migration guide](https://tomcat.apache.org/migration-10.html) *The Java package has changed from javax.servlet to jakarta.servlet.* You import javax.servlet in your project. You have tochange the libraries","body":"from the  <a href=\"https://tomcat.apache.org/migration-10.html\" rel=\"nofollow noreferrer\">tomcat 10 migration guide</a> <i>The Java package has changed from javax.servlet to jakarta.servlet.</i> You import javax.servlet in your project. You have tochange the libraries"},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1677501917,"post_id":75580464,"comment_id":133343928,"body_markdown":"I&#39;m using Tomcat 9 and I import javax.*, so it should work...","body":"I&#39;m using Tomcat 9 and I import javax.*, so it should work..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677501983,"post_id":75580464,"comment_id":133343944,"body_markdown":"You are mixing Spring 6 with Spring 5 jars. That isn&#39;t going to work. Either use all the same Spring 5 versions and use Tomcat 9 (JavaE) **or** use all Spring 6 versions and use Tomcat10 (JakartaEE). Currently you are mixing, which is always a bad idea.","body":"You are mixing Spring 6 with Spring 5 jars. That isn&#39;t going to work. Either use all the same Spring 5 versions and use Tomcat 9 (JavaE) <b>or</b> use all Spring 6 versions and use Tomcat10 (JakartaEE). Currently you are mixing, which is always a bad idea."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677502005,"post_id":75580464,"comment_id":133343951,"body_markdown":"There must be one place where your project refer to jakartax. Can you please share the complete stacktrace?","body":"There must be one place where your project refer to jakartax. Can you please share the complete stacktrace?"},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1677502525,"post_id":75580464,"comment_id":133344115,"body_markdown":"@M.Deinum That was the problem, now it works!","body":"@M.Deinum That was the problem, now it works!"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677502783,"creation_date":1677502783,"answer_id":75580806,"question_id":75580464,"body_markdown":"The problem is your dependencies you are mixing jars from different versions of a framework. In this case the framework is Spring and you are mixing jars from version 5.3.25 and 6.0.5. Never mix jars from different versions of a framework (regardless the framework) as that is trouble waiting to happen. \r\n\r\nFix the versions to all match. \r\n\r\n**PRO-TIP:** Use the `dependencyManagement` section and import the Spring Framework BOM so you only need to define 1 version instead of for each module. \r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n      &lt;scope&gt;optional&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"java.lang.ClassNotFoundException: jakarta.servlet.ServletException: Spring MVC Web App","body":"<p>The problem is your dependencies you are mixing jars from different versions of a framework. In this case the framework is Spring and you are mixing jars from version 5.3.25 and 6.0.5. Never mix jars from different versions of a framework (regardless the framework) as that is trouble waiting to happen.</p>\n<p>Fix the versions to all match.</p>\n<p><strong>PRO-TIP:</strong> Use the <code>dependencyManagement</code> section and import the Spring Framework BOM so you only need to define 1 version instead of for each module.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.3.25&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n      &lt;scope&gt;optional&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677502783,"creation_date":1677500701,"question_id":75580464,"body_markdown":"I&#39;m developing a Spring MVC Web app, using Maven(Webapp archetype), Spring 5, Java 17 and Tomcat 9.0;\r\n\r\nWhen I&#39;m tryin&#39; to deploy my artefact, I get java.lang.ClassNotFoundException: jakarta.servlet.ServletException and I can&#39;t understand why, given the fact that I&#39;m using Tomcat 9.0 which makes use of javax packages.\r\n\r\nBut when I deploy on Tomcat 10.x, it is working perfectly fine.\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-indexer --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n          &lt;scope&gt;optional&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-expression --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jms --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-oxm --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-r2dbc --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webflux --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-websocket --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"java.lang.ClassNotFoundException: jakarta.servlet.ServletException: Spring MVC Web App","body":"<p>I'm developing a Spring MVC Web app, using Maven(Webapp archetype), Spring 5, Java 17 and Tomcat 9.0;</p>\n<p>When I'm tryin' to deploy my artefact, I get java.lang.ClassNotFoundException: jakarta.servlet.ServletException and I can't understand why, given the fact that I'm using Tomcat 9.0 which makes use of javax packages.</p>\n<p>But when I deploy on Tomcat 10.x, it is working perfectly fine.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n      &lt;version&gt;6.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-indexer --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n      &lt;scope&gt;optional&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-expression --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jms --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-oxm --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-r2dbc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n      &lt;version&gt;6.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webflux --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-websocket --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jsoup"],"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677502539,"answer_count":0,"score":0,"last_activity_date":1677502359,"creation_date":1677501738,"question_id":75580626,"body_markdown":"```\r\nDocument doc = Jsoup.parse(body);\r\n\r\ndoc.selectFirst(&quot;head&quot;).child(0).before(&quot;&lt;meta charset=\\&quot;utf-8\\&quot;/&gt;&quot;);\r\n```\r\nIn final HTML It is coming like this \r\n\r\n```\r\n&lt;meta charset=&quot;utf-8&quot;&gt;\r\n\r\n```\r\nI&#39;m Expecting like this\r\n\r\n```\r\n&lt;meta charset=&quot;utf-8&quot; /&gt;.\r\n```","title":"Not able to add self closing tag to meta in jsoup","body":"<pre><code>Document doc = Jsoup.parse(body);\n\ndoc.selectFirst(&quot;head&quot;).child(0).before(&quot;&lt;meta charset=\\&quot;utf-8\\&quot;/&gt;&quot;);\n</code></pre>\n<p>In final HTML It is coming like this</p>\n<pre><code>&lt;meta charset=&quot;utf-8&quot;&gt;\n\n</code></pre>\n<p>I'm Expecting like this</p>\n<pre><code>&lt;meta charset=&quot;utf-8&quot; /&gt;.\n</code></pre>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1575649539,"post_id":59216784,"comment_id":104649652,"body_markdown":"*&quot;the array is not being properly sorted and the end is not decrementing&quot;* - how have you determined this? Give an example of an input, expected result and actual result. See [ask] and [mcve].","body":"<i>&quot;the array is not being properly sorted and the end is not decrementing&quot;</i> - how have you determined this? Give an example of an input, expected result and actual result. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4503838,"reputation":955,"user_id":3661738,"display_name":"Tyler"},"score":0,"creation_date":1575649725,"post_id":59216784,"comment_id":104649734,"body_markdown":"The inner while loop (`while(a[start]&lt;=pivot)`) goes out of bounds in this example, because it does not get caught by the outer start&lt;end loop","body":"The inner while loop (<code>while(a[start]&lt;=pivot)</code>) goes out of bounds in this example, because it does not get caught by the outer start&lt;end loop"},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1575658139,"post_id":59216784,"comment_id":104653027,"body_markdown":"Welcome to StackOverflow. See [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified.","body":"Welcome to StackOverflow. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified."}],"answers":[{"tags":[],"owner":{"account_id":14601312,"reputation":21,"user_id":10545665,"display_name":"user607464"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575895787,"creation_date":1575895787,"answer_id":59249272,"question_id":59216784,"body_markdown":"        class QuickSort \r\n    { \r\n    \tint partition(int arr[], int low, int high) \r\n    \t{ \r\n    \t\tint pivot = arr[high]; \r\n    \t\tint i = (low-1); // index of smaller element \r\n    \t\tfor (int j=low; j&lt;high; j++) \r\n    \t\t{ \r\n    \t\t\t// If current element is smaller than the pivot \r\n    \t\t\tif (arr[j] &lt; pivot) \r\n    \t\t\t{ \r\n    \t\t\t\ti++; \r\n    \r\n    \t\t\t\t// swap arr[i] and arr[j] \r\n    \t\t\t\tint temp = arr[i]; \r\n    \t\t\t\tarr[i] = arr[j]; \r\n    \t\t\t\tarr[j] = temp; \r\n    \t\t\t} \r\n    \t\t} \r\n    \r\n    \t\t// swap arr[i+1] and arr[high] (or pivot) \r\n    \t\tint temp = arr[i+1]; \r\n    \t\tarr[i+1] = arr[high]; \r\n    \t\tarr[high] = temp; \r\n    \r\n    \t\treturn i+1; \r\n    \t} \r\n    \r\n    \tvoid sort(int arr[], int low, int high) \r\n    \t{ \r\n    \t\tif (low &lt; high) \r\n    \t\t{ \r\n    \t\t\t/* pi is partitioning index, arr[pi] is \r\n    \t\t\tnow at right place */\r\n    \t\t\tint pi = partition(arr, low, high); \r\n    \r\n    \t\t\t// Recursively sort elements before \r\n    \t\t\t// partition and after partition \r\n    \t\t\tsort(arr, low, pi-1); \r\n    \t\t\tsort(arr, pi+1, high); \r\n    \t\t} \r\n    \t} \r\n    \r\n    \t/* A utility function to print array of size n */\r\n    \tstatic void printArray(int arr[]) \r\n    \t{ \r\n    \t\tint n = arr.length; \r\n    \t\tfor (int i=0; i&lt;n; ++i) \r\n    \t\t\tSystem.out.print(arr[i]+&quot; &quot;); \r\n    \t\tSystem.out.println(); \r\n    \t} \r\n    \r\n    \t// Driver program \r\n    \tpublic static void main(String args[]) \r\n    \t{ \r\n    \t\tint arr[] = {4,5,6,3,10,12,45,17}; \r\n    \t\tint n = arr.length; \r\n    \r\n    \t\tQuickSort ob = new QuickSort(); \r\n    \t\tob.sort(arr, 0, n-1); \r\n    \r\n    \t\tSystem.out.println(&quot;sorted array&quot;); \r\n    \t\tprintArray(arr); \r\n    \t} \r\n    } \r\n\r\nOUTPUT:\r\nsorted array\r\n3 4 5 6 10 12 17 45\r\n\r\nthe above code works for the array you have defined you can use this code,If you still have confusing about quick sort you are free to ask in comments.\r\n\r\n","title":"quicksort code in java is not running properly?","body":"<pre><code>    class QuickSort \n{ \n    int partition(int arr[], int low, int high) \n    { \n        int pivot = arr[high]; \n        int i = (low-1); // index of smaller element \n        for (int j=low; j&lt;high; j++) \n        { \n            // If current element is smaller than the pivot \n            if (arr[j] &lt; pivot) \n            { \n                i++; \n\n                // swap arr[i] and arr[j] \n                int temp = arr[i]; \n                arr[i] = arr[j]; \n                arr[j] = temp; \n            } \n        } \n\n        // swap arr[i+1] and arr[high] (or pivot) \n        int temp = arr[i+1]; \n        arr[i+1] = arr[high]; \n        arr[high] = temp; \n\n        return i+1; \n    } \n\n    void sort(int arr[], int low, int high) \n    { \n        if (low &lt; high) \n        { \n            /* pi is partitioning index, arr[pi] is \n            now at right place */\n            int pi = partition(arr, low, high); \n\n            // Recursively sort elements before \n            // partition and after partition \n            sort(arr, low, pi-1); \n            sort(arr, pi+1, high); \n        } \n    } \n\n    /* A utility function to print array of size n */\n    static void printArray(int arr[]) \n    { \n        int n = arr.length; \n        for (int i=0; i&lt;n; ++i) \n            System.out.print(arr[i]+\" \"); \n        System.out.println(); \n    } \n\n    // Driver program \n    public static void main(String args[]) \n    { \n        int arr[] = {4,5,6,3,10,12,45,17}; \n        int n = arr.length; \n\n        QuickSort ob = new QuickSort(); \n        ob.sort(arr, 0, n-1); \n\n        System.out.println(\"sorted array\"); \n        printArray(arr); \n    } \n} \n</code></pre>\n\n<p>OUTPUT:\nsorted array\n3 4 5 6 10 12 17 45</p>\n\n<p>the above code works for the array you have defined you can use this code,If you still have confusing about quick sort you are free to ask in comments.</p>\n"},{"tags":[],"owner":{"account_id":26813232,"reputation":11,"user_id":20403505,"display_name":"Harshwardhan Deshmukh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677502314,"creation_date":1677502314,"answer_id":75580725,"question_id":59216784,"body_markdown":"In the partition function, along with the condition a[start]&lt;= pivot add the condition start&lt;=ub and in the a[end]&gt;pivot add the condition end&gt;=lb\r\nIt will not give  ArrayOutOfBounds error.\r\nThe above code works logic works fine in C but in java you require these 2 conditions in Java.","title":"quicksort code in java is not running properly?","body":"<p>In the partition function, along with the condition a[start]&lt;= pivot add the condition start&lt;=ub and in the a[end]&gt;pivot add the condition end&gt;=lb\nIt will not give  ArrayOutOfBounds error.\nThe above code works logic works fine in C but in java you require these 2 conditions in Java.</p>\n"}],"owner":{"account_id":16475846,"reputation":108,"user_id":11903852,"display_name":"Aquib Shaikh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1677502314,"creation_date":1575649239,"question_id":59216784,"body_markdown":"I am stuck on this from a while now... the array is not being properly sorted and the end is not decrementing can someone help out on what mistake I am exactly making here?\r\nI tried and looked for hours but cannot find the bug exactly. You can clearly see in the output that end is not decrementing and the sorting of the array is not proper as 17 is last and 45 is second last element. Also there is Error of ArrayOutOfBounds. \r\n\r\n\r\n\r\n\r\n\r\n\r\ncode:\r\n\r\n         public class Program{\r\n\r\n\t    public static void main(String[] args) {\r\n\t    int [] ar={4,5,6,3,10,12,45,17};\r\n\t    int l=0;\r\n\t    int h=ar.length-1;\r\n\t \r\n\t    quickSort(ar,l,h);\r\n\t    \r\n\t\t\r\n\t}\r\n\t\tstatic void quickSort(int [] arr,int lb,int ub){\r\n\t    int z;\r\n\t    if(lb&lt;ub){\r\n\t    z=partition(arr,lb,ub);\r\n\t    quickSort(arr,lb,z-1);\r\n\t    quickSort(arr,z+1,ub);\r\n\t    }\r\n\t    \r\n\t    for(int i=0;i&lt;arr.length;i++){\r\n\t        System.out.println(arr[i]);\r\n\t    }\r\n\t}\r\n\t\r\n\t\r\n\tstatic int partition(int [] a,int lb,int ub){\r\n\t    int pivot=a[lb];\r\n\t    int start=lb;\r\n\t    int end=ub;\r\n       //If I put end=ub-1 here then it shows index-1. \r\n       //so I have not options left to do that the Error is coming eitherway.\r\n\t    System.out.println(&quot;start is &quot;+start);\r\n\t    System.out.println(&quot;End is &quot;+end);\r\n\r\n\t    while(start&lt;end){\r\n\t        while(a[start]&lt;=pivot){\r\n\t            start++;\r\n\t        }\r\n\t        while(a[end]&gt;pivot){\r\n\t            end--;\r\n\t        }\r\n\t        if(start&lt;end){\r\n\t        int temp0=a[start];\r\n\t        int temp1=a[end];\r\n\t        a[start]=temp1;\r\n\t        a[end]=temp0;\r\n\t        }\r\n\r\n\t    }\r\n\t    \tint temp2=a[lb];\r\n\t        int temp3=a[end];\r\n\t        a[lb]=temp3;\r\n\t        a[end]=temp2;\r\n\t        return end;\r\n\t}\r\n    }\r\n\r\n    output:\r\n    start is 0\r\n    End is 7\r\n    3\r\n    4\r\n    6\r\n    5\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 2\r\n    End is 7\r\n    3\r\n    4\r\n    5\r\n    6\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 4\r\n    End is 7\r\n    3\r\n    4\r\n    5\r\n    6\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 5\r\n    End is 7\r\n    3\r\n    4\r\n    5\r\n    6\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 6\r\n    End is 7\r\n    \r\n    \r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\r\n    \tat Program.partition(Program.java:35)\r\n    \tat Program.quickSort(Program.java:16)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.main(Program.java:9)\r\n\t \r\n\t    \r\n\r\n\r\n","title":"quicksort code in java is not running properly?","body":"<p>I am stuck on this from a while now... the array is not being properly sorted and the end is not decrementing can someone help out on what mistake I am exactly making here?\nI tried and looked for hours but cannot find the bug exactly. You can clearly see in the output that end is not decrementing and the sorting of the array is not proper as 17 is last and 45 is second last element. Also there is Error of ArrayOutOfBounds. </p>\n\n<p>code:</p>\n\n<pre><code>     public class Program{\n\n    public static void main(String[] args) {\n    int [] ar={4,5,6,3,10,12,45,17};\n    int l=0;\n    int h=ar.length-1;\n\n    quickSort(ar,l,h);\n\n\n}\n    static void quickSort(int [] arr,int lb,int ub){\n    int z;\n    if(lb&lt;ub){\n    z=partition(arr,lb,ub);\n    quickSort(arr,lb,z-1);\n    quickSort(arr,z+1,ub);\n    }\n\n    for(int i=0;i&lt;arr.length;i++){\n        System.out.println(arr[i]);\n    }\n}\n\n\nstatic int partition(int [] a,int lb,int ub){\n    int pivot=a[lb];\n    int start=lb;\n    int end=ub;\n   //If I put end=ub-1 here then it shows index-1. \n   //so I have not options left to do that the Error is coming eitherway.\n    System.out.println(\"start is \"+start);\n    System.out.println(\"End is \"+end);\n\n    while(start&lt;end){\n        while(a[start]&lt;=pivot){\n            start++;\n        }\n        while(a[end]&gt;pivot){\n            end--;\n        }\n        if(start&lt;end){\n        int temp0=a[start];\n        int temp1=a[end];\n        a[start]=temp1;\n        a[end]=temp0;\n        }\n\n    }\n        int temp2=a[lb];\n        int temp3=a[end];\n        a[lb]=temp3;\n        a[end]=temp2;\n        return end;\n}\n}\n\noutput:\nstart is 0\nEnd is 7\n3\n4\n6\n5\n10\n12\n45\n17\nstart is 2\nEnd is 7\n3\n4\n5\n6\n10\n12\n45\n17\nstart is 4\nEnd is 7\n3\n4\n5\n6\n10\n12\n45\n17\nstart is 5\nEnd is 7\n3\n4\n5\n6\n10\n12\n45\n17\nstart is 6\nEnd is 7\n\n\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\n    at Program.partition(Program.java:35)\n    at Program.quickSort(Program.java:16)\n    at Program.quickSort(Program.java:18)\n    at Program.quickSort(Program.java:18)\n    at Program.quickSort(Program.java:18)\n    at Program.quickSort(Program.java:18)\n    at Program.main(Program.java:9)\n</code></pre>\n"},{"tags":["java","http","web-services","http-status-code-401","dynamics-business-central"],"answers":[{"comments":[{"owner":{"account_id":21497696,"reputation":15,"user_id":15842461,"display_name":"MTM"},"score":0,"creation_date":1621500135,"post_id":67598279,"comment_id":119516319,"body_markdown":"Thanks for replying.\nI already created the key and tested it with postman, accessing with the Authentication on the header manually. It works.\nThe problem is that it doesn&#39;t work on my code, and I don&#39;t know if I am missing anything.\nThank you!","body":"Thanks for replying. I already created the key and tested it with postman, accessing with the Authentication on the header manually. It works. The problem is that it doesn&#39;t work on my code, and I don&#39;t know if I am missing anything. Thank you!"},{"owner":{"account_id":21497696,"reputation":15,"user_id":15842461,"display_name":"MTM"},"score":0,"creation_date":1622193336,"post_id":67598279,"comment_id":119727278,"body_markdown":"Yes I am really sorry that I didn&#39;t put the code correctly, as I&#39;ve tried already so many things, I didn&#39;t change it... However, still didn&#39;t do the trick for it. You have my vote anyways","body":"Yes I am really sorry that I didn&#39;t put the code correctly, as I&#39;ve tried already so many things, I didn&#39;t change it... However, still didn&#39;t do the trick for it. You have my vote anyways"}],"tags":[],"owner":{"account_id":810469,"reputation":16247,"user_id":913935,"accept_rate":80,"display_name":"kaspermoerch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621514104,"creation_date":1621407220,"answer_id":67598279,"question_id":67582919,"body_markdown":"You need to make sure that the user you are trying to authenticate with has a Web Services Access Key.\r\n\r\nThen you must use the Web Services Access Key as the password when authenticating.\r\n\r\n----------\r\n\r\nIt does also appear that you are missing a `space` after `Basic` in this line of code:\r\n\r\n    hd.addHeader(&quot;Authorization&quot;, &quot;Basic&quot; + authEncBytes);\r\n\r\nIt should probably be\r\n\r\n    hd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);","title":"How can I consume web service from business central (Java)?","body":"<p>You need to make sure that the user you are trying to authenticate with has a Web Services Access Key.</p>\n<p>Then you must use the Web Services Access Key as the password when authenticating.</p>\n<hr />\n<p>It does also appear that you are missing a <code>space</code> after <code>Basic</code> in this line of code:</p>\n<pre><code>hd.addHeader(&quot;Authorization&quot;, &quot;Basic&quot; + authEncBytes);\n</code></pre>\n<p>It should probably be</p>\n<pre><code>hd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21497696,"reputation":15,"user_id":15842461,"display_name":"MTM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622193394,"creation_date":1622193394,"answer_id":67736119,"question_id":67582919,"body_markdown":"**SOLUTION**\r\n\r\nOkay so after receiving a course, they told me that Basic Authorization is deprecated and they use now OAuth 2...\r\n\r\nThanks for replying\r\n\r\nGreetings","title":"How can I consume web service from business central (Java)?","body":"<p><strong>SOLUTION</strong></p>\n<p>Okay so after receiving a course, they told me that Basic Authorization is deprecated and they use now OAuth 2...</p>\n<p>Thanks for replying</p>\n<p>Greetings</p>\n"}],"owner":{"account_id":21497696,"reputation":15,"user_id":15842461,"display_name":"MTM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67736119,"answer_count":2,"score":-1,"last_activity_date":1677501830,"creation_date":1621327844,"question_id":67582919,"body_markdown":"I want to consume Business Central Web service so I can add it to an existing web application. \r\n\r\nI have tried:\r\n\r\n - Testing with Postman using Authorization header (works)\r\n - Testing SoapUI (works)\r\n\r\nBut I am getting this error:\r\n\r\n     com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection post\r\n    SEVERE: SAAJ0008: Bad Response; Unauthorized\r\n    Exception in thread &quot;main&quot; com.sun.xml.messaging.saaj.SOAPExceptionImpl: java.security.PrivilegedActionException: com.sun.xml.messaging.saaj.SOAPExceptionImpl: Bad response: (401Unauthorized\r\n     at com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection.call(HttpSOAPConnection.java:171)\r\n\r\n\r\nCode:\r\n\r\n```java\r\nString webPage = &quot;https://api.businesscentral.dynamics.com/v2.0/&lt;tenant&gt;/...&quot;;\r\nString name = &quot;username&quot;;\r\nString password = &quot;password&quot;;\r\nString authString = name + &quot;:&quot; + password;\r\n\r\nString authEncBytes = new String(Base64.getEncoder().encode(authString.getBytes(StandardCharsets.UTF_8)));\r\nString authStringEnc = new String(authEncBytes);\r\n\r\nURL url = new URL(webPage);\r\nURLConnection urlConnection = url.openConnection();\r\nurlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc);\r\nMessageFactory messageFactory = MessageFactory.newInstance();\r\nSOAPMessage soapMessage = messageFactory.createMessage();\r\nSOAPPart soapPart = soapMessage.getSOAPPart();\r\n\r\n// SOAP Envelope\r\nSOAPEnvelope envelope = soapPart.getEnvelope();\r\nenvelope.getHeader().detachNode();\r\nenvelope.addHeader();\r\nMimeHeaders hd = soapMessage.getMimeHeaders();\r\nhd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);\r\nSOAPBody soapBodytxaber = envelope.getBody();\r\nenvelope.addNamespaceDeclaration(&quot;myNamespace&quot;, &quot;uri&quot;);\r\nSOAPElement soapBodyElem0txa = soapBodytxaber.addChildElement(&quot;Read&quot;, &quot;myNamespace&quot;);\r\nSOAPElement soapBodyElem1txa = soapBodyElem0txa.addChildElement(&quot;No&quot;, &quot;myNamespace&quot;);\r\nsoapBodyElem1txa.addTextNode(&quot;00000058&quot;);\r\n\r\nSOAPConnectionFactory soapConnectionFactory = OAPConnectionFactory.newInstance();\r\nSOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\nsoapMessage.saveChanges();\r\n\r\nSOAPMessage soapResponse = soapConnection.call(soapMessage, url);\r\n```\r\n","title":"How can I consume web service from business central (Java)?","body":"<p>I want to consume Business Central Web service so I can add it to an existing web application.</p>\n<p>I have tried:</p>\n<ul>\n<li>Testing with Postman using Authorization header (works)</li>\n<li>Testing SoapUI (works)</li>\n</ul>\n<p>But I am getting this error:</p>\n<pre><code> com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection post\nSEVERE: SAAJ0008: Bad Response; Unauthorized\nException in thread &quot;main&quot; com.sun.xml.messaging.saaj.SOAPExceptionImpl: java.security.PrivilegedActionException: com.sun.xml.messaging.saaj.SOAPExceptionImpl: Bad response: (401Unauthorized\n at com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection.call(HttpSOAPConnection.java:171)\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String webPage = &quot;https://api.businesscentral.dynamics.com/v2.0/&lt;tenant&gt;/...&quot;;\nString name = &quot;username&quot;;\nString password = &quot;password&quot;;\nString authString = name + &quot;:&quot; + password;\n\nString authEncBytes = new String(Base64.getEncoder().encode(authString.getBytes(StandardCharsets.UTF_8)));\nString authStringEnc = new String(authEncBytes);\n\nURL url = new URL(webPage);\nURLConnection urlConnection = url.openConnection();\nurlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc);\nMessageFactory messageFactory = MessageFactory.newInstance();\nSOAPMessage soapMessage = messageFactory.createMessage();\nSOAPPart soapPart = soapMessage.getSOAPPart();\n\n// SOAP Envelope\nSOAPEnvelope envelope = soapPart.getEnvelope();\nenvelope.getHeader().detachNode();\nenvelope.addHeader();\nMimeHeaders hd = soapMessage.getMimeHeaders();\nhd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);\nSOAPBody soapBodytxaber = envelope.getBody();\nenvelope.addNamespaceDeclaration(&quot;myNamespace&quot;, &quot;uri&quot;);\nSOAPElement soapBodyElem0txa = soapBodytxaber.addChildElement(&quot;Read&quot;, &quot;myNamespace&quot;);\nSOAPElement soapBodyElem1txa = soapBodyElem0txa.addChildElement(&quot;No&quot;, &quot;myNamespace&quot;);\nsoapBodyElem1txa.addTextNode(&quot;00000058&quot;);\n\nSOAPConnectionFactory soapConnectionFactory = OAPConnectionFactory.newInstance();\nSOAPConnection soapConnection = soapConnectionFactory.createConnection();\nsoapMessage.saveChanges();\n\nSOAPMessage soapResponse = soapConnection.call(soapMessage, url);\n</code></pre>\n"},{"tags":["java","oracle","date"],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1677501836,"post_id":75577803,"comment_id":133343901,"body_markdown":"*&quot;All this has been covered many times on Stack Overflow&quot;* and yet there&#39;s no duplicate? Either close as dupe, or if there is none then remove this statement. It makes indeed no sense to repeat the same thing over and over.","body":"<i>&quot;All this has been covered many times on Stack Overflow&quot;</i> and yet there&#39;s no duplicate? Either close as dupe, or if there is none then remove this statement. It makes indeed no sense to repeat the same thing over and over."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677488054,"creation_date":1677483401,"answer_id":75577803,"question_id":75577203,"body_markdown":"# Avoid legacy classes\r\n\r\nNever use either `Date` class. Both are part of the terrible date-time legacy classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# `LocalDate`\r\n\r\nFor a date-only value, use `LocalDate` class.\r\n\r\nYour input string complies with the “basic” variation of the [ISO 8601][1] standard format, YYYYMMDD. So use the predefined formatter, [`DateTimeFormatter.BASIC_ISO_DATE`][2].\r\n\r\n    String input = &quot;19990715&quot; ;\r\n    LocalDate birthDate = LocalDate.parse( input , DateTimeFormatter.BASIC_ISO_DATE ) ;\r\n\r\nWrite your SQL like the following. \r\n\r\nTip: Use trailing underscore in all your database naming to avoid collision with reserved keywords. The SQL standard promises explicitly to never use a trailing underscore. See [this Answer](https://stackoverflow.com/a/67351829/642706) by me.\r\n\r\nAnother tip: Use [text blocks][3] for your embedded SQL code.\r\n\r\n```java\r\nString sql  =\r\n        &quot;&quot;&quot;\r\n        INSERT INTO member_ ( id_ , birth_date_ ) \r\n        VALUES ( ? , ? ) \r\n        ;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nExchange the `LocalDate` object for writing to database.\r\n\r\n    myPreparedStatement.setObject( 2 , birthDate ) ;\r\n\r\nWhen retrieving the data value from the database.\r\n\r\n    LocalDate birthDate = myResultSet.getObject( … , LocalDate.class ) ;\r\n\r\nAll this has been covered many times on Stack Overflow. Search to learn more. You will find complete source code for example apps that create a table, insert rows, and retrieve rows.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE\r\n  [3]: https://openjdk.org/jeps/378","title":"How to insert a String into Oracle as a date type","body":"<h1>Avoid legacy classes</h1>\n<p>Never use either <code>Date</code> class. Both are part of the terrible date-time legacy classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><code>LocalDate</code></h1>\n<p>For a date-only value, use <code>LocalDate</code> class.</p>\n<p>Your input string complies with the “basic” variation of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard format, YYYYMMDD. So use the predefined formatter, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.BASIC_ISO_DATE</code></a>.</p>\n<pre><code>String input = &quot;19990715&quot; ;\nLocalDate birthDate = LocalDate.parse( input , DateTimeFormatter.BASIC_ISO_DATE ) ;\n</code></pre>\n<p>Write your SQL like the following.</p>\n<p>Tip: Use trailing underscore in all your database naming to avoid collision with reserved keywords. The SQL standard promises explicitly to never use a trailing underscore. See <a href=\"https://stackoverflow.com/a/67351829/642706\">this Answer</a> by me.</p>\n<p>Another tip: Use <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a> for your embedded SQL code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql  =\n        &quot;&quot;&quot;\n        INSERT INTO member_ ( id_ , birth_date_ ) \n        VALUES ( ? , ? ) \n        ;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Exchange the <code>LocalDate</code> object for writing to database.</p>\n<pre><code>myPreparedStatement.setObject( 2 , birthDate ) ;\n</code></pre>\n<p>When retrieving the data value from the database.</p>\n<pre><code>LocalDate birthDate = myResultSet.getObject( … , LocalDate.class ) ;\n</code></pre>\n<p>All this has been covered many times on Stack Overflow. Search to learn more. You will find complete source code for example apps that create a table, insert rows, and retrieve rows.</p>\n"}],"owner":{"account_id":27887655,"reputation":1,"user_id":21294714,"display_name":"gm4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677501684,"creation_date":1677477818,"question_id":75577203,"body_markdown":"I have a birthdate as string\r\n\r\n```\r\nString memBirthDate = &quot;19990715&quot;;\r\n```\r\n\r\nand I tried to insert this into oracle by using query below.\r\n\r\n```\r\n&lt;entry key=&quot;insertMember&quot;&gt;\r\n\tINSERT INTO MEMBER\r\n          (\r\n       MEM_BIRTHDATE\r\n           )\r\n      VALUES (\r\n            (TO_DATE)?\r\n             )\r\n           &lt;/entry&gt;\r\n```\r\n\r\nBut it doesn&#39;t work.  I think there&#39;s some problem in my oracle query but I&#39;m not sure.\r\n\r\nWhat should I do?\r\n","title":"How to insert a String into Oracle as a date type","body":"<p>I have a birthdate as string</p>\n<pre><code>String memBirthDate = &quot;19990715&quot;;\n</code></pre>\n<p>and I tried to insert this into oracle by using query below.</p>\n<pre><code>&lt;entry key=&quot;insertMember&quot;&gt;\n    INSERT INTO MEMBER\n          (\n       MEM_BIRTHDATE\n           )\n      VALUES (\n            (TO_DATE)?\n             )\n           &lt;/entry&gt;\n</code></pre>\n<p>But it doesn't work.  I think there's some problem in my oracle query but I'm not sure.</p>\n<p>What should I do?</p>\n"},{"tags":["java","tomcat","java-11","tomcat9"],"comments":[{"owner":{"account_id":5718675,"reputation":1905,"user_id":4517895,"accept_rate":69,"display_name":"Mikhail Chibel"},"score":1,"creation_date":1659670393,"post_id":73231054,"comment_id":129354397,"body_markdown":"I have similar issues in Wildfly 16, exactly after upgrading to 11.0.16.","body":"I have similar issues in Wildfly 16, exactly after upgrading to 11.0.16."},{"owner":{"account_id":310261,"reputation":21,"user_id":623144,"display_name":"zezuha"},"score":0,"creation_date":1660233056,"post_id":73231054,"comment_id":129489702,"body_markdown":"It is very likely that the answer is here: https://stackoverflow.com/a/71585718/623144","body":"It is very likely that the answer is here: <a href=\"https://stackoverflow.com/a/71585718/623144\">stackoverflow.com/a/71585718/623144</a>"}],"answers":[{"comments":[{"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"score":0,"creation_date":1664496820,"post_id":73876858,"comment_id":130491402,"body_markdown":"Thanks for the information. I see the new patch with JDK version 11.0.16.1 has been released for JDK now, so I guess we can use this JDK version to get this issue resolved.","body":"Thanks for the information. I see the new patch with JDK version 11.0.16.1 has been released for JDK now, so I guess we can use this JDK version to get this issue resolved."}],"tags":[],"owner":{"account_id":16357633,"reputation":21,"user_id":11814223,"display_name":"Kritarth Bisht"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664345232,"creation_date":1664345232,"answer_id":73876858,"question_id":73231054,"body_markdown":"The error is from the java side, as in jdk-11.0.16 they have made some changes in cgroups metric calls. As the Cgroups detection logic used JDK-11.0.16 not right on systems which support cgroups v1, but don&#39;t have controllers mounted on a cgroups v1 hierarchy. This issue will be resolved in jdk-11.0.17.","title":"Tomcat Exception: java.lang.reflect.InvocationTargetException after jdk uplift from 11.0.15.1 to 11.0.16","body":"<p>The error is from the java side, as in jdk-11.0.16 they have made some changes in cgroups metric calls. As the Cgroups detection logic used JDK-11.0.16 not right on systems which support cgroups v1, but don't have controllers mounted on a cgroups v1 hierarchy. This issue will be resolved in jdk-11.0.17.</p>\n"}],"owner":{"account_id":16357633,"reputation":21,"user_id":11814223,"display_name":"Kritarth Bisht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73876858,"answer_count":1,"score":1,"last_activity_date":1677501272,"creation_date":1659593446,"question_id":73231054,"body_markdown":"While uplifting the jdk from 11.0.15.1 to 11.0.16 facing following error in the tomcat logs.\r\n**For 11.0.15.1 the tomcat (9.0.65) was working fine with no jdk related error.**\r\n\r\n```Exception in thread &quot;main&quot; java.lang.InternalError: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:67)\r\n        at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\r\n        at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\r\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\r\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\r\n        at java.management/java.lang.management.ManagementFactory.lambda$getPlatformMBeanServer$0(ManagementFactory.java:487)\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n        at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1692)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n        at java.management/java.lang.management.ManagementFactory.getPlatformMBeanServer(ManagementFactory.java:488)\r\n        at org.apache.tomcat.util.modeler.Registry.getMBeanServer(Registry.java:463)\r\n        at org.apache.catalina.util.LifecycleMBeanBase.initInternal(LifecycleMBeanBase.java:55)\r\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:997)\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:724)\r\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:63)\r\n        ... 27 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n        at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:94)\r\n        at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\r\n        ... 32 more\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 1\r\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.initSubsystem(CgroupV2Subsystem.java:72)\r\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.&lt;clinit&gt;(CgroupV2Subsystem.java:43)\r\n        ... 34 more\r\n```\r\nCan someone please tell how to resolve the same?","title":"Tomcat Exception: java.lang.reflect.InvocationTargetException after jdk uplift from 11.0.15.1 to 11.0.16","body":"<p>While uplifting the jdk from 11.0.15.1 to 11.0.16 facing following error in the tomcat logs.\n<strong>For 11.0.15.1 the tomcat (9.0.65) was working fine with no jdk related error.</strong></p>\n<pre><code>        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:67)\n        at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\n        at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\n        at java.management/java.lang.management.ManagementFactory.lambda$getPlatformMBeanServer$0(ManagementFactory.java:487)\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n        at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1692)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n        at java.management/java.lang.management.ManagementFactory.getPlatformMBeanServer(ManagementFactory.java:488)\n        at org.apache.tomcat.util.modeler.Registry.getMBeanServer(Registry.java:463)\n        at org.apache.catalina.util.LifecycleMBeanBase.initInternal(LifecycleMBeanBase.java:55)\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:997)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:724)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:63)\n        ... 27 more\nCaused by: java.lang.ExceptionInInitializerError\n        at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:94)\n        at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\n        ... 32 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 1\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.initSubsystem(CgroupV2Subsystem.java:72)\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.&lt;clinit&gt;(CgroupV2Subsystem.java:43)\n        ... 34 more\n</code></pre>\n<p>Can someone please tell how to resolve the same?</p>\n"},{"tags":["java","spring","spring-boot","mariadb","flyway"],"answers":[{"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1671345518,"post_id":74838127,"comment_id":132077221,"body_markdown":"Do you have reference doc where above path changes are mentioned w.r.t spring boot version. I have checked the flyway, spring boot documentations and spring boot migrations documentation but nowhere able to find this change.","body":"Do you have reference doc where above path changes are mentioned w.r.t spring boot version. I have checked the flyway, spring boot documentations and spring boot migrations documentation but nowhere able to find this change."},{"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"score":0,"creation_date":1671463166,"post_id":74838127,"comment_id":132098687,"body_markdown":"@KunalVarpe It is NOT a spring boot 3 problem. It was a problem, that occurred while copying my spring boot 2.7 project to my spring boot 3 project.","body":"@KunalVarpe It is NOT a spring boot 3 problem. It was a problem, that occurred while copying my spring boot 2.7 project to my spring boot 3 project."},{"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"score":0,"creation_date":1671463365,"post_id":74838127,"comment_id":132098774,"body_markdown":"I have edited my answer to make the problem clearer","body":"I have edited my answer to make the problem clearer"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671463859,"post_id":74838127,"comment_id":132098938,"body_markdown":"If the steps here resolve your problem, please accept your own answer instead of editing the title of the question","body":"If the steps here resolve your problem, please accept your own answer instead of editing the title of the question"},{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":1,"creation_date":1671466268,"post_id":74838127,"comment_id":132099818,"body_markdown":"Perhaps it is best to specify `spring.flyway.locations` in `application.properties` to avoid situations exactly like this one.","body":"Perhaps it is best to specify <code>spring.flyway.locations</code> in <code>application.properties</code> to avoid situations exactly like this one."},{"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"score":0,"creation_date":1671563966,"post_id":74838127,"comment_id":132125105,"body_markdown":"@cyberbrain I have done. (It takes some time until it is possible ;))","body":"@cyberbrain I have done. (It takes some time until it is possible ;))"}],"tags":[],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671463281,"creation_date":1671319129,"answer_id":74838127,"question_id":74838077,"body_markdown":"It was a folder problem:\r\n\r\n-&gt; My current folder-structure (file-system) of Spring Boot 2.7.6 project:\r\n`../src/main/resources/db/migration/`\r\n\r\n-&gt; My current folder-structure (file-system) of Spring Boot 3.0.0 project:\r\n`../src/main/resources/db.migration/`\r\n\r\nAfter setting the folder structure of the Spring Boot 3.0.0 project to the one of the Spring Boot 2.7.7 project, it works well, even with Spring Boot 3.0.0 :)\r\n\r\nSo, the problem, was not a spring boot migration problem, just a path problem.","title":"flyway migrations not found with spring boot 3","body":"<p>It was a folder problem:</p>\n<p>-&gt; My current folder-structure (file-system) of Spring Boot 2.7.6 project:\n<code>../src/main/resources/db/migration/</code></p>\n<p>-&gt; My current folder-structure (file-system) of Spring Boot 3.0.0 project:\n<code>../src/main/resources/db.migration/</code></p>\n<p>After setting the folder structure of the Spring Boot 3.0.0 project to the one of the Spring Boot 2.7.7 project, it works well, even with Spring Boot 3.0.0 :)</p>\n<p>So, the problem, was not a spring boot migration problem, just a path problem.</p>\n"}],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2989,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74838127,"answer_count":1,"score":2,"last_activity_date":1677501054,"creation_date":1671318352,"question_id":74838077,"body_markdown":"There is a SQL script `V1.0.0_01__Init_from_ddl.sql` in `/src/main/resources/db/migration` which initializes my database.\r\n\r\n-&gt; Running **Spring Boot 2.7.6**, this migration script is completely executed without any error.\r\n\r\n-&gt; Running **Spring Boot 3.0.0**, it says: `No migrations found. Are your locations set up correctly?`\r\n\r\nI have not changed any properties regarding flyway. My database connection (MariaDB 10.6) is fine.\r\n\r\nI have tried to rename the file to `V1__Init.sql` or `V1_0_0__Init.sql` (any many more tries) without any success.\r\n\r\nAny ideas, what is going wrong?","title":"flyway migrations not found with spring boot 3","body":"<p>There is a SQL script <code>V1.0.0_01__Init_from_ddl.sql</code> in <code>/src/main/resources/db/migration</code> which initializes my database.</p>\n<p>-&gt; Running <strong>Spring Boot 2.7.6</strong>, this migration script is completely executed without any error.</p>\n<p>-&gt; Running <strong>Spring Boot 3.0.0</strong>, it says: <code>No migrations found. Are your locations set up correctly?</code></p>\n<p>I have not changed any properties regarding flyway. My database connection (MariaDB 10.6) is fine.</p>\n<p>I have tried to rename the file to <code>V1__Init.sql</code> or <code>V1_0_0__Init.sql</code> (any many more tries) without any success.</p>\n<p>Any ideas, what is going wrong?</p>\n"},{"tags":["java","jwt","quarkus"],"owner":{"account_id":27832094,"reputation":11,"user_id":21250315,"display_name":"Roberto Galindos Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677501009,"creation_date":1677501009,"question_id":75580517,"body_markdown":"**I have a publickey.pem file located inside the resource folder of a Jar library**. I have a dependency with that library in my project and I use that file indicating it in the property\r\n\r\n`mp.jwt.verify.publickey.location=publickey.pem`\r\n\r\nIn **Quarkus version 2.13 it worked fine** and I could find the file, but **after upgrading to version 2.16 it stopped working** and I got this error: \r\n\r\n`SRJWT02002: Failed to read the public key content from &#39;mp.jwt.verify.publickey.location&#39;`\r\n\r\nI haven&#39;t changed anything else in the code, and if I switch back to version 2.13 it works again.\r\n\r\nDo you know if anything has changed between these versions and I need to add some new property or something?\r\n\r\n\r\nI have tried to copy the publickey.pem file to the resource folder of the project and it works in Quarkus 2.16. But if it is in the resource folder of a jar library it does not find it. In Quarkus 2.13 it did find it.","title":"Error: &quot;SRJWT02002: Failed to read the public key content from &#39;mp.jwt.verify.publickey.location&#39;&quot; with the file inside a Jar","body":"<p><strong>I have a publickey.pem file located inside the resource folder of a Jar library</strong>. I have a dependency with that library in my project and I use that file indicating it in the property</p>\n<p><code>mp.jwt.verify.publickey.location=publickey.pem</code></p>\n<p>In <strong>Quarkus version 2.13 it worked fine</strong> and I could find the file, but <strong>after upgrading to version 2.16 it stopped working</strong> and I got this error:</p>\n<p><code>SRJWT02002: Failed to read the public key content from 'mp.jwt.verify.publickey.location'</code></p>\n<p>I haven't changed anything else in the code, and if I switch back to version 2.13 it works again.</p>\n<p>Do you know if anything has changed between these versions and I need to add some new property or something?</p>\n<p>I have tried to copy the publickey.pem file to the resource folder of the project and it works in Quarkus 2.16. But if it is in the resource folder of a jar library it does not find it. In Quarkus 2.13 it did find it.</p>\n"},{"tags":["java","sql","spring-data-jpa"],"comments":[{"owner":{"account_id":20873194,"reputation":31568,"user_id":15332650,"display_name":"Stu"},"score":3,"creation_date":1677366421,"post_id":75568929,"comment_id":133324531,"body_markdown":"I would suggest you properly normalise your data, storing delimited data is a common anti-pattern making your solution harder and poor performing than it need be.","body":"I would suggest you properly normalise your data, storing delimited data is a common anti-pattern making your solution harder and poor performing than it need be."},{"owner":{"account_id":24165,"reputation":274981,"user_id":61305,"display_name":"Aaron Bertrand"},"score":1,"creation_date":1677368068,"post_id":75568929,"comment_id":133324728,"body_markdown":"What version of SQL Server are you using? Don&#39;t make us guess, it just makes it harder to help you.","body":"What version of SQL Server are you using? Don&#39;t make us guess, it just makes it harder to help you."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1677396757,"post_id":75568929,"comment_id":133327018,"body_markdown":"@AaronBertrand i do not use SQL server, actually i am Java developer using Java and Spring data framework, i wanted to find a logical SQL query at the first step then i should convert it for Java, so you can consider i am using SQL 2016 and later versions","body":"@AaronBertrand i do not use SQL server, actually i am Java developer using Java and Spring data framework, i wanted to find a logical SQL query at the first step then i should convert it for Java, so you can consider i am using SQL 2016 and later versions"},{"owner":{"account_id":24165,"reputation":274981,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1677444694,"post_id":75568929,"comment_id":133334521,"body_markdown":"I don&#39;t understand - you don&#39;t use SQL Server? Why is it tagged SQL Server?","body":"I don&#39;t understand - you don&#39;t use SQL Server? Why is it tagged SQL Server?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1677500342,"post_id":75568929,"comment_id":133343497,"body_markdown":"@AaronBertrand you are right, i fixed the tags","body":"@AaronBertrand you are right, i fixed the tags"}],"answers":[{"tags":[],"owner":{"account_id":24165,"reputation":274981,"user_id":61305,"display_name":"Aaron Bertrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677368963,"creation_date":1677368963,"answer_id":75569166,"question_id":75568929,"body_markdown":"You want to split both sides and match; assuming SQL Server 2016 or above:\r\n\r\n    SELECT tconst, directors, writers\r\n    FROM dbo.whoknows AS wk\r\n    WHERE EXISTS\r\n    (\r\n      SELECT 1 FROM dbo.whoknows AS t\r\n      CROSS APPLY STRING_SPLIT(directors,&#39;,&#39;) AS d\r\n      CROSS APPLY STRING_SPLIT(writers,  &#39;,&#39;) AS w\r\n      WHERE LTRIM(RTRIM(d.value)) = LTRIM(RTRIM(w.value))\r\n      AND t.tconst = wk.tconst\r\n    );\r\n\r\n(Or properly normalize your tables, as Stu suggested. You shouldn&#39;t combine two names in a single column unless you never, ever, ever need to query against individual names like this.)\r\n\r\n| tconst | directors | writers |\r\n| :------|:---------|:-------|\r\n| 0002 | tom kaver                 | tom kaver                 |\r\n| 0003 | bob marley                | bob marley, nicole jamine |\r\n\r\n- [Working db&lt;&gt;fiddle example](https://dbfiddle.uk/TIBYmby8?hide=4).","title":"Query to find all equal values from 2 list of string columns","body":"<p>You want to split both sides and match; assuming SQL Server 2016 or above:</p>\n<pre><code>SELECT tconst, directors, writers\nFROM dbo.whoknows AS wk\nWHERE EXISTS\n(\n  SELECT 1 FROM dbo.whoknows AS t\n  CROSS APPLY STRING_SPLIT(directors,',') AS d\n  CROSS APPLY STRING_SPLIT(writers,  ',') AS w\n  WHERE LTRIM(RTRIM(d.value)) = LTRIM(RTRIM(w.value))\n  AND t.tconst = wk.tconst\n);\n</code></pre>\n<p>(Or properly normalize your tables, as Stu suggested. You shouldn't combine two names in a single column unless you never, ever, ever need to query against individual names like this.)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">tconst</th>\n<th style=\"text-align: left;\">directors</th>\n<th style=\"text-align: left;\">writers</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">0002</td>\n<td style=\"text-align: left;\">tom kaver</td>\n<td style=\"text-align: left;\">tom kaver</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">0003</td>\n<td style=\"text-align: left;\">bob marley</td>\n<td style=\"text-align: left;\">bob marley, nicole jamine</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li><a href=\"https://dbfiddle.uk/TIBYmby8?hide=4\" rel=\"nofollow noreferrer\">Working db&lt;&gt;fiddle example</a>.</li>\n</ul>\n"}],"owner":{"display_name":"anon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677500831,"creation_date":1677365418,"question_id":75568929,"body_markdown":"I have this data:\r\n\r\n    tconst   directors                    writers\r\n    0001     gorge miller, johny amido    sarah blake\r\n    0002,    tom kaver                    tom kaver\r\n    0003,    bob marley                   bob marley, nicole jamine\r\n\r\nI want to write a query to find all items (between directors and writers columns) that its directors and writers are the same or at the least exist one common item, for example, I want to write a query to give me  items: 0002 and 0003 from my table:\r\n   \r\n\r\n    0002,    tom kaver                    tom kaver\r\n    0003,    bob marley                   bob marley, nicole jamine\r\n\r\nThanks for your help.\r\n","title":"Query to find all equal values from 2 list of string columns","body":"<p>I have this data:</p>\n<pre><code>tconst   directors                    writers\n0001     gorge miller, johny amido    sarah blake\n0002,    tom kaver                    tom kaver\n0003,    bob marley                   bob marley, nicole jamine\n</code></pre>\n<p>I want to write a query to find all items (between directors and writers columns) that its directors and writers are the same or at the least exist one common item, for example, I want to write a query to give me  items: 0002 and 0003 from my table:</p>\n<pre><code>0002,    tom kaver                    tom kaver\n0003,    bob marley                   bob marley, nicole jamine\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mongodb"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1677497943,"post_id":75579957,"comment_id":133342890,"body_markdown":"what indexes are defined on the collection? what is the @Id field on the document? please share the entire document code","body":"what indexes are defined on the collection? what is the @Id field on the document? please share the entire document code"},{"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"score":0,"creation_date":1677498394,"post_id":75579957,"comment_id":133342992,"body_markdown":"I&#39;ve updated it to my quesiton.","body":"I&#39;ve updated it to my quesiton."},{"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"score":0,"creation_date":1677498711,"post_id":75579957,"comment_id":133343072,"body_markdown":"I don&#39;t think it has to do with the @Id field.","body":"I don&#39;t think it has to do with the @Id field."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1677499266,"post_id":75579957,"comment_id":133343204,"body_markdown":"do you have an index defined on designer.username? that is the reason mongo is giving you an error. what annotations are on the User class?","body":"do you have an index defined on designer.username? that is the reason mongo is giving you an error. what annotations are on the User class?"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1677500762,"post_id":75579957,"comment_id":133343612,"body_markdown":"then please accept my anwser and mark the question as solved.","body":"then please accept my anwser and mark the question as solved."}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677500742,"creation_date":1677500742,"answer_id":75580472,"question_id":75579957,"body_markdown":"your collection has an index defined on the designer.username field. remove it or provide a unique value to the username, or allow non-unique option on the index.","title":"How do I allow duplicate key for MongoDB in Spring Boot Project?","body":"<p>your collection has an index defined on the designer.username field. remove it or provide a unique value to the username, or allow non-unique option on the index.</p>\n"}],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75580472,"answer_count":1,"score":1,"last_activity_date":1677500742,"creation_date":1677497709,"question_id":75579957,"body_markdown":"This is how my document looks like\r\n\r\n```java\r\n@Getter\r\n@Document(collection = &quot;team&quot;)\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class Team extends BaseTimeEntity {\r\n    ....\r\n    private List&lt;User&gt; designers = new ArrayList&lt;&gt;();\r\n    ....\r\n}\r\n```\r\n\r\nThe `BaseTimeEntity`, which is extending from this class, looks like this.\r\n\r\n```java\r\n@Getter\r\npublic abstract class BaseTimeEntity {\r\n\r\n    @MongoId\r\n    private ObjectId id;\r\n\r\n    @CreatedDate\r\n    @Field(name = &quot;created_date&quot;)\r\n    private LocalDateTime createdDate;\r\n\r\n    @LastModifiedDate\r\n    @Field(name = &quot;modified_date&quot;)\r\n    private LocalDateTime modifiedDate;\r\n\r\n    @Field(name = &quot;is_deleted&quot;)\r\n    protected Boolean isDeleted;\r\n\r\n    @Field(name = &quot;schema_version&quot;)\r\n    protected String schemaVersion = &quot;1.0&quot;;\r\n}\r\n```\r\n\r\nAfter adding a single `Team` data into the database. When I try to create a new data with this class, leaving the `designers` list blank again, I get `org.springframework.dao.DuplicateKeyException`.\r\n\r\nThis is the error msg that I get.\r\n\r\n```\r\norg.springframework.dao.DuplicateKeyException: Write operation error on server \r\nlocalhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error \r\ncollection: gabojait.team index: designer.username dup key: { designer.username: null }&#39;, \r\ndetails={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error \r\non server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate \r\nkey error collection: gabojait.team index: designer.username dup key: { \r\ndesigner.username: null }&#39;, details={}}.\r\n```\r\n\r\n**How do I fix this problem?**","title":"How do I allow duplicate key for MongoDB in Spring Boot Project?","body":"<p>This is how my document looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Document(collection = &quot;team&quot;)\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class Team extends BaseTimeEntity {\n    ....\n    private List&lt;User&gt; designers = new ArrayList&lt;&gt;();\n    ....\n}\n</code></pre>\n<p>The <code>BaseTimeEntity</code>, which is extending from this class, looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic abstract class BaseTimeEntity {\n\n    @MongoId\n    private ObjectId id;\n\n    @CreatedDate\n    @Field(name = &quot;created_date&quot;)\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    @Field(name = &quot;modified_date&quot;)\n    private LocalDateTime modifiedDate;\n\n    @Field(name = &quot;is_deleted&quot;)\n    protected Boolean isDeleted;\n\n    @Field(name = &quot;schema_version&quot;)\n    protected String schemaVersion = &quot;1.0&quot;;\n}\n</code></pre>\n<p>After adding a single <code>Team</code> data into the database. When I try to create a new data with this class, leaving the <code>designers</code> list blank again, I get <code>org.springframework.dao.DuplicateKeyException</code>.</p>\n<p>This is the error msg that I get.</p>\n<pre><code>org.springframework.dao.DuplicateKeyException: Write operation error on server \nlocalhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate key error \ncollection: gabojait.team index: designer.username dup key: { designer.username: null }', \ndetails={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error \non server localhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate \nkey error collection: gabojait.team index: designer.username dup key: { \ndesigner.username: null }', details={}}.\n</code></pre>\n<p><strong>How do I fix this problem?</strong></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs","sqslistener"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1669025871,"post_id":74517284,"comment_id":131540899,"body_markdown":"And your server and worker instances are running the same jar even though they do very different things!?","body":"And your server and worker instances are running the same jar even though they do very different things!?"},{"owner":{"account_id":3737568,"reputation":71,"user_id":3108171,"display_name":"akhil"},"score":0,"creation_date":1669028270,"post_id":74517284,"comment_id":131541686,"body_markdown":"Yes, they are running the same jar. Only the yaml/properties file could be different for server and worker instances","body":"Yes, they are running the same jar. Only the yaml/properties file could be different for server and worker instances"}],"answers":[{"tags":[],"owner":{"account_id":3737568,"reputation":71,"user_id":3108171,"display_name":"akhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677500617,"creation_date":1677500617,"answer_id":75580448,"question_id":74517284,"body_markdown":"I have figured out a way to do it. I have created 2 separate YAML files for server and worker instances and configured a variable `cloud.aws.sqs.autoStart` in both the YAML files. I have kept the value of autoStart as True on the worker instance and as False on the server instance.\r\n\r\nWhile creating the `SimpleMessageListenerContainerFactory` I am using this variable like this:\r\n```\r\n    @Bean\r\n    public SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\r\n        SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\r\n        factory.setAmazonSqs(amazonSqs);\r\n        factory.setAutoStartup(autoStart);\r\n        factory.setMaxNumberOfMessages(5);\r\n\r\n\r\n        return factory;\r\n    }\r\n```\r\n","title":"Disable SqsListener on specific instances","body":"<p>I have figured out a way to do it. I have created 2 separate YAML files for server and worker instances and configured a variable <code>cloud.aws.sqs.autoStart</code> in both the YAML files. I have kept the value of autoStart as True on the worker instance and as False on the server instance.</p>\n<p>While creating the <code>SimpleMessageListenerContainerFactory</code> I am using this variable like this:</p>\n<pre><code>    @Bean\n    public SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\n        SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\n        factory.setAmazonSqs(amazonSqs);\n        factory.setAutoStartup(autoStart);\n        factory.setMaxNumberOfMessages(5);\n\n\n        return factory;\n    }\n</code></pre>\n"}],"owner":{"account_id":3737568,"reputation":71,"user_id":3108171,"display_name":"akhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677500617,"creation_date":1669025579,"question_id":74517284,"body_markdown":"I have a spring boot application where i am using SQS for some async tasks.\r\nI want to configure 2 types of instances in this application:\r\n\r\n 1. Server instance: responsible for pushing message to SQS queue.\r\n2. Worker instance: responsible for listening messages from SQS queue.\r\n\r\nFor listening messages I am using `@SqsListener` annotation like this:\r\n```    \r\n    @SqsListener(&quot;queue_name&quot;)\r\n    public void loadMessagesFromQueue(Object message) {\r\n        log.info(&quot;inside loadMessagesFromQueue&quot;);\r\n        log.info(&quot;Queue Messages: &quot; + message);\r\n    }\r\n```\r\nThe ask here is that i want to disable this `SqsListener` on the server instance and just want it to run on the worker instance. How do I achieve this? I have tried searching if there is a way to disable it using some config variable but didn&#39;t find anything","title":"Disable SqsListener on specific instances","body":"<p>I have a spring boot application where i am using SQS for some async tasks.\nI want to configure 2 types of instances in this application:</p>\n<ol>\n<li>Server instance: responsible for pushing message to SQS queue.</li>\n<li>Worker instance: responsible for listening messages from SQS queue.</li>\n</ol>\n<p>For listening messages I am using <code>@SqsListener</code> annotation like this:</p>\n<pre><code>    @SqsListener(&quot;queue_name&quot;)\n    public void loadMessagesFromQueue(Object message) {\n        log.info(&quot;inside loadMessagesFromQueue&quot;);\n        log.info(&quot;Queue Messages: &quot; + message);\n    }\n</code></pre>\n<p>The ask here is that i want to disable this <code>SqsListener</code> on the server instance and just want it to run on the worker instance. How do I achieve this? I have tried searching if there is a way to disable it using some config variable but didn't find anything</p>\n"},{"tags":["java","cmd","environment-variables","java-home","java-17"],"comments":[{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1677071465,"post_id":75532644,"comment_id":133264453,"body_markdown":"4. It&#39;s not valid because I copy pasted it from console. In java is ```String cmd = &quot;java -jar \\&quot;duk/DUKIntegrator.jar\\&quot; -s&quot;;\n        cmd = cmd.concat(&quot; &quot; + msg.form + &quot; \\&quot;duk/&quot; + msg.form + &quot;.xml\\&quot; \\&quot;duk/&quot; + msg.form + &quot;-err.txt\\&quot; 0 0 $ $&quot;);\n        cmd = cmd.concat(&quot; &quot; + Objects.requireNonNull(certType.getSelectedItem()));\n        cmd = cmd.concat(&quot; &quot; + comboBox.getSelectedIndex());```","body":"4. It&#39;s not valid because I copy pasted it from console. In java is <code>String cmd = &quot;java -jar \\&quot;duk&#47;DUKIntegrator.jar\\&quot; -s&quot;;         cmd = cmd.concat(&quot; &quot; + msg.form + &quot; \\&quot;duk&#47;&quot; + msg.form + &quot;.xml\\&quot; \\&quot;duk&#47;&quot; + msg.form + &quot;-err.txt\\&quot; 0 0 $ $&quot;);         cmd = cmd.concat(&quot; &quot; + Objects.requireNonNull(certType.getSelectedItem()));         cmd = cmd.concat(&quot; &quot; + comboBox.getSelectedIndex());</code>"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1677072922,"post_id":75532644,"comment_id":133264945,"body_markdown":"Minus for what?","body":"Minus for what?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677075747,"post_id":75532644,"comment_id":133265841,"body_markdown":"The `JAVA_HOME` variable has no relevance. Further, there’s no need to use `cmd /c` when launching `java.exe`. Just `path\\to\\java\\bin\\java.exe -jar path\\to\\jar` is enough.","body":"The <code>JAVA_HOME</code> variable has no relevance. Further, there’s no need to use <code>cmd &#47;c</code> when launching <code>java.exe</code>. Just <code>path\\to\\java\\bin\\java.exe -jar path\\to\\jar</code> is enough."}],"answers":[{"tags":[],"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677500590,"creation_date":1677072135,"answer_id":75533294,"question_id":75532644,"body_markdown":"Damn I&#39;m stupid. I just needed to use another java.exe than &quot;java -jar&quot;\r\n\r\nThe solution is: \r\n```\r\n.\\\\duk\\\\jre6\\\\bin\\\\java.exe -jar \\&quot;duk/DUKIntegrator.jar\\&quot; -s\r\n```","title":"Execute &quot;java -jar&quot; from another JAR but using different java versions xD","body":"<p>Damn I'm stupid. I just needed to use another java.exe than &quot;java -jar&quot;</p>\n<p>The solution is:</p>\n<pre><code>.\\\\duk\\\\jre6\\\\bin\\\\java.exe -jar \\&quot;duk/DUKIntegrator.jar\\&quot; -s\n</code></pre>\n"}],"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75533294,"answer_count":1,"score":-1,"last_activity_date":1677500590,"creation_date":1677068638,"question_id":75532644,"body_markdown":"My project is made using JDK 17. From this JAR I need to exec another JAR (by a cmd command). The problem is that for the second JAR I need JRE &lt; 1.8\r\nI&#39;ve tried with Runtime.getRuntime().exec(cmd); and with ProcessBuilder but I can&#39;t make it work. CMD command used is below. I&#39;ve tried to temporarily set JAVA_HOME to 1.6 but I guess cmd.exe takes the java used by the Parent JAR. The second JAR is not made by me and I can&#39;t edit it ... so I need to use &lt;1.8 for it.\r\n\r\n```\r\nString cmd = &quot;set JAVA_HOME=&quot;C:\\ExtensieImpoziteYCS\\duk\\jre6\\bin&quot; &amp; java -jar &quot;duk/DUKIntegrator.jar&quot; -s P2000 &quot;duk/P2000.xml&quot; &quot;duk/P2000-err.txt&quot; 0 0 $ $ aladdin 5&quot;;\r\nProcess duk = Runtime.getRuntime().exec(cmd);\r\nduk.waitFor();\r\nduk.destroy();\r\n```\r\n\r\n```\r\nProcessBuilder processBuilder = new ProcessBuilder();\r\n        try {\r\n            Map&lt;String, String&gt; env = processBuilder.environment();\r\n            env.put(&quot;JAVA_HOME&quot;, &quot;C:\\\\ExtensieImpoziteYCS\\\\duk\\\\jre6\\\\bin\\&quot;&quot;);\r\n            processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\r\n            Process process = processBuilder.start();\r\n\r\n            StringBuilder output = new StringBuilder();\r\n\r\n            BufferedReader reader = new BufferedReader(\r\n                    new InputStreamReader(process.getInputStream()));\r\n\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line + &quot;\\n&quot;);\r\n            }\r\n\r\n            int exitVal = process.waitFor();\r\n            if (exitVal == 0) {\r\n                System.out.println(&quot;Success!&quot;);\r\n                System.out.println(output);\r\n                System.exit(0);\r\n            } else {\r\n                System.out.println(output);\r\n            }\r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nThe second JAR is used to digitally sign a PDF and because of the old JRE used for it, on the new JDK I get this error: \r\n\r\n```\r\njava.lang.IllegalAccessException: class pdf.Sign cannot access class sun.security.mscapi.SunMSCAPI (in module jdk.crypto.mscapi) because module jdk.crypto.mscapi does not export sun.security.mscapi to unnamed module @16022d9d\r\n```\r\n\r\nUsing JRE 1.6 directly from CMD works perfectly...","title":"Execute &quot;java -jar&quot; from another JAR but using different java versions xD","body":"<p>My project is made using JDK 17. From this JAR I need to exec another JAR (by a cmd command). The problem is that for the second JAR I need JRE &lt; 1.8\nI've tried with Runtime.getRuntime().exec(cmd); and with ProcessBuilder but I can't make it work. CMD command used is below. I've tried to temporarily set JAVA_HOME to 1.6 but I guess cmd.exe takes the java used by the Parent JAR. The second JAR is not made by me and I can't edit it ... so I need to use &lt;1.8 for it.</p>\n<pre><code>String cmd = &quot;set JAVA_HOME=&quot;C:\\ExtensieImpoziteYCS\\duk\\jre6\\bin&quot; &amp; java -jar &quot;duk/DUKIntegrator.jar&quot; -s P2000 &quot;duk/P2000.xml&quot; &quot;duk/P2000-err.txt&quot; 0 0 $ $ aladdin 5&quot;;\nProcess duk = Runtime.getRuntime().exec(cmd);\nduk.waitFor();\nduk.destroy();\n</code></pre>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder();\n        try {\n            Map&lt;String, String&gt; env = processBuilder.environment();\n            env.put(&quot;JAVA_HOME&quot;, &quot;C:\\\\ExtensieImpoziteYCS\\\\duk\\\\jre6\\\\bin\\&quot;&quot;);\n            processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\n            Process process = processBuilder.start();\n\n            StringBuilder output = new StringBuilder();\n\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(process.getInputStream()));\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line + &quot;\\n&quot;);\n            }\n\n            int exitVal = process.waitFor();\n            if (exitVal == 0) {\n                System.out.println(&quot;Success!&quot;);\n                System.out.println(output);\n                System.exit(0);\n            } else {\n                System.out.println(output);\n            }\n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>The second JAR is used to digitally sign a PDF and because of the old JRE used for it, on the new JDK I get this error:</p>\n<pre><code>java.lang.IllegalAccessException: class pdf.Sign cannot access class sun.security.mscapi.SunMSCAPI (in module jdk.crypto.mscapi) because module jdk.crypto.mscapi does not export sun.security.mscapi to unnamed module @16022d9d\n</code></pre>\n<p>Using JRE 1.6 directly from CMD works perfectly...</p>\n"},{"tags":["java","hibernate","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":14753782,"reputation":49,"user_id":10655039,"display_name":"Wojtek"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1543393741,"creation_date":1543393741,"answer_id":53515114,"question_id":53510981,"body_markdown":"It works after forcing **countQuery** to add root:\r\n\r\n    ((QueryStructure)((CriteriaQueryImpl)countQuery).queryStructure).roots.add(root)","title":"Criteria api - illegalStateException","body":"<p>It works after forcing <strong>countQuery</strong> to add root:</p>\n\n<pre><code>((QueryStructure)((CriteriaQueryImpl)countQuery).queryStructure).roots.add(root)\n</code></pre>\n"}],"owner":{"account_id":14753782,"reputation":49,"user_id":10655039,"display_name":"Wojtek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":53515114,"answer_count":1,"score":0,"last_activity_date":1677500504,"creation_date":1543370343,"question_id":53510981,"body_markdown":"I&#39;ve written following code by using Criteria Api:\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n    CriteriaQuery&lt;Entity&gt; criteriaQuery = criteriaBuilder.createQuery(Entity.class);\r\n    Root&lt;Entity&gt; root = criteriaQuery.from(Entity.class);\r\n    criteriaQuery.select(root);\r\n    \r\n    CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\n    countQuery.select(criteriaBuilder.count(root));\r\n    \r\n    Long countOfRows = entityManager.createQuery(countQuery).getSingleResult();\r\n\r\nAs a result I get an exception:\r\n\r\n&gt; java.lang.IllegalStateException: No criteria query roots were\r\n&gt; specified\r\n\r\n\r\nThe exception is thrown by **getSingleResult** method (last line of the code). Thank you for help!","title":"Criteria api - illegalStateException","body":"<p>I've written following code by using Criteria Api:</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\nCriteriaQuery&lt;Entity&gt; criteriaQuery = criteriaBuilder.createQuery(Entity.class);\nRoot&lt;Entity&gt; root = criteriaQuery.from(Entity.class);\ncriteriaQuery.select(root);\n\nCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\ncountQuery.select(criteriaBuilder.count(root));\n\nLong countOfRows = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n\n<p>As a result I get an exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: No criteria query roots were\n  specified</p>\n</blockquote>\n\n<p>The exception is thrown by <strong>getSingleResult</strong> method (last line of the code). Thank you for help!</p>\n"},{"tags":["java","spring-boot","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677496064,"creation_date":1677496064,"answer_id":75579677,"question_id":75579551,"body_markdown":"For an interceptor to work, You need to throw your DataIntegrityViolationException exception from the code. But you were handling that by yourself. Exceptions need to propagate to the top to be handled by your interceptor.\r\nAdditional tip: Add a custom message when you throw your exception from code and get the same from interceptor class. ","title":"Question about @ExceptionHandler(Exception.class)","body":"<p>For an interceptor to work, You need to throw your DataIntegrityViolationException exception from the code. But you were handling that by yourself. Exceptions need to propagate to the top to be handled by your interceptor.\nAdditional tip: Add a custom message when you throw your exception from code and get the same from interceptor class.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677500439,"creation_date":1677500439,"answer_id":75580427,"question_id":75579551,"body_markdown":"The @ControllerAdvice will look for the most appropriate @ExceptionHandler. To do this, it will use the class of the exception which is being thrown and it will check if any of the handlers are going to match it. If not, it will repeat the process with the parent of your class, then it will do it with the parent of its parent, and so on until it finds a handler.\r\n\r\nIn this particular case, it will initially look for:\r\n`@ExceptionHandler(DataIntegrityViolationException.class)`\r\nthen for `@ExceptionHandler(NonTransientDataAccessException.class)`\r\nthen for `@ExceptionHandler(DataAccessException.class)`\r\n...\r\nand, lastly, for `@ExceptionHandler(Exception.class)`","title":"Question about @ExceptionHandler(Exception.class)","body":"<p>The @ControllerAdvice will look for the most appropriate @ExceptionHandler. To do this, it will use the class of the exception which is being thrown and it will check if any of the handlers are going to match it. If not, it will repeat the process with the parent of your class, then it will do it with the parent of its parent, and so on until it finds a handler.</p>\n<p>In this particular case, it will initially look for:\n<code>@ExceptionHandler(DataIntegrityViolationException.class)</code>\nthen for <code>@ExceptionHandler(NonTransientDataAccessException.class)</code>\nthen for <code>@ExceptionHandler(DataAccessException.class)</code>\n...\nand, lastly, for <code>@ExceptionHandler(Exception.class)</code></p>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75580427,"answer_count":2,"score":0,"last_activity_date":1677500439,"creation_date":1677495374,"question_id":75579551,"body_markdown":"There is an exception interceptor:\r\n```\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n        @ExceptionHandler\r\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleDataIntegrityViolationException(DataIntegrityViolationException ex) {\r\n            // return ResponseEntity&lt;ApiExceptionDTO&gt; with user friendly error message\r\n        }\r\n\r\n        // ... other @ExceptionHandler\r\n        \r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleException(Exception ex) {\r\n            // return ResponseEntity&lt;ApiExceptionDTO&gt;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nI was tasked with returning a friendly error message to the user if he tries to delete an object from the database that violates the integrity constraint.\r\n\r\nI caught the `DataIntegrityViolationException` exception and implemented the task.\r\n\r\nI expected it to fail because of `@ExceptionHandler(Exception.class)`, since it will intercept the error first.\r\n\r\nMy question is, why did it work the way I expected?\r\nWhy `@ExceptionHandler(Exception.class)` didn&#39;t catch this exception first?\r\n\r\nAnd in general, the question is what to do in the case when `@ExceptionHandler(Exception.class)` intercepts exceptions that should have hit another interceptor? Or is it possible only if somewhere in another interceptor there is a similar construction `@ExceptionHandler(Exception.class)` ?\r\n\r\nSpringBoot version: 2.1.9.RELEASE","title":"Question about @ExceptionHandler(Exception.class)","body":"<p>There is an exception interceptor:</p>\n<pre><code>    @ControllerAdvice\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n        @ExceptionHandler\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleDataIntegrityViolationException(DataIntegrityViolationException ex) {\n            // return ResponseEntity&lt;ApiExceptionDTO&gt; with user friendly error message\n        }\n\n        // ... other @ExceptionHandler\n        \n        @ExceptionHandler(Exception.class)\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleException(Exception ex) {\n            // return ResponseEntity&lt;ApiExceptionDTO&gt;\n        }\n\n    }\n</code></pre>\n<p>I was tasked with returning a friendly error message to the user if he tries to delete an object from the database that violates the integrity constraint.</p>\n<p>I caught the <code>DataIntegrityViolationException</code> exception and implemented the task.</p>\n<p>I expected it to fail because of <code>@ExceptionHandler(Exception.class)</code>, since it will intercept the error first.</p>\n<p>My question is, why did it work the way I expected?\nWhy <code>@ExceptionHandler(Exception.class)</code> didn't catch this exception first?</p>\n<p>And in general, the question is what to do in the case when <code>@ExceptionHandler(Exception.class)</code> intercepts exceptions that should have hit another interceptor? Or is it possible only if somewhere in another interceptor there is a similar construction <code>@ExceptionHandler(Exception.class)</code> ?</p>\n<p>SpringBoot version: 2.1.9.RELEASE</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":12101161,"reputation":11,"user_id":8842174,"display_name":"LOL - Coding ain&#39;t for me"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663579021,"creation_date":1663579021,"answer_id":73771159,"question_id":73770410,"body_markdown":"I solved this problem.\r\n\r\nIn the Design tab of the main class with the textarea in it I right clicked on textarea, selected properties, went to the code tab, clicked the ellipses on the Post-Listeners Code category and pasted the above code in the provided field. \r\nThe button now behaves as I wanted.","title":"Unable to get documentlistener to work enable or disable a button in Java (Netbeans), what am I doing wrong?","body":"<p>I solved this problem.</p>\n<p>In the Design tab of the main class with the textarea in it I right clicked on textarea, selected properties, went to the code tab, clicked the ellipses on the Post-Listeners Code category and pasted the above code in the provided field.\nThe button now behaves as I wanted.</p>\n"}],"owner":{"account_id":12101161,"reputation":11,"user_id":8842174,"display_name":"LOL - Coding ain&#39;t for me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73771159,"answer_count":1,"score":0,"last_activity_date":1677500141,"creation_date":1663575463,"question_id":73770410,"body_markdown":"I&#39;m trying to enable or disable a button based on whether a text area is empty and for further context, I&#39;m doing this in Netbeans.\r\n[The button disabled by default.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TKKmB.png\r\n\r\nBased on my research so far, what I need to detect the change in the text area is a document listener... No matter how I add the code that I have managed to figure out an plagiarize, it either has errors in it or does nothing... \r\nmessagearea is the name of my textarea and sendb is the button.\r\nThis is the best I have so far:\r\n\r\n```\r\npublic NewJFrame (DocumentListener Frame){\r\n    messagearea.getDocument().addDocumentListener(new DocumentListener() {\r\n        @Override\r\n        public void insertUpdate(DocumentEvent e) {\r\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n            if (messagearea.getText().equals(&quot;&quot;)){\r\n                sendb.setEnabled(false);\r\n                System.out.println(&quot;false&quot;);\r\n            } else\r\n            {\r\n                sendb.setEnabled(true);\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void removeUpdate(DocumentEvent e) {\r\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n            if (messagearea.getText().equals(&quot;&quot;)){\r\n                sendb.setEnabled(false);\r\n                System.out.println(&quot;false&quot;);\r\n            } else\r\n            {\r\n                sendb.setEnabled(true);\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void changedUpdate(DocumentEvent e) {\r\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n            if (messagearea.getText().equals(&quot;&quot;)){\r\n                sendb.setEnabled(false);\r\n                System.out.println(&quot;false&quot;);\r\n            } else\r\n            {\r\n                sendb.setEnabled(true);\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI&#39;ve put this after the variable declaration. It doesn&#39;t even print any output, so I know I&#39;ve made a mistake in making the listener actually &quot;listen&quot;, lol\r\nAny help would be appreciated.","title":"Unable to get documentlistener to work enable or disable a button in Java (Netbeans), what am I doing wrong?","body":"<p>I'm trying to enable or disable a button based on whether a text area is empty and for further context, I'm doing this in Netbeans.\n<a href=\"https://i.stack.imgur.com/TKKmB.png\" rel=\"nofollow noreferrer\">The button disabled by default.</a></p>\n<p>Based on my research so far, what I need to detect the change in the text area is a document listener... No matter how I add the code that I have managed to figure out an plagiarize, it either has errors in it or does nothing...\nmessagearea is the name of my textarea and sendb is the button.\nThis is the best I have so far:</p>\n<pre><code>public NewJFrame (DocumentListener Frame){\n    messagearea.getDocument().addDocumentListener(new DocumentListener() {\n        @Override\n        public void insertUpdate(DocumentEvent e) {\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n            if (messagearea.getText().equals(&quot;&quot;)){\n                sendb.setEnabled(false);\n                System.out.println(&quot;false&quot;);\n            } else\n            {\n                sendb.setEnabled(true);\n                System.out.println(&quot;true&quot;);\n            }\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent e) {\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n            if (messagearea.getText().equals(&quot;&quot;)){\n                sendb.setEnabled(false);\n                System.out.println(&quot;false&quot;);\n            } else\n            {\n                sendb.setEnabled(true);\n                System.out.println(&quot;true&quot;);\n            }\n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent e) {\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n            if (messagearea.getText().equals(&quot;&quot;)){\n                sendb.setEnabled(false);\n                System.out.println(&quot;false&quot;);\n            } else\n            {\n                sendb.setEnabled(true);\n                System.out.println(&quot;true&quot;);\n            }\n        }\n    });\n}\n</code></pre>\n<p>I've put this after the variable declaration. It doesn't even print any output, so I know I've made a mistake in making the listener actually &quot;listen&quot;, lol\nAny help would be appreciated.</p>\n"},{"tags":["java","excel","frameworks"],"answers":[{"tags":[],"owner":{"account_id":53499,"reputation":3171,"user_id":159946,"display_name":"Vanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279774060,"creation_date":1279774060,"answer_id":3305837,"question_id":3305827,"body_markdown":"The key words you should google for are OLE and DDE.\r\n\r\nThough, Java is not the best language for interface Microsoft&#39;s software.","title":"create excel using Java","body":"<p>The key words you should google for are OLE and DDE.</p>\n\n<p>Though, Java is not the best language for interface Microsoft's software.</p>\n"},{"tags":[],"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1279774354,"creation_date":1279774354,"answer_id":3305854,"question_id":3305827,"body_markdown":"Just spit out a CSV file. It&#39;s lightweight and portable. You can grab a csv writer from Apache commons I think but spending the 10 min it would take to write one might be a good learning exercise as well.","title":"create excel using Java","body":"<p>Just spit out a CSV file. It's lightweight and portable. You can grab a csv writer from Apache commons I think but spending the 10 min it would take to write one might be a good learning exercise as well.</p>\n"},{"tags":[],"owner":{"account_id":14015,"reputation":2998,"user_id":28491,"accept_rate":100,"display_name":"kdmurray"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677499884,"creation_date":1279774397,"answer_id":3305857,"question_id":3305827,"body_markdown":"The new xlsx format is based on Open-XML and would provide a method of generating these files without any dependency on Microsoft-office COM libraries -- the same could done for docx and pptx formats later, as well as other open-Xml formats like EPUB.\r\n\r\nThe [Apache POI project][1] looks like it might provide one possible solution. There&#39;s also an [article on the MSDN interop blog][2] that discusses this in some detail.\r\n\r\n\r\n  [1]: https://poi.apache.org/\r\n  [2]: https://learn.microsoft.com/en-us/archive/blogs/interoperability/open-xml-made-easier-for-java-developers-with-apache-poi","title":"create excel using Java","body":"<p>The new xlsx format is based on Open-XML and would provide a method of generating these files without any dependency on Microsoft-office COM libraries -- the same could done for docx and pptx formats later, as well as other open-Xml formats like EPUB.</p>\n<p>The <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI project</a> looks like it might provide one possible solution. There's also an <a href=\"https://learn.microsoft.com/en-us/archive/blogs/interoperability/open-xml-made-easier-for-java-developers-with-apache-poi\" rel=\"nofollow noreferrer\">article on the MSDN interop blog</a> that discusses this in some detail.</p>\n"},{"tags":[],"owner":{"account_id":88301,"reputation":5748,"user_id":244330,"accept_rate":54,"display_name":"newguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279774591,"creation_date":1279774591,"answer_id":3305871,"question_id":3305827,"body_markdown":"The easiest and standard way of doing this is to use POI library:\r\n\r\nhttp://poi.apache.org/spreadsheet/quick-guide.html","title":"create excel using Java","body":"<p>The easiest and standard way of doing this is to use POI library:</p>\n\n<p><a href=\"http://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">http://poi.apache.org/spreadsheet/quick-guide.html</a></p>\n"},{"tags":[],"owner":{"account_id":29867,"reputation":10466,"user_id":81009,"display_name":"crafty"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279774817,"creation_date":1279774817,"answer_id":3305883,"question_id":3305827,"body_markdown":"If you want a real solution where you want different outputs (eg excel, pdf, rich text etc) then use a reporting tool. There are plenty of opensource tools like [ireport][1] which will let you create a template then write a simple java app that renders that to pdf, excel etc. Otherwise you will end up doing it by hand. It&#39;s a bit heavyweight but anything more than trival tabular output will be easier.\r\n\r\n\r\n  [1]: http://jasperforge.org/projects/ireport","title":"create excel using Java","body":"<p>If you want a real solution where you want different outputs (eg excel, pdf, rich text etc) then use a reporting tool. There are plenty of opensource tools like <a href=\"http://jasperforge.org/projects/ireport\" rel=\"nofollow noreferrer\">ireport</a> which will let you create a template then write a simple java app that renders that to pdf, excel etc. Otherwise you will end up doing it by hand. It's a bit heavyweight but anything more than trival tabular output will be easier.</p>\n"},{"tags":[],"owner":{"account_id":171578,"reputation":10558,"user_id":399104,"accept_rate":78,"display_name":"Truong Ha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279774907,"creation_date":1279774907,"answer_id":3305888,"question_id":3305827,"body_markdown":"Apache POI is for you in this case, but you will find it a little bit overwhelmed if you just need to write/read data from an excel file.\r\n\r\nTry **[jExcel][1]** instead, the API is simple and straightforward, you can also manipulate sheets within an excel workbook.\r\n\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/","title":"create excel using Java","body":"<p>Apache POI is for you in this case, but you will find it a little bit overwhelmed if you just need to write/read data from an excel file.</p>\n\n<p>Try <strong><a href=\"http://jexcelapi.sourceforge.net/\" rel=\"nofollow noreferrer\">jExcel</a></strong> instead, the API is simple and straightforward, you can also manipulate sheets within an excel workbook.</p>\n"},{"tags":[],"owner":{"account_id":3304223,"reputation":1,"user_id":2779551,"display_name":"james"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379174270,"creation_date":1379174270,"answer_id":18803570,"question_id":3305827,"body_markdown":"for generating excel i think you should try simreport in jsimreport.com. in my opinion, it&#39;s quite simple to make an excel report, it uses the excel sheet to generate report so easy to config and visually","title":"create excel using Java","body":"<p>for generating excel i think you should try simreport in jsimreport.com. in my opinion, it's quite simple to make an excel report, it uses the excel sheet to generate report so easy to config and visually</p>\n"}],"owner":{"account_id":170670,"reputation":11,"user_id":397546,"display_name":"Stack User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1677499884,"creation_date":1279773850,"question_id":3305827,"body_markdown":"I am very new to java. I am trying to fetch some data from a database and the result set is displayed in excel. I am able to inetract with database. But how should I go ahead for inserting data into excel sheet.Its simple Java program and in future I would like to generate files in other format say PDF, doc etc.\r\nI am looking for an approach with lesser load on CPU, faster.\r\n\r\nthanks in advance for help. ","title":"create excel using Java","body":"<p>I am very new to java. I am trying to fetch some data from a database and the result set is displayed in excel. I am able to inetract with database. But how should I go ahead for inserting data into excel sheet.Its simple Java program and in future I would like to generate files in other format say PDF, doc etc.\nI am looking for an approach with lesser load on CPU, faster.</p>\n\n<p>thanks in advance for help. </p>\n"},{"tags":["java","gradle","sonarqube","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677500735,"post_id":75580335,"comment_id":133343598,"body_markdown":"Please include your runner info and how gradle is installed in your question. Thanks!","body":"Please include your runner info and how gradle is installed in your question. Thanks!"}],"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677499823,"creation_date":1677499823,"question_id":75580335,"body_markdown":"My project is using gradle-7.6 and the building, running fine on my local machine as well as on the GitHub actions workflows CI pipeline\r\n\r\nBut after a minor patch update on the ubuntu machine, the build started failing.\r\n\r\nOne of the major reasons seems of the failure is the Gradle version that GitHub workflow is picking.\r\n\r\nFor success builds it used to be \r\n\r\n    GRADLE_HOME=/usr/share/gradle-7.6\r\n\r\nBut now it is -\r\n\r\n    GRADLE_HOME=/usr/share/gradle-8.0.1\r\n\r\n\r\nI tried a lot to figure out where this env GRADLE_HOME is set, but no luck.\r\n\r\nCan anyone please help with this issue? How to override this?\r\n\r\nAny help will be appreciated","title":"GRADLE_HOME is picking /usr/share/gradle-8.0.1 instead of /usr/share/gradle-7.6 in github actions CI pipeline","body":"<p>My project is using gradle-7.6 and the building, running fine on my local machine as well as on the GitHub actions workflows CI pipeline</p>\n<p>But after a minor patch update on the ubuntu machine, the build started failing.</p>\n<p>One of the major reasons seems of the failure is the Gradle version that GitHub workflow is picking.</p>\n<p>For success builds it used to be</p>\n<pre><code>GRADLE_HOME=/usr/share/gradle-7.6\n</code></pre>\n<p>But now it is -</p>\n<pre><code>GRADLE_HOME=/usr/share/gradle-8.0.1\n</code></pre>\n<p>I tried a lot to figure out where this env GRADLE_HOME is set, but no luck.</p>\n<p>Can anyone please help with this issue? How to override this?</p>\n<p>Any help will be appreciated</p>\n"},{"tags":["java","android","android-studio","android-imageview","image-rotation"],"comments":[{"owner":{"account_id":18348513,"reputation":8726,"user_id":13363205,"display_name":"iknow"},"score":0,"creation_date":1595515582,"post_id":63056703,"comment_id":111507810,"body_markdown":"So You have 2 images. If You click You want one to rotate and fade and second to be shown? And when click again You want to the same?","body":"So You have 2 images. If You click You want one to rotate and fade and second to be shown? And when click again You want to the same?"},{"owner":{"account_id":19143744,"reputation":37,"user_id":13983196,"display_name":"Muhammad Abbas Bangash"},"score":0,"creation_date":1595517472,"post_id":63056703,"comment_id":111508906,"body_markdown":"Yes Exactly...!","body":"Yes Exactly...!"}],"answers":[{"comments":[{"owner":{"account_id":19143744,"reputation":37,"user_id":13983196,"display_name":"Muhammad Abbas Bangash"},"score":1,"creation_date":1595517876,"post_id":63057051,"comment_id":111509126,"body_markdown":"works like a charm. i had been searching for this issue since days, but couldn&#39;t get it solved. At last i asked here and viola... Thanks!","body":"works like a charm. i had been searching for this issue since days, but couldn&#39;t get it solved. At last i asked here and viola... Thanks!"}],"tags":[],"owner":{"account_id":18348513,"reputation":8726,"user_id":13363205,"display_name":"iknow"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595516178,"creation_date":1595515789,"answer_id":63057051,"question_id":63056703,"body_markdown":"You have to set `rotation` to 0 when setting alpha to `1`. When You set `rotation` to `3600` it isn&#39;t `3600` degrees from the current state but from the default state, that&#39;s why it works only one time.\r\n```\r\nboolean eggview = true;\r\npublic void fade(View view)\r\n{\r\n    ImageView eggImageView = (ImageView) findViewById(R.id.egg);\r\n    ImageView chickImageView = (ImageView) findViewById(R.id.chick);\r\n    if (eggview)\r\n    {\r\n        eggview = false;\r\n        eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\r\n        chickImageView.animate().alpha(1).rotation(0);\r\n    }\r\n    else\r\n    {\r\n        eggview = true;\r\n        chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\r\n        eggImageView.animate().alpha(1).rotation(0);\r\n    }\r\n}\r\n```\r\nIf You don&#39;t want to make a backward rotation when fading in just set rotation to `actual state + 3600`. But the main problem with Your code is setting rotation to the actual state.","title":"Java Android ImageView-Image rotation only works for the first time","body":"<p>You have to set <code>rotation</code> to 0 when setting alpha to <code>1</code>. When You set <code>rotation</code> to <code>3600</code> it isn't <code>3600</code> degrees from the current state but from the default state, that's why it works only one time.</p>\n<pre><code>boolean eggview = true;\npublic void fade(View view)\n{\n    ImageView eggImageView = (ImageView) findViewById(R.id.egg);\n    ImageView chickImageView = (ImageView) findViewById(R.id.chick);\n    if (eggview)\n    {\n        eggview = false;\n        eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\n        chickImageView.animate().alpha(1).rotation(0);\n    }\n    else\n    {\n        eggview = true;\n        chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\n        eggImageView.animate().alpha(1).rotation(0);\n    }\n}\n</code></pre>\n<p>If You don't want to make a backward rotation when fading in just set rotation to <code>actual state + 3600</code>. But the main problem with Your code is setting rotation to the actual state.</p>\n"},{"tags":[],"owner":{"account_id":5392773,"reputation":3453,"user_id":4294782,"accept_rate":75,"display_name":"A Honey Bustard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595516497,"creation_date":1595516497,"answer_id":63057289,"question_id":63056703,"body_markdown":"Use the \r\n\r\n[ViewPropertyAnimator][1]\r\n\r\n method rotationBy() instead of rotation()\r\n\r\n    eggImageView.animate().rotationBy(3600)...\r\n\r\nrotation() moves the View TO 360f and rotationBy() moves the View BY 360f\r\n\r\nsame with alphaBy()\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/ViewPropertyAnimator#rotationBy(float)","title":"Java Android ImageView-Image rotation only works for the first time","body":"<p>Use the</p>\n<p><a href=\"https://developer.android.com/reference/android/view/ViewPropertyAnimator#rotationBy(float)\" rel=\"nofollow noreferrer\">ViewPropertyAnimator</a></p>\n<p>method rotationBy() instead of rotation()</p>\n<pre><code>eggImageView.animate().rotationBy(3600)...\n</code></pre>\n<p>rotation() moves the View TO 360f and rotationBy() moves the View BY 360f</p>\n<p>same with alphaBy()</p>\n"}],"owner":{"account_id":19143744,"reputation":37,"user_id":13983196,"display_name":"Muhammad Abbas Bangash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63057051,"answer_count":2,"score":1,"last_activity_date":1677499213,"creation_date":1595514680,"question_id":63056703,"body_markdown":"I have written java-android code for image view that will rotate and fade away and another image will be visible, I use `imageViewer.animate.rotation(3600).alpha(0);` now this works fine when I run the code on an emulator, the images fade and re-appear just fine, but the problem is about the rotation after I compile the app for the first time when I click on the image, it will rotate and fade away and the next picture is shown, but when I tap on the image again, it will not rotate, instead only the fade in and fade out will work but not the rotation (Note that it rotates for the first time after compilation but then doesn&#39;t rotates and fade in/out works only). Here is the code:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n    boolean eggview = true;\r\n\r\n    public void fade(View view)\r\n    {\r\n        ImageView eggImageView = (ImageView) findViewById(R.id.egg);\r\n        ImageView chickImageView = (ImageView) findViewById(R.id.chick);\r\n        if (eggview)\r\n        {\r\n            eggview = false;\r\n            eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\r\n            chickImageView.animate().alpha(1);\r\n        }\r\n        else\r\n        {\r\n            eggview = true;\r\n            chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\r\n            eggImageView.animate().alpha(1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```","title":"Java Android ImageView-Image rotation only works for the first time","body":"<p>I have written java-android code for image view that will rotate and fade away and another image will be visible, I use <code>imageViewer.animate.rotation(3600).alpha(0);</code> now this works fine when I run the code on an emulator, the images fade and re-appear just fine, but the problem is about the rotation after I compile the app for the first time when I click on the image, it will rotate and fade away and the next picture is shown, but when I tap on the image again, it will not rotate, instead only the fade in and fade out will work but not the rotation (Note that it rotates for the first time after compilation but then doesn't rotates and fade in/out works only). Here is the code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity\n{\n    boolean eggview = true;\n\n    public void fade(View view)\n    {\n        ImageView eggImageView = (ImageView) findViewById(R.id.egg);\n        ImageView chickImageView = (ImageView) findViewById(R.id.chick);\n        if (eggview)\n        {\n            eggview = false;\n            eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\n            chickImageView.animate().alpha(1);\n        }\n        else\n        {\n            eggview = true;\n            chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\n            eggImageView.animate().alpha(1);\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redirect"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677499111,"post_id":75576929,"comment_id":133343164,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1677791559,"post_id":75576929,"comment_id":133412545,"body_markdown":"You are getting the error from chrome browser, that browser is sending a GET request to the url you provide but the code you show expecting POST, check https://stackoverflow.com/q/73689572/175554 and the answer, it is showing how you can call the end point.","body":"You are getting the error from chrome browser, that browser is sending a GET request to the url you provide but the code you show expecting POST, check <a href=\"https://stackoverflow.com/q/73689572/175554\">stackoverflow.com/q/73689572/175554</a> and the answer, it is showing how you can call the end point."}],"owner":{"account_id":27887473,"reputation":1,"user_id":21294578,"display_name":"scrollbunny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677499184,"creation_date":1677474427,"question_id":75576929,"body_markdown":"When I add &quot;RedirectAttributes redirectAttributes&quot; to String saveUser of PostMapping I got Error status 500.\r\n\r\n[enter image description here](https://i.stack.imgur.com/gM36L.png)\r\n\r\nI think maybe syntax of PostMapping or FileUploadUtil file has error but can&#39;t find anything.\r\n\r\n[enter image description here](https://i.stack.imgur.com/x70BT.png)\r\n\r\nBefore that, if I comment the code in line 50 -&gt; 53 and using the code in line 55 -&gt; 60 the code will run normally.\r\n\r\nHope anyone can help me fix this.","title":"Cannot save the data when using RedirectAttributes","body":"<p>When I add &quot;RedirectAttributes redirectAttributes&quot; to String saveUser of PostMapping I got Error status 500.</p>\n<p><a href=\"https://i.stack.imgur.com/gM36L.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I think maybe syntax of PostMapping or FileUploadUtil file has error but can't find anything.</p>\n<p><a href=\"https://i.stack.imgur.com/x70BT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Before that, if I comment the code in line 50 -&gt; 53 and using the code in line 55 -&gt; 60 the code will run normally.</p>\n<p>Hope anyone can help me fix this.</p>\n"},{"tags":["java","cdi","quarkus","weld","weld-junit5"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1649073325,"post_id":71735057,"comment_id":126775987,"body_markdown":"This is bad, it seems that Quarkus tests and weld-junit do not play well together. It would be better if there was a rule to exclude any bean definitions from test classes that are not the current test, but that too may not be possible due to how Quarkus tests work (if my understanding is correct). In simple projects I have gotten away with it by splitting the code into Maven modules, and running weld-junit tests on the business logic and Quarkus tests only on the main assembly project. What happens if you make the `@Produces @Mock` field private, as a workaround?","body":"This is bad, it seems that Quarkus tests and weld-junit do not play well together. It would be better if there was a rule to exclude any bean definitions from test classes that are not the current test, but that too may not be possible due to how Quarkus tests work (if my understanding is correct). In simple projects I have gotten away with it by splitting the code into Maven modules, and running weld-junit tests on the business logic and Quarkus tests only on the main assembly project. What happens if you make the <code>@Produces @Mock</code> field private, as a workaround?"},{"owner":{"account_id":2371985,"reputation":381,"user_id":5399273,"display_name":"Johannes Hahn"},"score":1,"creation_date":1649085587,"post_id":71735057,"comment_id":126781097,"body_markdown":"I agree, it&#39;s non-trivial, because @QuarkusTest is not as isolated as a unit test and as far as I understand it, this is intended. So @QuarkusTest needs to scan many other classes, no question.  Making the producer field private does not help, it still gets found. However, it&#39;s not as bad as it seems, because Weld-JUnit can also be configured programmatically with a `@WeldSetup WeldInitiator` field instead so that no producer field or method is strictly necessary. Unsurprisingly, this quickly gets annoyingly verbose and I was hoping for a &quot;don&#39;t look over there&quot; configuration.","body":"I agree, it&#39;s non-trivial, because @QuarkusTest is not as isolated as a unit test and as far as I understand it, this is intended. So @QuarkusTest needs to scan many other classes, no question.  Making the producer field private does not help, it still gets found. However, it&#39;s not as bad as it seems, because Weld-JUnit can also be configured programmatically with a <code>@WeldSetup WeldInitiator</code> field instead so that no producer field or method is strictly necessary. Unsurprisingly, this quickly gets annoyingly verbose and I was hoping for a &quot;don&#39;t look over there&quot; configuration."}],"answers":[{"tags":[],"owner":{"account_id":3138056,"reputation":1166,"user_id":2654154,"display_name":"Martin Kouba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677499036,"creation_date":1677499036,"answer_id":75580184,"question_id":71735057,"body_markdown":"You could try to add all the weld-junit unit tests in a specific package and exclude this package from quarkus discovery via [`quarkus.arc.exclude-types`][1]; i.e. something like `%test.quarkus.arc.exclude-types=org.acme.unit.tests.**`.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.exclude-types","title":"Is bean discovery for @QuarkusTest configurable?","body":"<p>You could try to add all the weld-junit unit tests in a specific package and exclude this package from quarkus discovery via <a href=\"https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.exclude-types\" rel=\"nofollow noreferrer\"><code>quarkus.arc.exclude-types</code></a>; i.e. something like <code>%test.quarkus.arc.exclude-types=org.acme.unit.tests.**</code>.</p>\n"}],"owner":{"account_id":2371985,"reputation":381,"user_id":5399273,"display_name":"Johannes Hahn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677499036,"creation_date":1649065301,"question_id":71735057,"body_markdown":"Consider the following Quarkus application:\r\n\r\n```\r\n@ApplicationScoped\r\n@Path(&quot;/hello&quot;)\r\npublic class HelloService {\r\n\r\n    @Inject\r\n    Helper helper;\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String sayHello(){\r\n        return &quot;Hello &quot;+helper.getName();\r\n    }\r\n}\r\n\r\n\r\n@Dependent\r\npublic class Helper {\r\n\r\n    public String getName() {\r\n        return &quot;World&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand the following Test:\r\n```\r\n@QuarkusTest\r\n@TestHTTPEndpoint(HelloService.class)\r\npublic class HelloQuarkusTest {\r\n\r\n    @Test\r\n    void testSayHello(){\r\n        given().when().then().body(is(&quot;Hello World&quot;));\r\n    }\r\n}\r\n```\r\n\r\nEverything&#39;s fine up to this point. The service and its helper are of course a bit more complicated than that in reality. So I want to have some unit tests. If I write a unit test for the service like so:\r\n\r\n```\r\n@EnableAutoWeld\r\n@ExtendWith(MockitoExtension.class)\r\nclass HelloUnitTest {\r\n\r\n    @Inject\r\n    HelloService helloService;\r\n\r\n    @Produces @Mock\r\n    @ExcludeBean // don&#39;t use the real bean, use this instead\r\n    Helper helperMock;\r\n\r\n    @Test\r\n    void testSayHello(){\r\n        when(helperMock.getName()).thenReturn(&quot;Mock&quot;);\r\n        final String actual = helloService.sayHello();\r\n        assertThat(actual).isEqualTo(&quot;Hello Mock&quot;);\r\n    }\r\n}\r\n```\r\nThen the unit test is green, but suddenly the `@QuarkusTest` fails, because it finds both the real `Helper` implementation and the producer field from the unit test and consequently throws an `AmbiguousResolutionException`:\r\n``` lang-none\r\njava.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.AmbiguousResolutionException: Ambiguous dependencies for type com.example.Helper and qualifiers [@Default]\r\n\t- java member: com.example.HelloService#helper\r\n\t- declared on CLASS bean [types=[com.example.HelloService, java.lang.Object], qualifiers=[@Default, @Any], target=com.example.HelloService]\r\n\t- available beans:\r\n\t\t- CLASS bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper]\r\n\t\t- PRODUCER FIELD bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper com.example.weld.HelloUnitTest.helperMock, declaringBean=com.example.weld.HelloUnitTest]\r\n```\r\n\r\nThis happens even if the tests are in different packages. To some extend I understand why scanning more than one class/package is intended for a `@QuarkusTest`, but I don&#39;t like it in this case.\r\n\r\nSo my question is:\r\n&gt; How can I configure what beans/classes/packages a `@QuarkusTest` picks up and which it ignores?\r\n\r\nI have tried playing around with the Arc settings in `application-test.properties`, but so far have not found the right combination of properties.","title":"Is bean discovery for @QuarkusTest configurable?","body":"<p>Consider the following Quarkus application:</p>\n<pre><code>@ApplicationScoped\n@Path(&quot;/hello&quot;)\npublic class HelloService {\n\n    @Inject\n    Helper helper;\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String sayHello(){\n        return &quot;Hello &quot;+helper.getName();\n    }\n}\n\n\n@Dependent\npublic class Helper {\n\n    public String getName() {\n        return &quot;World&quot;;\n    }\n}\n</code></pre>\n<p>and the following Test:</p>\n<pre><code>@QuarkusTest\n@TestHTTPEndpoint(HelloService.class)\npublic class HelloQuarkusTest {\n\n    @Test\n    void testSayHello(){\n        given().when().then().body(is(&quot;Hello World&quot;));\n    }\n}\n</code></pre>\n<p>Everything's fine up to this point. The service and its helper are of course a bit more complicated than that in reality. So I want to have some unit tests. If I write a unit test for the service like so:</p>\n<pre><code>@EnableAutoWeld\n@ExtendWith(MockitoExtension.class)\nclass HelloUnitTest {\n\n    @Inject\n    HelloService helloService;\n\n    @Produces @Mock\n    @ExcludeBean // don't use the real bean, use this instead\n    Helper helperMock;\n\n    @Test\n    void testSayHello(){\n        when(helperMock.getName()).thenReturn(&quot;Mock&quot;);\n        final String actual = helloService.sayHello();\n        assertThat(actual).isEqualTo(&quot;Hello Mock&quot;);\n    }\n}\n</code></pre>\n<p>Then the unit test is green, but suddenly the <code>@QuarkusTest</code> fails, because it finds both the real <code>Helper</code> implementation and the producer field from the unit test and consequently throws an <code>AmbiguousResolutionException</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.AmbiguousResolutionException: Ambiguous dependencies for type com.example.Helper and qualifiers [@Default]\n    - java member: com.example.HelloService#helper\n    - declared on CLASS bean [types=[com.example.HelloService, java.lang.Object], qualifiers=[@Default, @Any], target=com.example.HelloService]\n    - available beans:\n        - CLASS bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper]\n        - PRODUCER FIELD bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper com.example.weld.HelloUnitTest.helperMock, declaringBean=com.example.weld.HelloUnitTest]\n</code></pre>\n<p>This happens even if the tests are in different packages. To some extend I understand why scanning more than one class/package is intended for a <code>@QuarkusTest</code>, but I don't like it in this case.</p>\n<p>So my question is:</p>\n<blockquote>\n<p>How can I configure what beans/classes/packages a <code>@QuarkusTest</code> picks up and which it ignores?</p>\n</blockquote>\n<p>I have tried playing around with the Arc settings in <code>application-test.properties</code>, but so far have not found the right combination of properties.</p>\n"},{"tags":["java","elasticsearch","lucene","query-parser"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676467677,"post_id":75458038,"comment_id":133141960,"body_markdown":"Wildcards are for terms, not for field names. And also, the `QueryParser` [constructor](https://lucene.apache.org/core/9_5_0/queryparser/org/apache/lucene/queryparser/classic/QueryParser.html#%3Cinit%3E(java.lang.String,org.apache.lucene.analysis.Analyzer)) in your code is using that first parameter to define the _default_ field name (the field name to use if you do not provide one explicitly).","body":"Wildcards are for terms, not for field names. And also, the <code>QueryParser</code> <a href=\"https://lucene.apache.org/core/9_5_0/queryparser/org/apache/lucene/queryparser/classic/QueryParser.html#%3Cinit%3E(java.lang.String,org.apache.lucene.analysis.Analyzer)\" rel=\"nofollow noreferrer\">constructor</a> in your code is using that first parameter to define the <i>default</i> field name (the field name to use if you do not provide one explicitly)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676467725,"post_id":75458038,"comment_id":133141982,"body_markdown":"Each document in a Lucene index may have different field names. You can search in Stack Overflow for ways to access all the field names in each document. Here is [one approach](https://stackoverflow.com/a/62158685/12567365). Note also the comment in that answer about handling deleted docs.","body":"Each document in a Lucene index may have different field names. You can search in Stack Overflow for ways to access all the field names in each document. Here is <a href=\"https://stackoverflow.com/a/62158685/12567365\">one approach</a>. Note also the comment in that answer about handling deleted docs."},{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1676513511,"post_id":75458038,"comment_id":133153806,"body_markdown":"Thank you for your answer. And I know to use QueryParser to search either sigle field or multi fields by lucene. But I Just don&#39;t know how to search for every fields in documents I&#39;d insert to the index. I learned to pass `*` to QueryParser as default field by reading the source code of `ElasticSearch-7.10.2, QueryStringQueryBuilder.java:876`. When using the query_string of ES and default field is not specified, ElasticSearch will call the constructor of class QueryStringQueryParser, which inherited from lucene.QueryParser, and will use `*` as the first parameter.","body":"Thank you for your answer. And I know to use QueryParser to search either sigle field or multi fields by lucene. But I Just don&#39;t know how to search for every fields in documents I&#39;d insert to the index. I learned to pass <code>*</code> to QueryParser as default field by reading the source code of <code>ElasticSearch-7.10.2, QueryStringQueryBuilder.java:876</code>. When using the query_string of ES and default field is not specified, ElasticSearch will call the constructor of class QueryStringQueryParser, which inherited from lucene.QueryParser, and will use <code>*</code> as the first parameter."},{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1676513666,"post_id":75458038,"comment_id":133153825,"body_markdown":"The behavior i talked above has also been decleared in [link](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html) in `default_field`, thanks again.","body":"The behavior i talked above has also been decleared in <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html\" rel=\"nofollow noreferrer\">link</a> in <code>default_field</code>, thanks again."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676513765,"post_id":75458038,"comment_id":133153842,"body_markdown":"If you are looking for an ElasticSearch answer, you can ask an ElasticSearch question with the relevant tags.","body":"If you are looking for an ElasticSearch answer, you can ask an ElasticSearch question with the relevant tags."},{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1676515006,"post_id":75458038,"comment_id":133153954,"body_markdown":"thanks for advice, btw I&#39;m using lucene-9.4.1","body":"thanks for advice, btw I&#39;m using lucene-9.4.1"}],"answers":[{"comments":[{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1677636824,"post_id":75580157,"comment_id":133376122,"body_markdown":"Yes, I had tried to use `MultiFieldQueryParser ` and specify all the fields and it worked. I think maybe it&#39;s my wrong usage of `QueryParser`, and it just doesn&#39;t support to use `*` as default field name. But still, I&#39;m confused about the usage of passing `*` to QueryParser as the first parameter from the ElasticSearch source code.","body":"Yes, I had tried to use <code>MultiFieldQueryParser </code> and specify all the fields and it worked. I think maybe it&#39;s my wrong usage of <code>QueryParser</code>, and it just doesn&#39;t support to use <code>*</code> as default field name. But still, I&#39;m confused about the usage of passing <code>*</code> to QueryParser as the first parameter from the ElasticSearch source code."}],"tags":[],"owner":{"account_id":26271720,"reputation":466,"user_id":19941536,"display_name":"Seasers"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677498866,"creation_date":1677498866,"answer_id":75580157,"question_id":75458038,"body_markdown":"Have you ever tried the [MultiFieldQueryParser](https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/classic/MultiFieldQueryParser.html#parse-java.lang.String:A-java.lang.String:A-org.apache.lucene.analysis.Analyzer-)?   \r\nIn this case you have to specify all fields where to want to search on.\r\n\r\n","title":"search with lucene&#39;s QueryParser while setting fieldName to &quot;*&quot; failed?","body":"<p>Have you ever tried the <a href=\"https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/classic/MultiFieldQueryParser.html#parse-java.lang.String:A-java.lang.String:A-org.apache.lucene.analysis.Analyzer-\" rel=\"nofollow noreferrer\">MultiFieldQueryParser</a>?<br />\nIn this case you have to specify all fields where to want to search on.</p>\n"}],"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677498866,"creation_date":1676454901,"question_id":75458038,"body_markdown":"I want to search through all fields in the index by lucene, and I learned to do this by writting the code like this:\r\n\r\n```\r\n//Create a parser that searches through all fields\r\nQueryParser queryParser = new QueryParser(&quot;*&quot;, new StandardAnalyzer()); \r\n\r\n//Specify the search terms\r\nString queryString = &quot;search terms&quot;;\r\n\r\n//Create the query to search through all fields\r\nQuery query = queryParser.parse(queryString); \r\n\r\n//Execute the query and get the results\r\nIndexSearcher searcher = new IndexSearcher(indexReader); \r\nTopDocs results = searcher.search(query, 100); \r\nScoreDoc[] hits = results.scoreDocs; \r\n\r\n//Iterate through the results\r\nfor (ScoreDoc hit : hits) { \r\n  Document doc = searcher.doc(hit.doc); \r\n  //Process the document\r\n}\r\n```\r\n\r\nwhen I setted first parameter of QueryParser Constructor to &quot;*&quot;, like the code above, and I got nothing from the TopDocs(which I had expected to search through all fields of the documents I&#39;d write into the index and returnd all matching documents), the &quot;hits.totalHits&quot; returns 0.\r\n\r\nCan anyone tell me what is wrong with my code or how to write code using QueryParser to search through all fields in the index?\r\n\r\nThanks!\r\n","title":"search with lucene&#39;s QueryParser while setting fieldName to &quot;*&quot; failed?","body":"<p>I want to search through all fields in the index by lucene, and I learned to do this by writting the code like this:</p>\n<pre><code>//Create a parser that searches through all fields\nQueryParser queryParser = new QueryParser(&quot;*&quot;, new StandardAnalyzer()); \n\n//Specify the search terms\nString queryString = &quot;search terms&quot;;\n\n//Create the query to search through all fields\nQuery query = queryParser.parse(queryString); \n\n//Execute the query and get the results\nIndexSearcher searcher = new IndexSearcher(indexReader); \nTopDocs results = searcher.search(query, 100); \nScoreDoc[] hits = results.scoreDocs; \n\n//Iterate through the results\nfor (ScoreDoc hit : hits) { \n  Document doc = searcher.doc(hit.doc); \n  //Process the document\n}\n</code></pre>\n<p>when I setted first parameter of QueryParser Constructor to &quot;*&quot;, like the code above, and I got nothing from the TopDocs(which I had expected to search through all fields of the documents I'd write into the index and returnd all matching documents), the &quot;hits.totalHits&quot; returns 0.</p>\n<p>Can anyone tell me what is wrong with my code or how to write code using QueryParser to search through all fields in the index?</p>\n<p>Thanks!</p>\n"},{"tags":["java","xml","x509"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1559673837,"post_id":56449209,"comment_id":99492544,"body_markdown":"You can check this https://stackoverflow.com/questions/12528667/xml-digital-signature-java","body":"You can check this <a href=\"https://stackoverflow.com/questions/12528667/xml-digital-signature-java\" title=\"xml digital signature java\">stackoverflow.com/questions/12528667/xml-digital-signature-j&zwnj;&#8203;ava</a>"},{"owner":{"account_id":7120823,"reputation":498,"user_id":5445515,"display_name":"Nicolas G. Duvivier"},"score":0,"creation_date":1559683492,"post_id":56449209,"comment_id":99496355,"body_markdown":"@Sambit Tanks for your comment. Unforunately, this help as the topic is a bit different.","body":"@Sambit Tanks for your comment. Unforunately, this help as the topic is a bit different."}],"answers":[{"tags":[],"owner":{"account_id":7120823,"reputation":498,"user_id":5445515,"display_name":"Nicolas G. Duvivier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1561441944,"creation_date":1561441944,"answer_id":56747613,"question_id":56449209,"body_markdown":"I ended up finding more a work around than a solution. The idea is to get the Element I need with XMLHelper using the DOM, getting the ID Attr from the element. Then I add the attribute with setIdAttributeNode() to my Element.\r\nWhen manipulating the Element that way, no Exception is thrown when adding a new Reference to the XMLSignatureFactory.\r\n\r\n    NodeList list = doc.getElementsByTagName(&quot;wsu:Timestamp&quot;);\r\n\t\tNode node = list.item(0);\r\n\t\tElement tempEl = XMLHelper.getChildElementsByTagName(doc.getDocumentElement(), &quot;Header&quot;).get(0);\r\n\t\tElement securityElement = XMLHelper.getChildElementsByTagName(tempEl, &quot;Security&quot;).get(0);\r\n\r\n\t\ttempEl = XMLHelper.getChildElementsByTagName(securityElement, &quot;Assertion&quot;).get(0);\r\n\t\tAttr attr = (Attr)tempEl.getAttributes().getNamedItem(&quot;AssertionID&quot;);\r\n\t\ttempEl.setIdAttributeNode(attr, true);\r\n\t\tString ref = &quot;#&quot; + attr.getValue();\r\n\t\t\r\n\t\tList&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\r\n\t\trefs.add(fac.newReference(\r\n\t\t\t\tref,\r\n\t\t\t\tfac.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null),\r\n\t\t\t\tCollections.singletonList(fac.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,(TransformParameterSpec) null)),\r\n\t\t\t\tnull,\r\n\t\t\t\tnull));\r\n\r\nThis is not an ideal solution in my opinion as it is too much related to the DOM of the XML. But I suppose that was the only solution I could find to make it work and go around the known bug within the JDK.","title":"ResourceResolverException while signing an XML","body":"<p>I ended up finding more a work around than a solution. The idea is to get the Element I need with XMLHelper using the DOM, getting the ID Attr from the element. Then I add the attribute with setIdAttributeNode() to my Element.\nWhen manipulating the Element that way, no Exception is thrown when adding a new Reference to the XMLSignatureFactory.</p>\n\n<pre><code>NodeList list = doc.getElementsByTagName(\"wsu:Timestamp\");\n    Node node = list.item(0);\n    Element tempEl = XMLHelper.getChildElementsByTagName(doc.getDocumentElement(), \"Header\").get(0);\n    Element securityElement = XMLHelper.getChildElementsByTagName(tempEl, \"Security\").get(0);\n\n    tempEl = XMLHelper.getChildElementsByTagName(securityElement, \"Assertion\").get(0);\n    Attr attr = (Attr)tempEl.getAttributes().getNamedItem(\"AssertionID\");\n    tempEl.setIdAttributeNode(attr, true);\n    String ref = \"#\" + attr.getValue();\n\n    List&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\n    refs.add(fac.newReference(\n            ref,\n            fac.newDigestMethod(\"http://www.w3.org/2000/09/xmldsig#sha1\", null),\n            Collections.singletonList(fac.newTransform(\"http://www.w3.org/2001/10/xml-exc-c14n#\",(TransformParameterSpec) null)),\n            null,\n            null));\n</code></pre>\n\n<p>This is not an ideal solution in my opinion as it is too much related to the DOM of the XML. But I suppose that was the only solution I could find to make it work and go around the known bug within the JDK.</p>\n"},{"tags":[],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677498823,"creation_date":1677433683,"answer_id":75573910,"question_id":56449209,"body_markdown":"Error came when sign the document.\r\nAfter a lot of research, I found the solution.\r\n**Before sign the document** &lt;signature.sign(dsc);&gt; **setURIDereferencer** **to empty** like the below code sample\r\n\r\n\r\n        DOMSignContext dsc = new DOMSignContext(keyPair.getPrivateKey(), \r\n        document.getDocumentElement());\r\n\r\n        dsc.setURIDereferencer(new EmptyURIDereferencer(document));\r\n\r\nAnd write below code the same file as the inner class\r\n\r\n    class EmptyURIDereferencer implements URIDereferencer {\r\n\r\n    private Node data = null;\r\n\r\n    public EmptyURIDereferencer(Node node) {\r\n\r\n        data = node;\r\n    }\r\n\r\n    public Data dereference(URIReference ref, XMLCryptoContext ctxt) {\r\n\r\n        return new NodeSetData() {\r\n            public Iterator iterator() {\r\n\r\n                return Collections.singletonList(data).iterator();\r\n            }\r\n        };\r\n    }\r\n}","title":"ResourceResolverException while signing an XML","body":"<p>Error came when sign the document.\nAfter a lot of research, I found the solution.\n<strong>Before sign the document</strong> &lt;signature.sign(dsc);&gt; <strong>setURIDereferencer</strong> <strong>to empty</strong> like the below code sample</p>\n<pre><code>    DOMSignContext dsc = new DOMSignContext(keyPair.getPrivateKey(), \n    document.getDocumentElement());\n\n    dsc.setURIDereferencer(new EmptyURIDereferencer(document));\n</code></pre>\n<p>And write below code the same file as the inner class</p>\n<pre><code>class EmptyURIDereferencer implements URIDereferencer {\n\nprivate Node data = null;\n\npublic EmptyURIDereferencer(Node node) {\n\n    data = node;\n}\n\npublic Data dereference(URIReference ref, XMLCryptoContext ctxt) {\n\n    return new NodeSetData() {\n        public Iterator iterator() {\n\n            return Collections.singletonList(data).iterator();\n        }\n    };\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7120823,"reputation":498,"user_id":5445515,"display_name":"Nicolas G. Duvivier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56747613,"answer_count":2,"score":1,"last_activity_date":1677498823,"creation_date":1559671584,"question_id":56449209,"body_markdown":"I&#39;m desperately trying to sign an XML document with a X509 certificate.\r\nI have to sign multiple elements in my document, so I&#39;m giving a List of Reference to my SignedInfo.\r\n\r\nThe problem I&#39;m facing occurs at the signature itself. I receive an exception saying that it cannot resolve an element with the ID I provide.\r\n\r\nWhile researching to find a solution, I stumbled upon this ticket (which is a bug of OpenJDK 1.7) : https://bugs.openjdk.java.net/browse/JDK-8017171\r\n\r\nI&#39;m using Oracle JDK 1.8 and still have the problem.\r\n\r\n**Code** :\r\n----------\r\n```java\r\nXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n\t\t\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\n\t\t\r\nDocument doc = dbf.newDocumentBuilder().parse(new FileInputStream(unsignedXml));\r\n\t\t\r\nList&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\r\nrefs.add(fac.newReference(\r\n\t\t&quot;#TS&quot;,\r\n\t\tfac.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null),\r\n\t\tCollections.singletonList(fac.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,(TransformParameterSpec) null)),\r\n\t\tnull, null));\r\n\r\nSignedInfo si = fac.newSignedInfo(\r\n\t\tfac.newCanonicalizationMethod(CanonicalizationMethod.EXCLUSIVE,\r\n\t\t\t\t(C14NMethodParameterSpec) null),\r\n\t\tfac.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null),\r\n\t\trefs);\r\n\t\t\r\nFileInputStream input = new FileInputStream(keystoreFile);\r\nKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\nks.load(input, password.toCharArray());\r\nKey key = ks.getKey(alias, password.toCharArray());\r\nif (key instanceof PrivateKey) {\r\n\tCertificate cert = ks.getCertificate(alias);\r\n\tPublicKey publicKey = cert.getPublicKey();\r\n\tkeyPair = new KeyPair(publicKey, (PrivateKey) key);\r\n}\r\n\t\t\r\nKeyInfoFactory kif = fac.getKeyInfoFactory();\r\nKeyValue kv = kif.newKeyValue(keyPair.getPublic());\r\nKeyInfo ki = kif.newKeyInfo(Collections.singletonList(kv));\r\n\t\t\r\nDOMSignContext dsc = new DOMSignContext(keyPair.getPrivate(), doc.getDocumentElement());\r\n\t\t\r\nXMLSignature signature = fac.newXMLSignature(si, ki);\r\n\t\t\r\nsignature.sign(dsc);\r\n\t\t\r\nOutputStream out = new FileOutputStream(signedXml);\r\n```\r\n\r\n**Exception** :\r\n---------------\r\n```\r\nException in thread &quot;main&quot; javax.xml.crypto.dsig.XMLSignatureException: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:431)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\r\n\tat testsig.testsig.Signature.sign(Signature.java:131)\r\n\tat testsig.testsig.App.main(App.java:32)\r\nCaused by: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\r\n\t... 5 more\r\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\r\n\t... 6 more\r\njavax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\r\n\tat testsig.testsig.Signature.sign(Signature.java:131)\r\n\tat testsig.testsig.App.main(App.java:32)\r\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\r\n\t... 6 more\r\n```\r\n\r\nMy problem could be solved with at least one answer to those following questions :\r\nIs there a workaround ?\r\nIs there an other way of signing XML files ?\r\n\r\nRegards","title":"ResourceResolverException while signing an XML","body":"<p>I'm desperately trying to sign an XML document with a X509 certificate.\nI have to sign multiple elements in my document, so I'm giving a List of Reference to my SignedInfo.</p>\n\n<p>The problem I'm facing occurs at the signature itself. I receive an exception saying that it cannot resolve an element with the ID I provide.</p>\n\n<p>While researching to find a solution, I stumbled upon this ticket (which is a bug of OpenJDK 1.7) : <a href=\"https://bugs.openjdk.java.net/browse/JDK-8017171\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8017171</a></p>\n\n<p>I'm using Oracle JDK 1.8 and still have the problem.</p>\n\n<h2><strong>Code</strong> :</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\n\nDocument doc = dbf.newDocumentBuilder().parse(new FileInputStream(unsignedXml));\n\nList&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\nrefs.add(fac.newReference(\n        \"#TS\",\n        fac.newDigestMethod(\"http://www.w3.org/2000/09/xmldsig#sha1\", null),\n        Collections.singletonList(fac.newTransform(\"http://www.w3.org/2001/10/xml-exc-c14n#\",(TransformParameterSpec) null)),\n        null, null));\n\nSignedInfo si = fac.newSignedInfo(\n        fac.newCanonicalizationMethod(CanonicalizationMethod.EXCLUSIVE,\n                (C14NMethodParameterSpec) null),\n        fac.newSignatureMethod(\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\", null),\n        refs);\n\nFileInputStream input = new FileInputStream(keystoreFile);\nKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\nks.load(input, password.toCharArray());\nKey key = ks.getKey(alias, password.toCharArray());\nif (key instanceof PrivateKey) {\n    Certificate cert = ks.getCertificate(alias);\n    PublicKey publicKey = cert.getPublicKey();\n    keyPair = new KeyPair(publicKey, (PrivateKey) key);\n}\n\nKeyInfoFactory kif = fac.getKeyInfoFactory();\nKeyValue kv = kif.newKeyValue(keyPair.getPublic());\nKeyInfo ki = kif.newKeyInfo(Collections.singletonList(kv));\n\nDOMSignContext dsc = new DOMSignContext(keyPair.getPrivate(), doc.getDocumentElement());\n\nXMLSignature signature = fac.newXMLSignature(si, ki);\n\nsignature.sign(dsc);\n\nOutputStream out = new FileOutputStream(signedXml);\n</code></pre>\n\n<h2><strong>Exception</strong> :</h2>\n\n<pre><code>Exception in thread \"main\" javax.xml.crypto.dsig.XMLSignatureException: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:431)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\n    at testsig.testsig.Signature.sign(Signature.java:131)\n    at testsig.testsig.App.main(App.java:32)\nCaused by: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\n    ... 5 more\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\n    at com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\n    ... 6 more\njavax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\n    at testsig.testsig.Signature.sign(Signature.java:131)\n    at testsig.testsig.App.main(App.java:32)\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\n    at com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\n    ... 6 more\n</code></pre>\n\n<p>My problem could be solved with at least one answer to those following questions :\nIs there a workaround ?\nIs there an other way of signing XML files ?</p>\n\n<p>Regards</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677498471,"post_id":75579999,"comment_id":133343006,"body_markdown":"Copy the first (the complete) list using `new ArrayList&lt;&gt;(list1)`. From the copy delete elements that are also in the other list using the `removeAll()` method passing `list2` as argument. Now the copy contains the missing element or elements -- or is empty if there weren’t any.","body":"Copy the first (the complete) list using <code>new ArrayList&lt;&gt;(list1)</code>. From the copy delete elements that are also in the other list using the <code>removeAll()</code> method passing <code>list2</code> as argument. Now the copy contains the missing element or elements -- or is empty if there weren’t any."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677499197,"post_id":75579999,"comment_id":133343186,"body_markdown":"Does this answer your question? [How can I return the difference between two lists?](https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists\">How can I return the difference between two lists?</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677502528,"post_id":75579999,"comment_id":133344118,"body_markdown":"What is your expected result is a string occurs more than once in either of the lists? Say, 3 times in the complete list and only twice in the second list. Or three times in the complete list and not at all in the second list.","body":"What is your expected result is a string occurs more than once in either of the lists? Say, 3 times in the complete list and only twice in the second list. Or three times in the complete list and not at all in the second list."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677498426,"creation_date":1677498426,"answer_id":75580071,"question_id":75579999,"body_markdown":"You could try something like that:\r\n\r\n\r\n    public static List&lt;String&gt; ListDiff(List&lt;String&gt; a, List&lt;String&gt; b) {\r\n        return a.stream()\r\n                .filter(s-&gt;!b.contains(s))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nBut note that if you were using `Set`s instead of `List`s, you could use `removeAll` that would probably be much faster.","title":"Find a missing element in a collection","body":"<p>You could try something like that:</p>\n<pre><code>public static List&lt;String&gt; ListDiff(List&lt;String&gt; a, List&lt;String&gt; b) {\n    return a.stream()\n            .filter(s-&gt;!b.contains(s))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>But note that if you were using <code>Set</code>s instead of <code>List</code>s, you could use <code>removeAll</code> that would probably be much faster.</p>\n"},{"comments":[{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":1,"creation_date":1677498741,"post_id":75580121,"comment_id":133343077,"body_markdown":"i believe the author is looking for a solution in java.","body":"i believe the author is looking for a solution in java."}],"tags":[],"owner":{"account_id":18996968,"reputation":1,"user_id":13864962,"display_name":"Samurai9954"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677498701,"creation_date":1677498701,"answer_id":75580121,"question_id":75579999,"body_markdown":"Basically, you need to check if each element of list 1 is in list 2 or not. It it&#39;s present, do nothing. If it&#39;s not, print it. I&#39;m gonna solve this problem using python as that&#39;s what I&#39;m good at haha.\r\n\r\nLet us say your first list is [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;] and the second list is [&#39;A&#39;, &#39;B&#39;]. Then,\r\n\r\n    list1 = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]\r\n    list2 = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]\r\n    if list1 == list2:\r\n        print(&quot;Equal lists&quot;)\r\n    else:\r\n        for i in list1:\r\n            if i not in list2:\r\n                print(i)","title":"Find a missing element in a collection","body":"<p>Basically, you need to check if each element of list 1 is in list 2 or not. It it's present, do nothing. If it's not, print it. I'm gonna solve this problem using python as that's what I'm good at haha.</p>\n<p>Let us say your first list is ['A', 'B', 'C'] and the second list is ['A', 'B']. Then,</p>\n<pre><code>list1 = ['A', 'B', 'C']\nlist2 = ['A', 'B', 'C']\nif list1 == list2:\n    print(&quot;Equal lists&quot;)\nelse:\n    for i in list1:\n        if i not in list2:\n            print(i)\n</code></pre>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677498701,"creation_date":1677497941,"question_id":75579999,"body_markdown":"There are 2 lists  containing some string elements. These lists may be equal or there may be some missing elements in second list. \r\n\r\n\r\n\r\nThe task is to compare these 2 lists and to find a missing emlenet or missing elements in second list and print them.","title":"Find a missing element in a collection","body":"<p>There are 2 lists  containing some string elements. These lists may be equal or there may be some missing elements in second list.</p>\n<p>The task is to compare these 2 lists and to find a missing emlenet or missing elements in second list and print them.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677494137,"post_id":75579332,"comment_id":133341889,"body_markdown":"keep a boolean -&gt; while (String s : mustBeIn ) if ( !originalString.contains(s)) flag = false;","body":"keep a boolean -&gt; while (String s : mustBeIn ) if ( !originalString.contains(s)) flag = false;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677494154,"post_id":75579332,"comment_id":133341893,"body_markdown":"break out of the loop if you encounter false, and you&#39;ll have your answer","body":"break out of the loop if you encounter false, and you&#39;ll have your answer"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677494154,"post_id":75579332,"comment_id":133341894,"body_markdown":"Ok, so what is the problem with your code? My guess is that strings that happen to include multiple strings from `words` are concatenated multiple times? In that case you need a strategically-placed `break;`","body":"Ok, so what is the problem with your code? My guess is that strings that happen to include multiple strings from <code>words</code> are concatenated multiple times? In that case you need a strategically-placed <code>break;</code>"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677495387,"creation_date":1677494790,"answer_id":75579455,"question_id":75579332,"body_markdown":"Your code is correct but needs some modification on your code.\r\n\r\n    public String text(String[] words, String[] strings) {\r\n        String concatedStrings = &quot;&quot;;\r\n        for (String s : strings) { // loop through all the strings\r\n            boolean containsAllWords = true;\r\n            for (String word : words) { // check if the current string contains all the words\r\n                if (!s.contains(word)) {\r\n                    containsAllWords = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (containsAllWords) {\r\n                concatedStrings += s;\r\n            }\r\n        }\r\n        return concatedStrings;\r\n    }\r\n\r\nin main method:\r\n\r\n    String[] words = {&quot;hello&quot;, &quot;world&quot;};\r\n    String[] strings= {&quot;hello world&quot;, &quot;world hello&quot;, &quot;hello there&quot;};","title":"How to write a method that returns strings that contain every object from an array","body":"<p>Your code is correct but needs some modification on your code.</p>\n<pre><code>public String text(String[] words, String[] strings) {\n    String concatedStrings = &quot;&quot;;\n    for (String s : strings) { // loop through all the strings\n        boolean containsAllWords = true;\n        for (String word : words) { // check if the current string contains all the words\n            if (!s.contains(word)) {\n                containsAllWords = false;\n                break;\n            }\n        }\n        if (containsAllWords) {\n            concatedStrings += s;\n        }\n    }\n    return concatedStrings;\n}\n</code></pre>\n<p>in main method:</p>\n<pre><code>String[] words = {&quot;hello&quot;, &quot;world&quot;};\nString[] strings= {&quot;hello world&quot;, &quot;world hello&quot;, &quot;hello there&quot;};\n</code></pre>\n"}],"owner":{"account_id":26210157,"reputation":15,"user_id":19889173,"display_name":"Orwellian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579455,"answer_count":1,"score":0,"last_activity_date":1677498586,"creation_date":1677494009,"question_id":75579332,"body_markdown":"I want to write a method that has an array (not arrayList) as a parameter. That method should check if multiple strings contain all the words stated in the array, and therefore returns strings that do. Is there a way of doing it just by using for loops and string methods?\r\n\r\nI tried to do something like this:\r\n\r\n```\r\npublic String text (String[] words) {\r\n    String concatedStrings = &quot;&quot;;\r\n    for(int i = 0; i &lt; numStrings.length; i++) {\r\n        if(numStrings[i] != null) {\r\n            for(int j = 0; j &lt; words.length; j++) {\r\n                if(numStrings[i].contains(words[j])) {\r\n                    concatedStrings += numStrings[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return concatedStrings;\r\n}\r\n```\r\n","title":"How to write a method that returns strings that contain every object from an array","body":"<p>I want to write a method that has an array (not arrayList) as a parameter. That method should check if multiple strings contain all the words stated in the array, and therefore returns strings that do. Is there a way of doing it just by using for loops and string methods?</p>\n<p>I tried to do something like this:</p>\n<pre><code>public String text (String[] words) {\n    String concatedStrings = &quot;&quot;;\n    for(int i = 0; i &lt; numStrings.length; i++) {\n        if(numStrings[i] != null) {\n            for(int j = 0; j &lt; words.length; j++) {\n                if(numStrings[i].contains(words[j])) {\n                    concatedStrings += numStrings[i];\n                }\n            }\n        }\n    }\n    return concatedStrings;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677321263,"creation_date":1677321263,"answer_id":75564792,"question_id":75564680,"body_markdown":"You&#39;re having a data type issue. The error you&#39;re bouncing against is generated [here][1] in the Hive source code:\r\n\r\n```java\r\n  @Override\r\n  public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\r\n    final Object val = getObject(columnIndex);\r\n    if (val == null) {\r\n      return null;\r\n    }\r\n    if (val instanceof BigDecimal) {\r\n      return (BigDecimal) val;\r\n    }\r\n    throw new SQLException(&quot;Illegal conversion to BigDecimal from column &quot; + columnIndex + &quot; [&quot; + val + &quot;]&quot;);\r\n  }\r\n```\r\n\r\nSeems like one or more of your values is neither `== null`, neither `instanceof BigDecimal`.\r\n\r\nTry to cast the problematic column to a double or a string for example to see what the issue is.\r\n\r\n**Why did printSchema and count work and not show?**\r\n\r\nBecause both `printSchema` and `count` do not evaluate single values within each row of your table: `show` does because it has to show `N` lines of the actual data.\r\n\r\n  [1]: https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java#L147-L157","title":"Error occurs when calling show method in spark dataset?","body":"<p>You're having a data type issue. The error you're bouncing against is generated <a href=\"https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java#L147-L157\" rel=\"nofollow noreferrer\">here</a> in the Hive source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\n    final Object val = getObject(columnIndex);\n    if (val == null) {\n      return null;\n    }\n    if (val instanceof BigDecimal) {\n      return (BigDecimal) val;\n    }\n    throw new SQLException(&quot;Illegal conversion to BigDecimal from column &quot; + columnIndex + &quot; [&quot; + val + &quot;]&quot;);\n  }\n</code></pre>\n<p>Seems like one or more of your values is neither <code>== null</code>, neither <code>instanceof BigDecimal</code>.</p>\n<p>Try to cast the problematic column to a double or a string for example to see what the issue is.</p>\n<p><strong>Why did printSchema and count work and not show?</strong></p>\n<p>Because both <code>printSchema</code> and <code>count</code> do not evaluate single values within each row of your table: <code>show</code> does because it has to show <code>N</code> lines of the actual data.</p>\n"},{"comments":[{"owner":{"account_id":12248992,"reputation":11,"user_id":8939923,"display_name":"Tim"},"score":0,"creation_date":1677337223,"post_id":75565131,"comment_id":133319823,"body_markdown":"To the first column for (String columnName: df.columns())\n    df.select(columnName).show();\nan exception occurs Caused by: org.apache.spark.sql.AnalysisException: cannot resolve &#39;test.repr&#39; given input columns: [test.a_act_id, test.adr &#39;Project [&#39;test.repr]\n+- Relation [test.repr#0,test.in_migration#1,test.iadr9#2,test.auto_email","body":"To the first column for (String columnName: df.columns())     df.select(columnName).show(); an exception occurs Caused by: org.apache.spark.sql.AnalysisException: cannot resolve &#39;test.repr&#39; given input columns: [test.a_act_id, test.adr &#39;Project [&#39;test.repr] +- Relation [test.repr#0,test.in_migration#1,test.iadr9#2,test.auto_emai&zwnj;&#8203;l"},{"owner":{"account_id":12248992,"reputation":11,"user_id":8939923,"display_name":"Tim"},"score":0,"creation_date":1677337298,"post_id":75565131,"comment_id":133319841,"body_markdown":"df.printSchema() root\n |-- test.repr: string (nullable = true)\n |-- test.in_migration: decimal(1,0) (nullable = true)\n |-- test.iadr9: string (nullable = true)\n |-- test.auto_email: string (nullable = true)\n |-- test.profit_tp: decimal(5,0) (nullable = true)\n |-- test.edo_name3: string (nullable = true)\n |-- test.auto_fax: string (nullable = true)\n |-- test.inv_mail: string (nullable = true)\n |-- test.custmail: string (nullable = true)\n ....","body":"df.printSchema() root  |-- test.repr: string (nullable = true)  |-- test.in_migration: decimal(1,0) (nullable = true)  |-- test.iadr9: string (nullable = true)  |-- test.auto_email: string (nullable = true)  |-- test.profit_tp: decimal(5,0) (nullable = true)  |-- test.edo_name3: string (nullable = true)  |-- test.auto_fax: string (nullable = true)  |-- test.inv_mail: string (nullable = true)  |-- test.custmail: string (nullable = true)  ...."}],"tags":[],"owner":{"account_id":20892401,"reputation":51,"user_id":15347513,"display_name":"marc nicole"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677326037,"creation_date":1677325194,"answer_id":75565131,"question_id":75564680,"body_markdown":"What I would do to debug the problem is to check which column is causing the issue, for example through the following code:\r\n\r\n    for (String columnName: df.columns())\r\n        df.select(columnName).show();\r\n\r\nthen when the column name is known i would cast the corresponding column into double like this:\r\n\r\n    df = df.withColumn(targetColumnName,df.col(targetColumnName).cast(&quot;double&quot;));\r\n\r\nAlso try to infer the schema when you read from Hive using the `.option(&quot;inferSchema&quot;,&quot;true&quot;)`\r\n\r\nHope this helps.\r\n","title":"Error occurs when calling show method in spark dataset?","body":"<p>What I would do to debug the problem is to check which column is causing the issue, for example through the following code:</p>\n<pre><code>for (String columnName: df.columns())\n    df.select(columnName).show();\n</code></pre>\n<p>then when the column name is known i would cast the corresponding column into double like this:</p>\n<pre><code>df = df.withColumn(targetColumnName,df.col(targetColumnName).cast(&quot;double&quot;));\n</code></pre>\n<p>Also try to infer the schema when you read from Hive using the <code>.option(&quot;inferSchema&quot;,&quot;true&quot;)</code></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":12248992,"reputation":11,"user_id":8939923,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677498273,"creation_date":1677320060,"question_id":75564680,"body_markdown":"I am reading data from hive using spring boot java and apache spark 3.2.1 and an error occurs when executing the show method. Please help\r\n`org.apache.spark.scheduler.DAGScheduler  : ResultStage 7 (show at SampleHiveController.java:62) failed in 7,461 s due to Job aborted due to stage failure: Task 0 in stage 7.0 failed 1 times, most recent failure: Lost task 0.0 in stage 7.0 (TID 5) : java.sql.SQLException: Illegal conversion\r\n  at org.apache.hive.jdbc.HiveBaseResultSet.getBigDecimal(HiveBaseResultSet.java:137)`\r\n\r\n```\r\n@RequestMapping(value = &quot;/spark&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public ResponseEntity&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; showSpark() {\r\n    SparkSession spark = SparkSession\r\n        .builder()\r\n        .master(&quot;local&quot;)\r\n        .appName(&quot;Java Spark Hive Example&quot;)\r\n        .enableHiveSupport()\r\n        .getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; df = spark.read()\r\n        .format(&quot;jdbc&quot;)\r\n        .option(&quot;url&quot;, &quot;jdbc:hive2://hdp31-dev-03.dmp.test.com:2181,hdp31-dev-01.dmp.test.com:2181,hdp31-dev-02.dmp.test.com:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;principal=hive/_HOST@WE.TEST.COM&quot;)\r\n        .option(&quot;dbtable&quot;, &quot;dds_test.test&quot;)\r\n        .option(&quot;user&quot;, &quot;user&quot;)\r\n        .option(&quot;password&quot;, &quot;test&quot;)\r\n        .option(&quot;driver&quot;, &quot;org.apache.hive.jdbc.HiveDriver&quot;)\r\n        .load();\r\n    System.out.println(&quot;*** Right after ingestion&quot;);\r\n\r\n    df.printSchema();\r\n    df.show();\r\n    \r\n```\r\n\r\n\r\nI tried to call the count and printShema methods, they work","title":"Error occurs when calling show method in spark dataset?","body":"<p>I am reading data from hive using spring boot java and apache spark 3.2.1 and an error occurs when executing the show method. Please help\n<code>org.apache.spark.scheduler.DAGScheduler  : ResultStage 7 (show at SampleHiveController.java:62) failed in 7,461 s due to Job aborted due to stage failure: Task 0 in stage 7.0 failed 1 times, most recent failure: Lost task 0.0 in stage 7.0 (TID 5) : java.sql.SQLException: Illegal conversion at org.apache.hive.jdbc.HiveBaseResultSet.getBigDecimal(HiveBaseResultSet.java:137)</code></p>\n<pre><code>@RequestMapping(value = &quot;/spark&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; showSpark() {\n    SparkSession spark = SparkSession\n        .builder()\n        .master(&quot;local&quot;)\n        .appName(&quot;Java Spark Hive Example&quot;)\n        .enableHiveSupport()\n        .getOrCreate();\n\n    Dataset&lt;Row&gt; df = spark.read()\n        .format(&quot;jdbc&quot;)\n        .option(&quot;url&quot;, &quot;jdbc:hive2://hdp31-dev-03.dmp.test.com:2181,hdp31-dev-01.dmp.test.com:2181,hdp31-dev-02.dmp.test.com:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;principal=hive/_HOST@WE.TEST.COM&quot;)\n        .option(&quot;dbtable&quot;, &quot;dds_test.test&quot;)\n        .option(&quot;user&quot;, &quot;user&quot;)\n        .option(&quot;password&quot;, &quot;test&quot;)\n        .option(&quot;driver&quot;, &quot;org.apache.hive.jdbc.HiveDriver&quot;)\n        .load();\n    System.out.println(&quot;*** Right after ingestion&quot;);\n\n    df.printSchema();\n    df.show();\n    \n</code></pre>\n<p>I tried to call the count and printShema methods, they work</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677496197,"post_id":75579555,"comment_id":133342446,"body_markdown":"Is it possible to share idea.log (&quot;Help | Show Log in..&quot;) after restarting IDE?","body":"Is it possible to share idea.log (&quot;Help | Show Log in..&quot;) after restarting IDE?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677496592,"post_id":75579555,"comment_id":133342554,"body_markdown":"did you click on the &quot;13 more items&quot;?","body":"did you click on the &quot;13 more items&quot;?"},{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677498353,"post_id":75579555,"comment_id":133342983,"body_markdown":"Yes. It still doesn&#39;t show there","body":"Yes. It still doesn&#39;t show there"},{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677501856,"post_id":75579555,"comment_id":133343909,"body_markdown":"@y.bedrov how can I share it to you?","body":"@y.bedrov how can I share it to you?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677752603,"post_id":75579555,"comment_id":133401366,"body_markdown":"Could you open &quot;Run | Edit Configurations...&quot; and add there? probably it would be shown at the bottom part.","body":"Could you open &quot;Run | Edit Configurations...&quot; and add there? probably it would be shown at the bottom part."}],"answers":[{"comments":[{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677498497,"post_id":75579751,"comment_id":133343019,"body_markdown":"It seems like only in a docker application it does not appear. In a simple web app I can access it.","body":"It seems like only in a docker application it does not appear. In a simple web app I can access it."}],"tags":[],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677496504,"creation_date":1677496504,"answer_id":75579751,"question_id":75579555,"body_markdown":"Firstly Go File -&gt; Invalidate Catches and restart.\r\nIt still does not appear Tomcat change the workspace. It must work.","title":"I can&#39;t add Tomcat run configuration to my project","body":"<p>Firstly Go File -&gt; Invalidate Catches and restart.\nIt still does not appear Tomcat change the workspace. It must work.</p>\n"}],"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677497856,"creation_date":1677495395,"question_id":75579555,"body_markdown":"Tomcat run configuration doesn&#39;t appear in the list for me. I have the IntelliJ IDEA Ultimate and the plugin for Tomcat installed. This is what configurations are available for me.\r\n\r\n[![](https://i.stack.imgur.com/3OMf5.png)](https://i.stack.imgur.com/3OMf5.png)\r\n\r\nI tried watching some tutorials on YouTube, but for all of them, the configuration was there.","title":"I can&#39;t add Tomcat run configuration to my project","body":"<p>Tomcat run configuration doesn't appear in the list for me. I have the IntelliJ IDEA Ultimate and the plugin for Tomcat installed. This is what configurations are available for me.</p>\n<p><a href=\"https://i.stack.imgur.com/3OMf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OMf5.png\" alt=\"\" /></a></p>\n<p>I tried watching some tutorials on YouTube, but for all of them, the configuration was there.</p>\n"},{"tags":["java","netbeans","java-9","hdpi"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":3,"creation_date":1482179816,"post_id":41230488,"comment_id":69660459,"body_markdown":"For that particular error you can just try to add `--add-opens java.base/java.net=ALL-UNNAMED` to your java command line","body":"For that particular error you can just try to add <code>--add-opens java.base&#47;java.net=ALL-UNNAMED</code> to your java command line"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":2,"creation_date":1482180372,"post_id":41230488,"comment_id":69660716,"body_markdown":"Another thing to try would be using Java 9 build 147 (or older). This breaking change has been introduced in build 148. See [here](http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html) for the announcement and some background.","body":"Another thing to try would be using Java 9 build 147 (or older). This breaking change has been introduced in build 148. See <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html\" rel=\"nofollow noreferrer\">here</a> for the announcement and some background."},{"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"score":0,"creation_date":1482181195,"post_id":41230488,"comment_id":69661089,"body_markdown":"@StefanZobel Do you know where to download the Java 9 build 147 ? I can&#39;t find any JDK which version is older then 149 in the official website.","body":"@StefanZobel Do you know where to download the Java 9 build 147 ? I can&#39;t find any JDK which version is older then 149 in the official website."},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":0,"creation_date":1482181782,"post_id":41230488,"comment_id":69661395,"body_markdown":"http://www.java.net/download/java/jdk9/archive/147/binaries/jdk-9-ea+147_windows-x64_bin.exe","body":"<a href=\"http://www.java.net/download/java/jdk9/archive/147/binaries/jdk-9-ea+147_windows-x64_bin.exe\" rel=\"nofollow noreferrer\">java.net/download/java/jdk9/archive/147/binaries/&hellip;</a>"},{"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"score":0,"creation_date":1482218696,"post_id":41230488,"comment_id":69673353,"body_markdown":"@StefanZobel, thx a lot. But I still can&#39;t use JDK 9 147 to open netbeans 8.2, so I change netbeans to [this version](http://bits.netbeans.org/download/trunk/nightly/2016-12-19_00-01-33/), and it works like a charm.","body":"@StefanZobel, thx a lot. But I still can&#39;t use JDK 9 147 to open netbeans 8.2, so I change netbeans to <a href=\"http://bits.netbeans.org/download/trunk/nightly/2016-12-19_00-01-33/\" rel=\"nofollow noreferrer\">this version</a>, and it works like a charm."}],"answers":[{"tags":[],"owner":{"account_id":2855140,"reputation":249,"user_id":2451556,"display_name":"SpacemanSpiff"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1489507464,"creation_date":1489507464,"answer_id":42790910,"question_id":41230488,"body_markdown":"As you noted yourself in a comment you need to use one of the nightly builds to get JDK 9 support. The full instructions are available here:\r\nhttp://wiki.netbeans.org/JDK9Support","title":"Netbeans 8.2 with jdk 9","body":"<p>As you noted yourself in a comment you need to use one of the nightly builds to get JDK 9 support. The full instructions are available here:\n<a href=\"http://wiki.netbeans.org/JDK9Support\" rel=\"noreferrer\">http://wiki.netbeans.org/JDK9Support</a></p>\n"},{"tags":[],"owner":{"account_id":8089359,"reputation":1,"user_id":6095810,"display_name":"Wael Al Khatib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512853327,"creation_date":1512853327,"answer_id":47733173,"question_id":41230488,"body_markdown":"You must update JAVA_HOME environment variable to correct path","title":"Netbeans 8.2 with jdk 9","body":"<p>You must update JAVA_HOME environment variable to correct path</p>\n"}],"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15993,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42790910,"answer_count":2,"score":16,"last_activity_date":1677497765,"creation_date":1482179281,"question_id":41230488,"body_markdown":"I have an issue on hdpi with netbeans, the icon become too small when I open it.\r\nThen I found the issue below. And someone says that jdk9 fix the resolution problem.\r\n\r\nhttps://netbeans.org/bugzilla/show_bug.cgi?id=252452\r\n\r\nHere is my environment:\r\n\r\n- OS: windows 10 (64bit)\r\n- JDK: JDK9 BUILD149\r\n- netbeans 8.2\r\n\r\nI downloaded jdk9 &amp; netbeans8.2 on windows10, hoping that JDK9 might fix the annoying resoution issue. Unfortunately, I can&#39;t open the netbeans.\r\n\r\nAfter I type this in cmd.\r\n&lt;code&gt;netbeans.exe --jdkhome &quot;C:\\Program Files\\Java\\jdk-9&quot;&lt;/code&gt;\r\nconsole show the error.\r\n&lt;pre&gt;&lt;code&gt;\r\nNo way to find original stream handler for jar protocol\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field transient java.net.URLStreamHandler java.net.URL.handler accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @4973813a\r\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:171)\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:165)\r\n        at org.netbeans.ProxyURLStreamHandlerFactory.register(ProxyURLStreamHandlerFactory.java:82)\r\n        at org.netbeans.JarClassLoader.&lt;clinit&gt;(JarClassLoader.java:141)\r\n        at org.netbeans.MainImpl.execute(MainImpl.java:178)\r\n        at org.netbeans.MainImpl.main(MainImpl.java:85)\r\n        at org.netbeans.Main.main(Main.java:83)\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nDoes anyone know how to use jdk9 with Netbeans ?\r\n","title":"Netbeans 8.2 with jdk 9","body":"<p>I have an issue on hdpi with netbeans, the icon become too small when I open it.\nThen I found the issue below. And someone says that jdk9 fix the resolution problem.</p>\n\n<p><a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=252452\" rel=\"noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=252452</a></p>\n\n<p>Here is my environment:</p>\n\n<ul>\n<li>OS: windows 10 (64bit)</li>\n<li>JDK: JDK9 BUILD149</li>\n<li>netbeans 8.2</li>\n</ul>\n\n<p>I downloaded jdk9 &amp; netbeans8.2 on windows10, hoping that JDK9 might fix the annoying resoution issue. Unfortunately, I can't open the netbeans.</p>\n\n<p>After I type this in cmd.\n<code>netbeans.exe --jdkhome \"C:\\Program Files\\Java\\jdk-9\"</code>\nconsole show the error.</p>\n\n<pre><code>\nNo way to find original stream handler for jar protocol\njava.lang.reflect.InaccessibleObjectException: Unable to make field transient java.net.URLStreamHandler java.net.URL.handler accessible: module java.base does not \"opens java.net\" to unnamed module @4973813a\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:171)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:165)\n        at org.netbeans.ProxyURLStreamHandlerFactory.register(ProxyURLStreamHandlerFactory.java:82)\n        at org.netbeans.JarClassLoader.(JarClassLoader.java:141)\n        at org.netbeans.MainImpl.execute(MainImpl.java:178)\n        at org.netbeans.MainImpl.main(MainImpl.java:85)\n        at org.netbeans.Main.main(Main.java:83)\n\n</code></pre>\n\n<p>Does anyone know how to use jdk9 with Netbeans ?</p>\n"},{"tags":["java","web-applications"],"answers":[{"tags":[],"owner":{"account_id":149916,"reputation":1406,"user_id":362752,"accept_rate":60,"display_name":"Nikola"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1330990703,"creation_date":1330990703,"answer_id":9575794,"question_id":5664084,"body_markdown":"First you need to download the tool from the website. Or you can go directly to [their sourceforge project location][1] and download the latest version.\r\n\r\nAfter you have downloaded it and unpacked, run from the terminal:\r\n\r\n    $ java -Xmx512m -jar tattletale.jar ~/Java/workspaces/mycoolprojects/projectX output-projectx\r\n\r\nassuming that the location to you project is *~/Java/workspaces/mycoolprojects/projectX*, and that you want the generated report to be stored in folder called *output-projectx*\r\n\r\nBest, \r\nNikola\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jboss/files/JBoss%20Tattletale/","title":"how to use JBoss Tattletale tool?","body":"<p>First you need to download the tool from the website. Or you can go directly to <a href=\"http://sourceforge.net/projects/jboss/files/JBoss%20Tattletale/\" rel=\"noreferrer\">their sourceforge project location</a> and download the latest version.</p>\n\n<p>After you have downloaded it and unpacked, run from the terminal:</p>\n\n<pre><code>$ java -Xmx512m -jar tattletale.jar ~/Java/workspaces/mycoolprojects/projectX output-projectx\n</code></pre>\n\n<p>assuming that the location to you project is <em>~/Java/workspaces/mycoolprojects/projectX</em>, and that you want the generated report to be stored in folder called <em>output-projectx</em></p>\n\n<p>Best, \nNikola</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677497671,"creation_date":1677497671,"answer_id":75579948,"question_id":5664084,"body_markdown":"If you are using maven for your project you can use their plugin.\r\nPlease change the below location accordingly.\r\n\r\n`&lt;source&gt;` - the folder where your project resides\r\n\r\n`&lt;destination&gt;` - where you need the reports to be generated\r\n\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jboss.tattletale&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tattletale-maven&lt;/artifactId&gt;\r\n            &lt;!-- The version of the plugin you want to use --&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;report&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                    &lt;!-- This is the location which will be scanned for generating tattletale reports\r\n                --&gt;\r\n                &lt;source&gt;/absolute/path/to/reports/dir&lt;/source&gt;\r\n                &lt;!-- This is where the reports will be generated --&gt;\r\n                &lt;destination&gt;/absolute/path/to/reports/dir&lt;/destination&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\nthen run `mvn clean package` \r\n\r\nIf you don&#39;t want your tests to run then add flag `-DskipTests` in the end\r\n\r\nyou can see the output folder (/absolute/path/to/reports/dir)  has files created. \r\n\r\nOpen index.html to view reports","title":"how to use JBoss Tattletale tool?","body":"<p>If you are using maven for your project you can use their plugin.\nPlease change the below location accordingly.</p>\n<p><code>&lt;source&gt;</code> - the folder where your project resides</p>\n<p><code>&lt;destination&gt;</code> - where you need the reports to be generated</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jboss.tattletale&lt;/groupId&gt;\n        &lt;artifactId&gt;tattletale-maven&lt;/artifactId&gt;\n        &lt;!-- The version of the plugin you want to use --&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n                &lt;!-- This is the location which will be scanned for generating tattletale reports\n            --&gt;\n            &lt;source&gt;/absolute/path/to/reports/dir&lt;/source&gt;\n            &lt;!-- This is where the reports will be generated --&gt;\n            &lt;destination&gt;/absolute/path/to/reports/dir&lt;/destination&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>then run <code>mvn clean package</code></p>\n<p>If you don't want your tests to run then add flag <code>-DskipTests</code> in the end</p>\n<p>you can see the output folder (/absolute/path/to/reports/dir)  has files created.</p>\n<p>Open index.html to view reports</p>\n"}],"owner":{"account_id":737746,"reputation":51,"user_id":708058,"display_name":"yogesh kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8358,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677497671,"creation_date":1302788127,"question_id":5664084,"body_markdown":"I need to reduce the size of JAR file in my project which is 9.17MB,I have already reduced it\r\nto 6.31MB by removing all the logger statements and dead code.I also have checked each JAR file individually by removing it and compiling it.With which I have removed upto 6 files.\r\n\r\nNow I want to reduce the size of JAR file upto 2 to 3 MB, and I have decided to use the tool\r\nJBoss Tattletale,\r\n\r\nHas anybody used it before? and If yes then please provide me the steps to install and run\r\nit.\r\nBTW I have already downloaded that tool from www.jboss.org website.\r\n\r\nThanks in advance!\r\n","title":"how to use JBoss Tattletale tool?","body":"<p>I need to reduce the size of JAR file in my project which is 9.17MB,I have already reduced it\nto 6.31MB by removing all the logger statements and dead code.I also have checked each JAR file individually by removing it and compiling it.With which I have removed upto 6 files.</p>\n\n<p>Now I want to reduce the size of JAR file upto 2 to 3 MB, and I have decided to use the tool\nJBoss Tattletale,</p>\n\n<p>Has anybody used it before? and If yes then please provide me the steps to install and run\nit.\nBTW I have already downloaded that tool from www.jboss.org website.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":14165594,"reputation":505,"user_id":10233647,"display_name":"The_Long_Distance_Runner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677497531,"creation_date":1677497531,"question_id":75579923,"body_markdown":"I&#39;ve already seen similiar questions, however the answers seem a little bit outdated or provide hack-like solutions (see below):\r\nhttps://stackoverflow.com/questions/53664224/how-to-detect-pocket-mode-in-android-programmatically\r\nhttps://stackoverflow.com/questions/48006623/how-to-disable-pocket-mode-in-android-by-java-code\r\n\r\nIs there any update for this? Perhaps Kotlin gives possibility to disable Pocket Mode programatically? \r\n\r\n**I&#39;m not interested in any quasi-solutions, like implementing my own PowerManager logic or installing separate app. All I want to is to have the ability to control Pocket Mode in the source code of my app ;-) Is it possible?**\r\n\r\nThanks in advance!","title":"Disable Android Pocket Mode programatically","body":"<p>I've already seen similiar questions, however the answers seem a little bit outdated or provide hack-like solutions (see below):\n<a href=\"https://stackoverflow.com/questions/53664224/how-to-detect-pocket-mode-in-android-programmatically\">How to detect pocket mode in android programmatically</a>\n<a href=\"https://stackoverflow.com/questions/48006623/how-to-disable-pocket-mode-in-android-by-java-code\">How to disable pocket mode in android by java code</a></p>\n<p>Is there any update for this? Perhaps Kotlin gives possibility to disable Pocket Mode programatically?</p>\n<p><strong>I'm not interested in any quasi-solutions, like implementing my own PowerManager logic or installing separate app. All I want to is to have the ability to control Pocket Mode in the source code of my app ;-) Is it possible?</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1675523647,"post_id":75346038,"comment_id":132949268,"body_markdown":"what is the final expected result regarding an input ?","body":"what is the final expected result regarding an input ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675523949,"post_id":75346038,"comment_id":132949336,"body_markdown":"You assign a literal to the result instead of using the array elements. Why? Bear in mind `java.util.Arrays.toString` already exists","body":"You assign a literal to the result instead of using the array elements. Why? Bear in mind <code>java.util.Arrays.toString</code> already exists"},{"owner":{"account_id":1199287,"reputation":3,"user_id":1170290,"display_name":"Cosimo Bressi"},"score":0,"creation_date":1675568607,"post_id":75346038,"comment_id":132956398,"body_markdown":"Basically, I was being tasked with creating the for loop so that it would return a string representation of all values of nums, with the values separated by spaces. I was adding useless code that did not do what was being asked.","body":"Basically, I was being tasked with creating the for loop so that it would return a string representation of all values of nums, with the values separated by spaces. I was adding useless code that did not do what was being asked."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675523971,"creation_date":1675523971,"answer_id":75346093,"question_id":75346038,"body_markdown":"You&#39;re actually doing quite nothing to reach your goal, you don&#39;t use `nums` values, and have defined a strange `String string = &quot;[1 , 2, 3, 4]&quot;;`\r\n\r\n---\r\n\r\nYou need to append all the values of `nums` to reach your goal, here are some ways\r\n\r\nAn array-style with existing method\r\n\r\n    // &#39;[1, 5, 8, 98]&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        return Arrays.toString(nums);\r\n    }\r\n\r\nA concatenatde-values style\r\n\r\n    // &#39;1,5,8,98&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        StringBuilder result = new StringBuilder();\r\n        String separator = &quot;&quot;;\r\n        for (int num : nums) {\r\n            result.append(separator).append(num);\r\n            separator = &quot;,&quot;;\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\nSame with brackets\r\n\r\n    // &#39;[1,5,8,98]&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n        String separator = &quot;&quot;;\r\n        for (int num : nums) {\r\n            result.append(separator).append(num);\r\n            separator = &quot;,&quot;;\r\n        }\r\n        return result.append(&quot;]&quot;).toString();\r\n    }","title":"String representation of all values of nums, with the values separated by spaces","body":"<p>You're actually doing quite nothing to reach your goal, you don't use <code>nums</code> values, and have defined a strange <code>String string = &quot;[1 , 2, 3, 4]&quot;;</code></p>\n<hr />\n<p>You need to append all the values of <code>nums</code> to reach your goal, here are some ways</p>\n<p>An array-style with existing method</p>\n<pre><code>// '[1, 5, 8, 98]'\npublic static String arrayToString(int[] nums) {\n    return Arrays.toString(nums);\n}\n</code></pre>\n<p>A concatenatde-values style</p>\n<pre><code>// '1,5,8,98'\npublic static String arrayToString(int[] nums) {\n    StringBuilder result = new StringBuilder();\n    String separator = &quot;&quot;;\n    for (int num : nums) {\n        result.append(separator).append(num);\n        separator = &quot;,&quot;;\n    }\n    return result.toString();\n}\n</code></pre>\n<p>Same with brackets</p>\n<pre><code>// '[1,5,8,98]'\npublic static String arrayToString(int[] nums) {\n    StringBuilder result = new StringBuilder(&quot;[&quot;);\n    String separator = &quot;&quot;;\n    for (int num : nums) {\n        result.append(separator).append(num);\n        separator = &quot;,&quot;;\n    }\n    return result.append(&quot;]&quot;).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":1199287,"reputation":3,"user_id":1170290,"display_name":"Cosimo Bressi"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675880447,"accepted_answer_id":75346093,"answer_count":1,"score":-3,"last_activity_date":1677497480,"creation_date":1675523590,"question_id":75346038,"body_markdown":"Return a string with an array&#39;s contents, formatted with spaces.\r\nFor example, given the array {3,4,5,6} the string should look like this:\r\n3 4 5 6\r\nSpaces at the end of the string will not affect test results.\r\nYou will need to use a for loop here. Again, the structure of that loop would look similar to a previous problem.\r\nHowever, this challenge introduces the idea that a for loop can manipulate a variable that exists outside of the\r\nfor loop, which looks something like this:\r\n   \r\n     String str;\r\n     for(int i = 0; i &lt; nums.length; i++){\r\n     //do something to str here\r\n     }\r\n     return str;\r\n    \r\nWhere i represents a variable that is used to visit every number between 0 and the length of nums. Inside of the\r\nfor loop, you will need to write code that appends elements from nums to str, one by one, in the format described above.\r\n     \r\n     @param nums the array to be manipulated.\r\n     @return a string representation of all values of nums, with the values separated by spaces.       \r\n\r\n\r\n        public class ReturnArrayContents {\r\n   \r\n        public String arrayToString(int[] nums){\r\n      return null;\r\n    }\r\n}","title":"String representation of all values of nums, with the values separated by spaces","body":"<p>Return a string with an array's contents, formatted with spaces.\nFor example, given the array {3,4,5,6} the string should look like this:\n3 4 5 6\nSpaces at the end of the string will not affect test results.\nYou will need to use a for loop here. Again, the structure of that loop would look similar to a previous problem.\nHowever, this challenge introduces the idea that a for loop can manipulate a variable that exists outside of the\nfor loop, which looks something like this:</p>\n<pre><code> String str;\n for(int i = 0; i &lt; nums.length; i++){\n //do something to str here\n }\n return str;\n</code></pre>\n<p>Where i represents a variable that is used to visit every number between 0 and the length of nums. Inside of the\nfor loop, you will need to write code that appends elements from nums to str, one by one, in the format described above.</p>\n<pre><code> @param nums the array to be manipulated.\n @return a string representation of all values of nums, with the values separated by spaces.       \n\n\n    public class ReturnArrayContents {\n\n    public String arrayToString(int[] nums){\n  return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","xml","google-app-engine","parsing","stax"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1276400497,"post_id":3030903,"comment_id":3100018,"body_markdown":"We are probably going to need to see some more code. Another possibility is that locally it is not getting chunked while on GAE it is. How are you handling the code before you pass it to the parser ?","body":"We are probably going to need to see some more code. Another possibility is that locally it is not getting chunked while on GAE it is. How are you handling the code before you pass it to the parser ?"},{"owner":{"account_id":7096,"reputation":16909,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1276400855,"post_id":3030903,"comment_id":3100028,"body_markdown":"I considered the chunking possibility too, but it doesn&#39;t seem to be the case since the error message that the parser is throwing contains the entire XML right there (it&#39;s pasted above).  The entire modified SDK code can be found at http://github.com/AdrianP/aws-sdk-for-java (look at the most recent commits) but there&#39;s a LOT of code there. I will try to create a smaller reproducible sample soon, although even that will be hard. It&#39;s a big complicated piece of software... Thanks for your feedback though! :)","body":"I considered the chunking possibility too, but it doesn&#39;t seem to be the case since the error message that the parser is throwing contains the entire XML right there (it&#39;s pasted above).  The entire modified SDK code can be found at <a href=\"http://github.com/AdrianP/aws-sdk-for-java\" rel=\"nofollow noreferrer\">github.com/AdrianP/aws-sdk-for-java</a> (look at the most recent commits) but there&#39;s a LOT of code there. I will try to create a smaller reproducible sample soon, although even that will be hard. It&#39;s a big complicated piece of software... Thanks for your feedback though! :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405679362,"post_id":3030903,"comment_id":38535445,"body_markdown":"possible duplicate of [org.xml.sax.SAXParseException: Content is not allowed in prolog](http://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog\">org.xml.sax.SAXParseException: Content is not allowed in prolog</a>"},{"owner":{"account_id":7096,"reputation":16909,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":5,"creation_date":1405709081,"post_id":3030903,"comment_id":38552808,"body_markdown":"@Raedwald, I don&#39;t think it is my question that is the duplicate, since my question was posted a year earlier than that one :)","body":"@Raedwald, I don&#39;t think it is my question that is the duplicate, since my question was posted a year earlier than that one :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725197,"post_id":3030903,"comment_id":38558973,"body_markdown":"The other question is more useful as a canonical question, as it is more general.","body":"The other question is more useful as a canonical question, as it is more general."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725578,"post_id":3030903,"comment_id":38559056,"body_markdown":"@AdrianPetrescu see this MSE answer: http://meta.stackexchange.com/a/147651/170084","body":"@AdrianPetrescu see this MSE answer: <a href=\"http://meta.stackexchange.com/a/147651/170084\">meta.stackexchange.com/a/147651/170084</a>"},{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":1,"creation_date":1514900606,"post_id":3030903,"comment_id":83096659,"body_markdown":"This should be an example of how a question should be asked on SO, reading through it gave me various insights on how to debug as a developer (thanks OP)","body":"This should be an example of how a question should be asked on SO, reading through it gave me various insights on how to debug as a developer (thanks OP)"}],"answers":[{"comments":[{"owner":{"account_id":7096,"reputation":16909,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1276399262,"post_id":3030913,"comment_id":3099978,"body_markdown":"Hi Romain, thanks for the response! I&#39;ve double and triple checked many times for anything in the buffer prior to the prolog (including hidden characters) but there simply isn&#39;t anything else there. I&#39;ll give switching to utf-16 encoding a try, however -- out of curiousity, where did you get the information that the XSD uses UTF-16?","body":"Hi Romain, thanks for the response! I&#39;ve double and triple checked many times for anything in the buffer prior to the prolog (including hidden characters) but there simply isn&#39;t anything else there. I&#39;ll give switching to utf-16 encoding a try, however -- out of curiousity, where did you get the information that the XSD uses UTF-16?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1276399624,"post_id":3030913,"comment_id":3099984,"body_markdown":"@Adrian Petrescu Sorry, these are just examples If you are using DTDs or XSDs make sure they match with your XML. Before you parse the XML capture it in a String and surround it with &#39;|&#39; and print it to the console. This will tell you if you are passing in some extra characters.","body":"@Adrian Petrescu Sorry, these are just examples If you are using DTDs or XSDs make sure they match with your XML. Before you parse the XML capture it in a String and surround it with &#39;|&#39; and print it to the console. This will tell you if you are passing in some extra characters."},{"owner":{"account_id":7096,"reputation":16909,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1276399953,"post_id":3030913,"comment_id":3100000,"body_markdown":"Ah, I see :) Unfortunately I tried it and it doesn&#39;t appear to be the case in this situation. Thanks anyway!","body":"Ah, I see :) Unfortunately I tried it and it doesn&#39;t appear to be the case in this situation. Thanks anyway!"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1276401158,"post_id":3030913,"comment_id":3100038,"body_markdown":"@Adrian Petrescu I updated my post for you to try something else. Change your XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent()); to ... String xml = response.getContent(); xml = xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;); XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(xml);","body":"@Adrian Petrescu I updated my post for you to try something else. Change your XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent()); to ... String xml = response.getContent(); xml = xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;); XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(xml);"},{"owner":{"account_id":7096,"reputation":16909,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1276403954,"post_id":3030913,"comment_id":3100101,"body_markdown":"Thanks, I&#39;ll give this a try soon, even though I previously already checked for byte-order marks; maybe they&#39;re being introduced somewhere between the input stream and the XMLReader.","body":"Thanks, I&#39;ll give this a try soon, even though I previously already checked for byte-order marks; maybe they&#39;re being introduced somewhere between the input stream and the XMLReader."},{"owner":{"account_id":84761,"reputation":1775,"user_id":236732,"accept_rate":75,"display_name":"Piyush Patel"},"score":0,"creation_date":1336638102,"post_id":3030913,"comment_id":13620647,"body_markdown":"helloworld&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; [something before &lt;?xml .. ] worked for me","body":"helloworld&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; [something before &lt;?xml .. ] worked for me"},{"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"score":2,"creation_date":1359057610,"post_id":3030913,"comment_id":20226337,"body_markdown":"Thanks! This saved me as well. xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;);","body":"Thanks! This saved me as well. xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;);"},{"owner":{"account_id":552851,"reputation":2321,"user_id":918094,"accept_rate":25,"display_name":"Ric Jafe"},"score":2,"creation_date":1361371726,"post_id":3030913,"comment_id":21039585,"body_markdown":"Someone please make this the accepted answer. Solved my problem straight away. I was parsing a Message that started with &quot;Message: &lt;?xml version....&quot;\nThe problem was the text before the xml bit. Thanks :)","body":"Someone please make this the accepted answer. Solved my problem straight away. I was parsing a Message that started with &quot;Message: &lt;?xml version....&quot; The problem was the text before the xml bit. Thanks :)"},{"owner":{"account_id":1769022,"reputation":5728,"user_id":1614244,"accept_rate":44,"display_name":"codeMan"},"score":0,"creation_date":1378802533,"post_id":3030913,"comment_id":27574758,"body_markdown":"This solves my problem that am facing with a feed xml from one site. But it breaks for other URL where the parser did not have any problem earlier. I am not quite able to figure out exactly what the regex: &quot;^([\\\\W]+)&lt;&quot; does. I am getting the XML from an input stream. Please explain how this regex works exactly.","body":"This solves my problem that am facing with a feed xml from one site. But it breaks for other URL where the parser did not have any problem earlier. I am not quite able to figure out exactly what the regex: &quot;^([\\\\W]+)&lt;&quot; does. I am getting the XML from an input stream. Please explain how this regex works exactly."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1378806231,"post_id":3030913,"comment_id":27576834,"body_markdown":"@codeMan the regex replaces all starting whitespaces and starting &lt; with &lt;","body":"@codeMan the regex replaces all starting whitespaces and starting &lt; with &lt;"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1405682266,"post_id":3030913,"comment_id":38537236,"body_markdown":"@Raedwald compare the dates. This was answered 3 years earlier.","body":"@Raedwald compare the dates. This was answered 3 years earlier."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725629,"post_id":3030913,"comment_id":38559071,"body_markdown":"@RomainHippeau see this MSE answer: http://meta.stackexchange.com/a/147651/170084","body":"@RomainHippeau see this MSE answer: <a href=\"http://meta.stackexchange.com/a/147651/170084\">meta.stackexchange.com/a/147651/170084</a>"},{"owner":{"account_id":193947,"reputation":1538,"user_id":435978,"accept_rate":88,"display_name":"BigMac66"},"score":0,"creation_date":1455022487,"post_id":3030913,"comment_id":58294950,"body_markdown":"I also had a case where a character at the end of the prolog was causing the problem.  I was getting XML messages where they were putting period after every &gt;, like so &quot;&gt;.&quot;  This results in a first line that looks like this: &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;.&quot;","body":"I also had a case where a character at the end of the prolog was causing the problem.  I was getting XML messages where they were putting period after every &gt;, like so &quot;&gt;.&quot;  This results in a first line that looks like this: &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;.&quot;"},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1499175007,"post_id":3030913,"comment_id":76791534,"body_markdown":"@ Romain We can change the  encoding using Notepad++. Will it work then?","body":"@ Romain We can change the  encoding using Notepad++. Will it work then?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1499179982,"post_id":3030913,"comment_id":76794591,"body_markdown":"@peter maybe but I describe two possible issues in my answer.","body":"@peter maybe but I describe two possible issues in my answer."},{"owner":{"account_id":4702997,"reputation":190,"user_id":3806065,"display_name":"darkman97i"},"score":0,"creation_date":1542643723,"post_id":3030913,"comment_id":93632719,"body_markdown":"In my case there was a hidden character in the before &lt;?xml what was not shown from editor what caused the issue.","body":"In my case there was a hidden character in the before &lt;?xml what was not shown from editor what caused the issue."}],"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":16,"down_vote_count":1,"up_vote_count":178,"is_accepted":true,"score":177,"last_activity_date":1276400991,"creation_date":1276398124,"answer_id":3030913,"question_id":3030903,"body_markdown":"The encoding in your XML and XSD (or DTD) are different.   \r\nXML file header:  `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`  \r\nXSD file header: `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-16&#39;?&gt;`\r\n\r\nAnother possible scenario that causes this is when anything comes before the XML document type declaration. i.e you might have something like this in the buffer:  \r\n\r\n    helloworld&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\nor even a space or special character.\r\n\r\nThere are some special characters called byte order markers that could be in the buffer.\r\nBefore passing the buffer to the Parser do this...  \r\n\r\n    String xml = &quot;&lt;?xml ...&quot;;\r\n    xml = xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;);\r\n\r\n\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>The encoding in your XML and XSD (or DTD) are different.<br>\nXML file header:  <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code><br>\nXSD file header: <code>&lt;?xml version='1.0' encoding='utf-16'?&gt;</code></p>\n\n<p>Another possible scenario that causes this is when anything comes before the XML document type declaration. i.e you might have something like this in the buffer:  </p>\n\n<pre><code>helloworld&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n</code></pre>\n\n<p>or even a space or special character.</p>\n\n<p>There are some special characters called byte order markers that could be in the buffer.\nBefore passing the buffer to the Parser do this...  </p>\n\n<pre><code>String xml = \"&lt;?xml ...\";\nxml = xml.trim().replaceFirst(\"^([\\\\W]+)&lt;\",\"&lt;\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":208307,"reputation":4667,"user_id":458701,"accept_rate":80,"display_name":"arulraj.net"},"score":3,"creation_date":1405503477,"post_id":16418905,"comment_id":38449687,"body_markdown":"You should mention where you referred that http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/","body":"You should mention where you referred that <a href=\"http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/\" rel=\"nofollow noreferrer\">mkyong.com/java/sax-error-content-is-not-allowed-in-prolog</a>"}],"tags":[],"owner":{"account_id":1299528,"reputation":559,"user_id":1249744,"accept_rate":67,"display_name":"Sunmit Girme"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1405581170,"creation_date":1367929193,"answer_id":16418905,"question_id":3030903,"body_markdown":"This error message is always caused by the invalid XML content in the beginning element. For example, extra small dot “.” in the beginning of XML element.\r\n\r\nAny characters before the “`&lt;?xml….`” will cause above “**org.xml.sax.SAXParseException: Content is not allowed in prolog**” error message.\r\n\r\nA small dot “**.**” before the `“&lt;?xml….`\r\n\r\nTo fix it, just delete all those weird characters before the `“&lt;?xml“`.\r\n\r\nRef: http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>This error message is always caused by the invalid XML content in the beginning element. For example, extra small dot “.” in the beginning of XML element.</p>\n\n<p>Any characters before the “<code>&lt;?xml….</code>” will cause above “<strong>org.xml.sax.SAXParseException: Content is not allowed in prolog</strong>” error message.</p>\n\n<p>A small dot “<strong>.</strong>” before the <code>“&lt;?xml….</code></p>\n\n<p>To fix it, just delete all those weird characters before the <code>“&lt;?xml“</code>.</p>\n\n<p>Ref: <a href=\"http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/\" rel=\"noreferrer\">http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/</a></p>\n"},{"tags":[],"owner":{"account_id":2181414,"reputation":1494,"user_id":1930821,"display_name":"SoloPilot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377090974,"creation_date":1377090974,"answer_id":18358496,"question_id":3030903,"body_markdown":"I had a tab character instead of spaces.\r\nReplacing the tab &#39;\\t&#39; fixed the problem.\r\n\r\nCut and paste the whole doc into an editor like Notepad++ and display all characters.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had a tab character instead of spaces.\nReplacing the tab '\\t' fixed the problem.</p>\n\n<p>Cut and paste the whole doc into an editor like Notepad++ and display all characters.</p>\n"},{"tags":[],"owner":{"account_id":4513778,"reputation":155,"user_id":3669203,"display_name":"Saturn CAU"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1400853551,"creation_date":1400853551,"answer_id":23831221,"question_id":3030903,"body_markdown":"I was facing the same issue. In my case XML files were generated from c# program and feeded into AS400 for further processing. After some analysis identified that I was using UTF8 encoding while generating XML files whereas javac(in AS400) uses &quot;UTF8 without BOM&quot;. \r\nSo, had to write extra code similar to mentioned below:\r\n\r\n   \r\n\r\n    //create encoding with no BOM\r\n    Encoding outputEnc = new UTF8Encoding(false); \r\n    //open file with encoding\r\n    TextWriter file = new StreamWriter(filePath, false, outputEnc);           \r\n\r\n    file.Write(doc.InnerXml);\r\n    file.Flush();\r\n    file.Close(); // save and close it\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I was facing the same issue. In my case XML files were generated from c# program and feeded into AS400 for further processing. After some analysis identified that I was using UTF8 encoding while generating XML files whereas javac(in AS400) uses \"UTF8 without BOM\". \nSo, had to write extra code similar to mentioned below:</p>\n\n<pre><code>//create encoding with no BOM\nEncoding outputEnc = new UTF8Encoding(false); \n//open file with encoding\nTextWriter file = new StreamWriter(filePath, false, outputEnc);           \n\nfile.Write(doc.InnerXml);\nfile.Flush();\nfile.Close(); // save and close it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5671942,"reputation":427,"user_id":4486329,"accept_rate":82,"display_name":"Ravi Kiran Gururaja"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1427268121,"creation_date":1422010956,"answer_id":28108457,"question_id":3030903,"body_markdown":"I was facing the same problem called &quot;Content is not allowed in prolog&quot; in my xml file.\r\n\r\n**Solution**\r\n\r\nInitially my root folder was &#39;#**Filename**&#39;.\r\n\r\nWhen i removed the first character &#39;#&#39; ,the error got resolved.\r\n\r\nNo need of removing the #filename... \r\nTry in this way.. \r\n\r\nInstead of passing a File or URL object to the unmarshaller method, use a FileInputStream.\r\n\r\n    File myFile = new File(&quot;........&quot;);\r\n    Object obj = unmarshaller.unmarshal(new FileInputStream(myFile));\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I was facing the same problem called \"Content is not allowed in prolog\" in my xml file.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Initially my root folder was '#<strong>Filename</strong>'.</p>\n\n<p>When i removed the first character '#' ,the error got resolved.</p>\n\n<p>No need of removing the #filename... \nTry in this way.. </p>\n\n<p>Instead of passing a File or URL object to the unmarshaller method, use a FileInputStream.</p>\n\n<pre><code>File myFile = new File(\"........\");\nObject obj = unmarshaller.unmarshal(new FileInputStream(myFile));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423504981,"creation_date":1423504981,"answer_id":28416311,"question_id":3030903,"body_markdown":"In my xml file, the header looked like this: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;? /&gt;\r\n\r\nIn a test file, I was reading the file bytes and decoding the data as UTF-8 (not realizing the header in this file was utf-16) to create a string.\r\n\r\n    byte[] data = Files.readAllBytes(Paths.get(path));\r\n    String dataString = new String(data, &quot;UTF-8&quot;);\r\n\r\nWhen I tried to deserialize this string into an object, I was seeing the same error:\r\n\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.\r\n\r\nWhen I updated the second line to\r\n\r\n    String dataString = new String(data, &quot;UTF-16&quot;);\r\n\r\nI was able to deserialize the object just fine.  So as Romain had noted above, the encodings need to match.\r\n\r\n\t","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In my xml file, the header looked like this: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"? /&gt;\n</code></pre>\n\n<p>In a test file, I was reading the file bytes and decoding the data as UTF-8 (not realizing the header in this file was utf-16) to create a string.</p>\n\n<pre><code>byte[] data = Files.readAllBytes(Paths.get(path));\nString dataString = new String(data, \"UTF-8\");\n</code></pre>\n\n<p>When I tried to deserialize this string into an object, I was seeing the same error:</p>\n\n<pre><code>javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.\n</code></pre>\n\n<p>When I updated the second line to</p>\n\n<pre><code>String dataString = new String(data, \"UTF-16\");\n</code></pre>\n\n<p>I was able to deserialize the object just fine.  So as Romain had noted above, the encodings need to match.</p>\n"},{"tags":[],"owner":{"account_id":21127,"reputation":7310,"user_id":51127,"accept_rate":91,"display_name":"MBaas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424529103,"creation_date":1424529103,"answer_id":28646920,"question_id":3030903,"body_markdown":"In my instance of the problem, the solution was to replace german umlauts (&#228;&#246;&#252;) with their HTML-equivalents...","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In my instance of the problem, the solution was to replace german umlauts (äöü) with their HTML-equivalents...</p>\n"},{"tags":[],"owner":{"account_id":2907746,"reputation":53,"user_id":4274536,"display_name":"Avinash Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481535377,"creation_date":1481535377,"answer_id":41097820,"question_id":3030903,"body_markdown":"bellow are cause above “org.xml.sax.SAXParseException: Content is not allowed in prolog” exception.\r\n\r\n1. First check the file path of schema.xsd and file.xml.\r\n2. The encoding in your XML and XSD (or DTD) should be same.&lt;br/&gt;\r\n    XML file header:  `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`&lt;br/&gt;\r\n    XSD file header: `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`\r\n3. if anything comes before the XML document type declaration.i.e: `hello&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-16&#39;?&gt;`\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>bellow are cause above “org.xml.sax.SAXParseException: Content is not allowed in prolog” exception.</p>\n\n<ol>\n<li>First check the file path of schema.xsd and file.xml.</li>\n<li>The encoding in your XML and XSD (or DTD) should be same.<br/>\nXML file header:  <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code><br/>\nXSD file header: <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code></li>\n<li>if anything comes before the XML document type declaration.i.e: <code>hello&lt;?xml version='1.0' encoding='utf-16'?&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7649794,"reputation":183,"user_id":5799033,"display_name":"Tamias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528902468,"creation_date":1528902468,"answer_id":50840587,"question_id":3030903,"body_markdown":"In the spirit of &quot;just delete all those weird characters before the &amp;lt;?xml&quot;, here&#39;s my Java code, which works well with input via a BufferedReader:\r\n\r\n    \tBufferedReader test = new BufferedReader(new InputStreamReader(fisTest));\r\n\t\ttest.mark(4);\r\n\t\twhile (true) {\r\n\t\t\tint earlyChar = test.read();\r\n\t\t\tSystem.out.println(earlyChar);\r\n\t\t\tif (earlyChar == 60) {\r\n\t\t\t\ttest.reset();\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\ttest.mark(4);\r\n\t\t\t}\r\n\t\t}\r\n\r\nFWIW, the bytes I was seeing are (in decimal): 239, 187, 191.\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In the spirit of \"just delete all those weird characters before the &lt;?xml\", here's my Java code, which works well with input via a BufferedReader:</p>\n\n<pre><code>    BufferedReader test = new BufferedReader(new InputStreamReader(fisTest));\n    test.mark(4);\n    while (true) {\n        int earlyChar = test.read();\n        System.out.println(earlyChar);\n        if (earlyChar == 60) {\n            test.reset();\n            break;\n        } else {\n            test.mark(4);\n        }\n    }\n</code></pre>\n\n<p>FWIW, the bytes I was seeing are (in decimal): 239, 187, 191.</p>\n"},{"tags":[],"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1531927296,"creation_date":1531927296,"answer_id":51405682,"question_id":3030903,"body_markdown":"Removing the xml declaration solved it\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>Removing the xml declaration solved it</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482752,"reputation":703,"user_id":2914366,"display_name":"lafual"},"score":0,"creation_date":1645342197,"post_id":51551917,"comment_id":125842155,"body_markdown":"I had a similar issue. In my case the XML header did not have an encoding attribute. Notepad++ defaulted to UTF-8 encoding. Once I switched Notepad++ encoding to ANSI, the issue stopped.","body":"I had a similar issue. In my case the XML header did not have an encoding attribute. Notepad++ defaulted to UTF-8 encoding. Once I switched Notepad++ encoding to ANSI, the issue stopped."},{"owner":{"account_id":20868042,"reputation":86,"user_id":15917764,"display_name":"Fofola"},"score":1,"creation_date":1655986941,"post_id":51551917,"comment_id":128465285,"body_markdown":"Removing BOMs from all XML files in working directory by Vim: `vim -c &quot;:bufdo set nobomb|update&quot; -c &quot;q&quot; *.xml` .","body":"Removing BOMs from all XML files in working directory by Vim: <code>vim -c &quot;:bufdo set nobomb|update&quot; -c &quot;q&quot; *.xml</code> ."}],"tags":[],"owner":{"account_id":5114104,"reputation":567,"user_id":4099837,"display_name":"techloris_109"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1532672645,"creation_date":1532672645,"answer_id":51551917,"question_id":3030903,"body_markdown":"I had issue while inspecting the xml file in notepad++ and saving the file, though I had the top utf-8 xml tag as `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;`\r\n\r\nGot fixed by saving the file in notpad++ with Encoding(Tab) &gt; Encode in UTF-8:selected (was Encode in UTF-8-BOM)","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had issue while inspecting the xml file in notepad++ and saving the file, though I had the top utf-8 xml tag as <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</code></p>\n\n<p>Got fixed by saving the file in notpad++ with Encoding(Tab) > Encode in UTF-8:selected (was Encode in UTF-8-BOM)</p>\n"},{"comments":[{"owner":{"account_id":3192456,"reputation":551,"user_id":2873979,"accept_rate":75,"display_name":"schlomm"},"score":1,"creation_date":1666281024,"post_id":54760886,"comment_id":130904592,"body_markdown":"Took me two days to realize that this was the issue. Problem was caused by the Windows-User-Name under which the Tomcat-Service is running. The user name contains a ````#```` character, so the User-Profiles path also contains this character....","body":"Took me two days to realize that this was the issue. Problem was caused by the Windows-User-Name under which the Tomcat-Service is running. The user name contains a <code>#</code> character, so the User-Profiles path also contains this character...."}],"tags":[],"owner":{"account_id":2779299,"reputation":11844,"user_id":2392157,"accept_rate":94,"display_name":"miroxlav"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550561559,"creation_date":1550561559,"answer_id":54760886,"question_id":3030903,"body_markdown":"## Unexpected reason: `#` character in file path\n\nDue to some internal bug, the error ***Content is not allowed in prolog*** also appears if the file content itself is 100% correct but you are supplying the file name like `C:\\Data\\#22\\file.xml`.\n\nThis may possibly apply to other special characters, too.\n\n**How to check:** If you move your file into a path without special characters and the error disappears, then it was this issue.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<h2>Unexpected reason: <code>#</code> character in file path</h2>\n<p>Due to some internal bug, the error <em><strong>Content is not allowed in prolog</strong></em> also appears if the file content itself is 100% correct but you are supplying the file name like <code>C:\\Data\\#22\\file.xml</code>.</p>\n<p>This may possibly apply to other special characters, too.</p>\n<p><strong>How to check:</strong> If you move your file into a path without special characters and the error disappears, then it was this issue.</p>\n"},{"comments":[{"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"score":0,"creation_date":1593103246,"post_id":58361846,"comment_id":110669672,"body_markdown":"I had the same issue. Changing file format resolved the issue. Thanks!","body":"I had the same issue. Changing file format resolved the issue. Thanks!"},{"owner":{"account_id":5354223,"reputation":645,"user_id":4267429,"accept_rate":100,"display_name":"Kadaj"},"score":0,"creation_date":1675342289,"post_id":58361846,"comment_id":132910809,"body_markdown":"Damn, you are a champ! Would have never guessed this!","body":"Damn, you are a champ! Would have never guessed this!"}],"tags":[],"owner":{"account_id":3796196,"reputation":175,"user_id":3151204,"display_name":"matjung"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1570955520,"creation_date":1570955520,"answer_id":58361846,"question_id":3030903,"body_markdown":"I catched the same error message today.\r\nThe solution was to change the document from UTF-8 with BOM to UTF-8 without BOM ","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I catched the same error message today.\nThe solution was to change the document from UTF-8 with BOM to UTF-8 without BOM </p>\n"},{"tags":[],"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609889217,"creation_date":1609889217,"answer_id":65588019,"question_id":3030903,"body_markdown":"I zipped the xml in a Mac OS and sent it to a Windows machine, the default compression changes these files so the encoding sent this message.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I zipped the xml in a Mac OS and sent it to a Windows machine, the default compression changes these files so the encoding sent this message.</p>\n"},{"tags":[],"owner":{"account_id":24392010,"reputation":56,"user_id":18321854,"display_name":"selalerercapitolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659432267,"creation_date":1659432267,"answer_id":73205054,"question_id":3030903,"body_markdown":"Happened to me with `@JsmListener` with Spring Boot when listening to IBM MQ. My method received `String` parameter and got this exception when I tried to deserialize it using JAXB.\r\n\r\nIt seemed that that the string I got was a result of `byte[].toString()`. It was a list of comma separated numbers.\r\n\r\nI solved it by changing the parameter type to `byte[]` and then created a `String` from it:\r\n\r\n    @JmsListener(destination = &quot;Q1&quot;)\r\n    public void receiveQ1Message(byte[] msgBytes) {\r\n        var msg = new String(msgBytes);","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>Happened to me with <code>@JsmListener</code> with Spring Boot when listening to IBM MQ. My method received <code>String</code> parameter and got this exception when I tried to deserialize it using JAXB.</p>\n<p>It seemed that that the string I got was a result of <code>byte[].toString()</code>. It was a list of comma separated numbers.</p>\n<p>I solved it by changing the parameter type to <code>byte[]</code> and then created a <code>String</code> from it:</p>\n<pre><code>@JmsListener(destination = &quot;Q1&quot;)\npublic void receiveQ1Message(byte[] msgBytes) {\n    var msg = new String(msgBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677497378,"creation_date":1677497378,"answer_id":75579894,"question_id":3030903,"body_markdown":"I had encountered this message when running a test case in SoapUI:\r\n\r\n    org.xml.sax.SAXParseException; systemId: file://; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\r\n\r\nAfter quite some time I figured out the reason being the following line:\r\n\r\n    def holder = groovyUtils.getXmlHolder(&quot;SoapCall#Request&quot;) // Get Request body\r\n\r\nAnd the reason was that the test step was actually named &quot;SOAPCall&quot; and not &quot;SoapCall&quot;. I suppose the returned string was empty, which caused the &quot;prolog&quot; error.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had encountered this message when running a test case in SoapUI:</p>\n<pre><code>org.xml.sax.SAXParseException; systemId: file://; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\n</code></pre>\n<p>After quite some time I figured out the reason being the following line:</p>\n<pre><code>def holder = groovyUtils.getXmlHolder(&quot;SoapCall#Request&quot;) // Get Request body\n</code></pre>\n<p>And the reason was that the test step was actually named &quot;SOAPCall&quot; and not &quot;SoapCall&quot;. I suppose the returned string was empty, which caused the &quot;prolog&quot; error.</p>\n"}],"owner":{"account_id":7096,"reputation":16909,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664674,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"accepted_answer_id":3030913,"answer_count":16,"score":177,"last_activity_date":1677497378,"creation_date":1276397562,"question_id":3030903,"body_markdown":"I&#39;ve been beating my head against this absolutely infuriating bug for the last 48 hours, so I thought I&#39;d finally throw in the towel and try asking here before I throw my laptop out the window.\r\n\r\nI&#39;m trying to parse the response XML from a call I made to AWS SimpleDB. The response is coming back on the wire just fine; for example, it may look like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;ListDomainsResponse xmlns=&quot;http://sdb.amazonaws.com/doc/2009-04-15/&quot;&gt;\r\n        &lt;ListDomainsResult&gt;\r\n            &lt;DomainName&gt;Audio&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Course&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;LectureSet&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;MetaData&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Professors&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Tag&lt;/DomainName&gt;\r\n        &lt;/ListDomainsResult&gt;\r\n        &lt;ResponseMetadata&gt;\r\n            &lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;\r\n            &lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;\r\n        &lt;/ResponseMetadata&gt;\r\n    &lt;/ListDomainsResponse&gt;\r\n\r\nI pass in this XML to a parser with \r\n\r\n    XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent());\r\n\r\nand call `eventReader.nextEvent();` a bunch of times to get the data I want.\r\n\r\nHere&#39;s the bizarre part -- it works great inside the local server. The response comes in, I parse it, everyone&#39;s happy. The problem is that when I deploy the code to Google App Engine, the outgoing request still works, and the response XML seems 100% identical and correct to me, but the response fails to parse with the following exception:\r\n\r\n    com.amazonaws.http.HttpClient handleResponse: Unable to unmarshall response (ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.): &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;ListDomainsResponse xmlns=&quot;http://sdb.amazonaws.com/doc/2009-04-15/&quot;&gt;&lt;ListDomainsResult&gt;&lt;DomainName&gt;Audio&lt;/DomainName&gt;&lt;DomainName&gt;Course&lt;/DomainName&gt;&lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;&lt;DomainName&gt;LectureSet&lt;/DomainName&gt;&lt;DomainName&gt;MetaData&lt;/DomainName&gt;&lt;DomainName&gt;Professors&lt;/DomainName&gt;&lt;DomainName&gt;Tag&lt;/DomainName&gt;&lt;/ListDomainsResult&gt;&lt;ResponseMetadata&gt;&lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;&lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;&lt;/ResponseMetadata&gt;&lt;/ListDomainsResponse&gt;\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.\r\n        at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(Unknown Source)\r\n        at com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(Unknown Source)\r\n        at com.amazonaws.transform.StaxUnmarshallerContext.nextEvent(StaxUnmarshallerContext.java:153)\r\n        ... (rest of lines omitted)\r\n\r\nI have double, triple, quadruple checked this XML for &#39;invisible characters&#39; or non-UTF8 encoded characters, etc. I looked at it byte-by-byte in an array for byte-order-marks or something of that nature. Nothing; it passes every validation test I could throw at it. Even stranger, it happens if I use a Saxon-based parser as well -- but ONLY on GAE, it always works fine in my local environment.\r\n\r\nIt makes it very hard to trace the code for problems when I can only run the debugger on an environment that works perfectly (I haven&#39;t found any good way to remotely debug on GAE). Nevertheless, using the primitive means I have, I&#39;ve tried a million approaches including:\r\n\r\n* XML with and without the prolog\r\n* With and without newlines\r\n* With and without the &quot;encoding=&quot; attribute in the prolog\r\n* Both newline styles\r\n* With and without the chunking information present in the HTTP stream\r\n\r\nAnd I&#39;ve tried most of these in multiple combinations where it made sense they would interact -- nothing! I&#39;m at my wit&#39;s end. Has anyone seen an issue like this before that can hopefully shed some light on it?\r\n\r\nThanks!","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I've been beating my head against this absolutely infuriating bug for the last 48 hours, so I thought I'd finally throw in the towel and try asking here before I throw my laptop out the window.</p>\n\n<p>I'm trying to parse the response XML from a call I made to AWS SimpleDB. The response is coming back on the wire just fine; for example, it may look like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;ListDomainsResponse xmlns=\"http://sdb.amazonaws.com/doc/2009-04-15/\"&gt;\n    &lt;ListDomainsResult&gt;\n        &lt;DomainName&gt;Audio&lt;/DomainName&gt;\n        &lt;DomainName&gt;Course&lt;/DomainName&gt;\n        &lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;\n        &lt;DomainName&gt;LectureSet&lt;/DomainName&gt;\n        &lt;DomainName&gt;MetaData&lt;/DomainName&gt;\n        &lt;DomainName&gt;Professors&lt;/DomainName&gt;\n        &lt;DomainName&gt;Tag&lt;/DomainName&gt;\n    &lt;/ListDomainsResult&gt;\n    &lt;ResponseMetadata&gt;\n        &lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;\n        &lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;\n    &lt;/ResponseMetadata&gt;\n&lt;/ListDomainsResponse&gt;\n</code></pre>\n\n<p>I pass in this XML to a parser with </p>\n\n<pre><code>XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent());\n</code></pre>\n\n<p>and call <code>eventReader.nextEvent();</code> a bunch of times to get the data I want.</p>\n\n<p>Here's the bizarre part -- it works great inside the local server. The response comes in, I parse it, everyone's happy. The problem is that when I deploy the code to Google App Engine, the outgoing request still works, and the response XML seems 100% identical and correct to me, but the response fails to parse with the following exception:</p>\n\n<pre><code>com.amazonaws.http.HttpClient handleResponse: Unable to unmarshall response (ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.): &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;ListDomainsResponse xmlns=\"http://sdb.amazonaws.com/doc/2009-04-15/\"&gt;&lt;ListDomainsResult&gt;&lt;DomainName&gt;Audio&lt;/DomainName&gt;&lt;DomainName&gt;Course&lt;/DomainName&gt;&lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;&lt;DomainName&gt;LectureSet&lt;/DomainName&gt;&lt;DomainName&gt;MetaData&lt;/DomainName&gt;&lt;DomainName&gt;Professors&lt;/DomainName&gt;&lt;DomainName&gt;Tag&lt;/DomainName&gt;&lt;/ListDomainsResult&gt;&lt;ResponseMetadata&gt;&lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;&lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;&lt;/ResponseMetadata&gt;&lt;/ListDomainsResponse&gt;\njavax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.\n    at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(Unknown Source)\n    at com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(Unknown Source)\n    at com.amazonaws.transform.StaxUnmarshallerContext.nextEvent(StaxUnmarshallerContext.java:153)\n    ... (rest of lines omitted)\n</code></pre>\n\n<p>I have double, triple, quadruple checked this XML for 'invisible characters' or non-UTF8 encoded characters, etc. I looked at it byte-by-byte in an array for byte-order-marks or something of that nature. Nothing; it passes every validation test I could throw at it. Even stranger, it happens if I use a Saxon-based parser as well -- but ONLY on GAE, it always works fine in my local environment.</p>\n\n<p>It makes it very hard to trace the code for problems when I can only run the debugger on an environment that works perfectly (I haven't found any good way to remotely debug on GAE). Nevertheless, using the primitive means I have, I've tried a million approaches including:</p>\n\n<ul>\n<li>XML with and without the prolog</li>\n<li>With and without newlines</li>\n<li>With and without the \"encoding=\" attribute in the prolog</li>\n<li>Both newline styles</li>\n<li>With and without the chunking information present in the HTTP stream</li>\n</ul>\n\n<p>And I've tried most of these in multiple combinations where it made sense they would interact -- nothing! I'm at my wit's end. Has anyone seen an issue like this before that can hopefully shed some light on it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","json","java-8"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":1,"creation_date":1677481963,"post_id":75577534,"comment_id":133338994,"body_markdown":"Post the code you have tried and what are your errors :) This way it will be easier for you to learn and for us to help!","body":"Post the code you have tried and what are your errors :) This way it will be easier for you to learn and for us to help!"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677484940,"creation_date":1677484940,"answer_id":75578004,"question_id":75577534,"body_markdown":"You can learn more about using Jackson to parse JSON here. Or you can parse them to object and use stream to check for duplicates.\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String json = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonNode rootNode = objectMapper.readTree(json);\r\n        JsonNode booksNode = rootNode.get(&quot;books&quot;);\r\n\r\n        Set&lt;String&gt; bookIds = new HashSet&lt;&gt;();\r\n        booksNode.forEach(bookNode -&gt; {\r\n            String bookId = bookNode.get(&quot;bookID&quot;).asText();\r\n            if (bookIds.contains(bookId)) {\r\n                System.out.println(&quot;Duplicate bookID found: &quot; + bookId);\r\n            } else {\r\n                bookIds.add(bookId);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Identify duplicate values for particular element in a JSON array","body":"<p>You can learn more about using Jackson to parse JSON here. Or you can parse them to object and use stream to check for duplicates.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Main {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String json = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode rootNode = objectMapper.readTree(json);\n        JsonNode booksNode = rootNode.get(&quot;books&quot;);\n\n        Set&lt;String&gt; bookIds = new HashSet&lt;&gt;();\n        booksNode.forEach(bookNode -&gt; {\n            String bookId = bookNode.get(&quot;bookID&quot;).asText();\n            if (bookIds.contains(bookId)) {\n                System.out.println(&quot;Duplicate bookID found: &quot; + bookId);\n            } else {\n                bookIds.add(bookId);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677489024,"creation_date":1677489024,"answer_id":75578542,"question_id":75577534,"body_markdown":"Identify duplicate values for particular element in a JSON array:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class BookIdFind {\r\n        public static void main(String[] args) throws JSONException {\r\n            String jsonString = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\r\n            JSONObject jsonObject = new JSONObject(jsonString);\r\n            JSONArray bookArray = jsonObject.getJSONArray(&quot;books&quot;);\r\n            \r\n            Map&lt;String, List&lt;JSONObject&gt;&gt; booksById = IntStream.range(0, bookArray.length())\r\n                    .mapToObj(bookArray::getJSONObject)\r\n                    .collect(Collectors.groupingBy(book -&gt; book.getString(&quot;bookID&quot;)));\r\n            \r\n            List&lt;String&gt; duplicateIds = booksById.values().stream()\r\n                    .filter(list -&gt; list.size() &gt; 1)\r\n                    .map(list -&gt; list.get(0).getString(&quot;bookID&quot;))\r\n                    .collect(Collectors.toList());\r\n            \r\n            if (duplicateIds.isEmpty()) {\r\n                System.out.println(&quot;No duplicate book IDs found.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Duplicate book IDs found: &quot; + duplicateIds);\r\n            }\r\n        }\r\n    }","title":"Identify duplicate values for particular element in a JSON array","body":"<p>Identify duplicate values for particular element in a JSON array:</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class BookIdFind {\n    public static void main(String[] args) throws JSONException {\n        String jsonString = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\n        JSONObject jsonObject = new JSONObject(jsonString);\n        JSONArray bookArray = jsonObject.getJSONArray(&quot;books&quot;);\n        \n        Map&lt;String, List&lt;JSONObject&gt;&gt; booksById = IntStream.range(0, bookArray.length())\n                .mapToObj(bookArray::getJSONObject)\n                .collect(Collectors.groupingBy(book -&gt; book.getString(&quot;bookID&quot;)));\n        \n        List&lt;String&gt; duplicateIds = booksById.values().stream()\n                .filter(list -&gt; list.size() &gt; 1)\n                .map(list -&gt; list.get(0).getString(&quot;bookID&quot;))\n                .collect(Collectors.toList());\n        \n        if (duplicateIds.isEmpty()) {\n            System.out.println(&quot;No duplicate book IDs found.&quot;);\n        } else {\n            System.out.println(&quot;Duplicate book IDs found: &quot; + duplicateIds);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27751368,"reputation":1,"user_id":21185749,"display_name":"Sam Luis"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1473,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677497067,"answer_count":2,"score":-3,"last_activity_date":1677497061,"creation_date":1677481266,"question_id":75577534,"body_markdown":"JSON array:\r\n```json\r\n{\r\n  &quot;ID : &quot;ID1&quot;,\r\n  &quot;books&quot; : [ {\r\n     &quot;bookID&quot; : &quot;book1&quot;,\r\n     &quot;booktype&quot;: &quot;pdf&quot;\r\n   },{\r\n     &quot;bookID&quot; : &quot;book2&quot;,\r\n     &quot;booktype&quot;: &quot;txt&quot;\r\n   },{\r\n     &quot;bookID&quot; : &quot;book1&quot;,\r\n     &quot;booktype&quot;: &quot;txt&quot;\r\n  }\r\n ]\r\n}\r\n```\r\nHow to find bookID is duplicated or not here using Java. The JSON array will be big and contains multiple book elements. How to find if any bookID is duplicated?\r\n\r\nExpecting an answer in Java 8 using streams or Java.","title":"Identify duplicate values for particular element in a JSON array","body":"<p>JSON array:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID : &quot;ID1&quot;,\n  &quot;books&quot; : [ {\n     &quot;bookID&quot; : &quot;book1&quot;,\n     &quot;booktype&quot;: &quot;pdf&quot;\n   },{\n     &quot;bookID&quot; : &quot;book2&quot;,\n     &quot;booktype&quot;: &quot;txt&quot;\n   },{\n     &quot;bookID&quot; : &quot;book1&quot;,\n     &quot;booktype&quot;: &quot;txt&quot;\n  }\n ]\n}\n</code></pre>\n<p>How to find bookID is duplicated or not here using Java. The JSON array will be big and contains multiple book elements. How to find if any bookID is duplicated?</p>\n<p>Expecting an answer in Java 8 using streams or Java.</p>\n"},{"tags":["java","mono","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1677480934,"post_id":75577466,"comment_id":133338815,"body_markdown":"Let me try this, but do you still think .block() in api calling part will work? It looks same to me.","body":"Let me try this, but do you still think .block() in api calling part will work? It looks same to me."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1677495946,"post_id":75577466,"comment_id":133342391,"body_markdown":"@jetbrain-icin-icin Does not solves the problem. Internal Server Errorjava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5","body":"@jetbrain-icin-icin Does not solves the problem. Internal Server Errorjava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5"},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1677496751,"post_id":75577466,"comment_id":133342591,"body_markdown":"you can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.","body":"you can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1677500426,"post_id":75577466,"comment_id":133343519,"body_markdown":"Its working without giving that exception. Thank you buddy.","body":"Its working without giving that exception. Thank you buddy."}],"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677496944,"creation_date":1677480733,"answer_id":75577466,"question_id":75577373,"body_markdown":"I apologize for my earlier response not fully addressing your issue.\r\n\r\nyou can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.\r\n\r\n    public Mono&lt;MultiValuedMap&lt;String,Object&gt;&gt; getHeaders() {\r\n       if(token == null) {\r\n        return getTokenFromExternalApi()\r\n            .map(resp -&gt; setToken(resp))\r\n            .then(Mono.just(headers)); // return headers after setting token\r\n    }\r\n    return Mono.just(headers); // return headers if token is already set\r\n    }\r\n\r\nTo use this implementation, you can modify the webTarget code as follows:\r\n\r\n    getHeaders()\r\n    .map(headers -&gt; {\r\n        webTarget.headers(headers);\r\n        return webTarget;\r\n    })\r\n    .flatMap(webTarget -&gt; webTarget.rx(MonoRxInvoker.class).get())\r\n    .map(this::processResponse)\r\n    .doOnError(this::processError);","title":"block()/blocking() not supported in thread reactor","body":"<p>I apologize for my earlier response not fully addressing your issue.</p>\n<p>you can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.</p>\n<pre><code>public Mono&lt;MultiValuedMap&lt;String,Object&gt;&gt; getHeaders() {\n   if(token == null) {\n    return getTokenFromExternalApi()\n        .map(resp -&gt; setToken(resp))\n        .then(Mono.just(headers)); // return headers after setting token\n}\nreturn Mono.just(headers); // return headers if token is already set\n}\n</code></pre>\n<p>To use this implementation, you can modify the webTarget code as follows:</p>\n<pre><code>getHeaders()\n.map(headers -&gt; {\n    webTarget.headers(headers);\n    return webTarget;\n})\n.flatMap(webTarget -&gt; webTarget.rx(MonoRxInvoker.class).get())\n.map(this::processResponse)\n.doOnError(this::processError);\n</code></pre>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75577466,"answer_count":1,"score":0,"last_activity_date":1677496944,"creation_date":1677479631,"question_id":75577373,"body_markdown":"Here is a logic to fetch some information from an API:\r\n\r\n    class OneClient {\r\n        public Mono&lt;Information&gt; getSomeInformation(ClientRequest req) {\r\n            return getWebTarget(req)\r\n                .request(MediaType.APPLICATION_JSON_TYPE)\r\n                .headers(getHeaders(req))\r\n                .rx(MonoRxInvoker.class)\r\n                .get()\r\n                .map(this::processResponse)\r\n                .doOnError(this::processError);\r\n        }\r\n    }\r\n\r\nThats how our framework is to be used by putting the request on a different thread while keeping main thread unblocked.\r\n\r\nBut I have a problem. `getHeaders()` gets information like below:\r\n\r\n    public MultiValuedMap&lt;String,Object&gt; getHeaders() {\r\n        if(token == null) {\r\n            getTokenFromExternalApi() // just like previous snippet\r\n            .map(resp -&gt; setToken(resp))\r\n            .block();\r\n        }\r\n        return headers; // tokens and other static data\r\n    }\r\n\r\nSince I have to store token in the bean, I was doing `.block()`, but then I get exception: `block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5`. And I understand why this error is being thrown. Blocking is unexpected in a non-blocking thread.\r\n\r\nBut \r\n\r\nCan you suggest me the right way to design `getHeader()`? Thank you.","title":"block()/blocking() not supported in thread reactor","body":"<p>Here is a logic to fetch some information from an API:</p>\n<pre><code>class OneClient {\n    public Mono&lt;Information&gt; getSomeInformation(ClientRequest req) {\n        return getWebTarget(req)\n            .request(MediaType.APPLICATION_JSON_TYPE)\n            .headers(getHeaders(req))\n            .rx(MonoRxInvoker.class)\n            .get()\n            .map(this::processResponse)\n            .doOnError(this::processError);\n    }\n}\n</code></pre>\n<p>Thats how our framework is to be used by putting the request on a different thread while keeping main thread unblocked.</p>\n<p>But I have a problem. <code>getHeaders()</code> gets information like below:</p>\n<pre><code>public MultiValuedMap&lt;String,Object&gt; getHeaders() {\n    if(token == null) {\n        getTokenFromExternalApi() // just like previous snippet\n        .map(resp -&gt; setToken(resp))\n        .block();\n    }\n    return headers; // tokens and other static data\n}\n</code></pre>\n<p>Since I have to store token in the bean, I was doing <code>.block()</code>, but then I get exception: <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5</code>. And I understand why this error is being thrown. Blocking is unexpected in a non-blocking thread.</p>\n<p>But</p>\n<p>Can you suggest me the right way to design <code>getHeader()</code>? Thank you.</p>\n"},{"tags":["java","arrays","sorting","exception","indexoutofboundsexception"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1677428010,"post_id":75572856,"comment_id":133331603,"body_markdown":"do you know how to use a step-by-step debugger?","body":"do you know how to use a step-by-step debugger?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1677428090,"post_id":75572856,"comment_id":133331616,"body_markdown":"(in this case there&#39;s a clear issue: you never reset your ID flag. A run through a debugger would have made that fairly obvious)","body":"(in this case there&#39;s a clear issue: you never reset your ID flag. A run through a debugger would have made that fairly obvious)"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677496619,"creation_date":1677496619,"answer_id":75579767,"question_id":75572856,"body_markdown":"Commented on your code and you changed it, then should work.\r\n\r\n&gt;     private static int read(String inFileName, int[] list) {\r\n&gt;         int size = 0;\r\n&gt;         int i= 0;\r\n&gt; \r\n&gt;         Scanner inFile = null;\r\n&gt;         int val = 0;\r\n&gt; \r\n&gt;         int trash = 0;\r\n&gt;      // boolean ID = false;  remove \r\n&gt;         int Unique = 0;\r\n&gt;         int dupe = 0;\r\n&gt;         int lineCount = 0;\r\n&gt; \r\n&gt;         try { \r\n&gt;             inFile = new Scanner(new File(inFileName));\r\n&gt;             while (inFile.hasNext()){\r\n&gt;                 boolean ID = false; // Add here\r\n&gt;                 lineCount++;\r\n&gt;                 try{\r\n&gt;                     val = inFile.nextInt();\r\n&gt;                     if(val &lt; 0) { \r\n&gt;                         trash++;\r\n&gt;                         continue; \r\n&gt;                     }\r\n&gt; \r\n&gt;                     for(i = 0; i&lt; size ;i++){ \r\n&gt;                         if(list[i] == val){\r\n&gt;                             ID = true;\r\n&gt;                             dupe++;\r\n&gt;                \r\n&gt;                         }\r\n&gt; \r\n&gt;                     }\r\n&gt;                     if (ID == false &amp;&amp; size&lt;list.length){ \r\n&gt;                         list[size] = val;\r\n&gt;                         size++;\r\n&gt;                         Unique++;\r\n&gt;                     }\r\n&gt; \r\n&gt;                 }\r\n&gt;                 catch (InputMismatchException e){\r\n&gt;                     trash++;\r\n&gt;                     inFile.nextLine();\r\n&gt;                 }\r\n&gt; \r\n&gt;             }\r\n&gt;             System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\r\n&gt;         }\r\n&gt;         catch (FileNotFoundException e) {\r\n&gt;             System.out.println(&quot;Error in opening &quot; + inFileName);\r\n&gt;         }\r\n&gt; \r\n&gt; \r\n&gt;         return size;\r\n&gt;     }","title":"Issues filling an array in Java","body":"<p>Commented on your code and you changed it, then should work.</p>\n<blockquote>\n<pre><code>private static int read(String inFileName, int[] list) {\n    int size = 0;\n    int i= 0;\n\n    Scanner inFile = null;\n    int val = 0;\n\n    int trash = 0;\n // boolean ID = false;  remove \n    int Unique = 0;\n    int dupe = 0;\n    int lineCount = 0;\n\n    try { \n        inFile = new Scanner(new File(inFileName));\n        while (inFile.hasNext()){\n            boolean ID = false; // Add here\n            lineCount++;\n            try{\n                val = inFile.nextInt();\n                if(val &lt; 0) { \n                    trash++;\n                    continue; \n                }\n\n                for(i = 0; i&lt; size ;i++){ \n                    if(list[i] == val){\n                        ID = true;\n                        dupe++;\n           \n                    }\n\n                }\n                if (ID == false &amp;&amp; size&lt;list.length){ \n                    list[size] = val;\n                    size++;\n                    Unique++;\n                }\n\n            }\n            catch (InputMismatchException e){\n                trash++;\n                inFile.nextLine();\n            }\n\n        }\n        System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\n    }\n    catch (FileNotFoundException e) {\n        System.out.println(&quot;Error in opening &quot; + inFileName);\n    }\n\n\n    return size;\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25507996,"reputation":3,"user_id":19300254,"display_name":"Erl_k&#246;nig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579767,"answer_count":1,"score":0,"last_activity_date":1677496619,"creation_date":1677423762,"question_id":75572856,"body_markdown":"I am trying to fill an array with the unique values from another file. This file has about 20 integers total, 10 are unique and 10 are copies. The user inputs the size of the array and name of the file within the main. \r\n\r\n\r\nI think the trouble is coming from this while loop that is meant to fill the array, sorting out the duplicates. \r\n\r\nAt the moment, it only successfully sorts 11 of the 20 integers in the file.\r\n\r\n\r\n\r\n```\r\nprivate static int read(String inFileName, int[] list) {\r\n        int size = 0;\r\n        int i= 0;\r\n\r\n        Scanner inFile = null;\r\n        int val = 0;\r\n\r\n        int trash = 0;\r\n        boolean ID = false;\r\n        int Unique = 0;\r\n        int dupe = 0;\r\n        int lineCount = 0;\r\n\r\n        try { \r\n            inFile = new Scanner(new File(inFileName));\r\n            while (inFile.hasNext()){\r\n                lineCount++;\r\n                try{\r\n                    val = inFile.nextInt();\r\n                    if(val &lt; 0) { \r\n                        trash++;\r\n                        continue; \r\n                    }\r\n\r\n                    for(i = 0; i&lt; size ;i++){ \r\n                        if(list[i] == val){\r\n                            ID = true;\r\n                            dupe++;\r\n               \r\n                        }\r\n\r\n                    }\r\n                    if (ID == false &amp;&amp; size&lt;list.length){ \r\n                        list[size] = val;\r\n                        size++;\r\n                        Unique++;\r\n                    }\r\n\r\n                }\r\n                catch (InputMismatchException e){\r\n                    trash++;\r\n                    inFile.nextLine();\r\n                }\r\n\r\n            }\r\n            System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Error in opening &quot; + inFileName);\r\n        }\r\n\r\n\r\n        return size;\r\n    }\r\n```\r\n\r\nSo far, I have tried adding different if-statements to try and specify what is unique and what is a copy. This would typically help in filling the array with the correct number of integers, but not the unique ones. It seems to be skipping quite a few unique integers and filling the array with copies. I am pretty stuck, and any suggestions whatsoever would be appreciated.","title":"Issues filling an array in Java","body":"<p>I am trying to fill an array with the unique values from another file. This file has about 20 integers total, 10 are unique and 10 are copies. The user inputs the size of the array and name of the file within the main.</p>\n<p>I think the trouble is coming from this while loop that is meant to fill the array, sorting out the duplicates.</p>\n<p>At the moment, it only successfully sorts 11 of the 20 integers in the file.</p>\n<pre><code>private static int read(String inFileName, int[] list) {\n        int size = 0;\n        int i= 0;\n\n        Scanner inFile = null;\n        int val = 0;\n\n        int trash = 0;\n        boolean ID = false;\n        int Unique = 0;\n        int dupe = 0;\n        int lineCount = 0;\n\n        try { \n            inFile = new Scanner(new File(inFileName));\n            while (inFile.hasNext()){\n                lineCount++;\n                try{\n                    val = inFile.nextInt();\n                    if(val &lt; 0) { \n                        trash++;\n                        continue; \n                    }\n\n                    for(i = 0; i&lt; size ;i++){ \n                        if(list[i] == val){\n                            ID = true;\n                            dupe++;\n               \n                        }\n\n                    }\n                    if (ID == false &amp;&amp; size&lt;list.length){ \n                        list[size] = val;\n                        size++;\n                        Unique++;\n                    }\n\n                }\n                catch (InputMismatchException e){\n                    trash++;\n                    inFile.nextLine();\n                }\n\n            }\n            System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;Error in opening &quot; + inFileName);\n        }\n\n\n        return size;\n    }\n</code></pre>\n<p>So far, I have tried adding different if-statements to try and specify what is unique and what is a copy. This would typically help in filling the array with the correct number of integers, but not the unique ones. It seems to be skipping quite a few unique integers and filling the array with copies. I am pretty stuck, and any suggestions whatsoever would be appreciated.</p>\n"},{"tags":["java","xml","avro"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677496508,"creation_date":1677496424,"answer_id":75579738,"question_id":75579485,"body_markdown":"It is a while since I used Apache Camel for this,\r\nbut it was out-of-the box.&lt;br /&gt;\r\nAdd Apache Camel dependency and voila!&lt;br /&gt;\r\nhttps://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html","title":"Using Java programming, How can I convert XML file into Avro file?","body":"<p>It is a while since I used Apache Camel for this,\nbut it was out-of-the box.<br />\nAdd Apache Camel dependency and voila!<br />\n<a href=\"https://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html</a></p>\n"}],"owner":{"account_id":27889812,"reputation":1,"user_id":21296442,"display_name":"G Anubhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677496508,"creation_date":1677494961,"question_id":75579485,"body_markdown":"I am new to java and I need to input XML file to a java code that gives Avro as output, cannot find a working example on the net.\r\n\r\nFound this Github repo -- https://github.com/elodina/xml-avro in the existing thread -- https://stackoverflow.com/questions/57005465/convert-xml-to-avro-and-generate-avro-schema - but I am not able to run it as I am not acquainted with the execution procedure and I cannot understand properly the instruction written in the above mentioned github page. could u please write me a more elaborated instruction for executing this?","title":"Using Java programming, How can I convert XML file into Avro file?","body":"<p>I am new to java and I need to input XML file to a java code that gives Avro as output, cannot find a working example on the net.</p>\n<p>Found this Github repo -- <a href=\"https://github.com/elodina/xml-avro\" rel=\"nofollow noreferrer\">https://github.com/elodina/xml-avro</a> in the existing thread -- <a href=\"https://stackoverflow.com/questions/57005465/convert-xml-to-avro-and-generate-avro-schema\">Convert XML to Avro and generate AVRO schema</a> - but I am not able to run it as I am not acquainted with the execution procedure and I cannot understand properly the instruction written in the above mentioned github page. could u please write me a more elaborated instruction for executing this?</p>\n"},{"tags":["java","spring-boot","multiple-databases"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1677417858,"post_id":75571945,"comment_id":133329876,"body_markdown":"Are you using Spring Data JPA or Spring Data JDBC?","body":"Are you using Spring Data JPA or Spring Data JDBC?"},{"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"score":0,"creation_date":1677420612,"post_id":75571945,"comment_id":133330331,"body_markdown":"Spring Data JPA","body":"Spring Data JPA"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1677448197,"post_id":75571945,"comment_id":133335049,"body_markdown":"And to clarify you are already running migration scripts using a tool like Flyway on the MySQL but you don&#39;t want the migration tool to run on Oracle?","body":"And to clarify you are already running migration scripts using a tool like Flyway on the MySQL but you don&#39;t want the migration tool to run on Oracle?"}],"answers":[{"tags":[],"owner":{"account_id":14990523,"reputation":46,"user_id":10821813,"display_name":"ayasin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677496213,"creation_date":1677496213,"answer_id":75579699,"question_id":75571945,"body_markdown":"The easiest solution would be creating a read-only user in the Oracle database, and in the application.properties file, you should replace the old database user information with the read-only user&#39;s information.","title":"How to configure second database (For only Select queries) in Spring Boot","body":"<p>The easiest solution would be creating a read-only user in the Oracle database, and in the application.properties file, you should replace the old database user information with the read-only user's information.</p>\n"}],"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75579699,"answer_count":1,"score":1,"last_activity_date":1677496213,"creation_date":1677414182,"question_id":75571945,"body_markdown":"I have a spring boot project with a MySql DB already configured along with the migration scripts.\r\n\r\nI have a new requirement where I have to configure an Oracle database(part of another application) to my application.\r\n\r\nI understand that we can configure multiple databases in spring boot project. But I need to configure Oracle DB such that the migration scripts writtrn for MySQL doesn&#39;t apply onto it as I have to perform only select queries on Oracle database.\r\n\r\nI am expecting to configure the Oracle database as a read only database without affecting the existing configuration for MySQL database.","title":"How to configure second database (For only Select queries) in Spring Boot","body":"<p>I have a spring boot project with a MySql DB already configured along with the migration scripts.</p>\n<p>I have a new requirement where I have to configure an Oracle database(part of another application) to my application.</p>\n<p>I understand that we can configure multiple databases in spring boot project. But I need to configure Oracle DB such that the migration scripts writtrn for MySQL doesn't apply onto it as I have to perform only select queries on Oracle database.</p>\n<p>I am expecting to configure the Oracle database as a read only database without affecting the existing configuration for MySQL database.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":1,"creation_date":1677499274,"post_id":75579585,"comment_id":133343207,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":27545233,"reputation":1,"user_id":21021288,"display_name":"Nikhil Patil"},"score":0,"creation_date":1677560346,"post_id":75579585,"comment_id":133357414,"body_markdown":"sorry but i dint have error i dont know how implement this thats  why i am sharing my code","body":"sorry but i dint have error i dont know how implement this thats  why i am sharing my code"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677564389,"post_id":75579585,"comment_id":133357858,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":27545233,"reputation":1,"user_id":21021288,"display_name":"Nikhil Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677495545,"creation_date":1677495545,"question_id":75579585,"body_markdown":"[enter image description here](https://i.stack.imgur.com/YYbOI.png) find this","title":"how to apply filter, when i click the form in blankformList Activity only that form entries visible to user in InsctanceChooserList Activity","body":"<p><a href=\"https://i.stack.imgur.com/YYbOI.png\" rel=\"nofollow noreferrer\">enter image description here</a> find this</p>\n"},{"tags":["java","junit","swt"],"comments":[{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":2,"creation_date":1323441736,"post_id":8447033,"comment_id":10440907,"body_markdown":"Can you show the code for createTestTree? Without seeing it, I would guess that you are not actually adding items to the tree.","body":"Can you show the code for createTestTree? Without seeing it, I would guess that you are not actually adding items to the tree."}],"answers":[{"tags":[],"owner":{"account_id":972917,"reputation":65,"user_id":995062,"display_name":"Julien D."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677495531,"creation_date":1351251593,"answer_id":13086244,"question_id":8447033,"body_markdown":"I suspect that, because your test is ran in UI thread, the viewer could not be refreshed. In this case a solution is to try to let the JVM refresh the view with calling the piece of code after each call of `refresh()` method in your code:\r\n\r\n        /**\r\n    \t * Execute pending UI tasks\r\n    \t */\r\n    \tpublic static void doPendingUIJobs() {\r\n    \t\ttry {\r\n    \t\t\tThread.yield();\r\n    \t\t\tIWorkbench wb = PlatformUI.getWorkbench();\r\n    \t\t\tif (wb != null) {\r\n    \t\t\t\tDisplay display = wb.getDisplay();\r\n    \t\t\t\tif (display != null) {\r\n    \t\t\t\t\tdo {\r\n    \t\t\t\t\t} while (display.readAndDispatch());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Throwable _) {\r\n    \t\t\tSystem.out.println(&quot;doPendingUIJobs error:&quot; + _);\r\n    \t\t\t_.printStackTrace();\r\n    \t\t}\r\n    \t}","title":"Java JUnit: Test selection of TreeViewer","body":"<p>I suspect that, because your test is ran in UI thread, the viewer could not be refreshed. In this case a solution is to try to let the JVM refresh the view with calling the piece of code after each call of <code>refresh()</code> method in your code:</p>\n<pre><code>    /**\n     * Execute pending UI tasks\n     */\n    public static void doPendingUIJobs() {\n        try {\n            Thread.yield();\n            IWorkbench wb = PlatformUI.getWorkbench();\n            if (wb != null) {\n                Display display = wb.getDisplay();\n                if (display != null) {\n                    do {\n                    } while (display.readAndDispatch());\n                }\n            }\n        } catch (Throwable _) {\n            System.out.println(&quot;doPendingUIJobs error:&quot; + _);\n            _.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":463978,"reputation":265,"user_id":867204,"accept_rate":39,"display_name":"user867204"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677495531,"creation_date":1323441423,"question_id":8447033,"body_markdown":"I wrote a method that returns the selections of a TreeViewer, which I created because I have to get the current selections quite often.\r\n\r\nI am trying to test this method with JUnit, but for some reason my manually created selections won&#39;t work. Apparently, the Tree in the TreeViewer is not created in the JUnit environment and thus cannot return any selections. \r\nThe debug shows me the following message when I call getItems()\r\n&quot;org.eclipse.debug.core.DebugException: com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred while retrieving component type of array.&quot;\r\n\r\nMaybe I am doing entirely wrong, but this is how I am doing it now:\r\n\r\n    TreeNode root = createTestTree();\r\n\t\tviewer.setContentProvider(new TreeNodeContentProvider());\r\n\t\tviewer.setInput(root); //&lt;-- is a tree with at least 9 nodes\r\n\t\tviewer.getTree().update(); //&lt;-- tried to update out of desperation, no effect\r\n\t\tviewer.refresh();\r\n\t\t\r\n\t\tTreeItem [] items = viewer.getTree().getItems(); //&lt;-- always empty, why\r\n\t\tviewer.getTree().setSelection(items[3]);\r\n\t\tviewer.refresh();\r\n\t\tviewer.getTree().update();\r\n\t\t\r\n\t\tsel = TreeUtil.getTreeSelections(viewer);\r\n\t\tassertEquals(1, sel.size());\r\n\r\n \r\nHow can I create a valid TreeViewer, select something in it for JUnit-Testing?","title":"Java JUnit: Test selection of TreeViewer","body":"<p>I wrote a method that returns the selections of a TreeViewer, which I created because I have to get the current selections quite often.</p>\n\n<p>I am trying to test this method with JUnit, but for some reason my manually created selections won't work. Apparently, the Tree in the TreeViewer is not created in the JUnit environment and thus cannot return any selections. \nThe debug shows me the following message when I call getItems()\n\"org.eclipse.debug.core.DebugException: com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred while retrieving component type of array.\"</p>\n\n<p>Maybe I am doing entirely wrong, but this is how I am doing it now:</p>\n\n<pre><code>TreeNode root = createTestTree();\n    viewer.setContentProvider(new TreeNodeContentProvider());\n    viewer.setInput(root); //&lt;-- is a tree with at least 9 nodes\n    viewer.getTree().update(); //&lt;-- tried to update out of desperation, no effect\n    viewer.refresh();\n\n    TreeItem [] items = viewer.getTree().getItems(); //&lt;-- always empty, why\n    viewer.getTree().setSelection(items[3]);\n    viewer.refresh();\n    viewer.getTree().update();\n\n    sel = TreeUtil.getTreeSelections(viewer);\n    assertEquals(1, sel.size());\n</code></pre>\n\n<p>How can I create a valid TreeViewer, select something in it for JUnit-Testing?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677495506,"creation_date":1677495506,"answer_id":75579579,"question_id":75565446,"body_markdown":"The password changes on save as your safe function always calls `encodePassword(user);`. you can prevent this in multiple ways.\r\n\r\n1) Give the edit function of user a seperate endpoint from create and make an update function in service that does not call you `encodePassword(user)` function.\r\n\r\n2) Don&#39;t use model entities in post and introduce a bean that holds all the modifiable fields of the user, than in the save function check if a new password is given and only than change the users password.\r\n\r\n```java\r\npublic void save(UserBean userBean)\r\n{\r\n    User user;\r\n    if(userBean.getId() == null)\r\n        user = new User();\r\n    else\r\n        user = userRepo.findById(userBean.getId()).orElseThrow(() -&gt; new IllegalStateException(&quot;no user with id&quot;));\r\n\r\n    if(userBean.getPassword() != null)\r\n    {\r\n        user.setPassword(userBean.getPassword());\r\n        encodePassword(user);\r\n    }\r\n\r\n    user.setName(userBean.getName());\r\n    // rest of you fields to edit/set\r\n    userRepo.save(user);\r\n}\r\n```\r\n","title":"Unable to update user Roles in Springboot","body":"<p>The password changes on save as your safe function always calls <code>encodePassword(user);</code>. you can prevent this in multiple ways.</p>\n<ol>\n<li><p>Give the edit function of user a seperate endpoint from create and make an update function in service that does not call you <code>encodePassword(user)</code> function.</p>\n</li>\n<li><p>Don't use model entities in post and introduce a bean that holds all the modifiable fields of the user, than in the save function check if a new password is given and only than change the users password.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void save(UserBean userBean)\n{\n    User user;\n    if(userBean.getId() == null)\n        user = new User();\n    else\n        user = userRepo.findById(userBean.getId()).orElseThrow(() -&gt; new IllegalStateException(&quot;no user with id&quot;));\n\n    if(userBean.getPassword() != null)\n    {\n        user.setPassword(userBean.getPassword());\n        encodePassword(user);\n    }\n\n    user.setName(userBean.getName());\n    // rest of you fields to edit/set\n    userRepo.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":27270290,"reputation":1,"user_id":20791708,"display_name":"Emmanuel Manolito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677495506,"creation_date":1677328306,"question_id":75565446,"body_markdown":"Whenever I try to update the user role, it update the password automatically. \r\n\r\nThis is the `service` class:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired(required=true)\r\n    \tprivate UserRepository userRepo;\r\n    \t\r\n    \t@Autowired RoleRepository roleRepo;\r\n    \t\r\n    \t@Autowired PasswordEncoder passwordEncoder;\r\n    \t\r\n    \tpublic void registerDefaultUser(User user) {\r\n    \t\tRole roleUser = roleRepo.findByName(&quot;User&quot;);\r\n    \t\tuser.addRole(roleUser);\r\n    \t\tencodePassword(user);\r\n    \t\tuserRepo.save(user);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;User&gt; listAll() {\r\n    \t\treturn userRepo.findAll();\r\n    \t}\r\n    \r\n    \tpublic User get(Long id) {\r\n    \t\treturn userRepo.findById(id).get();\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Role&gt; listRoles() {\r\n    \t\treturn roleRepo.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic void save(User user) {\r\n    \t\tencodePassword(user);\t\t\r\n    \t\tuserRepo.save(user);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the `controller`:\r\n\r\n\t@GetMapping(&quot;/users/edit/{id}&quot;)\r\n\tpublic String editUser(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n\t\tUser user = service.get(id);\r\n\t\tList&lt;Role&gt; listRoles = service.listRoles();\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\tmodel.addAttribute(&quot;listRoles&quot;, listRoles);\r\n\t\treturn &quot;user_form&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/users/save&quot;)\r\n\tpublic String saveUser(User user) {\r\n\t\tuser.getPassword();\t\r\n\t\tservice.save(user);\r\n\t\t\r\n\t\treturn &quot;redirect:/users&quot;;\r\n\t} \r\n\r\nI want to be ale to update the roles only, without changing the password the user has set.\r\n","title":"Unable to update user Roles in Springboot","body":"<p>Whenever I try to update the user role, it update the password automatically.</p>\n<p>This is the <code>service</code> class:</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired(required=true)\n    private UserRepository userRepo;\n    \n    @Autowired RoleRepository roleRepo;\n    \n    @Autowired PasswordEncoder passwordEncoder;\n    \n    public void registerDefaultUser(User user) {\n        Role roleUser = roleRepo.findByName(&quot;User&quot;);\n        user.addRole(roleUser);\n        encodePassword(user);\n        userRepo.save(user);\n    }\n    \n    public List&lt;User&gt; listAll() {\n        return userRepo.findAll();\n    }\n\n    public User get(Long id) {\n        return userRepo.findById(id).get();\n    }\n    \n    public List&lt;Role&gt; listRoles() {\n        return roleRepo.findAll();\n    }\n    \n    public void save(User user) {\n        encodePassword(user);       \n        userRepo.save(user);\n    }\n\n}\n</code></pre>\n<p>This is the <code>controller</code>:</p>\n<pre><code>@GetMapping(&quot;/users/edit/{id}&quot;)\npublic String editUser(@PathVariable(&quot;id&quot;) Long id, Model model) {\n    User user = service.get(id);\n    List&lt;Role&gt; listRoles = service.listRoles();\n    model.addAttribute(&quot;user&quot;, user);\n    model.addAttribute(&quot;listRoles&quot;, listRoles);\n    return &quot;user_form&quot;;\n}\n\n@PostMapping(&quot;/users/save&quot;)\npublic String saveUser(User user) {\n    user.getPassword(); \n    service.save(user);\n    \n    return &quot;redirect:/users&quot;;\n} \n</code></pre>\n<p>I want to be ale to update the roles only, without changing the password the user has set.</p>\n"},{"tags":["javascript","java","security","xss"],"owner":{"account_id":27887457,"reputation":1,"user_id":21294565,"display_name":"VY 767"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677495296,"creation_date":1677474129,"question_id":75576904,"body_markdown":".header(HttpHeaders.CONTENT_TYPE, Files.probeContentType(path))\r\n\r\nThe particular peace of code showing Stored XSS vulnerability, anyone please elaborate it out whether it is a TP OR FP…..\r\n\r\nHelp me on this………….","title":"Issue :- Stored XSS Vulnerability","body":"<p>.header(HttpHeaders.CONTENT_TYPE, Files.probeContentType(path))</p>\n<p>The particular peace of code showing Stored XSS vulnerability, anyone please elaborate it out whether it is a TP OR FP…..</p>\n<p>Help me on this………….</p>\n"},{"tags":["java","sequence","extends","extend"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1677494385,"post_id":75579390,"comment_id":133341969,"body_markdown":"Hint: if a constructor doesn&#39;t explicitly delegate to another through `this(...)` or `super(...)`, it&#39;s equivalent to having `super()`. So imagine the parameterless constructor for `C` starts `super();` - would that clear up your confusion?","body":"Hint: if a constructor doesn&#39;t explicitly delegate to another through <code>this(...)</code> or <code>super(...)</code>, it&#39;s equivalent to having <code>super()</code>. So imagine the parameterless constructor for <code>C</code> starts <code>super();</code> - would that clear up your confusion?"},{"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"score":0,"creation_date":1677494514,"post_id":75579390,"comment_id":133342002,"body_markdown":"oh yeah, i forgot that super() is invoked even if not explicitly, thank you!","body":"oh yeah, i forgot that super() is invoked even if not explicitly, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677495190,"creation_date":1677495190,"answer_id":75579516,"question_id":75579390,"body_markdown":"Inheriting classes call `super()` implicitely at the beginning of the constructor.\r\n\r\nThus, the execution is as follows:\r\n\r\n`C()` --&gt; `B()` --&gt; `A()` --&gt; `A(5)` --&gt; `print(&#39;a2&#39;)` --&gt; `print(&#39;a1&#39;)` --&gt; `B(false)` --&gt; `B(2)` --&gt; `print(&#39;b2&#39;)` --&gt; `print(&#39;b3&#39;)` --&gt; `print(&#39;b1&#39;)` --&gt; `print(&#39;c1&#39;)` (this finishes the very first call to `C()`)\r\n\r\n`C(1.0)` --&gt; does the exact same trajectory for a2, a1, b2, b3, b1, c1, and then finally `print(&#39;c2&#39;)` to finish the function.","title":"Questioning the order in which the code is executed","body":"<p>Inheriting classes call <code>super()</code> implicitely at the beginning of the constructor.</p>\n<p>Thus, the execution is as follows:</p>\n<p><code>C()</code> --&gt; <code>B()</code> --&gt; <code>A()</code> --&gt; <code>A(5)</code> --&gt; <code>print('a2')</code> --&gt; <code>print('a1')</code> --&gt; <code>B(false)</code> --&gt; <code>B(2)</code> --&gt; <code>print('b2')</code> --&gt; <code>print('b3')</code> --&gt; <code>print('b1')</code> --&gt; <code>print('c1')</code> (this finishes the very first call to <code>C()</code>)</p>\n<p><code>C(1.0)</code> --&gt; does the exact same trajectory for a2, a1, b2, b3, b1, c1, and then finally <code>print('c2')</code> to finish the function.</p>\n"}],"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677496116,"accepted_answer_id":75579516,"answer_count":1,"score":-1,"last_activity_date":1677495190,"creation_date":1677494308,"question_id":75579390,"body_markdown":"So I stumbled across this piece of code (https://stackoverflow.com/questions/25340310/java-constructor-does-not-explicitly-invoke-a-superclass-constructor-java-doe)...\r\n\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args){\r\n        new C();\r\n        new C(1.0);\r\n    }\r\n}\r\n\r\nclass A {\r\n    public A(){\r\n        this(5);\r\n        System.out.println(&quot;a1&quot;);\r\n    }\r\n\r\n    public A(int x){\r\n        System.out.println(&quot;a2&quot;);\r\n    }\r\n}\r\n\r\nclass B extends A {\r\n    public B(){\r\n        this(false);\r\n        System.out.println(&quot;b1&quot;);\r\n    }\r\n\r\n    public B(int x){\r\n        super();\r\n        System.out.println(&quot;b2&quot;);\r\n    }\r\n\r\n    public B(boolean b){\r\n        this(2);\r\n        System.out.println(&quot;b3&quot;);\r\n    }\r\n}\r\n\r\nclass C extends B {\r\n    public C(){\r\n        System.out.println(&quot;c1&quot;);\r\n    }\r\n\r\n    public C(double x){\r\n        this();\r\n        System.out.println(&quot;c2&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the output that I got is a2 a1 b2 b3 b1 c1 a2 a1 b2 b3 b1 c1 c2\r\n\r\n\r\n\r\nI was expecting it to be c1 c2 only but I just cannot wrap my head around the sequence in which the code is executed.\r\n\r\nI would love a detailed explanation, just to make sure I understand things clearly enough. Thank you!","title":"Questioning the order in which the code is executed","body":"<p>So I stumbled across this piece of code (<a href=\"https://stackoverflow.com/questions/25340310/java-constructor-does-not-explicitly-invoke-a-superclass-constructor-java-doe\">Java - Constructor does not explicitly invoke a superclass constructor, Java does not insert one either</a>)...</p>\n<pre><code>public class App {\n    public static void main(String[] args){\n        new C();\n        new C(1.0);\n    }\n}\n\nclass A {\n    public A(){\n        this(5);\n        System.out.println(&quot;a1&quot;);\n    }\n\n    public A(int x){\n        System.out.println(&quot;a2&quot;);\n    }\n}\n\nclass B extends A {\n    public B(){\n        this(false);\n        System.out.println(&quot;b1&quot;);\n    }\n\n    public B(int x){\n        super();\n        System.out.println(&quot;b2&quot;);\n    }\n\n    public B(boolean b){\n        this(2);\n        System.out.println(&quot;b3&quot;);\n    }\n}\n\nclass C extends B {\n    public C(){\n        System.out.println(&quot;c1&quot;);\n    }\n\n    public C(double x){\n        this();\n        System.out.println(&quot;c2&quot;);\n    }\n}\n</code></pre>\n<p>And the output that I got is a2 a1 b2 b3 b1 c1 a2 a1 b2 b3 b1 c1 c2</p>\n<p>I was expecting it to be c1 c2 only but I just cannot wrap my head around the sequence in which the code is executed.</p>\n<p>I would love a detailed explanation, just to make sure I understand things clearly enough. Thank you!</p>\n"},{"tags":["java","spring-boot","sql-server-2012"],"comments":[{"owner":{"account_id":7160143,"reputation":95,"user_id":5471166,"display_name":"kabinarayan dalei"},"score":0,"creation_date":1677496093,"post_id":75579355,"comment_id":133342418,"body_markdown":"https://stackoverflow.com/questions/53077180/springboot-application-fails-on-db-restart","body":"<a href=\"https://stackoverflow.com/questions/53077180/springboot-application-fails-on-db-restart\" title=\"springboot application fails on db restart\">stackoverflow.com/questions/53077180/&hellip;</a>"},{"owner":{"account_id":19443114,"reputation":1,"user_id":14221190,"display_name":"Naren"},"score":0,"creation_date":1677501360,"post_id":75579355,"comment_id":133343783,"body_markdown":"Hi @kabinarayandalei, I am already using type=javax.sql.DataSource, I guess that should be fine right?","body":"Hi @kabinarayandalei, I am already using type=javax.sql.DataSource, I guess that should be fine right?"},{"owner":{"account_id":7160143,"reputation":95,"user_id":5471166,"display_name":"kabinarayan dalei"},"score":0,"creation_date":1678702473,"post_id":75579355,"comment_id":133578224,"body_markdown":"Note that the use of autoReconnect is not recommended: The use of this feature is not recommended, because it has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly, and is only designed to be used when you are unable to configure your application to handle SQLExceptions resulting from dead and stale connections properly.    Can you please try with spring.datasource.tomcat.testOnBorrow=true \nspring.datasource.tomcat.validationQuery=SELECT 1 and tamcat datasource","body":"Note that the use of autoReconnect is not recommended: The use of this feature is not recommended, because it has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly, and is only designed to be used when you are unable to configure your application to handle SQLExceptions resulting from dead and stale connections properly.    Can you please try with spring.datasource.tomcat.testOnBorrow=true  spring.datasource.tomcat.validationQuery=SELECT 1 and tamcat datasource"}],"owner":{"account_id":19443114,"reputation":1,"user_id":14221190,"display_name":"Naren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677494138,"creation_date":1677494138,"question_id":75579355,"body_markdown":"We have an issue with the connection of DB being lost when the DB server is getting restarted.\r\nWe are using DBCP for the connection pool. We used autoReconnect=true which seems to solve this problem, but it is not recommended.\r\nCould anyone please suggest a suitable alternative for autoReconnect.\r\nWe are already using testOnBorrow=true and validationQuery=SELECT 1.\r\nThanks for your help!!\r\n\r\nTried autoReconnect=true, testOnBorrow=ture and validationQuery=SELECT 1.\r\nWant an alternative to autoReconnect=true since it is not recommended.","title":"Task Timer Scheduler is not working when the DB server is restarted in Java Spring Boot application","body":"<p>We have an issue with the connection of DB being lost when the DB server is getting restarted.\nWe are using DBCP for the connection pool. We used autoReconnect=true which seems to solve this problem, but it is not recommended.\nCould anyone please suggest a suitable alternative for autoReconnect.\nWe are already using testOnBorrow=true and validationQuery=SELECT 1.\nThanks for your help!!</p>\n<p>Tried autoReconnect=true, testOnBorrow=ture and validationQuery=SELECT 1.\nWant an alternative to autoReconnect=true since it is not recommended.</p>\n"},{"tags":["java","multithreading","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676972583,"post_id":75518580,"comment_id":133239942,"body_markdown":"Don&#39;t create an `ExecutorService`, inject a `TaskExecutor` or rather `AsyncTaskExecutor` from Spring and use that. Configure one with a `ThreadPool` so that you reuse the threads. You should join the results together as now you are making the calls basically blocking (by iterating and calling get). This would also a nice one to do with Reactive programming and zipping the results together (would use less resources in high concurrent environments) but can take some time to get used to.","body":"Don&#39;t create an <code>ExecutorService</code>, inject a <code>TaskExecutor</code> or rather <code>AsyncTaskExecutor</code> from Spring and use that. Configure one with a <code>ThreadPool</code> so that you reuse the threads. You should join the results together as now you are making the calls basically blocking (by iterating and calling get). This would also a nice one to do with Reactive programming and zipping the results together (would use less resources in high concurrent environments) but can take some time to get used to."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1677222193,"post_id":75518580,"comment_id":133298788,"body_markdown":"Do u mean changing the line `ExecutorService executor = Executors.newFixedThreadPool(5)` to `ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(5);`? @M.Deinum","body":"Do u mean changing the line <code>ExecutorService executor = Executors.newFixedThreadPool(5)</code> to <code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(5);</code>? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677485724,"post_id":75518580,"comment_id":133339772,"body_markdown":"No. Create a bean for the `ThreadPoolTaskExecutor` and inject it. Don&#39;t shut it down just reuse, that way you will always have that number of threads for use (you can scale using a larger max size and a moderate queue size).","body":"No. Create a bean for the <code>ThreadPoolTaskExecutor</code> and inject it. Don&#39;t shut it down just reuse, that way you will always have that number of threads for use (you can scale using a larger max size and a moderate queue size)."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1677491193,"post_id":75518580,"comment_id":133341170,"body_markdown":"@M.Deinum Could you please give the answer and example in the answer section of it? What if the traffic goes high at the moment but gets lower after that, wouldn&#39;t those opened threads just idle with constant resource usage (same as when traffic is high) over time during low traffic?","body":"@M.Deinum Could you please give the answer and example in the answer section of it? What if the traffic goes high at the moment but gets lower after that, wouldn&#39;t those opened threads just idle with constant resource usage (same as when traffic is high) over time during low traffic?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677491529,"post_id":75518580,"comment_id":133341262,"body_markdown":"No as there are x threads.. In your case you will have 5 threads per request, in this case you will only have minimal 5 (and whatever you set as the max) instead of 5 per request.","body":"No as there are x threads.. In your case you will have 5 threads per request, in this case you will only have minimal 5 (and whatever you set as the max) instead of 5 per request."}],"answers":[{"comments":[{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1678164208,"post_id":75579183,"comment_id":133475883,"body_markdown":"I use the `@Autowired ThisService thisService` to call the service instance on controller. Can it apply the `AsyncTaskExecutor` and apply the bean `taskExecutor()`?","body":"I use the <code>@Autowired ThisService thisService</code> to call the service instance on controller. Can it apply the <code>AsyncTaskExecutor</code> and apply the bean <code>taskExecutor()</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678175297,"post_id":75579183,"comment_id":133477722,"body_markdown":"I think you have a misunderstanding how beans work. It will just inject the taskexec utor created by the `taskExecutor` method (assuming it is an `@Bean` method).","body":"I think you have a misunderstanding how beans work. It will just inject the taskexec utor created by the <code>taskExecutor</code> method (assuming it is an <code>@Bean</code> method)."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1678180014,"post_id":75579183,"comment_id":133478975,"body_markdown":"Do you mean that by putting the `taskExecutor()`  Bean inside the class with `@Configuration` makes it automatically applies on every classes having that `AsyncTaskExecutor`?","body":"Do you mean that by putting the <code>taskExecutor()</code>  Bean inside the class with <code>@Configuration</code> makes it automatically applies on every classes having that <code>AsyncTaskExecutor</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678180053,"post_id":75579183,"comment_id":133478987,"body_markdown":"Yes that is the whole point of having beans and use Spring to inject them.","body":"Yes that is the whole point of having beans and use Spring to inject them."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677493100,"creation_date":1677493100,"answer_id":75579183,"question_id":75518580,"body_markdown":"Your code will create 5 threads for each time the service method is being called. \r\n\r\n```\r\nExecutorService executor = Executors.newFixedThreadPool(5);\r\n```\r\n\r\nThis creates a thread pool with 5 threads for each call. If you call it 100 times you have 100 * 5 = 500 threads. They are only used once and not recycled as you are closing the pool in each method. \r\n\r\nAs you are using Spring I suggest to use the `TaskExecutor` or rather `AsyncTaskExecutor` and configure it with a dynamic thread pool (min size 5 max, whatever you like, and a reasonable queue size). That way you will only have the number of threads you have specified as max (and it will eventually scale down depending on your configuration). \r\n\r\nYou should define this `TaskExecutor` as a bean in your configuration (or use the Spring Boot configured one) and inject this in your service to use it. \r\n\r\n```java\r\n@Bean\r\npublic ThreadPoolTaskExecutor taskExecutor() {\r\n  ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n  executor.setCorePoolSize(5);\r\n  executor.setMaxPoolSize(10);\r\n  executor.setQueueCapacity(16);\r\n  return executor;\r\n}\r\n```\r\n\r\nThen in your service use this. \r\n\r\n```java\r\npublic class YourService {\r\n\r\n  private final AsyncTaskExecutor executor;\r\n\r\n  public YourService(AsyncTaskExecutor executor) {\r\n    this.executor=executor;\r\n  }\r\n\r\n  public Map getResponse()\r\n\r\n    List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\r\n\r\n    Map responseMap = new HashMap();\r\n    for (int i=0; i &lt; res.size(); i++) {\r\n      try {\r\n        responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\r\n                \r\n        } catch (Exception e) {\r\n          throw (Exception) e.getCause();\r\n        }\r\n    }\r\n    return responseMap;\r\n}\r\n```\r\n\r\nSomething like this. This will atmost have 10 threads active instead of 5 per request and reuse the created threads for creating the tasks. ","title":"Allocate the unused/idle/completed threads in multi-thread processes in Java Spring Boot","body":"<p>Your code will create 5 threads for each time the service method is being called.</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(5);\n</code></pre>\n<p>This creates a thread pool with 5 threads for each call. If you call it 100 times you have 100 * 5 = 500 threads. They are only used once and not recycled as you are closing the pool in each method.</p>\n<p>As you are using Spring I suggest to use the <code>TaskExecutor</code> or rather <code>AsyncTaskExecutor</code> and configure it with a dynamic thread pool (min size 5 max, whatever you like, and a reasonable queue size). That way you will only have the number of threads you have specified as max (and it will eventually scale down depending on your configuration).</p>\n<p>You should define this <code>TaskExecutor</code> as a bean in your configuration (or use the Spring Boot configured one) and inject this in your service to use it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ThreadPoolTaskExecutor taskExecutor() {\n  ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n  executor.setCorePoolSize(5);\n  executor.setMaxPoolSize(10);\n  executor.setQueueCapacity(16);\n  return executor;\n}\n</code></pre>\n<p>Then in your service use this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourService {\n\n  private final AsyncTaskExecutor executor;\n\n  public YourService(AsyncTaskExecutor executor) {\n    this.executor=executor;\n  }\n\n  public Map getResponse()\n\n    List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\n\n    Map responseMap = new HashMap();\n    for (int i=0; i &lt; res.size(); i++) {\n      try {\n        responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\n                \n        } catch (Exception e) {\n          throw (Exception) e.getCause();\n        }\n    }\n    return responseMap;\n}\n</code></pre>\n<p>Something like this. This will atmost have 10 threads active instead of 5 per request and reuse the created threads for creating the tasks.</p>\n"}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677493100,"creation_date":1676971998,"question_id":75518580,"body_markdown":"I am building a service that inquires data from multiple services, those services are all independent, so I can send the requests altogether at once to make the processing time efficient. Here is how I make the service launch multiple threads to do all at once:\r\n\r\n```java\r\n        ExecutorService executor = Executors.newFixedThreadPool(5);\r\n        CompletionService completionService =\r\n                new ExecutorCompletionService&lt;&gt;(executor);\r\n\r\n        List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\r\n\r\n        Map responseMap = new HashMap();\r\n        for (int i=0; i &lt; res.size(); i++) {\r\n            try {\r\n                responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\r\n                \r\n            } catch (Exception e) {\r\n                throw (Exception) e.getCause();\r\n            }\r\n        }\r\n        executor.shutdown();\r\n```\r\n\r\nThis actually gets the output as expected when all the dependency APIs goes well:\r\n\r\n```json\r\n{\r\n    &quot;result_1&quot;: {...},\r\n    &quot;result_2&quot;: {...},\r\n    &quot;result_3&quot;: {...},\r\n    &quot;result_4&quot;: {...},\r\n    &quot;result_5&quot;: {...}\r\n}\r\n```\r\n\r\nHowever, when any dependency API needs longer processing time (or even having gateway timeout problem), the other threads are waiting for it even though the other processes are already done. And when there are many requests flooded this service, as it keeps opening 5 new threads and they are waiting for response from any slow dependency API, it made the instance crashes.\r\n\r\nTherefore, my questions are:\r\n\r\n1. How to make the threads closed or allocated to another process automatically when the process finishes (when it received response from dependency API and got the value stored in memory) ?\r\n\r\n2. How to set threshold of the number of threads can be opened and make the service checks whether the process can be continued or just cut it off before opening the multi threads?","title":"Allocate the unused/idle/completed threads in multi-thread processes in Java Spring Boot","body":"<p>I am building a service that inquires data from multiple services, those services are all independent, so I can send the requests altogether at once to make the processing time efficient. Here is how I make the service launch multiple threads to do all at once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ExecutorService executor = Executors.newFixedThreadPool(5);\n        CompletionService completionService =\n                new ExecutorCompletionService&lt;&gt;(executor);\n\n        List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\n\n        Map responseMap = new HashMap();\n        for (int i=0; i &lt; res.size(); i++) {\n            try {\n                responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\n                \n            } catch (Exception e) {\n                throw (Exception) e.getCause();\n            }\n        }\n        executor.shutdown();\n</code></pre>\n<p>This actually gets the output as expected when all the dependency APIs goes well:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;result_1&quot;: {...},\n    &quot;result_2&quot;: {...},\n    &quot;result_3&quot;: {...},\n    &quot;result_4&quot;: {...},\n    &quot;result_5&quot;: {...}\n}\n</code></pre>\n<p>However, when any dependency API needs longer processing time (or even having gateway timeout problem), the other threads are waiting for it even though the other processes are already done. And when there are many requests flooded this service, as it keeps opening 5 new threads and they are waiting for response from any slow dependency API, it made the instance crashes.</p>\n<p>Therefore, my questions are:</p>\n<ol>\n<li><p>How to make the threads closed or allocated to another process automatically when the process finishes (when it received response from dependency API and got the value stored in memory) ?</p>\n</li>\n<li><p>How to set threshold of the number of threads can be opened and make the service checks whether the process can be continued or just cut it off before opening the multi threads?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677493377,"post_id":75579181,"comment_id":133341722,"body_markdown":"xDDDDDDDDDDDDDD","body":"xDDDDDDDDDDDDDD"},{"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"score":0,"creation_date":1677495001,"post_id":75579181,"comment_id":133342134,"body_markdown":"You need to add more than one (model.addAttribute) to pass data to thymeleaf page.","body":"You need to add more than one (model.addAttribute) to pass data to thymeleaf page."}],"tags":[],"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677493088,"creation_date":1677493088,"answer_id":75579181,"question_id":75579025,"body_markdown":"I think you need to add something like this, because:\r\n\r\n    model.addAtribute(&quot;attribute_name&quot; attribute_name); added to check ther error.\r\n\r\n     @PostMapping(&quot;/saveIncome/{walletId}&quot;)\r\n        public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \r\n        @ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model)\r\n    {\r\n    // your code here.\r\n       model.addAttribute(&quot;transaction&quot;, transaction);\r\n        reurn &quot;your/thymeleaf/page&quot;;\r\n    }","title":"Trying to update related table with Spring Boot and Thymeleaf","body":"<p>I think you need to add something like this, because:</p>\n<pre><code>model.addAtribute(&quot;attribute_name&quot; attribute_name); added to check ther error.\n\n @PostMapping(&quot;/saveIncome/{walletId}&quot;)\n    public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \n    @ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model)\n{\n// your code here.\n   model.addAttribute(&quot;transaction&quot;, transaction);\n    reurn &quot;your/thymeleaf/page&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677493088,"creation_date":1677492136,"question_id":75579025,"body_markdown":"I have `Wallet` and `Transaction` entities. So, when I display to user his wallets, on each wallet he have option for income/expense transaction. When user create a for example income transaction, that transaction is added to `Transaction` page. Now, as I have `update` option for Wallet, so user can update data for Wallet, I want to add user option to update Transaction. I tried to create something but so far it didn&#39;t work well. I will show you below down my code and what are responses.\r\n\r\nFirst of all those are two entites that I&#39;m working with on this:\r\n\r\n`Wallet:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;wallet&quot;)\r\n    public class Wallet {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;wallet_id&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Please, insert a wallet name&quot;)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    private Double initialBalance;\r\n\r\n    @Transient\r\n    private double totalBalance;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\r\n            CascadeType.ALL})\r\n    private Set&lt;Transaction&gt; transactions;\r\n\r\n`Transaction:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;transaction_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;wallet_name&quot;, nullable = false)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    @Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\r\n    private Double amount;\r\n\r\n    private String note;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n\r\n    @ManyToOne\r\n    @OnDelete(action = OnDeleteAction.NO_ACTION)\r\n    @JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\r\n    private Wallet wallet;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM(&#39;EXPENSE&#39;, &#39;INCOME&#39;)&quot;)\r\n    private TransactionType transactionType;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM(&#39;FOOD_AND_DRINK&#39;, &#39;SHOPPING&#39;, &#39;TRANSPORT&#39;, &#39;HOME&#39;,&quot; +\r\n            &quot; &#39;BILLS_AND_FEES&#39;, &#39;ENTERTAINMENT&#39;, &#39;CAR&#39;, &#39;TRAVEL&#39;, &#39;FAMILY_AND_PERSONAL&#39;, &#39;HEALTHCARE&#39;,&quot; +\r\n            &quot; &#39;EDUCATION&#39;, &#39;GROCERIES&#39;, &#39;GIFTS&#39;, &#39;BEAUTY&#39;, &#39;WORK&#39;, &#39;SPORTS_AND_HOBBIES&#39;, &#39;OTHER&#39;)&quot;)\r\n    private ExpenseCategories expenseCategories;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM(&#39;SALARY&#39;, &#39;BUSINESS&#39;, &#39;GIFTS&#39;, &#39;EXTRA_INCOME&#39;, &#39;LOAN&#39;, &#39;PARENTAL_LEAVE&#39;, &#39;INSURANCE_PAYOUT&#39;, &#39;OTHER&#39;)&quot;)\r\n    private IncomeCategories incomeCategories;\r\n\r\nThen I have controller to `update` transaction:\r\n\r\n    @PostMapping(&quot;/saveIncome/{walletId}&quot;)\r\n    public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \r\n    @ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        boolean thereAreErrors = result.hasErrors();\r\n        if (thereAreErrors) {\r\n            model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\r\n            return &quot;income_transaction&quot;;\r\n        }\r\n\r\n        transaction.setWallet(wallet);\r\n        transaction.setUserId(userId);\r\n        transaction.setWalletName(wallet.getWalletName());\r\n        transactionService.saveIncome(transaction, walletId, userId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n    }\r\n    \r\nAnd this is `use-case:`\r\n\r\nFirst, I go at `Transaction` page and URL is `http://localhost:8080/api/transaction/userTransactions/1` here `1` stays for `id from user`, \r\non that page I get listed all user transaction, now, when I click on update button, I get redirected to: `http://localhost:8080/api/transaction/showFormForUpdate/36` where `36` stays for `id from transaction`, and that is fine, also, I get well displayed fields and can change value of them, so actually, I mean, I get correct fields, I get amount populated, note, date, all of that stuff, and I&#39;m ready to update it. So, I change some of values and then, when I click on submit, I get `Whitelabel Error Page` and URL is `http://localhost:8080/api/transaction/saveIncome/` without any `Id` at the end.\r\n\r\nWhat I&#39;m missing? I&#39;m updating `Wallet` on same way and it works fine, but this when I need to update related entity is confusning me, and I dont know what I&#39;m doing wrong.\r\n\r\n\r\n","title":"Trying to update related table with Spring Boot and Thymeleaf","body":"<p>I have <code>Wallet</code> and <code>Transaction</code> entities. So, when I display to user his wallets, on each wallet he have option for income/expense transaction. When user create a for example income transaction, that transaction is added to <code>Transaction</code> page. Now, as I have <code>update</code> option for Wallet, so user can update data for Wallet, I want to add user option to update Transaction. I tried to create something but so far it didn't work well. I will show you below down my code and what are responses.</p>\n<p>First of all those are two entites that I'm working with on this:</p>\n<p><code>Wallet:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;wallet&quot;)\npublic class Wallet {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;wallet_id&quot;)\nprivate Long id;\n\n@NotBlank(message = &quot;Please, insert a wallet name&quot;)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\nprivate Double initialBalance;\n\n@Transient\nprivate double totalBalance;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate User user;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\n        CascadeType.ALL})\nprivate Set&lt;Transaction&gt; transactions;\n</code></pre>\n<p><code>Transaction:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;transaction_id&quot;)\nprivate Long id;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Column(name = &quot;wallet_name&quot;, nullable = false)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\n@Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\nprivate Double amount;\n\nprivate String note;\n\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n@Column(name = &quot;date&quot;)\nprivate LocalDate date;\n\n@ManyToOne\n@OnDelete(action = OnDeleteAction.NO_ACTION)\n@JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\nprivate Wallet wallet;\n\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM('EXPENSE', 'INCOME')&quot;)\nprivate TransactionType transactionType;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM('FOOD_AND_DRINK', 'SHOPPING', 'TRANSPORT', 'HOME',&quot; +\n        &quot; 'BILLS_AND_FEES', 'ENTERTAINMENT', 'CAR', 'TRAVEL', 'FAMILY_AND_PERSONAL', 'HEALTHCARE',&quot; +\n        &quot; 'EDUCATION', 'GROCERIES', 'GIFTS', 'BEAUTY', 'WORK', 'SPORTS_AND_HOBBIES', 'OTHER')&quot;)\nprivate ExpenseCategories expenseCategories;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM('SALARY', 'BUSINESS', 'GIFTS', 'EXTRA_INCOME', 'LOAN', 'PARENTAL_LEAVE', 'INSURANCE_PAYOUT', 'OTHER')&quot;)\nprivate IncomeCategories incomeCategories;\n</code></pre>\n<p>Then I have controller to <code>update</code> transaction:</p>\n<pre><code>@PostMapping(&quot;/saveIncome/{walletId}&quot;)\npublic String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \n@ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\n        return &quot;income_transaction&quot;;\n    }\n\n    transaction.setWallet(wallet);\n    transaction.setUserId(userId);\n    transaction.setWalletName(wallet.getWalletName());\n    transactionService.saveIncome(transaction, walletId, userId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n</code></pre>\n<p>And this is <code>use-case:</code></p>\n<p>First, I go at <code>Transaction</code> page and URL is <code>http://localhost:8080/api/transaction/userTransactions/1</code> here <code>1</code> stays for <code>id from user</code>,\non that page I get listed all user transaction, now, when I click on update button, I get redirected to: <code>http://localhost:8080/api/transaction/showFormForUpdate/36</code> where <code>36</code> stays for <code>id from transaction</code>, and that is fine, also, I get well displayed fields and can change value of them, so actually, I mean, I get correct fields, I get amount populated, note, date, all of that stuff, and I'm ready to update it. So, I change some of values and then, when I click on submit, I get <code>Whitelabel Error Page</code> and URL is <code>http://localhost:8080/api/transaction/saveIncome/</code> without any <code>Id</code> at the end.</p>\n<p>What I'm missing? I'm updating <code>Wallet</code> on same way and it works fine, but this when I need to update related entity is confusning me, and I dont know what I'm doing wrong.</p>\n"},{"tags":["javascript","java","object","variables","vaadin"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":1,"creation_date":1677498783,"post_id":75579146,"comment_id":133343086,"body_markdown":"This sounds like the thing you&#39;re looking for: https://stackoverflow.com/a/969756/3608089","body":"This sounds like the thing you&#39;re looking for: <a href=\"https://stackoverflow.com/a/969756/3608089\">stackoverflow.com/a/969756/3608089</a>"}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677492870,"creation_date":1677492870,"question_id":75579146,"body_markdown":"If i have a object &quot;tour&quot; with the methods &quot;back&quot; and &quot;next&quot; and i have another object that i create:\r\n\r\n    let button: {\r\n       text: &quot;next Step&quot;,\r\n       action: tour.next\r\n    }\r\n\r\nIs there then any way, how i can store the method to execute on &quot;tour.&quot; in a variable, so i have something like this:\r\n\r\n    String methodToExecute = &quot;back&quot;\r\n    let button: {\r\n       text: &quot;one Step back&quot;,\r\n       action: tour.$(methodToExecute)\r\n    }\r\n\r\nDoes something like $() or anything exist to do this?\r\n\r\nWhy do i need something like this?\r\nI want to make a user guide with shepherd in javascript, but the user can fully program the tour in java, so i want to hand over a JSON with the buttons to the javascript part, where javascript decides which method to use for the action at the button. So, i can just make a new Button Object in Java with a &quot;String str = &quot;next&quot;&quot;, or &quot;String str = &quot;back&quot;&quot; and pass this String to Javascript to call the specific Method on it.","title":"Is there a way to call a Method in Javascript at a object from a String","body":"<p>If i have a object &quot;tour&quot; with the methods &quot;back&quot; and &quot;next&quot; and i have another object that i create:</p>\n<pre><code>let button: {\n   text: &quot;next Step&quot;,\n   action: tour.next\n}\n</code></pre>\n<p>Is there then any way, how i can store the method to execute on &quot;tour.&quot; in a variable, so i have something like this:</p>\n<pre><code>String methodToExecute = &quot;back&quot;\nlet button: {\n   text: &quot;one Step back&quot;,\n   action: tour.$(methodToExecute)\n}\n</code></pre>\n<p>Does something like $() or anything exist to do this?</p>\n<p>Why do i need something like this?\nI want to make a user guide with shepherd in javascript, but the user can fully program the tour in java, so i want to hand over a JSON with the buttons to the javascript part, where javascript decides which method to use for the action at the button. So, i can just make a new Button Object in Java with a &quot;String str = &quot;next&quot;&quot;, or &quot;String str = &quot;back&quot;&quot; and pass this String to Javascript to call the specific Method on it.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1677490518,"post_id":75578561,"comment_id":133340980,"body_markdown":"Your factory looks more like a builder","body":"Your factory looks more like a builder"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1677490759,"post_id":75578561,"comment_id":133341052,"body_markdown":"@MauricePerry your right. Maybe the use of the name is not that good. Additional I dont like this kind. This is why I prefer inheritance here. Im not sure if this is possible.","body":"@MauricePerry your right. Maybe the use of the name is not that good. Additional I dont like this kind. This is why I prefer inheritance here. Im not sure if this is possible."}],"answers":[{"comments":[{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1677495729,"post_id":75579141,"comment_id":133342330,"body_markdown":"My problem is not that I dont want to use setters but for example if I want to perform more complex functions like fetchAndUpdateDataFromURL() and url is stored in the entity it might be a bit of overkill to put everything that you can do with the Entity inside the Entity class.","body":"My problem is not that I dont want to use setters but for example if I want to perform more complex functions like fetchAndUpdateDataFromURL() and url is stored in the entity it might be a bit of overkill to put everything that you can do with the Entity inside the Entity class."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1677496892,"post_id":75579141,"comment_id":133342630,"body_markdown":"No, it doesn&#39;t sound like `fetchAndUpdateDataFromURL()` belongs in the entity class; but it shouldn&#39;t be in a subclass either.","body":"No, it doesn&#39;t sound like <code>fetchAndUpdateDataFromURL()</code> belongs in the entity class; but it shouldn&#39;t be in a subclass either."},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1677498474,"post_id":75579141,"comment_id":133343007,"body_markdown":"Thats basically the only way you remove redundant parameters. Static Methods require one additional parameter (the entity). I dont see why this one would be better.","body":"Thats basically the only way you remove redundant parameters. Static Methods require one additional parameter (the entity). I dont see why this one would be better."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1677499053,"post_id":75579141,"comment_id":133343148,"body_markdown":"I&#39;ve never talked about static methods, nor about additional parameter. Just remember that the entiry is what gets stored in a database. If you load an object from the database, that&#39;s what you get. I&#39;ve seen other of your questions and I&#39;m under the impression that you insist to use inheritance where it&#39;s not appropriate.","body":"I&#39;ve never talked about static methods, nor about additional parameter. Just remember that the entiry is what gets stored in a database. If you load an object from the database, that&#39;s what you get. I&#39;ve seen other of your questions and I&#39;m under the impression that you insist to use inheritance where it&#39;s not appropriate."},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1677500286,"post_id":75579141,"comment_id":133343481,"body_markdown":"The usecase of inheritance is to ensure that one object cannot exist without the other. This is called `composition`. Lets take for example `fetchAndUpdateDataFromURL()`. It really cannot exist without an object that stores the url. Usually you want to have a class that simply does only read and write attributes of an object. For a bunch of reasons you want to extract everything else in other classes. Obviously inheritance is usually used to distinct different objects from each other or to split them to avoid huge classes. The 200 line rule exists for a reason.","body":"The usecase of inheritance is to ensure that one object cannot exist without the other. This is called <code>composition</code>. Lets take for example <code>fetchAndUpdateDataFromURL()</code>. It really cannot exist without an object that stores the url. Usually you want to have a class that simply does only read and write attributes of an object. For a bunch of reasons you want to extract everything else in other classes. Obviously inheritance is usually used to distinct different objects from each other or to split them to avoid huge classes. The 200 line rule exists for a reason."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677492843,"creation_date":1677492843,"answer_id":75579141,"question_id":75578561,"body_markdown":"The builder pattern is used to create immutable objects. For instance:\r\n\r\n    public class EBase {\r\n        private final Integer id;\r\n        private final String name;\r\n        private final byte letters;\r\n    \r\n        private EBase(Builder builder) {\r\n            this.id = builder.id;\r\n            this.name = builder.name;\r\n            this.letters = builder.letters;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public byte getLetters() {\r\n            return letters;\r\n        }\r\n    \r\n        protected static class Builder {\r\n            private Integer id;\r\n            private String name;\r\n            private byte letters;\r\n    \r\n            public Builder setId(Integer id) {\r\n                this.id = id;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setName(String name) {\r\n                this.name = name;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setLetters(byte letters) {\r\n                this.letters = letters;\r\n                return this;\r\n            }\r\n    \r\n            public EBase build() {\r\n                return new EBase(this);\r\n            }\r\n        }\r\n    }\r\n\r\nNow, if you&#39;re using hibernate, you want to store objects in an SQL database, and, if you can store objects without ever modifying them, most of the time, you will want to have the ability to modify them.\r\n\r\nOf course you could move all your setters to another class, like this:\r\n\r\n\r\n    public class EBase {\r\n        private Integer id;\r\n        private String name;\r\n        private byte letters;\r\n    \r\n        public interface Updater {\r\n            public Updater setId(Integer id);\r\n            public Updater setName(String name);\r\n            public Updater setLetters(byte letters);\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public byte getLetters() {\r\n            return letters;\r\n        }\r\n\r\n        public Updater getUpdater() {\r\n            return new Updater() {\r\n                @Override\r\n                public Updater setId(Integer newId) {\r\n                    id = newId;\r\n                    return this;\r\n                }\r\n\r\n                @Override\r\n                public Updater setName(String newName) {\r\n                    name = newName;\r\n                    return this;\r\n                }\r\n\r\n                @Override\r\n                public Updater setLetters(byte newLetters) {\r\n                    letters = newLetters;\r\n                    return this;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nBut I don&#39;t see why you would need inheritance.\r\n\r\nThat said, I would recommand you to use neither of those patterns, and just declare getters and setters in the same class.\r\n\r\n","title":"Hibernate use subclass of data class entity","body":"<p>The builder pattern is used to create immutable objects. For instance:</p>\n<pre><code>public class EBase {\n    private final Integer id;\n    private final String name;\n    private final byte letters;\n\n    private EBase(Builder builder) {\n        this.id = builder.id;\n        this.name = builder.name;\n        this.letters = builder.letters;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public byte getLetters() {\n        return letters;\n    }\n\n    protected static class Builder {\n        private Integer id;\n        private String name;\n        private byte letters;\n\n        public Builder setId(Integer id) {\n            this.id = id;\n            return this;\n        }\n\n        public Builder setName(String name) {\n            this.name = name;\n            return this;\n        }\n\n        public Builder setLetters(byte letters) {\n            this.letters = letters;\n            return this;\n        }\n\n        public EBase build() {\n            return new EBase(this);\n        }\n    }\n}\n</code></pre>\n<p>Now, if you're using hibernate, you want to store objects in an SQL database, and, if you can store objects without ever modifying them, most of the time, you will want to have the ability to modify them.</p>\n<p>Of course you could move all your setters to another class, like this:</p>\n<pre><code>public class EBase {\n    private Integer id;\n    private String name;\n    private byte letters;\n\n    public interface Updater {\n        public Updater setId(Integer id);\n        public Updater setName(String name);\n        public Updater setLetters(byte letters);\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public byte getLetters() {\n        return letters;\n    }\n\n    public Updater getUpdater() {\n        return new Updater() {\n            @Override\n            public Updater setId(Integer newId) {\n                id = newId;\n                return this;\n            }\n\n            @Override\n            public Updater setName(String newName) {\n                name = newName;\n                return this;\n            }\n\n            @Override\n            public Updater setLetters(byte newLetters) {\n                letters = newLetters;\n                return this;\n            }\n        };\n    }\n}\n</code></pre>\n<p>But I don't see why you would need inheritance.</p>\n<p>That said, I would recommand you to use neither of those patterns, and just declare getters and setters in the same class.</p>\n"}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677492843,"creation_date":1677489207,"question_id":75578561,"body_markdown":"I have an entity like this:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Entity\r\n    public class EBase {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;e_id&quot;, nullable = false)\r\n      private Integer id;\r\n  \r\n      @Column(name = &quot;name&quot;)\r\n      protected String name;\r\n\r\n      @Column(name = &quot;letters&quot;)\r\n      protected byte letters;\r\n    }\r\n\r\nTo modify data I use an other class:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class E extends EBase {\r\n      public void setName(String name) {\r\n        super.name = name;\r\n        super.letters = (byte) name.length();\r\n      }\r\n    }\r\n\r\nI know that can be solved very different and I would never store the length of a string like this. But its good to visualize my problem. I want to have an entity that has only Getters and Setters no &quot;real&quot; other methods.\r\nNow lets create an entity:\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        final E e = new E();\r\n        e.setName(&quot;Test&quot;);\r\n        Database.getSession().save(e);\r\n      }\r\n    }\r\n\r\nMy question is: Is this possible?\r\n\r\nI tried a factory class like \r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Getter\r\nclass EFactory {\r\n  private final EBase e;\r\n  public void setName(String name) {\r\n    e.setName(name);\r\n    e.setLetters((byte) name.length());  // setters in EBase implemented\r\n  }\r\n\r\n  public EBase get() {\r\n    return e;\r\n  }\r\n  \r\n}\r\n```\r\nwith:\r\n\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    EBase e = new EBase();\r\n    e = new EFactory(e).setName(&quot;Test&quot;).get();\r\n    Database.getSession().save(e);\r\n  }\r\n}\r\n```\r\nbut this is not very fancy. Is the solution mentioned above possible even if E is not an entity?","title":"Hibernate use subclass of data class entity","body":"<p>I have an entity like this:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Entity\npublic class EBase {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;e_id&quot;, nullable = false)\n  private Integer id;\n\n  @Column(name = &quot;name&quot;)\n  protected String name;\n\n  @Column(name = &quot;letters&quot;)\n  protected byte letters;\n}\n</code></pre>\n<p>To modify data I use an other class:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\npublic class E extends EBase {\n  public void setName(String name) {\n    super.name = name;\n    super.letters = (byte) name.length();\n  }\n}\n</code></pre>\n<p>I know that can be solved very different and I would never store the length of a string like this. But its good to visualize my problem. I want to have an entity that has only Getters and Setters no &quot;real&quot; other methods.\nNow lets create an entity:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    final E e = new E();\n    e.setName(&quot;Test&quot;);\n    Database.getSession().save(e);\n  }\n}\n</code></pre>\n<p>My question is: Is this possible?</p>\n<p>I tried a factory class like</p>\n<pre><code>@RequiredArgsConstructor\n@Getter\nclass EFactory {\n  private final EBase e;\n  public void setName(String name) {\n    e.setName(name);\n    e.setLetters((byte) name.length());  // setters in EBase implemented\n  }\n\n  public EBase get() {\n    return e;\n  }\n  \n}\n</code></pre>\n<p>with:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    EBase e = new EBase();\n    e = new EFactory(e).setName(&quot;Test&quot;).get();\n    Database.getSession().save(e);\n  }\n}\n</code></pre>\n<p>but this is not very fancy. Is the solution mentioned above possible even if E is not an entity?</p>\n"},{"tags":["javascript","java","eclipse","intellij-idea","keyboard-shortcuts"],"comments":[{"owner":{"account_id":937095,"reputation":14646,"user_id":965834,"accept_rate":83,"display_name":"Jeto"},"score":0,"creation_date":1520007416,"post_id":49067884,"comment_id":85151844,"body_markdown":"See [this question](https://stackoverflow.com/questions/25831703/eclipse-search-everywhere).","body":"See <a href=\"https://stackoverflow.com/questions/25831703/eclipse-search-everywhere\">this question</a>."}],"answers":[{"comments":[{"owner":{"account_id":5233803,"reputation":428,"user_id":4183129,"accept_rate":64,"display_name":"Jithesh Gopinathan"},"score":0,"creation_date":1520032199,"post_id":49073202,"comment_id":85163461,"body_markdown":"Thanks @mofic. I have already tried on of the plungs. I will check this one also.","body":"Thanks @mofic. I have already tried on of the plungs. I will check this one also."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1520036168,"post_id":49073202,"comment_id":85164520,"body_markdown":"@JitheshGopinathan Sorry if I&#39;ve not been clear enough. The plugin also DOES NOT support double shift. That&#39;s why I mentioned it may be worth contacting the maintainer, perhaps he knows if there&#39;s a possibility to add it or not.","body":"@JitheshGopinathan Sorry if I&#39;ve not been clear enough. The plugin also DOES NOT support double shift. That&#39;s why I mentioned it may be worth contacting the maintainer, perhaps he knows if there&#39;s a possibility to add it or not."},{"owner":{"account_id":5233803,"reputation":428,"user_id":4183129,"accept_rate":64,"display_name":"Jithesh Gopinathan"},"score":0,"creation_date":1520039396,"post_id":49073202,"comment_id":85165182,"body_markdown":"Ohhhh.. Thanks @mofic. I will have a try.","body":"Ohhhh.. Thanks @mofic. I will have a try."}],"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520038184,"creation_date":1520007710,"answer_id":49073202,"question_id":49067884,"body_markdown":"Unfortunately I don&#39;t think it&#39;s implicitly possible, and I&#39;m not sure it&#39;s possible via a plugin either. &lt;kbd&gt;SHIFT&lt;/kbd&gt; is a [modifier key][1], which means it usually does something in combination with other keys. Even in IJ, if you look at the keymap, there is no shortcut assigned to `Search everywhere`, so it&#39;s probably implemented as a custom feature (maybe not so relevant, but it&#39;s also not disabled if you assign a shortcut).\r\n\r\n[![IJ keymap][2]][2]\r\n\r\nThere are plugins which reproduce the IJ keymap in Eclipse, such as [IntelliJIdeaKeymap4Eclipse][3] (There could possibly others which I don&#39;t know yet) but not all features are supported (see below).\r\n\r\n[![IntelliJIdeaKeymap4Eclipse][4]][4]\r\n\r\nI haven&#39;t developed any Eclipse plugins so I don&#39;t know the limitations of the framework, so I guess it may be worth trying to contact the author of the above plugin and ask about the feature, or search alternative plugins.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Modifier_key\r\n  [2]: https://i.stack.imgur.com/YGjXT.png\r\n  [3]: https://github.com/IntelliJIdeaKeymap4Eclipse/IntelliJIdeaKeymap4Eclipse\r\n  [4]: https://i.stack.imgur.com/LGuII.png","title":"Can we give Open Resource in Eclipse with Double Shift shortcut(as in Intellij)","body":"<p>Unfortunately I don't think it's implicitly possible, and I'm not sure it's possible via a plugin either. <kbd>SHIFT</kbd> is a <a href=\"https://en.wikipedia.org/wiki/Modifier_key\" rel=\"nofollow noreferrer\">modifier key</a>, which means it usually does something in combination with other keys. Even in IJ, if you look at the keymap, there is no shortcut assigned to <code>Search everywhere</code>, so it's probably implemented as a custom feature (maybe not so relevant, but it's also not disabled if you assign a shortcut).</p>\n\n<p><a href=\"https://i.stack.imgur.com/YGjXT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGjXT.png\" alt=\"IJ keymap\"></a></p>\n\n<p>There are plugins which reproduce the IJ keymap in Eclipse, such as <a href=\"https://github.com/IntelliJIdeaKeymap4Eclipse/IntelliJIdeaKeymap4Eclipse\" rel=\"nofollow noreferrer\">IntelliJIdeaKeymap4Eclipse</a> (There could possibly others which I don't know yet) but not all features are supported (see below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/LGuII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LGuII.png\" alt=\"IntelliJIdeaKeymap4Eclipse\"></a></p>\n\n<p>I haven't developed any Eclipse plugins so I don't know the limitations of the framework, so I guess it may be worth trying to contact the author of the above plugin and ask about the feature, or search alternative plugins.</p>\n"}],"owner":{"account_id":5233803,"reputation":428,"user_id":4183129,"accept_rate":64,"display_name":"Jithesh Gopinathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677492645,"creation_date":1519988832,"question_id":49067884,"body_markdown":"I am used to the IntelliJ IDE. I have used a plugin to map keys of IntelliJ to Eclipse. But for the Open Resource, still having the shortcut as `Ctrl + Shift + R`.\r\nIs there any option to add Double Shift?\r\n\r\nI have tried the Preference - General - Keys, but not able to update the shortcut to double shift.","title":"Can we give Open Resource in Eclipse with Double Shift shortcut(as in Intellij)","body":"<p>I am used to the IntelliJ IDE. I have used a plugin to map keys of IntelliJ to Eclipse. But for the Open Resource, still having the shortcut as <code>Ctrl + Shift + R</code>.\nIs there any option to add Double Shift?</p>\n\n<p>I have tried the Preference - General - Keys, but not able to update the shortcut to double shift.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1677492553,"post_id":75579093,"comment_id":133341531,"body_markdown":"You don&#39;t need any extra table to map a 1-to-many relation. It will simply create a foreign key on the &quot;many&quot; part linking to the 1. In your case the Course table will have a column instructor_id linking your coursed to the instructors. That all that is needed to  create Lists when doing a query.","body":"You don&#39;t need any extra table to map a 1-to-many relation. It will simply create a foreign key on the &quot;many&quot; part linking to the 1. In your case the Course table will have a column instructor_id linking your coursed to the instructors. That all that is needed to  create Lists when doing a query."},{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1677492653,"post_id":75579093,"comment_id":133341556,"body_markdown":"My main query is How am I able to retrieve this List of courses if it is not stored in the database?","body":"My main query is How am I able to retrieve this List of courses if it is not stored in the database?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1677492679,"post_id":75579093,"comment_id":133341562,"body_markdown":"But it is stored in the database. Just not in any extra table because an extra table is not needed.","body":"But it is stored in the database. Just not in any extra table because an extra table is not needed."},{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1677492797,"post_id":75579093,"comment_id":133341599,"body_markdown":"ok there is no extra table but it is getting stored somewhere in the database right. Actually I asked this doubt to a person he told its not stored in database.","body":"ok there is no extra table but it is getting stored somewhere in the database right. Actually I asked this doubt to a person he told its not stored in database."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1677493191,"post_id":75579093,"comment_id":133341683,"body_markdown":"I already explained that the relationship is stored as a foreign key on the &quot;many&quot; side. This is what is used to store your relationship that on the java side is represented by a list. In your example each database row of `course` will have a `instructor_id` column that points to the `instructor` table. So for example if you want the List of courses that the instructor with id=3 has you can get that with a query like`select * from course where instructor_id=3`.  All this is of course done by JPA in the background but this is how your relationship is stored.","body":"I already explained that the relationship is stored as a foreign key on the &quot;many&quot; side. This is what is used to store your relationship that on the java side is represented by a list. In your example each database row of <code>course</code> will have a <code>instructor_id</code> column that points to the <code>instructor</code> table. So for example if you want the List of courses that the instructor with id=3 has you can get that with a query like<code>select * from course where instructor_id=3</code>.  All this is of course done by JPA in the background but this is how your relationship is stored."}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677492464,"creation_date":1677492464,"question_id":75579093,"body_markdown":"I am having two entities Course and Instructor. An Instructor can have many courses but a course can be assigned to only one Instructor.\r\n\r\n\r\nI add some courses to the instructor. So these courses are being added to the ArrayList right due to the following method addCourses :\r\n\r\n````\r\npublic void addCourses(Course course) {\r\n\t\tif(courses==null) {\r\n\t\t\tcourses=new ArrayList&lt;Course&gt;();\r\n\t\t}\r\n\t\tcourses.add(course);\r\n\t\tcourse.setInstructor(this);\r\n\t}\r\n````\r\nSo I am asking where is this ArrayList getting saved. When I want to retrieve the List of courses I am able to do so by using the courses ArrayList. But I don&#39;t see any database table getting generated to save this list. How am I able to retrieve this list then?\r\n\r\nCourse\r\n````\r\n@Entity\r\n@Table(name=&quot;course&quot;)\r\npublic class Course {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String title;\r\n\t\r\n\t@ManyToOne(cascade=      {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\r\n\t@JoinColumn(name=&quot;instructor_id&quot;)\r\n\tprivate Instructor instructor;\r\n\r\n\t//getters and setters and constructor\r\n\t\r\n}\r\n````\r\n\r\nInstructor\r\n\r\n````\r\n@Entity\r\n@Table(name=&quot;instructor&quot;)\r\npublic class Instructor {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String email;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;instructor&quot;, cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\r\n\tprivate List&lt;Course&gt; courses;\r\n\r\n\r\n\t//adding a convenience method for bi-directional relationship\r\n\tpublic void addCourses(Course course) {\r\n\t\tif(courses==null) {\r\n\t\t\tcourses=new ArrayList&lt;Course&gt;();\r\n\t\t}\r\n\t\tcourses.add(course);\r\n\t\tcourse.setInstructor(this);\r\n\t}\r\n\t\r\n        // getters and setters and constructors\r\n}\r\n````","title":"@OneToMany working in Jpa. How are we able to retrieve the List of entities?","body":"<p>I am having two entities Course and Instructor. An Instructor can have many courses but a course can be assigned to only one Instructor.</p>\n<p>I add some courses to the instructor. So these courses are being added to the ArrayList right due to the following method addCourses :</p>\n<pre><code>public void addCourses(Course course) {\n        if(courses==null) {\n            courses=new ArrayList&lt;Course&gt;();\n        }\n        courses.add(course);\n        course.setInstructor(this);\n    }\n</code></pre>\n<p>So I am asking where is this ArrayList getting saved. When I want to retrieve the List of courses I am able to do so by using the courses ArrayList. But I don't see any database table getting generated to save this list. How am I able to retrieve this list then?</p>\n<p>Course</p>\n<pre><code>@Entity\n@Table(name=&quot;course&quot;)\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    private String title;\n    \n    @ManyToOne(cascade=      {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\n    @JoinColumn(name=&quot;instructor_id&quot;)\n    private Instructor instructor;\n\n    //getters and setters and constructor\n    \n}\n</code></pre>\n<p>Instructor</p>\n<pre><code>@Entity\n@Table(name=&quot;instructor&quot;)\npublic class Instructor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    \n    @OneToMany(mappedBy=&quot;instructor&quot;, cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\n    private List&lt;Course&gt; courses;\n\n\n    //adding a convenience method for bi-directional relationship\n    public void addCourses(Course course) {\n        if(courses==null) {\n            courses=new ArrayList&lt;Course&gt;();\n        }\n        courses.add(course);\n        course.setInstructor(this);\n    }\n    \n        // getters and setters and constructors\n}\n</code></pre>\n"},{"tags":["java","oop","stream"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1499536825,"post_id":44989214,"comment_id":76953179,"body_markdown":"Why does it matter? The language was designed that way. The people on the committee or team that designed it made that decision. Someone somewhere also made the decision to name the language *Java*.","body":"Why does it matter? The language was designed that way. The people on the committee or team that designed it made that decision. Someone somewhere also made the decision to name the language <i>Java</i>."},{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1499536854,"post_id":44989214,"comment_id":76953185,"body_markdown":"You should read the [`Scanner` class&#39; documentation](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html). `Scanner#nextInt()` is a convenience method, you can easily read bytes from `System.in` without a `Scanner` object. Also, should the `System` class have every possible method for parsing input, or should another class handle that task and let `System` stick to what it&#39;s meant to do instead of being bloated.","body":"You should read the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code> class&#39; documentation</a>. <code>Scanner#nextInt()</code> is a convenience method, you can easily read bytes from <code>System.in</code> without a <code>Scanner</code> object. Also, should the <code>System</code> class have every possible method for parsing input, or should another class handle that task and let <code>System</code> stick to what it&#39;s meant to do instead of being bloated."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1499537604,"post_id":44989214,"comment_id":76953405,"body_markdown":"You obviously can just use `System.in.read()`, so this question doesn&#39;t make much sense in the current state, since you don&#39;t need Scanner at all.","body":"You obviously can just use <code>System.in.read()</code>, so this question doesn&#39;t make much sense in the current state, since you don&#39;t need Scanner at all."}],"answers":[{"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1499537066,"post_id":44989251,"comment_id":76953248,"body_markdown":"The word &quot;bloat&quot; also came to my mind in regard to including scanner methods.","body":"The word &quot;bloat&quot; also came to my mind in regard to including scanner methods."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1499538612,"creation_date":1499536853,"answer_id":44989251,"question_id":44989214,"body_markdown":"System.in is simply an InputStream. A pretty generic interface designed many years ago. Changing this aspect would break a lot of existing code. So changing the type of System.in is a no go. \r\n\r\nAdding the scanner methods to the stream would bloat the existing class on the other hand. Think of concepts such as single responsibility principle or segregation of concerns. \r\n\r\nYou see - good object oriented design is about having small classes that have *one* responsibility. Not two, not 5 or 10.\r\n\r\nBut I think you have a certain point - and if Java would be rewritten today, that input stream might end up being more convenient. ","title":"Why do we need a Scanner Object for taking input in java","body":"<p>System.in is simply an InputStream. A pretty generic interface designed many years ago. Changing this aspect would break a lot of existing code. So changing the type of System.in is a no go. </p>\n\n<p>Adding the scanner methods to the stream would bloat the existing class on the other hand. Think of concepts such as single responsibility principle or segregation of concerns. </p>\n\n<p>You see - good object oriented design is about having small classes that have <em>one</em> responsibility. Not two, not 5 or 10.</p>\n\n<p>But I think you have a certain point - and if Java would be rewritten today, that input stream might end up being more convenient. </p>\n"},{"comments":[{"owner":{"account_id":9811289,"reputation":1241,"user_id":7269381,"display_name":"Ihor Dobrovolskyi"},"score":0,"creation_date":1499537211,"post_id":44989282,"comment_id":76953281,"body_markdown":"&quot;IDE standard library&quot;? What is it?","body":"&quot;IDE standard library&quot;? What is it?"},{"owner":{"account_id":7236475,"reputation":87,"user_id":5521543,"display_name":"Alhajras Algdairy"},"score":0,"creation_date":1499537308,"post_id":44989282,"comment_id":76953313,"body_markdown":"In your Eclipse environment whenever you make a new project there is a standard library that contains classes like: Scanner, String, ArrayList and so on.","body":"In your Eclipse environment whenever you make a new project there is a standard library that contains classes like: Scanner, String, ArrayList and so on."},{"owner":{"account_id":9811289,"reputation":1241,"user_id":7269381,"display_name":"Ihor Dobrovolskyi"},"score":1,"creation_date":1499537387,"post_id":44989282,"comment_id":76953331,"body_markdown":"Man, it is called JDK. IDE does not contain any classes!","body":"Man, it is called JDK. IDE does not contain any classes!"},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1499538020,"post_id":44989282,"comment_id":76953512,"body_markdown":"@ИгорьДобровольський The IDE can certainly provide classes -- a typical example from Eclipse is SWT. Scanner in particular is from the JCL though (not JDK).  Feel free to suggest edits when you believe you can make a post more helpful.","body":"@ИгорьДобровольський The IDE can certainly provide classes -- a typical example from Eclipse is SWT. Scanner in particular is from the JCL though (not JDK).  Feel free to suggest edits when you believe you can make a post more helpful."}],"tags":[],"owner":{"account_id":7236475,"reputation":87,"user_id":5521543,"display_name":"Alhajras Algdairy"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499539370,"creation_date":1499537122,"answer_id":44989282,"question_id":44989214,"body_markdown":"Scanner is a class which is defined in the standard Java Class Library, that you can use it to read from the console like this: \r\n\r\n    Scanner sc = new Scanner(System.in);\r\n        int i = sc.nextInt();\r\n\r\nhowever there are even more options that this constructer can do, for example you can read from a file and not console like this: \r\n\r\n    Scanner sc = new Scanner(new File(&quot;myNumbers&quot;));\r\n      while (sc.hasNextLong()) {\r\n          long aLong = sc.nextLong();\r\n      }\r\n so basically depending on the constructer you can choose where you want to read your input from. \r\n\r\nAdditionally, there are multiple ways to represent integers in a stream. `Scanner.nextInt()` reads them as a text string. [`DataInputStream.readInt()`](https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html) reads them as binary data.\r\n\r\nIf you mix them up, a human would enter `1234` and get `825373492`, or a computer would enter `825373492` and get `1234`. Both would be confused. By having to specify Scanner or DataInputStream, there are no such surprises or bugs, because you state up front what &quot;read an integer&quot; means.\r\n\r\nRead this: \r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n","title":"Why do we need a Scanner Object for taking input in java","body":"<p>Scanner is a class which is defined in the standard Java Class Library, that you can use it to read from the console like this: </p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\n    int i = sc.nextInt();\n</code></pre>\n\n<p>however there are even more options that this constructer can do, for example you can read from a file and not console like this: </p>\n\n<pre><code>Scanner sc = new Scanner(new File(\"myNumbers\"));\n  while (sc.hasNextLong()) {\n      long aLong = sc.nextLong();\n  }\n</code></pre>\n\n<p>so basically depending on the constructer you can choose where you want to read your input from. </p>\n\n<p>Additionally, there are multiple ways to represent integers in a stream. <code>Scanner.nextInt()</code> reads them as a text string. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html\" rel=\"nofollow noreferrer\"><code>DataInputStream.readInt()</code></a> reads them as binary data.</p>\n\n<p>If you mix them up, a human would enter <code>1234</code> and get <code>825373492</code>, or a computer would enter <code>825373492</code> and get <code>1234</code>. Both would be confused. By having to specify Scanner or DataInputStream, there are no such surprises or bugs, because you state up front what \"read an integer\" means.</p>\n\n<p>Read this: \n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n"},{"tags":[],"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499537263,"creation_date":1499537263,"answer_id":44989305,"question_id":44989214,"body_markdown":"One important difference between `System.in` and `System.out` is, that - although both are streams - one is a more specialized stream. Look at the class&#39; [documentation][1]:\r\n\r\n*Field Summary*\r\n\r\n    static InputStream in\r\n    static PrintStream out\r\n\r\nThe counterpart of `InputStream` is an `OutputStream`, but the Java designers made the class variable `out` a `PrintStream`. This is the reason why you see more specialized methods for `System.out` than you do for `System.in`.\r\n\r\nAs for why this is the case, see @GhostCat&#39;s answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html","title":"Why do we need a Scanner Object for taking input in java","body":"<p>One important difference between <code>System.in</code> and <code>System.out</code> is, that - although both are streams - one is a more specialized stream. Look at the class' <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<p><em>Field Summary</em></p>\n\n<pre><code>static InputStream in\nstatic PrintStream out\n</code></pre>\n\n<p>The counterpart of <code>InputStream</code> is an <code>OutputStream</code>, but the Java designers made the class variable <code>out</code> a <code>PrintStream</code>. This is the reason why you see more specialized methods for <code>System.out</code> than you do for <code>System.in</code>.</p>\n\n<p>As for why this is the case, see @GhostCat's answer.</p>\n"}],"owner":{"account_id":11174743,"reputation":53,"user_id":8200702,"display_name":"Yash Bhutoria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2097,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"accepted_answer_id":44989251,"answer_count":3,"score":1,"last_activity_date":1677491920,"creation_date":1499536581,"question_id":44989214,"body_markdown":"To print output we simply use System.out stream while to take input, we have to pass System.in in Constructor of a Scanner object and then use that object only. \r\n\r\nWhy is it so ? Why is there no direct method like System.in.nextInt() or something alike? ","title":"Why do we need a Scanner Object for taking input in java","body":"<p>To print output we simply use System.out stream while to take input, we have to pass System.in in Constructor of a Scanner object and then use that object only. </p>\n\n<p>Why is it so ? Why is there no direct method like System.in.nextInt() or something alike? </p>\n"},{"tags":["java","image","swing","jframe"],"comments":[{"owner":{"account_id":2724749,"reputation":5612,"user_id":2350145,"accept_rate":67,"display_name":"Anirban Nag &#39;tintinmj&#39;"},"score":0,"creation_date":1384956976,"post_id":20098124,"comment_id":29945056,"body_markdown":"keep `setVisible(true)` after `add(imageLable)`..","body":"keep <code>setVisible(true)</code> after <code>add(imageLable)</code>.."}],"answers":[{"comments":[{"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"score":0,"creation_date":1384958031,"post_id":20098298,"comment_id":29945838,"body_markdown":"@alex2410, don&#39;t bother. The OP thought this is the best answer ;)","body":"@alex2410, don&#39;t bother. The OP thought this is the best answer ;)"},{"owner":{"account_id":3580565,"reputation":379,"user_id":2988879,"accept_rate":87,"display_name":"user2988879"},"score":0,"creation_date":1384958240,"post_id":20098298,"comment_id":29945980,"body_markdown":"It did alex2410. Thanks for this answer AJ :)!","body":"It did alex2410. Thanks for this answer AJ :)!"}],"tags":[],"owner":{"account_id":3260013,"reputation":4526,"user_id":2745755,"accept_rate":86,"display_name":"AJ."},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1384957315,"creation_date":1384956957,"answer_id":20098298,"question_id":20098124,"body_markdown":"do this after creating `Jlabel`     \r\n\r\n    imageLabel.setBounds(10, 10, 400, 400);\r\n    imageLabel.setVisible(true);\r\n\r\nalso set the layout to JFrame\r\n\r\n    Game.f.setLayout(new FlowLayout);","title":"Displaying an image in a JFrame","body":"<p>do this after creating <code>Jlabel</code>     </p>\n\n<pre><code>imageLabel.setBounds(10, 10, 400, 400);\nimageLabel.setVisible(true);\n</code></pre>\n\n<p>also set the layout to JFrame</p>\n\n<pre><code>Game.f.setLayout(new FlowLayout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384957047,"creation_date":1384957047,"answer_id":20098336,"question_id":20098124,"body_markdown":"You are adding the label to the wrong `JFrame`. Also, move the `setVisible()` to the end.\r\n\r\n    import javax.swing.*;\r\n    class Game1 extends JFrame\r\n    {\r\n        public static Display f = new Display();\r\n        public Game1()\r\n        {\r\n            // ....\r\n            Game1.f.add(imageLabel);\r\n            Game1.f.setVisible(true);\r\n        }\r\n    }\r\n     \r\n\r\n","title":"Displaying an image in a JFrame","body":"<p>You are adding the label to the wrong <code>JFrame</code>. Also, move the <code>setVisible()</code> to the end.</p>\n\n<pre><code>import javax.swing.*;\nclass Game1 extends JFrame\n{\n    public static Display f = new Display();\n    public Game1()\n    {\n        // ....\n        Game1.f.add(imageLabel);\n        Game1.f.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1305310,"reputation":486,"user_id":1254412,"accept_rate":82,"display_name":"Khobar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384957098,"creation_date":1384957098,"answer_id":20098355,"question_id":20098124,"body_markdown":"Also try to use image from resources, and not from hardcoded path from your PC \r\nYou can look in here, where sombody asked similar question about images in Jframe:\r\nhttps://stackoverflow.com/questions/13011705/how-to-add-an-imageicon-to-a-jframe","title":"Displaying an image in a JFrame","body":"<p>Also try to use image from resources, and not from hardcoded path from your PC \nYou can look in here, where sombody asked similar question about images in Jframe:\n<a href=\"https://stackoverflow.com/questions/13011705/how-to-add-an-imageicon-to-a-jframe\">How to add an ImageIcon to a JFrame?</a></p>\n"},{"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384966950,"creation_date":1384957467,"answer_id":20098494,"question_id":20098124,"body_markdown":" 1. You don&#39;t need to use another `JFrame` instance inside the `Game` `JFrame`:\r\n 2. Calling `setVisible(flag)` from the constructor is not preferable. Rather initialize your `JFrame` from outside and put your `setVisible(true)` inside event dispatch thread to maintain Swing&#39;s GUI rendering rules using `SwingUtilities.invokeLater(Runnable)`\r\n 3. Do not give size hint by `setSize(Dimension)` of the `JFrame`. Rather use proper layout with your component, call `pack()` after adding all of your relevant component to the `JFrame`.\r\n 4. Try using `JScrollPane` with `JLabel` for a better user experience with image larger than the label&#39;s size can be.\r\n\r\n\r\nAll of the above description is made in the following example:\r\n\r\n         class Game1 extends JFrame\r\n        {\r\n           public Game1()\r\n          {\r\n             // setSize(1000, 750);  &lt;---- do not do it\r\n             // setResizable(false); &lt;----- do not do it either, unless any good reason\r\n         \r\n             setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n             setTitle(&quot;Online First Person Shooter&quot;);\r\n\r\n             ImageIcon image = new ImageIcon(&quot;C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png&quot;);\r\n             JLabel label = new JLabel(image);\r\n             JScrollPane scrollPane = new JScrollPane(label);\r\n             scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n             scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n             add(scrollPane, BorderLayout.CENTER);\r\n             pack();\r\n          }\r\n\r\n         public static void main(String[] args)\r\n         {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n\r\n               @Override\r\n               public void run() {\r\n                  new Game1().setVisible(true);\r\n               }\r\n            });\r\n        \r\n          }\r\n        }\r\n\r\n","title":"Displaying an image in a JFrame","body":"<ol>\n<li>You don't need to use another <code>JFrame</code> instance inside the <code>Game</code> <code>JFrame</code>:</li>\n<li>Calling <code>setVisible(flag)</code> from the constructor is not preferable. Rather initialize your <code>JFrame</code> from outside and put your <code>setVisible(true)</code> inside event dispatch thread to maintain Swing's GUI rendering rules using <code>SwingUtilities.invokeLater(Runnable)</code></li>\n<li>Do not give size hint by <code>setSize(Dimension)</code> of the <code>JFrame</code>. Rather use proper layout with your component, call <code>pack()</code> after adding all of your relevant component to the <code>JFrame</code>.</li>\n<li>Try using <code>JScrollPane</code> with <code>JLabel</code> for a better user experience with image larger than the label's size can be.</li>\n</ol>\n\n<p>All of the above description is made in the following example:</p>\n\n<pre><code>     class Game1 extends JFrame\n    {\n       public Game1()\n      {\n         // setSize(1000, 750);  &lt;---- do not do it\n         // setResizable(false); &lt;----- do not do it either, unless any good reason\n\n         setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         setTitle(\"Online First Person Shooter\");\n\n         ImageIcon image = new ImageIcon(\"C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png\");\n         JLabel label = new JLabel(image);\n         JScrollPane scrollPane = new JScrollPane(label);\n         scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n         scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n         add(scrollPane, BorderLayout.CENTER);\n         pack();\n      }\n\n     public static void main(String[] args)\n     {\n        SwingUtilities.invokeLater(new Runnable() {\n\n           @Override\n           public void run() {\n              new Game1().setVisible(true);\n           }\n        });\n\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384957514,"creation_date":1384957514,"answer_id":20098517,"question_id":20098124,"body_markdown":"Your problem in next you add your `JLabel` to `Game1` but you display another Frame(`Display f`). Change `add(imageLabel);` to `Game1.f.add(imageLabel);`.\r\n\r\nRecommendations:\r\n\r\n1)according to your problem: `Game1` extends `JFrame` seems that `Display` is also a frame, use only one frame to display content.\r\n\r\n2) use `pack()` method instead of `setSize(1000, 750);`\r\n\r\n3)call `setVisible(true);` at the end of construction.\r\n\r\n4)use [`LayoutManager`][1] to layout components.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html","title":"Displaying an image in a JFrame","body":"<p>Your problem in next you add your <code>JLabel</code> to <code>Game1</code> but you display another Frame(<code>Display f</code>). Change <code>add(imageLabel);</code> to <code>Game1.f.add(imageLabel);</code>.</p>\n\n<p>Recommendations:</p>\n\n<p>1)according to your problem: <code>Game1</code> extends <code>JFrame</code> seems that <code>Display</code> is also a frame, use only one frame to display content.</p>\n\n<p>2) use <code>pack()</code> method instead of <code>setSize(1000, 750);</code></p>\n\n<p>3)call <code>setVisible(true);</code> at the end of construction.</p>\n\n<p>4)use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html\" rel=\"nofollow\"><code>LayoutManager</code></a> to layout components.</p>\n"}],"owner":{"account_id":3580565,"reputation":379,"user_id":2988879,"accept_rate":87,"display_name":"user2988879"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56527,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20098298,"answer_count":5,"score":8,"last_activity_date":1677491881,"creation_date":1384956517,"question_id":20098124,"body_markdown":"I am currently learning Java, and I am stuck with something at the moment.\r\n\r\nI was looking for a way to add an image to my JFrame.\r\nI found this on the internet:\r\n\r\n    ImageIcon image = new ImageIcon(&quot;path &amp; name &amp; extension&quot;);\r\n    JLabel imageLabel = new JLabel(image); \r\n\r\nAnd after implementing it to my own code, it looks like this (this is only the relevant part):\r\n\r\n    class Game1 extends JFrame\r\n    {\r\n    \tpublic static Display f = new Display();\r\n    \tpublic Game1()\r\n    \t{\r\n    \t\tGame1.f.setSize(1000, 750);\r\n    \t\tGame1.f.setResizable(false);\r\n    \t\tGame1.f.setVisible(true);\r\n    \t\tGame1.f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tGame1.f.setTitle(&quot;Online First Person Shooter&quot;);\r\n    \t\t\r\n    \t\tImageIcon image = new ImageIcon(&quot;C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png&quot;);\r\n    \t\tJLabel imageLabel = new JLabel(image); \r\n    \t\tadd(imageLabel);\r\n    \t\t}\r\n    }\r\n    \r\n    class Display extends JFrame\r\n    {\r\n    }\r\n\r\nWhen running this code, it doesn&#39;t give me any errors, but it also doesn&#39;t show the picture. I saw some questions and people having the same problem, but their code was completely different from mine, they used other ways to display the image.","title":"Displaying an image in a JFrame","body":"<p>I am currently learning Java, and I am stuck with something at the moment.</p>\n\n<p>I was looking for a way to add an image to my JFrame.\nI found this on the internet:</p>\n\n<pre><code>ImageIcon image = new ImageIcon(\"path &amp; name &amp; extension\");\nJLabel imageLabel = new JLabel(image); \n</code></pre>\n\n<p>And after implementing it to my own code, it looks like this (this is only the relevant part):</p>\n\n<pre><code>class Game1 extends JFrame\n{\n    public static Display f = new Display();\n    public Game1()\n    {\n        Game1.f.setSize(1000, 750);\n        Game1.f.setResizable(false);\n        Game1.f.setVisible(true);\n        Game1.f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Game1.f.setTitle(\"Online First Person Shooter\");\n\n        ImageIcon image = new ImageIcon(\"C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png\");\n        JLabel imageLabel = new JLabel(image); \n        add(imageLabel);\n        }\n}\n\nclass Display extends JFrame\n{\n}\n</code></pre>\n\n<p>When running this code, it doesn't give me any errors, but it also doesn't show the picture. I saw some questions and people having the same problem, but their code was completely different from mine, they used other ways to display the image.</p>\n"},{"tags":["java","parameters","design-patterns","builder"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":3,"creation_date":1447339057,"post_id":7302891,"comment_id":55120620,"body_markdown":"A better solution than any of the current answers is described in [Builder pattern with a twist](http://www.jayway.com/2012/02/07/builder-pattern-with-a-twist/). A different interface is used to set each required argument.","body":"A better solution than any of the current answers is described in <a href=\"http://www.jayway.com/2012/02/07/builder-pattern-with-a-twist/\" rel=\"nofollow noreferrer\">Builder pattern with a twist</a>. A different interface is used to set each required argument."},{"owner":{"account_id":3458166,"reputation":607,"user_id":2896153,"accept_rate":71,"display_name":"dragosb"},"score":0,"creation_date":1611658163,"post_id":7302891,"comment_id":116515789,"body_markdown":"I tried what @jaco0646 was suggesting, but I think I developed a better alternative: https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin feel free to check it out","body":"I tried what @jaco0646 was suggesting, but I think I developed a better alternative: <a href=\"https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin\" rel=\"nofollow noreferrer\">github.com/banterly91/&hellip;</a> feel free to check it out"}],"answers":[{"tags":[],"owner":{"account_id":283094,"reputation":10747,"user_id":580412,"accept_rate":96,"display_name":"phs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315182711,"creation_date":1315182711,"answer_id":7302993,"question_id":7302891,"body_markdown":"A builder/factory still lets you decouple interface from implementation type (or lets you plug in an adapter, etc), assuming `Widget` becomes an interface and you have a way to inject or hide the `new Widget.Builder`.\r\n\r\nIf you don&#39;t care about decoupling, and your implementation is a one-off, then you&#39;re right: the builder pattern isn&#39;t much more useful than a normal constructor (it still labels its arguments with the attribute-per-builder-method style.)\r\n\r\nIf you are repeatedly creating objects with little variation in the arguments, then it may still be helpful.  You could pass in, cache, etc the intermediate builder acquired after plugging in several attributes:\r\n\r\n    Widget.Builder base = new Widget.Builder(name, price).model(&quot;foo&quot;).manufacturer(&quot;baz&quot;);\r\n\r\n    // ...\r\n\r\n    Widget w1 = base.serialNumber(&quot;bar&quot;).build();\r\n    Widget w2 = base.serialNumber(&quot;baz&quot;).build();\r\n    Widget w3 = base.serialNumber(&quot;quux&quot;).build();\r\n\r\nThis assumes that your builders are immutable: builder setters don&#39;t set an attribute and returning `this`, but return a new copy of themselves with the change instead.  As you pointed out above, parameter objects are another way to get around repeated argument boilerplate.  There, you don&#39;t even need the builder pattern: just pass the parameter object to your implementation constructor.\r\n","title":"The builder pattern and a large number of mandatory parameters","body":"<p>A builder/factory still lets you decouple interface from implementation type (or lets you plug in an adapter, etc), assuming <code>Widget</code> becomes an interface and you have a way to inject or hide the <code>new Widget.Builder</code>.</p>\n\n<p>If you don't care about decoupling, and your implementation is a one-off, then you're right: the builder pattern isn't much more useful than a normal constructor (it still labels its arguments with the attribute-per-builder-method style.)</p>\n\n<p>If you are repeatedly creating objects with little variation in the arguments, then it may still be helpful.  You could pass in, cache, etc the intermediate builder acquired after plugging in several attributes:</p>\n\n<pre><code>Widget.Builder base = new Widget.Builder(name, price).model(\"foo\").manufacturer(\"baz\");\n\n// ...\n\nWidget w1 = base.serialNumber(\"bar\").build();\nWidget w2 = base.serialNumber(\"baz\").build();\nWidget w3 = base.serialNumber(\"quux\").build();\n</code></pre>\n\n<p>This assumes that your builders are immutable: builder setters don't set an attribute and returning <code>this</code>, but return a new copy of themselves with the change instead.  As you pointed out above, parameter objects are another way to get around repeated argument boilerplate.  There, you don't even need the builder pattern: just pass the parameter object to your implementation constructor.</p>\n"},{"comments":[{"owner":{"account_id":889492,"reputation":1200,"user_id":928072,"accept_rate":85,"display_name":"speedRS"},"score":2,"creation_date":1315191859,"post_id":7303053,"comment_id":8801240,"body_markdown":"I definitely agree that the fluent nature of building the object makes things much easier. I think at least for my use case, it makes the most sense to have the majority of these attributes with their own `add` methods followed by validation on building the object. Thanks for your response.","body":"I definitely agree that the fluent nature of building the object makes things much easier. I think at least for my use case, it makes the most sense to have the majority of these attributes with their own <code>add</code> methods followed by validation on building the object. Thanks for your response."},{"owner":{"account_id":277629,"reputation":715,"user_id":571729,"display_name":"EJ Campbell"},"score":8,"creation_date":1433990907,"post_id":7303053,"comment_id":49592988,"body_markdown":"At least with p1, if hair color becomes required, the compiler will tell you it&#39;s broken. With p2, it&#39;s a runtime error.","body":"At least with p1, if hair color becomes required, the compiler will tell you it&#39;s broken. With p2, it&#39;s a runtime error."}],"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315183384,"creation_date":1315183384,"answer_id":7303053,"question_id":7302891,"body_markdown":"&gt; I&#39;ve been struggling lately to understand how the pattern is of any\r\n&gt; benefit when all your parameters are mandatory\r\n\r\nThe pattern eases creation of immutable classes and promotes readable code. Consider the Person class below (with a conventional constructor and a builder).\r\n\r\n    public static class Person {\r\n    \t\r\n    \tprivate static final class Builder {\r\n    \t\tprivate int height, weight, age, income, rank;\r\n    \t\tpublic Builder setHeight(final int height) { this.height = height; return this; }\r\n    \t\tpublic Builder setWeight(final int weight) { this.weight = weight; return this; }\r\n    \t\tpublic Builder setAge(final int age) { this.age = age; return this; }\r\n    \t\tpublic Builder setIncome(final int income) {\tthis.income = income; return this; }\r\n    \t\tpublic Builder setRank(final int rank) { this.rank = rank; return this; }\r\n    \t\tpublic Person build() {\treturn new Person(this); }\r\n    \t}\r\n    \t\r\n    \tprivate final int height;\r\n    \tprivate final int weight;\r\n    \tprivate final int age;\r\n    \tprivate final int income;\r\n    \tprivate final int rank;\r\n    \r\n    \tpublic Person(final int height, final int weight, final int age, final int income, final int rank) {\r\n    \t\tthis.height = height; this.weight = weight; this.age = age; this.income = income; this.rank = rank;\r\n    \t}\r\n    \t\r\n    \tprivate Person(final Builder builder) {\r\n    \t\theight = builder.height; weight = builder.weight; age = builder.age; income = builder.income; rank = builder.rank;\r\n    \t\t// Perform validation\r\n    \t}\r\n    \t\r\n    \tpublic int getHeight() { return height;\t}\r\n    \tpublic int getWeight() { return weight;\t}\r\n    \tpublic int getAge() { return age; }\r\n    \tpublic int getIncome() { return income;\t}\r\n    \tpublic int getRank() { \treturn rank; }\r\n    \r\n    }\r\n\r\nWhich method of construction is easier to comprehend?\r\n\r\n    final Person p1 = new Person(163, 184, 48, 15000, 23);\r\n    final Person p2 = new Person.Builder().setHeight(163).setWeight(184).setAge(48).\r\n        setIncome(15000).setRank(23).build();\r\n\r\n&gt; One means of getting around this has been to logically group the\r\n&gt; parameters being passed in to their own classes\r\n\r\nSure, this is the principle of [cohesion][1] and should be adopted irrespective of object construction semantics.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cohesion_%28computer_science%29","title":"The builder pattern and a large number of mandatory parameters","body":"<blockquote>\n  <p>I've been struggling lately to understand how the pattern is of any\n  benefit when all your parameters are mandatory</p>\n</blockquote>\n\n<p>The pattern eases creation of immutable classes and promotes readable code. Consider the Person class below (with a conventional constructor and a builder).</p>\n\n<pre><code>public static class Person {\n\n    private static final class Builder {\n        private int height, weight, age, income, rank;\n        public Builder setHeight(final int height) { this.height = height; return this; }\n        public Builder setWeight(final int weight) { this.weight = weight; return this; }\n        public Builder setAge(final int age) { this.age = age; return this; }\n        public Builder setIncome(final int income) {    this.income = income; return this; }\n        public Builder setRank(final int rank) { this.rank = rank; return this; }\n        public Person build() { return new Person(this); }\n    }\n\n    private final int height;\n    private final int weight;\n    private final int age;\n    private final int income;\n    private final int rank;\n\n    public Person(final int height, final int weight, final int age, final int income, final int rank) {\n        this.height = height; this.weight = weight; this.age = age; this.income = income; this.rank = rank;\n    }\n\n    private Person(final Builder builder) {\n        height = builder.height; weight = builder.weight; age = builder.age; income = builder.income; rank = builder.rank;\n        // Perform validation\n    }\n\n    public int getHeight() { return height; }\n    public int getWeight() { return weight; }\n    public int getAge() { return age; }\n    public int getIncome() { return income; }\n    public int getRank() {  return rank; }\n\n}\n</code></pre>\n\n<p>Which method of construction is easier to comprehend?</p>\n\n<pre><code>final Person p1 = new Person(163, 184, 48, 15000, 23);\nfinal Person p2 = new Person.Builder().setHeight(163).setWeight(184).setAge(48).\n    setIncome(15000).setRank(23).build();\n</code></pre>\n\n<blockquote>\n  <p>One means of getting around this has been to logically group the\n  parameters being passed in to their own classes</p>\n</blockquote>\n\n<p>Sure, this is the principle of <a href=\"http://en.wikipedia.org/wiki/Cohesion_%28computer_science%29\" rel=\"nofollow\">cohesion</a> and should be adopted irrespective of object construction semantics.</p>\n"},{"comments":[{"owner":{"account_id":889492,"reputation":1200,"user_id":928072,"accept_rate":85,"display_name":"speedRS"},"score":1,"creation_date":1315191607,"post_id":7303184,"comment_id":8801206,"body_markdown":"Thanks, Bert. I think this best sums up what I&#39;ve been grappling with as I learn more about this particular pattern. I think it&#39;s mainly that flexibility (and immutability) that I&#39;m looking to achieve.","body":"Thanks, Bert. I think this best sums up what I&#39;ve been grappling with as I learn more about this particular pattern. I think it&#39;s mainly that flexibility (and immutability) that I&#39;m looking to achieve."}],"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":1,"down_vote_count":2,"up_vote_count":42,"is_accepted":true,"score":40,"last_activity_date":1528802242,"creation_date":1315186010,"answer_id":7303184,"question_id":7302891,"body_markdown":"&gt; However, I&#39;ve been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).\r\n\r\n\r\nThe fluent builder pattern is still beneficial:\r\n\r\n1. Its more readable - it effectively allows named parameters so that the call isn&#39;t just a long list of unnamed arguments\r\n\r\n2. Its unordered - this lets you group arguments together into logical groups, either as part of a single builder setter call or simply by letting you use a natural order to calling the builder setter methods that make the most sense of this particular instantiation.\r\n\r\n---\r\n\r\n&gt;     Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\r\n&gt;                                    .addOptional(opt9)\r\n&gt;                                    .build();\r\n\r\n&gt; becomes grouped as follows:\r\n\r\n&gt;     Object1 group1  = new Object1(req1, req2, req3, req4);\r\n&gt;     Object2 group2  = new Object2(req5, req6);\r\n&gt;     Widget example2 = new Widget.Builder(group1, group2, req7, req8)\r\n                                .addOptional(opt9)\r\n                                .build();\r\n\r\n&gt; While having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own `addParam(param)` methods and then performing validation on required parameters in the `build()` method.\r\n\r\nI would favor a hybrid when appropriate or natural.  It doesn&#39;t have to be all in constructor *or* each param has its own addParam method.  Builder gives you flexibility to do one, the other, in-between, or a combo:\r\n\r\n&gt;     Widget.Builder builder = new Widget.Builder(Widget.BUTTON);\r\n&gt; \r\n&gt;     builder.withWidgetBackingService(url, resource, id);\r\n&gt;     builder.withWidgetStyle(bgColor, lineWidth, fontStyle);\r\n&gt;     builder.withMouseover(&quot;Not required&quot;);\r\n&gt; \r\n&gt;     Widget example = builder.build();\r\n\r\n","title":"The builder pattern and a large number of mandatory parameters","body":"<blockquote>\n  <p>However, I've been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).</p>\n</blockquote>\n\n<p>The fluent builder pattern is still beneficial:</p>\n\n<ol>\n<li><p>Its more readable - it effectively allows named parameters so that the call isn't just a long list of unnamed arguments</p></li>\n<li><p>Its unordered - this lets you group arguments together into logical groups, either as part of a single builder setter call or simply by letting you use a natural order to calling the builder setter methods that make the most sense of this particular instantiation.</p></li>\n</ol>\n\n<hr>\n\n<blockquote>\n<pre><code>Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\n                               .addOptional(opt9)\n                               .build();\n</code></pre>\n  \n  <p>becomes grouped as follows:</p>\n\n<pre><code>Object1 group1  = new Object1(req1, req2, req3, req4);\nObject2 group2  = new Object2(req5, req6);\nWidget example2 = new Widget.Builder(group1, group2, req7, req8)\n                            .addOptional(opt9)\n                            .build();\n</code></pre>\n  \n  <p>While having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own <code>addParam(param)</code> methods and then performing validation on required parameters in the <code>build()</code> method.</p>\n</blockquote>\n\n<p>I would favor a hybrid when appropriate or natural.  It doesn't have to be all in constructor <em>or</em> each param has its own addParam method.  Builder gives you flexibility to do one, the other, in-between, or a combo:</p>\n\n<blockquote>\n<pre><code>Widget.Builder builder = new Widget.Builder(Widget.BUTTON);\n\nbuilder.withWidgetBackingService(url, resource, id);\nbuilder.withWidgetStyle(bgColor, lineWidth, fontStyle);\nbuilder.withMouseover(\"Not required\");\n\nWidget example = builder.build();\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":313434,"reputation":223,"user_id":628063,"display_name":"Toenex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434640616,"creation_date":1378974523,"answer_id":18759209,"question_id":7302891,"body_markdown":"One advantage of the Builder Pattern that I rarely (if ever) see promoted is that it can also be used to conditionally construct the object, for instance only if all mandatory parameters are correct or if other required resources are available.  In that respect they offer similar benefits to a [static factory method](https://stackoverflow.com/questions/929021/what-are-static-factory-methods-in-java).   ","title":"The builder pattern and a large number of mandatory parameters","body":"<p>One advantage of the Builder Pattern that I rarely (if ever) see promoted is that it can also be used to conditionally construct the object, for instance only if all mandatory parameters are correct or if other required resources are available.  In that respect they offer similar benefits to a <a href=\"https://stackoverflow.com/questions/929021/what-are-static-factory-methods-in-java\">static factory method</a>.   </p>\n"},{"comments":[{"owner":{"account_id":3433779,"reputation":1113,"user_id":2877358,"accept_rate":82,"display_name":"Rik Schaaf"},"score":4,"creation_date":1654852665,"post_id":35847487,"comment_id":128196011,"body_markdown":"The only disadvantage with this step builder implementation (just like with the builder() parameter impl) is that parameters need to be specified in a specific order. Fixing that though requires 2^n classes per builder (n being the number of mandatory parameters). This isn&#39;t an issue if the builder is generated, but definitely not something you want to write by hand with more than 3 mandatory parameters.","body":"The only disadvantage with this step builder implementation (just like with the builder() parameter impl) is that parameters need to be specified in a specific order. Fixing that though requires 2^n classes per builder (n being the number of mandatory parameters). This isn&#39;t an issue if the builder is generated, but definitely not something you want to write by hand with more than 3 mandatory parameters."}],"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":1,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1677491240,"creation_date":1457364304,"answer_id":35847487,"question_id":7302891,"body_markdown":"You can use a [Step Builder](http://www.javacodegeeks.com/2013/05/building-smart-builders.html) if you have many mandatory parameters. In short: you define an interface for every single mandatory parameter and a builder method returns the next mandatory builder interface or the builder itself for optional methods. The builder remains a single class which implements all the interfaces.\r\n\r\n    interface StepB {\r\n        StepBuilder b(String b);\r\n    }\r\n    \r\n    interface StepA {\r\n        StepB a(String a);\r\n    }\r\n    \r\n    final class StepBuilder implements StepA, StepB {\r\n        private String a;\r\n        private String b;\r\n        private String c = &quot;&quot;;\r\n\r\n        private StepBuilder() {\r\n        }\r\n\r\n        static StepA with() {\r\n          return new StepBuilder();\r\n        }\r\n    \r\n        // mandatory, from StepA\r\n        @Override\r\n        StepB a(String a) {\r\n            this.a = a;\r\n            return this;\r\n        }\r\n    \r\n        // mandatory, from StepB\r\n        @Override\r\n        StepBuilder b(String b) {\r\n            this.b = b;\r\n            return this;\r\n        }\r\n    \r\n        // optional\r\n        StepBuilder c(String c) {\r\n            this.c = c;\r\n            return this;\r\n        }\r\n    \r\n        Product build() {\r\n            return new Product(a, b, c);\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    StepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).build();\r\n\r\n    // or with the optional parameter c\r\n    StepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).c(&quot;!&quot;).build();\r\n\r\nKeep in mind that I named the class `StepBuilder` only to make it clear in my explanation. It would be better to give it a name reflecting some aspect of the respective domain. Example:\r\n    \r\n    Url.with().host(&quot;example.com&quot;).port(81).path(&quot;some/where&quot;).query(&quot;status=1&quot;).build()\r\n\r\nLanguages like Kotlin and Scala are more convenient here, since they offer named parameters with default values.","title":"The builder pattern and a large number of mandatory parameters","body":"<p>You can use a <a href=\"http://www.javacodegeeks.com/2013/05/building-smart-builders.html\" rel=\"nofollow noreferrer\">Step Builder</a> if you have many mandatory parameters. In short: you define an interface for every single mandatory parameter and a builder method returns the next mandatory builder interface or the builder itself for optional methods. The builder remains a single class which implements all the interfaces.</p>\n<pre><code>interface StepB {\n    StepBuilder b(String b);\n}\n\ninterface StepA {\n    StepB a(String a);\n}\n\nfinal class StepBuilder implements StepA, StepB {\n    private String a;\n    private String b;\n    private String c = &quot;&quot;;\n\n    private StepBuilder() {\n    }\n\n    static StepA with() {\n      return new StepBuilder();\n    }\n\n    // mandatory, from StepA\n    @Override\n    StepB a(String a) {\n        this.a = a;\n        return this;\n    }\n\n    // mandatory, from StepB\n    @Override\n    StepBuilder b(String b) {\n        this.b = b;\n        return this;\n    }\n\n    // optional\n    StepBuilder c(String c) {\n        this.c = c;\n        return this;\n    }\n\n    Product build() {\n        return new Product(a, b, c);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>StepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).build();\n\n// or with the optional parameter c\nStepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).c(&quot;!&quot;).build();\n</code></pre>\n<p>Keep in mind that I named the class <code>StepBuilder</code> only to make it clear in my explanation. It would be better to give it a name reflecting some aspect of the respective domain. Example:</p>\n<pre><code>Url.with().host(&quot;example.com&quot;).port(81).path(&quot;some/where&quot;).query(&quot;status=1&quot;).build()\n</code></pre>\n<p>Languages like Kotlin and Scala are more convenient here, since they offer named parameters with default values.</p>\n"},{"tags":[],"owner":{"account_id":9216495,"reputation":2575,"user_id":6847435,"accept_rate":100,"display_name":"coderzzz18"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586198232,"creation_date":1586198232,"answer_id":61066659,"question_id":7302891,"body_markdown":"I think this would be appropriate in case you have large mandatory values, though number of interfaces would increase but code would be clean\r\n\r\n    public class PersonBuilder implements NamePersonBuilder, LastNamePersonBuilder, \r\n                                      BirthDatePersonBuilder, FinalPersonBuilder {\r\n\r\n    private String name;\r\n    private String lastName;\r\n    private Date birthDate;\r\n    private String phoneNumber;\r\n\r\n    /**\r\n     * Private constructor to force the use of the factroy method\r\n     */\r\n    private PersonBuilder() {\r\n    }\r\n\r\n    /**\r\n     * Creates a new person builder\r\n     */\r\n    public static NamePersonBuilder aPerson() {\r\n        return new PersonBuilder();\r\n    }\r\n\r\n    public LastNamePersonBuilder withName(String aName) {\r\n        name = aName;\r\n        return this;\r\n    }\r\n\r\n    public BirthDatePersonBuilder withLastName(String aLastName) {\r\n        lastName = aLastName;\r\n        return this;\r\n    }\r\n\r\n    public FinalPersonBuilder withBirthDate(Date aBirthDate) {\r\n        birthDate = aBirthDate;\r\n        return this;\r\n    }\r\n\r\n    public FinalPersonBuilder andPhoneNumber(String aPhoneNumber) {\r\n        phoneNumber = aPhoneNumber;\r\n        return this;\r\n    }\r\n        \r\n    public Person build() {\r\n        // The constructor and setters for Person has default scope\r\n        // and is located in the same package as the builder\r\n        Person p = new Person();\r\n        p.setName(name);\r\n        p.setLastName(lastName);\r\n        p.setBirthDate(birthDate);\r\n        p.setPhoneNumber(phoneNumber);\r\n        return p;\r\n    }\r\n\r\n    interface NamePersonBuilder {\r\n        LastNamePersonBuilder withName(String aName);\r\n    }\r\n\r\n    interface LastNamePersonBuilder {\r\n        BirthDatePersonBuilder withLastName(String aLastName);\r\n    }\r\n\r\n    interface BirthDatePersonBuilder {\r\n        FinalPersonBuilder withBirthDate(Date aBirthDate);\r\n    }\r\n\r\n    interface FinalPersonBuilder {\r\n        FinalPersonBuilder andPhoneNumber(String aPhoneNumber);\r\n        Person build();\r\n    }}\r\n\r\nThis will force the user to set all mandatory values and also force the order that the values are set. So to construct a person this will be the resulting code:\r\n\r\n    PersonBuilder.aPerson()\r\n        .withName(&quot;Name&quot;)\r\n        .withLastName(&quot;LastName&quot;)\r\n        .withBirthDate(new Date())\r\n        .build();\r\n\r\nCheckout this Reference: \r\n[Builder Pattern with Twist][1]\r\n\r\n\r\n  [1]: https://aidium.se/2015/01/09/builder-pattern-for-mandatory-values/","title":"The builder pattern and a large number of mandatory parameters","body":"<p>I think this would be appropriate in case you have large mandatory values, though number of interfaces would increase but code would be clean</p>\n\n<pre><code>public class PersonBuilder implements NamePersonBuilder, LastNamePersonBuilder, \n                                  BirthDatePersonBuilder, FinalPersonBuilder {\n\nprivate String name;\nprivate String lastName;\nprivate Date birthDate;\nprivate String phoneNumber;\n\n/**\n * Private constructor to force the use of the factroy method\n */\nprivate PersonBuilder() {\n}\n\n/**\n * Creates a new person builder\n */\npublic static NamePersonBuilder aPerson() {\n    return new PersonBuilder();\n}\n\npublic LastNamePersonBuilder withName(String aName) {\n    name = aName;\n    return this;\n}\n\npublic BirthDatePersonBuilder withLastName(String aLastName) {\n    lastName = aLastName;\n    return this;\n}\n\npublic FinalPersonBuilder withBirthDate(Date aBirthDate) {\n    birthDate = aBirthDate;\n    return this;\n}\n\npublic FinalPersonBuilder andPhoneNumber(String aPhoneNumber) {\n    phoneNumber = aPhoneNumber;\n    return this;\n}\n\npublic Person build() {\n    // The constructor and setters for Person has default scope\n    // and is located in the same package as the builder\n    Person p = new Person();\n    p.setName(name);\n    p.setLastName(lastName);\n    p.setBirthDate(birthDate);\n    p.setPhoneNumber(phoneNumber);\n    return p;\n}\n\ninterface NamePersonBuilder {\n    LastNamePersonBuilder withName(String aName);\n}\n\ninterface LastNamePersonBuilder {\n    BirthDatePersonBuilder withLastName(String aLastName);\n}\n\ninterface BirthDatePersonBuilder {\n    FinalPersonBuilder withBirthDate(Date aBirthDate);\n}\n\ninterface FinalPersonBuilder {\n    FinalPersonBuilder andPhoneNumber(String aPhoneNumber);\n    Person build();\n}}\n</code></pre>\n\n<p>This will force the user to set all mandatory values and also force the order that the values are set. So to construct a person this will be the resulting code:</p>\n\n<pre><code>PersonBuilder.aPerson()\n    .withName(\"Name\")\n    .withLastName(\"LastName\")\n    .withBirthDate(new Date())\n    .build();\n</code></pre>\n\n<p>Checkout this Reference: \n<a href=\"https://aidium.se/2015/01/09/builder-pattern-for-mandatory-values/\" rel=\"nofollow noreferrer\">Builder Pattern with Twist</a></p>\n"},{"tags":[],"owner":{"account_id":2816973,"reputation":648,"user_id":4818123,"accept_rate":61,"display_name":"Takeshi Tokugawa YD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588649231,"creation_date":1588570044,"answer_id":61585678,"question_id":7302891,"body_markdown":"My solution with anonymous class. Here is `familyName` is required parameter, and `givenName` is Optional. The main target if this solution is **force** the programmer who creating `Person` to set requires parameters (if he will not do it, Java will not compile).\r\n\r\n```java\r\nnew Person(\r\n    Person.parametersObject(new Person.RequiredParameters() {\r\n      @Override\r\n      public void setFamilyName() {\r\n        this.familyName = &quot;Jonson&quot;;\r\n      }\r\n    })\r\n    .setGivenName(&quot;John&quot;)\r\n);\r\n```\r\n\r\nActually, the target is not reached completely: because I couldn&#39;t to force the programmer to write `this.familyName = familyName;`, but he must to implement the `setFamilyName`. If programmer is not imbecile, he knows what he must to do in this method, but he can forget it because of fatigue.\r\n\r\nImplementation:\r\n\r\n```java\r\npublic class Person {\r\n\r\n  private String familyName;\r\n  private String givenName;\r\n\r\n\r\n  public Person(ParametersObject parametersObject) {\r\n    parametersObject.initializeSpecifiedFields(this);\r\n  }\r\n\r\n  public static ParametersObject parametersObject(Person.RequiredParameters requiredParameters) {\r\n    return new Person.ParametersObject(requiredParameters);\r\n  }\r\n\r\n\r\n  public String getFamilyName() {\r\n    return familyName;\r\n  }\r\n  public Person setFamilyName(String familyName) {\r\n    this.familyName = familyName;\r\n    return this;\r\n  }\r\n\r\n  public String getGivenName() {\r\n    return givenName;\r\n  }\r\n  public Person setGivenName(String givenName) {\r\n    this.givenName = givenName;\r\n    return this;\r\n  }\r\n\r\n\r\n  public static class ParametersObject {\r\n\r\n    private String familyName;\r\n    private String givenName;\r\n\r\n    public ParametersObject(Person.RequiredParameters requiredParameters) {\r\n      this.familyName = requiredParameters.familyName;\r\n    }\r\n\r\n    public void initializeSpecifiedFields(Person person) {\r\n      person.familyName = this.familyName;\r\n      person.givenName = this.givenName;\r\n    }\r\n\r\n    public ParametersObject setGivenName(String givenName) {\r\n      this.givenName = givenName;\r\n      return this;\r\n    }\r\n  }\r\n\r\n  public static abstract class RequiredParameters {\r\n    public String familyName;\r\n    public abstract void setFamilyName();\r\n  }\r\n}\r\n```","title":"The builder pattern and a large number of mandatory parameters","body":"<p>My solution with anonymous class. Here is <code>familyName</code> is required parameter, and <code>givenName</code> is Optional. The main target if this solution is <strong>force</strong> the programmer who creating <code>Person</code> to set requires parameters (if he will not do it, Java will not compile).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new Person(\n    Person.parametersObject(new Person.RequiredParameters() {\n      @Override\n      public void setFamilyName() {\n        this.familyName = \"Jonson\";\n      }\n    })\n    .setGivenName(\"John\")\n);\n</code></pre>\n\n<p>Actually, the target is not reached completely: because I couldn't to force the programmer to write <code>this.familyName = familyName;</code>, but he must to implement the <code>setFamilyName</code>. If programmer is not imbecile, he knows what he must to do in this method, but he can forget it because of fatigue.</p>\n\n<p>Implementation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n\n  private String familyName;\n  private String givenName;\n\n\n  public Person(ParametersObject parametersObject) {\n    parametersObject.initializeSpecifiedFields(this);\n  }\n\n  public static ParametersObject parametersObject(Person.RequiredParameters requiredParameters) {\n    return new Person.ParametersObject(requiredParameters);\n  }\n\n\n  public String getFamilyName() {\n    return familyName;\n  }\n  public Person setFamilyName(String familyName) {\n    this.familyName = familyName;\n    return this;\n  }\n\n  public String getGivenName() {\n    return givenName;\n  }\n  public Person setGivenName(String givenName) {\n    this.givenName = givenName;\n    return this;\n  }\n\n\n  public static class ParametersObject {\n\n    private String familyName;\n    private String givenName;\n\n    public ParametersObject(Person.RequiredParameters requiredParameters) {\n      this.familyName = requiredParameters.familyName;\n    }\n\n    public void initializeSpecifiedFields(Person person) {\n      person.familyName = this.familyName;\n      person.givenName = this.givenName;\n    }\n\n    public ParametersObject setGivenName(String givenName) {\n      this.givenName = givenName;\n      return this;\n    }\n  }\n\n  public static abstract class RequiredParameters {\n    public String familyName;\n    public abstract void setFamilyName();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3458166,"reputation":607,"user_id":2896153,"accept_rate":71,"display_name":"dragosb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611658074,"creation_date":1611658074,"answer_id":65899894,"question_id":7302891,"body_markdown":"I just released a free Intellij plugin to tackle this kind of problem. Essentially you define a method for each parameter in your builder and you can annotate which ones are mandatory and which ones are not and the IntelliJ completion will highlight what are mandatory and optional parameters. Feel free to give it a try:\r\n\r\nhttps://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin ","title":"The builder pattern and a large number of mandatory parameters","body":"<p>I just released a free Intellij plugin to tackle this kind of problem. Essentially you define a method for each parameter in your builder and you can annotate which ones are mandatory and which ones are not and the IntelliJ completion will highlight what are mandatory and optional parameters. Feel free to give it a try:</p>\n<p><a href=\"https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin\" rel=\"nofollow noreferrer\">https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin</a></p>\n"}],"owner":{"account_id":889492,"reputation":1200,"user_id":928072,"accept_rate":85,"display_name":"speedRS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56357,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":7303184,"answer_count":8,"score":85,"last_activity_date":1677491240,"creation_date":1315181062,"question_id":7302891,"body_markdown":"To date I use the [following][1] implementation of the builder pattern (as opposed to the implementation described [here][2]):\r\n\r\n    public class Widget {\r\n        public static class Builder {\r\n            public Builder(String name, double price) { ... }\r\n            public Widget build() { ... }\r\n            public Builder manufacturer(String value) { ... }\r\n            public Builder serialNumber(String value) { ... }\r\n            public Builder model(String value) { ... }\r\n        }\r\n\r\n        private Widget(Builder builder) { ... }\r\n    }\r\n\r\nThis works well for most situations I&#39;ve encountered where I need to build up a complex object with a variety of required/mandatory and optional parameters. However, I&#39;ve been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).\r\n\r\nOne means of getting around this has been to logically group the parameters being passed in to their own classes to reduce the number of parameters being passed to the builder constructor. \r\n\r\nFor example, instead of:\r\n\r\n    Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\r\n                               .addOptional(opt9)\r\n                               .build();\r\n\r\nbecomes grouped as follows:\r\n\r\n    Object1 group1 = new Object1(req1, req2, req3, req4);\r\n    Object2 group2 = new Object2(req5, req6);\r\n    \r\n    Widget example2 = new Widget.Builder(group1, group2, req7, req8)\r\n                                .addOptional(opt9)\r\n                                .build();\r\n\r\nWhile having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own `addParam(param)` methods and then performing validation on required parameters in the `build()` method.\r\n\r\nWhat is best practice and is there perhaps a better approach to this that I haven&#39;t considered?\r\n\r\n\r\n  [1]: http://rwhansen.blogspot.com/2007/07/theres-builder-pattern-that-joshua.html\r\n  [2]: http://en.wikipedia.org/wiki/Builder_pattern#Java","title":"The builder pattern and a large number of mandatory parameters","body":"<p>To date I use the <a href=\"http://rwhansen.blogspot.com/2007/07/theres-builder-pattern-that-joshua.html\">following</a> implementation of the builder pattern (as opposed to the implementation described <a href=\"http://en.wikipedia.org/wiki/Builder_pattern#Java\">here</a>):</p>\n\n<pre><code>public class Widget {\n    public static class Builder {\n        public Builder(String name, double price) { ... }\n        public Widget build() { ... }\n        public Builder manufacturer(String value) { ... }\n        public Builder serialNumber(String value) { ... }\n        public Builder model(String value) { ... }\n    }\n\n    private Widget(Builder builder) { ... }\n}\n</code></pre>\n\n<p>This works well for most situations I've encountered where I need to build up a complex object with a variety of required/mandatory and optional parameters. However, I've been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).</p>\n\n<p>One means of getting around this has been to logically group the parameters being passed in to their own classes to reduce the number of parameters being passed to the builder constructor. </p>\n\n<p>For example, instead of:</p>\n\n<pre><code>Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\n                           .addOptional(opt9)\n                           .build();\n</code></pre>\n\n<p>becomes grouped as follows:</p>\n\n<pre><code>Object1 group1 = new Object1(req1, req2, req3, req4);\nObject2 group2 = new Object2(req5, req6);\n\nWidget example2 = new Widget.Builder(group1, group2, req7, req8)\n                            .addOptional(opt9)\n                            .build();\n</code></pre>\n\n<p>While having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own <code>addParam(param)</code> methods and then performing validation on required parameters in the <code>build()</code> method.</p>\n\n<p>What is best practice and is there perhaps a better approach to this that I haven't considered?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1677490745,"post_id":75578396,"comment_id":133341045,"body_markdown":"have you read this one: https://stackoverflow.com/a/73293525/13115701 ?","body":"have you read this one: <a href=\"https://stackoverflow.com/a/73293525/13115701\">stackoverflow.com/a/73293525/13115701</a> ?"},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1677492279,"post_id":75578396,"comment_id":133341459,"body_markdown":"I read that question too, but I couldn&#39;t think of a way to use Stream directly inside. Thanks to Gopinath Radhakrishnan, I was able to solve it.","body":"I read that question too, but I couldn&#39;t think of a way to use Stream directly inside. Thanks to Gopinath Radhakrishnan, I was able to solve it."}],"answers":[{"comments":[{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1677492340,"post_id":75578790,"comment_id":133341469,"body_markdown":"It&#39;s a pity that I had to implement the code myself, but thanks to that, I reduced the code scatter. thank you!","body":"It&#39;s a pity that I had to implement the code myself, but thanks to that, I reduced the code scatter. thank you!"}],"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677490668,"creation_date":1677490668,"answer_id":75578790,"question_id":75578396,"body_markdown":"You can use the default method in the mapper interface that can perform your desired steps. Something like below :\r\n\r\n```\r\npublic interface Mapper {\r\n\r\n  MapStructureObjectEntity toEntity(MapStructureObjectDto.Update update);\r\n\r\n  default List&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList) {\r\n    return updateList.stream().map(update -&gt; {\r\n      MapStructureObjectEntity entity = toEntity(update);\r\n      entity.setUuid(mapId); // Or additional steps as needed..\r\n      return  entity;\r\n    }).toList();\r\n  }  \r\n}\r\n```","title":"How to Use MapStruct mapping from non-iterable to iterable?","body":"<p>You can use the default method in the mapper interface that can perform your desired steps. Something like below :</p>\n<pre><code>public interface Mapper {\n\n  MapStructureObjectEntity toEntity(MapStructureObjectDto.Update update);\n\n  default List&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList) {\n    return updateList.stream().map(update -&gt; {\n      MapStructureObjectEntity entity = toEntity(update);\n      entity.setUuid(mapId); // Or additional steps as needed..\n      return  entity;\n    }).toList();\n  }  \n}\n</code></pre>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75578790,"answer_count":1,"score":0,"last_activity_date":1677490668,"creation_date":1677488007,"question_id":75578396,"body_markdown":"    List&lt;MapStructureObjectEntity&gt; toEntityTest(UUID mapId, MapStructureObjectDto.Update update);\r\n    List&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList);\r\n\r\nI have a mapper that converts from List to List as above.\r\n\r\nI know why it doesn&#39;t work. This is because there is a non-repeatable field called UUID, and if you exclude the UUID it works correctly.\r\n\r\n\r\nI would like to include the UUID mapId with all data being converted.\r\n\r\nSo far, the list has been individually mapped with mapId in the Stream (or For) method.\r\n\r\n    updateList.stream().map(update -&gt; MapStructureObjectMapper.MAPPER.toEntity(mapId, update)).toList();\r\n\r\nI don&#39;t think this is a clean way because it does the work twice.\r\n(On top of that, the code is decentralized. Oh shit!)\r\n\r\nIs there a convenient way to convert this to MapStruct ?\r\n\r\n\r\n","title":"How to Use MapStruct mapping from non-iterable to iterable?","body":"<pre><code>List&lt;MapStructureObjectEntity&gt; toEntityTest(UUID mapId, MapStructureObjectDto.Update update);\nList&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList);\n</code></pre>\n<p>I have a mapper that converts from List to List as above.</p>\n<p>I know why it doesn't work. This is because there is a non-repeatable field called UUID, and if you exclude the UUID it works correctly.</p>\n<p>I would like to include the UUID mapId with all data being converted.</p>\n<p>So far, the list has been individually mapped with mapId in the Stream (or For) method.</p>\n<pre><code>updateList.stream().map(update -&gt; MapStructureObjectMapper.MAPPER.toEntity(mapId, update)).toList();\n</code></pre>\n<p>I don't think this is a clean way because it does the work twice.\n(On top of that, the code is decentralized. Oh shit!)</p>\n<p>Is there a convenient way to convert this to MapStruct ?</p>\n"},{"tags":["java","spring-boot","ribbon","netflix-zuul"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677834917,"post_id":75578788,"comment_id":133419367,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75578788/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677490656,"creation_date":1677490656,"answer_id":75578788,"question_id":75548140,"body_markdown":"Probem is with my spring boot version. Need zuul configuration. There I add github link were person write the zuul configuration which fixed my problem:\r\nhttps://gist.github.com/aldobongio/6a22f49863c7a777612f7887bbb8fd1d.\r\nHope this will help for someone. ","title":"zuul + ribbon set MaxAutoRetries : 3, but repeted 8 times why it happens?","body":"<p>Probem is with my spring boot version. Need zuul configuration. There I add github link were person write the zuul configuration which fixed my problem:\n<a href=\"https://gist.github.com/aldobongio/6a22f49863c7a777612f7887bbb8fd1d\" rel=\"nofollow noreferrer\">https://gist.github.com/aldobongio/6a22f49863c7a777612f7887bbb8fd1d</a>.\nHope this will help for someone.</p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677490656,"creation_date":1677172345,"question_id":75548140,"body_markdown":"My yml:\r\n```\r\nspring:\r\n  application:\r\n    name: test-gateway\r\n  cloud:\r\n    loadbalancer:\r\n      retry:\r\n        enabled: true\r\n\r\nzuul:\r\n  retryable: true\r\n  set-content-length: true\r\n  routes:\r\n    test:\r\n      path: /**\r\n      serviceId: TEST\r\n      stripPrefix: false\r\n      sensitiveHeaders: Cookie,Set-Cookie\r\n\r\n  ribbon:\r\n    eager-load:\r\n      enabled: true\r\n  include-debug-header: true\r\n  host:\r\n    connect-timeout-millis: 1000\r\n    socket-timeout-millis: 1000\r\n\r\nTEST:\r\n  ribbon:\r\n    ReadTimeout: 1000\r\n    ConnectTimeout: 1000\r\n    retryableStatusCodes: 500, 503, 502, 408\r\n    MaxAutoRetriesNextServer: 0\r\n    OkToRetryOnAllOperations: true\r\n    MaxAutoRetries: 3\r\n```\r\nwhen I called to api /foruser and it sleep 3000 milisec\r\n\r\n```\r\n    @GetMapping(&quot;/foruser&quot;)\r\n    public String forUser() throws InterruptedException {\r\n\r\n        log.info(&quot;Start to sleep count: {}&quot;, count);\r\n\r\n        count = count + 1;\r\n\r\n        sleep(3000);\r\n\r\n        log.info(&quot;Finish sleep&quot;);\r\n\r\n        return &quot;every thing is ok&quot;;\r\n    }\r\n```\r\n\r\nshould retries just 3 times but repeated 8 times. Why? how can I set to retry just 3 times?\r\nwhere is any more config on ribbon?\r\n","title":"zuul + ribbon set MaxAutoRetries : 3, but repeted 8 times why it happens?","body":"<p>My yml:</p>\n<pre><code>spring:\n  application:\n    name: test-gateway\n  cloud:\n    loadbalancer:\n      retry:\n        enabled: true\n\nzuul:\n  retryable: true\n  set-content-length: true\n  routes:\n    test:\n      path: /**\n      serviceId: TEST\n      stripPrefix: false\n      sensitiveHeaders: Cookie,Set-Cookie\n\n  ribbon:\n    eager-load:\n      enabled: true\n  include-debug-header: true\n  host:\n    connect-timeout-millis: 1000\n    socket-timeout-millis: 1000\n\nTEST:\n  ribbon:\n    ReadTimeout: 1000\n    ConnectTimeout: 1000\n    retryableStatusCodes: 500, 503, 502, 408\n    MaxAutoRetriesNextServer: 0\n    OkToRetryOnAllOperations: true\n    MaxAutoRetries: 3\n</code></pre>\n<p>when I called to api /foruser and it sleep 3000 milisec</p>\n<pre><code>    @GetMapping(&quot;/foruser&quot;)\n    public String forUser() throws InterruptedException {\n\n        log.info(&quot;Start to sleep count: {}&quot;, count);\n\n        count = count + 1;\n\n        sleep(3000);\n\n        log.info(&quot;Finish sleep&quot;);\n\n        return &quot;every thing is ok&quot;;\n    }\n</code></pre>\n<p>should retries just 3 times but repeated 8 times. Why? how can I set to retry just 3 times?\nwhere is any more config on ribbon?</p>\n"},{"tags":["java","unicode","escaping","filewriter"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677435196,"post_id":75573608,"comment_id":133332859,"body_markdown":"The answer is _likely_ that your character is going through a bunch of transitions (software that doesn&#39;t blindly pass the data on unmolested) which ends up mangling away your PUAs. However, there are other explanations. You&#39;ll need to edit this question and add in an example input string, the code you use to &#39;unescape&#39; it (not just &#39;I use this method from apache commons&#39;, show the code), and then explain in exacting detail how you go from the `java.lang.String` instance all the way to &#39;... and it is now a generic question mark&#39;. Which apps, tools, streams, etc.","body":"The answer is <i>likely</i> that your character is going through a bunch of transitions (software that doesn&#39;t blindly pass the data on unmolested) which ends up mangling away your PUAs. However, there are other explanations. You&#39;ll need to edit this question and add in an example input string, the code you use to &#39;unescape&#39; it (not just &#39;I use this method from apache commons&#39;, show the code), and then explain in exacting detail how you go from the <code>java.lang.String</code> instance all the way to &#39;... and it is now a generic question mark&#39;. Which apps, tools, streams, etc."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1677452072,"post_id":75573608,"comment_id":133335621,"body_markdown":"[1] Does your code work for characters which are not private use? [2] To be clear, are you wanting the output to be a white rectangle containing a question mark (i.e. your choice of glyph for the private use character `U+E022`), but instead you are seeing a black diamond containing a question mark(i.e. The Unicode _Replacement Character_ \n `U+FFFD`)? [3] How did you add your private use glyphs to the font? [4] You need to update your question to show your code, some sample input and the expected and actual output. Otherwise your question may be closed because it _&quot;Needs details or clarity&quot;_.","body":"[1] Does your code work for characters which are not private use? [2] To be clear, are you wanting the output to be a white rectangle containing a question mark (i.e. your choice of glyph for the private use character <code>U+E022</code>), but instead you are seeing a black diamond containing a question mark(i.e. The Unicode <i>Replacement Character</i>   <code>U+FFFD</code>)? [3] How did you add your private use glyphs to the font? [4] You need to update your question to show your code, some sample input and the expected and actual output. Otherwise your question may be closed because it <i>&quot;Needs details or clarity&quot;</i>."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1677435104,"post_id":75573722,"comment_id":133332833,"body_markdown":"An excellent introspective about PUA that does.. absolutely not a single thing to answer the question asked.","body":"An excellent introspective about PUA that does.. absolutely not a single thing to answer the question asked."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677440639,"post_id":75573722,"comment_id":133333830,"body_markdown":"@rzwitserloot The Backhand Index Pointing Right points to the solution: No font means no glyph means empty-box/question-mark appears. But I added a tl;dr section to make the Answer even more pointed.","body":"@rzwitserloot The Backhand Index Pointing Right points to the solution: No font means no glyph means empty-box/question-mark appears. But I added a tl;dr section to make the Answer even more pointed."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1677447390,"post_id":75573722,"comment_id":133334908,"body_markdown":"Given that a single `?` appears, &quot;`u/1234` is invalid&quot; can&#39;t be the full answer.Evidently OP does not appear to be interested in clarifying, so this answer will have to stand as &#39;here is a whole bunch of background and info, it might be enough to answer whatever question you really have&#39;, I guess :)","body":"Given that a single <code>?</code> appears, &quot;<code>u&#47;1234</code> is invalid&quot; can&#39;t be the full answer.Evidently OP does not appear to be interested in clarifying, so this answer will have to stand as &#39;here is a whole bunch of background and info, it might be enough to answer whatever question you really have&#39;, I guess :)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677490196,"creation_date":1677431865,"answer_id":75573722,"question_id":75573608,"body_markdown":"# tl;dr\r\n\r\n - Use correct Java syntax in your input string for a Unicode hexadecimal: `\\uXXXX`\r\n - If you have no font providing a glyph for that code point number, your OS indicates the lack by displaying an empty-box, question-mark, or some such fall-back replacement. \r\n\r\nTo get an officially sanctioned Red Heart:\r\n\r\n    org.apache.commons.text.StringEscapeUtils.unescapeJava( &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot; )  // Simulating some textual input of Java-syntax escaped Unicode code point numbers in hexadecimal.\r\n\r\n&gt;❤️\r\n\r\n# Example code\r\n\r\nYou did not show your exact code. But your Question mentions `u/XXXX` which is incorrect. Correct syntax in Java for a Unicode hexadecimal is `\\uXXXX`. \r\n\r\nYou can **verify your hexadecimal literal** by asking for the code point, as shown below.\r\n\r\nHere is some example code.\r\n\r\n```java\r\nSystem.out.println( &quot;Demo of Private Use Area&quot; );\r\n\r\nString input = &quot;\\\\&quot; + &quot;uE022&quot;;\r\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\r\nint codePoint = output.codePointAt( 0 );\r\nString name = Character.getName( codePoint );\r\n```\r\n\r\nDump to console. \r\n\r\n```java\r\nSystem.out.println( &quot;input = &quot; + input );\r\nSystem.out.println( &quot;output = &quot; + output );\r\nSystem.out.println( &quot;codePoint = &quot; + codePoint + &quot; (we expect 57378 for \\\\uE022).&quot; );\r\nSystem.out.println( &quot;Name = &quot; + name );\r\n```\r\n \r\nWhen run:\r\n\r\n```none\r\nDemo of Private Use Area\r\ninput = \\uE022\r\noutput = \r\ncodePoint = 57378 (we expect 57378 for \\uE022).\r\nName = PRIVATE USE AREA E022\r\n```\r\n\r\n## Red heart emoji\r\n\r\nIf you really want a red heart, Unicode does define an emoji. \r\n\r\nBut accessing this emoji requires *two* code points. Unicode 1.1 in 1993 defined “Heavy Black Heart” at decimal 10,084 (U+2764). Later versions of Unicode added Emoji 1.0 definitions in 2015, adding a definition for Red Heart by combining `HEAVY BLACK HEART` with `VARIATION SELECTOR-16` at decimal 65,039 (U+FEOF). \r\n\r\nSee [`red heart`][1] row of [*Full Emoji List*][2] at the Unicode Consortium web site. However, that row appears to me to be incorrect in that it fails to mention the required `U+FE0F` code point.\r\n\r\n```java\r\n// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\r\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\r\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\r\n```\r\n\r\n&gt;❤️\r\n\r\nFull example code:\r\n\r\n```java\r\nSystem.out.println( &quot;Demo of Red Heart&quot; );\r\n\r\n// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\r\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\r\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\r\n\r\nSystem.out.println( &quot;input = &quot; + input );\r\nSystem.out.println( &quot;output = &quot; + output );\r\n\r\noutput.codePoints().forEachOrdered( ( int codePoint ) -&gt; {\r\n    String message =\r\n            &quot;Code point decimal &quot; + codePoint\r\n                    + &quot; = hex &quot; + Integer.toHexString( codePoint )\r\n                    + &quot; = name &quot; + Character.getName( codePoint );\r\n    System.out.println( message );\r\n} );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nDemo of Red Heart\r\ninput = \\u2764\\uFE0F\r\noutput = ❤️\r\nCode point decimal 10084 = hex 2764 = name HEAVY BLACK HEART\r\nCode point decimal 65039 = hex fe0f = name VARIATION SELECTOR-16\r\n```\r\n\r\n# A PUA has no officially assigned characters\r\n\r\nBy definition, a [Private Use Area (PUA)][3] has no characters assigned by the [Unicode Consortium][4]. All the [code point][5] numbers in that range are promised by the Unicode Consortium to never be officially assigned any character. \r\n\r\nThese leaves all of us free to create a font that assigns any kind of [glyph][6] we want to assign to any of those code points. \r\n\r\nYou may want to create a font with red heart cartoon at code point E022. Meanwhile I may choose to make a font that has a drawing of a cockatiel. And some guy named Bob creates his own font with a picture of a [Microlino][7] car at E022. All of us, you, me, and Bob, are all happy knowing that our custom font will never be stomped on by a future officially sanctioned character at that code point. \r\n\r\nIf Alice likes your red heart, and wants to use it, she needs to obtain a copy of your font. She needs to install that font on her computer. And she needs to either:\r\n\r\n - Ensure that no enter font provides a glyph at code point E022, *or*,\r\n - Use an app that allows her to specify the use of your font rather than any other font that may also coincidentally provide a glyph at E022. \r\n\r\n&#128073; If Alice has installed no fonts at all with a glyph at E022, then the operating system of her computer will fall back to displaying some kind of substitute glyph such as an empty box or question mark or nothing to indicate the lack of a glyph. \r\n\r\nThe three PUAs defined in Unicode have turned out to be rather popular. People use them to create fonts for characters that do not meet the requirements of the Unicode Consortium, preventing those characters from ever being considered for future inclusion in Unicode. For example, fictional languages such as [*Klingon*][8] in Star Trek or elves’ language from novels. \r\n\r\nThis popularity has prompted volunteers outside the Unicode Consortium to devise a public registry of the PUA code points, in an attempt to avoid conflicts among various fonts over particular code points. \r\n\r\n\r\n  [1]: https://unicode.org/emoji/charts/full-emoji-list.html#2764\r\n  [2]: https://unicode.org/emoji/charts/full-emoji-list.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Private_Use_Areas\r\n  [4]: https://en.m.wikipedia.org/wiki/Unicode_Consortium\r\n  [5]: https://en.m.wikipedia.org/wiki/Code_point\r\n  [6]: https://en.m.wikipedia.org/wiki/Glyph\r\n  [7]: https://en.m.wikipedia.org/wiki/Microlino\r\n  [8]: https://en.m.wikipedia.org/wiki/Klingon_language","title":"Java -- How to unescape unicode private-use characters?","body":"<h1>tl;dr</h1>\n<ul>\n<li>Use correct Java syntax in your input string for a Unicode hexadecimal: <code>\\uXXXX</code></li>\n<li>If you have no font providing a glyph for that code point number, your OS indicates the lack by displaying an empty-box, question-mark, or some such fall-back replacement.</li>\n</ul>\n<p>To get an officially sanctioned Red Heart:</p>\n<pre><code>org.apache.commons.text.StringEscapeUtils.unescapeJava( &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot; )  // Simulating some textual input of Java-syntax escaped Unicode code point numbers in hexadecimal.\n</code></pre>\n<blockquote>\n<p>❤️</p>\n</blockquote>\n<h1>Example code</h1>\n<p>You did not show your exact code. But your Question mentions <code>u/XXXX</code> which is incorrect. Correct syntax in Java for a Unicode hexadecimal is <code>\\uXXXX</code>.</p>\n<p>You can <strong>verify your hexadecimal literal</strong> by asking for the code point, as shown below.</p>\n<p>Here is some example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;Demo of Private Use Area&quot; );\n\nString input = &quot;\\\\&quot; + &quot;uE022&quot;;\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\nint codePoint = output.codePointAt( 0 );\nString name = Character.getName( codePoint );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;input = &quot; + input );\nSystem.out.println( &quot;output = &quot; + output );\nSystem.out.println( &quot;codePoint = &quot; + codePoint + &quot; (we expect 57378 for \\\\uE022).&quot; );\nSystem.out.println( &quot;Name = &quot; + name );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo of Private Use Area\ninput = \\uE022\noutput = \ncodePoint = 57378 (we expect 57378 for \\uE022).\nName = PRIVATE USE AREA E022\n</code></pre>\n<h2>Red heart emoji</h2>\n<p>If you really want a red heart, Unicode does define an emoji.</p>\n<p>But accessing this emoji requires <em>two</em> code points. Unicode 1.1 in 1993 defined “Heavy Black Heart” at decimal 10,084 (U+2764). Later versions of Unicode added Emoji 1.0 definitions in 2015, adding a definition for Red Heart by combining <code>HEAVY BLACK HEART</code> with <code>VARIATION SELECTOR-16</code> at decimal 65,039 (U+FEOF).</p>\n<p>See <a href=\"https://unicode.org/emoji/charts/full-emoji-list.html#2764\" rel=\"nofollow noreferrer\"><code>red heart</code></a> row of <a href=\"https://unicode.org/emoji/charts/full-emoji-list.html\" rel=\"nofollow noreferrer\"><em>Full Emoji List</em></a> at the Unicode Consortium web site. However, that row appears to me to be incorrect in that it fails to mention the required <code>U+FE0F</code> code point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\n</code></pre>\n<blockquote>\n<p>❤️</p>\n</blockquote>\n<p>Full example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;Demo of Red Heart&quot; );\n\n// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\n\nSystem.out.println( &quot;input = &quot; + input );\nSystem.out.println( &quot;output = &quot; + output );\n\noutput.codePoints().forEachOrdered( ( int codePoint ) -&gt; {\n    String message =\n            &quot;Code point decimal &quot; + codePoint\n                    + &quot; = hex &quot; + Integer.toHexString( codePoint )\n                    + &quot; = name &quot; + Character.getName( codePoint );\n    System.out.println( message );\n} );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo of Red Heart\ninput = \\u2764\\uFE0F\noutput = ❤️\nCode point decimal 10084 = hex 2764 = name HEAVY BLACK HEART\nCode point decimal 65039 = hex fe0f = name VARIATION SELECTOR-16\n</code></pre>\n<h1>A PUA has no officially assigned characters</h1>\n<p>By definition, a <a href=\"https://en.m.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">Private Use Area (PUA)</a> has no characters assigned by the <a href=\"https://en.m.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>. All the <a href=\"https://en.m.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> numbers in that range are promised by the Unicode Consortium to never be officially assigned any character.</p>\n<p>These leaves all of us free to create a font that assigns any kind of <a href=\"https://en.m.wikipedia.org/wiki/Glyph\" rel=\"nofollow noreferrer\">glyph</a> we want to assign to any of those code points.</p>\n<p>You may want to create a font with red heart cartoon at code point E022. Meanwhile I may choose to make a font that has a drawing of a cockatiel. And some guy named Bob creates his own font with a picture of a <a href=\"https://en.m.wikipedia.org/wiki/Microlino\" rel=\"nofollow noreferrer\">Microlino</a> car at E022. All of us, you, me, and Bob, are all happy knowing that our custom font will never be stomped on by a future officially sanctioned character at that code point.</p>\n<p>If Alice likes your red heart, and wants to use it, she needs to obtain a copy of your font. She needs to install that font on her computer. And she needs to either:</p>\n<ul>\n<li>Ensure that no enter font provides a glyph at code point E022, <em>or</em>,</li>\n<li>Use an app that allows her to specify the use of your font rather than any other font that may also coincidentally provide a glyph at E022.</li>\n</ul>\n<p>👉 If Alice has installed no fonts at all with a glyph at E022, then the operating system of her computer will fall back to displaying some kind of substitute glyph such as an empty box or question mark or nothing to indicate the lack of a glyph.</p>\n<p>The three PUAs defined in Unicode have turned out to be rather popular. People use them to create fonts for characters that do not meet the requirements of the Unicode Consortium, preventing those characters from ever being considered for future inclusion in Unicode. For example, fictional languages such as <a href=\"https://en.m.wikipedia.org/wiki/Klingon_language\" rel=\"nofollow noreferrer\"><em>Klingon</em></a> in Star Trek or elves’ language from novels.</p>\n<p>This popularity has prompted volunteers outside the Unicode Consortium to devise a public registry of the PUA code points, in an attempt to avoid conflicts among various fonts over particular code points.</p>\n"}],"owner":{"account_id":24406159,"reputation":37,"user_id":18334318,"display_name":"bitcash complex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677490196,"creation_date":1677430949,"question_id":75573608,"body_markdown":"I have a program that reads a list of unescaped unicode strings (`u/XXXX`) and converts them into their encoded unicode character, writing that version to both the terminal and to a textfile. \r\n\r\nI&#39;m using `org.apache.commons.text.StringEscapeUtils.unescapeJava(String)` to handle the unescaping of the escaped unicode points. (From [*Apache Commons Text*][1] library.)\r\n\r\nI&#39;m referring to these unicode entries to get my private-use characters: https://jrgraphix.net/r/Unicode/E000-F8FF\r\n(I preprend `u/` with the hex digits shown above ^)\r\n\r\nHeres an example of what the output should look like: ``\r\nIf you pasted that into a ctrl F box on the website above, you&#39;ll see that it points to `E022`\r\n\r\n**Now, here is my question, and by extension the problem I am having:**\r\n\r\nIts not working. For some reason, it doesn&#39;t output the character itself, rather it just outputs a generic question mark that does not represent the private use char in question. If someone can help me with this it&#39;d be much appreciated.\r\n\r\n\r\n\r\nSo far, I have had no luck.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/","title":"Java -- How to unescape unicode private-use characters?","body":"<p>I have a program that reads a list of unescaped unicode strings (<code>u/XXXX</code>) and converts them into their encoded unicode character, writing that version to both the terminal and to a textfile.</p>\n<p>I'm using <code>org.apache.commons.text.StringEscapeUtils.unescapeJava(String)</code> to handle the unescaping of the escaped unicode points. (From <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\"><em>Apache Commons Text</em></a> library.)</p>\n<p>I'm referring to these unicode entries to get my private-use characters: <a href=\"https://jrgraphix.net/r/Unicode/E000-F8FF\" rel=\"nofollow noreferrer\">https://jrgraphix.net/r/Unicode/E000-F8FF</a>\n(I preprend <code>u/</code> with the hex digits shown above ^)</p>\n<p>Heres an example of what the output should look like: <code></code>\nIf you pasted that into a ctrl F box on the website above, you'll see that it points to <code>E022</code></p>\n<p><strong>Now, here is my question, and by extension the problem I am having:</strong></p>\n<p>Its not working. For some reason, it doesn't output the character itself, rather it just outputs a generic question mark that does not represent the private use char in question. If someone can help me with this it'd be much appreciated.</p>\n<p>So far, I have had no luck.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1400592809,"post_id":23760979,"comment_id":36535026,"body_markdown":"Squaring the number is mathematically elegant, but it significantly constrains the range of numbers that can be accepted in your array.  I would use Math.abs() instead.","body":"Squaring the number is mathematically elegant, but it significantly constrains the range of numbers that can be accepted in your array.  I would use Math.abs() instead."}],"answers":[{"comments":[{"owner":{"account_id":3826124,"reputation":185,"user_id":3172930,"accept_rate":67,"display_name":"user3172930"},"score":0,"creation_date":1400592581,"post_id":23761179,"comment_id":36534821,"body_markdown":"yes that&#39;s why I&#39;m looking any new method for given program or any modification internally","body":"yes that&#39;s why I&#39;m looking any new method for given program or any modification internally"},{"owner":{"account_id":1218491,"reputation":1431,"user_id":1185614,"display_name":"lpratlong"},"score":0,"creation_date":1400592699,"post_id":23761179,"comment_id":36534924,"body_markdown":"So it should be a good thing to indicate that in your question. Because it&#39;s not clear.","body":"So it should be a good thing to indicate that in your question. Because it&#39;s not clear."}],"tags":[],"owner":{"account_id":1218491,"reputation":1431,"user_id":1185614,"display_name":"lpratlong"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400592486,"creation_date":1400592486,"answer_id":23761179,"question_id":23760979,"body_markdown":"As you multiply data[i] with data[i], a value negative and a value positive will have the same impact.\r\nFor example, in your example: 2 and -2 will be 4. So, your code is not able to sort as you need.\r\n\r\nSo, here, it takes -2 as the near value since it has the same &quot;weight&quot; as 2.","title":"Finding closest number to 0","body":"<p>As you multiply data[i] with data[i], a value negative and a value positive will have the same impact.\nFor example, in your example: 2 and -2 will be 4. So, your code is not able to sort as you need.</p>\n\n<p>So, here, it takes -2 as the near value since it has the same \"weight\" as 2.</p>\n"},{"comments":[{"owner":{"account_id":542404,"reputation":1735,"user_id":911228,"display_name":"kmera"},"score":2,"creation_date":1400593101,"post_id":23761205,"comment_id":36535245,"body_markdown":"this will work but this problem can be solved in O(n) time. your solution requires O(n lg n)","body":"this will work but this problem can be solved in O(n) time. your solution requires O(n lg n)"}],"tags":[],"owner":{"account_id":2017605,"reputation":748,"user_id":1804512,"display_name":"Bachmann"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1400592543,"creation_date":1400592543,"answer_id":23761205,"question_id":23760979,"body_markdown":"Just add zero to this list.\r\n\r\nThen sort the list\r\n    \r\n    Arrays.sort(data);\r\n\r\nthen grab the number before or after the zero and pick the minimum one greater than zero","title":"Finding closest number to 0","body":"<p>Just add zero to this list.</p>\n\n<p>Then sort the list</p>\n\n<pre><code>Arrays.sort(data);\n</code></pre>\n\n<p>then grab the number before or after the zero and pick the minimum one greater than zero</p>\n"},{"comments":[{"owner":{"account_id":3826124,"reputation":185,"user_id":3172930,"accept_rate":67,"display_name":"user3172930"},"score":0,"creation_date":1400592692,"post_id":23761216,"comment_id":36534919,"body_markdown":"Actually I want the logic without using any inbuilt function","body":"Actually I want the logic without using any inbuilt function"},{"owner":{"account_id":2931833,"reputation":883,"user_id":2511873,"accept_rate":90,"display_name":"usama8800"},"score":0,"creation_date":1400592826,"post_id":23761216,"comment_id":36535033,"body_markdown":"@user3172930 then make the function `return (num*num)/num;`","body":"@user3172930 then make the function <code>return (num*num)&#47;num;</code>"},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":1,"creation_date":1400592841,"post_id":23761216,"comment_id":36535042,"body_markdown":"Then replace `Math.abs(...)` with your own absolute value method/code.","body":"Then replace <code>Math.abs(...)</code> with your own absolute value method/code."},{"owner":{"account_id":2931833,"reputation":883,"user_id":2511873,"accept_rate":90,"display_name":"usama8800"},"score":0,"creation_date":1400592873,"post_id":23761216,"comment_id":36535067,"body_markdown":"That code is wrong. Tried it with `int[] data = {2, 3, -2, 4, 10, 6, -1};`","body":"That code is wrong. Tried it with <code>int[] data = {2, 3, -2, 4, 10, 6, -1};</code>"},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1400593216,"post_id":23761216,"comment_id":36535327,"body_markdown":"@usama8800, wrong the code works perfectly. It returns the index number of the closest to zero, not the number itself!","body":"@usama8800, wrong the code works perfectly. It returns the index number of the closest to zero, not the number itself!"}],"tags":[],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663680430,"creation_date":1400592576,"answer_id":23761216,"question_id":23760979,"body_markdown":"Assumption is that the array `data` has at least 1 value.\r\n\r\n    int closestToZero = 0;\r\n    for ( int i = 1; i &lt; data.length; i++ )\r\n    {\r\n        if ( Math.abs(data[i]) &lt; Math.abs(data[closestToZero]) ) closestToZero = i;\r\n    }\r\n\r\nThe value in `closestToZero` is the index of the value closest to zero, not the value itself.","title":"Finding closest number to 0","body":"<p>Assumption is that the array <code>data</code> has at least 1 value.</p>\n<pre><code>int closestToZero = 0;\nfor ( int i = 1; i &lt; data.length; i++ )\n{\n    if ( Math.abs(data[i]) &lt; Math.abs(data[closestToZero]) ) closestToZero = i;\n}\n</code></pre>\n<p>The value in <code>closestToZero</code> is the index of the value closest to zero, not the value itself.</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":6,"creation_date":1400635500,"post_id":23761353,"comment_id":36557300,"body_markdown":"Terrible runtime complexity, though. It was O(n) before, sort takes more than that.","body":"Terrible runtime complexity, though. It was O(n) before, sort takes more than that."},{"owner":{"account_id":3099138,"reputation":592,"user_id":2623720,"accept_rate":57,"display_name":"melvil james"},"score":0,"creation_date":1588966986,"post_id":23761353,"comment_id":109114473,"body_markdown":"it can be simply brute force in 0(n). you just made it nlog. Try binary search approach otherwise.","body":"it can be simply brute force in 0(n). you just made it nlog. Try binary search approach otherwise."},{"owner":{"account_id":6529073,"reputation":2213,"user_id":5050817,"accept_rate":100,"display_name":"AGM Tazim"},"score":0,"creation_date":1645180625,"post_id":23761353,"comment_id":125808217,"body_markdown":"No need to sort the array. I solved it without sorting and without searching algorithm  with O(n) time (0.2 sec execution time) . I posted new answer.","body":"No need to sort the array. I solved it without sorting and without searching algorithm  with O(n) time (0.2 sec execution time) . I posted new answer."}],"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1624009353,"creation_date":1400592913,"answer_id":23761353,"question_id":23760979,"body_markdown":"Sort the array (add one line of code) so the last number you pick up will be positive if the same absolute value is selected for a positive and negative numbers with the same distance.\r\n\r\n**Source code:**\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class CloseToZero {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int[] data = {2,3,-2};\r\n            int curr = 0;\r\n            int near = data[0]; \r\n            Arrays.sort(data);      //  add this\r\n            System.out.println(Arrays.toString(data));        \r\n            // find the element nearest to zero\r\n            for ( int i=0; i &lt; data.length; i++ ){\r\n            \tSystem.out.println(&quot;dist from &quot; + data[i] + &quot; = &quot; + Math.abs(0 -data[i]));\r\n            \tcurr = data[i] * data[i]; \r\n                if ( curr &lt;= (near * near) )  { \r\n                    near = data[i];\r\n                } \r\n            }\r\n            System.out.println( near );\r\n        }\r\n    }\r\n\r\n","title":"Finding closest number to 0","body":"<p>Sort the array (add one line of code) so the last number you pick up will be positive if the same absolute value is selected for a positive and negative numbers with the same distance.</p>\n<p><strong>Source code:</strong></p>\n<pre><code>import java.util.Arrays;\n\npublic class CloseToZero {\n\n    public static void main(String[] args) {\n\n        int[] data = {2,3,-2};\n        int curr = 0;\n        int near = data[0]; \n        Arrays.sort(data);      //  add this\n        System.out.println(Arrays.toString(data));        \n        // find the element nearest to zero\n        for ( int i=0; i &lt; data.length; i++ ){\n            System.out.println(&quot;dist from &quot; + data[i] + &quot; = &quot; + Math.abs(0 -data[i]));\n            curr = data[i] * data[i]; \n            if ( curr &lt;= (near * near) )  { \n                near = data[i];\n            } \n        }\n        System.out.println( near );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":542404,"reputation":1735,"user_id":911228,"display_name":"kmera"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1400593606,"creation_date":1400593606,"answer_id":23761605,"question_id":23760979,"body_markdown":"This will do it in `O(n)` time:\r\n\r\n    int[] arr = {1,4,5,6,7,-1};\r\n\t\t\r\n    int closestIndex = 0;\r\n    int diff = Integer.MAX_VALUE;\r\n    for (int i = 0; i &lt; arr.length; ++i) {\r\n        int abs = Math.abs(arr[i]);\r\n        if (abs &lt; diff) {\r\n            closestIndex = i;\r\n            diff = abs;\r\n        } else if (abs == diff &amp;&amp; arr[i] &gt; 0 &amp;&amp; arr[closestIndex] &lt; 0) {\r\n            //same distance to zero but positive \r\n            closestIndex =i;\r\n        }\r\n    }\t\r\n    System.out.println(arr[closestIndex ]);","title":"Finding closest number to 0","body":"<p>This will do it in <code>O(n)</code> time:</p>\n\n<pre><code>int[] arr = {1,4,5,6,7,-1};\n\nint closestIndex = 0;\nint diff = Integer.MAX_VALUE;\nfor (int i = 0; i &lt; arr.length; ++i) {\n    int abs = Math.abs(arr[i]);\n    if (abs &lt; diff) {\n        closestIndex = i;\n        diff = abs;\n    } else if (abs == diff &amp;&amp; arr[i] &gt; 0 &amp;&amp; arr[closestIndex] &lt; 0) {\n        //same distance to zero but positive \n        closestIndex =i;\n    }\n}   \nSystem.out.println(arr[closestIndex ]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225235,"reputation":6429,"user_id":485608,"accept_rate":50,"display_name":"M. Abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493243812,"creation_date":1493242065,"answer_id":43644811,"question_id":23760979,"body_markdown":"If you are using java8:\r\n\r\n    import static java.lang.Math.abs;\r\n    import static java.lang.Math.max;\r\n        \r\n    public class CloseToZero {\r\n        public static void main(String[] args) {\r\n            int[] str = {2,3,-2};\r\n            Arrays.stream(str).filter(i -&gt; i != 0)\r\n                    .reduce((a, b) -&gt; abs(a) &lt; abs(b) ? a : (abs(a) == abs(b) ? max(a, b) : b))\r\n                    .ifPresent(System.out::println);\r\n        }\r\n    }","title":"Finding closest number to 0","body":"<p>If you are using java8:</p>\n\n<pre><code>import static java.lang.Math.abs;\nimport static java.lang.Math.max;\n\npublic class CloseToZero {\n    public static void main(String[] args) {\n        int[] str = {2,3,-2};\n        Arrays.stream(str).filter(i -&gt; i != 0)\n                .reduce((a, b) -&gt; abs(a) &lt; abs(b) ? a : (abs(a) == abs(b) ? max(a, b) : b))\n                .ifPresent(System.out::println);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1660594979,"post_id":53141348,"comment_id":129564888,"body_markdown":"This is using the same approach as a [previous answer](https://stackoverflow.com/a/23761605/1255289)","body":"This is using the same approach as a <a href=\"https://stackoverflow.com/a/23761605/1255289\">previous answer</a>"}],"tags":[],"owner":{"display_name":"user10603690"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541410418,"creation_date":1541338165,"answer_id":53141348,"question_id":23760979,"body_markdown":"here is a method that gives you the nearest to zero.\r\n\r\n - use case 1 : {1,3,-2}  ==&gt; return 1 : use the Math.abs() for comparison and get the least.\r\n - use case 2 : {2,3,-2}  ==&gt; return 2 : use the Math.abs() for comparison and get the Math.abs(least)\r\n -  use case 3 : {-2,3,-2} ==&gt; return -2: use the Math.abs() for comparison and get the least.\r\n \r\n\r\n    \tpublic static double getClosestToZero(double[] liste) {\r\n\t\t// if the list is empty return 0\r\n\t\tif (liste.length != 0) {\r\n\t\t\tdouble near = liste[0];\r\n\t\t\tfor (int i = 0; i &lt; liste.length; i++) {\r\n\t\t\t\t// here we are using Math.abs to manage the negative and\r\n\t\t\t\t// positive number\r\n\t\t\t\tif (Math.abs(liste[i]) &lt;= Math.abs(near)) {\r\n\t\t\t\t\t// manage the case when we have two equal neagative numbers\r\n\t\t\t\t\tif (liste[i] == -near) {\r\n\t\t\t\t\t\tnear = Math.abs(liste[i]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnear = liste[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn near;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"Finding closest number to 0","body":"<p>here is a method that gives you the nearest to zero.</p>\n\n<ul>\n<li>use case 1 : {1,3,-2}  ==> return 1 : use the Math.abs() for comparison and get the least.</li>\n<li>use case 2 : {2,3,-2}  ==> return 2 : use the Math.abs() for comparison and get the Math.abs(least)</li>\n<li><p>use case 3 : {-2,3,-2} ==> return -2: use the Math.abs() for comparison and get the least.</p>\n\n<pre><code>public static double getClosestToZero(double[] liste) {\n// if the list is empty return 0\nif (liste.length != 0) {\n    double near = liste[0];\n    for (int i = 0; i &lt; liste.length; i++) {\n        // here we are using Math.abs to manage the negative and\n        // positive number\n        if (Math.abs(liste[i]) &lt;= Math.abs(near)) {\n            // manage the case when we have two equal neagative numbers\n            if (liste[i] == -near) {\n                near = Math.abs(liste[i]);\n            } else {\n                near = liste[i];\n            }\n        }\n    }\n    return near;\n} else {\n    return 0;\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9950284,"reputation":1455,"user_id":7363234,"accept_rate":75,"display_name":"Cristian Babarusi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546782977,"creation_date":1546782977,"answer_id":54062205,"question_id":23760979,"body_markdown":"You can do like this:\r\n\r\n    String res = &quot;&quot;;\r\n            \r\n            Arrays.sort(arr);\r\n            int num = arr[0];\r\n            int ClosestValue = 0;\r\n            \r\n            for (int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                //for negatives\r\n                if (arr[i] &lt; ClosestValue &amp;&amp; arr[i] &gt; num)\r\n                num = arr[i];\r\n                //for positives\r\n                if (arr[i] &gt; ClosestValue &amp;&amp; num &lt; ClosestValue)\r\n                num = arr[i];\r\n            }\r\n            res = num;\r\n            \r\n            System.out.println(res);\r\n\r\n      \r\n\r\nFirst of all you need to store all your numbers into an array. After that sort the array --&gt; that&#39;s the trick who will make you don&#39;t use Math.abs(). Now is time to make a loop that iterates through the array. Knowing that array is sorted is important that you start to make first an IF statement for negatives numbers then for the positives (in this way if you will have two values closest to zero, let suppose -1 and 1 --&gt; will print the positive one).\r\n\r\nHope this will help you.","title":"Finding closest number to 0","body":"<p>You can do like this:</p>\n\n<pre><code>String res = \"\";\n\n        Arrays.sort(arr);\n        int num = arr[0];\n        int ClosestValue = 0;\n\n        for (int i = 0; i &lt; arr.length; i++)\n        {\n            //for negatives\n            if (arr[i] &lt; ClosestValue &amp;&amp; arr[i] &gt; num)\n            num = arr[i];\n            //for positives\n            if (arr[i] &gt; ClosestValue &amp;&amp; num &lt; ClosestValue)\n            num = arr[i];\n        }\n        res = num;\n\n        System.out.println(res);\n</code></pre>\n\n<p>First of all you need to store all your numbers into an array. After that sort the array --> that's the trick who will make you don't use Math.abs(). Now is time to make a loop that iterates through the array. Knowing that array is sorted is important that you start to make first an IF statement for negatives numbers then for the positives (in this way if you will have two values closest to zero, let suppose -1 and 1 --> will print the positive one).</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":14465114,"reputation":154,"user_id":10448752,"display_name":"DevDisrupt"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1556825883,"creation_date":1556825883,"answer_id":55959153,"question_id":23760979,"body_markdown":"The easiest way to deal with this is split the array into positive and negative sort and push the first two items from both the arrays into another array. Have fun!\r\n\r\n    function closeToZeroTwo(arr){\r\n    let arrNeg = arr.filter(x =&gt; x &lt; 0).sort();\r\n    let arrPos = arr.filter(x =&gt; x &gt; 0).sort();\r\n    let retArr = []; \r\n    retArr.push(arrNeg[0], arrPos[0]);\r\n    console.log(retArr)\r\n    }","title":"Finding closest number to 0","body":"<p>The easiest way to deal with this is split the array into positive and negative sort and push the first two items from both the arrays into another array. Have fun!</p>\n\n<pre><code>function closeToZeroTwo(arr){\nlet arrNeg = arr.filter(x =&gt; x &lt; 0).sort();\nlet arrPos = arr.filter(x =&gt; x &gt; 0).sort();\nlet retArr = []; \nretArr.push(arrNeg[0], arrPos[0]);\nconsole.log(retArr)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16842800,"reputation":1,"user_id":12177784,"display_name":"bawa"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570465349,"creation_date":1570464963,"answer_id":58273419,"question_id":23760979,"body_markdown":"Easiest way to just sort that array in ascending order suppose input is like : \r\n\r\n    int[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\r\n\r\nthen after sorting it will gives output like:\r\n\r\n    {-5,-4,2,5,7,10,12,28,45,65,85,95,}\r\n\r\nand for positive integer number, the Closest Positive number is: **2**\r\n\r\nLogic : \r\n\r\n    public class Closest {\r\n\r\n\tpublic static int getClosestToZero(int[] a) {\r\n\r\n\t\tint temp=0;\r\n\t\t//following for is used for sorting an array in ascending nubmer\r\n\t\tfor (int i = 0; i &lt; a.length-1; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a.length-i-1; j++) {\r\n\t\t\t\tif (a[j]&gt;a[j+1]) {\r\n\t\t\t\t\ttemp = a[j];\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\t\ta[j+1]=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//to check sorted array with negative &amp; positive  values\r\n\t\tSystem.out.print(&quot;{&quot;);\r\n\t\tfor(int number:a)\r\n\t\t\tSystem.out.print(number + &quot;,&quot;);\r\n\r\n\t\tSystem.out.print(&quot;}\\n&quot;);\r\n\t\t//logic for check closest positive and Integer\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tif (a[i]&lt;0 &amp;&amp; a[i+1]&gt;0) {\r\n\t\t\t\ttemp = a[i+1];\r\n\t\t\t}\r\n\t\t} \r\n\t\treturn temp;\r\n\t}\r\n\r\n\t  public static void main(String[] args) {\r\n\t\tint[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\r\n\t\tint closets =getClosestToZero(array);\r\n\t    System.out.println(&quot;The Closest Positive number is : &quot;+closets);\r\n\t  }\r\n\r\n    }\r\n","title":"Finding closest number to 0","body":"<p>Easiest way to just sort that array in ascending order suppose input is like : </p>\n\n<pre><code>int[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\n</code></pre>\n\n<p>then after sorting it will gives output like:</p>\n\n<pre><code>{-5,-4,2,5,7,10,12,28,45,65,85,95,}\n</code></pre>\n\n<p>and for positive integer number, the Closest Positive number is: <strong>2</strong></p>\n\n<p>Logic : </p>\n\n<pre><code>public class Closest {\n\npublic static int getClosestToZero(int[] a) {\n\n    int temp=0;\n    //following for is used for sorting an array in ascending nubmer\n    for (int i = 0; i &lt; a.length-1; i++) {\n        for (int j = 0; j &lt; a.length-i-1; j++) {\n            if (a[j]&gt;a[j+1]) {\n                temp = a[j];\n                a[j]=a[j+1];\n                a[j+1]=temp;\n            }\n        }\n    }\n    //to check sorted array with negative &amp; positive  values\n    System.out.print(\"{\");\n    for(int number:a)\n        System.out.print(number + \",\");\n\n    System.out.print(\"}\\n\");\n    //logic for check closest positive and Integer\n    for (int i = 0; i &lt; a.length; i++) {\n        if (a[i]&lt;0 &amp;&amp; a[i+1]&gt;0) {\n            temp = a[i+1];\n        }\n    } \n    return temp;\n}\n\n  public static void main(String[] args) {\n    int[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\n    int closets =getClosestToZero(array);\n    System.out.println(\"The Closest Positive number is : \"+closets);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4337251,"reputation":1,"user_id":3541453,"display_name":"Maykon Deykon"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573201662,"creation_date":1573201662,"answer_id":58762931,"question_id":23760979,"body_markdown":"    static void closestToZero(){\r\n\t\tint[] arr = {45,-4,-12,-2,7,4};\r\n\t\tint max = Integer.MAX_VALUE;\r\n\t\tint closest = 0;\r\n\t\tfor (int i = 0; i &lt; arr.length; i++){\r\n\t\t\tint value = arr[i];\r\n\t\t\tint abs = Math.abs(value);\r\n\t\t\tif (abs &lt; max){\r\n\t\t\t\tmax = abs;\r\n\t\t\t\tclosest = value;\r\n\t\t\t}else if (abs == max){\r\n\t\t\t\tif (value &gt; closest){\r\n\t\t\t\t\tclosest = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\nReturn a positive integer if two absolute values are the same.","title":"Finding closest number to 0","body":"<pre><code>static void closestToZero(){\n    int[] arr = {45,-4,-12,-2,7,4};\n    int max = Integer.MAX_VALUE;\n    int closest = 0;\n    for (int i = 0; i &lt; arr.length; i++){\n        int value = arr[i];\n        int abs = Math.abs(value);\n        if (abs &lt; max){\n            max = abs;\n            closest = value;\n        }else if (abs == max){\n            if (value &gt; closest){\n                closest = value;\n            }\n        }\n    }\n</code></pre>\n\n<p>Return a positive integer if two absolute values are the same.</p>\n"},{"tags":[],"owner":{"account_id":17106328,"reputation":1,"user_id":12378276,"display_name":"Moise"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573846244,"creation_date":1573818608,"answer_id":58876465,"question_id":23760979,"body_markdown":"package solution;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\t\r\n\tpublic static void trier(int tab[]) {\r\n\t\t\r\n\t\tint tmp = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; (tab.length - 1); i++) {\r\n\t\t\t\r\n\t\t\tfor(int j = (i+1); j&lt; tab.length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif(tab[i] &gt; tab[j]) {\r\n\t\t\t\t\ttmp = tab[i];\r\n\t\t\t\t\ttab[i] = tab[j];\r\n\t\t\t\t\ttab[j] = tmp;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tint prochePositif = TableauPositif(tab);\r\n\t\t\r\n\t\tint procheNegatif = TableauNegatif(tab);\r\n\t\t\r\n\t\tSystem.out.println(distanceDeZero(procheNegatif,prochePositif));\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t}\r\n\tpublic static int TableauNegatif(int tab[]) {\r\n\t\t\r\n\t\tint taille = TailleNegatif(tab);\r\n\t\t\r\n\t\t\r\n\t\tint tabNegatif[] = new int[taille];\r\n\t\t\r\n\t\t\r\n\t\tfor(int i = 0; i&lt; tabNegatif.length; i++) {\r\n\t\t\t\r\n\t\t\ttabNegatif[i] = tab[i];\r\n\t\t}\r\n\t\tint max = tabNegatif[0];\r\n\t\t\r\n\t\tfor(int i = 0; i &lt;tabNegatif.length; i++) {\r\n\t\t\t\r\n\t\t\tif(max &lt; tabNegatif[i])\r\n\t\t\t\tmax = tabNegatif[i];\r\n\t\t}\r\n\t\treturn max;\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic static int TableauPositif(int tab[]) {\r\n\t\t\r\n\t\tint taille = TailleNegatif(tab);\r\n\t\t\r\n\t\tif(tab[taille] ==0)\r\n\t\t\ttaille+=1;\r\n\t\t\r\n\t\t\r\n\t\tint taillepositif = TaillePositif(tab);\r\n\t\t\r\n\t\tint tabPositif[] = new int[taillepositif];\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; tabPositif.length; i++) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttabPositif[i] = tab[i + taille];\r\n\t\t\t\r\n\t\t}\r\n\t\tint min = tabPositif[0];\r\n\t\tfor(int i = 0; i&lt; tabPositif.length; i++) {\r\n\t\t\t\r\n\t\t\tif(min &gt; tabPositif[i])\r\n\t\t\t\tmin = tabPositif[i];\r\n\t\t}\r\n\t\treturn min;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static int TailleNegatif(int tab[]) {\r\n\t\tint cpt = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; tab.length; i++) {\r\n\t\t\t\r\n\t\t\tif(tab[i] &lt; 0) {\r\n\t\t\t\tcpt +=1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cpt;\r\n\t\t\r\n\t}\r\n\tpublic static int TaillePositif(int tab[]) {\r\n\t\tint cpt = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; tab.length; i++) {\r\n\t\t\t\r\n\t\t\tif(tab[i] &gt; 0) {\r\n\t\t\t\tcpt +=1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cpt;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static int distanceDeZero(int v1, int v2) {\r\n\t\t\r\n\t\tint absv1 = v1 * (-1);\r\n\t\t\r\n\t\tif(absv1 &lt; v2)\r\n\t\t\treturn v1;\r\n\t\t\r\n\t\telse if(absv1 &gt; v2)\r\n\t\t\treturn v2;\r\n\t\telse \r\n\t\t\treturn v2;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint t[] = {6,5,8,8,-2,-5,0,-3,-5,9,7,4};\r\n\t\t\r\n\t\tSolution.trier(t);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n","title":"Finding closest number to 0","body":"<p>package solution;</p>\n\n<p>import java.util.Scanner;</p>\n\n<p>public class Solution {</p>\n\n<pre><code>public static void trier(int tab[]) {\n\n    int tmp = 0;\n\n    for(int i = 0; i &lt; (tab.length - 1); i++) {\n\n        for(int j = (i+1); j&lt; tab.length; j++) {\n\n            if(tab[i] &gt; tab[j]) {\n                tmp = tab[i];\n                tab[i] = tab[j];\n                tab[j] = tmp;\n\n            }\n\n        }\n\n    }\n\n    int prochePositif = TableauPositif(tab);\n\n    int procheNegatif = TableauNegatif(tab);\n\n    System.out.println(distanceDeZero(procheNegatif,prochePositif));\n\n\n\n}\npublic static int TableauNegatif(int tab[]) {\n\n    int taille = TailleNegatif(tab);\n\n\n    int tabNegatif[] = new int[taille];\n\n\n    for(int i = 0; i&lt; tabNegatif.length; i++) {\n\n        tabNegatif[i] = tab[i];\n    }\n    int max = tabNegatif[0];\n\n    for(int i = 0; i &lt;tabNegatif.length; i++) {\n\n        if(max &lt; tabNegatif[i])\n            max = tabNegatif[i];\n    }\n    return max;\n\n\n}\npublic static int TableauPositif(int tab[]) {\n\n    int taille = TailleNegatif(tab);\n\n    if(tab[taille] ==0)\n        taille+=1;\n\n\n    int taillepositif = TaillePositif(tab);\n\n    int tabPositif[] = new int[taillepositif];\n\n\n\n    for(int i = 0; i &lt; tabPositif.length; i++) {\n\n\n        tabPositif[i] = tab[i + taille];\n\n    }\n    int min = tabPositif[0];\n    for(int i = 0; i&lt; tabPositif.length; i++) {\n\n        if(min &gt; tabPositif[i])\n            min = tabPositif[i];\n    }\n    return min;\n\n\n}\n\npublic static int TailleNegatif(int tab[]) {\n    int cpt = 0;\n\n    for(int i = 0; i &lt; tab.length; i++) {\n\n        if(tab[i] &lt; 0) {\n            cpt +=1;\n\n        }\n    }\n    return cpt;\n\n}\npublic static int TaillePositif(int tab[]) {\n    int cpt = 0;\n\n    for(int i = 0; i &lt; tab.length; i++) {\n\n        if(tab[i] &gt; 0) {\n            cpt +=1;\n\n        }\n    }\n    return cpt;\n\n}\n\npublic static int distanceDeZero(int v1, int v2) {\n\n    int absv1 = v1 * (-1);\n\n    if(absv1 &lt; v2)\n        return v1;\n\n    else if(absv1 &gt; v2)\n        return v2;\n    else \n        return v2;\n\n\n\n}\n\npublic static void main(String[] args) {\n\n    int t[] = {6,5,8,8,-2,-5,0,-3,-5,9,7,4};\n\n    Solution.trier(t);\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12713720,"reputation":2483,"user_id":9236525,"display_name":"Kunchok Tashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580484640,"creation_date":1580484640,"answer_id":60006861,"question_id":23760979,"body_markdown":"I have same answer with different method,Using Collections and abs , we can solved.\r\n\r\n```\r\n  static int Solve(int N, int[] A){\r\n      List&lt;Integer&gt; mInt=new ArrayList&lt;&gt;();\r\n        for ( int i=0; i &lt; A.length; i++ ){\r\n            mInt.add(Math.abs(0 -A[i]));\r\n        }\r\n        return Collections.min(mInt);\r\n    }\r\n```\r\n   \r\nThat all,As simple as that","title":"Finding closest number to 0","body":"<p>I have same answer with different method,Using Collections and abs , we can solved.</p>\n\n<pre><code>  static int Solve(int N, int[] A){\n      List&lt;Integer&gt; mInt=new ArrayList&lt;&gt;();\n        for ( int i=0; i &lt; A.length; i++ ){\n            mInt.add(Math.abs(0 -A[i]));\n        }\n        return Collections.min(mInt);\n    }\n</code></pre>\n\n<p>That all,As simple as that</p>\n"},{"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1660595143,"post_id":65735222,"comment_id":129564927,"body_markdown":"This approach was [already suggested](https://stackoverflow.com/a/23761205/1255289). As pointed out in comments, it is slower than other approaches.","body":"This approach was <a href=\"https://stackoverflow.com/a/23761205/1255289\">already suggested</a>. As pointed out in comments, it is slower than other approaches."}],"tags":[],"owner":{"account_id":8770546,"reputation":110,"user_id":8928244,"display_name":"Vidit Varshney"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610709762,"creation_date":1610709762,"answer_id":65735222,"question_id":23760979,"body_markdown":"We have to find the Closest number to zero. \r\nThe given array can have negative values also. \r\nSo the easiest approach would append the &#39;0&#39; in the given array and sort it and return the element next to &#39;0&#39;\r\n1. append the 0\r\n2. Sort the Array\r\n3. Return the element next to 0.\r\n\r\n`\r\n\r\n    N = int(input())\r\n\r\n    arr = list(map(int, input().split()))\r\n\r\n    arr.append(0)\r\n    arr.sort()\r\n\r\n    zeroIndex = arr.index(0)\r\n    print(arr[zeroIndex + 1])\r\n\r\n--&gt; If this solution leaves corner cases please let me know also.\r\n\r\n\r\n`\r\n\r\n","title":"Finding closest number to 0","body":"<p>We have to find the Closest number to zero.\nThe given array can have negative values also.\nSo the easiest approach would append the '0' in the given array and sort it and return the element next to '0'</p>\n<ol>\n<li>append the 0</li>\n<li>Sort the Array</li>\n<li>Return the element next to 0.</li>\n</ol>\n<p>`</p>\n<pre><code>N = int(input())\n\narr = list(map(int, input().split()))\n\narr.append(0)\narr.sort()\n\nzeroIndex = arr.index(0)\nprint(arr[zeroIndex + 1])\n</code></pre>\n<p>--&gt; If this solution leaves corner cases please let me know also.</p>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":14382689,"reputation":166,"user_id":10389456,"display_name":"Sagansha San"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610985547,"creation_date":1610985547,"answer_id":65777973,"question_id":23760979,"body_markdown":"     static int Solve(int N, int[] A){\r\n          int min = A[0];\r\n          for (int i=1; i&lt;N ; i++){\r\n            min = min &gt; Math.abs(0- A[i]) ? Math.abs(0- A[i]) : Math.abs(min);\r\n          }\r\n          return min;\r\n        }","title":"Finding closest number to 0","body":"<pre><code> static int Solve(int N, int[] A){\n      int min = A[0];\n      for (int i=1; i&lt;N ; i++){\n        min = min &gt; Math.abs(0- A[i]) ? Math.abs(0- A[i]) : Math.abs(min);\n      }\n      return min;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6166039,"reputation":469,"user_id":7210926,"display_name":"Vipul Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610988066,"creation_date":1610988066,"answer_id":65778618,"question_id":23760979,"body_markdown":"if you don&#39;t wanna use the inbuilt library function use the below code (just an and condition with your existing code)-\r\n\r\n    public class CloseToZero {\r\n        public static void main(String[] args) {\r\n            int[] data = {2,3,-2,-1,1};\r\n            int curr = 0;\r\n            int near = data[0];\r\n            // find the element nearest to zero\r\n            for ( int i=0; i &lt; data.length; i++ ){\r\n                curr = data[i] * data[i];\r\n                if ( curr &lt;= (near * near) &amp;&amp; !((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0))  {\r\n                        near = data[i];\r\n                }\r\n            }\r\n            System.out.println( near );\r\n        }\r\n    }\r\n\r\n`!((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0)` : skip asignment if if `near` and `curr` is just opposit in sign and the `curr` is negative","title":"Finding closest number to 0","body":"<p>if you don't wanna use the inbuilt library function use the below code (just an and condition with your existing code)-</p>\n<pre><code>public class CloseToZero {\n    public static void main(String[] args) {\n        int[] data = {2,3,-2,-1,1};\n        int curr = 0;\n        int near = data[0];\n        // find the element nearest to zero\n        for ( int i=0; i &lt; data.length; i++ ){\n            curr = data[i] * data[i];\n            if ( curr &lt;= (near * near) &amp;&amp; !((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0))  {\n                    near = data[i];\n            }\n        }\n        System.out.println( near );\n    }\n}\n</code></pre>\n<p><code>!((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0)</code> : skip asignment if if <code>near</code> and <code>curr</code> is just opposit in sign and the <code>curr</code> is negative</p>\n"},{"tags":[],"owner":{"account_id":20534162,"reputation":1,"user_id":15070669,"display_name":"Taha.B"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611517572,"creation_date":1611491703,"answer_id":65870590,"question_id":23760979,"body_markdown":"    public static int find(int[] ints) {\r\n    \tif (ints==null) return 0;\r\n\t\tint min= ints[0];\t//a random value initialisation\t\r\n\t\tfor (int k=0;k&lt;ints.length;k++) {\r\n            // if a positive value is matched it is prioritized              \r\n\t\t\tif (ints[k]==Math.abs(min) || Math.abs(ints[k])&lt;Math.abs(min)) \r\n\t\t\t\tmin=ints[k];\t\t\t\r\n\t\t}\r\n\t\treturn  min;\r\n\t}","title":"Finding closest number to 0","body":"<pre><code>public static int find(int[] ints) {\n    if (ints==null) return 0;\n    int min= ints[0];   //a random value initialisation \n    for (int k=0;k&lt;ints.length;k++) {\n        // if a positive value is matched it is prioritized              \n        if (ints[k]==Math.abs(min) || Math.abs(ints[k])&lt;Math.abs(min)) \n            min=ints[k];            \n    }\n    return  min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19151479,"reputation":1,"user_id":13989292,"display_name":"shikha srivastav"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612196121,"creation_date":1612196121,"answer_id":65996173,"question_id":23760979,"body_markdown":"\tpublic int check() {\r\n\r\n\t\tint target = 0;\r\n\t\tint[] myArray = { 40, 20, 100, 30, -1, 70, -10, 500 };\r\n\t\tint result = myArray[0];\r\n\t\tfor (int i = 0; i &lt; myArray.length; i++) {\r\n\t\t\tif (myArray[i] == target) {\r\n\t\t\t\tresult = myArray[i];\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tif (myArray[i] &gt; 0 &amp;&amp; result &gt;= (myArray[i] - target)) {\r\n\t\t\t\tresult = myArray[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nI have added a check for the positive number itself.\r\nPlease share your views folks!!","title":"Finding closest number to 0","body":"<pre><code>public int check() {\n\n    int target = 0;\n    int[] myArray = { 40, 20, 100, 30, -1, 70, -10, 500 };\n    int result = myArray[0];\n    for (int i = 0; i &lt; myArray.length; i++) {\n        if (myArray[i] == target) {\n            result = myArray[i];\n            return result;\n        }\n        if (myArray[i] &gt; 0 &amp;&amp; result &gt;= (myArray[i] - target)) {\n            result = myArray[i];\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I have added a check for the positive number itself.\nPlease share your views folks!!</p>\n"},{"tags":[],"owner":{"display_name":"user15620977"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620743999,"creation_date":1620716887,"answer_id":67482039,"question_id":23760979,"body_markdown":"    public class ClosesttoZero {\r\n    \t\r\n    \t  static int closZero(int[] ints) {\r\n    \t\t\r\n    \t\tint result=ints[0];\r\n    \t\tfor(int i=1;i&lt;ints.length;i++) {\r\n    \t\t\tif(Math.abs(result)&gt;=Math.abs(ints[i])) {\r\n    \t\t\t\tresult=Math.abs(ints[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\r\n    \t\tint[] ints= {1,1,5,8,4,-9,0,6,7,1};\r\n    \t\tint result=ClosesttoZero.closZero(ints);\r\n    \t\tSystem.out.println(result);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Finding closest number to 0","body":"<pre><code>public class ClosesttoZero {\n    \n      static int closZero(int[] ints) {\n        \n        int result=ints[0];\n        for(int i=1;i&lt;ints.length;i++) {\n            if(Math.abs(result)&gt;=Math.abs(ints[i])) {\n                result=Math.abs(ints[i]);\n            }\n        }\n        return result;\n        \n        \n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        \n        int[] ints= {1,1,5,8,4,-9,0,6,7,1};\n        int result=ClosesttoZero.closZero(ints);\n        System.out.println(result);\n        \n        \n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1660609401,"post_id":67848120,"comment_id":129567549,"body_markdown":"This is wrong, `int[] arr = {9, 3, 4, 5, 6, 7, -1, -2};` returns `1`, which is not in the array.","body":"This is wrong, <code>int[] arr = {9, 3, 4, 5, 6, 7, -1, -2};</code> returns <code>1</code>, which is not in the array."}],"tags":[],"owner":{"account_id":21842602,"reputation":1,"user_id":16135937,"display_name":"Julie"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622884971,"creation_date":1622884971,"answer_id":67848120,"question_id":23760979,"body_markdown":"It can be done simply by making all numbers positive using absolute value then sort the Array:\r\n\r\n\t\t\tint[] arr = {9, 1, 4, 5, 6, 7, -1, -2};\r\n\r\n\t\t\tfor (int i = 0; i &lt; arr.length; ++i)\r\n\t\t\t{\r\n\t\t\t\tarr[i] = Math.abs(arr[i]);\r\n\t\t\t}\r\n\r\n\t\t\tArrays.sort(arr);\r\n\t\t\tSystem.out.println(&quot;Closest value to 0 = &quot; + arr[0]);","title":"Finding closest number to 0","body":"<p>It can be done simply by making all numbers positive using absolute value then sort the Array:</p>\n<pre><code>        int[] arr = {9, 1, 4, 5, 6, 7, -1, -2};\n\n        for (int i = 0; i &lt; arr.length; ++i)\n        {\n            arr[i] = Math.abs(arr[i]);\n        }\n\n        Arrays.sort(arr);\n        System.out.println(&quot;Closest value to 0 = &quot; + arr[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23110444,"reputation":5,"user_id":17218460,"display_name":"Anderson"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634918590,"creation_date":1634904132,"answer_id":69676559,"question_id":23760979,"body_markdown":"```java\r\nimport java.math.*;\r\n\r\nclass Solution {\r\n\r\n    static double closestToZero(double[] ts) {\r\n        if (ts.length == 0)\r\n            return 0;\r\n\r\n        double closestToZero = ts[0];\r\n        double absClosest = Math.abs(closestToZero);\r\n\r\n        for (int i = 0; i &lt; ts.length; i++) {\r\n            double absValue = Math.abs(ts[i]);\r\n\r\n            if (absValue &lt; absClosest || absValue == absClosest &amp;&amp; ts[i] &gt; 0) {\r\n                closestToZero = ts[i];\r\n                absClosest = absValue;\r\n            }\r\n        }\r\n\r\n        return closestToZero;\r\n    }\r\n}\r\n```","title":"Finding closest number to 0","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.math.*;\n\nclass Solution {\n\n    static double closestToZero(double[] ts) {\n        if (ts.length == 0)\n            return 0;\n\n        double closestToZero = ts[0];\n        double absClosest = Math.abs(closestToZero);\n\n        for (int i = 0; i &lt; ts.length; i++) {\n            double absValue = Math.abs(ts[i]);\n\n            if (absValue &lt; absClosest || absValue == absClosest &amp;&amp; ts[i] &gt; 0) {\n                closestToZero = ts[i];\n                absClosest = absValue;\n            }\n        }\n\n        return closestToZero;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1872355,"reputation":193,"user_id":1694323,"accept_rate":71,"display_name":"Reza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640922418,"creation_date":1640922418,"answer_id":70538819,"question_id":23760979,"body_markdown":"This is a very easy to read O(n) solution for this problem.\r\n\r\n        int bigestNegative = Integer.MIN_VALUE;\r\n        int smalestpositive = Integer.MAX_VALUE;\r\n        int result = 0; \r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            //if the zero should be considered as result as well\r\n            if ( temperatures[i] == 0 )  { \r\n               result = 0;\r\n               break;\r\n            } \r\n            if ( temperatures[i] &gt; 0 &amp;&amp; temperatures[i] &lt; smalestpositive )  { \r\n                smalestpositive = temperatures[i];\r\n            } \r\n            if ( temperatures[i] &lt; 0 &amp;&amp; temperatures[i] &gt; bigestNegative )  { \r\n                bigestNegative = temperatures[i];\r\n            } \r\n        }\r\n        if( (Math.abs(bigestNegative)) &lt; (Math.abs(smalestpositive)) &amp;&amp; bigestNegative != Integer.MIN_VALUE)\r\n            result = bigestNegative;\r\n        else\r\n            result = smalestpositive;\r\n        System.out.println( result );","title":"Finding closest number to 0","body":"<p>This is a very easy to read O(n) solution for this problem.</p>\n<pre><code>    int bigestNegative = Integer.MIN_VALUE;\n    int smalestpositive = Integer.MAX_VALUE;\n    int result = 0; \n\n    for (int i = 0; i &lt; n; i++) {\n        //if the zero should be considered as result as well\n        if ( temperatures[i] == 0 )  { \n           result = 0;\n           break;\n        } \n        if ( temperatures[i] &gt; 0 &amp;&amp; temperatures[i] &lt; smalestpositive )  { \n            smalestpositive = temperatures[i];\n        } \n        if ( temperatures[i] &lt; 0 &amp;&amp; temperatures[i] &gt; bigestNegative )  { \n            bigestNegative = temperatures[i];\n        } \n    }\n    if( (Math.abs(bigestNegative)) &lt; (Math.abs(smalestpositive)) &amp;&amp; bigestNegative != Integer.MIN_VALUE)\n        result = bigestNegative;\n    else\n        result = smalestpositive;\n    System.out.println( result );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640925768,"creation_date":1640925768,"answer_id":70539061,"question_id":23760979,"body_markdown":"First convert the int array into stream. Then sort it with default sorting order. Then filter greater than zero &amp; peek the first element &amp; print it.\r\nDo it in declarative style which describes &#39;what to do&#39;, not &#39;how to do&#39;. This style is more readable.\r\n\r\n    int[] data = {2,3,-2};\r\n    IntStream.of(data)\r\n        .filter(i -&gt; i&gt;0)\r\n        .sorted()\r\n        .limit(1)\r\n        .forEach(System.out::println);","title":"Finding closest number to 0","body":"<p>First convert the int array into stream. Then sort it with default sorting order. Then filter greater than zero &amp; peek the first element &amp; print it.\nDo it in declarative style which describes 'what to do', not 'how to do'. This style is more readable.</p>\n<pre><code>int[] data = {2,3,-2};\nIntStream.of(data)\n    .filter(i -&gt; i&gt;0)\n    .sorted()\n    .limit(1)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11125591,"reputation":41,"user_id":8167190,"display_name":"Y.halaoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645203379,"creation_date":1645203379,"answer_id":71177203,"question_id":23760979,"body_markdown":"using Set Collection and abs methode to avoid complex algo\r\n\r\npublic static void main(String[] args) {\t\t\r\n\t\t\r\n\t\tint [] temperature={0};\r\n\r\n\t\t***// will erase double values and order them from small to big***\r\n\t\tSet&lt;Integer&gt; s= new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tif (temperature.length!=0) {\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;temperature.length; i++) {\r\n\t\t\t\r\n\t\t\t\t***// push the abs value to the set*** \r\n\t\t\t\ts.add(Math.abs(temperature[i]));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// remove a zero if exists in the set \r\n\t\t\twhile(s.contains(0)) {\r\n\t\t\t\ts.remove(0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t***// get first (smallest) element of the set : by default it is sorted*** \r\n\t\t\t\r\n\t\t\tif (s.size()!=0) {\r\n\t\t\t\tIterator iter = s.iterator();\r\n\t\t\t\tSystem.out.println(iter.next());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse System.out.println(0);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse System.out.println(0);\r\n\t\t\r\n\t\t\r\n\r\n\t}","title":"Finding closest number to 0","body":"<p>using Set Collection and abs methode to avoid complex algo</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>    int [] temperature={0};\n\n    ***// will erase double values and order them from small to big***\n    Set&lt;Integer&gt; s= new HashSet&lt;Integer&gt;();\n    \n    if (temperature.length!=0) {\n        \n        for(int i=0; i&lt;temperature.length; i++) {\n        \n            ***// push the abs value to the set*** \n            s.add(Math.abs(temperature[i]));\n        }\n        \n        // remove a zero if exists in the set \n        while(s.contains(0)) {\n            s.remove(0);\n        }\n        \n        ***// get first (smallest) element of the set : by default it is sorted*** \n        \n        if (s.size()!=0) {\n            Iterator iter = s.iterator();\n            System.out.println(iter.next());\n        }\n        \n        else System.out.println(0);\n        \n        \n    }\n    \n    else System.out.println(0);\n    \n    \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10583929,"reputation":1,"user_id":14692407,"display_name":"Javier Moreno"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646138385,"creation_date":1646138385,"answer_id":71308634,"question_id":23760979,"body_markdown":"    //My solution priorizing positive numbers contraint\r\n    \r\n    int closestToZero = Integer.MAX_VALUE;//or we\r\n    \r\n        for(int i = 0 ; i &lt; arrayInt.length; i++) {\r\n        \t\t\t\r\n        \t\tif (Math.abs(arrayInt[i]) &lt; closestToZero \r\n        \t\t\t\t\t|| Math.abs(closestToZero) == Math.abs(arrayInt[i]) &amp;&amp; arrayInt[i] &gt; 0 ) {\r\n        \t\t\t\t\r\n        \t\t\tclosestToZero = arrayInt[i];\r\n        \t\t}\r\n        \t}","title":"Finding closest number to 0","body":"<pre><code>//My solution priorizing positive numbers contraint\n\nint closestToZero = Integer.MAX_VALUE;//or we\n\n    for(int i = 0 ; i &lt; arrayInt.length; i++) {\n                \n            if (Math.abs(arrayInt[i]) &lt; closestToZero \n                        || Math.abs(closestToZero) == Math.abs(arrayInt[i]) &amp;&amp; arrayInt[i] &gt; 0 ) {\n                    \n                closestToZero = arrayInt[i];\n            }\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":1,"creation_date":1660506006,"post_id":73354639,"comment_id":129543992,"body_markdown":"Adding some explanation to your code will make it more helpful.","body":"Adding some explanation to your code will make it more helpful."},{"owner":{"account_id":21883662,"reputation":9,"user_id":16171559,"display_name":"Jonathan"},"score":0,"creation_date":1660590094,"post_id":73354639,"comment_id":129563481,"body_markdown":"I&#39;m sorry I just based my answer to an exercise in the hackerearth the requirements are choose the number closest to zero but eliminate the duplicate integer in the array not really sure if this is what he really wanted but it works in the hackerearth exercise with the mentioned requirement","body":"I&#39;m sorry I just based my answer to an exercise in the hackerearth the requirements are choose the number closest to zero but eliminate the duplicate integer in the array not really sure if this is what he really wanted but it works in the hackerearth exercise with the mentioned requirement"},{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1660608857,"post_id":73354639,"comment_id":129567479,"body_markdown":"Specifically, how does your code work, and why is it a superior option to the other 25 answers that have been posted since the question was asked in 2014. You should [edit] your question to include supplementary details or it&#39;s likely to be deleted.","body":"Specifically, how does your code work, and why is it a superior option to the other 25 answers that have been posted since the question was asked in 2014. You should <a href=\"https://stackoverflow.com/posts/73354639/edit\">edit</a> your question to include supplementary details or it&#39;s likely to be deleted."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660734271,"post_id":73354639,"comment_id":129601137,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73354639/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21883662,"reputation":9,"user_id":16171559,"display_name":"Jonathan"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660505963,"creation_date":1660505963,"answer_id":73354639,"question_id":23760979,"body_markdown":"    static int nearToZero(int[] A){\r\n    Arrays.sort(A);\r\n\tint ans = 0;\r\n\tList&lt;Integer&gt; list = Arrays.stream(A).boxed().collect(Collectors.toList());\r\n\tList&lt;Integer&gt; toRemove = new ArrayList&lt;&gt;();\r\n\tList&lt;Integer&gt; newList = new ArrayList&lt;&gt;();\r\n\tfor(int num: list){\r\n\t\tif(newList.contains(num)) toRemove.add(num);\r\n\t\telse newList.add(num);\r\n\t}\r\n\tlist.removeAll(toRemove);\r\n\tfor(int num : list){\r\n\t\tif(num == 0 ) return 0;\r\n\t\tif(ans == 0 )ans = num;\r\n\t\tif(num &lt; 0 &amp;&amp; ans &lt; num) ans = num;\r\n\t\tif(num &lt; ans) ans = num;\r\n\t\tif(num &gt; 0 &amp;&amp; Math.abs(ans) &gt;= num) ans = num;\r\n\t}\r\n\treturn ans;\r\n\t}","title":"Finding closest number to 0","body":"<pre><code>static int nearToZero(int[] A){\nArrays.sort(A);\nint ans = 0;\nList&lt;Integer&gt; list = Arrays.stream(A).boxed().collect(Collectors.toList());\nList&lt;Integer&gt; toRemove = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; newList = new ArrayList&lt;&gt;();\nfor(int num: list){\n    if(newList.contains(num)) toRemove.add(num);\n    else newList.add(num);\n}\nlist.removeAll(toRemove);\nfor(int num : list){\n    if(num == 0 ) return 0;\n    if(ans == 0 )ans = num;\n    if(num &lt; 0 &amp;&amp; ans &lt; num) ans = num;\n    if(num &lt; ans) ans = num;\n    if(num &gt; 0 &amp;&amp; Math.abs(ans) &gt;= num) ans = num;\n}\nreturn ans;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19965421,"reputation":74,"user_id":14632102,"display_name":"Hamza NADIF"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677490187,"creation_date":1677490187,"answer_id":75578710,"question_id":23760979,"body_markdown":"Powerful solution in java :\r\n\r\n    static int closestToZero(int[] ints) {\r\n\r\n\t\tif((ints == null) || (ints.length == 0)){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tint min = Arrays.stream(ints).min().getAsInt();\r\n\t\tint abs = min;\r\n        for(int v:ints){\r\n\t\t\tif(v == Math.abs(min)){ \r\n              abs = Math.abs(min);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn abs;\r\n    }\r\n","title":"Finding closest number to 0","body":"<p>Powerful solution in java :</p>\n<pre><code>static int closestToZero(int[] ints) {\n\n    if((ints == null) || (ints.length == 0)){\n        return 0;\n    }\n    int min = Arrays.stream(ints).min().getAsInt();\n    int abs = min;\n    for(int v:ints){\n        if(v == Math.abs(min)){ \n          abs = Math.abs(min);\n        }\n    }\n\n\n    return abs;\n}\n</code></pre>\n"}],"owner":{"account_id":3826124,"reputation":185,"user_id":3172930,"accept_rate":67,"display_name":"user3172930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147004,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":23761353,"answer_count":27,"score":11,"last_activity_date":1677490187,"creation_date":1400591958,"question_id":23760979,"body_markdown":"I have an array of integers, and I need to find the one that&#39;s closest to zero (positive integers take priority over negative ones.)\r\n\r\nHere is the code I have so far:\r\n\r\n\r\n    public class CloseToZero {    \r\n    \tpublic static void main(String[] args) {    \r\n    \t\tint[] data = {2,3,-2};    \r\n    \t\tint curr = 0;    \r\n    \t\tint near = data[0];     \r\n    \t\t// find the element nearest to zero    \r\n    \t\tfor ( int i=0; i &lt; data.length; i++ ){    \r\n    \t\t\tcurr = data[i] * data[i];     \r\n    \t\t\tif ( curr &lt;= (near * near) )  {     \r\n    \t\t\t\tnear = data[i]; \r\n    \t\t\t}     \r\n    \t\t}    \r\n    \t\tSystem.out.println( near );    \r\n    \t}    \r\n    }\r\n\r\nCurrently I&#39;m getting a result of -2 but I should be getting 2. What am I doing wrong?","title":"Finding closest number to 0","body":"<p>I have an array of integers, and I need to find the one that's closest to zero (positive integers take priority over negative ones.)</p>\n<p>Here is the code I have so far:</p>\n<pre><code>public class CloseToZero {    \n    public static void main(String[] args) {    \n        int[] data = {2,3,-2};    \n        int curr = 0;    \n        int near = data[0];     \n        // find the element nearest to zero    \n        for ( int i=0; i &lt; data.length; i++ ){    \n            curr = data[i] * data[i];     \n            if ( curr &lt;= (near * near) )  {     \n                near = data[i]; \n            }     \n        }    \n        System.out.println( near );    \n    }    \n}\n</code></pre>\n<p>Currently I'm getting a result of -2 but I should be getting 2. What am I doing wrong?</p>\n"},{"tags":["java","volatile","specifications"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1481148011,"post_id":41026442,"comment_id":69263737,"body_markdown":"`never greater than` - until it overflows :)","body":"<code>never greater than</code> - until it overflows :)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481148171,"post_id":41026442,"comment_id":69263819,"body_markdown":"@ZhongYu *one thread repeatedly calls the method one (but no more `than Integer.MAX_VALUE` times in all)*","body":"@ZhongYu <i>one thread repeatedly calls the method one (but no more <code>than Integer.MAX_VALUE</code> times in all)</i>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481149559,"post_id":41026442,"comment_id":69264427,"body_markdown":"There&#39;s no contradiction because the second statement is referring to how the values are *observed*, and two values can never be observed by the same thread at the same time. But I&#39;m equally puzzled by the example in question. It doesn&#39;t seem to demonstrate anything.","body":"There&#39;s no contradiction because the second statement is referring to how the values are <i>observed</i>, and two values can never be observed by the same thread at the same time. But I&#39;m equally puzzled by the example in question. It doesn&#39;t seem to demonstrate anything."},{"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"score":0,"creation_date":1481272635,"post_id":41026442,"comment_id":69319074,"body_markdown":"Thanks everyone for your answers and comments. The discussion below helped me to understand the idea behind volatile much better","body":"Thanks everyone for your answers and comments. The discussion below helped me to understand the idea behind volatile much better"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1481141988,"post_id":41026590,"comment_id":69260510,"body_markdown":"None of this answers OP&#39;s question.","body":"None of this answers OP&#39;s question."},{"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"score":0,"creation_date":1481142366,"post_id":41026590,"comment_id":69260733,"body_markdown":"Well, that&#39;s general info I&#39;ve already read. Some data race condition would be a good case for volatile usage. But why is this certain example is in specifications if it&#39;s not much different from previous ones?","body":"Well, that&#39;s general info I&#39;ve already read. Some data race condition would be a good case for volatile usage. But why is this certain example is in specifications if it&#39;s not much different from previous ones?"},{"owner":{"account_id":8996375,"reputation":158,"user_id":6706626,"accept_rate":54,"display_name":"Rolando F"},"score":0,"creation_date":1481142398,"post_id":41026590,"comment_id":69260761,"body_markdown":"He asked: &quot;Why use volatile then?&quot;, he is not sure, why or when a volatile keyword should be used. Knowing well the concepts behind the code will help him to address his question","body":"He asked: &quot;Why use volatile then?&quot;, he is not sure, why or when a volatile keyword should be used. Knowing well the concepts behind the code will help him to address his question"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1481143291,"post_id":41026590,"comment_id":69261218,"body_markdown":"@humme1, I think you might want to consider the implications of &quot;not much different&quot; compared to &quot;exactly the same.&quot;","body":"@humme1, I think you might want to consider the implications of &quot;not much different&quot; compared to &quot;exactly the same.&quot;"},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1481144126,"post_id":41026590,"comment_id":69261731,"body_markdown":"5. none of such four is quarantine of synchronisation, atomicity etc. Mamy programmers mean &quot;volatile is exact toot to multi thread programming&quot;. NO, it isn&#39;t.","body":"5. none of such four is quarantine of synchronisation, atomicity etc. Mamy programmers mean &quot;volatile is exact toot to multi thread programming&quot;. NO, it isn&#39;t."}],"tags":[],"owner":{"account_id":8996375,"reputation":158,"user_id":6706626,"accept_rate":54,"display_name":"Rolando F"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481141859,"creation_date":1481141859,"answer_id":41026590,"question_id":41026442,"body_markdown":"All dependes on how you are using it. The volatile keyword in Java is used as an indicator to Java compiler and Thread that do not cache value of this variable and always read it from main memory. So if you want to share any variable in which read and write operation is atomic by implementation e.g. read and write in an int or a boolean variable then  you can declare them as volatile variable.\r\n\r\nFrom Java 5 along with major changes like Autoboxing, Enum, Generics and Variable arguments , Java introduces some change in Java Memory Model (JMM), Which guarantees visibility of changes made from one thread to another also as &quot;happens-before&quot; which solves the problem of memory writes that happen in one thread can &quot;leak through&quot; and be seen by another thread.\r\n\r\nThe Java volatile keyword cannot be used with method or class and it can only be used with a variable. Java volatile keyword also guarantees visibility and ordering, after Java 5 write to any volatile variable happens before any read into the volatile variable. By the way use of volatile keyword also prevents compiler or JVM from the reordering of code or moving away them from synchronization barrier.\r\n\r\nImportant points on Volatile keyword in Java\r\n\r\n1. The volatile keyword in Java is only application to a variable and using volatile keyword with class and method is illegal.\r\n\r\n2. volatile keyword in Java guarantees that value of the volatile variable will always be read from main memory and not from Thread&#39;s local cache.\r\n\r\n3. In Java reads and writes are atomic for all variables declared using Java volatile keyword (including long and double variables).\r\n\r\n4. Using the volatile keyword in Java on variables reduces the risk of memory consistency errors because any write to a volatile variable in Java establishes a happens-before relationship with subsequent reads of that same variable.\r\n\r\n\r\n","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>All dependes on how you are using it. The volatile keyword in Java is used as an indicator to Java compiler and Thread that do not cache value of this variable and always read it from main memory. So if you want to share any variable in which read and write operation is atomic by implementation e.g. read and write in an int or a boolean variable then  you can declare them as volatile variable.</p>\n\n<p>From Java 5 along with major changes like Autoboxing, Enum, Generics and Variable arguments , Java introduces some change in Java Memory Model (JMM), Which guarantees visibility of changes made from one thread to another also as \"happens-before\" which solves the problem of memory writes that happen in one thread can \"leak through\" and be seen by another thread.</p>\n\n<p>The Java volatile keyword cannot be used with method or class and it can only be used with a variable. Java volatile keyword also guarantees visibility and ordering, after Java 5 write to any volatile variable happens before any read into the volatile variable. By the way use of volatile keyword also prevents compiler or JVM from the reordering of code or moving away them from synchronization barrier.</p>\n\n<p>Important points on Volatile keyword in Java</p>\n\n<ol>\n<li><p>The volatile keyword in Java is only application to a variable and using volatile keyword with class and method is illegal.</p></li>\n<li><p>volatile keyword in Java guarantees that value of the volatile variable will always be read from main memory and not from Thread's local cache.</p></li>\n<li><p>In Java reads and writes are atomic for all variables declared using Java volatile keyword (including long and double variables).</p></li>\n<li><p>Using the volatile keyword in Java on variables reduces the risk of memory consistency errors because any write to a volatile variable in Java establishes a happens-before relationship with subsequent reads of that same variable.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"score":0,"creation_date":1481144328,"post_id":41026894,"comment_id":69261851,"body_markdown":"Did you mean increments would be seen less often?","body":"Did you mean increments would be seen less often?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481145258,"post_id":41026894,"comment_id":69262366,"body_markdown":"What does the spec mean by *Another approach would be to declare `i` and `j` to be `volatile`*? Another approach to what? Which problem is this solving?","body":"What does the spec mean by <i>Another approach would be to declare <code>i</code> and <code>j</code> to be <code>volatile</code></i>? Another approach to what? Which problem is this solving?"},{"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"score":0,"creation_date":1481195521,"post_id":41026894,"comment_id":69283261,"body_markdown":"In fact it doesn&#39;t print 0 even without volatile, maybe because thread cache is still fast enough. That&#39;s why it looks confusing","body":"In fact it doesn&#39;t print 0 even without volatile, maybe because thread cache is still fast enough. That&#39;s why it looks confusing"}],"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481143679,"creation_date":1481142959,"answer_id":41026894,"question_id":41026442,"body_markdown":"At any one time, then `j` is not greater than `i`.\r\n\r\nThis is different from what method two observes because it is accessing the variables `i` and `j` at different times. `i` is accessed first, and then `j` is accessed slightly later.\r\n\r\nThis isn&#39;t a direct alternative to the synchronized version because the behavior is different. One difference from not using volatile is that without volatile, values of 0 could always be printed. The increment doesn&#39;t ever need to be visible.\r\n\r\nThe example demonstrates the ordering of volatile accesses. An example that requires this could be something like:\r\n\r\n    volatile boolean flag = false;\r\n    volatile int value;\r\n\r\n    // Thread 1\r\n    if(!flag) {\r\n        value = ...;\r\n        flag = true;\r\n    }\r\n\r\n    // Thread 2\r\n    if(flag) {\r\n        System.out.println(value);\r\n        flag = false;\r\n    }\r\n\r\nand thread 2 reads the value that thread 1 set rather than an old value.","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>At any one time, then <code>j</code> is not greater than <code>i</code>.</p>\n\n<p>This is different from what method two observes because it is accessing the variables <code>i</code> and <code>j</code> at different times. <code>i</code> is accessed first, and then <code>j</code> is accessed slightly later.</p>\n\n<p>This isn't a direct alternative to the synchronized version because the behavior is different. One difference from not using volatile is that without volatile, values of 0 could always be printed. The increment doesn't ever need to be visible.</p>\n\n<p>The example demonstrates the ordering of volatile accesses. An example that requires this could be something like:</p>\n\n<pre><code>volatile boolean flag = false;\nvolatile int value;\n\n// Thread 1\nif(!flag) {\n    value = ...;\n    flag = true;\n}\n\n// Thread 2\nif(flag) {\n    System.out.println(value);\n    flag = false;\n}\n</code></pre>\n\n<p>and thread 2 reads the value that thread 1 set rather than an old value.</p>\n"},{"tags":[],"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481143610,"creation_date":1481143348,"answer_id":41026994,"question_id":41026442,"body_markdown":"&gt; How is j never greater than i?\r\n\r\nLet&#39;s say you execute `one()` only once. During the execution of this method, i is always incremented before j as the increment operations happen one after the other.\r\nIf you are executing `one()` concurrently, each individual method call will wait for other methods in the execution queue to finish writing their values to i or j, depending on which variable the currently executing method is trying to increment. So, all writes to i happen one after the other, and all writes to j happen one after the other. And since within the method body itself i is incremented before j, at a given instant, j will never be greater than i.\r\n\r\n&gt; any given invocation of method two might observe a value for j that is much greater than the value observed for i, how?\r\n\r\nIf method `one()` is being executed in the background while you call `two()`, between the time when `i` is read and then `j` is read, the method one can be executed multiple times. So, when the value of `i` is read it could be the result some invocation of `one()` that happened at time t=0, and when then value of `j` is read, it could be the result of an invocation of `one()` that happened later in time, for example at t=10. Hence, `j` can be greater than `i` in this case in the `println` statement.\r\n\r\n&gt; Why use volatile in lieu of synchronized?\r\n\r\nI will not list all the reasons why anyone should use `volatile` instead of a `synchronized` block. But bear in mind that `volatile` guarantees atomic access to that particular field alone, and does not ensure the atomic execution of a block of code that is not marked as `synchronized`. In this example, access to i and j are synchronized, but the overall operation {i++;j++} isn&#39;t synchronized hence it *apparently* (I use apparently since it is not exactly the same but looks similar) gives the same results as without using the `volatile` keyword.\r\n\r\n","title":"Can&#39;t understand example of volatile in Java specification","body":"<blockquote>\n  <p>How is j never greater than i?</p>\n</blockquote>\n\n<p>Let's say you execute <code>one()</code> only once. During the execution of this method, i is always incremented before j as the increment operations happen one after the other.\nIf you are executing <code>one()</code> concurrently, each individual method call will wait for other methods in the execution queue to finish writing their values to i or j, depending on which variable the currently executing method is trying to increment. So, all writes to i happen one after the other, and all writes to j happen one after the other. And since within the method body itself i is incremented before j, at a given instant, j will never be greater than i.</p>\n\n<blockquote>\n  <p>any given invocation of method two might observe a value for j that is much greater than the value observed for i, how?</p>\n</blockquote>\n\n<p>If method <code>one()</code> is being executed in the background while you call <code>two()</code>, between the time when <code>i</code> is read and then <code>j</code> is read, the method one can be executed multiple times. So, when the value of <code>i</code> is read it could be the result some invocation of <code>one()</code> that happened at time t=0, and when then value of <code>j</code> is read, it could be the result of an invocation of <code>one()</code> that happened later in time, for example at t=10. Hence, <code>j</code> can be greater than <code>i</code> in this case in the <code>println</code> statement.</p>\n\n<blockquote>\n  <p>Why use volatile in lieu of synchronized?</p>\n</blockquote>\n\n<p>I will not list all the reasons why anyone should use <code>volatile</code> instead of a <code>synchronized</code> block. But bear in mind that <code>volatile</code> guarantees atomic access to that particular field alone, and does not ensure the atomic execution of a block of code that is not marked as <code>synchronized</code>. In this example, access to i and j are synchronized, but the overall operation {i++;j++} isn't synchronized hence it <em>apparently</em> (I use apparently since it is not exactly the same but looks similar) gives the same results as without using the <code>volatile</code> keyword.</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481145625,"post_id":41027459,"comment_id":69262571,"body_markdown":"The example clearly states that `one()` is executed by a single thread repeatedly, because the issue under discussion is ordering, not atomicity. What&#39;s unclear is how the example demonstrates the effect of `volatile` with regards to ordering.","body":"The example clearly states that <code>one()</code> is executed by a single thread repeatedly, because the issue under discussion is ordering, not atomicity. What&#39;s unclear is how the example demonstrates the effect of <code>volatile</code> with regards to ordering."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1481146171,"post_id":41027459,"comment_id":69262837,"body_markdown":"@shmosel You have a point with the single thread execution. I&#39;ll fix that. As for the latter, is there a good example program that can prove `volatile`&#39;s ordering guarantees? You can demonstrate that the ordering guarantees held for any one execution, but at least from a superficial level proving that it *always* happens without pointing to the standard (or the compiler/JIT source code) seems difficult","body":"@shmosel You have a point with the single thread execution. I&#39;ll fix that. As for the latter, is there a good example program that can prove <code>volatile</code>&#39;s ordering guarantees? You can demonstrate that the ordering guarantees held for any one execution, but at least from a superficial level proving that it <i>always</i> happens without pointing to the standard (or the compiler/JIT source code) seems difficult"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481147020,"post_id":41027459,"comment_id":69263256,"body_markdown":"Take a look at @fgb&#39;s answer or [here](https://github.com/google/guava/blob/master/guava/src/com/google/common/base/Suppliers.java#L110) for a real world case.","body":"Take a look at @fgb&#39;s answer or <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/base/Suppliers.java#L110\" rel=\"nofollow noreferrer\">here</a> for a real world case."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1481147397,"post_id":41027459,"comment_id":69263445,"body_markdown":"@shmosel I was more aiming for an example program that can *prove* what is said in the standard. Those are examples of `volatile` being used according to how the standard defined it, but someone less enlightened than you may argue that &quot;Yeah, it worked *that* time, but will it work *every* time? Maybe the implementation is buggy!&quot; That&#39;s a pointless discussion, though... In any case, thanks for your comments!","body":"@shmosel I was more aiming for an example program that can <i>prove</i> what is said in the standard. Those are examples of <code>volatile</code> being used according to how the standard defined it, but someone less enlightened than you may argue that &quot;Yeah, it worked <i>that</i> time, but will it work <i>every</i> time? Maybe the implementation is buggy!&quot; That&#39;s a pointless discussion, though... In any case, thanks for your comments!"},{"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"score":1,"creation_date":1481148031,"post_id":41027459,"comment_id":69263744,"body_markdown":"The problem of proving volatile order guarantee by a program is not even decidable, not talking tractable. So from theoretical point of view, pointing to the standard is the only way to _prove_ the volatile ordering guarantees (if it doesn&#39;t comply with standard, it is a platform bug).","body":"The problem of proving volatile order guarantee by a program is not even decidable, not talking tractable. So from theoretical point of view, pointing to the standard is the only way to <i>prove</i> the volatile ordering guarantees (if it doesn&#39;t comply with standard, it is a platform bug)."},{"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"score":1,"creation_date":1481148036,"post_id":41027459,"comment_id":69263748,"body_markdown":"In practice, you can only write various test cases to get some confidence there are no bugs (but such weird bugs do happen). volatile is supported by underlying OS/hardware and translation to these can be found in JDK sources. Regarding hardware manufacturer tests, I don&#39;t think that one can find a lot with public access. The best proof is the fact so many complex Java servers and programs do work properly and do not crash every moment.","body":"In practice, you can only write various test cases to get some confidence there are no bugs (but such weird bugs do happen). volatile is supported by underlying OS/hardware and translation to these can be found in JDK sources. Regarding hardware manufacturer tests, I don&#39;t think that one can find a lot with public access. The best proof is the fact so many complex Java servers and programs do work properly and do not crash every moment."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1481148885,"post_id":41027459,"comment_id":69264144,"body_markdown":"It&#39;s not possible to absolutely prove any guarantee empirically.","body":"It&#39;s not possible to absolutely prove any guarantee empirically."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1481150557,"post_id":41027459,"comment_id":69264861,"body_markdown":"@shmosel Right, which is why I was uncertain about how to address the second part of your first comment.","body":"@shmosel Right, which is why I was uncertain about how to address the second part of your first comment."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1481150642,"post_id":41027459,"comment_id":69264895,"body_markdown":"@FedorLosev Huh, didn&#39;t know about the undecidability of that problem, but it&#39;s not entirely unexpected given how many other things are undecidable... You raise good points though.","body":"@FedorLosev Huh, didn&#39;t know about the undecidability of that problem, but it&#39;s not entirely unexpected given how many other things are undecidable... You raise good points though."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481150653,"post_id":41027459,"comment_id":69264899,"body_markdown":"There&#39;s a difference between demonstrating and proving. The second example in the spec (with `synchronized`) does an excellent job at demonstrating something.","body":"There&#39;s a difference between demonstrating and proving. The second example in the spec (with <code>synchronized</code>) does an excellent job at demonstrating something."},{"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"score":0,"creation_date":1481153385,"post_id":41027459,"comment_id":69265992,"body_markdown":"@shmosel that is right, in reality we live in Heisenberg&#39;s unpredictable world. But in this case, the problem is even harder and can not be solved even by hypothetical program in an ideal world, as shown by Rice&#39;s theorem. There are things that are provable in theory by an ideal program, like that `i=1+1` -&gt; i==2, this one is not.","body":"@shmosel that is right, in reality we live in Heisenberg&#39;s unpredictable world. But in this case, the problem is even harder and can not be solved even by hypothetical program in an ideal world, as shown by Rice&#39;s theorem. There are things that are provable in theory by an ideal program, like that <code>i=1+1</code> -&gt; i==2, this one is not."},{"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"score":0,"creation_date":1481154488,"post_id":41027459,"comment_id":69266385,"body_markdown":"Need to note, though, decidability results do not apply directly to finite program sets we have today and undecidable becomes just intractable.","body":"Need to note, though, decidability results do not apply directly to finite program sets we have today and undecidable becomes just intractable."}],"tags":[],"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481145907,"creation_date":1481145126,"answer_id":41027459,"question_id":41026442,"body_markdown":"&gt;How is\r\n&gt;\r\n&gt;&gt;`j` never greater than `i`\r\n&gt;\r\n&gt;, but at the same time\r\n&gt;\r\n&gt;&gt;any given invocation of method two might observe a value for `j` that is much &gt;&gt;greater than the value observed for `i`\r\n&gt;\r\n&gt;??\r\n\r\nThe first statement is always true at any given *moment* in the program&#39;s execution, and the second statement may be true for any given *interval* in the program&#39;s execution.\r\n\r\nWhen a volatile variable is written to, writes to both it and everything before it must become visible to other threads (In Java 5+, at least. The explanation doesn&#39;t really change much for versions of Java before that, though). Thus, the increment of `i` *must* be visible by the time `j` is incremented, meaning that `j` can never appear greater than `i` to other threads.\r\n\r\nThe reads of `i` and `j`, though, are not guaranteed to occur at a single moment in the program execution. The read of `i` and `j` may appear to occur very close to each other to the thread executing `two()`, but in reality some arbitrary amount of time may have passed between the reads. For example, `two()` may read `i` when `i = 5` and `j = 5`, but then get &quot;frozen&quot; while other threads execute, changing the values of `i` and `j` to, say, `20` and `19`, respectively. When `two()` resumes, it picks up where it left off and reads `j`, which now has a value of `19`. `two()` doesn&#39;t re-read `i` because as far as it is concerned there was no break in execution, so there is no need to undergo the extra work.\r\n\r\n&gt;Why use volatile then?\r\n\r\nWhile both `volatile` and `synchronized` provide visibility guarantees, the precise semantics are slightly different. `volatile` guarantees that changes made to the variable will be instantly visible to all threads, while `synchronized` guarantees that changes made in its block will be visible to all threads **as long as they synchronize on the same lock**. `synchronized` also provides additional atomicity guarantees that `volatile` does not.\r\n\r\n&gt;Why is this example here as an alternative to synchronized?\r\n\r\n`volatile` is a viable alternative to `synchronized` only if `one()` is executed by a single thread, which is the case here. In this case, only a single thread is ever writing to `i` and `j`, so there is no need for the atomicity guarantees `synchronized` provides. If `one()` were executed by multiple threads, `volatile` wouldn&#39;t work because the read-add-store operations that make up an increment must occur atomically, and `volatile` does not guarantee that.","title":"Can&#39;t understand example of volatile in Java specification","body":"<blockquote>\n  <p>How is</p>\n  \n  <blockquote>\n    <p><code>j</code> never greater than <code>i</code></p>\n  </blockquote>\n  \n  <p>, but at the same time</p>\n  \n  <blockquote>\n    <p>any given invocation of method two might observe a value for <code>j</code> that is much >>greater than the value observed for <code>i</code></p>\n  </blockquote>\n  \n  <p>??</p>\n</blockquote>\n\n<p>The first statement is always true at any given <em>moment</em> in the program's execution, and the second statement may be true for any given <em>interval</em> in the program's execution.</p>\n\n<p>When a volatile variable is written to, writes to both it and everything before it must become visible to other threads (In Java 5+, at least. The explanation doesn't really change much for versions of Java before that, though). Thus, the increment of <code>i</code> <em>must</em> be visible by the time <code>j</code> is incremented, meaning that <code>j</code> can never appear greater than <code>i</code> to other threads.</p>\n\n<p>The reads of <code>i</code> and <code>j</code>, though, are not guaranteed to occur at a single moment in the program execution. The read of <code>i</code> and <code>j</code> may appear to occur very close to each other to the thread executing <code>two()</code>, but in reality some arbitrary amount of time may have passed between the reads. For example, <code>two()</code> may read <code>i</code> when <code>i = 5</code> and <code>j = 5</code>, but then get \"frozen\" while other threads execute, changing the values of <code>i</code> and <code>j</code> to, say, <code>20</code> and <code>19</code>, respectively. When <code>two()</code> resumes, it picks up where it left off and reads <code>j</code>, which now has a value of <code>19</code>. <code>two()</code> doesn't re-read <code>i</code> because as far as it is concerned there was no break in execution, so there is no need to undergo the extra work.</p>\n\n<blockquote>\n  <p>Why use volatile then?</p>\n</blockquote>\n\n<p>While both <code>volatile</code> and <code>synchronized</code> provide visibility guarantees, the precise semantics are slightly different. <code>volatile</code> guarantees that changes made to the variable will be instantly visible to all threads, while <code>synchronized</code> guarantees that changes made in its block will be visible to all threads <strong>as long as they synchronize on the same lock</strong>. <code>synchronized</code> also provides additional atomicity guarantees that <code>volatile</code> does not.</p>\n\n<blockquote>\n  <p>Why is this example here as an alternative to synchronized?</p>\n</blockquote>\n\n<p><code>volatile</code> is a viable alternative to <code>synchronized</code> only if <code>one()</code> is executed by a single thread, which is the case here. In this case, only a single thread is ever writing to <code>i</code> and <code>j</code>, so there is no need for the atomicity guarantees <code>synchronized</code> provides. If <code>one()</code> were executed by multiple threads, <code>volatile</code> wouldn't work because the read-add-store operations that make up an increment must occur atomically, and <code>volatile</code> does not guarantee that.</p>\n"},{"tags":[],"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1481275863,"creation_date":1481146190,"answer_id":41027717,"question_id":41026442,"body_markdown":"I think the point of the example is to emphasize that you need to take care and ensure the order when using volatile; the behavior may be counter-intuitive and the example demonstrates it.\r\n\r\nI agree that the wording there is a bit obscure and it is possible to provide more explicit and clear example for multiple cases, but there is no contradiction.\r\n\r\nThe shared value is the value at the same moment. If two threads read values of i and of j at exactly the same moment, the value of j will never be observed greater than i. volatile guarantees keeping order of reads and updates as in the code. \r\n\r\nHowever, in the sample, print `+ i` and `+ j` are two different operations separated by an arbitrary amount of time; hence, j can be observed larger than i, because it can be updated arbitrary number of times after the read of i and before the read of j.\r\n\r\nThe point of using volatile is that when you concurrently update and access volatile variables with the right order, you can make assumptions that are not possible in principle without volatile. \r\n\r\nIn the sample above, the order of access in `two()` does not allow to conclude with a confidence which variable is greater or equal. \r\n\r\nConsider, however, if the sample was changed to `System.out.println(&quot;j=&quot; + j + &quot; i=&quot; + i);`\r\n\r\nHere you **can** assert with a confidence that the printed value of j is never larger than the printed value of i. This assumption will **not** hold without `volatile` for two reasons.\r\n\r\nFirst, updates i++ and j++ can be executed by compiler and hardware in an arbitrary order and in reality may execute as j++;i++. If from other thread you then access j and i after `j++` but before `i++`, you can observe, say, `j=1` and `i=0`, regardless of the access order. `volatile` guarantees that this will not happen and it will execute operations in the order that is written in your source. \r\n\r\nSecond, volatile guarantees that another thread will see most recent values changed by another thread, as long as it accesses it in the later point of time after the last update. Without volatile, there can be no assumptions about the observed value. In theory, the value can stay for another thread zero forever. The program may print two zeros, zero and an arbitrary number, etc. from past updates; the observed value in other threads may be less than the current value that the updater thread sees after an update. volatile guarantees that you will see the value in a second thread after the update in the first.\r\n\r\nWhile the second guarantee may seem as a consequence of the first (the order guarantee), they are in fact orthogonal.\r\n\r\nRegarding `synchronized`, it allows to execute a sequence of non-atomic operations, like `i++;j++` as an atomic operation, e.g. if one thread does synchronized `i++;j++` and another does synchronized `System.out.println(&quot;i=&quot; + i + &quot; j=&quot; + j);`, the first thread may not perform increment sequence while the second prints and the result will be correct. \r\n\r\nBut this comes at a cost. First, synhronized has a performance penalty by itself. Second, more important, not always such behavior is required and the blocked thread wastes time, reducing the system throughput (e.g. you can do so many i++;j++; during System.out).  \r\n","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>I think the point of the example is to emphasize that you need to take care and ensure the order when using volatile; the behavior may be counter-intuitive and the example demonstrates it.</p>\n\n<p>I agree that the wording there is a bit obscure and it is possible to provide more explicit and clear example for multiple cases, but there is no contradiction.</p>\n\n<p>The shared value is the value at the same moment. If two threads read values of i and of j at exactly the same moment, the value of j will never be observed greater than i. volatile guarantees keeping order of reads and updates as in the code. </p>\n\n<p>However, in the sample, print <code>+ i</code> and <code>+ j</code> are two different operations separated by an arbitrary amount of time; hence, j can be observed larger than i, because it can be updated arbitrary number of times after the read of i and before the read of j.</p>\n\n<p>The point of using volatile is that when you concurrently update and access volatile variables with the right order, you can make assumptions that are not possible in principle without volatile. </p>\n\n<p>In the sample above, the order of access in <code>two()</code> does not allow to conclude with a confidence which variable is greater or equal. </p>\n\n<p>Consider, however, if the sample was changed to <code>System.out.println(\"j=\" + j + \" i=\" + i);</code></p>\n\n<p>Here you <strong>can</strong> assert with a confidence that the printed value of j is never larger than the printed value of i. This assumption will <strong>not</strong> hold without <code>volatile</code> for two reasons.</p>\n\n<p>First, updates i++ and j++ can be executed by compiler and hardware in an arbitrary order and in reality may execute as j++;i++. If from other thread you then access j and i after <code>j++</code> but before <code>i++</code>, you can observe, say, <code>j=1</code> and <code>i=0</code>, regardless of the access order. <code>volatile</code> guarantees that this will not happen and it will execute operations in the order that is written in your source. </p>\n\n<p>Second, volatile guarantees that another thread will see most recent values changed by another thread, as long as it accesses it in the later point of time after the last update. Without volatile, there can be no assumptions about the observed value. In theory, the value can stay for another thread zero forever. The program may print two zeros, zero and an arbitrary number, etc. from past updates; the observed value in other threads may be less than the current value that the updater thread sees after an update. volatile guarantees that you will see the value in a second thread after the update in the first.</p>\n\n<p>While the second guarantee may seem as a consequence of the first (the order guarantee), they are in fact orthogonal.</p>\n\n<p>Regarding <code>synchronized</code>, it allows to execute a sequence of non-atomic operations, like <code>i++;j++</code> as an atomic operation, e.g. if one thread does synchronized <code>i++;j++</code> and another does synchronized <code>System.out.println(\"i=\" + i + \" j=\" + j);</code>, the first thread may not perform increment sequence while the second prints and the result will be correct. </p>\n\n<p>But this comes at a cost. First, synhronized has a performance penalty by itself. Second, more important, not always such behavior is required and the blocked thread wastes time, reducing the system throughput (e.g. you can do so many i++;j++; during System.out).  </p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481148515,"post_id":41028071,"comment_id":69263971,"body_markdown":"The stated problem was that *method `two` could occasionally print a value for `j` that is greater than the value of `i`*. Yet the use of `volatile` in the final example doesn&#39;t solve that problem.","body":"The stated problem was that <i>method <code>two</code> could occasionally print a value for <code>j</code> that is greater than the value of <code>i</code></i>. Yet the use of <code>volatile</code> in the final example doesn&#39;t solve that problem."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1481148914,"post_id":41028071,"comment_id":69264159,"body_markdown":"It is just a short, informal explanation that `volatile` guarantees some inter-thread consistency -- which is to be defined precisely in another chapter.","body":"It is just a short, informal explanation that <code>volatile</code> guarantees some inter-thread consistency -- which is to be defined precisely in another chapter."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1481149227,"post_id":41028071,"comment_id":69264299,"body_markdown":"I understand that the possibility of `j` being observed as greater than `i` is not a contradiction to `volatile` semantics. What I don&#39;t understand is what the example is intended to demonstrate.","body":"I understand that the possibility of <code>j</code> being observed as greater than <code>i</code> is not a contradiction to <code>volatile</code> semantics. What I don&#39;t understand is what the example is intended to demonstrate."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1481149453,"post_id":41028071,"comment_id":69264377,"body_markdown":"It tries to say that `volatile` guarantees some ordering, compared to &quot;normal&quot; read/write - but not as strong as `synchronized`.","body":"It tries to say that <code>volatile</code> guarantees some ordering, compared to &quot;normal&quot; read/write - but not as strong as <code>synchronized</code>."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1481149750,"post_id":41028071,"comment_id":69264510,"body_markdown":"note that mutual exclusion can be entirely implemented with volatile read/write - Dekker&#39;s algorithm. So in this example, it is possible to implement the program with only `volatile` (and no `synchronized`) such that `two()` always observes `i==j`","body":"note that mutual exclusion can be entirely implemented with volatile read/write - Dekker&#39;s algorithm. So in this example, it is possible to implement the program with only <code>volatile</code> (and no <code>synchronized</code>) such that <code>two()</code> always observes <code>i==j</code>"}],"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481148087,"creation_date":1481147655,"answer_id":41028071,"question_id":41026442,"body_markdown":"This program does guarantee that method `two()` observes `j &gt;= i-1` (not considering overflow).\r\n\r\nWithout `volatile`, the observed values of  `i,j` could be all over the place.\r\n\r\nThe statement\r\n\r\n&gt; the shared value for j is never greater than that for i\r\n\r\nis very informal, because it means &quot;at the same time&quot;, which is not a defined concept in JMM.\r\n\r\n---\r\n\r\nThe core principle of JMM is about &quot;sequential consistency&quot;. The driving motivation of JMM is\r\n\r\n&gt; [JLS#17](http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html) - If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent\r\n\r\n\r\nIn the following program\r\n\r\n    void f()\r\n    {\r\n        int x=0, y=0;\r\n        x++;\r\n        print( x&gt;y );\r\n        y++\r\n    }\r\n\r\n`x&gt;y` will always be observed as `true`. It has to be, if we follow the sequence of actions. Otherwise, there is really no way for us to reason about any (imperative) code. That is &quot;sequential consistency&quot;. \r\n\r\n\r\n&quot;Sequential consistency&quot; is an *observed* property, it doesn&#39;t have to coincide with &quot;real&quot; actions (whatever that means). It is entirely possible that `x&gt;y` is evaluated to be `true` by JVM before `x` is actually incremented (or at all). As long as JVM can guarantee observed sequential consistency, it can optimize actual execution anyway it can, e.g. execute code out of order.\r\n\r\nBut this is for a singlet thread. If multiple threads are reading/writing shared variables, such optimizations of course will completely wreck sequential consistency. We cannot reason about program behavior by thinking of interleaving actions from multiple threads (with actions in the same thread following intra-thread sequence).\r\n\r\nIf we want to guarantee inter-thread sequential consistency of any multi-thread code, we must abandon the optimization techniques developed for single thread. That is going to have severe performance penalty for most programs. And it is also uncalled for -- data exchange among threads is rather rare.\r\n\r\nTherefore, special instructions are created just for establishing inter-thread sequential consistency *when* it is needed. Volatile reads and writes are such actions. All volatile reads and writes obey inter-thread sequential consistency. In this case, it guarantees that `j &gt;= i-1` in `two()`.","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>This program does guarantee that method <code>two()</code> observes <code>j &gt;= i-1</code> (not considering overflow).</p>\n\n<p>Without <code>volatile</code>, the observed values of  <code>i,j</code> could be all over the place.</p>\n\n<p>The statement</p>\n\n<blockquote>\n  <p>the shared value for j is never greater than that for i</p>\n</blockquote>\n\n<p>is very informal, because it means \"at the same time\", which is not a defined concept in JMM.</p>\n\n<hr>\n\n<p>The core principle of JMM is about \"sequential consistency\". The driving motivation of JMM is</p>\n\n<blockquote>\n  <p><a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html\" rel=\"nofollow noreferrer\">JLS#17</a> - If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent</p>\n</blockquote>\n\n<p>In the following program</p>\n\n<pre><code>void f()\n{\n    int x=0, y=0;\n    x++;\n    print( x&gt;y );\n    y++\n}\n</code></pre>\n\n<p><code>x&gt;y</code> will always be observed as <code>true</code>. It has to be, if we follow the sequence of actions. Otherwise, there is really no way for us to reason about any (imperative) code. That is \"sequential consistency\". </p>\n\n<p>\"Sequential consistency\" is an <em>observed</em> property, it doesn't have to coincide with \"real\" actions (whatever that means). It is entirely possible that <code>x&gt;y</code> is evaluated to be <code>true</code> by JVM before <code>x</code> is actually incremented (or at all). As long as JVM can guarantee observed sequential consistency, it can optimize actual execution anyway it can, e.g. execute code out of order.</p>\n\n<p>But this is for a singlet thread. If multiple threads are reading/writing shared variables, such optimizations of course will completely wreck sequential consistency. We cannot reason about program behavior by thinking of interleaving actions from multiple threads (with actions in the same thread following intra-thread sequence).</p>\n\n<p>If we want to guarantee inter-thread sequential consistency of any multi-thread code, we must abandon the optimization techniques developed for single thread. That is going to have severe performance penalty for most programs. And it is also uncalled for -- data exchange among threads is rather rare.</p>\n\n<p>Therefore, special instructions are created just for establishing inter-thread sequential consistency <em>when</em> it is needed. Volatile reads and writes are such actions. All volatile reads and writes obey inter-thread sequential consistency. In this case, it guarantees that <code>j &gt;= i-1</code> in <code>two()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481156567,"creation_date":1481156567,"answer_id":41029716,"question_id":41026442,"body_markdown":"I&#39;d like to propose that it&#39;s a mistake and the examples were supposed to print `j` before `i`:\r\n\r\n    static void two() {\r\n        System.out.println(&quot;j=&quot; + j + &quot; i=&quot; + i);\r\n    }\r\n\r\nThe novelty in the first example is that, due to update reordering, `j` can be greater than `i` *even when observed first*.\r\n\r\nThe final example now makes perfect sense with some minor edits to the explanation (edits and commentary in brackets):\r\n\r\n&gt; This allows method `one` and method `two` to be executed concurrently, but guarantees that accesses to the shared values for `i` and `j` occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for `j` is never [observed to be] greater than that for `i`, because each update to `i` must be reflected in the shared value for `i` before the update to `j` occurs. It is possible, however, that any given invocation of method `two` might observe a value for [`i`] that is much greater than the value observed for [`j`], because method `one` might be executed many times between the moment when method `two` fetches the value of [`j`] and the moment when method `two` fetches the value of [`i`].\r\n\r\nThe key point here is that the second update will never be observed before the first update, when using `volatile`. The last sentence about the gap between the two reads is entirely parenthetical, and `i` and `j` were swapped to conform to the erroneous example.","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>I'd like to propose that it's a mistake and the examples were supposed to print <code>j</code> before <code>i</code>:</p>\n\n<pre><code>static void two() {\n    System.out.println(\"j=\" + j + \" i=\" + i);\n}\n</code></pre>\n\n<p>The novelty in the first example is that, due to update reordering, <code>j</code> can be greater than <code>i</code> <em>even when observed first</em>.</p>\n\n<p>The final example now makes perfect sense with some minor edits to the explanation (edits and commentary in brackets):</p>\n\n<blockquote>\n  <p>This allows method <code>one</code> and method <code>two</code> to be executed concurrently, but guarantees that accesses to the shared values for <code>i</code> and <code>j</code> occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for <code>j</code> is never [observed to be] greater than that for <code>i</code>, because each update to <code>i</code> must be reflected in the shared value for <code>i</code> before the update to <code>j</code> occurs. It is possible, however, that any given invocation of method <code>two</code> might observe a value for [<code>i</code>] that is much greater than the value observed for [<code>j</code>], because method <code>one</code> might be executed many times between the moment when method <code>two</code> fetches the value of [<code>j</code>] and the moment when method <code>two</code> fetches the value of [<code>i</code>].</p>\n</blockquote>\n\n<p>The key point here is that the second update will never be observed before the first update, when using <code>volatile</code>. The last sentence about the gap between the two reads is entirely parenthetical, and <code>i</code> and <code>j</code> were swapped to conform to the erroneous example.</p>\n"},{"tags":[],"owner":{"account_id":10816011,"reputation":1,"user_id":7954930,"display_name":"mygodccl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677489963,"creation_date":1677489963,"answer_id":75578683,"question_id":41026442,"body_markdown":"&gt; This allows method one and method two to be executed concurrently, but guarantees that accesses to the shared values for i and j occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for j is never greater than that for i, because each update to i must be reflected in the shared value for i before the update to j occurs.\r\n\r\n- this seems to clarify method one(), if **i&amp;j** don&#39;t modified with volatile, it assumes that **i++** executed in CPU-1, but value didn&#39;t update back to physical memory unit, and **j++** executed in CPU-2 and the value immediately update back to physical memory unit. then we get the two values from memory in method two(), we will see **i** is smaller than **j**. \r\n- but if modified with volatile, the i++(++ &amp; update memory) like be bundled in one operation, if ++ happened, the next instruction of CPU must be the operation of updating the value of **i** back to physical memory, in this scenario, we assume that the method one() will not be executed at the gap between **&quot;i=&quot; + i +** and **&quot; j=&quot; + j**, then we try to execute method two and retrieve values of i and j from physical memory, and we will see value of **j** will never greater than **i**.","title":"Can&#39;t understand example of volatile in Java specification","body":"<blockquote>\n<p>This allows method one and method two to be executed concurrently, but guarantees that accesses to the shared values for i and j occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for j is never greater than that for i, because each update to i must be reflected in the shared value for i before the update to j occurs.</p>\n</blockquote>\n<ul>\n<li>this seems to clarify method one(), if <strong>i&amp;j</strong> don't modified with volatile, it assumes that <strong>i++</strong> executed in CPU-1, but value didn't update back to physical memory unit, and <strong>j++</strong> executed in CPU-2 and the value immediately update back to physical memory unit. then we get the two values from memory in method two(), we will see <strong>i</strong> is smaller than <strong>j</strong>.</li>\n<li>but if modified with volatile, the i++(++ &amp; update memory) like be bundled in one operation, if ++ happened, the next instruction of CPU must be the operation of updating the value of <strong>i</strong> back to physical memory, in this scenario, we assume that the method one() will not be executed at the gap between <strong>&quot;i=&quot; + i +</strong> and <strong>&quot; j=&quot; + j</strong>, then we try to execute method two and retrieve values of i and j from physical memory, and we will see value of <strong>j</strong> will never greater than <strong>i</strong>.</li>\n</ul>\n"}],"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41027717,"answer_count":8,"score":10,"last_activity_date":1677489963,"creation_date":1481141352,"question_id":41026442,"body_markdown":"I got general understanding what `volatile` means in Java. But reading\r\n&lt;a href=&quot;http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4&quot;&gt;Java SE Specification 8.3.1.4&lt;/a&gt; I have a problem understanding the text beneath that certain volatile example.\r\n\r\n    class Test {\r\n        static volatile int i = 0, j = 0;\r\n        static void one() { i++; j++; }\r\n        static void two() {\r\n            System.out.println(&quot;i=&quot; + i + &quot; j=&quot; + j);\r\n        }\r\n    }\r\n\r\n\r\n&gt; This allows method one and method two to be executed concurrently, but\r\n&gt; guarantees that accesses to the shared values for i and j occur\r\n&gt; exactly as many times, and in exactly the same order, as they appear\r\n&gt; to occur during execution of the program text by each thread.\r\n&gt; Therefore, the shared value for j is never greater than that for i,\r\n&gt; because each update to i must be reflected in the shared value for i\r\n&gt; before the update to j occurs. It is possible, however, that any given\r\n&gt; invocation of method two might observe a value for j that is much\r\n&gt; greater than the value observed for i, because method one might be\r\n&gt; executed many times between the moment when method two fetches the\r\n&gt; value of i and the moment when method two fetches the value of j.\r\n\r\nHow is \r\n\r\n&gt; j never greater than i\r\n\r\n, but at the same time \r\n\r\n&gt; any given invocation of method two might observe a value for j that is\r\n&gt; much greater than the value observed for i\r\n\r\n??\r\n\r\nLooks like contradiction.\r\n\r\nI got `j` greater than `i` after running sample program. Why use `volatile` then? It gives almost the same result without `volatile` (also `i` can be greater than `j`, one of previous examples in specs). Why is this example here as an alternative to `synchronized`?","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>I got general understanding what <code>volatile</code> means in Java. But reading\n<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">Java SE Specification 8.3.1.4</a> I have a problem understanding the text beneath that certain volatile example.</p>\n\n<pre><code>class Test {\n    static volatile int i = 0, j = 0;\n    static void one() { i++; j++; }\n    static void two() {\n        System.out.println(\"i=\" + i + \" j=\" + j);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>This allows method one and method two to be executed concurrently, but\n  guarantees that accesses to the shared values for i and j occur\n  exactly as many times, and in exactly the same order, as they appear\n  to occur during execution of the program text by each thread.\n  Therefore, the shared value for j is never greater than that for i,\n  because each update to i must be reflected in the shared value for i\n  before the update to j occurs. It is possible, however, that any given\n  invocation of method two might observe a value for j that is much\n  greater than the value observed for i, because method one might be\n  executed many times between the moment when method two fetches the\n  value of i and the moment when method two fetches the value of j.</p>\n</blockquote>\n\n<p>How is </p>\n\n<blockquote>\n  <p>j never greater than i</p>\n</blockquote>\n\n<p>, but at the same time </p>\n\n<blockquote>\n  <p>any given invocation of method two might observe a value for j that is\n  much greater than the value observed for i</p>\n</blockquote>\n\n<p>??</p>\n\n<p>Looks like contradiction.</p>\n\n<p>I got <code>j</code> greater than <code>i</code> after running sample program. Why use <code>volatile</code> then? It gives almost the same result without <code>volatile</code> (also <code>i</code> can be greater than <code>j</code>, one of previous examples in specs). Why is this example here as an alternative to <code>synchronized</code>?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677473466,"creation_date":1677471482,"answer_id":75576742,"question_id":75575989,"body_markdown":"Just combing through the code on that repo of the tutorial you are following, the only thinking I can think of is that possibly your **User.builder()** in the register function is referencing the package &quot;**org.springframework.security.core.userdetails**&quot; instead of your own project package.","title":"Cant access User Entity Fields that implements UserDetails","body":"<p>Just combing through the code on that repo of the tutorial you are following, the only thinking I can think of is that possibly your <strong>User.builder()</strong> in the register function is referencing the package &quot;<strong>org.springframework.security.core.userdetails</strong>&quot; instead of your own project package.</p>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677489781,"creation_date":1677489781,"answer_id":75578657,"question_id":75575989,"body_markdown":"It would implement two different classes, User class and CustomUserDetails class,which CustomUserDeatails extend User class and implement UserDetail.\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    + getters and setters\r\n\r\nand then define CustomUsetDetails,\r\n\r\n    public class CustomUserDetails extends User implements UserDetails {\r\n    private static final long serialVersionUID = 1L;\r\n    private Users user;\r\n\r\n    public CustomUserDetails(User user) {\r\n        super(user);\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n       \r\n        return AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_ADMIN&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        // just for example\r\n        return this.user.getActive() == true;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return this.user.getUsername();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return this.user.getPassword();\r\n    }\r\n\r\n    // Just an example to put some addititional Data to your logged in user\r\n\r\n    public String getUserDatabase() {\r\n        return &quot;usertable&quot; + Integer.toString(1 + this.user.getUserId());\r\n    }\r\n    }\r\n\r\n","title":"Cant access User Entity Fields that implements UserDetails","body":"<p>It would implement two different classes, User class and CustomUserDetails class,which CustomUserDeatails extend User class and implement UserDetail.</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User{\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;login&quot;)\nprivate String login;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n+ getters and setters\n</code></pre>\n<p>and then define CustomUsetDetails,</p>\n<pre><code>public class CustomUserDetails extends User implements UserDetails {\nprivate static final long serialVersionUID = 1L;\nprivate Users user;\n\npublic CustomUserDetails(User user) {\n    super(user);\n    this.user = user;\n}\n\n@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n   \n    return AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_ADMIN&quot;);\n}\n\n@Override\npublic boolean isAccountNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isAccountNonLocked() {\n    return true;\n}\n\n@Override\npublic boolean isCredentialsNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isEnabled() {\n    // just for example\n    return this.user.getActive() == true;\n}\n\n@Override\npublic String getUsername() {\n    return this.user.getUsername();\n}\n\n@Override\npublic String getPassword() {\n    return this.user.getPassword();\n}\n\n// Just an example to put some addititional Data to your logged in user\n\npublic String getUserDatabase() {\n    return &quot;usertable&quot; + Integer.toString(1 + this.user.getUserId());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":20952991,"reputation":1,"user_id":15394216,"display_name":"Click me Plzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1677489781,"creation_date":1677459257,"question_id":75575989,"body_markdown":"So i have this entity on spring boot \r\n\r\n\r\n    @Table(name = &quot;user_table&quot;)\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n    private String name;\r\n\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;user_course&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\r\n    )\r\n    private List &lt; Course &gt; courses;\r\n\r\n    public List &lt; Course &gt; getCourses() {\r\n        return courses;\r\n    }\r\n\r\n    public void setCourses(List &lt; Course &gt; courses) {\r\n        this.courses = courses;\r\n    }\r\n\r\n    public Long getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Long userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    @Override\r\n    public Collection &lt; ? extends GrantedAuthority &gt; getAuthorities() {\r\n        return List.of(new SimpleGrantedAuthority(role.name()));\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public Role getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(Role role) {\r\n        this.role = role;\r\n    }\r\n\r\n    }\r\n\r\nim following  amigoscode tutorial on jwt/spring security [amigo](https://www.youtube.com/watch?v=KxqlJblhzfI)\r\n\r\n    public AuthenticationResponse register(RegisterRequest request) {\r\n    var user = User.builder()\r\n        .name(request.getName()) //catnt acces this name field\r\n        .email(request.getEmail()) //catnt acces this name field    \r\n        .password(request.getPassword()) // i can access this filed\r\n        .role(request.getRole()) //i can access this field\r\n        ......\r\n\r\n     }\r\n\r\ni noticed that it can only access the fields from UserDetails but not the fields of my entity,\r\nis there some anotation i missed on my entity or the problem is somehwhere else\r\n\r\n\r\nthank you for you attention\r\n\r\n\r\n\r\n\r\n\r\ni want to access the fields of my entity ","title":"Cant access User Entity Fields that implements UserDetails","body":"<p>So i have this entity on spring boot</p>\n<pre><code>@Table(name = &quot;user_table&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User implements UserDetails {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\n@Column(name = &quot;user_id&quot;)\nprivate Long userId;\nprivate String name;\n\nprivate String email;\n\nprivate String password;\n\n@Enumerated(EnumType.STRING)\nprivate Role role;\n\n@ManyToMany\n@JoinTable(\n    name = &quot;user_course&quot;,\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\n)\nprivate List &lt; Course &gt; courses;\n\npublic List &lt; Course &gt; getCourses() {\n    return courses;\n}\n\npublic void setCourses(List &lt; Course &gt; courses) {\n    this.courses = courses;\n}\n\npublic Long getUserId() {\n    return userId;\n}\n\npublic void setUserId(Long userId) {\n    this.userId = userId;\n}\n\n@Override\npublic Collection &lt; ? extends GrantedAuthority &gt; getAuthorities() {\n    return List.of(new SimpleGrantedAuthority(role.name()));\n}\n\n@Override\npublic String getPassword() {\n    return password;\n}\n\n@Override\npublic String getUsername() {\n    return email;\n}\n\n@Override\npublic boolean isAccountNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isAccountNonLocked() {\n    return true;\n}\n\n@Override\npublic boolean isCredentialsNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isEnabled() {\n    return true;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic Role getRole() {\n    return role;\n}\n\npublic void setRole(Role role) {\n    this.role = role;\n}\n\n}\n</code></pre>\n<p>im following  amigoscode tutorial on jwt/spring security <a href=\"https://www.youtube.com/watch?v=KxqlJblhzfI\" rel=\"nofollow noreferrer\">amigo</a></p>\n<pre><code>public AuthenticationResponse register(RegisterRequest request) {\nvar user = User.builder()\n    .name(request.getName()) //catnt acces this name field\n    .email(request.getEmail()) //catnt acces this name field    \n    .password(request.getPassword()) // i can access this filed\n    .role(request.getRole()) //i can access this field\n    ......\n\n }\n</code></pre>\n<p>i noticed that it can only access the fields from UserDetails but not the fields of my entity,\nis there some anotation i missed on my entity or the problem is somehwhere else</p>\n<p>thank you for you attention</p>\n<p>i want to access the fields of my entity</p>\n"},{"tags":["java","jar","decompiling","g-code"],"answers":[{"comments":[{"owner":{"account_id":8965980,"reputation":178,"user_id":6686617,"display_name":"Giga Chad Coding"},"score":0,"creation_date":1529251062,"post_id":50869415,"comment_id":88796210,"body_markdown":"The problem is, opening the file does not set the proper settings, nor open the connection to the board.  It&#39;s honestly pretty stupid that a program like this would not contain much more adept terminal commands....","body":"The problem is, opening the file does not set the proper settings, nor open the connection to the board.  It&#39;s honestly pretty stupid that a program like this would not contain much more adept terminal commands...."},{"owner":{"account_id":12021992,"reputation":11,"user_id":8795168,"display_name":"Joacim Breiler"},"score":0,"creation_date":1529344924,"post_id":50869415,"comment_id":88830216,"body_markdown":"Then I suggest that you head over to the github project and create an issue with a feature request, or contribute with source code for this.","body":"Then I suggest that you head over to the github project and create an issue with a feature request, or contribute with source code for this."},{"owner":{"account_id":12021992,"reputation":11,"user_id":8795168,"display_name":"Joacim Breiler"},"score":1,"creation_date":1555250051,"post_id":50869415,"comment_id":98037214,"body_markdown":"Updated my answer now that UGS can be run in CLI-mode","body":"Updated my answer now that UGS can be run in CLI-mode"}],"tags":[],"owner":{"account_id":12021992,"reputation":11,"user_id":8795168,"display_name":"Joacim Breiler"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555249958,"creation_date":1529039315,"answer_id":50869415,"question_id":44933131,"body_markdown":"Yes there is a new feature for running CLI-commands, download the latest nightly build of [Universal G-code Sender Classic][1] and run the follwing:\r\n```bash\r\n# java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --help\r\n```\r\n\r\nThis will print the available parameters and options:\r\n```bash\r\n -b,--baud &lt;baudrate&gt;           Baud rate to connect with.\r\n -c,--controller &lt;controller&gt;   What type of controller firmware we are\r\n                                connecting to, defaults to &quot;GRBL&quot;. These\r\n                                are the available firmwares: [GRBL, TinyG,\r\n                                Testing (Delay), Smoothie Board, Testing]\r\n -d,--daemon                    Starts in daemon mode providing a web\r\n                                pendant UI\r\n -dr,--driver &lt;driver&gt;          Sets and saves the connection driver\r\n                                setting. These are the available drivers:\r\n                                [JSERIALCOMM, JSSC, TCP]\r\n -f,--file &lt;filename&gt;           Opens a file for streaming to controller\r\n                                and will exit upon completion.\r\n -h,--help                      Prints the help information.\r\n -ho,--home                     If a homing process should be done before\r\n                                any gcode files are sent to the\r\n                                controller.\r\n -l,--list                      Lists all available ports.\r\n -p,--port &lt;port&gt;               Which port for the controller to connect\r\n                                to. I.e /dev/ttyUSB0 (on Unix-like systems\r\n                                or COM4 (on windows).\r\n -pp,--print-progressbar        Prints the progress of the file stream\r\n -ps,--print-stream             Prints the streamed lines to console\r\n -r,--reset-alarm               Resets any alarm\r\n -v,--version                   Prints the software version.\r\n -w,--workspace &lt;dir&gt;           Sets and saves the workspace directory\r\n                                setting\r\n```\r\n\r\nSending a file can be done using the following command:\r\n```bash\r\n# java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --controller GRBL --port /dev/ttyUSB0 --baud 115200 --print-progressbar --file test.gcode\r\n\r\nConnected to &quot;Grbl 0.9z&quot; on  baud 115200\r\nRunning file &quot;test.gcode&quot;\r\ntest.gcode  52% │██████████████████████▉                    │  55/105 (0:00:06 / 0:00:05) \r\n```\r\n\r\n\r\n  [1]: https://github.com/winder/Universal-G-Code-Sender#downloads","title":"Is there anyway to auto-run a file in Universal Gcode Sender on the program&#39;s startup instead of having to upload a file?","body":"<p>Yes there is a new feature for running CLI-commands, download the latest nightly build of <a href=\"https://github.com/winder/Universal-G-Code-Sender#downloads\" rel=\"nofollow noreferrer\">Universal G-code Sender Classic</a> and run the follwing:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --help\n</code></pre>\n\n<p>This will print the available parameters and options:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> -b,--baud &lt;baudrate&gt;           Baud rate to connect with.\n -c,--controller &lt;controller&gt;   What type of controller firmware we are\n                                connecting to, defaults to \"GRBL\". These\n                                are the available firmwares: [GRBL, TinyG,\n                                Testing (Delay), Smoothie Board, Testing]\n -d,--daemon                    Starts in daemon mode providing a web\n                                pendant UI\n -dr,--driver &lt;driver&gt;          Sets and saves the connection driver\n                                setting. These are the available drivers:\n                                [JSERIALCOMM, JSSC, TCP]\n -f,--file &lt;filename&gt;           Opens a file for streaming to controller\n                                and will exit upon completion.\n -h,--help                      Prints the help information.\n -ho,--home                     If a homing process should be done before\n                                any gcode files are sent to the\n                                controller.\n -l,--list                      Lists all available ports.\n -p,--port &lt;port&gt;               Which port for the controller to connect\n                                to. I.e /dev/ttyUSB0 (on Unix-like systems\n                                or COM4 (on windows).\n -pp,--print-progressbar        Prints the progress of the file stream\n -ps,--print-stream             Prints the streamed lines to console\n -r,--reset-alarm               Resets any alarm\n -v,--version                   Prints the software version.\n -w,--workspace &lt;dir&gt;           Sets and saves the workspace directory\n                                setting\n</code></pre>\n\n<p>Sending a file can be done using the following command:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --controller GRBL --port /dev/ttyUSB0 --baud 115200 --print-progressbar --file test.gcode\n\nConnected to \"Grbl 0.9z\" on  baud 115200\nRunning file \"test.gcode\"\ntest.gcode  52% │██████████████████████▉                    │  55/105 (0:00:06 / 0:00:05) \n</code></pre>\n"}],"owner":{"account_id":8965980,"reputation":178,"user_id":6686617,"display_name":"Giga Chad Coding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677489719,"creation_date":1499277880,"question_id":44933131,"body_markdown":"I have a file &quot;myFile.gcode&quot; which contains some G-code commands. As it stands Universal Gcode Sender allows the user to upload a file to be executed. However I would like &quot;myFile.gcode&quot; to be run as soon as the program starts up instead of me having to upload it.\r\n\r\nIs this possible with the out-of-the-box .jar file?\r\n\r\n.jar available at https://winder.github.io/ugs_website/\r\n\r\nIf not I have the following idea,\r\n\r\n- Trace through the code and reverse engineer it to auto run the file. To do this I decompiled the .jar file, but when tracing through the code I&#39;m having trouble finding the starting point (main class) of the code. \r\n\r\nIn summary, is this possible? \r\n\r\nAnd, what could make tracing this code easier? ","title":"Is there anyway to auto-run a file in Universal Gcode Sender on the program&#39;s startup instead of having to upload a file?","body":"<p>I have a file \"myFile.gcode\" which contains some G-code commands. As it stands Universal Gcode Sender allows the user to upload a file to be executed. However I would like \"myFile.gcode\" to be run as soon as the program starts up instead of me having to upload it.</p>\n\n<p>Is this possible with the out-of-the-box .jar file?</p>\n\n<p>.jar available at <a href=\"https://winder.github.io/ugs_website/\" rel=\"nofollow noreferrer\">https://winder.github.io/ugs_website/</a></p>\n\n<p>If not I have the following idea,</p>\n\n<ul>\n<li>Trace through the code and reverse engineer it to auto run the file. To do this I decompiled the .jar file, but when tracing through the code I'm having trouble finding the starting point (main class) of the code. </li>\n</ul>\n\n<p>In summary, is this possible? </p>\n\n<p>And, what could make tracing this code easier? </p>\n"},{"tags":["java","openapi","openapi-generator-maven-plugin","apiclient"],"comments":[{"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"score":0,"creation_date":1677464006,"post_id":75575741,"comment_id":133336980,"body_markdown":"Please describe which language and generator you are using. That info is necessary for someone to be able to answer you.","body":"Please describe which language and generator you are using. That info is necessary for someone to be able to answer you."}],"answers":[{"tags":[],"owner":{"account_id":1531125,"reputation":613,"user_id":8230706,"accept_rate":50,"display_name":"Ghassen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677488830,"creation_date":1677488830,"answer_id":75578521,"question_id":75575741,"body_markdown":"The solution that I found is to inject 2 beans of type `UsersApi` and `ApiClient` this way :\r\n\r\n    @Configuration\r\n    public class ApiClientCustomConfig {\r\n    \r\n        @Value(&quot;${api.credentials.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${api.credentials.password}&quot;)\r\n        private String password;\r\n    \r\n    \r\n        @Bean\r\n        @Qualifier(&quot;usersApi&quot;)\r\n        public UsersApi usersApi(RestTemplate restTemplate) {\r\n            return new UsersApi(apiClient(restTemplate));\r\n        }\r\n    \r\n        @Bean\r\n        public ApiClient apiClient(RestTemplate restTemplate) {\r\n            ApiClient apiClient = new ApiClient(restTemplate);\r\n            apiClient.setUsername(username);\r\n            apiClient.setPassword(password);\r\n            return apiClient;\r\n        }\r\n    }","title":"How to pass credentials for ApiClient generated by openapi-maven-generator-plugin?","body":"<p>The solution that I found is to inject 2 beans of type <code>UsersApi</code> and <code>ApiClient</code> this way :</p>\n<pre><code>@Configuration\npublic class ApiClientCustomConfig {\n\n    @Value(&quot;${api.credentials.username}&quot;)\n    private String username;\n\n    @Value(&quot;${api.credentials.password}&quot;)\n    private String password;\n\n\n    @Bean\n    @Qualifier(&quot;usersApi&quot;)\n    public UsersApi usersApi(RestTemplate restTemplate) {\n        return new UsersApi(apiClient(restTemplate));\n    }\n\n    @Bean\n    public ApiClient apiClient(RestTemplate restTemplate) {\n        ApiClient apiClient = new ApiClient(restTemplate);\n        apiClient.setUsername(username);\n        apiClient.setPassword(password);\n        return apiClient;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1531125,"reputation":613,"user_id":8230706,"accept_rate":50,"display_name":"Ghassen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75578521,"answer_count":1,"score":0,"last_activity_date":1677489029,"creation_date":1677455545,"question_id":75575741,"body_markdown":"I am using `openapi-generator-maven-plugin` to generate an api client from an existing yaml specification [file][1] in a Java and SpringBoot project .\r\n\r\nThe API endpoint are protected by Basic HTTP Security scheme (username and password) this way :\r\n\r\n    securitySchemes:\r\n        BasicAuth:\r\n            type: http\r\n            scheme: basic\r\n\r\nThe generated client (`UsersApi` in my case) comes with an `ApiClient` class which will use a `RestTemplate` to perform all the REST calls. \r\n\r\nIs there a way to pass the credentials to `ApiClient` so I will be able to reach the external API.\r\n\r\n  [1]: https://sharetext.me/hpbcftqae8","title":"How to pass credentials for ApiClient generated by openapi-maven-generator-plugin?","body":"<p>I am using <code>openapi-generator-maven-plugin</code> to generate an api client from an existing yaml specification <a href=\"https://sharetext.me/hpbcftqae8\" rel=\"nofollow noreferrer\">file</a> in a Java and SpringBoot project .</p>\n<p>The API endpoint are protected by Basic HTTP Security scheme (username and password) this way :</p>\n<pre><code>securitySchemes:\n    BasicAuth:\n        type: http\n        scheme: basic\n</code></pre>\n<p>The generated client (<code>UsersApi</code> in my case) comes with an <code>ApiClient</code> class which will use a <code>RestTemplate</code> to perform all the REST calls.</p>\n<p>Is there a way to pass the credentials to <code>ApiClient</code> so I will be able to reach the external API.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"comments":[{"owner":{"account_id":25537904,"reputation":27,"user_id":19324621,"display_name":"Kira Sign"},"score":0,"creation_date":1677488340,"post_id":75577859,"comment_id":133340418,"body_markdown":"Hi @Jens!\nThe problem is the error occurred when the request hit the controller I mentioned.\nAnd I tried using \nspring.jackson.parser.allow-backslash-escaping-any-character=true\nin application.properties but the problem still persist","body":"Hi @Jens! The problem is the error occurred when the request hit the controller I mentioned. And I tried using  spring.jackson.parser.allow-backslash-escaping-any-character&zwnj;&#8203;=true in application.properties but the problem still persist"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677488785,"creation_date":1677483805,"answer_id":75577859,"question_id":75577737,"body_markdown":"Change the configuration of the `ObjectMapper` and add\r\n\r\n    mapper.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true); \r\n\r\nYou can add something like\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n        return builder -&gt; builder.json().featuresToEnable(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\r\n    }\r\n\r\nto a `@Configuration` annotated class to reconfigure the mapper","title":"org.springframework.http.converter.HttpMessageNotReadableException: Found strange character","body":"<p>Change the configuration of the <code>ObjectMapper</code> and add</p>\n<pre><code>mapper.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true); \n</code></pre>\n<p>You can add something like</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n    return builder -&gt; builder.json().featuresToEnable(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\n}\n</code></pre>\n<p>to a <code>@Configuration</code> annotated class to reconfigure the mapper</p>\n"}],"owner":{"account_id":25537904,"reputation":27,"user_id":19324621,"display_name":"Kira Sign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75577859,"answer_count":1,"score":2,"last_activity_date":1677488785,"creation_date":1677482926,"question_id":75577737,"body_markdown":"I received the following when sending POST request\r\n\r\n&gt;  Resolved [org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: Found strange data: ?Color]\r\nMy request body\r\n```\r\n{\r\n    &quot;name&quot;: &quot;\\bColor&quot;,\r\n    &quot;displayName&quot;: &quot;\\bColor&quot;,\r\n    &quot;position&quot;: 6\r\n}\r\n```\r\n\r\nController\r\n``` \r\n    @PostMapping(&quot;/name&quot;)\r\n    public BaseResponseV2 saveNameField(@RequestBody NameField nameField) {\r\n        nameService.saveFilterOption(nameField);\r\n        return BaseResponseV2.makeResponse(&quot;DONE&quot;);\r\n    }\r\n```\r\nNameField:\r\n```\r\n\tprivate String name;\r\n\tprivate String displayName;\r\n\tprivate int position;\r\n```\r\nSo How do I pass the special/strange character to RequestBody","title":"org.springframework.http.converter.HttpMessageNotReadableException: Found strange character","body":"<p>I received the following when sending POST request</p>\n<blockquote>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: Found strange data: ?Color]\nMy request body</p>\n</blockquote>\n<pre><code>{\n    &quot;name&quot;: &quot;\\bColor&quot;,\n    &quot;displayName&quot;: &quot;\\bColor&quot;,\n    &quot;position&quot;: 6\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>    @PostMapping(&quot;/name&quot;)\n    public BaseResponseV2 saveNameField(@RequestBody NameField nameField) {\n        nameService.saveFilterOption(nameField);\n        return BaseResponseV2.makeResponse(&quot;DONE&quot;);\n    }\n</code></pre>\n<p>NameField:</p>\n<pre><code>    private String name;\n    private String displayName;\n    private int position;\n</code></pre>\n<p>So How do I pass the special/strange character to RequestBody</p>\n"},{"tags":["java","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1630235725,"post_id":58764503,"comment_id":121896122,"body_markdown":"do you konw how to config right now? @Silk0vsky","body":"do you konw how to config right now? @Silk0vsky"},{"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"score":0,"creation_date":1635256494,"post_id":58764503,"comment_id":123244436,"body_markdown":"Hi @Dolphin, sorry for late response. I&#39;ve recreated my solution as an answer. Please share yours if you have one.","body":"Hi @Dolphin, sorry for late response. I&#39;ve recreated my solution as an answer. Please share yours if you have one."}],"answers":[{"tags":[],"owner":{"account_id":16020123,"reputation":33,"user_id":11561821,"display_name":"R&#233;mi G&#233;libert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584034820,"creation_date":1584034820,"answer_id":60659286,"question_id":58764503,"body_markdown":"I am in the exactly same position. Did you find the trick to solve this ?\r\nI know we can define all route in the RouteLocator like this : \r\n    \r\n\r\n    /**\r\n     * Route constructions.\r\n     *\r\n     * @param builder\r\n     *                the builder instance\r\n     * @return the final route locator\r\n     */\r\n    @Bean\r\n    public RouteLocator gatewayRoutes(final RouteLocatorBuilder builder) {\r\n    return builder.routes()\r\n        // Declare First service\r\n    \t.route(r -&gt; r.path(&quot;/prefix/myservice1-service/**&quot;)\r\n    \t\t.filters(f -&gt; f.rewritePath(&quot;/prefix/myservicename1-service/(?&lt;remaining&gt;.*)&quot;, &quot;/${remaining}&quot;))\r\n    \t\t.uri(&quot;lb://myservice1&quot;).id(&quot;myservice1&quot;))\r\n    \r\n        // Declare Second service\r\n    \t.route(r -&gt; r.path(&quot;/prefix/myservice2-service/**&quot;)\r\n    \t\t.filters(f -&gt; f.rewritePath(&quot;/prefix/myservicename2-service/(?&lt;remaining&gt;.*)&quot;, &quot;/${remaining}&quot;))\r\n    \t\t.uri(&quot;lb://myservice2&quot;).id(&quot;myservice2&quot;))\r\n\r\n        // Etc... Then build\r\n        .build();\r\n    }\r\n\r\nI am not sure but maybe you need to disable the discovery locator in order to do that properly.\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: false\r\n\r\nbut it could be great to get a less dirty solution.","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>I am in the exactly same position. Did you find the trick to solve this ?\nI know we can define all route in the RouteLocator like this : </p>\n\n<pre><code>/**\n * Route constructions.\n *\n * @param builder\n *                the builder instance\n * @return the final route locator\n */\n@Bean\npublic RouteLocator gatewayRoutes(final RouteLocatorBuilder builder) {\nreturn builder.routes()\n    // Declare First service\n    .route(r -&gt; r.path(\"/prefix/myservice1-service/**\")\n        .filters(f -&gt; f.rewritePath(\"/prefix/myservicename1-service/(?&lt;remaining&gt;.*)\", \"/${remaining}\"))\n        .uri(\"lb://myservice1\").id(\"myservice1\"))\n\n    // Declare Second service\n    .route(r -&gt; r.path(\"/prefix/myservice2-service/**\")\n        .filters(f -&gt; f.rewritePath(\"/prefix/myservicename2-service/(?&lt;remaining&gt;.*)\", \"/${remaining}\"))\n        .uri(\"lb://myservice2\").id(\"myservice2\"))\n\n    // Etc... Then build\n    .build();\n}\n</code></pre>\n\n<p>I am not sure but maybe you need to disable the discovery locator in order to do that properly.</p>\n\n<pre><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: false\n</code></pre>\n\n<p>but it could be great to get a less dirty solution.</p>\n"},{"tags":[],"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635254119,"creation_date":1635254119,"answer_id":69723808,"question_id":58764503,"body_markdown":"In addition to @R&#233;mi G&#233;libert variant, we can implement our own **RouteLocator**. It allows you to specify predicate for your routes selection and special filter that able to **mutate request as you wish**. \r\n\r\nThis way we can extract our routing configuration to some kind of `application.properties`.\r\n\r\n\r\n    @Component\r\n    public class CustomRouteLocator implements RouteLocator {\r\n    \r\n      Map&lt;String, Pattern&gt; prefixPatternsByServiceNames; // external configuration\r\n      Map&lt;String, String&gt; prefixesByServiceNames;        // external configuration \r\n      Set&lt;String&gt; servicesNames;                         // external configuration\r\n    \r\n      @Override\r\n      public Flux&lt;Route&gt; getRoutes() {\r\n    \r\n        return Flux.fromIterable(servicesNames)\r\n            .map(serviceName -&gt; Route.async()\r\n                .id(&quot;ROUTE_&quot; + serviceName)\r\n                .predicate(exchange -&gt; {\r\n                  String path = exchange.getRequest().getPath().toString();\r\n                  return prefixPatternsByServiceNames.get(serviceName).matcher(path).find();\r\n                })\r\n                .filter((exchange, chain) -&gt; {\r\n                  ServerHttpRequest origRequest = exchange.getRequest();\r\n                  String query = origRequest.getURI().getQuery();\r\n                  String originalPath = origRequest.getPath().toString();\r\n                  String newPath = originalPath.substring(prefixesByServiceNames.get(serviceName).length());\r\n    \r\n                  ServerHttpRequest request = exchange.getRequest().mutate()\r\n                      .path(query == null? newPath : newPath + &quot;?&quot; + query)\r\n                      .build();\r\n                  return chain.filter(exchange.mutate()\r\n                      .request(request)\r\n                      .build());\r\n                })\r\n                .uri(&quot;http://&quot; + serviceName)\r\n                .build());\r\n      }\r\n    \r\n    }\r\n\r\nPlease note: \r\n\r\nMy gateway relies on kubernetes service discovery, so I&#39;m rewriting `uri` this way `uri(&quot;http://&quot; + serviceName)`\r\n\r\nIn case you have consul/eurica discovery integrtion, you could try to do it other way: `uri(&quot;lb://&quot; + serviceName)`\r\n","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>In addition to @Rémi Gélibert variant, we can implement our own <strong>RouteLocator</strong>. It allows you to specify predicate for your routes selection and special filter that able to <strong>mutate request as you wish</strong>.</p>\n<p>This way we can extract our routing configuration to some kind of <code>application.properties</code>.</p>\n<pre><code>@Component\npublic class CustomRouteLocator implements RouteLocator {\n\n  Map&lt;String, Pattern&gt; prefixPatternsByServiceNames; // external configuration\n  Map&lt;String, String&gt; prefixesByServiceNames;        // external configuration \n  Set&lt;String&gt; servicesNames;                         // external configuration\n\n  @Override\n  public Flux&lt;Route&gt; getRoutes() {\n\n    return Flux.fromIterable(servicesNames)\n        .map(serviceName -&gt; Route.async()\n            .id(&quot;ROUTE_&quot; + serviceName)\n            .predicate(exchange -&gt; {\n              String path = exchange.getRequest().getPath().toString();\n              return prefixPatternsByServiceNames.get(serviceName).matcher(path).find();\n            })\n            .filter((exchange, chain) -&gt; {\n              ServerHttpRequest origRequest = exchange.getRequest();\n              String query = origRequest.getURI().getQuery();\n              String originalPath = origRequest.getPath().toString();\n              String newPath = originalPath.substring(prefixesByServiceNames.get(serviceName).length());\n\n              ServerHttpRequest request = exchange.getRequest().mutate()\n                  .path(query == null? newPath : newPath + &quot;?&quot; + query)\n                  .build();\n              return chain.filter(exchange.mutate()\n                  .request(request)\n                  .build());\n            })\n            .uri(&quot;http://&quot; + serviceName)\n            .build());\n  }\n\n}\n</code></pre>\n<p>Please note:</p>\n<p>My gateway relies on kubernetes service discovery, so I'm rewriting <code>uri</code> this way <code>uri(&quot;http://&quot; + serviceName)</code></p>\n<p>In case you have consul/eurica discovery integrtion, you could try to do it other way: <code>uri(&quot;lb://&quot; + serviceName)</code></p>\n"},{"tags":[],"owner":{"account_id":27889009,"reputation":11,"user_id":21295796,"display_name":"Edsuns"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677488518,"creation_date":1677488518,"answer_id":75578474,"question_id":58764503,"body_markdown":"You can make the following configurations to achieve your needs:\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          lower-case-service-id: true\r\n          # defaults is in GatewayDiscoveryClientAutoConfiguration.class\r\n          # SpEL expression context is ServiceInstance.class\r\n          predicates:\r\n            - name: Path\r\n              args:\r\n                pattern: &quot;&#39;/api/&#39;+serviceId.replace(&#39;-service&#39;, &#39;&#39;)+&#39;/**&#39;&quot;\r\n          filters:\r\n            - name: RewritePath\r\n              args:\r\n                regexp: &quot;&#39;/api/.+/?(?&lt;remaining&gt;.*)&#39;&quot;\r\n                replacement: &quot;&#39;/api/&#39;+serviceId+&#39;/${remaining}&#39;&quot;\r\n```\r\n\r\nOfficial docs: &lt;https://cloud.spring.io/spring-cloud-gateway/reference/html/#configuring-predicates-and-filters-for-discoveryclient-routes&gt;\r\n","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>You can make the following configurations to achieve your needs:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n          # defaults is in GatewayDiscoveryClientAutoConfiguration.class\n          # SpEL expression context is ServiceInstance.class\n          predicates:\n            - name: Path\n              args:\n                pattern: &quot;'/api/'+serviceId.replace('-service', '')+'/**'&quot;\n          filters:\n            - name: RewritePath\n              args:\n                regexp: &quot;'/api/.+/?(?&lt;remaining&gt;.*)'&quot;\n                replacement: &quot;'/api/'+serviceId+'/${remaining}'&quot;\n</code></pre>\n<p>Official docs: <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#configuring-predicates-and-filters-for-discoveryclient-routes\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-gateway/reference/html/#configuring-predicates-and-filters-for-discoveryclient-routes</a></p>\n"}],"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677488518,"creation_date":1573207903,"question_id":58764503,"body_markdown":"I&#39;m migrating zuul gateway to SCG. My services are running in kubernetes &amp; registered via consul.\r\nTypical service name is xxx-service. So with current gateway config I can call them by http://address/api/xxx-service/some-path \r\n\r\n\r\nMy current config:\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n              lower-case-service-id: true\r\n              predicates:\r\n                - name: Path\r\n                  args:\r\n                    pattern: &quot;&#39;/api/&#39; + serviceId + &#39;/**&#39;&quot;\r\n              filters:\r\n                - name: RewritePath\r\n                  args:\r\n                    regexp: &quot;&#39;/api/&#39; + serviceId + &#39;/(?&lt;remaining&gt;.*)&#39;&quot;\r\n                    replacement: &quot;&#39;/${remaining}&#39;&quot;\r\n\r\nBut clients should call them without &#39;-service&#39; suffix in service name. How to configure SCG to be able to call services by\r\nhttp://address/api/xxx-service/some-path \r\n\r\nPrevios zuul configuration:\r\n\r\n    zuul.routes.xxx.service-id=xxx-service\r\n    zuul.routes.aaa-bbb.service-id=aaa-bbb-service\r\n    zuul.routes.aaa-bbb.path=/aaa/bbb/**\r\n    zuul.strip-prefix=true\r\n    zuul.prefix=/api\r\n\r\n","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>I'm migrating zuul gateway to SCG. My services are running in kubernetes &amp; registered via consul.\nTypical service name is xxx-service. So with current gateway config I can call them by <a href=\"http://address/api/xxx-service/some-path\" rel=\"nofollow noreferrer\">http://address/api/xxx-service/some-path</a> </p>\n\n<p>My current config:</p>\n\n<pre><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n          predicates:\n            - name: Path\n              args:\n                pattern: \"'/api/' + serviceId + '/**'\"\n          filters:\n            - name: RewritePath\n              args:\n                regexp: \"'/api/' + serviceId + '/(?&lt;remaining&gt;.*)'\"\n                replacement: \"'/${remaining}'\"\n</code></pre>\n\n<p>But clients should call them without '-service' suffix in service name. How to configure SCG to be able to call services by\n<a href=\"http://address/api/xxx-service/some-path\" rel=\"nofollow noreferrer\">http://address/api/xxx-service/some-path</a> </p>\n\n<p>Previos zuul configuration:</p>\n\n<pre><code>zuul.routes.xxx.service-id=xxx-service\nzuul.routes.aaa-bbb.service-id=aaa-bbb-service\nzuul.routes.aaa-bbb.path=/aaa/bbb/**\nzuul.strip-prefix=true\nzuul.prefix=/api\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","threadpool"],"answers":[{"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1677500361,"post_id":75578435,"comment_id":133343501,"body_markdown":"Please mark it answered","body":"Please mark it answered"}],"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677488264,"creation_date":1677488264,"answer_id":75578435,"question_id":75578354,"body_markdown":"You can use JUnit and Mockito to write a Unit test for this configuration bean. Example -\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\nimport java.util.concurrent.Executor;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\npublic class AsyncConfigTest {\r\n\r\n    @Test\r\n    public void testAsyncExecutor() {\r\n        AsyncConfig asyncConfig = new AsyncConfig();\r\n        Executor executor = asyncConfig.asyncExecutor();\r\n        assertNotNull(executor);\r\n\r\n        // Verify the executor properties\r\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = (ThreadPoolTaskExecutor) executor;\r\n        assertEquals(30, threadPoolTaskExecutor.getCorePoolSize());\r\n        assertEquals(30, threadPoolTaskExecutor.getMaxPoolSize());\r\n        assertEquals(1000, threadPoolTaskExecutor.getQueueCapacity());\r\n        assertEquals(&quot;Async-&quot;, threadPoolTaskExecutor.getThreadNamePrefix());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMokito to mock `ThreadPoolTaskExecutor`\r\n\r\n```\r\nimport static org.mockito.Mockito.verify;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\npublic class MyServiceTest {\r\n\r\n    @Test\r\n    public void testAsyncMethod() {\r\n        // Create a mock of ThreadPoolTaskExecutor\r\n        ThreadPoolTaskExecutor executorMock = Mockito.mock(ThreadPoolTaskExecutor.class);\r\n        MyService myService = new MyService(executorMock);\r\n\r\n        // Call the async method\r\n        myService.doAsyncTask();\r\n\r\n        // Verify that the executor was used\r\n        verify(executorMock).execute(Mockito.any(Runnable.class));\r\n    }\r\n\r\n}\r\n\r\n```\r\nYou&#39;re creating a mock `ThreadPoolTaskExecutor` object and passing it to your `MyService` class in the preceding test. Then you call an async method on the `MyService` class and check that the executor was used to perform the async task.","title":"How do I write the junit test for a thread pool executor configuration (AsyncConfig)?","body":"<p>You can use JUnit and Mockito to write a Unit test for this configuration bean. Example -</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport java.util.concurrent.Executor;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\npublic class AsyncConfigTest {\n\n    @Test\n    public void testAsyncExecutor() {\n        AsyncConfig asyncConfig = new AsyncConfig();\n        Executor executor = asyncConfig.asyncExecutor();\n        assertNotNull(executor);\n\n        // Verify the executor properties\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = (ThreadPoolTaskExecutor) executor;\n        assertEquals(30, threadPoolTaskExecutor.getCorePoolSize());\n        assertEquals(30, threadPoolTaskExecutor.getMaxPoolSize());\n        assertEquals(1000, threadPoolTaskExecutor.getQueueCapacity());\n        assertEquals(&quot;Async-&quot;, threadPoolTaskExecutor.getThreadNamePrefix());\n    }\n\n}\n\n</code></pre>\n<p>Mokito to mock <code>ThreadPoolTaskExecutor</code></p>\n<pre><code>import static org.mockito.Mockito.verify;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\npublic class MyServiceTest {\n\n    @Test\n    public void testAsyncMethod() {\n        // Create a mock of ThreadPoolTaskExecutor\n        ThreadPoolTaskExecutor executorMock = Mockito.mock(ThreadPoolTaskExecutor.class);\n        MyService myService = new MyService(executorMock);\n\n        // Call the async method\n        myService.doAsyncTask();\n\n        // Verify that the executor was used\n        verify(executorMock).execute(Mockito.any(Runnable.class));\n    }\n\n}\n\n</code></pre>\n<p>You're creating a mock <code>ThreadPoolTaskExecutor</code> object and passing it to your <code>MyService</code> class in the preceding test. Then you call an async method on the <code>MyService</code> class and check that the executor was used to perform the async task.</p>\n"}],"owner":{"account_id":27688145,"reputation":13,"user_id":21135460,"display_name":"Kartik Mathur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75578435,"answer_count":1,"score":0,"last_activity_date":1677488264,"creation_date":1677487629,"question_id":75578354,"body_markdown":"Following is my configuration for a thread pool executor-\r\n\r\n```\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncConfig {\r\n\r\n    @Bean(name = &quot;asyncExecutor&quot;)\r\n    public Executor asyncExecutor() {   //should not return null\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(30);\r\n        executor.setMaxPoolSize(30);\r\n        executor.setQueueCapacity(1000);\r\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI need to write a Unit test for the same. I do understand how to write unit tests for services and controllers, but being new to this stuff, I am not sure what to test in case of configurations. For instance in the above code I can verify that the return value of the function is not null. But I don&#39;t understand how to do that either, because no where in the project am I calling the &#39;asyncExecutor&#39; function. All I am doing is annotating the function (that needs to be run using the thread pool executor) with \r\n```\r\n@Async(&quot;asyncExecutor&quot;)\r\n```\r\nPlease help me with this, and also any other stuff that I can test for the same","title":"How do I write the junit test for a thread pool executor configuration (AsyncConfig)?","body":"<p>Following is my configuration for a thread pool executor-</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfig {\n\n    @Bean(name = &quot;asyncExecutor&quot;)\n    public Executor asyncExecutor() {   //should not return null\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(30);\n        executor.setMaxPoolSize(30);\n        executor.setQueueCapacity(1000);\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p>I need to write a Unit test for the same. I do understand how to write unit tests for services and controllers, but being new to this stuff, I am not sure what to test in case of configurations. For instance in the above code I can verify that the return value of the function is not null. But I don't understand how to do that either, because no where in the project am I calling the 'asyncExecutor' function. All I am doing is annotating the function (that needs to be run using the thread pool executor) with</p>\n<pre><code>@Async(&quot;asyncExecutor&quot;)\n</code></pre>\n<p>Please help me with this, and also any other stuff that I can test for the same</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677488548,"post_id":75578429,"comment_id":133340470,"body_markdown":"What you see in the log is a warning (and please post logs as text with code blocks instead of an image as the latter is totally unreadable).","body":"What you see in the log is a warning (and please post logs as text with code blocks instead of an image as the latter is totally unreadable)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677491001,"post_id":75578429,"comment_id":133341113,"body_markdown":"Feels a bit of a duplicate of https://stackoverflow.com/questions/49110818/method-org-postgresql-jdbc-pgconnection-createclob-is-not-yet-implemented . Have you tried setting that property mentioned in the first answer?","body":"Feels a bit of a duplicate of <a href=\"https://stackoverflow.com/questions/49110818/method-org-postgresql-jdbc-pgconnection-createclob-is-not-yet-implemented\" title=\"method org postgresql jdbc pgconnection createclob is not yet implemented\">stackoverflow.com/questions/49110818/&hellip;</a> . Have you tried setting that property mentioned in the first answer?"}],"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677488235,"creation_date":1677488235,"question_id":75578429,"body_markdown":"I have 2 dockerized microserices which connect to postres container, but first container connects correctly, second fails.\r\nThis is properties of order-service(which connects correctly):\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres:5431/order-service\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.username=matvey\r\nspring.datasource.password=matvey\r\n```  \r\nDocker compose:\r\n```\r\n  postgres-order:\r\n    container_name: postgres-order\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_DB: order-service\r\n      POSTGRES_USER: matvey\r\n      POSTGRES_PASSWORD: matvey\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - ./volumes/postgres-order:/data/postgres\r\n    expose:\r\n      - &quot;5431&quot;\r\n    ports:\r\n      - &quot;5431:5431&quot;\r\n    command: -p 5431\r\n    restart: unless-stopped\r\n\r\n  order-service:\r\n    container_name: order-service\r\n    image: zaxarleningod/order-service\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-order:5431/order-service\r\n    depends_on:\r\n      - postgres-order\r\n      - broker\r\n      - discovery-server\r\n      - api-gateway\r\n```\r\nThis is inventory service properties(fails):\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres:5432/inventory-service\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.username=matvey\r\nspring.datasource.password=matvey\r\n```\r\nDocker compose:\r\n```\r\n  postgres-inventory:\r\n    container_name: postgres-inventory\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_DB: inventory-service\r\n      POSTGRES_USER: matvey\r\n      POSTGRES_PASSWORD: matvey\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - ./volumes/postgres-inventory:/data/postgres\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    restart: unless-stopped\r\n\r\n  #Inventory Service\r\n  inventory-service:\r\n    container_name: inventory-service\r\n    image: zaxarleningod/inventory-service\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-inventory:5432/inventory-service\r\n    depends_on:\r\n      - postgres-inventory\r\n      - discovery-server\r\n      - api-gateway\r\n```\r\nI can understand what problem it is:\r\n[![enter image description here][1]][1]\r\nThis is what i see in logs:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ohjEZ.png\r\n  [2]: https://i.stack.imgur.com/lN3Yt.png","title":"Container can not connect to postgres db container","body":"<p>I have 2 dockerized microserices which connect to postres container, but first container connects correctly, second fails.\nThis is properties of order-service(which connects correctly):</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres:5431/order-service\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username=matvey\nspring.datasource.password=matvey\n</code></pre>\n<p>Docker compose:</p>\n<pre><code>  postgres-order:\n    container_name: postgres-order\n    image: postgres\n    environment:\n      POSTGRES_DB: order-service\n      POSTGRES_USER: matvey\n      POSTGRES_PASSWORD: matvey\n      PGDATA: /data/postgres\n    volumes:\n      - ./volumes/postgres-order:/data/postgres\n    expose:\n      - &quot;5431&quot;\n    ports:\n      - &quot;5431:5431&quot;\n    command: -p 5431\n    restart: unless-stopped\n\n  order-service:\n    container_name: order-service\n    image: zaxarleningod/order-service\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-order:5431/order-service\n    depends_on:\n      - postgres-order\n      - broker\n      - discovery-server\n      - api-gateway\n</code></pre>\n<p>This is inventory service properties(fails):</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres:5432/inventory-service\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username=matvey\nspring.datasource.password=matvey\n</code></pre>\n<p>Docker compose:</p>\n<pre><code>  postgres-inventory:\n    container_name: postgres-inventory\n    image: postgres\n    environment:\n      POSTGRES_DB: inventory-service\n      POSTGRES_USER: matvey\n      POSTGRES_PASSWORD: matvey\n      PGDATA: /data/postgres\n    volumes:\n      - ./volumes/postgres-inventory:/data/postgres\n    ports:\n      - &quot;5432:5432&quot;\n    restart: unless-stopped\n\n  #Inventory Service\n  inventory-service:\n    container_name: inventory-service\n    image: zaxarleningod/inventory-service\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-inventory:5432/inventory-service\n    depends_on:\n      - postgres-inventory\n      - discovery-server\n      - api-gateway\n</code></pre>\n<p>I can understand what problem it is:\n<a href=\"https://i.stack.imgur.com/ohjEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ohjEZ.png\" alt=\"enter image description here\" /></a>\nThis is what i see in logs:\n<a href=\"https://i.stack.imgur.com/lN3Yt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lN3Yt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","garbage-collection","mark-and-sweep"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1673746693,"post_id":75122418,"comment_id":132566921,"body_markdown":"I know you want specifics, but why do you assume that the GC can&#39;t just access the class definitions just like the rest of the JVM does? That contains plenty of information to figure out which fields are references.","body":"I know you want specifics, but why do you assume that the GC can&#39;t just access the class definitions just like the rest of the JVM does? That contains plenty of information to figure out which fields are references."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673746768,"post_id":75122418,"comment_id":132566929,"body_markdown":"See https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html and https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.5 and https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2","body":"See <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html</a> and <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-&zwnj;&#8203;4.5</a> and <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/&hellip;</a>"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1673748470,"post_id":75122418,"comment_id":132567034,"body_markdown":"A language designed from the start to support garbage collection incorporates mechanisms to support garbage collection,","body":"A language designed from the start to support garbage collection incorporates mechanisms to support garbage collection,"},{"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"score":0,"creation_date":1673889188,"post_id":75122418,"comment_id":132593007,"body_markdown":"Thank you for all the comments, which were very helpful to me.","body":"Thank you for all the comments, which were very helpful to me."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673760764,"creation_date":1673760764,"answer_id":75123144,"question_id":75122418,"body_markdown":"The definition of the class of the object A specifies which fields are references.  (And the object A contains, in an always predictable location -- the object header -- a reference to its class that holds that information.) That&#39;s really the whole answer.","title":"How heap memory scan (or object graph traversal) works in garbage collector?","body":"<p>The definition of the class of the object A specifies which fields are references.  (And the object A contains, in an always predictable location -- the object header -- a reference to its class that holds that information.) That's really the whole answer.</p>\n"}],"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75123144,"answer_count":1,"score":0,"last_activity_date":1677487045,"creation_date":1673746291,"question_id":75122418,"body_markdown":"I recently started to study garbage collectors (GCs) used in languages like Java.  \r\nI am particularly interested in tracing (or mark-and-sweep) GCs like G1 (garbage-first).  \r\n\r\nI am confused with some details in an object-graph traversal performed to mark reachable objects in the mark phase.\r\n\r\nFrom my understanding, starting from roots, the G1 GC scan the heap memory of a visited object and find reference variables (stored in its region) to find other objects to visit (rather than maintaining the actual object graph at runtime and traversing it).\r\n\r\nRegarding heap memory scan, how does the G1 GC determine which memory location in an object stores a reference variable?\r\n\r\nFor example, given an object A, it could contain N reference variables as class members. For the object A, how does the GC know how many reference variables are there and at which offset they are stored?\r\n\r\nI am aware of techniques using remembered sets, card tables, etc.  \r\nFrom my understanding, those are all for optimization.  \r\nI am specifically curious about memory scanning.\r\n\r\nPlease do not just say &quot;the GC stores some metadata to figure out those information&quot;.  \r\nI hope to hear about the actual (or detailed) implementations.","title":"How heap memory scan (or object graph traversal) works in garbage collector?","body":"<p>I recently started to study garbage collectors (GCs) used in languages like Java.<br />\nI am particularly interested in tracing (or mark-and-sweep) GCs like G1 (garbage-first).</p>\n<p>I am confused with some details in an object-graph traversal performed to mark reachable objects in the mark phase.</p>\n<p>From my understanding, starting from roots, the G1 GC scan the heap memory of a visited object and find reference variables (stored in its region) to find other objects to visit (rather than maintaining the actual object graph at runtime and traversing it).</p>\n<p>Regarding heap memory scan, how does the G1 GC determine which memory location in an object stores a reference variable?</p>\n<p>For example, given an object A, it could contain N reference variables as class members. For the object A, how does the GC know how many reference variables are there and at which offset they are stored?</p>\n<p>I am aware of techniques using remembered sets, card tables, etc.<br />\nFrom my understanding, those are all for optimization.<br />\nI am specifically curious about memory scanning.</p>\n<p>Please do not just say &quot;the GC stores some metadata to figure out those information&quot;.<br />\nI hope to hear about the actual (or detailed) implementations.</p>\n"},{"tags":["java","spring-boot","transactions"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677485156,"post_id":75577993,"comment_id":133339632,"body_markdown":"Can you show some related logs?","body":"Can you show some related logs?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677485243,"post_id":75577993,"comment_id":133339656,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/7125837/why-does-transaction-roll-back-on-runtimeexception-but-not-sqlexception","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/7125837/why-does-transaction-roll-back-on-runtimeexception-but-not-sqlexception\" title=\"why does transaction roll back on runtimeexception but not sqlexception\">stackoverflow.com/questions/7125837/&hellip;</a>"},{"owner":{"account_id":27888558,"reputation":1,"user_id":21295439,"display_name":"Admin Metaversity"},"score":0,"creation_date":1677485749,"post_id":75577993,"comment_id":133339778,"body_markdown":"java.lang.ArithmeticException: / by zero\n\tat com.example.transation.service.EmpService.insertEmployee1(EmpService.java:30)","body":"java.lang.ArithmeticException: / by zero \tat com.example.transation.service.EmpService.insertEmployee1(Em&zwnj;&#8203;pService.java:30)"}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677486315,"creation_date":1677486315,"answer_id":75578193,"question_id":75577993,"body_markdown":"The issue happens when you call `insertEmployee1(...)` from `insertEmployee(...)`\r\n\r\nThe `@Transactional` annotation does not extend to the `insertEmployee(...)` method.\r\n\r\nTry adding `@Transactional` above `insertEmployee(...)` for it to be transactional too.\r\n\r\nHope it helps.","title":"Spring boot Service Layer Tranction not working","body":"<p>The issue happens when you call <code>insertEmployee1(...)</code> from <code>insertEmployee(...)</code></p>\n<p>The <code>@Transactional</code> annotation does not extend to the <code>insertEmployee(...)</code> method.</p>\n<p>Try adding <code>@Transactional</code> above <code>insertEmployee(...)</code> for it to be transactional too.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":27888558,"reputation":1,"user_id":21295439,"display_name":"Admin Metaversity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677486315,"creation_date":1677484889,"question_id":75577993,"body_markdown":"i am trying to achieve spring boot Transaction service layer bit not able to achieve:\r\n\r\nHere is my code\r\n\r\n```\r\n\r\n@Service\r\npublic class EmpService {\r\n\r\n\t@Autowired\r\n\tEmployeeDao employeeDao;\r\n\t\r\n\t@Autowired\r\n\tEmployeeRepo empRepo;\r\n\t\r\n\t@Autowired\r\n\tEmployeeHealthInsuranceRepo healthRepo;\r\n\t\r\n\t@Transactional\r\n\tpublic void insertEmployee1(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\r\n\t\t\r\n\t\t\tempRepo.save(employee);\r\n\t\t\tSystem.out.println(100/0);\r\n\t\t\thealthRepo.save(employeeHealthInsurance);\r\n\t\t\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void insertEmployee(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\r\n\t\tinsertEmployee1(employee,employeeHealthInsurance);\r\n\r\n\t\t}\r\n}\r\n```\r\n\r\ni am expecting roll back if any error occuer from database or any code level","title":"Spring boot Service Layer Tranction not working","body":"<p>i am trying to achieve spring boot Transaction service layer bit not able to achieve:</p>\n<p>Here is my code</p>\n<pre><code>\n@Service\npublic class EmpService {\n\n    @Autowired\n    EmployeeDao employeeDao;\n    \n    @Autowired\n    EmployeeRepo empRepo;\n    \n    @Autowired\n    EmployeeHealthInsuranceRepo healthRepo;\n    \n    @Transactional\n    public void insertEmployee1(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\n        \n            empRepo.save(employee);\n            System.out.println(100/0);\n            healthRepo.save(employeeHealthInsurance);\n        \n    \n    \n    }\n    \n    \n    public void insertEmployee(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\n        insertEmployee1(employee,employeeHealthInsurance);\n\n        }\n}\n</code></pre>\n<p>i am expecting roll back if any error occuer from database or any code level</p>\n"},{"tags":["java","android"],"owner":{"account_id":15411871,"reputation":21,"user_id":11118392,"display_name":"M.Spagnoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677486199,"creation_date":1677486199,"question_id":75578175,"body_markdown":"Recently I&#39;ve been working with android project and would like to externalize the navigation of my project to other library.\r\n\r\nI got the following structure: [![enter image description here](https://i.stack.imgur.com/MmwTy.png)](https://i.stack.imgur.com/MmwTy.png)\r\n\r\nAnd would like to create a library to get instances of the views externaly. I want to create, get info from the views and control data.\r\n\r\nCould I get any suggestions of this implementation? Many thanks!\r\n\r\nNavigation in App module isn&#39;t allowed to work","title":"Navigation of android project to external library","body":"<p>Recently I've been working with android project and would like to externalize the navigation of my project to other library.</p>\n<p>I got the following structure: <a href=\"https://i.stack.imgur.com/MmwTy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmwTy.png\" alt=\"enter image description here\" /></a></p>\n<p>And would like to create a library to get instances of the views externaly. I want to create, get info from the views and control data.</p>\n<p>Could I get any suggestions of this implementation? Many thanks!</p>\n<p>Navigation in App module isn't allowed to work</p>\n"},{"tags":["java","oracle","simplejdbccall"],"answers":[{"comments":[{"owner":{"account_id":27851419,"reputation":3,"user_id":21265854,"display_name":"shoegazeSunshine"},"score":0,"creation_date":1677486600,"post_id":75578162,"comment_id":133339992,"body_markdown":"if i dont have privilege to modify prodecure&#39;s declaration is there any way do it?","body":"if i dont have privilege to modify prodecure&#39;s declaration is there any way do it?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1677488460,"post_id":75578162,"comment_id":133340447,"body_markdown":"Not I am aware of: a PL/SQL type is specific to ORACLE, don&#39;t see any way to use it from JDBC.","body":"Not I am aware of: a PL/SQL type is specific to ORACLE, don&#39;t see any way to use it from JDBC."}],"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677486119,"creation_date":1677486119,"answer_id":75578162,"question_id":75577867,"body_markdown":"A JSON_OBJECT_T is a PL/SQL datatype not equivalent to JSON, a SQL datatype referenced by OracleTypes.JSON in you Java code. You have to wrap your procedure into one accepting a JSON and converting it into JSON_OBJECT_T to call your original one.","title":"Pass in/out JSON param to oracle stored procedure using simpleJdbcCall","body":"<p>A JSON_OBJECT_T is a PL/SQL datatype not equivalent to JSON, a SQL datatype referenced by OracleTypes.JSON in you Java code. You have to wrap your procedure into one accepting a JSON and converting it into JSON_OBJECT_T to call your original one.</p>\n"}],"owner":{"account_id":27851419,"reputation":3,"user_id":21265854,"display_name":"shoegazeSunshine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75578162,"answer_count":1,"score":0,"last_activity_date":1677486119,"creation_date":1677483859,"question_id":75577867,"body_markdown":"I have stored procedure in Oracle. Here its defenition:\r\n\r\n```\r\nprocedure pName(pObj in out JSON_OBJECT_T)\r\n```\r\n\r\nExample of calling it from dBeaver:\r\n\r\n```\r\nDECLARE\r\n  POBJ JSON_OBJECT_T;\r\nBEGIN\r\n  POBJ := JSON_OBJECT_T.parse(&#39;{&quot;cli_code&quot; : &quot;01.075648&quot;}&#39;);\r\n  COLVIR.CPL_PKGDEA_UTL.pGetDealList (  POBJ =&gt; POBJ) ;  \r\n  DBMS_OUTPUT.PUT_LINE(POBJ.stringify());\r\nEND;\r\n```\r\n\r\nOUTPUT: {&quot;cli_code&quot;:&quot;01.075648&quot;,&quot;cpl_deals&quot;:\\[{&quot;dep_id&quot;:1228,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;,\r\n&quot;dep_id&quot;:1222,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;}\\]}\r\n\r\nHere is my function in java:\r\n\r\n```\r\npublic void getDealList(String clientCode)  {\r\n\r\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\r\n                .withSchemaName(SCHEMA_NAME)\r\n                .withCatalogName(CPL)\r\n                .withProcedureName(pName)\r\n                .withoutProcedureColumnMetaDataAccess()\r\n                .declareParameters(\r\n                        new SqlParameter(POBJ, OracleTypes.),\r\n                        new SqlParameter(POBJ, OracleTypes.JSON));\r\n\r\n        OracleJsonFactory factory = new OracleJsonFactory();\r\n        OracleJsonObject json = factory.createObject();\r\n\r\n\r\n        json.put(&quot;cli_code&quot;, clientCode);\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(POBJ, json);\r\n\r\n        SqlParameterSource in = new MapSqlParameterSource(map);\r\n\r\n        Map&lt;String, Object&gt; out = simpleJdbcCall.execute(in);\r\n}\r\n```\r\n\r\nI keep getting this type of error: java.sql.SQLException: ORA-03115: unsupported network datatype or representation.\r\n\r\nHow should i declare this in/out parameter to make evething work?\r\n\r\nI tried to search in oracle documentation/ in stackoverflow threads but there was no success","title":"Pass in/out JSON param to oracle stored procedure using simpleJdbcCall","body":"<p>I have stored procedure in Oracle. Here its defenition:</p>\n<pre><code>procedure pName(pObj in out JSON_OBJECT_T)\n</code></pre>\n<p>Example of calling it from dBeaver:</p>\n<pre><code>DECLARE\n  POBJ JSON_OBJECT_T;\nBEGIN\n  POBJ := JSON_OBJECT_T.parse('{&quot;cli_code&quot; : &quot;01.075648&quot;}');\n  COLVIR.CPL_PKGDEA_UTL.pGetDealList (  POBJ =&gt; POBJ) ;  \n  DBMS_OUTPUT.PUT_LINE(POBJ.stringify());\nEND;\n</code></pre>\n<p>OUTPUT: {&quot;cli_code&quot;:&quot;01.075648&quot;,&quot;cpl_deals&quot;:[{&quot;dep_id&quot;:1228,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;,\n&quot;dep_id&quot;:1222,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;}]}</p>\n<p>Here is my function in java:</p>\n<pre><code>public void getDealList(String clientCode)  {\n\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\n                .withSchemaName(SCHEMA_NAME)\n                .withCatalogName(CPL)\n                .withProcedureName(pName)\n                .withoutProcedureColumnMetaDataAccess()\n                .declareParameters(\n                        new SqlParameter(POBJ, OracleTypes.),\n                        new SqlParameter(POBJ, OracleTypes.JSON));\n\n        OracleJsonFactory factory = new OracleJsonFactory();\n        OracleJsonObject json = factory.createObject();\n\n\n        json.put(&quot;cli_code&quot;, clientCode);\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(POBJ, json);\n\n        SqlParameterSource in = new MapSqlParameterSource(map);\n\n        Map&lt;String, Object&gt; out = simpleJdbcCall.execute(in);\n}\n</code></pre>\n<p>I keep getting this type of error: java.sql.SQLException: ORA-03115: unsupported network datatype or representation.</p>\n<p>How should i declare this in/out parameter to make evething work?</p>\n<p>I tried to search in oracle documentation/ in stackoverflow threads but there was no success</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"score":0,"creation_date":1676802693,"post_id":75499454,"comment_id":133207337,"body_markdown":"Maybe you can do an optional relation (composition) which is Nullable and simulate inheritance using it? In RDB world it would be 1 ... 0-1 relation I guess. So it means that you have an entity which can (but doesn&#39;t have to) point to another entity (table). Will it work for you?","body":"Maybe you can do an optional relation (composition) which is Nullable and simulate inheritance using it? In RDB world it would be 1 ... 0-1 relation I guess. So it means that you have an entity which can (but doesn&#39;t have to) point to another entity (table). Will it work for you?"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1676803523,"post_id":75499454,"comment_id":133207462,"body_markdown":"This was an option I was thinking about as well. I’m just curious if someone has a better solution.","body":"This was an option I was thinking about as well. I’m just curious if someone has a better solution."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676804416,"post_id":75499454,"comment_id":133207603,"body_markdown":"Aggregation is correct -- a Family has 0..N Children, a Kindergarten has 0..N Children. A Child has 1 family and 1 Kindergarten. With your model each Kindergarten has a single child, each family has a single child.","body":"Aggregation is correct -- a Family has 0..N Children, a Kindergarten has 0..N Children. A Child has 1 family and 1 Kindergarten. With your model each Kindergarten has a single child, each family has a single child."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":2,"creation_date":1676805045,"post_id":75499454,"comment_id":133207687,"body_markdown":"@Lara According the code and semantics of naming you provided, I don&#39;t see any urge of inheritance. Looks like a common relation between kindergarden-family and child-family and etc. Then you should use relational mappings. Did I misunderstood something?","body":"@Lara According the code and semantics of naming you provided, I don&#39;t see any urge of inheritance. Looks like a common relation between kindergarden-family and child-family and etc. Then you should use relational mappings. Did I misunderstood something?"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1676805173,"post_id":75499454,"comment_id":133207706,"body_markdown":"Reason being that `if (obj.getChild() != null)` is a bad design pattern and you should rather use `if (obj instanceof Child)`","body":"Reason being that <code>if (obj.getChild() != null)</code> is a bad design pattern and you should rather use <code>if (obj instanceof Child)</code>"},{"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"score":0,"creation_date":1676815860,"post_id":75499454,"comment_id":133209225,"body_markdown":"If there is an optional relation you can either use `!= null` or `Optional` class with `ofNullable` method. Sometimes you have to compare to `null`. Alternative is null object pattern https://www.baeldung.com/java-null-object-pattern .","body":"If there is an optional relation you can either use <code>!= null</code> or <code>Optional</code> class with <code>ofNullable</code> method. Sometimes you have to compare to <code>null</code>. Alternative is null object pattern <a href=\"https://www.baeldung.com/java-null-object-pattern\" rel=\"nofollow noreferrer\">baeldung.com/java-null-object-pattern</a> ."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676819242,"post_id":75499454,"comment_id":133209877,"body_markdown":"My presumption is each of these need to be an object ,BUT , with implemented methods?  And constructed globals? Which is more important implemented method code or global variables?","body":"My presumption is each of these need to be an object ,BUT , with implemented methods?  And constructed globals? Which is more important implemented method code or global variables?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676822603,"post_id":75499454,"comment_id":133210408,"body_markdown":"I don&#39;t know how abstract classes would really get along with DAOs and DTOs but with an outside capsule class as some sort of handler you could perform something like aggregation by casting an initial data referencing holder class to any abstract classes made for purpose.","body":"I don&#39;t know how abstract classes would really get along with DAOs and DTOs but with an outside capsule class as some sort of handler you could perform something like aggregation by casting an initial data referencing holder class to any abstract classes made for purpose."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676838842,"post_id":75499454,"comment_id":133213512,"body_markdown":"If you have an optional relationship, then `if (obj.getChild() != null)` is not bad design -- although depending on what you are doing `for (Child c: obj.getChildren())` is more natural. Using inheritance for HAS-A relationships like the ones in your question is not the right approach.","body":"If you have an optional relationship, then <code>if (obj.getChild() != null)</code> is not bad design -- although depending on what you are doing <code>for (Child c: obj.getChildren())</code> is more natural. Using inheritance for HAS-A relationships like the ones in your question is not the right approach."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676838938,"post_id":75499454,"comment_id":133213529,"body_markdown":"You need to explain your scenario in more detail to tell us why aggregation is not a good option.","body":"You need to explain your scenario in more detail to tell us why aggregation is not a good option."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676840038,"post_id":75499454,"comment_id":133213695,"body_markdown":"And what is your definition of aggregation vs composition?","body":"And what is your definition of aggregation vs composition?"}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677486022,"creation_date":1676802430,"question_id":75499454,"body_markdown":"I have a problem with multiple inheritance since (obviously) `class A extends B, C { }` is not possible in Java. The traditional workaround is using B and C as interfaces. But as you know JPA doesn&#39;t support interface-entities. A workaround would be to use an aggregation instead of a composition but I want to make sure that `A` cannot exist without `B`. Therefore I need a composition. I show my problem in an example\r\n\r\n\r\n| family_name | kindergarden_name | child_name\r\n| ----------- | ----------------- | -----\r\n| is not null | can be null (not dependent to col3) | can be null (not dependent to col2)\r\n\r\n\r\nI create a few classes:\r\n\r\n```\r\nclass Family\r\n - name: String\r\n```\r\n```\r\nclass Child\r\n - name: String\r\n```\r\n```\r\nclass Kindergarden\r\n - name: String\r\n```\r\n```\r\nclass FamilyWithChild extends Family, Child\r\n```\r\n```\r\nclass FamilyWithKindergarden extends Family, Kindergarden\r\n```\r\n```\r\nclass FamilyWithChildAndKindergarden extends FamilyWithChild, Kindergarden\r\n - child: Child\r\n```\r\n\r\nHow would you solve this problem. I haven&#39;t found any real solutions besides making a aggregation.\r\n\r\nThe table shown above might have more columns with additional information about Family, Child and Kindergarden.\r\n\r\nMaking an aggregation would work but this is not a good option for me in that scenario.\r\n\r\n**EDIT: I made an other example because the previous one was kinda misleading!**\r\n\r\nI want to make an other example since the previous one was kinda misleading. The usecase of a composition is if `A` requires `B` in order to exist (`A extends B` in Java). An aggregation does not require `B` (`class B {private A a;}` in Java). My example was very misleading so lets use an other one that is very different.\r\n\r\nI want to implement employees that might have multiple &quot;types&quot;. This is the data structure in sql:\r\nemp_id | name | given_name | working_since | volunteer_grp\r\n------ | ---- | ---------- | ----------------- | ---------\r\n1 | Name 1 | GivenName 1 | 2001-12-30 11:12:13 | null\r\n2 | Name 2 | GivenName 2 | null | GrpA\r\n3 | Name 3 | GivenName 3 | 2001-12-30 14:15:16 | GrpB\r\n4 | Name 4 | GivenName 4 | null | GrpA\r\n5 | Name 5 | GivenName 5 | 2001-12-30 17:18:19  | null\r\n\r\nNow lets implement this:\r\n\r\n    class Employee:\r\n     - id: int\r\n     # name: String\r\n     # givenName: String\r\n     # workingSince: Date\r\n     # volunteerGroup: String\r\n     + isCurrentlyWorking(): boolean\r\n     + isVolunteer(): boolean\r\n     + isWorkingVolunteer(): boolean\r\n\r\nAnd use it as follows:\r\n\r\n    public class EmployeeImpl extends Employee {\r\n      private List&lt;EmployeeType&gt; getType() {\r\n        final var list = new ArrayList&lt;EmployeeType&gt;();\r\n        if (this.isCurrentlyWorking()) {\r\n          list.add(EmployeeType.WORKING);\r\n        }\r\n        if (this.isVolunteer()) {\r\n          list.add(EmployeeType.VOLUNTEER);\r\n        }\r\n        return list;\r\n      }\r\n\r\n      public boolean hasType(EmployeeType type) {\r\n        return getType().contains(type);\r\n      }\r\n    }\r\n\r\nThis would be the easiest way to check what type it is (i.e. if volunteer should have less permissions in a programm). If I want to do certain things based on the type of employee it quite tricky. Lets add `+ connect(): void` to employee and the functionality of this method should be different based on the type of the employee - therefore either we do:\r\n\r\n    public void connect() {\r\n      establishConnection();\r\n      if (!hasType(EmployeeType.WORKING)) {\r\n        super.currentlyWorking = new Date();\r\n      }\r\n\r\n      if (!hasType(EmployeeType.VOLUNTEER)) {\r\n        showSalaryPanel();\r\n        return;\r\n      }\r\n      showTutorialPanel();\r\n    }\r\n\r\nYes this is quite simple but this can get more complicated. Therefore if there are different types of the base class instead of chain if-statements its recommended to use a composition and `instanceof` instead of `getType().equals(XType.YYY)`. Additional benefits are that each type can have its own fuctionality of `connect()` without using a chain of if-elseif-statements:\r\n\r\n    class Employee:\r\n     - id: int\r\n     # name: String\r\n     # givenName: String\r\n\r\n    class WorkingEmployee extends Employee:\r\n     - since: Date\r\n\r\n    class Volunteer extends Employee:\r\n     - group: String\r\n\r\n    class WorkingVolunteer extends Volunteer, WorkingEmployee:\r\n\r\nBut this is not possible in Java. Now: Lets imagine for a moment that `employee` also has a attribute `- company_party: boolean`. Now it gets completely out of hand. What is a good solution for this?","title":"Multiple Inheritance in Java using JPA","body":"<p>I have a problem with multiple inheritance since (obviously) <code>class A extends B, C { }</code> is not possible in Java. The traditional workaround is using B and C as interfaces. But as you know JPA doesn't support interface-entities. A workaround would be to use an aggregation instead of a composition but I want to make sure that <code>A</code> cannot exist without <code>B</code>. Therefore I need a composition. I show my problem in an example</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>family_name</th>\n<th>kindergarden_name</th>\n<th>child_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>is not null</td>\n<td>can be null (not dependent to col3)</td>\n<td>can be null (not dependent to col2)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I create a few classes:</p>\n<pre><code>class Family\n - name: String\n</code></pre>\n<pre><code>class Child\n - name: String\n</code></pre>\n<pre><code>class Kindergarden\n - name: String\n</code></pre>\n<pre><code>class FamilyWithChild extends Family, Child\n</code></pre>\n<pre><code>class FamilyWithKindergarden extends Family, Kindergarden\n</code></pre>\n<pre><code>class FamilyWithChildAndKindergarden extends FamilyWithChild, Kindergarden\n - child: Child\n</code></pre>\n<p>How would you solve this problem. I haven't found any real solutions besides making a aggregation.</p>\n<p>The table shown above might have more columns with additional information about Family, Child and Kindergarden.</p>\n<p>Making an aggregation would work but this is not a good option for me in that scenario.</p>\n<p><strong>EDIT: I made an other example because the previous one was kinda misleading!</strong></p>\n<p>I want to make an other example since the previous one was kinda misleading. The usecase of a composition is if <code>A</code> requires <code>B</code> in order to exist (<code>A extends B</code> in Java). An aggregation does not require <code>B</code> (<code>class B {private A a;}</code> in Java). My example was very misleading so lets use an other one that is very different.</p>\n<p>I want to implement employees that might have multiple &quot;types&quot;. This is the data structure in sql:\nemp_id | name | given_name | working_since | volunteer_grp\n------ | ---- | ---------- | ----------------- | ---------\n1 | Name 1 | GivenName 1 | 2001-12-30 11:12:13 | null\n2 | Name 2 | GivenName 2 | null | GrpA\n3 | Name 3 | GivenName 3 | 2001-12-30 14:15:16 | GrpB\n4 | Name 4 | GivenName 4 | null | GrpA\n5 | Name 5 | GivenName 5 | 2001-12-30 17:18:19  | null</p>\n<p>Now lets implement this:</p>\n<pre><code>class Employee:\n - id: int\n # name: String\n # givenName: String\n # workingSince: Date\n # volunteerGroup: String\n + isCurrentlyWorking(): boolean\n + isVolunteer(): boolean\n + isWorkingVolunteer(): boolean\n</code></pre>\n<p>And use it as follows:</p>\n<pre><code>public class EmployeeImpl extends Employee {\n  private List&lt;EmployeeType&gt; getType() {\n    final var list = new ArrayList&lt;EmployeeType&gt;();\n    if (this.isCurrentlyWorking()) {\n      list.add(EmployeeType.WORKING);\n    }\n    if (this.isVolunteer()) {\n      list.add(EmployeeType.VOLUNTEER);\n    }\n    return list;\n  }\n\n  public boolean hasType(EmployeeType type) {\n    return getType().contains(type);\n  }\n}\n</code></pre>\n<p>This would be the easiest way to check what type it is (i.e. if volunteer should have less permissions in a programm). If I want to do certain things based on the type of employee it quite tricky. Lets add <code>+ connect(): void</code> to employee and the functionality of this method should be different based on the type of the employee - therefore either we do:</p>\n<pre><code>public void connect() {\n  establishConnection();\n  if (!hasType(EmployeeType.WORKING)) {\n    super.currentlyWorking = new Date();\n  }\n\n  if (!hasType(EmployeeType.VOLUNTEER)) {\n    showSalaryPanel();\n    return;\n  }\n  showTutorialPanel();\n}\n</code></pre>\n<p>Yes this is quite simple but this can get more complicated. Therefore if there are different types of the base class instead of chain if-statements its recommended to use a composition and <code>instanceof</code> instead of <code>getType().equals(XType.YYY)</code>. Additional benefits are that each type can have its own fuctionality of <code>connect()</code> without using a chain of if-elseif-statements:</p>\n<pre><code>class Employee:\n - id: int\n # name: String\n # givenName: String\n\nclass WorkingEmployee extends Employee:\n - since: Date\n\nclass Volunteer extends Employee:\n - group: String\n\nclass WorkingVolunteer extends Volunteer, WorkingEmployee:\n</code></pre>\n<p>But this is not possible in Java. Now: Lets imagine for a moment that <code>employee</code> also has a attribute <code>- company_party: boolean</code>. Now it gets completely out of hand. What is a good solution for this?</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1677487750,"post_id":75576327,"comment_id":133340261,"body_markdown":"Do you really think it&#39;s a good idea to use JavaFX 13 together with Java 19?","body":"Do you really think it&#39;s a good idea to use JavaFX 13 together with Java 19?"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677469811,"creation_date":1677469374,"answer_id":75576601,"question_id":75576327,"body_markdown":"I&#39;m pretty sure you just made a capitalization error.\r\n\r\n- [`javax.sql.Rowset`](https://docs.oracle.com/javase/7/docs/api/javax/sql/RowSet.html) (uppercase &quot;R&quot;) is an interface in the `javax.sql` package.\r\n  - (of which [`javax.sql.rowset.CachedRowSet`](https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/CachedRowSet.html) is a subinterface).\r\n\r\n- [`javax.sql.rowset`](https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/package-summary.html) (lowercase &quot;r&quot;) is a package.\r\n\r\nTo import everything in a package, you need to do what you were doing with &quot;`import java.sql.*;`&quot;: `import javax.sql.rowset.*;`. But you probably just want to `import javax.sql.rowset.CachedRowSet;`.","title":"The package javax.sql.rowset is not accessible","body":"<p>I'm pretty sure you just made a capitalization error.</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\"><code>javax.sql.Rowset</code></a> (uppercase &quot;R&quot;) is an interface in the <code>javax.sql</code> package.</p>\n<ul>\n<li>(of which <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/CachedRowSet.html\" rel=\"nofollow noreferrer\"><code>javax.sql.rowset.CachedRowSet</code></a> is a subinterface).</li>\n</ul>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.sql.rowset</code></a> (lowercase &quot;r&quot;) is a package.</p>\n</li>\n</ul>\n<p>To import everything in a package, you need to do what you were doing with &quot;<code>import java.sql.*;</code>&quot;: <code>import javax.sql.rowset.*;</code>. But you probably just want to <code>import javax.sql.rowset.CachedRowSet;</code>.</p>\n"}],"owner":{"account_id":27886738,"reputation":1,"user_id":21294012,"display_name":"mikey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677485999,"creation_date":1677465075,"question_id":75576327,"body_markdown":"I&#39;m trying to implement a `CachedRowSet`.  I&#39;m using VS Code, jdk19, and maven.\r\n\r\nIn my DBUtil.java file, I have this:\r\n\r\n    package searcher;\r\n\r\n    import javax.sql.rowset;\r\n    import java.sql.*;\r\n\r\n&quot;_The package javax.sql.rowset is not accessible_&quot; occurs on the import javax line.\r\n\r\nsettings.json\r\n\r\n    {\r\n      &quot;java.configuration.updateBuildConfiguration&quot;: &quot;interactive&quot;,\r\n      &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\&quot;\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;searcher&lt;/groupId&gt;\r\n        &lt;artifactId&gt;searcher&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running --&gt;\r\n                            &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;searcher.App&lt;/mainClass&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nI&#39;ve tried clean workspace.  I&#39;ve tried changing pom.xml.\r\n\r\nI just tried editing module-info.java and adding requires transitive java.sql.rowset.\r\n\r\nWhat I find really frustrating is that the Explorer panel on the left shows JRE System Library and under java.sql.rowset is javax.sql.Rowset listed.","title":"The package javax.sql.rowset is not accessible","body":"<p>I'm trying to implement a <code>CachedRowSet</code>.  I'm using VS Code, jdk19, and maven.</p>\n<p>In my DBUtil.java file, I have this:</p>\n<pre><code>package searcher;\n\nimport javax.sql.rowset;\nimport java.sql.*;\n</code></pre>\n<p>&quot;<em>The package javax.sql.rowset is not accessible</em>&quot; occurs on the import javax line.</p>\n<p>settings.json</p>\n<pre><code>{\n  &quot;java.configuration.updateBuildConfiguration&quot;: &quot;interactive&quot;,\n  &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\&quot;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;searcher&lt;/groupId&gt;\n    &lt;artifactId&gt;searcher&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;searcher.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've tried clean workspace.  I've tried changing pom.xml.</p>\n<p>I just tried editing module-info.java and adding requires transitive java.sql.rowset.</p>\n<p>What I find really frustrating is that the Explorer panel on the left shows JRE System Library and under java.sql.rowset is javax.sql.Rowset listed.</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"comments":[{"owner":{"account_id":2313483,"reputation":3401,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"score":0,"creation_date":1691502211,"post_id":69732057,"comment_id":135498248,"body_markdown":"but it would result in non-obfuscated sources","body":"but it would result in non-obfuscated sources"}],"tags":[],"owner":{"account_id":10033072,"reputation":181,"user_id":7418806,"display_name":"thekingofcity"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1677485759,"creation_date":1635301739,"answer_id":69732057,"question_id":68655592,"body_markdown":"`components.java` should contain the shadow jar and the original jar, so simply remove the `artifact shadowJar` line will work.","title":"Gradle Invalid publication &#39;shadow&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;all&#39;)","body":"<p><code>components.java</code> should contain the shadow jar and the original jar, so simply remove the <code>artifact shadowJar</code> line will work.</p>\n"}],"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5839,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69732057,"answer_count":1,"score":10,"last_activity_date":1677485759,"creation_date":1628097811,"question_id":68655592,"body_markdown":"I discovered to day that the published artifact didn&#39;t include my shaded libraries. I would like to have them inside so I decided to edit my publishing section inside my build.gradle\r\n```groovy\r\npublishing {\r\n    repositories {\r\n        maven {\r\n            name = &quot;GitHubPackages&quot;\r\n            url = &quot;https://maven.pkg.github.com/oraxen/Oraxen&quot;\r\n            credentials {\r\n                username = System.getenv(&quot;GITHUB_ACTOR&quot;)\r\n                password = System.getenv(&quot;GITHUB_TOKEN&quot;)\r\n            }\r\n        }\r\n    }\r\n    publications {\r\n        shadow(MavenPublication) {\r\n            from components.java\r\n            artifact shadowJar\r\n        }\r\n    }\r\n}\r\n// entire file: https://github.com/oraxen/oraxen/blob/06ca465c8854c9e3df386a608845d86852e70560/build.gradle\r\n```\r\n\r\nUnfortunately I got this error:\r\n```console\r\nExecution failed for task &#39;:publishShadowPublicationToGitHubPackagesRepository&#39;.\r\n&gt; Failed to publish publication &#39;shadow&#39; to repository &#39;GitHubPackages&#39;\r\n   &gt; Invalid publication &#39;shadow&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;all&#39;).\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n```\r\n\r\nHow can I specify that I want to upload the -all artifact?","title":"Gradle Invalid publication &#39;shadow&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;all&#39;)","body":"<p>I discovered to day that the published artifact didn't include my shaded libraries. I would like to have them inside so I decided to edit my publishing section inside my build.gradle</p>\n<pre><code>publishing {\n    repositories {\n        maven {\n            name = &quot;GitHubPackages&quot;\n            url = &quot;https://maven.pkg.github.com/oraxen/Oraxen&quot;\n            credentials {\n                username = System.getenv(&quot;GITHUB_ACTOR&quot;)\n                password = System.getenv(&quot;GITHUB_TOKEN&quot;)\n            }\n        }\n    }\n    publications {\n        shadow(MavenPublication) {\n            from components.java\n            artifact shadowJar\n        }\n    }\n}\n// entire file: https://github.com/oraxen/oraxen/blob/06ca465c8854c9e3df386a608845d86852e70560/build.gradle\n</code></pre>\n<p>Unfortunately I got this error:</p>\n<pre><code>Execution failed for task ':publishShadowPublicationToGitHubPackagesRepository'.\n&gt; Failed to publish publication 'shadow' to repository 'GitHubPackages'\n   &gt; Invalid publication 'shadow': multiple artifacts with the identical extension and classifier ('jar', 'all').\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p>How can I specify that I want to upload the -all artifact?</p>\n"},{"tags":["java","amazon-s3","aws-api-gateway"],"comments":[{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":0,"creation_date":1677487447,"post_id":75578058,"comment_id":133340181,"body_markdown":"Yes. you are converting the image to text. It will be stored as text only. Check the example once again. The example must be for uploading the image but as a base64 string .","body":"Yes. you are converting the image to text. It will be stored as text only. Check the example once again. The example must be for uploading the image but as a base64 string ."},{"owner":{"account_id":18831469,"reputation":81,"user_id":13735175,"display_name":"pavants"},"score":0,"creation_date":1677492362,"post_id":75578058,"comment_id":133341482,"body_markdown":"Unfortunately the example upload a short text and there&#39;s nothing on binary.","body":"Unfortunately the example upload a short text and there&#39;s nothing on binary."}],"owner":{"account_id":18831469,"reputation":81,"user_id":13735175,"display_name":"pavants"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677485367,"creation_date":1677485367,"question_id":75578058,"body_markdown":"I have an Amazon ApiGateway that handle the upload and download from S3 buckets as explained here: https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html\r\n\r\nThe client is written in plain java using some AWS example code.\r\nMy issue is with PUT method: Text file are correctly uploaded but binary file like images appears as string of bytes.\r\n\r\nThis is the code I use to upload:\r\n```\r\nbyte [] data = Files.readAllBytes(Paths.get(fileToUpload));\r\n\r\n/* For string I use this line:\t\t\t\r\nString objectContent=new String(data, StandardCharsets.UTF_8);\r\n*/\r\n//For Image file I need to convert with this\r\nString objectContent=Base64.getEncoder().encodeToString(data);\r\n\r\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\nheaders.put(&quot;x-amz-content-sha256&quot;, contentHashString);\r\nheaders.put(&quot;x-amz-storage-class&quot;, &quot;REDUCED_REDUNDANCY&quot;);\r\n\t        \r\nAWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;PUT&quot;, &quot;execute-api&quot;, regionName);\r\nString authorization = signer.computeSignature(headers,null, // no query parameters\r\n\t                                                       contentHashString, \r\n\t                                                       aws_access_key_id, \r\n\t                                                       aws_secret_access_key);\r\n\t                \r\n// express authorization for this as a header\r\nheaders.put(&quot;Authorization&quot;, authorization);\r\n\t        \r\n// make the call to Amazon API Gateway\r\nString response = HttpUtils2.invokeHttpRequest(endpointUrl, &quot;PUT&quot;, headers, objectContent);\r\n```\r\n\r\nPossibily the error is on the way I convert the content to string to post.","title":"Java Binary file upload to APIGateway with S3 backend","body":"<p>I have an Amazon ApiGateway that handle the upload and download from S3 buckets as explained here: <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html</a></p>\n<p>The client is written in plain java using some AWS example code.\nMy issue is with PUT method: Text file are correctly uploaded but binary file like images appears as string of bytes.</p>\n<p>This is the code I use to upload:</p>\n<pre><code>byte [] data = Files.readAllBytes(Paths.get(fileToUpload));\n\n/* For string I use this line:          \nString objectContent=new String(data, StandardCharsets.UTF_8);\n*/\n//For Image file I need to convert with this\nString objectContent=Base64.getEncoder().encodeToString(data);\n\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\nheaders.put(&quot;x-amz-content-sha256&quot;, contentHashString);\nheaders.put(&quot;x-amz-storage-class&quot;, &quot;REDUCED_REDUNDANCY&quot;);\n            \nAWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;PUT&quot;, &quot;execute-api&quot;, regionName);\nString authorization = signer.computeSignature(headers,null, // no query parameters\n                                                           contentHashString, \n                                                           aws_access_key_id, \n                                                           aws_secret_access_key);\n                    \n// express authorization for this as a header\nheaders.put(&quot;Authorization&quot;, authorization);\n            \n// make the call to Amazon API Gateway\nString response = HttpUtils2.invokeHttpRequest(endpointUrl, &quot;PUT&quot;, headers, objectContent);\n</code></pre>\n<p>Possibily the error is on the way I convert the content to string to post.</p>\n"},{"tags":["java","spring-boot","jaeger-client-go"],"comments":[{"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"score":0,"creation_date":1672534477,"post_id":74859626,"comment_id":132304063,"body_markdown":"After a bit of checking the documentation, seems like openTracing set to be archived/Deprecated to favor openTelemetry. Probably spring 3 supports the micrometer, openTelemetry.","body":"After a bit of checking the documentation, seems like openTracing set to be archived/Deprecated to favor openTelemetry. Probably spring 3 supports the micrometer, openTelemetry."}],"answers":[{"tags":[],"owner":{"account_id":14740356,"reputation":59,"user_id":10645144,"display_name":"Priyanshu Parate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671901192,"creation_date":1671901192,"answer_id":74909097,"question_id":74859626,"body_markdown":"yes, currently it is not supporting, I also tried. with no change, it work on the 2.7.7 version","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>yes, currently it is not supporting, I also tried. with no change, it work on the 2.7.7 version</p>\n"},{"tags":[],"owner":{"account_id":3596558,"reputation":76,"user_id":3001063,"display_name":"Sergei I."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675740444,"creation_date":1675740444,"answer_id":75368688,"question_id":74859626,"body_markdown":"Looks like it is a known issue [#146][1] due to Spring removing support for `spring.factories`. A suggested workaround:\r\n\r\n&gt; As temporary workaround you may create plain text file `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` and put `io.opentracing.contrib.java.spring.jaeger.starter.JaegerAutoConfiguration` into it.\r\n\r\n\r\n  [1]: https://github.com/opentracing-contrib/java-spring-jaeger/issues/146","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>Looks like it is a known issue <a href=\"https://github.com/opentracing-contrib/java-spring-jaeger/issues/146\" rel=\"nofollow noreferrer\">#146</a> due to Spring removing support for <code>spring.factories</code>. A suggested workaround:</p>\n<blockquote>\n<p>As temporary workaround you may create plain text file <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> and put <code>io.opentracing.contrib.java.spring.jaeger.starter.JaegerAutoConfiguration</code> into it.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":0,"creation_date":1677484482,"post_id":75577945,"comment_id":133339501,"body_markdown":"A mere link to an off-site solution is not an acceptable answer on Stack Overflow. Please at least summarize what&#39;s behind the link.","body":"A mere link to an off-site solution is not an acceptable answer on Stack Overflow. Please at least summarize what&#39;s behind the link."},{"owner":{"account_id":27659029,"reputation":3,"user_id":21112277,"display_name":"Mohammad Mahdi Tilab"},"score":1,"creation_date":1677484694,"post_id":75577945,"comment_id":133339538,"body_markdown":"you are right! I added main code part here! I hope work for you :-)","body":"you are right! I added main code part here! I hope work for you :-)"}],"tags":[],"owner":{"account_id":27659029,"reputation":3,"user_id":21112277,"display_name":"Mohammad Mahdi Tilab"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677484617,"creation_date":1677484387,"answer_id":75577945,"question_id":74859626,"body_markdown":"I integrated Jaeger with Spring boot 3.0 with sample code in following repository. Also you can find my article in Persian language:\r\n\r\nhttps://github.com/m-tilab/springboot3-jaeger-integration\r\n\r\nhttps://virgool.io/@mohammadmahditilab/%D8%A7%D8%A8%D8%B2%D8%A7%D8%B1%DB%8C-%D8%A8%D9%87-%D9%86%D8%A7%D9%85-jaeger-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%A8%D9%87%D8%AA%D8%B1-%D8%AF%DB%8C%D8%AF%D9%86-%D8%AE%D8%B7%D8%A7%D9%87%D8%A7-%D8%AF%D8%B1-%D9%85%D8%B9%D9%85%D8%A7%D8%B1%DB%8C-%D9%85%D8%A7%DA%A9%D8%B1%D9%88%D8%B3%D8%B1%D9%88%DB%8C%D8%B3-%D9%88-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A2%D9%86-%D8%AF%D8%B1-spring-boot-30-c6nugawkzlyh\r\n\r\nYou need to create main span manually and initialize your Tracker bean in start up. look at following codes:\r\n\r\n    @Configuration\r\n    public class JaegerConfig {\r\n    \r\n        @Value(&quot;${opentracing.jaeger.enabled:false}&quot;)\r\n        private boolean jaegerEnabled;\r\n    \r\n        @Value(&quot;${opentracing.jaeger.udp-sender.host}&quot;)\r\n        private String opentracingUdpSenderHost;\r\n    \r\n        @Value(&quot;${opentracing.jaeger.udp-sender.port}&quot;)\r\n        private Integer opentracingUdpSenderPort;\r\n    \r\n        @Bean\r\n        public Tracer jaegerTracer() {\r\n    \r\n            if (!jaegerEnabled)\r\n                return NoopTracerFactory.create();\r\n    \r\n            JaegerTracer tracer = new io.jaegertracing.Configuration(&quot;instrument-list-job&quot;)\r\n                    .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE).withParam(1))\r\n                    .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration()\r\n                            .withSender(new io.jaegertracing.Configuration.SenderConfiguration()\r\n                                    .withAgentHost(opentracingUdpSenderHost).withAgentPort(opentracingUdpSenderPort)).withLogSpans(true)).getTracer();\r\n    \r\n            GlobalTracer.registerIfAbsent(tracer);\r\n    \r\n            return tracer;\r\n        }\r\n    }\r\n\r\nAlso, Create main span as follow:\r\n\r\n    @Configuration\r\n    @Order(Integer.MIN_VALUE)\r\n    public class JaegerWebFilter implements WebFilter {\r\n    \r\n        @Value(&quot;${application.name}&quot;)\r\n        private String applicationName;\r\n    \r\n        @Autowired\r\n        private Tracer tracer;\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    \r\n            Span span = tracer.buildSpan(applicationName).start();\r\n    \r\n            Scope scope = tracer.activateSpan(span);\r\n    \r\n            return chain.filter(exchange).doFinally(signalType -&gt; {\r\n    \r\n                span.log(spanLogDecorator(exchange, span));\r\n    \r\n                scope.close();\r\n                span.finish();\r\n            });\r\n        }\r\n    \r\n        @Nullable\r\n        private Map&lt;String, Object&gt; spanLogDecorator(ServerWebExchange exchange, Span span) {\r\n    \r\n            final Object handler = exchange.getAttribute(HandlerMapping.BEST_MATCHING_HANDLER_ATTRIBUTE);\r\n            if (handler == null) {\r\n                return null;\r\n            }\r\n    \r\n            final Map&lt;String, Object&gt; logs = new HashMap&lt;&gt;(4);\r\n            logs.put(&quot;event&quot;, &quot;handle&quot;);\r\n    \r\n            final Object pattern = exchange.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n            final String patternAsString = pattern == null ? null : pattern.toString();\r\n            if (pattern != null) {\r\n                logs.put(&quot;handler&quot;, patternAsString);\r\n            }\r\n    \r\n            if (handler instanceof HandlerMethod handlerMethod) {\r\n    \r\n                final String methodName = handlerMethod.getMethod().getName();\r\n                logs.put(&quot;handler.method_name&quot;, handlerMethod.getMethod().getName());\r\n                span.setOperationName(methodName);\r\n                logs.put(&quot;handler.class_simple_name&quot;, handlerMethod.getBeanType().getSimpleName());\r\n            } else {\r\n                if (pattern != null) {\r\n                    span.setOperationName(patternAsString);\r\n                }\r\n                logs.put(&quot;handler.class_simple_name&quot;, handler.getClass().getSimpleName());\r\n            }\r\n    \r\n            Tags.COMPONENT.set(span, &quot;java-spring-webflux&quot;);\r\n            final ServerHttpRequest request = exchange.getRequest();\r\n            Tags.HTTP_METHOD.set(span, request.getMethod().name());\r\n            Tags.HTTP_URL.set(span, request.getURI().toString());\r\n            Optional.ofNullable(request.getRemoteAddress()).ifPresent(remoteAddress -&gt; {\r\n                Tags.PEER_HOSTNAME.set(span, remoteAddress.getHostString());\r\n                Tags.PEER_PORT.set(span, remoteAddress.getPort());\r\n                Optional.ofNullable(remoteAddress.getAddress()).ifPresent(inetAddress -&gt; {\r\n                    if (inetAddress instanceof Inet6Address) {\r\n                        Tags.PEER_HOST_IPV6.set(span, inetAddress.getHostAddress());\r\n                    } else {\r\n                        Tags.PEER_HOST_IPV4.set(span, inetAddress.getHostAddress());\r\n                    }\r\n                });\r\n            });\r\n    \r\n            return logs;\r\n        }\r\n    }\r\n\r\n","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>I integrated Jaeger with Spring boot 3.0 with sample code in following repository. Also you can find my article in Persian language:</p>\n<p><a href=\"https://github.com/m-tilab/springboot3-jaeger-integration\" rel=\"nofollow noreferrer\">https://github.com/m-tilab/springboot3-jaeger-integration</a></p>\n<p><a href=\"https://virgool.io/@mohammadmahditilab/%D8%A7%D8%A8%D8%B2%D8%A7%D8%B1%DB%8C-%D8%A8%D9%87-%D9%86%D8%A7%D9%85-jaeger-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%A8%D9%87%D8%AA%D8%B1-%D8%AF%DB%8C%D8%AF%D9%86-%D8%AE%D8%B7%D8%A7%D9%87%D8%A7-%D8%AF%D8%B1-%D9%85%D8%B9%D9%85%D8%A7%D8%B1%DB%8C-%D9%85%D8%A7%DA%A9%D8%B1%D9%88%D8%B3%D8%B1%D9%88%DB%8C%D8%B3-%D9%88-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A2%D9%86-%D8%AF%D8%B1-spring-boot-30-c6nugawkzlyh\" rel=\"nofollow noreferrer\">https://virgool.io/@mohammadmahditilab/%D8%A7%D8%A8%D8%B2%D8%A7%D8%B1%DB%8C-%D8%A8%D9%87-%D9%86%D8%A7%D9%85-jaeger-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%A8%D9%87%D8%AA%D8%B1-%D8%AF%DB%8C%D8%AF%D9%86-%D8%AE%D8%B7%D8%A7%D9%87%D8%A7-%D8%AF%D8%B1-%D9%85%D8%B9%D9%85%D8%A7%D8%B1%DB%8C-%D9%85%D8%A7%DA%A9%D8%B1%D9%88%D8%B3%D8%B1%D9%88%DB%8C%D8%B3-%D9%88-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A2%D9%86-%D8%AF%D8%B1-spring-boot-30-c6nugawkzlyh</a></p>\n<p>You need to create main span manually and initialize your Tracker bean in start up. look at following codes:</p>\n<pre><code>@Configuration\npublic class JaegerConfig {\n\n    @Value(&quot;${opentracing.jaeger.enabled:false}&quot;)\n    private boolean jaegerEnabled;\n\n    @Value(&quot;${opentracing.jaeger.udp-sender.host}&quot;)\n    private String opentracingUdpSenderHost;\n\n    @Value(&quot;${opentracing.jaeger.udp-sender.port}&quot;)\n    private Integer opentracingUdpSenderPort;\n\n    @Bean\n    public Tracer jaegerTracer() {\n\n        if (!jaegerEnabled)\n            return NoopTracerFactory.create();\n\n        JaegerTracer tracer = new io.jaegertracing.Configuration(&quot;instrument-list-job&quot;)\n                .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE).withParam(1))\n                .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration()\n                        .withSender(new io.jaegertracing.Configuration.SenderConfiguration()\n                                .withAgentHost(opentracingUdpSenderHost).withAgentPort(opentracingUdpSenderPort)).withLogSpans(true)).getTracer();\n\n        GlobalTracer.registerIfAbsent(tracer);\n\n        return tracer;\n    }\n}\n</code></pre>\n<p>Also, Create main span as follow:</p>\n<pre><code>@Configuration\n@Order(Integer.MIN_VALUE)\npublic class JaegerWebFilter implements WebFilter {\n\n    @Value(&quot;${application.name}&quot;)\n    private String applicationName;\n\n    @Autowired\n    private Tracer tracer;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n        Span span = tracer.buildSpan(applicationName).start();\n\n        Scope scope = tracer.activateSpan(span);\n\n        return chain.filter(exchange).doFinally(signalType -&gt; {\n\n            span.log(spanLogDecorator(exchange, span));\n\n            scope.close();\n            span.finish();\n        });\n    }\n\n    @Nullable\n    private Map&lt;String, Object&gt; spanLogDecorator(ServerWebExchange exchange, Span span) {\n\n        final Object handler = exchange.getAttribute(HandlerMapping.BEST_MATCHING_HANDLER_ATTRIBUTE);\n        if (handler == null) {\n            return null;\n        }\n\n        final Map&lt;String, Object&gt; logs = new HashMap&lt;&gt;(4);\n        logs.put(&quot;event&quot;, &quot;handle&quot;);\n\n        final Object pattern = exchange.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n        final String patternAsString = pattern == null ? null : pattern.toString();\n        if (pattern != null) {\n            logs.put(&quot;handler&quot;, patternAsString);\n        }\n\n        if (handler instanceof HandlerMethod handlerMethod) {\n\n            final String methodName = handlerMethod.getMethod().getName();\n            logs.put(&quot;handler.method_name&quot;, handlerMethod.getMethod().getName());\n            span.setOperationName(methodName);\n            logs.put(&quot;handler.class_simple_name&quot;, handlerMethod.getBeanType().getSimpleName());\n        } else {\n            if (pattern != null) {\n                span.setOperationName(patternAsString);\n            }\n            logs.put(&quot;handler.class_simple_name&quot;, handler.getClass().getSimpleName());\n        }\n\n        Tags.COMPONENT.set(span, &quot;java-spring-webflux&quot;);\n        final ServerHttpRequest request = exchange.getRequest();\n        Tags.HTTP_METHOD.set(span, request.getMethod().name());\n        Tags.HTTP_URL.set(span, request.getURI().toString());\n        Optional.ofNullable(request.getRemoteAddress()).ifPresent(remoteAddress -&gt; {\n            Tags.PEER_HOSTNAME.set(span, remoteAddress.getHostString());\n            Tags.PEER_PORT.set(span, remoteAddress.getPort());\n            Optional.ofNullable(remoteAddress.getAddress()).ifPresent(inetAddress -&gt; {\n                if (inetAddress instanceof Inet6Address) {\n                    Tags.PEER_HOST_IPV6.set(span, inetAddress.getHostAddress());\n                } else {\n                    Tags.PEER_HOST_IPV4.set(span, inetAddress.getHostAddress());\n                }\n            });\n        });\n\n        return logs;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677484617,"creation_date":1671520464,"question_id":74859626,"body_markdown":"I am using spring boot version 3.3.1 in my spring boot project with jaeger for distributed tracing (version 3.3.1 which latest recommended version) and my java version is 17.\r\n\r\nI have added dependencies as follows:\r\n```xml\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.0&lt;/version&gt;\r\n   &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n   &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\r\n   &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis my configuration file: \r\n\r\n```java\r\npackage com.example.jaegerclient.config;\r\n\r\nimport io.jaegertracing.internal.JaegerTracer;\r\nimport io.jaegertracing.internal.samplers.ConstSampler;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\n@Configuration\r\npublic class JaegerConfig {\r\n\r\n    @Bean\r\n    public WebClient webClient() {\r\n        return WebClient.create();\r\n    }\r\n\r\n    @Bean\r\n    public JaegerTracer jaegerTracer() {\r\n\r\n        return new io.jaegertracing.Configuration(&quot;jaeger-client&quot;)\r\n                .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE)\r\n                        .withParam(1))\r\n                .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration().withLogSpans(true))\r\n                .getTracer();\r\n    }\r\n}\r\n\r\n```\r\n\r\nUpon starting application I can see in logs that jaeger has configured \r\n\r\n&gt;2022-12-20T12:22:51.543+05:30  INFO 22028 --- [           main] io.jaegertracing.Configuration           : Initialized tracer=JaegerTracer(version=Java-1.1.0, serviceName=jaeger-client, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=xyz, jaeger.version=Java-1.1.0, ip=192.xxx.xx.xx}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)\r\n\r\n\r\nBut I am not able see the service in jaeger UI or any traces even after I hit the request.\r\n\r\nWhen I use spring boot lower than 3.0.0 like 2.7.7, I am able to see the service and traces in jaeger UI. \r\n\r\nI just want to know that jaeger is not compatible with spring boot 3.0.0 or I am doing something wrong. \r\n\r\nThanks in advance. ","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>I am using spring boot version 3.3.1 in my spring boot project with jaeger for distributed tracing (version 3.3.1 which latest recommended version) and my java version is 17.</p>\n<p>I have added dependencies as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0&lt;/version&gt;\n   &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n   &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\n   &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This my configuration file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.jaegerclient.config;\n\nimport io.jaegertracing.internal.JaegerTracer;\nimport io.jaegertracing.internal.samplers.ConstSampler;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@Configuration\npublic class JaegerConfig {\n\n    @Bean\n    public WebClient webClient() {\n        return WebClient.create();\n    }\n\n    @Bean\n    public JaegerTracer jaegerTracer() {\n\n        return new io.jaegertracing.Configuration(&quot;jaeger-client&quot;)\n                .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE)\n                        .withParam(1))\n                .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration().withLogSpans(true))\n                .getTracer();\n    }\n}\n\n</code></pre>\n<p>Upon starting application I can see in logs that jaeger has configured</p>\n<blockquote>\n<p>2022-12-20T12:22:51.543+05:30  INFO 22028 --- [           main] io.jaegertracing.Configuration           : Initialized tracer=JaegerTracer(version=Java-1.1.0, serviceName=jaeger-client, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=xyz, jaeger.version=Java-1.1.0, ip=192.xxx.xx.xx}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)</p>\n</blockquote>\n<p>But I am not able see the service in jaeger UI or any traces even after I hit the request.</p>\n<p>When I use spring boot lower than 3.0.0 like 2.7.7, I am able to see the service and traces in jaeger UI.</p>\n<p>I just want to know that jaeger is not compatible with spring boot 3.0.0 or I am doing something wrong.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"score":2,"creation_date":1529549417,"post_id":50322697,"comment_id":88916408,"body_markdown":"there is &#39; MySQL8Dialect &#39; ,you can check it .https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/MySQL8Dialect.html","body":"there is &#39; MySQL8Dialect &#39; ,you can check it .<a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/MySQL8Dialect.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dia&zwnj;&#8203;lect/&hellip;</a>"}],"tags":[],"owner":{"account_id":5842375,"reputation":3614,"user_id":4603538,"display_name":"TwiN"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526267967,"creation_date":1526267967,"answer_id":50322697,"question_id":50322550,"body_markdown":"Looking over at [MySQL 8&#39;s release notes][1], MySQL 8.x has been in development and has only been out for GA since 2018-04-19 (less than a month ago), so I doubt there would be a dialect already made specifically for it.\r\n\r\nYou can see a list of all hibernate dialects [here][2], and as you can see, there is no MySQL 8 dialect. \r\n\r\n`MySQLDialect` should only be used for MySQL 5 and earlier whereas `MySQL57Dialect` should be used for MySQL 5.x as well as 8.x for now.\r\n\r\n\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/relnotes/mysql/8.0/en/\r\n  [2]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html","title":"Hibernate dialect for MySQL 8?","body":"<p>Looking over at <a href=\"https://dev.mysql.com/doc/relnotes/mysql/8.0/en/\" rel=\"nofollow noreferrer\">MySQL 8's release notes</a>, MySQL 8.x has been in development and has only been out for GA since 2018-04-19 (less than a month ago), so I doubt there would be a dialect already made specifically for it.</p>\n\n<p>You can see a list of all hibernate dialects <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">here</a>, and as you can see, there is no MySQL 8 dialect. </p>\n\n<p><code>MySQLDialect</code> should only be used for MySQL 5 and earlier whereas <code>MySQL57Dialect</code> should be used for MySQL 5.x as well as 8.x for now.</p>\n"},{"tags":[],"owner":{"account_id":13662257,"reputation":1,"user_id":9856976,"display_name":"Philip Dilip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527485848,"creation_date":1527485848,"answer_id":50559742,"question_id":50322550,"body_markdown":"I had the similar query as I installed MySQL 8 Server and tried to interact with the same using my Spring Boot Application.\r\n\r\nBut I was unable to do so. \r\n\r\nWhen I explored the Source Code of MySQL5Dialect class, it&#39;s documentation clearly mentions that this dialect class has been dedicated to MySQL 5.X versions.\r\n\r\nI am not sure whether it supports MySQL 8.X versions.\r\n\r\nThus I would suggest to use MySQL 5.X till an official dialect is released with Hibernate.","title":"Hibernate dialect for MySQL 8?","body":"<p>I had the similar query as I installed MySQL 8 Server and tried to interact with the same using my Spring Boot Application.</p>\n\n<p>But I was unable to do so. </p>\n\n<p>When I explored the Source Code of MySQL5Dialect class, it's documentation clearly mentions that this dialect class has been dedicated to MySQL 5.X versions.</p>\n\n<p>I am not sure whether it supports MySQL 8.X versions.</p>\n\n<p>Thus I would suggest to use MySQL 5.X till an official dialect is released with Hibernate.</p>\n"},{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"score":1,"creation_date":1529550796,"post_id":50629293,"comment_id":88916710,"body_markdown":"I try it, there is  error `Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]` ,mysql version is 8. hibernate version is 5.0.1. I revert it to `MySQL57Dialect` is work fine","body":"I try it, there is  error <code>Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]</code> ,mysql version is 8. hibernate version is 5.0.1. I revert it to <code>MySQL57Dialect</code> is work fine"},{"owner":{"account_id":3771696,"reputation":871,"user_id":3133685,"accept_rate":66,"display_name":"MaxPower"},"score":1,"creation_date":1529551832,"post_id":50629293,"comment_id":88916900,"body_markdown":"Can’t speak to much, but unless there’s a typo in your version number of Hibernate, that would be my first guess. It requires at least 5.3","body":"Can’t speak to much, but unless there’s a typo in your version number of Hibernate, that would be my first guess. It requires at least 5.3"}],"tags":[],"owner":{"account_id":3771696,"reputation":871,"user_id":3133685,"accept_rate":66,"display_name":"MaxPower"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527785749,"creation_date":1527785749,"answer_id":50629293,"question_id":50322550,"body_markdown":"I know this question is a couple of weeks old, but for completeness it appears Hibernate 5.3 does have a MySQL8 dialect \r\n\r\nhttps://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\r\n\r\nI have not used it, so I cannot comment on its quality, but the support appears to be there.","title":"Hibernate dialect for MySQL 8?","body":"<p>I know this question is a couple of weeks old, but for completeness it appears Hibernate 5.3 does have a MySQL8 dialect </p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html</a></p>\n\n<p>I have not used it, so I cannot comment on its quality, but the support appears to be there.</p>\n"},{"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":2,"creation_date":1549392383,"post_id":51225791,"comment_id":95883374,"body_markdown":"Awesome... spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect  worked perfectly for me -  HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect. Wondering why this is not accepted yet? May be I am using Hibernate 5.3.7 with Springboot 2.1.2.","body":"Awesome... spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQL8Dialect  worked perfectly for me -  HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect. Wondering why this is not accepted yet? May be I am using Hibernate 5.3.7 with Springboot 2.1.2."},{"owner":{"account_id":2392959,"reputation":1664,"user_id":2092445,"display_name":"Naxi"},"score":0,"creation_date":1553944939,"post_id":51225791,"comment_id":97579654,"body_markdown":"Is there a way I can use this dialect in hibernate 4.1.10 ?  I am on java 1.7 right now and looks like I need to upgrade to java 1.8 in order to use hibernate 5.3.1 which is  big issue for me .  Any help ?","body":"Is there a way I can use this dialect in hibernate 4.1.10 ?  I am on java 1.7 right now and looks like I need to upgrade to java 1.8 in order to use hibernate 5.3.1 which is  big issue for me .  Any help ?"},{"owner":{"account_id":2699591,"reputation":1591,"user_id":2330610,"display_name":"R&#244;mulo Sorato"},"score":2,"creation_date":1661275258,"post_id":51225791,"comment_id":129731757,"body_markdown":"&quot;MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead&quot;","body":"&quot;MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead&quot;"}],"tags":[],"owner":{"account_id":10142624,"reputation":1149,"user_id":7491860,"display_name":"Vipin Purohit"},"comment_count":3,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1632902078,"creation_date":1530987121,"answer_id":51225791,"question_id":50322550,"body_markdown":"MySQL8Dialect(org.hibernate.dialect.MySQL8Dialect) is available in hibernate bundle 5.3.1.Final. You can use:\r\n\r\n```\r\norg.hibernate.dialect.MySQL8Dialect\r\n```","title":"Hibernate dialect for MySQL 8?","body":"<p>MySQL8Dialect(org.hibernate.dialect.MySQL8Dialect) is available in hibernate bundle 5.3.1.Final. You can use:</p>\n<pre><code>org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6278253,"reputation":1573,"user_id":4880243,"display_name":"AgainPsychoX"},"score":4,"creation_date":1643736700,"post_id":53977578,"comment_id":125417153,"body_markdown":"In Hibernate 6 the `org.hibernate.dialect.MySQL8Dialect` seems to be deprecated :C","body":"In Hibernate 6 the <code>org.hibernate.dialect.MySQL8Dialect</code> seems to be deprecated :C"}],"tags":[],"owner":{"account_id":6579435,"reputation":359,"user_id":5084140,"display_name":"duliu1990"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1546172784,"creation_date":1546172784,"answer_id":53977578,"question_id":50322550,"body_markdown":"yes, For MySQL8, use `org.hibernate.dialect.MySQL8Dialect`","title":"Hibernate dialect for MySQL 8?","body":"<p>yes, For MySQL8, use <code>org.hibernate.dialect.MySQL8Dialect</code></p>\n"},{"tags":[],"owner":{"account_id":938654,"reputation":621,"user_id":967130,"accept_rate":90,"display_name":"Eugene Hoza"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1564948106,"creation_date":1564948106,"answer_id":57349740,"question_id":50322550,"body_markdown":"If you are using Gradle (e.g. for Grails) just configure:\r\n\r\nin application.yml\r\n\r\n    dataSource:\r\n    ...\r\n        driverClassName: com.mysql.cj.jdbc.Driver\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\n    ....\r\n\r\nin build.gradle\r\n\r\n    dependencies {\r\n        ...\r\n        runtime &#39;mysql:mysql-connector-java:8.0.17&#39;\r\n        ...\r\n\r\nPay attention on mysql-connector version and non-deprecated driver class name","title":"Hibernate dialect for MySQL 8?","body":"<p>If you are using Gradle (e.g. for Grails) just configure:</p>\n\n<p>in application.yml</p>\n\n<pre><code>dataSource:\n...\n    driverClassName: com.mysql.cj.jdbc.Driver\n    dialect: org.hibernate.dialect.MySQL8Dialect\n....\n</code></pre>\n\n<p>in build.gradle</p>\n\n<pre><code>dependencies {\n    ...\n    runtime 'mysql:mysql-connector-java:8.0.17'\n    ...\n</code></pre>\n\n<p>Pay attention on mysql-connector version and non-deprecated driver class name</p>\n"},{"comments":[{"owner":{"account_id":1129881,"reputation":11551,"user_id":1116230,"display_name":"Nico Haase"},"score":3,"creation_date":1600182689,"post_id":63901336,"comment_id":113004080,"body_markdown":"Please add some explanation to your answer such that others can learn from it","body":"Please add some explanation to your answer such that others can learn from it"}],"tags":[],"owner":{"account_id":15418679,"reputation":156,"user_id":11123293,"display_name":"Tofazzal Hossain"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600201735,"creation_date":1600170984,"answer_id":63901336,"question_id":50322550,"body_markdown":"Yes, MySQL8Dialect for MySql 8.\r\nIn my case I have used&#160;MySQL8Dialect for MySql 8 in my spring boot application by following&#160;way:\r\n\r\n```    \r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \r\n```","title":"Hibernate dialect for MySQL 8?","body":"<p>Yes, MySQL8Dialect for MySql 8.\nIn my case I have used MySQL8Dialect for MySql 8 in my spring boot application by following way:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6967366,"reputation":139,"user_id":10928511,"display_name":"Gregory Iyama"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1604549092,"creation_date":1604549092,"answer_id":64691061,"question_id":50322550,"body_markdown":"    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n    spring.jpa.properties.hibernate.dialect.storage_engine=innodb\r\n\r\n\r\ngot from [here][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54672737","title":"Hibernate dialect for MySQL 8?","body":"<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\nspring.jpa.properties.hibernate.dialect.storage_engine=innodb\n</code></pre>\n<p>got from <a href=\"https://stackoverflow.com/a/54672737\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615540870,"creation_date":1615540870,"answer_id":66597213,"question_id":50322550,"body_markdown":"If you are using SpringBoot\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    database-platform: org.hibernate.dialect.MySQL8Dialect\r\n```\r\n","title":"Hibernate dialect for MySQL 8?","body":"<p>If you are using SpringBoot</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n    database-platform: org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22716903,"reputation":29,"user_id":16882008,"display_name":"stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631340180,"creation_date":1631308598,"answer_id":69138090,"question_id":50322550,"body_markdown":"I was able to resolve this by simply adding the configuration below to my `application.properties` file.\r\n\r\n    #Hibernate\r\n    \r\n    spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL8Dialect\r\n    \r\n    spring.jpa.driverClassName= com.mysql.cj.jdbc.Driver ","title":"Hibernate dialect for MySQL 8?","body":"<p>I was able to resolve this by simply adding the configuration below to my <code>application.properties</code> file.</p>\n<pre><code>#Hibernate\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL8Dialect\n\nspring.jpa.driverClassName= com.mysql.cj.jdbc.Driver \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14173076,"reputation":71,"user_id":10239149,"display_name":"Roman Dyndyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676290786,"creation_date":1676290786,"answer_id":75435795,"question_id":50322550,"body_markdown":"Since Hibernate 6, `org.hibernate.dialect.MySQL8Dialect` is deprecated. And now it is recommended to use `org.hibernate.dialect.MySQLDialect`. See [Hibernate JavaDoc](https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/dialect/MySQL8Dialect.html) for reference","title":"Hibernate dialect for MySQL 8?","body":"<p>Since Hibernate 6, <code>org.hibernate.dialect.MySQL8Dialect</code> is deprecated. And now it is recommended to use <code>org.hibernate.dialect.MySQLDialect</code>. See <a href=\"https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/dialect/MySQL8Dialect.html\" rel=\"noreferrer\">Hibernate JavaDoc</a> for reference</p>\n"}],"owner":{"account_id":5394775,"reputation":879,"user_id":4296322,"display_name":"unknow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184624,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"answer_count":11,"score":75,"last_activity_date":1677484130,"creation_date":1526266398,"question_id":50322550,"body_markdown":"Is there a Hibernate dialect for MySQL 8? Or should I use the org.hibernate.dialect.MySQL57Dialect that ships with Hibernate?\r\nI&#39;m using hibernate 5.2.16","title":"Hibernate dialect for MySQL 8?","body":"<p>Is there a Hibernate dialect for MySQL 8? Or should I use the org.hibernate.dialect.MySQL57Dialect that ships with Hibernate?\nI'm using hibernate 5.2.16</p>\n"},{"tags":["java","spring-boot","vault","spring-cloud-config-server","spring-cloud-config-client"],"owner":{"account_id":25311212,"reputation":1,"user_id":19133923,"display_name":"Sergey Korotaev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677484103,"creation_date":1677484103,"question_id":75577908,"body_markdown":"I need to integrate Vault with spring cloud config server. For example, I have two client services, spring cloud config server and Vault. I need that my clients will go to the spring cloud config server and he will back settings (from git for example) and he will go to Vault and will return credentials for specific server.\r\n\r\nI did only that my service goes to Vault and config server seperatly with approle (or general token).\r\nVault on localhost:8200 and spring cloud config on localhost:8888\r\nFor example, links below are about this problem but they about one client service\r\nhttps://irezyigit.medium.com/approle-authentication-with-vault-7dab4ce0b75e\r\nhttps://pavankjadda.dev/hashicorp-vault-authentication-with-spring-cloud-and-spring-boot/\r\nhttps://dzone.com/articles/integrating-vault-with-spring-cloud-config-server\r\n\r\nHow can I do this? Where can i read about it? I found a lot of links in Google but they are common example and not about it. Thank you","title":"Integration HashiCorp Vault and Spring Cloud Config Server for few client-services","body":"<p>I need to integrate Vault with spring cloud config server. For example, I have two client services, spring cloud config server and Vault. I need that my clients will go to the spring cloud config server and he will back settings (from git for example) and he will go to Vault and will return credentials for specific server.</p>\n<p>I did only that my service goes to Vault and config server seperatly with approle (or general token).\nVault on localhost:8200 and spring cloud config on localhost:8888\nFor example, links below are about this problem but they about one client service\n<a href=\"https://irezyigit.medium.com/approle-authentication-with-vault-7dab4ce0b75e\" rel=\"nofollow noreferrer\">https://irezyigit.medium.com/approle-authentication-with-vault-7dab4ce0b75e</a>\n<a href=\"https://pavankjadda.dev/hashicorp-vault-authentication-with-spring-cloud-and-spring-boot/\" rel=\"nofollow noreferrer\">https://pavankjadda.dev/hashicorp-vault-authentication-with-spring-cloud-and-spring-boot/</a>\n<a href=\"https://dzone.com/articles/integrating-vault-with-spring-cloud-config-server\" rel=\"nofollow noreferrer\">https://dzone.com/articles/integrating-vault-with-spring-cloud-config-server</a></p>\n<p>How can I do this? Where can i read about it? I found a lot of links in Google but they are common example and not about it. Thank you</p>\n"},{"tags":["java","web-services","rest","restful-authentication"],"comments":[{"owner":{"account_id":4118097,"reputation":5672,"user_id":3379182,"display_name":"Matteo Baldi"},"score":0,"creation_date":1459255548,"post_id":36284180,"comment_id":60195211,"body_markdown":"It seems a library import problem, please post also your pom.xml","body":"It seems a library import problem, please post also your pom.xml"},{"owner":{"account_id":6211632,"reputation":17,"user_id":4837756,"accept_rate":0,"display_name":"pooja"},"score":0,"creation_date":1459255898,"post_id":36284180,"comment_id":60195466,"body_markdown":"Thanks For your quick response but I am Not using maven. and i have imported all jersey jars. and get, delete are working fine. only for post i am getting error.","body":"Thanks For your quick response but I am Not using maven. and i have imported all jersey jars. and get, delete are working fine. only for post i am getting error."},{"owner":{"account_id":1306607,"reputation":245,"user_id":1255493,"display_name":"Rodrigo Menezes"},"score":0,"creation_date":1469219630,"post_id":36284180,"comment_id":64463456,"body_markdown":"To add JSON suport to Jersey you need to add a media provider: https://jersey.java.net/documentation/latest/media.html. I Recommend MOXy (jersey-media-moxy)","body":"To add JSON suport to Jersey you need to add a media provider: <a href=\"https://jersey.java.net/documentation/latest/media.html\" rel=\"nofollow noreferrer\">jersey.java.net/documentation/latest/media.html</a>. I Recommend MOXy (jersey-media-moxy)"}],"owner":{"account_id":6211632,"reputation":17,"user_id":4837756,"accept_rate":0,"display_name":"pooja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677483872,"creation_date":1459254187,"question_id":36284180,"body_markdown":"I am just writing a client method and invoking the POST method. But i am facing the below error.\r\n\r\nWhen i test the webservices url though postman its working. Only in my client code its giving error.\r\n\r\n   Mar 29, 2016 5:39:27 PM        org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor aroundWriteTo\r\nSEVERE: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\r\nException in thread &quot;main&quot; org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:247)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\r\n\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)\r\n\tat org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:517)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:499)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:388)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:285)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:700)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:696)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\r\n\tat test.restful.webservices.TESTClient.testUpdateUser(TESTClient.java:58)\r\n\tat test.restful.webservices.TESTClient.main(TESTClient.java:89)\r\n\r\n\r\nHere is my Code: \r\n\r\n      private void testUpdateUser(){\r\n\t\t  FormBean sample = new FormBean();  \r\n\t      sample.setFORM_LONG_DESC(&quot;FrmIssCMNEW&quot;);\t     \r\n\t      JSONObject jo = new JSONObject(sample);\r\n\t      System.out.println(&quot;Json ===&gt;&gt;&quot;+jo);\r\n\t      String callResult = client\r\n\t    \t  .target(REST_SERVICE_URL)\r\n\t          .path(&quot;/Add&quot;)\r\n\t\t      .queryParam(&quot;formcode&quot;, &quot;FrmIssCMNEW&quot;)\r\n\t\t      .queryParam(&quot;dsnID&quot;,&quot;OFSBGRC&quot;)\r\n\t\t\t  .queryParam(&quot;version&quot;,&quot;1&quot;)\r\n\t\t\t  .queryParam(&quot;longdesc&quot;,&quot;testing by me&quot;)\r\n\t         .request(MediaType.TEXT_PLAIN)\r\n\t         .post(Entity.entity(jo,MediaType.APPLICATION_JSON),\r\n\t            String.class);\r\n\r\n      Post Method:\r\n      @POST\r\n\t  @Produces(MediaType.TEXT_PLAIN)\t\r\n\t  @Path(&quot;/Add&quot;)\r\n\t  public String save\r\n\t  (\t\t@QueryParam(&quot;formcode&quot;) String formcode,\r\n\t\t\t@QueryParam(&quot;version&quot;) int version,\r\n\t\t\t@QueryParam(&quot;dsnID&quot;) String dsnID,\r\n\t\t\t@QueryParam(&quot;longdesc&quot;) String longdesc)\r\n\t    {\t\r\n\t\t   /* my code */\r\n\t\t       return &quot;Display from POST method  &lt;&gt; &quot;+&quot;FormID :&quot;+fb.getFORM_ID()+&quot; --&gt;&gt; FormLong Description :&quot;+fb.getFORM_LONG_DESC();\r\n\t\r\n\t   }\r\n\r\n\r\nThanks In Advance.","title":"getting SEVERE: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject","body":"<p>I am just writing a client method and invoking the POST method. But i am facing the below error.</p>\n\n<p>When i test the webservices url though postman its working. Only in my client code its giving error.</p>\n\n<p>Mar 29, 2016 5:39:27 PM        org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor aroundWriteTo\nSEVERE: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\nException in thread \"main\" org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:247)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:517)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:499)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:388)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:285)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\n    at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:700)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:696)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\n    at test.restful.webservices.TESTClient.testUpdateUser(TESTClient.java:58)\n    at test.restful.webservices.TESTClient.main(TESTClient.java:89)</p>\n\n<p>Here is my Code: </p>\n\n<pre><code>  private void testUpdateUser(){\n      FormBean sample = new FormBean();  \n      sample.setFORM_LONG_DESC(\"FrmIssCMNEW\");       \n      JSONObject jo = new JSONObject(sample);\n      System.out.println(\"Json ===&gt;&gt;\"+jo);\n      String callResult = client\n          .target(REST_SERVICE_URL)\n          .path(\"/Add\")\n          .queryParam(\"formcode\", \"FrmIssCMNEW\")\n          .queryParam(\"dsnID\",\"OFSBGRC\")\n          .queryParam(\"version\",\"1\")\n          .queryParam(\"longdesc\",\"testing by me\")\n         .request(MediaType.TEXT_PLAIN)\n         .post(Entity.entity(jo,MediaType.APPLICATION_JSON),\n            String.class);\n\n  Post Method:\n  @POST\n  @Produces(MediaType.TEXT_PLAIN)   \n  @Path(\"/Add\")\n  public String save\n  (     @QueryParam(\"formcode\") String formcode,\n        @QueryParam(\"version\") int version,\n        @QueryParam(\"dsnID\") String dsnID,\n        @QueryParam(\"longdesc\") String longdesc)\n    {   \n       /* my code */\n           return \"Display from POST method  &lt;&gt; \"+\"FormID :\"+fb.getFORM_ID()+\" --&gt;&gt; FormLong Description :\"+fb.getFORM_LONG_DESC();\n\n   }\n</code></pre>\n\n<p>Thanks In Advance.</p>\n"},{"tags":["java","file-io","printf"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677467138,"post_id":75576437,"comment_id":133337265,"body_markdown":"What does your input file look like? (post code not images). You&#39;re also double reading the the `id` (before the loop and from within the loop)","body":"What does your input file look like? (post code not images). You&#39;re also double reading the the <code>id</code> (before the loop and from within the loop)"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677467654,"post_id":75576437,"comment_id":133337320,"body_markdown":"input file **1234 10 11\n1002 47 2\n9000 31 19\n8110 12 10\n9062 40 0\n9001 25 25\n2764 1 49\n1010 10 10\n2324 19 30\n1623 20 28\n1423 20 30\n6969 0 50\n4200 41 6\n-1**\nAlso Im doing the id twice because the while loop has to repeat after I finish entering a students data. I ask the ID once to start the loop and again inside it to continue it","body":"input file <b>1234 10 11 1002 47 2 9000 31 19 8110 12 10 9062 40 0 9001 25 25 2764 1 49 1010 10 10 2324 19 30 1623 20 28 1423 20 30 6969 0 50 4200 41 6 -1</b> Also Im doing the id twice because the while loop has to repeat after I finish entering a students data. I ask the ID once to start the loop and again inside it to continue it"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677467979,"post_id":75576437,"comment_id":133337353,"body_markdown":"But you&#39;re not inputing the data, you&#39;re reading it from the file","body":"But you&#39;re not inputing the data, you&#39;re reading it from the file"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677468197,"post_id":75576437,"comment_id":133337377,"body_markdown":"Yes and its not printing line 1&#39;s ID for some reason and everything else is printing one line down so the questions right and wrong for ID1234 will print on ID1002&#39;s line and so on","body":"Yes and its not printing line 1&#39;s ID for some reason and everything else is printing one line down so the questions right and wrong for ID1234 will print on ID1002&#39;s line and so on"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677468723,"post_id":75576437,"comment_id":133337437,"body_markdown":"First, you should be using `Scanner#hasNextInt` in you `while-loop` to determine if any more values exists.  You should read the `id` within the `loop` on each iteration","body":"First, you should be using <code>Scanner#hasNextInt</code> in you <code>while-loop</code> to determine if any more values exists.  You should read the <code>id</code> within the <code>loop</code> on each iteration"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677468810,"post_id":75576437,"comment_id":133337448,"body_markdown":"Okay, so you file is terminated with a `-1` ... annoying","body":"Okay, so you file is terminated with a <code>-1</code> ... annoying"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677469302,"post_id":75576437,"comment_id":133337494,"body_markdown":"we didnt learn scanner#hasnextint yet and ending the loop with a -1 is what my professor wanted me to do if I turn this in with something we haven&#39;t learned yet I get no credit I just want to know why the first ID isn&#39;t being printed, why everything is getting printed a line down, and why the formatting is all messed up","body":"we didnt learn scanner#hasnextint yet and ending the loop with a -1 is what my professor wanted me to do if I turn this in with something we haven&#39;t learned yet I get no credit I just want to know why the first ID isn&#39;t being printed, why everything is getting printed a line down, and why the formatting is all messed up"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677469913,"post_id":75576437,"comment_id":133337543,"body_markdown":"*&quot;I just want to know why the first ID isn&#39;t being printed&quot;* - As I said, you&#39;re double reading it, so before you&#39;ve even printed it, you&#39;ve read the next id.  Read before the loop, so you can check for `-1` then read it again at the end of the loop to get the next value. *&quot;why everything is getting printed a line down&quot;* - because you proceed the output with `\\n`, with it will print the newline first, then the rest of the text, put it at the end of the `printf` statement (after all the output);","body":"<i>&quot;I just want to know why the first ID isn&#39;t being printed&quot;</i> - As I said, you&#39;re double reading it, so before you&#39;ve even printed it, you&#39;ve read the next id.  Read before the loop, so you can check for <code>-1</code> then read it again at the end of the loop to get the next value. <i>&quot;why everything is getting printed a line down&quot;</i> - because you proceed the output with <code>\\n</code>, with it will print the newline first, then the rest of the text, put it at the end of the <code>printf</code> statement (after all the output);"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677469955,"post_id":75576437,"comment_id":133337546,"body_markdown":"*&quot;and why the formatting is all messed up&quot;* because your column widths are all messed up between your title and your output and you&#39;re trying to output the &quot;omit&quot; value before you try printing any of the other results","body":"<i>&quot;and why the formatting is all messed up&quot;</i> because your column widths are all messed up between your title and your output and you&#39;re trying to output the &quot;omit&quot; value before you try printing any of the other results"}],"answers":[{"comments":[{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677475476,"post_id":75576603,"comment_id":133338065,"body_markdown":"This is great and all  and thank you for sparing some time to help but I still don&#39;t understand why line 1 is getting deleted from the table and everything else is printing a line down. Additionally we have to print the prompt as repeating instead of reading from the input file only and there&#39;s a couple of things that I cant use yet like String value","body":"This is great and all  and thank you for sparing some time to help but I still don&#39;t understand why line 1 is getting deleted from the table and everything else is printing a line down. Additionally we have to print the prompt as repeating instead of reading from the input file only and there&#39;s a couple of things that I cant use yet like String value"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677483766,"creation_date":1677469434,"answer_id":75576603,"question_id":75576437,"body_markdown":"&gt; No matter what I do, the C&#39;s and I&#39;s will not print under the More Right/Wrong column. \r\n\r\nWhen dealing with formatters like this, it&#39;s REALLY important that the column structure is the same across iterations, for example...\r\n\r\n    outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\r\n    //...\r\n    outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\r\n\r\nThe first title column is 1 character wide and the second is 7, but the second output column is 14??\r\n\r\nNow, take into consideration that `Student` is 7 characters wide anyway and the first columns width doesn&#39;t make sense.\r\n\r\nInstead it &quot;should&quot; look something more like...\r\n\r\n\r\n    System.out.printf(&quot;\\n%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n    //...\r\n    System.out.printf(&quot;\\n%7d %4d %7d %9s %5s %16s %4d %6.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\r\n\r\n&gt; Additionally, The &lt;10 will not print uder the Omit column either.here is my code.\r\n\r\nYes, this is because you&#39;re printing the &quot;omit&quot; BEFORE you print any of the other information.  While there is away you &quot;could&quot; do it like this, from a readability point of view, you should be including the &quot;omit&quot; information as part of the whole data when you print it.\r\n\r\n\r\nSo, I modified your code slightly to fix the columns and add the &quot;omit&quot; information in to the final data line...\r\n\r\n    File myFile = new File(&quot;marks.txt&quot;);\r\n    try (Scanner inputFile = new Scanner(myFile)) {\r\n        // print table header and columns\r\n        System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\r\n        System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n        System.out.println();\r\n\r\n        int student = 0;\r\n\r\n        int id = inputFile.nextInt();\r\n        while (id != -1) {\r\n            int corr = inputFile.nextInt();\r\n            int incorr = inputFile.nextInt();\r\n            student++;\r\n            int total = corr + incorr;\r\n            // Not sure if this has anything to do with your current\r\n            // assignment, but it&#39;s just adding noise\r\n            //if (50 &lt; total) {\r\n            //    System.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);\r\n            //}\r\n            int omit = 50 - (corr + incorr);\r\n            double grade = corr * 2;\r\n            // calculate percentage correct. type cast correct and total to make sure it\r\n            // doesnt truncate\r\n            double pct = (double) corr / total;\r\n            //print if the omitted amount of questions is less, more, or equal to 10\r\n            String value = &quot;&quot;;\r\n            if (omit &lt; 10) {\r\n                value = &quot;&lt;10&quot;;\r\n            }\r\n            if (10 &lt; omit) {\r\n                value = &quot;10&lt;&quot;;\r\n            }\r\n            if (omit == 10) {\r\n                value = &quot;10&quot;;\r\n            }\r\n            if (corr &lt; incorr) {\r\n                value = &quot;I&quot;;\r\n            }\r\n            if (incorr &lt; corr) {\r\n                value = &quot;C&quot;;\r\n            }\r\n            if (corr == incorr) {\r\n                value = &quot;=&quot;;\r\n            }\r\n            //print values for corresponding columns\r\n          //System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n            System.out.printf(&quot;\\n%7d %4d %7d %10s %9s %16s %4d %5.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\r\n\r\n            id = inputFile.nextInt();\r\n        }\r\n        //notify viewer that program has run\r\n        System.out.println(&quot;\\nThe program is finished.&quot;);\r\n        // flush buffer and close i/o files\r\n    }\r\n\r\nThis now prints\r\n\r\n                            \tTable of Grades\r\n    Student ID   Correct Incorrect Total More Right/Wrong Omit Grade  Percent \r\n    \r\n          1 1234      10        11    21                I   29 20.000 0.48\r\n          2 1002      47         2    49                C    1 94.000 0.96\r\n          3 9000      31        19    50                C    0 62.000 0.62\r\n          4 8110      12        10    22                C   28 24.000 0.55\r\n          5 9062      40         0    40                C   10 80.000 1.00\r\n          6 9001      25        25    50                =    0 50.000 0.50\r\n          7 2764       1        49    50                I    0  2.000 0.02\r\n          8 1010      10        10    20                =   30 20.000 0.50\r\n          9 2324      19        30    49                I    1 38.000 0.39\r\n         10 1623      20        28    48                I    2 40.000 0.42\r\n         11 1423      20        30    50                I    0 40.000 0.40\r\n         12 6969       0        50    50                I    0  0.000 0.00\r\n         13 4200      41         6    47                C    3 82.000 0.87\r\n    The program is finished.\r\n\r\nNow, if you want the columns to be right aligned, then you can use `-` before the column width, for example `%-7d`\r\n\r\n&gt; I still don&#39;t understand why line 1 is getting deleted from the table\r\n\r\nLook at how you code is running...\r\n\r\n    id = inputFile.nextInt();\r\n    while (id != -1) {\r\n        //...\r\n        id = inputFile.nextInt();\r\n        //...\r\n        outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\r\n\r\n* You get the first `id`\r\n* You check for the end of file\r\n* You load the various values\r\n* You read the NEXT `id`\r\n* You print the values\r\n\r\n... which id is getting printed?\r\n\r\nThere is a concept called &quot;desk checking&quot;, where you take a pencil and paper and you walk through the program, updating the state as you go, it&#39;s a really good way to get you to think about how you code is actually running.\r\n\r\n&gt;  and everything else is printing a line down\r\n\r\nLook at...\r\n\r\n    outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\r\n\r\nYou have two line breaks, one in the &quot;format&quot; and one in the values (`&quot;\\nStudent&quot;`)\r\n\r\nPersonally, I would only put one at the end of each output, for example...\r\n\r\n    System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades\\n&quot;);\r\n    System.out.printf(&quot;%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s\\n&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n\r\n&gt; Additionally we have to print the prompt as repeating instead of reading from the input file only\r\n\r\nI&#39;m sure you can figure that out, but it&#39;s otherwise just adding noise to the question\r\n\r\n&gt;  there&#39;s a couple of things that I cant use yet like String value\r\n\r\n&#128580; That&#39;s one of the dangers of posting on SO, we&#39;ll answer the question usually in the most optimal way we know how.\r\n\r\nHaving said that, there is away to make it work, but sequence and order are important.\r\n\r\nStart by printing the preceding information first...\r\n\r\n    System.out.printf(&quot;%7d %4d %7d %9s %5s&quot;, student, id, corr, incorr, total);\r\n\r\nThen print the +/- information...\r\n\r\n    if (omit &lt; 10) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;&lt;10&quot;);\r\n    }\r\n    if (10 &lt; omit) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;10&lt;&quot;);\r\n    }\r\n    if (omit == 10) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;10&quot;);\r\n    }\r\n    if (corr &lt; incorr) {\r\n        value = &quot;I&quot;;\r\n        System.out.printf(&quot;%16s&quot;, &quot;I&quot;);\r\n    }\r\n    if (incorr &lt; corr) {\r\n        value = &quot;C&quot;;\r\n        System.out.printf(&quot;%16s&quot;, &quot;C&quot;);\r\n    }\r\n    if (corr == incorr) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;=&quot;);\r\n    }\r\n\r\nOh and this should be an `if-elseif-else` statement, but I&#39;m guessing you&#39;re not allowed to use those...\r\n\r\nAnd then print the rest...\r\n\r\n    System.out.printf(&quot;%4d %6.3f %3.2f\\n&quot;, omit, grade, pct);","title":"Output file not reading input file correctly, format out of order,","body":"<blockquote>\n<p>No matter what I do, the C's and I's will not print under the More Right/Wrong column.</p>\n</blockquote>\n<p>When dealing with formatters like this, it's REALLY important that the column structure is the same across iterations, for example...</p>\n<pre><code>outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\n//...\noutputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\n</code></pre>\n<p>The first title column is 1 character wide and the second is 7, but the second output column is 14??</p>\n<p>Now, take into consideration that <code>Student</code> is 7 characters wide anyway and the first columns width doesn't make sense.</p>\n<p>Instead it &quot;should&quot; look something more like...</p>\n<pre><code>System.out.printf(&quot;\\n%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n//...\nSystem.out.printf(&quot;\\n%7d %4d %7d %9s %5s %16s %4d %6.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\n</code></pre>\n<blockquote>\n<p>Additionally, The &lt;10 will not print uder the Omit column either.here is my code.</p>\n</blockquote>\n<p>Yes, this is because you're printing the &quot;omit&quot; BEFORE you print any of the other information.  While there is away you &quot;could&quot; do it like this, from a readability point of view, you should be including the &quot;omit&quot; information as part of the whole data when you print it.</p>\n<p>So, I modified your code slightly to fix the columns and add the &quot;omit&quot; information in to the final data line...</p>\n<pre><code>File myFile = new File(&quot;marks.txt&quot;);\ntry (Scanner inputFile = new Scanner(myFile)) {\n    // print table header and columns\n    System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\n    System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n    System.out.println();\n\n    int student = 0;\n\n    int id = inputFile.nextInt();\n    while (id != -1) {\n        int corr = inputFile.nextInt();\n        int incorr = inputFile.nextInt();\n        student++;\n        int total = corr + incorr;\n        // Not sure if this has anything to do with your current\n        // assignment, but it's just adding noise\n        //if (50 &lt; total) {\n        //    System.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);\n        //}\n        int omit = 50 - (corr + incorr);\n        double grade = corr * 2;\n        // calculate percentage correct. type cast correct and total to make sure it\n        // doesnt truncate\n        double pct = (double) corr / total;\n        //print if the omitted amount of questions is less, more, or equal to 10\n        String value = &quot;&quot;;\n        if (omit &lt; 10) {\n            value = &quot;&lt;10&quot;;\n        }\n        if (10 &lt; omit) {\n            value = &quot;10&lt;&quot;;\n        }\n        if (omit == 10) {\n            value = &quot;10&quot;;\n        }\n        if (corr &lt; incorr) {\n            value = &quot;I&quot;;\n        }\n        if (incorr &lt; corr) {\n            value = &quot;C&quot;;\n        }\n        if (corr == incorr) {\n            value = &quot;=&quot;;\n        }\n        //print values for corresponding columns\n      //System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n        System.out.printf(&quot;\\n%7d %4d %7d %10s %9s %16s %4d %5.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\n\n        id = inputFile.nextInt();\n    }\n    //notify viewer that program has run\n    System.out.println(&quot;\\nThe program is finished.&quot;);\n    // flush buffer and close i/o files\n}\n</code></pre>\n<p>This now prints</p>\n<pre><code>                            Table of Grades\nStudent ID   Correct Incorrect Total More Right/Wrong Omit Grade  Percent \n\n      1 1234      10        11    21                I   29 20.000 0.48\n      2 1002      47         2    49                C    1 94.000 0.96\n      3 9000      31        19    50                C    0 62.000 0.62\n      4 8110      12        10    22                C   28 24.000 0.55\n      5 9062      40         0    40                C   10 80.000 1.00\n      6 9001      25        25    50                =    0 50.000 0.50\n      7 2764       1        49    50                I    0  2.000 0.02\n      8 1010      10        10    20                =   30 20.000 0.50\n      9 2324      19        30    49                I    1 38.000 0.39\n     10 1623      20        28    48                I    2 40.000 0.42\n     11 1423      20        30    50                I    0 40.000 0.40\n     12 6969       0        50    50                I    0  0.000 0.00\n     13 4200      41         6    47                C    3 82.000 0.87\nThe program is finished.\n</code></pre>\n<p>Now, if you want the columns to be right aligned, then you can use <code>-</code> before the column width, for example <code>%-7d</code></p>\n<blockquote>\n<p>I still don't understand why line 1 is getting deleted from the table</p>\n</blockquote>\n<p>Look at how you code is running...</p>\n<pre><code>id = inputFile.nextInt();\nwhile (id != -1) {\n    //...\n    id = inputFile.nextInt();\n    //...\n    outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\n</code></pre>\n<ul>\n<li>You get the first <code>id</code></li>\n<li>You check for the end of file</li>\n<li>You load the various values</li>\n<li>You read the NEXT <code>id</code></li>\n<li>You print the values</li>\n</ul>\n<p>... which id is getting printed?</p>\n<p>There is a concept called &quot;desk checking&quot;, where you take a pencil and paper and you walk through the program, updating the state as you go, it's a really good way to get you to think about how you code is actually running.</p>\n<blockquote>\n<p>and everything else is printing a line down</p>\n</blockquote>\n<p>Look at...</p>\n<pre><code>outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\n</code></pre>\n<p>You have two line breaks, one in the &quot;format&quot; and one in the values (<code>&quot;\\nStudent&quot;</code>)</p>\n<p>Personally, I would only put one at the end of each output, for example...</p>\n<pre><code>System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades\\n&quot;);\nSystem.out.printf(&quot;%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s\\n&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n</code></pre>\n<blockquote>\n<p>Additionally we have to print the prompt as repeating instead of reading from the input file only</p>\n</blockquote>\n<p>I'm sure you can figure that out, but it's otherwise just adding noise to the question</p>\n<blockquote>\n<p>there's a couple of things that I cant use yet like String value</p>\n</blockquote>\n<p>🙄 That's one of the dangers of posting on SO, we'll answer the question usually in the most optimal way we know how.</p>\n<p>Having said that, there is away to make it work, but sequence and order are important.</p>\n<p>Start by printing the preceding information first...</p>\n<pre><code>System.out.printf(&quot;%7d %4d %7d %9s %5s&quot;, student, id, corr, incorr, total);\n</code></pre>\n<p>Then print the +/- information...</p>\n<pre><code>if (omit &lt; 10) {\n    System.out.printf(&quot;%16s&quot;, &quot;&lt;10&quot;);\n}\nif (10 &lt; omit) {\n    System.out.printf(&quot;%16s&quot;, &quot;10&lt;&quot;);\n}\nif (omit == 10) {\n    System.out.printf(&quot;%16s&quot;, &quot;10&quot;);\n}\nif (corr &lt; incorr) {\n    value = &quot;I&quot;;\n    System.out.printf(&quot;%16s&quot;, &quot;I&quot;);\n}\nif (incorr &lt; corr) {\n    value = &quot;C&quot;;\n    System.out.printf(&quot;%16s&quot;, &quot;C&quot;);\n}\nif (corr == incorr) {\n    System.out.printf(&quot;%16s&quot;, &quot;=&quot;);\n}\n</code></pre>\n<p>Oh and this should be an <code>if-elseif-else</code> statement, but I'm guessing you're not allowed to use those...</p>\n<p>And then print the rest...</p>\n<pre><code>System.out.printf(&quot;%4d %6.3f %3.2f\\n&quot;, omit, grade, pct);\n</code></pre>\n"}],"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677483766,"creation_date":1677466824,"question_id":75576437,"body_markdown":"i am trying to create a program that takes exam statistics for 12 students. In this program the input file is read by the program and then printed to the output file, but there are a slew of issues. the program is reading the inputfile but not printing the first ID. No matter what I do, the C&#39;s and I&#39;s will not print under the More Right/Wrong column. Additionally, The &lt;10 will not print uder the Omit column either.here is my code. \r\n```\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\n\r\npublic class Topic3_HW3 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tPrintWriter outputFile;\r\n\t\toutputFile = new PrintWriter(&quot;HW3_output.txt&quot;);\r\n\t\t// outputFile = new PrintWriter(System.out);\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFile myFile = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic3\\\\src\\\\Topic3_input.txt&quot;);\r\n\t\tScanner inputFile = new Scanner(myFile);\r\n\t\t// print table header and columns\r\n\t\toutputFile.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\r\n\t\toutputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\r\n\t\toutputFile.println();\r\n\t\t// declare datatypes for different variables\r\n\t\tdouble pct;\r\n\t\tint grade, id, corr, incorr, total, omit;\r\n\t\tint student = 0;\r\n\t\t//prompt user to input initial student&#39;s ID\r\n\t\tSystem.out.print(&quot;Enter student&#39;s ID(negative 1 to stop): &quot;);\r\n\t\tid = inputFile.nextInt();\r\n\t\twhile (id != -1) {\r\n\t\t\t//prompt user to enter said student&#39;s wrong/right questions\r\n\t\t\tSystem.out.print(&quot;\\nEnter the amount of questions the student answered correctly: &quot;);\r\n\t\t\tcorr = inputFile.nextInt();\r\n\t\t\tSystem.out.print(&quot;\\nEnter the amount of questions the student answered incorrectly: &quot;);\r\n\t\t\tincorr = inputFile.nextInt();\r\n\t\t\tstudent++;\r\n\t\t\ttotal = corr + incorr;\r\n\t\t\t// print error if total is more than 50 questions\r\n\t\t\tif (50 &lt; total) {\r\n\t\t\tSystem.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);}\r\n\t\t\tSystem.out.print(&quot;\\nEnter the desired student&#39;s ID(negative 1 to stop): &quot;);\r\n\t\t\tid = inputFile.nextInt();\r\n\t\t\tomit = 50 - (corr + incorr);\r\n\t\t\tgrade = corr * 2;\r\n\t\t\t// calculate percentage correct. type cast correct and total to make sure it\r\n\t\t\t// doesnt truncate\r\n\t\t\tpct = (double) corr / total;\r\n\t\t\t//print if the omitted amount of questions is less, more, or equal to 10\r\n\t\t\tif (omit &lt; 10)\r\n\t\t\t\toutputFile.printf(&quot;%-15s&quot;, &quot;&lt;10&quot;);\r\n\t\t\tif (10 &lt; omit)\r\n\t\t\t\toutputFile.printf(&quot;%-15s&quot;, &quot;10&lt;&quot;);\r\n\t\t\tif (omit == 10)\r\n\t\t\t\toutputFile.printf(&quot;%-15s&quot;, &quot;10&quot;);\r\n\t\t\tif (corr&lt;incorr)\r\n\t\t\t\toutputFile.printf(&quot;%-10s&quot;,&quot;I&quot;);\r\n\t\t\tif(incorr&lt;corr)\r\n\t\t\t\toutputFile.printf(&quot;%-10s&quot;,&quot;C&quot;);\r\n\t\t\tif (corr==incorr)\r\n\t\t\t\toutputFile.printf(&quot;%-10s&quot;,&quot;=&quot;);\r\n\t\t\t//print values for corresponding columns\r\n\t\t\toutputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\r\n\t\t}\r\n\t\t//notify viewer that program has run\r\n\t\tSystem.out.println(&quot;\\nThe program is finished.&quot;);\r\n\t\t// flush buffer and close i/o files\r\n\t\toutputFile.flush();\r\n\t\toutputFile.close();\r\n\t\tinputFile.close();\r\n\t}\r\n}\r\n```\r\n[![photos of my input and output files](https://i.stack.imgur.com/M9NKd.png)](https://i.stack.imgur.com/UK3Qy.png)]\r\n \r\n\r\nI tried changing the %-10 formatting for the Cs and Is but even if I do %-100 it still will not print before the percent columns values. I was expecting the table to print the full values for their corresponding columns including line 1 of the input file. I was also expecting for the Cs and Is  to print under More Right/Wrong column and the 10&lt;s to print under the omit column next to the number.Instead, the column values are printing all over the place","title":"Output file not reading input file correctly, format out of order,","body":"<p>i am trying to create a program that takes exam statistics for 12 students. In this program the input file is read by the program and then printed to the output file, but there are a slew of issues. the program is reading the inputfile but not printing the first ID. No matter what I do, the C's and I's will not print under the More Right/Wrong column. Additionally, The &lt;10 will not print uder the Omit column either.here is my code.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class Topic3_HW3 {\n\n    public static void main(String[] args) throws IOException {\n        PrintWriter outputFile;\n        outputFile = new PrintWriter(&quot;HW3_output.txt&quot;);\n        // outputFile = new PrintWriter(System.out);\n        // TODO Auto-generated method stub\n        File myFile = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic3\\\\src\\\\Topic3_input.txt&quot;);\n        Scanner inputFile = new Scanner(myFile);\n        // print table header and columns\n        outputFile.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\n        outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\n        outputFile.println();\n        // declare datatypes for different variables\n        double pct;\n        int grade, id, corr, incorr, total, omit;\n        int student = 0;\n        //prompt user to input initial student's ID\n        System.out.print(&quot;Enter student's ID(negative 1 to stop): &quot;);\n        id = inputFile.nextInt();\n        while (id != -1) {\n            //prompt user to enter said student's wrong/right questions\n            System.out.print(&quot;\\nEnter the amount of questions the student answered correctly: &quot;);\n            corr = inputFile.nextInt();\n            System.out.print(&quot;\\nEnter the amount of questions the student answered incorrectly: &quot;);\n            incorr = inputFile.nextInt();\n            student++;\n            total = corr + incorr;\n            // print error if total is more than 50 questions\n            if (50 &lt; total) {\n            System.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);}\n            System.out.print(&quot;\\nEnter the desired student's ID(negative 1 to stop): &quot;);\n            id = inputFile.nextInt();\n            omit = 50 - (corr + incorr);\n            grade = corr * 2;\n            // calculate percentage correct. type cast correct and total to make sure it\n            // doesnt truncate\n            pct = (double) corr / total;\n            //print if the omitted amount of questions is less, more, or equal to 10\n            if (omit &lt; 10)\n                outputFile.printf(&quot;%-15s&quot;, &quot;&lt;10&quot;);\n            if (10 &lt; omit)\n                outputFile.printf(&quot;%-15s&quot;, &quot;10&lt;&quot;);\n            if (omit == 10)\n                outputFile.printf(&quot;%-15s&quot;, &quot;10&quot;);\n            if (corr&lt;incorr)\n                outputFile.printf(&quot;%-10s&quot;,&quot;I&quot;);\n            if(incorr&lt;corr)\n                outputFile.printf(&quot;%-10s&quot;,&quot;C&quot;);\n            if (corr==incorr)\n                outputFile.printf(&quot;%-10s&quot;,&quot;=&quot;);\n            //print values for corresponding columns\n            outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\n        }\n        //notify viewer that program has run\n        System.out.println(&quot;\\nThe program is finished.&quot;);\n        // flush buffer and close i/o files\n        outputFile.flush();\n        outputFile.close();\n        inputFile.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UK3Qy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9NKd.png\" alt=\"photos of my input and output files\" /></a>]</p>\n<p>I tried changing the %-10 formatting for the Cs and Is but even if I do %-100 it still will not print before the percent columns values. I was expecting the table to print the full values for their corresponding columns including line 1 of the input file. I was also expecting for the Cs and Is  to print under More Right/Wrong column and the 10&lt;s to print under the omit column next to the number.Instead, the column values are printing all over the place</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1372326291,"post_id":17339530,"comment_id":25155953,"body_markdown":"Can you post full error stack?","body":"Can you post full error stack?"},{"owner":{"account_id":2936667,"reputation":35,"user_id":2515411,"display_name":"musicar"},"score":0,"creation_date":1372327040,"post_id":17339530,"comment_id":25156447,"body_markdown":"14:53:47,546 ERROR [com.commands.RecRetOrderAdminInfoCmd] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED ::Method Name : execute, Exception : invalid name pattern: XXX_INFO_UTL_PKG.XXX_ORDER_REC\n14:53:47,562 ERROR [com.daos.ReceivingServiceDAO] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED : ReceivingServiceDAO, Method Name : getOrderAdminInfo","body":"14:53:47,546 ERROR [com.commands.RecRetOrderAdminInfoCmd] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED ::Method Name : execute, Exception : invalid name pattern: XXX_INFO_UTL_PKG.XXX_ORDER_REC 14:53:47,562 ERROR [com.daos.ReceivingServiceDAO] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED : ReceivingServiceDAO, Method Name : getOrderAdminInfo"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1372327486,"post_id":17339530,"comment_id":25156691,"body_markdown":"Your `seagrs_order_rec` is of what `type`? `Array or Object or table`?","body":"Your <code>seagrs_order_rec</code> is of what <code>type</code>? <code>Array or Object or table</code>?"},{"owner":{"account_id":2936667,"reputation":35,"user_id":2515411,"display_name":"musicar"},"score":0,"creation_date":1372327880,"post_id":17339530,"comment_id":25156917,"body_markdown":"TYPE seagrs_order_rec IS  record TYPE","body":"TYPE seagrs_order_rec IS  record TYPE"}],"answers":[{"tags":[],"owner":{"account_id":2394464,"reputation":3082,"user_id":2093576,"accept_rate":74,"display_name":"user2093576"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1372329388,"creation_date":1372329388,"answer_id":17340881,"question_id":17339530,"body_markdown":"Record Type is not compatible with JDBC drivers:\r\n\r\n&gt; It is not feasible for Oracle JDBC drivers to support calling\r\n&gt; arguments or return values of the PL/SQL RECORD, BOOLEAN, or table\r\n&gt; with non-scalar element types. However, Oracle JDBC drivers support\r\n&gt; PL/SQL index-by table of scalar element types.\r\n\r\n[READ THIS][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B19306_01/java.102/b14355/apxref.htm","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>Record Type is not compatible with JDBC drivers:</p>\n\n<blockquote>\n  <p>It is not feasible for Oracle JDBC drivers to support calling\n  arguments or return values of the PL/SQL RECORD, BOOLEAN, or table\n  with non-scalar element types. However, Oracle JDBC drivers support\n  PL/SQL index-by table of scalar element types.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/cd/B19306_01/java.102/b14355/apxref.htm\" rel=\"noreferrer\">READ THIS</a></p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479073250,"creation_date":1479073250,"answer_id":40579142,"question_id":17339530,"body_markdown":"While you cannot use JDBC directly to fetch your PL/SQL RECORD type, you can write an anonymous PL/SQL block and return the record into a local variable, which you can then decompose in its individual attributes as follows:\r\n\r\n\r\n    DECLARE\r\n        rec XXX_info_utl_pkg.seagrs_order_rec;\r\n    BEGIN\r\n        get_order_admin(?, rec, ?, ?, ?);\r\n        ? := rec.order_admin;\r\n        ? := rec.contact_name;\r\n        ? := rec.contact_email_addr;\r\n        ? := rec.contact_phone_num;\r\n    END;\r\n\r\nYou can now use the following JDBC code to call the procedure:\r\n\r\n    try (CallableStatement s = con.prepareCall(&quot; ... previous PL/SQL block ...&quot;)) {\r\n        s.setInt(1, Integer.parseInt(orderNumber));\r\n\r\n        // Ordinary out parameters\r\n        s.registerOutParameter(2, Types.NUMBER);\r\n        s.registerOutParameter(3, Types.VARCHAR);\r\n        s.registerOutParameter(4, Types.NUMBER);\r\n\r\n        // Out parameters from your decomposed record\r\n        s.registerOutParameter(5, Types.VARCHAR);\r\n        s.registerOutParameter(6, Types.VARCHAR);\r\n        s.registerOutParameter(7, Types.VARCHAR);\r\n        s.registerOutParameter(8, Types.VARCHAR);\r\n\r\n        s.execute();\r\n        // Now, retrieve all the out parameters\r\n    }\r\n\r\n[I have recently blogged about this technique more in detail][1]. The blog post also contains instructions about how you could automatically generate the anonymous PL/SQL blocks for all functions / procedures, that have record IN/OUT parameters.\r\n\r\n\r\n  [1]: https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>While you cannot use JDBC directly to fetch your PL/SQL RECORD type, you can write an anonymous PL/SQL block and return the record into a local variable, which you can then decompose in its individual attributes as follows:</p>\n\n<pre><code>DECLARE\n    rec XXX_info_utl_pkg.seagrs_order_rec;\nBEGIN\n    get_order_admin(?, rec, ?, ?, ?);\n    ? := rec.order_admin;\n    ? := rec.contact_name;\n    ? := rec.contact_email_addr;\n    ? := rec.contact_phone_num;\nEND;\n</code></pre>\n\n<p>You can now use the following JDBC code to call the procedure:</p>\n\n<pre><code>try (CallableStatement s = con.prepareCall(\" ... previous PL/SQL block ...\")) {\n    s.setInt(1, Integer.parseInt(orderNumber));\n\n    // Ordinary out parameters\n    s.registerOutParameter(2, Types.NUMBER);\n    s.registerOutParameter(3, Types.VARCHAR);\n    s.registerOutParameter(4, Types.NUMBER);\n\n    // Out parameters from your decomposed record\n    s.registerOutParameter(5, Types.VARCHAR);\n    s.registerOutParameter(6, Types.VARCHAR);\n    s.registerOutParameter(7, Types.VARCHAR);\n    s.registerOutParameter(8, Types.VARCHAR);\n\n    s.execute();\n    // Now, retrieve all the out parameters\n}\n</code></pre>\n\n<p><a href=\"https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/\" rel=\"noreferrer\">I have recently blogged about this technique more in detail</a>. The blog post also contains instructions about how you could automatically generate the anonymous PL/SQL blocks for all functions / procedures, that have record IN/OUT parameters.</p>\n"},{"tags":[],"owner":{"account_id":10736528,"reputation":21,"user_id":7901024,"display_name":"prathamesh patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677483627,"creation_date":1677074293,"answer_id":75533762,"question_id":17339530,"body_markdown":"There is one more way using STRUCT type if you do not prefer to use direct pl/sql block inside your java code. \r\n\r\nfor example in your above code change type from array to struct:- \r\n\r\n   \r\n\r\n    dbStrategy.openConnection();\r\n            WrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\r\n            OracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\r\n            CallableStatement callableStatement = oracleConnection.prepareCall(&quot;{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}&quot;);\r\n            callableStatement.setInt(1, Integer.parseInt(orderNumber));\r\n            callableStatement.registerOutParameter(2, Types.STRUCT, &quot;XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC&quot;);\r\n            callableStatement.registerOutParameter(3, OracleTypes.NUMBER);\r\n            callableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\r\n            callableStatement.registerOutParameter(5, OracleTypes.NUMBER);","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>There is one more way using STRUCT type if you do not prefer to use direct pl/sql block inside your java code.</p>\n<p>for example in your above code change type from array to struct:-</p>\n<pre><code>dbStrategy.openConnection();\n        WrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\n        OracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\n        CallableStatement callableStatement = oracleConnection.prepareCall(&quot;{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}&quot;);\n        callableStatement.setInt(1, Integer.parseInt(orderNumber));\n        callableStatement.registerOutParameter(2, Types.STRUCT, &quot;XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC&quot;);\n        callableStatement.registerOutParameter(3, OracleTypes.NUMBER);\n        callableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\n        callableStatement.registerOutParameter(5, OracleTypes.NUMBER);\n</code></pre>\n"}],"owner":{"account_id":2936667,"reputation":35,"user_id":2515411,"display_name":"musicar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5079,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17340881,"answer_count":3,"score":2,"last_activity_date":1677483627,"creation_date":1372325425,"question_id":17339530,"body_markdown":"Is it true that RECORD type is not compatible with JDBC? the driver am using is OJDBC6.jar\r\n\r\n\r\nJava Code:\r\n\r\n    dbStrategy.openConnection();\r\n\t\t\tWrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\r\n\t\t\tOracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\r\n\t\t\tCallableStatement callableStatement = oracleConnection.prepareCall(&quot;{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}&quot;);\r\n\t\t\tcallableStatement.setInt(1, Integer.parseInt(orderNumber));\r\n\t\t\tcallableStatement.registerOutParameter(2, OracleTypes.ARRAY, &quot;XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC&quot;);\r\n\t\t\tcallableStatement.registerOutParameter(3, OracleTypes.NUMBER);\r\n\t\t\tcallableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\r\n\t\t\tcallableStatement.registerOutParameter(5, OracleTypes.NUMBER);\r\n\r\n\r\nAnd Oracle Code:\r\n\r\n    PROCEDURE get_order_admin(\r\n    \t\t\tp_order_num_in IN NUMBER,\r\n    \t\t\tp_order_admin_out OUT XXX_info_utl_pkg.seagrs_order_rec,\r\n    \t\t\tp_error_code_out OUT PLS_INTEGER,\r\n    \t\t\tp_error_msg_out OUT VARCHAR2,\r\n    \t\t\tp_ret_status_out OUT PLS_INTEGER);\r\n\r\n\r\n    TYPE seagrs_order_rec\r\n    IS\r\n    \trecord\r\n    \t(\r\n    \t\torder_admin        VARCHAR2(10),\r\n    \t\tcontact_name       VARCHAR2(50),\r\n    \t\tcontact_email_addr VARCHAR2(100),\r\n    \t\tcontact_phone_num  VARCHAR2(30));\r\n\r\n\r\n\r\nThe error am facing here is - \r\n\r\n&gt;  Exception : invalid name pattern: XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>Is it true that RECORD type is not compatible with JDBC? the driver am using is OJDBC6.jar</p>\n\n<p>Java Code:</p>\n\n<pre><code>dbStrategy.openConnection();\n        WrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\n        OracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\n        CallableStatement callableStatement = oracleConnection.prepareCall(\"{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}\");\n        callableStatement.setInt(1, Integer.parseInt(orderNumber));\n        callableStatement.registerOutParameter(2, OracleTypes.ARRAY, \"XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC\");\n        callableStatement.registerOutParameter(3, OracleTypes.NUMBER);\n        callableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\n        callableStatement.registerOutParameter(5, OracleTypes.NUMBER);\n</code></pre>\n\n<p>And Oracle Code:</p>\n\n<pre><code>PROCEDURE get_order_admin(\n            p_order_num_in IN NUMBER,\n            p_order_admin_out OUT XXX_info_utl_pkg.seagrs_order_rec,\n            p_error_code_out OUT PLS_INTEGER,\n            p_error_msg_out OUT VARCHAR2,\n            p_ret_status_out OUT PLS_INTEGER);\n\n\nTYPE seagrs_order_rec\nIS\n    record\n    (\n        order_admin        VARCHAR2(10),\n        contact_name       VARCHAR2(50),\n        contact_email_addr VARCHAR2(100),\n        contact_phone_num  VARCHAR2(30));\n</code></pre>\n\n<p>The error am facing here is - </p>\n\n<blockquote>\n  <p>Exception : invalid name pattern: XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1456013043,"post_id":35530617,"comment_id":58750733,"body_markdown":"Time to learn to debug. Either run your code through a debugger or use println statements to see why it is not behaving correctly.","body":"Time to learn to debug. Either run your code through a debugger or use println statements to see why it is not behaving correctly."},{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456013142,"post_id":35530617,"comment_id":58750767,"body_markdown":"Will debugging, tell me what kind of error it is or would it give me some generic error statement?","body":"Will debugging, tell me what kind of error it is or would it give me some generic error statement?"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":0,"creation_date":1456013194,"post_id":35530617,"comment_id":58750780,"body_markdown":"Debugging will help you determine the issue. It will not directly tell you it though. Debugger != Magic. Also, please show your output so we can compare with the desired result.","body":"Debugging will help you determine the issue. It will not directly tell you it though. Debugger != Magic. Also, please show your output so we can compare with the desired result."},{"owner":{"account_id":7030473,"reputation":4189,"user_id":5386374,"accept_rate":60,"display_name":"Justin Time - Reinstate Monica"},"score":0,"creation_date":1456013276,"post_id":35530617,"comment_id":58750804,"body_markdown":"If you fill the array randomly, why do you expect it to always contain `{ 4, 3, 6, 9, 3, 9, 5, 4, 1, 9 }`?  First try explicitly setting it to contain those values in that order, and see if it works properly then.  If not, it&#39;s debugging time, and additional information would help locate the issue.","body":"If you fill the array randomly, why do you expect it to always contain <code>{ 4, 3, 6, 9, 3, 9, 5, 4, 1, 9 }</code>?  First try explicitly setting it to contain those values in that order, and see if it works properly then.  If not, it&#39;s debugging time, and additional information would help locate the issue."},{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456013304,"post_id":35530617,"comment_id":58750812,"body_markdown":"I see, nice coding pun btw and the out put I am getting is \n\nThe array is: 1 8 9 9 5 10 5 4 3 3\nThis array DOES NOT contain 5.\nSorted by Arrays.sort():   1 3 3 4 5 5 8 9 9 10","body":"I see, nice coding pun btw and the out put I am getting is   The array is: 1 8 9 9 5 10 5 4 3 3 This array DOES NOT contain 5. Sorted by Arrays.sort():   1 3 3 4 5 5 8 9 9 10"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":2,"creation_date":1456013309,"post_id":35530617,"comment_id":58750813,"body_markdown":"Remove the `else` in the contains.","body":"Remove the <code>else</code> in the contains."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1456013333,"post_id":35530617,"comment_id":58750818,"body_markdown":"*&quot;Will debugging, tell me what kind of error it is or would it give me some generic error statement?&quot;* No.  A debugger will allow you to see what the program is doing.  Figuring out what is wrong, why it is wrong, what causes it and how to fix it is up to something with grey matter between its ears.  Obviously, the grey matter *must be trained* to do this.  We are recommending that you train &gt;&gt;your&lt;&lt; grey matter.","body":"<i>&quot;Will debugging, tell me what kind of error it is or would it give me some generic error statement?&quot;</i> No.  A debugger will allow you to see what the program is doing.  Figuring out what is wrong, why it is wrong, what causes it and how to fix it is up to something with grey matter between its ears.  Obviously, the grey matter <i>must be trained</i> to do this.  We are recommending that you train &gt;&gt;your&lt;&lt; grey matter."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1456013500,"post_id":35530617,"comment_id":58750868,"body_markdown":"Your code said that array didn&#39;t contain 5 because `1 == 5` is the first comparison, and it immediately returns false","body":"Your code said that array didn&#39;t contain 5 because <code>1 == 5</code> is the first comparison, and it immediately returns false"},{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456013536,"post_id":35530617,"comment_id":58750877,"body_markdown":"Alright, thanks for the advice. BTW, is the debugger in netbeans ide a good one?","body":"Alright, thanks for the advice. BTW, is the debugger in netbeans ide a good one?"},{"owner":{"account_id":5188704,"reputation":1323,"user_id":4152280,"display_name":"SkyMaster"},"score":0,"creation_date":1456013754,"post_id":35530617,"comment_id":58750930,"body_markdown":"Change this line: `for (int j = 0; j &lt; array.length-1; i++) {`  for this: `for (int j = 0; j &lt; array.length-1; j++) {` in `bubbleSort` function.","body":"Change this line: <code>for (int j = 0; j &lt; array.length-1; i++) {</code>  for this: <code>for (int j = 0; j &lt; array.length-1; j++) {</code> in <code>bubbleSort</code> function."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1456014578,"post_id":35530617,"comment_id":58751128,"body_markdown":"@Tdorno OP&#39;s sorts don&#39;t create new arrays, they modify the arrays which were passed in. These methods can stay void as they are.","body":"@Tdorno OP&#39;s sorts don&#39;t create new arrays, they modify the arrays which were passed in. These methods can stay void as they are."}],"answers":[{"comments":[{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456014809,"post_id":35530722,"comment_id":58751192,"body_markdown":"Thanks for the hint and the solution","body":"Thanks for the hint and the solution"}],"tags":[],"owner":{"account_id":7833119,"reputation":314,"user_id":5922315,"display_name":"Jodn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456013793,"creation_date":1456013793,"answer_id":35530722,"question_id":35530617,"body_markdown":"\r\n\r\n        public static void bubbleSort(int[] array) {\r\n\t        for (int i = 0; i &lt; array.length; i++) {\r\n\t            for (int j = 0; j &lt; array.length-1; i++) { //&lt;---- wrong increment. it should be j++\r\n\t                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n\t                    int temp = array[j];\r\n\t                    array[j] = array[j+1];\r\n\t                    array[j+1] = temp;\r\n\t                 \r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    }\r\nin this part is at least one error. You should check your loops if your programm does not determine.","title":"Need assistance locating the errors within the following code","body":"<pre><code>    public static void bubbleSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; i++) { //&lt;---- wrong increment. it should be j++\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>in this part is at least one error. You should check your loops if your programm does not determine.</p>\n"},{"tags":[],"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456014751,"creation_date":1456014751,"answer_id":35530845,"question_id":35530617,"body_markdown":"Thank for all your help guys. Using the debugger I found the for main issues\r\n\r\nError 1: \r\n\r\n    public static void sweepSort(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; array.length-1; i++) {&lt;------// need change i++ to j++\r\n    \t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n    \t\t\t\t\tint temp = array[j];\r\n    \t\t\t\t\tarray[j] = array[j+1];\r\n    \t\t\t\t\tarray[j+1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nError 2 and 3: \r\n\r\n    public static void insertionSort(int[] array) {\r\n    \t\tfor (int top = 1; top &lt; array.length; top++) {\r\n    \t\t\tint temp = array[top];  // copy item that into temp variable\r\n    \t\t\tint pos = top - 1;\r\n    \t\t\twhile (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) { //&lt;----- need to change &#39;&gt;&#39; to &#39;&gt;=&#39;\r\n    \t\t\t\t   // move items that are bigger than temp up one position\r\n    \t\t\t\tarray[pos+1] = array[pos];\r\n    \t\t\t\tpos--;\r\n    \t\t\t}\r\n    \t\t\tarray[pos ] = temp;  // place temp into last vacated position // &lt;------------------------need to change &#39;array[pos ]&#39; to &#39;array[pos + 1]&#39;\r\n    \t\t}\r\n    \t}\r\n\r\nError 4: \r\n\r\n \r\n\r\n       public static boolean contains(int[] array, int val) {\r\n        \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n        \t\t\tif (array[i] == val)\r\n        \t\t\t\treturn true;\r\n        \t\t\telse  //&lt;---------- need to remove this\r\n        \t\t\treturn false; //&lt;---------- need to remove this\r\n        \t\t}\r\n        \t\treturn false;\r\n        \t}\r\n    \t","title":"Need assistance locating the errors within the following code","body":"<p>Thank for all your help guys. Using the debugger I found the for main issues</p>\n\n<p>Error 1: </p>\n\n<pre><code>public static void sweepSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; i++) {&lt;------// need change i++ to j++\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Error 2 and 3: </p>\n\n<pre><code>public static void insertionSort(int[] array) {\n        for (int top = 1; top &lt; array.length; top++) {\n            int temp = array[top];  // copy item that into temp variable\n            int pos = top - 1;\n            while (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) { //&lt;----- need to change '&gt;' to '&gt;='\n                   // move items that are bigger than temp up one position\n                array[pos+1] = array[pos];\n                pos--;\n            }\n            array[pos ] = temp;  // place temp into last vacated position // &lt;------------------------need to change 'array[pos ]' to 'array[pos + 1]'\n        }\n    }\n</code></pre>\n\n<p>Error 4: </p>\n\n<pre><code>   public static boolean contains(int[] array, int val) {\n            for (int i = 0; i &lt; array.length; i++) {\n                if (array[i] == val)\n                    return true;\n                else  //&lt;---------- need to remove this\n                return false; //&lt;---------- need to remove this\n            }\n            return false;\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1167427,"reputation":24342,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":1,"creation_date":1513005568,"post_id":47755963,"comment_id":82472807,"body_markdown":"What did you change?   Can you explain a bit?   Just dumping code in does not make a high quality answer.","body":"What did you change?   Can you explain a bit?   Just dumping code in does not make a high quality answer."}],"tags":[],"owner":{"account_id":12478889,"reputation":1,"user_id":9084357,"display_name":"Md Sharif Mia"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1513005504,"creation_date":1513005452,"answer_id":47755963,"question_id":35530617,"body_markdown":"    package sort;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * This class looks like it&#39;s meant to provide a few public static methods\r\n     * for searching and sorting arrays.  It also has a main method that tests\r\n     * the searching and sorting methods.\r\n     * \r\n     * TODO: The search and sort methods in this class contain bugs that can\r\n     * cause incorrect output or infinite loops.  Use the Eclipse debugger to \r\n     * find the bugs and fix them\r\n     */\r\n    public class BuggySearchAndSort {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] A = new int[10];  // Create an array and fill it with small random ints.\r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t\tA[i] = 1 + (int)(10 * Math.random());\r\n    \t\t\r\n    \t\tint[] B = A.clone();   // Make copies of the array.\r\n    \t\tint[] C = A.clone();\r\n    \t\tint[] D = A.clone();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;The array is:&quot;);\r\n    \t\tprintArray(A);\r\n    \t\t\r\n    \t\tif (contains(A,5))\r\n    \t\t\tSystem.out.println(&quot;This array DOES contain 5.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;This array DOES NOT contain 5.&quot;);\r\n    \t\t\r\n    \t\tArrays.sort(A);  // Sort using Java&#39;s built-in sort method!\r\n    \t\tSystem.out.print(&quot;Sorted by Arrays.sort():  &quot;);\r\n    \t\tprintArray(A);   // (Prints a correctly sorted array.)\r\n    \r\n    \t\tbubbleSort(B);\r\n    \t\tSystem.out.print(&quot;Sorted by Bubble Sort:    &quot;);\r\n    \t\tprintArray(B);\r\n    \r\n    \t\tselectionSort(C);\r\n    \t\tSystem.out.print(&quot;Sorted by Selection Sort: &quot;);\r\n    \t\tprintArray(C);\r\n    \t\t\r\n    \t\tinsertionSort(D);\r\n    \t\tSystem.out.print(&quot;Sorted by Insertion Sort: &quot;);\r\n    \t\tprintArray(D);\r\n    \r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Tests whether an array of ints contains a given value.\r\n    \t * @param array a non-null array that is to be searched\r\n    \t * @param val the value for which the method will search\r\n    \t * @return true if val is one of the items in the array, false if not\r\n    \t */\r\n    \tpublic static boolean contains(int[] array, int val) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tif (array[i] == val)\r\n    \t\t\t\treturn true;\r\n    \t\t\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This inefficient sorting\r\n    \t * method simply sweeps through the array, exchanging neighboring elements\r\n    \t * that are out of order.  The number of times that it does this is equal\r\n    \t * to the length of the array.\r\n    \t */\r\n    \tpublic static void bubbleSort(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; array.length-1; j++) {\r\n    \t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n    \t\t\t\t\tint temp = array[j];\r\n    \t\t\t\t\tarray[j] = array[j+1];\r\n    \t\t\t\t\tarray[j+1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a selection\r\n    \t * sort algorithm, in which the largest item is found and placed at the end of \r\n    \t * the list, then the second-largest in the next to last place, and so on.\r\n    \t */\r\n    \tpublic static void selectionSort(int[] array) {\r\n    \t\tfor (int top = array.length - 1; top &gt; 0; top--) {\r\n    \t\t\tint positionOfMax = 0;\r\n    \t\t\tfor (int i = 0; i &lt;= top; i++) {\r\n    \t\t\t\tif (array[i] &gt; array[positionOfMax])\r\n    \t\t\t\t\tpositionOfMax = i;\r\n    \t\t\t}\r\n    \t\t\tint temp = array[top];  // swap top item with biggest item\r\n    \t\t\tarray[top] = array[positionOfMax];\r\n    \t\t\tarray[positionOfMax] = temp;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a standard\r\n    \t * insertion sort algorithm, in which each element in turn is moved downwards\r\n    \t * past any elements that are greater than it.\r\n    \t */\r\n    \tpublic static void insertionSort(int[] array) {\r\n    \t\tfor (int top = 1; top &lt; array.length; top++) {\r\n    \t\t\tint temp = array[top];  // copy item that into temp variable\r\n    \t\t\tint pos = top ;\r\n    \t\t\twhile (pos &gt; 0 &amp;&amp; array[pos-1] &gt;= temp) {\r\n    \t\t\t\t   // move items that are bigger than temp up one position\r\n    \t\t\t\tarray[pos] = array[pos-1];\r\n    \t\t\t\tpos--;\r\n    \t\t\t}\r\n    \t\t\tarray[pos] = temp;  // place temp into last vacated position\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Outputs the ints in an array on one line, separated by spaces,\r\n    \t * with a line feed at the end.\r\n    \t */\r\n    \tprivate static void printArray(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\tSystem.out.print(array[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Need assistance locating the errors within the following code","body":"<pre><code>package sort;\n\nimport java.util.Arrays;\n\n/**\n * This class looks like it's meant to provide a few public static methods\n * for searching and sorting arrays.  It also has a main method that tests\n * the searching and sorting methods.\n * \n * TODO: The search and sort methods in this class contain bugs that can\n * cause incorrect output or infinite loops.  Use the Eclipse debugger to \n * find the bugs and fix them\n */\npublic class BuggySearchAndSort {\n\n    public static void main(String[] args) {\n\n        int[] A = new int[10];  // Create an array and fill it with small random ints.\n        for (int i = 0; i &lt; 10; i++)\n            A[i] = 1 + (int)(10 * Math.random());\n\n        int[] B = A.clone();   // Make copies of the array.\n        int[] C = A.clone();\n        int[] D = A.clone();\n\n        System.out.print(\"The array is:\");\n        printArray(A);\n\n        if (contains(A,5))\n            System.out.println(\"This array DOES contain 5.\");\n        else\n            System.out.println(\"This array DOES NOT contain 5.\");\n\n        Arrays.sort(A);  // Sort using Java's built-in sort method!\n        System.out.print(\"Sorted by Arrays.sort():  \");\n        printArray(A);   // (Prints a correctly sorted array.)\n\n        bubbleSort(B);\n        System.out.print(\"Sorted by Bubble Sort:    \");\n        printArray(B);\n\n        selectionSort(C);\n        System.out.print(\"Sorted by Selection Sort: \");\n        printArray(C);\n\n        insertionSort(D);\n        System.out.print(\"Sorted by Insertion Sort: \");\n        printArray(D);\n\n    }\n\n    /**\n     * Tests whether an array of ints contains a given value.\n     * @param array a non-null array that is to be searched\n     * @param val the value for which the method will search\n     * @return true if val is one of the items in the array, false if not\n     */\n    public static boolean contains(int[] array, int val) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == val)\n                return true;\n\n        }\n        return false;\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This inefficient sorting\n     * method simply sweeps through the array, exchanging neighboring elements\n     * that are out of order.  The number of times that it does this is equal\n     * to the length of the array.\n     */\n    public static void bubbleSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; j++) {\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                }\n            }\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a selection\n     * sort algorithm, in which the largest item is found and placed at the end of \n     * the list, then the second-largest in the next to last place, and so on.\n     */\n    public static void selectionSort(int[] array) {\n        for (int top = array.length - 1; top &gt; 0; top--) {\n            int positionOfMax = 0;\n            for (int i = 0; i &lt;= top; i++) {\n                if (array[i] &gt; array[positionOfMax])\n                    positionOfMax = i;\n            }\n            int temp = array[top];  // swap top item with biggest item\n            array[top] = array[positionOfMax];\n            array[positionOfMax] = temp;\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a standard\n     * insertion sort algorithm, in which each element in turn is moved downwards\n     * past any elements that are greater than it.\n     */\n    public static void insertionSort(int[] array) {\n        for (int top = 1; top &lt; array.length; top++) {\n            int temp = array[top];  // copy item that into temp variable\n            int pos = top ;\n            while (pos &gt; 0 &amp;&amp; array[pos-1] &gt;= temp) {\n                   // move items that are bigger than temp up one position\n                array[pos] = array[pos-1];\n                pos--;\n            }\n            array[pos] = temp;  // place temp into last vacated position\n        }\n    }\n\n    /**\n     * Outputs the ints in an array on one line, separated by spaces,\n     * with a line feed at the end.\n     */\n    private static void printArray(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            System.out.print(\" \");\n            System.out.print(array[i]);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27856945,"reputation":1,"user_id":21270242,"display_name":"Tsenguun Oyunchimeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677483608,"creation_date":1677127348,"answer_id":75540633,"question_id":35530617,"body_markdown":"I have finished my project and decided to drop a help\r\n\r\n \r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[] A = new int[10];  // Create an array and fill it with small random ints.\r\n\t\tfor (int i = 0; i &lt; 10; i++)\r\n\t\t\tA[i] = 1 + (int)(10 * Math.random());\r\n\t\t\r\n\t\tint[] B = A.clone();   // Make copies of the array.\r\n\t\tint[] C = A.clone();\r\n\t\tint[] D = A.clone();\r\n\t\t\r\n\t\tSystem.out.print(&quot;The array is:&quot;);\r\n\t\tprintArray(A);\r\n\t\t\r\n\t\tif (contains(A,5))\r\n\t\t\tSystem.out.println(&quot;This array DOES contain 5.&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;This array DOES NOT contain 5.&quot;);\r\n\t\t\r\n\t\tArrays.sort(A);  // Sort using Java&#39;s built-in sort method!\r\n\t\tSystem.out.print(&quot;Sorted by Arrays.sort():  &quot;);\r\n\t\tprintArray(A);   // (Prints a correctly sorted array.)\r\n\r\n\t\tsweepSort(B);\r\n\t\tSystem.out.print(&quot;Sorted by Sweep Sort:    &quot;); //Changed name \r\n\t\tprintArray(B);\r\n\r\n\t\tselectionSort(C);\r\n\t\tSystem.out.print(&quot;Sorted by Selection Sort: &quot;);\r\n\t\tprintArray(C);\r\n\t\t\r\n\t\tinsertionSort(D);\r\n\t\tSystem.out.print(&quot;Sorted by Insertion Sort: &quot;);\r\n\t\tprintArray(D);\r\n\r\n\t}\r\n\t\r\n\t\r\n\tpublic static boolean contains(int[] array, int val) {\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tif (array[i] == val)\r\n\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//removed else\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t//removed return false;\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void sweepSort(int[] array) {\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; array.length-1; j++) { //&#39;i++&#39; =&gt; &#39;j++&#39;\r\n\t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n\t\t\t\t\tint temp = array[j];\r\n\t\t\t\t\tarray[j] = array[j+1];\r\n\t\t\t\t\tarray[j+1] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void selectionSort(int[] array) {\r\n\t\tfor (int top = array.length - 1; top &gt; 0; top--) {\r\n\t\t\tint positionOfMax = 0;\r\n\t\t\tfor (int i = 1; i &lt;= top; i++) {\r\n\t\t\t\tif (array[i] &gt; array[positionOfMax]) //replaced [1]\r\n\t\t\t\t\tpositionOfMax = i;\r\n\t\t\t}\r\n\t\t\tint temp = array[top];  // swap top item with biggest item\r\n\t\t\tarray[top] = array[positionOfMax];\r\n\t\t\tarray[positionOfMax] = temp;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void insertionSort(int[] array) {\r\n\t\tfor (int top = 1; top &lt; array.length; top++) {\r\n\t\t\tint temp = array[top];  // copy item that into temp variable\r\n\t\t\tint pos = top - 1;\r\n\t\t\twhile (pos &gt;= 0 &amp;&amp; array[pos] &gt;= temp) { // &#39;&gt;&#39; =&gt; &#39;&gt;=&#39;\r\n\t\t\t\t   // move items that are bigger than temp up one position\r\n\t\t\t\tarray[pos+1] = array[pos];\r\n\t\t\t\tpos--;\r\n\t\t\t}\r\n\t\t\tarray[pos+1] = temp;  // place temp into last vacated position //added &#39;+1&#39; \r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tprivate static void printArray(int[] array) {\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\tSystem.out.print(array[i]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n    }\r\n\r\n","title":"Need assistance locating the errors within the following code","body":"<p>I have finished my project and decided to drop a help</p>\n<pre><code>public static void main(String[] args) {\n    \n    int[] A = new int[10];  // Create an array and fill it with small random ints.\n    for (int i = 0; i &lt; 10; i++)\n        A[i] = 1 + (int)(10 * Math.random());\n    \n    int[] B = A.clone();   // Make copies of the array.\n    int[] C = A.clone();\n    int[] D = A.clone();\n    \n    System.out.print(&quot;The array is:&quot;);\n    printArray(A);\n    \n    if (contains(A,5))\n        System.out.println(&quot;This array DOES contain 5.&quot;);\n    else\n        System.out.println(&quot;This array DOES NOT contain 5.&quot;);\n    \n    Arrays.sort(A);  // Sort using Java's built-in sort method!\n    System.out.print(&quot;Sorted by Arrays.sort():  &quot;);\n    printArray(A);   // (Prints a correctly sorted array.)\n\n    sweepSort(B);\n    System.out.print(&quot;Sorted by Sweep Sort:    &quot;); //Changed name \n    printArray(B);\n\n    selectionSort(C);\n    System.out.print(&quot;Sorted by Selection Sort: &quot;);\n    printArray(C);\n    \n    insertionSort(D);\n    System.out.print(&quot;Sorted by Insertion Sort: &quot;);\n    printArray(D);\n\n}\n\n\npublic static boolean contains(int[] array, int val) {\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] == val)\n            return true;\n                                                            //removed else\n    }                                                       //removed return false;\n    return false;\n}\n\n\npublic static void sweepSort(int[] array) {\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array.length-1; j++) { //'i++' =&gt; 'j++'\n            if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                int temp = array[j];\n                array[j] = array[j+1];\n                array[j+1] = temp;\n            }\n        }\n    }\n}\n\n\npublic static void selectionSort(int[] array) {\n    for (int top = array.length - 1; top &gt; 0; top--) {\n        int positionOfMax = 0;\n        for (int i = 1; i &lt;= top; i++) {\n            if (array[i] &gt; array[positionOfMax]) //replaced [1]\n                positionOfMax = i;\n        }\n        int temp = array[top];  // swap top item with biggest item\n        array[top] = array[positionOfMax];\n        array[positionOfMax] = temp;\n    }\n}\n\npublic static void insertionSort(int[] array) {\n    for (int top = 1; top &lt; array.length; top++) {\n        int temp = array[top];  // copy item that into temp variable\n        int pos = top - 1;\n        while (pos &gt;= 0 &amp;&amp; array[pos] &gt;= temp) { // '&gt;' =&gt; '&gt;='\n               // move items that are bigger than temp up one position\n            array[pos+1] = array[pos];\n            pos--;\n        }\n        array[pos+1] = temp;  // place temp into last vacated position //added '+1' \n    }\n}\n\n\nprivate static void printArray(int[] array) {\n    for (int i = 0; i &lt; array.length; i++) {\n        System.out.print(&quot; &quot;);\n        System.out.print(array[i]);\n    }\n    System.out.println();\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1166,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1677483608,"creation_date":1456012957,"question_id":35530617,"body_markdown":"The code attached below is suppose to produce this output: \r\n\r\n    The array is: 4 3 6 9 3 9 5 4 1 9\r\n    This array DOES contain 5.\r\n    Sorted by Arrays.sort(): 1 3 3 4 4 5 6 9 9 9\r\n    Sorted by Sweep Sort: 1 3 3 4 4 5 6 9 9 9\r\n    Sorted by Selection Sort: 1 3 3 4 4 5 6 9 9 9\r\n    Sorted by Insertion Sort: 1 3 3 4 4 5 6 9 9 9\r\n\r\nBut it doesn&#39;t. I followed the instruction in the book that I am reading and it didn&#39;t help. Can I get your opinion on what those errors might be? I&#39;m not asking for solutions, I want to be pointed in the right direction as to where the errors are and what type of errors they are.\r\n \r\n\r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * This class looks like it&#39;s meant to provide a few public static methods\r\n     * for searching and sorting arrays.  It also has a main method that tests\r\n     * the searching and sorting methods.\r\n     * \r\n     * TODO: The search and sort methods in this class contain bugs that can\r\n     * cause incorrect output or infinite loops.  Use the Eclipse debugger to \r\n     * find the bugs and fix them\r\n     */\r\n    \r\n    public class BuggySearchAndSort {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] A = new int[10];  // Create an array and fill it with small random ints.\r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t\tA[i] = 1 + (int)(10 * Math.random());\r\n    \t\t\r\n    \t\tint[] B = A.clone();   // Make copies of the array.\r\n    \t\tint[] C = A.clone();\r\n    \t\tint[] D = A.clone();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;The array is:&quot;);\r\n    \t\tprintArray(A);\r\n    \t\t\r\n    \t\tif (contains(A,5))\r\n    \t\t\tSystem.out.println(&quot;This array DOES contain 5.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;This array DOES NOT contain 5.&quot;);\r\n    \t\t\r\n    \t\tArrays.sort(A);  // Sort using Java&#39;s built-in sort method!\r\n    \t\tSystem.out.print(&quot;Sorted by Arrays.sort():  &quot;);\r\n    \t\tprintArray(A);   // (Prints a correctly sorted array.)\r\n    \r\n    \t\tbubbleSort(B);\r\n    \t\tSystem.out.print(&quot;Sorted by Bubble Sort:    &quot;);\r\n    \t\tprintArray(B);\r\n    \r\n    \t\tselectionSort(C);\r\n    \t\tSystem.out.print(&quot;Sorted by Selection Sort: &quot;);\r\n    \t\tprintArray(C);\r\n    \t\t\r\n    \t\tinsertionSort(D);\r\n    \t\tSystem.out.print(&quot;Sorted by Insertion Sort: &quot;);\r\n    \t\tprintArray(D);\r\n    \r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Tests whether an array of ints contains a given value.\r\n    \t * @param array a non-null array that is to be searched\r\n    \t * @param val the value for which the method will search\r\n    \t * @return true if val is one of the items in the array, false if not\r\n    \t */\r\n    \tpublic static boolean contains(int[] array, int val) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tif (array[i] == val)\r\n    \t\t\t\treturn true;\r\n    \t\t\telse\r\n    \t\t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This inefficient sorting\r\n    \t * method simply sweeps through the array, exchanging neighboring elements\r\n    \t * that are out of order.  The number of times that it does this is equal\r\n    \t * to the length of the array.\r\n    \t */\r\n    \tpublic static void bubbleSort(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; array.length-1; i++) {\r\n    \t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n    \t\t\t\t\tint temp = array[j];\r\n    \t\t\t\t\tarray[j] = array[j+1];\r\n    \t\t\t\t\tarray[j+1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a selection\r\n    \t * sort algorithm, in which the largest item is found and placed at the end of \r\n    \t * the list, then the second-largest in the next to last place, and so on.\r\n    \t */\r\n    \tpublic static void selectionSort(int[] array) {\r\n    \t\tfor (int top = array.length - 1; top &gt; 0; top--) {\r\n    \t\t\tint positionOfMax = 0;\r\n    \t\t\tfor (int i = 1; i &lt;= top; i++) {\r\n    \t\t\t\tif (array[1] &gt; array[positionOfMax])\r\n    \t\t\t\t\tpositionOfMax = i;\r\n    \t\t\t}\r\n    \t\t\tint temp = array[top];  // swap top item with biggest item\r\n    \t\t\tarray[top] = array[positionOfMax];\r\n    \t\t\tarray[positionOfMax] = temp;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a standard\r\n    \t * insertion sort algorithm, in which each element in turn is moved downwards\r\n    \t * past any elements that are greater than it.\r\n    \t */\r\n    \tpublic static void insertionSort(int[] array) {\r\n    \t\tfor (int top = 1; top &lt; array.length; top++) {\r\n    \t\t\tint temp = array[top];  // copy item that into temp variable\r\n    \t\t\tint pos = top - 1;\r\n    \t\t\twhile (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) {\r\n    \t\t\t\t   // move items that are bigger than temp up one position\r\n    \t\t\t\tarray[pos+1] = array[pos];\r\n    \t\t\t\tpos--;\r\n    \t\t\t}\r\n    \t\t\tarray[pos] = temp;  // place temp into last vacated position\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Outputs the ints in an array on one line, separated by spaces,\r\n    \t * with a line feed at the end.\r\n    \t */\r\n    \tprivate static void printArray(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\tSystem.out.print(array[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    }","title":"Need assistance locating the errors within the following code","body":"<p>The code attached below is suppose to produce this output: </p>\n\n<pre><code>The array is: 4 3 6 9 3 9 5 4 1 9\nThis array DOES contain 5.\nSorted by Arrays.sort(): 1 3 3 4 4 5 6 9 9 9\nSorted by Sweep Sort: 1 3 3 4 4 5 6 9 9 9\nSorted by Selection Sort: 1 3 3 4 4 5 6 9 9 9\nSorted by Insertion Sort: 1 3 3 4 4 5 6 9 9 9\n</code></pre>\n\n<p>But it doesn't. I followed the instruction in the book that I am reading and it didn't help. Can I get your opinion on what those errors might be? I'm not asking for solutions, I want to be pointed in the right direction as to where the errors are and what type of errors they are.</p>\n\n<pre><code>import java.util.Arrays;\n\n/**\n * This class looks like it's meant to provide a few public static methods\n * for searching and sorting arrays.  It also has a main method that tests\n * the searching and sorting methods.\n * \n * TODO: The search and sort methods in this class contain bugs that can\n * cause incorrect output or infinite loops.  Use the Eclipse debugger to \n * find the bugs and fix them\n */\n\npublic class BuggySearchAndSort {\n\n    public static void main(String[] args) {\n\n        int[] A = new int[10];  // Create an array and fill it with small random ints.\n        for (int i = 0; i &lt; 10; i++)\n            A[i] = 1 + (int)(10 * Math.random());\n\n        int[] B = A.clone();   // Make copies of the array.\n        int[] C = A.clone();\n        int[] D = A.clone();\n\n        System.out.print(\"The array is:\");\n        printArray(A);\n\n        if (contains(A,5))\n            System.out.println(\"This array DOES contain 5.\");\n        else\n            System.out.println(\"This array DOES NOT contain 5.\");\n\n        Arrays.sort(A);  // Sort using Java's built-in sort method!\n        System.out.print(\"Sorted by Arrays.sort():  \");\n        printArray(A);   // (Prints a correctly sorted array.)\n\n        bubbleSort(B);\n        System.out.print(\"Sorted by Bubble Sort:    \");\n        printArray(B);\n\n        selectionSort(C);\n        System.out.print(\"Sorted by Selection Sort: \");\n        printArray(C);\n\n        insertionSort(D);\n        System.out.print(\"Sorted by Insertion Sort: \");\n        printArray(D);\n\n    }\n\n    /**\n     * Tests whether an array of ints contains a given value.\n     * @param array a non-null array that is to be searched\n     * @param val the value for which the method will search\n     * @return true if val is one of the items in the array, false if not\n     */\n    public static boolean contains(int[] array, int val) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == val)\n                return true;\n            else\n                return false;\n        }\n        return false;\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This inefficient sorting\n     * method simply sweeps through the array, exchanging neighboring elements\n     * that are out of order.  The number of times that it does this is equal\n     * to the length of the array.\n     */\n    public static void bubbleSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; i++) {\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                }\n            }\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a selection\n     * sort algorithm, in which the largest item is found and placed at the end of \n     * the list, then the second-largest in the next to last place, and so on.\n     */\n    public static void selectionSort(int[] array) {\n        for (int top = array.length - 1; top &gt; 0; top--) {\n            int positionOfMax = 0;\n            for (int i = 1; i &lt;= top; i++) {\n                if (array[1] &gt; array[positionOfMax])\n                    positionOfMax = i;\n            }\n            int temp = array[top];  // swap top item with biggest item\n            array[top] = array[positionOfMax];\n            array[positionOfMax] = temp;\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a standard\n     * insertion sort algorithm, in which each element in turn is moved downwards\n     * past any elements that are greater than it.\n     */\n    public static void insertionSort(int[] array) {\n        for (int top = 1; top &lt; array.length; top++) {\n            int temp = array[top];  // copy item that into temp variable\n            int pos = top - 1;\n            while (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) {\n                   // move items that are bigger than temp up one position\n                array[pos+1] = array[pos];\n                pos--;\n            }\n            array[pos] = temp;  // place temp into last vacated position\n        }\n    }\n\n    /**\n     * Outputs the ints in an array on one line, separated by spaces,\n     * with a line feed at the end.\n     */\n    private static void printArray(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            System.out.print(\" \");\n            System.out.print(array[i]);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","redis","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677483453,"creation_date":1677483453,"answer_id":75577810,"question_id":75547718,"body_markdown":"I guess your method is invoked from an HTTP endpoint returning a `Uni`.\r\nConsequently, your method is called on the event loop (it returns a Uni, so Quarkus calls you on the event loop). Thus you cannot block. However, in the method, you use `await().indefinitely(),` which is blocking. \r\n\r\nSo, you need to avoid blocking:\r\n\r\n```java\r\n\r\nprivate final ReactiveKeyCommands&lt;String&gt; keys;\r\nprivate final ReactiveValueCommands&lt;String, Promotion&gt; values;\r\n\r\n\r\npublic MyClass(ReactiveRedisDataSource reactiveRedisDataSource) {\r\n        this.keys = reactiveRedisDataSource.key();\r\n        this.values = reactiveRedisDataSource.value(Promotion.class);\r\n}\r\n\r\npublic Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\r\n  return keys.keys(&quot;promo*&quot;)\r\n      .onItem().transformToMulti(keys -&gt; Multi.createFrom().items(keys.stream()))\r\n      .onItem().transformToUniAndMerge(values::get)\r\n      .collect().asList();\r\n}\r\n```\r\n\r\n`MyClass` is a bean. First, I initialize the Redis objects to access the keys and values. It avoids having to create these objects every time.\r\n\r\nThen, the `listAll` starts by listing all the matching keys and then transforms the returned list into a `Multi` (and asynchronous stream of keys). You get a `Multi&lt;String&gt;`.  Note that the returned list cannot be `null.` For each item from that stream, we retrieve the value. The `transformToUniAndMerge` indicates that you will retrieve the values concurrently instead of sequentially. If the order is not important, I would recommend that. If the order matters, use `transformToUniAndConcatenate.` At that point, you get a `Multi&lt;Promotion&gt;`. To transform that into a `Uni&lt;List&lt;Promotion&gt;&gt;`, you use `collect().asList(),` which collects all the items into a list and returns it when the last item is read. \r\n","title":"How can I list all key values in reactive redis (quarkus)?","body":"<p>I guess your method is invoked from an HTTP endpoint returning a <code>Uni</code>.\nConsequently, your method is called on the event loop (it returns a Uni, so Quarkus calls you on the event loop). Thus you cannot block. However, in the method, you use <code>await().indefinitely(),</code> which is blocking.</p>\n<p>So, you need to avoid blocking:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final ReactiveKeyCommands&lt;String&gt; keys;\nprivate final ReactiveValueCommands&lt;String, Promotion&gt; values;\n\n\npublic MyClass(ReactiveRedisDataSource reactiveRedisDataSource) {\n        this.keys = reactiveRedisDataSource.key();\n        this.values = reactiveRedisDataSource.value(Promotion.class);\n}\n\npublic Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\n  return keys.keys(&quot;promo*&quot;)\n      .onItem().transformToMulti(keys -&gt; Multi.createFrom().items(keys.stream()))\n      .onItem().transformToUniAndMerge(values::get)\n      .collect().asList();\n}\n</code></pre>\n<p><code>MyClass</code> is a bean. First, I initialize the Redis objects to access the keys and values. It avoids having to create these objects every time.</p>\n<p>Then, the <code>listAll</code> starts by listing all the matching keys and then transforms the returned list into a <code>Multi</code> (and asynchronous stream of keys). You get a <code>Multi&lt;String&gt;</code>.  Note that the returned list cannot be <code>null.</code> For each item from that stream, we retrieve the value. The <code>transformToUniAndMerge</code> indicates that you will retrieve the values concurrently instead of sequentially. If the order is not important, I would recommend that. If the order matters, use <code>transformToUniAndConcatenate.</code> At that point, you get a <code>Multi&lt;Promotion&gt;</code>. To transform that into a <code>Uni&lt;List&lt;Promotion&gt;&gt;</code>, you use <code>collect().asList(),</code> which collects all the items into a list and returns it when the last item is read.</p>\n"}],"owner":{"account_id":27862213,"reputation":1,"user_id":21274483,"display_name":"William Mamani Cutipa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677483453,"creation_date":1677170148,"question_id":75547718,"body_markdown":"I have a flow to get the keys. I use these keys to get their values, then the list of values (Promotion) must be returned.\r\nThe problem is how to join these two flows. Thanks for the help.\r\n\r\n\r\nI created the first flow then I transformed it to obtain a &quot;UNI&quot;, but the result of the second flow returns another &quot;UNI&quot;, which does not let me create the promotion list.\r\n\r\nCode:\r\n\r\n```\r\n    public Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\r\n        return this.reactiveRedisDataSource.key().keys(&quot;promo*&quot;)\r\n                .onItem().ifNotNull()\r\n                .transformToUni(keys -&gt; {\r\n                    LOGGER.info(&quot;listAll ::: keys ::: &quot; + keys);\r\n                    List&lt;Promotion&gt; promotions = new ArrayList&lt;&gt;();\r\n\r\n                    promotions = keys.stream().map(key -&gt; {\r\n                        return this.reactiveRedisDataSource\r\n                                .value(String.class, Promotion.class)\r\n                                .get(key).await().indefinitely();\r\n                    }).toList();\r\n\r\n                    return Uni.createFrom().item(promotions);\r\n                });\r\n    }\r\n```\r\n\r\nERROR:\r\n\r\n```\r\nThe current thread cannot be blocked: vert.x-eventloop-thread-2\r\n```","title":"How can I list all key values in reactive redis (quarkus)?","body":"<p>I have a flow to get the keys. I use these keys to get their values, then the list of values (Promotion) must be returned.\nThe problem is how to join these two flows. Thanks for the help.</p>\n<p>I created the first flow then I transformed it to obtain a &quot;UNI&quot;, but the result of the second flow returns another &quot;UNI&quot;, which does not let me create the promotion list.</p>\n<p>Code:</p>\n<pre><code>    public Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\n        return this.reactiveRedisDataSource.key().keys(&quot;promo*&quot;)\n                .onItem().ifNotNull()\n                .transformToUni(keys -&gt; {\n                    LOGGER.info(&quot;listAll ::: keys ::: &quot; + keys);\n                    List&lt;Promotion&gt; promotions = new ArrayList&lt;&gt;();\n\n                    promotions = keys.stream().map(key -&gt; {\n                        return this.reactiveRedisDataSource\n                                .value(String.class, Promotion.class)\n                                .get(key).await().indefinitely();\n                    }).toList();\n\n                    return Uni.createFrom().item(promotions);\n                });\n    }\n</code></pre>\n<p>ERROR:</p>\n<pre><code>The current thread cannot be blocked: vert.x-eventloop-thread-2\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677482075,"creation_date":1677482075,"question_id":75577626,"body_markdown":"I am currently building an Android app and I&#39;m facing a dilemma regarding the use of fragments and activities for navigation. Despite researching and reading numerous comparisons, I am still unsure about which approach to take. I am hoping to explain my requirements here in detail so that someone can guide me in the right direction.\r\n\r\nThe app I am building is meant to allow users to download photos or videos through a link. I have three items in a BottomNavigation menu called Home, Gallery, and Download. The Home view will provide users with a welcome message and a guide on how to use the app. The Gallery view will display the downloaded media within the app, and the Download page will have an EditText field and a Download button for users to download media.\r\n\r\nAs of now, I believe that using fragments would be the most suitable approach for my requirements. However, I am stuck when it comes to designing the Gallery view, which will include a tabbed layout with two sections: Photos and Videos.\r\n\r\nMy current approach is to use a Bottom Navigation bar with fragments and then use tabbed layouts in the Gallery fragment. Would this be the correct approach, or would you suggest another method?\r\n\r\nPlease note that I had initially tried using Bottom Navigation with activities, but the selected item was not highlighted or changed, leading me to explore alternative approaches.\r\n\r\nI would greatly appreciate your detailed explanation and guidance on this matter.\r\n\r\nThank you.","title":"What is the recommended approach for building an andriod app that utilizes a bottom navigation bar?","body":"<p>I am currently building an Android app and I'm facing a dilemma regarding the use of fragments and activities for navigation. Despite researching and reading numerous comparisons, I am still unsure about which approach to take. I am hoping to explain my requirements here in detail so that someone can guide me in the right direction.</p>\n<p>The app I am building is meant to allow users to download photos or videos through a link. I have three items in a BottomNavigation menu called Home, Gallery, and Download. The Home view will provide users with a welcome message and a guide on how to use the app. The Gallery view will display the downloaded media within the app, and the Download page will have an EditText field and a Download button for users to download media.</p>\n<p>As of now, I believe that using fragments would be the most suitable approach for my requirements. However, I am stuck when it comes to designing the Gallery view, which will include a tabbed layout with two sections: Photos and Videos.</p>\n<p>My current approach is to use a Bottom Navigation bar with fragments and then use tabbed layouts in the Gallery fragment. Would this be the correct approach, or would you suggest another method?</p>\n<p>Please note that I had initially tried using Bottom Navigation with activities, but the selected item was not highlighted or changed, leading me to explore alternative approaches.</p>\n<p>I would greatly appreciate your detailed explanation and guidance on this matter.</p>\n<p>Thank you.</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1677499801,"post_id":75577454,"comment_id":133343347,"body_markdown":"Did you enter &quot;gradle jni&quot; into google? That gives me several usable suggestions out of the box. There is also [at least one similar question on SO](https://stackoverflow.com/questions/67219585/how-to-setup-gradle-project-that-uses-java-and-native-c-code)","body":"Did you enter &quot;gradle jni&quot; into google? That gives me several usable suggestions out of the box. There is also <a href=\"https://stackoverflow.com/questions/67219585/how-to-setup-gradle-project-that-uses-java-and-native-c-code\">at least one similar question on SO</a>"}],"owner":{"account_id":8224259,"reputation":862,"user_id":6187009,"display_name":"david"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677481063,"creation_date":1677480621,"question_id":75577454,"body_markdown":"- I want to call c++ function in pure Java application. But I don&#39;t know how to build c++ code with ```build.gradle```. \r\n\r\n- I have done the same thing in Android project as follows, but I wonder how to do the same thing for Java application rather than Android project. \r\n    - For example, what should I replace &quot;android {...}&quot; with?\r\n    - The c++ code is organized and&#160;compiled by file `src/main/cpp/CMakeLists.txt`\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.test&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.test&quot;\r\n        minSdk 26\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        externalNativeBuild {\r\n            cmake {\r\n                arguments &quot;-DMNN_USE_LOGCAT=ON&quot;\r\n                cppFlags &#39;-std=c++11&#39;\r\n                abiFilters &#39;arm64-v8a&#39;, &#39;x86_64&#39;\r\n            }\r\n        }\r\n        ndk {\r\n            // Specifies the ABI configurations of your native\r\n            // libraries Gradle should build and package with your app.\r\n            abiFilters &#39;arm64-v8a&#39;\r\n        }\r\n    }\r\n\r\n    // For grpc-netty package\r\n    packagingOptions {\r\n        exclude &#39;META-INF/*&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&#39;libs&#39;]\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            ndk {\r\n                abiFilters &#39;arm64-v8a&#39;, &#39;x86_64&#39;\r\n            }\r\n        }\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    externalNativeBuild {\r\n        cmake {\r\n            path file(&#39;src/main/cpp/CMakeLists.txt&#39;)\r\n            version &#39;3.18.1&#39;\r\n        }\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n   ...\r\n}\r\n```","title":"How to build JNI in Java application rather than Android application?","body":"<ul>\n<li><p>I want to call c++ function in pure Java application. But I don't know how to build c++ code with <code>build.gradle</code>.</p>\n</li>\n<li><p>I have done the same thing in Android project as follows, but I wonder how to do the same thing for Java application rather than Android project.</p>\n<ul>\n<li>For example, what should I replace &quot;android {...}&quot; with?</li>\n<li>The c++ code is organized and compiled by file <code>src/main/cpp/CMakeLists.txt</code></li>\n</ul>\n</li>\n</ul>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.test'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.test&quot;\n        minSdk 26\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        externalNativeBuild {\n            cmake {\n                arguments &quot;-DMNN_USE_LOGCAT=ON&quot;\n                cppFlags '-std=c++11'\n                abiFilters 'arm64-v8a', 'x86_64'\n            }\n        }\n        ndk {\n            // Specifies the ABI configurations of your native\n            // libraries Gradle should build and package with your app.\n            abiFilters 'arm64-v8a'\n        }\n    }\n\n    // For grpc-netty package\n    packagingOptions {\n        exclude 'META-INF/*'\n    }\n\n    sourceSets {\n        main {\n            jniLibs.srcDirs = ['libs']\n        }\n    }\n\n    buildTypes {\n        debug {\n            ndk {\n                abiFilters 'arm64-v8a', 'x86_64'\n            }\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    externalNativeBuild {\n        cmake {\n            path file('src/main/cpp/CMakeLists.txt')\n            version '3.18.1'\n        }\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n   ...\n}\n</code></pre>\n"},{"tags":["java","spring","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677474162,"creation_date":1677474162,"answer_id":75576905,"question_id":75576645,"body_markdown":"It seems the application cannot scan the component,\r\nplease check if you added `@ComponentScan` in your main application file:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.test&quot; })\r\n    // ...","title":"How can I use Spring bean in abstract class","body":"<p>It seems the application cannot scan the component,\nplease check if you added <code>@ComponentScan</code> in your main application file:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = { &quot;com.test&quot; })\n// ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26268041,"reputation":21,"user_id":19938305,"display_name":"春日部防卫队丶"},"score":0,"creation_date":1677478140,"post_id":75576924,"comment_id":133338384,"body_markdown":"thank you，my springboot version is 1.4.7.RELEASE，you method is not work","body":"thank you，my springboot version is 1.4.7.RELEASE，you method is not work"},{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":0,"creation_date":1677480992,"post_id":75576924,"comment_id":133338827,"body_markdown":"Ok, edited my answer, instead of @Autowired you can use constructor injection. Spring will automatically pass AbstractService bean as parameter to constructor.","body":"Ok, edited my answer, instead of @Autowired you can use constructor injection. Spring will automatically pass AbstractService bean as parameter to constructor."}],"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677480898,"creation_date":1677474371,"answer_id":75576924,"question_id":75576645,"body_markdown":"Use constructor injection instead of @Resource\r\n\r\n- RestfullController\r\n\r\n```\r\n@RestController\r\npublic class RestfullController {\r\n\r\n    AbstractService abstractService;\r\n\r\n    public RestfullController(AbstractService abstractService) {\r\n        this.abstractService = abstractService;\r\n    }\r\n\r\n}\r\n```\r\n\r\n- AbstractService\r\n```\r\npublic abstract class AbstractService {\r\n\r\n    abstract void doSomeThing();\r\n\r\n}\r\n```\r\n\r\n- AServiceImpl\r\n```\r\n@Component\r\npublic class AServiceImpl extends AbstractService {\r\n\r\n    @Override\r\n    void doSomeThing() {\r\n        // TODO\r\n    }\r\n}\r\n```\r\n\r\nHope it will helps you :)","title":"How can I use Spring bean in abstract class","body":"<p>Use constructor injection instead of @Resource</p>\n<ul>\n<li>RestfullController</li>\n</ul>\n<pre><code>@RestController\npublic class RestfullController {\n\n    AbstractService abstractService;\n\n    public RestfullController(AbstractService abstractService) {\n        this.abstractService = abstractService;\n    }\n\n}\n</code></pre>\n<ul>\n<li>AbstractService</li>\n</ul>\n<pre><code>public abstract class AbstractService {\n\n    abstract void doSomeThing();\n\n}\n</code></pre>\n<ul>\n<li>AServiceImpl</li>\n</ul>\n<pre><code>@Component\npublic class AServiceImpl extends AbstractService {\n\n    @Override\n    void doSomeThing() {\n        // TODO\n    }\n}\n</code></pre>\n<p>Hope it will helps you :)</p>\n"},{"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677476112,"creation_date":1677476112,"answer_id":75577046,"question_id":75576645,"body_markdown":"Either use `AServiceImpl` directly in your controller or declare an interface instead of abstract class, since the last one can&#39;t be instantiated","title":"How can I use Spring bean in abstract class","body":"<p>Either use <code>AServiceImpl</code> directly in your controller or declare an interface instead of abstract class, since the last one can't be instantiated</p>\n"},{"tags":[],"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677479025,"creation_date":1677479025,"answer_id":75577312,"question_id":75576645,"body_markdown":"You can declare **AbstractService abstractService** and init constructor on **RestfullController** with parameter **AbstractService**. Spring will auto init component when start. ","title":"How can I use Spring bean in abstract class","body":"<p>You can declare <strong>AbstractService abstractService</strong> and init constructor on <strong>RestfullController</strong> with parameter <strong>AbstractService</strong>. Spring will auto init component when start.</p>\n"}],"owner":{"account_id":26268041,"reputation":21,"user_id":19938305,"display_name":"春日部防卫队丶"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1677480898,"creation_date":1677469988,"question_id":75576645,"body_markdown":"The abstract class\r\n```\r\npublic abstract class AbstractService&lt;T&gt; {\r\n\r\n    abstract void doSomeThing;\r\n\r\n}\r\n```\r\n\r\nthat extends class\r\n```\r\n@Component\r\npublic class AServiceImpl&lt;Entity&gt; extends AbstractService&lt;Entity&gt; {\r\n\r\n}\r\n```\r\nthat I want to use\r\n```\r\npublic class RestfullController {\r\n\r\n    @Resource\r\n    AbstractService abstractService;\r\n\r\n}\r\n```\r\nbut the note is \r\n```\r\nDescription:\r\n\r\nA component required a bean of type &#39;com.test.AbstractService&#39; that could not be found.\r\n```\r\n\r\n\r\n\r\nHow can I use this extends class?","title":"How can I use Spring bean in abstract class","body":"<p>The abstract class</p>\n<pre><code>public abstract class AbstractService&lt;T&gt; {\n\n    abstract void doSomeThing;\n\n}\n</code></pre>\n<p>that extends class</p>\n<pre><code>@Component\npublic class AServiceImpl&lt;Entity&gt; extends AbstractService&lt;Entity&gt; {\n\n}\n</code></pre>\n<p>that I want to use</p>\n<pre><code>public class RestfullController {\n\n    @Resource\n    AbstractService abstractService;\n\n}\n</code></pre>\n<p>but the note is</p>\n<pre><code>Description:\n\nA component required a bean of type 'com.test.AbstractService' that could not be found.\n</code></pre>\n<p>How can I use this extends class?</p>\n"},{"tags":["java","file-upload","shiro"],"owner":{"account_id":27886891,"reputation":1,"user_id":21294125,"display_name":"Levi Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677480347,"creation_date":1677466704,"question_id":75576423,"body_markdown":"Paste my controller code first\r\n\r\n```java\r\n   @PostMapping(&quot;/upload/single&quot;)\r\n    public ResponseResult uploadSingleFile(HttpServletRequest request, HttpServletResponse response) {\r\n        JSONObject jsonObject = new JSONObject();\r\n        // change to MultipartRequest\r\n        StandardServletMultipartResolver standardServletMultipartResolver = new StandardServletMultipartResolver();\r\n        MultipartHttpServletRequest multipartHttpServletRequest = standardServletMultipartResolver.resolveMultipart(request);\r\n        try {\r\n            // get filename\r\n            MultipartFile file = multipartHttpServletRequest.getFile(&quot;file&quot;);\r\n            String originalFilename = file.getOriginalFilename();\r\n            // change file\r\n            File dest = new File(tempPrePath + File.separator + originalFilename);\r\n            if (!dest.exists()) {\r\n                dest.mkdirs();\r\n            }\r\n            file.transferTo(dest);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        jsonObject.put(&quot;msg&quot;, &quot;success&quot;);\r\n        return new ResponseResult(ResultCode.SUCCESS);\r\n    }\r\n```\r\nand apifox request:\r\n[apifox image](https://i.stack.imgur.com/N5Tcn.jpg)\r\nand error:\r\n&gt; file is null point\r\n\r\nso how to resolve this problem\r\n\r\n\r\n1、I try to add a filter but is not good:\r\n```java\r\n        if(request instanceof HttpServletRequest) {\r\n            if (((HttpServletRequest) request).getMethod().toUpperCase().equals(RequestMethod.OPTIONS.name())) {\r\n                return true;\r\n            }\r\n      }\r\n```\r\nDetermine whether it is a cross-domain request\r\n2、I tried to set the path to anonymous access in shiro\r\n```java\r\n@Bean(name = &quot;shiroFilterFactoryBean&quot;)\r\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager) {\r\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\r\n//        给filter设置安全管理器\r\n        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);\r\n//        添加自定义过滤器\r\n        Map&lt;String, Filter&gt; filterMap = new HashMap&lt;String, Filter&gt;();\r\n        filterMap.put(&quot;jwt&quot;, new JwtFilter());\r\n        shiroFilterFactoryBean.setFilters(filterMap);\r\n\r\n//        配置系统受限资源\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n        map.put(&quot;/api/faculty/login&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/api/faculty/register&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/api/verify/**&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/test/**&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/common/file/**&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/**&quot;, &quot;jwt&quot;);\r\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(map);\r\n        return shiroFilterFactoryBean;\r\n    }\r\n```\r\n","title":"Shiro upload file failed to get &#39;file&#39; file","body":"<p>Paste my controller code first</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @PostMapping(&quot;/upload/single&quot;)\n    public ResponseResult uploadSingleFile(HttpServletRequest request, HttpServletResponse response) {\n        JSONObject jsonObject = new JSONObject();\n        // change to MultipartRequest\n        StandardServletMultipartResolver standardServletMultipartResolver = new StandardServletMultipartResolver();\n        MultipartHttpServletRequest multipartHttpServletRequest = standardServletMultipartResolver.resolveMultipart(request);\n        try {\n            // get filename\n            MultipartFile file = multipartHttpServletRequest.getFile(&quot;file&quot;);\n            String originalFilename = file.getOriginalFilename();\n            // change file\n            File dest = new File(tempPrePath + File.separator + originalFilename);\n            if (!dest.exists()) {\n                dest.mkdirs();\n            }\n            file.transferTo(dest);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        jsonObject.put(&quot;msg&quot;, &quot;success&quot;);\n        return new ResponseResult(ResultCode.SUCCESS);\n    }\n</code></pre>\n<p>and apifox request:\n<a href=\"https://i.stack.imgur.com/N5Tcn.jpg\" rel=\"nofollow noreferrer\">apifox image</a>\nand error:</p>\n<blockquote>\n<p>file is null point</p>\n</blockquote>\n<p>so how to resolve this problem</p>\n<p>1、I try to add a filter but is not good:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if(request instanceof HttpServletRequest) {\n            if (((HttpServletRequest) request).getMethod().toUpperCase().equals(RequestMethod.OPTIONS.name())) {\n                return true;\n            }\n      }\n</code></pre>\n<p>Determine whether it is a cross-domain request\n2、I tried to set the path to anonymous access in shiro</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;shiroFilterFactoryBean&quot;)\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager) {\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\n//        给filter设置安全管理器\n        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);\n//        添加自定义过滤器\n        Map&lt;String, Filter&gt; filterMap = new HashMap&lt;String, Filter&gt;();\n        filterMap.put(&quot;jwt&quot;, new JwtFilter());\n        shiroFilterFactoryBean.setFilters(filterMap);\n\n//        配置系统受限资源\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(&quot;/api/faculty/login&quot;, &quot;anon&quot;);\n        map.put(&quot;/api/faculty/register&quot;, &quot;anon&quot;);\n        map.put(&quot;/api/verify/**&quot;, &quot;anon&quot;);\n        map.put(&quot;/test/**&quot;, &quot;anon&quot;);\n        map.put(&quot;/common/file/**&quot;, &quot;anon&quot;);\n        map.put(&quot;/**&quot;, &quot;jwt&quot;);\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(map);\n        return shiroFilterFactoryBean;\n    }\n</code></pre>\n"},{"tags":["java","timezone","jasper-reports","simpledateformat","date-conversion"],"comments":[{"owner":{"account_id":2912765,"reputation":738,"user_id":2496643,"display_name":"J_D"},"score":0,"creation_date":1551692415,"post_id":54979990,"comment_id":96718872,"body_markdown":"Have you tried setting the timezone?","body":"Have you tried setting the timezone?"},{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":2,"creation_date":1551692592,"post_id":54979990,"comment_id":96718966,"body_markdown":"Yes I tried but not able to write it in a single statement. I tried following approaches.                                                                                                        \nnew SimpleDateFormat(&quot;HH:mm&quot;).setTimeZone(&#39;IST&#39;).format($P{startTime}) - This gives error as format() cannot be applied on a void type as setTimeZone() returns void.","body":"Yes I tried but not able to write it in a single statement. I tried following approaches.                                                                                                         new SimpleDateFormat(&quot;HH:mm&quot;).setTimeZone(&#39;IST&#39;).format($P{start&zwnj;&#8203;Time}) - This gives error as format() cannot be applied on a void type as setTimeZone() returns void."},{"owner":{"account_id":2912765,"reputation":738,"user_id":2496643,"display_name":"J_D"},"score":0,"creation_date":1551692664,"post_id":54979990,"comment_id":96719003,"body_markdown":"Is the requirement to write it in a single statement?","body":"Is the requirement to write it in a single statement?"},{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":1,"creation_date":1551692822,"post_id":54979990,"comment_id":96719075,"body_markdown":"Yes. We cannot write multiline expression/java code(One line will be object creation, calling setTimezone() on this object and then call format() to format my input date) in jasper.","body":"Yes. We cannot write multiline expression/java code(One line will be object creation, calling setTimezone() on this object and then call format() to format my input date) in jasper."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1551785231,"post_id":54979990,"comment_id":96758785,"body_markdown":"I recommend you don’t use `SimpleDateFormat`. That class is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":0,"creation_date":1551694563,"post_id":54980754,"comment_id":96720058,"body_markdown":"I am getting below error after using it. Caused by: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression for source text: &quot;: &quot;+DATEFORMAT($P{START_DATE}, &quot;dd-MMM-yyyy&quot;) + &quot; &quot; + DATEFORMAT($P{startTime}, &quot;HH:mm&quot;)+&quot; to &quot;+DATEFORMAT($P{END_DATE}, &quot;dd-MMM-yyyy&quot;) + &quot; &quot; + DATEFORMAT($P{endTime}, &quot;HH:mm&quot;)","body":"I am getting below error after using it. Caused by: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression for source text: &quot;: &quot;+DATEFORMAT($P{START_DATE}, &quot;dd-MMM-yyyy&quot;) + &quot; &quot; + DATEFORMAT($P{startTime}, &quot;HH:mm&quot;)+&quot; to &quot;+DATEFORMAT($P{END_DATE}, &quot;dd-MMM-yyyy&quot;) + &quot; &quot; + DATEFORMAT($P{endTime}, &quot;HH:mm&quot;)"},{"owner":{"account_id":958762,"reputation":4788,"user_id":983559,"display_name":"dada67"},"score":0,"creation_date":1551696483,"post_id":54980754,"comment_id":96721204,"body_markdown":"Post the full exception stacktrace (including Caused by.. lines).","body":"Post the full exception stacktrace (including Caused by.. lines)."},{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":0,"creation_date":1551698305,"post_id":54980754,"comment_id":96722143,"body_markdown":"Caused by: java.lang.NoClassDefFoundError: net.sf.jasperreports.functions.standard.DateTimeFunctions\n\tat details_summary_1551698058964_17203.DATEFORMAT(details_summary_1551698058964_17203:1209)\n\tat details_summary_1551698058964_17203.evaluate(details_summary_1551698058964_17203:401)\n\tat net.sf.jasperreports.engine.fill.JREvaluator.evaluate(JREvaluator.java:251)\n\t... 19 more","body":"Caused by: java.lang.NoClassDefFoundError: net.sf.jasperreports.functions.standard.DateTimeFunctions \tat details_summary_1551698058964_17203.DATEFORMAT(details_summa&zwnj;&#8203;ry_1551698058964_172&zwnj;&#8203;03:1209) \tat details_summary_1551698058964_17203.evaluate(details_summary&zwnj;&#8203;_1551698058964_17203&zwnj;&#8203;:401) \tat net.sf.jasperreports.engine.fill.JREvaluator.evaluate(JREval&zwnj;&#8203;uator.java:251) \t... 19 more"},{"owner":{"account_id":958762,"reputation":4788,"user_id":983559,"display_name":"dada67"},"score":0,"creation_date":1551706052,"post_id":54980754,"comment_id":96726198,"body_markdown":"Is there a jasperreports-functions jar on the classpath of the application that runs the report?","body":"Is there a jasperreports-functions jar on the classpath of the application that runs the report?"}],"tags":[],"owner":{"account_id":958762,"reputation":4788,"user_id":983559,"display_name":"dada67"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551778295,"creation_date":1551693544,"answer_id":54980754,"question_id":54979990,"body_markdown":"Use the builtin date formatting function to format values according to the report time zone (the value of the `REPORT_TIME_ZONE` parameter):\r\n\r\n    DATEFORMAT($P{START_DATE}, &quot;dd-MMM-yyyy&quot;) + &quot; &quot; + DATEFORMAT($P{startTime}, &quot;HH:mm&quot;)\r\n\r\n","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>Use the builtin date formatting function to format values according to the report time zone (the value of the <code>REPORT_TIME_ZONE</code> parameter):</p>\n\n<pre><code>DATEFORMAT($P{START_DATE}, \"dd-MMM-yyyy\") + \" \" + DATEFORMAT($P{startTime}, \"HH:mm\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":0,"creation_date":1551878711,"post_id":54981466,"comment_id":96801365,"body_markdown":"With this code it still gives me same time in Asia/Calcutta zone.","body":"With this code it still gives me same time in Asia/Calcutta zone."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1551881924,"post_id":54981466,"comment_id":96803320,"body_markdown":"@PratikRawlekar I have added a full example that you can test","body":"@PratikRawlekar I have added a full example that you can test"}],"tags":[],"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551945382,"creation_date":1551695919,"answer_id":54981466,"question_id":54979990,"body_markdown":"Probably you should just set TimeZone to your environment and in general you should [avoid using](https://stackoverflow.com/q/1969442/5292302) the old `java.util.Date` class.\r\n\r\nIf you are running on java 8 or above, you can use similar code to display the time in desired time zone.\r\n\r\n    \r\n\t&lt;textField&gt;\r\n\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;ac702c94-69e5-4439-9d32-3c944119dbe6&quot;/&gt;\r\n\t\t&lt;textFieldExpression&gt;\r\n           &lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).\r\n         withZone(java.time.ZoneId.of(&quot;Asia/Calcutta&quot;)).format($P{START_DATE}.toInstant())]]&gt;\r\n       &lt;/textFieldExpression&gt;\r\n\t&lt;/textField&gt;\r\n\r\nIf you are not on java 8 you can use libraries like [ThreeTen-Backport](http://www.threeten.org/threetenbp/) or [Joda-Time](http://www.joda.org/joda-time/) to have this functionality.\r\n\r\n\r\n# Full example with different zoneId on same java.util.Date\r\n\r\n**jrxml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;TimeZone&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;b3143043-a16b-43db-81c4-6313b0d4922c&quot;&gt;\r\n    \t&lt;parameter name=&quot;START_DATE&quot; class=&quot;java.util.Date&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;queryString&gt;\r\n    \t\t&lt;![CDATA[]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;60&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;a0353412-1861-4c12-ac26-b40a6768a88c&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font isBold=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[America/New_York]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;150&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;28b938b9-d117-4447-91d2-b5bb9334bad6&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font isBold=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Europe/Rome]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;300&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;adceb53f-555d-4be3-bd1e-c9d55b90d90d&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font isBold=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Asia/Calcutta]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;ebf48192-f394-447b-8264-e66c56289f54&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).withZone(java.time.ZoneId.of(&quot;America/New_York&quot;)).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;150&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;ebf48192-f394-447b-8264-e66c56289f54&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).withZone(java.time.ZoneId.of(&quot;Europe/Rome&quot;)).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;300&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;ac702c94-69e5-4439-9d32-3c944119dbe6&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).withZone(java.time.ZoneId.of(&quot;Asia/Calcutta&quot;)).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n**Output**\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WseiQ.png","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>Probably you should just set TimeZone to your environment and in general you should <a href=\"https://stackoverflow.com/q/1969442/5292302\">avoid using</a> the old <code>java.util.Date</code> class.</p>\n\n<p>If you are running on java 8 or above, you can use similar code to display the time in desired time zone.</p>\n\n<pre><code>&lt;textField&gt;\n    &lt;reportElement x=\"0\" y=\"0\" width=\"100\" height=\"30\" uuid=\"ac702c94-69e5-4439-9d32-3c944119dbe6\"/&gt;\n    &lt;textFieldExpression&gt;\n       &lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").\n     withZone(java.time.ZoneId.of(\"Asia/Calcutta\")).format($P{START_DATE}.toInstant())]]&gt;\n   &lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<p>If you are not on java 8 you can use libraries like <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> or <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> to have this functionality.</p>\n\n<h1>Full example with different zoneId on same java.util.Date</h1>\n\n<p><strong>jrxml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"TimeZone\" pageWidth=\"595\" pageHeight=\"842\" whenNoDataType=\"AllSectionsNoDetail\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"b3143043-a16b-43db-81c4-6313b0d4922c\"&gt;\n    &lt;parameter name=\"START_DATE\" class=\"java.util.Date\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;title&gt;\n        &lt;band height=\"60\" splitType=\"Stretch\"&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"150\" height=\"20\" uuid=\"a0353412-1861-4c12-ac26-b40a6768a88c\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"&gt;\n                    &lt;font isBold=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[America/New_York]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"150\" y=\"0\" width=\"150\" height=\"20\" uuid=\"28b938b9-d117-4447-91d2-b5bb9334bad6\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"&gt;\n                    &lt;font isBold=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Europe/Rome]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"300\" y=\"0\" width=\"150\" height=\"20\" uuid=\"adceb53f-555d-4be3-bd1e-c9d55b90d90d\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"&gt;\n                    &lt;font isBold=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Asia/Calcutta]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"0\" y=\"20\" width=\"150\" height=\"20\" uuid=\"ebf48192-f394-447b-8264-e66c56289f54\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").withZone(java.time.ZoneId.of(\"America/New_York\")).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"150\" y=\"20\" width=\"150\" height=\"20\" uuid=\"ebf48192-f394-447b-8264-e66c56289f54\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").withZone(java.time.ZoneId.of(\"Europe/Rome\")).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"300\" y=\"20\" width=\"150\" height=\"20\" uuid=\"ac702c94-69e5-4439-9d32-3c944119dbe6\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").withZone(java.time.ZoneId.of(\"Asia/Calcutta\")).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WseiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WseiQ.png\" alt=\"result\"></a></p>\n"},{"tags":[],"owner":{"account_id":19025499,"reputation":1,"user_id":13888652,"display_name":"Pavan Muthyala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677480145,"creation_date":1677480145,"answer_id":75577410,"question_id":54979990,"body_markdown":"To change the date and time displayed in the footer of a Jasper report, you will need to modify the report template. Here are the general steps to follow:\r\n\r\nOpen the Jasper report in the JasperSoft Studio or other report design tool.\r\n\r\nSelect the &quot;Page Footer&quot; section of the report template.\r\n\r\nIn the &quot;Properties&quot; pane, locate the &quot;Date Format&quot; property and modify it according to the format you want to display. For example, you can use the following format to display the date and time in Malawi time zone:\r\n\r\nnew java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss zzz&quot;).format(new java.util.Date(),new java.util.Locale(&quot;en&quot;, &quot;MW&quot;))\r\n\r\nPreview the report to confirm that the date and time are now displayed in the correct format.","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>To change the date and time displayed in the footer of a Jasper report, you will need to modify the report template. Here are the general steps to follow:</p>\n<p>Open the Jasper report in the JasperSoft Studio or other report design tool.</p>\n<p>Select the &quot;Page Footer&quot; section of the report template.</p>\n<p>In the &quot;Properties&quot; pane, locate the &quot;Date Format&quot; property and modify it according to the format you want to display. For example, you can use the following format to display the date and time in Malawi time zone:</p>\n<p>new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss zzz&quot;).format(new java.util.Date(),new java.util.Locale(&quot;en&quot;, &quot;MW&quot;))</p>\n<p>Preview the report to confirm that the date and time are now displayed in the correct format.</p>\n"}],"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8107,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1677480145,"creation_date":1551690874,"question_id":54979990,"body_markdown":"I am working with a Jasper report where I want to show selected date range along with time. I have used following expression to format the date but it shows time in GMT time zone. \r\n    \r\n    new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;).format($P{START_DATE})+&quot; &quot;+new SimpleDateFormat(&quot;HH:mm&quot;).format($P{startTime})\r\n\r\nThe above code gives date as 01-Mar-2019 14:30 which should be 01-Mar-2019 8:00PM as per IST.\r\n\r\nHow can I handle timezone to show correct time?","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>I am working with a Jasper report where I want to show selected date range along with time. I have used following expression to format the date but it shows time in GMT time zone. </p>\n\n<pre><code>new SimpleDateFormat(\"dd-MMM-yyyy\").format($P{START_DATE})+\" \"+new SimpleDateFormat(\"HH:mm\").format($P{startTime})\n</code></pre>\n\n<p>The above code gives date as 01-Mar-2019 14:30 which should be 01-Mar-2019 8:00PM as per IST.</p>\n\n<p>How can I handle timezone to show correct time?</p>\n"},{"tags":["java","netty"],"owner":{"account_id":22194364,"reputation":31,"user_id":16435969,"display_name":"Wenjia Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677479864,"creation_date":1677135581,"question_id":75541517,"body_markdown":"I find there are two timeout options in netty: ChannelOption.CONNECT_TIMEOUT_MILLIS means timeout value to setup a connection, and ChannelOption.SO_TIMEOUT means the request timeout. What are the default settings of these two options? \r\n\r\n\r\nI didn&#39;t find the default values for these two parameters in Netty&#39;s official documentation (https://netty.io/4.1/api/io/netty/channel/ChannelOption.html). Could you help me ?","title":"What are the default settings of ChannelOption.SO_TIMEOUT and ChannelOption.CONNECT_TIMEOUT_MILLIS in netty?","body":"<p>I find there are two timeout options in netty: ChannelOption.CONNECT_TIMEOUT_MILLIS means timeout value to setup a connection, and ChannelOption.SO_TIMEOUT means the request timeout. What are the default settings of these two options?</p>\n<p>I didn't find the default values for these two parameters in Netty's official documentation (<a href=\"https://netty.io/4.1/api/io/netty/channel/ChannelOption.html\" rel=\"nofollow noreferrer\">https://netty.io/4.1/api/io/netty/channel/ChannelOption.html</a>). Could you help me ?</p>\n"},{"tags":["java","swing","display","jtree"],"comments":[{"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"score":0,"creation_date":1677374568,"post_id":75569463,"comment_id":133325356,"body_markdown":"And I know that I can write a custom tree cell renderer, but this really should work fine out of the box. In NetBeans debugger it does work correctly, anyway.","body":"And I know that I can write a custom tree cell renderer, but this really should work fine out of the box. In NetBeans debugger it does work correctly, anyway."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1677374947,"post_id":75569463,"comment_id":133325380,"body_markdown":"At a minimum you should edit your question and describe the external libraries and classes you are using.  But even better would be to post a [mre] that demonstrates the problem using only classes in the JDK.  Your issue is with `JTree` which should be independent of those libraries.","body":"At a minimum you should edit your question and describe the external libraries and classes you are using.  But even better would be to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem using only classes in the JDK.  Your issue is with <code>JTree</code> which should be independent of those libraries."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1677377031,"post_id":75569463,"comment_id":133325574,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use Trees](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html\" rel=\"nofollow noreferrer\">How to Use Trees</a> section."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1677378254,"post_id":75569463,"comment_id":133325661,"body_markdown":"Well, I have to do some research but  `BoxLayout` seemed to be screwing up your display, Try the following: `contentpane.setLayout(new BorderLayout());`  It seemed to display the tree just fine.  The last child throws an NPE though when you try to expand it.","body":"Well, I have to do some research but  <code>BoxLayout</code> seemed to be screwing up your display, Try the following: <code>contentpane.setLayout(new BorderLayout());</code>  It seemed to display the tree just fine.  The last child throws an NPE though when you try to expand it."},{"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"score":0,"creation_date":1677476921,"post_id":75569463,"comment_id":133338217,"body_markdown":"Okay, now I have another problem with my tree. After I lazily load the children of any node, I need to increase the height of all my ancestor containers (in order to adjust the parent JScrollPane). I made a method that walks over all the children of JScrollPane and finds sum of their heights. That works well when I add a new tree, but does not work after new nodes are inserted into it. It works if I expand the next-to-last root&#39;s child, but not when I expand the last one...","body":"Okay, now I have another problem with my tree. After I lazily load the children of any node, I need to increase the height of all my ancestor containers (in order to adjust the parent JScrollPane). I made a method that walks over all the children of JScrollPane and finds sum of their heights. That works well when I add a new tree, but does not work after new nodes are inserted into it. It works if I expand the next-to-last root&#39;s child, but not when I expand the last one..."}],"answers":[{"comments":[{"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"score":0,"creation_date":1677479436,"post_id":75577080,"comment_id":133338568,"body_markdown":"I must admit that I still don&#39;t understand why only this combination of method calls allows to re-calculate the new scrolling amount in parent `JScrollPane` (invalidate JTree, validate its parent, and then calculate grandparent&#39;s height and set it via `setPreferredSize()`. If I remove any of these calls it breaks.","body":"I must admit that I still don&#39;t understand why only this combination of method calls allows to re-calculate the new scrolling amount in parent <code>JScrollPane</code> (invalidate JTree, validate its parent, and then calculate grandparent&#39;s height and set it via <code>setPreferredSize()</code>. If I remove any of these calls it breaks."}],"tags":[],"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677479283,"creation_date":1677476532,"answer_id":75577080,"question_id":75569463,"body_markdown":"Seems that all the methods I needed were available either in `JTree` itself or in `DefaultTreeCellRenderer` class. Here is the final working code:\r\n\r\n```\r\n    private static JPanel createObjectTree(JSObject obj) {\r\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;obj&quot;, obj));\r\n        loadNodeDirectChildren(rootNode, false);\r\n\r\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\r\n        final JTree tree = new JTree(treeModel);\r\n        TreeExpandListener expansionListener = new TreeExpandListener();\r\n        tree.addTreeWillExpandListener(expansionListener);\r\n\r\n        DefaultTreeCellRenderer renderer = new DefaultTreeCellRenderer();\r\n        renderer.setFont(new Font(&quot;Consolas&quot;, Font.PLAIN, 16));\r\n        renderer.setLeafIcon(null);\r\n        renderer.setIcon(null);\r\n        renderer.setClosedIcon(null);\r\n        renderer.setOpenIcon(null);\r\n        renderer.setMinimumSize(new Dimension(0, 20));\r\n        tree.setCellRenderer(renderer);\r\n        tree.setRowHeight(23);\r\n\r\n        final JPanel contentpane = new JPanel();\r\n        contentpane.setBackground(Color.WHITE);\r\n        contentpane.setOpaque(true);\r\n        contentpane.setLayout(new BorderLayout());\r\n        contentpane.add(tree);\r\n\r\n        return contentpane;\r\n    }\r\n\r\n    private static void processNodeChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\r\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\r\n        if (val instanceof JSArray) {\r\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\r\n                node.add(newNode);\r\n                processNodeChildren(newNode, show_prototypes);\r\n            }\r\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\r\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\r\n            Set&lt;String&gt; keys = props.keySet();\r\n            for (String key: keys) {\r\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\r\n                node.add(newNode);\r\n                if (!key.equals(&quot;__proto__&quot;)) {\r\n                    processNodeChildren(newNode, show_prototypes);\r\n                } else {\r\n                    newNode.setAllowsChildren(false);\r\n                }\r\n            }\r\n        } else {\r\n            node.setAllowsChildren(false);\r\n        }\r\n    }\r\n\r\n    private static void loadNodeDirectChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\r\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\r\n        if (val instanceof JSArray) {\r\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\r\n                node.add(newNode);\r\n            }\r\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\r\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\r\n            Set&lt;String&gt; keys = props.keySet();\r\n            for (String key: keys) {\r\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\r\n                node.add(newNode);\r\n                if (props.get(key) instanceof Function || props.get(key).getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;)) {\r\n                    newNode.setAllowsChildren(false);\r\n                }\r\n                if (key.equals(&quot;__proto__&quot;)) {\r\n                    newNode.setAllowsChildren(false);\r\n                }\r\n            }\r\n        } else {\r\n            node.setAllowsChildren(false);\r\n        }\r\n    }\r\n\r\n    static class TreeExpandListener implements TreeWillExpandListener {\r\n\r\n        @Override\r\n        public void treeWillExpand(final TreeExpansionEvent e) throws ExpandVetoException {\r\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) e.getPath().getLastPathComponent();\r\n            if (node.getChildCount() == 0) {\r\n                loadNodeDirectChildren(node, false);\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        ((JTree)e.getSource()).invalidate();\r\n                        ((JTree)e.getSource()).getParent().validate();\r\n                        recalculateContentHeight();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void treeWillCollapse(TreeExpansionEvent e) {}\r\n\r\n        public void treeExpanded(TreeExpansionEvent e) {}\r\n\r\n        public void treeCollapsed(TreeExpansionEvent e) {}\r\n    }\r\n```\r\n\r\nNote that if the tree contains &quot;loops&quot;, e.g. in HTML document each child has a link to its parent, and every two adjacent siblings link to each other, then using simple approach of initializing all the node&#39;s children will lead to stackoverflow error and the program will crash.\r\n\r\nThe solution is to use lazy loading of children, and load only one level at a time, until the user clicks one of the existing &quot;non-leaf&quot; nodes.","title":"Trying to use standard JTree implementation, but the output is really messed up","body":"<p>Seems that all the methods I needed were available either in <code>JTree</code> itself or in <code>DefaultTreeCellRenderer</code> class. Here is the final working code:</p>\n<pre><code>    private static JPanel createObjectTree(JSObject obj) {\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;obj&quot;, obj));\n        loadNodeDirectChildren(rootNode, false);\n\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\n        final JTree tree = new JTree(treeModel);\n        TreeExpandListener expansionListener = new TreeExpandListener();\n        tree.addTreeWillExpandListener(expansionListener);\n\n        DefaultTreeCellRenderer renderer = new DefaultTreeCellRenderer();\n        renderer.setFont(new Font(&quot;Consolas&quot;, Font.PLAIN, 16));\n        renderer.setLeafIcon(null);\n        renderer.setIcon(null);\n        renderer.setClosedIcon(null);\n        renderer.setOpenIcon(null);\n        renderer.setMinimumSize(new Dimension(0, 20));\n        tree.setCellRenderer(renderer);\n        tree.setRowHeight(23);\n\n        final JPanel contentpane = new JPanel();\n        contentpane.setBackground(Color.WHITE);\n        contentpane.setOpaque(true);\n        contentpane.setLayout(new BorderLayout());\n        contentpane.add(tree);\n\n        return contentpane;\n    }\n\n    private static void processNodeChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\n        if (val instanceof JSArray) {\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\n            for (int i = 0; i &lt; items.size(); i++) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\n                node.add(newNode);\n                processNodeChildren(newNode, show_prototypes);\n            }\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\n            Set&lt;String&gt; keys = props.keySet();\n            for (String key: keys) {\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\n                node.add(newNode);\n                if (!key.equals(&quot;__proto__&quot;)) {\n                    processNodeChildren(newNode, show_prototypes);\n                } else {\n                    newNode.setAllowsChildren(false);\n                }\n            }\n        } else {\n            node.setAllowsChildren(false);\n        }\n    }\n\n    private static void loadNodeDirectChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\n        if (val instanceof JSArray) {\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\n            for (int i = 0; i &lt; items.size(); i++) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\n                node.add(newNode);\n            }\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\n            Set&lt;String&gt; keys = props.keySet();\n            for (String key: keys) {\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\n                node.add(newNode);\n                if (props.get(key) instanceof Function || props.get(key).getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;)) {\n                    newNode.setAllowsChildren(false);\n                }\n                if (key.equals(&quot;__proto__&quot;)) {\n                    newNode.setAllowsChildren(false);\n                }\n            }\n        } else {\n            node.setAllowsChildren(false);\n        }\n    }\n\n    static class TreeExpandListener implements TreeWillExpandListener {\n\n        @Override\n        public void treeWillExpand(final TreeExpansionEvent e) throws ExpandVetoException {\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) e.getPath().getLastPathComponent();\n            if (node.getChildCount() == 0) {\n                loadNodeDirectChildren(node, false);\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        ((JTree)e.getSource()).invalidate();\n                        ((JTree)e.getSource()).getParent().validate();\n                        recalculateContentHeight();\n                    }\n                });\n            }\n        }\n\n        @Override\n        public void treeWillCollapse(TreeExpansionEvent e) {}\n\n        public void treeExpanded(TreeExpansionEvent e) {}\n\n        public void treeCollapsed(TreeExpansionEvent e) {}\n    }\n</code></pre>\n<p>Note that if the tree contains &quot;loops&quot;, e.g. in HTML document each child has a link to its parent, and every two adjacent siblings link to each other, then using simple approach of initializing all the node's children will lead to stackoverflow error and the program will crash.</p>\n<p>The solution is to use lazy loading of children, and load only one level at a time, until the user clicks one of the existing &quot;non-leaf&quot; nodes.</p>\n"}],"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677479283,"creation_date":1677374364,"question_id":75569463,"body_markdown":"I&#39;m trying to use JTree. Here is my example test class:\r\n\r\n```\r\npackage inspector;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Set;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTree;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.DefaultTreeModel;\r\n\r\n\r\n/**\r\n *\r\n * @author Alex\r\n */\r\npublic class TreeTest {\r\n\r\n    private static ValueMap prepareTree() {\r\n        ValueMap obj = new ValueMap();\r\n        obj.set(&quot;x&quot;, new Value(1));\r\n        obj.set(&quot;y&quot;, new Value(1));\r\n\r\n        ValueArray users = new ValueArray();\r\n        obj.set(&quot;users&quot;, users);\r\n\r\n        ValueMap user = new ValueMap();\r\n        user.set(&quot;login&quot;, new Value(&quot;Alex654&quot;));\r\n        user.set(&quot;password&quot;, new Value(&quot;123456&quot;));\r\n\r\n        ValueMap info = new ValueMap();\r\n        info.set(&quot;city&quot;, new Value(&quot;Moscow&quot;));\r\n        info.set(&quot;job&quot;, new Value(&quot;Developer&quot;));\r\n        info.set(&quot;firstName&quot;, new Value(&quot;Alex&quot;));\r\n        info.set(&quot;lastName&quot;, new Value(&quot;Popov&quot;));\r\n        user.set(&quot;bio&quot;, info);\r\n\r\n        users.push(user);\r\n\r\n        ValueMap user2 = new ValueMap();\r\n        user2.set(&quot;login&quot;, new Value(&quot;admin&quot;));\r\n        user2.set(&quot;password&quot;, new Value(&quot;test&quot;));\r\n        user2.set(&quot;bio&quot;, new Value(null));\r\n\r\n        users.push(user2);\r\n\r\n        return obj;\r\n    }\r\n\r\n    static class Value {\r\n\r\n        Value() {\r\n            value = null;\r\n        }\r\n\r\n        Value(Object val) {\r\n            this.value = val;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (value instanceof Integer || value instanceof Double) {\r\n                return value + &quot;&quot;;\r\n            } else {\r\n                return &quot;\\&quot;&quot; + value.toString() + &quot;\\&quot;&quot;;\r\n            }\r\n        }\r\n\r\n        Object value;\r\n    }\r\n\r\n    static class ValueArray extends Value {\r\n\r\n        ValueArray() {\r\n            items = new ArrayList&lt;Value&gt;();\r\n        }\r\n\r\n        ValueArray(Value val) {\r\n            items = new ArrayList&lt;Value&gt;();\r\n            items.add(val);\r\n        }\r\n\r\n        void push(Value val) {\r\n            items.add(val);\r\n        }\r\n\r\n        ArrayList&lt;Value&gt; items;\r\n    }\r\n\r\n    static class ValueMap extends Value {\r\n\r\n        ValueMap() {\r\n            items = new HashMap&lt;String, Value&gt;();\r\n        }\r\n\r\n        Value get(String key) {\r\n            return items.get(key);\r\n        }\r\n\r\n        void put(String key, Value val) {\r\n            items.put(key, val);\r\n        }\r\n\r\n        void set(String key, Value val) {\r\n            items.put(key, val);\r\n        }\r\n\r\n        HashMap&lt;String, Value&gt; items;\r\n    }\r\n\r\n    public static class ValueWrapper {\r\n\r\n        ValueWrapper(String label, Value val) {\r\n            this.label = label;\r\n            this.val = val;\r\n        }\r\n\r\n        String getLabel() {\r\n            return label;\r\n        }\r\n\r\n        Value getValue() {\r\n            return val;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            String result = label;\r\n            if (val instanceof ValueArray) {\r\n                result += &quot;: Array&quot;;\r\n            }\r\n            else if (val instanceof ValueMap) {\r\n                result += &quot;: { Object }&quot;;\r\n            }\r\n            else result += &quot;: &quot; + val.toString();\r\n\r\n            return result;\r\n        }\r\n\r\n        private String label;\r\n        private Value val;\r\n    }\r\n\r\n    public static void processChildren(DefaultMutableTreeNode node) {\r\n        Value val = ((ValueWrapper)node.getUserObject()).getValue();\r\n        if (val instanceof ValueArray) {\r\n            ArrayList&lt;Value&gt; items = ((ValueArray)val).items;\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(i + &quot;&quot;, items.get(i)));\r\n                node.add(newNode);\r\n                processChildren(newNode);\r\n            }\r\n        } else if (val instanceof ValueMap) {\r\n            HashMap&lt;String, Value&gt; props = ((ValueMap)val).items;\r\n            Set&lt;String&gt; keys = props.keySet();\r\n            for (String key: keys) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(key, props.get(key)));\r\n                node.add(newNode);\r\n                if (!key.equals(&quot;__proto__&quot;)) {\r\n                    processChildren(newNode);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n            UIManager.setLookAndFeel(\r\n                UIManager.getSystemLookAndFeelClassName());\r\n        } catch (Exception e) {}\r\n\r\n        final ValueMap root = prepareTree();\r\n        if (root == null) return;\r\n\r\n        final JFrame frame = new JFrame(&quot;Object Inspector&quot;);\r\n        JPanel cp = new JPanel();\r\n        cp.setBorder(BorderFactory.createEmptyBorder(9, 10, 9, 10));\r\n        frame.setContentPane(cp);\r\n        cp.setLayout(new BoxLayout(cp, BoxLayout.PAGE_AXIS));\r\n\r\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new ValueWrapper(&quot;obj&quot;, root));\r\n        processChildren(rootNode);\r\n\r\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\r\n        final JTree tree = new JTree(treeModel);\r\n\r\n        final JPanel contentpane = new JPanel();\r\n        contentpane.setBackground(Color.WHITE);\r\n        contentpane.setOpaque(true);\r\n        contentpane.setLayout(new BorderLayout());\r\n        contentpane.add(tree);\r\n\r\n        //contentpane.setBounds(0, 0, 490, 380);\r\n        final int width = 490, height = 418;\r\n        cp.setPreferredSize(new Dimension(width, height));\r\n\r\n        final JScrollPane scrollpane = new JScrollPane(contentpane);\r\n        scrollpane.setOpaque(false);\r\n        scrollpane.getInsets();\r\n\r\n        cp.add(scrollpane);\r\n        scrollpane.setBackground(Color.WHITE);\r\n        scrollpane.setOpaque(true);\r\n        //setSize(518, 420);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\nI expect to get a nice looking tree, like in NetBeans IDE that I use everyday.\r\n\r\nBut however I get this:\r\n\r\n[tree display][1]\r\n\r\nWhat the heck is wrong with it? Also should note that when my labels were longer (without the &quot;wrapper&quot; inner class) the output labels in leaves was 2-3 times wider, but the labels were also extremely cut down in width.\r\n\r\n**UPDATE:**\r\n\r\nUnfortunalely, the result after suggested solution is not ideal. See the screenshot below:\r\n\r\n[fixed display][2]\r\n\r\n1. The symbols are cut by 1-2 pixels from the bottom (look at the square brackets). Maybe it is a windows bug (I use Windows 7 with 150% zoom), but is there a way to fix that? To increase the font size of the labels or the vertical gap between them (so called &quot;line height&quot;)?\r\n2. I don&#39;t like that leaves have &quot;+&quot; on them until I click them. I solved it adding `else { node.setAllowsChildren(false); }` to the end of my `processChildren()` method. But now I would like to have a single custom icon for all of my nodes, whether they have children or not.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GBi0p.png\r\n  [2]: https://i.stack.imgur.com/tJOGM.png","title":"Trying to use standard JTree implementation, but the output is really messed up","body":"<p>I'm trying to use JTree. Here is my example test class:</p>\n<pre><code>package inspector;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Set;\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTree;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\n\n\n/**\n *\n * @author Alex\n */\npublic class TreeTest {\n\n    private static ValueMap prepareTree() {\n        ValueMap obj = new ValueMap();\n        obj.set(&quot;x&quot;, new Value(1));\n        obj.set(&quot;y&quot;, new Value(1));\n\n        ValueArray users = new ValueArray();\n        obj.set(&quot;users&quot;, users);\n\n        ValueMap user = new ValueMap();\n        user.set(&quot;login&quot;, new Value(&quot;Alex654&quot;));\n        user.set(&quot;password&quot;, new Value(&quot;123456&quot;));\n\n        ValueMap info = new ValueMap();\n        info.set(&quot;city&quot;, new Value(&quot;Moscow&quot;));\n        info.set(&quot;job&quot;, new Value(&quot;Developer&quot;));\n        info.set(&quot;firstName&quot;, new Value(&quot;Alex&quot;));\n        info.set(&quot;lastName&quot;, new Value(&quot;Popov&quot;));\n        user.set(&quot;bio&quot;, info);\n\n        users.push(user);\n\n        ValueMap user2 = new ValueMap();\n        user2.set(&quot;login&quot;, new Value(&quot;admin&quot;));\n        user2.set(&quot;password&quot;, new Value(&quot;test&quot;));\n        user2.set(&quot;bio&quot;, new Value(null));\n\n        users.push(user2);\n\n        return obj;\n    }\n\n    static class Value {\n\n        Value() {\n            value = null;\n        }\n\n        Value(Object val) {\n            this.value = val;\n        }\n\n        @Override\n        public String toString() {\n            if (value instanceof Integer || value instanceof Double) {\n                return value + &quot;&quot;;\n            } else {\n                return &quot;\\&quot;&quot; + value.toString() + &quot;\\&quot;&quot;;\n            }\n        }\n\n        Object value;\n    }\n\n    static class ValueArray extends Value {\n\n        ValueArray() {\n            items = new ArrayList&lt;Value&gt;();\n        }\n\n        ValueArray(Value val) {\n            items = new ArrayList&lt;Value&gt;();\n            items.add(val);\n        }\n\n        void push(Value val) {\n            items.add(val);\n        }\n\n        ArrayList&lt;Value&gt; items;\n    }\n\n    static class ValueMap extends Value {\n\n        ValueMap() {\n            items = new HashMap&lt;String, Value&gt;();\n        }\n\n        Value get(String key) {\n            return items.get(key);\n        }\n\n        void put(String key, Value val) {\n            items.put(key, val);\n        }\n\n        void set(String key, Value val) {\n            items.put(key, val);\n        }\n\n        HashMap&lt;String, Value&gt; items;\n    }\n\n    public static class ValueWrapper {\n\n        ValueWrapper(String label, Value val) {\n            this.label = label;\n            this.val = val;\n        }\n\n        String getLabel() {\n            return label;\n        }\n\n        Value getValue() {\n            return val;\n        }\n\n        @Override\n        public String toString() {\n            String result = label;\n            if (val instanceof ValueArray) {\n                result += &quot;: Array&quot;;\n            }\n            else if (val instanceof ValueMap) {\n                result += &quot;: { Object }&quot;;\n            }\n            else result += &quot;: &quot; + val.toString();\n\n            return result;\n        }\n\n        private String label;\n        private Value val;\n    }\n\n    public static void processChildren(DefaultMutableTreeNode node) {\n        Value val = ((ValueWrapper)node.getUserObject()).getValue();\n        if (val instanceof ValueArray) {\n            ArrayList&lt;Value&gt; items = ((ValueArray)val).items;\n            for (int i = 0; i &lt; items.size(); i++) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(i + &quot;&quot;, items.get(i)));\n                node.add(newNode);\n                processChildren(newNode);\n            }\n        } else if (val instanceof ValueMap) {\n            HashMap&lt;String, Value&gt; props = ((ValueMap)val).items;\n            Set&lt;String&gt; keys = props.keySet();\n            for (String key: keys) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(key, props.get(key)));\n                node.add(newNode);\n                if (!key.equals(&quot;__proto__&quot;)) {\n                    processChildren(newNode);\n                }\n            }\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        try {\n            UIManager.setLookAndFeel(\n                UIManager.getSystemLookAndFeelClassName());\n        } catch (Exception e) {}\n\n        final ValueMap root = prepareTree();\n        if (root == null) return;\n\n        final JFrame frame = new JFrame(&quot;Object Inspector&quot;);\n        JPanel cp = new JPanel();\n        cp.setBorder(BorderFactory.createEmptyBorder(9, 10, 9, 10));\n        frame.setContentPane(cp);\n        cp.setLayout(new BoxLayout(cp, BoxLayout.PAGE_AXIS));\n\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new ValueWrapper(&quot;obj&quot;, root));\n        processChildren(rootNode);\n\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\n        final JTree tree = new JTree(treeModel);\n\n        final JPanel contentpane = new JPanel();\n        contentpane.setBackground(Color.WHITE);\n        contentpane.setOpaque(true);\n        contentpane.setLayout(new BorderLayout());\n        contentpane.add(tree);\n\n        //contentpane.setBounds(0, 0, 490, 380);\n        final int width = 490, height = 418;\n        cp.setPreferredSize(new Dimension(width, height));\n\n        final JScrollPane scrollpane = new JScrollPane(contentpane);\n        scrollpane.setOpaque(false);\n        scrollpane.getInsets();\n\n        cp.add(scrollpane);\n        scrollpane.setBackground(Color.WHITE);\n        scrollpane.setOpaque(true);\n        //setSize(518, 420);\n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>I expect to get a nice looking tree, like in NetBeans IDE that I use everyday.</p>\n<p>But however I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/GBi0p.png\" rel=\"nofollow noreferrer\">tree display</a></p>\n<p>What the heck is wrong with it? Also should note that when my labels were longer (without the &quot;wrapper&quot; inner class) the output labels in leaves was 2-3 times wider, but the labels were also extremely cut down in width.</p>\n<p><strong>UPDATE:</strong></p>\n<p>Unfortunalely, the result after suggested solution is not ideal. See the screenshot below:</p>\n<p><a href=\"https://i.stack.imgur.com/tJOGM.png\" rel=\"nofollow noreferrer\">fixed display</a></p>\n<ol>\n<li>The symbols are cut by 1-2 pixels from the bottom (look at the square brackets). Maybe it is a windows bug (I use Windows 7 with 150% zoom), but is there a way to fix that? To increase the font size of the labels or the vertical gap between them (so called &quot;line height&quot;)?</li>\n<li>I don't like that leaves have &quot;+&quot; on them until I click them. I solved it adding <code>else { node.setAllowsChildren(false); }</code> to the end of my <code>processChildren()</code> method. But now I would like to have a single custom icon for all of my nodes, whether they have children or not.</li>\n</ol>\n"},{"tags":["java","json","xml","jackson","fasterxml"],"comments":[{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":2,"creation_date":1677243192,"post_id":75556783,"comment_id":133304208,"body_markdown":"Can you share your code?","body":"Can you share your code?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":3,"creation_date":1677243787,"post_id":75556783,"comment_id":133304389,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1677268580,"post_id":75556783,"comment_id":133311080,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27869371,"reputation":1,"user_id":21280261,"display_name":"tweets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677280732,"answer_count":0,"score":0,"last_activity_date":1677479086,"creation_date":1677243075,"question_id":75556783,"body_markdown":"```\r\n&lt;A&gt;\r\n\t\t\r\n\t\t&lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\r\n\t\t&lt;/Ser&gt;\r\n\t\t&lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n\r\n        &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\r\n\t\t&lt;/Ser&gt;\r\n\t\t&lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n&lt;/A&gt;\r\n```\r\n\r\nTrying to read the same using XmlMapper.readValue()\r\nbut It is just reading the last value of both &lt;ser&gt; &amp; &lt;PR&gt; not the list.\r\n\r\nNote: this works well when Xml is:\r\n\r\n```\r\n\r\n    &lt;A&gt;\r\n    \t\t&lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\r\n    \t\t&lt;/Ser&gt;\r\n    \t\t\r\n            &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\r\n    \t\t&lt;/Ser&gt;\r\n            &lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n            &lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n       \t\t\r\n    &lt;/A&gt;\r\n\r\n```\r\n\r\nCode is: `\r\n\r\n    public class A {\r\n    \t@JacksonXmlProperty(localName=&quot;Ser&quot;)\r\n    \t@JacksonXmlElementWrapper(useWrapping=false)\r\n    \tList&lt;Ser&gt; ser;\r\n    \t@JacksonXmlProperty(localName=&quot;PR&quot;)\r\n    \t@JacksonXmlElementWrapper(useWrapping=false)\r\n    \tList&lt;PR&gt; pR;\r\n    \t\r\n    \t\\\\getters\r\n         \\\\Setters\r\n    \t\r\n    }\r\n\r\n`\r\n\r\nFor Ser:\r\n\r\n    public class Ser {\r\n    \t\r\n    \t@JacksonXmlProperty(isAttribute=true,localName=&quot;name&quot;)\r\n    \tString name;\r\n    \t@JacksonXmlProperty(isAttribute=true,localName=&quot;branch&quot;)\r\n    \tString branch;\r\n        @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\r\n        String localroot;\r\n    \r\n    \\\\getter &amp; setters\r\n    \r\n    }\r\n\r\nSimilar code for PR:\r\n\r\n    public class PR {\r\n    \t@JacksonXmlProperty(isAttribute=true,localName=&quot;msg&quot;)\r\n    \tString msg;\r\n        @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\r\n        String localroot;\r\n    \r\n    \\\\getter &amp; setters\r\n    \r\n    }\r\n\r\nCode where reading the file having XML:\r\n\r\n    public ServiceImpl{\r\n    \\\\hiding other part.\r\n    \r\n    A obj = xmlMapper.readValue(new File(path), A.class);\r\n    \r\n    }\r\n\r\nTried with the latest version as well for jackson-dataformat-xml.\r\nNothing working.\r\n\r\nThis question is different as here issue is not of wrapping xml.","title":"jackson fasterxml multiple elements with the same name not aligned together","body":"<pre><code>&lt;A&gt;\n        \n        &lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\n        &lt;/Ser&gt;\n        &lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\n\n        &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\n        &lt;/Ser&gt;\n        &lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\n&lt;/A&gt;\n</code></pre>\n<p>Trying to read the same using XmlMapper.readValue()\nbut It is just reading the last value of both  &amp;  not the list.</p>\n<p>Note: this works well when Xml is:</p>\n<pre><code>\n    &lt;A&gt;\n            &lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\n            &lt;/Ser&gt;\n            \n            &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\n            &lt;/Ser&gt;\n            &lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\n            &lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\n            \n    &lt;/A&gt;\n\n</code></pre>\n<p>Code is: `</p>\n<pre><code>public class A {\n    @JacksonXmlProperty(localName=&quot;Ser&quot;)\n    @JacksonXmlElementWrapper(useWrapping=false)\n    List&lt;Ser&gt; ser;\n    @JacksonXmlProperty(localName=&quot;PR&quot;)\n    @JacksonXmlElementWrapper(useWrapping=false)\n    List&lt;PR&gt; pR;\n    \n    \\\\getters\n     \\\\Setters\n    \n}\n</code></pre>\n<p>`</p>\n<p>For Ser:</p>\n<pre><code>public class Ser {\n    \n    @JacksonXmlProperty(isAttribute=true,localName=&quot;name&quot;)\n    String name;\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;branch&quot;)\n    String branch;\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\n    String localroot;\n\n\\\\getter &amp; setters\n\n}\n</code></pre>\n<p>Similar code for PR:</p>\n<pre><code>public class PR {\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;msg&quot;)\n    String msg;\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\n    String localroot;\n\n\\\\getter &amp; setters\n\n}\n</code></pre>\n<p>Code where reading the file having XML:</p>\n<pre><code>public ServiceImpl{\n\\\\hiding other part.\n\nA obj = xmlMapper.readValue(new File(path), A.class);\n\n}\n</code></pre>\n<p>Tried with the latest version as well for jackson-dataformat-xml.\nNothing working.</p>\n<p>This question is different as here issue is not of wrapping xml.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9608,"page":617,"page_size":100}
