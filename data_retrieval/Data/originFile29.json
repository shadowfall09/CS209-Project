{"items":[{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1654324764,"post_id":72497452,"comment_id":128068509,"body_markdown":"See if you can use some ideas from https://stackoverflow.com/questions/54165602/create-hexagonal-field-with-javafx as a starting point.","body":"See if you can use some ideas from <a href=\"https://stackoverflow.com/questions/54165602/create-hexagonal-field-with-javafx\" title=\"create hexagonal field with javafx\">stackoverflow.com/questions/54165602/&hellip;</a> as a starting point."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1654326916,"post_id":72497452,"comment_id":128068809,"body_markdown":"This [hexagons](https://github.com/linustornkrantz/hexagons) project is kind of interesting.","body":"This <a href=\"https://github.com/linustornkrantz/hexagons\" rel=\"nofollow noreferrer\">hexagons</a> project is kind of interesting."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1654405835,"post_id":72499395,"comment_id":128080762,"body_markdown":"Agree, GridPanes are for layouts, but different kinds of layouts than this :-)","body":"Agree, GridPanes are for layouts, but different kinds of layouts than this :-)"}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654342434,"creation_date":1654342434,"answer_id":72499395,"question_id":72497452,"body_markdown":"I would just create a Path for each Hexagon and put them in Group which you can then place in the middle of some Pane. Dealing with images and a GridPane only complicates things. Just doing some graphics directly is much easier.","title":"How to create hexagon of hexagons as buttons in JavaFX","body":"<p>I would just create a Path for each Hexagon and put them in Group which you can then place in the middle of some Pane. Dealing with images and a GridPane only complicates things. Just doing some graphics directly is much easier.</p>\n"},{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1701282626,"creation_date":1654372301,"answer_id":72502727,"question_id":72497452,"body_markdown":"**polygon hexagons**\r\n\r\n[![colors shape][1]][1]\r\n\r\n Since you need to use as buttons, I added mouse click event which changes stage&#39;s title. If you want to place  hexagons side to side you may need to consider [radius][2] for x axis and [apothem][3] for y axis.\r\nThis is a functional single class javafx app you can try \r\n\r\nApp.java\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            double HexagonRadius = 100;\r\n    \r\n            Hexagon hexagon1 = new Hexagon(HexagonRadius, Color.CADETBLUE);\r\n    \r\n            Hexagon hexagon2 = new Hexagon(HexagonRadius, Color.MEDIUMPURPLE);\r\n            hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\r\n    \r\n            Hexagon hexagon3 = new Hexagon(HexagonRadius, Color.MEDIUMSEAGREEN);\r\n            hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\r\n    \r\n            Hexagon hexagon4 = new Hexagon(HexagonRadius, Color.CORNFLOWERBLUE);\r\n            hexagon4.setTranslateY(-hexagon1.getOffsetY());\r\n            hexagon4.setTranslateX(hexagon1.getOffsetX());\r\n    \r\n            Hexagon hexagon5 = new Hexagon(HexagonRadius, Color.YELLOW);\r\n            hexagon5.setTranslateY(-hexagon1.getOffsetY());\r\n            hexagon5.setTranslateX(-hexagon1.getOffsetX());\r\n    \r\n            Hexagon hexagon6 = new Hexagon(HexagonRadius, Color.ORANGE);\r\n            hexagon6.setTranslateY(hexagon1.getOffsetY());\r\n            hexagon6.setTranslateX(-hexagon1.getOffsetX());\r\n    \r\n            Hexagon hexagon7 = new Hexagon(HexagonRadius, Color.SKYBLUE);\r\n            hexagon7.setTranslateY(hexagon1.getOffsetY());\r\n            hexagon7.setTranslateX(hexagon1.getOffsetX());\r\n    \r\n            Group hexagonsGroup = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\r\n    \r\n            StackPane stackPane = new StackPane(hexagonsGroup);\r\n    \r\n            var scene = new Scene(stackPane, 640, 480);\r\n            scene.setFill(Color.ANTIQUEWHITE);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        public class Hexagon extends Group {\r\n    \r\n            private Polygon polygon;\r\n            private double radius;\r\n            private double radianStep = (2 * Math.PI) / 6;\r\n    \r\n            private double offsetY;\r\n            private double offsetX;\r\n    \r\n            public Hexagon(double radius, Paint color) {\r\n                this.radius = radius;\r\n                makeHexagon(radius, color);\r\n                offsetY = calculateApothem();\r\n                \r\n                \r\n                \r\n                offsetX = radius * 1.5;\r\n                changeTittle();\r\n    \r\n            }\r\n    \r\n            private void makeHexagon(double radius, Paint color) {\r\n                polygon = new Polygon();\r\n                this.getChildren().add(polygon);\r\n                polygon.setFill(color);\r\n                polygon.setStroke(Color.WHITESMOKE);\r\n                polygon.setEffect(new DropShadow(10, Color.BLACK));\r\n                polygon.setStrokeWidth(10);\r\n                polygon.setStrokeType(StrokeType.INSIDE);\r\n    \r\n                for (int i = 0; i &lt; 6; i++) {\r\n                    double angle = radianStep * i;\r\n    \r\n                    polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\r\n                    polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\r\n    \r\n                }\r\n            }\r\n    \r\n            public void changeTittle() {\r\n    \r\n                polygon.setOnMouseClicked(e -&gt; {\r\n                    Stage stage = (Stage) this.getScene().getWindow();\r\n                    stage.setTitle(polygon.getFill().toString());\r\n                });\r\n    \r\n            }\r\n    \r\n            public double getOffsetY() {\r\n                return offsetY;\r\n            }\r\n    \r\n            public double getOffsetX() {\r\n                return offsetX;\r\n            }\r\n    \r\n            private double calculateApothem() {\r\n                \r\n                return (Math.tan(radianStep) * radius) / 2;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnzMA.gif\r\n  [2]: https://en.wikipedia.org/wiki/Radius\r\n  [3]: https://en.wikipedia.org/wiki/Apothem","title":"How to create hexagon of hexagons as buttons in JavaFX","body":"<p><strong>polygon hexagons</strong></p>\n<p><a href=\"https://i.stack.imgur.com/CnzMA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnzMA.gif\" alt=\"colors shape\" /></a></p>\n<p>Since you need to use as buttons, I added mouse click event which changes stage's title. If you want to place  hexagons side to side you may need to consider <a href=\"https://en.wikipedia.org/wiki/Radius\" rel=\"nofollow noreferrer\">radius</a> for x axis and <a href=\"https://en.wikipedia.org/wiki/Apothem\" rel=\"nofollow noreferrer\">apothem</a> for y axis.\nThis is a functional single class javafx app you can try</p>\n<p>App.java</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        double HexagonRadius = 100;\n\n        Hexagon hexagon1 = new Hexagon(HexagonRadius, Color.CADETBLUE);\n\n        Hexagon hexagon2 = new Hexagon(HexagonRadius, Color.MEDIUMPURPLE);\n        hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\n\n        Hexagon hexagon3 = new Hexagon(HexagonRadius, Color.MEDIUMSEAGREEN);\n        hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\n\n        Hexagon hexagon4 = new Hexagon(HexagonRadius, Color.CORNFLOWERBLUE);\n        hexagon4.setTranslateY(-hexagon1.getOffsetY());\n        hexagon4.setTranslateX(hexagon1.getOffsetX());\n\n        Hexagon hexagon5 = new Hexagon(HexagonRadius, Color.YELLOW);\n        hexagon5.setTranslateY(-hexagon1.getOffsetY());\n        hexagon5.setTranslateX(-hexagon1.getOffsetX());\n\n        Hexagon hexagon6 = new Hexagon(HexagonRadius, Color.ORANGE);\n        hexagon6.setTranslateY(hexagon1.getOffsetY());\n        hexagon6.setTranslateX(-hexagon1.getOffsetX());\n\n        Hexagon hexagon7 = new Hexagon(HexagonRadius, Color.SKYBLUE);\n        hexagon7.setTranslateY(hexagon1.getOffsetY());\n        hexagon7.setTranslateX(hexagon1.getOffsetX());\n\n        Group hexagonsGroup = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\n\n        StackPane stackPane = new StackPane(hexagonsGroup);\n\n        var scene = new Scene(stackPane, 640, 480);\n        scene.setFill(Color.ANTIQUEWHITE);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public class Hexagon extends Group {\n\n        private Polygon polygon;\n        private double radius;\n        private double radianStep = (2 * Math.PI) / 6;\n\n        private double offsetY;\n        private double offsetX;\n\n        public Hexagon(double radius, Paint color) {\n            this.radius = radius;\n            makeHexagon(radius, color);\n            offsetY = calculateApothem();\n            \n            \n            \n            offsetX = radius * 1.5;\n            changeTittle();\n\n        }\n\n        private void makeHexagon(double radius, Paint color) {\n            polygon = new Polygon();\n            this.getChildren().add(polygon);\n            polygon.setFill(color);\n            polygon.setStroke(Color.WHITESMOKE);\n            polygon.setEffect(new DropShadow(10, Color.BLACK));\n            polygon.setStrokeWidth(10);\n            polygon.setStrokeType(StrokeType.INSIDE);\n\n            for (int i = 0; i &lt; 6; i++) {\n                double angle = radianStep * i;\n\n                polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\n                polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\n\n            }\n        }\n\n        public void changeTittle() {\n\n            polygon.setOnMouseClicked(e -&gt; {\n                Stage stage = (Stage) this.getScene().getWindow();\n                stage.setTitle(polygon.getFill().toString());\n            });\n\n        }\n\n        public double getOffsetY() {\n            return offsetY;\n        }\n\n        public double getOffsetX() {\n            return offsetX;\n        }\n\n        private double calculateApothem() {\n            \n            return (Math.tan(radianStep) * radius) / 2;\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17358168,"reputation":97,"user_id":12575077,"display_name":"Mystheman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1701282626,"creation_date":1654322188,"question_id":72497452,"body_markdown":"[![Here what I want to create][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZrhJ.jpg\r\n\r\n\r\nI want to create a hexagon of hexagons as buttons in JavaFX, I use an image and try to position some buttons to the position of each hexagon but I cannot change the position of them in a grid pane. Here is my code:\r\n\r\n    package sample;\r\n    \r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.GridPane;\r\n    \r\n    public class GameBoard extends GridPane {\r\n        public GameBoard(){\r\n            this.setAlignment(Pos.CENTER);\r\n            ImageView image = new ImageView();\r\n            Image hexagonImg = new Image(&quot;hexagon.jpg&quot;);\r\n            image.setFitWidth(500);\r\n            image.setFitHeight(500);\r\n            image.setImage(hexagonImg);\r\n            this.add(image,0,0);\r\n            GridPane button1Pane = new GridPane();\r\n            this.add(button1Pane,0,0);\r\n            Button button1 = new Button();\r\n            button1Pane.add(button1,1,0);\r\n        }\r\n    }\r\n\r\n","title":"How to create hexagon of hexagons as buttons in JavaFX","body":"<p><a href=\"https://i.stack.imgur.com/JZrhJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZrhJ.jpg\" alt=\"Here what I want to create\" /></a></p>\n<p>I want to create a hexagon of hexagons as buttons in JavaFX, I use an image and try to position some buttons to the position of each hexagon but I cannot change the position of them in a grid pane. Here is my code:</p>\n<pre><code>package sample;\n\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.GridPane;\n\npublic class GameBoard extends GridPane {\n    public GameBoard(){\n        this.setAlignment(Pos.CENTER);\n        ImageView image = new ImageView();\n        Image hexagonImg = new Image(&quot;hexagon.jpg&quot;);\n        image.setFitWidth(500);\n        image.setFitHeight(500);\n        image.setImage(hexagonImg);\n        this.add(image,0,0);\n        GridPane button1Pane = new GridPane();\n        this.add(button1Pane,0,0);\n        Button button1 = new Button();\n        button1Pane.add(button1,1,0);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"owner":{"account_id":30025098,"reputation":1,"user_id":23009535,"display_name":"Frank0304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701282450,"creation_date":1701282450,"question_id":77573671,"body_markdown":"i was working on a Java Project, but i found a problem when i was going to use the JTable in the Design section in Eclipse by using the Windows Pro Builder plug-in. \r\n\r\nI tried selecting the JTable in the &quot;Components&quot; section of WindowsProBuilder but after clicking on it, it doesn&#39;t get selected, just like an empty button, unlike all the other components. I also tried inserting the JTable via line of code.","title":"JTable not selectable in Windows Pro Builder","body":"<p>i was working on a Java Project, but i found a problem when i was going to use the JTable in the Design section in Eclipse by using the Windows Pro Builder plug-in.</p>\n<p>I tried selecting the JTable in the &quot;Components&quot; section of WindowsProBuilder but after clicking on it, it doesn't get selected, just like an empty button, unlike all the other components. I also tried inserting the JTable via line of code.</p>\n"},{"tags":["java","for-loop","if-statement","while-loop","logic"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701281655,"post_id":77573495,"comment_id":136757482,"body_markdown":"You can always use arrays.","body":"You can always use arrays."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701286903,"post_id":77573495,"comment_id":136758308,"body_markdown":"Use an array for both the _n_ and _c_ values.","body":"Use an array for both the <i>n</i> and <i>c</i> values."}],"answers":[{"tags":[],"owner":{"account_id":24103639,"reputation":21,"user_id":18075142,"display_name":"Naveena Poojari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701282223,"creation_date":1701282223,"answer_id":77573647,"question_id":77573495,"body_markdown":"You can try this:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n\r\n    public class Mavenproject8 {\r\n       public static void main(String[] args) {\r\n        int num = 100 + (int) (Math.random() * 900);\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter 3 numbers from 1 to 9:&quot;);\r\n        int max = 9;\r\n\r\n        while (max-- &gt; 0) {\r\n            System.out.printf(&quot;You can try for %d times%nEnter 3 digits:%n&quot;, max + 1);\r\n\r\n            int[] userDigits = new int[3];\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                userDigits[i] = scanner.nextInt();\r\n            }\r\n\r\n            int[] numDigits = new int[3];\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                numDigits[i] = num % 10;\r\n                num /= 10;\r\n            }\r\n\r\n            if (Arrays.equals(userDigits, numDigits)) {\r\n                System.out.println(&quot;Congratulations, You Won !!!&quot;);\r\n                return;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;You can try for 0 times&quot;);\r\n    }}\r\n\r\nChanges are:\r\n1. Replaced individual variables n1, n2, n3, c1, c2, c3 with arrays userDigits and numDigits.\r\n2. Used loops to read user input and extract digits from num.\r\n3. Utilized Arrays.equals() to compare arrays for equality.\r\n\r\nHope that helps...","title":"how can I decrease the number of variables?","body":"<p>You can try this:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Mavenproject8 {\n   public static void main(String[] args) {\n    int num = 100 + (int) (Math.random() * 900);\n    Scanner scanner = new Scanner(System.in);\n\n    System.out.println(&quot;Enter 3 numbers from 1 to 9:&quot;);\n    int max = 9;\n\n    while (max-- &gt; 0) {\n        System.out.printf(&quot;You can try for %d times%nEnter 3 digits:%n&quot;, max + 1);\n\n        int[] userDigits = new int[3];\n        for (int i = 0; i &lt; 3; i++) {\n            userDigits[i] = scanner.nextInt();\n        }\n\n        int[] numDigits = new int[3];\n        for (int i = 0; i &lt; 3; i++) {\n            numDigits[i] = num % 10;\n            num /= 10;\n        }\n\n        if (Arrays.equals(userDigits, numDigits)) {\n            System.out.println(&quot;Congratulations, You Won !!!&quot;);\n            return;\n        }\n    }\n\n    System.out.println(&quot;You can try for 0 times&quot;);\n}}\n</code></pre>\n<p>Changes are:</p>\n<ol>\n<li>Replaced individual variables n1, n2, n3, c1, c2, c3 with arrays userDigits and numDigits.</li>\n<li>Used loops to read user input and extract digits from num.</li>\n<li>Utilized Arrays.equals() to compare arrays for equality.</li>\n</ol>\n<p>Hope that helps...</p>\n"}],"owner":{"account_id":30024870,"reputation":11,"user_id":23009364,"display_name":"winstar345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701282223,"creation_date":1701280606,"question_id":77573495,"body_markdown":"\r\n```\r\npublic class Mavenproject8\r\n {\r\n\r\n public static void main(String[] args) {\r\n     int num=100+(int)(Math.random()*900);\r\n   Scanner blue=new Scanner(System.in);\r\n   System.out.println(&quot;enter 3 numbers from 1 to 9:&quot;);\r\n   int n1=blue.nextInt();\r\n   int n2=blue.nextInt();\r\n   int n3=blue.nextInt();\r\n   int c3=num%10;\r\n   num/=10;\r\n   int c2=num%10;\r\n   int c1=num/10;\r\n   int max=9;\r\n   while(max!=0){\r\n       if(n1==c1&amp;&amp;n2==c2&amp;&amp;n3==c3){max=0;System.out.println(&quot;Congratulations, You Won !!!&quot;);}\r\n       else{System.out.println(&quot;you can try for &quot;+max+&quot; times\\nenter 3 digits&quot;);\r\n       n1=blue.nextInt();\r\n       n2=blue.nextInt();      \r\n       n3=blue.nextInt();max--;}\r\n   }\r\n if(max==0){System.out.println(&quot;You can try for 0 times&quot;);}\r\n } \r\n}\r\n\r\n```\r\n//i think the code could be smaller and could done with better logic\r\n//how can i decrease the number of integers or maybe shrink the code with a better logic","title":"how can I decrease the number of variables?","body":"<pre><code>public class Mavenproject8\n {\n\n public static void main(String[] args) {\n     int num=100+(int)(Math.random()*900);\n   Scanner blue=new Scanner(System.in);\n   System.out.println(&quot;enter 3 numbers from 1 to 9:&quot;);\n   int n1=blue.nextInt();\n   int n2=blue.nextInt();\n   int n3=blue.nextInt();\n   int c3=num%10;\n   num/=10;\n   int c2=num%10;\n   int c1=num/10;\n   int max=9;\n   while(max!=0){\n       if(n1==c1&amp;&amp;n2==c2&amp;&amp;n3==c3){max=0;System.out.println(&quot;Congratulations, You Won !!!&quot;);}\n       else{System.out.println(&quot;you can try for &quot;+max+&quot; times\\nenter 3 digits&quot;);\n       n1=blue.nextInt();\n       n2=blue.nextInt();      \n       n3=blue.nextInt();max--;}\n   }\n if(max==0){System.out.println(&quot;You can try for 0 times&quot;);}\n } \n}\n\n</code></pre>\n<p>//i think the code could be smaller and could done with better logic\n//how can i decrease the number of integers or maybe shrink the code with a better logic</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":3,"creation_date":1701269564,"post_id":77572190,"comment_id":136755007,"body_markdown":"Presumably you want to calculate the entire date/time, not *just* the hour.  Because I can&#39;t think of any value that&#39;s greater than 20 and less than 1.  Or alternatively maybe you meant to use `||` (or) instead of `&amp;&amp;` (and), if the set of hours is always &quot;overnight&quot;?","body":"Presumably you want to calculate the entire date/time, not <i>just</i> the hour.  Because I can&#39;t think of any value that&#39;s greater than 20 and less than 1.  Or alternatively maybe you meant to use <code>||</code> (or) instead of <code>&amp;&amp;</code> (and), if the set of hours is always &quot;overnight&quot;?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1701269975,"post_id":77572190,"comment_id":136755101,"body_markdown":"LocalDateTime has an isAfter and isBefore Method, maybe this helps you (if you want to compare a whole Date, not only the hour).","body":"LocalDateTime has an isAfter and isBefore Method, maybe this helps you (if you want to compare a whole Date, not only the hour)."},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701270080,"post_id":77572190,"comment_id":136755126,"body_markdown":"This issue is if the endHour goes into the next day like my example.","body":"This issue is if the endHour goes into the next day like my example."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701270346,"post_id":77572190,"comment_id":136755182,"body_markdown":"Do you only do time ranges that are strictly &lt;= 24 h long?","body":"Do you only do time ranges that are strictly &lt;= 24 h long?"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701270852,"post_id":77572190,"comment_id":136755317,"body_markdown":"yes, just into the next day. Your response worked. Thanks.","body":"yes, just into the next day. Your response worked. Thanks."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701271042,"post_id":77572190,"comment_id":136755371,"body_markdown":"[`LocalDateTime#getHour()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--) already returns the hour value in 24h format. If it returns 9, that means 9 in the morning – and 9 in the morning is not between 8 in the evening and 1 in the morning.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#getHour()</code></a> already returns the hour value in 24h format. If it returns 9, that means 9 in the morning – and 9 in the morning is not between 8 in the evening and 1 in the morning."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1701282058,"post_id":77572190,"comment_id":136757553,"body_markdown":"By the way, calling `LocalDateTime.now` is a bad habit. The result is inherently ambiguous as it lacks the context of an offset or time zone. Instead, call `ZonedDateTime.now( z )` while passing a time zone (`ZoneId`). To use the JVM’s current time zone, pass result of `ZoneId.systemDefault()`. So: `ZonedDateTime.now( ZoneId.systemDefault() )`","body":"By the way, calling <code>LocalDateTime.now</code> is a bad habit. The result is inherently ambiguous as it lacks the context of an offset or time zone. Instead, call <code>ZonedDateTime.now( z )</code> while passing a time zone (<code>ZoneId</code>). To use the JVM’s current time zone, pass result of <code>ZoneId.systemDefault()</code>. So: <code>ZonedDateTime.now( ZoneId.systemDefault() )</code>"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701282109,"post_id":77572190,"comment_id":136757561,"body_markdown":"My example isn&#39;t returning 9. I put &quot;9pm&quot; which means `currentHour` should be set to 21.","body":"My example isn&#39;t returning 9. I put &quot;9pm&quot; which means <code>currentHour</code> should be set to 21."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701282119,"post_id":77572190,"comment_id":136757563,"body_markdown":"If you want only time of day, call `LocalTime.now( ZoneId.systemDefault() )`. Or pass a specific time zone if you have one in mind.","body":"If you want only time of day, call <code>LocalTime.now( ZoneId.systemDefault() )</code>. Or pass a specific time zone if you have one in mind."},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701282475,"post_id":77572190,"comment_id":136757611,"body_markdown":"In the source code for `LocalDateTime.now` it looks like it takes the timezone into account.","body":"In the source code for <code>LocalDateTime.now</code> it looks like it takes the timezone into account."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701270978,"creation_date":1701269802,"answer_id":77572255,"question_id":77572190,"body_markdown":"You need to account for ranges that cover midnight, e.g.\r\n\r\n```\r\nif (endHour &lt; startHour) {\r\n  endHour += 24;\r\n}\r\nif (currentHour &lt; startHour) {\r\n  currentHour += 24;\r\n}\r\n\r\n// now check if currentHour between start and end\r\n```\r\n\r\nDo note however that [`LocalDateTime#getHour()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--) returns a value between 0 and 23 already. So 9 means 9AM and 21 means 9PM.","title":"Determine current hour is between hours","body":"<p>You need to account for ranges that cover midnight, e.g.</p>\n<pre><code>if (endHour &lt; startHour) {\n  endHour += 24;\n}\nif (currentHour &lt; startHour) {\n  currentHour += 24;\n}\n\n// now check if currentHour between start and end\n</code></pre>\n<p>Do note however that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getHour--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#getHour()</code></a> returns a value between 0 and 23 already. So 9 means 9AM and 21 means 9PM.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701271185,"creation_date":1701270368,"answer_id":77572323,"question_id":77572190,"body_markdown":"The value `9` does not mean the same thing as `9pm` or `21`; it means `9am` or simply `9`.\r\n\r\nYou need to use `21`.\r\n\r\n```java\r\nimport java.time.LocalDateTime;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class TimeRangeChecker {\r\n    private static final int HOURS_PER_DAY = (int) TimeUnit.DAYS.toHours(1); // 24\r\n\r\n    public static boolean isInBetween(LocalDateTime localDateTime, int startHour, int endHour) {\r\n        int computedEndHour = endHour &lt; startHour ? endHour + HOURS_PER_DAY: endHour;\r\n        int currHour = localDateTime.getHour();\r\n        return currHour &gt;= startHour &amp;&amp; currHour &lt; computedEndHour;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LocalDateTime now = LocalDateTime.now().withHour(21); // 9pm\r\n        System.out.println(isInBetween(now, 20, 1)); // false\r\n    }\r\n}\r\n```","title":"Determine current hour is between hours","body":"<p>The value <code>9</code> does not mean the same thing as <code>9pm</code> or <code>21</code>; it means <code>9am</code> or simply <code>9</code>.</p>\n<p>You need to use <code>21</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.util.concurrent.TimeUnit;\n\npublic class TimeRangeChecker {\n    private static final int HOURS_PER_DAY = (int) TimeUnit.DAYS.toHours(1); // 24\n\n    public static boolean isInBetween(LocalDateTime localDateTime, int startHour, int endHour) {\n        int computedEndHour = endHour &lt; startHour ? endHour + HOURS_PER_DAY: endHour;\n        int currHour = localDateTime.getHour();\n        return currHour &gt;= startHour &amp;&amp; currHour &lt; computedEndHour;\n    }\n\n    public static void main(String[] args) {\n        LocalDateTime now = LocalDateTime.now().withHour(21); // 9pm\n        System.out.println(isInBetween(now, 20, 1)); // false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":77572255,"answer_count":2,"score":-5,"last_activity_date":1701282217,"creation_date":1701269420,"question_id":77572190,"body_markdown":"I feel this is really easy but my brain isn&#39;t working for some reason. I have a feature where the user can select a time period (in hours) for it to run. I need to check if the current hour is between those hours:\r\n\r\n\tint currentHour = LocalDateTime.now().getHour(); // 21 (9pm)\r\n\r\n\tint startHour = 20; // (8pm)\r\n\tint endHour = 1; // (1am)\r\n\r\n\tif (currentHour &gt;= startHour &amp;&amp; currentHour &lt; endHour)\r\n\t{\r\n\t\t...\r\n\t}","title":"Determine current hour is between hours","body":"<p>I feel this is really easy but my brain isn't working for some reason. I have a feature where the user can select a time period (in hours) for it to run. I need to check if the current hour is between those hours:</p>\n<pre><code>int currentHour = LocalDateTime.now().getHour(); // 21 (9pm)\n\nint startHour = 20; // (8pm)\nint endHour = 1; // (1am)\n\nif (currentHour &gt;= startHour &amp;&amp; currentHour &lt; endHour)\n{\n    ...\n}\n</code></pre>\n"},{"tags":["java","spring-boot","httpurlconnection"],"owner":{"account_id":20397272,"reputation":1,"user_id":14963781,"display_name":"aditya Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701282012,"creation_date":1701282012,"question_id":77573633,"body_markdown":"I need to read a Excel Sheet but when I am using URLConnection it is landing me on the login page.\r\n\r\n\r\n\r\n\r\n```\r\nURLConnection uc = url.openConnection();\r\nHttpURLConnection httpConnection = (HttpURLConnection) uc;\r\nString basicAuth =      Base64.getEncoder().encodeToString((username+&quot;:&quot;+password).getBytes(StandardCharsets.UTF_8));\r\nhttpConnection.setRequestProperty(&quot;Authorization&quot;,&quot;Basic &quot; + basicAuth);\r\nhttpConnection.setRequestProperty(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot;);\r\nhttpConnection.connect();\r\nBufferedReader r = new BufferedReader(new InputStreamReader(httpConnection.getInputStream(),    Charset.forName(&quot;UTF-8&quot;)));\r\nStringBuilder sb = new StringBuilder();\r\nString line;\r\nwhile((line = r.readLine())!= null){\r\n\tsb.append(line);\r\n\tsb.append(&quot;\\n&quot;);\r\n}\r\nSystem.out.println(sb.toString());\r\n```\r\n\r\nI tried setting Authorisation headers but still cannot achieve it. Can someone help me.\r\n","title":"How to read EXCEL FILE with RESTRICTED permissions from URL in java?","body":"<p>I need to read a Excel Sheet but when I am using URLConnection it is landing me on the login page.</p>\n<pre><code>URLConnection uc = url.openConnection();\nHttpURLConnection httpConnection = (HttpURLConnection) uc;\nString basicAuth =      Base64.getEncoder().encodeToString((username+&quot;:&quot;+password).getBytes(StandardCharsets.UTF_8));\nhttpConnection.setRequestProperty(&quot;Authorization&quot;,&quot;Basic &quot; + basicAuth);\nhttpConnection.setRequestProperty(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot;);\nhttpConnection.connect();\nBufferedReader r = new BufferedReader(new InputStreamReader(httpConnection.getInputStream(),    Charset.forName(&quot;UTF-8&quot;)));\nStringBuilder sb = new StringBuilder();\nString line;\nwhile((line = r.readLine())!= null){\n    sb.append(line);\n    sb.append(&quot;\\n&quot;);\n}\nSystem.out.println(sb.toString());\n</code></pre>\n<p>I tried setting Authorisation headers but still cannot achieve it. Can someone help me.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1701275944,"post_id":77572484,"comment_id":136756460,"body_markdown":"It looks like the list of items is lazy loaded. Try adding fetch = FetchType.EAGER to the annotation.","body":"It looks like the list of items is lazy loaded. Try adding fetch = FetchType.EAGER to the annotation."},{"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"score":0,"creation_date":1701277876,"post_id":77572484,"comment_id":136756840,"body_markdown":"@Mar-Z There was additional error. Can you please check again? Thanks in advance.","body":"@Mar-Z There was additional error. Can you please check again? Thanks in advance."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1701279956,"post_id":77572484,"comment_id":136757199,"body_markdown":"It is a bi-directional relationship. You must set the reference in the OrderItem entity programmatically. For example by adding a loop in the service method createOrder(). But be aware of possible infinite loop. Search SO for a complete solution.","body":"It is a bi-directional relationship. You must set the reference in the OrderItem entity programmatically. For example by adding a loop in the service method createOrder(). But be aware of possible infinite loop. Search SO for a complete solution."},{"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"score":0,"creation_date":1701280756,"post_id":77572484,"comment_id":136757357,"body_markdown":"@Mar-Z Thanks a lot for the suggestion but alas, I am still unable to make program work as I wish it to work and I would really appreciate the programmatical way as an answer. So I can learn from it and also give you SO reputation in return for your efforts so far.","body":"@Mar-Z Thanks a lot for the suggestion but alas, I am still unable to make program work as I wish it to work and I would really appreciate the programmatical way as an answer. So I can learn from it and also give you SO reputation in return for your efforts so far."},{"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"score":0,"creation_date":1701281722,"post_id":77572484,"comment_id":136757497,"body_markdown":"@Mar-Z Nevermind, I solved it but you can still answer the question if you want what I mentioned before. In any case, thank you.","body":"@Mar-Z Nevermind, I solved it but you can still answer the question if you want what I mentioned before. In any case, thank you."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701281752,"creation_date":1701281752,"answer_id":77573605,"question_id":77572484,"body_markdown":"It is a bi-directional relationship. You must set the reference in the `OrderItem` entity programmatically. For example by adding a loop in the service method createOrder():\r\n```\r\npublic Order createOrder(Order newOrder) {\r\n    for (OrderItem item : newOrder.getItems()) {\r\n        item.setOrder(newOrder);\r\n    }\r\n    return orderRepository.save(newOrder);\r\n}\r\n```\r\nBe aware of possible infinite loop. Use `@JsonManagedReference` and `@JsonBackReference` annotations in the entities to avoid it.\r\n```\r\n@OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@JsonManagedReference\r\nprivate List&lt;OrderItem&gt; items;\r\n// ...\r\n@ManyToOne\r\n@JsonBackReference\r\n@JoinColumn(name = &quot;parent_order_id&quot;)\r\nprivate Order order;\r\n```","title":"Why Json Deserialization cause problems with BaseJpaRepository?","body":"<p>It is a bi-directional relationship. You must set the reference in the <code>OrderItem</code> entity programmatically. For example by adding a loop in the service method createOrder():</p>\n<pre><code>public Order createOrder(Order newOrder) {\n    for (OrderItem item : newOrder.getItems()) {\n        item.setOrder(newOrder);\n    }\n    return orderRepository.save(newOrder);\n}\n</code></pre>\n<p>Be aware of possible infinite loop. Use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> annotations in the entities to avoid it.</p>\n<pre><code>@OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JsonManagedReference\nprivate List&lt;OrderItem&gt; items;\n// ...\n@ManyToOne\n@JsonBackReference\n@JoinColumn(name = &quot;parent_order_id&quot;)\nprivate Order order;\n</code></pre>\n"}],"owner":{"account_id":29026365,"reputation":5,"user_id":22234425,"display_name":"dev0023"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77573605,"answer_count":1,"score":0,"last_activity_date":1701281752,"creation_date":1701271611,"question_id":77572484,"body_markdown":"Edit: By @Mar-z suggestion I have updated the code but it now has another problem, which is still related to same functionality.\r\n\r\nMy items list is always empty with a a payload like this one:\r\n\r\n```\r\n{\r\n  &quot;orderId&quot;: 1,\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;itemId&quot;: 3,\r\n      &quot;itemName&quot;: &quot;Product A&quot;,\r\n      &quot;quantity&quot;: 2,\r\n      &quot;price&quot;: 10.99\r\n    },\r\n    {\r\n      &quot;itemId&quot;: 4,\r\n      &quot;itemName&quot;: &quot;Product B&quot;,\r\n      &quot;quantity&quot;: 1,\r\n      &quot;price&quot;: 19.99\r\n    }\r\n  ],\r\n  &quot;status&quot;: &quot;PROCESSING&quot;\r\n}\r\n```\r\n\r\n\r\nI have 2 entity classes defined as here:\r\n\r\n\r\n```\r\n@Entity\r\npublic class OrderItem {\r\n\r\n    @Id\r\n    private Long itemId;\r\n    private String itemName;\r\n    private  int quantity;\r\n    private double price;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parent_order_id&quot;)\r\n    private Order order;\r\n\r\n    public OrderItem () {\r\n\r\n    }\r\n    public OrderItem(Long itemId, String itemName, int quantity, double price) {\r\n        this.itemId = itemId;\r\n        this.itemName = itemName;\r\n        this.quantity = quantity;\r\n        this.price = price;\r\n    }\r\n\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;`order`&quot;)\r\npublic class Order {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long orderId;\r\n\r\n    @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    private List&lt;OrderItem&gt; items;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private OrderStatus status;\r\n\r\n    public Order() {\r\n        this.items = new ArrayList&lt;&gt;();\r\n    }\r\n    public Order(Long orderId, List&lt;OrderItem&gt; items, OrderStatus status) {\r\n        this.orderId = orderId;\r\n        this.items = items;\r\n        this.status = status;\r\n    }\r\n\r\n```\r\n```\r\n\r\n    public Order createOrder(Order newOrder) {\r\n        return orderRepository.merge(newOrder);\r\n    }\r\n```\r\nEDITED:\r\nThe issue is my response is always like this:\r\n\r\n    {\r\n        &quot;orderId&quot;: 1,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;itemId&quot;: 103,\r\n                &quot;itemName&quot;: &quot;Product A&quot;,\r\n                &quot;quantity&quot;: 2,\r\n                &quot;price&quot;: 10.99,\r\n                &quot;order&quot;: null\r\n            },\r\n            {\r\n                &quot;itemId&quot;: 104,\r\n                &quot;itemName&quot;: &quot;Product B&quot;,\r\n                &quot;quantity&quot;: 1,\r\n                &quot;price&quot;: 19.99,\r\n                &quot;order&quot;: null\r\n            }\r\n        ],\r\n        &quot;status&quot;: &quot;PROCESSING&quot;\r\n    }\r\n\r\nAs you can see my order is null and in database my parent_order_id is also null.\r\n\r\nI use the repository class defined here but after soem trial and error i came to conclision it si not the problem: https://vladmihalcea.com/basejparepository-hypersistence-utils/\r\n","title":"Why Json Deserialization cause problems with BaseJpaRepository?","body":"<p>Edit: By @Mar-z suggestion I have updated the code but it now has another problem, which is still related to same functionality.</p>\n<p>My items list is always empty with a a payload like this one:</p>\n<pre><code>{\n  &quot;orderId&quot;: 1,\n  &quot;items&quot;: [\n    {\n      &quot;itemId&quot;: 3,\n      &quot;itemName&quot;: &quot;Product A&quot;,\n      &quot;quantity&quot;: 2,\n      &quot;price&quot;: 10.99\n    },\n    {\n      &quot;itemId&quot;: 4,\n      &quot;itemName&quot;: &quot;Product B&quot;,\n      &quot;quantity&quot;: 1,\n      &quot;price&quot;: 19.99\n    }\n  ],\n  &quot;status&quot;: &quot;PROCESSING&quot;\n}\n</code></pre>\n<p>I have 2 entity classes defined as here:</p>\n<pre><code>@Entity\npublic class OrderItem {\n\n    @Id\n    private Long itemId;\n    private String itemName;\n    private  int quantity;\n    private double price;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_order_id&quot;)\n    private Order order;\n\n    public OrderItem () {\n\n    }\n    public OrderItem(Long itemId, String itemName, int quantity, double price) {\n        this.itemId = itemId;\n        this.itemName = itemName;\n        this.quantity = quantity;\n        this.price = price;\n    }\n\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;`order`&quot;)\npublic class Order {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long orderId;\n\n    @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private List&lt;OrderItem&gt; items;\n\n    @Enumerated(EnumType.STRING)\n    private OrderStatus status;\n\n    public Order() {\n        this.items = new ArrayList&lt;&gt;();\n    }\n    public Order(Long orderId, List&lt;OrderItem&gt; items, OrderStatus status) {\n        this.orderId = orderId;\n        this.items = items;\n        this.status = status;\n    }\n\n</code></pre>\n<pre><code>\n    public Order createOrder(Order newOrder) {\n        return orderRepository.merge(newOrder);\n    }\n</code></pre>\n<p>EDITED:\nThe issue is my response is always like this:</p>\n<pre><code>{\n    &quot;orderId&quot;: 1,\n    &quot;items&quot;: [\n        {\n            &quot;itemId&quot;: 103,\n            &quot;itemName&quot;: &quot;Product A&quot;,\n            &quot;quantity&quot;: 2,\n            &quot;price&quot;: 10.99,\n            &quot;order&quot;: null\n        },\n        {\n            &quot;itemId&quot;: 104,\n            &quot;itemName&quot;: &quot;Product B&quot;,\n            &quot;quantity&quot;: 1,\n            &quot;price&quot;: 19.99,\n            &quot;order&quot;: null\n        }\n    ],\n    &quot;status&quot;: &quot;PROCESSING&quot;\n}\n</code></pre>\n<p>As you can see my order is null and in database my parent_order_id is also null.</p>\n<p>I use the repository class defined here but after soem trial and error i came to conclision it si not the problem: <a href=\"https://vladmihalcea.com/basejparepository-hypersistence-utils/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/basejparepository-hypersistence-utils/</a></p>\n"},{"tags":["java","pdf","itext","pdfptable"],"answers":[{"comments":[{"owner":{"account_id":5368033,"reputation":325,"user_id":4277316,"accept_rate":56,"display_name":"julien carax"},"score":0,"creation_date":1701281967,"post_id":77571551,"comment_id":136757539,"body_markdown":"I am sorry for not adding the version, thank you for not dowvoting my question. I think with the version I am using, I could also do it with cell.setColspan()","body":"I am sorry for not adding the version, thank you for not dowvoting my question. I think with the version I am using, I could also do it with cell.setColspan()"}],"tags":[],"owner":{"account_id":13873126,"reputation":66,"user_id":10015628,"display_name":"Guust"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701264445,"creation_date":1701264445,"answer_id":77571551,"question_id":77571418,"body_markdown":"You don&#39;t specify which version you use, nor an example but with itext8 you can use row and col span overload in `Cell`.\r\n\r\n\r\nSomething like this should do the trick:\r\n\r\n        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));\r\n        Document doc = new Document(pdfDoc);\r\n\r\n        Table table = new Table(UnitValue.createPercentArray(2)).useAllAvailableWidth();\r\n        Cell row = new Cell(1, 2).add(new Paragraph(&quot; Row 1 full &quot;));\r\n        table.addCell(row);\r\n\r\n        Cell row2Col1 = new Cell().add(new Paragraph(&quot; row 2 col 1 &quot;));\r\n        table.addCell(row2Col1);\r\n        Cell row2Col2 = new Cell().add(new Paragraph(&quot;row 2 col 2&quot;));\r\n        table.addCell(row2Col2);`\r\n        pdfDoc.close();\r\n\r\nMore advanced examples can be found here [itext examples](https://kb.itextpdf.com/home/it7kb/examples/colspan-and-rowspan)","title":"Create a iTextPdf PdfPtable in Java with one row without a border","body":"<p>You don't specify which version you use, nor an example but with itext8 you can use row and col span overload in <code>Cell</code>.</p>\n<p>Something like this should do the trick:</p>\n<pre><code>    PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));\n    Document doc = new Document(pdfDoc);\n\n    Table table = new Table(UnitValue.createPercentArray(2)).useAllAvailableWidth();\n    Cell row = new Cell(1, 2).add(new Paragraph(&quot; Row 1 full &quot;));\n    table.addCell(row);\n\n    Cell row2Col1 = new Cell().add(new Paragraph(&quot; row 2 col 1 &quot;));\n    table.addCell(row2Col1);\n    Cell row2Col2 = new Cell().add(new Paragraph(&quot;row 2 col 2&quot;));\n    table.addCell(row2Col2);`\n    pdfDoc.close();\n</code></pre>\n<p>More advanced examples can be found here <a href=\"https://kb.itextpdf.com/home/it7kb/examples/colspan-and-rowspan\" rel=\"nofollow noreferrer\">itext examples</a></p>\n"}],"owner":{"account_id":5368033,"reputation":325,"user_id":4277316,"accept_rate":56,"display_name":"julien carax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571551,"answer_count":1,"score":0,"last_activity_date":1701281726,"creation_date":1701263237,"question_id":77571418,"body_markdown":"I am trying to generate a table in my pdf document that should have two rows. The first row should not be split in columns but the second row should be split in two columns. Something that looks like below:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SaQ8z.png\r\n\r\nSo far I have been able to create a table inside a PdfPCell but that is not how I want my table to look. Is there a way I can do this?\r\n\r\nEdited: I am using itextpdf-5.5.13.3 with pdfbox-3.0.0 and commons-lang3-3.14.0. ","title":"Create a iTextPdf PdfPtable in Java with one row without a border","body":"<p>I am trying to generate a table in my pdf document that should have two rows. The first row should not be split in columns but the second row should be split in two columns. Something that looks like below:</p>\n<p><a href=\"https://i.stack.imgur.com/SaQ8z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SaQ8z.png\" alt=\"enter image description here\" /></a></p>\n<p>So far I have been able to create a table inside a PdfPCell but that is not how I want my table to look. Is there a way I can do this?</p>\n<p>Edited: I am using itextpdf-5.5.13.3 with pdfbox-3.0.0 and commons-lang3-3.14.0.</p>\n"},{"tags":["java","eclipse","junit","noclassdeffounderror","hamcrest"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1359218836,"post_id":14539072,"comment_id":20277699,"body_markdown":"According to your description, `junit.jar` is not related to the problem","body":"According to your description, <code>junit.jar</code> is not related to the problem"},{"owner":{"account_id":1658378,"reputation":2210,"user_id":1527244,"accept_rate":82,"display_name":"Danyel"},"score":1,"creation_date":1359219047,"post_id":14539072,"comment_id":20277760,"body_markdown":"In the `harcrest` jar, is the hierarchy the same? as in `org &gt; hamcrest &gt; SelfDescribing`, or is it in the root folder of the jar?","body":"In the <code>harcrest</code> jar, is the hierarchy the same? as in <code>org &gt; hamcrest &gt; SelfDescribing</code>, or is it in the root folder of the jar?"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1359219620,"post_id":14539072,"comment_id":20277935,"body_markdown":"http://stackoverflow.com/questions/1171264/ant-junit-noclassdeffounderror","body":"<a href=\"http://stackoverflow.com/questions/1171264/ant-junit-noclassdeffounderror\" title=\"ant junit noclassdeffounderror\">stackoverflow.com/questions/1171264/&hellip;</a>"},{"owner":{"account_id":1579407,"reputation":533,"user_id":1465085,"display_name":"jdurango"},"score":1,"creation_date":1359220407,"post_id":14539072,"comment_id":20313952,"body_markdown":"this error might not be for junit jar, maybe something in your project need other jar, here there are some [org.hamcrest.SelfDescribing - known versions](http://www.jarfinder.com/index.php/java/info/org.hamcrest.SelfDescribing)","body":"this error might not be for junit jar, maybe something in your project need other jar, here there are some <a href=\"http://www.jarfinder.com/index.php/java/info/org.hamcrest.SelfDescribing\" rel=\"nofollow noreferrer\">org.hamcrest.SelfDescribing - known versions</a>"},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":1,"creation_date":1359300186,"post_id":14539072,"comment_id":20313953,"body_markdown":"Thanks but i don&#39;t have anything else in the project, i&#39;ve created this new project.","body":"Thanks but i don&#39;t have anything else in the project, i&#39;ve created this new project."},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":0,"creation_date":1359300518,"post_id":14539072,"comment_id":20294981,"body_markdown":"yes it&#39;s in the same path junit-4.8\\org\\hamcrest","body":"yes it&#39;s in the same path junit-4.8\\org\\hamcrest"},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":0,"creation_date":1359302565,"post_id":14539072,"comment_id":20295446,"body_markdown":"its strange tests are working in IntelliJ and In eclipse with TestNG, junit is messing with me:)","body":"its strange tests are working in IntelliJ and In eclipse with TestNG, junit is messing with me:)"},{"owner":{"account_id":1685084,"reputation":1536,"user_id":1548557,"display_name":"MrMesees"},"score":0,"creation_date":1506638720,"post_id":14539072,"comment_id":79913639,"body_markdown":"had this exact same thing in netbeans, first ensure tests are in test packages (likely IDE weirdness). Then ensure both hamcrest and junit are in test libraries.","body":"had this exact same thing in netbeans, first ensure tests are in test packages (likely IDE weirdness). Then ensure both hamcrest and junit are in test libraries."}],"answers":[{"comments":[{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":0,"creation_date":1359300674,"post_id":14539254,"comment_id":20295025,"body_markdown":"its not an issue of classpath as i&#39;ve already added junit library file in the build path, even in the junit library there is a reference to hamcrest i.e. C:/devTools/eclipse-SDK-4.2.1-win32-x86_64/eclipse/plugins/org.hamcrest.core.source_1.1.0.v20090501071000.jar","body":"its not an issue of classpath as i&#39;ve already added junit library file in the build path, even in the junit library there is a reference to hamcrest i.e. C:/devTools/eclipse-SDK-4.2.1-win32-x86_64/eclipse/plugins/o&zwnj;&#8203;rg.hamcrest.core.sou&zwnj;&#8203;rce_1.1.0.v200905010&zwnj;&#8203;71000.jar"},{"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"score":0,"creation_date":1359302619,"post_id":14539254,"comment_id":20295462,"body_markdown":"thanks for your response, testNG is working fine, looks like i&#39;ll have to quit on junit","body":"thanks for your response, testNG is working fine, looks like i&#39;ll have to quit on junit"},{"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"score":0,"creation_date":1359310374,"post_id":14539254,"comment_id":20297716,"body_markdown":"I was just thinking that JUnit actually starts a new JVM up when you run something as a unit test. That means it uses a different classpath than your project sometimes. Sometimes to debug these type of things I print the java classpath out from my code, so I can compare the differences when it executes. http://www.java-tips.org/java-se-tips/java.lang/how-to-print-classpath.html","body":"I was just thinking that JUnit actually starts a new JVM up when you run something as a unit test. That means it uses a different classpath than your project sometimes. Sometimes to debug these type of things I print the java classpath out from my code, so I can compare the differences when it executes. <a href=\"http://www.java-tips.org/java-se-tips/java.lang/how-to-print-classpath.html\" rel=\"nofollow noreferrer\">java-tips.org/java-se-tips/java.lang/&hellip;</a>"}],"tags":[],"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359219590,"creation_date":1359219590,"answer_id":14539254,"question_id":14539072,"body_markdown":"It sounds like a classpath issue, so there are a few different ways to go about it. Where does org/hamcret/SelfDescribing come from? Is that your class or in a different jar? \r\n\r\nTry going to your project Build Path and on the Libraries tab, add a Library. You should be able to choose JUnit to your project. This is a little bit different than just having the JUnit jar file In your project. \r\n\r\nIn your Run Configuration for the JUnit test, check the Classpath. You could probably fix this by adding making sure your Classpath can see that SelfDescribing class there. The Run option in Eclipse has a different set of options for the JUnit options. ","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>It sounds like a classpath issue, so there are a few different ways to go about it. Where does org/hamcret/SelfDescribing come from? Is that your class or in a different jar? </p>\n\n<p>Try going to your project Build Path and on the Libraries tab, add a Library. You should be able to choose JUnit to your project. This is a little bit different than just having the JUnit jar file In your project. </p>\n\n<p>In your Run Configuration for the JUnit test, check the Classpath. You could probably fix this by adding making sure your Classpath can see that SelfDescribing class there. The Run option in Eclipse has a different set of options for the JUnit options. </p>\n"},{"comments":[{"owner":{"account_id":1109288,"reputation":1653,"user_id":1100060,"accept_rate":0,"display_name":"Nathan B"},"score":1,"creation_date":1606382333,"post_id":14549961,"comment_id":114948976,"body_markdown":"where is it this jar?","body":"where is it this jar?"}],"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359307141,"creation_date":1359307141,"answer_id":14549961,"question_id":14539072,"body_markdown":"You need junit-dep.jar because the junit.jar has a copy of old Hamcrest classes.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>You need junit-dep.jar because the junit.jar has a copy of old Hamcrest classes.</p>\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359308541,"creation_date":1359308541,"answer_id":14550176,"question_id":14539072,"body_markdown":"As a general rule, always make sure hamcrest is before any other testing libraries on the classpath, as many such libraries include hamcrest classes and may therefore conflict with the hamcrest version you&#39;re using. This will resolve most problems of the type you&#39;re describing.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>As a general rule, always make sure hamcrest is before any other testing libraries on the classpath, as many such libraries include hamcrest classes and may therefore conflict with the hamcrest version you're using. This will resolve most problems of the type you're describing.</p>\n"},{"comments":[{"owner":{"account_id":2644283,"reputation":1297,"user_id":2287330,"accept_rate":75,"display_name":"Tony"},"score":1,"creation_date":1405779562,"post_id":17259880,"comment_id":38570293,"body_markdown":"This fixed it for me. For someone who is not used to using java/Eclipse this was extremely helpful. I also wanted to mention that the labs provided by my Instructor for the class had a version of Junit(3 maybe) that was not working with my Lab/version of Eclipse. I had to remove it and add 4 and all is good now. Thanks a lot.","body":"This fixed it for me. For someone who is not used to using java/Eclipse this was extremely helpful. I also wanted to mention that the labs provided by my Instructor for the class had a version of Junit(3 maybe) that was not working with my Lab/version of Eclipse. I had to remove it and add 4 and all is good now. Thanks a lot."},{"owner":{"account_id":8282330,"reputation":310,"user_id":6226589,"display_name":"Partha"},"score":0,"creation_date":1551301904,"post_id":17259880,"comment_id":96595374,"body_markdown":"This doesn&#39;t work when you are running the build using the command prompt. This is an &quot;IDE&quot; only solution.","body":"This doesn&#39;t work when you are running the build using the command prompt. This is an &quot;IDE&quot; only solution."}],"tags":[],"owner":{"account_id":1800202,"reputation":8954,"user_id":1638739,"accept_rate":63,"display_name":"Muhammed Refaat"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1446513622,"creation_date":1371983799,"answer_id":17259880,"question_id":14539072,"body_markdown":"A few steps you have to follow:\r\n\r\n 1. Right click on the project.\r\n 2. Choose Build Path Then from its menu choose Add Libraries.\r\n 3. Choose JUnit then click Next.\r\n 4. Choose JUnit4 then Finish.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>A few steps you have to follow:</p>\n\n<ol>\n<li>Right click on the project.</li>\n<li>Choose Build Path Then from its menu choose Add Libraries.</li>\n<li>Choose JUnit then click Next.</li>\n<li>Choose JUnit4 then Finish.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1861522,"reputation":451,"user_id":1686040,"accept_rate":60,"display_name":"Robert F"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379059081,"creation_date":1378995560,"answer_id":18766804,"question_id":14539072,"body_markdown":"If this problem arise in a RCP project it can be because JUnit has been explicitly imported. \r\n\r\nCheck the editor for your `plugin.xml` under `Dependencies` tab, remove the `org.junit` from the Imported Packages and add `org.junit` to the Required Plug-ins.\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>If this problem arise in a RCP project it can be because JUnit has been explicitly imported. </p>\n\n<p>Check the editor for your <code>plugin.xml</code> under <code>Dependencies</code> tab, remove the <code>org.junit</code> from the Imported Packages and add <code>org.junit</code> to the Required Plug-ins.</p>\n"},{"tags":[],"owner":{"account_id":3317386,"reputation":1,"user_id":2789407,"display_name":"Mohamed Iyeb Abed Rabou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409886944,"creation_date":1379455314,"answer_id":18860649,"question_id":14539072,"body_markdown":"I had the same problem, the solution is to add in build path/plugin the jar org.hamcrest.core_1xx, you can find it in eclipse/plugins.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>I had the same problem, the solution is to add in build path/plugin the jar org.hamcrest.core_1xx, you can find it in eclipse/plugins.</p>\n"},{"comments":[{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":2,"creation_date":1428157271,"post_id":19064870,"comment_id":47061498,"body_markdown":"How can I add it to classpath or check whether it&#39;s added or not?","body":"How can I add it to classpath or check whether it&#39;s added or not?"},{"owner":{"account_id":5104380,"reputation":892,"user_id":4092944,"accept_rate":100,"display_name":"MarkII"},"score":0,"creation_date":1447539038,"post_id":19064870,"comment_id":55198864,"body_markdown":"Agreed, how to do that would have been helpful.  Luckily comment below had it.","body":"Agreed, how to do that would have been helpful.  Luckily comment below had it."},{"owner":{"account_id":2983940,"reputation":12531,"user_id":2533290,"accept_rate":53,"display_name":"Martin Pfeffer"},"score":0,"creation_date":1491134770,"post_id":19064870,"comment_id":73410167,"body_markdown":"@Tom&#225;šZato first: check the file. it&#39;s hamcrest-all (it&#39;s important to get the **all**). In Idea-IDEs a dependency is added 1. copy/paste the file to the libs folder (or anywhere else) 2. click right the file &quot;add as library&quot; 3. check your import statements in your .java-files.","body":"@Tom&#225;šZato first: check the file. it&#39;s hamcrest-all (it&#39;s important to get the <b>all</b>). In Idea-IDEs a dependency is added 1. copy/paste the file to the libs folder (or anywhere else) 2. click right the file &quot;add as library&quot; 3. check your import statements in your .java-files."},{"owner":{"account_id":1762499,"reputation":5333,"user_id":1609201,"accept_rate":64,"display_name":"Elist"},"score":0,"creation_date":1511701107,"post_id":19064870,"comment_id":81947924,"body_markdown":"`hamcrest-all-X.X.jar` is enough while much smaller.","body":"<code>hamcrest-all-X.X.jar</code> is enough while much smaller."},{"owner":{"account_id":14423849,"reputation":598,"user_id":10419204,"display_name":"Simon Z."},"score":1,"creation_date":1557987789,"post_id":19064870,"comment_id":98951669,"body_markdown":"File --- Project Structure --- Libraries --- &#39;+&#39; --- Java --- ....jar (you&#39;ve downloaded) --- OK, it&#39;ll show in the &#39;external library&#39;.","body":"File --- Project Structure --- Libraries --- &#39;+&#39; --- Java --- ....jar (you&#39;ve downloaded) --- OK, it&#39;ll show in the &#39;external library&#39;."}],"tags":[],"owner":{"account_id":2484796,"reputation":2643,"user_id":2163429,"accept_rate":32,"display_name":"Jiacai Liu"},"comment_count":5,"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1424307346,"creation_date":1380356076,"answer_id":19064870,"question_id":14539072,"body_markdown":"Add `hamcrest-all-X.X.jar` to your **classpath**.\r\n\r\nLatest version as of Feb 2015 is 1.3: \r\nhttp://code.google.com/p/hamcrest/downloads/detail?name=hamcrest-all-1.3.jar&amp;can=2&amp;q=\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Add <code>hamcrest-all-X.X.jar</code> to your <strong>classpath</strong>.</p>\n\n<p>Latest version as of Feb 2015 is 1.3: \n<a href=\"http://code.google.com/p/hamcrest/downloads/detail?name=hamcrest-all-1.3.jar&amp;can=2&amp;q=\" rel=\"noreferrer\">http://code.google.com/p/hamcrest/downloads/detail?name=hamcrest-all-1.3.jar&amp;can=2&amp;q=</a></p>\n"},{"comments":[{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":0,"creation_date":1554724132,"post_id":20705032,"comment_id":97844137,"body_markdown":"I am facing this in Junit 5 though it is supposed to work without it","body":"I am facing this in Junit 5 though it is supposed to work without it"}],"tags":[],"owner":{"account_id":893696,"reputation":1345,"user_id":931472,"display_name":"jkwuc89"},"comment_count":1,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1494947916,"creation_date":1387547226,"answer_id":20705032,"question_id":14539072,"body_markdown":"According to the JUnit GitHub team website (https://github.com/junit-team/junit/wiki/Download-and-Install), `junit.jar` and `hamcrest-core.jar` are both needed in the classpath when using JUnit 4.11.\r\n\r\nHere is the Maven dependency block for including junit and hamcrest.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Needed by junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>According to the JUnit GitHub team website (<a href=\"https://github.com/junit-team/junit/wiki/Download-and-Install\" rel=\"noreferrer\">https://github.com/junit-team/junit/wiki/Download-and-Install</a>), <code>junit.jar</code> and <code>hamcrest-core.jar</code> are both needed in the classpath when using JUnit 4.11.</p>\n\n<p>Here is the Maven dependency block for including junit and hamcrest.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- Needed by junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5104380,"reputation":892,"user_id":4092944,"accept_rate":100,"display_name":"MarkII"},"score":0,"creation_date":1447538996,"post_id":22975179,"comment_id":55198852,"body_markdown":"Super awesome!! Helps me with my current project.","body":"Super awesome!! Helps me with my current project."}],"tags":[],"owner":{"account_id":4304533,"reputation":171,"user_id":3517304,"display_name":"GUEST"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1397082575,"creation_date":1397082575,"answer_id":22975179,"question_id":14539072,"body_markdown":"Works for me: IntelliJ IDEA 13.1.1, JUnit4, Java 6\r\n\r\nI changed the file in project path: [PROJECT_NAME].iml\r\n\r\nReplaced:\r\n\r\n      &lt;library&gt;\r\n        &lt;CLASSES&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/&quot; /&gt;\r\n        &lt;/CLASSES&gt;\r\n        &lt;JAVADOC /&gt;\r\n        &lt;SOURCES /&gt;\r\n      &lt;/library&gt;\r\n\r\nBy:\r\n\r\n      &lt;library name=&quot;JUnit4&quot;&gt;\r\n        &lt;CLASSES&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/&quot; /&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/&quot; /&gt;\r\n          &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/&quot; /&gt;\r\n        &lt;/CLASSES&gt;\r\n        &lt;JAVADOC /&gt;\r\n        &lt;SOURCES /&gt;\r\n      &lt;/library&gt;\r\n\r\nSo the final .iml file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;\r\n        &lt;exclude-output /&gt;\r\n        &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n          &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src&quot; isTestSource=&quot;false&quot; /&gt;\r\n          &lt;sourceFolder url=&quot;file://$MODULE_DIR$/tests&quot; isTestSource=&quot;true&quot; /&gt;\r\n        &lt;/content&gt;\r\n        &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\r\n        &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\r\n        &lt;orderEntry type=&quot;module-library&quot;&gt;\r\n          &lt;library name=&quot;JUnit4&quot;&gt;\r\n            &lt;CLASSES&gt;\r\n              &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/&quot; /&gt;\r\n              &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/&quot; /&gt;\r\n              &lt;root url=&quot;jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/&quot; /&gt;\r\n            &lt;/CLASSES&gt;\r\n            &lt;JAVADOC /&gt;\r\n            &lt;SOURCES /&gt;\r\n          &lt;/library&gt;\r\n        &lt;/orderEntry&gt;\r\n      &lt;/component&gt;\r\n    &lt;/module&gt;\r\n\r\nP.S.: save the file and don&#39;t let to IntelliJ Idea reload it. Just once.\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Works for me: IntelliJ IDEA 13.1.1, JUnit4, Java 6</p>\n\n<p>I changed the file in project path: [PROJECT_NAME].iml</p>\n\n<p>Replaced:</p>\n\n<pre><code>  &lt;library&gt;\n    &lt;CLASSES&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/\" /&gt;\n    &lt;/CLASSES&gt;\n    &lt;JAVADOC /&gt;\n    &lt;SOURCES /&gt;\n  &lt;/library&gt;\n</code></pre>\n\n<p>By:</p>\n\n<pre><code>  &lt;library name=\"JUnit4\"&gt;\n    &lt;CLASSES&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/\" /&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/\" /&gt;\n      &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/\" /&gt;\n    &lt;/CLASSES&gt;\n    &lt;JAVADOC /&gt;\n    &lt;SOURCES /&gt;\n  &lt;/library&gt;\n</code></pre>\n\n<p>So the final .iml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module type=\"JAVA_MODULE\" version=\"4\"&gt;\n  &lt;component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\"&gt;\n    &lt;exclude-output /&gt;\n    &lt;content url=\"file://$MODULE_DIR$\"&gt;\n      &lt;sourceFolder url=\"file://$MODULE_DIR$/src\" isTestSource=\"false\" /&gt;\n      &lt;sourceFolder url=\"file://$MODULE_DIR$/tests\" isTestSource=\"true\" /&gt;\n    &lt;/content&gt;\n    &lt;orderEntry type=\"inheritedJdk\" /&gt;\n    &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n    &lt;orderEntry type=\"module-library\"&gt;\n      &lt;library name=\"JUnit4\"&gt;\n        &lt;CLASSES&gt;\n          &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/junit-4.11.jar!/\" /&gt;\n          &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-core-1.3.jar!/\" /&gt;\n          &lt;root url=\"jar://$APPLICATION_HOME_DIR$/lib/hamcrest-library-1.3.jar!/\" /&gt;\n        &lt;/CLASSES&gt;\n        &lt;JAVADOC /&gt;\n        &lt;SOURCES /&gt;\n      &lt;/library&gt;\n    &lt;/orderEntry&gt;\n  &lt;/component&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>P.S.: save the file and don't let to IntelliJ Idea reload it. Just once.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457601544,"creation_date":1457601544,"answer_id":35912171,"question_id":14539072,"body_markdown":"The problem is when you set up eclipse to point to **JRE** instead of **JDK**. JRE has `junit4.jar` in the `lib/ext` folder, but not `hamcrest.jar` :) So the solution is to check installed JREs in Eclipse, remove the existing one and create a new one pointing to your **JDK**.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>The problem is when you set up eclipse to point to <strong>JRE</strong> instead of <strong>JDK</strong>. JRE has <code>junit4.jar</code> in the <code>lib/ext</code> folder, but not <code>hamcrest.jar</code> :) So the solution is to check installed JREs in Eclipse, remove the existing one and create a new one pointing to your <strong>JDK</strong>.</p>\n"},{"comments":[{"owner":{"account_id":5066829,"reputation":2585,"user_id":4066742,"accept_rate":0,"display_name":"S. Mayol"},"score":0,"creation_date":1491522072,"post_id":40303798,"comment_id":73603534,"body_markdown":"Thank you, this works for me. I had already the JUnit library but I was missing the Hamcrest.","body":"Thank you, this works for me. I had already the JUnit library but I was missing the Hamcrest."}],"tags":[],"owner":{"account_id":8014543,"reputation":61,"user_id":6045281,"display_name":"Michael Ogala"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477652915,"creation_date":1477652915,"answer_id":40303798,"question_id":14539072,"body_markdown":"Just in case there&#39;s anyone here using netbeans and has the same problem, all you have to do is \r\n\r\n - Right click on TestLibraries\r\n - Click on Add Library\r\n - Select JUnit and click add library\r\n - Repeat the process but this time click on Hamcrest and the click add library\r\n\r\nThis should solve the problem","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Just in case there's anyone here using netbeans and has the same problem, all you have to do is </p>\n\n<ul>\n<li>Right click on TestLibraries</li>\n<li>Click on Add Library</li>\n<li>Select JUnit and click add library</li>\n<li>Repeat the process but this time click on Hamcrest and the click add library</li>\n</ul>\n\n<p>This should solve the problem</p>\n"},{"tags":[],"owner":{"account_id":10128337,"reputation":41,"user_id":7482764,"display_name":"estudiante"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485942231,"creation_date":1485942231,"answer_id":41976465,"question_id":14539072,"body_markdown":"the simplest way of solving the problem to begin with is copying latest version of    hamcrest-code.jar     into your CLASSPATH that is the file you store other .jar files needed for compilation and running of your application.\r\n\r\nthat could be e.g.: C:/ant/lib","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>the simplest way of solving the problem to begin with is copying latest version of    hamcrest-code.jar     into your CLASSPATH that is the file you store other .jar files needed for compilation and running of your application.</p>\n\n<p>that could be e.g.: C:/ant/lib</p>\n"},{"tags":[],"owner":{"account_id":7601890,"reputation":1574,"user_id":5766170,"accept_rate":43,"display_name":"Maximillian"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496888338,"creation_date":1496888338,"answer_id":44425609,"question_id":14539072,"body_markdown":"This problem is because of your classpath miss hamcrest-core-1.3.jar. To resolve this add hamcrest-core-1.3.jar as you add junit-4.XX.jar into your classpath.\r\n\r\nAt first, I encounter this problem too, but after I refer to the [official site][1] and add hamcrest-core-1.3.jar into classpath with command line, it works properly finally.\r\n\r\n    javac -d ../../../../bin/ -cp ~/libs/junit-4.12.jar:/home/limxtop/projects/algorithms/bin  MaxHeapTest.java \r\n    \r\n    java -cp ../../../../bin/:/home/limxtop/libs/junit-4.12.jar:/home/limxtop/libs/hamcrest-core-1.3.jar org.junit.runner.JUnitCore com.limxtop.heap.MaxHeapTest\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Getting-started","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>This problem is because of your classpath miss hamcrest-core-1.3.jar. To resolve this add hamcrest-core-1.3.jar as you add junit-4.XX.jar into your classpath.</p>\n\n<p>At first, I encounter this problem too, but after I refer to the <a href=\"https://github.com/junit-team/junit4/wiki/Getting-started\" rel=\"nofollow noreferrer\">official site</a> and add hamcrest-core-1.3.jar into classpath with command line, it works properly finally.</p>\n\n<pre><code>javac -d ../../../../bin/ -cp ~/libs/junit-4.12.jar:/home/limxtop/projects/algorithms/bin  MaxHeapTest.java \n\njava -cp ../../../../bin/:/home/limxtop/libs/junit-4.12.jar:/home/limxtop/libs/hamcrest-core-1.3.jar org.junit.runner.JUnitCore com.limxtop.heap.MaxHeapTest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3438826,"reputation":147,"user_id":2881228,"display_name":"Devendra Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519300228,"creation_date":1519260256,"answer_id":48917874,"question_id":14539072,"body_markdown":"This happens when you run Ant via command line. The implicit user dependencies are added in the classpath at the end and take precedence over the project-added classpath. Run Ant with **`-nouserlib`** flag. The implicit dependencies would be excluded from the classpath.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>This happens when you run Ant via command line. The implicit user dependencies are added in the classpath at the end and take precedence over the project-added classpath. Run Ant with <strong><code>-nouserlib</code></strong> flag. The implicit dependencies would be excluded from the classpath.</p>\n"},{"tags":[],"owner":{"account_id":13610751,"reputation":89,"user_id":9818347,"display_name":"ayush agrahari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532796257,"creation_date":1532796257,"answer_id":51573327,"question_id":14539072,"body_markdown":"You need to add the hamcrest-core JAR to the classpath as described here: https://github.com/junit-team/junit4/wiki/Download-and-Install","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>You need to add the hamcrest-core JAR to the classpath as described here: <a href=\"https://github.com/junit-team/junit4/wiki/Download-and-Install\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit4/wiki/Download-and-Install</a></p>\n"},{"tags":[],"owner":{"account_id":15979896,"reputation":23,"user_id":11531802,"display_name":"Alex Xiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558418759,"creation_date":1558418759,"answer_id":56232014,"question_id":14539072,"body_markdown":"There is a better answer to solve this problem.\r\nadd dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>There is a better answer to solve this problem.\nadd dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16984883,"reputation":1,"user_id":12285901,"display_name":"Karthikraja Loganathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572268233,"creation_date":1572267598,"answer_id":58591411,"question_id":14539072,"body_markdown":"A few steps you have to follow:\r\n\r\n - Right click on the project.\r\n - Choose Build Path &amp; then from its menu choose Add Libraries.\r\n - Choose JUnit then click Next.\r\n - Choose JUnit4 then Finish.\r\n\r\nThis works for me...","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>A few steps you have to follow:</p>\n\n<ul>\n<li>Right click on the project.</li>\n<li>Choose Build Path &amp; then from its menu choose Add Libraries.</li>\n<li>Choose JUnit then click Next.</li>\n<li>Choose JUnit4 then Finish.</li>\n</ul>\n\n<p>This works for me...</p>\n"},{"tags":[],"owner":{"account_id":4920312,"reputation":48,"user_id":3963042,"display_name":"Niranjan Ghule"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603058039,"creation_date":1603053364,"answer_id":64418082,"question_id":14539072,"body_markdown":"**The hamcrest-core-1.3.jar available on maven repository is deprecated.**\r\n\r\nDownload working `hamcrest-core-1.3.jar` from official [Junit4 github link][1] .\r\nIf you want to download from maven repository, use latest `hamcrest-XX.jar`.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Getting-started","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p><strong>The hamcrest-core-1.3.jar available on maven repository is deprecated.</strong></p>\n<p>Download working <code>hamcrest-core-1.3.jar</code> from official <a href=\"https://github.com/junit-team/junit4/wiki/Getting-started\" rel=\"nofollow noreferrer\">Junit4 github link</a> .\nIf you want to download from maven repository, use latest <code>hamcrest-XX.jar</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20532230,"reputation":1,"user_id":15069173,"display_name":"Alessandro Alves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613674031,"creation_date":1613674031,"answer_id":66266257,"question_id":14539072,"body_markdown":"&quot;java.lang.SecurityException: class&quot; org.hamcrest.Matchers &quot;&#39;s signer information does not match signer information of other classes in the same package&quot;\r\n\r\nDo it:\r\nRight-click on your package\r\nclick on Build Path -&gt; Configure Build Path\r\nClick on the Libraries tab\r\nRemove JUnit\r\nApply and close\r\nReady.","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>&quot;java.lang.SecurityException: class&quot; org.hamcrest.Matchers &quot;'s signer information does not match signer information of other classes in the same package&quot;</p>\n<p>Do it:\nRight-click on your package\nclick on Build Path -&gt; Configure Build Path\nClick on the Libraries tab\nRemove JUnit\nApply and close\nReady.</p>\n"},{"tags":[],"owner":{"account_id":20511069,"reputation":1,"user_id":15052826,"display_name":"Aashish Solanky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614752696,"creation_date":1614752696,"answer_id":66451818,"question_id":14539072,"body_markdown":"Try adding the jar files manually or try with force update with the latest hamcrest.jar","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>Try adding the jar files manually or try with force update with the latest hamcrest.jar</p>\n"},{"tags":[],"owner":{"account_id":30025071,"reputation":1,"user_id":23009515,"display_name":"Pratyush Mohapatra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701281500,"creation_date":1701281500,"answer_id":77573586,"question_id":14539072,"body_markdown":"After spending 2hr, I found following jar files are compatible with RestAssure API calls.\r\n\r\ncommons-lang3-3.11.jar\r\ncommons-logging-1.2.jar\r\ngroovy-4.0.11.jar\r\ngroovy-json-4.0.11.jar\r\ngroovy-xml-4.0.11.jar\r\nhamcrest-all-1.3.jar\r\nhttpclient-4.5.13.jar\r\nhttpcore-4.4.4.jar\r\nhttpcore-nio-4.4.12.jar\r\nhttpmime-4.3.6.jar\r\nrest-assured-5.3.2.jar\r\nrest-assured-all-5.3.2.jar\r\ntagsoup-1.2.1.jar\r\ntestng-7.8.0.jar\r\nunirest-java-1.4.9.jar","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>After spending 2hr, I found following jar files are compatible with RestAssure API calls.</p>\n<p>commons-lang3-3.11.jar\ncommons-logging-1.2.jar\ngroovy-4.0.11.jar\ngroovy-json-4.0.11.jar\ngroovy-xml-4.0.11.jar\nhamcrest-all-1.3.jar\nhttpclient-4.5.13.jar\nhttpcore-4.4.4.jar\nhttpcore-nio-4.4.12.jar\nhttpmime-4.3.6.jar\nrest-assured-5.3.2.jar\nrest-assured-all-5.3.2.jar\ntagsoup-1.2.1.jar\ntestng-7.8.0.jar\nunirest-java-1.4.9.jar</p>\n"}],"owner":{"account_id":2291176,"reputation":1301,"user_id":2013948,"display_name":"user2013948"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176871,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"answer_count":21,"score":130,"last_activity_date":1701281500,"creation_date":1359218476,"question_id":14539072,"body_markdown":"While running `junit` test in `eclipse` I am getting this `Exception`:\r\n\r\n    java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing\r\n\r\nI&#39;ve added `junit.jar` library file.\r\n\r\nI&#39;ve tried different versions of junit.jar: `4.4`, `4.8`, etc.\r\n\r\nHow do I fix this Exception?","title":"java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing","body":"<p>While running <code>junit</code> test in <code>eclipse</code> I am getting this <code>Exception</code>:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing\n</code></pre>\n\n<p>I've added <code>junit.jar</code> library file.</p>\n\n<p>I've tried different versions of junit.jar: <code>4.4</code>, <code>4.8</code>, etc.</p>\n\n<p>How do I fix this Exception?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","cucumber"],"comments":[{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":0,"creation_date":1423590433,"post_id":28429688,"comment_id":45206447,"body_markdown":"cucumber doesn&#39;t have anything to do with button click. Do you have any `Background` step? Is there any &#39;similar&#39; step in any other step definition?  What happens in the step before?","body":"cucumber doesn&#39;t have anything to do with button click. Do you have any <code>Background</code> step? Is there any &#39;similar&#39; step in any other step definition?  What happens in the step before?"},{"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"score":0,"creation_date":1423651824,"post_id":28429688,"comment_id":45232078,"body_markdown":"I don&#39;t know what `Background step` is. How do a similar step look like? Nothing special happens in the previous step. no click btw","body":"I don&#39;t know what <code>Background step</code> is. How do a similar step look like? Nothing special happens in the previous step. no click btw"},{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":0,"creation_date":1423666465,"post_id":28429688,"comment_id":45241147,"body_markdown":"Is your code available to check? I&#39;m 100% sure this has nothing to do with cucumber","body":"Is your code available to check? I&#39;m 100% sure this has nothing to do with cucumber"}],"answers":[{"tags":[],"owner":{"account_id":26339930,"reputation":86,"user_id":19999151,"display_name":"Mitsudani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701281159,"creation_date":1701281159,"answer_id":77573553,"question_id":28429688,"body_markdown":"This is quite late answer but I ran into a similar issue yesterday and maybe it can be useful for someone.\r\n\r\nDid you have a `.sendkeys()` method somewhere in your code, which takes input data from string list or an external source? Because if there&#39;s a `&quot;\\n&quot; newline` or other escape sequence at the end of the input string, it will trigger an &quot;enter&quot; key press, this can be triggering the button (not actually a click).\r\n\r\n","title":"I enter a specific step in cucumber - a click on a button is simulated, without me triggering it","body":"<p>This is quite late answer but I ran into a similar issue yesterday and maybe it can be useful for someone.</p>\n<p>Did you have a <code>.sendkeys()</code> method somewhere in your code, which takes input data from string list or an external source? Because if there's a <code>&quot;\\n&quot; newline</code> or other escape sequence at the end of the input string, it will trigger an &quot;enter&quot; key press, this can be triggering the button (not actually a click).</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701281159,"creation_date":1423565132,"question_id":28429688,"body_markdown":"I use selenium to detect 2 buttons in a webpage.\r\n\r\nMy test is using cucumber. \r\n\r\nUnfortunately, when I enter a specific step in cucumber -\r\n\r\na click on a button is simulated, without me triggering it.\r\n\r\n\r\nIs this a known issue?\r\n\r\n**my steps:**\r\n\r\n    Feature: app inbox\r\n      Scenario: app nav inbox\r\n        Given There exists an admin logged in client\r\n        And I navigate to offer &quot;app_navigable&quot; inbox page\r\n        Then text should be as follows:\r\n          | name         | visibility | text                               |\r\n          | inbox_title1 | true       | Here’s the link to the app nav app |\r\n          | inbox_title2 | true       | app nav mail title                 |\r\n\r\n**in the first line of this method the button is clicked:**\r\n\r\n    @And(&quot;^text should be as follows:$&quot;)\r\n    public void text_should_be_as_follows(List&lt;Map&lt;String,\r\n            String&gt;&gt; previewPropList) throws Throwable {\r\n        Map&lt;String, String&gt; previewProps;\r\n        for (int i = 0; i &lt; previewPropList.size(); i++) {\r\n\r\n\r\nany more data I can add to figure it out?","title":"I enter a specific step in cucumber - a click on a button is simulated, without me triggering it","body":"<p>I use selenium to detect 2 buttons in a webpage.</p>\n\n<p>My test is using cucumber. </p>\n\n<p>Unfortunately, when I enter a specific step in cucumber -</p>\n\n<p>a click on a button is simulated, without me triggering it.</p>\n\n<p>Is this a known issue?</p>\n\n<p><strong>my steps:</strong></p>\n\n<pre><code>Feature: app inbox\n  Scenario: app nav inbox\n    Given There exists an admin logged in client\n    And I navigate to offer \"app_navigable\" inbox page\n    Then text should be as follows:\n      | name         | visibility | text                               |\n      | inbox_title1 | true       | Here’s the link to the app nav app |\n      | inbox_title2 | true       | app nav mail title                 |\n</code></pre>\n\n<p><strong>in the first line of this method the button is clicked:</strong></p>\n\n<pre><code>@And(\"^text should be as follows:$\")\npublic void text_should_be_as_follows(List&lt;Map&lt;String,\n        String&gt;&gt; previewPropList) throws Throwable {\n    Map&lt;String, String&gt; previewProps;\n    for (int i = 0; i &lt; previewPropList.size(); i++) {\n</code></pre>\n\n<p>any more data I can add to figure it out?</p>\n"},{"tags":["java","excel","apache","jar"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1504780154,"post_id":46093952,"comment_id":79149600,"body_markdown":"change `FileInputStream fis=...` to `InputStream fis=...` look it up [here](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#XSSFWorkbook(java.io.InputStream))","body":"change <code>FileInputStream fis=...</code> to <code>InputStream fis=...</code> look it up <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#XSSFWorkbook(java.io.InputStream)\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504780289,"post_id":46093952,"comment_id":79149693,"body_markdown":"Getting error  Cannot initiate InputStream...","body":"Getting error  Cannot initiate InputStream..."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1504780379,"post_id":46093952,"comment_id":79149767,"body_markdown":"`File src = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\n\t\tInputStream fis = new FileInputStream(src);` works perfectly fine","body":"<code>File src = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;); \t\tInputStream fis = new FileInputStream(src);</code> works perfectly fine"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504780570,"post_id":46093952,"comment_id":79149874,"body_markdown":"Hi the issue is with line 14 as per screenshot.. The problem is with XSSFWorkbook wb = new XSSFWorkbook(fis);","body":"Hi the issue is with line 14 as per screenshot.. The problem is with XSSFWorkbook wb = new XSSFWorkbook(fis);"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504781686,"post_id":46093952,"comment_id":79150585,"body_markdown":"@XtremeBaumer FileInputStream **is** an InputStream, so you should be able to pass it *as* an InputStream.","body":"@XtremeBaumer FileInputStream <b>is</b> an InputStream, so you should be able to pass it <i>as</i> an InputStream."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504781964,"post_id":46093952,"comment_id":79150770,"body_markdown":"Check you&#39;re using the correct version of XSSFWorkbook. Put your cursor on the class name and &#39;Go To Definition&#39;. Check the jar that it comes from.","body":"Check you&#39;re using the correct version of XSSFWorkbook. Put your cursor on the class name and &#39;Go To Definition&#39;. Check the jar that it comes from."},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504782353,"post_id":46093952,"comment_id":79151059,"body_markdown":"Hi it is referring Selenium.webdriver.Testcase.ExcelRead","body":"Hi it is referring Selenium.webdriver.Testcase.ExcelRead"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504782429,"post_id":46093952,"comment_id":79151103,"body_markdown":"Well that&#39;s not the jar that you&#39;ve unpacked with Apache POI, is it?","body":"Well that&#39;s not the jar that you&#39;ve unpacked with Apache POI, is it?"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504782528,"post_id":46093952,"comment_id":79151178,"body_markdown":"Nope. it is not. when you mentioned class name, do you mean        \n        public class ExcelRead {\n \tpublic static void main(String[] args) throws Exception {                                                             \n       Or are you referring to  File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\n\tXSSFWorkbook wb = new XSSFWorkbook(file);\n\tXSSFSheet sheet1 = wb.getSheetAt(0);","body":"Nope. it is not. when you mentioned class name, do you mean                 public class ExcelRead {  \tpublic static void main(String[] args) throws Exception {                                                                     Or are you referring to  File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;); \tXSSFWorkbook wb = new XSSFWorkbook(file); \tXSSFSheet sheet1 = wb.getSheetAt(0);"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504783162,"post_id":46093952,"comment_id":79151578,"body_markdown":"No I meant put your cursor on the class name &quot;XSSFWorkbook&quot; on line 14 just before the variable name &quot;wb&quot;. See if it takes you to the correct version of XSSFWorkbook. If it doesn&#39;t, make sure you have included the poi-ooxml jars in your project (and do a clean &amp; rebuild).","body":"No I meant put your cursor on the class name &quot;XSSFWorkbook&quot; on line 14 just before the variable name &quot;wb&quot;. See if it takes you to the correct version of XSSFWorkbook. If it doesn&#39;t, make sure you have included the poi-ooxml jars in your project (and do a clean &amp; rebuild)."},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504783388,"post_id":46093952,"comment_id":79151746,"body_markdown":"Hi Line 14: XSSFWorkbook is referring to org.apache.poi.xssf.usermodel.XSSFWorkbook. i think it is correct.. isnt it?","body":"Hi Line 14: XSSFWorkbook is referring to org.apache.poi.xssf.usermodel.XSSFWorkbook. i think it is correct.. isnt it?"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504783633,"post_id":46093952,"comment_id":79151920,"body_markdown":"Yes it&#39;s referring to the correct *package*, but is it referring to the correct *version* in the correct *jar file*?","body":"Yes it&#39;s referring to the correct <i>package</i>, but is it referring to the correct <i>version</i> in the correct <i>jar file</i>?"}],"answers":[{"comments":[{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504780873,"post_id":46094225,"comment_id":79150053,"body_markdown":"Hello Raju, I tried above code as well but getting same error","body":"Hello Raju, I tried above code as well but getting same error"}],"tags":[],"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1504780652,"creation_date":1504780652,"answer_id":46094225,"question_id":46093952,"body_markdown":"First of all , If you are having **File** object then why you need **FileInputStream** to be passed\r\n\r\nSecond you cannot pass **FileInputStream** to **XSSFWorkbook**, as the constructor can accept the **File** , **String** , **InputStream** , **OPCPackage** and a blank contructor see [this][1].\r\n\r\nAs you have already a file object , so you can try below code:\r\n\r\n    File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\r\n    XSSFWorkbook wb = new XSSFWorkbook(file);\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>First of all , If you are having <strong>File</strong> object then why you need <strong>FileInputStream</strong> to be passed</p>\n\n<p>Second you cannot pass <strong>FileInputStream</strong> to <strong>XSSFWorkbook</strong>, as the constructor can accept the <strong>File</strong> , <strong>String</strong> , <strong>InputStream</strong> , <strong>OPCPackage</strong> and a blank contructor see <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>As you have already a file object , so you can try below code:</p>\n\n<pre><code>File file = new File(\"T:\\\\SeleniuminputFiles\\\\input.xlsx\");\nXSSFWorkbook wb = new XSSFWorkbook(file);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504781949,"post_id":46094470,"comment_id":79150756,"body_markdown":"Hi Rahul, I tried your code but getting the same issue. It is not allowing any argument to pass  (Check attached screenshot)                                                             \n       Workbook workbook = new XSSFWorkbook(inputStream);\n\n       Sheet firstSheet = workbook.getSheetAt(0);","body":"Hi Rahul, I tried your code but getting the same issue. It is not allowing any argument to pass  (Check attached screenshot)                                                                     Workbook workbook = new XSSFWorkbook(inputStream);         Sheet firstSheet = workbook.getSheetAt(0);"},{"owner":{"account_id":7819361,"reputation":103,"user_id":5912936,"display_name":"Rahul Karankal"},"score":0,"creation_date":1504782079,"post_id":46094470,"comment_id":79150853,"body_markdown":"@SushantTavrawala thanks for trying it but i&#39;m not sure which screenshot you are talking about","body":"@SushantTavrawala thanks for trying it but i&#39;m not sure which screenshot you are talking about"},{"owner":{"account_id":7819361,"reputation":103,"user_id":5912936,"display_name":"Rahul Karankal"},"score":0,"creation_date":1504782214,"post_id":46094470,"comment_id":79150957,"body_markdown":"I am using poi-3.14-beta1 version of POI jars.","body":"I am using poi-3.14-beta1 version of POI jars."},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504782252,"post_id":46094470,"comment_id":79150987,"body_markdown":"hi rahul, refering to the screenshot whereas Eclipse give me the only solution remove argument to match XSSFWorkbook. when i try it XSSFWorkbook wb = new XSSFWorkbook();\n\tXSSFSheet sheet1 = wb.getSheetAt(0);  this does not resolve the issue....","body":"hi rahul, refering to the screenshot whereas Eclipse give me the only solution remove argument to match XSSFWorkbook. when i try it XSSFWorkbook wb = new XSSFWorkbook(); \tXSSFSheet sheet1 = wb.getSheetAt(0);  this does not resolve the issue...."},{"owner":{"account_id":7819361,"reputation":103,"user_id":5912936,"display_name":"Rahul Karankal"},"score":1,"creation_date":1504783273,"post_id":46094470,"comment_id":79151655,"body_markdown":"Try with poi-3.14-beta1 the same code is working properly on machine only version of poi jars is different.","body":"Try with poi-3.14-beta1 the same code is working properly on machine only version of poi jars is different."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504785176,"post_id":46094470,"comment_id":79152981,"body_markdown":"@SushantTavrawala you said when you do `XSSFWorkbook wb = new XSSFWorkbook();` it does not resolve the issue. What error do you get in this case?","body":"@SushantTavrawala you said when you do <code>XSSFWorkbook wb = new XSSFWorkbook();</code> it does not resolve the issue. What error do you get in this case?"},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504786484,"post_id":46094470,"comment_id":79153797,"body_markdown":"@ DodgyCodeException  its eclipse who suggest the fix and it suggested this fix but it does not solve the problem. Screenshot is :: https://i.stack.imgur.com/gKTVn.png","body":"@ DodgyCodeException  its eclipse who suggest the fix and it suggested this fix but it does not solve the problem. Screenshot is :: <a href=\"https://i.stack.imgur.com/gKTVn.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gKTVn.png</a>"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1504786951,"post_id":46094470,"comment_id":79154085,"body_markdown":"That screenshot shows `new XSSFWorkbook(inputStream)`, not `new XSSFWorkbook()`.","body":"That screenshot shows <code>new XSSFWorkbook(inputStream)</code>, not <code>new XSSFWorkbook()</code>."},{"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"score":0,"creation_date":1504789878,"post_id":46094470,"comment_id":79156361,"body_markdown":"hi  @DodgyCodeException - Yes but results are not much different. as per Eclipse&#39;s provided solution, it should be ::                                       \n  File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\n\tXSSFWorkbook wb = new XSSFWorkbook();  // this throw out below errors                                                                                 \n Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/dom4j/DocumentException\n\tat org.apache.poi.openxml4j.opc.Package.init(Package.java:145)\n\tat org.apache.poi.openxml4j.opc.Package.&lt;init&gt;(Package.java:132)","body":"hi  @DodgyCodeException - Yes but results are not much different. as per Eclipse&#39;s provided solution, it should be ::                                          File file = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;); \tXSSFWorkbook wb = new XSSFWorkbook();  // this throw out below errors                                                                                   Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/dom4j/DocumentException \tat org.apache.poi.openxml4j.opc.Package.init(Package.java:145) \tat org.apache.poi.openxml4j.opc.Package.&lt;init&gt;(Package.java:132&zwnj;&#8203;)"},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1504794347,"post_id":46094470,"comment_id":79159853,"body_markdown":"It sounds like some kind of problem with your classpath or Eclipse project configuration.","body":"It sounds like some kind of problem with your classpath or Eclipse project configuration."}],"tags":[],"owner":{"account_id":7819361,"reputation":103,"user_id":5912936,"display_name":"Rahul Karankal"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504781413,"creation_date":1504781413,"answer_id":46094470,"question_id":46093952,"body_markdown":"Try using FileInputStream :\r\n\r\n    public void ReadExcel()\r\n        {\r\n           String excelFilePath = &quot;D://Selenium Training//ExcelSearch//Configurations.xlsx&quot;;\r\n        \r\n           FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\r\n        \r\n           Workbook workbook = new XSSFWorkbook(inputStream);\r\n        \r\n           Sheet firstSheet = workbook.getSheetAt(0);\r\n        }","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>Try using FileInputStream :</p>\n\n<pre><code>public void ReadExcel()\n    {\n       String excelFilePath = \"D://Selenium Training//ExcelSearch//Configurations.xlsx\";\n\n       FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\n\n       Workbook workbook = new XSSFWorkbook(inputStream);\n\n       Sheet firstSheet = workbook.getSheetAt(0);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10633418,"reputation":1,"user_id":7830810,"display_name":"Chaman Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510832300,"creation_date":1510832300,"answer_id":47328711,"question_id":46093952,"body_markdown":"Maybe you are not using the current version. I had the same issue.\r\n\r\npoi-3.8-20120326\r\npoi-ooxml-3.9\r\npoi-ooxml-schemas-3.7\r\npoi-ooxml-schemas-3.9\r\n\r\nTry installing this versions or latest versions.","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>Maybe you are not using the current version. I had the same issue.</p>\n\n<p>poi-3.8-20120326\npoi-ooxml-3.9\npoi-ooxml-schemas-3.7\npoi-ooxml-schemas-3.9</p>\n\n<p>Try installing this versions or latest versions.</p>\n"},{"tags":[],"owner":{"account_id":14853389,"reputation":1,"user_id":10726606,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543569400,"creation_date":1543564625,"answer_id":53553425,"question_id":46093952,"body_markdown":"I faced the same issue. I added the latest poi jar in the build path. The issue is resolved. It has multiple jar files. Add all the jar files in the project. \r\nFile name: poi-bin-4.0.0-20180907 \r\n\r\nDownload [here][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://mirrors.estointernet.in/apache/poi/release/bin/poi-bin-4.0.0-20180907.zip","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p>I faced the same issue. I added the latest poi jar in the build path. The issue is resolved. It has multiple jar files. Add all the jar files in the project. \nFile name: poi-bin-4.0.0-20180907 </p>\n\n<p>Download <a href=\"http://mirrors.estointernet.in/apache/poi/release/bin/poi-bin-4.0.0-20180907.zip\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":11562337,"reputation":55,"user_id":8471697,"accept_rate":60,"display_name":"Sushant Tavrawala"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701280965,"creation_date":1504779797,"question_id":46093952,"body_markdown":"[![enter image description here][1]][1]I am trying to read data from an excel file, i am using the following code :\r\n   \r\n\tFile src = new File(&quot;T:\\\\SeleniuminputFiles\\\\input.xlsx&quot;);\r\n\tFileInputStream fis = new FileInputStream(src);\r\n\tXSSFWorkbook wb = new XSSFWorkbook(fis);\r\n\tXSSFSheet sheet1 = wb.getSheetAt(0);\r\n\t\r\nbut i am getting the compilation error as The constructor XSSFWorkbook(FileInputStream) is undefined.\r\n\r\nI have downloaded External Jar files from The latest stable release Apache POI 3.16 http://poi.apache.org/download.html#POI-3.16 \r\n\r\nYour help would be highly appreciated. \r\n\r\n[![please find attached screenshot of code with output or error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gKTVn.png\r\n  [2]: https://i.stack.imgur.com/HKG18.png","title":"Java Read/Write Excel - Error : The constructor XSSFWorkbook(FileInputStream) is undefined","body":"<p><a href=\"https://i.stack.imgur.com/gKTVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKTVn.png\" alt=\"enter image description here\"></a>I am trying to read data from an excel file, i am using the following code :</p>\n\n<pre><code>File src = new File(\"T:\\\\SeleniuminputFiles\\\\input.xlsx\");\nFileInputStream fis = new FileInputStream(src);\nXSSFWorkbook wb = new XSSFWorkbook(fis);\nXSSFSheet sheet1 = wb.getSheetAt(0);\n</code></pre>\n\n<p>but i am getting the compilation error as The constructor XSSFWorkbook(FileInputStream) is undefined.</p>\n\n<p>I have downloaded External Jar files from The latest stable release Apache POI 3.16 <a href=\"http://poi.apache.org/download.html#POI-3.16\" rel=\"nofollow noreferrer\">http://poi.apache.org/download.html#POI-3.16</a> </p>\n\n<p>Your help would be highly appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/HKG18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HKG18.png\" alt=\"please find attached screenshot of code with output or error\"></a></p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":5695434,"reputation":520,"user_id":4505013,"display_name":"mhbrooks"},"score":0,"creation_date":1443520505,"post_id":32822475,"comment_id":53516404,"body_markdown":"Are you behind any sort of company network/web proxy or just a standard internet connection?","body":"Are you behind any sort of company network/web proxy or just a standard internet connection?"}],"answers":[{"tags":[],"owner":{"account_id":11957844,"reputation":371,"user_id":8749662,"display_name":"Niravdas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554970558,"creation_date":1554970558,"answer_id":55627765,"question_id":32822475,"body_markdown":"You have to determine\r\n\r\n - SECRET_KEY\r\n - ACCESS_KEY\r\n - END_POINT_URL\r\n\r\nfor authentication purpose.\r\nand use:\r\n\r\n        AmazonS3 s3;\r\n        AWSCredentials credentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\r\n\t\ts3 = new AmazonS3Client(credentials);\r\n\t\ts3.setEndpoint(END_POINT_URL);\r\n\r\nnow you can upload image using `s3` object.","title":"com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated","body":"<p>You have to determine</p>\n\n<ul>\n<li>SECRET_KEY</li>\n<li>ACCESS_KEY</li>\n<li>END_POINT_URL</li>\n</ul>\n\n<p>for authentication purpose.\nand use:</p>\n\n<pre><code>    AmazonS3 s3;\n    AWSCredentials credentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\n    s3 = new AmazonS3Client(credentials);\n    s3.setEndpoint(END_POINT_URL);\n</code></pre>\n\n<p>now you can upload image using <code>s3</code> object.</p>\n"}],"owner":{"account_id":7027679,"reputation":21,"user_id":5384561,"display_name":"Kuldeep Kumar Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8840,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701280965,"creation_date":1443441654,"question_id":32822475,"body_markdown":"I created a new account on amazon aws to use s3 bucket and I&#39;ve written this code to upload one image file to s3 bucket but it gives me this exception: &gt;Unable to execute HTTP request: peer not authenticated.\r\n\r\nThis is my main method:\r\n    \r\n    public class Main2 {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file=new File(&quot;C:\\\\Users\\\\KDSss\\\\OneDrive\\\\Pictures\\\\my photo 001.jpg&quot;);\r\n    \t\ttry {\r\n    \t\t\tInputStream targetStream = new FileInputStream(file);\r\n    \t\t\tS3Upload.uploadImage(targetStream, &quot;Discussion&quot;, &quot;jpg&quot;);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\nAnd this is my S3Upload.java\r\n    \r\n    public class S3Upload \r\n    {\r\n    \t\r\n    \t public static void uploadImage(InputStream path, String imageName, String imageType) throws IOException\r\n    \t {\r\n    \t\t  String existingBucketName = &quot;housejoy/hjcustomerimage/&quot;;\r\n    \t\t  String keyName = imageName+&quot;.png&quot;;\r\n    \t\t  AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(UploadFile.class.getResourceAsStream(&quot;AwsCredentials.properties&quot;)));\r\n    \t\t  ObjectMetadata objectMetadata = new ObjectMetadata();\r\n    \t\t  objectMetadata.setContentType(imageType);\r\n    \t\t  PutObjectRequest putObjectRequest = new PutObjectRequest(existingBucketName, keyName, path, objectMetadata);\r\n    \t\t  putObjectRequest.setCannedAcl(CannedAccessControlList.PublicRead);\r\n    \t\t  PutObjectResult result = s3Client.putObject(putObjectRequest);\r\n    \t\t  System.out.println(&quot;Etag:&quot; + result.getETag() + &quot;--&gt;&quot; + result);\r\n    \t\t }\r\n    }\r\n    \r\nAfter running, I&#39;m getting this exception:\r\n\r\n    com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\r\n    \tat com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)......\r\n    Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n    \tat org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:151)........com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\r\n    \tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\r\n    \tat com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)\r\n    \tat com.housejoy.ce.service.UploadImageService.uploadImage(UploadImageService.java:171.................Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n\r\n","title":"com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated","body":"<p>I created a new account on amazon aws to use s3 bucket and I've written this code to upload one image file to s3 bucket but it gives me this exception: >Unable to execute HTTP request: peer not authenticated.</p>\n\n<p>This is my main method:</p>\n\n<pre><code>public class Main2 {\n\n    public static void main(String[] args) throws IOException {\n        File file=new File(\"C:\\\\Users\\\\KDSss\\\\OneDrive\\\\Pictures\\\\my photo 001.jpg\");\n        try {\n            InputStream targetStream = new FileInputStream(file);\n            S3Upload.uploadImage(targetStream, \"Discussion\", \"jpg\");\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>And this is my S3Upload.java</p>\n\n<pre><code>public class S3Upload \n{\n\n     public static void uploadImage(InputStream path, String imageName, String imageType) throws IOException\n     {\n          String existingBucketName = \"housejoy/hjcustomerimage/\";\n          String keyName = imageName+\".png\";\n          AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(UploadFile.class.getResourceAsStream(\"AwsCredentials.properties\")));\n          ObjectMetadata objectMetadata = new ObjectMetadata();\n          objectMetadata.setContentType(imageType);\n          PutObjectRequest putObjectRequest = new PutObjectRequest(existingBucketName, keyName, path, objectMetadata);\n          putObjectRequest.setCannedAcl(CannedAccessControlList.PublicRead);\n          PutObjectResult result = s3Client.putObject(putObjectRequest);\n          System.out.println(\"Etag:\" + result.getETag() + \"--&gt;\" + result);\n         }\n}\n</code></pre>\n\n<p>After running, I'm getting this exception:</p>\n\n<pre><code>com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\n    at com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)......\nCaused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:151)........com.amazonaws.AmazonClientException: Unable to execute HTTP request: peer not authenticated\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:328)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:2906)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1123)\n    at com.housejoy.ce.jaxb.S3Upload.uploadImage(S3Upload.java:32)\n    at com.housejoy.ce.service.UploadImageService.uploadImage(UploadImageService.java:171.................Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:421)\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","servlets","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":3567903,"reputation":634,"user_id":2978985,"display_name":"Akshaya Jeevan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522734662,"creation_date":1522734662,"answer_id":49623105,"question_id":49622781,"body_markdown":"You can use interceptors- [`HandlerInterceptor`][1]. Please refer below url for how-to.\r\n\r\nhttps://www.journaldev.com/2676/spring-mvc-interceptor-example-handlerinterceptor-handlerinterceptoradapter\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>You can use interceptors- <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\" rel=\"nofollow noreferrer\"><code>HandlerInterceptor</code></a>. Please refer below url for how-to.</p>\n\n<p><a href=\"https://www.journaldev.com/2676/spring-mvc-interceptor-example-handlerinterceptor-handlerinterceptoradapter\" rel=\"nofollow noreferrer\">https://www.journaldev.com/2676/spring-mvc-interceptor-example-handlerinterceptor-handlerinterceptoradapter</a></p>\n"},{"comments":[{"owner":{"account_id":432924,"reputation":105,"user_id":2376653,"display_name":"Abdul Mohsin"},"score":0,"creation_date":1616050871,"post_id":49623221,"comment_id":117882694,"body_markdown":"Will it work for non-spring boot applications as well ?","body":"Will it work for non-spring boot applications as well ?"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1522735218,"creation_date":1522735218,"answer_id":49623221,"question_id":49622781,"body_markdown":"Unfortunately, Spring Boot doesn&#39;t honor the urlPatterns for filters declared with WebFilter. If you need to apply a pattern, you&#39;ll have to declare the filter as a bean and declare a filter registration for that bean, in a configuration class. For example:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CORSFilter&gt; corsFilterRegistration() {\r\n        FilterRegistrationBean&lt;CORSFilter&gt; filterRegistrationBean =\r\n            new FilterRegistrationBean&lt;&gt;(corsFilter());\r\n        filterRegistrationBean.setUrlPatterns(Collections.singleton(&quot;/getToken&quot;));\r\n        return filterRegistrationBean;\r\n    }\r\n\r\n    @Bean\r\n    public CORSFilter corsFilter() {\r\n        return new CORSFilter();\r\n    }\r\n\r\nNote however that Spring Boot has [native support for CORS][1]. You don&#39;t need any filter for that. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-cors","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>Unfortunately, Spring Boot doesn't honor the urlPatterns for filters declared with WebFilter. If you need to apply a pattern, you'll have to declare the filter as a bean and declare a filter registration for that bean, in a configuration class. For example:</p>\n\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;CORSFilter&gt; corsFilterRegistration() {\n    FilterRegistrationBean&lt;CORSFilter&gt; filterRegistrationBean =\n        new FilterRegistrationBean&lt;&gt;(corsFilter());\n    filterRegistrationBean.setUrlPatterns(Collections.singleton(\"/getToken\"));\n    return filterRegistrationBean;\n}\n\n@Bean\npublic CORSFilter corsFilter() {\n    return new CORSFilter();\n}\n</code></pre>\n\n<p>Note however that Spring Boot has <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-cors\" rel=\"noreferrer\">native support for CORS</a>. You don't need any filter for that. </p>\n"},{"tags":[],"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522738446,"creation_date":1522738446,"answer_id":49623966,"question_id":49622781,"body_markdown":"If it is pure jsp based application then you need to declare it in web.xml because **@WebFilter** doesn&#39;t guarantee the order of execution of filters or if it is spring based application then you can use **@CrossOrigin** on method level or declare a bean to filter each and every url as mentioned in the below url\r\n\r\n[Spring CORS][1]\r\n\r\n\r\n  [1]:https://spring.io/guides/gs/rest-service-cors/","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>If it is pure jsp based application then you need to declare it in web.xml because <strong>@WebFilter</strong> doesn't guarantee the order of execution of filters or if it is spring based application then you can use <strong>@CrossOrigin</strong> on method level or declare a bean to filter each and every url as mentioned in the below url</p>\n\n<p><a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">Spring CORS</a></p>\n"}],"owner":{"account_id":7882188,"reputation":1056,"user_id":5955739,"display_name":"lambad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49623221,"answer_count":3,"score":2,"last_activity_date":1701280429,"creation_date":1522733051,"question_id":49622781,"body_markdown":"I have a function with `@GetMapping(value = &quot;/getToken&quot;)` that writes JSON content.\r\n\r\n    @GetMapping(value = &quot;/getToken&quot;)\r\n    public String getToken(HttpServletRequest request, HttpServletResponse response, Model model) {\r\n        // jsonObject\r\n        PrintWriter out = response.getWriter();\r\n    \tout.print(jsonObject);\r\n    }\r\n    \r\nNow, a user can make a `GET` request to above mapping using a URL like this:\r\n\r\n&gt; `localhost:8080/getToken?username=&quot;username&quot;&amp;password=&quot;password&quot;`\r\n\r\nI have also created a class called `CORSFilter` that implements `javax.servlet.Filter` and i want this filter to intercept only those request that have `/getToken` in the request path.\r\n\r\n    @WebFilter(urlPatterns = &quot;/getToken&quot;)\r\n\tpublic class CORSFilter implements Filter {\r\n\r\n\t    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n\t\t    // validate user and password\r\n\t\t\tchain.doFilter(requestToUse, responseToUse);\r\n\t\t}\r\n    }\r\n\r\nNow, when I hit `localhost:8080` or `localhost:8080/thankyou` in the browser then the above filter is getting called.\r\n\r\nHow can I stop this?\r\n\r\nI want to call above filter only if the URL path is  \r\n&gt; `localhost:8080/getToken?username=&quot;user&quot;&amp;password=&quot;pass&quot;`\r\n","title":"@WebFilter(urlPatterns) not mapping HTTP request properly","body":"<p>I have a function with <code>@GetMapping(value = &quot;/getToken&quot;)</code> that writes JSON content.</p>\n<pre><code>@GetMapping(value = &quot;/getToken&quot;)\npublic String getToken(HttpServletRequest request, HttpServletResponse response, Model model) {\n    // jsonObject\n    PrintWriter out = response.getWriter();\n    out.print(jsonObject);\n}\n</code></pre>\n<p>Now, a user can make a <code>GET</code> request to above mapping using a URL like this:</p>\n<blockquote>\n<p><code>localhost:8080/getToken?username=&quot;username&quot;&amp;password=&quot;password&quot;</code></p>\n</blockquote>\n<p>I have also created a class called <code>CORSFilter</code> that implements <code>javax.servlet.Filter</code> and i want this filter to intercept only those request that have <code>/getToken</code> in the request path.</p>\n<pre><code>@WebFilter(urlPatterns = &quot;/getToken&quot;)\npublic class CORSFilter implements Filter {\n\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        // validate user and password\n        chain.doFilter(requestToUse, responseToUse);\n    }\n}\n</code></pre>\n<p>Now, when I hit <code>localhost:8080</code> or <code>localhost:8080/thankyou</code> in the browser then the above filter is getting called.</p>\n<p>How can I stop this?</p>\n<p>I want to call above filter only if the URL path is</p>\n<blockquote>\n<p><code>localhost:8080/getToken?username=&quot;user&quot;&amp;password=&quot;pass&quot;</code></p>\n</blockquote>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":3,"creation_date":1701211157,"post_id":77566356,"comment_id":136746917,"body_markdown":"You&#39;re trying to do everything manually that spring will do for you automatically.  Is there a reason for not just adding @Component to BeanA and BeanB and adding the appropriate dependencies to the constructor?","body":"You&#39;re trying to do everything manually that spring will do for you automatically.  Is there a reason for not just adding @Component to BeanA and BeanB and adding the appropriate dependencies to the constructor?"},{"owner":{"account_id":94149,"reputation":304,"user_id":2574254,"accept_rate":73,"display_name":"AM01"},"score":0,"creation_date":1701258490,"post_id":77566356,"comment_id":136752746,"body_markdown":"Thanks lane.maxwell. I do want to use @Component for BeanA and BeanB, as mentioned in the original question. Just not sure whether they will get the EnvrionmentConfig with the original setup as I am doing it manually here. That is the main issue, how to pass this state and make other bean instantiate after EnvironmentConfig Bean has been updated.","body":"Thanks lane.maxwell. I do want to use @Component for BeanA and BeanB, as mentioned in the original question. Just not sure whether they will get the EnvrionmentConfig with the original setup as I am doing it manually here. That is the main issue, how to pass this state and make other bean instantiate after EnvironmentConfig Bean has been updated."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701265213,"post_id":77566356,"comment_id":136754035,"body_markdown":"What is the &quot;original question&quot;? Can you create a `@Configuration` and return your classes from a `@Bean` method?","body":"What is the &quot;original question&quot;? Can you create a <code>@Configuration</code> and return your classes from a <code>@Bean</code> method?"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1701280647,"post_id":77566356,"comment_id":136757329,"body_markdown":"If one of the beans needs setup before other beans use it, the init method of the beans can be used to ensure order.  This can be accomplished by putting an init method on the `EnvironmentConfig` bean that makes it ready for use, and then init methods on it&#39;s consuming beans that then make use of it.  Spring makes sure the order of init method calls is based on bean dependencies.","body":"If one of the beans needs setup before other beans use it, the init method of the beans can be used to ensure order.  This can be accomplished by putting an init method on the <code>EnvironmentConfig</code> bean that makes it ready for use, and then init methods on it&#39;s consuming beans that then make use of it.  Spring makes sure the order of init method calls is based on bean dependencies."},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1701280852,"post_id":77566356,"comment_id":136757374,"body_markdown":"BTW, looking at the name `EnvironmentConfig` it sounds like functionality that Spring already provides.  You can have environment-specific config files, and in your beans just ignore the environment part (e.g. `$Value(&quot;configA&quot;)`).  Spring switches between the different environment-specific configuration files itself.","body":"BTW, looking at the name <code>EnvironmentConfig</code> it sounds like functionality that Spring already provides.  You can have environment-specific config files, and in your beans just ignore the environment part (e.g. <code>$Value(&quot;configA&quot;)</code>).  Spring switches between the different environment-specific configuration files itself."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701280368,"creation_date":1701280368,"answer_id":77573478,"question_id":77566356,"body_markdown":"Assuming that `Environment` is a Bean, you can configure it like this.\r\n\r\n    @Component\r\n    public class EnvironmentConfig {\r\n      private final Environment environment;\r\n\r\n      public EnvironmentConfig (Environment environment) {\r\n        this.environment = environment;\r\n      }\r\n\r\n      // declare this method to return whatever type storage is, assuming it&#39;s an object of type Storage\r\n      public Storage getStorage() {\r\n        return storage from wherever it comes from\r\n      }\r\n    }\r\n\r\nIf `Environment` is not a Bean, then there are several options for creating it.  You could just construct it in the constructor.\r\n\r\n    @Component\r\n    public class EnvironmentConfig {\r\n      private final Environment environment;\r\n\r\n      public EnvironmentConfig() {\r\n        this.environment = new Environment();\r\n      }\r\n    }\r\n\r\nOr, you could implement `InitializingBean` and create it there.\r\n\r\n    @Component\r\n    public class EnvironmentConfig implements InitializingBean {\r\n      private Environment environment;\r\n\r\n      @Override\r\n      public void afterPropertiesSet() throws Exception {\r\n        this.environment = new Environment();\r\n      }\r\n    }\r\n\r\nOr, you can a `@PostConstruct` method and build it there.\r\n\r\n    @Component\r\n    public class EnvironmentConfig {\r\n      private Environment environment;\r\n\r\n      @PostConstruct\r\n      public void initializeMyCollaboratorsThatAreNotBeans() {\r\n        this.environment = new Environment();\r\n      }\r\n    }\r\n\r\nThe point here is that there are many ways to create a bean of your `EnvironmentConfig`, then you can inject it into your other beans as you normally would.  This definition of A and B would satisfy what you&#39;ve laid out here, I believe.\r\n\r\n    @Component\r\n    public class BeanA {\r\n      private final Storage storage;\r\n\r\n      public BeanA (EnvironmentConfig environmentConfig) {\r\n        this.storage = environmentConfig.getStorage();\r\n      }\r\n    }\r\n\r\n    @Component\r\n    public class BeanB {\r\n      private final BeanA beanA;\r\n\r\n      public BeanB (BeanA beanA) {\r\n        this.beanA = beanA;\r\n      }\r\n    }\r\n","title":"Spring create One bean before all others","body":"<p>Assuming that <code>Environment</code> is a Bean, you can configure it like this.</p>\n<pre><code>@Component\npublic class EnvironmentConfig {\n  private final Environment environment;\n\n  public EnvironmentConfig (Environment environment) {\n    this.environment = environment;\n  }\n\n  // declare this method to return whatever type storage is, assuming it's an object of type Storage\n  public Storage getStorage() {\n    return storage from wherever it comes from\n  }\n}\n</code></pre>\n<p>If <code>Environment</code> is not a Bean, then there are several options for creating it.  You could just construct it in the constructor.</p>\n<pre><code>@Component\npublic class EnvironmentConfig {\n  private final Environment environment;\n\n  public EnvironmentConfig() {\n    this.environment = new Environment();\n  }\n}\n</code></pre>\n<p>Or, you could implement <code>InitializingBean</code> and create it there.</p>\n<pre><code>@Component\npublic class EnvironmentConfig implements InitializingBean {\n  private Environment environment;\n\n  @Override\n  public void afterPropertiesSet() throws Exception {\n    this.environment = new Environment();\n  }\n}\n</code></pre>\n<p>Or, you can a <code>@PostConstruct</code> method and build it there.</p>\n<pre><code>@Component\npublic class EnvironmentConfig {\n  private Environment environment;\n\n  @PostConstruct\n  public void initializeMyCollaboratorsThatAreNotBeans() {\n    this.environment = new Environment();\n  }\n}\n</code></pre>\n<p>The point here is that there are many ways to create a bean of your <code>EnvironmentConfig</code>, then you can inject it into your other beans as you normally would.  This definition of A and B would satisfy what you've laid out here, I believe.</p>\n<pre><code>@Component\npublic class BeanA {\n  private final Storage storage;\n\n  public BeanA (EnvironmentConfig environmentConfig) {\n    this.storage = environmentConfig.getStorage();\n  }\n}\n\n@Component\npublic class BeanB {\n  private final BeanA beanA;\n\n  public BeanB (BeanA beanA) {\n    this.beanA = beanA;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":94149,"reputation":304,"user_id":2574254,"accept_rate":73,"display_name":"AM01"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77573478,"answer_count":1,"score":0,"last_activity_date":1701280368,"creation_date":1701196525,"question_id":77566356,"body_markdown":"Returning to Spring after a long time and trying to add it to an existing application. \r\n\r\nApp start point (assume there is an `Environment` object here, which provides configuration elements from a file):\r\n```\r\npublic static void main(final String... args) {\r\n  try (AnnotationConfigApplicationContext context =\r\n      new AnnotationConfigApplicationContext(AppConfig.class)) {\r\n    EnvironmentConfig environmentConfig = context.getBean(EnvironmentConfig.class);\r\n    environmentConfig.setEnvironment(environment);\r\n\r\n    // TODO move to being a bean with EnvironmentConfig being a dependency\r\n    final BeanA beanA = new BeanA(environmentConfig.getStorage());\r\n\r\n    // TODO move to being a bean with BeanA being a dependency\r\n    final BeanB beanB = new BeanB(BeanA);\r\n  }\r\n}\r\n```\r\n\r\nI have a AppConfig setup for component scan like:\r\n```\r\npackage com.company.packageX;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;com.company.packageX&quot;)\r\npublic class AppConfig {}\r\n```\r\n\r\nSo I need to create two beans (as above) but also want them to be auto-wired with dependencies.\r\n\r\nProblem is that I am setting up `environment` in `EnvironmentConfig` only in the `main method`. If I move the creation of Beans by annotating the two with `@Component`, not sure that they will get the EnvironmentConfig with environment being already set, as Beans are created when `ComponentScan` runs.","title":"Spring create One bean before all others","body":"<p>Returning to Spring after a long time and trying to add it to an existing application.</p>\n<p>App start point (assume there is an <code>Environment</code> object here, which provides configuration elements from a file):</p>\n<pre><code>public static void main(final String... args) {\n  try (AnnotationConfigApplicationContext context =\n      new AnnotationConfigApplicationContext(AppConfig.class)) {\n    EnvironmentConfig environmentConfig = context.getBean(EnvironmentConfig.class);\n    environmentConfig.setEnvironment(environment);\n\n    // TODO move to being a bean with EnvironmentConfig being a dependency\n    final BeanA beanA = new BeanA(environmentConfig.getStorage());\n\n    // TODO move to being a bean with BeanA being a dependency\n    final BeanB beanB = new BeanB(BeanA);\n  }\n}\n</code></pre>\n<p>I have a AppConfig setup for component scan like:</p>\n<pre><code>package com.company.packageX;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = &quot;com.company.packageX&quot;)\npublic class AppConfig {}\n</code></pre>\n<p>So I need to create two beans (as above) but also want them to be auto-wired with dependencies.</p>\n<p>Problem is that I am setting up <code>environment</code> in <code>EnvironmentConfig</code> only in the <code>main method</code>. If I move the creation of Beans by annotating the two with <code>@Component</code>, not sure that they will get the EnvironmentConfig with environment being already set, as Beans are created when <code>ComponentScan</code> runs.</p>\n"},{"tags":["java","gradle","groovy","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1628854815,"post_id":68762583,"comment_id":121538291,"body_markdown":"See [my answer to a different question](https://stackoverflow.com/a/66839644/40342). The first couple of paragraphs apply here: don&#39;t confuse reproducible order (i.e. this specific implementation on this specific file system produces this specific order) with guaranteed order (i.e. it&#39;s guaranteed that all implementations will produce a specific order on all file systems).","body":"See <a href=\"https://stackoverflow.com/a/66839644/40342\">my answer to a different question</a>. The first couple of paragraphs apply here: don&#39;t confuse reproducible order (i.e. this specific implementation on this specific file system produces this specific order) with guaranteed order (i.e. it&#39;s guaranteed that all implementations will produce a specific order on all file systems)."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1628854901,"post_id":68771207,"comment_id":121538324,"body_markdown":"I love the little &quot;usually&quot; thrown in in the documentation of `FindNextFileW`. They *also* didn&#39;t want to promise anything.","body":"I love the little &quot;usually&quot; thrown in in the documentation of <code>FindNextFileW</code>. They <i>also</i> didn&#39;t want to promise anything."},{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1628858301,"post_id":68771207,"comment_id":121539730,"body_markdown":"This is a great answer","body":"This is a great answer"},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1628866360,"post_id":68771207,"comment_id":121543202,"body_markdown":"Very comprehensive. It also explains the reason for the consistent but different ordering on Linux.","body":"Very comprehensive. It also explains the reason for the consistent but different ordering on Linux."}],"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701279754,"creation_date":1628852752,"answer_id":68771207,"question_id":68762583,"body_markdown":"Let&#39;s break it down and have a look at [`eachDir`](https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1257) Groovy extension method implementation first:\r\n\r\n```java\r\npublic static void eachDir(File self, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) Closure closure) throws FileNotFoundException, IllegalArgumentException {\r\n\teachFile(self, FileType.DIRECTORIES, closure);\r\n}\r\n```\r\n\r\nWhat does [`eachFile`](https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1214) do?\r\n\r\n```java\r\npublic static void eachFile(final File self, final FileType fileType, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) final Closure closure)\r\n\t\tthrows FileNotFoundException, IllegalArgumentException {\r\n\tcheckDir(self);\r\n\tfinal File[] files = self.listFiles();\r\n\t// null check because of https://bugs.java.com/bugdatabase/view_bug?bug_id=4803836\r\n\tif (files == null) return;\r\n\tfor (File file : files) {\r\n\t\tif (fileType == FileType.ANY ||\r\n\t\t\t\t(fileType != FileType.FILES &amp;&amp; file.isDirectory()) ||\r\n\t\t\t\t(fileType != FileType.DIRECTORIES &amp;&amp; file.isFile())) {\r\n\t\t\tclosure.call(file);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOK, so Groovy just calls Java&#39;s [`File#listFiles` method](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles()) under the covers and then iterates the result without interfering with the existing order.\r\n\r\nMoving to the OpenJDK implementation we can see that  [`Files#listFiles`](https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1268) uses [`FileSystem#list`](https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1176) via the [`normalizedList`](https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1167) method.\r\n\r\n[`FileSystem#list`](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/share/classes/java/io/FileSystem.java#L178) is abstract. Continuing to the two most popular implementations it turns out that both [`UnixFileSystem#list`](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/classes/java/io/UnixFileSystem.java#L316) and [`Win32FileSystem#list`](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/classes/java/io/WinNTFileSystem.java#L556) have a `native` implementation:\r\n\r\n```java\r\n@Override\r\npublic native String[] list(File f);\r\n```\r\n\r\n# Windows\r\n\r\nDigging into the [Windows implementation](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L690):\r\n\r\n```c\r\nJNIEXPORT jobjectArray JNICALL\r\nJava_java_io_WinNTFileSystem_list(JNIEnv *env, jobject this, jobject file)\r\n{\r\n\tWCHAR *search_path;\r\n\tHANDLE handle;\r\n\tWIN32_FIND_DATAW find_data;\r\n\tint len, maxlen;\r\n\tjobjectArray rv, old;\r\n\tDWORD fattr;\r\n\tjstring name;\r\n\tjclass str_class;\r\n\tWCHAR *pathbuf;\r\n\tDWORD err;\r\n\r\n\tstr_class = JNU_ClassString(env);\r\n\tCHECK_NULL_RETURN(str_class, NULL);\r\n\r\n\tpathbuf = fileToNTPath(env, file, ids.path);\r\n\tif (pathbuf == NULL)\r\n\t\treturn NULL;\r\n\tsearch_path = (WCHAR*)malloc(2*wcslen(pathbuf) + 6);\r\n\tif (search_path == 0) {\r\n\t\tfree (pathbuf);\r\n\t\terrno = ENOMEM;\r\n\t\tJNU_ThrowOutOfMemoryError(env, &quot;native memory allocation failed&quot;);\r\n\t\treturn NULL;\r\n\t}\r\n\twcscpy(search_path, pathbuf);\r\n\tfree(pathbuf);\r\n\tfattr = GetFileAttributesW(search_path);\r\n\tif (fattr == INVALID_FILE_ATTRIBUTES) {\r\n\t\tfree(search_path);\r\n\t\treturn NULL;\r\n\t} else if ((fattr &amp; FILE_ATTRIBUTE_DIRECTORY) == 0) {\r\n\t\tfree(search_path);\r\n\t\treturn NULL;\r\n\t}\r\n\r\n\t/* Remove trailing space chars from directory name */\r\n\tlen = (int)wcslen(search_path);\r\n\twhile (search_path[len-1] == L&#39; &#39;) {\r\n\t\tlen--;\r\n\t}\r\n\tsearch_path[len] = 0;\r\n\r\n\t/* Append &quot;*&quot;, or possibly &quot;\\\\*&quot;, to path */\r\n\tif ((search_path[0] == L&#39;\\\\&#39; &amp;&amp; search_path[1] == L&#39;\\0&#39;) ||\r\n\t\t(search_path[1] == L&#39;:&#39;\r\n\t\t&amp;&amp; (search_path[2] == L&#39;\\0&#39;\r\n\t\t|| (search_path[2] == L&#39;\\\\&#39; &amp;&amp; search_path[3] == L&#39;\\0&#39;)))) {\r\n\t\t/* No &#39;\\\\&#39; needed for cases like &quot;\\&quot; or &quot;Z:&quot; or &quot;Z:\\&quot; */\r\n\t\twcscat(search_path, L&quot;*&quot;);\r\n\t} else {\r\n\t\twcscat(search_path, L&quot;\\\\*&quot;);\r\n\t}\r\n\r\n\t/* Open handle to the first file */\r\n\thandle = FindFirstFileW(search_path, &amp;find_data);\r\n\tfree(search_path);\r\n\tif (handle == INVALID_HANDLE_VALUE) {\r\n\t\tif (GetLastError() != ERROR_FILE_NOT_FOUND) {\r\n\t\t\t// error\r\n\t\t\treturn NULL;\r\n\t\t} else {\r\n\t\t\t// No files found - return an empty array\r\n\t\t\trv = (*env)-&gt;NewObjectArray(env, 0, str_class, NULL);\r\n\t\t\treturn rv;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Allocate an initial String array */\r\n\tlen = 0;\r\n\tmaxlen = 16;\r\n\trv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\r\n\tif (rv == NULL) { // Couldn&#39;t allocate an array\r\n\t\tFindClose(handle);\r\n\t\treturn NULL;\r\n\t}\r\n\t/* Scan the directory */\r\n\tdo {\r\n\t\tif (!wcscmp(find_data.cFileName, L&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t|| !wcscmp(find_data.cFileName, L&quot;..&quot;))\r\n\t\t   continue;\r\n\t\tname = (*env)-&gt;NewString(env, find_data.cFileName,\r\n\t\t\t\t\t\t\t\t (jsize)wcslen(find_data.cFileName));\r\n\t\tif (name == NULL) {\r\n\t\t\tFindClose(handle);\r\n\t\t\treturn NULL; // error\r\n\t\t}\r\n\t\tif (len == maxlen) {\r\n\t\t\told = rv;\r\n\t\t\trv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\r\n\t\t\tif (rv == NULL || JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\r\n\t\t\t\tFindClose(handle);\r\n\t\t\t\treturn NULL; // error\r\n\t\t\t}\r\n\t\t\t(*env)-&gt;DeleteLocalRef(env, old);\r\n\t\t}\r\n\t\t(*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\r\n\t\t(*env)-&gt;DeleteLocalRef(env, name);\r\n\r\n\t} while (FindNextFileW(handle, &amp;find_data));\r\n\r\n\terr = GetLastError();\r\n\tFindClose(handle);\r\n\tif (err != ERROR_NO_MORE_FILES) {\r\n\t\treturn NULL; // error\r\n\t}\r\n\r\n\tif (len &lt; maxlen) {\r\n\t\t/* Copy the final results into an appropriately-sized array */\r\n\t\told = rv;\r\n\t\trv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\r\n\t\tif (rv == NULL)\r\n\t\t\treturn NULL; /* error */\r\n\t\tif (JNU_CopyObjectArray(env, rv, old, len) &lt; 0)\r\n\t\t\treturn NULL; /* error */\r\n\t}\r\n\treturn rv;\r\n}\r\n```\r\n\r\nWe can see a combination of `FindFirstFileW`, `FindNextFileW` and `FindClose` WinAPI functions used to iterate over the files. Excerpt about ordering from [the documentation of `FindNextFileW`](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextfilew):\r\n\r\n&gt; The order in which the search returns the files, such as alphabetical order, is not guaranteed, and is dependent on the file system.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; The order in which this function returns the file names is dependent on the file system type. With the NTFS file system and CDFS file systems, the names are usually returned in alphabetical order. With FAT file systems, the names are usually returned in the order the files were written to the disk, which may or may not be in alphabetical order. However, as stated previously, these behaviors are not guaranteed.\r\n\r\nSo the implementation lists the files in a way that tries to be most optimal given the OS and file-system type constraints. No guarantees about a particular order.\r\n\r\n# *nix\r\n\r\nWhat about *nix systems? [Here&#39;s the code](https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/native/libjava/UnixFileSystem_md.c#L309):\r\n\r\n```c\r\nJNIEXPORT jobjectArray JNICALL\r\nJava_java_io_UnixFileSystem_list(JNIEnv *env, jobject this,\r\n\t\t\t\t\t\t\t\t jobject file)\r\n{\r\n\tDIR *dir = NULL;\r\n\tstruct dirent *ptr;\r\n\tint len, maxlen;\r\n\tjobjectArray rv, old;\r\n\tjclass str_class;\r\n\r\n\tstr_class = JNU_ClassString(env);\r\n\tCHECK_NULL_RETURN(str_class, NULL);\r\n\r\n\tWITH_FIELD_PLATFORM_STRING(env, file, ids.path, path) {\r\n\t\tdir = opendir(path);\r\n\t} END_PLATFORM_STRING(env, path);\r\n\tif (dir == NULL) return NULL;\r\n\r\n\t/* Allocate an initial String array */\r\n\tlen = 0;\r\n\tmaxlen = 16;\r\n\trv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\r\n\tif (rv == NULL) goto error;\r\n\r\n\t/* Scan the directory */\r\n\twhile ((ptr = readdir(dir)) != NULL) {\r\n\t\tjstring name;\r\n\t\tif (!strcmp(ptr-&gt;d_name, &quot;.&quot;) || !strcmp(ptr-&gt;d_name, &quot;..&quot;))\r\n\t\t\tcontinue;\r\n\t\tif (len == maxlen) {\r\n\t\t\told = rv;\r\n\t\t\trv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\r\n\t\t\tif (rv == NULL) goto error;\r\n\t\t\tif (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) goto error;\r\n\t\t\t(*env)-&gt;DeleteLocalRef(env, old);\r\n\t\t}\r\n#ifdef MACOSX\r\n\t\tname = newStringPlatform(env, ptr-&gt;d_name);\r\n#else\r\n\t\tname = JNU_NewStringPlatform(env, ptr-&gt;d_name);\r\n#endif\r\n\t\tif (name == NULL) goto error;\r\n\t\t(*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\r\n\t\t(*env)-&gt;DeleteLocalRef(env, name);\r\n\t}\r\n\tclosedir(dir);\r\n\r\n\t/* Copy the final results into an appropriately-sized array */\r\n\tif (len &lt; maxlen) {\r\n\t\told = rv;\r\n\t\trv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\r\n\t\tif (rv == NULL) {\r\n\t\t\treturn NULL;\r\n\t\t}\r\n\t\tif (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\r\n\t\t\treturn NULL;\r\n\t\t}\r\n\t}\r\n\treturn rv;\r\n\r\n error:\r\n\tclosedir(dir);\r\n\treturn NULL;\r\n}\r\n```\r\n\r\nThis time iteration is supported by the `opendir`/`readdir`/`closedir` trio. The [POSIX documentation of `readdir`](https://pubs.opengroup.org/onlinepubs/007908799/xsh/readdir.html) only mentions this about ordering:\r\n\r\n&gt; The type DIR, which is defined in the header &lt;dirent.h&gt;, represents a directory stream, which is an ordered sequence of all the directory entries in a particular directory.\r\n\r\n[Linux documentation](https://www.man7.org/linux/man-pages/man3/readdir.3.html) has a bit more to say:\r\n\r\n&gt; The order in which filenames are read by successive calls to readdir() depends on the filesystem implementation; it is unlikely that the names will be sorted in any fashion.\r\n\r\nClose enough to Windows there is no order-guarantees apart from that there is *some* order.\r\n\r\n# Conclusion\r\n\r\n&#39;Is not guaranteed&#39; means that a particular feature is an implementation detail and that you shouldn&#39;t rely on it. Contrary to &#39;guaranteed&#39; features, which due to backward compatibility promise to stay invariant for some (usually longer) period of time. Changes to those features are called [breaking changes](https://stackoverflow.com/questions/21703216/what-is-a-breaking-change-in-software) and are usually well documented in [release notes](https://en.wikipedia.org/wiki/Release_notes) and migration guides (see [Vue 3 migration guide](https://resources.snowflake.com/migration-guides) for example). They also get announced long before they become finalized and released - see [deprecation](https://en.wikipedia.org/wiki/Deprecation) (often leaving some time to the developers to adjust their code to the new even after they go live).\r\n\r\nThe behaviour of &#39;unguaranteed&#39; features on the other hand may differ between given product/library versions, environments (e.g. JVM implementations, operating systems, product versions) or even particular invocations. They sometimes show some predictable characteristics, but they should not be relied upon. You need to make sure to take care of the guarantees you expect for your piece of code to to have and implement them on your own.\r\n\r\n**Wrapping-up your issue: if you expect any specific order of files just sort them first - even if it means that the order will stay the same.**\r\n","title":"Why Does Groovy eachDir() Give Me The Same Sort Every Time?","body":"<p>Let's break it down and have a look at <a href=\"https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1257\" rel=\"nofollow noreferrer\"><code>eachDir</code></a> Groovy extension method implementation first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void eachDir(File self, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) Closure closure) throws FileNotFoundException, IllegalArgumentException {\n    eachFile(self, FileType.DIRECTORIES, closure);\n}\n</code></pre>\n<p>What does <a href=\"https://github.com/apache/groovy/blob/ea55bccd162049c6b28ea037eb190757094ce89e/src/main/java/org/codehaus/groovy/runtime/ResourceGroovyMethods.java#L1214\" rel=\"nofollow noreferrer\"><code>eachFile</code></a> do?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void eachFile(final File self, final FileType fileType, @ClosureParams(value = SimpleType.class, options = &quot;java.io.File&quot;) final Closure closure)\n        throws FileNotFoundException, IllegalArgumentException {\n    checkDir(self);\n    final File[] files = self.listFiles();\n    // null check because of https://bugs.java.com/bugdatabase/view_bug?bug_id=4803836\n    if (files == null) return;\n    for (File file : files) {\n        if (fileType == FileType.ANY ||\n                (fileType != FileType.FILES &amp;&amp; file.isDirectory()) ||\n                (fileType != FileType.DIRECTORIES &amp;&amp; file.isFile())) {\n            closure.call(file);\n        }\n    }\n}\n</code></pre>\n<p>OK, so Groovy just calls Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles()\" rel=\"nofollow noreferrer\"><code>File#listFiles</code> method</a> under the covers and then iterates the result without interfering with the existing order.</p>\n<p>Moving to the OpenJDK implementation we can see that  <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1268\" rel=\"nofollow noreferrer\"><code>Files#listFiles</code></a> uses <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1176\" rel=\"nofollow noreferrer\"><code>FileSystem#list</code></a> via the <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.base/share/classes/java/io/File.java#L1167\" rel=\"nofollow noreferrer\"><code>normalizedList</code></a> method.</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/share/classes/java/io/FileSystem.java#L178\" rel=\"nofollow noreferrer\"><code>FileSystem#list</code></a> is abstract. Continuing to the two most popular implementations it turns out that both <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/classes/java/io/UnixFileSystem.java#L316\" rel=\"nofollow noreferrer\"><code>UnixFileSystem#list</code></a> and <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/classes/java/io/WinNTFileSystem.java#L556\" rel=\"nofollow noreferrer\"><code>Win32FileSystem#list</code></a> have a <code>native</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic native String[] list(File f);\n</code></pre>\n<h1>Windows</h1>\n<p>Digging into the <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L690\" rel=\"nofollow noreferrer\">Windows implementation</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JNIEXPORT jobjectArray JNICALL\nJava_java_io_WinNTFileSystem_list(JNIEnv *env, jobject this, jobject file)\n{\n    WCHAR *search_path;\n    HANDLE handle;\n    WIN32_FIND_DATAW find_data;\n    int len, maxlen;\n    jobjectArray rv, old;\n    DWORD fattr;\n    jstring name;\n    jclass str_class;\n    WCHAR *pathbuf;\n    DWORD err;\n\n    str_class = JNU_ClassString(env);\n    CHECK_NULL_RETURN(str_class, NULL);\n\n    pathbuf = fileToNTPath(env, file, ids.path);\n    if (pathbuf == NULL)\n        return NULL;\n    search_path = (WCHAR*)malloc(2*wcslen(pathbuf) + 6);\n    if (search_path == 0) {\n        free (pathbuf);\n        errno = ENOMEM;\n        JNU_ThrowOutOfMemoryError(env, &quot;native memory allocation failed&quot;);\n        return NULL;\n    }\n    wcscpy(search_path, pathbuf);\n    free(pathbuf);\n    fattr = GetFileAttributesW(search_path);\n    if (fattr == INVALID_FILE_ATTRIBUTES) {\n        free(search_path);\n        return NULL;\n    } else if ((fattr &amp; FILE_ATTRIBUTE_DIRECTORY) == 0) {\n        free(search_path);\n        return NULL;\n    }\n\n    /* Remove trailing space chars from directory name */\n    len = (int)wcslen(search_path);\n    while (search_path[len-1] == L' ') {\n        len--;\n    }\n    search_path[len] = 0;\n\n    /* Append &quot;*&quot;, or possibly &quot;\\\\*&quot;, to path */\n    if ((search_path[0] == L'\\\\' &amp;&amp; search_path[1] == L'\\0') ||\n        (search_path[1] == L':'\n        &amp;&amp; (search_path[2] == L'\\0'\n        || (search_path[2] == L'\\\\' &amp;&amp; search_path[3] == L'\\0')))) {\n        /* No '\\\\' needed for cases like &quot;\\&quot; or &quot;Z:&quot; or &quot;Z:\\&quot; */\n        wcscat(search_path, L&quot;*&quot;);\n    } else {\n        wcscat(search_path, L&quot;\\\\*&quot;);\n    }\n\n    /* Open handle to the first file */\n    handle = FindFirstFileW(search_path, &amp;find_data);\n    free(search_path);\n    if (handle == INVALID_HANDLE_VALUE) {\n        if (GetLastError() != ERROR_FILE_NOT_FOUND) {\n            // error\n            return NULL;\n        } else {\n            // No files found - return an empty array\n            rv = (*env)-&gt;NewObjectArray(env, 0, str_class, NULL);\n            return rv;\n        }\n    }\n\n    /* Allocate an initial String array */\n    len = 0;\n    maxlen = 16;\n    rv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\n    if (rv == NULL) { // Couldn't allocate an array\n        FindClose(handle);\n        return NULL;\n    }\n    /* Scan the directory */\n    do {\n        if (!wcscmp(find_data.cFileName, L&quot;.&quot;)\n                                || !wcscmp(find_data.cFileName, L&quot;..&quot;))\n           continue;\n        name = (*env)-&gt;NewString(env, find_data.cFileName,\n                                 (jsize)wcslen(find_data.cFileName));\n        if (name == NULL) {\n            FindClose(handle);\n            return NULL; // error\n        }\n        if (len == maxlen) {\n            old = rv;\n            rv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\n            if (rv == NULL || JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\n                FindClose(handle);\n                return NULL; // error\n            }\n            (*env)-&gt;DeleteLocalRef(env, old);\n        }\n        (*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\n        (*env)-&gt;DeleteLocalRef(env, name);\n\n    } while (FindNextFileW(handle, &amp;find_data));\n\n    err = GetLastError();\n    FindClose(handle);\n    if (err != ERROR_NO_MORE_FILES) {\n        return NULL; // error\n    }\n\n    if (len &lt; maxlen) {\n        /* Copy the final results into an appropriately-sized array */\n        old = rv;\n        rv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\n        if (rv == NULL)\n            return NULL; /* error */\n        if (JNU_CopyObjectArray(env, rv, old, len) &lt; 0)\n            return NULL; /* error */\n    }\n    return rv;\n}\n</code></pre>\n<p>We can see a combination of <code>FindFirstFileW</code>, <code>FindNextFileW</code> and <code>FindClose</code> WinAPI functions used to iterate over the files. Excerpt about ordering from <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextfilew\" rel=\"nofollow noreferrer\">the documentation of <code>FindNextFileW</code></a>:</p>\n<blockquote>\n<p>The order in which the search returns the files, such as alphabetical order, is not guaranteed, and is dependent on the file system.</p>\n<p>(...)</p>\n<p>The order in which this function returns the file names is dependent on the file system type. With the NTFS file system and CDFS file systems, the names are usually returned in alphabetical order. With FAT file systems, the names are usually returned in the order the files were written to the disk, which may or may not be in alphabetical order. However, as stated previously, these behaviors are not guaranteed.</p>\n</blockquote>\n<p>So the implementation lists the files in a way that tries to be most optimal given the OS and file-system type constraints. No guarantees about a particular order.</p>\n<h1>*nix</h1>\n<p>What about *nix systems? <a href=\"https://github.com/openjdk/jdk/blob/6765f902505fbdd02f25b599f942437cd805cad1/src/java.base/unix/native/libjava/UnixFileSystem_md.c#L309\" rel=\"nofollow noreferrer\">Here's the code</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JNIEXPORT jobjectArray JNICALL\nJava_java_io_UnixFileSystem_list(JNIEnv *env, jobject this,\n                                 jobject file)\n{\n    DIR *dir = NULL;\n    struct dirent *ptr;\n    int len, maxlen;\n    jobjectArray rv, old;\n    jclass str_class;\n\n    str_class = JNU_ClassString(env);\n    CHECK_NULL_RETURN(str_class, NULL);\n\n    WITH_FIELD_PLATFORM_STRING(env, file, ids.path, path) {\n        dir = opendir(path);\n    } END_PLATFORM_STRING(env, path);\n    if (dir == NULL) return NULL;\n\n    /* Allocate an initial String array */\n    len = 0;\n    maxlen = 16;\n    rv = (*env)-&gt;NewObjectArray(env, maxlen, str_class, NULL);\n    if (rv == NULL) goto error;\n\n    /* Scan the directory */\n    while ((ptr = readdir(dir)) != NULL) {\n        jstring name;\n        if (!strcmp(ptr-&gt;d_name, &quot;.&quot;) || !strcmp(ptr-&gt;d_name, &quot;..&quot;))\n            continue;\n        if (len == maxlen) {\n            old = rv;\n            rv = (*env)-&gt;NewObjectArray(env, maxlen &lt;&lt;= 1, str_class, NULL);\n            if (rv == NULL) goto error;\n            if (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) goto error;\n            (*env)-&gt;DeleteLocalRef(env, old);\n        }\n#ifdef MACOSX\n        name = newStringPlatform(env, ptr-&gt;d_name);\n#else\n        name = JNU_NewStringPlatform(env, ptr-&gt;d_name);\n#endif\n        if (name == NULL) goto error;\n        (*env)-&gt;SetObjectArrayElement(env, rv, len++, name);\n        (*env)-&gt;DeleteLocalRef(env, name);\n    }\n    closedir(dir);\n\n    /* Copy the final results into an appropriately-sized array */\n    if (len &lt; maxlen) {\n        old = rv;\n        rv = (*env)-&gt;NewObjectArray(env, len, str_class, NULL);\n        if (rv == NULL) {\n            return NULL;\n        }\n        if (JNU_CopyObjectArray(env, rv, old, len) &lt; 0) {\n            return NULL;\n        }\n    }\n    return rv;\n\n error:\n    closedir(dir);\n    return NULL;\n}\n</code></pre>\n<p>This time iteration is supported by the <code>opendir</code>/<code>readdir</code>/<code>closedir</code> trio. The <a href=\"https://pubs.opengroup.org/onlinepubs/007908799/xsh/readdir.html\" rel=\"nofollow noreferrer\">POSIX documentation of <code>readdir</code></a> only mentions this about ordering:</p>\n<blockquote>\n<p>The type DIR, which is defined in the header &lt;dirent.h&gt;, represents a directory stream, which is an ordered sequence of all the directory entries in a particular directory.</p>\n</blockquote>\n<p><a href=\"https://www.man7.org/linux/man-pages/man3/readdir.3.html\" rel=\"nofollow noreferrer\">Linux documentation</a> has a bit more to say:</p>\n<blockquote>\n<p>The order in which filenames are read by successive calls to readdir() depends on the filesystem implementation; it is unlikely that the names will be sorted in any fashion.</p>\n</blockquote>\n<p>Close enough to Windows there is no order-guarantees apart from that there is <em>some</em> order.</p>\n<h1>Conclusion</h1>\n<p>'Is not guaranteed' means that a particular feature is an implementation detail and that you shouldn't rely on it. Contrary to 'guaranteed' features, which due to backward compatibility promise to stay invariant for some (usually longer) period of time. Changes to those features are called <a href=\"https://stackoverflow.com/questions/21703216/what-is-a-breaking-change-in-software\">breaking changes</a> and are usually well documented in <a href=\"https://en.wikipedia.org/wiki/Release_notes\" rel=\"nofollow noreferrer\">release notes</a> and migration guides (see <a href=\"https://resources.snowflake.com/migration-guides\" rel=\"nofollow noreferrer\">Vue 3 migration guide</a> for example). They also get announced long before they become finalized and released - see <a href=\"https://en.wikipedia.org/wiki/Deprecation\" rel=\"nofollow noreferrer\">deprecation</a> (often leaving some time to the developers to adjust their code to the new even after they go live).</p>\n<p>The behaviour of 'unguaranteed' features on the other hand may differ between given product/library versions, environments (e.g. JVM implementations, operating systems, product versions) or even particular invocations. They sometimes show some predictable characteristics, but they should not be relied upon. You need to make sure to take care of the guarantees you expect for your piece of code to to have and implement them on your own.</p>\n<p><strong>Wrapping-up your issue: if you expect any specific order of files just sort them first - even if it means that the order will stay the same.</strong></p>\n"}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68771207,"answer_count":1,"score":1,"last_activity_date":1701279754,"creation_date":1628793047,"question_id":68762583,"body_markdown":"I am creating a file containing a list of sub-directories\r\n\r\n    task createNotes {\r\n      doLast {\r\n        def myFile = new File(&quot;my-notes.txt&quot;)\r\n        def file = new File(&quot;src/test/&quot;)\r\n        println myFile.exists()\r\n        myFile.delete()\r\n        println myFile.exists()\r\n        println myFile.absolutePath\r\n        println file.absolutePath\r\n        myFile.withWriter {\r\n          out -&gt;\r\n            file.eachDir { dir -&gt;\r\n              out.println dir.getName()\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\nApparently the sort order can&#39;t be guaranteed, but every time I run it I get the same sort order:\r\n\r\n    soft\r\n    java\r\n    calc\r\n    conc\r\n    caab\r\n    pres\r\n\r\nIf I change the &quot;soft&quot; dir to &quot;sofp&quot; the output is:\r\n\r\n    java\r\n    sofp\r\n    calc\r\n    conc\r\n    caab\r\n    pres\r\n\r\nWhen I change the name back, it goes to the original order.\r\n\r\nIt doesn&#39;t appear to be sorted in any particular order - which matches the docs saying the order can&#39;t be guaranteed, but if so, why is it always giving me the same sort every time?","title":"Why Does Groovy eachDir() Give Me The Same Sort Every Time?","body":"<p>I am creating a file containing a list of sub-directories</p>\n<pre><code>task createNotes {\n  doLast {\n    def myFile = new File(&quot;my-notes.txt&quot;)\n    def file = new File(&quot;src/test/&quot;)\n    println myFile.exists()\n    myFile.delete()\n    println myFile.exists()\n    println myFile.absolutePath\n    println file.absolutePath\n    myFile.withWriter {\n      out -&gt;\n        file.eachDir { dir -&gt;\n          out.println dir.getName()\n        }\n    }\n  }\n}\n</code></pre>\n<p>Apparently the sort order can't be guaranteed, but every time I run it I get the same sort order:</p>\n<pre><code>soft\njava\ncalc\nconc\ncaab\npres\n</code></pre>\n<p>If I change the &quot;soft&quot; dir to &quot;sofp&quot; the output is:</p>\n<pre><code>java\nsofp\ncalc\nconc\ncaab\npres\n</code></pre>\n<p>When I change the name back, it goes to the original order.</p>\n<p>It doesn't appear to be sorted in any particular order - which matches the docs saying the order can't be guaranteed, but if so, why is it always giving me the same sort every time?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","auditing"],"owner":{"account_id":10120865,"reputation":763,"user_id":7477819,"accept_rate":80,"display_name":"Armer B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701279670,"creation_date":1701279670,"question_id":77573411,"body_markdown":"I want to use SpringData annotations from package *org.springframework.data.annotation*\r\n\r\n    @CreatiedOn\r\n    @CreatedBy\r\n    @ModifiedOn\r\n    @ModifiedBy\r\n\r\nMy configuration is as well:\r\n\r\n    @Embeddable\r\n    public class AuditFields {\r\n    \r\n        @Column({...})\r\n        @CreatedBy\r\n        private String createdBy;\r\n    \r\n        @Column({...})\r\n        @CreatedDate\r\n        private Instant createdOn;\r\n    \r\n        @Column({...})\r\n        @LastModifiedBy\r\n        private String updatedBy;\r\n    \r\n        @Column({...})\r\n        @LastModifiedDate\r\n        private Instant updatedOn;\r\n\r\n... And the `AuditFileds` is applied as composition:\r\n\r\n\r\n    @Entity    \r\n    public class A {\r\n    \r\n       {...}\r\n     \r\n       @ElementCollection\r\n       @CollectionTable({...})\r\n       private Collection&lt;B&gt; b;\r\n\r\n       @Embedded\r\n       private AuditFields auditFields = new AuditFields();\r\n    \r\n    }\r\n\r\nand\r\n\r\n    @Embeddable  \r\n    public class B {\r\n    \r\n       {...}\r\n    \r\n       @Embedded\r\n       private AuditFields auditFields = new AuditFields();\r\n    \r\n    }\r\n\r\n... and I also have configured `@EnableJpaAuditing` bean\r\n\r\nThe framework works perfect when persists `class A` and the `@Entity` object has been successfully audited, but nothing happens on `class B` which is `@Embeddable` collection (record B is not audited into the table).\r\n\r\nAny ideas why SpringData audit neglect `@Embeddable` collection? Is it problem in SpringData?\r\n\r\nAny ideas for another aproach how to audit `@Embeddable` collection?\r\n\r\nP.S. `spring-data-jpa is version 2.7.15`\r\n","title":"Audit on @Embeddable objects with SpringBoot annotations","body":"<p>I want to use SpringData annotations from package <em>org.springframework.data.annotation</em></p>\n<pre><code>@CreatiedOn\n@CreatedBy\n@ModifiedOn\n@ModifiedBy\n</code></pre>\n<p>My configuration is as well:</p>\n<pre><code>@Embeddable\npublic class AuditFields {\n\n    @Column({...})\n    @CreatedBy\n    private String createdBy;\n\n    @Column({...})\n    @CreatedDate\n    private Instant createdOn;\n\n    @Column({...})\n    @LastModifiedBy\n    private String updatedBy;\n\n    @Column({...})\n    @LastModifiedDate\n    private Instant updatedOn;\n</code></pre>\n<p>... And the <code>AuditFileds</code> is applied as composition:</p>\n<pre><code>@Entity    \npublic class A {\n\n   {...}\n \n   @ElementCollection\n   @CollectionTable({...})\n   private Collection&lt;B&gt; b;\n\n   @Embedded\n   private AuditFields auditFields = new AuditFields();\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Embeddable  \npublic class B {\n\n   {...}\n\n   @Embedded\n   private AuditFields auditFields = new AuditFields();\n\n}\n</code></pre>\n<p>... and I also have configured <code>@EnableJpaAuditing</code> bean</p>\n<p>The framework works perfect when persists <code>class A</code> and the <code>@Entity</code> object has been successfully audited, but nothing happens on <code>class B</code> which is <code>@Embeddable</code> collection (record B is not audited into the table).</p>\n<p>Any ideas why SpringData audit neglect <code>@Embeddable</code> collection? Is it problem in SpringData?</p>\n<p>Any ideas for another aproach how to audit <code>@Embeddable</code> collection?</p>\n<p>P.S. <code>spring-data-jpa is version 2.7.15</code></p>\n"},{"tags":["java","unit-testing","exception","junit","junit4"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":14,"creation_date":1374355569,"post_id":17731234,"comment_id":25911110,"body_markdown":"A JUnit test is judged to have failed if it throws any exception other than an expected exception.  Usually no exceptions are expected.","body":"A JUnit test is judged to have failed if it throws any exception other than an expected exception.  Usually no exceptions are expected."},{"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"score":2,"creation_date":1408624405,"post_id":17731234,"comment_id":39665902,"body_markdown":"Isn&#39;t there a distinction between failure and error in JUnit? The first means the test failed, the second means something unexpected happened.","body":"Isn&#39;t there a distinction between failure and error in JUnit? The first means the test failed, the second means something unexpected happened."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":2,"creation_date":1423575051,"post_id":17731234,"comment_id":45195874,"body_markdown":"possible duplicate of [How can I test if a particular exception is not thrown?](http://stackoverflow.com/questions/8575653/how-can-i-test-if-a-particular-exception-is-not-thrown)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/8575653/how-can-i-test-if-a-particular-exception-is-not-thrown\">How can I test if a particular exception is not thrown?</a>"},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1633985244,"post_id":17731234,"comment_id":122900906,"body_markdown":"@Vituel Yes, there is, and that distinction is very clear in NetBeans. Error is red and failure is yellow.","body":"@Vituel Yes, there is, and that distinction is very clear in NetBeans. Error is red and failure is yellow."},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1633985528,"post_id":17731234,"comment_id":122901000,"body_markdown":"@Raedwald I would see it that way under the pressure of a deadline. But with all the time in the world, I would not want to go from red to green without a yellow in between.","body":"@Raedwald I would see it that way under the pressure of a deadline. But with all the time in the world, I would not want to go from red to green without a yellow in between."}],"answers":[{"comments":[{"owner":{"account_id":189322,"reputation":6684,"user_id":428598,"accept_rate":61,"display_name":"Ankit Dhingra"},"score":7,"creation_date":1374172593,"post_id":17731324,"comment_id":25847728,"body_markdown":"The thing is that I am trying to TDD and one of the collaborators that I use is throwing an exception. So I need to test the fact that I am consuming the exception thrown by the collaborator","body":"The thing is that I am trying to TDD and one of the collaborators that I use is throwing an exception. So I need to test the fact that I am consuming the exception thrown by the collaborator"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":8,"creation_date":1374172701,"post_id":17731324,"comment_id":25847793,"body_markdown":"Are you saying your functionality is dependent on the handling of an exception? That&#39;s a code smell: exceptions are there to elegantly let you catch issues; they&#39;re not used for flow control. If you want to test a scenario in which an exception should be thrown then you should use the `expected` annotation. If you want to test a scenario where your code fails and you want to see if the error is correctly handled: use `expected` and perhaps use asserts to determine if it&#39;s been resolved.","body":"Are you saying your functionality is dependent on the handling of an exception? That&#39;s a code smell: exceptions are there to elegantly let you catch issues; they&#39;re not used for flow control. If you want to test a scenario in which an exception should be thrown then you should use the <code>expected</code> annotation. If you want to test a scenario where your code fails and you want to see if the error is correctly handled: use <code>expected</code> and perhaps use asserts to determine if it&#39;s been resolved."},{"owner":{"account_id":189322,"reputation":6684,"user_id":428598,"accept_rate":61,"display_name":"Ankit Dhingra"},"score":0,"creation_date":1374172962,"post_id":17731324,"comment_id":25847925,"body_markdown":"The thing is that I cannot recover from the exception that has occurred in the collaborator and all I do is just log the issue using a log.debug(&quot;Error message&quot;). So there are no side effects happening as a part of the catch block that I can possibly assert on.","body":"The thing is that I cannot recover from the exception that has occurred in the collaborator and all I do is just log the issue using a log.debug(&quot;Error message&quot;). So there are no side effects happening as a part of the catch block that I can possibly assert on."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":23,"creation_date":1374173055,"post_id":17731324,"comment_id":25847967,"body_markdown":"@JeroenVannevel it is perfectly valid to test that an error situation which cause an exception to be thrown is properly handled.","body":"@JeroenVannevel it is perfectly valid to test that an error situation which cause an exception to be thrown is properly handled."},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1374173349,"post_id":17731324,"comment_id":25848115,"body_markdown":"@AnkitDhingra: So what exactly is the problem? You&#39;re saying that the error is handled by logging, which is probably trough an external library. You can&#39;t (shouldn&#39;t) be testing those: if that&#39;s all there is to it then you should just use `expected` and check if the exception occurred.\n\n@Thorbj&#248;rnRavnAndersen: Definitely, I&#39;m not disputing that. But as far as I have seen from his problem description, there is no reason to do this here (and it contradicts his title).","body":"@AnkitDhingra: So what exactly is the problem? You&#39;re saying that the error is handled by logging, which is probably trough an external library. You can&#39;t (shouldn&#39;t) be testing those: if that&#39;s all there is to it then you should just use <code>expected</code> and check if the exception occurred.  @Thorbj&#248;rnRavnAndersen: Definitely, I&#39;m not disputing that. But as far as I have seen from his problem description, there is no reason to do this here (and it contradicts his title)."},{"owner":{"account_id":189322,"reputation":6684,"user_id":428598,"accept_rate":61,"display_name":"Ankit Dhingra"},"score":0,"creation_date":1374174679,"post_id":17731324,"comment_id":25848780,"body_markdown":"But which unit test would break when I remove the try catch? The other unit tests have mocked the collaborator so no exception would be thrown. How would you test the fact that you have put in a try catch?","body":"But which unit test would break when I remove the try catch? The other unit tests have mocked the collaborator so no exception would be thrown. How would you test the fact that you have put in a try catch?"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1374175047,"post_id":17731324,"comment_id":25848948,"body_markdown":"You don&#39;t have to test implementation; you have to test functionality. Create a test for this method that should work and add all necessary asserts. Then create a test with `expected` and call the method with incorrect data. If both turn up green you should assume the logging works as well (most logging frameworks have their own tests). If you perform error handling other than logging then you might want to consider adding asserts to check if this was correctly resolved. You shouldn&#39;t explicitly check if your catch-block was called: that&#39;s implementation, not functionality.","body":"You don&#39;t have to test implementation; you have to test functionality. Create a test for this method that should work and add all necessary asserts. Then create a test with <code>expected</code> and call the method with incorrect data. If both turn up green you should assume the logging works as well (most logging frameworks have their own tests). If you perform error handling other than logging then you might want to consider adding asserts to check if this was correctly resolved. You shouldn&#39;t explicitly check if your catch-block was called: that&#39;s implementation, not functionality."},{"owner":{"display_name":"user153275"},"score":1,"creation_date":1379871245,"post_id":17731324,"comment_id":27978572,"body_markdown":"@JeroenVannevel As far as I can tell you can&#39;t compile the java if you don&#39;t write your own try/catch blocks around code that could throw exceptions. So you&#39;re forced to do try {} catch(Exception e) { fail() }.","body":"@JeroenVannevel As far as I can tell you can&#39;t compile the java if you don&#39;t write your own try/catch blocks around code that could throw exceptions. So you&#39;re forced to do try {} catch(Exception e) { fail() }."},{"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"score":0,"creation_date":1438923582,"post_id":17731324,"comment_id":51658493,"body_markdown":"@AnkitDhingra if you want to verify that your code catches and logs an exception thrown by a collaborator, then have your test 1) mock the collaborator, 2) tell the mock to throw a specific exception, 3) use the API of your logging code to attach a log handler, 4) call your code, and 5) assert that the exception was logged","body":"@AnkitDhingra if you want to verify that your code catches and logs an exception thrown by a collaborator, then have your test 1) mock the collaborator, 2) tell the mock to throw a specific exception, 3) use the API of your logging code to attach a log handler, 4) call your code, and 5) assert that the exception was logged"},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":1,"creation_date":1455812465,"post_id":17731324,"comment_id":58667034,"body_markdown":"@dpk yes you can. You add `throws IllegalArgumentException` to your test. What you want in the end, is that your test turns red if there is an exception. Well, guess what? You do not need to write `fail()`. As @Jeroen Vannevel wrote: _&quot;if an exception is thrown the test will automatically fail.&quot;_","body":"@dpk yes you can. You add <code>throws IllegalArgumentException</code> to your test. What you want in the end, is that your test turns red if there is an exception. Well, guess what? You do not need to write <code>fail()</code>. As @Jeroen Vannevel wrote: <i>&quot;if an exception is thrown the test will automatically fail.&quot;</i>"},{"owner":{"account_id":980026,"reputation":1618,"user_id":999986,"accept_rate":50,"display_name":"Nir"},"score":0,"creation_date":1525154511,"post_id":17731324,"comment_id":87241136,"body_markdown":"The problem I find with this approach is that if my unit-test failed and throw an exception,I get a bad error message from junit - &quot;java.lang.RuntimeException: test should never throw an exception to this level&quot;. I don&#39;t even know which test failed. which is real bad","body":"The problem I find with this approach is that if my unit-test failed and throw an exception,I get a bad error message from junit - &quot;java.lang.RuntimeException: test should never throw an exception to this level&quot;. I don&#39;t even know which test failed. which is real bad"},{"owner":{"account_id":2456597,"reputation":2141,"user_id":2141659,"display_name":"innov8"},"score":1,"creation_date":1602633824,"post_id":17731324,"comment_id":113781136,"body_markdown":"@Nir made a relevant point.  While testing to the core level that fails before testing higher levels, the principle breaks down when the lower level that fails in within an external package.  From the perceptive of the application under test, &#39;that package fails when doing this&#39; is all that matters, the internal tests need to be added within the package","body":"@Nir made a relevant point.  While testing to the core level that fails before testing higher levels, the principle breaks down when the lower level that fails in within an external package.  From the perceptive of the application under test, &#39;that package fails when doing this&#39; is all that matters, the internal tests need to be added within the package"},{"owner":{"account_id":10062911,"reputation":1019,"user_id":7438905,"display_name":"Chen Ni"},"score":0,"creation_date":1681376031,"post_id":17731324,"comment_id":134047205,"body_markdown":"What if exception is thrown in a child thread? How to detect that?","body":"What if exception is thrown in a child thread? How to detect that?"}],"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"comment_count":13,"down_vote_count":16,"up_vote_count":296,"is_accepted":true,"score":280,"last_activity_date":1392313408,"creation_date":1374172391,"answer_id":17731324,"question_id":17731234,"body_markdown":"You&#39;re approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.\r\n\r\nI have noticed this question garners interest from time to time so I&#39;ll expand a little.\r\n\r\n\r\n&lt;h1&gt;Background to unit testing&lt;/h1&gt;\r\n\r\nWhen you&#39;re unit testing it&#39;s important to define to yourself what you consider a unit of work. Basically: an extraction of your codebase that may or may not include multiple methods or classes that represents a single piece of functionality.\r\n\r\nOr, as defined in [The art of Unit Testing, 2nd Edition by Roy Osherove][1], page 11:\r\n\r\n&gt; A *unit test* is an automated piece of code that invokes the unit of work being tested, and then checks some assumptions about a single end result of that unit. A unit test is almost always written using a unit testing framework. It can be written easily and runs quickly. It&#39;s trustworthy, readable, and maintainable. It&#39;s consistent in its results as long as production code hasn&#39;t changed.\r\n\r\nWhat is important to realize is that one *unit of work* usually isn&#39;t just one method but at the very basic level it is one method and after that it is encapsulated by other unit of works.\r\n\r\n![enter image description here][2]\r\n\r\nIdeally you should have a test method for each separate unit of work so you can always immediately view where things are going wrong. In this example there is a basic method called `getUserById()` which will return a user and there is a total of 3 unit of works.\r\n\r\nThe first unit of work should test whether or not a valid user is being returned in the case of valid and invalid input.  \r\nAny exceptions that are being thrown by the datasource have to be handled here: if no user is present there should be a test that demonstrates that an exception is thrown when the user can&#39;t be found. A sample of this could be the `IllegalArgumentException` which is caught with the `@Test(expected = IllegalArgumentException.class)` annotation.\r\n\r\nOnce you have handled all your usecases for this basic unit of work, you move up a level. Here you do exactly the same, but you only handle the exceptions that come from the level right below the current one. This keeps your testing code well structured and allows you to quickly run through the architecture to find where things go wrong, instead of having to hop all over the place.\r\n\r\n&lt;h1&gt;Handling a tests&#39; valid and faulty input&lt;/h1&gt;\r\n\r\nAt this point it should be clear how we&#39;re going to handle these exceptions. There are 2 types of input: *valid* input and *faulty* input (the input is valid in the strict sense, but it&#39;s not correct).\r\n\r\nWhen you work with *valid* input you&#39;re setting the implicit expectancy that whatever test you write, will work. \r\n\r\nSuch a method call can look like this: `existingUserById_ShouldReturn_UserObject`. If this method fails (e.g.: an exception is thrown) then you know something went wrong and you can start digging.\r\n\r\nBy adding another test (`nonExistingUserById_ShouldThrow_IllegalArgumentException`) that uses the *faulty* input and expects an exception you can see whether your method does what it is supposed to do with wrong input. \r\n\r\n&lt;h1&gt;TL;DR&lt;/h1&gt;\r\n\r\nYou were trying to do two things in your test: check for valid and faulty input. By splitting this into two method that each do one thing, you will have much clearer tests and a much better overview of where things go wrong.\r\n\r\nBy keeping the layered unit of works in mind you can also reduce the amount of tests you need for a layer that is higher in the hierarchy because you don&#39;t have to account for every thing that might have gone wrong in the lower layers: the layers below the current one are a virtual guarantee that your dependencies work and if something goes wrong, it&#39;s in your current layer (assuming the lower layers don&#39;t throw any errors themselves).\r\n\r\n\r\n  [1]: http://www.amazon.com/The-Art-Unit-Testing-examples/dp/1617290890?SubscriptionId=AKIAIIBINOD46VC3JCLQ&amp;tag=stackoverfl08-20&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=1617290890\r\n  [2]: http://i.stack.imgur.com/IPN6R.png","title":"How to test that no exception is thrown?","body":"<p>You're approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.</p>\n\n<p>I have noticed this question garners interest from time to time so I'll expand a little.</p>\n\n<h1>Background to unit testing</h1>\n\n<p>When you're unit testing it's important to define to yourself what you consider a unit of work. Basically: an extraction of your codebase that may or may not include multiple methods or classes that represents a single piece of functionality.</p>\n\n<p>Or, as defined in <a href=\"https://rads.stackoverflow.com/amzn/click/com/1617290890\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">The art of Unit Testing, 2nd Edition by Roy Osherove</a>, page 11:</p>\n\n<blockquote>\n  <p>A <em>unit test</em> is an automated piece of code that invokes the unit of work being tested, and then checks some assumptions about a single end result of that unit. A unit test is almost always written using a unit testing framework. It can be written easily and runs quickly. It's trustworthy, readable, and maintainable. It's consistent in its results as long as production code hasn't changed.</p>\n</blockquote>\n\n<p>What is important to realize is that one <em>unit of work</em> usually isn't just one method but at the very basic level it is one method and after that it is encapsulated by other unit of works.</p>\n\n<p><img src=\"https://i.stack.imgur.com/IPN6R.png\" alt=\"enter image description here\"></p>\n\n<p>Ideally you should have a test method for each separate unit of work so you can always immediately view where things are going wrong. In this example there is a basic method called <code>getUserById()</code> which will return a user and there is a total of 3 unit of works.</p>\n\n<p>The first unit of work should test whether or not a valid user is being returned in the case of valid and invalid input.<br>\nAny exceptions that are being thrown by the datasource have to be handled here: if no user is present there should be a test that demonstrates that an exception is thrown when the user can't be found. A sample of this could be the <code>IllegalArgumentException</code> which is caught with the <code>@Test(expected = IllegalArgumentException.class)</code> annotation.</p>\n\n<p>Once you have handled all your usecases for this basic unit of work, you move up a level. Here you do exactly the same, but you only handle the exceptions that come from the level right below the current one. This keeps your testing code well structured and allows you to quickly run through the architecture to find where things go wrong, instead of having to hop all over the place.</p>\n\n<h1>Handling a tests' valid and faulty input</h1>\n\n<p>At this point it should be clear how we're going to handle these exceptions. There are 2 types of input: <em>valid</em> input and <em>faulty</em> input (the input is valid in the strict sense, but it's not correct).</p>\n\n<p>When you work with <em>valid</em> input you're setting the implicit expectancy that whatever test you write, will work. </p>\n\n<p>Such a method call can look like this: <code>existingUserById_ShouldReturn_UserObject</code>. If this method fails (e.g.: an exception is thrown) then you know something went wrong and you can start digging.</p>\n\n<p>By adding another test (<code>nonExistingUserById_ShouldThrow_IllegalArgumentException</code>) that uses the <em>faulty</em> input and expects an exception you can see whether your method does what it is supposed to do with wrong input. </p>\n\n<h1>TL;DR</h1>\n\n<p>You were trying to do two things in your test: check for valid and faulty input. By splitting this into two method that each do one thing, you will have much clearer tests and a much better overview of where things go wrong.</p>\n\n<p>By keeping the layered unit of works in mind you can also reduce the amount of tests you need for a layer that is higher in the hierarchy because you don't have to account for every thing that might have gone wrong in the lower layers: the layers below the current one are a virtual guarantee that your dependencies work and if something goes wrong, it's in your current layer (assuming the lower layers don't throw any errors themselves).</p>\n"},{"tags":[],"owner":{"account_id":2515551,"reputation":7153,"user_id":2187087,"accept_rate":40,"display_name":"Yugang Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374197658,"creation_date":1374197658,"answer_id":17736760,"question_id":17731234,"body_markdown":"If you want to test that whether your test target consumes the exception. Just leave the test as (mock collaborator using jMock2):\r\n\r\n    @Test\r\n    public void consumesAndLogsExceptions() throws Exception {\r\n        \r\n        context.checking(new Expectations() {\r\n            {\r\n                oneOf(collaborator).doSth();\r\n                will(throwException(new NullPointerException()));\r\n            }\r\n        });\r\n\r\n        target.doSth();\r\n     }\r\n\r\nThe test would pass if your target does consume the exception thrown, otherwise the test would fail.\r\n\r\nIf you want to test your exception consumption logic, things get more complex. I suggest delegating the consumption to a collaborator which could be mocked. Therefore the test could be:\r\n\r\n    @Test\r\n    public void consumesAndLogsExceptions() throws Exception {\r\n        Exception e = new NullPointerException();\r\n        context.checking(new Expectations() {\r\n            {\r\n                allowing(collaborator).doSth();\r\n                will(throwException(e));\r\n\r\n                oneOf(consumer).consume(e);\r\n            }\r\n        });\r\n\r\n        target.doSth();\r\n     }\r\n\r\nBut sometimes it&#39;s over-designed if you just want to log it. In this case, this article(http://java.dzone.com/articles/monitoring-declarative-transac, http://blog.novoj.net/2008/09/20/testing-aspect-pointcuts-is-there-an-easy-way/) may help if you insist tdd in this case.\r\n","title":"How to test that no exception is thrown?","body":"<p>If you want to test that whether your test target consumes the exception. Just leave the test as (mock collaborator using jMock2):</p>\n\n<pre><code>@Test\npublic void consumesAndLogsExceptions() throws Exception {\n\n    context.checking(new Expectations() {\n        {\n            oneOf(collaborator).doSth();\n            will(throwException(new NullPointerException()));\n        }\n    });\n\n    target.doSth();\n }\n</code></pre>\n\n<p>The test would pass if your target does consume the exception thrown, otherwise the test would fail.</p>\n\n<p>If you want to test your exception consumption logic, things get more complex. I suggest delegating the consumption to a collaborator which could be mocked. Therefore the test could be:</p>\n\n<pre><code>@Test\npublic void consumesAndLogsExceptions() throws Exception {\n    Exception e = new NullPointerException();\n    context.checking(new Expectations() {\n        {\n            allowing(collaborator).doSth();\n            will(throwException(e));\n\n            oneOf(consumer).consume(e);\n        }\n    });\n\n    target.doSth();\n }\n</code></pre>\n\n<p>But sometimes it's over-designed if you just want to log it. In this case, this article(<a href=\"http://java.dzone.com/articles/monitoring-declarative-transac\" rel=\"nofollow\">http://java.dzone.com/articles/monitoring-declarative-transac</a>, <a href=\"http://blog.novoj.net/2008/09/20/testing-aspect-pointcuts-is-there-an-easy-way/\" rel=\"nofollow\">http://blog.novoj.net/2008/09/20/testing-aspect-pointcuts-is-there-an-easy-way/</a>) may help if you insist tdd in this case.</p>\n"},{"comments":[{"owner":{"account_id":368553,"reputation":9128,"user_id":715437,"accept_rate":93,"display_name":"Denees"},"score":1,"creation_date":1435322242,"post_id":25879033,"comment_id":50165431,"body_markdown":"Just a small suggestion, `Exception ex` should be `= null;` before you can  test it.","body":"Just a small suggestion, <code>Exception ex</code> should be <code>= null;</code> before you can  test it."},{"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"score":4,"creation_date":1438923341,"post_id":25879033,"comment_id":51658420,"body_markdown":"This isn&#39;t a great solution. If the method that shouldn&#39;t throw an exception does throw, you won&#39;t get a useful error message. Just call the method that shouldn&#39;t throw an exception, and test it&#39;s return value (or side effects, like logging the exception). If it later unexpectedly throws an exception, the test will fail.","body":"This isn&#39;t a great solution. If the method that shouldn&#39;t throw an exception does throw, you won&#39;t get a useful error message. Just call the method that shouldn&#39;t throw an exception, and test it&#39;s return value (or side effects, like logging the exception). If it later unexpectedly throws an exception, the test will fail."},{"owner":{"account_id":1225120,"reputation":3832,"user_id":1190830,"accept_rate":55,"display_name":"isaac.hazan"},"score":6,"creation_date":1447762015,"post_id":25879033,"comment_id":55280594,"body_markdown":"Or just put Assert.fail() in the catch, easier and prettier IMO.","body":"Or just put Assert.fail() in the catch, easier and prettier IMO."},{"owner":{"account_id":1561109,"reputation":637,"user_id":1450952,"accept_rate":33,"display_name":"Ben Tennyson"},"score":0,"creation_date":1447875959,"post_id":25879033,"comment_id":55344911,"body_markdown":"Yes, I agree with you. One more way is add an annotation on top of method\n @Test (expected = InvalidRequestException.class)","body":"Yes, I agree with you. One more way is add an annotation on top of method  @Test (expected = InvalidRequestException.class)"},{"owner":{"account_id":1472916,"reputation":1703,"user_id":1384013,"accept_rate":50,"display_name":"Ubeogesh"},"score":0,"creation_date":1592399770,"post_id":25879033,"comment_id":110411334,"body_markdown":"This is very useful for me, thank you. In my situation i am asserting inside `Awaitility`&#39;s `untilAsserted(ThrowingRunnable assertion)`. The method I call does always throw an exception at first, but I want to assert that it will stop doing so eventually (according to Awaitility&#39;s parameters)","body":"This is very useful for me, thank you. In my situation i am asserting inside <code>Awaitility</code>&#39;s <code>untilAsserted(ThrowingRunnable assertion)</code>. The method I call does always throw an exception at first, but I want to assert that it will stop doing so eventually (according to Awaitility&#39;s parameters)"},{"owner":{"account_id":1931877,"reputation":1731,"user_id":1741107,"accept_rate":60,"display_name":"Jasper Citi"},"score":0,"creation_date":1595325867,"post_id":25879033,"comment_id":111429023,"body_markdown":"Agree, this an ugly solution but at least it makes SonarLint happy.","body":"Agree, this an ugly solution but at least it makes SonarLint happy."}],"tags":[],"owner":{"account_id":1561109,"reputation":637,"user_id":1450952,"accept_rate":33,"display_name":"Ben Tennyson"},"comment_count":6,"down_vote_count":6,"up_vote_count":37,"is_accepted":false,"score":31,"last_activity_date":1580407410,"creation_date":1410904408,"answer_id":25879033,"question_id":17731234,"body_markdown":"If you are unlucky enough to catch all errors in your code.\r\nYou can stupidly do\r\n\r\n    class DumpTest {\r\n        Exception ex;\r\n        @Test\r\n        public void testWhatEver() {\r\n            try {\r\n                thisShouldThrowError();\r\n            } catch (Exception e) {\r\n                ex = e;\r\n            }\r\n            assertEquals(null,ex);\r\n        }\r\n    }","title":"How to test that no exception is thrown?","body":"<p>If you are unlucky enough to catch all errors in your code.\nYou can stupidly do</p>\n\n<pre><code>class DumpTest {\n    Exception ex;\n    @Test\n    public void testWhatEver() {\n        try {\n            thisShouldThrowError();\n        } catch (Exception e) {\n            ex = e;\n        }\n        assertEquals(null,ex);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1442001,"reputation":795,"user_id":1361860,"accept_rate":77,"display_name":"MageWind"},"score":2,"creation_date":1490231102,"post_id":37203455,"comment_id":73024832,"body_markdown":"(regarding the use of expected exception) Since JUnit 4.13, you can use `Assert.assertThrows` to check that some code throws an exception.","body":"(regarding the use of expected exception) Since JUnit 4.13, you can use <code>Assert.assertThrows</code> to check that some code throws an exception."}],"tags":[],"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"comment_count":1,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1463123872,"creation_date":1463123426,"answer_id":37203455,"question_id":17731234,"body_markdown":"Java 8 makes this a lot easier, and Kotlin/Scala doubly so.\r\n\r\nWe can write a little utility class\r\n\r\n    class MyAssertions{\r\n      public static void assertDoesNotThrow(FailingRunnable action){\r\n        try{\r\n          action.run()\r\n        }\r\n        catch(Exception ex){\r\n          throw new Error(&quot;expected action not to throw, but it did!&quot;, ex)\r\n        }\r\n      }\r\n    }\r\n\r\n    @FunctionalInterface interface FailingRunnable { void run() throws Exception }\r\n\r\nand then your code becomes simply:\r\n\r\n    @Test\r\n    public void foo(){\r\n      MyAssertions.assertDoesNotThrow(() -&gt; {\r\n        //execute code that you expect not to throw Exceptions.\r\n      }\r\n    }\r\n\r\nIf you dont have access to Java-8, I would use a painfully old java facility: aribitrary code blocks and a simple comment\r\n\r\n    //setup\r\n    Component component = new Component();\r\n\r\n    //act\r\n    configure(component);\r\n\r\n    //assert \r\n    /*assert does not throw*/{\r\n      component.doSomething();\r\n    }\r\n\r\nAnd finally, with kotlin, a language I&#39;ve recently fallen in love with:\r\n\r\n    fun (() -&gt; Any?).shouldNotThrow() \r\n        = try { invoke() } catch (ex : Exception){ throw Error(&quot;expected not to throw!&quot;, ex) }\r\n\r\n    @Test fun `when foo happens should not throw`(){\r\n   \r\n      //...\r\n\r\n      { /*code that shouldn&#39;t throw*/ }.shouldNotThrow()\r\n    }\r\n\r\nThough there is a lot of room to fiddle with exactly how you want to express this, I was always a fan of [fluent assertions](https://github.com/dennisdoomen/FluentAssertions/wiki).\r\n\r\n---\r\n\r\nRegarding \r\n\r\n&gt; You&#39;re approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.\r\n\r\nThis is correct in principle but incorrect in conclusion. \r\n\r\nJava allows exceptions for flow of control. This is done by the JRE runtime itself in APIs like `Double.parseDouble` via a `NumberFormatException` and `Paths.get` via a `InvalidPathException`. \r\n\r\nGiven you&#39;ve written a component that validates Number strings for `Double.ParseDouble`, maybe using a Regex, maybe a hand-written parser, or perhaps something that embeds some other domain rules that restricts the range of a double to something specific, how best to test this component? I think an obvious test would be to assert that, when the resulting string is parsed, no exception is thrown. I would write that test using either the above `assertDoesNotThrow` or `/*comment*/{code}` block. Something like\r\n\r\n\r\n    @Test public void given_validator_accepts_string_result_should_be_interpretable_by_doubleParseDouble(){\r\n      //setup\r\n      String input = &quot;12.34E+26&quot; //a string double with domain significance\r\n\r\n      //act\r\n      boolean isValid = component.validate(input)\r\n\r\n      //assert -- using the library &#39;assertJ&#39;, my personal favourite \r\n      assertThat(isValid).describedAs(input + &quot; was considered valid by component&quot;).isTrue();\r\n      assertDoesNotThrow(() -&gt; Double.parseDouble(input));\r\n    }\r\n\r\nI would also encourage you to parameterize this test on `input` using [`Theories`](https://github.com/junit-team/junit4/wiki/Theories) or [`Parameterized`](https://github.com/junit-team/junit4/wiki/Parameterized-tests) so that you can more easily re-use this test for other inputs. Alternatively, if you want to go exotic, you could go for a [test-generation tool](https://randoop.github.io/randoop/manual/index.html) (and [this](http://www.pexforfun.com/)). TestNG has better support for parameterized tests. \r\n\r\nWhat I find particularly disagreeable is the recommendation of using `@Test(expectedException=IllegalArgumentException.class)`, **this exception is dangerously broad**. If your code changes such that the component under test&#39;s constructor has `if(constructorArgument &lt;= 0) throw IllegalArgumentException()`, and your test was supplying 0 for that argument because it was convenient --and this is very common, because good generating test data is a surprisingly hard problem--, then your test will be green-bar even though it tests nothing. Such a test is worse than useless. ","title":"How to test that no exception is thrown?","body":"<p>Java 8 makes this a lot easier, and Kotlin/Scala doubly so.</p>\n\n<p>We can write a little utility class</p>\n\n<pre><code>class MyAssertions{\n  public static void assertDoesNotThrow(FailingRunnable action){\n    try{\n      action.run()\n    }\n    catch(Exception ex){\n      throw new Error(\"expected action not to throw, but it did!\", ex)\n    }\n  }\n}\n\n@FunctionalInterface interface FailingRunnable { void run() throws Exception }\n</code></pre>\n\n<p>and then your code becomes simply:</p>\n\n<pre><code>@Test\npublic void foo(){\n  MyAssertions.assertDoesNotThrow(() -&gt; {\n    //execute code that you expect not to throw Exceptions.\n  }\n}\n</code></pre>\n\n<p>If you dont have access to Java-8, I would use a painfully old java facility: aribitrary code blocks and a simple comment</p>\n\n<pre><code>//setup\nComponent component = new Component();\n\n//act\nconfigure(component);\n\n//assert \n/*assert does not throw*/{\n  component.doSomething();\n}\n</code></pre>\n\n<p>And finally, with kotlin, a language I've recently fallen in love with:</p>\n\n<pre><code>fun (() -&gt; Any?).shouldNotThrow() \n    = try { invoke() } catch (ex : Exception){ throw Error(\"expected not to throw!\", ex) }\n\n@Test fun `when foo happens should not throw`(){\n\n  //...\n\n  { /*code that shouldn't throw*/ }.shouldNotThrow()\n}\n</code></pre>\n\n<p>Though there is a lot of room to fiddle with exactly how you want to express this, I was always a fan of <a href=\"https://github.com/dennisdoomen/FluentAssertions/wiki\" rel=\"noreferrer\">fluent assertions</a>.</p>\n\n<hr>\n\n<p>Regarding </p>\n\n<blockquote>\n  <p>You're approaching this the wrong way. Just test your functionality: if an exception is thrown the test will automatically fail. If no exception is thrown, your tests will all turn up green.</p>\n</blockquote>\n\n<p>This is correct in principle but incorrect in conclusion. </p>\n\n<p>Java allows exceptions for flow of control. This is done by the JRE runtime itself in APIs like <code>Double.parseDouble</code> via a <code>NumberFormatException</code> and <code>Paths.get</code> via a <code>InvalidPathException</code>. </p>\n\n<p>Given you've written a component that validates Number strings for <code>Double.ParseDouble</code>, maybe using a Regex, maybe a hand-written parser, or perhaps something that embeds some other domain rules that restricts the range of a double to something specific, how best to test this component? I think an obvious test would be to assert that, when the resulting string is parsed, no exception is thrown. I would write that test using either the above <code>assertDoesNotThrow</code> or <code>/*comment*/{code}</code> block. Something like</p>\n\n<pre><code>@Test public void given_validator_accepts_string_result_should_be_interpretable_by_doubleParseDouble(){\n  //setup\n  String input = \"12.34E+26\" //a string double with domain significance\n\n  //act\n  boolean isValid = component.validate(input)\n\n  //assert -- using the library 'assertJ', my personal favourite \n  assertThat(isValid).describedAs(input + \" was considered valid by component\").isTrue();\n  assertDoesNotThrow(() -&gt; Double.parseDouble(input));\n}\n</code></pre>\n\n<p>I would also encourage you to parameterize this test on <code>input</code> using <a href=\"https://github.com/junit-team/junit4/wiki/Theories\" rel=\"noreferrer\"><code>Theories</code></a> or <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"noreferrer\"><code>Parameterized</code></a> so that you can more easily re-use this test for other inputs. Alternatively, if you want to go exotic, you could go for a <a href=\"https://randoop.github.io/randoop/manual/index.html\" rel=\"noreferrer\">test-generation tool</a> (and <a href=\"http://www.pexforfun.com/\" rel=\"noreferrer\">this</a>). TestNG has better support for parameterized tests. </p>\n\n<p>What I find particularly disagreeable is the recommendation of using <code>@Test(expectedException=IllegalArgumentException.class)</code>, <strong>this exception is dangerously broad</strong>. If your code changes such that the component under test's constructor has <code>if(constructorArgument &lt;= 0) throw IllegalArgumentException()</code>, and your test was supplying 0 for that argument because it was convenient --and this is very common, because good generating test data is a surprisingly hard problem--, then your test will be green-bar even though it tests nothing. Such a test is worse than useless. </p>\n"},{"comments":[{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":8,"creation_date":1479118136,"post_id":40387588,"comment_id":68407585,"body_markdown":"I&#39;d say this is misleading. The catch block is never reached, so the `assertNull` is never executed either. However the quick reader gets the impression that an assertion is made that really verifies the non-throwing case. In other words: if the catch block is reached, the exception is always non-null - it can thus be replaced by a simple `fail`.","body":"I&#39;d say this is misleading. The catch block is never reached, so the <code>assertNull</code> is never executed either. However the quick reader gets the impression that an assertion is made that really verifies the non-throwing case. In other words: if the catch block is reached, the exception is always non-null - it can thus be replaced by a simple <code>fail</code>."},{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":1,"creation_date":1497280530,"post_id":40387588,"comment_id":75999523,"body_markdown":"misleading indeed, ..... but wait, ... oh I see ... `assertNull(e)` will report the test as failed, as as stated `e` can&#39;t be `null` in the `catch` block ... Mike this is just weird programming :-/ ... yes at least use `fail()` like Andreas says","body":"misleading indeed, ..... but wait, ... oh I see ... <code>assertNull(e)</code> will report the test as failed, as as stated <code>e</code> can&#39;t be <code>null</code> in the <code>catch</code> block ... Mike this is just weird programming :-/ ... yes at least use <code>fail()</code> like Andreas says"},{"owner":{"account_id":2375041,"reputation":4633,"user_id":2078664,"display_name":"Mike Rapadas"},"score":0,"creation_date":1648350776,"post_id":40387588,"comment_id":126600672,"body_markdown":"Weird indeed! Please ignore.","body":"Weird indeed! Please ignore."}],"tags":[],"owner":{"account_id":2375041,"reputation":4633,"user_id":2078664,"display_name":"Mike Rapadas"},"comment_count":3,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1478112563,"creation_date":1478112563,"answer_id":40387588,"question_id":17731234,"body_markdown":"Use [assertNull(...)][1]\r\n    \r\n    @Test\r\n    public void foo() {\r\n        try {\r\n            //execute code that you expect not to throw Exceptions.\r\n        } catch (Exception e){\r\n            assertNull(e);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertNull(java.lang.Object)","title":"How to test that no exception is thrown?","body":"<p>Use <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertNull(java.lang.Object)\" rel=\"nofollow noreferrer\">assertNull(...)</a></p>\n\n<pre><code>@Test\npublic void foo() {\n    try {\n        //execute code that you expect not to throw Exceptions.\n    } catch (Exception e){\n        assertNull(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647347,"reputation":1521,"user_id":2289765,"accept_rate":72,"display_name":"Rocky Inde"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1479104448,"creation_date":1479104448,"answer_id":40582914,"question_id":17731234,"body_markdown":"The following fails the test for all exceptions, checked or unchecked:\r\n\r\n    @Test\r\n    public void testMyCode() {\r\n\r\n        try {\r\n            runMyTestCode();\r\n        } catch (Throwable t) {\r\n            throw new Error(&quot;fail!&quot;);\r\n        }\r\n    }\r\n","title":"How to test that no exception is thrown?","body":"<p>The following fails the test for all exceptions, checked or unchecked:</p>\n\n<pre><code>@Test\npublic void testMyCode() {\n\n    try {\n        runMyTestCode();\n    } catch (Throwable t) {\n        throw new Error(\"fail!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"comment_count":0,"down_vote_count":0,"up_vote_count":128,"is_accepted":false,"score":128,"last_activity_date":1648274235,"creation_date":1495180293,"answer_id":44064438,"question_id":17731234,"body_markdown":"For JUnit versions before 5:\r\n\r\nWith [AssertJ fluent assertions 3.7.0][1]:\r\n\r\n    Assertions.assertThatCode(() -&gt; toTest.method())\r\n        .doesNotThrowAnyException();\r\n\r\n----------\r\n**Update:**\r\n\r\nJUnit 5 introduced `assertDoesNotThrow()` assertion, so I&#39;d prefer to use it instead of adding an additional dependency to your project. See [this answer][2] for details.\r\n\r\n[1]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/WithAssertions.html &quot;AssertJ fluent assertions 3.7.0&quot;\r\n[2]:https://stackoverflow.com/a/51768474/913093","title":"How to test that no exception is thrown?","body":"<p>For JUnit versions before 5:</p>\n<p>With <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/WithAssertions.html\" rel=\"noreferrer\" title=\"AssertJ fluent assertions 3.7.0\">AssertJ fluent assertions 3.7.0</a>:</p>\n<pre><code>Assertions.assertThatCode(() -&gt; toTest.method())\n    .doesNotThrowAnyException();\n</code></pre>\n<hr />\n<p><strong>Update:</strong></p>\n<p>JUnit 5 introduced <code>assertDoesNotThrow()</code> assertion, so I'd prefer to use it instead of adding an additional dependency to your project. See <a href=\"https://stackoverflow.com/a/51768474/913093\">this answer</a> for details.</p>\n"},{"comments":[{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":72,"creation_date":1501668603,"post_id":44801486,"comment_id":77875857,"body_markdown":"I think this is the best answer. The accepted answer is great, and the author is correct to point out the code smell. However he didn&#39;t really answer the specific question.","body":"I think this is the best answer. The accepted answer is great, and the author is correct to point out the code smell. However he didn&#39;t really answer the specific question."},{"owner":{"account_id":4885235,"reputation":1691,"user_id":3937903,"accept_rate":86,"display_name":"oziomajnr"},"score":6,"creation_date":1577128453,"post_id":44801486,"comment_id":105101758,"body_markdown":"it is interesting to note that the default value for the expected is None, so just annotating the method with @Test would do.","body":"it is interesting to note that the default value for the expected is None, so just annotating the method with @Test would do."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":10,"creation_date":1596745844,"post_id":44801486,"comment_id":111917970,"body_markdown":"@oziomajnr Just annotating the method with `@Test` does nothing to help with the SonarQube problem.","body":"@oziomajnr Just annotating the method with <code>@Test</code> does nothing to help with the SonarQube problem."},{"owner":{"account_id":10302889,"reputation":319,"user_id":7601057,"accept_rate":82,"display_name":"Ernani"},"score":0,"creation_date":1616614083,"post_id":44801486,"comment_id":118061218,"body_markdown":"This is exactly the same problem as I had. While I totally agree with @jeroen-vannevel &#39;s answer I needed some sort of validation to make sure SonarQube does not raise any issues.","body":"This is exactly the same problem as I had. While I totally agree with @jeroen-vannevel &#39;s answer I needed some sort of validation to make sure SonarQube does not raise any issues."},{"owner":{"account_id":9096833,"reputation":598,"user_id":6770517,"display_name":"Hydes"},"score":19,"creation_date":1621358225,"post_id":44801486,"comment_id":119470373,"body_markdown":"Adding same solution for Junit5: `assertDoesNotThrow(() -&gt; Printer.printLine(&quot;line&quot;));`","body":"Adding same solution for Junit5: <code>assertDoesNotThrow(() -&gt; Printer.printLine(&quot;line&quot;));</code>"},{"owner":{"account_id":952964,"reputation":500,"user_id":978765,"display_name":"Ranch Camal"},"score":0,"creation_date":1653416238,"post_id":44801486,"comment_id":127846150,"body_markdown":"This answer is the best one!","body":"This answer is the best one!"}],"tags":[],"owner":{"account_id":11212114,"reputation":3987,"user_id":8225898,"display_name":"Sven D&#246;ring"},"comment_count":6,"down_vote_count":1,"up_vote_count":261,"is_accepted":false,"score":260,"last_activity_date":1636112434,"creation_date":1498650299,"answer_id":44801486,"question_id":17731234,"body_markdown":"I stumbled upon this because of SonarQube&#39;s rule &quot;squid:S2699&quot;: &quot;Add at least one assertion to this test case.&quot;\r\n\r\nI had a simple test whose only goal was to go through without throwing exceptions.\r\n\r\nConsider this simple code:\r\n\r\n    public class Printer {\r\n\r\n        public static void printLine(final String line) {\r\n            System.out.println(line);\r\n        }\r\n    }\r\n\r\nWhat kind of assertion can be added to test this method?\r\nSure, you can make a try-catch around it, but that is only code bloat.\r\n\r\nThe solution comes from JUnit itself.\r\n\r\nIn case no exception is thrown and you want to explicitly illustrate this behaviour, simply add `expected` as in the following example:\r\n\r\n    @Test(expected = Test.None.class /* no exception expected */)\r\n    public void test_printLine() {\r\n        Printer.printLine(&quot;line&quot;);\r\n    }\r\n\r\n`Test.None.class` is the default for the expected value.\r\n\r\nIf you `import org.junit.Test.None`, you can then write:\r\n\r\n    @Test(expected = None.class)\r\n\r\nwhich you might find more readable.\r\n\r\n","title":"How to test that no exception is thrown?","body":"<p>I stumbled upon this because of SonarQube's rule &quot;squid:S2699&quot;: &quot;Add at least one assertion to this test case.&quot;</p>\n<p>I had a simple test whose only goal was to go through without throwing exceptions.</p>\n<p>Consider this simple code:</p>\n<pre><code>public class Printer {\n\n    public static void printLine(final String line) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n<p>What kind of assertion can be added to test this method?\nSure, you can make a try-catch around it, but that is only code bloat.</p>\n<p>The solution comes from JUnit itself.</p>\n<p>In case no exception is thrown and you want to explicitly illustrate this behaviour, simply add <code>expected</code> as in the following example:</p>\n<pre><code>@Test(expected = Test.None.class /* no exception expected */)\npublic void test_printLine() {\n    Printer.printLine(&quot;line&quot;);\n}\n</code></pre>\n<p><code>Test.None.class</code> is the default for the expected value.</p>\n<p>If you <code>import org.junit.Test.None</code>, you can then write:</p>\n<pre><code>@Test(expected = None.class)\n</code></pre>\n<p>which you might find more readable.</p>\n"},{"comments":[{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1507891956,"post_id":45487563,"comment_id":80402319,"body_markdown":"ExpectedExceptions are used to assert thrown exceptions. The code you provide is just to initialise the rule so you can add your requirements for the assertions. \nThis code itself does not add any value at all. The javadoc also states this: &quot; /**\n     * Returns a {@linkplain TestRule rule} that expects no exception to\n     * be thrown (identical to behavior without this rule).\n     */&quot;\nSo it will have the exact same result as without it.","body":"ExpectedExceptions are used to assert thrown exceptions. The code you provide is just to initialise the rule so you can add your requirements for the assertions.  This code itself does not add any value at all. The javadoc also states this: &quot; /**      * Returns a {@linkplain TestRule rule} that expects no exception to      * be thrown (identical to behavior without this rule).      */&quot; So it will have the exact same result as without it."},{"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"score":0,"creation_date":1507892691,"post_id":45487563,"comment_id":80402758,"body_markdown":"I agree with you, and would not use it that way, but it is possible to assert that no exception has been thrown. If the test passes there should be enough to say that the exception has not been thrown, but in other hand if there is a question there must be a need for it. And rarely but still sometimes is good to have it visible. What if code and circumstances changed and we have no test for some particular edge case?","body":"I agree with you, and would not use it that way, but it is possible to assert that no exception has been thrown. If the test passes there should be enough to say that the exception has not been thrown, but in other hand if there is a question there must be a need for it. And rarely but still sometimes is good to have it visible. What if code and circumstances changed and we have no test for some particular edge case?"},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1507898127,"post_id":45487563,"comment_id":80406140,"body_markdown":"I&#39;m curious to see how you would assert that with expected exception. And yes, if requirements change and you have no test for a particular edge case you&#39;re screwed ;-) always cover all corner cases.","body":"I&#39;m curious to see how you would assert that with expected exception. And yes, if requirements change and you have no test for a particular edge case you&#39;re screwed ;-) always cover all corner cases."},{"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"score":0,"creation_date":1508159960,"post_id":45487563,"comment_id":80488081,"body_markdown":"what do you mean? you don&#39;t assert on it, you expect it. In this case, you expect no exception. Not sure what you on about.","body":"what do you mean? you don&#39;t assert on it, you expect it. In this case, you expect no exception. Not sure what you on about."}],"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1501771524,"creation_date":1501771524,"answer_id":45487563,"question_id":17731234,"body_markdown":"You can expect that exception is not thrown by creating a rule.\r\n\r\n    @Rule\r\n    public ExpectedException expectedException = ExpectedException.none();\r\n","title":"How to test that no exception is thrown?","body":"<p>You can expect that exception is not thrown by creating a rule.</p>\n\n<pre><code>@Rule\npublic ExpectedException expectedException = ExpectedException.none();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":3,"creation_date":1564393679,"post_id":47439449,"comment_id":101002375,"body_markdown":"```private val```? What is this language? Clearly not Java ;p And please, do not provide code as a screenshot, it is not welcomed.","body":"<code>private val</code>? What is this language? Clearly not Java ;p And please, do not provide code as a screenshot, it is not welcomed."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":1,"creation_date":1564393765,"post_id":47439449,"comment_id":101002412,"body_markdown":"I see you&#39;ve mentioned it is Scala, but saying that it can be *easily done* in Java is not a strong argument, I am sorry","body":"I see you&#39;ve mentioned it is Scala, but saying that it can be <i>easily done</i> in Java is not a strong argument, I am sorry"},{"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"score":0,"creation_date":1564487255,"post_id":47439449,"comment_id":101039881,"body_markdown":"I removed the part that bothered you. I will try to replace the image also. Haven&#39;t figured out how to  add code yet..","body":"I removed the part that bothered you. I will try to replace the image also. Haven&#39;t figured out how to  add code yet.."},{"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"score":0,"creation_date":1625670331,"post_id":47439449,"comment_id":120689938,"body_markdown":"ExpectedException.none() is deprecated.","body":"ExpectedException.none() is deprecated."}],"tags":[],"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1564487204,"creation_date":1511367648,"answer_id":47439449,"question_id":17731234,"body_markdown":"You can do it by using a @Rule and then call method reportMissingExceptionWithMessage as shown below:\r\nThis is Scala code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vchwf.png","title":"How to test that no exception is thrown?","body":"<p>You can do it by using a @Rule and then call method reportMissingExceptionWithMessage as shown below:\nThis is Scala code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vchwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vchwf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4645844,"reputation":135,"user_id":3796707,"display_name":"razalghul"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1515088130,"creation_date":1515088130,"answer_id":48100845,"question_id":17731234,"body_markdown":"JUnit5 adds the assertAll() method for this exact purpose.\r\n\r\n    assertAll( () -&gt; foo() )\r\n\r\n[source: JUnit 5 API](http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html)","title":"How to test that no exception is thrown?","body":"<p>JUnit5 adds the assertAll() method for this exact purpose.</p>\n\n<pre><code>assertAll( () -&gt; foo() )\n</code></pre>\n\n<p><a href=\"http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html\" rel=\"noreferrer\">source: JUnit 5 API</a></p>\n"},{"comments":[{"owner":{"account_id":6608852,"reputation":1803,"user_id":6458245,"accept_rate":59,"display_name":"JobHunter69"},"score":1,"creation_date":1595223094,"post_id":51768474,"comment_id":111388382,"body_markdown":"Links have issues","body":"Links have issues"},{"owner":{"account_id":13643482,"reputation":91,"user_id":9843050,"display_name":"Alex"},"score":4,"creation_date":1620292791,"post_id":51768474,"comment_id":119159583,"body_markdown":"You can now do: ```assertDoesNotThrow(myObject::myValidationFunction);```","body":"You can now do: <code>assertDoesNotThrow(myObject::myValidationFunction);</code>"}],"tags":[],"owner":{"account_id":902304,"reputation":52117,"user_id":938111,"accept_rate":84,"display_name":"oHo"},"comment_count":2,"down_vote_count":1,"up_vote_count":302,"is_accepted":false,"score":301,"last_activity_date":1616320036,"creation_date":1533821638,"answer_id":51768474,"question_id":17731234,"body_markdown":"[JUnit 5](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html) (Jupiter) provides three functions to check exception absence/presence:\r\n\r\n### ● [**`assertAll​()`**](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertAll(java.util.Collection))  \r\n\r\n&amp;emsp;    *Asserts* that *all* supplied `executables`  \r\n&amp;emsp;    do not throw exceptions.\r\n\r\n### ● [**`assertDoesNotThrow​()`**](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertDoesNotThrow(org.junit.jupiter.api.function.Executable))  \r\n\r\n&amp;emsp;    *Asserts* that execution of the  \r\n&amp;emsp;    supplied `executable`/`supplier`  \r\n&amp;emsp;    *does not throw* any kind of [exception](https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true).  \r\n\r\n&amp;emsp;    This function is available  \r\n&amp;emsp;    since [JUnit 5.2.0](https://junit.org/junit5/docs/5.2.0/release-notes/#new-features-and-improvements-2) (29 April 2018).\r\n\r\n### ● [**`assertThrows​()`**](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable))  \r\n\r\n&amp;emsp;    *Asserts* that execution of the supplied `executable`  \r\n&amp;emsp;    *throws* an exception of the `expectedType`  \r\n&amp;emsp;    and returns the [exception](https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true).\r\n\r\n\r\n### Example\r\n\r\n    package test.mycompany.myapp.mymodule;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n\r\n    class MyClassTest {\r\n\r\n        @Test\r\n        void when_string_has_been_constructed_then_myFunction_does_not_throw() {\r\n        \tString myString = &quot;this string has been constructed&quot;;\r\n        \tassertAll(() -&gt; MyClass.myFunction(myString));\r\n        }\r\n        \r\n        @Test\r\n        void when_string_has_been_constructed_then_myFunction_does_not_throw__junit_v520() {\r\n        \tString myString = &quot;this string has been constructed&quot;;\r\n        \tassertDoesNotThrow(() -&gt; MyClass.myFunction(myString));\r\n        }\r\n    \r\n        @Test\r\n        void when_string_is_null_then_myFunction_throws_IllegalArgumentException() {\r\n        \tString myString = null;\r\n        \tassertThrows(\r\n        \t\tIllegalArgumentException.class,\r\n        \t\t() -&gt; MyClass.myFunction(myString));\r\n        }\r\n\r\n    }\r\n","title":"How to test that no exception is thrown?","body":"<p><a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"noreferrer\">JUnit 5</a> (Jupiter) provides three functions to check exception absence/presence:</p>\n<h3>● <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertAll(java.util.Collection)\" rel=\"noreferrer\"><strong><code>assertAll​()</code></strong></a></h3>\n<p>     <em>Asserts</em> that <em>all</em> supplied <code>executables</code><br />\n     do not throw exceptions.</p>\n<h3>● <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertDoesNotThrow(org.junit.jupiter.api.function.Executable)\" rel=\"noreferrer\"><strong><code>assertDoesNotThrow​()</code></strong></a></h3>\n<p>     <em>Asserts</em> that execution of the<br />\n     supplied <code>executable</code>/<code>supplier</code><br />\n     <em>does not throw</em> any kind of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true\" rel=\"noreferrer\">exception</a>.</p>\n<p>     This function is available<br />\n     since <a href=\"https://junit.org/junit5/docs/5.2.0/release-notes/#new-features-and-improvements-2\" rel=\"noreferrer\">JUnit 5.2.0</a> (29 April 2018).</p>\n<h3>● <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\" rel=\"noreferrer\"><strong><code>assertThrows​()</code></strong></a></h3>\n<p>     <em>Asserts</em> that execution of the supplied <code>executable</code><br />\n     <em>throws</em> an exception of the <code>expectedType</code><br />\n     and returns the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true\" rel=\"noreferrer\">exception</a>.</p>\n<h3>Example</h3>\n<pre><code>package test.mycompany.myapp.mymodule;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass MyClassTest {\n\n    @Test\n    void when_string_has_been_constructed_then_myFunction_does_not_throw() {\n        String myString = &quot;this string has been constructed&quot;;\n        assertAll(() -&gt; MyClass.myFunction(myString));\n    }\n    \n    @Test\n    void when_string_has_been_constructed_then_myFunction_does_not_throw__junit_v520() {\n        String myString = &quot;this string has been constructed&quot;;\n        assertDoesNotThrow(() -&gt; MyClass.myFunction(myString));\n    }\n\n    @Test\n    void when_string_is_null_then_myFunction_throws_IllegalArgumentException() {\n        String myString = null;\n        assertThrows(\n            IllegalArgumentException.class,\n            () -&gt; MyClass.myFunction(myString));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1032249,"reputation":617,"user_id":1040342,"display_name":"MLS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536816657,"creation_date":1536816657,"answer_id":52307205,"question_id":17731234,"body_markdown":"This may not be the best way but it definitely makes sure that exception is not thrown from the code block that is being tested.\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.Test;\r\n    \r\n    public class AssertionExample {\r\n    \r\n        @Test\r\n        public void testNoException(){\r\n            assertNoException();\r\n        }    \r\n    \r\n        private void assertException(){\r\n            Assertions.assertThatThrownBy(this::doNotThrowException).isInstanceOf(Exception.class);\r\n        }\r\n    \r\n        private void assertNoException(){\r\n            Assertions.assertThatThrownBy(() -&gt; assertException()).isInstanceOf(AssertionError.class);\r\n        }\r\n    \r\n        private void doNotThrowException(){\r\n            //This method will never throw exception\r\n        }\r\n    }","title":"How to test that no exception is thrown?","body":"<p>This may not be the best way but it definitely makes sure that exception is not thrown from the code block that is being tested.</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport org.junit.Test;\n\npublic class AssertionExample {\n\n    @Test\n    public void testNoException(){\n        assertNoException();\n    }    \n\n    private void assertException(){\n        Assertions.assertThatThrownBy(this::doNotThrowException).isInstanceOf(Exception.class);\n    }\n\n    private void assertNoException(){\n        Assertions.assertThatThrownBy(() -&gt; assertException()).isInstanceOf(AssertionError.class);\n    }\n\n    private void doNotThrowException(){\n        //This method will never throw exception\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1931246,"reputation":1297,"user_id":1740593,"accept_rate":95,"display_name":"Vargan"},"score":0,"creation_date":1572442377,"post_id":56705719,"comment_id":103560632,"body_markdown":"There are fairly better option to check that assertion haven&#39;t been thrown which don&#39;t involve creating custom code. @Rule is one of them","body":"There are fairly better option to check that assertion haven&#39;t been thrown which don&#39;t involve creating custom code. @Rule is one of them"},{"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"score":0,"creation_date":1585217804,"post_id":56705719,"comment_id":107686231,"body_markdown":"@Vargan I&#39;ve pointed the method to create your own assertions in the way it is Designed By JUnit especially for the purposes to create your own assertions. JUnit provides that by design, especially for that purpose, to create your own rules, extend the behavior of JUnit with asserts that are not yet implemented. Because not everything is implemented in this world These assertions work identically as JUnit assertion works in terms of passing or failing as well as reporting failures.","body":"@Vargan I&#39;ve pointed the method to create your own assertions in the way it is Designed By JUnit especially for the purposes to create your own assertions. JUnit provides that by design, especially for that purpose, to create your own rules, extend the behavior of JUnit with asserts that are not yet implemented. Because not everything is implemented in this world These assertions work identically as JUnit assertion works in terms of passing or failing as well as reporting failures."},{"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"score":0,"creation_date":1701279997,"post_id":56705719,"comment_id":136757213,"body_markdown":"@Vargan Just curious. Have you ever seen the ***assertThrows/assertDoesNotThrow*** introduced in  junit 5? How do you explain their introduction in the testing framework if there are fairly better option than these? You also might try to debug these assertions to see the implementation. You will be surprised how similar is implementation and usage to the implementation of mine.","body":"@Vargan Just curious. Have you ever seen the <b><i>assertThrows/assertDoesNotThrow</i></b> introduced in  junit 5? How do you explain their introduction in the testing framework if there are fairly better option than these? You also might try to debug these assertions to see the implementation. You will be surprised how similar is implementation and usage to the implementation of mine."},{"owner":{"account_id":1931246,"reputation":1297,"user_id":1740593,"accept_rate":95,"display_name":"Vargan"},"score":0,"creation_date":1701367835,"post_id":56705719,"comment_id":136769901,"body_markdown":"I use Junit 5 quite regularly, yes. I am just not a big fan of reinventing the wheel. I know the implementation is not going to be miles away. But from a unit test point of view, I can reuse them, code, handler, annotations, all of that is handled under the hood without me having to rewrite that code","body":"I use Junit 5 quite regularly, yes. I am just not a big fan of reinventing the wheel. I know the implementation is not going to be miles away. But from a unit test point of view, I can reuse them, code, handler, annotations, all of that is handled under the hood without me having to rewrite that code"},{"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"score":0,"creation_date":1701511687,"post_id":56705719,"comment_id":136786755,"body_markdown":"@Vargan You still did not respond to my question. So, quote literally ```There are fairly better option to check that assertion```. I see the assertion in JUnit 5 is pretty identical to one I did for earlier version, which do not have this assertion. So, you say, JUnit 5 reinvented the wheel and introduced a fairly worse option to check that assertion? Also keep in mind, I used exactly the JUnit functionality designed especially for that purpose, which is providing developers a way to create own assertions.","body":"@Vargan You still did not respond to my question. So, quote literally <code>There are fairly better option to check that assertion</code>. I see the assertion in JUnit 5 is pretty identical to one I did for earlier version, which do not have this assertion. So, you say, JUnit 5 reinvented the wheel and introduced a fairly worse option to check that assertion? Also keep in mind, I used exactly the JUnit functionality designed especially for that purpose, which is providing developers a way to create own assertions."},{"owner":{"account_id":1931246,"reputation":1297,"user_id":1740593,"accept_rate":95,"display_name":"Vargan"},"score":0,"creation_date":1701685749,"post_id":56705719,"comment_id":136802090,"body_markdown":"Except that I replied?  It doesn&#39;t matter if you&#39;re doing the same thing as Junit 5. You&#39;ll have to write code reinventing the wheel, that itself counts for a worse option than using Junit, which is a tested, working and correct implementation that will benefit from updates in the future. I don&#39;t know what else to say in regards to this matter","body":"Except that I replied?  It doesn&#39;t matter if you&#39;re doing the same thing as Junit 5. You&#39;ll have to write code reinventing the wheel, that itself counts for a worse option than using Junit, which is a tested, working and correct implementation that will benefit from updates in the future. I don&#39;t know what else to say in regards to this matter"},{"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"score":0,"creation_date":1701698276,"post_id":56705719,"comment_id":136804322,"body_markdown":"@Vargan So, you tell JUnit 5 ```write code reinventing the wheel``` ? Or what exactly you mean? It was missing in earlier versions of JUnit. Or you tell I reinvented the wheel for the earlier version and there was ```fairly better option to check that assertion```?","body":"@Vargan So, you tell JUnit 5 <code>write code reinventing the wheel</code> ? Or what exactly you mean? It was missing in earlier versions of JUnit. Or you tell I reinvented the wheel for the earlier version and there was <code>fairly better option to check that assertion</code>?"}],"tags":[],"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"comment_count":7,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701279512,"creation_date":1561128491,"answer_id":56705719,"question_id":17731234,"body_markdown":"You can create any kind of your own assertions based on assertions from junit, because these are especially designed for creating user defined asserts intended to work exactly like junit ones:\r\n```java\r\nstatic void assertDoesNotThrow(Executable executable) {\r\n    assertDoesNotThrow(executable, &quot;must not throw&quot;);\r\n}\r\nstatic void assertDoesNotThrow(Executable executable, String message) {\r\n    try {\r\n        executable.execute();\r\n    } catch (Throwable err) {\r\n        fail(message);\r\n    }\r\n}\r\n```\r\nAnd vice versa, assert for expecting an exception\r\n```java\r\nstatic void assertThrow(Executable executable) {\r\n    assertThrow(executable, &quot;must throw&quot;);\r\n}\r\nstatic void assertThrow(Executable executable, String message) {\r\n    try {\r\n        executable.execute();\r\n        fail(message); //fail here because something must be thrown\r\n    } catch (Throwable err) {\r\n    }\r\n}\r\n```\r\nNow testing the so called scenario **methodMustNotThrow** and log all failures in a junit style:\r\n```java\r\n//test and log with default and custom messages\r\n//the following will succeed\r\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1));\r\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1), &quot;custom facepalm&quot;);\r\n//the following will fail\r\nassertDoesNotThrow(()-&gt;methodMustNotThrow(2));\r\nassertDoesNotThrow(()-&gt; {throw new Exception(&quot;Hello world&quot;);}, &quot;message&quot;);\r\n//See implementation of methodMustNotThrow below\r\n```\r\nGenerally speaking there is possibility to instantly fail anything the test in any scenarios, in any place where it makes sense by calling ```fail(someMessage)```, which is designed exactly for this purpose. For instance use it in a try/catch block to fail if anything is thrown in the test case:\r\n```\r\ntry{methodMustNotThrow(1);}catch(Throwable e){fail(&quot;must not throw&quot;);}\r\ntry{methodMustNotThrow(1);}catch(Throwable e){Assertions.fail(&quot;must not throw&quot;);}\r\n```\r\nThis is the sample of the method we test, supposing we have such a method that must not fail under specific circumstances, but it can fail:\r\n```\r\nvoid methodMustNotThrow(int x) throws Exception {\r\n    if (x == 1) return;\r\n    throw new Exception();\r\n}\r\n```\r\nThe above method is a simple sample. But this works for complex situations, where the failure is not so obvious. \r\nThere are the imports:\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.function.Executable;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n```","title":"How to test that no exception is thrown?","body":"<p>You can create any kind of your own assertions based on assertions from junit, because these are especially designed for creating user defined asserts intended to work exactly like junit ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void assertDoesNotThrow(Executable executable) {\n    assertDoesNotThrow(executable, &quot;must not throw&quot;);\n}\nstatic void assertDoesNotThrow(Executable executable, String message) {\n    try {\n        executable.execute();\n    } catch (Throwable err) {\n        fail(message);\n    }\n}\n</code></pre>\n<p>And vice versa, assert for expecting an exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void assertThrow(Executable executable) {\n    assertThrow(executable, &quot;must throw&quot;);\n}\nstatic void assertThrow(Executable executable, String message) {\n    try {\n        executable.execute();\n        fail(message); //fail here because something must be thrown\n    } catch (Throwable err) {\n    }\n}\n</code></pre>\n<p>Now testing the so called scenario <strong>methodMustNotThrow</strong> and log all failures in a junit style:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//test and log with default and custom messages\n//the following will succeed\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1));\nassertDoesNotThrow(()-&gt;methodMustNotThrow(1), &quot;custom facepalm&quot;);\n//the following will fail\nassertDoesNotThrow(()-&gt;methodMustNotThrow(2));\nassertDoesNotThrow(()-&gt; {throw new Exception(&quot;Hello world&quot;);}, &quot;message&quot;);\n//See implementation of methodMustNotThrow below\n</code></pre>\n<p>Generally speaking there is possibility to instantly fail anything the test in any scenarios, in any place where it makes sense by calling <code>fail(someMessage)</code>, which is designed exactly for this purpose. For instance use it in a try/catch block to fail if anything is thrown in the test case:</p>\n<pre><code>try{methodMustNotThrow(1);}catch(Throwable e){fail(&quot;must not throw&quot;);}\ntry{methodMustNotThrow(1);}catch(Throwable e){Assertions.fail(&quot;must not throw&quot;);}\n</code></pre>\n<p>This is the sample of the method we test, supposing we have such a method that must not fail under specific circumstances, but it can fail:</p>\n<pre><code>void methodMustNotThrow(int x) throws Exception {\n    if (x == 1) return;\n    throw new Exception();\n}\n</code></pre>\n<p>The above method is a simple sample. But this works for complex situations, where the failure is not so obvious.\nThere are the imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.function.Executable;\nimport static org.junit.jupiter.api.Assertions.*;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1472916,"reputation":1703,"user_id":1384013,"accept_rate":50,"display_name":"Ubeogesh"},"score":0,"creation_date":1592400236,"post_id":59904236,"comment_id":110411623,"body_markdown":"I wish there was a way to specify concrete exception class here. I have to do this inside `Awaitility`&#39;s `untilAsserted(ThrowingRunnable assertion)`. System under test is currently throwing a specific exception on the ThrowingRunnable I provide, but I want to give it some time until it stops doing so. However if it would throw a different exception I would like the test to fail instantly.","body":"I wish there was a way to specify concrete exception class here. I have to do this inside <code>Awaitility</code>&#39;s <code>untilAsserted(ThrowingRunnable assertion)</code>. System under test is currently throwing a specific exception on the ThrowingRunnable I provide, but I want to give it some time until it stops doing so. However if it would throw a different exception I would like the test to fail instantly."}],"tags":[],"owner":{"account_id":1201633,"reputation":2153,"user_id":1172194,"accept_rate":92,"display_name":"Dinesh Arora"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1579903221,"creation_date":1579903221,"answer_id":59904236,"question_id":17731234,"body_markdown":"Although this post is 6 years old now, however, a lot has changed in the Junit world. With Junit5, you can now use\r\n```\r\norg.junit.jupiter.api.Assertions.assertDoesNotThrow()\r\n```\r\nEx:\r\n```\r\npublic void thisMethodDoesNotThrowException(){\r\n   System.out.println(&quot;Hello There&quot;);\r\n}\r\n\r\n@Test\r\npublic void test_thisMethodDoesNotThrowException(){\r\n  org.junit.jupiter.api.Assertions.assertDoesNotThrow(\r\n      ()-&gt; thisMethodDoesNotThrowException()\r\n    );\r\n}\r\n```\r\nHope it will help people who are using newer version of Junit5","title":"How to test that no exception is thrown?","body":"<p>Although this post is 6 years old now, however, a lot has changed in the Junit world. With Junit5, you can now use</p>\n\n<pre><code>org.junit.jupiter.api.Assertions.assertDoesNotThrow()\n</code></pre>\n\n<p>Ex:</p>\n\n<pre><code>public void thisMethodDoesNotThrowException(){\n   System.out.println(\"Hello There\");\n}\n\n@Test\npublic void test_thisMethodDoesNotThrowException(){\n  org.junit.jupiter.api.Assertions.assertDoesNotThrow(\n      ()-&gt; thisMethodDoesNotThrowException()\n    );\n}\n</code></pre>\n\n<p>Hope it will help people who are using newer version of Junit5</p>\n"},{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1604594082,"creation_date":1604593314,"answer_id":64701192,"question_id":17731234,"body_markdown":"To test a scenario with a void method like\r\n\r\n    void testMeWell() throws SomeException {..}\r\n\r\nto __not throw__ an exception:\r\n\r\n**Junit5**\r\n\r\n    assertDoesNotThrow(() -&gt; {\r\n        testMeWell();\r\n    });\r\n","title":"How to test that no exception is thrown?","body":"<p>To test a scenario with a void method like</p>\n<pre><code>void testMeWell() throws SomeException {..}\n</code></pre>\n<p>to <strong>not throw</strong> an exception:</p>\n<p><strong>Junit5</strong></p>\n<pre><code>assertDoesNotThrow(() -&gt; {\n    testMeWell();\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3437600,"reputation":1356,"user_id":2880342,"accept_rate":55,"display_name":"GoodJuJu"},"score":0,"creation_date":1608126216,"post_id":65323952,"comment_id":115486806,"body_markdown":"Welcome to SO.  Your question was flagged for &#39;Late Answer&#39; review as the question is 7 \n years old and has 17 other answers.  Whilst your answer may provide some value, very late answers will often be downvoted.","body":"Welcome to SO.  Your question was flagged for &#39;Late Answer&#39; review as the question is 7   years old and has 17 other answers.  Whilst your answer may provide some value, very late answers will often be downvoted."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647837376,"post_id":65323952,"comment_id":126462950,"body_markdown":"Furthermore, it is (almost) identical to the solution that the OP proposed in the first place ... asking for improvements.","body":"Furthermore, it is (almost) identical to the solution that the OP proposed in the first place ... asking for improvements."}],"tags":[],"owner":{"account_id":6109044,"reputation":69,"user_id":4765953,"accept_rate":0,"display_name":"Yair Landmann"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1608124127,"creation_date":1608124127,"answer_id":65323952,"question_id":17731234,"body_markdown":"I faced the same situation, I needed to check that exception is thrown when it should, and only when it should.\r\nEnded up using the exception handler to my benefit with the following code:\r\n\r\n        try {\r\n            functionThatMightThrowException()\r\n        }catch (Exception e){\r\n            Assert.fail(&quot;should not throw exception&quot;);\r\n        }\r\n        RestOfAssertions();\r\n\r\nThe main benefit for me was that it is quite straight forward and to check the other way of the &quot;if and only if&quot; is really easy in this same structure ","title":"How to test that no exception is thrown?","body":"<p>I faced the same situation, I needed to check that exception is thrown when it should, and only when it should.\nEnded up using the exception handler to my benefit with the following code:</p>\n<pre><code>    try {\n        functionThatMightThrowException()\n    }catch (Exception e){\n        Assert.fail(&quot;should not throw exception&quot;);\n    }\n    RestOfAssertions();\n</code></pre>\n<p>The main benefit for me was that it is quite straight forward and to check the other way of the &quot;if and only if&quot; is really easy in this same structure</p>\n"},{"tags":[],"owner":{"account_id":15017113,"reputation":161,"user_id":10839796,"display_name":"Werner Diwischek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637164811,"creation_date":1637164811,"answer_id":70007709,"question_id":17731234,"body_markdown":"Stumbled over this issue since I created some generic methods like\r\n```  \r\n@Test\r\nvoid testSomething() {\r\n   checkGeneric(anComplexObect)\r\n}\r\n```\r\n\r\nIn https://newbedev.com/sonarqube-issue-add-at-least-one-assertion-to-this-test-case-for-unit-test-with-assertions some annotation stuff is proposed. \r\n\r\nThe solution is much more simple. It&#39;s enough to rename the &quot;checkGeneric&quot; method to &quot;assertGeneric&quot;.\r\n\r\n```\r\n@Test\r\nvoid testSomething() {\r\n  assertGeneric(anComplexObect)\r\n}","title":"How to test that no exception is thrown?","body":"<p>Stumbled over this issue since I created some generic methods like</p>\n<pre><code>@Test\nvoid testSomething() {\n   checkGeneric(anComplexObect)\n}\n</code></pre>\n<p>In <a href=\"https://newbedev.com/sonarqube-issue-add-at-least-one-assertion-to-this-test-case-for-unit-test-with-assertions\" rel=\"nofollow noreferrer\">https://newbedev.com/sonarqube-issue-add-at-least-one-assertion-to-this-test-case-for-unit-test-with-assertions</a> some annotation stuff is proposed.</p>\n<p>The solution is much more simple. It's enough to rename the &quot;checkGeneric&quot; method to &quot;assertGeneric&quot;.</p>\n<pre><code>@Test\nvoid testSomething() {\n  assertGeneric(anComplexObect)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354413,"reputation":1012,"user_id":1293121,"display_name":"Douglas Caina"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651586484,"creation_date":1651586484,"answer_id":72100596,"question_id":17731234,"body_markdown":"I end up doing like this\r\n\r\n    @Test\r\n    fun `Should not throw`() {\r\n        whenever(authService.isAdmin()).thenReturn(true)\r\n\r\n        assertDoesNotThrow {\r\n            service.throwIfNotAllowed(&quot;client&quot;)\r\n        }\r\n    }","title":"How to test that no exception is thrown?","body":"<p>I end up doing like this</p>\n<pre><code>@Test\nfun `Should not throw`() {\n    whenever(authService.isAdmin()).thenReturn(true)\n\n    assertDoesNotThrow {\n        service.throwIfNotAllowed(&quot;client&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6905825,"reputation":599,"user_id":5654696,"display_name":"Canatto Filipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668176177,"creation_date":1668176177,"answer_id":74403794,"question_id":17731234,"body_markdown":"AssertJ can handle this scenario:\r\n\r\n    assertThatNoException().isThrownBy(() -&gt; System.out.println(&quot;OK&quot;));\r\n\r\nCheck the doc for more information https://assertj.github.io/doc/#assertj-core-exception-assertions-no-exception\r\n\r\n","title":"How to test that no exception is thrown?","body":"<p>AssertJ can handle this scenario:</p>\n<pre><code>assertThatNoException().isThrownBy(() -&gt; System.out.println(&quot;OK&quot;));\n</code></pre>\n<p>Check the doc for more information <a href=\"https://assertj.github.io/doc/#assertj-core-exception-assertions-no-exception\" rel=\"noreferrer\">https://assertj.github.io/doc/#assertj-core-exception-assertions-no-exception</a></p>\n"}],"owner":{"account_id":189322,"reputation":6684,"user_id":428598,"accept_rate":61,"display_name":"Ankit Dhingra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564980,"favorite_count":0,"down_vote_count":1,"up_vote_count":444,"accepted_answer_id":17731324,"answer_count":20,"score":443,"last_activity_date":1701279512,"creation_date":1374172065,"question_id":17731234,"body_markdown":"I know that one way to do it would be:\r\n\r\n    @Test\r\n    public void foo() {\r\n       try {\r\n          // execute code that you expect not to throw Exceptions.\r\n       } catch(Exception e) {\r\n          fail(&quot;Should not have thrown any exception&quot;);\r\n       }\r\n    }\r\n\r\n\r\nIs there any cleaner way of doing this? (Probably using Junit&#39;s `@Rule`?)","title":"How to test that no exception is thrown?","body":"<p>I know that one way to do it would be:</p>\n<pre><code>@Test\npublic void foo() {\n   try {\n      // execute code that you expect not to throw Exceptions.\n   } catch(Exception e) {\n      fail(&quot;Should not have thrown any exception&quot;);\n   }\n}\n</code></pre>\n<p>Is there any cleaner way of doing this? (Probably using Junit's <code>@Rule</code>?)</p>\n"},{"tags":["java","android","kotlin","android-relativelayout"],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701279321,"creation_date":1701279321,"answer_id":77573380,"question_id":77537330,"body_markdown":"I think that issue generated when you tried to set `EditText` **x** and **y** from Kotlin side.\r\n\r\nthe property `android:windowSoftInputMode=&quot;adjustResize&quot;` into &lt;Activity&gt; in `Manifest.` that is work for all Android device, but in your case i noticed a difference when you set **X** and **Y** programmatically.\r\n\r\n&gt; You should try this one. i hope its work for you\r\n```kotlin\r\noverride fun onCreate(){\r\n    // ...\r\n    relativeLayout.addView(textField) // your last line add bellow of that code\r\n\r\n    val rootView = findViewById&lt;View&gt;(android.R.id.content)\r\n\r\n    rootView.viewTreeObserver.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {\r\n        override fun onPreDraw(): Boolean {\r\n            val heightDiff = rootView.height - relativeLayout.height\r\n\r\n            if (heightDiff &gt; 100) { // Adjust this threshold according to your needs\r\n                // Soft keyboard is shown\r\n                val newTopMargin = 2200 - heightDiff\r\n                textField_layoutparams.topMargin = newTopMargin\r\n                textField.layoutParams = textField_layoutparams\r\n            } else {\r\n                // Soft keyboard is hidden\r\n                textField_layoutparams.topMargin = 2200\r\n                textField.layoutParams = textField_layoutparams\r\n            }\r\n\r\n            return true\r\n        }\r\n    })\r\n}\r\n```","title":"windowSoftInputMode=&quot;adjustResize&quot; doesn&#39;t seems to work in case of Absolute Positioning in Relative Layout","body":"<p>I think that issue generated when you tried to set <code>EditText</code> <strong>x</strong> and <strong>y</strong> from Kotlin side.</p>\n<p>the property <code>android:windowSoftInputMode=&quot;adjustResize&quot;</code> into  in <code>Manifest.</code> that is work for all Android device, but in your case i noticed a difference when you set <strong>X</strong> and <strong>Y</strong> programmatically.</p>\n<blockquote>\n<p>You should try this one. i hope its work for you</p>\n</blockquote>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onCreate(){\n    // ...\n    relativeLayout.addView(textField) // your last line add bellow of that code\n\n    val rootView = findViewById&lt;View&gt;(android.R.id.content)\n\n    rootView.viewTreeObserver.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {\n        override fun onPreDraw(): Boolean {\n            val heightDiff = rootView.height - relativeLayout.height\n\n            if (heightDiff &gt; 100) { // Adjust this threshold according to your needs\n                // Soft keyboard is shown\n                val newTopMargin = 2200 - heightDiff\n                textField_layoutparams.topMargin = newTopMargin\n                textField.layoutParams = textField_layoutparams\n            } else {\n                // Soft keyboard is hidden\n                textField_layoutparams.topMargin = 2200\n                textField.layoutParams = textField_layoutparams\n            }\n\n            return true\n        }\n    })\n}\n</code></pre>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701279321,"creation_date":1700746715,"question_id":77537330,"body_markdown":"I have an EditText in the lower part of my Android screen as shown in image. Due to some project contraints I&#39;m supposed to use only Absolute positioning.\r\n\r\nWhen clicked on the EditText the soft keyboard hides the EditText as shown in the other image.\r\n\r\n[![enter image description here][1]][1] \r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried putting android:windowSoftInputMode=&quot;adjustResize&quot; in the manifest file (also tried adjustPan) \r\nIt only works for relative positioning (commented textField_layoutparams code below) but doesn&#39;t seems to be working for absolute positioning.\r\n\r\nEven tried putting a ScrollView (commented code below) but it doesn&#39;t work.\r\n\r\nCode:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n            val scrollView: ScrollView\r\n            val relativeLayout: RelativeLayout\r\n            val textField: EditText\r\n\r\n        /*scrollView = ScrollView (this)\r\n        scrollView.layoutParams = RelativeLayout.LayoutParams(\r\n            RelativeLayout.LayoutParams.MATCH_PARENT,\r\n            RelativeLayout.LayoutParams.MATCH_PARENT\r\n        )*/\r\n        //scrollView.isFillViewport = true\r\n\r\n        //setContentView(scrollView)\r\n\r\n        relativeLayout = RelativeLayout(this)\r\n        relativeLayout.layoutParams = RelativeLayout.LayoutParams (\r\n            RelativeLayout.LayoutParams.MATCH_PARENT,\r\n            RelativeLayout.LayoutParams.MATCH_PARENT\r\n        )\r\n        relativeLayout.setBackgroundColor(Color.parseColor(&quot;#0000FF&quot;))\r\n\r\n        //scrollView.addView(relativeLayout)\r\n        setContentView (relativeLayout)\r\n\r\n        textField = EditText(this)\r\n\r\n        val textField_layoutparams: LayoutParams\r\n        textField_layoutparams = RelativeLayout.LayoutParams (\r\n            400,\r\n            150\r\n        )\r\n        textField.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;))\r\n\r\n        //textField_layoutparams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE)\r\n        //textField_layoutparams.addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE)\r\n        //textField_layoutparams.setMargins(0, 0, 0, 200)\r\n        textField.layoutParams = textField_layoutparams\r\n        textField.hint = &quot;Enter Text&quot;\r\n        textField.x = 500F\r\n        textField.y = 2200F\r\n\r\n        relativeLayout.addView(textField)\r\n    }\r\n\r\n    /**\r\n     * A native method that is implemented by the &#39;scrollviewpoc&#39; native library,\r\n     * which is packaged with this application.\r\n     */\r\n    external fun stringFromJNI(): String\r\n\r\n    companion object {\r\n        // Used to load the &#39;scrollviewpoc&#39; library on application startup.\r\n        init {\r\n            System.loadLibrary(&quot;scrollviewpoc&quot;)\r\n        }\r\n    }\r\n    }\r\n\r\nIs there any way to achieve the desired behaviour in case of Absolute positioning?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Tempm.png\r\n  [2]: https://i.stack.imgur.com/lJw4hm.png\r\n ","title":"windowSoftInputMode=&quot;adjustResize&quot; doesn&#39;t seems to work in case of Absolute Positioning in Relative Layout","body":"<p>I have an EditText in the lower part of my Android screen as shown in image. Due to some project contraints I'm supposed to use only Absolute positioning.</p>\n<p>When clicked on the EditText the soft keyboard hides the EditText as shown in the other image.</p>\n<p><a href=\"https://i.stack.imgur.com/2Tempm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Tempm.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/lJw4hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lJw4hm.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried putting android:windowSoftInputMode=&quot;adjustResize&quot; in the manifest file (also tried adjustPan)\nIt only works for relative positioning (commented textField_layoutparams code below) but doesn't seems to be working for absolute positioning.</p>\n<p>Even tried putting a ScrollView (commented code below) but it doesn't work.</p>\n<p>Code:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var binding: ActivityMainBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n        val scrollView: ScrollView\n        val relativeLayout: RelativeLayout\n        val textField: EditText\n\n    /*scrollView = ScrollView (this)\n    scrollView.layoutParams = RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.MATCH_PARENT,\n        RelativeLayout.LayoutParams.MATCH_PARENT\n    )*/\n    //scrollView.isFillViewport = true\n\n    //setContentView(scrollView)\n\n    relativeLayout = RelativeLayout(this)\n    relativeLayout.layoutParams = RelativeLayout.LayoutParams (\n        RelativeLayout.LayoutParams.MATCH_PARENT,\n        RelativeLayout.LayoutParams.MATCH_PARENT\n    )\n    relativeLayout.setBackgroundColor(Color.parseColor(&quot;#0000FF&quot;))\n\n    //scrollView.addView(relativeLayout)\n    setContentView (relativeLayout)\n\n    textField = EditText(this)\n\n    val textField_layoutparams: LayoutParams\n    textField_layoutparams = RelativeLayout.LayoutParams (\n        400,\n        150\n    )\n    textField.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;))\n\n    //textField_layoutparams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE)\n    //textField_layoutparams.addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE)\n    //textField_layoutparams.setMargins(0, 0, 0, 200)\n    textField.layoutParams = textField_layoutparams\n    textField.hint = &quot;Enter Text&quot;\n    textField.x = 500F\n    textField.y = 2200F\n\n    relativeLayout.addView(textField)\n}\n\n/**\n * A native method that is implemented by the 'scrollviewpoc' native library,\n * which is packaged with this application.\n */\nexternal fun stringFromJNI(): String\n\ncompanion object {\n    // Used to load the 'scrollviewpoc' library on application startup.\n    init {\n        System.loadLibrary(&quot;scrollviewpoc&quot;)\n    }\n}\n}\n</code></pre>\n<p>Is there any way to achieve the desired behaviour in case of Absolute positioning?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1683889919,"post_id":76235681,"comment_id":134439330,"body_markdown":"If I&#39;m not mistaken, Spring Batch 4 requires Java 8 but Spring Framework 3 only supports 1.5, 6 and 7 so I don&#39;t think you can make this work.","body":"If I&#39;m not mistaken, Spring Batch 4 requires Java 8 but Spring Framework 3 only supports 1.5, 6 and 7 so I don&#39;t think you can make this work."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683890265,"post_id":76235681,"comment_id":134439414,"body_markdown":"I guess @Lucifer meant Spring Boot 3.0.5?","body":"I guess @Lucifer meant Spring Boot 3.0.5?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683890424,"post_id":76235681,"comment_id":134439457,"body_markdown":"You don&#39;t need to share the company code but how shell we understand the issue? Please provide a simplified version of code causing this &quot;obj.getclass() is null&#39; error.","body":"You don&#39;t need to share the company code but how shell we understand the issue? Please provide a simplified version of code causing this &quot;obj.getclass() is null&#39; error."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701279230,"creation_date":1683893450,"answer_id":76236151,"question_id":76235681,"body_markdown":"The [documentation][1] says that Spring Batch 4.3.8 depends on Spring Framework 5.3. If you need compatibility with an older version of Spring Framework you would need to use an older version of Spring Batch, like it is mentioned in this answer: https://stackoverflow.com/a/43846616/721855.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/4.3.8/reference/html/whatsnew.html#dependencyUpdates","title":"Spring Batch 4.3.8 compatible with spring framework 3.0.5?","body":"<p>The <a href=\"https://docs.spring.io/spring-batch/docs/4.3.8/reference/html/whatsnew.html#dependencyUpdates\" rel=\"nofollow noreferrer\">documentation</a> says that Spring Batch 4.3.8 depends on Spring Framework 5.3. If you need compatibility with an older version of Spring Framework you would need to use an older version of Spring Batch, like it is mentioned in this answer: <a href=\"https://stackoverflow.com/a/43846616/721855\">https://stackoverflow.com/a/43846616/721855</a>.</p>\n"}],"owner":{"account_id":11229190,"reputation":1,"user_id":8237853,"display_name":"Lucifer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701279230,"creation_date":1683889465,"question_id":76235681,"body_markdown":"I need to know if springbatch(4.3.8) is or anyhow can be made compatible with springframework 3.0.5. I am getting an error if using.\r\n\r\nThe error being obj.getclass() is null. But nothing is passed as null. \r\n\r\nCode I cant display over here as it will be a policy violation of the company. \r\n\r\nTried with 5.0.1 but seems like it will be a huge change.","title":"Spring Batch 4.3.8 compatible with spring framework 3.0.5?","body":"<p>I need to know if springbatch(4.3.8) is or anyhow can be made compatible with springframework 3.0.5. I am getting an error if using.</p>\n<p>The error being obj.getclass() is null. But nothing is passed as null.</p>\n<p>Code I cant display over here as it will be a policy violation of the company.</p>\n<p>Tried with 5.0.1 but seems like it will be a huge change.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","optimistic-locking"],"answers":[{"comments":[{"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"score":0,"creation_date":1701278923,"post_id":77569125,"comment_id":136757026,"body_markdown":"https://stackoverflow.com/questions/36188917/how-to-fix-elasticsearch-conflicts-on-the-same-key-when-two-process-writing-at-t\nfound the solution here. will duplicate with answer to the question and that&#39;s it. everything is working now\nthanks for help","body":"<a href=\"https://stackoverflow.com/questions/36188917/how-to-fix-elasticsearch-conflicts-on-the-same-key-when-two-process-writing-at-t\" title=\"how to fix elasticsearch conflicts on the same key when two process writing at t\">stackoverflow.com/questions/36188917/&hellip;</a> found the solution here. will duplicate with answer to the question and that&#39;s it. everything is working now thanks for help"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701240989,"creation_date":1701240989,"answer_id":77569125,"question_id":77567192,"body_markdown":"&gt; how to do it via spring boot\r\n\r\nSpring Data Elasticsearch is not Spring Boot.\r\n\r\nThe versioning management of an index can be defined with `versionType` property of the`@Document` annotation. \r\n\r\nNote that the current version of the Elasticsearch documentation (https://www.elastic.co/guide/en/elasticsearch/reference/8.11/optimistic-concurrency-control.html) only describes optimistic locking using __seq_no_ and __primary_term_ (which is supported by Spring Data Elasticsearch as well). Using a version field was the previous way to do this, you might better migrate.\r\n\r\nAnother thing:\r\nPlease annotate your id property with `@Id` instead of relying it to be detetced by the name, you can omit the `@Field` annotation on the id field then.","title":"Elasticsearch and spring data (optimistic locking)","body":"<blockquote>\n<p>how to do it via spring boot</p>\n</blockquote>\n<p>Spring Data Elasticsearch is not Spring Boot.</p>\n<p>The versioning management of an index can be defined with <code>versionType</code> property of the<code>@Document</code> annotation.</p>\n<p>Note that the current version of the Elasticsearch documentation (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.11/optimistic-concurrency-control.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/8.11/optimistic-concurrency-control.html</a>) only describes optimistic locking using _<em>seq_no</em> and _<em>primary_term</em> (which is supported by Spring Data Elasticsearch as well). Using a version field was the previous way to do this, you might better migrate.</p>\n<p>Another thing:\nPlease annotate your id property with <code>@Id</code> instead of relying it to be detetced by the name, you can omit the <code>@Field</code> annotation on the id field then.</p>\n"},{"tags":[],"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701279100,"creation_date":1701279100,"answer_id":77573356,"question_id":77567192,"body_markdown":"Found problem here https://stackoverflow.com/questions/36188917/how-to-fix-elasticsearch-conflicts-on-the-same-key-when-two-process-writing-at-t , and the solution is just increment by yourself the version, spring data elastic can&#39;t do it &quot;on fly&quot;\r\n```\r\n  public TestIndex update(String id, String text) {\r\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\r\n        testIndex.setText(text);\r\n        testIndex.setIndexVersion(testIndex.getIndexVersion() + 1);\r\n        return testRepository.save(testIndex);\r\n    }\r\n```\r\nelastic checking if version is upgraded, and throwing optimistic lock if it is less or equal\r\n`current version [1] is higher or equal to the one provided [1]`\r\nthe message was a little bit confused with the equal, but now working well\r\n","title":"Elasticsearch and spring data (optimistic locking)","body":"<p>Found problem here <a href=\"https://stackoverflow.com/questions/36188917/how-to-fix-elasticsearch-conflicts-on-the-same-key-when-two-process-writing-at-t\">How to fix ElasticSearch conflicts on the same key when two process writing at the same time</a> , and the solution is just increment by yourself the version, spring data elastic can't do it &quot;on fly&quot;</p>\n<pre><code>  public TestIndex update(String id, String text) {\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\n        testIndex.setText(text);\n        testIndex.setIndexVersion(testIndex.getIndexVersion() + 1);\n        return testRepository.save(testIndex);\n    }\n</code></pre>\n<p>elastic checking if version is upgraded, and throwing optimistic lock if it is less or equal\n<code>current version [1] is higher or equal to the one provided [1]</code>\nthe message was a little bit confused with the equal, but now working well</p>\n"}],"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701279100,"creation_date":1701206211,"question_id":77567192,"body_markdown":"I have a question about some automation implementation it via elastic spring boot data.\r\n``` @Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(indexName = &quot;super_test_index&quot;)\r\npublic class TestIndex {\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private String id;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String text;\r\n\r\n    @CreatedDate\r\n    private Instant createDate;\r\n\r\n    @LastModifiedDate\r\n    private Instant updateDate;\r\n\r\n    @Version\r\n    private Long indexVersion;\r\n}\r\n```\r\nadded repository\r\n```\r\n@Repository\r\npublic interface TestRepository extends ElasticsearchRepository&lt;TestIndex, String&gt; {\r\n}\r\n```\r\nand implemented simple code\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class TestService {\r\n\r\n    private final TestRepository testRepository;\r\n\r\n\r\n    public TestIndex save() {\r\n        TestIndex testIndex = TestIndex.builder()\r\n                .id(UUID.randomUUID().toString())\r\n                .text(&quot;test&quot;)\r\n                .build();\r\n        return testRepository.save(testIndex);\r\n    }\r\n\r\n    public TestIndex update(String id, String text) {\r\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\r\n        testIndex.setText(text);\r\n        return testRepository.save(testIndex);\r\n    }\r\n\r\n}\r\n```\r\nand call it via controller\r\n```\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class TestController {\r\n\r\n    private final TestService testService;\r\n\r\n\r\n    @PostMapping(&quot;/api/test/save&quot;)\r\n    public TestIndex save() {\r\n        return testService.save();\r\n    }\r\n\r\n    @PostMapping(&quot;/api/test/update&quot;)\r\n    public TestIndex update(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;text&quot;) String text) {\r\n        return testService.update(id, text);\r\n    }\r\n\r\n}\r\n```\r\non create I got updated document\r\n```\r\n{\r\n  &quot;id&quot;: &quot;9a16210a-3ab7-4d52-bcd2-ec87f46cc403&quot;,\r\n  &quot;text&quot;: &quot;test&quot;,\r\n  &quot;createDate&quot;: null,\r\n  &quot;updateDate&quot;: null,\r\n  &quot;indexVersion&quot;: 1\r\n}\r\n```\r\nbut on updating it\r\n```\r\n  &quot;exception&quot;: &quot;Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]; nested exception is [super_test_index/e03tZCuoRzeJB2SpVQIefQ][[super_test_index][0]] ElasticsearchStatusException[Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]]&quot;\r\n```\r\nreceiving the error message. So I have a few questions:\r\n1. Is it event possible to configure optimistic locking via spring data elastic? \r\n2. How to configure creation date/updating date for the fields, or i have to do it manually?\r\n\r\nI just found some information about i have to configure the version controlling like &#39;external version&#39; but I didn&#39;t get it how to do it via spring boot. I did the same as for a jpa repositories/entities, but never done for elastic.\r\n\r\n","title":"Elasticsearch and spring data (optimistic locking)","body":"<p>I have a question about some automation implementation it via elastic spring boot data.</p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(indexName = &quot;super_test_index&quot;)\npublic class TestIndex {\n\n    @Field(type = FieldType.Keyword)\n    private String id;\n\n    @Field(type = FieldType.Text)\n    private String text;\n\n    @CreatedDate\n    private Instant createDate;\n\n    @LastModifiedDate\n    private Instant updateDate;\n\n    @Version\n    private Long indexVersion;\n}\n</code></pre>\n<p>added repository</p>\n<pre><code>@Repository\npublic interface TestRepository extends ElasticsearchRepository&lt;TestIndex, String&gt; {\n}\n</code></pre>\n<p>and implemented simple code</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class TestService {\n\n    private final TestRepository testRepository;\n\n\n    public TestIndex save() {\n        TestIndex testIndex = TestIndex.builder()\n                .id(UUID.randomUUID().toString())\n                .text(&quot;test&quot;)\n                .build();\n        return testRepository.save(testIndex);\n    }\n\n    public TestIndex update(String id, String text) {\n        TestIndex testIndex = testRepository.findById(id).orElseThrow();\n        testIndex.setText(text);\n        return testRepository.save(testIndex);\n    }\n\n}\n</code></pre>\n<p>and call it via controller</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class TestController {\n\n    private final TestService testService;\n\n\n    @PostMapping(&quot;/api/test/save&quot;)\n    public TestIndex save() {\n        return testService.save();\n    }\n\n    @PostMapping(&quot;/api/test/update&quot;)\n    public TestIndex update(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;text&quot;) String text) {\n        return testService.update(id, text);\n    }\n\n}\n</code></pre>\n<p>on create I got updated document</p>\n<pre><code>{\n  &quot;id&quot;: &quot;9a16210a-3ab7-4d52-bcd2-ec87f46cc403&quot;,\n  &quot;text&quot;: &quot;test&quot;,\n  &quot;createDate&quot;: null,\n  &quot;updateDate&quot;: null,\n  &quot;indexVersion&quot;: 1\n}\n</code></pre>\n<p>but on updating it</p>\n<pre><code>  &quot;exception&quot;: &quot;Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]; nested exception is [super_test_index/e03tZCuoRzeJB2SpVQIefQ][[super_test_index][0]] ElasticsearchStatusException[Elasticsearch exception [type=version_conflict_engine_exception, reason=[9a16210a-3ab7-4d52-bcd2-ec87f46cc403]: version conflict, current version [1] is higher or equal to the one provided [1]]]&quot;\n</code></pre>\n<p>receiving the error message. So I have a few questions:</p>\n<ol>\n<li>Is it event possible to configure optimistic locking via spring data elastic?</li>\n<li>How to configure creation date/updating date for the fields, or i have to do it manually?</li>\n</ol>\n<p>I just found some information about i have to configure the version controlling like 'external version' but I didn't get it how to do it via spring boot. I did the same as for a jpa repositories/entities, but never done for elastic.</p>\n"},{"tags":["java","telegram-bot"],"comments":[{"owner":{"account_id":1992736,"reputation":2198,"user_id":1786393,"accept_rate":36,"display_name":"Giorgio Robino"},"score":2,"creation_date":1449050406,"post_id":31914062,"comment_id":55834268,"body_markdown":"1.2 Million subscribers ?! bot name ? :) \nAs noted by @user3313781 answer, Telegram bot servers use this &quot;antispam&quot; limit startegy, at the moment. Do you solved sending message in a opportune bigger time elapse? By example sending each message every max 50 milliseconds ?","body":"1.2 Million subscribers ?! bot name ? :)  As noted by @user3313781 answer, Telegram bot servers use this &quot;antispam&quot; limit startegy, at the moment. Do you solved sending message in a opportune bigger time elapse? By example sending each message every max 50 milliseconds ?"},{"owner":{"account_id":2884082,"reputation":313,"user_id":2474348,"display_name":"PythoNic"},"score":1,"creation_date":1653127660,"post_id":31914062,"comment_id":127778803,"body_markdown":"This was short before channels were introduced in Sept. 2015. Today you should send to channels and not via private message","body":"This was short before channels were introduced in Sept. 2015. Today you should send to channels and not via private message"}],"answers":[{"comments":[{"owner":{"account_id":1992736,"reputation":2198,"user_id":1786393,"accept_rate":36,"display_name":"Giorgio Robino"},"score":0,"creation_date":1449050512,"post_id":32906054,"comment_id":55834334,"body_markdown":"Do you maybe tested what happens after having received an Error 429 ? Do you solved sending messages in a opportune time elapse (after the 429 Reject) sending each message every max 50 milliseconds ? Do you used maybe and output message queue ? thanks","body":"Do you maybe tested what happens after having received an Error 429 ? Do you solved sending messages in a opportune time elapse (after the 429 Reject) sending each message every max 50 milliseconds ? Do you used maybe and output message queue ? thanks"}],"tags":[],"owner":{"account_id":4025150,"reputation":161,"user_id":3313781,"display_name":"alixrx"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1443784830,"creation_date":1443784830,"answer_id":32906054,"question_id":31914062,"body_markdown":"I&#39;m the owner of Ramona Bot.\r\nThere is a limit for sending message to users. as they said ~30 message per second. Otherwise you will get that Error 429.","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>I'm the owner of Ramona Bot.\nThere is a limit for sending message to users. as they said ~30 message per second. Otherwise you will get that Error 429.</p>\n"},{"comments":[{"owner":{"account_id":16021549,"reputation":557,"user_id":11562952,"display_name":"Valary o"},"score":2,"creation_date":1590166849,"post_id":34927355,"comment_id":109587652,"body_markdown":"What can be the reason if I get this error as well but only if I try to sendContact via telegram. I am using Telegraf Framework. I don&#39;t have subscribers now. Just learning the framework. What can make a loop what I could miss?","body":"What can be the reason if I get this error as well but only if I try to sendContact via telegram. I am using Telegraf Framework. I don&#39;t have subscribers now. Just learning the framework. What can make a loop what I could miss?"},{"owner":{"account_id":3766848,"reputation":4040,"user_id":3140273,"accept_rate":60,"display_name":"TechWisdom"},"score":1,"creation_date":1683375575,"post_id":34927355,"comment_id":134359143,"body_markdown":"@Valaryo It feels like Telegram has another rate limit only for sending contacts. It might not even be on purpose, as this is not so common.","body":"@Valaryo It feels like Telegram has another rate limit only for sending contacts. It might not even be on purpose, as this is not so common."}],"tags":[],"owner":{"account_id":18999,"reputation":10646,"user_id":44080,"accept_rate":99,"display_name":"Charles Okwuagwu"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1453389112,"creation_date":1453389112,"answer_id":34927355,"question_id":31914062,"body_markdown":"You should simply implement a global rate limiter to ensure no single user gets above a fixed number of messages per second. to be safe, set your limiter at lower than 30, maybe even to 5 msgs per second.\r\n\r\nReally anything higher than 5 messages per second to a single user quickly becomes an annoyance.\r\n\r\ncheers. ","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>You should simply implement a global rate limiter to ensure no single user gets above a fixed number of messages per second. to be safe, set your limiter at lower than 30, maybe even to 5 msgs per second.</p>\n\n<p>Really anything higher than 5 messages per second to a single user quickly becomes an annoyance.</p>\n\n<p>cheers. </p>\n"},{"comments":[{"owner":{"account_id":344267,"reputation":7120,"user_id":676479,"display_name":"Oleg"},"score":0,"creation_date":1677832541,"post_id":61203459,"comment_id":133418763,"body_markdown":"Now it&#39;s even less: avoid sending more than one message per second","body":"Now it&#39;s even less: avoid sending more than one message per second"}],"tags":[],"owner":{"account_id":14443904,"reputation":858,"user_id":10433691,"display_name":"Hossein"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1593399146,"creation_date":1586852523,"answer_id":61203459,"question_id":31914062,"body_markdown":"Based on the [Telegram Bots FAQ][1] for sending messages, you should consider this:\r\n\r\n&gt; If you&#39;re sending bulk notifications to multiple users, the API will not allow more than 30 messages per second or so. Consider spreading out notifications over large intervals of 8—12 hours for best results.\r\n\r\n\r\n  [1]: https://core.telegram.org/bots/faq#my-bot-is-hitting-limits-how-do-i-avoid-this","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>Based on the <a href=\"https://core.telegram.org/bots/faq#my-bot-is-hitting-limits-how-do-i-avoid-this\" rel=\"noreferrer\">Telegram Bots FAQ</a> for sending messages, you should consider this:</p>\n<blockquote>\n<p>If you're sending bulk notifications to multiple users, the API will not allow more than 30 messages per second or so. Consider spreading out notifications over large intervals of 8—12 hours for best results.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11890572,"reputation":31,"user_id":8701564,"display_name":"Александр Щербаков"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625155407,"creation_date":1625155407,"answer_id":68213502,"question_id":31914062,"body_markdown":"I had similar problems with messages, the pause between which was 0.5 seconds (this is much less than 30 messages per second!). The problem was only associated with messages, the content of which I tried to change. So when you try to use &quot;edit_message_text&quot; or &quot;edit_message_media&quot; take more pause between messages.","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>I had similar problems with messages, the pause between which was 0.5 seconds (this is much less than 30 messages per second!). The problem was only associated with messages, the content of which I tried to change. So when you try to use &quot;edit_message_text&quot; or &quot;edit_message_media&quot; take more pause between messages.</p>\n"},{"tags":[],"owner":{"account_id":1561263,"reputation":1761,"user_id":3554537,"display_name":"Saeed Mohtasham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669275686,"creation_date":1669275686,"answer_id":74557199,"question_id":31914062,"body_markdown":"It can happen also if a Telegram group is in the slow mode and the bot tries to send more that one message at once to that group. I fixed this by adding a delay to the bot trigger mechanism. ","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>It can happen also if a Telegram group is in the slow mode and the bot tries to send more that one message at once to that group. I fixed this by adding a delay to the bot trigger mechanism.</p>\n"},{"tags":[],"owner":{"account_id":3584766,"reputation":4882,"user_id":2992192,"display_name":"Marquinho Peli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701278559,"creation_date":1700744233,"answer_id":77537062,"question_id":31914062,"body_markdown":"What I did with 100% degree of success was:\r\n\r\n1- Read the returning JSON when status code is 429. That should be something like:\r\n\r\n    {\r\n        &quot;ok&quot;:false,\r\n        &quot;error_code&quot;:429,\r\n        &quot;description&quot;:&quot;Too Many Requests: retry after 35&quot;,\r\n        &quot;parameters&quot;:{\r\n            &quot;retry_after&quot;:35\r\n        }\r\n    }\r\n\r\n2- Add a sleep based on **parameters.retry_after** from that JSON\r\n\r\n3- After sleep completes, send again the last message that gave error\r\n\r\n4- Continue to send messages on queue until you get the next 429 error\r\n\r\n5- Repeat steps 1 and on until all messages are delivered\r\n\r\nMy code:\r\n\r\n    def postNews(news: list[str]):\r\n        tries = 3\r\n        for link in news:\r\n            for i in range(tries):\r\n                result = requests.get(f&#39;https://api.telegram.org/botXX:YY/sendMessage&#39;, params={&#39;chat_id&#39;: &#39;-999999999999999&#39;, &#39;text&#39;: link})\r\n                if result.status_code == 200:\r\n                    #//sleep to avoid being blocked\r\n                    time.sleep(2)\r\n                    break\r\n                \r\n                #//skip error sleep on last try\r\n                if i == tries - 1:\r\n                    continue\r\n\r\n                #//there is some error, let us do some sleep\r\n                sleepTime = 3\r\n                if result.status_code == 429:\r\n                    sleepTime = result.json()[&#39;parameters&#39;][&#39;retry_after&#39;]\r\n                    \r\n                time.sleep(sleepTime)\r\n            else:\r\n                #//this else gets executed if the loop don&#39;t break\r\n                print(f&#39;{link} - {result.status_code} {result.reason} {result.text}&#39;)\r\n","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>What I did with 100% degree of success was:</p>\n<p>1- Read the returning JSON when status code is 429. That should be something like:</p>\n<pre><code>{\n    &quot;ok&quot;:false,\n    &quot;error_code&quot;:429,\n    &quot;description&quot;:&quot;Too Many Requests: retry after 35&quot;,\n    &quot;parameters&quot;:{\n        &quot;retry_after&quot;:35\n    }\n}\n</code></pre>\n<p>2- Add a sleep based on <strong>parameters.retry_after</strong> from that JSON</p>\n<p>3- After sleep completes, send again the last message that gave error</p>\n<p>4- Continue to send messages on queue until you get the next 429 error</p>\n<p>5- Repeat steps 1 and on until all messages are delivered</p>\n<p>My code:</p>\n<pre><code>def postNews(news: list[str]):\n    tries = 3\n    for link in news:\n        for i in range(tries):\n            result = requests.get(f'https://api.telegram.org/botXX:YY/sendMessage', params={'chat_id': '-999999999999999', 'text': link})\n            if result.status_code == 200:\n                #//sleep to avoid being blocked\n                time.sleep(2)\n                break\n            \n            #//skip error sleep on last try\n            if i == tries - 1:\n                continue\n\n            #//there is some error, let us do some sleep\n            sleepTime = 3\n            if result.status_code == 429:\n                sleepTime = result.json()['parameters']['retry_after']\n                \n            time.sleep(sleepTime)\n        else:\n            #//this else gets executed if the loop don't break\n            print(f'{link} - {result.status_code} {result.reason} {result.text}')\n</code></pre>\n"}],"owner":{"account_id":1862935,"reputation":1011,"user_id":1953536,"accept_rate":43,"display_name":"Pooya Saberian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39077,"favorite_count":0,"down_vote_count":2,"up_vote_count":30,"accepted_answer_id":34927355,"answer_count":6,"score":28,"last_activity_date":1701278559,"creation_date":1439192399,"question_id":31914062,"body_markdown":"We have a Telegram bot. It has around 1.2 million subscribers. \r\n\r\nNow we&#39;re facing a problem in sending messages to these number of subscribers. \r\n\r\nTelegram bot API does not provide any batch message functionality and we&#39;d have to send individual requests to Telegram. The problem is, after a few thousand messages, Telegram starts responding with Error 429: too many requests, and does not accept any requests for a while. \r\n\r\nHow can we effectively message our subscribers?","title":"Telegram bot api: Error code 429, Error: Too many requests: retry later","body":"<p>We have a Telegram bot. It has around 1.2 million subscribers.</p>\n<p>Now we're facing a problem in sending messages to these number of subscribers.</p>\n<p>Telegram bot API does not provide any batch message functionality and we'd have to send individual requests to Telegram. The problem is, after a few thousand messages, Telegram starts responding with Error 429: too many requests, and does not accept any requests for a while.</p>\n<p>How can we effectively message our subscribers?</p>\n"},{"tags":["java","spring","jakarta-ee","servlets","spring-mvc"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1355327736,"post_id":13843294,"comment_id":19055254,"body_markdown":"I think only first `*` will be used as wildcard, and the 2nd `*` is treated as `literal *`. AFAIK, `*` is only treated as wildcard when used besides `/`.","body":"I think only first <code>*</code> will be used as wildcard, and the 2nd <code>*</code> is treated as <code>literal *</code>. AFAIK, <code>*</code> is only treated as wildcard when used besides <code>&#47;</code>."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1355328562,"post_id":13843294,"comment_id":19055733,"body_markdown":"Where have you seen this usage?","body":"Where have you seen this usage?"},{"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"score":1,"creation_date":1449151160,"post_id":13843294,"comment_id":55888698,"body_markdown":"See http://stackoverflow.com/questions/15479213, the double asterisk can be use in a `&lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt;` configuration and is defined in Spring&#39;s [AntPathMatcher](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html)","body":"See <a href=\"http://stackoverflow.com/questions/15479213\">stackoverflow.com/questions/15479213</a>, the double asterisk can be use in a <code>&lt;mvc:resources mapping=&quot;&#47;static&#47;**&quot; location=&quot;&#47;static&#47;&quot; &#47;&gt;</code> configuration and is defined in Spring&#39;s <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\">AntPathMatcher</a>"}],"answers":[{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"comment_count":0,"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1355329127,"creation_date":1355327403,"answer_id":13843472,"question_id":13843294,"body_markdown":"Section 11.2 of servlet specification (version 2.5) states the following:\r\n\r\n&gt; In the Web application deployment descriptor, the following syntax is used to define\r\nmappings:\r\n\r\n&gt; - A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used\r\nfor path mapping.\r\n&gt; - A string beginning with a ‘*.’ prefix is used as an extension mapping.\r\n&gt; - A string containing only the ’/’ character indicates the &quot;default&quot; servlet of\r\nthe application. In this case the servlet path is the request URI minus the context\r\npath and the path info is null.\r\n&gt; - All other strings are used for exact matches only.\r\n\r\nSo I guess the second variant (`**`) doesn&#39;t make sense.\r\n\r\nP.S. I&#39;ve just tried to set up such mapping and it seems that only this exact url `/shop/**` will be matched (Tomcat 6.0.32).","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>Section 11.2 of servlet specification (version 2.5) states the following:</p>\n\n<blockquote>\n  <p>In the Web application deployment descriptor, the following syntax is used to define\n  mappings:</p>\n  \n  <ul>\n  <li>A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used\n  for path mapping.</li>\n  <li>A string beginning with a ‘*.’ prefix is used as an extension mapping.</li>\n  <li>A string containing only the ’/’ character indicates the \"default\" servlet of\n  the application. In this case the servlet path is the request URI minus the context\n  path and the path info is null.</li>\n  <li>All other strings are used for exact matches only.</li>\n  </ul>\n</blockquote>\n\n<p>So I guess the second variant (<code>**</code>) doesn't make sense.</p>\n\n<p>P.S. I've just tried to set up such mapping and it seems that only this exact url <code>/shop/**</code> will be matched (Tomcat 6.0.32).</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410856055,"creation_date":1355328283,"answer_id":13843745,"question_id":13843294,"body_markdown":"No where in specification talking about second case. \r\n\r\nAs per [servlet specification 12.2][1]\r\n\r\n&gt; A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used for \r\npath mapping\r\n\r\n    All other strings are used for exact matches only.\r\n\r\nAs per specification second would be considered for exact match only. It may vary based on server providers.\r\n\r\n  [1]: http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-eval-oth-JSpec/servlet-3_0-final-spec.pdf","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>No where in specification talking about second case. </p>\n\n<p>As per <a href=\"http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-eval-oth-JSpec/servlet-3_0-final-spec.pdf\" rel=\"nofollow\">servlet specification 12.2</a></p>\n\n<blockquote>\n  <p>A string beginning with a ‘/’ character and ending with a ‘/*’ suffix is used for \n  path mapping</p>\n</blockquote>\n\n<pre><code>All other strings are used for exact matches only.\n</code></pre>\n\n<p>As per specification second would be considered for exact match only. It may vary based on server providers.</p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1701277919,"creation_date":1355328612,"answer_id":13843851,"question_id":13843294,"body_markdown":"The [Servlet specification][1] itself (Version 3.0, Chapter 12.2) defines only two kinds of *wildcard* mapping: \r\n\r\n- If the URL pattern ends with `&quot;/*&quot;`, it matches all requests to the preceding path.\r\n- If the URL pattern starts with `&quot;*.&quot;`, it matches all requests to any resource ending with the following extension.\r\n\r\nE.g. `&quot;/foo/*&quot;` will match all requests for URLs starting with `http://server/context/foo/` and `&quot;*.jsp&quot;` will match all requests for URL ending with `&quot;.jsp&quot;`.\r\n\r\nFollowing the specification, the *empty* string (`&quot;&quot;`) and a single slash (`&quot;/&quot;`) have specific meanings. &quot;*All other strings are used for exact matches only*.&quot;\r\n\r\nFollowing the specification strictly, your second example is not a wildcard pattern at all, but should only match `&quot;/shop/**&quot;` exactly. Most Servlet containers are however less strict and allow using the `*` wildcard at arbitrary locations or offer even more complex pattern matching options.\r\n\r\n\r\n  [1]: https://jcp.org/aboutJava/communityprocess/mrel/jsr315/index.html","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>The <a href=\"https://jcp.org/aboutJava/communityprocess/mrel/jsr315/index.html\" rel=\"nofollow noreferrer\">Servlet specification</a> itself (Version 3.0, Chapter 12.2) defines only two kinds of <em>wildcard</em> mapping:</p>\n<ul>\n<li>If the URL pattern ends with <code>&quot;/*&quot;</code>, it matches all requests to the preceding path.</li>\n<li>If the URL pattern starts with <code>&quot;*.&quot;</code>, it matches all requests to any resource ending with the following extension.</li>\n</ul>\n<p>E.g. <code>&quot;/foo/*&quot;</code> will match all requests for URLs starting with <code>http://server/context/foo/</code> and <code>&quot;*.jsp&quot;</code> will match all requests for URL ending with <code>&quot;.jsp&quot;</code>.</p>\n<p>Following the specification, the <em>empty</em> string (<code>&quot;&quot;</code>) and a single slash (<code>&quot;/&quot;</code>) have specific meanings. &quot;<em>All other strings are used for exact matches only</em>.&quot;</p>\n<p>Following the specification strictly, your second example is not a wildcard pattern at all, but should only match <code>&quot;/shop/**&quot;</code> exactly. Most Servlet containers are however less strict and allow using the <code>*</code> wildcard at arbitrary locations or offer even more complex pattern matching options.</p>\n"}],"owner":{"account_id":1989413,"reputation":2543,"user_id":1783793,"accept_rate":94,"display_name":"fegemo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50596,"favorite_count":0,"down_vote_count":3,"up_vote_count":25,"accepted_answer_id":13843472,"answer_count":3,"score":22,"last_activity_date":1701277919,"creation_date":1355326855,"question_id":13843294,"body_markdown":"I&#39;m wondering what is the difference of using a **single** or **double wildcards** to describe a url-pattern on a servlet mapping.\r\n\r\nFor example: what is the difference below?\r\n\r\n1) \r\n\r\n    &lt;servlet-mapping id=&quot;...&quot;&gt;\r\n        &lt;servlet-name&gt;BuyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/buy/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n2)\r\n\r\n    &lt;servlet-mapping id=&quot;...&quot;&gt;\r\n        &lt;servlet-name&gt;ShopServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/shop/**&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\n\r\nEDIT:\r\n@Andrew is right, the specification talks about only one wildcard (*).\r\n\r\nI double checked my code and noticed that the place where I found double wildcards (**) was in a Spring SimpleUrlHandlerMapping bean.\r\n\r\nIn that case, it makes sense. As per [the class doc][1], it uses [AntPathMatcher][2], which states:\r\n\r\n&gt; The mapping matches URLs using the following rules: ? matches one\r\n&gt; character\r\n&gt; * matches zero or more characters\r\n&gt; ** matches zero or more &#39;directories&#39; in a path\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/web/servlet/handler/SimpleUrlHandlerMapping.html\r\n  [2]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/util/AntPathMatcher.html","title":"What does the double wildcard (*) on a servlet mapping url-pattern mean?","body":"<p>I'm wondering what is the difference of using a <strong>single</strong> or <strong>double wildcards</strong> to describe a url-pattern on a servlet mapping.</p>\n\n<p>For example: what is the difference below?</p>\n\n<p>1) </p>\n\n<pre><code>&lt;servlet-mapping id=\"...\"&gt;\n    &lt;servlet-name&gt;BuyServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/buy/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>&lt;servlet-mapping id=\"...\"&gt;\n    &lt;servlet-name&gt;ShopServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/shop/**&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>EDIT:\n@Andrew is right, the specification talks about only one wildcard (*).</p>\n\n<p>I double checked my code and noticed that the place where I found double wildcards (**) was in a Spring SimpleUrlHandlerMapping bean.</p>\n\n<p>In that case, it makes sense. As per <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/web/servlet/handler/SimpleUrlHandlerMapping.html\" rel=\"noreferrer\">the class doc</a>, it uses <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/util/AntPathMatcher.html\" rel=\"noreferrer\">AntPathMatcher</a>, which states:</p>\n\n<blockquote>\n  <p>The mapping matches URLs using the following rules: ? matches one\n  character\n  * matches zero or more characters\n  ** matches zero or more 'directories' in a path</p>\n</blockquote>\n"},{"tags":["java","java-8","functional-programming","option-type"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1536740997,"post_id":52285864,"comment_id":91529317,"body_markdown":"It’s worth pointing to [the documentation of `Optional.map`](https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#map(java.util.function.Function)) to show that the behavior is intentional: “*If the mapping function returns a `null` result then this method returns an empty `Optional`*”.","body":"It’s worth pointing to <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\">the documentation of <code>Optional.map</code></a> to show that the behavior is intentional: “<i>If the mapping function returns a <code>null</code> result then this method returns an empty <code>Optional</code></i>”."},{"owner":{"account_id":409217,"reputation":2198,"user_id":780350,"accept_rate":86,"display_name":"melston"},"score":3,"creation_date":1536946316,"post_id":52285864,"comment_id":91620681,"body_markdown":"@Holger, and [this](https://developer.atlassian.com/blog/2015/08/optional-broken/) explains why, in the long run, that was a bad idea.  Or, at least, sub-optimal (from a FP perspective).","body":"@Holger, and <a href=\"https://developer.atlassian.com/blog/2015/08/optional-broken/\" rel=\"nofollow noreferrer\">this</a> explains why, in the long run, that was a bad idea.  Or, at least, sub-optimal (from a FP perspective)."},{"owner":{"account_id":1063177,"reputation":1671,"user_id":1064375,"display_name":"yeoman"},"score":1,"creation_date":1607856292,"post_id":52285864,"comment_id":115398818,"body_markdown":"They implemented a very important feature but for some reason decided to severely damage trusty old map in the process. It would be easier to forgive if they had actually named the necessary second method with this behavior &quot;elvis&quot; &#129315;","body":"They implemented a very important feature but for some reason decided to severely damage trusty old map in the process. It would be easier to forgive if they had actually named the necessary second method with this behavior &quot;elvis&quot; 🤣"}],"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1536712386,"creation_date":1536712386,"answer_id":52285864,"question_id":52285813,"body_markdown":"Maybe I&#39;m overlooking something, but is there a reason that you can&#39;t use `Optional#map`?  \r\n\r\nThe following example prints nothing, as `Optional` is *short-circuiting* in the sense that, if the value inside the `Optional` doesn&#39;t exist (it&#39;s `null` or the `Optional` is empty), it&#39;s treated as empty.\r\n\r\n    Optional.ofNullable(&quot;test&quot;)\r\n            .map(s -&gt; null)\r\n            .ifPresent(System.out::println);\r\n\r\nFor that reason, I&#39;d think you could just do the following:\r\n\r\n    return Optional.ofNullable(thing)\r\n                   .map(x -&gt; x.nullableMethod1(a))\r\n                   .map(y -&gt; y.nullableMethod2(b))\r\n                   .map(Z::nullableMethod3);\r\n\r\nThis would map your `thing` if it exists, or return an empty `Optional` otherwise.","title":"How to implement the Elvis operator in Java 8?","body":"<p>Maybe I'm overlooking something, but is there a reason that you can't use <code>Optional#map</code>?  </p>\n\n<p>The following example prints nothing, as <code>Optional</code> is <em>short-circuiting</em> in the sense that, if the value inside the <code>Optional</code> doesn't exist (it's <code>null</code> or the <code>Optional</code> is empty), it's treated as empty.</p>\n\n<pre><code>Optional.ofNullable(\"test\")\n        .map(s -&gt; null)\n        .ifPresent(System.out::println);\n</code></pre>\n\n<p>For that reason, I'd think you could just do the following:</p>\n\n<pre><code>return Optional.ofNullable(thing)\n               .map(x -&gt; x.nullableMethod1(a))\n               .map(y -&gt; y.nullableMethod2(b))\n               .map(Z::nullableMethod3);\n</code></pre>\n\n<p>This would map your <code>thing</code> if it exists, or return an empty <code>Optional</code> otherwise.</p>\n"},{"comments":[{"owner":{"account_id":285594,"reputation":2531,"user_id":584352,"accept_rate":73,"display_name":"Mickalot"},"score":0,"creation_date":1553185512,"post_id":55276392,"comment_id":97299869,"body_markdown":"I think what you&#39;re adding to the accepted answer is that some languages blur the concepts of optionality and nullability in such a way that the Elvis operator can be used without needing to unpack the result at the end.  In Java, the method implementations sometimes blur those concepts, but the type system has distinct notions, so yes, you&#39;re right that if one wanted a @Nullable Foo instead of an Optional&lt;Foo&gt;, one would likely want to use orElse at the end.","body":"I think what you&#39;re adding to the accepted answer is that some languages blur the concepts of optionality and nullability in such a way that the Elvis operator can be used without needing to unpack the result at the end.  In Java, the method implementations sometimes blur those concepts, but the type system has distinct notions, so yes, you&#39;re right that if one wanted a @Nullable Foo instead of an Optional&lt;Foo&gt;, one would likely want to use orElse at the end."},{"owner":{"account_id":6307754,"reputation":1159,"user_id":4900327,"accept_rate":50,"display_name":"Abhishek Divekar"},"score":1,"creation_date":1553257051,"post_id":55276392,"comment_id":97327174,"body_markdown":"@Mickalot yes, that was the point I was trying to make. I had seen a few other answers and was confused by how to do it without an `Optional`, until I tried this example. I thought it might benefit others.","body":"@Mickalot yes, that was the point I was trying to make. I had seen a few other answers and was confused by how to do it without an <code>Optional</code>, until I tried this example. I thought it might benefit others."}],"tags":[],"owner":{"account_id":6307754,"reputation":1159,"user_id":4900327,"accept_rate":50,"display_name":"Abhishek Divekar"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1553157163,"creation_date":1553157163,"answer_id":55276392,"question_id":52285813,"body_markdown":"In Java 8, the Elvis operator can be simulated by chaining `.map(...)` calls on an `Optional.ofNullable(...)` and capping it with `.orElse(...)`:\r\n\r\n```\r\nOptional.ofNullable(dataObject)\r\n.map(DataObject::getNestedDataObject)\r\n.map(NestedDataObject::getEvenMoreNestedDataObject)\r\n...\r\n.orElse(null);\r\n```\r\n\r\nA full example:\r\n\r\n```java\r\nimport java.util.Optional;\r\n\r\nclass Main {\r\n  // Data classes:\r\n  static class Animal {\r\n    Leg leg;\r\n\r\n    Animal(Leg leg) {\r\n      this.leg = leg;\r\n    }\r\n\r\n    Leg getLeg(){return this.leg;}\r\n\r\n    public String toString(){\r\n      String out = &quot;This is an animal&quot;;\r\n      out += leg != null ? &quot; with a leg&quot; : &quot;&quot;;\r\n      return out;\r\n    }\r\n  }\r\n\r\n  static class Leg {\r\n    Toes toes;\r\n    \r\n    Leg(Toes toes) {\r\n      this.toes = toes;\r\n    }\r\n\r\n    Toes getToes(){return this.toes;}\r\n\r\n    public String toString(){\r\n      String out = &quot;This is a leg&quot;;\r\n      out += toes != null ? &quot; with a collection of toes&quot; : &quot;&quot;;\r\n      return out;\r\n    }\r\n  }\r\n\r\n  static class Toes {\r\n    Integer numToes;\r\n\r\n    Toes(Integer numToes) {\r\n      this.numToes = numToes;\r\n    }\r\n\r\n    Integer getNumToes(){return this.numToes;}\r\n\r\n    public String toString(){\r\n      String out = &quot;This is a collection of &quot;;\r\n      out += numToes != null &amp;&amp; numToes &gt; 0 ? numToes : &quot;no&quot;;\r\n      out += &quot; toes&quot;;\r\n      return out;\r\n    }\r\n  }\r\n\r\n  // A few example Elvis operators:\r\n  static Integer getNumToesOrNull(Animal a) {\r\n    return Optional.ofNullable(a)\r\n      .map(Animal::getLeg)\r\n      .map(Leg::getToes)\r\n      .map(Toes::getNumToes)\r\n      .orElse(null);\r\n  }\r\n\r\n  static Toes getToesOrNull(Animal a) {\r\n    return Optional.ofNullable(a)\r\n      .map(Animal::getLeg)\r\n      .map(Leg::getToes)\r\n      .orElse(null);\r\n  }\r\n\r\n  static Leg getLegOrNull(Animal a) {\r\n    return Optional.ofNullable(a)\r\n      .map(Animal::getLeg)\r\n      .orElse(null);\r\n  }\r\n\r\n  // Main function:\r\n  public static void main(String[] args) {\r\n    // Trying to access &#39;numToes&#39;:\r\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(4))))); // 4\r\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(null))))); // null\r\n    System.out.println(getNumToesOrNull(new Animal(new Leg(null)))); // null\r\n    System.out.println(getNumToesOrNull(new Animal(null))); // null\r\n    System.out.println(getNumToesOrNull(null)); // null\r\n\r\n    // Trying to access &#39;toes&#39;:\r\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(4))))); // This is a collection of 4 toes\r\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(null))))); // This is a collection of no toes\r\n    System.out.println(getToesOrNull(new Animal(new Leg(null)))); // null\r\n    System.out.println(getToesOrNull(new Animal(null))); // null\r\n    System.out.println(getToesOrNull(null)); // null\r\n\r\n    // Trying to access &#39;leg&#39;:\r\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(4))))); // This is a leg with a collection of toes\r\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(null))))); // This is a leg with a collection of toes\r\n    System.out.println(getLegOrNull(new Animal(new Leg(null)))); // This is a leg\r\n    System.out.println(getLegOrNull(new Animal(null))); // null\r\n    System.out.println(getLegOrNull(null)); // null\r\n  }\r\n}\r\n```","title":"How to implement the Elvis operator in Java 8?","body":"<p>In Java 8, the Elvis operator can be simulated by chaining <code>.map(...)</code> calls on an <code>Optional.ofNullable(...)</code> and capping it with <code>.orElse(...)</code>:</p>\n\n<pre><code>Optional.ofNullable(dataObject)\n.map(DataObject::getNestedDataObject)\n.map(NestedDataObject::getEvenMoreNestedDataObject)\n...\n.orElse(null);\n</code></pre>\n\n<p>A full example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\n\nclass Main {\n  // Data classes:\n  static class Animal {\n    Leg leg;\n\n    Animal(Leg leg) {\n      this.leg = leg;\n    }\n\n    Leg getLeg(){return this.leg;}\n\n    public String toString(){\n      String out = \"This is an animal\";\n      out += leg != null ? \" with a leg\" : \"\";\n      return out;\n    }\n  }\n\n  static class Leg {\n    Toes toes;\n\n    Leg(Toes toes) {\n      this.toes = toes;\n    }\n\n    Toes getToes(){return this.toes;}\n\n    public String toString(){\n      String out = \"This is a leg\";\n      out += toes != null ? \" with a collection of toes\" : \"\";\n      return out;\n    }\n  }\n\n  static class Toes {\n    Integer numToes;\n\n    Toes(Integer numToes) {\n      this.numToes = numToes;\n    }\n\n    Integer getNumToes(){return this.numToes;}\n\n    public String toString(){\n      String out = \"This is a collection of \";\n      out += numToes != null &amp;&amp; numToes &gt; 0 ? numToes : \"no\";\n      out += \" toes\";\n      return out;\n    }\n  }\n\n  // A few example Elvis operators:\n  static Integer getNumToesOrNull(Animal a) {\n    return Optional.ofNullable(a)\n      .map(Animal::getLeg)\n      .map(Leg::getToes)\n      .map(Toes::getNumToes)\n      .orElse(null);\n  }\n\n  static Toes getToesOrNull(Animal a) {\n    return Optional.ofNullable(a)\n      .map(Animal::getLeg)\n      .map(Leg::getToes)\n      .orElse(null);\n  }\n\n  static Leg getLegOrNull(Animal a) {\n    return Optional.ofNullable(a)\n      .map(Animal::getLeg)\n      .orElse(null);\n  }\n\n  // Main function:\n  public static void main(String[] args) {\n    // Trying to access 'numToes':\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(4))))); // 4\n    System.out.println(getNumToesOrNull(new Animal(new Leg(new Toes(null))))); // null\n    System.out.println(getNumToesOrNull(new Animal(new Leg(null)))); // null\n    System.out.println(getNumToesOrNull(new Animal(null))); // null\n    System.out.println(getNumToesOrNull(null)); // null\n\n    // Trying to access 'toes':\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(4))))); // This is a collection of 4 toes\n    System.out.println(getToesOrNull(new Animal(new Leg(new Toes(null))))); // This is a collection of no toes\n    System.out.println(getToesOrNull(new Animal(new Leg(null)))); // null\n    System.out.println(getToesOrNull(new Animal(null))); // null\n    System.out.println(getToesOrNull(null)); // null\n\n    // Trying to access 'leg':\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(4))))); // This is a leg with a collection of toes\n    System.out.println(getLegOrNull(new Animal(new Leg(new Toes(null))))); // This is a leg with a collection of toes\n    System.out.println(getLegOrNull(new Animal(new Leg(null)))); // This is a leg\n    System.out.println(getLegOrNull(new Animal(null))); // null\n    System.out.println(getLegOrNull(null)); // null\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73930,"reputation":2183,"user_id":212665,"accept_rate":100,"display_name":"Vinay Lodha"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626584753,"creation_date":1626583907,"answer_id":68426114,"question_id":52285813,"body_markdown":"There is one [compiler plugin][1] I have written which manipulate AST to generate `Optional.ofNullable` chain in compile time \r\n\r\nIt has few limitations but it does reduce repetitive code \r\n\r\nPS: I am author of plugin\r\n\r\n\r\n  [1]: https://github.com/vinayalodha/elvis","title":"How to implement the Elvis operator in Java 8?","body":"<p>There is one <a href=\"https://github.com/vinayalodha/elvis\" rel=\"nofollow noreferrer\">compiler plugin</a> I have written which manipulate AST to generate <code>Optional.ofNullable</code> chain in compile time</p>\n<p>It has few limitations but it does reduce repetitive code</p>\n<p>PS: I am author of plugin</p>\n"},{"comments":[{"owner":{"account_id":7720495,"reputation":866,"user_id":5846877,"display_name":"Christophe Moine"},"score":1,"creation_date":1667225777,"post_id":74150958,"comment_id":131113647,"body_markdown":"Actually not that stupid! However cannot distinguish between a NPE raised by the getter, or raised by the result :-(","body":"Actually not that stupid! However cannot distinguish between a NPE raised by the getter, or raised by the result :-("}],"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666341449,"creation_date":1666341449,"answer_id":74150958,"question_id":52285813,"body_markdown":"Another option to simulate the elvis operator would be using following helper function:\r\n\r\n    public static &lt;T&gt; T get(final Supplier&lt;T&gt; it) {\r\n        try {\r\n            return it.get();\r\n        } catch (final NullPointerException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nYou could use it like:\r\n\r\n    var x = get(() -&gt; thing.nullableMethod1(a).nullableMethod2(b).nullableMethod3());\r\n\r\n","title":"How to implement the Elvis operator in Java 8?","body":"<p>Another option to simulate the elvis operator would be using following helper function:</p>\n<pre><code>public static &lt;T&gt; T get(final Supplier&lt;T&gt; it) {\n    try {\n        return it.get();\n    } catch (final NullPointerException e) {\n        return null;\n    }\n}\n</code></pre>\n<p>You could use it like:</p>\n<pre><code>var x = get(() -&gt; thing.nullableMethod1(a).nullableMethod2(b).nullableMethod3());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7720495,"reputation":866,"user_id":5846877,"display_name":"Christophe Moine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667225415,"creation_date":1666974805,"answer_id":74238331,"question_id":52285813,"body_markdown":"To complete a bit Jacob&#39;s idea, I created this class:\r\n\r\n    public class OptionalUtils {\r\n      public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(T t, Function&lt;? super T, ? extends U&gt; mapper) {\r\n        return elvisOperator(Optional.ofNullable(t), mapper);\r\n      }\r\n    \r\n      public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(Optional&lt;T&gt; optional, Function&lt;? super T, ? extends U&gt; mapper) {\r\n        return optional.flatMap(t -&gt; Optional.ofNullable(mapper.apply(t)));\r\n      }\r\n    }\r\n\r\nThen you can do\r\n\r\n    elvisOperator(elvisOperator(dataObject, DataObject::getNestedDataObject)\r\n        NestedDataObject::getEvenMoreNestedDataObject))...\r\n\r\nAnother Fluent approach:\r\n\r\n    import java.util.function.Function;\r\n    import java.util.Optional;\r\n    \r\n    public class OptionalChaining&lt;T&gt; {\r\n      private final Optional&lt;T&gt; t;\r\n    \r\n      public OptionalChaining(T t) {\r\n        this.t=Optional.ofNullable(t);\r\n      }\r\n      public OptionalChaining(Optional&lt;T&gt; t) {\r\n        this.t=t;\r\n      }\r\n      public &lt;U&gt; OptionalChaining&lt;U&gt; get(Function&lt;T, U&gt; function) {\r\n        return new OptionalChaining(this.t\r\n            .flatMap(e -&gt; Optional.ofNullable(function.apply(e))));\r\n      }\r\n      public Optional&lt;T&gt; get() {\r\n        return t;\r\n      }\r\n    }\r\n\r\nWe can then write this:\r\n\r\n    new OptionalChaining&lt;&gt;(dataObject)\r\n        .get(DataObject::getNestedDataObject)\r\n        .get(NestedDataObject::getEvenMoreNestedDataObject)\r\n        .get()\r\n\r\nI am so frustrated to not find this in a common Java Library (such as Guava, Langs, Vavr, ...). The only way seems to use the &quot;or&quot; operator on Stream but I find it so verbose :-(","title":"How to implement the Elvis operator in Java 8?","body":"<p>To complete a bit Jacob's idea, I created this class:</p>\n<pre><code>public class OptionalUtils {\n  public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(T t, Function&lt;? super T, ? extends U&gt; mapper) {\n    return elvisOperator(Optional.ofNullable(t), mapper);\n  }\n\n  public static &lt;T, U&gt; Optional&lt;U&gt; elvisOperator(Optional&lt;T&gt; optional, Function&lt;? super T, ? extends U&gt; mapper) {\n    return optional.flatMap(t -&gt; Optional.ofNullable(mapper.apply(t)));\n  }\n}\n</code></pre>\n<p>Then you can do</p>\n<pre><code>elvisOperator(elvisOperator(dataObject, DataObject::getNestedDataObject)\n    NestedDataObject::getEvenMoreNestedDataObject))...\n</code></pre>\n<p>Another Fluent approach:</p>\n<pre><code>import java.util.function.Function;\nimport java.util.Optional;\n\npublic class OptionalChaining&lt;T&gt; {\n  private final Optional&lt;T&gt; t;\n\n  public OptionalChaining(T t) {\n    this.t=Optional.ofNullable(t);\n  }\n  public OptionalChaining(Optional&lt;T&gt; t) {\n    this.t=t;\n  }\n  public &lt;U&gt; OptionalChaining&lt;U&gt; get(Function&lt;T, U&gt; function) {\n    return new OptionalChaining(this.t\n        .flatMap(e -&gt; Optional.ofNullable(function.apply(e))));\n  }\n  public Optional&lt;T&gt; get() {\n    return t;\n  }\n}\n</code></pre>\n<p>We can then write this:</p>\n<pre><code>new OptionalChaining&lt;&gt;(dataObject)\n    .get(DataObject::getNestedDataObject)\n    .get(NestedDataObject::getEvenMoreNestedDataObject)\n    .get()\n</code></pre>\n<p>I am so frustrated to not find this in a common Java Library (such as Guava, Langs, Vavr, ...). The only way seems to use the &quot;or&quot; operator on Stream but I find it so verbose :-(</p>\n"}],"owner":{"account_id":285594,"reputation":2531,"user_id":584352,"accept_rate":73,"display_name":"Mickalot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33656,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":52285864,"answer_count":5,"score":25,"last_activity_date":1701277559,"creation_date":1536712024,"question_id":52285813,"body_markdown":"I have the classic &quot;Elvis operator&quot; case, where I&#39;m calling methods that each may return null and chaining them together:\r\n\r\n    thing?:nullableMethod1(a)?:nullableMethod2(b)?:nullableMethod3()\r\n\r\nIn Java 8, the most faithful implementation I&#39;ve found is something like this:\r\n\r\n    return Optional.ofNullable(thing)\r\n        .flatMap(x -&gt; Optional.ofNullable(x.nullableMethod1(a)))\r\n        .flatMap(y -&gt; Optional.ofNullable(y.nullableMethod2(b)))\r\n        .flatMap(z -&gt; Optional.ofNullable(z.nullableMethod3()))\r\n\r\nI wish that Java&#39;s `Optional` had something akin to the elvis operator:\r\n\r\n    public&lt;U&gt; Optional&lt;U&gt; elvisOperator(Function&lt;? super T, ? extends U&gt; mapper) {\r\n        return flatMap(t -&gt; Optional.ofNullable(mapper.apply(t));\r\n    }\r\n\r\nSo that I wouldn&#39;t have to wrap each return value:\r\n\r\n    return Optional.ofNullable(thing)\r\n        .elvisOperator(x -&gt; x.nullableMethod1(a))\r\n        .elvisOperator(y -&gt; y.nullableMethod2(b))\r\n        .elvisOperator(Z::nullableMethod3); // also nice\r\n\r\nIs there a more efficient and idiomatic way to implement the Elvis operator pattern in Java 8?\r\n","title":"How to implement the Elvis operator in Java 8?","body":"<p>I have the classic \"Elvis operator\" case, where I'm calling methods that each may return null and chaining them together:</p>\n\n<pre><code>thing?:nullableMethod1(a)?:nullableMethod2(b)?:nullableMethod3()\n</code></pre>\n\n<p>In Java 8, the most faithful implementation I've found is something like this:</p>\n\n<pre><code>return Optional.ofNullable(thing)\n    .flatMap(x -&gt; Optional.ofNullable(x.nullableMethod1(a)))\n    .flatMap(y -&gt; Optional.ofNullable(y.nullableMethod2(b)))\n    .flatMap(z -&gt; Optional.ofNullable(z.nullableMethod3()))\n</code></pre>\n\n<p>I wish that Java's <code>Optional</code> had something akin to the elvis operator:</p>\n\n<pre><code>public&lt;U&gt; Optional&lt;U&gt; elvisOperator(Function&lt;? super T, ? extends U&gt; mapper) {\n    return flatMap(t -&gt; Optional.ofNullable(mapper.apply(t));\n}\n</code></pre>\n\n<p>So that I wouldn't have to wrap each return value:</p>\n\n<pre><code>return Optional.ofNullable(thing)\n    .elvisOperator(x -&gt; x.nullableMethod1(a))\n    .elvisOperator(y -&gt; y.nullableMethod2(b))\n    .elvisOperator(Z::nullableMethod3); // also nice\n</code></pre>\n\n<p>Is there a more efficient and idiomatic way to implement the Elvis operator pattern in Java 8?</p>\n"},{"tags":["java","spring","spring-boot","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1696834993,"post_id":77256502,"comment_id":136198636,"body_markdown":"Currently using commons-io 2.11.0","body":"Currently using commons-io 2.11.0"},{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":1,"creation_date":1696836300,"post_id":77256502,"comment_id":136198845,"body_markdown":"Working after upgrading commons-io 2.11.0 to 2.14.0\n\nAs UnsynchronizedByteArrayOutputStream.builder() is not available in commons-io 2.11.0","body":"Working after upgrading commons-io 2.11.0 to 2.14.0  As UnsynchronizedByteArrayOutputStream.builder() is not available in commons-io 2.11.0"},{"owner":{"account_id":2428287,"reputation":419,"user_id":2119775,"display_name":"f1v3"},"score":1,"creation_date":1696844419,"post_id":77256502,"comment_id":136200292,"body_markdown":"This should be the answer. I had the same problem and this fixed it.\nThanks Anish!","body":"This should be the answer. I had the same problem and this fixed it. Thanks Anish!"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1696849512,"post_id":77256502,"comment_id":136201198,"body_markdown":"What POI 5.2.4 docs say you should use ancient commons-io versions? https://poi.apache.org/changes.html lists the upgrade to commons-io 2.13.0 but 2.14.0 is ok too. If you provide a link to the incorrect docs, we can fix them.","body":"What POI 5.2.4 docs say you should use ancient commons-io versions? <a href=\"https://poi.apache.org/changes.html\" rel=\"nofollow noreferrer\">poi.apache.org/changes.html</a> lists the upgrade to commons-io 2.13.0 but 2.14.0 is ok too. If you provide a link to the incorrect docs, we can fix them."},{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":1,"creation_date":1696924481,"post_id":77256502,"comment_id":136211408,"body_markdown":"@AnishB., I think is should not be `version &gt;=2.7.x` it should be `version &gt;= 2.14.0`. Not sure when was UnsynchronizedByteArrayOutputStream.builder() introduced. Could you please confirm?","body":"@AnishB., I think is should not be <code>version &gt;=2.7.x</code> it should be <code>version &gt;= 2.14.0</code>. Not sure when was UnsynchronizedByteArrayOutputStream.builder() introduced. Could you please confirm?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696926232,"post_id":77256502,"comment_id":136211718,"body_markdown":"@Prem I have checked all the version from 2.11 to 2.14. The Builder is present from 2.12.0 onwards.","body":"@Prem I have checked all the version from 2.11 to 2.14. The Builder is present from 2.12.0 onwards."},{"owner":{"account_id":14513444,"reputation":71,"user_id":10483205,"display_name":"Victor Costa"},"score":0,"creation_date":1697720007,"post_id":77256502,"comment_id":136317028,"body_markdown":"somehow when downloaded from maven rep `org.apache.poi:poi` dependes on `commons-io:commons-io:jar:2.11.0 (compile)` instead of `2.13.0` (but the pom has the correct version of `2.13.0`","body":"somehow when downloaded from maven rep <code>org.apache.poi:poi</code> dependes on <code>commons-io:commons-io:jar:2.11.0 (compile)</code> instead of <code>2.13.0</code> (but the pom has the correct version of <code>2.13.0</code>"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697720088,"post_id":77256502,"comment_id":136317047,"body_markdown":"@VictorCosta which version of poi are you using? Put the explicit dependency for commons-io, maven will pick the latest one.","body":"@VictorCosta which version of poi are you using? Put the explicit dependency for commons-io, maven will pick the latest one."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":8,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1701277179,"creation_date":1696830707,"answer_id":77256502,"question_id":77256330,"body_markdown":"You will need to add/upgrade **Apache Commons IO** dependency version **&gt;= 2.12.x**.\r\n\r\n**Note:** The `builder()` method present in `UnsynchronizedByteArrayOutputStream` got introduced from **2.12.x** version of **commons-io** onwards.\r\n\r\nTake any **commons-io** version **&gt;= 2.12.0** for any **Apache POI** version **&gt;= 5.2.4**. \r\n\r\nI took the latest dependency of **commons-io** which is **2.14.0**.\r\n\r\n**pom.xml** (Maven):\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.14.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nOr \r\n\r\n**build.gradle** (Gradle):\r\n\r\n    dependencies {\r\n       implementation &#39;commons-io:commons-io:2.14.0&#39;\r\n    }\r\n\r\nIt will work.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream.html","title":"java.lang.NoSuchMethodError: &#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.poi-poi-ooxml-5.2.4","body":"<p>You will need to add/upgrade <strong>Apache Commons IO</strong> dependency version <strong>&gt;= 2.12.x</strong>.</p>\n<p><strong>Note:</strong> The <code>builder()</code> method present in <code>UnsynchronizedByteArrayOutputStream</code> got introduced from <strong>2.12.x</strong> version of <strong>commons-io</strong> onwards.</p>\n<p>Take any <strong>commons-io</strong> version <strong>&gt;= 2.12.0</strong> for any <strong>Apache POI</strong> version <strong>&gt;= 5.2.4</strong>.</p>\n<p>I took the latest dependency of <strong>commons-io</strong> which is <strong>2.14.0</strong>.</p>\n<p><strong>pom.xml</strong> (Maven):</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Or</p>\n<p><strong>build.gradle</strong> (Gradle):</p>\n<pre><code>dependencies {\n   implementation 'commons-io:commons-io:2.14.0'\n}\n</code></pre>\n<p>It will work.</p>\n"}],"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2920,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":77256502,"answer_count":1,"score":8,"last_activity_date":1701277179,"creation_date":1696827089,"question_id":77256330,"body_markdown":"I have upgraded from `org.apache.poi-poi-ooxml-5.2.3` to `org.apache.poi-poi-ooxml-5.2.4` due to **Security Violation Threat** in `5.2.3`\r\n\r\nNow, I am facing run time exception as `java.lang.NoSuchMethodError`\r\n\r\n**Exception:**\r\n```\r\n[ERROR] ErrorPageFilter - Forwarding to error page from request [/reports/myapp/myreport] due to exception [&#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()&#39;]\r\njava.lang.NoSuchMethodError: &#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()&#39;\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.newPackage(XSSFWorkbook.java:521) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:231) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:227) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:215) ~[poi-ooxml-5.2.4.jar:5.2.4]\r\n\tat myapp.reports.service.impl.MyReportsExcelExporter.&lt;init&gt;(MyReportsExcelExporter.java:37) ~[classes/:0.0.1-SNAPSHOT]\r\n```\r\n\r\n**Code:**\r\n```java\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class MyReportsExcelExporter {\r\n\tprotected XSSFWorkbook workbook;\r\n\t...\r\n\tpublic MyReportsExcelExporter() {\r\n\t\tthis.workbook = new XSSFWorkbook(); //Facing issue here, while initializing the workbook.\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nLooking at the version change, it seems like a minor upgrade but now existing code has stopped working.\r\n\r\nWhat&#39;s probably wrong?","title":"java.lang.NoSuchMethodError: &#39;org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.poi-poi-ooxml-5.2.4","body":"<p>I have upgraded from <code>org.apache.poi-poi-ooxml-5.2.3</code> to <code>org.apache.poi-poi-ooxml-5.2.4</code> due to <strong>Security Violation Threat</strong> in <code>5.2.3</code></p>\n<p>Now, I am facing run time exception as <code>java.lang.NoSuchMethodError</code></p>\n<p><strong>Exception:</strong></p>\n<pre><code>[ERROR] ErrorPageFilter - Forwarding to error page from request [/reports/myapp/myreport] due to exception ['org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()']\njava.lang.NoSuchMethodError: 'org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream$Builder org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder()'\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.newPackage(XSSFWorkbook.java:521) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:231) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:227) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:215) ~[poi-ooxml-5.2.4.jar:5.2.4]\n    at myapp.reports.service.impl.MyReportsExcelExporter.&lt;init&gt;(MyReportsExcelExporter.java:37) ~[classes/:0.0.1-SNAPSHOT]\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class MyReportsExcelExporter {\n    protected XSSFWorkbook workbook;\n    ...\n    public MyReportsExcelExporter() {\n        this.workbook = new XSSFWorkbook(); //Facing issue here, while initializing the workbook.\n    }\n    ...\n}\n</code></pre>\n<p>Looking at the version change, it seems like a minor upgrade but now existing code has stopped working.</p>\n<p>What's probably wrong?</p>\n"},{"tags":["java","pdf","adobe","microsoft-edge","pdftron"],"comments":[{"owner":{"account_id":251246,"reputation":5249,"user_id":528481,"display_name":"iPDFdev"},"score":2,"creation_date":1701178543,"post_id":77563890,"comment_id":136740995,"body_markdown":"Most likely the PDF file is incorrect so each viewer handles the error in its own way. Can you post a sample PDF file to take a look at it?","body":"Most likely the PDF file is incorrect so each viewer handles the error in its own way. Can you post a sample PDF file to take a look at it?"},{"owner":{"account_id":29760228,"reputation":19,"user_id":22808012,"display_name":"Lactus Odinson"},"score":0,"creation_date":1701188474,"post_id":77563890,"comment_id":136743034,"body_markdown":"[GDRIVE](https://drive.google.com/file/d/1P7d37yANHvobYSDPyXls9UoWWkaMD6Ka/view?usp=drive_link)\nPlease check this pdf.","body":"<a href=\"https://drive.google.com/file/d/1P7d37yANHvobYSDPyXls9UoWWkaMD6Ka/view?usp=drive_link\" rel=\"nofollow noreferrer\">GDRIVE</a> Please check this pdf."}],"answers":[{"comments":[{"owner":{"account_id":29760228,"reputation":19,"user_id":22808012,"display_name":"Lactus Odinson"},"score":0,"creation_date":1701238037,"post_id":77565678,"comment_id":136749362,"body_markdown":"Thank you for highlighting the error. I have revised the code to draw the text line twice, and now I need a transformation matrix to make the text appear from top to bottom. The updated PDF file can be found here: [PortraitPDF](https://drive.google.com/file/d/1PIREsG2g1K1D7ugFsQaWVRRbzO2fyvkw/view?usp=drive_link)\nI change orientation to portrait. I am still not able to see text in abode acrobat viewer","body":"Thank you for highlighting the error. I have revised the code to draw the text line twice, and now I need a transformation matrix to make the text appear from top to bottom. The updated PDF file can be found here: <a href=\"https://drive.google.com/file/d/1PIREsG2g1K1D7ugFsQaWVRRbzO2fyvkw/view?usp=drive_link\" rel=\"nofollow noreferrer\">PortraitPDF</a> I change orientation to portrait. I am still not able to see text in abode acrobat viewer"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1701247613,"post_id":77565678,"comment_id":136750754,"body_markdown":"@Lactus *&quot;I have revised the code to draw the text line twice, and now I need a transformation matrix to make the text appear from top to bottom. The updated PDF file can be found here: PortraitPDF I change orientation to portrait. I am still not able to see text in abode acrobat viewer&quot;* - You indeed have stopped displaying the text twice. But that was not the core error, the core error was that text showing operators **must** be used inside a **BT** .. **ET** envelope, not outside. And in your new PDF you still don&#39;t have the required **BT** .. **ET** envelopes (aka text objects).","body":"@Lactus <i>&quot;I have revised the code to draw the text line twice, and now I need a transformation matrix to make the text appear from top to bottom. The updated PDF file can be found here: PortraitPDF I change orientation to portrait. I am still not able to see text in abode acrobat viewer&quot;</i> - You indeed have stopped displaying the text twice. But that was not the core error, the core error was that text showing operators <b>must</b> be used inside a <b>BT</b> .. <b>ET</b> envelope, not outside. And in your new PDF you still don&#39;t have the required <b>BT</b> .. <b>ET</b> envelopes (aka text objects)."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701191480,"creation_date":1701189860,"answer_id":77565678,"question_id":77563890,"body_markdown":"Your text is not drawn inside a text object. Text drawing instructions may only be used in text objects.\r\n\r\nFor drawing the first line you have \r\n```\r\n    0.9 0.9 0.9 rg\r\n    36 0 144 36 re\r\n    f*\r\n    1 0 0 1 67.104 23 cm\r\n    0 0 0 rg\r\n    /F0 8 Tf\r\n    q\r\n        (TEST LINE1 OF TAB1) Tj\r\n        1 0 0 1 67.104 23 cm\r\n    Q\r\n    (TEST LINE1 OF TAB1) Tj\r\n```\r\nbut you probably should have\r\n```\r\n    0.9 0.9 0.9 rg\r\n    36 0 144 36 re\r\n    f*\r\n    1 0 0 1 67.104 23 cm\r\n    0 0 0 rg\r\n    /F0 8 Tf\r\n    q\r\n        BT\r\n        (TEST LINE1 OF TAB1) Tj\r\n        ET\r\n        1 0 0 1 67.104 23 cm\r\n    Q\r\n    BT\r\n    (TEST LINE1 OF TAB1) Tj\r\n    ET\r\n```\r\n\r\nIt&#39;s the same issue for the second line.\r\n\r\nI don&#39;t know, though, how you can make pdftron add the BeginText and EndText operators.\r\n\r\nBy the way, there is quite a lot of unnecessary stuff in here, like drawing the text line twice or manipulating the transformation matrix right before a Q (RestoreState) operation...","title":"Discrepancy in PDF rendering between browser and Acrobat PDF viewer","body":"<p>Your text is not drawn inside a text object. Text drawing instructions may only be used in text objects.</p>\n<p>For drawing the first line you have</p>\n<pre><code>    0.9 0.9 0.9 rg\n    36 0 144 36 re\n    f*\n    1 0 0 1 67.104 23 cm\n    0 0 0 rg\n    /F0 8 Tf\n    q\n        (TEST LINE1 OF TAB1) Tj\n        1 0 0 1 67.104 23 cm\n    Q\n    (TEST LINE1 OF TAB1) Tj\n</code></pre>\n<p>but you probably should have</p>\n<pre><code>    0.9 0.9 0.9 rg\n    36 0 144 36 re\n    f*\n    1 0 0 1 67.104 23 cm\n    0 0 0 rg\n    /F0 8 Tf\n    q\n        BT\n        (TEST LINE1 OF TAB1) Tj\n        ET\n        1 0 0 1 67.104 23 cm\n    Q\n    BT\n    (TEST LINE1 OF TAB1) Tj\n    ET\n</code></pre>\n<p>It's the same issue for the second line.</p>\n<p>I don't know, though, how you can make pdftron add the BeginText and EndText operators.</p>\n<p>By the way, there is quite a lot of unnecessary stuff in here, like drawing the text line twice or manipulating the transformation matrix right before a Q (RestoreState) operation...</p>\n"},{"tags":[],"owner":{"account_id":4642163,"reputation":2513,"user_id":3761687,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701276967,"creation_date":1701276967,"answer_id":77573113,"question_id":77563890,"body_markdown":"The issue is that there is a relationship between ElementBuilder and the Element object it last created.\r\n\r\n&gt;  every call to ElementBuilder.Create method destroys the Element currently associated with the builder and all previous Element pointers are invalidated.\r\n\r\nhttps://docs.apryse.com/api/PDFTronSDK/java/com/pdftron/pdf/ElementBuilder.html#createTextBegin()\r\n\r\nSo you can only be &quot;working&quot; on one Element at a time, while in your code you are trying to operate on two at the same time.\r\n\r\nThe fix is to write out the beginText before building the textRun itself, and operate on the textRun GState object.\r\n\r\nBelow is your updated code\r\n\r\n    Element tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\r\n    tabElement.setPathFill(true);\r\n    GState gstate = tabElement.getGState();\r\n    gstate.setFillColorSpace(ColorSpace.createDeviceRGB());\r\n    gstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\r\n    elementWriterLine1.writeElement(tabElement);\r\n    \r\n    Element tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\r\n    elementWriterLine1.writeElement(tabTextElementLine1);\r\n    \r\n    Element textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\r\n    if(isLandscape) {\r\n        tabPosition = 4 - tabPosition;\r\n        textLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\r\n    } else {\r\n        textLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\r\n    }\r\n    textLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\r\n    textLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\r\n    textLine1.setPathFill(true);\r\n    \r\n    elementWriterLine1.writeElement(textLine1);\r\n    elementWriterLine1.writeElement(builder.createTextEnd()); // write out `ET` element","title":"Discrepancy in PDF rendering between browser and Acrobat PDF viewer","body":"<p>The issue is that there is a relationship between ElementBuilder and the Element object it last created.</p>\n<blockquote>\n<p>every call to ElementBuilder.Create method destroys the Element currently associated with the builder and all previous Element pointers are invalidated.</p>\n</blockquote>\n<p><a href=\"https://docs.apryse.com/api/PDFTronSDK/java/com/pdftron/pdf/ElementBuilder.html#createTextBegin()\" rel=\"nofollow noreferrer\">https://docs.apryse.com/api/PDFTronSDK/java/com/pdftron/pdf/ElementBuilder.html#createTextBegin()</a></p>\n<p>So you can only be &quot;working&quot; on one Element at a time, while in your code you are trying to operate on two at the same time.</p>\n<p>The fix is to write out the beginText before building the textRun itself, and operate on the textRun GState object.</p>\n<p>Below is your updated code</p>\n<pre><code>Element tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\ntabElement.setPathFill(true);\nGState gstate = tabElement.getGState();\ngstate.setFillColorSpace(ColorSpace.createDeviceRGB());\ngstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\nelementWriterLine1.writeElement(tabElement);\n\nElement tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\nelementWriterLine1.writeElement(tabTextElementLine1);\n\nElement textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\nif(isLandscape) {\n    tabPosition = 4 - tabPosition;\n    textLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\n} else {\n    textLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\n}\ntextLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\ntextLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\ntextLine1.setPathFill(true);\n\nelementWriterLine1.writeElement(textLine1);\nelementWriterLine1.writeElement(builder.createTextEnd()); // write out `ET` element\n</code></pre>\n"}],"owner":{"account_id":29760228,"reputation":19,"user_id":22808012,"display_name":"Lactus Odinson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701276967,"creation_date":1701174681,"question_id":77563890,"body_markdown":"I am encountering a situation where I open a PDF both in a web browser and in the Acrobat PDF viewer. In the browser, the PDF is displayed correctly, but in the PDF viewer, I get a different output file. I&#39;m trying to identify whether this discrepancy is related to an issue with the PDF file itself or if there are inherent differences between the PDF viewer and the browser rendering.\r\n\r\nHas anyone experienced a similar issue, and could you provide insights or suggestions on how to troubleshoot and resolve this? Additionally, are there known differences in how PDFs are rendered between web browsers and dedicated PDF viewers that might explain this behavior?\r\n\r\nEdge output:[![Browser View](https://i.stack.imgur.com/YUHWk.png)](https://i.stack.imgur.com/YUHWk.png)\r\n\r\nAdobe Acrobat Reader output: [![Adobe Viewer](https://i.stack.imgur.com/PTZRo.png)](https://i.stack.imgur.com/PTZRo.png)\r\n\r\nI am modifying pdf with pdftron and java 1.8\r\nCode for adding element and text in pdf:\r\n\r\n```\r\nElement tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\r\n\t\t\ttabElement.setPathFill(true);\r\n\t\t\tGState gstate = tabElement.getGState();\r\n\t\t\tgstate.setFillColorSpace(ColorSpace.createDeviceRGB());\r\n\t\t\tgstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\r\n\t\t\telementWriterLine1.writeElement(tabElement);\r\n\r\n\t\t\tElement tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\r\n\t\t\tElement textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\r\n\t\t\tif(isLandscape) {\r\n\t\t\t\ttabPosition = 4 - tabPosition;\r\n\t\t\t\ttabTextElementLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\r\n\t\t\t} else {\r\n\t\t\t\ttabTextElementLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\r\n\t\t\t}\r\n\t\t\ttabTextElementLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\r\n\t\t\ttabTextElementLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\r\n\t\t\ttabTextElementLine1.setPathFill(true);\r\n\t\t\telementWriterLine1.writeElement(tabTextElementLine1);\r\n```\r\n\r\n\r\nI shared pdf file among my colleagues, they are also facing same problem.","title":"Discrepancy in PDF rendering between browser and Acrobat PDF viewer","body":"<p>I am encountering a situation where I open a PDF both in a web browser and in the Acrobat PDF viewer. In the browser, the PDF is displayed correctly, but in the PDF viewer, I get a different output file. I'm trying to identify whether this discrepancy is related to an issue with the PDF file itself or if there are inherent differences between the PDF viewer and the browser rendering.</p>\n<p>Has anyone experienced a similar issue, and could you provide insights or suggestions on how to troubleshoot and resolve this? Additionally, are there known differences in how PDFs are rendered between web browsers and dedicated PDF viewers that might explain this behavior?</p>\n<p>Edge output:<a href=\"https://i.stack.imgur.com/YUHWk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YUHWk.png\" alt=\"Browser View\" /></a></p>\n<p>Adobe Acrobat Reader output: <a href=\"https://i.stack.imgur.com/PTZRo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTZRo.png\" alt=\"Adobe Viewer\" /></a></p>\n<p>I am modifying pdf with pdftron and java 1.8\nCode for adding element and text in pdf:</p>\n<pre><code>Element tabElement = builder.createRect(x, y - 36, tabWidth, tabHeight);\n            tabElement.setPathFill(true);\n            GState gstate = tabElement.getGState();\n            gstate.setFillColorSpace(ColorSpace.createDeviceRGB());\n            gstate.setFillColor(new ColorPt(0.9, 0.9, 0.9));\n            elementWriterLine1.writeElement(tabElement);\n\n            Element tabTextElementLine1 = builder.createTextBegin(Font.createTrueTypeFont(outputPdfDoc, ARIAL, true), 8);\n            Element textLine1 = builder.createTextRun(&quot;TEXT LINE 1&quot;);\n            if(isLandscape) {\n                tabPosition = 4 - tabPosition;\n                tabTextElementLine1.getGState().setTransform(1, 0, 0, 1, pageWidth - gap - (tabPosition * tabWidth) - (tabWidth/2 + textLine1.getTextLength()/2) ,  tabHeight-13 );\n            } else {\n                tabTextElementLine1.getGState().setTransform(0, -1, 1, 0, pageWidth - 13 , pageHeight - gap  - (tabPosition * tabHeight) - (tabHeight/2 - textLine1.getTextLength()/2) );\n            }\n            tabTextElementLine1.getGState().setFillColorSpace(ColorSpace.createDeviceRGB());\n            tabTextElementLine1.getGState().setFillColor(new ColorPt(0, 0, 0));\n            tabTextElementLine1.setPathFill(true);\n            elementWriterLine1.writeElement(tabTextElementLine1);\n</code></pre>\n<p>I shared pdf file among my colleagues, they are also facing same problem.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1701275248,"post_id":77572805,"comment_id":136756299,"body_markdown":"The official Java tutorial explains this fairly well:  https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html","body":"The official Java tutorial explains this fairly well:  <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/subtype.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/subtype.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27294741,"reputation":71,"user_id":20812561,"display_name":"Moeen Ahmmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701276892,"creation_date":1701276892,"answer_id":77573105,"question_id":77572805,"body_markdown":"First 3 line was not compiled because in Java, generic types are not satisfied or covariant fro ensuring type safety which means that `List&lt;Intreger&gt;` is not count a sub type of `List&lt;Number&gt;`. lets describe line of given code \r\n\r\n **Don&#39;t Compile Line :**\r\n - `List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;();` : We can not assign a `List&lt;Integer&gt;` to a variable type of `List&lt;Number&gt;` because generics in java are not covariant.\r\n - `List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;();` : Same reason as first one ,we can&#39;t assign `List&lt;Number&gt;` to a variable type of `List&lt;Integer&gt;`\r\n - `List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();` : Same reason as first one ,we can&#39;t assign `List&lt;Integer&gt;` to a variable type of `List&lt;Object&gt;`\r\n\r\n**Compiled Line :**\r\n\r\n - List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); : This line work because in this line you use a wildcard with a upper bound  `? extends Number`. Upper bound wildcard allows you to accept any subtype of type `T`. That mean  `? extends Number` this accept `Integer`, `Double`, `Float` etc.   \r\n\r\n - List&lt;? super Number&gt; nums = new  ArrayList&lt;Object&gt;(); : \r\n - List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); : This line work because in this line you use a wildcard with a lower bound `? extends Number`.Lower bound wildcard allows you to accept any super type of type `T`.\r\nThat mean  `? extends Number` this accept  `Number` and `Object`.\r\n","title":"Question about Lists and ArrayLists and more specifically about casting","body":"<p>First 3 line was not compiled because in Java, generic types are not satisfied or covariant fro ensuring type safety which means that <code>List&lt;Intreger&gt;</code> is not count a sub type of <code>List&lt;Number&gt;</code>. lets describe line of given code</p>\n<p><strong>Don't Compile Line :</strong></p>\n<ul>\n<li><code>List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;();</code> : We can not assign a <code>List&lt;Integer&gt;</code> to a variable type of <code>List&lt;Number&gt;</code> because generics in java are not covariant.</li>\n<li><code>List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;();</code> : Same reason as first one ,we can't assign <code>List&lt;Number&gt;</code> to a variable type of <code>List&lt;Integer&gt;</code></li>\n<li><code>List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();</code> : Same reason as first one ,we can't assign <code>List&lt;Integer&gt;</code> to a variable type of <code>List&lt;Object&gt;</code></li>\n</ul>\n<p><strong>Compiled Line :</strong></p>\n<ul>\n<li><p>List&lt;? extends Number&gt; nums = new ArrayList(); : This line work because in this line you use a wildcard with a upper bound  <code>? extends Number</code>. Upper bound wildcard allows you to accept any subtype of type <code>T</code>. That mean  <code>? extends Number</code> this accept <code>Integer</code>, <code>Double</code>, <code>Float</code> etc.</p>\n</li>\n<li><p>List&lt;? super Number&gt; nums = new  ArrayList(); :</p>\n</li>\n<li><p>List&lt;? extends Number&gt; nums = new ArrayList(); : This line work because in this line you use a wildcard with a lower bound <code>? extends Number</code>.Lower bound wildcard allows you to accept any super type of type <code>T</code>.\nThat mean  <code>? extends Number</code> this accept  <code>Number</code> and <code>Object</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25144482,"reputation":3,"user_id":18990458,"display_name":"D P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701289286,"accepted_answer_id":77573105,"answer_count":1,"score":-1,"last_activity_date":1701276892,"creation_date":1701274204,"question_id":77572805,"body_markdown":"Why first three lines didn&#39;t compile and the remaining 2 did? How exactly does this work?\r\n\r\n```\r\nimport java.util.*;\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        //List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;(); DIDN&#39;T compile\r\n        //List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;(); DIDN&#39;T compile\r\n        //List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();  DIDN&#39;T compile\r\n        //List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); compiled\r\n        //List&lt;? super Number&gt; nums = new  ArrayList&lt;Object&gt;(); compiled\r\n    }\r\n}`\r\n```","title":"Question about Lists and ArrayLists and more specifically about casting","body":"<p>Why first three lines didn't compile and the remaining 2 did? How exactly does this work?</p>\n<pre><code>import java.util.*;\nclass HelloWorld {\n    public static void main(String[] args) {\n        //List&lt;Number&gt; ints = new ArrayList&lt;Integer&gt;(); DIDN'T compile\n        //List&lt;Integer&gt; nums = new ArrayList&lt;Number&gt;(); DIDN'T compile\n        //List&lt;Object&gt;nums = new ArrayList&lt;Integer&gt;();  DIDN'T compile\n        //List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); compiled\n        //List&lt;? super Number&gt; nums = new  ArrayList&lt;Object&gt;(); compiled\n    }\n}`\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":162930,"reputation":652,"user_id":384724,"accept_rate":100,"display_name":"Todd"},"score":0,"creation_date":1624412114,"post_id":68076277,"comment_id":120349744,"body_markdown":"To improve this question, please read [How to Ask](https://stackoverflow.com/questions/how-to-ask) and [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) - then edit your question. Show what you got, what you aim for, and what you get and make clear what your problem is.","body":"To improve this question, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - then edit your question. Show what you got, what you aim for, and what you get and make clear what your problem is."}],"answers":[{"tags":[],"owner":{"account_id":108298,"reputation":3086,"user_id":287530,"accept_rate":94,"display_name":"Tim Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640285537,"creation_date":1640283336,"answer_id":70465976,"question_id":68076277,"body_markdown":"The problem is the SDK now logs a warning when it can&#39;t retrieve the [AWS instance metadata][1]. It may help to specify which AWS region you want using an [environment variable][2] (I haven&#39;t seen this work, but others have):\r\n\r\n    export AWS_REGION=us-east-1\r\n\r\nAlternately, the Spring Cloud team recommends suppressing the warning:\r\n\r\n[https://github.com/spring-cloud/spring-cloud-aws/issues/556][3]\r\n\r\n[https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747][4]\r\n    \r\n\r\n&gt; On application startup, for its internal purposes Spring Cloud AWS performs a check if application runs in AWS cloud environment\r\nby using `EC2MetadataUtils` class provided by AWS SDK. Starting from version 1.11.678, AWS SDK logs a warning message with exception when this check is made outside of AWS environment.\r\nThis warning message can be hidden by setting `ERROR` logging level on `com.amazonaws.util.EC2MetadataUtils` class.\r\n&gt;\r\n&gt; logging.level.com.amazonaws.util.EC2MetadataUtils=error\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/instancedata-data-retrieval.html\r\n  [2]: https://githubmemory.com/repo/jnshubham/aws-glue-local-etl-docker/issues/3\r\n  [3]: https://github.com/spring-cloud/spring-cloud-aws/issues/556\r\n  [4]: https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747","title":"Error when running application - &quot;|WARN|Fail to retrieve token com.amazonaws.SdkClientException: Failed to connect to service endpoint:&quot;","body":"<p>The problem is the SDK now logs a warning when it can't retrieve the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/instancedata-data-retrieval.html\" rel=\"nofollow noreferrer\">AWS instance metadata</a>. It may help to specify which AWS region you want using an <a href=\"https://githubmemory.com/repo/jnshubham/aws-glue-local-etl-docker/issues/3\" rel=\"nofollow noreferrer\">environment variable</a> (I haven't seen this work, but others have):</p>\n<pre><code>export AWS_REGION=us-east-1\n</code></pre>\n<p>Alternately, the Spring Cloud team recommends suppressing the warning:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-aws/issues/556\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-aws/issues/556</a></p>\n<p><a href=\"https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747\" rel=\"nofollow noreferrer\">https://github.com/juho9000/spring-cloud-aws/commit/24edbdc57086f1043d3a49f6c8841cc1751ee747</a></p>\n<blockquote>\n<p>On application startup, for its internal purposes Spring Cloud AWS performs a check if application runs in AWS cloud environment\nby using <code>EC2MetadataUtils</code> class provided by AWS SDK. Starting from version 1.11.678, AWS SDK logs a warning message with exception when this check is made outside of AWS environment.\nThis warning message can be hidden by setting <code>ERROR</code> logging level on <code>com.amazonaws.util.EC2MetadataUtils</code> class.</p>\n<p>logging.level.com.amazonaws.util.EC2MetadataUtils=error</p>\n</blockquote>\n"}],"owner":{"account_id":7043921,"reputation":83,"user_id":5395389,"accept_rate":75,"display_name":"Arwibrde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701276652,"creation_date":1624323518,"question_id":68076277,"body_markdown":"I have been getting these errors for the past few days when I try run my app locally. I&#39;m completely out of ideas of how to fix this. Any idea what could be the problem? Below is the trace. The app is using aws-sdk 11 and running on java 11. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Jun21 20:44:14.245|INFO|Bean &#39;scheduledTaskExecutor&#39; of type [org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    Jun21 20:44:14.247|WARN|Fail to retrieve token \r\n    com.amazonaws.SdkClientException: Failed to connect to service endpoint: \r\n    \tat com.amazonaws.internal.EC2ResourceFetcher.doReadResource(EC2ResourceFetcher.java:100)\r\n    \tat com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.getToken(InstanceMetadataServiceResourceFetcher.java:91)\r\n    \tat com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.readResource(InstanceMetadataServiceResourceFetcher.java:69)\r\n    \tat com.amazonaws.internal.EC2ResourceFetcher.readResource(EC2ResourceFetcher.java:66)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getItems(EC2MetadataUtils.java:403)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:372)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:368)\r\n    \tat com.amazonaws.util.EC2MetadataUtils.getEC2InstanceRegion(EC2MetadataUtils.java:283)\r\n    \tat com.amazonaws.regions.Regions.getCurrentRegion(Regions.java:107)\r\n    \tat com.genesys.outbound.threadpool.ThreadPoolExecutorAbortPolicy.&lt;init&gt;(ThreadPoolExecutorAbortPolicy.java:33)\r\n    \tat com.inin.cont.config.RootConfig.getThreadPool(RootConfig.java:415)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:229)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:723)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.inin.cont.Server.main(Server.java:33)\r\n    Caused by: java.net.ConnectException: Host is down (connect failed)\r\n    \tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n\r\n\r\n","title":"Error when running application - &quot;|WARN|Fail to retrieve token com.amazonaws.SdkClientException: Failed to connect to service endpoint:&quot;","body":"<p>I have been getting these errors for the past few days when I try run my app locally. I'm completely out of ideas of how to fix this. Any idea what could be the problem? Below is the trace. The app is using aws-sdk 11 and running on java 11.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>Jun21 20:44:14.245|INFO|Bean 'scheduledTaskExecutor' of type [org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nJun21 20:44:14.247|WARN|Fail to retrieve token \ncom.amazonaws.SdkClientException: Failed to connect to service endpoint: \n    at com.amazonaws.internal.EC2ResourceFetcher.doReadResource(EC2ResourceFetcher.java:100)\n    at com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.getToken(InstanceMetadataServiceResourceFetcher.java:91)\n    at com.amazonaws.internal.InstanceMetadataServiceResourceFetcher.readResource(InstanceMetadataServiceResourceFetcher.java:69)\n    at com.amazonaws.internal.EC2ResourceFetcher.readResource(EC2ResourceFetcher.java:66)\n    at com.amazonaws.util.EC2MetadataUtils.getItems(EC2MetadataUtils.java:403)\n    at com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:372)\n    at com.amazonaws.util.EC2MetadataUtils.getData(EC2MetadataUtils.java:368)\n    at com.amazonaws.util.EC2MetadataUtils.getEC2InstanceRegion(EC2MetadataUtils.java:283)\n    at com.amazonaws.regions.Regions.getCurrentRegion(Regions.java:107)\n    at com.genesys.outbound.threadpool.ThreadPoolExecutorAbortPolicy.&lt;init&gt;(ThreadPoolExecutorAbortPolicy.java:33)\n    at com.inin.cont.config.RootConfig.getThreadPool(RootConfig.java:415)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:229)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:723)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.inin.cont.Server.main(Server.java:33)\nCaused by: java.net.ConnectException: Host is down (connect failed)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n</code></pre>\n"},{"tags":["java","deployment","websphere","ibm-rad"],"comments":[{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701259397,"post_id":77565132,"comment_id":136752922,"body_markdown":"Are you importing Eclipse project metadata (.project, .settings dir, etc.) committed to the repo?   Is the C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR\\MyApplicationEAR.ear path is the path of your project in your RAD workspace?  Maybe you could share  your publishing settings (run resources on workspace, OR server).","body":"Are you importing Eclipse project metadata (.project, .settings dir, etc.) committed to the repo?   Is the C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR&zwnj;&#8203;\\MyApplicationEAR.ea&zwnj;&#8203;r path is the path of your project in your RAD workspace?  Maybe you could share  your publishing settings (run resources on workspace, OR server)."},{"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"score":0,"creation_date":1701271486,"post_id":77565132,"comment_id":136755494,"body_markdown":"The file .project comes from the repo, while .settings dir is included into .gitignore.\nEDIT: not exactly, the path shown in the console error message is the path of the local git repository for the EAR project, the project within RAD&#39;s workspace points to that source folder. I don&#39;t understand your last statement, sorry. What publishing settings might be useful and how shall I display them?","body":"The file .project comes from the repo, while .settings dir is included into .gitignore. EDIT: not exactly, the path shown in the console error message is the path of the local git repository for the EAR project, the project within RAD&#39;s workspace points to that source folder. I don&#39;t understand your last statement, sorry. What publishing settings might be useful and how shall I display them?"},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701274363,"post_id":77565132,"comment_id":136756112,"body_markdown":"To see the publishing settings double-click on the **Servers** view entry like the upper-righthand side of this:  https://gist.github.com/scottkurz/c0cca3ee5d0e20de125d145274cdd966","body":"To see the publishing settings double-click on the <b>Servers</b> view entry like the upper-righthand side of this:  <a href=\"https://gist.github.com/scottkurz/c0cca3ee5d0e20de125d145274cdd966\" rel=\"nofollow noreferrer\">gist.github.com/scottkurz/c0cca3ee5d0e20de125d145274cdd966</a>"},{"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"score":0,"creation_date":1701276644,"post_id":77565132,"comment_id":136756611,"body_markdown":"I edited my question, sorry about the different language","body":"I edited my question, sorry about the different language"},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701277272,"post_id":77565132,"comment_id":136756728,"body_markdown":"No problem.  So it looks like it&#39;s &quot;run server with resources within the workspace&quot;.   Are there any related entries in &quot;Problems&quot; or the &quot;Error Log&quot; views?  Is everything compiling/building/validating successfully?","body":"No problem.  So it looks like it&#39;s &quot;run server with resources within the workspace&quot;.   Are there any related entries in &quot;Problems&quot; or the &quot;Error Log&quot; views?  Is everything compiling/building/validating successfully?"},{"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"score":0,"creation_date":1701279577,"post_id":77565132,"comment_id":136757148,"body_markdown":"I see no errors in the &quot;Problems&quot; tab, only a number of warnings. No errors are shown in the log/console either, but the FileNotFoundException","body":"I see no errors in the &quot;Problems&quot; tab, only a number of warnings. No errors are shown in the log/console either, but the FileNotFoundException"},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1701283810,"post_id":77565132,"comment_id":136757801,"body_markdown":"I know enough to keep asking questions and for you to try things but not enough to simply diagnose the problem.   If you can you should try RAD support.  Since StackOverflow is telling me the comment thread is too long let me point you to our WAS forum if you want to chat more there:   https://community.ibm.com/community/user/wasdevops/communities/community-home/digestviewer?communitykey=5c4ba155-561a-4794-9883-bb0c6164e14e","body":"I know enough to keep asking questions and for you to try things but not enough to simply diagnose the problem.   If you can you should try RAD support.  Since StackOverflow is telling me the comment thread is too long let me point you to our WAS forum if you want to chat more there:   <a href=\"https://community.ibm.com/community/user/wasdevops/communities/community-home/digestviewer?communitykey=5c4ba155-561a-4794-9883-bb0c6164e14e\" rel=\"nofollow noreferrer\">community.ibm.com/community/user/wasdevops/communities/&hellip;</a>"}],"owner":{"account_id":8994961,"reputation":11,"user_id":12064430,"display_name":"jack008"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701276587,"creation_date":1701185391,"question_id":77565132,"body_markdown":"I&#39;m maintaining a legacy Enterprise Application which unfortunately runs on IBM WebSphere Application Server v. 7.0.0.45. The IDE is IBM RAD and the application consists of two projects: the first one is the web module and the second one the EAR container. The latter actually contains the deployment descriptor (application.xml), so no .EAR file is really generated on the file system within the EAR project.\r\n\r\nThe issue I&#39;m having is that whenever I make any change in the web app and then save the source file, RAD first rebuilds the web app and then tries to re-publish the .EAR file to WAS, but the deployment always fails with the error: &quot;Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear&quot;.\r\n\r\n    [28/11/23 11.06.58:301 CET] 0000001c CompositionUn E   WSVR0194E: Composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR failed to start.\r\n    [28/11/23 11.06.58:703 CET] 0000001c StartDeployme W   Start failed.  ApplicationManager MBean: WebSphere:name=ApplicationManager,process=server1,platform=proxy,node=MYUSERNode03,version=7.0.0.45,type=ApplicationManager,mbeanIdentifier=ApplicationManager,cell=MYUSERNode03Cell,spec=1.0, operation: startApplication, params: [MyApplicationEAR]\r\n    [28/11/23 11.06.58:825 CET] 0000001c AppBinaryProc I   ADMA7021I: Distribution of application MyApplicationEAR completed successfully.\r\n    [28/11/23 11.06.58:701 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.3265338834176421115024.txt com.ibm.ws.management.AdminServiceImpl.invoke 679\r\n    [28/11/23 11.06.58:812 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.7225642279798212295583.txt com.ibm.ws.management.application.sync.StartDeploymentTask.startDeployment 256\r\n    [28/11/23 11.06.58:856 CET] 0000001c FileRepositor A   ADMR0009I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deltas/MyApplicationEAR/delta-1701166016643 is created.\r\n    [28/11/23 11.06.58:864 CET] 00000005 TreeBuilder   W   ODCF0002E: Exception: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear.\r\n    [28/11/23 11.06.58:871 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/META-INF/ibm-application-runtime.props is modified.\r\n    [28/11/23 11.06.58:877 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/deployment.xml is modified.\r\n    [28/11/23 11.06.59:141 CET] 00000005 FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_552f552f_23.11.28_11.06.58.8782013313554722235215.txt com.ibm.ws.odc.cell.TreeBuilder Removing: /cell/MYUSERNode03Cell/application/MyApplicationEAR&lt;&lt;com.ibm.ws.odc.ODCNodeImpl@1cf21cf2&gt;&gt;\r\n    [28/11/23 11.07.14:292 CET] 00000016 AdminHelper   A   ADMN1009I: An attempt is made to start the MyApplicationEAR application.\r\n    [28/11/23 11.07.14:533 CET] 00000016 CompositionUn A   WSVR0190I: Starting composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR.\r\n    [28/11/23 11.07.14:560 CET] 00000016 ApplicationMg W   WSVR0100W: An error occurred initializing, MyApplicationEAR\r\n    com.ibm.ws.exception.ConfigurationWarning: Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:580)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:420)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.initializeApplication(ApplicationMgrImpl.java:385)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2073)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:434)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:377)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:648)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:610)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1203)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:611)\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:69)\r\n    \tat sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:611)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:272)\r\n    \tat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1152)\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:384)\r\n    \tat com.ibm.oti.security.CheckedAccessControlContext.securityCheck(CheckedAccessControlContext.java:30)\r\n    \tat sun.misc.JavaSecurityAccessWrapper.doIntersectionPrivilege(JavaSecurityAccessWrapper.java:41)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1146)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:999)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:847)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:783)\r\n    \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1346)\r\n    \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1239)\r\n    \tat com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\r\n    \tat com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:242)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:353)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:595)\r\n    \tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\r\n    \tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n    \tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n    \tat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n    \tat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n    \tat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n    \tat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1662)\r\n    Caused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.OpenFailureException: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1625)\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:1204)\r\n    \tat com.ibm.etools.commonarchive.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:612)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl$MappableContentsArchive.open(DeployedApplicationImpl.java:1707)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:577)\r\n    \t... 41 more\r\n    Caused by: java.io.FileNotFoundException: IWAE0036E URI Name: C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear; File name: C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR\\MyApplicationEAR.ear\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.createLoadStrategy(CommonarchiveFactoryImpl.java:514)\r\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1619)\r\n    \t... 45 more\r\n\r\nBoth projects were imported from our customer&#39;s repository as they are. The application is expected to be successfully redeployed locally, after each change in the source code.\r\n\r\nWhy is WAS searching for a non existing .EAR file within the project folder and how can I fix this issue?\r\nAny help would be highly appreciated.\r\n\r\nEDIT: enclosing a screenshot of publishing settings\r\n[![publishing settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ALtfh.png","title":"Why does WebSphere search for a non existing EAR file and fails to publish an Application?","body":"<p>I'm maintaining a legacy Enterprise Application which unfortunately runs on IBM WebSphere Application Server v. 7.0.0.45. The IDE is IBM RAD and the application consists of two projects: the first one is the web module and the second one the EAR container. The latter actually contains the deployment descriptor (application.xml), so no .EAR file is really generated on the file system within the EAR project.</p>\n<p>The issue I'm having is that whenever I make any change in the web app and then save the source file, RAD first rebuilds the web app and then tries to re-publish the .EAR file to WAS, but the deployment always fails with the error: &quot;Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear&quot;.</p>\n<pre><code>[28/11/23 11.06.58:301 CET] 0000001c CompositionUn E   WSVR0194E: Composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR failed to start.\n[28/11/23 11.06.58:703 CET] 0000001c StartDeployme W   Start failed.  ApplicationManager MBean: WebSphere:name=ApplicationManager,process=server1,platform=proxy,node=MYUSERNode03,version=7.0.0.45,type=ApplicationManager,mbeanIdentifier=ApplicationManager,cell=MYUSERNode03Cell,spec=1.0, operation: startApplication, params: [MyApplicationEAR]\n[28/11/23 11.06.58:825 CET] 0000001c AppBinaryProc I   ADMA7021I: Distribution of application MyApplicationEAR completed successfully.\n[28/11/23 11.06.58:701 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.3265338834176421115024.txt com.ibm.ws.management.AdminServiceImpl.invoke 679\n[28/11/23 11.06.58:812 CET] 0000001c FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_5a085a08_23.11.28_11.06.58.7225642279798212295583.txt com.ibm.ws.management.application.sync.StartDeploymentTask.startDeployment 256\n[28/11/23 11.06.58:856 CET] 0000001c FileRepositor A   ADMR0009I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deltas/MyApplicationEAR/delta-1701166016643 is created.\n[28/11/23 11.06.58:864 CET] 00000005 TreeBuilder   W   ODCF0002E: Exception: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear.\n[28/11/23 11.06.58:871 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/META-INF/ibm-application-runtime.props is modified.\n[28/11/23 11.06.58:877 CET] 0000001c FileRepositor A   ADMR0010I: Document cells/MYUSERNode03Cell/applications/MyApplicationEAR.ear/deployments/MyApplicationEAR/deployment.xml is modified.\n[28/11/23 11.06.59:141 CET] 00000005 FfdcProvider  W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on C:\\Program Files (x86)\\IBM\\SDP\\runtimes\\base_v7\\profiles\\AppSrv03\\logs\\ffdc\\server1_552f552f_23.11.28_11.06.58.8782013313554722235215.txt com.ibm.ws.odc.cell.TreeBuilder Removing: /cell/MYUSERNode03Cell/application/MyApplicationEAR&lt;&lt;com.ibm.ws.odc.ODCNodeImpl@1cf21cf2&gt;&gt;\n[28/11/23 11.07.14:292 CET] 00000016 AdminHelper   A   ADMN1009I: An attempt is made to start the MyApplicationEAR application.\n[28/11/23 11.07.14:533 CET] 00000016 CompositionUn A   WSVR0190I: Starting composition unit WebSphere:cuname=MyApplicationEAR in BLA WebSphere:blaname=MyApplicationEAR.\n[28/11/23 11.07.14:560 CET] 00000016 ApplicationMg W   WSVR0100W: An error occurred initializing, MyApplicationEAR\ncom.ibm.ws.exception.ConfigurationWarning: Failed to open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:580)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:420)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.initializeApplication(ApplicationMgrImpl.java:385)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2073)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:434)\n    at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:377)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:648)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:610)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1203)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:69)\n    at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:272)\n    at javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1152)\n    at java.security.AccessController.doPrivileged(AccessController.java:384)\n    at com.ibm.oti.security.CheckedAccessControlContext.securityCheck(CheckedAccessControlContext.java:30)\n    at sun.misc.JavaSecurityAccessWrapper.doIntersectionPrivilege(JavaSecurityAccessWrapper.java:41)\n    at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1146)\n    at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:999)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:847)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:783)\n    at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1346)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1239)\n    at com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\n    at com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:242)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:353)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:595)\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1662)\nCaused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.OpenFailureException: IWAE0037E Could not open C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1625)\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:1204)\n    at com.ibm.etools.commonarchive.impl.CommonarchiveFactoryImpl.openEARFile(CommonarchiveFactoryImpl.java:612)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl$MappableContentsArchive.open(DeployedApplicationImpl.java:1707)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.initialize(DeployedApplicationImpl.java:577)\n    ... 41 more\nCaused by: java.io.FileNotFoundException: IWAE0036E URI Name: C:/Path_to_Application/xxx_w1_MyApplication/MyApplicationEAR/MyApplicationEAR.ear; File name: C:\\Path_to_Application\\xxx_w1_MyApplication\\MyApplicationEAR\\MyApplicationEAR.ear\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.createLoadStrategy(CommonarchiveFactoryImpl.java:514)\n    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.primOpenArchive(CommonarchiveFactoryImpl.java:1619)\n    ... 45 more\n</code></pre>\n<p>Both projects were imported from our customer's repository as they are. The application is expected to be successfully redeployed locally, after each change in the source code.</p>\n<p>Why is WAS searching for a non existing .EAR file within the project folder and how can I fix this issue?\nAny help would be highly appreciated.</p>\n<p>EDIT: enclosing a screenshot of publishing settings\n<a href=\"https://i.stack.imgur.com/ALtfh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ALtfh.png\" alt=\"publishing settings\" /></a></p>\n"},{"tags":["java","string","java.util.scanner","maxlength"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1701162951,"post_id":77562561,"comment_id":136738152,"body_markdown":"&quot;Cheaper&quot; in what practical sense? How likely is it that any user will copy/paste war and peace? If you have code which already works, have you consider the cost of more complex code (both writing and maintaining) vs any actual benefit?","body":"&quot;Cheaper&quot; in what practical sense? How likely is it that any user will copy/paste war and peace? If you have code which already works, have you consider the cost of more complex code (both writing and maintaining) vs any actual benefit?"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1701165361,"post_id":77562561,"comment_id":136738635,"body_markdown":"`nextLinet().substring(0, 99)` no?","body":"<code>nextLinet().substring(0, 99)</code> no?"},{"owner":{"account_id":30011078,"reputation":1,"user_id":22998701,"display_name":"Thinchance"},"score":0,"creation_date":1701169249,"post_id":77562561,"comment_id":136739327,"body_markdown":"Jon, I cannot consider something that I do not know, how can I consider the complexity of a code if I don&#39;t know if it even exists. I&#39;m learning this programming language,  so for all I know, this could be done very easily. I asked for an alternative for my code, once I have one, sure I will consider if using it is actually worth it or not. Also this is a coding exercise the likelyhood of any user typing in anything at all, other than me for testing is 0. Our user in this case is hypothetical and War and Peace is obviously just an exaggeration, but I would still like an answear.","body":"Jon, I cannot consider something that I do not know, how can I consider the complexity of a code if I don&#39;t know if it even exists. I&#39;m learning this programming language,  so for all I know, this could be done very easily. I asked for an alternative for my code, once I have one, sure I will consider if using it is actually worth it or not. Also this is a coding exercise the likelyhood of any user typing in anything at all, other than me for testing is 0. Our user in this case is hypothetical and War and Peace is obviously just an exaggeration, but I would still like an answear."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701166460,"post_id":77562847,"comment_id":136738823,"body_markdown":"While this is unlikely to occur in practice, as per spec this isn&#39;t guaranteed - `read(buffer)` does not promise it&#39;ll fetch all 99. Also, the exception handling is bad (just make `main` `throws Exception` - less code, cleaner stack traces, it&#39;s win-win). This also reads potentially _the next_ line, which clearly wasn&#39;t intended.","body":"While this is unlikely to occur in practice, as per spec this isn&#39;t guaranteed - <code>read(buffer)</code> does not promise it&#39;ll fetch all 99. Also, the exception handling is bad (just make <code>main</code> <code>throws Exception</code> - less code, cleaner stack traces, it&#39;s win-win). This also reads potentially <i>the next</i> line, which clearly wasn&#39;t intended."}],"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701165163,"creation_date":1701165163,"answer_id":77562847,"question_id":77562561,"body_markdown":"You can do it using [Reader#read](https://docs.oracle.com/javase/8/docs/api/java/io/Reader.html#read-char:A-) method. Here is an example using `BufferedReader`.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Create a buffered reader for System.in\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\r\n            char[] buffer = new char[99]; // Define the buffer of appropriate size\r\n            System.out.print(&quot;Enter text: &quot;);\r\n            int n = br.read(buffer); // Read user input in the buffer,\r\n                                    // n denotes number of characters read \r\n            String input = new String(buffer, 0, n); // Create string upto n character\r\n            System.out.println(input);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nThe buffer would also contain the newline character if input is less than buffer size. You might want to strip it.","title":"Scanning the next line, but only to a certain length","body":"<p>You can do it using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Reader.html#read-char:A-\" rel=\"nofollow noreferrer\">Reader#read</a> method. Here is an example using <code>BufferedReader</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Create a buffered reader for System.in\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\n            char[] buffer = new char[99]; // Define the buffer of appropriate size\n            System.out.print(&quot;Enter text: &quot;);\n            int n = br.read(buffer); // Read user input in the buffer,\n                                    // n denotes number of characters read \n            String input = new String(buffer, 0, n); // Create string upto n character\n            System.out.println(input);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>The buffer would also contain the newline character if input is less than buffer size. You might want to strip it.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701276574,"creation_date":1701207138,"answer_id":77567253,"question_id":77562561,"body_markdown":"&gt; _&quot;... I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. ...&quot;_\r\n\r\nThis answer is similar to _@RifatRubayatulIslam_&#39;s answer.\r\n\r\nUtilize the _[read](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#read(char[]))_ method, providing a _char_ array with a length of _99_.\\\r\nThe _new-line delimiter_ will be included here, you can use _[String#trim](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#trim())_, or _[String#stripTrailing](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#stripTrailing())_, to remove it.\r\n\r\n```java\r\ntry (Reader r = new InputStreamReader(System.in)) {\r\n    char[] a = new char[99];\r\n    int n = r.read(a);\r\n    String s = new String(a, 0, n).stripTrailing();\r\n}\r\n```","title":"Scanning the next line, but only to a certain length","body":"<blockquote>\n<p><em>&quot;... I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. ...&quot;</em></p>\n</blockquote>\n<p>This answer is similar to <em>@RifatRubayatulIslam</em>'s answer.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)\" rel=\"nofollow noreferrer\">read</a></em> method, providing a <em>char</em> array with a length of <em>99</em>.<br />\nThe <em>new-line delimiter</em> will be included here, you can use <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">String#trim</a></em>, or <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#stripTrailing()\" rel=\"nofollow noreferrer\">String#stripTrailing</a></em>, to remove it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Reader r = new InputStreamReader(System.in)) {\n    char[] a = new char[99];\n    int n = r.read(a);\n    String s = new String(a, 0, n).stripTrailing();\n}\n</code></pre>\n"}],"owner":{"account_id":30011078,"reputation":1,"user_id":22998701,"display_name":"Thinchance"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701276574,"creation_date":1701162807,"question_id":77562561,"body_markdown":"I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. My current code takes the `.nextLine()` method, and saves whatever was typed, in a String. Than it checks the length of that String, if it&#39;s above 99, I use the `.substring(0,99)` method to cut off the excess. This works just fine, but I find it really ugly.\r\n\r\nThe problem is that if, let&#39;s say, a user would decide to copy-paste both volumes of Lev Tolstojs *War and Peace* into the console, my program would first try to save that as a String for no reason whatsoever, as I only need the first 99 characters. The question arises: Is there a way to tell the scanner to stop scanning after a certain number of characters? It would be cheaper, than scanning everything and than only using the part I need.","title":"Scanning the next line, but only to a certain length","body":"<p>I have an existing code, where I have to scan the next sentence that the user types into the console. This sentence can be no longer than 99 characters. My current code takes the <code>.nextLine()</code> method, and saves whatever was typed, in a String. Than it checks the length of that String, if it's above 99, I use the <code>.substring(0,99)</code> method to cut off the excess. This works just fine, but I find it really ugly.</p>\n<p>The problem is that if, let's say, a user would decide to copy-paste both volumes of Lev Tolstojs <em>War and Peace</em> into the console, my program would first try to save that as a String for no reason whatsoever, as I only need the first 99 characters. The question arises: Is there a way to tell the scanner to stop scanning after a certain number of characters? It would be cheaper, than scanning everything and than only using the part I need.</p>\n"},{"tags":["java","linux","path"],"answers":[{"tags":[],"owner":{"account_id":307339,"reputation":285,"user_id":618580,"display_name":"CPrescott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1439569951,"creation_date":1439569951,"answer_id":32014745,"question_id":32014242,"body_markdown":"    obtenerRutaContenido(File.separator + &quot;html&quot; + File.separator + &quot;Correo.html&quot;),\r\n    ...\r\n    obtenerRutaContenido((File.separator  +&quot;html&quot; + File.separator + &quot;PiePagina.html&quot;));\r\n    ...\r\n    obtenerImagen((&quot;html&quot; + File.separator + &quot;Logo-AcertumBank-S.jpg&quot;));\r\n    \r\n\r\nIf `obtenerRutaContenido()` and `obtenerImagen()` are similar you would need to start path with `File.separator` too.","title":"get path from an image on linux with Java","body":"<pre><code>obtenerRutaContenido(File.separator + \"html\" + File.separator + \"Correo.html\"),\n...\nobtenerRutaContenido((File.separator  +\"html\" + File.separator + \"PiePagina.html\"));\n...\nobtenerImagen((\"html\" + File.separator + \"Logo-AcertumBank-S.jpg\"));\n</code></pre>\n\n<p>If <code>obtenerRutaContenido()</code> and <code>obtenerImagen()</code> are similar you would need to start path with <code>File.separator</code> too.</p>\n"},{"comments":[{"owner":{"account_id":6149765,"reputation":65,"user_id":4794525,"display_name":"leopoldo Iv&#225;n Villalpando Cruz"},"score":0,"creation_date":1439822106,"post_id":32014901,"comment_id":52005161,"body_markdown":"Hi thanks for answer but this not fix the problem, i tried it but  the error that appears is the same","body":"Hi thanks for answer but this not fix the problem, i tried it but  the error that appears is the same"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1439823560,"post_id":32014901,"comment_id":52006169,"body_markdown":"On Windows file system path names are case-insensitive, elsewhere not. And a path with ClassLoader must be something absolute like &quot;def/klm/xyz.png&quot;, without starting slash. (Changed setFile into setFileName too.)","body":"On Windows file system path names are case-insensitive, elsewhere not. And a path with ClassLoader must be something absolute like &quot;def/klm/xyz.png&quot;, without starting slash. (Changed setFile into setFileName too.)"},{"owner":{"account_id":6149765,"reputation":65,"user_id":4794525,"display_name":"leopoldo Iv&#225;n Villalpando Cruz"},"score":0,"creation_date":1439835232,"post_id":32014901,"comment_id":52012895,"body_markdown":"hi, i implemented your advices and seem work fine thanks but your solution sends the image on base64, is possible send the image  in the jpg format and not in base 64 on linux? because in windows7 my code works fine","body":"hi, i implemented your advices and seem work fine thanks but your solution sends the image on base64, is possible send the image  in the jpg format and not in base 64 on linux? because in windows7 my code works fine"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1439838748,"post_id":32014901,"comment_id":52014692,"body_markdown":"Added a `setContentType` to the part.","body":"Added a <code>setContentType</code> to the part."},{"owner":{"account_id":6149765,"reputation":65,"user_id":4794525,"display_name":"leopoldo Iv&#225;n Villalpando Cruz"},"score":0,"creation_date":1439862279,"post_id":32014901,"comment_id":52022902,"body_markdown":"I can&#39;t put the method setContentType(image/jpeg) because attachmentPart dont have that method, I put the sentence  attachmentPart.setContent(url.getFile(), &quot;image/jpeg&quot;) but now in the mail the  image appears as follows:\n\n &#255;&#216;&#255;&#224;JFIFdd&#255;&#236;Ducky&lt;&#255;&#238;&amp;Adobed&#192;\nContent-Disposition: inline; \n\t\t filename=&quot;/content/ScoreExcepciones.war/WEB-INF/classes/html/Logo-AcertumBank-S.jpg&quot;\nContent-Transfer-Encoding: 7bit\nContent-Type: image/jpeg; \n\t\t name=&quot;/content/ScoreExcepciones.war/WEB-INF/classes/html/Logo-AcertumBank-S.jpg&quot;\n\n/content/ScoreExcepciones.war/WEB-INF/classes/html/Logo-AcertumBank-S.jpg","body":"I can&#39;t put the method setContentType(image/jpeg) because attachmentPart dont have that method, I put the sentence  attachmentPart.setContent(url.getFile(), &quot;image/jpeg&quot;) but now in the mail the  image appears as follows:   &#255;&#216;&#255;&#224;JFIFdd&#255;&#236;Ducky&lt;&#255;&#238;&amp;Adobed&#192; Content-Disposition: inline;  \t\t filename=&quot;/content/ScoreExcepciones.war/WEB-INF/classes/html&zwnj;&#8203;/Logo-AcertumBank-S.&zwnj;&#8203;jpg&quot; Content-Transfer-Encoding: 7bit Content-Type: image/jpeg;  \t\t name=&quot;/content/ScoreExcepciones.war/WEB-INF/classes/html/Log&zwnj;&#8203;o-AcertumBank-S.jpg&quot;  /content/ScoreExcepciones.war/WEB-INF/classes/html/Logo-Acer&zwnj;&#8203;tumBank-S.jpg"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1439884869,"post_id":32014901,"comment_id":52030834,"body_markdown":"Sorry, I am momentary not at a Java project.with mail. Maybe comment out setDisposition. Remove the &quot;answered&quot; check mark.","body":"Sorry, I am momentary not at a Java project.with mail. Maybe comment out setDisposition. Remove the &quot;answered&quot; check mark."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439884204,"creation_date":1439570468,"answer_id":32014901,"question_id":32014242,"body_markdown":"Primarily you do _not_ have a File (on the file system) but a resource (in a jar/war/class path/...).\r\n\r\n    public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException {\r\n        logger.info(&quot;entro&quot;);\r\n        URL url = getClass().getClassLoader().getResource(urlImagen);\r\n        MimeBodyPart attachmentPart = new MimeBodyPart(url.openStream());\r\n        attachmentPart.setFileName(url.getFile()); // Just &quot;xyz.jpg&quot; maybe\r\n        attachmentPart.setDisposition(MimeBodyPart.INLINE);\r\n        //attachmentPart.setContentType(&quot;image/jpeg&quot;);\r\n        return attachmentPart;\r\n    }\r\n\r\nThis takes the InputStream of the resource to the MimeBodyPart constructor to fill the contents of it.\r\n","title":"get path from an image on linux with Java","body":"<p>Primarily you do <em>not</em> have a File (on the file system) but a resource (in a jar/war/class path/...).</p>\n\n<pre><code>public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException {\n    logger.info(\"entro\");\n    URL url = getClass().getClassLoader().getResource(urlImagen);\n    MimeBodyPart attachmentPart = new MimeBodyPart(url.openStream());\n    attachmentPart.setFileName(url.getFile()); // Just \"xyz.jpg\" maybe\n    attachmentPart.setDisposition(MimeBodyPart.INLINE);\n    //attachmentPart.setContentType(\"image/jpeg\");\n    return attachmentPart;\n}\n</code></pre>\n\n<p>This takes the InputStream of the resource to the MimeBodyPart constructor to fill the contents of it.</p>\n"}],"owner":{"account_id":6149765,"reputation":65,"user_id":4794525,"display_name":"leopoldo Iv&#225;n Villalpando Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32014745,"answer_count":2,"score":0,"last_activity_date":1701275684,"creation_date":1439568215,"question_id":32014242,"body_markdown":"Environment of work:\r\nwindows 7, \r\nfedora 20,\r\nJava 7_79,\r\nmaven,\r\neclipse\r\n\r\n**EDIT**\r\n\r\nI have a web java project with maven and  I&#39;m trying to get an image that i have in src/main/resouces package to put the image on an email, this image later is set into the war at folder WEB-INF/classes/html. when run the project at  windows 7 everything works fine but the problem is when i run my web project on fedora 20 (linux) i get the next error:\r\n\r\n    &gt; 21:26:09,662 ERROR [stderr] (Thread-92) java.lang.NullPointerException\r\n    &gt; 21:26:09,662 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:226)\r\n    &gt; 21:26:09,663 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:299)\r\n    &gt; 21:26:09,663 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1375)\r\n    &gt; 21:26:09,663 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1021)\r\n    &gt; 21:26:09,664 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:419)\r\n    &gt; 21:26:09,664 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1354)\r\n    &gt; 21:26:09,664 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2107)\r\n    &gt; 21:26:09,665 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2075)\r\n    &gt; 21:26:09,665 ERROR [stderr] (Thread-92) \tat\r\n    &gt; javax.mail.Transport.send(Transport.java:123) 21:26:09,666 ERROR\r\n    &gt; [stderr] (Thread-92) \tat\r\n    &gt; com.acertum.serc.util.SolicitudEmail.enviarCorreo(SolicitudEmail.java:148)\r\n    &gt; 21:26:09,666 ERROR [stderr] (Thread-92) \tat\r\n    &gt; com.acertum.serc.controller.AgregarExcepcionView$1.run(AgregarExcepcionView.java:383)\r\n\r\nthis is the method that obtains the image&#39;s  path\r\n\r\n    public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException{\r\n\t\tlogger.info(&quot;entro&quot;);\r\n\t\tURL url = getClass().getClassLoader().getResource(urlImagen);\r\n\t\tlogger.info(&quot;url&quot; + url);\r\n\t\tMimeBodyPart attachmentPart = new MimeBodyPart();\r\n\t\tlogger.info(&quot;url.getPath()&quot; + url.getPath().toString());\r\n\t\tattachmentPart.attachFile(url.getPath());\r\n        attachmentPart.setDisposition(MimeBodyPart.INLINE);\r\n\t\treturn attachmentPart;\r\n\t}\r\n\r\n\r\nmy principal method to send the email is the next:\r\n\r\n    try {\r\n    \t\t\tMessage message = new MimeMessage(session);\r\n    \t\t\tmessage.setFrom(new InternetAddress(ScoreConstants.getFromSolicitudEmail()));\r\n    \t\t\tmessage.setRecipients(Message.RecipientType.TO, recipientes);\r\n    \t\t\tmessage.setSubject(ScoreConstants.getSubjectSolicitudEmail());\r\n    \t\t\tString fechaSistema=&quot;&lt;html&gt;&lt;body&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div align=&#39;right&#39;&gt;&lt;h3&gt;M&amp;eacute;xico,D.F a &quot;+date+&quot;&lt;/h3&gt;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  nombreAcreditado=&quot;&lt;br/&gt;&lt;br/&gt;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Acreditado: &lt;/strong&gt; &quot;+ acreditado +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  tipoproducto=&quot;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Tipo de Producto: &lt;/strong&gt;&quot;+ subproducto +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  numeroMonto=&quot;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Monto: &lt;/strong&gt;&quot;+ monto +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\tString  descripcionExcepcion=&quot;&lt;div style=&#39;font-family: Calibri;&#39;&gt;&lt;strong&gt;Descripcion de la excepci&amp;oacute;n: &lt;/strong&gt;&quot;+ descripcion +&quot;&lt;/div&gt;&lt;br/&gt;&quot;;\r\n    \t\t\r\n    \t\t\t\r\n    \r\n    \t\t\tString linkAceptada = &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div style=&#39;margin-left: 350px;font-family: Calibri;&#39;&gt;&lt;a href=&#39;http://&quot;+ ScoreConstants.getIpServidorWeb()+&quot;:&quot;+ScoreConstants.getPuertoServidorWeb()+&quot;/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=&quot;\r\n    \t\t\t\t\t+ acreditado\r\n    \t\t\t\t\t+ &quot;&amp;celular=&quot;\r\n    \t\t\t\t\t+ celular\r\n    \t\t\t\t\t+ &quot;&amp;fase=&quot;\r\n    \t\t\t\t\t+ fase\r\n    \t\t\t\t\t+ &quot;&amp;excepcionId=&quot;\r\n    \t\t\t\t\t+ excepcionId\r\n    \t\t\t\t\t+ &quot;&amp;subproductoId=&quot;\r\n    \t\t\t\t\t+ subproductoId\r\n    \t\t\t\t\t+ &quot;&amp;version=&quot;\r\n    \t\t\t\t\t+ version\r\n    \t\t\t\t\t+ &quot;&amp;empleadoId=&quot;\r\n    \t\t\t\t\t+ empleadoId\r\n    \t\t\t\t\t+ &quot;&amp;ipAddres=&quot;\r\n    \t\t\t\t\t+ ipAddress\r\n    \t\t\t\t\t+ &quot;&amp;accion=&quot;+autorizar+&quot;&#39;&gt;Autorizar&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;\r\n    \t\t\t\t\t+ &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&#39;http://&quot;+ScoreConstants.getIpServidorWeb()+&quot;:&quot;+ScoreConstants.getPuertoServidorWeb()+&quot;/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=&quot;\r\n    \t\t\t\t\t+ acreditado\r\n    \t\t\t\t\t+ &quot;&amp;celular=&quot;\r\n    \t\t\t\t\t+ celular\r\n    \t\t\t\t\t+ &quot;&amp;fase=&quot;\r\n    \t\t\t\t\t+ fase\r\n    \t\t\t\t\t+ &quot;&amp;excepcionId=&quot;\r\n    \t\t\t\t\t+ excepcionId\r\n    \t\t\t\t\t+ &quot;&amp;subproductoId=&quot;\r\n    \t\t\t\t\t+ subproductoId\r\n    \t\t\t\t\t+ &quot;&amp;version=&quot;\r\n    \t\t\t\t\t+ version\r\n    \t\t\t\t\t+ &quot;&amp;empleadoId=&quot;\r\n    \t\t\t\t\t+ empleadoId\r\n    \t\t\t\t\t+ &quot;&amp;ipAddres=&quot;\r\n    \t\t\t\t\t+ ipAddress\r\n    \t\t\t\t\t+ &quot;&amp;accion=&quot;\r\n    \t\t\t\t\t+ rechazar+ &quot;&#39;&gt;Rechazar&lt;/a&gt;&lt;/div&gt;&quot;;\r\n    \t\t\tString cadena = String.format(&quot;%s%s%s%s%s%s%s&quot;, fechaSistema,\r\n    \t\t\t\t\tobtenerRutaContenido(File.separator + &quot;html&quot; + File.separator + &quot;Correo.html&quot;),\r\n    \t\t\t\t\tnombreAcreditado, tipoproducto, numeroMonto,\r\n    \t\t\t\t\tdescripcionExcepcion, linkAceptada);\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \r\n    \t\t\t\r\n    \t\t\tMimeBodyPart cadenaContenido = new MimeBodyPart();\r\n    \t\t\tcadenaContenido.setContent(cadena, &quot;text/html&quot;);\r\n    \t\t\tString rutaPiePagina=obtenerRutaContenido((File.separator  +&quot;html&quot; + File.separator + &quot;PiePagina.html&quot;));\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\tMimeBodyPart piePagina = new MimeBodyPart();\r\n    \t\t\tpiePagina.setContent(rutaPiePagina, &quot;text/html&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tMimeBodyPart imagenCreada=obtenerImagen((&quot;html&quot; + File.separator + &quot;Logo-AcertumBank-S.jpg&quot;));\r\n    \t\t\t\r\n    \t\t\tmessage.setContent(ordenContenidos(imagenCreada,cadenaContenido,piePagina));\r\n    \t\t\t\r\n    \t\t\tTransport.send(message);\r\n    \t\t} catch (AddressException e) {\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\tPrintWriter printWriter = new PrintWriter(stringWriter);\r\n    \t\t\te.printStackTrace(printWriter);\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\tPrintWriter printWriter = new PrintWriter(stringWriter);\r\n    \t\t\te.printStackTrace(printWriter);\r\n    \t\t}\r\n\r\n\r\n","title":"get path from an image on linux with Java","body":"<p>Environment of work:\nwindows 7, \nfedora 20,\nJava 7_79,\nmaven,\neclipse</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have a web java project with maven and  I'm trying to get an image that i have in src/main/resouces package to put the image on an email, this image later is set into the war at folder WEB-INF/classes/html. when run the project at  windows 7 everything works fine but the problem is when i run my web project on fedora 20 (linux) i get the next error:</p>\n\n<pre><code>&gt; 21:26:09,662 ERROR [stderr] (Thread-92) java.lang.NullPointerException\n&gt; 21:26:09,662 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:226)\n&gt; 21:26:09,663 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:299)\n&gt; 21:26:09,663 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1375)\n&gt; 21:26:09,663 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1021)\n&gt; 21:26:09,664 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeMultipart.updateHeaders(MimeMultipart.java:419)\n&gt; 21:26:09,664 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1354)\n&gt; 21:26:09,664 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2107)\n&gt; 21:26:09,665 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2075)\n&gt; 21:26:09,665 ERROR [stderr] (Thread-92)   at\n&gt; javax.mail.Transport.send(Transport.java:123) 21:26:09,666 ERROR\n&gt; [stderr] (Thread-92)  at\n&gt; com.acertum.serc.util.SolicitudEmail.enviarCorreo(SolicitudEmail.java:148)\n&gt; 21:26:09,666 ERROR [stderr] (Thread-92)   at\n&gt; com.acertum.serc.controller.AgregarExcepcionView$1.run(AgregarExcepcionView.java:383)\n</code></pre>\n\n<p>this is the method that obtains the image's  path</p>\n\n<pre><code>public MimeBodyPart obtenerImagen(String urlImagen) throws IOException, MessagingException{\n    logger.info(\"entro\");\n    URL url = getClass().getClassLoader().getResource(urlImagen);\n    logger.info(\"url\" + url);\n    MimeBodyPart attachmentPart = new MimeBodyPart();\n    logger.info(\"url.getPath()\" + url.getPath().toString());\n    attachmentPart.attachFile(url.getPath());\n    attachmentPart.setDisposition(MimeBodyPart.INLINE);\n    return attachmentPart;\n}\n</code></pre>\n\n<p>my principal method to send the email is the next:</p>\n\n<pre><code>try {\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(ScoreConstants.getFromSolicitudEmail()));\n            message.setRecipients(Message.RecipientType.TO, recipientes);\n            message.setSubject(ScoreConstants.getSubjectSolicitudEmail());\n            String fechaSistema=\"&lt;html&gt;&lt;body&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div align='right'&gt;&lt;h3&gt;M&amp;eacute;xico,D.F a \"+date+\"&lt;/h3&gt;&lt;/div&gt;&lt;br/&gt;\";\n            String  nombreAcreditado=\"&lt;br/&gt;&lt;br/&gt;&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Acreditado: &lt;/strong&gt; \"+ acreditado +\"&lt;/div&gt;&lt;br/&gt;\";\n            String  tipoproducto=\"&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Tipo de Producto: &lt;/strong&gt;\"+ subproducto +\"&lt;/div&gt;&lt;br/&gt;\";\n            String  numeroMonto=\"&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Monto: &lt;/strong&gt;\"+ monto +\"&lt;/div&gt;&lt;br/&gt;\";\n            String  descripcionExcepcion=\"&lt;div style='font-family: Calibri;'&gt;&lt;strong&gt;Descripcion de la excepci&amp;oacute;n: &lt;/strong&gt;\"+ descripcion +\"&lt;/div&gt;&lt;br/&gt;\";\n\n\n\n            String linkAceptada = \"&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;div style='margin-left: 350px;font-family: Calibri;'&gt;&lt;a href='http://\"+ ScoreConstants.getIpServidorWeb()+\":\"+ScoreConstants.getPuertoServidorWeb()+\"/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=\"\n                    + acreditado\n                    + \"&amp;celular=\"\n                    + celular\n                    + \"&amp;fase=\"\n                    + fase\n                    + \"&amp;excepcionId=\"\n                    + excepcionId\n                    + \"&amp;subproductoId=\"\n                    + subproductoId\n                    + \"&amp;version=\"\n                    + version\n                    + \"&amp;empleadoId=\"\n                    + empleadoId\n                    + \"&amp;ipAddres=\"\n                    + ipAddress\n                    + \"&amp;accion=\"+autorizar+\"'&gt;Autorizar&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\"\n                    + \"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href='http://\"+ScoreConstants.getIpServidorWeb()+\":\"+ScoreConstants.getPuertoServidorWeb()+\"/ScoreExcepciones/AceptadoRechazado.xhtml?nombre=\"\n                    + acreditado\n                    + \"&amp;celular=\"\n                    + celular\n                    + \"&amp;fase=\"\n                    + fase\n                    + \"&amp;excepcionId=\"\n                    + excepcionId\n                    + \"&amp;subproductoId=\"\n                    + subproductoId\n                    + \"&amp;version=\"\n                    + version\n                    + \"&amp;empleadoId=\"\n                    + empleadoId\n                    + \"&amp;ipAddres=\"\n                    + ipAddress\n                    + \"&amp;accion=\"\n                    + rechazar+ \"'&gt;Rechazar&lt;/a&gt;&lt;/div&gt;\";\n            String cadena = String.format(\"%s%s%s%s%s%s%s\", fechaSistema,\n                    obtenerRutaContenido(File.separator + \"html\" + File.separator + \"Correo.html\"),\n                    nombreAcreditado, tipoproducto, numeroMonto,\n                    descripcionExcepcion, linkAceptada);\n\n\n\n\n\n\n            MimeBodyPart cadenaContenido = new MimeBodyPart();\n            cadenaContenido.setContent(cadena, \"text/html\");\n            String rutaPiePagina=obtenerRutaContenido((File.separator  +\"html\" + File.separator + \"PiePagina.html\"));\n\n\n            MimeBodyPart piePagina = new MimeBodyPart();\n            piePagina.setContent(rutaPiePagina, \"text/html\");\n\n\n            MimeBodyPart imagenCreada=obtenerImagen((\"html\" + File.separator + \"Logo-AcertumBank-S.jpg\"));\n\n            message.setContent(ordenContenidos(imagenCreada,cadenaContenido,piePagina));\n\n            Transport.send(message);\n        } catch (AddressException e) {\n            StringWriter stringWriter = new StringWriter();\n            PrintWriter printWriter = new PrintWriter(stringWriter);\n            e.printStackTrace(printWriter);\n        } catch (MessagingException e) {\n            StringWriter stringWriter = new StringWriter();\n            PrintWriter printWriter = new PrintWriter(stringWriter);\n            e.printStackTrace(printWriter);\n        }\n</code></pre>\n"},{"tags":["java","gradle","build","ant"],"answers":[{"tags":[],"owner":{"account_id":3562450,"reputation":1029,"user_id":2974996,"accept_rate":56,"display_name":"Brandon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442293676,"creation_date":1442293676,"answer_id":32578120,"question_id":32578001,"body_markdown":"You do not need to &#39;clean&#39; every time you build. If I recall gradle should only rebuild files that you&#39;ve modified and all their dependents. See https://stackoverflow.com/questions/29028748/why-run-gradle-clean for the second part of your question. ","title":"Do we need to clean the project each time when I develop?","body":"<p>You do not need to 'clean' every time you build. If I recall gradle should only rebuild files that you've modified and all their dependents. See <a href=\"https://stackoverflow.com/questions/29028748/why-run-gradle-clean\">Why run &#39;gradle clean&#39;?</a> for the second part of your question. </p>\n"}],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32578120,"answer_count":1,"score":1,"last_activity_date":1701275675,"creation_date":1442292967,"question_id":32578001,"body_markdown":"I have a huge java web-project. Recently I have migrated to **gradle** build from ant build.\r\n\r\n**Is it necessary to do &#39;clean&#39; task each time I build ?**&lt;br&gt;\r\n*Or*&lt;br&gt;\r\n**What is the actual purpose of &#39;clean&#39; task ?**\r\n\r\n(*I know that &#39;clean&#39; will clean the output directory. But I think always the files will get replaced each time I compile.* Then why do we need to spend time to clean again)\r\n\r\n*There is one reason to clean* (as I know) :\r\nIf you remove a file and build without cleaning it, the old file will remain in the output folder until you clean it.","title":"Do we need to clean the project each time when I develop?","body":"<p>I have a huge java web-project. Recently I have migrated to <strong>gradle</strong> build from ant build.</p>\n\n<p><strong>Is it necessary to do 'clean' task each time I build ?</strong><br>\n<em>Or</em><br>\n<strong>What is the actual purpose of 'clean' task ?</strong></p>\n\n<p>(<em>I know that 'clean' will clean the output directory. But I think always the files will get replaced each time I compile.</em> Then why do we need to spend time to clean again)</p>\n\n<p><em>There is one reason to clean</em> (as I know) :\nIf you remove a file and build without cleaning it, the old file will remain in the output folder until you clean it.</p>\n"},{"tags":["java","android","json","gson"],"answers":[{"comments":[{"owner":{"account_id":1072860,"reputation":37,"user_id":1071713,"accept_rate":75,"display_name":"CharlesAnjos"},"score":0,"creation_date":1701341577,"post_id":77572976,"comment_id":136764727,"body_markdown":"That&#39;s really cool! I&#39;ll have to test it over the weekend, because I was in a hurry and implemented it the hard way: with some internal private classes representing objects so GSON could map things correctly lol.","body":"That&#39;s really cool! I&#39;ll have to test it over the weekend, because I was in a hurry and implemented it the hard way: with some internal private classes representing objects so GSON could map things correctly lol."}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701275628,"creation_date":1701275628,"answer_id":77572976,"question_id":77567888,"body_markdown":"One solution is to transform the JSON structure before converting to the POJO.  You can try JSON library _Josson_ which make use of _Jackson_ instead of _Gson_.\r\n\r\n    public class Pais {\r\n        private String nome;\r\n        private String regiao;\r\n        private int populacao;\r\n        private String bandeira;\r\n    }\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    ArrayList&lt;Pais&gt; paises = Josson.fromJsonString(textoJSON)\r\n        .getJosson(\r\n            &quot;map(nome: name.common,&quot; +\r\n            &quot;    regiao: region,&quot; +\r\n            &quot;    populacao: population,&quot; +\r\n            &quot;    bandeira: flags.png)&quot;)\r\n        .convertValue();\r\n    System.out.println(paises);\r\n\r\n__Output__\r\n\r\n    [{nome=Christmas Island, regiao=Oceania, populacao=2072, bandeira=https://flagcdn.com/w320/cx.png}]","title":"Mapping specific subfields from JSON to Java Class properties on Android","body":"<p>One solution is to transform the JSON structure before converting to the POJO.  You can try JSON library <em>Josson</em> which make use of <em>Jackson</em> instead of <em>Gson</em>.</p>\n<pre><code>public class Pais {\n    private String nome;\n    private String regiao;\n    private int populacao;\n    private String bandeira;\n}\n</code></pre>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>ArrayList&lt;Pais&gt; paises = Josson.fromJsonString(textoJSON)\n    .getJosson(\n        &quot;map(nome: name.common,&quot; +\n        &quot;    regiao: region,&quot; +\n        &quot;    populacao: population,&quot; +\n        &quot;    bandeira: flags.png)&quot;)\n    .convertValue();\nSystem.out.println(paises);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[{nome=Christmas Island, regiao=Oceania, populacao=2072, bandeira=https://flagcdn.com/w320/cx.png}]\n</code></pre>\n"}],"owner":{"account_id":1072860,"reputation":37,"user_id":1071713,"accept_rate":75,"display_name":"CharlesAnjos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701275628,"creation_date":1701217149,"question_id":77567888,"body_markdown":"I have a JSON like this:\r\n\r\n```lang-json\r\n[\r\n  {\r\n    &quot;flags&quot;: {\r\n      &quot;png&quot;: &quot;https://flagcdn.com/w320/cx.png&quot;,\r\n      &quot;svg&quot;: &quot;https://flagcdn.com/cx.svg&quot;,\r\n      &quot;alt&quot;: &quot;&quot;\r\n    },\r\n    &quot;name&quot;: {\r\n      &quot;common&quot;: &quot;Christmas Island&quot;,\r\n      &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\r\n      &quot;nativeName&quot;: {\r\n        &quot;eng&quot;: {\r\n          &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\r\n          &quot;common&quot;: &quot;Christmas Island&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;region&quot;: &quot;Oceania&quot;,\r\n    &quot;population&quot;: 2072\r\n  },\r\n\r\n...\r\n]\r\n``` \r\nIt is a list of countries I&#39;m getting from [here][1]. I am mapping that JSON to a Java class as below:\r\n```lang-java\r\npublic class Pais {\r\n\r\n  @SerializedName(&quot;name&quot;)\r\n  @Expose\r\n  private String nome;\r\n\r\n  @SerializedName(&quot;region&quot;)\r\n  @Expose\r\n  private String regiao;\r\n\r\n  @SerializedName(&quot;population&quot;)\r\n  @Expose\r\n  private int populacao;\r\n\r\n  @SerializedName(&quot;flags&quot;)\r\n  @Expose\r\n  private String bandeira;\r\n}\r\n``` \r\n\r\nAnd then I used GSON to serialize the whole thing with\r\n\r\n```lang-java\r\n    executor.execute(() -&gt; {\r\n      Conexao conexao = new Conexao();\r\n      String URL = &quot;https://restcountries.com/v2/all?fields=name,region,population,flag,numericCode&quot;;\r\n      InputStream inputStream = conexao.obterRespostaHTTP(URL);\r\n      Auxiliador auxiliador = new Auxiliador();\r\n      String textoJSON = auxiliador.converter(inputStream);\r\n\r\n      Gson gson = new Gson();\r\n\r\n      if (textoJSON != null) {\r\n        Type type = new TypeToken&lt;ArrayList&lt;Pais&gt;&gt;() {\r\n        }.getType();\r\n        paises = gson.fromJson(textoJSON, type);\r\n\r\n        handler.post(() -&gt; {\r\n          paisAdapter = new PaisAdapter(this, paises);\r\n          listView.setAdapter(paisAdapter);\r\n        });\r\n      }\r\n    });\r\n```\r\n\r\nBut the thing is, the fields &#39;name&#39; and &#39;flags&#39; will be parsed as objects, since they have other parameters inside of them, right? Is it possible to do something like mapping the  &quot;png&quot; field inside the &quot;flags&quot; field from the JSON directly to my class parameter &quot;bandeira,&quot; for example?\r\n\r\nI&#39;ve tried changing the `@SerializedName` notation to things like `@SerializedName(&quot;flags.png&quot;)`, but it didn&#39;t work. I imagine there is a specific way to do this.\r\n\r\n  [1]: https://restcountries.com/v3.1/all?fields=name,region,population,flags","title":"Mapping specific subfields from JSON to Java Class properties on Android","body":"<p>I have a JSON like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;flags&quot;: {\n      &quot;png&quot;: &quot;https://flagcdn.com/w320/cx.png&quot;,\n      &quot;svg&quot;: &quot;https://flagcdn.com/cx.svg&quot;,\n      &quot;alt&quot;: &quot;&quot;\n    },\n    &quot;name&quot;: {\n      &quot;common&quot;: &quot;Christmas Island&quot;,\n      &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\n      &quot;nativeName&quot;: {\n        &quot;eng&quot;: {\n          &quot;official&quot;: &quot;Territory of Christmas Island&quot;,\n          &quot;common&quot;: &quot;Christmas Island&quot;\n        }\n      }\n    },\n    &quot;region&quot;: &quot;Oceania&quot;,\n    &quot;population&quot;: 2072\n  },\n\n...\n]\n</code></pre>\n<p>It is a list of countries I'm getting from <a href=\"https://restcountries.com/v3.1/all?fields=name,region,population,flags\" rel=\"nofollow noreferrer\">here</a>. I am mapping that JSON to a Java class as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pais {\n\n  @SerializedName(&quot;name&quot;)\n  @Expose\n  private String nome;\n\n  @SerializedName(&quot;region&quot;)\n  @Expose\n  private String regiao;\n\n  @SerializedName(&quot;population&quot;)\n  @Expose\n  private int populacao;\n\n  @SerializedName(&quot;flags&quot;)\n  @Expose\n  private String bandeira;\n}\n</code></pre>\n<p>And then I used GSON to serialize the whole thing with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    executor.execute(() -&gt; {\n      Conexao conexao = new Conexao();\n      String URL = &quot;https://restcountries.com/v2/all?fields=name,region,population,flag,numericCode&quot;;\n      InputStream inputStream = conexao.obterRespostaHTTP(URL);\n      Auxiliador auxiliador = new Auxiliador();\n      String textoJSON = auxiliador.converter(inputStream);\n\n      Gson gson = new Gson();\n\n      if (textoJSON != null) {\n        Type type = new TypeToken&lt;ArrayList&lt;Pais&gt;&gt;() {\n        }.getType();\n        paises = gson.fromJson(textoJSON, type);\n\n        handler.post(() -&gt; {\n          paisAdapter = new PaisAdapter(this, paises);\n          listView.setAdapter(paisAdapter);\n        });\n      }\n    });\n</code></pre>\n<p>But the thing is, the fields 'name' and 'flags' will be parsed as objects, since they have other parameters inside of them, right? Is it possible to do something like mapping the  &quot;png&quot; field inside the &quot;flags&quot; field from the JSON directly to my class parameter &quot;bandeira,&quot; for example?</p>\n<p>I've tried changing the <code>@SerializedName</code> notation to things like <code>@SerializedName(&quot;flags.png&quot;)</code>, but it didn't work. I imagine there is a specific way to do this.</p>\n"},{"tags":["java","scala","apache-kafka","prometheus","apache-kafka-streams"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1701279459,"post_id":77572953,"comment_id":136757126,"body_markdown":"Does this answer your question? [Kafka CLI: command to list all consumer groups for a topic?](https://stackoverflow.com/questions/63883999/kafka-cli-command-to-list-all-consumer-groups-for-a-topic)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63883999/kafka-cli-command-to-list-all-consumer-groups-for-a-topic\">Kafka CLI: command to list all consumer groups for a topic?</a>"},{"owner":{"account_id":11749531,"reputation":329,"user_id":8599262,"display_name":"Bilal Ennouali"},"score":0,"creation_date":1701279662,"post_id":77572953,"comment_id":136757159,"body_markdown":"@Ga&#235;lJ unfortunately not","body":"@Ga&#235;lJ unfortunately not"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1701282807,"post_id":77572953,"comment_id":136757649,"body_markdown":"What does the command returns when you list all consumer groups of the topic?","body":"What does the command returns when you list all consumer groups of the topic?"},{"owner":{"account_id":11749531,"reputation":329,"user_id":8599262,"display_name":"Bilal Ennouali"},"score":0,"creation_date":1701335246,"post_id":77572953,"comment_id":136763580,"body_markdown":"it returns all the consumer groups in the cluster with their input topics and lag. But nothing regarding the changelog topics.","body":"it returns all the consumer groups in the cluster with their input topics and lag. But nothing regarding the changelog topics."}],"owner":{"account_id":11749531,"reputation":329,"user_id":8599262,"display_name":"Bilal Ennouali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701275368,"creation_date":1701275368,"question_id":77572953,"body_markdown":"I have this `kafka-streams` application which is returning `Prometheus` metrics. If I were to believe these metrics, the application has a lag on most partitions of the changelog topic. \r\n\r\nI wanted to verify these metrics using `kafka-cli`. I first thought the `application.id` would be the consumer group for the changelog topic, but with `kafka-consumer-groups --describe` command, I get information about input topics only.\r\n\r\nSo I have two question:\r\n\r\n - What is the consumer group used to consume records from the changelog topic in `kafka-streams` ?\r\n - How can I get the lag for each changelog partition using `kafka-cli` (or other method other than `Prometheus` metrics) ?","title":"What is the consumer group used to consume from a kafka changelog topic?","body":"<p>I have this <code>kafka-streams</code> application which is returning <code>Prometheus</code> metrics. If I were to believe these metrics, the application has a lag on most partitions of the changelog topic.</p>\n<p>I wanted to verify these metrics using <code>kafka-cli</code>. I first thought the <code>application.id</code> would be the consumer group for the changelog topic, but with <code>kafka-consumer-groups --describe</code> command, I get information about input topics only.</p>\n<p>So I have two question:</p>\n<ul>\n<li>What is the consumer group used to consume records from the changelog topic in <code>kafka-streams</code> ?</li>\n<li>How can I get the lag for each changelog partition using <code>kafka-cli</code> (or other method other than <code>Prometheus</code> metrics) ?</li>\n</ul>\n"},{"tags":["java","xml","camunda","dmn","decision-model-notation"],"owner":{"account_id":16228674,"reputation":13,"user_id":12348407,"display_name":"joniboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701275252,"creation_date":1701273764,"question_id":77572748,"body_markdown":"Given an xml file containing a some DMN decisions, I need to retrieve all of to the variable names process them. If i can&#39;t do this then I can&#39;t know what the name of the variables given by the user are, just the value.\r\nI&#39;ve been using the camunda java library and it doens&#39;t seem very straight forward\r\n\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;definitions xmlns=&quot;http://www.omg.org/spec/DMN/20151101/dmn.xsd&quot; id=&quot;definitions&quot; name=&quot;definitions&quot; namespace=&quot;http://camunda.org/schema/1.0/dmn&quot;&gt;\r\n    &lt;decision id=&quot;decision&quot; name=&quot;Dish&quot;&gt;\r\n        &lt;decisionTable id=&quot;decisionTable&quot;&gt;\r\n            &lt;input id=&quot;input1&quot; label=&quot;Season&quot;&gt;\r\n                &lt;inputExpression id=&quot;inputExpression1&quot; typeRef=&quot;string&quot;&gt;\r\n                    &lt;text&gt;season&lt;/text&gt;\r\n                &lt;/inputExpression&gt;\r\n            &lt;/input&gt;\r\n            &lt;input id=&quot;InputClause_0hmkumv&quot; label=&quot;How many guests&quot;&gt;\r\n                &lt;inputExpression id=&quot;LiteralExpression_0m7s53h&quot; typeRef=&quot;integer&quot;&gt;\r\n                    &lt;text&gt;guestCount&lt;/text&gt;\r\n                &lt;/inputExpression&gt;\r\n            &lt;/input&gt;\r\n            &lt;output id=&quot;output1&quot; label=&quot;Dish&quot; name=&quot;desiredDish&quot; typeRef=&quot;string&quot; /&gt;\r\n            &lt;rule id=&quot;row-950612891-1&quot;&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0c1o054&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1lod0sz&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_065u3ym&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Spareribs&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-2&quot;&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0u1z4ho&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Winter&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1euytqf&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_198frve&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Roastbeef&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-3&quot;&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1vn9t5c&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1bbbmvu&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&lt;= 4]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_1bewepn&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Dry Aged Gourmet Steak&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-4&quot;&gt;\r\n                &lt;description&gt;Save money&lt;/description&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0ogofox&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0c60gjz&quot;&gt;\r\n                    &lt;text&gt;[5..8]&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_1lahvj7&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Steak&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-5&quot;&gt;\r\n                &lt;description&gt;Less effort&lt;/description&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1774yme&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;, &quot;Winter&quot;, &quot;Spring&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_01rn17i&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&gt; 8]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_0jpd7hr&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Stew&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-6&quot;&gt;\r\n                &lt;description&gt;Hey, why not!?&lt;/description&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0ifdx8k&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Summer&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0c8ym7l&quot;&gt;\r\n                    &lt;text&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_08d4mb6&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Light Salad and a nice Steak&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n        &lt;/decisionTable&gt;\r\n    &lt;/decision&gt;\r\n&lt;/definitions&gt;```\r\n\r\n\r\nabove is the following dmn file I took from the internet.\r\nIt contains 2 variables; Season and guestCount\r\nI already knew this so in my java file I simply did \r\n```\r\n\r\n            VariableMap variables = Variables\r\n                    .putValue(&quot;season&quot;, season)\r\n                    .putValue(&quot;guestCount&quot;, guestCount);```\r\n\r\nBut what if I didn&#39;t do this? Every example i come accross on camunda&#39;s github already has the names of the variables hard-coded into the example. No example I saw fetched the number and the name of these variables. Do you know if there is any built-in function for the camunda-engine in java?\r\n\r\nWent online trying to see some examples of people fetching these automatically from a java file. Asked AI to help me only to be given\r\n```List&lt;DecisionInputImpl&gt; decisionInputs = decisionDefinition.getInputs();```\r\nWhere the path of their &quot;DecisionInputImpl&quot; was non-existent\r\n(example of non existent path : ```import org.camunda.bpm.engine.DecisionService;```)\r\nscoured the forums and saw someone advise someone else to do a rest something but I didn&#39;t really understood","title":"Getting DMN decision variable list in java","body":"<p>Given an xml file containing a some DMN decisions, I need to retrieve all of to the variable names process them. If i can't do this then I can't know what the name of the variables given by the user are, just the value.\nI've been using the camunda java library and it doens't seem very straight forward</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;definitions xmlns=&quot;http://www.omg.org/spec/DMN/20151101/dmn.xsd&quot; id=&quot;definitions&quot; name=&quot;definitions&quot; namespace=&quot;http://camunda.org/schema/1.0/dmn&quot;&gt;\n    &lt;decision id=&quot;decision&quot; name=&quot;Dish&quot;&gt;\n        &lt;decisionTable id=&quot;decisionTable&quot;&gt;\n            &lt;input id=&quot;input1&quot; label=&quot;Season&quot;&gt;\n                &lt;inputExpression id=&quot;inputExpression1&quot; typeRef=&quot;string&quot;&gt;\n                    &lt;text&gt;season&lt;/text&gt;\n                &lt;/inputExpression&gt;\n            &lt;/input&gt;\n            &lt;input id=&quot;InputClause_0hmkumv&quot; label=&quot;How many guests&quot;&gt;\n                &lt;inputExpression id=&quot;LiteralExpression_0m7s53h&quot; typeRef=&quot;integer&quot;&gt;\n                    &lt;text&gt;guestCount&lt;/text&gt;\n                &lt;/inputExpression&gt;\n            &lt;/input&gt;\n            &lt;output id=&quot;output1&quot; label=&quot;Dish&quot; name=&quot;desiredDish&quot; typeRef=&quot;string&quot; /&gt;\n            &lt;rule id=&quot;row-950612891-1&quot;&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0c1o054&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1lod0sz&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_065u3ym&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Spareribs&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-2&quot;&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0u1z4ho&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Winter&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1euytqf&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_198frve&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Roastbeef&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-3&quot;&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1vn9t5c&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1bbbmvu&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&lt;= 4]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_1bewepn&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Dry Aged Gourmet Steak&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-4&quot;&gt;\n                &lt;description&gt;Save money&lt;/description&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0ogofox&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0c60gjz&quot;&gt;\n                    &lt;text&gt;[5..8]&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_1lahvj7&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Steak&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-5&quot;&gt;\n                &lt;description&gt;Less effort&lt;/description&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1774yme&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;, &quot;Winter&quot;, &quot;Spring&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_01rn17i&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&gt; 8]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_0jpd7hr&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Stew&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-6&quot;&gt;\n                &lt;description&gt;Hey, why not!?&lt;/description&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0ifdx8k&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Summer&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0c8ym7l&quot;&gt;\n                    &lt;text&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_08d4mb6&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Light Salad and a nice Steak&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n        &lt;/decisionTable&gt;\n    &lt;/decision&gt;\n&lt;/definitions&gt;```\n\n\nabove is the following dmn file I took from the internet.\nIt contains 2 variables; Season and guestCount\nI already knew this so in my java file I simply did \n</code></pre>\n<pre><code>        VariableMap variables = Variables\n                .putValue(&quot;season&quot;, season)\n                .putValue(&quot;guestCount&quot;, guestCount);```\n</code></pre>\n<p>But what if I didn't do this? Every example i come accross on camunda's github already has the names of the variables hard-coded into the example. No example I saw fetched the number and the name of these variables. Do you know if there is any built-in function for the camunda-engine in java?</p>\n<p>Went online trying to see some examples of people fetching these automatically from a java file. Asked AI to help me only to be given\n<code>List&lt;DecisionInputImpl&gt; decisionInputs = decisionDefinition.getInputs();</code>\nWhere the path of their &quot;DecisionInputImpl&quot; was non-existent\n(example of non existent path : <code>import org.camunda.bpm.engine.DecisionService;</code>)\nscoured the forums and saw someone advise someone else to do a rest something but I didn't really understood</p>\n"},{"tags":["java","list","sorting","java-stream"],"answers":[{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1642691209,"post_id":40518333,"comment_id":125143225,"body_markdown":"works flawlessly!","body":"works flawlessly!"}],"tags":[],"owner":{"account_id":5606689,"reputation":459,"user_id":4441017,"display_name":"Tanmay Baid"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500571631,"creation_date":1478738637,"answer_id":40518333,"question_id":40517977,"body_markdown":"It seems to be working fine:\r\n\r\n    List&lt;BigDecimal&gt; list = Arrays.asList(new BigDecimal(&quot;24.455&quot;), new BigDecimal(&quot;23.455&quot;), new BigDecimal(&quot;28.455&quot;), new BigDecimal(&quot;20.455&quot;));\r\n    System.out.println(&quot;Unsorted list: &quot; + list);\r\n    final List&lt;BigDecimal&gt; sortedList = list.stream().sorted((o1, o2) -&gt; o1.compareTo(o2)).collect(Collectors.toList());\r\n    System.out.println(&quot;Sorted list: &quot; + sortedList);\r\n\r\n\r\n\r\n**Example Input/Output**\r\n\r\n    Unsorted list: [24.455, 23.455, 28.455, 20.455]\r\n    Sorted list: [20.455, 23.455, 24.455, 28.455]\r\n\r\nAre you sure you are not verifying list instead of `sortedList` [in above example] i.e. you are storing the result of `stream()` in a new `List` object and verifying that object?\r\n","title":"Sorting a list with stream.sorted() in Java","body":"<p>It seems to be working fine:</p>\n\n<pre><code>List&lt;BigDecimal&gt; list = Arrays.asList(new BigDecimal(\"24.455\"), new BigDecimal(\"23.455\"), new BigDecimal(\"28.455\"), new BigDecimal(\"20.455\"));\nSystem.out.println(\"Unsorted list: \" + list);\nfinal List&lt;BigDecimal&gt; sortedList = list.stream().sorted((o1, o2) -&gt; o1.compareTo(o2)).collect(Collectors.toList());\nSystem.out.println(\"Sorted list: \" + sortedList);\n</code></pre>\n\n<p><strong>Example Input/Output</strong></p>\n\n<pre><code>Unsorted list: [24.455, 23.455, 28.455, 20.455]\nSorted list: [20.455, 23.455, 24.455, 28.455]\n</code></pre>\n\n<p>Are you sure you are not verifying list instead of <code>sortedList</code> [in above example] i.e. you are storing the result of <code>stream()</code> in a new <code>List</code> object and verifying that object?</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680901946,"post_id":40518343,"comment_id":133978910,"body_markdown":"Tip: In later versions of Java, you can replace `collect( Collectors.toList() )` with `toList()`.","body":"Tip: In later versions of Java, you can replace <code>collect( Collectors.toList() )</code> with <code>toList()</code>."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1681804810,"post_id":40518343,"comment_id":134111588,"body_markdown":".toList() was added in JDK 16. Comparator.comparing() can replace the boilerplate code here.","body":".toList() was added in JDK 16. Comparator.comparing() can replace the boilerplate code here."}],"tags":[],"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"comment_count":2,"down_vote_count":2,"up_vote_count":218,"is_accepted":true,"score":216,"last_activity_date":1526529409,"creation_date":1478738679,"answer_id":40518343,"question_id":40517977,"body_markdown":"This is not like `Collections.sort()` where the parameter reference gets sorted. In this case you just get a sorted stream that you need to collect and assign to another variable eventually:\r\n\r\n    List result = list.stream().sorted((o1, o2)-&gt;o1.getItem().getValue().\r\n                                       compareTo(o2.getItem().getValue())).\r\n                                       collect(Collectors.toList());\r\n\r\nYou&#39;ve just missed to assign the result","title":"Sorting a list with stream.sorted() in Java","body":"<p>This is not like <code>Collections.sort()</code> where the parameter reference gets sorted. In this case you just get a sorted stream that you need to collect and assign to another variable eventually:</p>\n\n<pre><code>List result = list.stream().sorted((o1, o2)-&gt;o1.getItem().getValue().\n                                   compareTo(o2.getItem().getValue())).\n                                   collect(Collectors.toList());\n</code></pre>\n\n<p>You've just missed to assign the result</p>\n"},{"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":14,"creation_date":1524368864,"post_id":45221474,"comment_id":86940725,"body_markdown":"`list.sort(Comparator.comparing(o -&gt; o.getItem().getValue()));` was new to me. Great!","body":"<code>list.sort(Comparator.comparing(o -&gt; o.getItem().getValue()));</code> was new to me. Great!"},{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1661475045,"post_id":45221474,"comment_id":129787279,"body_markdown":"Somehow, I was able to make it even more concise by removing the `Comparator.` qualifier.","body":"Somehow, I was able to make it even more concise by removing the <code>Comparator.</code> qualifier."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1681804873,"post_id":45221474,"comment_id":134111605,"body_markdown":"You can even remove more boilerplate code by using method reference for Lambda:\n`Item::getValue`.","body":"You can even remove more boilerplate code by using method reference for Lambda: <code>Item::getValue</code>."},{"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":0,"creation_date":1682459571,"post_id":45221474,"comment_id":134218773,"body_markdown":"@Pwnstar This isn&#39;t processing a list of `Item`s, it&#39;s processing a list of objects with an `Item` field. I&#39;m not aware of a way in Java to do a nested method reference, e.g. `MyObject::getItem::getValue`. Lmk if there is such way, but otherwise the above boilerplate is required.","body":"@Pwnstar This isn&#39;t processing a list of <code>Item</code>s, it&#39;s processing a list of objects with an <code>Item</code> field. I&#39;m not aware of a way in Java to do a nested method reference, e.g. <code>MyObject::getItem::getValue</code>. Lmk if there is such way, but otherwise the above boilerplate is required."}],"tags":[],"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"comment_count":4,"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1526587976,"creation_date":1500571860,"answer_id":45221474,"question_id":40517977,"body_markdown":"Use [`list.sort`][2] instead:\r\n\r\n    list.sort((o1, o2) -&gt; o1.getItem().getValue().compareTo(o2.getItem().getValue()));\r\n\r\nand make it more succinct using [`Comparator.comparing`][3]:\r\n\r\n    list.sort(Comparator.comparing(o -&gt; o.getItem().getValue()));\r\n\r\nAfter either of these, `list` itself will be sorted.\r\n\r\nYour issue is that\r\n[`list.stream.sorted`][1] *returns* the sorted data, it doesn&#39;t sort in place as you&#39;re expecting.\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\r\n[3]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-","title":"Sorting a list with stream.sorted() in Java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"noreferrer\"><code>list.sort</code></a> instead:</p>\n\n<pre><code>list.sort((o1, o2) -&gt; o1.getItem().getValue().compareTo(o2.getItem().getValue()));\n</code></pre>\n\n<p>and make it more succinct using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"noreferrer\"><code>Comparator.comparing</code></a>:</p>\n\n<pre><code>list.sort(Comparator.comparing(o -&gt; o.getItem().getValue()));\n</code></pre>\n\n<p>After either of these, <code>list</code> itself will be sorted.</p>\n\n<p>Your issue is that\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\" rel=\"noreferrer\"><code>list.stream.sorted</code></a> <em>returns</em> the sorted data, it doesn't sort in place as you're expecting.</p>\n"},{"tags":[],"owner":{"account_id":13242013,"reputation":159,"user_id":9562196,"display_name":"Venkat IndianEagle"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526966119,"creation_date":1526965809,"answer_id":50460194,"question_id":40517977,"body_markdown":"     \r\n    Collection&lt;Map&lt;Item, Integer&gt;&gt; itemCollection = basket.values();\r\n    Iterator&lt;Map&lt;Item, Integer&gt;&gt; itemIterator =   itemCollection.stream().sorted(new TestComparator()).collect(Collectors.toList()).iterator();\r\n    \r\n    \r\n    \r\n    package com.ie.util;\r\n    \r\n    import com.ie.item.Item;\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class TestComparator implements Comparator&lt;Map&lt;Item, Integer&gt;&gt; {\r\n    \r\n    // comparator is used to sort the Items based on the price\r\n    \r\n    \r\n        @Override\r\n        public int compare(Map&lt;Item, Integer&gt; o1, Map&lt;Item, Integer&gt; o2) {\r\n    \r\n    \r\n          //  System.out.println(&quot;*** compare method will be called *****&quot;);\r\n    \r\n    \r\n            Item item1 = null;\r\n            Item item2 = null;\r\n    \r\n    \r\n            Set&lt;Item&gt; itemSet1 = o1.keySet();\r\n            Iterator&lt;Item&gt; itemIterator1 = itemSet1.iterator();\r\n            if(itemIterator1.hasNext()){\r\n               item1 =   itemIterator1.next();\r\n            }\r\n    \r\n            Set&lt;Item&gt; itemSet2 = o2.keySet();\r\n            Iterator&lt;Item&gt; itemIterator2 = itemSet2.iterator();\r\n            if(itemIterator2.hasNext()){\r\n                item2 =   itemIterator2.next();\r\n            }\r\n    \r\n    \r\n            return -item1.getPrice().compareTo(item2.getPrice());\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n**** this is helpful to sort the nested map objects like Map&lt;Integer,Map&lt;Item,Integer&gt;&gt; here i sorted based on the Item object price .","title":"Sorting a list with stream.sorted() in Java","body":"<pre><code>Collection&lt;Map&lt;Item, Integer&gt;&gt; itemCollection = basket.values();\nIterator&lt;Map&lt;Item, Integer&gt;&gt; itemIterator =   itemCollection.stream().sorted(new TestComparator()).collect(Collectors.toList()).iterator();\n\n\n\npackage com.ie.util;\n\nimport com.ie.item.Item;\n\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class TestComparator implements Comparator&lt;Map&lt;Item, Integer&gt;&gt; {\n\n// comparator is used to sort the Items based on the price\n\n\n    @Override\n    public int compare(Map&lt;Item, Integer&gt; o1, Map&lt;Item, Integer&gt; o2) {\n\n\n      //  System.out.println(\"*** compare method will be called *****\");\n\n\n        Item item1 = null;\n        Item item2 = null;\n\n\n        Set&lt;Item&gt; itemSet1 = o1.keySet();\n        Iterator&lt;Item&gt; itemIterator1 = itemSet1.iterator();\n        if(itemIterator1.hasNext()){\n           item1 =   itemIterator1.next();\n        }\n\n        Set&lt;Item&gt; itemSet2 = o2.keySet();\n        Iterator&lt;Item&gt; itemIterator2 = itemSet2.iterator();\n        if(itemIterator2.hasNext()){\n            item2 =   itemIterator2.next();\n        }\n\n\n        return -item1.getPrice().compareTo(item2.getPrice());\n\n\n    }\n}\n</code></pre>\n\n<p>**** this is helpful to sort the nested map objects like Map> here i sorted based on the Item object price .</p>\n"},{"comments":[{"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":5,"creation_date":1541571036,"post_id":53183266,"comment_id":93258224,"body_markdown":"I feel like this answer is way too detailed for the question, and yet doesn&#39;t address the question at all. Consider using this answer in a self-answered Q/A instead.","body":"I feel like this answer is way too detailed for the question, and yet doesn&#39;t address the question at all. Consider using this answer in a self-answered Q/A instead."},{"owner":{"account_id":1587080,"reputation":3848,"user_id":2600196,"accept_rate":100,"display_name":"kakabali"},"score":1,"creation_date":1546317568,"post_id":53183266,"comment_id":94823805,"body_markdown":"I also feel that this is the best and correct answer. using `Comparator.comparing*` is the way better and more JDK8 oriented approach","body":"I also feel that this is the best and correct answer. using <code>Comparator.comparing*</code> is the way better and more JDK8 oriented approach"},{"owner":{"account_id":13210522,"reputation":414,"user_id":9540910,"display_name":"Collin"},"score":0,"creation_date":1679415885,"post_id":53183266,"comment_id":133716621,"body_markdown":"@River welcome to Java, it&#39;s terrible. It would just make way too much sense to use &quot;&gt;&quot; and &quot;&lt;&quot; to compare like Typescript does with .sort(), right?","body":"@River welcome to Java, it&#39;s terrible. It would just make way too much sense to use &quot;&gt;&quot; and &quot;&lt;&quot; to compare like Typescript does with .sort(), right?"}],"tags":[],"owner":{"account_id":2619102,"reputation":1057,"user_id":2267554,"display_name":"Udaya Shankara Gandhi Thalabat"},"comment_count":3,"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1573132592,"creation_date":1541561933,"answer_id":53183266,"question_id":40517977,"body_markdown":"Java 8 provides different utility api methods to help us sort the streams better.\r\n\r\nIf your list is a list of Integers(or Double, Long, String etc.,) then you can simply sort the list with default comparators provided by java.\r\n\r\n    List&lt;Integer&gt; integerList = Arrays.asList(1, 4, 3, 4, 5);\r\n\r\n**Creating comparator on fly:**\r\n\r\n    integerList.stream().sorted((i1, i2) -&gt; i1.compareTo(i2)).forEach(System.out::println);\r\n\r\n**With default comparator provided by java 8 when no argument passed to sorted():**\r\n\r\n    integerList.stream().sorted().forEach(System.out::println); //Natural order\r\n\r\n**If you want to sort the same list in reverse order:**\r\n\r\n     integerList.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println); // Reverse Order\r\n\r\n**If your list is a list of user defined objects, then:**\r\n\r\n    List&lt;Person&gt; personList = Arrays.asList(new Person(1000, &quot;First&quot;, 25, 30000),\r\n            new Person(2000, &quot;Second&quot;, 30, 45000),\r\n            new Person(3000, &quot;Third&quot;, 35, 25000));\r\n\r\n**Creating comparator on fly:**\r\n\r\n    personList.stream().sorted((p1, p2) -&gt; ((Long)p1.getPersonId()).compareTo(p2.getPersonId()))\r\n            .forEach(person -&gt; System.out.println(person.getName()));\r\n\r\n**Using Comparator.comparingLong() method(We have comparingDouble(), comparingInt() methods too):**\r\n\r\n    personList.stream().sorted(Comparator.comparingLong(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\r\n\r\n**Using Comparator.comparing() method(Generic method which compares based on the getter method provided):**\r\n\r\n    personList.stream().sorted(Comparator.comparing(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\r\n\r\n**We can do chaining too using thenComparing() method:**\r\n\r\n    personList.stream().sorted(Comparator.comparing(Person::getPersonId).thenComparing(Person::getAge)).forEach(person -&gt; System.out.println(person.getName())); //Sorting by person id and then by age.\r\n\r\n**Person class**\r\n\r\n    public class Person {\r\n        private long personId;\r\n        private String name;\r\n        private int age;\r\n        private double salary;\r\n    \r\n        public long getPersonId() {\r\n            return personId;\r\n        }\r\n    \r\n        public void setPersonId(long personId) {\r\n            this.personId = personId;\r\n        }\r\n    \r\n        public Person(long personId, String name, int age, double salary) {\r\n            this.personId = personId;\r\n            this.name = name;\r\n            this.age = age;\r\n    \r\n            this.salary = salary;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public double getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setSalary(double salary) {\r\n            this.salary = salary;\r\n        }\r\n    }\r\n","title":"Sorting a list with stream.sorted() in Java","body":"<p>Java 8 provides different utility api methods to help us sort the streams better.</p>\n\n<p>If your list is a list of Integers(or Double, Long, String etc.,) then you can simply sort the list with default comparators provided by java.</p>\n\n<pre><code>List&lt;Integer&gt; integerList = Arrays.asList(1, 4, 3, 4, 5);\n</code></pre>\n\n<p><strong>Creating comparator on fly:</strong></p>\n\n<pre><code>integerList.stream().sorted((i1, i2) -&gt; i1.compareTo(i2)).forEach(System.out::println);\n</code></pre>\n\n<p><strong>With default comparator provided by java 8 when no argument passed to sorted():</strong></p>\n\n<pre><code>integerList.stream().sorted().forEach(System.out::println); //Natural order\n</code></pre>\n\n<p><strong>If you want to sort the same list in reverse order:</strong></p>\n\n<pre><code> integerList.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println); // Reverse Order\n</code></pre>\n\n<p><strong>If your list is a list of user defined objects, then:</strong></p>\n\n<pre><code>List&lt;Person&gt; personList = Arrays.asList(new Person(1000, \"First\", 25, 30000),\n        new Person(2000, \"Second\", 30, 45000),\n        new Person(3000, \"Third\", 35, 25000));\n</code></pre>\n\n<p><strong>Creating comparator on fly:</strong></p>\n\n<pre><code>personList.stream().sorted((p1, p2) -&gt; ((Long)p1.getPersonId()).compareTo(p2.getPersonId()))\n        .forEach(person -&gt; System.out.println(person.getName()));\n</code></pre>\n\n<p><strong>Using Comparator.comparingLong() method(We have comparingDouble(), comparingInt() methods too):</strong></p>\n\n<pre><code>personList.stream().sorted(Comparator.comparingLong(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\n</code></pre>\n\n<p><strong>Using Comparator.comparing() method(Generic method which compares based on the getter method provided):</strong></p>\n\n<pre><code>personList.stream().sorted(Comparator.comparing(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\n</code></pre>\n\n<p><strong>We can do chaining too using thenComparing() method:</strong></p>\n\n<pre><code>personList.stream().sorted(Comparator.comparing(Person::getPersonId).thenComparing(Person::getAge)).forEach(person -&gt; System.out.println(person.getName())); //Sorting by person id and then by age.\n</code></pre>\n\n<p><strong>Person class</strong></p>\n\n<pre><code>public class Person {\n    private long personId;\n    private String name;\n    private int age;\n    private double salary;\n\n    public long getPersonId() {\n        return personId;\n    }\n\n    public void setPersonId(long personId) {\n        this.personId = personId;\n    }\n\n    public Person(long personId, String name, int age, double salary) {\n        this.personId = personId;\n        this.name = name;\n        this.age = age;\n\n        this.salary = salary;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592210732,"creation_date":1592210732,"answer_id":62384546,"question_id":40517977,"body_markdown":"This is a simple example :\r\n\r\n    List&lt;String&gt; citiesName = Arrays.asList( &quot;Delhi&quot;,&quot;Mumbai&quot;,&quot;Chennai&quot;,&quot;Banglore&quot;,&quot;Kolkata&quot;);\r\n    System.out.println(&quot;Cities : &quot;+citiesName);\r\n    List&lt;String&gt; sortedByName = citiesName.stream()\r\n    \t\t\t\t.sorted((s1,s2)-&gt;s2.compareTo(s1))\r\n    \t\t\t\t\t\t.collect(Collectors.toList());\r\n    System.out.println(&quot;Sorted by Name : &quot;+ sortedByName);\r\n\r\nIt may be possible that your IDE is not getting the jdk 1.8 or upper version to compile the code. \r\n\r\n**Set the Java version 1.8 for Your_Project** &gt; properties &gt; Project Facets &gt; Java version 1.8","title":"Sorting a list with stream.sorted() in Java","body":"<p>This is a simple example :</p>\n\n<pre><code>List&lt;String&gt; citiesName = Arrays.asList( \"Delhi\",\"Mumbai\",\"Chennai\",\"Banglore\",\"Kolkata\");\nSystem.out.println(\"Cities : \"+citiesName);\nList&lt;String&gt; sortedByName = citiesName.stream()\n                .sorted((s1,s2)-&gt;s2.compareTo(s1))\n                        .collect(Collectors.toList());\nSystem.out.println(\"Sorted by Name : \"+ sortedByName);\n</code></pre>\n\n<p>It may be possible that your IDE is not getting the jdk 1.8 or upper version to compile the code. </p>\n\n<p><strong>Set the Java version 1.8 for Your_Project</strong> > properties > Project Facets > Java version 1.8</p>\n"},{"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1624433165,"post_id":65633783,"comment_id":120354417,"body_markdown":"Looks like you don&#39;t take advantage of any stream related code.","body":"Looks like you don&#39;t take advantage of any stream related code."}],"tags":[],"owner":{"account_id":20402209,"reputation":34,"user_id":14967681,"display_name":"Asmin Shrestha"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610127450,"creation_date":1610127450,"answer_id":65633783,"question_id":40517977,"body_markdown":"&gt; **This might help for people ending up here searching how to sort list alphabetically.**\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class SortService {\r\n        public static void main(String[] args) {\r\n            List&lt;TestData&gt; test = new ArrayList&lt;&gt;();\r\n            test.add(prepareTestData(&quot;Asmin&quot;,1));\r\n            test.add(prepareTestData(&quot;saurav&quot;,4));\r\n            test.add(prepareTestData(&quot;asmin&quot;,2));\r\n            test.add(prepareTestData(&quot;Saurav&quot;,3));\r\n    \r\n            test.forEach(data-&gt; System.out.println(data));\r\n            /** Output\r\n             *  TestData(name=Asmin, id=1)\r\n             *  TestData(name=saurav, id=4)\r\n             *  TestData(name=asmin, id=2)\r\n             *  TestData(name=Saurav, id=3)\r\n             */\r\n    \r\n            test.sort(Comparator.comparing(TestData::getName,String::compareToIgnoreCase));\r\n            test.forEach(data-&gt; System.out.println(data));\r\n            /**Sorted Output\r\n             * TestData(name=Asmin, id=1)\r\n             * TestData(name=asmin, id=2)\r\n             * TestData(name=saurav, id=4)\r\n             * TestData(name=Saurav, id=3)\r\n             */\r\n        }\r\n        private static TestData prepareTestData(String name, int id){\r\n            TestData testData= new TestData();\r\n            testData.setId(id);\r\n            testData.setName(name);\r\n            return testData;\r\n        }\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    class TestData{\r\n        private String name;\r\n        private int id;\r\n    }","title":"Sorting a list with stream.sorted() in Java","body":"<blockquote>\n<p><strong>This might help for people ending up here searching how to sort list alphabetically.</strong></p>\n</blockquote>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class SortService {\n    public static void main(String[] args) {\n        List&lt;TestData&gt; test = new ArrayList&lt;&gt;();\n        test.add(prepareTestData(&quot;Asmin&quot;,1));\n        test.add(prepareTestData(&quot;saurav&quot;,4));\n        test.add(prepareTestData(&quot;asmin&quot;,2));\n        test.add(prepareTestData(&quot;Saurav&quot;,3));\n\n        test.forEach(data-&gt; System.out.println(data));\n        /** Output\n         *  TestData(name=Asmin, id=1)\n         *  TestData(name=saurav, id=4)\n         *  TestData(name=asmin, id=2)\n         *  TestData(name=Saurav, id=3)\n         */\n\n        test.sort(Comparator.comparing(TestData::getName,String::compareToIgnoreCase));\n        test.forEach(data-&gt; System.out.println(data));\n        /**Sorted Output\n         * TestData(name=Asmin, id=1)\n         * TestData(name=asmin, id=2)\n         * TestData(name=saurav, id=4)\n         * TestData(name=Saurav, id=3)\n         */\n    }\n    private static TestData prepareTestData(String name, int id){\n        TestData testData= new TestData();\n        testData.setId(id);\n        testData.setName(name);\n        return testData;\n    }\n}\n\n@Getter\n@Setter\n@ToString\nclass TestData{\n    private String name;\n    private int id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17910967,"reputation":19,"user_id":14678037,"display_name":"Степан Терещук"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1617565976,"creation_date":1617565669,"answer_id":66945266,"question_id":40517977,"body_markdown":"## sorting Integer using streamAPI ##\r\n\r\n    arr.stream()\r\n    .sorted((item1,item2)-&gt; Integer.compare(item1.price, item2.price))\r\n    .forEach(item-&gt; item.show());\r\n    //asc\r\n    System.out.println(&quot;--------------------&quot;);\r\n    //desc\r\n    arr.stream()\r\n    .sorted((item1,item2)-&gt; item1.price&lt;item2.price?1:-1)\r\n    .forEach(item-&gt;item.show());","title":"Sorting a list with stream.sorted() in Java","body":"<h2>sorting Integer using streamAPI</h2>\n<pre><code>arr.stream()\n.sorted((item1,item2)-&gt; Integer.compare(item1.price, item2.price))\n.forEach(item-&gt; item.show());\n//asc\nSystem.out.println(&quot;--------------------&quot;);\n//desc\narr.stream()\n.sorted((item1,item2)-&gt; item1.price&lt;item2.price?1:-1)\n.forEach(item-&gt;item.show());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1681804730,"post_id":72347317,"comment_id":134111570,"body_markdown":"jdk 16+ equivalent added","body":"jdk 16+ equivalent added"}],"tags":[],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1681804731,"creation_date":1653303094,"answer_id":72347317,"question_id":40517977,"body_markdown":"Using Comparator:\r\n\r\n    List&lt;Type&gt; result = list\r\n                        .stream()\r\n                        .sorted(Comparator.comparing(Type::getValue))\r\n                        .collect(Collectors.toList());\r\nEDIT: JDK 16+\r\n\r\n    List&lt;Type&gt; result = list\r\n                        .stream()\r\n                        .sorted(Comparator.comparing(Type::getValue))\r\n                        .toList();","title":"Sorting a list with stream.sorted() in Java","body":"<p>Using Comparator:</p>\n<pre><code>List&lt;Type&gt; result = list\n                    .stream()\n                    .sorted(Comparator.comparing(Type::getValue))\n                    .collect(Collectors.toList());\n</code></pre>\n<p>EDIT: JDK 16+</p>\n<pre><code>List&lt;Type&gt; result = list\n                    .stream()\n                    .sorted(Comparator.comparing(Type::getValue))\n                    .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701275120,"creation_date":1701259653,"answer_id":77571012,"question_id":40517977,"body_markdown":"Using Java 8 onward, if you want to do sorting based on some field, you can use some of the static methods inside the `Comparator` interface. \r\n\r\nHere is an example of sorting a position(Long field) inside Positon object.\r\n\r\n```\r\nprivate List&lt;Position&gt; sortPosition(List&lt;Position&gt; positions) {\r\n        return positions.stream()\r\n                .sorted(Comparator.comparingLong(Position::getPosition))\r\n                .toList();\r\n    }\r\n```\r\n\r\n\r\nHere is the method implementation &amp; Java Doc in the Comparator Interface\r\n```\r\n    /**\r\n     * Accepts a function that extracts a {@code long} sort key from a type\r\n     * {@code T}, and returns a {@code Comparator&lt;T&gt;} that compares by that\r\n     * sort key.\r\n     *\r\n     * &lt;p&gt;The returned comparator is serializable if the specified function is\r\n     * also serializable.\r\n     *\r\n     * @param  &lt;T&gt; the type of element to be compared\r\n     * @param  keyExtractor the function used to extract the long sort key\r\n     * @return a comparator that compares by an extracted key\r\n     * @see #comparing(Function)\r\n     * @throws NullPointerException if the argument is null\r\n     * @since 1.8\r\n     */\r\n    public static &lt;T&gt; Comparator&lt;T&gt; comparingLong(ToLongFunction&lt;? super T&gt; keyExtractor) {\r\n        Objects.requireNonNull(keyExtractor);\r\n        return (Comparator&lt;T&gt; &amp; Serializable)\r\n            (c1, c2) -&gt; Long.compare(keyExtractor.applyAsLong(c1), keyExtractor.applyAsLong(c2));\r\n    }\r\n```\r\nOracle documentation link:  \r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Sorting a list with stream.sorted() in Java","body":"<p>Using Java 8 onward, if you want to do sorting based on some field, you can use some of the static methods inside the <code>Comparator</code> interface.</p>\n<p>Here is an example of sorting a position(Long field) inside Positon object.</p>\n<pre><code>private List&lt;Position&gt; sortPosition(List&lt;Position&gt; positions) {\n        return positions.stream()\n                .sorted(Comparator.comparingLong(Position::getPosition))\n                .toList();\n    }\n</code></pre>\n<p>Here is the method implementation &amp; Java Doc in the Comparator Interface</p>\n<pre><code>    /**\n     * Accepts a function that extracts a {@code long} sort key from a type\n     * {@code T}, and returns a {@code Comparator&lt;T&gt;} that compares by that\n     * sort key.\n     *\n     * &lt;p&gt;The returned comparator is serializable if the specified function is\n     * also serializable.\n     *\n     * @param  &lt;T&gt; the type of element to be compared\n     * @param  keyExtractor the function used to extract the long sort key\n     * @return a comparator that compares by an extracted key\n     * @see #comparing(Function)\n     * @throws NullPointerException if the argument is null\n     * @since 1.8\n     */\n    public static &lt;T&gt; Comparator&lt;T&gt; comparingLong(ToLongFunction&lt;? super T&gt; keyExtractor) {\n        Objects.requireNonNull(keyExtractor);\n        return (Comparator&lt;T&gt; &amp; Serializable)\n            (c1, c2) -&gt; Long.compare(keyExtractor.applyAsLong(c1), keyExtractor.applyAsLong(c2));\n    }\n</code></pre>\n<p>Oracle documentation link:<br />\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a></p>\n"}],"owner":{"account_id":9568710,"reputation":1651,"user_id":7107100,"display_name":"Ivan C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434061,"favorite_count":0,"down_vote_count":1,"up_vote_count":162,"accepted_answer_id":40518343,"answer_count":10,"score":161,"last_activity_date":1701275120,"creation_date":1478735780,"question_id":40517977,"body_markdown":"I&#39;m interested in sorting a list from a stream. This is the code I&#39;m using:\r\n\r\n    list.stream()\r\n        .sorted((o1, o2)-&gt;o1.getItem().getValue().compareTo(o2.getItem().getValue()))\r\n        .collect(Collectors.toList());\r\n\r\nAm I missing something? The list is not sorted afterward.\r\n\r\nIt should sort the lists according to the item with the lowest value.\r\n\r\n    for (int i = 0; i &lt; list.size(); i++)\r\n    {\r\n       System.out.println(&quot;list &quot; + (i+1));\r\n       print(list, i);\r\n    }\r\n\r\nAnd the print method:\r\n\r\n\tpublic static void print(List&lt;List&gt; list, int i)\r\n    {\r\n        System.out.println(list.get(i).getItem().getValue());\r\n    }","title":"Sorting a list with stream.sorted() in Java","body":"<p>I'm interested in sorting a list from a stream. This is the code I'm using:</p>\n<pre><code>list.stream()\n    .sorted((o1, o2)-&gt;o1.getItem().getValue().compareTo(o2.getItem().getValue()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Am I missing something? The list is not sorted afterward.</p>\n<p>It should sort the lists according to the item with the lowest value.</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++)\n{\n   System.out.println(&quot;list &quot; + (i+1));\n   print(list, i);\n}\n</code></pre>\n<p>And the print method:</p>\n<pre><code>public static void print(List&lt;List&gt; list, int i)\n{\n    System.out.println(list.get(i).getItem().getValue());\n}\n</code></pre>\n"},{"tags":["java","maven","jar","package","mp3agic"],"comments":[{"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"score":0,"creation_date":1459650018,"post_id":36380323,"comment_id":60379251,"body_markdown":"Do you have an IDE that you are familiar with? (Eclipse, IntelliJ IDEA etc). That would make things a whole lot easier. I was able to clone that git repo and run Example.java very quickly without any issues.","body":"Do you have an IDE that you are familiar with? (Eclipse, IntelliJ IDEA etc). That would make things a whole lot easier. I was able to clone that git repo and run Example.java very quickly without any issues."}],"answers":[{"tags":[],"owner":{"account_id":8802574,"reputation":39,"user_id":6578231,"display_name":"Abhik Biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495734926,"creation_date":1495734926,"answer_id":44186903,"question_id":36380323,"body_markdown":"You have to specify the class path during compilation. (I donot use IDE , I use plain CMD + Notepad++) \r\n\r\nwrite something like this :\r\n\r\n    javac -cp mp3agic-0.9.1-SNAPSHOT.jar; Example.java\r\n\r\nprovided both of them are in the same dir. \r\n\r\nWorked for me ","title":"How do you install MP3agic?","body":"<p>You have to specify the class path during compilation. (I donot use IDE , I use plain CMD + Notepad++) </p>\n\n<p>write something like this :</p>\n\n<pre><code>javac -cp mp3agic-0.9.1-SNAPSHOT.jar; Example.java\n</code></pre>\n\n<p>provided both of them are in the same dir. </p>\n\n<p>Worked for me </p>\n"},{"tags":[],"owner":{"account_id":16214096,"reputation":11,"user_id":11707299,"display_name":"ln_x"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571756406,"creation_date":1571756406,"answer_id":58507109,"question_id":36380323,"body_markdown":"*For people like me:*\r\n\r\n**Maven Installation:**\r\n\r\n - Download [Maven][1] (Zip File)\r\n - Unzip Maven (anywhere)\r\n - Add Maven to system eviorment variables ([help][2])\r\n\r\n**Get MP3agic.jar**\r\n\r\n - Download Zip\r\n - Unzip MP3agic (anywhere)\r\n - Open cmd in MP3agic path\r\n - run &quot;mvn clean install&quot;\r\n\r\n**Include MP3agic.jar *(IntelliJ)***\r\n\r\n - Open project structor\r\n - Add Library -&gt; Choose MP3agic.jar\r\n\r\n  [1]: https://maven.apache.org/download.cgi\r\n  [2]: https://www.mkyong.com/maven/how-to-install-maven-in-windows/","title":"How do you install MP3agic?","body":"<p><em>For people like me:</em></p>\n\n<p><strong>Maven Installation:</strong></p>\n\n<ul>\n<li>Download <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Maven</a> (Zip File)</li>\n<li>Unzip Maven (anywhere)</li>\n<li>Add Maven to system eviorment variables (<a href=\"https://www.mkyong.com/maven/how-to-install-maven-in-windows/\" rel=\"nofollow noreferrer\">help</a>)</li>\n</ul>\n\n<p><strong>Get MP3agic.jar</strong></p>\n\n<ul>\n<li>Download Zip</li>\n<li>Unzip MP3agic (anywhere)</li>\n<li>Open cmd in MP3agic path</li>\n<li>run \"mvn clean install\"</li>\n</ul>\n\n<p><strong>Include MP3agic.jar <em>(IntelliJ)</em></strong></p>\n\n<ul>\n<li>Open project structor</li>\n<li>Add Library -> Choose MP3agic.jar</li>\n</ul>\n"}],"owner":{"account_id":8169657,"reputation":21,"user_id":6150610,"display_name":"Schemza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701275060,"creation_date":1459643821,"question_id":36380323,"body_markdown":"MP3agic: https://github.com/mpatric/mp3agic\r\n\r\nExample.java: https://github.com/mpatric/mp3agic-examples/blob/master/src/main/java/com/mpatric/mp3agic/example/Example.java\r\n\r\nI have been programming in java for a few years but have never installed anything extra relating to java (like MP3agic) before, and I have absolutely no idea how to do it. Reading up on websites it seems like it should be as easy as double-clicking on the .jar file, but when I do that with MP3agic I still don&#39;t have any luck.\r\n\r\nListed on the link above are brief instructions on how to install it: download and install maven (which I&#39;ve done correctly), run &quot;mvn lean package&quot; in CMD, then in the newly created &#39;target&#39; folder there are three jars: mp3agic-0.8.5-SNAPSHOT/SNAPSHOT-javadoc/SNAPSHOT-sources.jar. \r\n\r\nAt this point I double clicked on them all and assumed it was installed, but when I tried to run an Example.java file made for MP3agic (link at top), Java couldn&#39;t compile it.\r\n\r\nI have tried added the path of my &#39;target&#39; folder in the Path Environment Variable, but that hasn&#39;t worked. I also don&#39;t use something like Eclipse for programming (just Notepad++ and CMD, although that&#39;s likely to change)","title":"How do you install MP3agic?","body":"<p>MP3agic: <a href=\"https://github.com/mpatric/mp3agic\" rel=\"nofollow\">https://github.com/mpatric/mp3agic</a></p>\n\n<p>Example.java: <a href=\"https://github.com/mpatric/mp3agic-examples/blob/master/src/main/java/com/mpatric/mp3agic/example/Example.java\" rel=\"nofollow\">https://github.com/mpatric/mp3agic-examples/blob/master/src/main/java/com/mpatric/mp3agic/example/Example.java</a></p>\n\n<p>I have been programming in java for a few years but have never installed anything extra relating to java (like MP3agic) before, and I have absolutely no idea how to do it. Reading up on websites it seems like it should be as easy as double-clicking on the .jar file, but when I do that with MP3agic I still don't have any luck.</p>\n\n<p>Listed on the link above are brief instructions on how to install it: download and install maven (which I've done correctly), run \"mvn lean package\" in CMD, then in the newly created 'target' folder there are three jars: mp3agic-0.8.5-SNAPSHOT/SNAPSHOT-javadoc/SNAPSHOT-sources.jar. </p>\n\n<p>At this point I double clicked on them all and assumed it was installed, but when I tried to run an Example.java file made for MP3agic (link at top), Java couldn't compile it.</p>\n\n<p>I have tried added the path of my 'target' folder in the Path Environment Variable, but that hasn't worked. I also don't use something like Eclipse for programming (just Notepad++ and CMD, although that's likely to change)</p>\n"},{"tags":["java","quarkus","trace","open-telemetry"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1700334173,"post_id":77500688,"comment_id":136642832,"body_markdown":"have you tried https://quarkus.io/guides/opentelemetry#sampler  with **parentbased_always_on** ?","body":"have you tried <a href=\"https://quarkus.io/guides/opentelemetry#sampler\" rel=\"nofollow noreferrer\">quarkus.io/guides/opentelemetry#sampler</a>  with <b>parentbased_always_on</b> ?"},{"owner":{"account_id":2731159,"reputation":598,"user_id":2354928,"accept_rate":83,"display_name":"lummycoder"},"score":0,"creation_date":1700413660,"post_id":77500688,"comment_id":136648631,"body_markdown":"well, it didn&#39;t help. Tried all  of them","body":"well, it didn&#39;t help. Tried all  of them"}],"owner":{"account_id":2731159,"reputation":598,"user_id":2354928,"accept_rate":83,"display_name":"lummycoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701274645,"creation_date":1700214518,"question_id":77500688,"body_markdown":"Here is the problem - I want to see full traces linked for my flow which includes redirects and during this redirect traces lost. \r\n\r\nI use quarkus + opentelemetry.\r\n\r\nIn the middle sometimes I have ui part which is not always mine so I could pass traceparent or any other values with cookies. \r\n\r\nRedirect is made by another service to which we send request and can not control.\r\n\r\n\r\nLibs used inside:\r\n\r\n    implementation &#39;io.opentelemetry:opentelemetry-exporter-otlp-common&#39;\r\n    implementation &#39;io.opentelemetry:opentelemetry-exporter-otlp&#39;\r\n\r\nWhat I&#39;ve tried already is to create @ServerRequestFilter with higher priority and move from cookie to header traceparent -&gt; it didn&#39;t help.\r\n\r\nCouldn&#39;t find how to correctly create parent span from **traceparent**.\r\n\r\nUPDATE:\r\nFound how to link 2 spans but it seems it works not as I expected\r\n\r\n    SpanContext parentContext = SpanContext.create(values[1], values[2], TraceFlags.getSampled(), TraceState.getDefault());\r\n            Span parentSpan = Span.wrap(parentContext);\r\n            Log.infof(&quot;TRACEPARENT DATA: trace is = &quot; + values[1] + &quot; and span is = &quot; + values[2]);\r\n\r\n            Span span = tracer.spanBuilder(&quot;ui-provider-picker&quot;).setParent(Context.current().with(parentSpan)).startSpan();\r\n            try (Scope scope = span.makeCurrent()) {\r\n            } finally {\r\n                span.setAttribute(&quot;test&quot;, &quot;12345&quot;);\r\n                span.end();\r\n            }\r\n\r\nIt creates new span to main trace flow and attaches to it -&gt; and then I have still separate trace which I wanted to link with all needed tags.\r\n\r\nAny suggestions?","title":"Quarkus opentelemetry link to parent span on redirect","body":"<p>Here is the problem - I want to see full traces linked for my flow which includes redirects and during this redirect traces lost.</p>\n<p>I use quarkus + opentelemetry.</p>\n<p>In the middle sometimes I have ui part which is not always mine so I could pass traceparent or any other values with cookies.</p>\n<p>Redirect is made by another service to which we send request and can not control.</p>\n<p>Libs used inside:</p>\n<pre><code>implementation 'io.opentelemetry:opentelemetry-exporter-otlp-common'\nimplementation 'io.opentelemetry:opentelemetry-exporter-otlp'\n</code></pre>\n<p>What I've tried already is to create @ServerRequestFilter with higher priority and move from cookie to header traceparent -&gt; it didn't help.</p>\n<p>Couldn't find how to correctly create parent span from <strong>traceparent</strong>.</p>\n<p>UPDATE:\nFound how to link 2 spans but it seems it works not as I expected</p>\n<pre><code>SpanContext parentContext = SpanContext.create(values[1], values[2], TraceFlags.getSampled(), TraceState.getDefault());\n        Span parentSpan = Span.wrap(parentContext);\n        Log.infof(&quot;TRACEPARENT DATA: trace is = &quot; + values[1] + &quot; and span is = &quot; + values[2]);\n\n        Span span = tracer.spanBuilder(&quot;ui-provider-picker&quot;).setParent(Context.current().with(parentSpan)).startSpan();\n        try (Scope scope = span.makeCurrent()) {\n        } finally {\n            span.setAttribute(&quot;test&quot;, &quot;12345&quot;);\n            span.end();\n        }\n</code></pre>\n<p>It creates new span to main trace flow and attaches to it -&gt; and then I have still separate trace which I wanted to link with all needed tags.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","apache-kafka","interceptor","photon"],"comments":[{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1701256779,"post_id":77569007,"comment_id":136752408,"body_markdown":"what kind of metrics? may be have a look at spring actuator framework once.","body":"what kind of metrics? may be have a look at spring actuator framework once."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1701293283,"post_id":77569007,"comment_id":136759316,"body_markdown":"may be create your own auto-configuration with an interceptor?","body":"may be create your own auto-configuration with an interceptor?"},{"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"score":0,"creation_date":1701359621,"post_id":77569007,"comment_id":136768304,"body_markdown":"I have configured micrometer so that it will fetch default metrics of springboot application. Can I go ahead with interceptors or AOP ? Which one will be the better option ?","body":"I have configured micrometer so that it will fetch default metrics of springboot application. Can I go ahead with interceptors or AOP ? Which one will be the better option ?"},{"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"score":0,"creation_date":1701361961,"post_id":77569007,"comment_id":136768803,"body_markdown":"Without adding logs at the endpoint level, can we capture all the logs from all MVC layers using interceptor ? I mean separating business logic with secondary logic","body":"Without adding logs at the endpoint level, can we capture all the logs from all MVC layers using interceptor ? I mean separating business logic with secondary logic"}],"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701766198,"answer_count":0,"score":0,"last_activity_date":1701274333,"creation_date":1701239522,"question_id":77569007,"body_markdown":"I&#39;m planning to fetch some photon metrics from a spring boot application. This application acts as a Kafka Consumer. Similarly I have multiple spring boot applications. \r\n\r\nI want to make this activity generic for all applications. So thought of creating an utility and just plugin this utility where ever we want to fetch the metrics. \r\n\r\nCan we make use of interceptors to collect all these metrics ? Is it possible to use interceptors in this scenario?\r\n","title":"Can we add interceptors in Kafka Consumers?","body":"<p>I'm planning to fetch some photon metrics from a spring boot application. This application acts as a Kafka Consumer. Similarly I have multiple spring boot applications.</p>\n<p>I want to make this activity generic for all applications. So thought of creating an utility and just plugin this utility where ever we want to fetch the metrics.</p>\n<p>Can we make use of interceptors to collect all these metrics ? Is it possible to use interceptors in this scenario?</p>\n"},{"tags":["java","jacoco"],"answers":[{"comments":[{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1701274320,"post_id":77572737,"comment_id":136756101,"body_markdown":"Note: It may also be a result of the issue discussed in [this pull request](https://github.com/jacoco/jacoco/pull/321).","body":"Note: It may also be a result of the issue discussed in <a href=\"https://github.com/jacoco/jacoco/pull/321\" rel=\"nofollow noreferrer\">this pull request</a>."}],"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701273677,"creation_date":1701273677,"answer_id":77572737,"question_id":77571470,"body_markdown":"This, unfortunately, is a known limitation of JaCoCo. JaCoCo works by injecting probes at various places into your code (in your example, before and after the `return`). If the JVM executes a probe, JaCoCo assumes any code before that probe has been covered. However, `return` or `throw` statements exit the function, and the probe right after the `return` or `throw` statement is never reached. JaCoCo therefore assumes that the `return`/`throw` have not been covered. JaCoCo&#39;s [FAQ](https://www.eclemma.org/jacoco/trunk/doc/faq.html) have more info about that.\r\n\r\nOne peculiar thing about your example is though that JaCoCo usually recognizes this condition at least for `return` statements and therefore marks `return` statements as covered even if only the probe before the return statement is reached.","title":"Jacoco report missing branches but tests are existing for those","body":"<p>This, unfortunately, is a known limitation of JaCoCo. JaCoCo works by injecting probes at various places into your code (in your example, before and after the <code>return</code>). If the JVM executes a probe, JaCoCo assumes any code before that probe has been covered. However, <code>return</code> or <code>throw</code> statements exit the function, and the probe right after the <code>return</code> or <code>throw</code> statement is never reached. JaCoCo therefore assumes that the <code>return</code>/<code>throw</code> have not been covered. JaCoCo's <a href=\"https://www.eclemma.org/jacoco/trunk/doc/faq.html\" rel=\"nofollow noreferrer\">FAQ</a> have more info about that.</p>\n<p>One peculiar thing about your example is though that JaCoCo usually recognizes this condition at least for <code>return</code> statements and therefore marks <code>return</code> statements as covered even if only the probe before the return statement is reached.</p>\n"}],"owner":{"account_id":11296153,"reputation":166,"user_id":8283622,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701273677,"creation_date":1701263721,"question_id":77571470,"body_markdown":"I have Spring Boot maven multimodule project with java version 21 and for code coverage using Jacoco version 0.8.11. Unit test are written using groovy.\r\n\r\nI have class like this:\r\n\r\n    package ********************;\r\n    \r\n    import lombok.Getter;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    @Getter\r\n    public enum SomeEnum {\r\n        VALUE1(&quot;some-value1&quot;),\r\n    \r\n        VALUE2(&quot;some-value2&quot;),\r\n    \r\n        VALUE3(&quot;some-value3&quot;);\r\n    \r\n        private final String value;\r\n    \r\n    \r\n        private SomeEnum(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public static SomeEnum fromValue(String value) {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n            return Arrays.stream(values())\r\n                    .filter(someEnum -&gt; someEnum.getValue().equals(value))\r\n                    .findFirst()\r\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid input value&quot;));\r\n        }\r\n    }\r\n\r\n\r\nHere is Groovy test:\r\n\r\n    package *****************************\r\n    \r\n    import *********************.SomeEnum\r\n    import spock.lang.Specification\r\n    \r\n    class SomeEnumTest extends Specification {\r\n    \r\n        def &#39;test1&#39;(String s, SomeEnum expected) {\r\n            when:\r\n            var resp = SomeEnum.fromValue(s)\r\n            then:\r\n            resp == expected\r\n            where:\r\n            s || expected\r\n            &#39;some-value1&#39; || SomeEnum.VALUE1\r\n            &#39;some-value2&#39; || SomeEnum.VALUE2\r\n            &#39;some-value3&#39; || SomeEnum.VALUE3\r\n        }\r\n    \r\n        def &#39;test2&#39;() {\r\n            when:\r\n            SomeEnum.fromValue(&#39;bs&#39;)\r\n            then:\r\n            thrown(IllegalArgumentException)\r\n        }\r\n    }\r\n\r\n\r\nIn the result of jacoco I see this part is not covered but the test for it exists. Constructor and enum values are covered. Test is successfully run. What is the problem?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44nWf.png","title":"Jacoco report missing branches but tests are existing for those","body":"<p>I have Spring Boot maven multimodule project with java version 21 and for code coverage using Jacoco version 0.8.11. Unit test are written using groovy.</p>\n<p>I have class like this:</p>\n<pre><code>package ********************;\n\nimport lombok.Getter;\n\nimport java.util.Arrays;\n\n@Getter\npublic enum SomeEnum {\n    VALUE1(&quot;some-value1&quot;),\n\n    VALUE2(&quot;some-value2&quot;),\n\n    VALUE3(&quot;some-value3&quot;);\n\n    private final String value;\n\n\n    private SomeEnum(String value) {\n        this.value = value;\n    }\n\n    public static SomeEnum fromValue(String value) {\n        if (value == null) {\n            return null;\n        }\n        return Arrays.stream(values())\n                .filter(someEnum -&gt; someEnum.getValue().equals(value))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid input value&quot;));\n    }\n}\n</code></pre>\n<p>Here is Groovy test:</p>\n<pre><code>package *****************************\n\nimport *********************.SomeEnum\nimport spock.lang.Specification\n\nclass SomeEnumTest extends Specification {\n\n    def 'test1'(String s, SomeEnum expected) {\n        when:\n        var resp = SomeEnum.fromValue(s)\n        then:\n        resp == expected\n        where:\n        s || expected\n        'some-value1' || SomeEnum.VALUE1\n        'some-value2' || SomeEnum.VALUE2\n        'some-value3' || SomeEnum.VALUE3\n    }\n\n    def 'test2'() {\n        when:\n        SomeEnum.fromValue('bs')\n        then:\n        thrown(IllegalArgumentException)\n    }\n}\n</code></pre>\n<p>In the result of jacoco I see this part is not covered but the test for it exists. Constructor and enum values are covered. Test is successfully run. What is the problem?</p>\n<p><a href=\"https://i.stack.imgur.com/44nWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44nWf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","types"],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1353075348,"post_id":13418307,"comment_id":18336210,"body_markdown":"So `java.lang.Class` should more accurately be called `java.lang.Type`.","body":"So <code>java.lang.Class</code> should more accurately be called <code>java.lang.Type</code>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1353075499,"post_id":13418307,"comment_id":18336287,"body_markdown":"Yes, but `java.lang.reflect.Type` was added much later.  It also has the problem that it doesn&#39;t have any particularly useful methods like Class does. ;)","body":"Yes, but <code>java.lang.reflect.Type</code> was added much later.  It also has the problem that it doesn&#39;t have any particularly useful methods like Class does. ;)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1353075725,"post_id":13418307,"comment_id":18336410,"body_markdown":"Yes, I know of `java.lang.reflect.Type`. It&#39;s more general and more useless ;-) But the fact that `Class` represents classes, interfaces, enum types, annotation types and primitive types has cause *some* confusion already. And at least 3 of those existed in Java 1.0 as well.","body":"Yes, I know of <code>java.lang.reflect.Type</code>. It&#39;s more general and more useless ;-) But the fact that <code>Class</code> represents classes, interfaces, enum types, annotation types and primitive types has cause <i>some</i> confusion already. And at least 3 of those existed in Java 1.0 as well."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1353076205,"post_id":13418307,"comment_id":18336622,"body_markdown":"I would add array types to the list as well and `void.class` which is none of the above.","body":"I would add array types to the list as well and <code>void.class</code> which is none of the above."},{"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"score":0,"creation_date":1353076794,"post_id":13418307,"comment_id":18336941,"body_markdown":"@JoachimSauer, aren&#39;t annotation types classes?","body":"@JoachimSauer, aren&#39;t annotation types classes?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1353077051,"post_id":13418307,"comment_id":18337100,"body_markdown":"@SamuelEdwinWard: only in the sense in which interfaces are classes (because on the byte-code level annotation types are interface types with a special flag). So &quot;yes and no&quot;. They *are* stored in `.class` files, but so are enum types (which really *are* classes in disguise). But still: `void.class`, array types and primitive types are *not* classes (at least in so far as they are *not* stored in `.class` files).","body":"@SamuelEdwinWard: only in the sense in which interfaces are classes (because on the byte-code level annotation types are interface types with a special flag). So &quot;yes and no&quot;. They <i>are</i> stored in <code>.class</code> files, but so are enum types (which really <i>are</i> classes in disguise). But still: <code>void.class</code>, array types and primitive types are <i>not</i> classes (at least in so far as they are <i>not</i> stored in <code>.class</code> files)."},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":0,"creation_date":1353089258,"post_id":13418307,"comment_id":18342803,"body_markdown":"Thanks for your answers / comments so far","body":"Thanks for your answers / comments so far"},{"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"score":2,"creation_date":1353089825,"post_id":13418307,"comment_id":18343042,"body_markdown":"@JoachimSauer, I never noticed annotations were interfaces rather than classes before.  Seems like an odd choice.  Thanks for setting me straight.","body":"@JoachimSauer, I never noticed annotations were interfaces rather than classes before.  Seems like an odd choice.  Thanks for setting me straight."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1353099702,"post_id":13418307,"comment_id":18347062,"body_markdown":"@SamuelEdwinWard You can extend an annotation in an interface or implement it with a class. I haven&#39;t found a use for such a  thing, but its legal.","body":"@SamuelEdwinWard You can extend an annotation in an interface or implement it with a class. I haven&#39;t found a use for such a  thing, but its legal."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1353142854,"post_id":13418307,"comment_id":18355577,"body_markdown":"@SamuelEdwinWard: actually it makes sense: annotations only contain declaration and no actual code, just like interfaces. And annotations are &quot;implemented&quot; dynamically by the JVM at runtime (probably through a mechanism similar to proxies).","body":"@SamuelEdwinWard: actually it makes sense: annotations only contain declaration and no actual code, just like interfaces. And annotations are &quot;implemented&quot; dynamically by the JVM at runtime (probably through a mechanism similar to proxies)."},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1382442665,"post_id":13418307,"comment_id":28952748,"body_markdown":"are those builtins (*&quot;no class file&quot;*) and annotations (*&quot;dynamically impl.-ed&quot;*) *&quot;in the JVM&quot;* **JVM-dependent**? (eg. may Sun&#39;s/Oracle&#39;s JVM differ from OpenJDK in these respects?)","body":"are those builtins (<i>&quot;no class file&quot;</i>) and annotations (<i>&quot;dynamically impl.-ed&quot;</i>) <i>&quot;in the JVM&quot;</i> <b>JVM-dependent</b>? (eg. may Sun&#39;s/Oracle&#39;s JVM differ from OpenJDK in these respects?)"},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1382442982,"post_id":13418307,"comment_id":28952933,"body_markdown":"[getMethod docs](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#getMethod%28java.lang.String,%20java.lang.Class...%29) here (java 1.5)","body":"<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#getMethod%28java.lang.String,%20java.lang.Class...%29\" rel=\"nofollow noreferrer\">getMethod docs</a> here (java 1.5)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1382457306,"post_id":13418307,"comment_id":28962614,"body_markdown":"The specification of the primitive classes comes from the J.L.S and is builtin to the JVM.  There is no `class` file for these classes.","body":"The specification of the primitive classes comes from the J.L.S and is builtin to the JVM.  There is no <code>class</code> file for these classes."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":13,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1353075160,"creation_date":1353075160,"answer_id":13418307,"question_id":13418202,"body_markdown":"They are used in reflection.\r\n\r\n    Method round = Math.class.getMethod(&quot;round&quot;, double.class);\r\n    System.out.println(Arrays.toString(round.getParameterTypes()));\r\n    System.out.println(round.getReturnType() == long.class);\r\n\r\n    Method exit = System.class.getMethod(&quot;exit&quot;, int.class);\r\n    System.out.println(Arrays.toString(exit.getParameterTypes()));\r\n    System.out.println(exit.getReturnType() == void.class);\r\n\r\nprints\r\n\r\n    [double]\r\n    true\r\n    [int]\r\n    true\r\n\r\n&gt; how are they implemented?\r\n\r\nThey are builtin to the JVM, there is no class file to define them.\r\n\r\n","title":"Why do primitive types have a &quot;Class&quot; and how is it intended to be used?","body":"<p>They are used in reflection.</p>\n\n<pre><code>Method round = Math.class.getMethod(\"round\", double.class);\nSystem.out.println(Arrays.toString(round.getParameterTypes()));\nSystem.out.println(round.getReturnType() == long.class);\n\nMethod exit = System.class.getMethod(\"exit\", int.class);\nSystem.out.println(Arrays.toString(exit.getParameterTypes()));\nSystem.out.println(exit.getReturnType() == void.class);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>[double]\ntrue\n[int]\ntrue\n</code></pre>\n\n<blockquote>\n  <p>how are they implemented?</p>\n</blockquote>\n\n<p>They are builtin to the JVM, there is no class file to define them.</p>\n"}],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":13418307,"answer_count":1,"score":4,"last_activity_date":1701273414,"creation_date":1353074801,"question_id":13418202,"body_markdown":"Talking about Java (7) you can get a class for a primitive type like this: \r\n\r\n    Class classOfInt = int.class\r\n\r\nFor each one you&#39;ll get a &quot;class&quot; named as the primitive type:\r\n\r\n\r\n    int.class    --&gt; int\r\n    byte.class   --&gt; byte\r\n    double.class --&gt; double\r\n    ...\r\n\r\nHowever you can&#39;t create an instance of those:\r\n\r\n    char.class.newInstance(); // throws &#39;InstantiationException&#39;\r\n\r\nIt seems that their classes are not mapped to corresponding wrapper classes (`Integer`, `Byte`, etc.).\r\n\r\nSo why do they have &quot;classes&quot;, how are they used and how are they implemented?\r\n\r\n\r\n\r\n","title":"Why do primitive types have a &quot;Class&quot; and how is it intended to be used?","body":"<p>Talking about Java (7) you can get a class for a primitive type like this:</p>\n<pre><code>Class classOfInt = int.class\n</code></pre>\n<p>For each one you'll get a &quot;class&quot; named as the primitive type:</p>\n<pre><code>int.class    --&gt; int\nbyte.class   --&gt; byte\ndouble.class --&gt; double\n...\n</code></pre>\n<p>However you can't create an instance of those:</p>\n<pre><code>char.class.newInstance(); // throws 'InstantiationException'\n</code></pre>\n<p>It seems that their classes are not mapped to corresponding wrapper classes (<code>Integer</code>, <code>Byte</code>, etc.).</p>\n<p>So why do they have &quot;classes&quot;, how are they used and how are they implemented?</p>\n"},{"tags":["java","spring-boot","stored-procedures"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1701216643,"post_id":77567008,"comment_id":136747516,"body_markdown":"What happens if you execute `runnable.run();` so it executes in the foreground - do you still get the same error?","body":"What happens if you execute <code>runnable.run();</code> so it executes in the foreground - do you still get the same error?"},{"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"score":0,"creation_date":1701257569,"post_id":77567008,"comment_id":136752552,"body_markdown":"@Bohemian No error in that case, but it runs in sequence. I don&#39;t want to have to wait for the SP to be done.","body":"@Bohemian No error in that case, but it runs in sequence. I don&#39;t want to have to wait for the SP to be done."}],"answers":[{"tags":[],"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701273288,"creation_date":1701273288,"answer_id":77572696,"question_id":77567008,"body_markdown":"I got it to run in the end. As I was suspecting, the problem was that the worker thread wasn&#39;t getting a transaction. @Transactional does not support multithreading whatsoever, so if you call a method marked by it from another thread, it&#39;s like there is nothing there. \r\n\r\nI was able to use transaction manager to force a transaction on the worker thread:\r\n\r\n    Runnable runnable = () -&gt; {\r\n        transactionTemplate.execute(new TransactionCallback() {\r\n          // the code in this method runs in a transactional context\r\n          public Object doInTransaction(TransactionStatus status) {\r\n            return runStoredProcedure(finalUploadInstance, fileReport);\r\n          }\r\n        });\r\n\r\n      };\r\n      new Thread(runnable).start();\r\n","title":"Running stored procedure without waiting for it to finish","body":"<p>I got it to run in the end. As I was suspecting, the problem was that the worker thread wasn't getting a transaction. @Transactional does not support multithreading whatsoever, so if you call a method marked by it from another thread, it's like there is nothing there.</p>\n<p>I was able to use transaction manager to force a transaction on the worker thread:</p>\n<pre><code>Runnable runnable = () -&gt; {\n    transactionTemplate.execute(new TransactionCallback() {\n      // the code in this method runs in a transactional context\n      public Object doInTransaction(TransactionStatus status) {\n        return runStoredProcedure(finalUploadInstance, fileReport);\n      }\n    });\n\n  };\n  new Thread(runnable).start();\n</code></pre>\n"}],"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701273288,"creation_date":1701203748,"question_id":77567008,"body_markdown":"So I have this stored procedure that I run from my Spring boot application. It works and life is good.\r\n\r\nNow I want to run it asynchronously. Just launch the process and not leave the consumer waiting for the response, but so far I haven&#39;t been able to. Both when calling it from a CompletableFuture or from a new Thread, it throws this error:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: OUT/INOUT parameter not available: p_return_code; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: p_return_code\r\n\r\n\r\np_return_code is the first of the output parameters. This is the code:\r\n\r\n    final UploadInstanceEntity finalUploadInstance = uploadInstance;\r\n      Runnable runnable = () -&gt; {\r\n        System.out.println(&quot;Lambda Runnable running&quot;);\r\n        runStoredProcedure(finalUploadInstance, fileReport);\r\n      };\r\n\r\n      Thread thread = new Thread(runnable);\r\n      thread.start();\r\n\r\nAnd the function:\r\n\r\n    @Transactional\r\n      private void runStoredProcedure(UploadInstanceEntity uploadInstance, FileReport fileReport) {\r\n\r\n    Map&lt;String, Object&gt; result = uploadInstanceRepository.fileUpload(&quot;CPI&quot;, uploadInstance.getId());\r\n\r\n\r\nI added the transactional but that alone didnt fix it.\r\n\r\nI also played around with the @Async annotation (and respective configurations), but it always ran in sync. Never in background.\r\n\r\nAny ideas how to do this? Am I even on the right track?","title":"Running stored procedure without waiting for it to finish","body":"<p>So I have this stored procedure that I run from my Spring boot application. It works and life is good.</p>\n<p>Now I want to run it asynchronously. Just launch the process and not leave the consumer waiting for the response, but so far I haven't been able to. Both when calling it from a CompletableFuture or from a new Thread, it throws this error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: OUT/INOUT parameter not available: p_return_code; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: p_return_code\n</code></pre>\n<p>p_return_code is the first of the output parameters. This is the code:</p>\n<pre><code>final UploadInstanceEntity finalUploadInstance = uploadInstance;\n  Runnable runnable = () -&gt; {\n    System.out.println(&quot;Lambda Runnable running&quot;);\n    runStoredProcedure(finalUploadInstance, fileReport);\n  };\n\n  Thread thread = new Thread(runnable);\n  thread.start();\n</code></pre>\n<p>And the function:</p>\n<pre><code>@Transactional\n  private void runStoredProcedure(UploadInstanceEntity uploadInstance, FileReport fileReport) {\n\nMap&lt;String, Object&gt; result = uploadInstanceRepository.fileUpload(&quot;CPI&quot;, uploadInstance.getId());\n</code></pre>\n<p>I added the transactional but that alone didnt fix it.</p>\n<p>I also played around with the @Async annotation (and respective configurations), but it always ran in sync. Never in background.</p>\n<p>Any ideas how to do this? Am I even on the right track?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700023183,"post_id":77484991,"comment_id":136602904,"body_markdown":"I wonder if calling `getClass()` on your controller class rather than your `Application` subclass is part of the problem.","body":"I wonder if calling <code>getClass()</code> on your controller class rather than your <code>Application</code> subclass is part of the problem."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700026374,"post_id":77484991,"comment_id":136603131,"body_markdown":"Is Login() executed if you click the button? Can you put a system out in the method to check this? System.out.println(&quot;username=&quot;+username) please, because you don&#39;t see the s.out if username is empty.","body":"Is Login() executed if you click the button? Can you put a system out in the method to check this? System.out.println(&quot;username=&quot;+username) please, because you don&#39;t see the s.out if username is empty."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700026488,"post_id":77484991,"comment_id":136603140,"body_markdown":"And please remove &quot;if (event.getSource()==loginButton)&quot;. This is guaranteed bot good. You could compare with &quot;.equals()&quot;, but just don&#39;t. It is not necessary.","body":"And please remove &quot;if (event.getSource()==loginButton)&quot;. This is guaranteed bot good. You could compare with &quot;.equals()&quot;, but just don&#39;t. It is not necessary."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1700047125,"post_id":77484991,"comment_id":136606094,"body_markdown":"you have `onAction=&quot;#login&quot;` in TextField, PasswordField and Button try to only have it for the button","body":"you have <code>onAction=&quot;#login&quot;</code> in TextField, PasswordField and Button try to only have it for the button"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700052614,"post_id":77484991,"comment_id":136607032,"body_markdown":"The code you posted here works as expected for me. I copied and pasted the two classes and FXML verbatim, ran the `UserLogin` application, and when I logged in it output the lines from the `System.out.println(...)` statements and tried to load `ShoppingInterface.fxml`.","body":"The code you posted here works as expected for me. I copied and pasted the two classes and FXML verbatim, ran the <code>UserLogin</code> application, and when I logged in it output the lines from the <code>System.out.println(...)</code> statements and tried to load <code>ShoppingInterface.fxml</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700052710,"post_id":77484991,"comment_id":136607051,"body_markdown":"@Anon Why on earth would that make any difference?","body":"@Anon Why on earth would that make any difference?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700052774,"post_id":77484991,"comment_id":136607060,"body_markdown":"@DavidWeber `==` and `.equals(...)` are completely equivalent in this scenario (both are redundant though as they are necessarily true).","body":"@DavidWeber <code>==</code> and <code>.equals(...)</code> are completely equivalent in this scenario (both are redundant though as they are necessarily true)."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700058127,"post_id":77484991,"comment_id":136608156,"body_markdown":"@James_D just as I said: &quot;but just don&#39;t&quot; (compare the button). &quot;It is not necessary&quot;. To the other topic: Comparing references with == is not a good idea IMO, unless you know exactly what you are doing.","body":"@James_D just as I said: &quot;but just don&#39;t&quot; (compare the button). &quot;It is not necessary&quot;. To the other topic: Comparing references with == is not a good idea IMO, unless you know exactly what you are doing."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700062791,"post_id":77484991,"comment_id":136609137,"body_markdown":"@DavidWeber Agreed on &quot;just don&#39;t&quot;. But I disagree completely with &quot;You could compare with `.equals(...)`&quot;. In this case, if `.equals(...)` was overridden so it was different to `==`, then `==` would give the correct logic, and `.equals(...)` would give the incorrect logic. So if you did do a comparison, you should do it with `==`.","body":"@DavidWeber Agreed on &quot;just don&#39;t&quot;. But I disagree completely with &quot;You could compare with <code>.equals(...)</code>&quot;. In this case, if <code>.equals(...)</code> was overridden so it was different to <code>==</code>, then <code>==</code> would give the correct logic, and <code>.equals(...)</code> would give the incorrect logic. So if you did do a comparison, you should do it with <code>==</code>."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700063200,"post_id":77484991,"comment_id":136609213,"body_markdown":"You are right with that, that&#39;s why I said &quot;unless you know exactly what you are doing&quot;. :)","body":"You are right with that, that&#39;s why I said &quot;unless you know exactly what you are doing&quot;. :)"},{"owner":{"account_id":29905288,"reputation":11,"user_id":22917964,"display_name":"Tristan D"},"score":0,"creation_date":1700098758,"post_id":77484991,"comment_id":136614324,"body_markdown":"@DavidWeber I tried using print statements within the method but nothing prints inside the terminal once the button is pressed","body":"@DavidWeber I tried using print statements within the method but nothing prints inside the terminal once the button is pressed"},{"owner":{"account_id":29905288,"reputation":11,"user_id":22917964,"display_name":"Tristan D"},"score":0,"creation_date":1700099429,"post_id":77484991,"comment_id":136614393,"body_markdown":"@James_D I just copied everything over into a new project file and it runs fine as you said. Sorry for what seems to be a lack of effort on my part, I&#39;m a student and still learning how to troubleshoot my own errors!","body":"@James_D I just copied everything over into a new project file and it runs fine as you said. Sorry for what seems to be a lack of effort on my part, I&#39;m a student and still learning how to troubleshoot my own errors!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700142917,"post_id":77484991,"comment_id":136620166,"body_markdown":"Do **not** use the `Initializable` interface. It has been superseded by an injection approach, as of JavaFX 2.1. See the [documentation](https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/Initializable.html).","body":"Do <b>not</b> use the <code>Initializable</code> interface. It has been superseded by an injection approach, as of JavaFX 2.1. See the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700143878,"post_id":77484991,"comment_id":136620338,"body_markdown":"@TristanD Actually This is a well-written question, because it contains everything needed to copy, paste, and run the application. That&#39;s how I was able to determine there was nothing wrong with the code you posted (so presumably something was wrong with the configuration, or possibly the original project needed a &quot;clean and rebuild&quot;). I don&#39;t know why so many people posted comments with random, incorrect guesses on here when you provided everything needed to try to reproduce the problem.","body":"@TristanD Actually This is a well-written question, because it contains everything needed to copy, paste, and run the application. That&#39;s how I was able to determine there was nothing wrong with the code you posted (so presumably something was wrong with the configuration, or possibly the original project needed a &quot;clean and rebuild&quot;). I don&#39;t know why so many people posted comments with random, incorrect guesses on here when you provided everything needed to try to reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701273246,"creation_date":1701273246,"answer_id":77572693,"question_id":77484991,"body_markdown":"**Solution for future readers:**\r\n\r\nThe solution was to copy everything over into a new project. After that it worked. The mistake was caused by the questioneer himself.\r\n\r\nCredits to @James_D for figuring this out. ","title":"JavaFX login screen will not switch scenes","body":"<p><strong>Solution for future readers:</strong></p>\n<p>The solution was to copy everything over into a new project. After that it worked. The mistake was caused by the questioneer himself.</p>\n<p>Credits to @James_D for figuring this out.</p>\n"}],"owner":{"account_id":29905288,"reputation":11,"user_id":22917964,"display_name":"Tristan D"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701273246,"creation_date":1700017167,"question_id":77484991,"body_markdown":"I hav a JavaFx project that uses a login screen to to switch pages for accredited users. However, when my login button is pressed with the correct credentials in the the textfield and passwordfield, nothing happens, no errors are given either. Can someone help me figure out why there&#39;s not a scene switch occurring?\r\n\r\nHere is my FXML file for my login page:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.PasswordField?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mall.HelloController&quot;&gt;\r\n    &lt;left&gt;\r\n        &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;350.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n            &lt;children&gt;\r\n                &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;92.0&quot; layoutY=&quot;244.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;The Shopping Mall&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font size=&quot;20.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Text&gt;\r\n            &lt;/children&gt;\r\n        &lt;/AnchorPane&gt;\r\n    &lt;/left&gt;\r\n    &lt;right&gt;\r\n        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;415.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n            &lt;children&gt;\r\n                &lt;TextField id=&quot;username&quot; fx:id=&quot;usernameField&quot; layoutX=&quot;101.0&quot; layoutY=&quot;208.0&quot; onAction=&quot;#login&quot; promptText=&quot;Username&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\r\n                &lt;PasswordField id=&quot;password&quot; fx:id=&quot;passwordField&quot; layoutX=&quot;102.0&quot; layoutY=&quot;261.0&quot; onAction=&quot;#login&quot; promptText=&quot;Password&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\r\n                &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;129.0&quot; layoutY=&quot;335.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#login&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; /&gt;\r\n                &lt;Text fill=&quot;#6d5090&quot; layoutX=&quot;125.0&quot; layoutY=&quot;129.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;User Login&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font size=&quot;22.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Text&gt;\r\n                &lt;Button layoutX=&quot;320.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#exit&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;30.0&quot; style=&quot;-fx-background-color: transparent;&quot;&gt;\r\n                    &lt;graphic&gt;\r\n                        &lt;Text fill=&quot;#6d5090&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;X&quot;&gt;\r\n                            &lt;font&gt;\r\n                                &lt;Font size=&quot;16.0&quot; /&gt;\r\n                            &lt;/font&gt;\r\n                        &lt;/Text&gt;\r\n                    &lt;/graphic&gt;\r\n                &lt;/Button&gt;\r\n                &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;106.0&quot; layoutY=&quot;402.0&quot; text=&quot;Incorrect Login. Try Again&quot; textFill=&quot;#ff4d4d&quot; visible=&quot;false&quot; /&gt;\r\n            &lt;/children&gt;\r\n        &lt;/AnchorPane&gt;\r\n    &lt;/right&gt;\r\n&lt;/BorderPane&gt;\r\n\r\n```\r\n\r\nHere is my controller class:\r\n\r\n```\r\npackage com.example.mall;\r\n\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.scene.Parent;\r\nimport java.io.IOException;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\nimport java.util.HashMap;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\n\r\npublic class HelloController {\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n\r\n    @FXML\r\n    private Label errorLabel;\r\n\r\n    @FXML\r\n    private Button loginButton;\r\n\r\n    @FXML\r\n    private PasswordField passwordField;\r\n\r\n    @FXML\r\n    private TextField usernameField;\r\n\r\n    @FXML\r\n    private void exit(ActionEvent event) {\r\n        System.exit(0);\r\n    }\r\n\r\n    \r\n\r\n   @FXML\r\n    public void login(ActionEvent event) throws IOException {\r\n\r\n           HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\r\n\r\n           logininfo.put(&quot;customer&quot;,&quot;customer123&quot;);\r\n           logininfo.put(&quot;staff&quot;,&quot;staff123&quot;);\r\n           logininfo.put(&quot;ceo&quot;,&quot;ceo123&quot;);\r\n           String username;\r\n           username = usernameField.getText();\r\n       System.out.println(username);\r\n           String password;\r\n           password = String.valueOf(passwordField.getText());\r\n\r\n       System.out.println(password);\r\n\r\n         if (event.getSource()==loginButton){\r\n             //if(logininfo.containsKey(username)){\r\n                 System.out.println(&quot;Switching scenesaaaaaaa&quot;);\r\n                    if(logininfo.get(username).equals(password)){\r\n                        System.out.println(&quot;Switching scenes&quot;);\r\n                        switchScene(event, &quot;ShoppingInterface.fxml&quot;);\r\n                    }\r\n\r\n            //}\r\n         }\r\n\r\n    }\r\n\r\n\r\n    public void switchScene(ActionEvent event,String fxmlFileName) throws IOException {\r\n\r\n            System.out.println(&quot;Switching to scene: &quot; + fxmlFileName);\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFileName));\r\n            Scene newScene = new Scene(loader.load());\r\n            Stage primaryStage = (Stage) ((Node)event.getSource()).getScene().getWindow();\r\n\r\n            primaryStage.setScene(newScene);\r\n            primaryStage.show();\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd here is my main file:\r\n\r\n```\r\npackage com.example.mall;\r\n\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.scene.Parent;\r\nimport java.io.IOException;\r\n\r\npublic class UserLogin extends Application {\r\n\r\n    private double xOffset = 0;\r\n    private double yOffset = 0;\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n\r\n        stage.initStyle(StageStyle.DECORATED.UNDECORATED);\r\n\r\n        root.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event){\r\n                xOffset = event.getScreenX();\r\n                yOffset = event.getScreenY();\r\n            }\r\n\r\n        });\r\n\r\n        root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event){\r\n                stage.setX(event.getScreenX() - xOffset );\r\n                stage.setY(event.getScreenY() - yOffset );\r\n\r\n            }\r\n        });\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve made sure my onAction is linked to the correct method name, and I even tried using print statements throughout the process of entering the username and password but even those statements don&#39;t print within the terminal.","title":"JavaFX login screen will not switch scenes","body":"<p>I hav a JavaFx project that uses a login screen to to switch pages for accredited users. However, when my login button is pressed with the correct credentials in the the textfield and passwordfield, nothing happens, no errors are given either. Can someone help me figure out why there's not a scene switch occurring?</p>\n<p>Here is my FXML file for my login page:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mall.HelloController&quot;&gt;\n    &lt;left&gt;\n        &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;350.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n            &lt;children&gt;\n                &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;92.0&quot; layoutY=&quot;244.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;The Shopping Mall&quot;&gt;\n                    &lt;font&gt;\n                        &lt;Font size=&quot;20.0&quot; /&gt;\n                    &lt;/font&gt;\n                &lt;/Text&gt;\n            &lt;/children&gt;\n        &lt;/AnchorPane&gt;\n    &lt;/left&gt;\n    &lt;right&gt;\n        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;415.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n            &lt;children&gt;\n                &lt;TextField id=&quot;username&quot; fx:id=&quot;usernameField&quot; layoutX=&quot;101.0&quot; layoutY=&quot;208.0&quot; onAction=&quot;#login&quot; promptText=&quot;Username&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\n                &lt;PasswordField id=&quot;password&quot; fx:id=&quot;passwordField&quot; layoutX=&quot;102.0&quot; layoutY=&quot;261.0&quot; onAction=&quot;#login&quot; promptText=&quot;Password&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\n                &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;129.0&quot; layoutY=&quot;335.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#login&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; /&gt;\n                &lt;Text fill=&quot;#6d5090&quot; layoutX=&quot;125.0&quot; layoutY=&quot;129.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;User Login&quot;&gt;\n                    &lt;font&gt;\n                        &lt;Font size=&quot;22.0&quot; /&gt;\n                    &lt;/font&gt;\n                &lt;/Text&gt;\n                &lt;Button layoutX=&quot;320.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#exit&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;30.0&quot; style=&quot;-fx-background-color: transparent;&quot;&gt;\n                    &lt;graphic&gt;\n                        &lt;Text fill=&quot;#6d5090&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;X&quot;&gt;\n                            &lt;font&gt;\n                                &lt;Font size=&quot;16.0&quot; /&gt;\n                            &lt;/font&gt;\n                        &lt;/Text&gt;\n                    &lt;/graphic&gt;\n                &lt;/Button&gt;\n                &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;106.0&quot; layoutY=&quot;402.0&quot; text=&quot;Incorrect Login. Try Again&quot; textFill=&quot;#ff4d4d&quot; visible=&quot;false&quot; /&gt;\n            &lt;/children&gt;\n        &lt;/AnchorPane&gt;\n    &lt;/right&gt;\n&lt;/BorderPane&gt;\n\n</code></pre>\n<p>Here is my controller class:</p>\n<pre><code>package com.example.mall;\n\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.scene.Parent;\nimport java.io.IOException;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\nimport java.util.HashMap;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\n\npublic class HelloController {\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n\n\n    @FXML\n    private Label errorLabel;\n\n    @FXML\n    private Button loginButton;\n\n    @FXML\n    private PasswordField passwordField;\n\n    @FXML\n    private TextField usernameField;\n\n    @FXML\n    private void exit(ActionEvent event) {\n        System.exit(0);\n    }\n\n    \n\n   @FXML\n    public void login(ActionEvent event) throws IOException {\n\n           HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\n\n           logininfo.put(&quot;customer&quot;,&quot;customer123&quot;);\n           logininfo.put(&quot;staff&quot;,&quot;staff123&quot;);\n           logininfo.put(&quot;ceo&quot;,&quot;ceo123&quot;);\n           String username;\n           username = usernameField.getText();\n       System.out.println(username);\n           String password;\n           password = String.valueOf(passwordField.getText());\n\n       System.out.println(password);\n\n         if (event.getSource()==loginButton){\n             //if(logininfo.containsKey(username)){\n                 System.out.println(&quot;Switching scenesaaaaaaa&quot;);\n                    if(logininfo.get(username).equals(password)){\n                        System.out.println(&quot;Switching scenes&quot;);\n                        switchScene(event, &quot;ShoppingInterface.fxml&quot;);\n                    }\n\n            //}\n         }\n\n    }\n\n\n    public void switchScene(ActionEvent event,String fxmlFileName) throws IOException {\n\n            System.out.println(&quot;Switching to scene: &quot; + fxmlFileName);\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFileName));\n            Scene newScene = new Scene(loader.load());\n            Stage primaryStage = (Stage) ((Node)event.getSource()).getScene().getWindow();\n\n            primaryStage.setScene(newScene);\n            primaryStage.show();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\n\n    }\n}\n\n\n</code></pre>\n<p>And here is my main file:</p>\n<pre><code>package com.example.mall;\n\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.scene.Parent;\nimport java.io.IOException;\n\npublic class UserLogin extends Application {\n\n    private double xOffset = 0;\n    private double yOffset = 0;\n\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\n        Scene scene = new Scene(root);\n\n        stage.initStyle(StageStyle.DECORATED.UNDECORATED);\n\n        root.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent event){\n                xOffset = event.getScreenX();\n                yOffset = event.getScreenY();\n            }\n\n        });\n\n        root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent event){\n                stage.setX(event.getScreenX() - xOffset );\n                stage.setY(event.getScreenY() - yOffset );\n\n            }\n        });\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>I've made sure my onAction is linked to the correct method name, and I even tried using print statements throughout the process of entering the username and password but even those statements don't print within the terminal.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701272658,"post_id":77572581,"comment_id":136755742,"body_markdown":"No, primitives are not objects, but sometimes you need a class to represent a primitive type (e.g. when using reflection).","body":"No, primitives are not objects, but sometimes you need a class to represent a primitive type (e.g. when using reflection)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701272747,"post_id":77572581,"comment_id":136755757,"body_markdown":"That said, `java.lang.Class` does not have a `getPrimitiveClass(String name)` method. Which method are you asking about?","body":"That said, <code>java.lang.Class</code> does not have a <code>getPrimitiveClass(String name)</code> method. Which method are you asking about?"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":1,"creation_date":1701272825,"post_id":77572581,"comment_id":136755774,"body_markdown":"@MarkRotteveel It actually does; it just has package visibility: https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Class.java#l2312","body":"@MarkRotteveel It actually does; it just has package visibility: <a href=\"https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Class.java#l2312\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701272875,"post_id":77572581,"comment_id":136755787,"body_markdown":"@SolomonUcko Ah, thanks, I was just going by the API doc of [`Class`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html)","body":"@SolomonUcko Ah, thanks, I was just going by the API doc of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a>"},{"owner":{"account_id":30023750,"reputation":1,"user_id":23008496,"display_name":"Kas"},"score":1,"creation_date":1701272974,"post_id":77572581,"comment_id":136755808,"body_markdown":"I&#39;ve seen this method in field of Integer class:\npublic static final Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(&quot;int&quot;);","body":"I&#39;ve seen this method in field of Integer class: public static final Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(&quot;int&quot;);"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1701273059,"post_id":77572581,"comment_id":136755821,"body_markdown":"It&#39;s undocumented, so there may not be a reliable description of what it does. One possible non-native implementation here: https://stackoverflow.com/a/25514941/21105992","body":"It&#39;s undocumented, so there may not be a reliable description of what it does. One possible non-native implementation here: <a href=\"https://stackoverflow.com/a/25514941/21105992\">stackoverflow.com/a/25514941/21105992</a>"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1701273660,"post_id":77572581,"comment_id":136755968,"body_markdown":"Here&#39;s the relevant native code, if you&#39;re curious: https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/native/java/lang/Class.c#l167, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/prims/jvm.cpp#l717, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/utilities/globalDefinitions.cpp#l207, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.hpp#l286, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.cpp#l439","body":"Here&#39;s the relevant native code, if you&#39;re curious: <a href=\"https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/native/java/lang/Class.c#l167\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/nat&zwnj;&#8203;ive/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/prims/jvm.cpp#l717\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/utilities/globalDefinitions.cpp#l207\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.hpp#l286\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.cpp#l439\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>"}],"owner":{"account_id":30023750,"reputation":1,"user_id":23008496,"display_name":"Kas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701273076,"answer_count":0,"score":0,"last_activity_date":1701273236,"creation_date":1701272428,"question_id":77572581,"body_markdown":"There is `getPrimitiveClass(String name)` method of `Class`. Its description is &quot;Return the Virtual Machine&#39;s Class object for the named primitive type&quot;. \r\n\r\nWhat does this mean? Can primitives can considered an object-like structures in JVM?\r\n\r\n\r\n","title":"What&#39;s meant in Virtual Machine&#39;s Class object?","body":"<p>There is <code>getPrimitiveClass(String name)</code> method of <code>Class</code>. Its description is &quot;Return the Virtual Machine's Class object for the named primitive type&quot;.</p>\n<p>What does this mean? Can primitives can considered an object-like structures in JVM?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701222465,"post_id":77568105,"comment_id":136748040,"body_markdown":"`int num = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1).findFirst().getAsInt();`","body":"<code>int num = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n &#47; 100 - n % 10) &gt; 1).findFirst().getAsInt();</code>"}],"answers":[{"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1701224135,"post_id":77568202,"comment_id":136748174,"body_markdown":"Simple, yes. Random number within the constraints given, no.","body":"Simple, yes. Random number within the constraints given, no."},{"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":"Фёдор Надуткин"},"score":0,"creation_date":1701224967,"post_id":77568202,"comment_id":136748245,"body_markdown":"Yes, you&#39;re right, I&#39;ve missed the part, about differ more then one. I&#39;ve edited code, I think, now it works fine)","body":"Yes, you&#39;re right, I&#39;ve missed the part, about differ more then one. I&#39;ve edited code, I think, now it works fine)"},{"owner":{"account_id":19366045,"reputation":83,"user_id":14160311,"display_name":"Shifu"},"score":1,"creation_date":1701225425,"post_id":77568202,"comment_id":136748282,"body_markdown":"The edited code still does not always produce a number within the constraints.","body":"The edited code still does not always produce a number within the constraints."},{"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":"Фёдор Надуткин"},"score":0,"creation_date":1701226460,"post_id":77568202,"comment_id":136748398,"body_markdown":"When? The corner cases may be 2 or 3, but code solves them too, other digits are not scary for us","body":"When? The corner cases may be 2 or 3, but code solves them too, other digits are not scary for us"}],"tags":[],"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":"Фёдор Надуткин"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701224846,"creation_date":1701224001,"answer_id":77568202,"question_id":77568105,"body_markdown":"```Java\r\nRandom random = new Random();\r\n\r\nint first = random.nextInt(1, 10);\r\nint last = random.nextInt(3, 10);\r\nlast = switch (last - first) {\r\n    case 1 -&gt; 0;\r\n    case 0 -&gt; 1;\r\n    case -1 -&gt; 2;\r\n    default -&gt; last;\r\n};\r\nint middle = random.nextInt(0, 10);\r\nSystem.out.println(first * 100 + middle * 10 + last);\r\n```\r\n\r\nI think this variant will be the simplest one for the beginner. It doesn&#39;t use arrays, streams and cycles","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<pre><code>Random random = new Random();\n\nint first = random.nextInt(1, 10);\nint last = random.nextInt(3, 10);\nlast = switch (last - first) {\n    case 1 -&gt; 0;\n    case 0 -&gt; 1;\n    case -1 -&gt; 2;\n    default -&gt; last;\n};\nint middle = random.nextInt(0, 10);\nSystem.out.println(first * 100 + middle * 10 + last);\n</code></pre>\n<p>I think this variant will be the simplest one for the beginner. It doesn't use arrays, streams and cycles</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701273227,"creation_date":1701224689,"answer_id":77568233,"question_id":77568105,"body_markdown":"I would do it as follows.\r\n```\r\n\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    int n = getRandom();\r\n    System.out.printf(&quot;%d &quot;, n);\r\n}\r\n```\r\nprints something like\r\n```\r\n592 842 522 167 760 521 318 178 466 632\r\n```\r\nJust create the `first`, `last`, and middle digits to conform to the required delta. Check out [Random](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#Random()) for details on the available methods.\r\n- generate `first` from `1 to 9` inclusive\r\n- Then generate `last` so it is at least `2` from `first`. This uses the [conditional operator](https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3.1.4) `?:`\r\n- the middle part is just `10 to 90` inclusive. \r\n```\r\nimport java.util.Random;\r\nRandom r = new Random();\r\n  \r\npublic static int getRandom() {\r\n    int first = r.nextInt(1, 10);\r\n    int last = first &lt; 5 ? r.nextInt(6, 9) : r.nextInt(0, 3);\r\n    return (first * 100) + r.nextInt(10)*10 + last;\r\n}\r\n\r\n```\r\nKeep in mind that these may not be purely random numbers from a mathematical perspective.","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>I would do it as follows.</p>\n<pre><code>\nfor (int i = 0; i &lt; 10; i++) {\n    int n = getRandom();\n    System.out.printf(&quot;%d &quot;, n);\n}\n</code></pre>\n<p>prints something like</p>\n<pre><code>592 842 522 167 760 521 318 178 466 632\n</code></pre>\n<p>Just create the <code>first</code>, <code>last</code>, and middle digits to conform to the required delta. Check out <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#Random()\" rel=\"nofollow noreferrer\">Random</a> for details on the available methods.</p>\n<ul>\n<li>generate <code>first</code> from <code>1 to 9</code> inclusive</li>\n<li>Then generate <code>last</code> so it is at least <code>2</code> from <code>first</code>. This uses the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3.1.4\" rel=\"nofollow noreferrer\">conditional operator</a> <code>?:</code></li>\n<li>the middle part is just <code>10 to 90</code> inclusive.</li>\n</ul>\n<pre><code>import java.util.Random;\nRandom r = new Random();\n  \npublic static int getRandom() {\n    int first = r.nextInt(1, 10);\n    int last = first &lt; 5 ? r.nextInt(6, 9) : r.nextInt(0, 3);\n    return (first * 100) + r.nextInt(10)*10 + last;\n}\n\n</code></pre>\n<p>Keep in mind that these may not be purely random numbers from a mathematical perspective.</p>\n"},{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701225818,"post_id":77568242,"comment_id":136748330,"body_markdown":"_&quot;... theoretically speaking ...&quot;_; I didn&#39;t know there was a theorem regarding syntax errors.  I&#39;m just kidding, great solution.","body":"<i>&quot;... theoretically speaking ...&quot;</i>; I didn&#39;t know there was a theorem regarding syntax errors.  I&#39;m just kidding, great solution."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701225945,"post_id":77568242,"comment_id":136748346,"body_markdown":"@Reilas Where do you spot a syntax error? Compiles and runs fine for me.","body":"@Reilas Where do you spot a syntax error? Compiles and runs fine for me."},{"owner":{"account_id":19366045,"reputation":83,"user_id":14160311,"display_name":"Shifu"},"score":0,"creation_date":1701385497,"post_id":77568242,"comment_id":136772631,"body_markdown":"Yes, that bias exists but isn&#39;t that just the nature of this problem? i.e. wouldn&#39;t the set of all numbers that meet this condition be &quot;biased&quot; like this?","body":"Yes, that bias exists but isn&#39;t that just the nature of this problem? i.e. wouldn&#39;t the set of all numbers that meet this condition be &quot;biased&quot; like this?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1701392884,"post_id":77568242,"comment_id":136773262,"body_markdown":"@Shifu Yes. That&#39;s why I noted that other solutions would show the same bias. It&#39;s due to the exclusion of the `0` in the first position. You could compensate it by sacrificing some randomness. I added the clarification because the exclusion of the `0` was not explicitly stated in the question (it was just apparent from the code). Up to OP to figure out what&#39;s more important.","body":"@Shifu Yes. That&#39;s why I noted that other solutions would show the same bias. It&#39;s due to the exclusion of the <code>0</code> in the first position. You could compensate it by sacrificing some randomness. I added the clarification because the exclusion of the <code>0</code> was not explicitly stated in the question (it was just apparent from the code). Up to OP to figure out what&#39;s more important."}],"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701246144,"creation_date":1701224860,"answer_id":77568242,"question_id":77568105,"body_markdown":"The problem with using a loop (or infinite stream) to get to a result, is that your execution time becomes unpredictable, and that, *theoretically* speaking, your function could run infinitely.\r\n\r\nHere&#39;s a straightforward approach that generates a random&lt;sup&gt;(*)&lt;/sup&gt; number within your constraints on the first try:\r\n\r\n    import java.util.Random;\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Random random = new Random();\r\n            \r\n          int first = random.nextInt(1, 10);\r\n          int middle = random.nextInt(0, 10);\r\n          int last = (first + random.nextInt(2, 9)) % 10;\r\n          int result = first * 100 + middle * 10 + last;\r\n          \r\n          System.out.println(result);\r\n        }\r\n    }\r\n\r\nThis solution relies on the fact that for the last digit, there&#39;s only 7 possible values to choose from. It generates a random value between 2 and 8, adds that to the first digit, and then uses a modulo operation to reduce back to a single digit.\r\n\r\n\r\n----------\r\n\r\n&lt;sup&gt;&lt;sup&gt;(*)&lt;/sup&gt; There are two caveats here: 1) The generated results are random up to the point that the used [pseudo-random number generator](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html) produces random numbers. 2) Your last digit will be biased towards the `9`, `0` and `1` values which are 16.66...% more likely to occur due to the exclusion of the `0` value from the first digit. Other solutions will show the same bias.&lt;/sup&gt;","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>The problem with using a loop (or infinite stream) to get to a result, is that your execution time becomes unpredictable, and that, <em>theoretically</em> speaking, your function could run infinitely.</p>\n<p>Here's a straightforward approach that generates a random<sup>(*)</sup> number within your constraints on the first try:</p>\n<pre><code>import java.util.Random;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Random random = new Random();\n        \n      int first = random.nextInt(1, 10);\n      int middle = random.nextInt(0, 10);\n      int last = (first + random.nextInt(2, 9)) % 10;\n      int result = first * 100 + middle * 10 + last;\n      \n      System.out.println(result);\n    }\n}\n</code></pre>\n<p>This solution relies on the fact that for the last digit, there's only 7 possible values to choose from. It generates a random value between 2 and 8, adds that to the first digit, and then uses a modulo operation to reduce back to a single digit.</p>\n<hr />\n<p><sup><sup>(*)</sup> There are two caveats here: 1) The generated results are random up to the point that the used <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">pseudo-random number generator</a> produces random numbers. 2) Your last digit will be biased towards the <code>9</code>, <code>0</code> and <code>1</code> values which are 16.66...% more likely to occur due to the exclusion of the <code>0</code> value from the first digit. Other solutions will show the same bias.</sup></p>\n"},{"tags":[],"owner":{"account_id":19366045,"reputation":83,"user_id":14160311,"display_name":"Shifu"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701225178,"creation_date":1701225178,"answer_id":77568258,"question_id":77568105,"body_markdown":"There are many ways to go about this problem. The way I can think of that would be most similar to your attempt would be this:\r\n```\r\n// first and second digit can be anything\r\nint firstDigit = (int) (Math.random() * 10);\r\nint secondDigit = (int) (Math.random() * 10);\r\nint thirdDigit;\r\n\r\n// generate a random digit until the condition is met\r\ndo {\r\n\tthirdDigit = (int) (Math.random() * 10);\r\n} while (Math.abs(firstDigit - thirdDigit) &lt;= 1);\r\n\r\nint result = firstDigit * 100 + secondDigit * 10 + thirdDigit;\r\n```\r\nThis is a great example of how you would use the [do-while loop][1].\r\n\r\nAnother possible solution is to use Java&#39;s [ThreadLocalRandom][2]. You would first need to include the class:\r\n```\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n```\r\nThen, your solution would be:\r\n```\r\nint result = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1).findFirst().getAsInt();\r\n```\r\n`ThreadLocalRandom.current()` returns the thread&#39;s current instance of this object. `.ints(100, 1000)` returns a stream of random integers in the range [100, 1000), i.e. random 3-digit numbers. `.filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1)` can be confusing for a beginner. Basically, for each number `n` in this (effectively) infinite stream, we only want the numbers that meet the condition `Math.abs(n / 100 - n % 10) &gt; 1`. Notice that `n / 100` rounded down will always be the first digit of a 3-digit, positive, base-10 number, and `n % 10` (n modulus 10) will always be the last digit of a positive, base-10 integer. `.findFirst()` will get the first number in the stream that meets the filter&#39;s condition. This is returned as an [OptionalInt][3], which allows for error handling. In this case, though, we can simply call `.getAsInt()` to obtain the value.\r\n\r\nIf you are able to understand the second option then I would recommend using it, but if the first one makes more sense to you then use that. My advice is to never use code that you can&#39;t explain!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>There are many ways to go about this problem. The way I can think of that would be most similar to your attempt would be this:</p>\n<pre><code>// first and second digit can be anything\nint firstDigit = (int) (Math.random() * 10);\nint secondDigit = (int) (Math.random() * 10);\nint thirdDigit;\n\n// generate a random digit until the condition is met\ndo {\n    thirdDigit = (int) (Math.random() * 10);\n} while (Math.abs(firstDigit - thirdDigit) &lt;= 1);\n\nint result = firstDigit * 100 + secondDigit * 10 + thirdDigit;\n</code></pre>\n<p>This is a great example of how you would use the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">do-while loop</a>.</p>\n<p>Another possible solution is to use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">ThreadLocalRandom</a>. You would first need to include the class:</p>\n<pre><code>import java.util.concurrent.ThreadLocalRandom;\n</code></pre>\n<p>Then, your solution would be:</p>\n<pre><code>int result = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1).findFirst().getAsInt();\n</code></pre>\n<p><code>ThreadLocalRandom.current()</code> returns the thread's current instance of this object. <code>.ints(100, 1000)</code> returns a stream of random integers in the range [100, 1000), i.e. random 3-digit numbers. <code>.filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1)</code> can be confusing for a beginner. Basically, for each number <code>n</code> in this (effectively) infinite stream, we only want the numbers that meet the condition <code>Math.abs(n / 100 - n % 10) &gt; 1</code>. Notice that <code>n / 100</code> rounded down will always be the first digit of a 3-digit, positive, base-10 number, and <code>n % 10</code> (n modulus 10) will always be the last digit of a positive, base-10 integer. <code>.findFirst()</code> will get the first number in the stream that meets the filter's condition. This is returned as an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html\" rel=\"nofollow noreferrer\">OptionalInt</a>, which allows for error handling. In this case, though, we can simply call <code>.getAsInt()</code> to obtain the value.</p>\n<p>If you are able to understand the second option then I would recommend using it, but if the first one makes more sense to you then use that. My advice is to never use code that you can't explain!</p>\n"},{"comments":[{"owner":{"account_id":14356996,"reputation":358,"user_id":10370570,"display_name":"AkiZukiLenn"},"score":0,"creation_date":1701229947,"post_id":77568275,"comment_id":136748738,"body_markdown":"I think you need to import java util for Random class.","body":"I think you need to import java util for Random class."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701225444,"creation_date":1701225444,"answer_id":77568275,"question_id":77568105,"body_markdown":"&gt; _&quot;... I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nRandom r = new Random();\r\nint x, a = r.nextInt(1, 10), b = r.nextInt(1, 10), c;\r\nwhile (Math.abs(a - (c = r.nextInt(1, 10))) &lt;= 1);\r\nx = (a * 100) + (b * 10) + c;\r\n```\r\n\r\nAnd, here are some example outputs.\r\n\r\n```none\r\n684, 874, 114, 512, 459, 267, 451, 779, 751, 691\r\n```","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<blockquote>\n<p><em>&quot;... I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nint x, a = r.nextInt(1, 10), b = r.nextInt(1, 10), c;\nwhile (Math.abs(a - (c = r.nextInt(1, 10))) &lt;= 1);\nx = (a * 100) + (b * 10) + c;\n</code></pre>\n<p>And, here are some example outputs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>684, 874, 114, 512, 459, 267, 451, 779, 751, 691\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701237362,"post_id":77568463,"comment_id":136749297,"body_markdown":"*&quot;Require no library except the native one.&quot;* Not sure I get your point. None of the answers posted in this thread so far requires an external library. Do you mean a [package](https://docs.oracle.com/javase/tutorial/java/concepts/package.html)? If so, the `java.util` package is as much part of the standard library as the `java.lang` package.","body":"<i>&quot;Require no library except the native one.&quot;</i> Not sure I get your point. None of the answers posted in this thread so far requires an external library. Do you mean a <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/package.html\" rel=\"nofollow noreferrer\">package</a>? If so, the <code>java.util</code> package is as much part of the standard library as the <code>java.lang</code> package."}],"tags":[],"owner":{"account_id":14356996,"reputation":358,"user_id":10370570,"display_name":"AkiZukiLenn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701248160,"creation_date":1701229475,"answer_id":77568463,"question_id":77568105,"body_markdown":"    class Simple{  \r\n        public static void main(String args[]){\r\n            boolean noGap = true  ;\r\n            int a = ((int) (Math.random()*10));\r\n            int b = ((int) (Math.random()*10));\r\n            int c = 0 ; \r\n            while(noGap){\r\n                c = ((int) (Math.random()*10));\r\n                if(a&gt;c){\r\n                    noGap = a-c&gt;1 ? false:true ;  \r\n                }\r\n                if(c&gt;a){\r\n                    noGap = c-a&gt;1 ? false:true ; \r\n                }\r\n            }\r\n            System.out.println(Integer.toString(a)+Integer.toString(b)+Integer.toString(c));\r\n        }\r\n    }  \r\n\r\n\r\nNo need for any import.","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<pre><code>class Simple{  \n    public static void main(String args[]){\n        boolean noGap = true  ;\n        int a = ((int) (Math.random()*10));\n        int b = ((int) (Math.random()*10));\n        int c = 0 ; \n        while(noGap){\n            c = ((int) (Math.random()*10));\n            if(a&gt;c){\n                noGap = a-c&gt;1 ? false:true ;  \n            }\n            if(c&gt;a){\n                noGap = c-a&gt;1 ? false:true ; \n            }\n        }\n        System.out.println(Integer.toString(a)+Integer.toString(b)+Integer.toString(c));\n    }\n}  \n</code></pre>\n<p>No need for any import.</p>\n"}],"owner":{"account_id":30017825,"reputation":23,"user_id":23003860,"display_name":"luker217"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77568242,"answer_count":6,"score":2,"last_activity_date":1701273227,"creation_date":1701221925,"question_id":77568105,"body_markdown":"I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. How would I accomplish this *without arrays*, as simply as possible? I am still a beginner.\r\n\r\n```\r\nint num = 0;\r\n\r\nint firstDigit = 0;\r\nint lastDigit = 0;\r\n\r\n// complete the method\r\n\r\n//while loop\r\nwhile(firstDigit-lastDigit&lt;1)\r\n{\r\n    num = (int)(Math.random() * (999-100) + 100);\r\n    String number = String.valueOf(num);\r\n    String n1 = number.substring(0,1);\r\n    String n2 = number.substring(2,3);\r\n    int a = Integer.parseInt(n1);\r\n    int b = Integer.parseInt(n2);\r\n    \r\n    firstDigit = a;\r\n    lastDigit = b;\r\n    int randNum = Math.abs(a-b);\r\n    System.out.println(a);\r\n    System.out.println(b);   \r\n}\r\n```\r\n\r\nI at first tried this, but soon realized that the while loop was simply always active, because it was getting its initial values from when they were defined earlier in the method.","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. How would I accomplish this <em>without arrays</em>, as simply as possible? I am still a beginner.</p>\n<pre><code>int num = 0;\n\nint firstDigit = 0;\nint lastDigit = 0;\n\n// complete the method\n\n//while loop\nwhile(firstDigit-lastDigit&lt;1)\n{\n    num = (int)(Math.random() * (999-100) + 100);\n    String number = String.valueOf(num);\n    String n1 = number.substring(0,1);\n    String n2 = number.substring(2,3);\n    int a = Integer.parseInt(n1);\n    int b = Integer.parseInt(n2);\n    \n    firstDigit = a;\n    lastDigit = b;\n    int randNum = Math.abs(a-b);\n    System.out.println(a);\n    System.out.println(b);   \n}\n</code></pre>\n<p>I at first tried this, but soon realized that the while loop was simply always active, because it was getting its initial values from when they were defined earlier in the method.</p>\n"},{"tags":["java","arrays","string","multidimensional-array"],"comments":[{"owner":{"account_id":15148774,"reputation":67,"user_id":10931623,"display_name":"Akash kunwar"},"score":0,"creation_date":1549802498,"post_id":54616268,"comment_id":96025913,"body_markdown":"I already tried the first approach but can you suggest how to  go ahead with your second case","body":"I already tried the first approach but can you suggest how to  go ahead with your second case"}],"answers":[{"comments":[{"owner":{"account_id":1091880,"reputation":2136,"user_id":1086346,"accept_rate":63,"display_name":"pauljohn32"},"score":1,"creation_date":1701151349,"post_id":54616470,"comment_id":136736518,"body_markdown":"Typo, second index is i, should be j. This would not run.","body":"Typo, second index is i, should be j. This would not run."}],"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701273124,"creation_date":1549802350,"answer_id":54616470,"question_id":54616268,"body_markdown":"A better strategy for your problem is to use this method:\r\n\r\n    public int[] countChars(String s){\r\n        int[] count = new int[26];\r\n        for(char c: s.toCharArray()){\r\n            count[c-&#39;a&#39;]++;\r\n        }\r\n        return count;\r\n    }\r\n\r\nNow if you have n Strings (String[] strings) just find the min of common chars for each letter:\r\n\r\n    int[][] result = new int[n][26]\r\n    for(int i = 0; i&lt;strings.length;i++){\r\n        result[i] = countChars(s);\r\n    }\r\n    // now if you sum the min common chars for each counter you are ready\r\n    int commonChars = 0; \r\n    for(int i = 0; i&lt; 26;i++){\r\n        int min = result[0][i];\r\n        for(int j = 1; j&lt; n;j++){\r\n            if(min&gt;result[j][i]){\r\n                min = result[j][i];\r\n            }\r\n        }\r\n        commonChars+=min;\r\n    }","title":"Common characters in n strings","body":"<p>A better strategy for your problem is to use this method:</p>\n<pre><code>public int[] countChars(String s){\n    int[] count = new int[26];\n    for(char c: s.toCharArray()){\n        count[c-'a']++;\n    }\n    return count;\n}\n</code></pre>\n<p>Now if you have n Strings (String[] strings) just find the min of common chars for each letter:</p>\n<pre><code>int[][] result = new int[n][26]\nfor(int i = 0; i&lt;strings.length;i++){\n    result[i] = countChars(s);\n}\n// now if you sum the min common chars for each counter you are ready\nint commonChars = 0; \nfor(int i = 0; i&lt; 26;i++){\n    int min = result[0][i];\n    for(int j = 1; j&lt; n;j++){\n        if(min&gt;result[j][i]){\n            min = result[j][i];\n        }\n    }\n    commonChars+=min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549803728,"creation_date":1549803344,"answer_id":54616621,"question_id":54616268,"body_markdown":"Get list of characters for each string:\r\n\r\n    List&lt;Character&gt; chars1 = s1.chars()    // list of chars for first string\r\n                .mapToObj(c -&gt; (char) c)\r\n                .collect(Collectors.toList());\r\n\r\n    List&lt;Character&gt; chars2 = s2.chars()    // list of chars for second string\r\n                .mapToObj(c -&gt; (char) c)\r\n                .collect(Collectors.toList());\r\n\r\nThen use `retainAll` method:\r\n\r\n    chars1.retainAll(chars2);  // retain in chars1 only the chars that are contained in the chars2 also\r\n    System.out.println(chars1.size());\r\n\r\nIf you want to get number of unique chars just use `Collectors.toSet()` instead of `toList()`","title":"Common characters in n strings","body":"<p>Get list of characters for each string:</p>\n\n<pre><code>List&lt;Character&gt; chars1 = s1.chars()    // list of chars for first string\n            .mapToObj(c -&gt; (char) c)\n            .collect(Collectors.toList());\n\nList&lt;Character&gt; chars2 = s2.chars()    // list of chars for second string\n            .mapToObj(c -&gt; (char) c)\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>Then use <code>retainAll</code> method:</p>\n\n<pre><code>chars1.retainAll(chars2);  // retain in chars1 only the chars that are contained in the chars2 also\nSystem.out.println(chars1.size());\n</code></pre>\n\n<p>If you want to get number of unique chars just use <code>Collectors.toSet()</code> instead of <code>toList()</code></p>\n"},{"tags":[],"owner":{"account_id":15148070,"reputation":894,"user_id":10931123,"display_name":"kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549810736,"creation_date":1549805699,"answer_id":54616939,"question_id":54616268,"body_markdown":"Well if one goes for hashing:\r\n\r\n    public static int uniqueChars(String first, String second) {\r\n        boolean[] hash = new boolean[26]; \r\n        int count = 0;\r\n        //reduce first string to unique letters\r\n        for (char c : first.toLowerCase().toCharArray()) {\r\n            hash[c - &#39;a&#39;] = true;\r\n        }\r\n        //reduce to unique letters in both strings\r\n        for(char c : second.toLowerCase().toCharArray()){\r\n            if(hash[c - &#39;a&#39;]){\r\n                count++; \r\n                hash[c - &#39;a&#39;] = false;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\nThis is using bucketsort which gives a n+m complexity but needs the 26 buckets(the &quot;hash&quot; array). \r\nImo one can&#39;t do better in regards of complexity as you need to look at every letter at least once which sums up to n+m.\r\n\r\nInsitu the best you can get is imho somewhere in the range of O(n log(n) ) .\r\n\r\nYour aproach is somewhere in the league of O(n&#178;) \r\n\r\n\r\n\r\n\r\nAddon: if you need the characters as a String(in essence the same as above with count is the length of the String returned):\r\n\r\n    public static String uniqueChars(String first, String second) {\r\n        boolean[] hash = new boolean[26]; \r\n        StringBuilder sb = new StringBuilder();\r\n        for (char c : first.toLowerCase().toCharArray()) {\r\n            hash[c - &#39;a&#39;] = true;\r\n        }\r\n        for(char c : second.toLowerCase().toCharArray()){\r\n            if(hash[c - &#39;a&#39;]){\r\n                sb.append(c);\r\n                hash[c - &#39;a&#39;] = false;\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }","title":"Common characters in n strings","body":"<p>Well if one goes for hashing:</p>\n\n<pre><code>public static int uniqueChars(String first, String second) {\n    boolean[] hash = new boolean[26]; \n    int count = 0;\n    //reduce first string to unique letters\n    for (char c : first.toLowerCase().toCharArray()) {\n        hash[c - 'a'] = true;\n    }\n    //reduce to unique letters in both strings\n    for(char c : second.toLowerCase().toCharArray()){\n        if(hash[c - 'a']){\n            count++; \n            hash[c - 'a'] = false;\n        }\n    }\n    return count;\n}\n</code></pre>\n\n<p>This is using bucketsort which gives a n+m complexity but needs the 26 buckets(the \"hash\" array). \nImo one can't do better in regards of complexity as you need to look at every letter at least once which sums up to n+m.</p>\n\n<p>Insitu the best you can get is imho somewhere in the range of O(n log(n) ) .</p>\n\n<p>Your aproach is somewhere in the league of O(n²) </p>\n\n<p>Addon: if you need the characters as a String(in essence the same as above with count is the length of the String returned):</p>\n\n<pre><code>public static String uniqueChars(String first, String second) {\n    boolean[] hash = new boolean[26]; \n    StringBuilder sb = new StringBuilder();\n    for (char c : first.toLowerCase().toCharArray()) {\n        hash[c - 'a'] = true;\n    }\n    for(char c : second.toLowerCase().toCharArray()){\n        if(hash[c - 'a']){\n            sb.append(c);\n            hash[c - 'a'] = false;\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549810751,"creation_date":1549807478,"answer_id":54617161,"question_id":54616268,"body_markdown":"    public static String getCommonCharacters(String... words) {\r\n        if (words == null || words.length == 0)\r\n            return &quot;&quot;;\r\n    \r\n        Set&lt;Character&gt; unique = words[0].chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toCollection(TreeSet::new));\r\n    \r\n        for (String word : words)\r\n            unique.retainAll(word.chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toSet()));\r\n    \r\n        return unique.stream().map(String::valueOf).collect(Collectors.joining());\r\n    }\r\n\r\n---\r\n\r\nAnother variant without creating temporary `Set` and using `Character`.\r\n\r\n    public static String getCommonCharacters(String... words) {\r\n        if (words == null || words.length == 0)\r\n            return &quot;&quot;;\r\n    \r\n        int[] arr = new int[26];\r\n        boolean[] tmp = new boolean[26];\r\n    \r\n        for (String word : words) {\r\n            Arrays.fill(tmp, false);\r\n    \r\n            for (int i = 0; i &lt; word.length(); i++) {\r\n                int pos = Character.toLowerCase(word.charAt(i)) - &#39;a&#39;;\r\n    \r\n                if (tmp[pos])\r\n                    continue;\r\n    \r\n                tmp[pos] = true;\r\n                arr[pos]++;\r\n            }\r\n        }\r\n    \r\n        StringBuilder buf = new StringBuilder(26);\r\n    \r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            if (arr[i] == words.length)\r\n                buf.append((char)(&#39;a&#39; + i));\r\n    \r\n        return buf.toString();\r\n    }\r\n\r\n---\r\n\r\n**Demo**\r\n\r\n    System.out.println(getCommonCharacters(&quot;abcd&quot;, &quot;bcde&quot;));  // bcd","title":"Common characters in n strings","body":"<pre><code>public static String getCommonCharacters(String... words) {\n    if (words == null || words.length == 0)\n        return \"\";\n\n    Set&lt;Character&gt; unique = words[0].chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toCollection(TreeSet::new));\n\n    for (String word : words)\n        unique.retainAll(word.chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toSet()));\n\n    return unique.stream().map(String::valueOf).collect(Collectors.joining());\n}\n</code></pre>\n\n<hr>\n\n<p>Another variant without creating temporary <code>Set</code> and using <code>Character</code>.</p>\n\n<pre><code>public static String getCommonCharacters(String... words) {\n    if (words == null || words.length == 0)\n        return \"\";\n\n    int[] arr = new int[26];\n    boolean[] tmp = new boolean[26];\n\n    for (String word : words) {\n        Arrays.fill(tmp, false);\n\n        for (int i = 0; i &lt; word.length(); i++) {\n            int pos = Character.toLowerCase(word.charAt(i)) - 'a';\n\n            if (tmp[pos])\n                continue;\n\n            tmp[pos] = true;\n            arr[pos]++;\n        }\n    }\n\n    StringBuilder buf = new StringBuilder(26);\n\n    for (int i = 0; i &lt; arr.length; i++)\n        if (arr[i] == words.length)\n            buf.append((char)('a' + i));\n\n    return buf.toString();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>System.out.println(getCommonCharacters(\"abcd\", \"bcde\"));  // bcd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549807755,"creation_date":1549807755,"answer_id":54617193,"question_id":54616268,"body_markdown":"You have to convert all `String`s to `Set` of `Character`s and retain all from the first one. Below solution has many places which could be optimised but you should understand general idea.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;String&gt; input = Arrays.asList(&quot;jonas&quot;, &quot;ton&quot;, &quot;bonny&quot;);\r\n    \r\n    \t\tSystem.out.println(findCommonCharsFor(input));\r\n    \t}\r\n    \r\n    \tpublic static Collection&lt;Character&gt; findCommonCharsFor(List&lt;String&gt; strings) {\r\n    \t\tif (strings == null || strings.isEmpty()) {\r\n    \t\t\treturn Collections.emptyList();\r\n    \t\t}\r\n    \r\n    \t\tSet&lt;Character&gt; commonChars = convertStringToSetOfChars(strings.get(0));\r\n    \t\tstrings.stream().skip(1).forEach(s -&gt; commonChars.retainAll(convertStringToSetOfChars(s)));\r\n    \r\n    \t\treturn commonChars;\r\n    \t}\r\n    \r\n    \tprivate static Set&lt;Character&gt; convertStringToSetOfChars(String string) {\r\n    \t\tif (string == null || string.isEmpty()) {\r\n    \t\t\treturn Collections.emptySet();\r\n    \t\t}\r\n    \r\n    \t\tSet&lt;Character&gt; set = new HashSet&lt;&gt;(string.length() + 10);\r\n    \t\tfor (char c : string.toCharArray()) {\r\n    \t\t\tset.add(c);\r\n    \t\t}\r\n    \r\n    \t\treturn set;\r\n    \t}\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    [n, o]","title":"Common characters in n strings","body":"<p>You have to convert all <code>String</code>s to <code>Set</code> of <code>Character</code>s and retain all from the first one. Below solution has many places which could be optimised but you should understand general idea.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; input = Arrays.asList(\"jonas\", \"ton\", \"bonny\");\n\n        System.out.println(findCommonCharsFor(input));\n    }\n\n    public static Collection&lt;Character&gt; findCommonCharsFor(List&lt;String&gt; strings) {\n        if (strings == null || strings.isEmpty()) {\n            return Collections.emptyList();\n        }\n\n        Set&lt;Character&gt; commonChars = convertStringToSetOfChars(strings.get(0));\n        strings.stream().skip(1).forEach(s -&gt; commonChars.retainAll(convertStringToSetOfChars(s)));\n\n        return commonChars;\n    }\n\n    private static Set&lt;Character&gt; convertStringToSetOfChars(String string) {\n        if (string == null || string.isEmpty()) {\n            return Collections.emptySet();\n        }\n\n        Set&lt;Character&gt; set = new HashSet&lt;&gt;(string.length() + 10);\n        for (char c : string.toCharArray()) {\n            set.add(c);\n        }\n\n        return set;\n    }\n}\n</code></pre>\n\n<p>Above code prints:</p>\n\n<pre><code>[n, o]\n</code></pre>\n"}],"owner":{"account_id":15148774,"reputation":67,"user_id":10931623,"display_name":"Akash kunwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54617193,"answer_count":5,"score":2,"last_activity_date":1701273124,"creation_date":1549801004,"question_id":54616268,"body_markdown":"I m trying to make a function that prints the number of characters common in given n strings.   (note that characters may be used multiple times)\r\n\r\nI am struggling to perform this operation on n strings However I did it for  2 strings without any characters repeated more than once.\r\n\r\n\r\nI have posted my code.\r\n\r\n\r\n    public class CommonChars {\r\n\r\n        public static void main(String[] args) {\r\n            String str1 = &quot;abcd&quot;;\r\n            String str2 = &quot;bcde&quot;;\r\n            StringBuffer sb = new StringBuffer();\r\n            // get unique chars from both the strings\r\n\r\n            str1 = uniqueChar(str1);\r\n            str2 = uniqueChar(str2);\r\n            int count = 0;\r\n            int str1Len = str1.length();\r\n            int str2Len = str2.length();\r\n\r\n            for (int i = 0; i &lt; str1Len; i++) {\r\n\r\n                for (int j = 0; j &lt; str2Len; j++) {\r\n\r\n                    // found match stop the loop\r\n                    if (str1.charAt(i) == str2.charAt(j)) {\r\n                        count++;\r\n                        sb.append(str1.charAt(i));\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }   \r\n            System.out.println(&quot;Common Chars Count : &quot; + count + &quot;\\nCommon Chars :&quot; + \r\n            sb.toString());\r\n        }\r\n\r\n\r\n        public static String uniqueChar(String inputString) {\r\n            String outputstr=&quot;&quot;,temp=&quot;&quot;;\r\n\t\t    for(int i=0;i&lt;inputstr.length();i++) {\r\n\t\t\t    if(temp.indexOf(inputstr.charAt(i))&lt;0) {\r\n\t\t\t\t    temp+=inputstr.charAt(i);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    System.out.println(&quot;completed&quot;);\r\n\t\t    return temp;\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- language:lang-none --&gt;\r\n\r\n    3 \r\n    abcaa\r\n    bcbd\r\n    bgc\r\n    3\r\n\r\n their may be chances that a same character can be present multiple times in \r\n a string and you are not supposed to eliminate those characters instead \r\n check the no. of times they are repeated in other strings. for eg\r\n\r\n&lt;!-- language:lang-none --&gt;\r\n\r\n     3\r\n     abacd\r\n     aaxyz\r\n     aatre\r\n\r\n output should be 2\r\n\r\n it will be better if i get solution in java\r\n   \r\n","title":"Common characters in n strings","body":"<p>I m trying to make a function that prints the number of characters common in given n strings.   (note that characters may be used multiple times)</p>\n\n<p>I am struggling to perform this operation on n strings However I did it for  2 strings without any characters repeated more than once.</p>\n\n<p>I have posted my code.</p>\n\n<pre><code>public class CommonChars {\n\n    public static void main(String[] args) {\n        String str1 = \"abcd\";\n        String str2 = \"bcde\";\n        StringBuffer sb = new StringBuffer();\n        // get unique chars from both the strings\n\n        str1 = uniqueChar(str1);\n        str2 = uniqueChar(str2);\n        int count = 0;\n        int str1Len = str1.length();\n        int str2Len = str2.length();\n\n        for (int i = 0; i &lt; str1Len; i++) {\n\n            for (int j = 0; j &lt; str2Len; j++) {\n\n                // found match stop the loop\n                if (str1.charAt(i) == str2.charAt(j)) {\n                    count++;\n                    sb.append(str1.charAt(i));\n                    break;\n                }\n            }\n\n        }   \n        System.out.println(\"Common Chars Count : \" + count + \"\\nCommon Chars :\" + \n        sb.toString());\n    }\n\n\n    public static String uniqueChar(String inputString) {\n        String outputstr=\"\",temp=\"\";\n        for(int i=0;i&lt;inputstr.length();i++) {\n            if(temp.indexOf(inputstr.charAt(i))&lt;0) {\n                temp+=inputstr.charAt(i);\n            }\n        }\n        System.out.println(\"completed\");\n        return temp;\n    }\n\n}\n</code></pre>\n\n\n\n<pre><code>3 \nabcaa\nbcbd\nbgc\n3\n</code></pre>\n\n<p>their may be chances that a same character can be present multiple times in \n a string and you are not supposed to eliminate those characters instead \n check the no. of times they are repeated in other strings. for eg</p>\n\n\n\n<pre><code> 3\n abacd\n aaxyz\n aatre\n</code></pre>\n\n<p>output should be 2</p>\n\n<p>it will be better if i get solution in java</p>\n"},{"tags":["java","multithreading","groovy","associative-array","concurrenthashmap"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1625424862,"post_id":68247620,"comment_id":120618477,"body_markdown":"I don&#39;t know about Groovy specifically but in Java if the class isn&#39;t explicitly labeled &quot;thread safe&quot; in some way then it isn&#39;t.  And that *IS* in the docs.","body":"I don&#39;t know about Groovy specifically but in Java if the class isn&#39;t explicitly labeled &quot;thread safe&quot; in some way then it isn&#39;t.  And that <i>IS</i> in the docs."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":3,"creation_date":1625425783,"post_id":68247620,"comment_id":120618670,"body_markdown":"`[:]` is actually a LinkedHashMap. https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html In javadoc you could find thread safe info and recommendations.","body":"<code>[:]</code> is actually a LinkedHashMap. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.ht&zwnj;&#8203;ml</a> In javadoc you could find thread safe info and recommendations."},{"owner":{"account_id":20188977,"reputation":115,"user_id":14807658,"display_name":"stkUser"},"score":0,"creation_date":1625428744,"post_id":68247620,"comment_id":120619349,"body_markdown":"got it.thanks.then i am good to go.","body":"got it.thanks.then i am good to go."}],"answers":[{"tags":[],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701272903,"creation_date":1701272903,"answer_id":77572646,"question_id":68247620,"body_markdown":"As long as they are backed by `LinkedHashMap` and as long as `LinkedHashMap` remains unsynchronized, then, no, it is **not** thread-safe. So you&#39;d need to use some class from `java.util.concurrent`, such as a `ConcurrentLinkedQueue` or a `CopyOnWriteArrayList`, each with advantages and disadvantages.\r\n\r\nIn my case, unfortunately, it seems that our Jenkins admins disallow access to `java.util.concurrent`, maybe out of fear of a badly coded job taking up too many resources from the server. For my use case, I am what you might call SOOL.","title":"Are groovy associative arrays thread safe?","body":"<p>As long as they are backed by <code>LinkedHashMap</code> and as long as <code>LinkedHashMap</code> remains unsynchronized, then, no, it is <strong>not</strong> thread-safe. So you'd need to use some class from <code>java.util.concurrent</code>, such as a <code>ConcurrentLinkedQueue</code> or a <code>CopyOnWriteArrayList</code>, each with advantages and disadvantages.</p>\n<p>In my case, unfortunately, it seems that our Jenkins admins disallow access to <code>java.util.concurrent</code>, maybe out of fear of a badly coded job taking up too many resources from the server. For my use case, I am what you might call SOOL.</p>\n"}],"owner":{"account_id":20188977,"reputation":115,"user_id":14807658,"display_name":"stkUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701272903,"creation_date":1625422764,"question_id":68247620,"body_markdown":"I am having a groovy script in which multiple threads tries to write to same associative map declared as :     def array = [:]. Is put and get a thread safe here?I did not find much info regarding this. If it is not then what can I use?Java concurrentHashMap?","title":"Are groovy associative arrays thread safe?","body":"<p>I am having a groovy script in which multiple threads tries to write to same associative map declared as :     def array = [:]. Is put and get a thread safe here?I did not find much info regarding this. If it is not then what can I use?Java concurrentHashMap?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1701272838,"post_id":77572613,"comment_id":136755778,"body_markdown":"You&#39;re calling `StyleManager.getCurrentStyle()` in one line, and `styleManager.getCurrentStyle()` in the next line. You haven&#39;t shown where the `styleManager` variable is being declared, but I&#39;m pretty sure you just need to change the first call to match the second - so that you&#39;re calling `getCurrentStyle()` on an *instance* of the class instead of on the class itself.","body":"You&#39;re calling <code>StyleManager.getCurrentStyle()</code> in one line, and <code>styleManager.getCurrentStyle()</code> in the next line. You haven&#39;t shown where the <code>styleManager</code> variable is being declared, but I&#39;m pretty sure you just need to change the first call to match the second - so that you&#39;re calling <code>getCurrentStyle()</code> on an <i>instance</i> of the class instead of on the class itself."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1701272865,"post_id":77572613,"comment_id":136755784,"body_markdown":"Note that this really doesn&#39;t have anything to do with artificial intelligence. It&#39;s just standard Java static vs instance method handling.","body":"Note that this really doesn&#39;t have anything to do with artificial intelligence. It&#39;s just standard Java static vs instance method handling."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1701274235,"post_id":77572613,"comment_id":136756087,"body_markdown":"You are in the static context thus you can&#39;t call a non-static method of the non-static class. Read above-mentioned question to find a reasons bihind this.","body":"You are in the static context thus you can&#39;t call a non-static method of the non-static class. Read above-mentioned question to find a reasons bihind this."}],"owner":{"account_id":25294494,"reputation":1,"user_id":19119892,"display_name":"Snaks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701273836,"answer_count":0,"score":-1,"last_activity_date":1701272883,"creation_date":1701272679,"question_id":77572613,"body_markdown":"I have a Style manager class and I use it in another file, but when I use the method, it shows an error `Non-static method &#39;getCurrentStyle()&#39; cannot be referenced from a static context`, but in the StyleManager itself, all variables are not static (error when calling StyleManager.getCurrentStyle())\r\n\r\nStyle Manager:\r\n\r\n```\r\npublic class StyleManager {\r\n    public List&lt;Style&gt; styles = new ArrayList&lt;&gt;();\r\n    private Style currentStyle = null;\r\n\r\n    public void init() {\r\n        styles.addAll(Arrays.asList(\r\n                        new Style(&quot;Манго&quot;, HexColor.toColor(&quot;#FCFC36&quot;), HexColor.toColor(&quot;#5D00B2&quot;)),\r\n                        new Style(&quot;Виолет&quot;, HexColor.toColor(&quot;#F4ECFF&quot;), HexColor.toColor(&quot;#765AA5&quot;)),\r\n                        new Style(&quot;Разно цветный&quot;, HexColor.toColor(&quot;#000000&quot;), HexColor.toColor(&quot;#FFFFFF&quot;)),\r\n                        new Style(&quot;Варм&quot;, HexColor.toColor(&quot;#FFC854&quot;), HexColor.toColor(&quot;#4288FF&quot;)),\r\n                        new Style(&quot;Феникс&quot;, HexColor.toColor(&quot;#FFC300&quot;), HexColor.toColor(&quot;#FF5800&quot;)),\r\n                        new Style(&quot;Конфетный&quot;, HexColor.toColor(&quot;#76ACD7&quot;), HexColor.toColor(&quot;#F15FE9&quot;)),\r\n                        new Style(&quot;Кровавый&quot;, HexColor.toColor(&quot;#FD3A3A&quot;), HexColor.toColor(&quot;#3A3A3A&quot;)),\r\n                        new Style(&quot;Полиция&quot;, HexColor.toColor(&quot;#FF6347&quot;), HexColor.toColor(&quot;#0044FF&quot;)),\r\n                        new Style(&quot;Щилд&quot;, HexColor.toColor(&quot;#373b44&quot;), HexColor.toColor(&quot;#4286f4&quot;)),\r\n                        new Style(&quot;Свой&quot;, HexColor.toColor(&quot;#765AA5&quot;), HexColor.toColor(&quot;#F4ECFF&quot;))\r\n                )\r\n        );\r\n        currentStyle = styles.get(0);\r\n    }\r\n\r\n    public static Color astolfo(float yDist, float yTotal, float saturation, float speedt) {\r\n        float speed = 1800f;\r\n        float hue = (System.currentTimeMillis() % (int) speed) + (yTotal - yDist) * speedt;\r\n        while (hue &gt; speed) {\r\n            hue -= speed;\r\n        }\r\n        hue /= speed;\r\n        if (hue &gt; 0.5) {\r\n            hue = 0.5F - (hue - 0.5f);\r\n        }\r\n        hue += 0.5F;\r\n        return Color.getHSBColor(hue, saturation, 1F);\r\n    }\r\n\r\n    public void setCurrentStyle(Style style) {\r\n        currentStyle = style;\r\n    }\r\n\r\n    public Style getCurrentStyle() {\r\n        return currentStyle;\r\n    }\r\n\r\n    public static class HexColor {\r\n        public static int toColor(String hexColor) {\r\n            int argb = Integer.parseInt(hexColor.substring(1), 16);\r\n            return reAlphaInt(argb, 255);\r\n        }\r\n\r\n        public static int reAlphaInt(final int color, final int alpha) {\r\n            return (MathHelper.clamp(alpha, 0, 255) &lt;&lt; 24) | (color &amp; 16777215);\r\n        }\r\n    }\r\n```\r\n\r\nFunction:\r\n\r\n```\r\n List&lt;Function&gt; sortedFunctions = new ArrayList&lt;&gt;();\r\n//        TimerUtil delay = new TimerUtil();\r\n        TimerUtil delay = new TimerUtil();\r\n\r\n        float x = 5;\r\n        float y = 25;\r\n        float height = 10;\r\n        float yOffset = 0;\r\n\r\n        final StyledFont font = Fonts.gilroyBold[fontSize.getValue().intValue()];\r\n        StyleManager styleManager = Managment.STYLE_MANAGER;\r\n\r\n        if (delay.hasTimeElapsed(10000)) {\r\n            sortedFunctions = HudUtil.getSorted(font);\r\n            delay.reset();\r\n        }\r\n\r\n        float gradientForce = 1;\r\n        int fontOffset = (fontSize.getValue().intValue() &gt; 14 ? -14 + fontSize.getValue().intValue()\r\n                - (fontSize.getValue().intValue() &gt; 14 ? 1 : 0) : 0);\r\n        int firstColor;\r\n        int secondColor;\r\n\r\n        if (glowing) {\r\n            for (Function function : sortedFunctions) {\r\n//                if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\r\n//                    continue;\r\n//                }\r\n\r\n                function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\r\n\r\n                if (function.animation &gt;= 0.01) {\r\n                    float width = font.getWidth(function.name) + 5;\r\n                    firstColor = StyleManager.getCurrentStyle()\r\n                            .getColor((int) ((yOffset + height * function.animation) * gradientForce));\r\n                    secondColor = styleManager.getCurrentStyle()\r\n                            .getColor((int) (yOffset * gradientForce));\r\n\r\n                    RenderSystem.pushMatrix();\r\n                    RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\r\n                    RenderSystem.scalef(1, function.animation, 1);\r\n                    RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\r\n                    RenderUtil.Render2D.drawShadow(x, y + yOffset, width, height, 10, firstColor, secondColor);\r\n                    RenderSystem.popMatrix();\r\n\r\n                    yOffset += height * function.animation;\r\n                }\r\n            }\r\n            yOffset = 0;\r\n        }\r\n        for (Function function : sortedFunctions) {\r\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\r\n//                continue;\r\n//            }\r\n\r\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\r\n\r\n            if (function.animation &gt;= 0.01) {\r\n                float width = font.getWidth(function.name) + 5;\r\n                secondColor = styleManager.getCurrentStyle()\r\n                        .getColor((int) (yOffset * gradientForce));\r\n\r\n                RenderSystem.pushMatrix();\r\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\r\n                RenderSystem.scalef(1, function.animation, 1);\r\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\r\n                RenderUtil.Render2D.drawRect(x, y + yOffset, width, height, ColorUtil.rgba(21, 21, 21, 255));\r\n                font.drawString(matrixStack, function.name, x + 3,\r\n                        y + yOffset + font.getFontHeight() / 2f - fontOffset - 1, secondColor);\r\n                RenderSystem.popMatrix();\r\n\r\n                yOffset += height * function.animation;\r\n            }\r\n        }\r\n\r\n\r\n        yOffset = 0;\r\n        for (Function function : sortedFunctions) {\r\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\r\n//                continue;\r\n//            }\r\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\r\n            if (function.animation &gt;= 0.01) {\r\n                float width = font.getWidth(function.name) + 4;\r\n                firstColor = StyleManager.getCurrentStyle().getColor((int) ((yOffset + height * function.animation) * gradientForce));\r\n                secondColor = styleManager.getCurrentStyle().getColor((int) (yOffset * gradientForce));\r\n                RenderSystem.pushMatrix();\r\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\r\n                RenderSystem.scalef(1, function.animation, 1);\r\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\r\n                RenderUtil.Render2D.drawShadow(x, y + yOffset, 1, height, 8, firstColor, secondColor);\r\n                RenderUtil.Render2D.drawVertical(x, y + yOffset, 1, height, firstColor, secondColor);\r\n                RenderSystem.popMatrix();\r\n\r\n                yOffset += height * function.animation;\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nnone of the methods helped me (I&#39;m a beginner)","title":"Non-static method &#39;getCurrentStyle()&#39; cannot be referenced from a static context (but method is non static :( )","body":"<p>I have a Style manager class and I use it in another file, but when I use the method, it shows an error <code>Non-static method 'getCurrentStyle()' cannot be referenced from a static context</code>, but in the StyleManager itself, all variables are not static (error when calling StyleManager.getCurrentStyle())</p>\n<p>Style Manager:</p>\n<pre><code>public class StyleManager {\n    public List&lt;Style&gt; styles = new ArrayList&lt;&gt;();\n    private Style currentStyle = null;\n\n    public void init() {\n        styles.addAll(Arrays.asList(\n                        new Style(&quot;Манго&quot;, HexColor.toColor(&quot;#FCFC36&quot;), HexColor.toColor(&quot;#5D00B2&quot;)),\n                        new Style(&quot;Виолет&quot;, HexColor.toColor(&quot;#F4ECFF&quot;), HexColor.toColor(&quot;#765AA5&quot;)),\n                        new Style(&quot;Разно цветный&quot;, HexColor.toColor(&quot;#000000&quot;), HexColor.toColor(&quot;#FFFFFF&quot;)),\n                        new Style(&quot;Варм&quot;, HexColor.toColor(&quot;#FFC854&quot;), HexColor.toColor(&quot;#4288FF&quot;)),\n                        new Style(&quot;Феникс&quot;, HexColor.toColor(&quot;#FFC300&quot;), HexColor.toColor(&quot;#FF5800&quot;)),\n                        new Style(&quot;Конфетный&quot;, HexColor.toColor(&quot;#76ACD7&quot;), HexColor.toColor(&quot;#F15FE9&quot;)),\n                        new Style(&quot;Кровавый&quot;, HexColor.toColor(&quot;#FD3A3A&quot;), HexColor.toColor(&quot;#3A3A3A&quot;)),\n                        new Style(&quot;Полиция&quot;, HexColor.toColor(&quot;#FF6347&quot;), HexColor.toColor(&quot;#0044FF&quot;)),\n                        new Style(&quot;Щилд&quot;, HexColor.toColor(&quot;#373b44&quot;), HexColor.toColor(&quot;#4286f4&quot;)),\n                        new Style(&quot;Свой&quot;, HexColor.toColor(&quot;#765AA5&quot;), HexColor.toColor(&quot;#F4ECFF&quot;))\n                )\n        );\n        currentStyle = styles.get(0);\n    }\n\n    public static Color astolfo(float yDist, float yTotal, float saturation, float speedt) {\n        float speed = 1800f;\n        float hue = (System.currentTimeMillis() % (int) speed) + (yTotal - yDist) * speedt;\n        while (hue &gt; speed) {\n            hue -= speed;\n        }\n        hue /= speed;\n        if (hue &gt; 0.5) {\n            hue = 0.5F - (hue - 0.5f);\n        }\n        hue += 0.5F;\n        return Color.getHSBColor(hue, saturation, 1F);\n    }\n\n    public void setCurrentStyle(Style style) {\n        currentStyle = style;\n    }\n\n    public Style getCurrentStyle() {\n        return currentStyle;\n    }\n\n    public static class HexColor {\n        public static int toColor(String hexColor) {\n            int argb = Integer.parseInt(hexColor.substring(1), 16);\n            return reAlphaInt(argb, 255);\n        }\n\n        public static int reAlphaInt(final int color, final int alpha) {\n            return (MathHelper.clamp(alpha, 0, 255) &lt;&lt; 24) | (color &amp; 16777215);\n        }\n    }\n</code></pre>\n<p>Function:</p>\n<pre><code> List&lt;Function&gt; sortedFunctions = new ArrayList&lt;&gt;();\n//        TimerUtil delay = new TimerUtil();\n        TimerUtil delay = new TimerUtil();\n\n        float x = 5;\n        float y = 25;\n        float height = 10;\n        float yOffset = 0;\n\n        final StyledFont font = Fonts.gilroyBold[fontSize.getValue().intValue()];\n        StyleManager styleManager = Managment.STYLE_MANAGER;\n\n        if (delay.hasTimeElapsed(10000)) {\n            sortedFunctions = HudUtil.getSorted(font);\n            delay.reset();\n        }\n\n        float gradientForce = 1;\n        int fontOffset = (fontSize.getValue().intValue() &gt; 14 ? -14 + fontSize.getValue().intValue()\n                - (fontSize.getValue().intValue() &gt; 14 ? 1 : 0) : 0);\n        int firstColor;\n        int secondColor;\n\n        if (glowing) {\n            for (Function function : sortedFunctions) {\n//                if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\n//                    continue;\n//                }\n\n                function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\n\n                if (function.animation &gt;= 0.01) {\n                    float width = font.getWidth(function.name) + 5;\n                    firstColor = StyleManager.getCurrentStyle()\n                            .getColor((int) ((yOffset + height * function.animation) * gradientForce));\n                    secondColor = styleManager.getCurrentStyle()\n                            .getColor((int) (yOffset * gradientForce));\n\n                    RenderSystem.pushMatrix();\n                    RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\n                    RenderSystem.scalef(1, function.animation, 1);\n                    RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\n                    RenderUtil.Render2D.drawShadow(x, y + yOffset, width, height, 10, firstColor, secondColor);\n                    RenderSystem.popMatrix();\n\n                    yOffset += height * function.animation;\n                }\n            }\n            yOffset = 0;\n        }\n        for (Function function : sortedFunctions) {\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\n//                continue;\n//            }\n\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\n\n            if (function.animation &gt;= 0.01) {\n                float width = font.getWidth(function.name) + 5;\n                secondColor = styleManager.getCurrentStyle()\n                        .getColor((int) (yOffset * gradientForce));\n\n                RenderSystem.pushMatrix();\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\n                RenderSystem.scalef(1, function.animation, 1);\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\n                RenderUtil.Render2D.drawRect(x, y + yOffset, width, height, ColorUtil.rgba(21, 21, 21, 255));\n                font.drawString(matrixStack, function.name, x + 3,\n                        y + yOffset + font.getFontHeight() / 2f - fontOffset - 1, secondColor);\n                RenderSystem.popMatrix();\n\n                yOffset += height * function.animation;\n            }\n        }\n\n\n        yOffset = 0;\n        for (Function function : sortedFunctions) {\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\n//                continue;\n//            }\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\n            if (function.animation &gt;= 0.01) {\n                float width = font.getWidth(function.name) + 4;\n                firstColor = StyleManager.getCurrentStyle().getColor((int) ((yOffset + height * function.animation) * gradientForce));\n                secondColor = styleManager.getCurrentStyle().getColor((int) (yOffset * gradientForce));\n                RenderSystem.pushMatrix();\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\n                RenderSystem.scalef(1, function.animation, 1);\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\n                RenderUtil.Render2D.drawShadow(x, y + yOffset, 1, height, 8, firstColor, secondColor);\n                RenderUtil.Render2D.drawVertical(x, y + yOffset, 1, height, firstColor, secondColor);\n                RenderSystem.popMatrix();\n\n                yOffset += height * function.animation;\n            }\n        }\n\n    }\n</code></pre>\n<p>none of the methods helped me (I'm a beginner)</p>\n"},{"tags":["java","hibernate","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":1,"creation_date":1535141559,"post_id":52010963,"comment_id":90973222,"body_markdown":"I cannot use UUID. This primary key is set by a field which comes in a POST request.","body":"I cannot use UUID. This primary key is set by a field which comes in a POST request."},{"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"score":0,"creation_date":1535142356,"post_id":52010963,"comment_id":90973559,"body_markdown":"@MatheusCirillo ok, try only add @GeneratedValue(strategy=GenerationType.AUTO) for private String myId;","body":"@MatheusCirillo ok, try only add @GeneratedValue(strategy=GenerationType.AUTO) for private String myId;"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1535142458,"post_id":52010963,"comment_id":90973603,"body_markdown":"Unfortunately, other errors raises.\n`&quot;Unknown integral data type for ids : java.lang.String; nested exception is org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String&quot;`","body":"Unfortunately, other errors raises. <code>&quot;Unknown integral data type for ids : java.lang.String; nested exception is org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String&quot;</code>"},{"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"score":0,"creation_date":1535142903,"post_id":52010963,"comment_id":90973751,"body_markdown":"@MatheusCirillo my question, how do you insert record ? do you use `entityManager.persist` ?","body":"@MatheusCirillo my question, how do you insert record ? do you use <code>entityManager.persist</code> ?"},{"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"score":0,"creation_date":1535143579,"post_id":52010963,"comment_id":90973980,"body_markdown":"Make sure you send `myId` as not null","body":"Make sure you send <code>myId</code> as not null"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1535144290,"post_id":52010963,"comment_id":90974220,"body_markdown":"I&#39;m using Spring Data JPA. Question updated describing how I persist data.","body":"I&#39;m using Spring Data JPA. Question updated describing how I persist data."},{"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"score":0,"creation_date":1535144736,"post_id":52010963,"comment_id":90974391,"body_markdown":"change to `entityManager.persist(myClass)` and make sure `myId` is not null, it should works","body":"change to <code>entityManager.persist(myClass)</code> and make sure <code>myId</code> is not null, it should works"}],"tags":[],"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1535143442,"creation_date":1535140688,"answer_id":52010963,"question_id":52010776,"body_markdown":"try this approach\r\n\r\n    @Entity\r\n    public class MyClass{\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator = “UUID”)\r\n    \t@GenericGenerator(\r\n    \t\tname = “UUID”,\r\n    \t\tstrategy = “org.hibernate.id.UUIDGenerator”,\r\n    \t)\r\n    \t@Column(name = “id”, updatable = false, nullable = false)\r\n    \tprivate UUID id;\r\n    \t\r\n    \t…\r\n    }\r\n\r\n\r\n======================================\r\n\r\nI invoke like this and in my envirenment all work fine:\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n    \r\n    @PostMapping(&quot;&quot;)\r\n    @Transactional\r\n    public void add(@RequestBody MyClass myClass){\r\n            entityManager.persist(myClass);\r\n    }\r\n\r\n\r\nand requst send by post with body:\r\n\r\n    {\r\n    \t&quot;myId&quot; : &quot;213b2bbb1&quot;\r\n    }\r\n\r\n","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>try this approach</p>\n\n<pre><code>@Entity\npublic class MyClass{\n\n    @Id\n    @GeneratedValue(generator = “UUID”)\n    @GenericGenerator(\n        name = “UUID”,\n        strategy = “org.hibernate.id.UUIDGenerator”,\n    )\n    @Column(name = “id”, updatable = false, nullable = false)\n    private UUID id;\n\n    …\n}\n</code></pre>\n\n<p>======================================</p>\n\n<p>I invoke like this and in my envirenment all work fine:</p>\n\n<pre><code>@Autowired\nprivate EntityManager entityManager;\n\n@PostMapping(\"\")\n@Transactional\npublic void add(@RequestBody MyClass myClass){\n        entityManager.persist(myClass);\n}\n</code></pre>\n\n<p>and requst send by post with body:</p>\n\n<pre><code>{\n    \"myId\" : \"213b2bbb1\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1641035101,"post_id":70547851,"comment_id":124709799,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70547851/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12611107,"reputation":11,"user_id":9170212,"display_name":"kebrom woldegebriel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641027428,"creation_date":1641027428,"answer_id":70547851,"question_id":52010776,"body_markdown":"I faced this problem, turns out I was missing the setter for the id field. Make sure the setter method for the ID is defined in the entity class. ","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>I faced this problem, turns out I was missing the setter for the id field. Make sure the setter method for the ID is defined in the entity class.</p>\n"},{"tags":[],"owner":{"account_id":20145147,"reputation":302,"user_id":14773854,"display_name":"user14773854"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701271814,"creation_date":1701271814,"answer_id":77572509,"question_id":52010776,"body_markdown":"Based on the helpful answer by @PiotrRogowski, for numeric primary keys, for example those mapped to `java.lang.Long`:\r\n```java\r\n@Entity\r\n@Table(name = &quot;myclass&quot;)\r\npublic class MyClass {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;Incremental&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;Incremental&quot;,\r\n    \tstrategy = &quot;org.hibernate.id.IncrementGenerator&quot;,\r\n    )\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false, insertable = false, unique = true)\r\n    private Long id;\r\n    \t\r\n    …\r\n}\r\n```\r\n&lt;hr&gt;&lt;/hr&gt;\r\nYou can invoke it this way:\r\n\r\n```java\r\n@Autowired\r\nprivate EntityManager entityManager;\r\n    \r\n@PostMapping(&quot;&quot;)\r\n@Transactional\r\npublic void add(@RequestBody MyClass myClass) {\r\n    entityManager.persist(myClass);\r\n}\r\n```","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>Based on the helpful answer by @PiotrRogowski, for numeric primary keys, for example those mapped to <code>java.lang.Long</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;myclass&quot;)\npublic class MyClass {\n    @Id\n    @GeneratedValue(generator = &quot;Incremental&quot;)\n    @GenericGenerator(\n        name = &quot;Incremental&quot;,\n        strategy = &quot;org.hibernate.id.IncrementGenerator&quot;,\n    )\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false, insertable = false, unique = true)\n    private Long id;\n        \n    …\n}\n</code></pre>\n<hr>\nYou can invoke it this way:\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate EntityManager entityManager;\n    \n@PostMapping(&quot;&quot;)\n@Transactional\npublic void add(@RequestBody MyClass myClass) {\n    entityManager.persist(myClass);\n}\n</code></pre>\n"}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18089,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52010963,"answer_count":3,"score":7,"last_activity_date":1701271814,"creation_date":1535139627,"question_id":52010776,"body_markdown":"Already read lots of questions about the same issue, but I still not be able to solve this problem.\r\n\r\nI need to have a `String` primary key on my database.\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class MyClass {\r\n    \r\n    \t@Id\r\n    \tprivate String myId;\r\n    \tprivate String name;\r\n    \t\r\n    \t// getters and setters..\r\n    \r\n    }\r\n\r\nThe problem is that, if I use `String` type in a `@Id` annotated field, Hibernate throws an exception when I try to save the object.\r\n\r\n    ids for this class must be manually assigned before calling \r\n\r\nAnd yes, I&#39;m setting a value to the field.\r\n\r\nWorkarounds I found:\r\n\r\n 1. Add `@GeneratedValue` annotation to the field - not worked\r\n 2. Change the field type to `Integer` - it&#39;s not feasible for me\r\n 3. Add a constructor that receives `myId` as parameter `public MyClass(String myId){ ... }` - not worked\r\n 4. Use UUID - i can&#39;t, cause this id is set by a field that comes in with a POST request.\r\n\r\nNone of these workarounds worked for me.\r\n\r\n**UPDATE**\r\n\r\nI&#39;m using Spring Boot and Spring Data JPA.\r\n\r\nHow do I insert:\r\n\r\nI have an `@PostMapping` annotated method which handles POST request and call a service that do some business logic and call my repository for persisting.\r\n\r\nThe request I post:\r\n\r\n    {\r\n    \t&quot;myId&quot;: &quot;myId&quot;,\r\n    \t&quot;name&quot;: &quot;myName&quot;\r\n    }\r\n\r\n**MyService.java**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class MyService {\r\n    \r\n    \t@Autowired\r\n    \tprivate MyRepository myRepository;\r\n    \r\n    \tpublic MyClass save(MyClass myClass) {\r\n    \t\treturn myRepository.save(myClass); // save() should persist my object into the database\r\n    \t}\r\n    }\r\n\r\n","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>Already read lots of questions about the same issue, but I still not be able to solve this problem.</p>\n\n<p>I need to have a <code>String</code> primary key on my database.</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class MyClass {\n\n    @Id\n    private String myId;\n    private String name;\n\n    // getters and setters..\n\n}\n</code></pre>\n\n<p>The problem is that, if I use <code>String</code> type in a <code>@Id</code> annotated field, Hibernate throws an exception when I try to save the object.</p>\n\n<pre><code>ids for this class must be manually assigned before calling \n</code></pre>\n\n<p>And yes, I'm setting a value to the field.</p>\n\n<p>Workarounds I found:</p>\n\n<ol>\n<li>Add <code>@GeneratedValue</code> annotation to the field - not worked</li>\n<li>Change the field type to <code>Integer</code> - it's not feasible for me</li>\n<li>Add a constructor that receives <code>myId</code> as parameter <code>public MyClass(String myId){ ... }</code> - not worked</li>\n<li>Use UUID - i can't, cause this id is set by a field that comes in with a POST request.</li>\n</ol>\n\n<p>None of these workarounds worked for me.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm using Spring Boot and Spring Data JPA.</p>\n\n<p>How do I insert:</p>\n\n<p>I have an <code>@PostMapping</code> annotated method which handles POST request and call a service that do some business logic and call my repository for persisting.</p>\n\n<p>The request I post:</p>\n\n<pre><code>{\n    \"myId\": \"myId\",\n    \"name\": \"myName\"\n}\n</code></pre>\n\n<p><strong>MyService.java</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MyService {\n\n    @Autowired\n    private MyRepository myRepository;\n\n    public MyClass save(MyClass myClass) {\n        return myRepository.save(myClass); // save() should persist my object into the database\n    }\n}\n</code></pre>\n"},{"tags":["java","registry","windows-10-desktop"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701268557,"post_id":77572042,"comment_id":136754783,"body_markdown":"Why do you need that registry key? Which installer, provider, architecture, JRE/JDK and version are you using? If it is Java 10, then why are you using an old and end of life version of Java (in September 2018) instead of a current one? Java 10 was one of not Long Term Support releases, it was supported for a few months only.","body":"Why do you need that registry key? Which installer, provider, architecture, JRE/JDK and version are you using? If it is Java 10, then why are you using an old and end of life version of Java (in September 2018) instead of a current one? Java 10 was one of not Long Term Support releases, it was supported for a few months only."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701271712,"post_id":77572042,"comment_id":136755550,"body_markdown":"Which Java installer are you using? For example the Eclipse Adoptium Temurin installer will only create registry keys if you explicitly enable it in the installer (though I&#39;m not sure if it creates _this_ registry key).","body":"Which Java installer are you using? For example the Eclipse Adoptium Temurin installer will only create registry keys if you explicitly enable it in the installer (though I&#39;m not sure if it creates <i>this</i> registry key)."},{"owner":{"account_id":30023163,"reputation":1,"user_id":23008060,"display_name":"orgtr"},"score":0,"creation_date":1701369571,"post_id":77572042,"comment_id":136770237,"body_markdown":"Thank you for the answer, I&#39;ll search for the newest version at first. The key is demanded by an old application I am using, which utilises Java and this application is yelling for the reg key.","body":"Thank you for the answer, I&#39;ll search for the newest version at first. The key is demanded by an old application I am using, which utilises Java and this application is yelling for the reg key."}],"owner":{"account_id":30023163,"reputation":1,"user_id":23008060,"display_name":"orgtr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701271644,"creation_date":1701268095,"question_id":77572042,"body_markdown":"[enter image description here](https://i.stack.imgur.com/G2JcP.jpg)\r\n\r\nThe key is required and the registry does not contain it after the newest Java install. Could anyone advise how to edit the registry to update this path?\r\n\r\nUninstalling and reinstalling Java 10 brought no expected result in registry.","title":"Registry key not found after Java10 installation on Win10","body":"<p><a href=\"https://i.stack.imgur.com/G2JcP.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The key is required and the registry does not contain it after the newest Java install. Could anyone advise how to edit the registry to update this path?</p>\n<p>Uninstalling and reinstalling Java 10 brought no expected result in registry.</p>\n"},{"tags":["java","multithreading","apache-camel"],"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701271611,"creation_date":1701268654,"question_id":77572104,"body_markdown":"I&#39;m having issues migrating to Camel 3.21 from the 3.2 version.\r\n\r\nMy workflow looks like this:\r\n\r\nread an XML file from FS -&gt; parse it and **split** it into pieces -&gt; **aggregate** those pieces into chunks of certain size -&gt; process chunks one by one\r\n\r\nOne of the requirements is that the next file must not be read while the previous one hasn&#39;t been completely processed.\r\n\r\nWith the old Camel version everything worked well, but with 3.21 (I guess the breaking changes were introduced in 3.11) the next file is being read while the previous one is still being processed.\r\n\r\nI found that now there are two different threads, one performs the actual aggregation, and the other one processes the aggregated chunks. That lets the first thread go ahead and read files regardless of what the second thread does.\r\n\r\nI tried to follow the instructions from Camel docs:\r\n&gt; In order to achieve synchronous aggregation, use an instance of **SynchronousExecutorService** for the executorService option. The aggregated output will execute in the same thread that called the aggregator.\r\n\r\nNow I have the only thread gathering the chunks and processing them (bingo!), but the issue is that it doesn&#39;t get back to compiling the second chunk when the processing of the first one is completed. It just hangs and does nothing.\r\n\r\nMy guess is that this change in 3.11 is what causes the issue:\r\n&gt; The aggregate EIP will now always use a worker thread pool for processing outgoing messages. Previously a worker pool was only created when parallelProcessing=true. When having parallelProcessing=false then a single-threaded worker pool is created and used by the aggregator.\r\nCamels routing engine works better when a dedicated worker pool that eliminates a **hack** that otherwise was needed in other EIPs that was affected if using the aggregator in some special configurations.\r\n\r\nAny ideas on how to solve that are highly appreciated!","title":"How to set up a workflow using Split, Aggregate and a single thread (3.11 migration issue)","body":"<p>I'm having issues migrating to Camel 3.21 from the 3.2 version.</p>\n<p>My workflow looks like this:</p>\n<p>read an XML file from FS -&gt; parse it and <strong>split</strong> it into pieces -&gt; <strong>aggregate</strong> those pieces into chunks of certain size -&gt; process chunks one by one</p>\n<p>One of the requirements is that the next file must not be read while the previous one hasn't been completely processed.</p>\n<p>With the old Camel version everything worked well, but with 3.21 (I guess the breaking changes were introduced in 3.11) the next file is being read while the previous one is still being processed.</p>\n<p>I found that now there are two different threads, one performs the actual aggregation, and the other one processes the aggregated chunks. That lets the first thread go ahead and read files regardless of what the second thread does.</p>\n<p>I tried to follow the instructions from Camel docs:</p>\n<blockquote>\n<p>In order to achieve synchronous aggregation, use an instance of <strong>SynchronousExecutorService</strong> for the executorService option. The aggregated output will execute in the same thread that called the aggregator.</p>\n</blockquote>\n<p>Now I have the only thread gathering the chunks and processing them (bingo!), but the issue is that it doesn't get back to compiling the second chunk when the processing of the first one is completed. It just hangs and does nothing.</p>\n<p>My guess is that this change in 3.11 is what causes the issue:</p>\n<blockquote>\n<p>The aggregate EIP will now always use a worker thread pool for processing outgoing messages. Previously a worker pool was only created when parallelProcessing=true. When having parallelProcessing=false then a single-threaded worker pool is created and used by the aggregator.\nCamels routing engine works better when a dedicated worker pool that eliminates a <strong>hack</strong> that otherwise was needed in other EIPs that was affected if using the aggregator in some special configurations.</p>\n</blockquote>\n<p>Any ideas on how to solve that are highly appreciated!</p>\n"},{"tags":["javascript","java","datatables","thymeleaf"],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701271506,"creation_date":1701271506,"question_id":77572474,"body_markdown":"I have a spring boot application and thymeleaf as the fronted engine. I want to render the data with DataTables and not thymeleaf.\r\n\r\nThe problem is the user must have the role of **EDITOR** in order to render the edit/delete form. So if I&#39;m correct I&#39;ll need to pass the authorities of the current user in the response?\r\n\r\nThis code depicts me trying to return the ROLES in the response:\r\n```\r\n@PostMapping(&quot;/data-endpoint&quot;)\r\npublic ResponseEntity&lt;?&gt; getDataForDataTable(\r\n    // ... (existing method parameters)\r\n) {\r\n    // ... (existing method implementation)\r\n\r\n    // Extracting user authorities\r\n    Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\r\n    List&lt;String&gt; authorityStrings = authorities.stream()\r\n        .map(GrantedAuthority::getAuthority)\r\n        .collect(Collectors.toList());\r\n\r\n    // ... (existing code)\r\n\r\n    // Adding authorities to the response\r\n    response.put(&quot;authorities&quot;, authorityStrings);\r\n    response.put(&quot;username&quot;, username);\r\n\r\n    // ... (existing code)\r\n\r\n    return ResponseEntity.ok(response);\r\n}\r\n```\r\nSo in the DataTable initialization this is what I did:\r\n```\r\n{\r\n    &quot;data&quot;: null,\r\n    &quot;render&quot;: function (data, type, row) {\r\n        let authorities = json.authorities || [];\r\n        let hasEditorRole = authorities.includes(&#39;EDITOR&#39;);\r\n        // ... (existing code)\r\n    },\r\n    &quot;orderable&quot;: false\r\n}\r\n```\r\nI&#39;m seeing the error `Uncaught ReferenceError: json is not defined`\r\n\r\nOr is it possible that it would work the same way as in the HTML:\r\n```\r\n&lt;form th:if=&quot;${#lists.contains(roles, &#39;EDITOR&#39;)}&quot;  style=&quot;display:inline !important;&quot; th:action=&quot;@{/touchPoint/delete/}&quot; method=&quot;post&quot; onsubmit=&quot;return confirm(&#39;Do you really want to delete this Assignment? This action cannot be reversed.&#39;);&quot;&gt;\r\n                                                            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;*{TouchPointID}&quot;/&gt;\r\n                                                            &lt;button  class=&quot;form-command btn btn-danger btn-sm&quot; type=&quot;submit&quot; &gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n                                                        &lt;/form&gt;\r\n```\r\nWould it work the same if I were to render the form above as is in the DataTable column? I have no data in the table so I can&#39;t test","title":"How to conditionally render a form based on the current user&#39;s role with DataTables?","body":"<p>I have a spring boot application and thymeleaf as the fronted engine. I want to render the data with DataTables and not thymeleaf.</p>\n<p>The problem is the user must have the role of <strong>EDITOR</strong> in order to render the edit/delete form. So if I'm correct I'll need to pass the authorities of the current user in the response?</p>\n<p>This code depicts me trying to return the ROLES in the response:</p>\n<pre><code>@PostMapping(&quot;/data-endpoint&quot;)\npublic ResponseEntity&lt;?&gt; getDataForDataTable(\n    // ... (existing method parameters)\n) {\n    // ... (existing method implementation)\n\n    // Extracting user authorities\n    Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\n    List&lt;String&gt; authorityStrings = authorities.stream()\n        .map(GrantedAuthority::getAuthority)\n        .collect(Collectors.toList());\n\n    // ... (existing code)\n\n    // Adding authorities to the response\n    response.put(&quot;authorities&quot;, authorityStrings);\n    response.put(&quot;username&quot;, username);\n\n    // ... (existing code)\n\n    return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>So in the DataTable initialization this is what I did:</p>\n<pre><code>{\n    &quot;data&quot;: null,\n    &quot;render&quot;: function (data, type, row) {\n        let authorities = json.authorities || [];\n        let hasEditorRole = authorities.includes('EDITOR');\n        // ... (existing code)\n    },\n    &quot;orderable&quot;: false\n}\n</code></pre>\n<p>I'm seeing the error <code>Uncaught ReferenceError: json is not defined</code></p>\n<p>Or is it possible that it would work the same way as in the HTML:</p>\n<pre><code>&lt;form th:if=&quot;${#lists.contains(roles, 'EDITOR')}&quot;  style=&quot;display:inline !important;&quot; th:action=&quot;@{/touchPoint/delete/}&quot; method=&quot;post&quot; onsubmit=&quot;return confirm('Do you really want to delete this Assignment? This action cannot be reversed.');&quot;&gt;\n                                                            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;*{TouchPointID}&quot;/&gt;\n                                                            &lt;button  class=&quot;form-command btn btn-danger btn-sm&quot; type=&quot;submit&quot; &gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n                                                        &lt;/form&gt;\n</code></pre>\n<p>Would it work the same if I were to render the form above as is in the DataTable column? I have no data in the table so I can't test</p>\n"},{"tags":["java","android","bluetooth","broadcastreceiver"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701271341,"creation_date":1673807844,"question_id":75127500,"body_markdown":"I&#39;m trying to start the bluetooth sco to be able to record a call through bluetooth headset but every tim i execute the code , it returns disconencted even though bluetooth is on and headsets are connected , any reason why Thank you .\r\n\r\n\r\n * Manifest File\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BROADCAST_STICKY&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;false&quot; /&gt;\r\n```\r\n\r\n * Registering receiver\r\n\r\n```\r\n // register new receiver for bluetooth headset\r\n        IntentFilter intentFilter =  new IntentFilter();\r\n        intentFilter.addAction(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED); // API 14\r\n        registerReceiver(broadcastReceiver,intentFilter);\r\n\r\n        audioManager.setMode(AudioManager.MODE_IN_CALL);\r\n        audioManager.startBluetoothSco();\r\n\r\n        if(audioManager.isBluetoothScoOn()){\r\n            Log.d(&quot;TAG&quot;,&quot;True&quot;);\r\n        } else  {\r\n            Log.d(&quot;TAG&quot;,&quot;False&quot;);\r\n        }\r\n```\r\n\r\n * Receiver code \r\n\r\n```\r\n  private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE,-1);\r\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\r\n                // Start recording audio\r\n                isConnected = true;\r\n                Log.d(&quot;TAG&quot;,&quot;audio connected&quot;);\r\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\r\n                Log.d(&quot;TAG&quot;,&quot;audio Disconnected&quot;);\r\n            } else if (state == AudioManager.SCO_AUDIO_STATE_CONNECTING){\r\n                Log.d(&quot;TAG&quot;,&quot;audio Connecting&quot;);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n  * LOGS\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F4r2R.png","title":"startBluetoothSco always return disconnected","body":"<p>I'm trying to start the bluetooth sco to be able to record a call through bluetooth headset but every tim i execute the code , it returns disconencted even though bluetooth is on and headsets are connected , any reason why Thank you .</p>\n<ul>\n<li>Manifest File</li>\n</ul>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BROADCAST_STICKY&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;false&quot; /&gt;\n</code></pre>\n<ul>\n<li>Registering receiver</li>\n</ul>\n<pre><code> // register new receiver for bluetooth headset\n        IntentFilter intentFilter =  new IntentFilter();\n        intentFilter.addAction(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED); // API 14\n        registerReceiver(broadcastReceiver,intentFilter);\n\n        audioManager.setMode(AudioManager.MODE_IN_CALL);\n        audioManager.startBluetoothSco();\n\n        if(audioManager.isBluetoothScoOn()){\n            Log.d(&quot;TAG&quot;,&quot;True&quot;);\n        } else  {\n            Log.d(&quot;TAG&quot;,&quot;False&quot;);\n        }\n</code></pre>\n<ul>\n<li>Receiver code</li>\n</ul>\n<pre><code>  private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE,-1);\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\n                // Start recording audio\n                isConnected = true;\n                Log.d(&quot;TAG&quot;,&quot;audio connected&quot;);\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\n                Log.d(&quot;TAG&quot;,&quot;audio Disconnected&quot;);\n            } else if (state == AudioManager.SCO_AUDIO_STATE_CONNECTING){\n                Log.d(&quot;TAG&quot;,&quot;audio Connecting&quot;);\n            }\n        }\n    };\n</code></pre>\n<ul>\n<li>LOGS</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/F4r2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F4r2R.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","bean-validation"],"answers":[{"comments":[{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":2,"creation_date":1661077028,"post_id":73406695,"comment_id":129681118,"body_markdown":"by mamking the method public, it worked :) . Thanks","body":"by mamking the method public, it worked :) . Thanks"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1660840938,"creation_date":1660840938,"answer_id":73406695,"question_id":73401711,"body_markdown":"This is not a field that gets validated but a method which is kind of read as a virtual field from that method. \r\n\r\nI think the method has to be declared as public to become accessible for validation\r\n\r\n     @AssertTrue\r\n     public boolean isValid() {\r\n         return key !=null || val !=null;\r\n     }","title":"@AssertTrue giving JSR-303 issue when using inside a nested Object on which @Valid annotation is present","body":"<p>This is not a field that gets validated but a method which is kind of read as a virtual field from that method.</p>\n<p>I think the method has to be declared as public to become accessible for validation</p>\n<pre><code> @AssertTrue\n public boolean isValid() {\n     return key !=null || val !=null;\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":1,"creation_date":1701327888,"post_id":77572417,"comment_id":136762593,"body_markdown":"Better suited as comment to accepted answer, rather than separate answer.","body":"Better suited as comment to accepted answer, rather than separate answer."}],"tags":[],"owner":{"account_id":12469382,"reputation":1,"user_id":9078111,"display_name":"Unbearables"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701271166,"creation_date":1701271166,"answer_id":77572417,"question_id":73401711,"body_markdown":"Also for others who may be wondering, the method name needs to start with `is...`, `has...` or other variations do not work.","title":"@AssertTrue giving JSR-303 issue when using inside a nested Object on which @Valid annotation is present","body":"<p>Also for others who may be wondering, the method name needs to start with <code>is...</code>, <code>has...</code> or other variations do not work.</p>\n"}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73406695,"answer_count":2,"score":3,"last_activity_date":1701271166,"creation_date":1660819610,"question_id":73401711,"body_markdown":"My Custom DTO class is as follows :\r\n\r\n    public class TestDto1 {\r\n\t\r\n\tprivate String key;\r\n\tprivate String val;\r\n\t\r\n\t@AssertTrue\r\n\tprivate boolean isValid() {\r\n\t\treturn key !=null || val !=null;\r\n\t}public class TestDto1 {\r\n\t\r\n\tprivate String key;\r\n\tprivate String val;\r\n\t\r\n\t@AssertTrue\r\n\tprivate boolean isValid() {\r\n\t\treturn key !=null || val !=null;\r\n\t}\r\n\r\nMy Parent DTO class :\r\n\r\n    public class TestDto {\r\n\t\r\n\t\r\n\tprivate String id;\r\n\t\r\n\t@Valid\r\n\tprivate TestDto1 tes;\r\n\r\n\tpublic TestDto1 getTes() {\r\n\t\treturn tes;\r\n\t}\r\n\r\n\tpublic void setTes(TestDto1 tes) {\r\n\t\tthis.tes = tes;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\r\nWhile running the app and hitting api with following JSON getting following error:\r\n\r\n    {\r\n    &quot;id&quot;:&quot;1234&quot;,\r\n    &quot;tes&quot;:{\r\n        \r\n    }\r\n}\r\n\r\n  \r\n\r\n      JSR-303 validated property &#39;tes.valid&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)] with root cause\r\n    \r\n    org.springframework.beans.NotReadablePropertyException: Invalid property &#39;tes.valid&#39; of bean class [com.example.thirdparty.controller.TestDto]: Bean property &#39;tes.valid&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n\r\nPlease let me know what needs to be done here\r\n\r\n","title":"@AssertTrue giving JSR-303 issue when using inside a nested Object on which @Valid annotation is present","body":"<p>My Custom DTO class is as follows :</p>\n<pre><code>public class TestDto1 {\n\nprivate String key;\nprivate String val;\n\n@AssertTrue\nprivate boolean isValid() {\n    return key !=null || val !=null;\n}public class TestDto1 {\n\nprivate String key;\nprivate String val;\n\n@AssertTrue\nprivate boolean isValid() {\n    return key !=null || val !=null;\n}\n</code></pre>\n<p>My Parent DTO class :</p>\n<pre><code>public class TestDto {\n\n\nprivate String id;\n\n@Valid\nprivate TestDto1 tes;\n\npublic TestDto1 getTes() {\n    return tes;\n}\n\npublic void setTes(TestDto1 tes) {\n    this.tes = tes;\n}\n\npublic String getId() {\n    return id;\n</code></pre>\n<p>While running the app and hitting api with following JSON getting following error:</p>\n<pre><code>{\n&quot;id&quot;:&quot;1234&quot;,\n&quot;tes&quot;:{\n    \n}\n</code></pre>\n<p>}</p>\n<pre><code>  JSR-303 validated property 'tes.valid' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)] with root cause\n\norg.springframework.beans.NotReadablePropertyException: Invalid property 'tes.valid' of bean class [com.example.thirdparty.controller.TestDto]: Bean property 'tes.valid' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n</code></pre>\n<p>Please let me know what needs to be done here</p>\n"},{"tags":["java","spring-boot","swagger","api-gateway"],"comments":[{"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"score":1,"creation_date":1654116422,"post_id":71876501,"comment_id":128017962,"body_markdown":"Hi, I am facing the same issue. Were you able to solve it, and if yes, how? Thnx","body":"Hi, I am facing the same issue. Were you able to solve it, and if yes, how? Thnx"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660827339,"post_id":73359696,"comment_id":129628487,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73359696/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1701271112,"creation_date":1660559142,"answer_id":73359696,"question_id":71876501,"body_markdown":"You can add this config in the yaml file:\r\n\r\n    springdoc:\r\n      api-docs:\r\n        enabled: true\r\n      swagger-ui:\r\n        config-url: v3/api-docs/swagger-config\r\n        url: /v3/api-docs\r\n        urls:\r\n          - name: test\r\n            url: /v3/api-docs/test\r\n\r\n","title":"API Gateway doesn&#39;t aggregate microservices swagger docs Spring boot","body":"<p>You can add this config in the yaml file:</p>\n<pre><code>springdoc:\n  api-docs:\n    enabled: true\n  swagger-ui:\n    config-url: v3/api-docs/swagger-config\n    url: /v3/api-docs\n    urls:\n      - name: test\n        url: /v3/api-docs/test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672081972,"creation_date":1672081972,"answer_id":74923329,"question_id":71876501,"body_markdown":"I solved with this `application.yml`:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: openapi\r\n          uri: http://localhost:${server.port}\r\n          predicates:\r\n            - Path=/v3/api-docs/**\r\n          filters:\r\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\r\n        - id: characters-service\r\n          uri: lb://characters-service\r\n          predicates:\r\n            - Path=/characters-service/**\r\n          filters:\r\n            - RewritePath=/characters-service/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n\r\nspringdoc:\r\n  enable-native-support: true\r\n  api-docs:\r\n    groups:\r\n      enabled: true\r\n    enabled: true\r\n  group-configs:\r\n    - group: api-gateway\r\n      packages-to-scan:\r\n        - dev.kambei.apigateway\r\n      display-name: API Gateway\r\n    - group: characters-service\r\n      paths-to-match:\r\n        - /characters-service/**\r\n      display-name: Characters Service\r\n  swagger-ui:\r\n    config-url: /v3/api-docs/swagger-config\r\n    url: /v3/api-docs\r\n    urls:\r\n      - url: /v3/api-docs\r\n        name: API Gateway\r\n      - url: /characters-service/v3/api-docs\r\n        name: Characters Service\r\n```","title":"API Gateway doesn&#39;t aggregate microservices swagger docs Spring boot","body":"<p>I solved with this <code>application.yml</code>:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: openapi\n          uri: http://localhost:${server.port}\n          predicates:\n            - Path=/v3/api-docs/**\n          filters:\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\n        - id: characters-service\n          uri: lb://characters-service\n          predicates:\n            - Path=/characters-service/**\n          filters:\n            - RewritePath=/characters-service/(?&lt;path&gt;.*), /$\\{path}\n\n\nspringdoc:\n  enable-native-support: true\n  api-docs:\n    groups:\n      enabled: true\n    enabled: true\n  group-configs:\n    - group: api-gateway\n      packages-to-scan:\n        - dev.kambei.apigateway\n      display-name: API Gateway\n    - group: characters-service\n      paths-to-match:\n        - /characters-service/**\n      display-name: Characters Service\n  swagger-ui:\n    config-url: /v3/api-docs/swagger-config\n    url: /v3/api-docs\n    urls:\n      - url: /v3/api-docs\n        name: API Gateway\n      - url: /characters-service/v3/api-docs\n        name: Characters Service\n</code></pre>\n"}],"owner":{"account_id":24940076,"reputation":31,"user_id":18806091,"display_name":"George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3006,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701271112,"creation_date":1649963088,"question_id":71876501,"body_markdown":"Pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nSwaggerConfig.java:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n\r\n    public class SwaggerConfig {\r\n\r\n    private final RouteDefinitionLocator locator;\r\n\r\n    @Bean\r\n    public List&lt;GroupedOpenApi&gt; apis() {\r\n        List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\r\n        List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\r\n        definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\r\n            String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\r\n            GroupedOpenApi api = GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).group(name).build();\r\n            groups.add(api);\r\n        });\r\n        return groups;\r\n    }\r\n\r\n    }\r\n\r\napplication.yml:\r\n\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          lower-case-service-id: true\r\n      routes:\r\n        - id: swagger\r\n          uri: http://localhost:${server.port}\r\n          predicates:\r\n            - Path=/v3/api-docs/**\r\n          filters:\r\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\r\n        - id: test-service\r\n          uri: lb://test-service\r\n          predicates:\r\n            - Path=/testservice/**\r\n          filters:\r\n            - RewritePath=/testservice/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n  \r\nApi gateway sees test-service with the help of discovery-server. When I enter swagger-ui of my gateway server,\r\n in the &quot;Select a definition&quot; tab I only see &quot;default&quot; definition but no test-service definition that I really want. I&#39;ve used those tutorials:\r\n1. https://piotrminkowski.com/2020/02/20/microservices-api-documentation-with-springdoc-openapi/\r\n2. https://dgempiuc.medium.com/api-gateway-swagger-composition-e9416398ca47\r\n\r\n[Screenshot:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rEJeO.png","title":"API Gateway doesn&#39;t aggregate microservices swagger docs Spring boot","body":"<p>Pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>SwaggerConfig.java:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n\npublic class SwaggerConfig {\n\nprivate final RouteDefinitionLocator locator;\n\n@Bean\npublic List&lt;GroupedOpenApi&gt; apis() {\n    List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\n    List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\n    definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\n        String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\n        GroupedOpenApi api = GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).group(name).build();\n        groups.add(api);\n    });\n    return groups;\n}\n\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>gateway:\n  discovery:\n    locator:\n      enabled: true\n      lower-case-service-id: true\n  routes:\n    - id: swagger\n      uri: http://localhost:${server.port}\n      predicates:\n        - Path=/v3/api-docs/**\n      filters:\n        - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\n    - id: test-service\n      uri: lb://test-service\n      predicates:\n        - Path=/testservice/**\n      filters:\n        - RewritePath=/testservice/(?&lt;path&gt;.*), /$\\{path}\n</code></pre>\n<p>Api gateway sees test-service with the help of discovery-server. When I enter swagger-ui of my gateway server,\nin the &quot;Select a definition&quot; tab I only see &quot;default&quot; definition but no test-service definition that I really want. I've used those tutorials:</p>\n<ol>\n<li><a href=\"https://piotrminkowski.com/2020/02/20/microservices-api-documentation-with-springdoc-openapi/\" rel=\"nofollow noreferrer\">https://piotrminkowski.com/2020/02/20/microservices-api-documentation-with-springdoc-openapi/</a></li>\n<li><a href=\"https://dgempiuc.medium.com/api-gateway-swagger-composition-e9416398ca47\" rel=\"nofollow noreferrer\">https://dgempiuc.medium.com/api-gateway-swagger-composition-e9416398ca47</a></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rEJeO.png\" rel=\"nofollow noreferrer\">Screenshot:</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18927467,"reputation":300,"user_id":13810263,"display_name":"millerluki"},"score":1,"creation_date":1701243219,"post_id":77569287,"comment_id":136749992,"body_markdown":"Please share the code you have tried with. Stack Overflow can help you troubleshoot existing code, not write it for you. To learn more about how the community can help you, please take the [tour](https://stackoverflow.com/tour) and read [How to Ask](https://stackoverflow.com/questions/how-to-ask).","body":"Please share the code you have tried with. Stack Overflow can help you troubleshoot existing code, not write it for you. To learn more about how the community can help you, please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":30014419,"reputation":1,"user_id":23001334,"display_name":"Daroosh Sikaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701271093,"creation_date":1701243097,"question_id":77569287,"body_markdown":"I have tried some XML and Java solutions, but they didn&#39;t work. Does anyone have a correct solution to drag a ListView up and down with custom scrollbars with images? ","title":"How to make custom scrollbar for ListView that can scroll the list?","body":"<p>I have tried some XML and Java solutions, but they didn't work. Does anyone have a correct solution to drag a ListView up and down with custom scrollbars with images?</p>\n"},{"tags":["java","json","spring","spring-boot","converters"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701271524,"post_id":77571753,"comment_id":136755503,"body_markdown":"used jackson and lombok together and fails to find suitable constructor or factory method to deserialize a JSON string into an object.  `@Value\n@Builder\npublic class CountryDTO {\n\n    @JsonIgnore\n    private Long id;\n\n    private String countryName;\n\n    @JsonCreator\n    CountryDTO(\n            @JsonProperty(&quot;id&quot;) final Long id,\n            @JsonProperty(&quot;countryName&quot;) final String countryName) {\n        this.id = id;\n        this.countryName = countryName;\n    }\n}`","body":"used jackson and lombok together and fails to find suitable constructor or factory method to deserialize a JSON string into an object.  <code>@Value @Builder public class CountryDTO {      @JsonIgnore     private Long id;      private String countryName;      @JsonCreator     CountryDTO(             @JsonProperty(&quot;id&quot;) final Long id,             @JsonProperty(&quot;countryName&quot;) final String countryName) {         this.id = id;         this.countryName = countryName;     } }</code>"}],"answers":[{"comments":[{"owner":{"account_id":20516940,"reputation":87,"user_id":15057375,"display_name":"Cundullah Terzioglu"},"score":0,"creation_date":1701272889,"post_id":77572259,"comment_id":136755791,"body_markdown":"Thanks a lot! The custom deserializer works perfectly fine.\nI have checked a lot of resources, but never seen anything mentioned about converters not working for deserialization. But I should have known and should have been able to think about custom deserialization class instead of converter.","body":"Thanks a lot! The custom deserializer works perfectly fine. I have checked a lot of resources, but never seen anything mentioned about converters not working for deserialization. But I should have known and should have been able to think about custom deserialization class instead of converter."},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":1,"creation_date":1701273082,"post_id":77572259,"comment_id":136755832,"body_markdown":"I am glad to help, cheers.","body":"I am glad to help, cheers."}],"tags":[],"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701270886,"creation_date":1701269822,"answer_id":77572259,"question_id":77571753,"body_markdown":"Converter interface you implemented from \r\n\r\n&gt; org.springframework.core.convert.converter.Converter\r\n\r\nis primarily used for type conversion in the application layer, like converting between different object types within the service or controller layers. However, it is not directly involved in HTTP message conversion.\r\n\r\nWhen processing JSON data, Spring Boot uses Jackson by default to serialize and deserialize the request and response bodies. Jackson, in this case, does not automatically utilize the Spring Converter interface for JSON deserialization.\r\n\r\nYou have a couple of options:\r\n1) Implement a custom deserializer for Jackson\r\n2) Modify the UserDTO class\r\n\r\nWhen it comes to JSON data handling in @RestController, integration with Jackson is necessary for it to be applicable in JSON deserialization.\r\n\r\nExample:\r\n\r\n       public class CountryDTODeserializer extends JsonDeserializer&lt;CountryDTO&gt; {\r\n    \r\n        private final CountryService countryService;\r\n    \r\n        public CountryDTODeserializer(CountryService countryService) {\r\n            this.countryService = countryService;\r\n        }\r\n    \r\n        @Override\r\n        public CountryDTO deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n            Long id = node.asLong(); // Something like this\r\n    \r\n            try {\r\n                return countryService.findById(id);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Error during deserialization&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nAlso don&#39;t forget to put the following annotation:\r\n\r\n     @JsonDeserialize(using = CountryDTODeserializer.class)\r\n     @NotNull(message = &quot;Country is required&quot;)\r\n     private CountryDTO country;","title":"Spring Boot Converter Doesn&#39;t Work in REST Calls","body":"<p>Converter interface you implemented from</p>\n<blockquote>\n<p>org.springframework.core.convert.converter.Converter</p>\n</blockquote>\n<p>is primarily used for type conversion in the application layer, like converting between different object types within the service or controller layers. However, it is not directly involved in HTTP message conversion.</p>\n<p>When processing JSON data, Spring Boot uses Jackson by default to serialize and deserialize the request and response bodies. Jackson, in this case, does not automatically utilize the Spring Converter interface for JSON deserialization.</p>\n<p>You have a couple of options:</p>\n<ol>\n<li>Implement a custom deserializer for Jackson</li>\n<li>Modify the UserDTO class</li>\n</ol>\n<p>When it comes to JSON data handling in @RestController, integration with Jackson is necessary for it to be applicable in JSON deserialization.</p>\n<p>Example:</p>\n<pre><code>   public class CountryDTODeserializer extends JsonDeserializer&lt;CountryDTO&gt; {\n\n    private final CountryService countryService;\n\n    public CountryDTODeserializer(CountryService countryService) {\n        this.countryService = countryService;\n    }\n\n    @Override\n    public CountryDTO deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        Long id = node.asLong(); // Something like this\n\n        try {\n            return countryService.findById(id);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error during deserialization&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Also don't forget to put the following annotation:</p>\n<pre><code> @JsonDeserialize(using = CountryDTODeserializer.class)\n @NotNull(message = &quot;Country is required&quot;)\n private CountryDTO country;\n</code></pre>\n"}],"owner":{"account_id":20516940,"reputation":87,"user_id":15057375,"display_name":"Cundullah Terzioglu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77572259,"answer_count":1,"score":0,"last_activity_date":1701270886,"creation_date":1701266013,"question_id":77571753,"body_markdown":"I&#39;m trying to use Converter to convert **String** input coming from POST request **to CountryDTO object**. I have created CountryConverter class and implemented the Converter interface coming from Spring, I also added my converter to FormatterRegistry in my WebConfig class.\r\n\r\nIt works with normal @Controller class methods, if I use some HTML templates and forms, however, it doesn&#39;t work before any @RestController class method gets executed.\r\n\r\nThis is the message I get in the console, and I understand the reason for this message. Since my converter doesn&#39;t work, the application tries to deserialize String to a CountryDTO object, and it fails because it just cannot take String &quot;1&quot; for example, and deserialize it to a whole CountryDTO object.\r\n\r\n**Console Message:**\r\n\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.cydeo.dto.CountryDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;1&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.cydeo.dto.CountryDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;1&#39;)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 16] (through reference chain: com.cydeo.dto.UserDTO[&quot;country&quot;])]\r\n\r\nI&#39;m using **Spring Boot version 2.7.7**\r\n\r\nHere is my **JSON Request Body:**\r\n\r\n    {\r\n        &quot;username&quot;: &quot;MikeS&quot;,\r\n        &quot;password&quot;: &quot;Abc1&quot;,\r\n        &quot;country&quot;: &quot;1&quot;\r\n    }\r\n\r\nHere is my code:\r\n\r\n**My CountryConverter class:**\r\n\r\n    import com.cydeo.dto.CountryDTO;\r\n    import com.cydeo.service.CountryService;\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class CountryConverter implements Converter&lt;String, CountryDTO&gt; {\r\n\r\n        private final CountryService countryService;\r\n\r\n        public CountryConverter(CountryService countryService) {\r\n            this.countryService = countryService;\r\n        }\r\n\r\n        @Override\r\n        public CountryDTO convert(String source) {\r\n\r\n            if (source.isEmpty()) {\r\n                return null;\r\n            }\r\n\r\n            try {\r\n                return countryService.findById(Long.parseLong(source));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n**My WebConfig class:**\r\n\r\n    import com.cydeo.converter.CountryConverter;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.format.FormatterRegistry;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \r\n        private final CountryConverter countryConverter;\r\n    \r\n        public WebConfig(CountryConverter countryConverter) {\r\n            this.countryConverter = countryConverter;\r\n        }\r\n    \r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(countryConverter);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**My UserDTO class:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.validation.constraints.*;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserDTO {\r\n    \r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        @NotBlank(message = &quot;Username is required&quot;)\r\n        @Size(min = 3, max = 16, message = &quot;Username length should be min 2, max 16&quot;)\r\n        private String username;\r\n\r\n        @NotBlank(message = &quot;Password is required&quot;)\r\n        @Pattern(regexp = &quot;(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{4,}&quot;, message = &quot;The password should be at least 4 characters long and include at least 1 capital letter, 1 small letter and 1 digit&quot;)\r\n        private String password;\r\n\r\n        @NotNull(message = &quot;Country is required&quot;)\r\n        private CountryDTO country;\r\n    \r\n    }\r\n\r\n**My CountryDTO class:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class CountryDTO {\r\n    \r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        private String countryName;\r\n    \r\n    }\r\n\r\n\r\n**My UserController class:**\r\n    \r\n    import com.cydeo.dto.ResponseWrapper;\r\n    import com.cydeo.dto.UserDTO;\r\n    import com.cydeo.service.UserService;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.FieldError;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserRestController {\r\n    \r\n        private final UserService userService;\r\n    \r\n        public UserRestController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n\r\n        @PostMapping(&quot;/create&quot;)\r\n        public ResponseEntity&lt;ResponseWrapper&gt; createUser(@Valid @RequestBody UserDTO userDTO, BindingResult bindingResult) throws Exception {\r\n    \r\n            if (bindingResult.hasErrors()) {\r\n    \r\n                List&lt;FieldError&gt; fieldErrors = bindingResult.getFieldErrors();\r\n                Map&lt;String, Map&lt;String, String&gt;&gt; response = new HashMap&lt;&gt;();\r\n    \r\n                for (FieldError fieldError : fieldErrors) {\r\n    \r\n                    if (response.containsKey(fieldError.getField())) {\r\n                        response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\r\n                    } else {\r\n                        response.put(fieldError.getField(), new HashMap&lt;&gt;());\r\n                        response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\r\n                    }\r\n    \r\n                }\r\n    \r\n                return ResponseEntity.badRequest().body(new ResponseWrapper(false, &quot;Please check the information.&quot;, HttpStatus.BAD_REQUEST, response));\r\n    \r\n            }\r\n    \r\n            return ResponseEntity.status(HttpStatus.CREATED).body(new ResponseWrapper(&quot;User is created.&quot;, userService.create(userDTO), HttpStatus.CREATED));\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring Boot Converter Doesn&#39;t Work in REST Calls","body":"<p>I'm trying to use Converter to convert <strong>String</strong> input coming from POST request <strong>to CountryDTO object</strong>. I have created CountryConverter class and implemented the Converter interface coming from Spring, I also added my converter to FormatterRegistry in my WebConfig class.</p>\n<p>It works with normal @Controller class methods, if I use some HTML templates and forms, however, it doesn't work before any @RestController class method gets executed.</p>\n<p>This is the message I get in the console, and I understand the reason for this message. Since my converter doesn't work, the application tries to deserialize String to a CountryDTO object, and it fails because it just cannot take String &quot;1&quot; for example, and deserialize it to a whole CountryDTO object.</p>\n<p><strong>Console Message:</strong></p>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of <code>com.cydeo.dto.CountryDTO</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.cydeo.dto.CountryDTO</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1') at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 16] (through reference chain: com.cydeo.dto.UserDTO[&quot;country&quot;])]</p>\n<p>I'm using <strong>Spring Boot version 2.7.7</strong></p>\n<p>Here is my <strong>JSON Request Body:</strong></p>\n<pre><code>{\n    &quot;username&quot;: &quot;MikeS&quot;,\n    &quot;password&quot;: &quot;Abc1&quot;,\n    &quot;country&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>Here is my code:</p>\n<p><strong>My CountryConverter class:</strong></p>\n<pre><code>import com.cydeo.dto.CountryDTO;\nimport com.cydeo.service.CountryService;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CountryConverter implements Converter&lt;String, CountryDTO&gt; {\n\n    private final CountryService countryService;\n\n    public CountryConverter(CountryService countryService) {\n        this.countryService = countryService;\n    }\n\n    @Override\n    public CountryDTO convert(String source) {\n\n        if (source.isEmpty()) {\n            return null;\n        }\n\n        try {\n            return countryService.findById(Long.parseLong(source));\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>My WebConfig class:</strong></p>\n<pre><code>import com.cydeo.converter.CountryConverter;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    private final CountryConverter countryConverter;\n\n    public WebConfig(CountryConverter countryConverter) {\n        this.countryConverter = countryConverter;\n    }\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(countryConverter);\n    }\n\n}\n</code></pre>\n<p><strong>My UserDTO class:</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.validation.constraints.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserDTO {\n\n    @JsonIgnore\n    private Long id;\n\n    @NotBlank(message = &quot;Username is required&quot;)\n    @Size(min = 3, max = 16, message = &quot;Username length should be min 2, max 16&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;Password is required&quot;)\n    @Pattern(regexp = &quot;(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{4,}&quot;, message = &quot;The password should be at least 4 characters long and include at least 1 capital letter, 1 small letter and 1 digit&quot;)\n    private String password;\n\n    @NotNull(message = &quot;Country is required&quot;)\n    private CountryDTO country;\n\n}\n</code></pre>\n<p><strong>My CountryDTO class:</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CountryDTO {\n\n    @JsonIgnore\n    private Long id;\n\n    private String countryName;\n\n}\n</code></pre>\n<p><strong>My UserController class:</strong></p>\n<pre><code>import com.cydeo.dto.ResponseWrapper;\nimport com.cydeo.dto.UserDTO;\nimport com.cydeo.service.UserService;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.*;\n\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserRestController {\n\n    private final UserService userService;\n\n    public UserRestController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;ResponseWrapper&gt; createUser(@Valid @RequestBody UserDTO userDTO, BindingResult bindingResult) throws Exception {\n\n        if (bindingResult.hasErrors()) {\n\n            List&lt;FieldError&gt; fieldErrors = bindingResult.getFieldErrors();\n            Map&lt;String, Map&lt;String, String&gt;&gt; response = new HashMap&lt;&gt;();\n\n            for (FieldError fieldError : fieldErrors) {\n\n                if (response.containsKey(fieldError.getField())) {\n                    response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\n                } else {\n                    response.put(fieldError.getField(), new HashMap&lt;&gt;());\n                    response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\n                }\n\n            }\n\n            return ResponseEntity.badRequest().body(new ResponseWrapper(false, &quot;Please check the information.&quot;, HttpStatus.BAD_REQUEST, response));\n\n        }\n\n        return ResponseEntity.status(HttpStatus.CREATED).body(new ResponseWrapper(&quot;User is created.&quot;, userService.create(userDTO), HttpStatus.CREATED));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","minio"],"owner":{"account_id":5064494,"reputation":63,"user_id":4094887,"display_name":"Chetan Badgujar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701270513,"creation_date":1701270513,"question_id":77572337,"body_markdown":"I am trying to upgrade my spring boot application to the spring boot 3 and I am getting error regrading minio. Below you can find find files from my project.\r\n\r\nbuild.gradle.kts\r\n\r\n    dependencies {\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-cache&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;com.azure.spring:spring-cloud-azure-starter-active-directory&quot;)\r\n    \timplementation(&quot;com.azure.spring:spring-cloud-azure-starter-actuator&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&quot;)\r\n    \timplementation(&quot;org.hibernate.orm:hibernate-core:6.4.0.Final&quot;)\r\n    \timplementation(&quot;org.apache.httpcomponents.client5:httpclient5:5.2.2&quot;)\r\n    \tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n    \truntimeOnly(&quot;com.h2database:h2&quot;)\r\n    \truntimeOnly(&quot;io.micrometer:micrometer-registry-prometheus&quot;)\r\n    \truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \ttestImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n    \r\n    \r\n    \t//implementation(&quot;nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect&quot;)\r\n    \timplementation(files(&quot;libs/jconn4.jar&quot;))\r\n    \t//implementation(&quot;org.springframework.security:spring-security-oauth2-jose&quot;)\r\n    \timplementation(&quot;com.jlefebure:spring-boot-starter-minio:1.1&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \ttestImplementation(&quot;de.cronn:test-utils:0.9.0&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-csv&quot;)\r\n    \timplementation(&quot;org.webjars:bootstrap:5.3.0&quot;)\r\n    \timplementation(&quot;org.webjars:jquery:3.6.0&quot;)\r\n    \timplementation(&quot;org.webjars:jquery-validation:1.19.3&quot;)\r\n    \timplementation(&quot;org.webjars.npm:swiper:8.3.2&quot;)\r\n    \timplementation(&quot;org.webjars.npm:panzoom__panzoom:4.5.1&quot;)\r\n    \timplementation(&quot;org.webjars.npm:notiflix:3.2.5&quot;)\r\n    \timplementation(&quot;org.webjars:selectize.js:0.12.4&quot;)\r\n    \timplementation(&quot;org.webjars:select2:4.0.13&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\r\n    \timplementation(&quot;org.apache.logging.log4j:log4j-to-slf4j:2.14.1&quot;)\r\n    \timplementation(&quot;org.apache.logging.log4j:log4j-api:2.14.1&quot;)\r\n    \timplementation(&quot;org.apache.poi:poi-ooxml:5.1.0&quot;)\r\n    \timplementation(&quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;)\r\n    \timplementation(&quot;org.apache.poi:poi:5.2.3&quot;)\r\n    }\r\n\r\nconfig.kt\r\n\r\n    package se.astrego.centralDatabase\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.context.annotation.Configuration\r\n    import org.springframework.scheduling.annotation.EnableScheduling\r\n    import org.springframework.scheduling.annotation.Scheduled\r\n    import org.springframework.transaction.annotation.Transactional\r\n    import se.astrego.centralDatabase.repositories.AssayRepository\r\n    import se.astrego.centralDatabase.repositories.enteties.Assay\r\n    import se.astrego.centralDatabase.repositories.enteties.FinalQcAssayRepo\r\n    import se.astrego.centralDatabase.services.AssayService\r\n    import java.io.File\r\n    import java.nio.file.Paths\r\n    import java.util.*\r\n    \r\n    \r\n    @Configuration\r\n    @EnableScheduling\r\n    class Config @Autowired constructor(\r\n        val repository: AssayRepository,\r\n        val assayService: AssayService,\r\n        val finalQcAssayRepo: FinalQcAssayRepo\r\n    ) {\r\n    \r\n        //my code\r\n    }\r\n\r\nCentralDatabaseApplication.kt\r\n\r\n    package se.astrego.centralDatabase\r\n    \r\n    import org.apache.catalina.Context\r\n    import org.apache.catalina.connector.Connector\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication\r\n    import org.springframework.boot.context.properties.ConfigurationPropertiesScan\r\n    import org.springframework.boot.runApplication\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\r\n    import org.springframework.boot.web.servlet.server.ServletWebServerFactory\r\n    import org.springframework.cache.annotation.EnableCaching\r\n    import org.springframework.context.annotation.Bean\r\n    import org.springframework.stereotype.Component\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    @ConfigurationPropertiesScan(&quot;se.astrego.centralDatabase.services.monitor&quot;)\r\n    class CentralDatabaseApplication\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n    \trunApplication&lt;CentralDatabaseApplication&gt;(*args)\r\n    }\r\n    \r\n    @Component\r\n    class ServletConfig(){\r\n    \t@Bean\r\n    \tfun servletContainer(): ServletWebServerFactory? {\r\n    \t\tval tomcat: TomcatServletWebServerFactory = object : TomcatServletWebServerFactory() {\r\n    \t\t\toverride fun postProcessContext(context: Context) {\r\n    \t\t\t\tval securityConstraint = SecurityConstraint()\r\n    \t\t\t\tsecurityConstraint.userConstraint = &quot;CONFIDENTIAL&quot;\r\n    \t\t\t\tval collection = SecurityCollection()\r\n    \t\t\t\tcollection.addPattern(&quot;/*&quot;)\r\n    \t\t\t\tsecurityConstraint.addCollection(collection)\r\n    \t\t\t\tcontext.addConstraint(securityConstraint)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\ttomcat.addAdditionalTomcatConnectors(redirectConnector())\r\n    \t\treturn tomcat\r\n    \t}\r\n    \r\n    \tfun redirectConnector(): Connector {\r\n    \t\tval connector = Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;)\r\n    \t\tconnector.scheme = &quot;http&quot;\r\n    \t\tconnector.port = 8080\r\n    \t\tconnector.secure = false\r\n    \t\tconnector.redirectPort = 8443\r\n    \t\treturn connector\r\n    \t}\r\n    }\r\n\r\nFileApiController.kt\r\n\r\n    package se.astrego.centralDatabase.apiControllers\r\n    \r\n    \r\n    import com.jlefebure.spring.boot.minio.MinioService\r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.http.HttpStatus\r\n    import org.springframework.web.bind.annotation.*\r\n    import org.springframework.web.multipart.MultipartFile\r\n    import se.astrego.centralDatabase.apiControllers.DTOs.FileMetadata\r\n    import se.astrego.centralDatabase.services.LocalFilesService\r\n    import java.io.ByteArrayInputStream\r\n    import java.io.ByteArrayOutputStream\r\n    import java.io.FileNotFoundException\r\n    import java.io.InputStream\r\n    import java.nio.file.Path\r\n    import java.nio.file.Paths\r\n    import javax.imageio.ImageIO\r\n    \r\n    val NOT_CHIP_ID_ERROR_MESSAGE = &quot;Expected full chip id and NOT with sputter-tray-position: %s&quot;;\r\n    \r\n    \r\n    @RestController\r\n    \r\n    class FileApiController {\r\n    \r\n        @Autowired\r\n        private lateinit var minioService: MinioService\r\n        @Autowired\r\n        private lateinit var localFilesService: LocalFilesService\r\n    \r\n    \r\n        @GetMapping(&quot;/api/files&quot;)\r\n        fun getAllFiles(): List&lt;FileMetadata&gt; {\r\n            return minioService.list().map {\r\n                FileMetadata(it,&quot;/api/file/&quot; + it.objectName())\r\n            }\r\n        }\r\n    \r\n        // other code\r\n    }\r\n\r\nWhile running project I am getting \r\n\r\n    Field minioService in se.astrego.centralDatabase.apiControllers.FileApiController required a bean of type &#39;com.jlefebure.spring.boot.minio.MinioService&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.jlefebure.spring.boot.minio.MinioService&#39; in your configuration.\r\n\r\nhow to resolve it. any help appreciated","title":"Spring boot starter minio gives error &quot;bean of type that could not be found &quot; for spring boot 3","body":"<p>I am trying to upgrade my spring boot application to the spring boot 3 and I am getting error regrading minio. Below you can find find files from my project.</p>\n<p>build.gradle.kts</p>\n<pre><code>dependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-cache&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.azure.spring:spring-cloud-azure-starter-active-directory&quot;)\n    implementation(&quot;com.azure.spring:spring-cloud-azure-starter-actuator&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&quot;)\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.4.0.Final&quot;)\n    implementation(&quot;org.apache.httpcomponents.client5:httpclient5:5.2.2&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    runtimeOnly(&quot;com.h2database:h2&quot;)\n    runtimeOnly(&quot;io.micrometer:micrometer-registry-prometheus&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n\n\n    //implementation(&quot;nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect&quot;)\n    implementation(files(&quot;libs/jconn4.jar&quot;))\n    //implementation(&quot;org.springframework.security:spring-security-oauth2-jose&quot;)\n    implementation(&quot;com.jlefebure:spring-boot-starter-minio:1.1&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    testImplementation(&quot;de.cronn:test-utils:0.9.0&quot;)\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-csv&quot;)\n    implementation(&quot;org.webjars:bootstrap:5.3.0&quot;)\n    implementation(&quot;org.webjars:jquery:3.6.0&quot;)\n    implementation(&quot;org.webjars:jquery-validation:1.19.3&quot;)\n    implementation(&quot;org.webjars.npm:swiper:8.3.2&quot;)\n    implementation(&quot;org.webjars.npm:panzoom__panzoom:4.5.1&quot;)\n    implementation(&quot;org.webjars.npm:notiflix:3.2.5&quot;)\n    implementation(&quot;org.webjars:selectize.js:0.12.4&quot;)\n    implementation(&quot;org.webjars:select2:4.0.13&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\n    implementation(&quot;org.apache.logging.log4j:log4j-to-slf4j:2.14.1&quot;)\n    implementation(&quot;org.apache.logging.log4j:log4j-api:2.14.1&quot;)\n    implementation(&quot;org.apache.poi:poi-ooxml:5.1.0&quot;)\n    implementation(&quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;)\n    implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\n}\n</code></pre>\n<p>config.kt</p>\n<pre><code>package se.astrego.centralDatabase\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.scheduling.annotation.EnableScheduling\nimport org.springframework.scheduling.annotation.Scheduled\nimport org.springframework.transaction.annotation.Transactional\nimport se.astrego.centralDatabase.repositories.AssayRepository\nimport se.astrego.centralDatabase.repositories.enteties.Assay\nimport se.astrego.centralDatabase.repositories.enteties.FinalQcAssayRepo\nimport se.astrego.centralDatabase.services.AssayService\nimport java.io.File\nimport java.nio.file.Paths\nimport java.util.*\n\n\n@Configuration\n@EnableScheduling\nclass Config @Autowired constructor(\n    val repository: AssayRepository,\n    val assayService: AssayService,\n    val finalQcAssayRepo: FinalQcAssayRepo\n) {\n\n    //my code\n}\n</code></pre>\n<p>CentralDatabaseApplication.kt</p>\n<pre><code>package se.astrego.centralDatabase\n\nimport org.apache.catalina.Context\nimport org.apache.catalina.connector.Connector\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.context.properties.ConfigurationPropertiesScan\nimport org.springframework.boot.runApplication\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory\nimport org.springframework.cache.annotation.EnableCaching\nimport org.springframework.context.annotation.Bean\nimport org.springframework.stereotype.Component\n\n\n@SpringBootApplication\n@EnableCaching\n@ConfigurationPropertiesScan(&quot;se.astrego.centralDatabase.services.monitor&quot;)\nclass CentralDatabaseApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;CentralDatabaseApplication&gt;(*args)\n}\n\n@Component\nclass ServletConfig(){\n    @Bean\n    fun servletContainer(): ServletWebServerFactory? {\n        val tomcat: TomcatServletWebServerFactory = object : TomcatServletWebServerFactory() {\n            override fun postProcessContext(context: Context) {\n                val securityConstraint = SecurityConstraint()\n                securityConstraint.userConstraint = &quot;CONFIDENTIAL&quot;\n                val collection = SecurityCollection()\n                collection.addPattern(&quot;/*&quot;)\n                securityConstraint.addCollection(collection)\n                context.addConstraint(securityConstraint)\n            }\n        }\n        tomcat.addAdditionalTomcatConnectors(redirectConnector())\n        return tomcat\n    }\n\n    fun redirectConnector(): Connector {\n        val connector = Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;)\n        connector.scheme = &quot;http&quot;\n        connector.port = 8080\n        connector.secure = false\n        connector.redirectPort = 8443\n        return connector\n    }\n}\n</code></pre>\n<p>FileApiController.kt</p>\n<pre><code>package se.astrego.centralDatabase.apiControllers\n\n\nimport com.jlefebure.spring.boot.minio.MinioService\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.http.HttpStatus\nimport org.springframework.web.bind.annotation.*\nimport org.springframework.web.multipart.MultipartFile\nimport se.astrego.centralDatabase.apiControllers.DTOs.FileMetadata\nimport se.astrego.centralDatabase.services.LocalFilesService\nimport java.io.ByteArrayInputStream\nimport java.io.ByteArrayOutputStream\nimport java.io.FileNotFoundException\nimport java.io.InputStream\nimport java.nio.file.Path\nimport java.nio.file.Paths\nimport javax.imageio.ImageIO\n\nval NOT_CHIP_ID_ERROR_MESSAGE = &quot;Expected full chip id and NOT with sputter-tray-position: %s&quot;;\n\n\n@RestController\n\nclass FileApiController {\n\n    @Autowired\n    private lateinit var minioService: MinioService\n    @Autowired\n    private lateinit var localFilesService: LocalFilesService\n\n\n    @GetMapping(&quot;/api/files&quot;)\n    fun getAllFiles(): List&lt;FileMetadata&gt; {\n        return minioService.list().map {\n            FileMetadata(it,&quot;/api/file/&quot; + it.objectName())\n        }\n    }\n\n    // other code\n}\n</code></pre>\n<p>While running project I am getting</p>\n<pre><code>Field minioService in se.astrego.centralDatabase.apiControllers.FileApiController required a bean of type 'com.jlefebure.spring.boot.minio.MinioService' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.jlefebure.spring.boot.minio.MinioService' in your configuration.\n</code></pre>\n<p>how to resolve it. any help appreciated</p>\n"},{"tags":["java","spring-boot","redis"],"owner":{"account_id":6509302,"reputation":49,"user_id":5037166,"display_name":"Japheth Waswa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701270502,"creation_date":1701267371,"question_id":77571924,"body_markdown":"When the subscriber/listener completes execution, i wish to publish a new event to redis within the ***onMessage*** method in the subscriber.\r\n\r\n***RedisLettuceConfiguration***\r\n\r\n```\r\n@Configuration\r\npublic class RedisLettuceConfiguration {\r\n\r\n    @Bean\r\n    LettuceConnectionFactory lettuceConnectionFactory() {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_HOST&quot;) : &quot;127.0.0.1&quot;);\r\n        configuration.setPassword(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_PASSWORD&quot;) : &quot;&quot;);\r\n        configuration.setPort(OcrService.dotenv != null ? (OcrService.dotenv.get(&quot;REDIS_PORT&quot;) != null ? Integer.parseInt(OcrService.dotenv.get(&quot;REDIS_PORT&quot;)) : 6379) : 6379);\r\n        return new LettuceConnectionFactory(configuration);\r\n    }\r\n\r\n    @Bean\r\n     RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory());\r\n        redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\r\n        return redisTemplate;\r\n    }\r\n\r\n    //init listeners\r\n    @Bean\r\n    RedisMessageListenerContainer container() {\r\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\r\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\r\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber()), new ChannelTopic(&quot;OCR-TOPIC&quot;));\r\n        return redisMessageListenerContainer;\r\n    }\r\n    //end listeners\r\n\r\n\r\n    //start publisher\r\n    @Bean\r\n      ChannelTopic topic() {\r\n        return new ChannelTopic(&quot;OCR-TOPIC&quot;);\r\n    }\r\n\r\n    @Bean\r\n    IMessagePublisher messagePublisher() {\r\n        return new OcrSuccessPublisher(redisTemplate(), topic());\r\n    }\r\n    //end publisher\r\n\r\n}\r\n```\r\n\r\n***OcrSuccessPublisher***\r\n\r\n```\r\n@Component\r\npublic class OcrSuccessPublisher implements IMessagePublisher {\r\n    @Autowired\r\n    private RedisTemplate&lt;String,Object&gt; redisTemplate;\r\n\r\n    @Autowired\r\n    private ChannelTopic topic;\r\n\r\n    public OcrSuccessPublisher(RedisTemplate&lt;String, Object&gt; redisTemplate, ChannelTopic topic) {\r\n        this.redisTemplate = redisTemplate;\r\n        this.topic = topic;\r\n    }\r\n\r\n    @Override\r\n    public void publish(String message) {\r\n        redisTemplate.convertAndSend(topic.getTopic(),message);\r\n    }\r\n}\r\n```\r\n\r\nObjective of the method below is to publish a new event after listener completes successfuly\r\n\r\n**OcrProcessorSubscriber***\r\n\r\n```\r\npublic class OcrProcessorSubscriber implements MessageListener {\r\n    private final List&lt;String&gt; messagesList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\r\n\r\n//how to publish message here e.g ocrSuccessPublisher.publish(&quot;new payload to redis&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n **SOLVED BY**\r\n1. Adding to RedisTemplate field type **OcrProcessorSubscriber** \r\n\r\n```\r\n    private RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n\r\n    public OcrProcessorSubscriber(RedisTemplate&lt;String, Object&gt; redisTemplate){\r\n        this.redisTemplate=redisTemplate;\r\n    }\r\n\r\n@Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n\r\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\r\n\r\n        // Publish a message to another Redis channel\r\n       new OcrSuccessPublisher(redisTemplate, new ChannelTopic(&quot;OCR-TOPIC-PROCESSED&quot;)).publish(&quot;{\\&quot;fileId\\&quot;:\\&quot;yyy\\&quot;,\\&quot;ocrStatus\\&quot;:\\&quot;PENDING\\&quot;,\\&quot;fileName\\&quot;:\\&quot;xx\\&quot;}&quot;); \r\n   }\r\n\r\n```\r\n\r\n2. Updating **RedisLettuceConfiguration** \r\n\r\n```\r\n@Bean\r\n    RedisMessageListenerContainer container() {\r\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\r\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\r\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber(redisTemplate())), new ChannelTopic(&quot;OCR-TOPIC&quot;));\r\n        return redisMessageListenerContainer;\r\n    }\r\n```\r\n","title":"Java spring boot redis, publish within the subscriber&#39;s onMessage method","body":"<p>When the subscriber/listener completes execution, i wish to publish a new event to redis within the <em><strong>onMessage</strong></em> method in the subscriber.</p>\n<p><em><strong>RedisLettuceConfiguration</strong></em></p>\n<pre><code>@Configuration\npublic class RedisLettuceConfiguration {\n\n    @Bean\n    LettuceConnectionFactory lettuceConnectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_HOST&quot;) : &quot;127.0.0.1&quot;);\n        configuration.setPassword(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_PASSWORD&quot;) : &quot;&quot;);\n        configuration.setPort(OcrService.dotenv != null ? (OcrService.dotenv.get(&quot;REDIS_PORT&quot;) != null ? Integer.parseInt(OcrService.dotenv.get(&quot;REDIS_PORT&quot;)) : 6379) : 6379);\n        return new LettuceConnectionFactory(configuration);\n    }\n\n    @Bean\n     RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory());\n        redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        return redisTemplate;\n    }\n\n    //init listeners\n    @Bean\n    RedisMessageListenerContainer container() {\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber()), new ChannelTopic(&quot;OCR-TOPIC&quot;));\n        return redisMessageListenerContainer;\n    }\n    //end listeners\n\n\n    //start publisher\n    @Bean\n      ChannelTopic topic() {\n        return new ChannelTopic(&quot;OCR-TOPIC&quot;);\n    }\n\n    @Bean\n    IMessagePublisher messagePublisher() {\n        return new OcrSuccessPublisher(redisTemplate(), topic());\n    }\n    //end publisher\n\n}\n</code></pre>\n<p><em><strong>OcrSuccessPublisher</strong></em></p>\n<pre><code>@Component\npublic class OcrSuccessPublisher implements IMessagePublisher {\n    @Autowired\n    private RedisTemplate&lt;String,Object&gt; redisTemplate;\n\n    @Autowired\n    private ChannelTopic topic;\n\n    public OcrSuccessPublisher(RedisTemplate&lt;String, Object&gt; redisTemplate, ChannelTopic topic) {\n        this.redisTemplate = redisTemplate;\n        this.topic = topic;\n    }\n\n    @Override\n    public void publish(String message) {\n        redisTemplate.convertAndSend(topic.getTopic(),message);\n    }\n}\n</code></pre>\n<p>Objective of the method below is to publish a new event after listener completes successfuly</p>\n<p><strong>OcrProcessorSubscriber</strong>*</p>\n<pre><code>public class OcrProcessorSubscriber implements MessageListener {\n    private final List&lt;String&gt; messagesList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void onMessage(Message message, byte[] pattern) {\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\n\n//how to publish message here e.g ocrSuccessPublisher.publish(&quot;new payload to redis&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>SOLVED BY</strong></p>\n<ol>\n<li>Adding to RedisTemplate field type <strong>OcrProcessorSubscriber</strong></li>\n</ol>\n<pre><code>    private RedisTemplate&lt;String, Object&gt; redisTemplate;\n\n    public OcrProcessorSubscriber(RedisTemplate&lt;String, Object&gt; redisTemplate){\n        this.redisTemplate=redisTemplate;\n    }\n\n@Override\n    public void onMessage(Message message, byte[] pattern) {\n\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\n\n        // Publish a message to another Redis channel\n       new OcrSuccessPublisher(redisTemplate, new ChannelTopic(&quot;OCR-TOPIC-PROCESSED&quot;)).publish(&quot;{\\&quot;fileId\\&quot;:\\&quot;yyy\\&quot;,\\&quot;ocrStatus\\&quot;:\\&quot;PENDING\\&quot;,\\&quot;fileName\\&quot;:\\&quot;xx\\&quot;}&quot;); \n   }\n\n</code></pre>\n<ol start=\"2\">\n<li>Updating <strong>RedisLettuceConfiguration</strong></li>\n</ol>\n<pre><code>@Bean\n    RedisMessageListenerContainer container() {\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber(redisTemplate())), new ChannelTopic(&quot;OCR-TOPIC&quot;));\n        return redisMessageListenerContainer;\n    }\n</code></pre>\n"},{"tags":["java","derby","javadb"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647721998,"creation_date":1647721658,"answer_id":71541791,"question_id":71541745,"body_markdown":"The method `System.setSecurityManager` was deprecated in [Java 17][1], as noted in its [Javadoc][2]. \r\n\r\n&gt;**Deprecated, for removal: This API element is subject to removal in a future version.**\r\n&gt;\r\n&gt;This method is only useful in conjunction with the [Security Manager][3], which is deprecated and subject to removal in a future release. Consequently, this method is also deprecated and subject to removal. There is no replacement for the Security Manager or this method.\r\n\r\nI suggest you try the [latest version of Derby][4] to see if the problem is still there. Currently that would be 10.15.2.0 versus your 10.14.2.0. If still there, file an issue if not already filed.\r\n\r\n&#128073; **Not a pressing problem for you** while using Java 17. But in a future version of Java, removal of that feature will presumably break a calling app like Derby.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#setSecurityManager(java.lang.SecurityManager)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\r\n  [4]: https://db.apache.org/derby/","title":"I keep getting this error messages when try to use javadb","body":"<p>The method <code>System.setSecurityManager</code> was deprecated in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a>, as noted in its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#setSecurityManager(java.lang.SecurityManager)\" rel=\"nofollow noreferrer\">Javadoc</a>.</p>\n<blockquote>\n<p><strong>Deprecated, for removal: This API element is subject to removal in a future version.</strong></p>\n<p>This method is only useful in conjunction with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">Security Manager</a>, which is deprecated and subject to removal in a future release. Consequently, this method is also deprecated and subject to removal. There is no replacement for the Security Manager or this method.</p>\n</blockquote>\n<p>I suggest you try the <a href=\"https://db.apache.org/derby/\" rel=\"nofollow noreferrer\">latest version of Derby</a> to see if the problem is still there. Currently that would be 10.15.2.0 versus your 10.14.2.0. If still there, file an issue if not already filed.</p>\n<p>👉 <strong>Not a pressing problem for you</strong> while using Java 17. But in a future version of Java, removal of that feature will presumably break a calling app like Derby.</p>\n"},{"comments":[{"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"score":0,"creation_date":1697097960,"post_id":71541792,"comment_id":136237360,"body_markdown":"In my current project We are using this code     @BeforeClass\n    public static void setUp ()\n    {\n        originalSecurityManager = System.getSecurityManager();\n        System.\n            setSecurityManager(new NoExitSecurityManager());\n    } This method has been deprecated, Do we have any replacement for setSecurityManager method???","body":"In my current project We are using this code     @BeforeClass     public static void setUp ()     {         originalSecurityManager = System.getSecurityManager();         System.             setSecurityManager(new NoExitSecurityManager());     } This method has been deprecated, Do we have any replacement for setSecurityManager method???"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1697108379,"post_id":71541792,"comment_id":136239523,"body_markdown":"@PriyankaTaneja – refer to the documentation for `SecurityManager`: it will be removed without replacement. So remove that code from you tests, after you updated to a library that is not using `SecurityManager` any longer.","body":"@PriyankaTaneja – refer to the documentation for <code>SecurityManager</code>: it will be removed without replacement. So remove that code from you tests, after you updated to a library that is not using <code>SecurityManager</code> any longer."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647721660,"creation_date":1647721660,"answer_id":71541792,"question_id":71541745,"body_markdown":"For now, you can ignore it.\r\n\r\nBut for the future, you should look to get an updated version of JavaDB/Derby that is explicitly compatible with the newer Java versions.\r\n\r\n`SecurityManager` is deprecated since Java 17 and will be removed in one of the next versions. Obviously, this will affect also all methods that deal with instances of that class, like `System.setSecurityManager()`.","title":"I keep getting this error messages when try to use javadb","body":"<p>For now, you can ignore it.</p>\n<p>But for the future, you should look to get an updated version of JavaDB/Derby that is explicitly compatible with the newer Java versions.</p>\n<p><code>SecurityManager</code> is deprecated since Java 17 and will be removed in one of the next versions. Obviously, this will affect also all methods that deal with instances of that class, like <code>System.setSecurityManager()</code>.</p>\n"}],"owner":{"account_id":24255954,"reputation":1,"user_id":18206346,"display_name":"Gustavo Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701270436,"creation_date":1647721229,"question_id":71541745,"body_markdown":"i keep getting this error when i click to start. how to solve it?\r\n\r\nSat Mar 19 17:09:43 BRT 2022 : Security manager installed using the Basic server security policy.\r\n\r\n***WARNING: A terminally deprecated method in java.lang.System has been called***\r\n\r\n***WARNING: System::setSecurityManager has been called by org.apache.derby.drda.NetworkServerControl (file:/C:/Program%20Files/Java/jdk1.8.0_321/db-derby-10.14.2.0-bin/lib/derbynet.jar)***\r\n\r\n***WARNING: Please consider reporting this to the maintainers of org.apache.derby.drda.NetworkServerControl***\r\n\r\n***WARNING: System::setSecurityManager will be removed in a future release***\r\n\r\nSat Mar 19 17:09:43 BRT 2022 : Apache Derby Servidor de Rede - 10.14.2.0 - (1828579) iniciado e pronto para aceitar conex&#245;es na porta 1527 em {3}\r\n","title":"I keep getting this error messages when try to use javadb","body":"<p>i keep getting this error when i click to start. how to solve it?</p>\n<p>Sat Mar 19 17:09:43 BRT 2022 : Security manager installed using the Basic server security policy.</p>\n<p><em><strong>WARNING: A terminally deprecated method in java.lang.System has been called</strong></em></p>\n<p><em><strong>WARNING: System::setSecurityManager has been called by org.apache.derby.drda.NetworkServerControl (file:/C:/Program%20Files/Java/jdk1.8.0_321/db-derby-10.14.2.0-bin/lib/derbynet.jar)</strong></em></p>\n<p><em><strong>WARNING: Please consider reporting this to the maintainers of org.apache.derby.drda.NetworkServerControl</strong></em></p>\n<p><em><strong>WARNING: System::setSecurityManager will be removed in a future release</strong></em></p>\n<p>Sat Mar 19 17:09:43 BRT 2022 : Apache Derby Servidor de Rede - 10.14.2.0 - (1828579) iniciado e pronto para aceitar conexões na porta 1527 em {3}</p>\n"},{"tags":["java","jsp","servlets","import"],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700401983,"post_id":77506767,"comment_id":136647394,"body_markdown":"@queeg Yes, you figured out that a variable should put into session. But you didn&#39;t solve the main problem: Why OP tried to import classes to the JSP. Second, you didn&#39;t read the code thoroughly to understand a business logic of the application. Your code is useless because it unknown how to apply. The workflow of the application is wrong. It will never work as expected. This and other summarize mistakes makes you answer too bad.","body":"@queeg Yes, you figured out that a variable should put into session. But you didn&#39;t solve the main problem: Why OP tried to import classes to the JSP. Second, you didn&#39;t read the code thoroughly to understand a business logic of the application. Your code is useless because it unknown how to apply. The workflow of the application is wrong. It will never work as expected. This and other summarize mistakes makes you answer too bad."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1700564397,"post_id":77506767,"comment_id":136667546,"body_markdown":"Well I cannot &#39;solve&#39; the problem why the OP tried to import classes. But I edited my answer so this is taken into account. Like it more now?","body":"Well I cannot &#39;solve&#39; the problem why the OP tried to import classes. But I edited my answer so this is taken into account. Like it more now?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700572279,"post_id":77506767,"comment_id":136668952,"body_markdown":"OP imported classes trying to  solve the problem of accessing variables in EL expressions, but OP don&#39;t know how to access them or intended access them in scriptlets, anyway it&#39;s wrong try, and we should lead OP to the right direction. Because OP can&#39;t/shouldn&#39;t access the class variables in the imported classes. This is the main idea. Then comes the second problem EL expressions didn&#39;t work, then third problem direct to JSP, then fourth problem with business logic, etc. Everything you should fix, when providing a consisting answer.","body":"OP imported classes trying to  solve the problem of accessing variables in EL expressions, but OP don&#39;t know how to access them or intended access them in scriptlets, anyway it&#39;s wrong try, and we should lead OP to the right direction. Because OP can&#39;t/shouldn&#39;t access the class variables in the imported classes. This is the main idea. Then comes the second problem EL expressions didn&#39;t work, then third problem direct to JSP, then fourth problem with business logic, etc. Everything you should fix, when providing a consisting answer."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700564337,"creation_date":1700308330,"answer_id":77506767,"question_id":77506567,"body_markdown":"Unfortunately the `import` that you tried does not solve the problem that you describe/that is visible by looking at your code. You better remove these unnecessary reports.\r\n\r\nThe GameServlet is accessing the data from the HttpSession, but the data was never stored there.\r\n\r\nLook at how a user would go through the application. Initially he is on index.jsp which makes the browser display a form. The user fills in his username, then upon submit that username is sent to the next url: GameServlet\r\n\r\nThe GameServlet can now read the submitted username as `request.getParameter(&quot;playerName&quot;)` and store it as `getHttpSession().setAttribute(&quot;playerName&quot;, request.getParameter(&quot;playerName&quot;))`\r\n\r\nOnly after storing the attribute in the session subsequent pages/servlets will be able to read it again. So you either have to change your GameServlet, or create another servlet/JSP that stores the playername in the session.","title":"Can&#39;t access variables in imported .java classes in .jsp file","body":"<p>Unfortunately the <code>import</code> that you tried does not solve the problem that you describe/that is visible by looking at your code. You better remove these unnecessary reports.</p>\n<p>The GameServlet is accessing the data from the HttpSession, but the data was never stored there.</p>\n<p>Look at how a user would go through the application. Initially he is on index.jsp which makes the browser display a form. The user fills in his username, then upon submit that username is sent to the next url: GameServlet</p>\n<p>The GameServlet can now read the submitted username as <code>request.getParameter(&quot;playerName&quot;)</code> and store it as <code>getHttpSession().setAttribute(&quot;playerName&quot;, request.getParameter(&quot;playerName&quot;))</code></p>\n<p>Only after storing the attribute in the session subsequent pages/servlets will be able to read it again. So you either have to change your GameServlet, or create another servlet/JSP that stores the playername in the session.</p>\n"}],"owner":{"account_id":25480408,"reputation":1,"user_id":19276873,"display_name":"guralover36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702147758,"answer_count":1,"score":-1,"last_activity_date":1701270104,"creation_date":1700304634,"question_id":77506567,"body_markdown":"I have a problem with importing a class into a .jsp file. When I try to import the program keeps working, but I can&#39;t access the variables. I am trying to import the GameServlet.java class into game.jsp.\r\n\r\nimport like:\r\n\r\n```lang-jsp\r\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \r\n```\r\n\r\nfor some reason it doesn&#39;t work\r\n\r\nThe structure of the project is:\r\n\r\n- demo\r\n  - src\r\n    - main\r\n      - java\r\n        - com.example\r\n          - GameServlet.java\r\n          - TextGame.java\r\n      - resources\r\n      - webapp\r\n        - WEB-INF\r\n          - web.xml\r\n        - game.jsp\r\n        - index.jsp\r\n  - target\r\n  - pom.xml\r\n\r\nMy .xml look like this:\r\n\r\n**xml file**\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n\r\n    &lt;!-- Servlet Mapping --&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.example.MyServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myservlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**java** classes:\r\n\r\n**GameServlet.java**\r\n\r\n```lang-java\r\npackage com.example;\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\n\r\n@WebServlet(&quot;/GameServlet&quot;)\r\npublic class GameServlet extends HttpServlet {\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        HttpSession session = request.getSession();\r\n        String playerName = (String) session.getAttribute(&quot;playerName&quot;);\r\n\r\n        session.setAttribute(&quot;game&quot;, new TextGame());\r\n\r\n        response.sendRedirect(&quot;game.jsp&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**TextGame.java**\r\n\r\n```lang-java\r\npackage com.example;\r\n\r\npublic class TextGame {\r\n    private String currentLocation;\r\n\r\n    public TextGame() {\r\n        this.currentLocation = &quot;start&quot;;\r\n    }\r\n\r\n    public String getCurrentLocation() {\r\n        return currentLocation;\r\n    }\r\n\r\n    public void handlePlayerInput(String input) {\r\n        if (input.equalsIgnoreCase(&quot;go north&quot;)) {\r\n            currentLocation = &quot;north_location&quot;;\r\n        } else if (input.equalsIgnoreCase(&quot;go south&quot;)) {\r\n            currentLocation = &quot;south_location&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**jsp** files:\r\n\r\n**game.jsp**\r\n\r\n```lang-jsp\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Текстова гра - Гравець: ${sessionScope.playerName}&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Вітаємо, ${sessionScope.playerName}!&lt;/h1&gt;\r\n\r\n    &lt;p&gt;Ви знаходитесь в ${sessionScope.game.currentLocation}.&lt;/p&gt;\r\n\r\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;playerInput&quot;&gt;Введіть команду:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;playerInput&quot; name=&quot;playerInput&quot; required&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Виконати&quot;&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**index.jsp**\r\n\r\n```lang-xhtml\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Текстова гра&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;playerName&quot;&gt;Введіть ваше ім&#39;я:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;playerName&quot; name=&quot;playerName&quot; required&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Почати гру&quot;&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nI&#39;ve trying import like:\r\n```lang-jsp\r\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \r\n```\r\nor:\r\n```lang-jsp\r\n&lt;%@ page import=&quot;com.example.TextGame&quot; %&gt;\r\n&lt;%@ page import=&quot;com.example.GameServlet&quot; %&gt;\r\n&lt;%@ page import=&quot;java.util.Scanner&quot; %&gt;\r\n```\r\nbut it doesn&#39;t work ","title":"Can&#39;t access variables in imported .java classes in .jsp file","body":"<p>I have a problem with importing a class into a .jsp file. When I try to import the program keeps working, but I can't access the variables. I am trying to import the GameServlet.java class into game.jsp.</p>\n<p>import like:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \n</code></pre>\n<p>for some reason it doesn't work</p>\n<p>The structure of the project is:</p>\n<ul>\n<li>demo\n<ul>\n<li>src\n<ul>\n<li>main\n<ul>\n<li>java\n<ul>\n<li>com.example\n<ul>\n<li>GameServlet.java</li>\n<li>TextGame.java</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>resources</li>\n<li>webapp\n<ul>\n<li>WEB-INF\n<ul>\n<li>web.xml</li>\n</ul>\n</li>\n<li>game.jsp</li>\n<li>index.jsp</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>target</li>\n<li>pom.xml</li>\n</ul>\n</li>\n</ul>\n<p>My .xml look like this:</p>\n<p><strong>xml file</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;!-- Servlet Mapping --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.example.MyServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/myservlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>java</strong> classes:</p>\n<p><strong>GameServlet.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n@WebServlet(&quot;/GameServlet&quot;)\npublic class GameServlet extends HttpServlet {\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        HttpSession session = request.getSession();\n        String playerName = (String) session.getAttribute(&quot;playerName&quot;);\n\n        session.setAttribute(&quot;game&quot;, new TextGame());\n\n        response.sendRedirect(&quot;game.jsp&quot;);\n    }\n}\n</code></pre>\n<p><strong>TextGame.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic class TextGame {\n    private String currentLocation;\n\n    public TextGame() {\n        this.currentLocation = &quot;start&quot;;\n    }\n\n    public String getCurrentLocation() {\n        return currentLocation;\n    }\n\n    public void handlePlayerInput(String input) {\n        if (input.equalsIgnoreCase(&quot;go north&quot;)) {\n            currentLocation = &quot;north_location&quot;;\n        } else if (input.equalsIgnoreCase(&quot;go south&quot;)) {\n            currentLocation = &quot;south_location&quot;;\n        }\n    }\n}\n</code></pre>\n<p><strong>jsp</strong> files:</p>\n<p><strong>game.jsp</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Текстова гра - Гравець: ${sessionScope.playerName}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Вітаємо, ${sessionScope.playerName}!&lt;/h1&gt;\n\n    &lt;p&gt;Ви знаходитесь в ${sessionScope.game.currentLocation}.&lt;/p&gt;\n\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\n        &lt;label for=&quot;playerInput&quot;&gt;Введіть команду:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; id=&quot;playerInput&quot; name=&quot;playerInput&quot; required&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Виконати&quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>index.jsp</strong></p>\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Текстова гра&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\n        &lt;label for=&quot;playerName&quot;&gt;Введіть ваше ім'я:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; id=&quot;playerName&quot; name=&quot;playerName&quot; required&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Почати гру&quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I've trying import like:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \n</code></pre>\n<p>or:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=&quot;com.example.TextGame&quot; %&gt;\n&lt;%@ page import=&quot;com.example.GameServlet&quot; %&gt;\n&lt;%@ page import=&quot;java.util.Scanner&quot; %&gt;\n</code></pre>\n<p>but it doesn't work</p>\n"},{"tags":["java","android","kotlin","xiaomi"],"owner":{"account_id":6322843,"reputation":1192,"user_id":4910203,"accept_rate":71,"display_name":"QuarK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701270079,"creation_date":1701270079,"question_id":77572286,"body_markdown":"I have a problem with getting `WindowManager` inside some service on some phone models.\r\n\r\nI have written service that inherits `CallScreeningService`, I use it to handle incoming calls and draw views on locked screen. On most devices my service works fine, but I found it doesn&#39;t work on some Xiaomi devices (for instance Redmi Note 7, Xiaomi MI MAX 3).\r\n\r\nService has problems with getting `WindowManager`:\r\n\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    class MyCallScreeningService : CallScreeningService() {\r\n\r\n        private var windowManager: WindowManager? = null\r\n\r\n        override fun onScreenCall(details: Call.Details) {\r\n            if (details.callDirection == Call.Details.DIRECTION_INCOMING) {\r\n                details.handle?.schemeSpecificPart?.onlyDigits()?.let { phoneNumber -&gt;\r\n                    if (phoneNumber.isNotEmpty()) {\r\n                        CoroutineScope(Dispatchers.IO).launch {\r\n                            requestPhoneInfoFromDb(phoneNumber)?.let { phonebookEntry -&gt;\r\n                                CoroutineScope(Dispatchers.Main).launch {\r\n                                    showCallInfoView(phoneNumber, phonebookEntry)\r\n                                    respondToCall(details, CallResponse.Builder().build())\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private fun showCallInfoView(number: String, phonebookEntry: PhonebookEntity) {\r\n            windowManager = getSystemService(Service.WINDOW_SERVICE) as WindowManager\r\n\r\n            //building view...\r\n        }\r\n    }\r\n\r\nError happens when I call `getSystemService(Service.WINDOW_SERVICE) as WindowManager`, on Xiaomi I get an exception:\r\n\r\n&gt; Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\r\n&gt; WindowManager should be accessed from Activity or other visual Context. Use an Activity or a Context created with Context#createWindowContext(int, Bundle), which are adjusted to the configuration and visual bounds of an area on screen.  \r\n&gt; java.lang.IllegalAccessException: Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\r\n&gt; at android.app.ContextImpl.getSystemService(ContextImpl.java:2125)  \r\n&gt; at android.content.ContextWrapper.getSystemService(ContextWrapper.java:910)  \r\n&gt; at MyCallScreeningService.x(MyCallScreeningService.kt:3)  \r\n&gt; at MyCallScreeningService.h(MyCallScreeningService.kt:1)  \r\n&gt; at MyCallScreeningService$g.invokeSuspend(MyCallScreeningService.kt:52)  \r\n&gt; at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:12) \r\n\r\nI have tried many ways to use services&#39;s `Context` here or pass it to the service, but I always got the same exception. Hope someone has any ideas about this problem. I can add more details if it will be needed.","title":"Getting WindowManager in CallScreeningService on Xiaomi","body":"<p>I have a problem with getting <code>WindowManager</code> inside some service on some phone models.</p>\n<p>I have written service that inherits <code>CallScreeningService</code>, I use it to handle incoming calls and draw views on locked screen. On most devices my service works fine, but I found it doesn't work on some Xiaomi devices (for instance Redmi Note 7, Xiaomi MI MAX 3).</p>\n<p>Service has problems with getting <code>WindowManager</code>:</p>\n<pre><code>@RequiresApi(Build.VERSION_CODES.Q)\nclass MyCallScreeningService : CallScreeningService() {\n\n    private var windowManager: WindowManager? = null\n\n    override fun onScreenCall(details: Call.Details) {\n        if (details.callDirection == Call.Details.DIRECTION_INCOMING) {\n            details.handle?.schemeSpecificPart?.onlyDigits()?.let { phoneNumber -&gt;\n                if (phoneNumber.isNotEmpty()) {\n                    CoroutineScope(Dispatchers.IO).launch {\n                        requestPhoneInfoFromDb(phoneNumber)?.let { phonebookEntry -&gt;\n                            CoroutineScope(Dispatchers.Main).launch {\n                                showCallInfoView(phoneNumber, phonebookEntry)\n                                respondToCall(details, CallResponse.Builder().build())\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private fun showCallInfoView(number: String, phonebookEntry: PhonebookEntity) {\n        windowManager = getSystemService(Service.WINDOW_SERVICE) as WindowManager\n\n        //building view...\n    }\n}\n</code></pre>\n<p>Error happens when I call <code>getSystemService(Service.WINDOW_SERVICE) as WindowManager</code>, on Xiaomi I get an exception:</p>\n<blockquote>\n<p>Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\nWindowManager should be accessed from Activity or other visual Context. Use an Activity or a Context created with Context#createWindowContext(int, Bundle), which are adjusted to the configuration and visual bounds of an area on screen.<br />\njava.lang.IllegalAccessException: Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\nat android.app.ContextImpl.getSystemService(ContextImpl.java:2125)<br />\nat android.content.ContextWrapper.getSystemService(ContextWrapper.java:910)<br />\nat MyCallScreeningService.x(MyCallScreeningService.kt:3)<br />\nat MyCallScreeningService.h(MyCallScreeningService.kt:1)<br />\nat MyCallScreeningService$g.invokeSuspend(MyCallScreeningService.kt:52)<br />\nat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:12)</p>\n</blockquote>\n<p>I have tried many ways to use services's <code>Context</code> here or pass it to the service, but I always got the same exception. Hope someone has any ideas about this problem. I can add more details if it will be needed.</p>\n"},{"tags":["java","spring","http2","undertow"],"answers":[{"tags":[],"owner":{"account_id":15341301,"reputation":33,"user_id":12106667,"display_name":"Oleksii Dobroshtan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696944963,"creation_date":1696944963,"answer_id":77266281,"question_id":77264692,"body_markdown":"Ohhh... this tricky issue with Underthow... When I used Tomcat as an application server - there were no problems, however there was a necessity to change it to Underthow...\r\n\r\nHope, you will find a solution!\r\n","title":"Undertow HTTP2: request threads exhausted with threads stuck in org.xnio.conduits...awaitReadable/Writable operations","body":"<p>Ohhh... this tricky issue with Underthow... When I used Tomcat as an application server - there were no problems, however there was a necessity to change it to Underthow...</p>\n<p>Hope, you will find a solution!</p>\n"}],"owner":{"account_id":7491103,"reputation":171,"user_id":5710331,"display_name":"Andriy Yarish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701269752,"creation_date":1696931584,"question_id":77264692,"body_markdown":"Something occasionally happened for one random instance of 5 available instances few times in a day. Worker threads get stucked, after exhausting all the worker threads service fail to respond a health check and get restarted.\r\nWe observe that problem occurs with POST/PUT/PATCH requests.\r\nThose stucked requests runs for tens of minutes and then are reported as failed with status code 400 || 500.\r\nBlocked threads grows quickly and in few minutes could exhauste all pool, and they grow only on a single instance other 4 works fine.\r\n\r\n\r\nSpring boot version 3.1.4 / 3.0.11\r\n**Spring Cloud Gateway.(Netty) &lt;-&gt;(http2 SSL) Spring based service with REST endpoint(Undertow).**\r\n\r\nWe add an Undertow StuckThreadDetector and it reports a stacktrace like:\r\n\r\n\r\n```\r\njava.lang.Throwable: null\r\n    at java.base@17.0.2/java.lang.Object.wait(Native Method)\r\n    at java.base@17.0.2/java.lang.Object.wait(Object.java:338)\r\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSourceChannel.awaitReadable(AbstractFramedStreamSourceChannel.java:354)\r\n    at org.xnio.conduits.StreamSourceChannelWrappingConduit.awaitReadable(StreamSourceChannelWrappingConduit.java:71)\r\n    at org.xnio.conduits.ConduitStreamSourceChannel.awaitReadable(ConduitStreamSourceChannel.java:151)\r\n    at io.undertow.channels.DetachableStreamSourceChannel.awaitReadable(DetachableStreamSourceChannel.java:77)\r\n    at io.undertow.server.HttpServerExchange$ReadDispatchChannel.awaitReadable(HttpServerExchange.java:2305)\r\n    at org.xnio.channels.Channels.readBlocking(Channels.java:345)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.readIntoBuffer(ServletInputStreamImpl.java:201)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:176)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:162)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:153)\r\n    at java.base@17.0.2/java.io.FilterInputStream.read(FilterInputStream.java:82)\r\n    at java.base@17.0.2/java.io.PushbackInputStream.read(PushbackInputStream.java:135)\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver$EmptyBodyCheckingHttpInputMessage.&lt;init&gt;(AbstractMessageConverterMethodArgumentResolver.java:331)\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:172)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)\r\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\r\n```\r\n\r\n\r\n```\r\njava.lang.Throwable: null\r\n    at java.lang.Object.wait(Object.java)\r\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:329)\r\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:313)\r\n    at org.xnio.conduits.StreamSinkChannelWrappingConduit.awaitWritable(StreamSinkChannelWrappingConduit.java:99)\r\n    at org.xnio.conduits.ConduitStreamSinkChannel.awaitWritable(ConduitStreamSinkChannel.java:134)\r\n    at io.undertow.channels.DetachableStreamSinkChannel.awaitWritable(DetachableStreamSinkChannel.java:87)\r\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.awaitWritable(HttpServerExchange.java:2141)\r\n    // ... 183 frames truncated\r\n\r\n```\r\n\r\n\r\nThis guys mention similar issue https://access.redhat.com/solutions/6988036. - but there are no info how they fix it.\r\n\r\nWe add an Undertow StuckThreadDetector to catch the thread&#39;s stacktrace.\r\nWe are going to try to BlockingReadTimeoutHandler BlockingWriteTimeoutHandler to fail fast when there are a problems in undertow awaitReadable/awaitWritable, but we are still looking for a root cause of such a random issue.","title":"Undertow HTTP2: request threads exhausted with threads stuck in org.xnio.conduits...awaitReadable/Writable operations","body":"<p>Something occasionally happened for one random instance of 5 available instances few times in a day. Worker threads get stucked, after exhausting all the worker threads service fail to respond a health check and get restarted.\nWe observe that problem occurs with POST/PUT/PATCH requests.\nThose stucked requests runs for tens of minutes and then are reported as failed with status code 400 || 500.\nBlocked threads grows quickly and in few minutes could exhauste all pool, and they grow only on a single instance other 4 works fine.</p>\n<p>Spring boot version 3.1.4 / 3.0.11\n<strong>Spring Cloud Gateway.(Netty) &lt;-&gt;(http2 SSL) Spring based service with REST endpoint(Undertow).</strong></p>\n<p>We add an Undertow StuckThreadDetector and it reports a stacktrace like:</p>\n<pre><code>java.lang.Throwable: null\n    at java.base@17.0.2/java.lang.Object.wait(Native Method)\n    at java.base@17.0.2/java.lang.Object.wait(Object.java:338)\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSourceChannel.awaitReadable(AbstractFramedStreamSourceChannel.java:354)\n    at org.xnio.conduits.StreamSourceChannelWrappingConduit.awaitReadable(StreamSourceChannelWrappingConduit.java:71)\n    at org.xnio.conduits.ConduitStreamSourceChannel.awaitReadable(ConduitStreamSourceChannel.java:151)\n    at io.undertow.channels.DetachableStreamSourceChannel.awaitReadable(DetachableStreamSourceChannel.java:77)\n    at io.undertow.server.HttpServerExchange$ReadDispatchChannel.awaitReadable(HttpServerExchange.java:2305)\n    at org.xnio.channels.Channels.readBlocking(Channels.java:345)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.readIntoBuffer(ServletInputStreamImpl.java:201)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:176)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:162)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:153)\n    at java.base@17.0.2/java.io.FilterInputStream.read(FilterInputStream.java:82)\n    at java.base@17.0.2/java.io.PushbackInputStream.read(PushbackInputStream.java:135)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver$EmptyBodyCheckingHttpInputMessage.&lt;init&gt;(AbstractMessageConverterMethodArgumentResolver.java:331)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:172)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\n</code></pre>\n<pre><code>java.lang.Throwable: null\n    at java.lang.Object.wait(Object.java)\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:329)\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:313)\n    at org.xnio.conduits.StreamSinkChannelWrappingConduit.awaitWritable(StreamSinkChannelWrappingConduit.java:99)\n    at org.xnio.conduits.ConduitStreamSinkChannel.awaitWritable(ConduitStreamSinkChannel.java:134)\n    at io.undertow.channels.DetachableStreamSinkChannel.awaitWritable(DetachableStreamSinkChannel.java:87)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.awaitWritable(HttpServerExchange.java:2141)\n    // ... 183 frames truncated\n\n</code></pre>\n<p>This guys mention similar issue <a href=\"https://access.redhat.com/solutions/6988036\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/6988036</a>. - but there are no info how they fix it.</p>\n<p>We add an Undertow StuckThreadDetector to catch the thread's stacktrace.\nWe are going to try to BlockingReadTimeoutHandler BlockingWriteTimeoutHandler to fail fast when there are a problems in undertow awaitReadable/awaitWritable, but we are still looking for a root cause of such a random issue.</p>\n"},{"tags":["java","android","android-camera","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1702270649,"post_id":77572197,"comment_id":136871570,"body_markdown":"What&#39;s your device model? CameraX only works with CTS compatible devices. From your description, it might not be one.","body":"What&#39;s your device model? CameraX only works with CTS compatible devices. From your description, it might not be one."},{"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"score":0,"creation_date":1702337727,"post_id":77572197,"comment_id":136881689,"body_markdown":"It&#39;s a Diji SOM. I have been using camera2 so far. I don&#39;t have a requirement to use camerax. I can test it with the CTS.","body":"It&#39;s a Diji SOM. I have been using camera2 so far. I don&#39;t have a requirement to use camerax. I can test it with the CTS."}],"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701269470,"creation_date":1701269470,"question_id":77572197,"body_markdown":"My app shows preview of the camera and saves pics to files. Both the preview and the saved pics only show part of the what the camera can see. The image is clearly cropped/clipped. How do I configure image capture to show the entire field of view of the camera?\r\n\r\nThe target app is an embedded system using a USB cam, but the problem happens in the emulator when configured for webcam0 -- the web cam I have connected to may laptop via USB. So, it&#39;s a similar setup. And the problematic behavior occurs in both this test/emulator setup as well as my embedded production setup. So, I think the issue is android -- not my embedded system configuration.\r\n\r\nI have tried using both Camera2 and CameraX and I get the same behavior.\r\n\r\nIn an effort to share here I did follow this guide to create a simple camera app: https://developer.android.com/codelabs/camerax-getting-started. I know it&#39;s not a small code example, but it&#39;s the best I could think of since I don&#39;t know what part of the code is relevant. \r\n\r\nThe resulting app has the problem -- at least for me it does. Here&#39;s a snap of the app. It shows 1/2 of me when I know the camera is centered on me.\r\n\r\n[![enter image description here][1]][1] \r\n\r\nSomewhat oddly but maybe there&#39;s a clue here, if I rotate the emulated device, I then see a fuller view of the camera:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is not even the complete view. Here&#39;s a snap from webcamtest:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI added this to the activity in hopes it would force the view to show the full view:\r\n\r\n        viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\r\n\r\nBut it has no effect :(\r\n\r\nMy app is in Java, but the getting-started app is Kotlin. The problem happens in either language so I&#39;m open to talk about the issue and solutions in either language. I&#39;ll translate to Java if need be.\r\n\r\nHere&#39;s the activity code:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var viewBinding: ActivityMainBinding\r\n    \r\n        private var imageCapture: ImageCapture? = null\r\n    \r\n        private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\r\n        private var recording: Recording? = null\r\n    \r\n        private lateinit var cameraExecutor: ExecutorService\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            viewBinding = ActivityMainBinding.inflate(layoutInflater)\r\n            setContentView(viewBinding.root)\r\n    \r\n            // Request camera permissions\r\n            if (allPermissionsGranted()) {\r\n                startCamera()\r\n            } else {\r\n                requestPermissions()\r\n            }\r\n    \r\n            // Set up the listeners for take photo and video capture buttons\r\n            viewBinding.imageCaptureButton.setOnClickListener { takePhoto() }\r\n            viewBinding.videoCaptureButton.setOnClickListener { captureVideo() }\r\n    \r\n            var scaleType = viewBinding.viewFinder.getScaleType();\r\n            viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\r\n            scaleType = viewBinding.viewFinder.getScaleType();\r\n    \r\n            cameraExecutor = Executors.newSingleThreadExecutor()\r\n        }\r\n    \r\n        private fun takePhoto() {\r\n            // Get a stable reference of the modifiable image capture use case\r\n            val imageCapture = imageCapture ?: return\r\n    \r\n            // Create time stamped name and MediaStore entry.\r\n            val name = SimpleDateFormat(FILENAME_FORMAT, Locale.US)\r\n                .format(System.currentTimeMillis())\r\n            val contentValues = ContentValues().apply {\r\n                put(MediaStore.MediaColumns.DISPLAY_NAME, name)\r\n                put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\r\n                if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\r\n                    put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/CameraX-Image&quot;)\r\n                }\r\n            }\r\n    \r\n            // Create output options object which contains file + metadata\r\n            val outputOptions = ImageCapture.OutputFileOptions\r\n                .Builder(contentResolver,\r\n                    MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                    contentValues)\r\n                .build()\r\n    \r\n            // Set up image capture listener, which is triggered after photo has\r\n            // been taken\r\n            imageCapture.takePicture(\r\n                outputOptions,\r\n                ContextCompat.getMainExecutor(this),\r\n                object : ImageCapture.OnImageSavedCallback {\r\n                    override fun onError(exc: ImageCaptureException) {\r\n                        Log.e(TAG, &quot;Photo capture failed: ${exc.message}&quot;, exc)\r\n                    }\r\n    \r\n                    override fun\r\n                            onImageSaved(output: ImageCapture.OutputFileResults){\r\n                        val msg = &quot;Photo capture succeeded: ${output.savedUri}&quot;\r\n                        Toast.makeText(baseContext, msg, Toast.LENGTH_SHORT).show()\r\n                        Log.d(TAG, msg)\r\n                    }\r\n                }\r\n            )}\r\n    \r\n        private fun captureVideo() {}\r\n    \r\n        private fun startCamera() {\r\n            val cameraProviderFuture = ProcessCameraProvider.getInstance(this)\r\n    \r\n            cameraProviderFuture.addListener({\r\n                // Used to bind the lifecycle of cameras to the lifecycle owner\r\n                val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()\r\n    \r\n                // Preview\r\n                val preview = Preview.Builder()\r\n                    .build()\r\n                    .also {\r\n                        it.setSurfaceProvider(viewBinding.viewFinder.surfaceProvider)\r\n                    }\r\n                imageCapture = ImageCapture.Builder().build()\r\n    \r\n                // Select back camera as a default\r\n                val cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA\r\n    \r\n                try {\r\n                    // Unbind use cases before rebinding\r\n                    cameraProvider.unbindAll()\r\n    \r\n                    // Bind use cases to camera\r\n                    cameraProvider.bindToLifecycle(\r\n                        this, cameraSelector, preview, imageCapture)\r\n    \r\n                } catch(exc: Exception) {\r\n                    Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n                }\r\n    \r\n            }, ContextCompat.getMainExecutor(this))\r\n        }\r\n    \r\n        private fun requestPermissions() {\r\n            activityResultLauncher.launch(REQUIRED_PERMISSIONS)\r\n        }\r\n    \r\n        private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\r\n            ContextCompat.checkSelfPermission(\r\n                baseContext, it) == PackageManager.PERMISSION_GRANTED\r\n        }\r\n    \r\n        override fun onDestroy() {\r\n            super.onDestroy()\r\n            cameraExecutor.shutdown()\r\n        }\r\n    \r\n        companion object {\r\n            private const val TAG = &quot;CameraXApp&quot;\r\n            private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\r\n            private val REQUIRED_PERMISSIONS =\r\n                mutableListOf (\r\n                    Manifest.permission.CAMERA,\r\n                    Manifest.permission.RECORD_AUDIO\r\n                ).apply {\r\n                    if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P) {\r\n                        add(Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                    }\r\n                }.toTypedArray()\r\n        }\r\n    \r\n        private val activityResultLauncher =\r\n            registerForActivityResult(\r\n                ActivityResultContracts.RequestMultiplePermissions())\r\n            { permissions -&gt;\r\n                // Handle Permission granted/rejected\r\n                var permissionGranted = true\r\n                permissions.entries.forEach {\r\n                    if (it.key in REQUIRED_PERMISSIONS &amp;&amp; it.value == false)\r\n                        permissionGranted = false\r\n                }\r\n                if (!permissionGranted) {\r\n                    Toast.makeText(baseContext,\r\n                        &quot;Permission request denied&quot;,\r\n                        Toast.LENGTH_SHORT).show()\r\n                } else {\r\n                    startCamera()\r\n                }\r\n            }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Cn4o5.png\r\n  [2]: https://i.stack.imgur.com/A5A4m.png\r\n  [3]: https://i.stack.imgur.com/XDfoB.png\r\n","title":"Camera output is always cropped via Android Camera2/CameraX. How to show full view?","body":"<p>My app shows preview of the camera and saves pics to files. Both the preview and the saved pics only show part of the what the camera can see. The image is clearly cropped/clipped. How do I configure image capture to show the entire field of view of the camera?</p>\n<p>The target app is an embedded system using a USB cam, but the problem happens in the emulator when configured for webcam0 -- the web cam I have connected to may laptop via USB. So, it's a similar setup. And the problematic behavior occurs in both this test/emulator setup as well as my embedded production setup. So, I think the issue is android -- not my embedded system configuration.</p>\n<p>I have tried using both Camera2 and CameraX and I get the same behavior.</p>\n<p>In an effort to share here I did follow this guide to create a simple camera app: <a href=\"https://developer.android.com/codelabs/camerax-getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/camerax-getting-started</a>. I know it's not a small code example, but it's the best I could think of since I don't know what part of the code is relevant.</p>\n<p>The resulting app has the problem -- at least for me it does. Here's a snap of the app. It shows 1/2 of me when I know the camera is centered on me.</p>\n<p><a href=\"https://i.stack.imgur.com/Cn4o5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cn4o5.png\" alt=\"enter image description here\" /></a></p>\n<p>Somewhat oddly but maybe there's a clue here, if I rotate the emulated device, I then see a fuller view of the camera:</p>\n<p><a href=\"https://i.stack.imgur.com/A5A4m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A5A4m.png\" alt=\"enter image description here\" /></a></p>\n<p>This is not even the complete view. Here's a snap from webcamtest:</p>\n<p><a href=\"https://i.stack.imgur.com/XDfoB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDfoB.png\" alt=\"enter image description here\" /></a></p>\n<p>I added this to the activity in hopes it would force the view to show the full view:</p>\n<pre><code>    viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\n</code></pre>\n<p>But it has no effect :(</p>\n<p>My app is in Java, but the getting-started app is Kotlin. The problem happens in either language so I'm open to talk about the issue and solutions in either language. I'll translate to Java if need be.</p>\n<p>Here's the activity code:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var viewBinding: ActivityMainBinding\n\n    private var imageCapture: ImageCapture? = null\n\n    private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\n    private var recording: Recording? = null\n\n    private lateinit var cameraExecutor: ExecutorService\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        viewBinding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(viewBinding.root)\n\n        // Request camera permissions\n        if (allPermissionsGranted()) {\n            startCamera()\n        } else {\n            requestPermissions()\n        }\n\n        // Set up the listeners for take photo and video capture buttons\n        viewBinding.imageCaptureButton.setOnClickListener { takePhoto() }\n        viewBinding.videoCaptureButton.setOnClickListener { captureVideo() }\n\n        var scaleType = viewBinding.viewFinder.getScaleType();\n        viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\n        scaleType = viewBinding.viewFinder.getScaleType();\n\n        cameraExecutor = Executors.newSingleThreadExecutor()\n    }\n\n    private fun takePhoto() {\n        // Get a stable reference of the modifiable image capture use case\n        val imageCapture = imageCapture ?: return\n\n        // Create time stamped name and MediaStore entry.\n        val name = SimpleDateFormat(FILENAME_FORMAT, Locale.US)\n            .format(System.currentTimeMillis())\n        val contentValues = ContentValues().apply {\n            put(MediaStore.MediaColumns.DISPLAY_NAME, name)\n            put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\n            if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\n                put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/CameraX-Image&quot;)\n            }\n        }\n\n        // Create output options object which contains file + metadata\n        val outputOptions = ImageCapture.OutputFileOptions\n            .Builder(contentResolver,\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n                contentValues)\n            .build()\n\n        // Set up image capture listener, which is triggered after photo has\n        // been taken\n        imageCapture.takePicture(\n            outputOptions,\n            ContextCompat.getMainExecutor(this),\n            object : ImageCapture.OnImageSavedCallback {\n                override fun onError(exc: ImageCaptureException) {\n                    Log.e(TAG, &quot;Photo capture failed: ${exc.message}&quot;, exc)\n                }\n\n                override fun\n                        onImageSaved(output: ImageCapture.OutputFileResults){\n                    val msg = &quot;Photo capture succeeded: ${output.savedUri}&quot;\n                    Toast.makeText(baseContext, msg, Toast.LENGTH_SHORT).show()\n                    Log.d(TAG, msg)\n                }\n            }\n        )}\n\n    private fun captureVideo() {}\n\n    private fun startCamera() {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(this)\n\n        cameraProviderFuture.addListener({\n            // Used to bind the lifecycle of cameras to the lifecycle owner\n            val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()\n\n            // Preview\n            val preview = Preview.Builder()\n                .build()\n                .also {\n                    it.setSurfaceProvider(viewBinding.viewFinder.surfaceProvider)\n                }\n            imageCapture = ImageCapture.Builder().build()\n\n            // Select back camera as a default\n            val cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA\n\n            try {\n                // Unbind use cases before rebinding\n                cameraProvider.unbindAll()\n\n                // Bind use cases to camera\n                cameraProvider.bindToLifecycle(\n                    this, cameraSelector, preview, imageCapture)\n\n            } catch(exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n            }\n\n        }, ContextCompat.getMainExecutor(this))\n    }\n\n    private fun requestPermissions() {\n        activityResultLauncher.launch(REQUIRED_PERMISSIONS)\n    }\n\n    private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\n        ContextCompat.checkSelfPermission(\n            baseContext, it) == PackageManager.PERMISSION_GRANTED\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        cameraExecutor.shutdown()\n    }\n\n    companion object {\n        private const val TAG = &quot;CameraXApp&quot;\n        private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\n        private val REQUIRED_PERMISSIONS =\n            mutableListOf (\n                Manifest.permission.CAMERA,\n                Manifest.permission.RECORD_AUDIO\n            ).apply {\n                if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P) {\n                    add(Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                }\n            }.toTypedArray()\n    }\n\n    private val activityResultLauncher =\n        registerForActivityResult(\n            ActivityResultContracts.RequestMultiplePermissions())\n        { permissions -&gt;\n            // Handle Permission granted/rejected\n            var permissionGranted = true\n            permissions.entries.forEach {\n                if (it.key in REQUIRED_PERMISSIONS &amp;&amp; it.value == false)\n                    permissionGranted = false\n            }\n            if (!permissionGranted) {\n                Toast.makeText(baseContext,\n                    &quot;Permission request denied&quot;,\n                    Toast.LENGTH_SHORT).show()\n            } else {\n                startCamera()\n            }\n        }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":8298573,"reputation":13,"user_id":6237970,"display_name":"Branden R"},"score":0,"creation_date":1461422639,"post_id":36812162,"comment_id":61197226,"body_markdown":"it doesnt allow me to comment out and use the attached ui because it defined after the method, not before. and adapter.notifyDataSetChanged() also isnt available in the makeList() function","body":"it doesnt allow me to comment out and use the attached ui because it defined after the method, not before. and adapter.notifyDataSetChanged() also isnt available in the makeList() function"},{"owner":{"account_id":8298573,"reputation":13,"user_id":6237970,"display_name":"Branden R"},"score":0,"creation_date":1461422789,"post_id":36812162,"comment_id":61197284,"body_markdown":"I put final GlimpseListFragment glimpse = new GlimpseListFragment(); so it using the same instance and data is being stored, its still not displaying","body":"I put final GlimpseListFragment glimpse = new GlimpseListFragment(); so it using the same instance and data is being stored, its still not displaying"},{"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"score":0,"creation_date":1461422899,"post_id":36812162,"comment_id":61197332,"body_markdown":"ok. since here arrayadapter is used, can try setting a new Adapter in makeList() and the  setListAdapter(adapter) again in makeList","body":"ok. since here arrayadapter is used, can try setting a new Adapter in makeList() and the  setListAdapter(adapter) again in makeList"}],"tags":[],"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461422214,"creation_date":1461422214,"answer_id":36812162,"question_id":36811719,"body_markdown":"I guess two problems,\r\n1. makelist call is made on new instance of fragment which is not attached to UI.\r\n2. notifydatasetchagned is not called in makelist, once the data is modified.\r\n\r\nCan you try with below changes:\r\n1. In Activity, use the same fragment instance instead of creating new Fragment instance\r\n\r\n                        \r\n                //GlimpseListFragment glimpse = new GlimpseListFragment();\r\n             // use the previously created instance, which is attached to UI\r\n                glimpse.makeList(s);\r\n\r\nDont create new, better put this code after committing the fragment.\r\n\r\n2. call adapter.notifyDataSetChanged() in the makeList() function.","title":"ListFragment not displaying data","body":"<p>I guess two problems,\n1. makelist call is made on new instance of fragment which is not attached to UI.\n2. notifydatasetchagned is not called in makelist, once the data is modified.</p>\n\n<p>Can you try with below changes:\n1. In Activity, use the same fragment instance instead of creating new Fragment instance</p>\n\n<pre><code>            //GlimpseListFragment glimpse = new GlimpseListFragment();\n         // use the previously created instance, which is attached to UI\n            glimpse.makeList(s);\n</code></pre>\n\n<p>Dont create new, better put this code after committing the fragment.</p>\n\n<ol start=\"2\">\n<li>call adapter.notifyDataSetChanged() in the makeList() function.</li>\n</ol>\n"}],"owner":{"account_id":8298573,"reputation":13,"user_id":6237970,"display_name":"Branden R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36812162,"answer_count":1,"score":0,"last_activity_date":1701269285,"creation_date":1461419767,"question_id":36811719,"body_markdown":"I can&#39;t figure out why the data is not being shown in the list view. It is storing it to the Array list, because when I check to see if it is null, it returns false (meaning that it has information).\r\n\r\nMain Activity:\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.design.widget.NavigationView;\r\n    import android.support.v4.view.GravityCompat;\r\n    import android.support.v4.widget.DrawerLayout;\r\n    import android.support.v7.app.ActionBarDrawerToggle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.MenuItem;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.kosalgeek.genasync12.AsyncResponse;\r\n    import com.kosalgeek.genasync12.PostResponseAsyncTask;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\r\n        ListView lvGlimpse;\r\n        public List&lt;UniverseListing&gt;universalListings = new ArrayList&lt;UniverseListing&gt;();\r\n    \r\n        NavigationView navigationView;\r\n        Toolbar toolbar;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            String url = &quot;http://goldleafcomics.com/application/UniverseGlimpse.JSON&quot;;\r\n            PostResponseAsyncTask task = new PostResponseAsyncTask(MainActivity.this, new AsyncResponse() {\r\n                @Override\r\n                public void processFinish(String s) {\r\n                    Toast.makeText(MainActivity.this, &quot;Application Data Refreshed&quot;, Toast.LENGTH_LONG).show();\r\n                    GlimpseListFragment glimpse = new GlimpseListFragment();\r\n                    glimpse.makeList(s);\r\n                }\r\n            });\r\n            task.execute(url);\r\n    \r\n            GlimpseListFragment fragment = new GlimpseListFragment();\r\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n            fragmentTransaction.commit();\r\n    \r\n            toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            getSupportActionBar().setTitle(&quot;Goldleaf Comics!&quot;);\r\n            \r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.setDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n        }\r\n        \r\n        @Override\r\n        public void onBackPressed() {\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\r\n        @Override\r\n        public boolean onNavigationItemSelected(MenuItem item) {\r\n            // Handle navigation view item clicks here.\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.nav_news) {\r\n                getSupportActionBar().setTitle(&quot;G.C. News&quot;);\r\n            } else if (id == R.id.nav_team) {\r\n                TeamFeedFragment fragment = new TeamFeedFragment();\r\n                android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n                getSupportActionBar().setTitle(&quot;Team Feed&quot;);\r\n                fragmentTransaction.commit();\r\n            }else if(id == R.id.nav_notifications){\r\n                getSupportActionBar().setTitle(&quot;Notifications&quot;);\r\n            }else if(id == R.id.nav_comics){\r\n                getSupportActionBar().setTitle(&quot;Comics&quot;);\r\n            }else if(id == R.id.nav_glimpse){\r\n                GlimpseListFragment fragment = new GlimpseListFragment();\r\n                android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n                getSupportActionBar().setTitle(&quot;Glimpse&quot;);\r\n                fragmentTransaction.commit();\r\n            }\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            drawer.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n    }\r\n\r\nThe fragment that is not showing the list:\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.ListFragment;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.kosalgeek.android.json.JsonConverter;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class GlimpseListFragment extends ListFragment {\r\n        List&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\r\n        List&lt;UniverseListing&gt; universalListings = new ArrayList&lt;UniverseListing&gt;();\r\n    \r\n        public GlimpseListFragment() {\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\r\n            for(UniverseListing value: universalListings){\r\n                titles.add(value.universeId);\r\n            }\r\n    \r\n            ArrayList&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\r\n            for(UniverseListing value: universalListings){\r\n                glimpse.add(value.universeGlimpse);\r\n            }\r\n    \r\n            ViewGroup rootView = (ViewGroup)inflater.inflate(R.layout.fragment_glimpse_list, container, false);\r\n    \r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, glimpse);\r\n            setListAdapter(adapter);\r\n            setRetainInstance(true);\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        public void onListItemClick(ListView l, View view, int position, long id){\r\n            String item = ((TextView)view).getText().toString();\r\n            Toast.makeText(getActivity(), glimpse.indexOf(id), Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        public void makeList(String r){\r\n            ArrayList&lt;UniverseListing&gt; universalListings = new JsonConverter&lt;UniverseListing&gt;().toArrayList(r, UniverseListing.class);\r\n            if(universalListings == null){\r\n                Log.w(&quot;Glimpse&quot;, &quot;no information&quot;);\r\n            }else{\r\n                Log.w(&quot;Glimpse&quot;, &quot;information stored&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nUniverseListing:\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class UniverseListing {\r\n        @SerializedName(&quot;universe_id&quot;)\r\n        public String universeId;\r\n    \r\n        @SerializedName(&quot;universe_glimpse&quot;)\r\n        public String universeGlimpse;\r\n    \r\n        @SerializedName(&quot;universe_url&quot;)\r\n        public String universeuRL;\r\n    }","title":"ListFragment not displaying data","body":"<p>I can't figure out why the data is not being shown in the list view. It is storing it to the Array list, because when I check to see if it is null, it returns false (meaning that it has information).</p>\n<p>Main Activity:</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport android.os.Bundle;\nimport android.support.design.widget.NavigationView;\nimport android.support.v4.view.GravityCompat;\nimport android.support.v4.widget.DrawerLayout;\nimport android.support.v7.app.ActionBarDrawerToggle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.view.MenuItem;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.kosalgeek.genasync12.AsyncResponse;\nimport com.kosalgeek.genasync12.PostResponseAsyncTask;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\n    ListView lvGlimpse;\n    public List&lt;UniverseListing&gt;universalListings = new ArrayList&lt;UniverseListing&gt;();\n\n    NavigationView navigationView;\n    Toolbar toolbar;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        String url = &quot;http://goldleafcomics.com/application/UniverseGlimpse.JSON&quot;;\n        PostResponseAsyncTask task = new PostResponseAsyncTask(MainActivity.this, new AsyncResponse() {\n            @Override\n            public void processFinish(String s) {\n                Toast.makeText(MainActivity.this, &quot;Application Data Refreshed&quot;, Toast.LENGTH_LONG).show();\n                GlimpseListFragment glimpse = new GlimpseListFragment();\n                glimpse.makeList(s);\n            }\n        });\n        task.execute(url);\n\n        GlimpseListFragment fragment = new GlimpseListFragment();\n        android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.fragment_container, fragment);\n        fragmentTransaction.commit();\n\n        toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        getSupportActionBar().setTitle(&quot;Goldleaf Comics!&quot;);\n        \n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.setDrawerListener(toggle);\n        toggle.syncState();\n\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n    }\n    \n    @Override\n    public void onBackPressed() {\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        // Handle navigation view item clicks here.\n        int id = item.getItemId();\n\n        if (id == R.id.nav_news) {\n            getSupportActionBar().setTitle(&quot;G.C. News&quot;);\n        } else if (id == R.id.nav_team) {\n            TeamFeedFragment fragment = new TeamFeedFragment();\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\n            getSupportActionBar().setTitle(&quot;Team Feed&quot;);\n            fragmentTransaction.commit();\n        }else if(id == R.id.nav_notifications){\n            getSupportActionBar().setTitle(&quot;Notifications&quot;);\n        }else if(id == R.id.nav_comics){\n            getSupportActionBar().setTitle(&quot;Comics&quot;);\n        }else if(id == R.id.nav_glimpse){\n            GlimpseListFragment fragment = new GlimpseListFragment();\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\n            getSupportActionBar().setTitle(&quot;Glimpse&quot;);\n            fragmentTransaction.commit();\n        }\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n}\n</code></pre>\n<p>The fragment that is not showing the list:</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.ListFragment;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.kosalgeek.android.json.JsonConverter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GlimpseListFragment extends ListFragment {\n    List&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\n    List&lt;UniverseListing&gt; universalListings = new ArrayList&lt;UniverseListing&gt;();\n\n    public GlimpseListFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\n        for(UniverseListing value: universalListings){\n            titles.add(value.universeId);\n        }\n\n        ArrayList&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\n        for(UniverseListing value: universalListings){\n            glimpse.add(value.universeGlimpse);\n        }\n\n        ViewGroup rootView = (ViewGroup)inflater.inflate(R.layout.fragment_glimpse_list, container, false);\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, glimpse);\n        setListAdapter(adapter);\n        setRetainInstance(true);\n\n        return rootView;\n    }\n\n    public void onListItemClick(ListView l, View view, int position, long id){\n        String item = ((TextView)view).getText().toString();\n        Toast.makeText(getActivity(), glimpse.indexOf(id), Toast.LENGTH_SHORT).show();\n    }\n\n    public void makeList(String r){\n        ArrayList&lt;UniverseListing&gt; universalListings = new JsonConverter&lt;UniverseListing&gt;().toArrayList(r, UniverseListing.class);\n        if(universalListings == null){\n            Log.w(&quot;Glimpse&quot;, &quot;no information&quot;);\n        }else{\n            Log.w(&quot;Glimpse&quot;, &quot;information stored&quot;);\n        }\n    }\n}\n</code></pre>\n<p>UniverseListing:</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class UniverseListing {\n    @SerializedName(&quot;universe_id&quot;)\n    public String universeId;\n\n    @SerializedName(&quot;universe_glimpse&quot;)\n    public String universeGlimpse;\n\n    @SerializedName(&quot;universe_url&quot;)\n    public String universeuRL;\n}\n</code></pre>\n"},{"tags":["java","jpa","lombok"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701270042,"post_id":77565491,"comment_id":136755118,"body_markdown":"Could you define &quot;it didn&#39;t seem to function&quot; as you expected? If you are looking for 1 of three properties that are required to uniquely identify a row/entity, I hope you are not trying to populate a key class and leave the other attributes as null and rely on &#39;find&#39; logic. You&#39;ll need a special query that returns a list to search on that 1 attribute, as multiple rows could share that value.","body":"Could you define &quot;it didn&#39;t seem to function&quot; as you expected? If you are looking for 1 of three properties that are required to uniquely identify a row/entity, I hope you are not trying to populate a key class and leave the other attributes as null and rely on &#39;find&#39; logic. You&#39;ll need a special query that returns a list to search on that 1 attribute, as multiple rows could share that value."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701271812,"post_id":77565491,"comment_id":136755568,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26511134,"reputation":1,"user_id":20146358,"display_name":"Hyesong Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701268948,"creation_date":1701268948,"answer_id":77572138,"question_id":77565491,"body_markdown":"**No.**\r\n\r\nI&#39;m not sure why `@EmbeddedId` isn&#39;t working for you, but I would suggest trying the `@IdClass` annotation.\r\n`@IdClass` is similar to `@EmbeddedId`, but it aligns more closely with the RDB schema. It doesn&#39;t require a second depth of access like `entity.getId().getField()` to reach the fields of the primary key class.\r\n\r\nIf you want more info about difference of each annotation look [this page][1].\r\n\r\nHere&#39;s sample code:\r\n\r\n- Entity\r\n```java\r\n@Entity\r\n@IdClass(SampleEntityId.class)\r\npublic class SampleEntity {\r\n\r\n @Id\r\n private Integer id1;\r\n\r\n @Id\r\n private Integer id2;\r\n\r\n @Id\r\n private Integer id3;\r\n}\r\n```\r\n\r\n- SampleEntityId\r\n```java\r\npublic class SampleEntityId implements Serializable {\r\n  private Integer id1;\r\n  private Integer id2;\r\n  private Integer id3;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/212350/which-annotation-should-i-use-idclass-or-embeddedid","title":"java : should data of @Id field in entity be unique to one another?","body":"<p><strong>No.</strong></p>\n<p>I'm not sure why <code>@EmbeddedId</code> isn't working for you, but I would suggest trying the <code>@IdClass</code> annotation.\n<code>@IdClass</code> is similar to <code>@EmbeddedId</code>, but it aligns more closely with the RDB schema. It doesn't require a second depth of access like <code>entity.getId().getField()</code> to reach the fields of the primary key class.</p>\n<p>If you want more info about difference of each annotation look <a href=\"https://stackoverflow.com/questions/212350/which-annotation-should-i-use-idclass-or-embeddedid\">this page</a>.</p>\n<p>Here's sample code:</p>\n<ul>\n<li>Entity</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(SampleEntityId.class)\npublic class SampleEntity {\n\n @Id\n private Integer id1;\n\n @Id\n private Integer id2;\n\n @Id\n private Integer id3;\n}\n</code></pre>\n<ul>\n<li>SampleEntityId</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleEntityId implements Serializable {\n  private Integer id1;\n  private Integer id2;\n  private Integer id3;\n}\n</code></pre>\n"}],"owner":{"account_id":29861476,"reputation":3,"user_id":22885030,"display_name":"ChangshinKang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701268948,"creation_date":1701188366,"question_id":77565491,"body_markdown":"I&#39;m curious whether should the field with @Id annotation be unique to one another or not.\r\n\r\nThe reason why i&#39;m asking this is that I&#39;m creating an entity with three fields to act as a \r\nprimary key (but declaring them as EmbeddedId hasn&#39;t been done), and I need to make a logic\r\nwhen I want to search a set of rows from database with just one @Id field.\r\n\r\nSo I will not declare primary key in the table which is mapped to that entity, and I want to use\r\njust one field so that I can read a list of data that matches with it. \r\n\r\n\r\n\r\nI&#39;ve tried @EmbeddedId, but it didn&#39;t seem to function as I expected.  ","title":"java : should data of @Id field in entity be unique to one another?","body":"<p>I'm curious whether should the field with @Id annotation be unique to one another or not.</p>\n<p>The reason why i'm asking this is that I'm creating an entity with three fields to act as a\nprimary key (but declaring them as EmbeddedId hasn't been done), and I need to make a logic\nwhen I want to search a set of rows from database with just one @Id field.</p>\n<p>So I will not declare primary key in the table which is mapped to that entity, and I want to use\njust one field so that I can read a list of data that matches with it.</p>\n<p>I've tried @EmbeddedId, but it didn't seem to function as I expected.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22445574,"reputation":10719,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":7,"creation_date":1701263895,"post_id":77571441,"comment_id":136753771,"body_markdown":"There is a language independent design pattern for this. Lookup dependency injection and null strategy pattern. You define an interface with report methods (this interface is totally unaware of logging, debug or release builds). Call it DebugReportingForClassXItf or something. Then you make two implementations one that actually logs (or writes to debug terminal) and one that does absolutely nothing. The first one you instantiatie in debug builds the other one in release builds and then inject the interface into the class that should generate info.","body":"There is a language independent design pattern for this. Lookup dependency injection and null strategy pattern. You define an interface with report methods (this interface is totally unaware of logging, debug or release builds). Call it DebugReportingForClassXItf or something. Then you make two implementations one that actually logs (or writes to debug terminal) and one that does absolutely nothing. The first one you instantiatie in debug builds the other one in release builds and then inject the interface into the class that should generate info."},{"owner":{"account_id":22445574,"reputation":10719,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":3,"creation_date":1701263953,"post_id":77571441,"comment_id":136753774,"body_markdown":"This pattern extends well to all kind of infrastructure code, and even allows you to completely change infrastructure (e.g. start logging to a log server i.o. std::cerr). And your code will have no if/then/else checks just sometimes a virtual call that returns immediately and this perfectly predictable by the CPU pipeline. So yes there is some performance loss but it should be minimal (better then a missed branch prediction)","body":"This pattern extends well to all kind of infrastructure code, and even allows you to completely change infrastructure (e.g. start logging to a log server i.o. std::cerr). And your code will have no if/then/else checks just sometimes a virtual call that returns immediately and this perfectly predictable by the CPU pipeline. So yes there is some performance loss but it should be minimal (better then a missed branch prediction)"},{"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"score":0,"creation_date":1701264303,"post_id":77571441,"comment_id":136753838,"body_markdown":"I have seen dependency injection in Spring but that seems like a much bigger overhead compared to either method. Is dependency injection possible in vanilla Java or did you mean I should just replace every instance of `Logger` with `LoggerNOP` in the release build?","body":"I have seen dependency injection in Spring but that seems like a much bigger overhead compared to either method. Is dependency injection possible in vanilla Java or did you mean I should just replace every instance of <code>Logger</code> with <code>LoggerNOP</code> in the release build?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1701264352,"post_id":77571441,"comment_id":136753848,"body_markdown":"For logging, you&#39;d generally **configure** the logger per environment, e.g to disable a certain log-level or logging root, not replace the logger implementation (though that is also possible, for example if you use SLF4J, it is a matter of replacing the SLF4J implementation). Most logging implementations are very efficient when asked to log something on a level that is disabled, or if the logger itself is disabled.","body":"For logging, you&#39;d generally <b>configure</b> the logger per environment, e.g to disable a certain log-level or logging root, not replace the logger implementation (though that is also possible, for example if you use SLF4J, it is a matter of replacing the SLF4J implementation). Most logging implementations are very efficient when asked to log something on a level that is disabled, or if the logger itself is disabled."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701264532,"post_id":77571441,"comment_id":136753881,"body_markdown":"As an aside, using `System.out` for logging directly is generally a bad idea, as its methods are (internally) synchronized, which will introduce a contention bottleneck in highly concurrent applications.","body":"As an aside, using <code>System.out</code> for logging directly is generally a bad idea, as its methods are (internally) synchronized, which will introduce a contention bottleneck in highly concurrent applications."},{"owner":{"account_id":251380,"reputation":10855,"user_id":528720,"display_name":"&#214;&#246; Tiib"},"score":0,"creation_date":1701264575,"post_id":77571441,"comment_id":136753892,"body_markdown":"Java does not have compile-time constexprs, preprocessors or templates (the generics are run-time). So if you really want something gone from built product totally then you probably need to build debug and production from configuration-selected or tool-generated different java files/packages.","body":"Java does not have compile-time constexprs, preprocessors or templates (the generics are run-time). So if you really want something gone from built product totally then you probably need to build debug and production from configuration-selected or tool-generated different java files/packages."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701264718,"post_id":77571441,"comment_id":136753928,"body_markdown":"Also, bytecode is hardly optimized, most optimization, including eliminating codepaths not run, or inlining methods is done at runtime by the JIT.","body":"Also, bytecode is hardly optimized, most optimization, including eliminating codepaths not run, or inlining methods is done at runtime by the JIT."},{"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"score":0,"creation_date":1701264889,"post_id":77571441,"comment_id":136753960,"body_markdown":"@MarkRotteveel check the updated question, I didn&#39;t mean logging specifically, although that is the example I used. Do you have any suggestions on how to see the Jit compiled code?","body":"@MarkRotteveel check the updated question, I didn&#39;t mean logging specifically, although that is the example I used. Do you have any suggestions on how to see the Jit compiled code?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701265144,"post_id":77571441,"comment_id":136754012,"body_markdown":"Similar solutions would also apply for other things than logging, as Pepijn already says have two (or more) implementations, and decide at runtime through configuration/dependency injection which is used, or by including (or excluding) an implementation on a specific environment. You can configure the JVM to print out JIT information, but keep in mind, JIT will generally only kick in when specific code/methods are run enough times. For example, see [How to see JIT-compiled code in JVM?](https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm).","body":"Similar solutions would also apply for other things than logging, as Pepijn already says have two (or more) implementations, and decide at runtime through configuration/dependency injection which is used, or by including (or excluding) an implementation on a specific environment. You can configure the JVM to print out JIT information, but keep in mind, JIT will generally only kick in when specific code/methods are run enough times. For example, see <a href=\"https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm\">How to see JIT-compiled code in JVM?</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701265356,"post_id":77571441,"comment_id":136754069,"body_markdown":"@&#214;&#246;Tiib Java actually does have a limited form of compile-time constant expressions. For example, calculations with primitive or string literals, or final fields or variables that are assigned another constant expressions will be evaluated and inlined at compile-time.","body":"@&#214;&#246;Tiib Java actually does have a limited form of compile-time constant expressions. For example, calculations with primitive or string literals, or final fields or variables that are assigned another constant expressions will be evaluated and inlined at compile-time."},{"owner":{"account_id":22445574,"reputation":10719,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":2,"creation_date":1701265437,"post_id":77571441,"comment_id":136754085,"body_markdown":"As with any perceived performance issue it is not an issue until you&#39;ve measured that it is an issue. The things @MarkRotteveel points out are probably much more likely a bottleneck (and so is string formatting). Ideally a logger only quickly queues some data and returns to the caller then asynchronously writes it). So my summary, measure the perfomance (dependency injected or not) and address your bottlenck","body":"As with any perceived performance issue it is not an issue until you&#39;ve measured that it is an issue. The things @MarkRotteveel points out are probably much more likely a bottleneck (and so is string formatting). Ideally a logger only quickly queues some data and returns to the caller then asynchronously writes it). So my summary, measure the perfomance (dependency injected or not) and address your bottlenck"}],"answers":[{"comments":[{"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"score":0,"creation_date":1701268551,"post_id":77572030,"comment_id":136754781,"body_markdown":"I have updated the title to &quot;code&quot; instead of class. I&#39;m still unable to see the output of the jit compiler, but I&#39;ll take your word for it since it would be odd if the compiler didn&#39;t optimize this out.","body":"I have updated the title to &quot;code&quot; instead of class. I&#39;m still unable to see the output of the jit compiler, but I&#39;ll take your word for it since it would be odd if the compiler didn&#39;t optimize this out."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1701269050,"post_id":77572030,"comment_id":136754893,"body_markdown":"@OM222O there&#39;s some discussion about optimizing out in the JLS section linked in my updated answer. Basically, a conforming Java compiler is not required to optimize, but the Java HotSpot compiler (from OpenJDK and others) does.","body":"@OM222O there&#39;s some discussion about optimizing out in the JLS section linked in my updated answer. Basically, a conforming Java compiler is not required to optimize, but the Java HotSpot compiler (from OpenJDK and others) does."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701268810,"creation_date":1701268006,"answer_id":77572030,"question_id":77571441,"body_markdown":"Your title is about _classes_ to be removed from production code, but your question is about _lines of code_ to be removed. I&#39;ll therefore take your question as being in two parts.\r\n\r\nFirst part: classes that are in the `test` directory tree do not go into production; only classes in the `main` tree do. This is the convention used by Maven and Gradle.\r\n\r\nSecond: if you do something like\r\n\r\n    private static final boolean DEBUG = false;\r\n\r\n    void foo() {\r\n        if (DEBUG) {\r\n            //...\r\n        }\r\n\r\nthen the JIT will remove the condition check, as if the code didn&#39;t exist. See towards the end of [Java Language Specification, &#167; 14.22](https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.22).\r\n","title":"Java best practices for writing code that needs to be removed for a release","body":"<p>Your title is about <em>classes</em> to be removed from production code, but your question is about <em>lines of code</em> to be removed. I'll therefore take your question as being in two parts.</p>\n<p>First part: classes that are in the <code>test</code> directory tree do not go into production; only classes in the <code>main</code> tree do. This is the convention used by Maven and Gradle.</p>\n<p>Second: if you do something like</p>\n<pre><code>private static final boolean DEBUG = false;\n\nvoid foo() {\n    if (DEBUG) {\n        //...\n    }\n</code></pre>\n<p>then the JIT will remove the condition check, as if the code didn't exist. See towards the end of <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">Java Language Specification, § 14.22</a>.</p>\n"}],"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77572030,"answer_count":1,"score":0,"last_activity_date":1701268810,"creation_date":1701263428,"question_id":77571441,"body_markdown":"In C++ if you want to create debugging utilities or other code that you don&#39;t want to make it to production, you can use the pre-processor, for example:\r\n\r\n    #include&lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    #define debug\r\n    \r\n    class Logger{\r\n        public:\r\n         void log(const char* message){\r\n            #ifdef debug\r\n                cout &lt;&lt; message;\r\n            #endif\r\n        }\r\n    };\r\n    \r\n    int main(){\r\n        Logger logger;\r\n        logger.log(&quot;Hello world&quot;);\r\n        return 1;\r\n    }\r\n\r\nwill result in the following assembly code (generated via https://godbolt.org/ `x86-64 clang 17.0.1`, `-O1`):\r\n\r\n    main:                                   # @main\r\n            push    rax\r\n            mov     rdi, qword ptr [rip + std::cout@GOTPCREL]\r\n            lea     rsi, [rip + .L.str]\r\n            mov     edx, 11\r\n            call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*, long)@PLT\r\n            mov     eax, 1\r\n            pop     rcx\r\n            ret\r\n    .L.str:\r\n            .asciz  &quot;Hello world&quot;\r\n\r\nremoving the `#define` results in the following assembly code:\r\n\r\n    main:                                   # @main\r\n            mov     eax, 1\r\n            ret\r\n\r\nAs you can clearly see, the entire logger code has been removed during compilation. Since Java doesn&#39;t support things like `const` or pre-processor arguments (`#define`, `#if`, etc.), I wrote the following code:\r\n\r\n    public class Main {\r\n        public static class Logger {\r\n            private final boolean debug = false;\r\n    \r\n            public void log(String msg) {\r\n                if (debug) {\r\n                    System.out.println(msg);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var logger = new Logger();\r\n            logger.log(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThis is also how I&#39;ve usually seen logging implemented in other codebases, however running `javap -c` reveals that the code isn&#39;t optimized out, despite the `debug` being declared as final:\r\n\r\n    Compiled from &quot;main.java&quot;\r\n      public Main();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: new           #7                  // class Main$Logger\r\n           3: dup\r\n           4: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:()V\r\n           7: astore_1\r\n           8: aload_1\r\n           9: ldc           #10                 // String Hello world\r\n          11: invokevirtual #12                 // Method Main$Logger.log:(Ljava/lang/String;)V\r\n          14: return\r\n    }\r\n\r\n\r\nI know that java uses a Jit compiler but I couldn&#39;t get the output of the Jit compiler after following this tutorial: https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm\r\n\r\nAnother method I considered was something like function pointers in C++:\r\n\r\n    import java.util.function.Consumer;\r\n    \r\n    public class Main {\r\n        public static class Logger {\r\n            public final Consumer&lt;Object&gt; log;\r\n    \r\n            public Logger(boolean debug) {\r\n                log = debug? System.out::println : x -&gt; {};\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var logger = new Logger(false);\r\n            logger.log.accept(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\nbut this results in the following bytecode:\r\n\r\n    public class Main {      \r\n      public Main();         \r\n           0: aload_0\r\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: new           #7                  // class Main$Logger\r\n           3: dup\r\n           4: iconst_0\r\n           5: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:(Z)V\r\n           8: astore_1\r\n           9: aload_1\r\n          10: getfield      #12                 // Field Main$Logger.log:Ljava/util/function/Consumer;\r\n          13: ldc           #16                 // String Hello world\r\n          15: invokeinterface #18,  2           // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V\r\n          20: return\r\n    }\r\n\r\n (Note: if I create a wrapper method around the consumer that just calls `consumer.accept(msg)`, the bytecode is basically identical to the first case, I&#39;m not sure why)\r\n\r\nEdit: I have used logging as an example, but I meant in more general terms (for example debugging), so unfortunately suggestions that are logging specific can&#39;t be used.\r\n\r\n1) I&#39;m not sure if I&#39;m doing something wrong or if the debugging code can&#39;t be optimized out, even though the values are known at compile time. (the question is if this is even possible)\r\n\r\n2) What are the best practices for creating code that needs to be removed for a release build?\r\n\r\n3) If it&#39;s not possible to write such code, which version will have the least performance impact? Calling the method that has an if statement or using function pointers?","title":"Java best practices for writing code that needs to be removed for a release","body":"<p>In C++ if you want to create debugging utilities or other code that you don't want to make it to production, you can use the pre-processor, for example:</p>\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\n#define debug\n\nclass Logger{\n    public:\n     void log(const char* message){\n        #ifdef debug\n            cout &lt;&lt; message;\n        #endif\n    }\n};\n\nint main(){\n    Logger logger;\n    logger.log(&quot;Hello world&quot;);\n    return 1;\n}\n</code></pre>\n<p>will result in the following assembly code (generated via <a href=\"https://godbolt.org/\" rel=\"nofollow noreferrer\">https://godbolt.org/</a> <code>x86-64 clang 17.0.1</code>, <code>-O1</code>):</p>\n<pre><code>main:                                   # @main\n        push    rax\n        mov     rdi, qword ptr [rip + std::cout@GOTPCREL]\n        lea     rsi, [rip + .L.str]\n        mov     edx, 11\n        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*, long)@PLT\n        mov     eax, 1\n        pop     rcx\n        ret\n.L.str:\n        .asciz  &quot;Hello world&quot;\n</code></pre>\n<p>removing the <code>#define</code> results in the following assembly code:</p>\n<pre><code>main:                                   # @main\n        mov     eax, 1\n        ret\n</code></pre>\n<p>As you can clearly see, the entire logger code has been removed during compilation. Since Java doesn't support things like <code>const</code> or pre-processor arguments (<code>#define</code>, <code>#if</code>, etc.), I wrote the following code:</p>\n<pre><code>public class Main {\n    public static class Logger {\n        private final boolean debug = false;\n\n        public void log(String msg) {\n            if (debug) {\n                System.out.println(msg);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        var logger = new Logger();\n        logger.log(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>This is also how I've usually seen logging implemented in other codebases, however running <code>javap -c</code> reveals that the code isn't optimized out, despite the <code>debug</code> being declared as final:</p>\n<pre><code>Compiled from &quot;main.java&quot;\n  public Main();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: new           #7                  // class Main$Logger\n       3: dup\n       4: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:()V\n       7: astore_1\n       8: aload_1\n       9: ldc           #10                 // String Hello world\n      11: invokevirtual #12                 // Method Main$Logger.log:(Ljava/lang/String;)V\n      14: return\n}\n</code></pre>\n<p>I know that java uses a Jit compiler but I couldn't get the output of the Jit compiler after following this tutorial: <a href=\"https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm\">How to see JIT-compiled code in JVM?</a></p>\n<p>Another method I considered was something like function pointers in C++:</p>\n<pre><code>import java.util.function.Consumer;\n\npublic class Main {\n    public static class Logger {\n        public final Consumer&lt;Object&gt; log;\n\n        public Logger(boolean debug) {\n            log = debug? System.out::println : x -&gt; {};\n        }\n    }\n\n    public static void main(String[] args) {\n        var logger = new Logger(false);\n        logger.log.accept(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>but this results in the following bytecode:</p>\n<pre><code>public class Main {      \n  public Main();         \n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: new           #7                  // class Main$Logger\n       3: dup\n       4: iconst_0\n       5: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:(Z)V\n       8: astore_1\n       9: aload_1\n      10: getfield      #12                 // Field Main$Logger.log:Ljava/util/function/Consumer;\n      13: ldc           #16                 // String Hello world\n      15: invokeinterface #18,  2           // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V\n      20: return\n}\n</code></pre>\n<p>(Note: if I create a wrapper method around the consumer that just calls <code>consumer.accept(msg)</code>, the bytecode is basically identical to the first case, I'm not sure why)</p>\n<p>Edit: I have used logging as an example, but I meant in more general terms (for example debugging), so unfortunately suggestions that are logging specific can't be used.</p>\n<ol>\n<li><p>I'm not sure if I'm doing something wrong or if the debugging code can't be optimized out, even though the values are known at compile time. (the question is if this is even possible)</p>\n</li>\n<li><p>What are the best practices for creating code that needs to be removed for a release build?</p>\n</li>\n<li><p>If it's not possible to write such code, which version will have the least performance impact? Calling the method that has an if statement or using function pointers?</p>\n</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1701235808,"post_id":77568640,"comment_id":136749154,"body_markdown":"[Related](https://stackoverflow.com/questions/55970149/how-does-the-reduce-method-work-in-java-8)","body":"<a href=\"https://stackoverflow.com/questions/55970149/how-does-the-reduce-method-work-in-java-8\">Related</a>"}],"answers":[{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701235670,"creation_date":1701234409,"answer_id":77568706,"question_id":77568640,"body_markdown":"The below functional code:\r\n```java\r\nmyList.stream().reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), (a,b) -&gt; a * b);\r\n```\r\n\r\nis conceptually equivalent to:\r\n\r\n```java\r\ndouble sum = 1.0;\r\n    for (Double value: myList){\r\n        sum= sum * Math.sqrt(value);\r\n}\r\n```\r\n\r\nHere, \r\n\r\nThe `U identity` is basically the initial value.\r\n\r\n`BiFunction&lt;U,? super T,U&gt; accumulator` is a BiFunction for incorporating an additional element into a result.\r\n\r\n`BinaryOperator&lt;U&gt; combiner` for combining two values, which must be compatible with the accumulator function. The combiner function is used in parallel stream processing to combine the results of different substreams. \r\n\r\n\r\n---\r\n&lt;h2&gt;What is Combiner Function used for?&lt;/h2&gt;\r\n\r\n&gt; When a stream executes in parallel, the Java runtime splits the stream\r\n&gt; into multiple substreams. In such cases, we need to use a function to\r\n&gt; combine the results of the substreams into a single one. This is the\r\n&gt; role of the combiner.\r\n\r\n\r\n&lt;h2&gt;Why my Combiner Function Gets Ignored?&lt;/h2&gt;\r\n\r\nSince you are using **a sequential stream**, the combiner function is not actually used in this case.\r\n\r\n&lt;h2&gt;How can I Use Combiner Function Then?&lt;/h2&gt;\r\n\r\nIf you change the combiner function in action, you can change combiner function to something like `Double:Sum` and use `parallel` stream rather than sequential stream.\r\n\r\nExample:\r\n\r\n```java\r\nmyList.stream().parallel.reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), Double::sum );\r\n```","title":"Streams reduce question on partial results","body":"<p>The below functional code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myList.stream().reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), (a,b) -&gt; a * b);\n</code></pre>\n<p>is conceptually equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double sum = 1.0;\n    for (Double value: myList){\n        sum= sum * Math.sqrt(value);\n}\n</code></pre>\n<p>Here,</p>\n<p>The <code>U identity</code> is basically the initial value.</p>\n<p><code>BiFunction&lt;U,? super T,U&gt; accumulator</code> is a BiFunction for incorporating an additional element into a result.</p>\n<p><code>BinaryOperator&lt;U&gt; combiner</code> for combining two values, which must be compatible with the accumulator function. The combiner function is used in parallel stream processing to combine the results of different substreams.</p>\n<hr />\n<h2>What is Combiner Function used for?</h2>\n<blockquote>\n<p>When a stream executes in parallel, the Java runtime splits the stream\ninto multiple substreams. In such cases, we need to use a function to\ncombine the results of the substreams into a single one. This is the\nrole of the combiner.</p>\n</blockquote>\n<h2>Why my Combiner Function Gets Ignored?</h2>\n<p>Since you are using <strong>a sequential stream</strong>, the combiner function is not actually used in this case.</p>\n<h2>How can I Use Combiner Function Then?</h2>\n<p>If you change the combiner function in action, you can change combiner function to something like <code>Double:Sum</code> and use <code>parallel</code> stream rather than sequential stream.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myList.stream().parallel.reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), Double::sum );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701235768,"creation_date":1701235768,"answer_id":77568766,"question_id":77568640,"body_markdown":"Let&#39;s start at the top. According to [`java.util.stream.Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html), there are three overloads of `reduce` to consider.\r\n\r\n* `T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)`\r\n* `Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)`\r\n* `&lt;U&gt; U reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)`\r\n\r\n# Two-argument reduce\r\n\r\nThe first one is arguably the simplest, and it&#39;s the one that a functional programmer would be most familiar with. This function would be called `foldl` in Haskell, `reduce` in Python, `inject` in Ruby, etc.\r\n\r\nLet&#39;s assume that `myStream` contains the numbers `1, 2, 3, 4`. Then `myStream.reduce(e, (x, y) -&gt; x # y)` (where `#` is some arbitrary binary operation and `e` is our identity value) would perform\r\n\r\n    (((e # 1) # 2) # 3) # 4\r\n\r\nThat is, we start with the identity, and then we apply the binary operator to the accumulated value so far and the next element of the stream, for each element, until the stream is exhausted. This is a typical functional-programming fold/reduce operation.\r\n\r\n# One-argument reduce\r\n\r\nThe second form of `reduce` eschews the `identity` argument in favor of just bailing out and returning an `Optional&lt;T&gt;`. So if our stream consisted of the same `1, 2, 3, 4`, then `myStream.reduce((x, y) -&gt; x # y)` would give\r\n\r\n    Optional.of(((1 # 2) # 3) # 4)\r\n\r\nWe don&#39;t have an identity `0` in there. Instead, we got an `Optional` that contained a value. Empty streams would simply give `Optional.empty()`, rather than producing the `identity` as the two-argument form would.\r\n\r\n# Three-argument reduce\r\n\r\nEverything so far has been fairly typical functional programming fare. But here&#39;s where Java&#39;s implementation differs. Java&#39;s `reduce` is built with concurrency in mind, and the three-argument reduce is where this shows.\r\n\r\nAs a reminder, `myStream.reduce(e, (x, y) -&gt; x # y)` (where, again, `#` is some arbitrary binary operator), looks like\r\n\r\n    (((e # 1) # 2) # 3) # 4\r\n\r\nThen, in turn, `myStream.reduce(e, (x, y) -&gt; x # y, (x, y) -&gt; x $ y)` looks like\r\n\r\n    (((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\r\n\r\nThat looks... complicated, needless to say. The `reduce` function requires that, if `e` is our identity, then `$` satisfies\r\n\r\n    x $ (e # y) == x # y\r\n\r\nfor all `x` and `y` in our domain. That is, putting the `e` bit on the left of `$` doesn&#39;t actually do anything. If we follow this rule, then the above complicated expression is just the same as applying 2-argument `reduce`. So why would we ever do this? Well, Java is permitted to run the `$` bits in parallel. Back when we had\r\n\r\n    (((e # 1) # 2) # 3) # 4\r\n\r\nAll of the `#` operations depended on the results of the previous `#` operations. There was no room for parallelism.\r\n\r\n    (((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\r\n\r\nHere, on the other hand, each of the `#` operations is independent and doesn&#39;t depend on *any* of the other calls. So we could parallelize all of the `#` calls and then combine the results with the combiner `$` in one thread. If `#` is expensive but `$` is cheap, this is a huge gain.\r\n\r\nAnd in your example, `#` is a multiplication-and-square-root, which is probably more expensive than `$`, which is just a multiplication. So if we can come up with a `$` for our `#` which satisfies\r\n\r\n    x $ (e # y) == x # y\r\n\r\nthen we get parallelism gains. That is, this form of `reduce` is just forcing us to split our reduction calculation out into two parts: the &quot;expensive&quot; parallelizable bit and the actual combining bit which might be cheaper.\r\n\r\nNow, all of that being said, the documentation has this to say.\r\n\r\n&gt; Many reductions using this form can be represented more simply by an explicit combination of map and reduce operations. The accumulator function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.\r\n\r\nAnd this is true. In your case, using three-argument reduce is just goofy, because what we&#39;re really doing is mapping and then reducing. So your example should really be written as\r\n\r\n    myList.stream().map((a) -&gt; Math.sqrt(a)).reduce(1, (a, b) -&gt; a * b)\r\n\r\nThis is what we&#39;re actually trying to say: square-root each value and *then* multiply them. Streams are lazy, so doing this in two steps doesn&#39;t create an intermediate list. It just remembers what needs to be done and then does it when forced by the reduction.\r\n\r\nSo three-argument reduce is for cases where we really can exploit known information about the partial results. Maybe our reduction operation is short-circuiting, and if the left-hand side has a certain value then we don&#39;t even need to *do* the mapping operation. Maybe there&#39;s a caching argument, and knowing previous results allows us to save some processing time in the future. Maybe there&#39;s some clever mathematical reduction not listed here.\r\n\r\nFusing the map and reduce operations like this is, at best, very situational. So generally you should prefer to use `map` followed by an associative `reduce` whenever you can.","title":"Streams reduce question on partial results","body":"<p>Let's start at the top. According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>java.util.stream.Stream</code></a>, there are three overloads of <code>reduce</code> to consider.</p>\n<ul>\n<li><code>T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</code></li>\n<li><code>Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)</code></li>\n<li><code>&lt;U&gt; U reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code></li>\n</ul>\n<h1>Two-argument reduce</h1>\n<p>The first one is arguably the simplest, and it's the one that a functional programmer would be most familiar with. This function would be called <code>foldl</code> in Haskell, <code>reduce</code> in Python, <code>inject</code> in Ruby, etc.</p>\n<p>Let's assume that <code>myStream</code> contains the numbers <code>1, 2, 3, 4</code>. Then <code>myStream.reduce(e, (x, y) -&gt; x # y)</code> (where <code>#</code> is some arbitrary binary operation and <code>e</code> is our identity value) would perform</p>\n<pre><code>(((e # 1) # 2) # 3) # 4\n</code></pre>\n<p>That is, we start with the identity, and then we apply the binary operator to the accumulated value so far and the next element of the stream, for each element, until the stream is exhausted. This is a typical functional-programming fold/reduce operation.</p>\n<h1>One-argument reduce</h1>\n<p>The second form of <code>reduce</code> eschews the <code>identity</code> argument in favor of just bailing out and returning an <code>Optional&lt;T&gt;</code>. So if our stream consisted of the same <code>1, 2, 3, 4</code>, then <code>myStream.reduce((x, y) -&gt; x # y)</code> would give</p>\n<pre><code>Optional.of(((1 # 2) # 3) # 4)\n</code></pre>\n<p>We don't have an identity <code>0</code> in there. Instead, we got an <code>Optional</code> that contained a value. Empty streams would simply give <code>Optional.empty()</code>, rather than producing the <code>identity</code> as the two-argument form would.</p>\n<h1>Three-argument reduce</h1>\n<p>Everything so far has been fairly typical functional programming fare. But here's where Java's implementation differs. Java's <code>reduce</code> is built with concurrency in mind, and the three-argument reduce is where this shows.</p>\n<p>As a reminder, <code>myStream.reduce(e, (x, y) -&gt; x # y)</code> (where, again, <code>#</code> is some arbitrary binary operator), looks like</p>\n<pre><code>(((e # 1) # 2) # 3) # 4\n</code></pre>\n<p>Then, in turn, <code>myStream.reduce(e, (x, y) -&gt; x # y, (x, y) -&gt; x $ y)</code> looks like</p>\n<pre><code>(((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\n</code></pre>\n<p>That looks... complicated, needless to say. The <code>reduce</code> function requires that, if <code>e</code> is our identity, then <code>$</code> satisfies</p>\n<pre><code>x $ (e # y) == x # y\n</code></pre>\n<p>for all <code>x</code> and <code>y</code> in our domain. That is, putting the <code>e</code> bit on the left of <code>$</code> doesn't actually do anything. If we follow this rule, then the above complicated expression is just the same as applying 2-argument <code>reduce</code>. So why would we ever do this? Well, Java is permitted to run the <code>$</code> bits in parallel. Back when we had</p>\n<pre><code>(((e # 1) # 2) # 3) # 4\n</code></pre>\n<p>All of the <code>#</code> operations depended on the results of the previous <code>#</code> operations. There was no room for parallelism.</p>\n<pre><code>(((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\n</code></pre>\n<p>Here, on the other hand, each of the <code>#</code> operations is independent and doesn't depend on <em>any</em> of the other calls. So we could parallelize all of the <code>#</code> calls and then combine the results with the combiner <code>$</code> in one thread. If <code>#</code> is expensive but <code>$</code> is cheap, this is a huge gain.</p>\n<p>And in your example, <code>#</code> is a multiplication-and-square-root, which is probably more expensive than <code>$</code>, which is just a multiplication. So if we can come up with a <code>$</code> for our <code>#</code> which satisfies</p>\n<pre><code>x $ (e # y) == x # y\n</code></pre>\n<p>then we get parallelism gains. That is, this form of <code>reduce</code> is just forcing us to split our reduction calculation out into two parts: the &quot;expensive&quot; parallelizable bit and the actual combining bit which might be cheaper.</p>\n<p>Now, all of that being said, the documentation has this to say.</p>\n<blockquote>\n<p>Many reductions using this form can be represented more simply by an explicit combination of map and reduce operations. The accumulator function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.</p>\n</blockquote>\n<p>And this is true. In your case, using three-argument reduce is just goofy, because what we're really doing is mapping and then reducing. So your example should really be written as</p>\n<pre><code>myList.stream().map((a) -&gt; Math.sqrt(a)).reduce(1, (a, b) -&gt; a * b)\n</code></pre>\n<p>This is what we're actually trying to say: square-root each value and <em>then</em> multiply them. Streams are lazy, so doing this in two steps doesn't create an intermediate list. It just remembers what needs to be done and then does it when forced by the reduction.</p>\n<p>So three-argument reduce is for cases where we really can exploit known information about the partial results. Maybe our reduction operation is short-circuiting, and if the left-hand side has a certain value then we don't even need to <em>do</em> the mapping operation. Maybe there's a caching argument, and knowing previous results allows us to save some processing time in the future. Maybe there's some clever mathematical reduction not listed here.</p>\n<p>Fusing the map and reduce operations like this is, at best, very situational. So generally you should prefer to use <code>map</code> followed by an associative <code>reduce</code> whenever you can.</p>\n"}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77568766,"answer_count":2,"score":1,"last_activity_date":1701268754,"creation_date":1701233289,"question_id":77568640,"body_markdown":"I understand function (b) below, however am having confusion with (a).  Can anyone explain what the accumulator or second argument to `reduce` or accumulator is doing vs the combiner parameter?\r\n\r\na:\r\n\r\n       reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\r\n\r\n    double productOfSqrRoots = myList.stream().reduce(\r\n        1.0,\r\n        (a,b) -&gt; a * Math.sqrt(b),\r\n        (a,b) -&gt; a * b\r\n        );\r\n\r\nb:\r\n\r\n    double productOfSqrRoots = myList.stream().reduce(\r\n        (a,b) -&gt; a * b);","title":"Streams reduce question on partial results","body":"<p>I understand function (b) below, however am having confusion with (a).  Can anyone explain what the accumulator or second argument to <code>reduce</code> or accumulator is doing vs the combiner parameter?</p>\n<p>a:</p>\n<pre><code>   reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\n\ndouble productOfSqrRoots = myList.stream().reduce(\n    1.0,\n    (a,b) -&gt; a * Math.sqrt(b),\n    (a,b) -&gt; a * b\n    );\n</code></pre>\n<p>b:</p>\n<pre><code>double productOfSqrRoots = myList.stream().reduce(\n    (a,b) -&gt; a * b);\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701268352,"creation_date":1701268352,"answer_id":77572069,"question_id":77570477,"body_markdown":"The `spy` call doesn&#39;t change the `Scanner` object, it creates a wrapper. That wrapper exists only in your test. You need to replace the `Scanner` in class `Inputter` instead. It&#39;s easiest to do that in `@BeforeEach`, so you can restore it in `@AfterEach`.\r\n\r\n```java\r\nprivate Scanner originalScanner;\r\nprivate Scanner mockScanner;\r\n\r\n@BeforeEach\r\nvoid mockScanner() {\r\n    originalScanner = Inputter.scanner;\r\n    mockScanner = spy(originalScanner);\r\n    Inputter.scanner = mockScanner;\r\n}\r\n\r\n@AfterEach\r\nvoid resetScanner() {\r\n    Input.scanner = originalScanner;\r\n}\r\n\r\n@Test\r\nvoid registerAccountTest() {\r\n   ...\r\n    System.setIn(inputStream);\r\n\r\n    System.out.println(&quot;Before when statement&quot;);\r\n    when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\r\n    System.out.println(&quot;After when statement&quot;);\r\n    ...\r\n}\r\n```\r\n\r\n---\r\n\r\nAs an alternative you can use [JUnit Pioneer][1]. It allows you to easily replace the results of `System.in` without any manual setup. It also allows you to read what&#39;s been written to `System.out` and `System.err`.\r\n\r\n\r\n  [1]: https://junit-pioneer.org/docs/standard-input-output/","title":"Problems when using Mockito and JUnit for testing in Java Project","body":"<p>The <code>spy</code> call doesn't change the <code>Scanner</code> object, it creates a wrapper. That wrapper exists only in your test. You need to replace the <code>Scanner</code> in class <code>Inputter</code> instead. It's easiest to do that in <code>@BeforeEach</code>, so you can restore it in <code>@AfterEach</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Scanner originalScanner;\nprivate Scanner mockScanner;\n\n@BeforeEach\nvoid mockScanner() {\n    originalScanner = Inputter.scanner;\n    mockScanner = spy(originalScanner);\n    Inputter.scanner = mockScanner;\n}\n\n@AfterEach\nvoid resetScanner() {\n    Input.scanner = originalScanner;\n}\n\n@Test\nvoid registerAccountTest() {\n   ...\n    System.setIn(inputStream);\n\n    System.out.println(&quot;Before when statement&quot;);\n    when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\n    System.out.println(&quot;After when statement&quot;);\n    ...\n}\n</code></pre>\n<hr />\n<p>As an alternative you can use <a href=\"https://junit-pioneer.org/docs/standard-input-output/\" rel=\"nofollow noreferrer\">JUnit Pioneer</a>. It allows you to easily replace the results of <code>System.in</code> without any manual setup. It also allows you to read what's been written to <code>System.out</code> and <code>System.err</code>.</p>\n"}],"owner":{"account_id":26038302,"reputation":35,"user_id":19743481,"display_name":"twentyfourk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701268352,"creation_date":1701254906,"question_id":77570477,"body_markdown":"I have some problems when testing with mockito and JUnit, I want to test a method that take data from user input. When I use `String id = &quot;E833462&quot;`, the test function work correctly, but when I replace it with my generate function, the registerAccountTest() will be blocked at line `when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);` And I don&#39;t know why. Although both ways are a String with an ID. I tested my generate function, and it still can create a random unique ID. Can someone help me to solve this? Thank you for reading my problem and trying to figure it out to help me.\r\n\r\nHere is my test method\r\n```\r\n@Test\r\n    void registerAccountTest() {\r\n        Employee em = employees.searchById(&quot;E160052&quot;);\r\n\r\n//        String id = &quot;E833462&quot;;\r\n        String id = Inputter.generateUniqueId(&quot;E&quot;, 6, employees);\r\n        String name = &quot;Test&quot;;\r\n        String role = &quot;MA&quot;;\r\n        String sex = &quot;Male&quot;;\r\n        String bd = &quot;08/03/2000&quot;;\r\n        String password = &quot;123456&quot;;\r\n\r\n        String combinedUserInput =\r\n                id + System.lineSeparator() + name + System.lineSeparator() + role + System.lineSeparator() + sex + System.lineSeparator() + bd + System.lineSeparator() + password;\r\n        System.out.println(combinedUserInput);\r\n        InputStream inputStream = new ByteArrayInputStream(combinedUserInput.getBytes());\r\n        System.setIn(inputStream);\r\n\r\n        Scanner mockScanner = spy(Inputter.scanner);\r\n        System.out.println(&quot;Before when statement&quot;);\r\n        when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\r\n        System.out.println(&quot;After when statement&quot;);\r\n\r\n        Executor.registerAccount(employees, em);\r\n\r\n        Employee emTest = employees.searchById(id);\r\n        assertNotEquals(null, emTest);\r\n        assertEquals(name, emTest.getName());\r\n        assertEquals(bd, emTest.getBirthdate().format(Inputter.formatterHalf));\r\n        assertEquals(role, emTest.getRole());\r\n        assertEquals(sex, emTest.getSex());\r\n\r\n        employees.deleteOne(emTest);\r\n    }\r\n```\r\nHere is my generate Id function in Inputter class\r\n```\r\npublic class Inputter {\r\n    public static Scanner scanner = new Scanner(System.in);\r\n    public static String generateUniqueId(String prefix, int len, ObjectList ol) {\r\n        String id;\r\n\r\n        do {\r\n            int num = (int) random.nextDouble(Math.pow(10, len));\r\n            id = prefix + String.format(&quot;%03d&quot;, num);\r\n        } while (!Objects.isNull(ol.searchById(id)));\r\n\r\n        return id.trim();\r\n    }\r\n}\r\n```","title":"Problems when using Mockito and JUnit for testing in Java Project","body":"<p>I have some problems when testing with mockito and JUnit, I want to test a method that take data from user input. When I use <code>String id = &quot;E833462&quot;</code>, the test function work correctly, but when I replace it with my generate function, the registerAccountTest() will be blocked at line <code>when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);</code> And I don't know why. Although both ways are a String with an ID. I tested my generate function, and it still can create a random unique ID. Can someone help me to solve this? Thank you for reading my problem and trying to figure it out to help me.</p>\n<p>Here is my test method</p>\n<pre><code>@Test\n    void registerAccountTest() {\n        Employee em = employees.searchById(&quot;E160052&quot;);\n\n//        String id = &quot;E833462&quot;;\n        String id = Inputter.generateUniqueId(&quot;E&quot;, 6, employees);\n        String name = &quot;Test&quot;;\n        String role = &quot;MA&quot;;\n        String sex = &quot;Male&quot;;\n        String bd = &quot;08/03/2000&quot;;\n        String password = &quot;123456&quot;;\n\n        String combinedUserInput =\n                id + System.lineSeparator() + name + System.lineSeparator() + role + System.lineSeparator() + sex + System.lineSeparator() + bd + System.lineSeparator() + password;\n        System.out.println(combinedUserInput);\n        InputStream inputStream = new ByteArrayInputStream(combinedUserInput.getBytes());\n        System.setIn(inputStream);\n\n        Scanner mockScanner = spy(Inputter.scanner);\n        System.out.println(&quot;Before when statement&quot;);\n        when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\n        System.out.println(&quot;After when statement&quot;);\n\n        Executor.registerAccount(employees, em);\n\n        Employee emTest = employees.searchById(id);\n        assertNotEquals(null, emTest);\n        assertEquals(name, emTest.getName());\n        assertEquals(bd, emTest.getBirthdate().format(Inputter.formatterHalf));\n        assertEquals(role, emTest.getRole());\n        assertEquals(sex, emTest.getSex());\n\n        employees.deleteOne(emTest);\n    }\n</code></pre>\n<p>Here is my generate Id function in Inputter class</p>\n<pre><code>public class Inputter {\n    public static Scanner scanner = new Scanner(System.in);\n    public static String generateUniqueId(String prefix, int len, ObjectList ol) {\n        String id;\n\n        do {\n            int num = (int) random.nextDouble(Math.pow(10, len));\n            id = prefix + String.format(&quot;%03d&quot;, num);\n        } while (!Objects.isNull(ol.searchById(id)));\n\n        return id.trim();\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","http","jax-rs","http-patch"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1701268178,"creation_date":1557285098,"answer_id":56032996,"question_id":56030328,"body_markdown":"From the perspective of REST, the important thing to keep in mind is the uniform interface -- you have some resource with an `application/json` representation.  I can `GET` your representation, and make local edits to it using whatever my favorite tool might be.  \r\n\r\nIf I then want to propose that the resource should be changed to match my representation, we choose the appropriate method from the HTTP protocol.  In other words, the methods in HTTP are all part of the &quot;transport this document over a network&quot; domain.  (Ref: [Jim Webber, 2011][1]).\r\n\r\nSo realistically, supporting &quot;all of them&quot; is the way to ensure the widest number of generic clients can be used to interact with your resources.\r\n\r\n    PUT /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/json\r\n\r\nPerfectly reasonable starting point; it has a couple of advantages - the semantics are [idempotent][2], so clients know that a lost request can be repeated, and HTTP [PUT][3] includes semantics for important use cases like &quot;we accepted your representation as is&quot; that allow you to reduce network pressure.\r\n\r\nPUT may be an unfortunate choice when the representation is much larger than the changes.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: ????\r\n\r\nThis is a perfectly reasonable way to deal with small changes to large representations.  You give up some of the advantages of PUT - lost messages are now more complicated to deal with.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/json\r\n\r\nNot at any odds.  `application/json` is not a [patch document][4] format -- you have no way of knowing what changes are being described by such a representation without some sort of out-of-band agreement.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/vnd.example.patch+json\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/prs.example.patch+json\r\n\r\nThis is the &quot;REST&quot; way to do the previous bit; you define a custom media type, and document the semantics, and then any client that implements your media type can use it.  The [vendor tree][5] and [vanity tree][6] are available.  The `+json` bit is the [structured syntax name suffix][7], which offers a structure hint for consumers that don&#39;t recognize the base subtype.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/json-patch+json\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/merge-patch+json\r\n\r\nAlso excellent choices, because these two types have been standardized in [RFC 6902][8] and [RFC 7936][9]; you have a much better chance that a client will already know these types.\r\n\r\nA client that knows about HTTP [PATCH][10] will presumably also know how to use the OPTIONS method to discover what methods and [patch document formats][11] the server is prepared to handle.\r\n\r\n    OPTIONS /31E772D3-0157-4B52-8243-75EEAB946E65\r\n\r\n    HTTP/1.1 204 No Content\r\n    Allow: OPTIONS, GET, HEAD, PUT, PATCH\r\n    Accept-Patch: application/prs.example.patch+json, application/json-patch+json, application/merge-patch+json\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=aQVSzMV8DWc&amp;t=3m8s\r\n  [2]: https://www.rfc-editor.org/rfc/rfc7231#section-4.2.2\r\n  [3]: https://www.rfc-editor.org/rfc/rfc7231#section-4.3.4\r\n  [4]: https://www.rfc-editor.org/rfc/rfc5789#section-2\r\n  [5]: https://www.rfc-editor.org/rfc/rfc6838#section-3.2\r\n  [6]: https://www.rfc-editor.org/rfc/rfc6838#section-3.3\r\n  [7]: https://www.rfc-editor.org/rfc/rfc6838#section-4.2.8\r\n  [8]: https://www.rfc-editor.org/rfc/rfc6902\r\n  [9]: https://www.rfc-editor.org/rfc/rfc7386\r\n  [10]: https://www.rfc-editor.org/rfc/rfc5789\r\n  [11]: https://www.rfc-editor.org/rfc/rfc5789#section-3.7","title":"Patch vs merge-patch which is appropriate?","body":"<p>From the perspective of REST, the important thing to keep in mind is the uniform interface -- you have some resource with an <code>application/json</code> representation.  I can <code>GET</code> your representation, and make local edits to it using whatever my favorite tool might be.</p>\n<p>If I then want to propose that the resource should be changed to match my representation, we choose the appropriate method from the HTTP protocol.  In other words, the methods in HTTP are all part of the &quot;transport this document over a network&quot; domain.  (Ref: <a href=\"https://www.youtube.com/watch?v=aQVSzMV8DWc&amp;t=3m8s\" rel=\"nofollow noreferrer\">Jim Webber, 2011</a>).</p>\n<p>So realistically, supporting &quot;all of them&quot; is the way to ensure the widest number of generic clients can be used to interact with your resources.</p>\n<pre><code>PUT /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/json\n</code></pre>\n<p>Perfectly reasonable starting point; it has a couple of advantages - the semantics are <a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-4.2.2\" rel=\"nofollow noreferrer\">idempotent</a>, so clients know that a lost request can be repeated, and HTTP <a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-4.3.4\" rel=\"nofollow noreferrer\">PUT</a> includes semantics for important use cases like &quot;we accepted your representation as is&quot; that allow you to reduce network pressure.</p>\n<p>PUT may be an unfortunate choice when the representation is much larger than the changes.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: ????\n</code></pre>\n<p>This is a perfectly reasonable way to deal with small changes to large representations.  You give up some of the advantages of PUT - lost messages are now more complicated to deal with.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/json\n</code></pre>\n<p>Not at any odds.  <code>application/json</code> is not a <a href=\"https://www.rfc-editor.org/rfc/rfc5789#section-2\" rel=\"nofollow noreferrer\">patch document</a> format -- you have no way of knowing what changes are being described by such a representation without some sort of out-of-band agreement.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/vnd.example.patch+json\n\nPATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/prs.example.patch+json\n</code></pre>\n<p>This is the &quot;REST&quot; way to do the previous bit; you define a custom media type, and document the semantics, and then any client that implements your media type can use it.  The <a href=\"https://www.rfc-editor.org/rfc/rfc6838#section-3.2\" rel=\"nofollow noreferrer\">vendor tree</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc6838#section-3.3\" rel=\"nofollow noreferrer\">vanity tree</a> are available.  The <code>+json</code> bit is the <a href=\"https://www.rfc-editor.org/rfc/rfc6838#section-4.2.8\" rel=\"nofollow noreferrer\">structured syntax name suffix</a>, which offers a structure hint for consumers that don't recognize the base subtype.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/json-patch+json\n\nPATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/merge-patch+json\n</code></pre>\n<p>Also excellent choices, because these two types have been standardized in <a href=\"https://www.rfc-editor.org/rfc/rfc6902\" rel=\"nofollow noreferrer\">RFC 6902</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc7386\" rel=\"nofollow noreferrer\">RFC 7936</a>; you have a much better chance that a client will already know these types.</p>\n<p>A client that knows about HTTP <a href=\"https://www.rfc-editor.org/rfc/rfc5789\" rel=\"nofollow noreferrer\">PATCH</a> will presumably also know how to use the OPTIONS method to discover what methods and <a href=\"https://www.rfc-editor.org/rfc/rfc5789#section-3.7\" rel=\"nofollow noreferrer\">patch document formats</a> the server is prepared to handle.</p>\n<pre><code>OPTIONS /31E772D3-0157-4B52-8243-75EEAB946E65\n\nHTTP/1.1 204 No Content\nAllow: OPTIONS, GET, HEAD, PUT, PATCH\nAccept-Patch: application/prs.example.patch+json, application/json-patch+json, application/merge-patch+json\n</code></pre>\n"}],"owner":{"account_id":447109,"reputation":2439,"user_id":840546,"accept_rate":66,"display_name":"Dexters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14329,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":56032996,"answer_count":1,"score":7,"last_activity_date":1701268178,"creation_date":1557262342,"question_id":56030328,"body_markdown":"trying to see which models are best suited for `api` (low updates, but object structure could change often, high read application)\r\n\r\n   I have a resource like this\r\n\r\n 1. **Epic** (id, name, description, start date, close date, status,\r\n    **stories**)\r\n 2. **Story** (id, name, description, start date, close date, status, **tasks**)\r\n 3. **Task** (id, name, description, start date, resolution date,\r\n    resolution)\r\n\r\n\r\nIf I need to support just update of these , \r\n\r\n 1. update **Epic** name or description or dates or status\r\n 1. update **Story** name or description or dates or status\r\n 1. update **Task** name or description or dates or status\r\n\r\nwhich makes sense?\r\n\r\n**`PATCH` with `application/merge-patch+json` `RFC 7396`**\r\n\r\nthe resource should match target object structure\r\n\r\n1. epics/{id}  \r\n2. epics/{id1}/stories/{id2} .. and so on\r\n\r\n**`PATCH` with `application/json`** - **I am inclined to choose this** as there is no need so strictly enforce `RFC 7396` and flexibility to update the rules of updates.\r\n\r\nyour custom rules to update (but technically - I could just send the resource attributes that needs updates similar to `application/merge-patch+json`)\r\n\r\n1. epics/{id} \r\n2. epics/{id1}/stories/{id2} .. and so on\r\n\r\n\r\n**`PUT` with `application/json`**\r\n\r\nthe resource should match all fields and create new object and replace (or cheat and just update only like in patch)\r\n\r\n1. epics/{id} \r\n2. epics/{id1}/stories/{id2} .. and so on\r\n\r\n**`PUT` with `application/json`**\r\n\r\nor cheat and just update only like in patch but use put\r\n\r\n1. epics/{id} \r\n2. epics/{id1}/stories/{id2} .. and so on","title":"Patch vs merge-patch which is appropriate?","body":"<p>trying to see which models are best suited for <code>api</code> (low updates, but object structure could change often, high read application)</p>\n\n<p>I have a resource like this</p>\n\n<ol>\n<li><strong>Epic</strong> (id, name, description, start date, close date, status,\n<strong>stories</strong>)</li>\n<li><strong>Story</strong> (id, name, description, start date, close date, status, <strong>tasks</strong>)</li>\n<li><strong>Task</strong> (id, name, description, start date, resolution date,\nresolution)</li>\n</ol>\n\n<p>If I need to support just update of these , </p>\n\n<ol>\n<li>update <strong>Epic</strong> name or description or dates or status</li>\n<li>update <strong>Story</strong> name or description or dates or status</li>\n<li>update <strong>Task</strong> name or description or dates or status</li>\n</ol>\n\n<p>which makes sense?</p>\n\n<p><strong><code>PATCH</code> with <code>application/merge-patch+json</code> <code>RFC 7396</code></strong></p>\n\n<p>the resource should match target object structure</p>\n\n<ol>\n<li>epics/{id}  </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n\n<p><strong><code>PATCH</code> with <code>application/json</code></strong> - <strong>I am inclined to choose this</strong> as there is no need so strictly enforce <code>RFC 7396</code> and flexibility to update the rules of updates.</p>\n\n<p>your custom rules to update (but technically - I could just send the resource attributes that needs updates similar to <code>application/merge-patch+json</code>)</p>\n\n<ol>\n<li>epics/{id} </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n\n<p><strong><code>PUT</code> with <code>application/json</code></strong></p>\n\n<p>the resource should match all fields and create new object and replace (or cheat and just update only like in patch)</p>\n\n<ol>\n<li>epics/{id} </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n\n<p><strong><code>PUT</code> with <code>application/json</code></strong></p>\n\n<p>or cheat and just update only like in patch but use put</p>\n\n<ol>\n<li>epics/{id} </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n"},{"tags":["java",".net","jvm","handle"],"owner":{"account_id":30019862,"reputation":1,"user_id":23005471,"display_name":"DebrumJab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701267896,"creation_date":1701245717,"question_id":77569489,"body_markdown":"I&#39;m trying to control a calculator interface which based on Java Oracle. My problem is the memory leakage. \r\n\r\nLet me explain what is happening. With 2 class,`JabApi` and `JabHelpers`, I&#39;m making an object of `AccessibleTreeItem` class which is located in JabHelpers. \r\n\r\nThen doing some operations such as click to a button on the calculator in a for loop. After that, I&#39;m trying to release memory using `MyDispose() ` method that use the `releaseJavaObject()` method is located in JabHelpers but I could not observe a decrement in memory.\r\n\r\nI am not sure the `releaseJavaObject()` is working fine because after the javaTree.`MyDispose()` method, when try to click another button (button3) but it does not any changes on the calculator. \r\n\r\nWhat is my main problem in the JabApi and JabHelpers class? I don&#39;t know may be problem is related with the `releaseJavaObject()` importing parameters? Could it be? May be it is related with the `GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)` method is located in JapHelper, I have no idea. \r\n\r\nPlease, support me. Thank you!\r\n\r\nMain code below:\r\n```\r\nnamespace JabApiCsharpSample\r\n{\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            //JabApi.Windows_run();\r\n            JabHelpers.Init();\r\n            int vmID = 0;\r\n            IntPtr hwnd = (IntPtr)3346002;//that is the handleWindow number given by Windows\r\n            JabHelpers.AccessibleTreeItem javaTree = null;\r\n            JabHelpers.AccessibleTreeItem button1 = null;\r\n            JabHelpers.AccessibleTreeItem button2 = null;\r\n            JabHelpers.AccessibleTreeItem button = null;\r\n            JabHelpers.AccessibleTreeItem button3 = null;\r\n\r\n         \r\n            //javaTree = JabHelpers.GetComponentTreeByTitle(&quot;ELİNT&quot;, out vmID);\r\n\r\n\r\n\r\n            int index = 50;\r\n\r\n            javaTree = JabHelpers.GetComponentTree(hwnd, out vmID);\r\n\r\n            button1 = javaTree.children[0].children[1];\r\n            button2 = button1.children[1].children[2];\r\n            button = button2.children[1].children[3];\r\n            button3 = button2.children[1].children[4];\r\n\r\n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\r\n            for (int i = 0; i &lt; index; i++)\r\n            {              \r\n\r\n                JabHelpers.DoAccessibleActions(vmID, button.acPtr, &quot;click&quot;);\r\n                            }\r\n\r\n            javaTree.MyDispose(javaTree, vmID);\r\n            \r\n         \r\n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\r\n         \r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is a part of JabHelper class:\r\n\r\n\r\n```\r\npublic static AccessibleTreeItem GetComponentTreeByTitle(String title, out Int32 vmID)\r\n        {\r\n            IntPtr hwnd = FindWindowByCaption(IntPtr.Zero, title);\r\n            return GetComponentTree(hwnd, out vmID);\r\n        }\r\n\r\n        public static AccessibleTreeItem GetComponentTree(IntPtr hWnd, out Int32 vmID)\r\n        {\r\n            screenContents.Clear();\r\n            screenContentsString = string.Empty;\r\n\r\n            AccessibleTreeItem accessibleTreeItem = new AccessibleTreeItem();\r\n            vmID = 0;\r\n            if (JabApi.isJavaWindow(hWnd) == 1)\r\n            {\r\n                unsafe\r\n                {\r\n                    IntPtr acPtr;\r\n\r\n                    if (JabApi.getAccessibleContextFromHWND(hWnd, out vmID, out acPtr))\r\n                    {\r\n\r\n                        AccessibleContextInfo ac = new AccessibleContextInfo();\r\n                        accessibleTreeItem = GetAccessibleContextInfo(vmID, acPtr, out ac, null, 0, string.Empty); // RECURSION SEED\r\n\r\n                        return accessibleTreeItem;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n private static AccessibleTreeItem GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)\r\n        {\r\n            unsafe\r\n            {\r\n                // Allocate global memory space for the size of AccessibleContextInfo and store the address in acPtr\r\n                IntPtr acPtr = Marshal.AllocHGlobal(Marshal.SizeOf(new AccessibleContextInfo()));\r\n                try\r\n                {\r\n\r\n                    Marshal.StructureToPtr(new AccessibleContextInfo(), acPtr, true);\r\n                    if (JabApi.getAccessibleContextInfo(vmID, currentPtr, acPtr))\r\n                    {\r\n                        currentContext = (AccessibleContextInfo)Marshal.PtrToStructure(acPtr, typeof(AccessibleContextInfo));\r\n                        if (!ReferenceEquals(currentContext, null))\r\n                        {\r\n                            AccessibleTreeItem newItem = BuildAccessibleTree(currentPtr, currentContext, parentItem);\r\n\r\n                            if (!ReferenceEquals(newItem, null))\r\n                            {\r\n                                //Checks to see if current object has any text items.\r\n                                if (currentContext.accessibleText == true)\r\n                                {\r\n                                    AccessibleTextItemsInfo textItem;\r\n                                    //Gets text items.\r\n                                    textItem = GetAccessibleTextInfo(vmID, currentPtr);\r\n                                    newItem.textValue = textItem.sentence;\r\n\r\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name + &quot; = \\&quot;&quot; + textItem.sentence + &quot;\\&quot;&quot;;\r\n                                    screenContentsString += treeInfo + Environment.NewLine;\r\n                                    Debug.Print(treeInfo);\r\n                                }\r\n                                else\r\n                                {\r\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name;\r\n                                    screenContentsString += treeInfo + Environment.NewLine;\r\n                                    Debug.Print(treeInfo);\r\n                                }\r\n\r\n\r\n                                //Start collecting children\r\n                                int nextLevel = level + 1;\r\n                                for (int i = 0; i &lt; currentContext.childrenCount; i++)\r\n                                {\r\n                                    string lineageInfo = Repeat(&quot;\\t&quot;, level) + level.ToString() + &quot; Child &quot; + i.ToString() + &quot; Lineage = {&quot; + lineage + &quot;}&quot;;\r\n                                    screenContentsString += lineageInfo + Environment.NewLine;\r\n                                    Debug.Print(lineageInfo);\r\n\r\n                                    string currentlineage;\r\n                                    if (lineage == string.Empty)\r\n                                        currentlineage = i.ToString();\r\n                                    else\r\n                                        currentlineage = lineage + &quot;, &quot; + i.ToString();\r\n\r\n                                    if (currentContext.role_en_US != &quot;unknown&quot; &amp;&amp; currentContext.states_en_US.Contains(&quot;visible&quot;)) // Note the optomization here, I found this get me to an acceptable speed\r\n                                    {\r\n                                        AccessibleContextInfo childContext = new AccessibleContextInfo();\r\n                                        IntPtr childPtr = JabApi.getAccessibleChildFromContext(vmID, currentPtr, i);\r\n\r\n                                        GetAccessibleContextInfo(vmID, childPtr, out childContext, newItem, nextLevel, currentlineage);\r\n\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n\r\n                            return newItem;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        currentContext = new AccessibleContextInfo();\r\n                    }\r\n                }\r\n                finally\r\n                {\r\n                    if (acPtr != IntPtr.Zero)\r\n                        Marshal.FreeHGlobal(acPtr);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\npublic void MyDispose(AccessibleTreeItem parent, int vmID)\r\n            {\r\n                if (parent.children.Count == 0)\r\n                {\r\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\r\n                }\r\n                else\r\n                {\r\n                    for (int i = 0; i &lt; parent.childrenCount; i++)\r\n                    {\r\n                        parent.children[i].MyDispose(parent.children[i], vmID);\r\n                    }\r\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\r\n                }\r\n            }\r\n\r\n```\r\n\r\n\r\nHere is a part of JabApi code :\r\n\r\nYou can see the releaseJavaObject() metod is imported in there.\r\n```\r\n public static class JabApi\r\n    {\r\n\r\n        public const String WinAccessBridgeDll = @&quot;WindowsAccessBridge-64.dll&quot;;\r\n        public const Int32 MAX_STRING_SIZE = 1024;\r\n        public const Int32 SHORT_STRING_SIZE = 256;\r\n\r\n        #region Event Handlers\r\n        #region EventDLLImport\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseClickedFP(MouseClickedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseEnteredFP(MouseEnteredDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseExitedFP(MouseExitedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMousePressedFP(MousePressedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseReleasedFP(MouseReleasedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setFocusGainedFP(FocusGainedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setFocusLostFP(FocusLostDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setCaretUpdateFP(CaretUpdateDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setJavaShutdownFP(JavaShutDownDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMenuCanceledFP(MenuCanceledDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMenuDeselectedFP(MenuDeselectedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMenuSelectedFP(MenuSelectedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPopupMenuCanceledFP(PopupMenuCanceledDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPopupMenuWillBecomeInvisibleFP(PopupMenuWillBecomeInvisibleDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPopupMenuWillBecomeVisibleFP(PopupMenuWillBecomeVisibleDelegate fp);\r\n        \r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyActiveDescendentChangeFP(PropertyActiveDescendentChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyCaretChangeFP(PropertyCaretChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyChangeFP(PropertyChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyChildChangeFP(PropertyChildChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyDescriptionChangeFP(PropertyDescriptionChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyNameChangeFP(PropertyNameChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertySelectionChangeFP(PropertySelectionChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyStateChangeFP(PropertyStateChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyTableModelChangeFP(PropertyTableModelChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyTextChangeFP(PropertyTextChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyValueChangeFP(PropertyValueChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyVisibleDataChangeFP(PropertyVisibleDataChangeDelegate fp);\r\n        #endregion EventDLLImport\r\n        #region Event Delegates\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string property, [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void JavaShutDownDelegate(System.Int32 vmID);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void FocusGainedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void FocusLostDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void CaretUpdateDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseClickedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseEnteredDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseExitedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MousePressedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseReleasedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MenuDeselectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MenuSelectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PopupMenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PopupMenuWillBecomeInvisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PopupMenuWillBecomeVisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyNameChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldName, [MarshalAs(UnmanagedType.LPWStr)] string newName);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyDescriptionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldDescription, [MarshalAs(UnmanagedType.LPWStr)] string newDescription);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyStateChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldState, [MarshalAs(UnmanagedType.LPWStr)] string newState);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyValueChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertySelectionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyTextChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyCaretChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        Int32 oldPosition, Int32 newPosition);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyVisibleDataChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyChildChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        IntPtr oldChild, IntPtr newChild);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyActiveDescendentChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        IntPtr oldActiveDescendent, IntPtr newActiveDescendent);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyTableModelChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        IntPtr oldValue, IntPtr newValue);\r\n\r\n        #endregion Event Delegates\r\n\r\n        #endregion DLLImport - Functions\r\n\r\n        //Inits the JAB.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void Windows_run();\r\n\r\n        //Checks if window is JavaWindow.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Int32 isJavaWindow(IntPtr hwnd);\r\n\r\n        //Releases the specified java object.\r\n        //[DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        [DllImport(WinAccessBridgeDll, EntryPoint = &quot;releaseJavaObject&quot;, CallingConvention = CallingConvention.Cdecl)]\r\n        public extern static void releaseJavaObject(Int32 vmID, IntPtr javaObject);\r\n\r\n        //Sets the text of the given accessible context.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setTextContents(Int32 vmID, IntPtr ac, [MarshalAs(UnmanagedType.LPWStr)] string text);\r\n\r\n        //Gets basic version info about JVM/JAB\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void getVersionInfo(Int32 vmID, IntPtr versionInfo);\r\n\r\n        //Gets the next java window, where the hwnd passed is the previous window.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getNextJavaWindow(IntPtr hwnd);\r\n\r\n        //Returns ac from window handle.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextFromHWND(IntPtr hwnd, out Int32 vmID, out IntPtr ac);\r\n\r\n        //Returns handle from ac\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getHWNDFromAccessibleContext(Int32 vmID, IntPtr ac);\r\n\r\n        //Compares two objects\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean isSameObject(Int32 vmID, IntPtr ac1, IntPtr ac2);\r\n\r\n        //Returns an AccessibleContext object that represents the point given, offset by window coordinates.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextAt(Int32 vmID, IntPtr acparent, Int32 x, Int32 y, out IntPtr ac);\r\n\r\n        //Returns an AccessibleContext object that represents the nth child of the object ac, where n is specified by the value index.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getAccessibleChildFromContext(Int32 vmID, IntPtr ac, Int32 index);\r\n\r\n        //Returns an AccessibleContext object that represents the window with focus.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextWithFocus(void* window, out Int32 vmID, out IntPtr ac);\r\n\r\n        //Returns an AccessibleContext object that represents the parent of the specified object.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getAccessibleParentFromContext(Int32 vmID, IntPtr ac);\r\n\r\n        //Returns detailed information about an AccessibleContext object belonging to the JVM\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextInfo(Int32 vmID, IntPtr accessibleContext, IntPtr acInfo);\r\n\r\n        //**ACCESSIBLE TEXT FUNCTIONS\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleTextInfo(Int32 vmID, IntPtr AccessibleContext, IntPtr textInfo, Int32 x, Int32 y);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleTextItems(Int32 vmID, IntPtr AccessibleContext, IntPtr textItems, Int32 index);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleTextAttributes(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr attributes);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean GetAccessibleTextSelectionInfo(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr textSelection);\r\n\r\n\r\n        //\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static Boolean getAccessibleActions(Int32 vmID, IntPtr AccessibleContext,  IntPtr ptrAccessibleActions);\r\n\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static Boolean doAccessibleActions(Int32 vmID, IntPtr AccessibleContext, IntPtr actionsToDo, ref Int32 failure);\r\n\r\n\r\n    }\r\n}\r\n```\r\n","title":"How to release java objects from memory using releaseJavaObject() function","body":"<p>I'm trying to control a calculator interface which based on Java Oracle. My problem is the memory leakage.</p>\n<p>Let me explain what is happening. With 2 class,<code>JabApi</code> and <code>JabHelpers</code>, I'm making an object of <code>AccessibleTreeItem</code> class which is located in JabHelpers.</p>\n<p>Then doing some operations such as click to a button on the calculator in a for loop. After that, I'm trying to release memory using <code>MyDispose() </code> method that use the <code>releaseJavaObject()</code> method is located in JabHelpers but I could not observe a decrement in memory.</p>\n<p>I am not sure the <code>releaseJavaObject()</code> is working fine because after the javaTree.<code>MyDispose()</code> method, when try to click another button (button3) but it does not any changes on the calculator.</p>\n<p>What is my main problem in the JabApi and JabHelpers class? I don't know may be problem is related with the <code>releaseJavaObject()</code> importing parameters? Could it be? May be it is related with the <code>GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)</code> method is located in JapHelper, I have no idea.</p>\n<p>Please, support me. Thank you!</p>\n<p>Main code below:</p>\n<pre><code>namespace JabApiCsharpSample\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            //JabApi.Windows_run();\n            JabHelpers.Init();\n            int vmID = 0;\n            IntPtr hwnd = (IntPtr)3346002;//that is the handleWindow number given by Windows\n            JabHelpers.AccessibleTreeItem javaTree = null;\n            JabHelpers.AccessibleTreeItem button1 = null;\n            JabHelpers.AccessibleTreeItem button2 = null;\n            JabHelpers.AccessibleTreeItem button = null;\n            JabHelpers.AccessibleTreeItem button3 = null;\n\n         \n            //javaTree = JabHelpers.GetComponentTreeByTitle(&quot;ELİNT&quot;, out vmID);\n\n\n\n            int index = 50;\n\n            javaTree = JabHelpers.GetComponentTree(hwnd, out vmID);\n\n            button1 = javaTree.children[0].children[1];\n            button2 = button1.children[1].children[2];\n            button = button2.children[1].children[3];\n            button3 = button2.children[1].children[4];\n\n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\n            for (int i = 0; i &lt; index; i++)\n            {              \n\n                JabHelpers.DoAccessibleActions(vmID, button.acPtr, &quot;click&quot;);\n                            }\n\n            javaTree.MyDispose(javaTree, vmID);\n            \n         \n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\n         \n        }\n\n\n    }\n}\n</code></pre>\n<p>Here is a part of JabHelper class:</p>\n<pre><code>public static AccessibleTreeItem GetComponentTreeByTitle(String title, out Int32 vmID)\n        {\n            IntPtr hwnd = FindWindowByCaption(IntPtr.Zero, title);\n            return GetComponentTree(hwnd, out vmID);\n        }\n\n        public static AccessibleTreeItem GetComponentTree(IntPtr hWnd, out Int32 vmID)\n        {\n            screenContents.Clear();\n            screenContentsString = string.Empty;\n\n            AccessibleTreeItem accessibleTreeItem = new AccessibleTreeItem();\n            vmID = 0;\n            if (JabApi.isJavaWindow(hWnd) == 1)\n            {\n                unsafe\n                {\n                    IntPtr acPtr;\n\n                    if (JabApi.getAccessibleContextFromHWND(hWnd, out vmID, out acPtr))\n                    {\n\n                        AccessibleContextInfo ac = new AccessibleContextInfo();\n                        accessibleTreeItem = GetAccessibleContextInfo(vmID, acPtr, out ac, null, 0, string.Empty); // RECURSION SEED\n\n                        return accessibleTreeItem;\n                    }\n                }\n            }\n\n            return null;\n        }\n\n private static AccessibleTreeItem GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)\n        {\n            unsafe\n            {\n                // Allocate global memory space for the size of AccessibleContextInfo and store the address in acPtr\n                IntPtr acPtr = Marshal.AllocHGlobal(Marshal.SizeOf(new AccessibleContextInfo()));\n                try\n                {\n\n                    Marshal.StructureToPtr(new AccessibleContextInfo(), acPtr, true);\n                    if (JabApi.getAccessibleContextInfo(vmID, currentPtr, acPtr))\n                    {\n                        currentContext = (AccessibleContextInfo)Marshal.PtrToStructure(acPtr, typeof(AccessibleContextInfo));\n                        if (!ReferenceEquals(currentContext, null))\n                        {\n                            AccessibleTreeItem newItem = BuildAccessibleTree(currentPtr, currentContext, parentItem);\n\n                            if (!ReferenceEquals(newItem, null))\n                            {\n                                //Checks to see if current object has any text items.\n                                if (currentContext.accessibleText == true)\n                                {\n                                    AccessibleTextItemsInfo textItem;\n                                    //Gets text items.\n                                    textItem = GetAccessibleTextInfo(vmID, currentPtr);\n                                    newItem.textValue = textItem.sentence;\n\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name + &quot; = \\&quot;&quot; + textItem.sentence + &quot;\\&quot;&quot;;\n                                    screenContentsString += treeInfo + Environment.NewLine;\n                                    Debug.Print(treeInfo);\n                                }\n                                else\n                                {\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name;\n                                    screenContentsString += treeInfo + Environment.NewLine;\n                                    Debug.Print(treeInfo);\n                                }\n\n\n                                //Start collecting children\n                                int nextLevel = level + 1;\n                                for (int i = 0; i &lt; currentContext.childrenCount; i++)\n                                {\n                                    string lineageInfo = Repeat(&quot;\\t&quot;, level) + level.ToString() + &quot; Child &quot; + i.ToString() + &quot; Lineage = {&quot; + lineage + &quot;}&quot;;\n                                    screenContentsString += lineageInfo + Environment.NewLine;\n                                    Debug.Print(lineageInfo);\n\n                                    string currentlineage;\n                                    if (lineage == string.Empty)\n                                        currentlineage = i.ToString();\n                                    else\n                                        currentlineage = lineage + &quot;, &quot; + i.ToString();\n\n                                    if (currentContext.role_en_US != &quot;unknown&quot; &amp;&amp; currentContext.states_en_US.Contains(&quot;visible&quot;)) // Note the optomization here, I found this get me to an acceptable speed\n                                    {\n                                        AccessibleContextInfo childContext = new AccessibleContextInfo();\n                                        IntPtr childPtr = JabApi.getAccessibleChildFromContext(vmID, currentPtr, i);\n\n                                        GetAccessibleContextInfo(vmID, childPtr, out childContext, newItem, nextLevel, currentlineage);\n\n                                    }\n\n                                }\n                            }\n\n                            return newItem;\n                        }\n                    }\n                    else\n                    {\n                        currentContext = new AccessibleContextInfo();\n                    }\n                }\n                finally\n                {\n                    if (acPtr != IntPtr.Zero)\n                        Marshal.FreeHGlobal(acPtr);\n                }\n            }\n            return null;\n        }\n\npublic void MyDispose(AccessibleTreeItem parent, int vmID)\n            {\n                if (parent.children.Count == 0)\n                {\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\n                }\n                else\n                {\n                    for (int i = 0; i &lt; parent.childrenCount; i++)\n                    {\n                        parent.children[i].MyDispose(parent.children[i], vmID);\n                    }\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\n                }\n            }\n\n</code></pre>\n<p>Here is a part of JabApi code :</p>\n<p>You can see the releaseJavaObject() metod is imported in there.</p>\n<pre><code> public static class JabApi\n    {\n\n        public const String WinAccessBridgeDll = @&quot;WindowsAccessBridge-64.dll&quot;;\n        public const Int32 MAX_STRING_SIZE = 1024;\n        public const Int32 SHORT_STRING_SIZE = 256;\n\n        #region Event Handlers\n        #region EventDLLImport\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseClickedFP(MouseClickedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseEnteredFP(MouseEnteredDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseExitedFP(MouseExitedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMousePressedFP(MousePressedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseReleasedFP(MouseReleasedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setFocusGainedFP(FocusGainedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setFocusLostFP(FocusLostDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setCaretUpdateFP(CaretUpdateDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setJavaShutdownFP(JavaShutDownDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMenuCanceledFP(MenuCanceledDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMenuDeselectedFP(MenuDeselectedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMenuSelectedFP(MenuSelectedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPopupMenuCanceledFP(PopupMenuCanceledDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPopupMenuWillBecomeInvisibleFP(PopupMenuWillBecomeInvisibleDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPopupMenuWillBecomeVisibleFP(PopupMenuWillBecomeVisibleDelegate fp);\n        \n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyActiveDescendentChangeFP(PropertyActiveDescendentChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyCaretChangeFP(PropertyCaretChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyChangeFP(PropertyChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyChildChangeFP(PropertyChildChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyDescriptionChangeFP(PropertyDescriptionChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyNameChangeFP(PropertyNameChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertySelectionChangeFP(PropertySelectionChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyStateChangeFP(PropertyStateChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyTableModelChangeFP(PropertyTableModelChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyTextChangeFP(PropertyTextChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyValueChangeFP(PropertyValueChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyVisibleDataChangeFP(PropertyVisibleDataChangeDelegate fp);\n        #endregion EventDLLImport\n        #region Event Delegates\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string property, [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void JavaShutDownDelegate(System.Int32 vmID);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void FocusGainedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void FocusLostDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void CaretUpdateDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseClickedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseEnteredDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseExitedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MousePressedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseReleasedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MenuDeselectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MenuSelectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PopupMenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PopupMenuWillBecomeInvisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PopupMenuWillBecomeVisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyNameChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldName, [MarshalAs(UnmanagedType.LPWStr)] string newName);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyDescriptionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldDescription, [MarshalAs(UnmanagedType.LPWStr)] string newDescription);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyStateChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldState, [MarshalAs(UnmanagedType.LPWStr)] string newState);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyValueChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertySelectionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyTextChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyCaretChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        Int32 oldPosition, Int32 newPosition);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyVisibleDataChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyChildChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        IntPtr oldChild, IntPtr newChild);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyActiveDescendentChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        IntPtr oldActiveDescendent, IntPtr newActiveDescendent);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyTableModelChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        IntPtr oldValue, IntPtr newValue);\n\n        #endregion Event Delegates\n\n        #endregion DLLImport - Functions\n\n        //Inits the JAB.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void Windows_run();\n\n        //Checks if window is JavaWindow.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Int32 isJavaWindow(IntPtr hwnd);\n\n        //Releases the specified java object.\n        //[DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        [DllImport(WinAccessBridgeDll, EntryPoint = &quot;releaseJavaObject&quot;, CallingConvention = CallingConvention.Cdecl)]\n        public extern static void releaseJavaObject(Int32 vmID, IntPtr javaObject);\n\n        //Sets the text of the given accessible context.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setTextContents(Int32 vmID, IntPtr ac, [MarshalAs(UnmanagedType.LPWStr)] string text);\n\n        //Gets basic version info about JVM/JAB\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void getVersionInfo(Int32 vmID, IntPtr versionInfo);\n\n        //Gets the next java window, where the hwnd passed is the previous window.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getNextJavaWindow(IntPtr hwnd);\n\n        //Returns ac from window handle.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextFromHWND(IntPtr hwnd, out Int32 vmID, out IntPtr ac);\n\n        //Returns handle from ac\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getHWNDFromAccessibleContext(Int32 vmID, IntPtr ac);\n\n        //Compares two objects\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean isSameObject(Int32 vmID, IntPtr ac1, IntPtr ac2);\n\n        //Returns an AccessibleContext object that represents the point given, offset by window coordinates.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextAt(Int32 vmID, IntPtr acparent, Int32 x, Int32 y, out IntPtr ac);\n\n        //Returns an AccessibleContext object that represents the nth child of the object ac, where n is specified by the value index.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getAccessibleChildFromContext(Int32 vmID, IntPtr ac, Int32 index);\n\n        //Returns an AccessibleContext object that represents the window with focus.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextWithFocus(void* window, out Int32 vmID, out IntPtr ac);\n\n        //Returns an AccessibleContext object that represents the parent of the specified object.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getAccessibleParentFromContext(Int32 vmID, IntPtr ac);\n\n        //Returns detailed information about an AccessibleContext object belonging to the JVM\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextInfo(Int32 vmID, IntPtr accessibleContext, IntPtr acInfo);\n\n        //**ACCESSIBLE TEXT FUNCTIONS\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleTextInfo(Int32 vmID, IntPtr AccessibleContext, IntPtr textInfo, Int32 x, Int32 y);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleTextItems(Int32 vmID, IntPtr AccessibleContext, IntPtr textItems, Int32 index);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleTextAttributes(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr attributes);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean GetAccessibleTextSelectionInfo(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr textSelection);\n\n\n        //\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static Boolean getAccessibleActions(Int32 vmID, IntPtr AccessibleContext,  IntPtr ptrAccessibleActions);\n\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static Boolean doAccessibleActions(Int32 vmID, IntPtr AccessibleContext, IntPtr actionsToDo, ref Int32 failure);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":24901858,"reputation":1,"user_id":18772447,"display_name":"MANAR DAWOD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701276766,"answer_count":0,"score":-1,"last_activity_date":1701267840,"creation_date":1701267840,"question_id":77571993,"body_markdown":"i want to pass Arraylist from Activity to another Activity, but i have a problem, here is my code: \r\n\r\n```\r\nif (list != null) {\r\n            Intent intent = new Intent(DueViewActivity.this, DoneViewActivity.class);\r\n            intent.putStringArrayListExtra(&quot;lista&quot;,list);\r\n            startActivity(intent);\r\n            Log.d(&quot;Due Act&quot;, &quot;listDue: &quot; + list);\r\n        } list in first Activity,,it prints listDue: [homework1, homework4, homework6, homework2]\r\n```\r\n   \r\n  \r\nin second Activity i made:\r\n\r\n```\r\nIntent intent = getIntent();\r\n        ArrayList&lt;String&gt; list2 = intent.getStringArrayListExtra(&quot;lista&quot;);\r\n        Log.d(&quot;Done Activity list2&quot;, &quot;list2: &quot; + list2);\r\nbut it prints list2:null\r\n```\r\n\r\nhow can solve  this?\r\n\r\n","title":"How can i pass Arraylist from Activity to another?","body":"<p>i want to pass Arraylist from Activity to another Activity, but i have a problem, here is my code:</p>\n<pre><code>if (list != null) {\n            Intent intent = new Intent(DueViewActivity.this, DoneViewActivity.class);\n            intent.putStringArrayListExtra(&quot;lista&quot;,list);\n            startActivity(intent);\n            Log.d(&quot;Due Act&quot;, &quot;listDue: &quot; + list);\n        } list in first Activity,,it prints listDue: [homework1, homework4, homework6, homework2]\n</code></pre>\n<p>in second Activity i made:</p>\n<pre><code>Intent intent = getIntent();\n        ArrayList&lt;String&gt; list2 = intent.getStringArrayListExtra(&quot;lista&quot;);\n        Log.d(&quot;Done Activity list2&quot;, &quot;list2: &quot; + list2);\nbut it prints list2:null\n</code></pre>\n<p>how can solve  this?</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701267559,"creation_date":1701267559,"question_id":77571954,"body_markdown":"Given this JSON documents:\r\n\r\n```json\r\n{\r\n  &quot;first-name&quot;: &quot;John&quot;,\r\n  &quot;last-name&quot;: &quot;Smith&quot;,\r\n  &quot;children&quot;: [&quot;Sam&quot;, &quot;Joe&quot;]\r\n}\r\n```\r\n\r\nor:\r\n\r\n```json\r\n{\r\n  &quot;first-name&quot;: &quot;John&quot;,\r\n  &quot;last-name&quot;: &quot;Smith&quot;,\r\n  &quot;children&quot;: [{\r\n    &quot;first-name&quot;: &quot;Sam&quot;,\r\n    &quot;last-name&quot;: &quot;Smith&quot;\r\n  }, {\r\n    &quot;first-name&quot; : &quot;Joe&quot;,\r\n    &quot;last-name&quot;: &quot;Smith&quot;\r\n  }]\r\n}\r\n```\r\n\r\nWhere for the `children` attribute the value can be either a JSON-String or a JSON-Object.\r\nWe can assume that when a String is provided, this correspond to the first name.\r\n\r\nMany stack-overflow answers point to the fact that this can be solved with a custom `JsonDeserializer` class:\r\n\r\nJava code:\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n\r\npublic class Main {\r\n\r\n    public static class Person {\r\n        @JsonProperty(&quot;first-name&quot;)\r\n        private String firstName;\r\n\r\n        @JsonProperty(&quot;last-name&quot;)\r\n        private String lastName;\r\n\r\n        @JsonProperty(&quot;children&quot;)\r\n        private List&lt;Child&gt; children;\r\n\r\n        public Person() {\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        public List&lt;Child&gt; getChildren() {\r\n            return children;\r\n        }\r\n\r\n        public void setChildren(List&lt;Child&gt; children) {\r\n            this.children = children;\r\n        }\r\n    }\r\n\r\n    @JsonDeserialize(using = ChildDeserializer.class)\r\n    public static class Child {\r\n        @JsonProperty(&quot;first-name&quot;)\r\n        private String firstName;\r\n\r\n        @JsonProperty(&quot;last-name&quot;)\r\n        private String lastName;\r\n\r\n        public Child() {\r\n        }\r\n\r\n        public Child(String firstName, String lastName) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n\r\n    public static class ChildDeserializer extends JsonDeserializer&lt;Child&gt; {\r\n        @Override\r\n        public Child deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            JsonNode node = jsonParser.getCodec()\r\n                    .readTree(jsonParser);\r\n\r\n            if (node.isObject()) {\r\n                String firstName = node.has(&quot;first-name&quot;) ? node.get(&quot;first-name&quot;)\r\n                        .textValue() : null;\r\n                String lastName = node.has(&quot;last-name&quot;) ? node.get(&quot;last-name&quot;)\r\n                        .textValue() : null;\r\n                return new Child(firstName, lastName);\r\n            } else if (node.isTextual()) {\r\n                return new Child(node.asText(), null);\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [\\&quot;Sam\\&quot;, \\&quot;Joe\\&quot;] }&quot;);\r\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [{\\&quot;first-name\\&quot;: \\&quot;Sam\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}, {\\&quot;first-name\\&quot;: \\&quot;Joe\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\r\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;Bob\\&quot;, \\&quot;children\\&quot;: [{\\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\r\n    }\r\n\r\n    private static void parseAndPrint(String json1) throws JsonProcessingException, JsonMappingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        Person person = objectMapper.readValue(json1, Person.class);\r\n        System.out.println(&quot;Person: &quot; + person.getFirstName() + &quot; &quot; + person.getLastName());\r\n        System.out.println(&quot;Children:&quot;);\r\n        for (Child child : person.getChildren()) {\r\n            System.out.println(child.getFirstName() + &quot; &quot; + child.getLastName());\r\n        }\r\n        System.out.println(&quot;---&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am wondering if there is a better way, since with this approach the custom `JsonDeserializer` is handling all the attributes of the `Child` entity one by one.\r\n\r\nWhen a new attribute is added to the Child entity, there is the need add it both in the Java Object (new filed with the `@JsonProperty` annotation) and new case in the `JsonDeserializer`\r\n\r\n","title":"How to write a custom Deserialiser for Jackson to parse of a value that is either a String or an Object into a Java Class (oneOf)","body":"<p>Given this JSON documents:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;first-name&quot;: &quot;John&quot;,\n  &quot;last-name&quot;: &quot;Smith&quot;,\n  &quot;children&quot;: [&quot;Sam&quot;, &quot;Joe&quot;]\n}\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;first-name&quot;: &quot;John&quot;,\n  &quot;last-name&quot;: &quot;Smith&quot;,\n  &quot;children&quot;: [{\n    &quot;first-name&quot;: &quot;Sam&quot;,\n    &quot;last-name&quot;: &quot;Smith&quot;\n  }, {\n    &quot;first-name&quot; : &quot;Joe&quot;,\n    &quot;last-name&quot;: &quot;Smith&quot;\n  }]\n}\n</code></pre>\n<p>Where for the <code>children</code> attribute the value can be either a JSON-String or a JSON-Object.\nWe can assume that when a String is provided, this correspond to the first name.</p>\n<p>Many stack-overflow answers point to the fact that this can be solved with a custom <code>JsonDeserializer</code> class:</p>\n<p>Java code:</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n\npublic class Main {\n\n    public static class Person {\n        @JsonProperty(&quot;first-name&quot;)\n        private String firstName;\n\n        @JsonProperty(&quot;last-name&quot;)\n        private String lastName;\n\n        @JsonProperty(&quot;children&quot;)\n        private List&lt;Child&gt; children;\n\n        public Person() {\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName = firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n\n        public List&lt;Child&gt; getChildren() {\n            return children;\n        }\n\n        public void setChildren(List&lt;Child&gt; children) {\n            this.children = children;\n        }\n    }\n\n    @JsonDeserialize(using = ChildDeserializer.class)\n    public static class Child {\n        @JsonProperty(&quot;first-name&quot;)\n        private String firstName;\n\n        @JsonProperty(&quot;last-name&quot;)\n        private String lastName;\n\n        public Child() {\n        }\n\n        public Child(String firstName, String lastName) {\n            this.firstName = firstName;\n            this.lastName = lastName;\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName = firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n    }\n\n    public static class ChildDeserializer extends JsonDeserializer&lt;Child&gt; {\n        @Override\n        public Child deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n            JsonNode node = jsonParser.getCodec()\n                    .readTree(jsonParser);\n\n            if (node.isObject()) {\n                String firstName = node.has(&quot;first-name&quot;) ? node.get(&quot;first-name&quot;)\n                        .textValue() : null;\n                String lastName = node.has(&quot;last-name&quot;) ? node.get(&quot;last-name&quot;)\n                        .textValue() : null;\n                return new Child(firstName, lastName);\n            } else if (node.isTextual()) {\n                return new Child(node.asText(), null);\n            }\n\n            return null;\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [\\&quot;Sam\\&quot;, \\&quot;Joe\\&quot;] }&quot;);\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [{\\&quot;first-name\\&quot;: \\&quot;Sam\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}, {\\&quot;first-name\\&quot;: \\&quot;Joe\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;Bob\\&quot;, \\&quot;children\\&quot;: [{\\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\n    }\n\n    private static void parseAndPrint(String json1) throws JsonProcessingException, JsonMappingException {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        Person person = objectMapper.readValue(json1, Person.class);\n        System.out.println(&quot;Person: &quot; + person.getFirstName() + &quot; &quot; + person.getLastName());\n        System.out.println(&quot;Children:&quot;);\n        for (Child child : person.getChildren()) {\n            System.out.println(child.getFirstName() + &quot; &quot; + child.getLastName());\n        }\n        System.out.println(&quot;---&quot;);\n    }\n}\n</code></pre>\n<p>I am wondering if there is a better way, since with this approach the custom <code>JsonDeserializer</code> is handling all the attributes of the <code>Child</code> entity one by one.</p>\n<p>When a new attribute is added to the Child entity, there is the need add it both in the Java Object (new filed with the <code>@JsonProperty</code> annotation) and new case in the <code>JsonDeserializer</code></p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1701267139,"post_id":77571851,"comment_id":136754409,"body_markdown":"`UserResult` has an id property?","body":"<code>UserResult</code> has an id property?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1701267227,"post_id":77571851,"comment_id":136754428,"body_markdown":"Could you share `@Entity` class that you have in java code ?","body":"Could you share <code>@Entity</code> class that you have in java code ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701269850,"post_id":77571851,"comment_id":136755071,"body_markdown":"Your entity isn&#39;t mapped to the data correctly. This is a native query that is only returning 2 fields (name and score) while your entity requires an ID column as well. If you use JPQL query, maybe something like Query(value = &quot;select resultfrom UserResult result where result.quizId = :quizId&quot;), just be sure you have a java &#39;quizId&#39; property","body":"Your entity isn&#39;t mapped to the data correctly. This is a native query that is only returning 2 fields (name and score) while your entity requires an ID column as well. If you use JPQL query, maybe something like Query(value = &quot;select resultfrom UserResult result where result.quizId = :quizId&quot;), just be sure you have a java &#39;quizId&#39; property"},{"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"score":0,"creation_date":1701285627,"post_id":77571851,"comment_id":136758115,"body_markdown":"I&#39;ve tried using as you said @Chris and it worked, thanks in advance to everyone that answered too.","body":"I&#39;ve tried using as you said @Chris and it worked, thanks in advance to everyone that answered too."}],"answers":[{"tags":[],"owner":{"account_id":9640310,"reputation":1,"user_id":7154796,"display_name":"K.Mouad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701267553,"creation_date":1701267509,"answer_id":77571946,"question_id":77571851,"body_markdown":"Make sure UserResult entity has an attribute named id, like this : \r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private String id;","title":"Trying to retrieve data using JPA Query Annotation","body":"<p>Make sure UserResult entity has an attribute named id, like this :</p>\n<pre><code>@Id\n@Column(name = &quot;ID&quot;)\nprivate String id;\n</code></pre>\n"}],"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701267553,"creation_date":1701266875,"question_id":77571851,"body_markdown":"I&#39;m trying to execute a query using the @Query annotation from JPA, like this:\r\n\r\n\r\n    public interface UserResultRepository extends CrudRepository&lt;UserResult, String&gt; {\r\n\r\n    @Query(value = &quot;SELECT name, score FROM quizzapp.user_result result WHERE result.quiz_id = :quizId&quot;, nativeQuery = true)\r\n    List&lt;UserResult&gt; listResultsForExport(@Param(&quot;quizId&quot;) String quizId); \r\n\r\n    }\r\n\r\nBut i&#39;m getting the following message from the console:\r\n\r\n`java.sql.SQLException: Column &#39;id&#39; not found.`\r\n\r\nHere&#39;s the entity structure inside the database:\r\n\r\n[Entity in database](https://i.stack.imgur.com/ELcrr.png)\r\n\r\nI first tried to use without the `nativeQuery`, but i got a different error saying that i should have a converter to the data that was being retrieved from the database, and then i did it again using the `nativeQuery`, and now i&#39;m facing this different error.","title":"Trying to retrieve data using JPA Query Annotation","body":"<p>I'm trying to execute a query using the @Query annotation from JPA, like this:</p>\n<pre><code>public interface UserResultRepository extends CrudRepository&lt;UserResult, String&gt; {\n\n@Query(value = &quot;SELECT name, score FROM quizzapp.user_result result WHERE result.quiz_id = :quizId&quot;, nativeQuery = true)\nList&lt;UserResult&gt; listResultsForExport(@Param(&quot;quizId&quot;) String quizId); \n\n}\n</code></pre>\n<p>But i'm getting the following message from the console:</p>\n<p><code>java.sql.SQLException: Column 'id' not found.</code></p>\n<p>Here's the entity structure inside the database:</p>\n<p><a href=\"https://i.stack.imgur.com/ELcrr.png\" rel=\"nofollow noreferrer\">Entity in database</a></p>\n<p>I first tried to use without the <code>nativeQuery</code>, but i got a different error saying that i should have a converter to the data that was being retrieved from the database, and then i did it again using the <code>nativeQuery</code>, and now i'm facing this different error.</p>\n"},{"tags":["java","xml","jackson","deserialization","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701267361,"creation_date":1701267361,"answer_id":77571922,"question_id":77571733,"body_markdown":"Ok, it is actually easier than I thought, Jackson is awesome.\r\n\r\nJust need to change type from `String` for `value` to type `Object` like below:\r\n\r\n```\r\nprivate Map&lt;String, Object&gt; localMetadataAttributesMap;\r\n    \r\n    private BoundedBy boundedBy;\r\n\r\n    @JsonAnySetter\r\n    // NOTE: To map an unknown list of properties, must use this annotation\r\n    public void addKeyValue(String key, Object value) {\r\n        this.localMetadataAttributesMap.put(key, value);\r\n    }\r\n\r\n    public LocalMetadataChild() {\r\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\r\n        this.boundedBy = new BoundedBy();\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\r\n    public Map&lt;String, Object&gt; getLocalMetadataAttributesMap() {\r\n        return localMetadataAttributesMap;\r\n    }\r\n```\r\n\r\nThen, serialize the `value` to `String` afterwards.\r\n\r\n```\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        Object obj = value of the map above\r\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n        String xml = xmlMapper.writer().writeValueAsString(obj);\r\n```\r\n\r\n","title":"How to map a nested XML element content as a string of a map?","body":"<p>Ok, it is actually easier than I thought, Jackson is awesome.</p>\n<p>Just need to change type from <code>String</code> for <code>value</code> to type <code>Object</code> like below:</p>\n<pre><code>private Map&lt;String, Object&gt; localMetadataAttributesMap;\n    \n    private BoundedBy boundedBy;\n\n    @JsonAnySetter\n    // NOTE: To map an unknown list of properties, must use this annotation\n    public void addKeyValue(String key, Object value) {\n        this.localMetadataAttributesMap.put(key, value);\n    }\n\n    public LocalMetadataChild() {\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\n        this.boundedBy = new BoundedBy();\n    }\n\n    @JsonAnyGetter\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\n    public Map&lt;String, Object&gt; getLocalMetadataAttributesMap() {\n        return localMetadataAttributesMap;\n    }\n</code></pre>\n<p>Then, serialize the <code>value</code> to <code>String</code> afterwards.</p>\n<pre><code>        XmlMapper xmlMapper = new XmlMapper();\n        Object obj = value of the map above\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n        String xml = xmlMapper.writer().writeValueAsString(obj);\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701267361,"creation_date":1701265883,"question_id":77571733,"body_markdown":"I&#39;m using Java and Jackson:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have this XML and want to deserialize the element name: `&lt;RandomName&gt;` (note that this element name can be anything and the content of it is random as well) as the key and any XML content under it as the string value of a map, so it would be like: `RandomName` -&gt; `&lt;metadaten&gt; ... &lt;/metadaten&gt;`.\r\n\r\n```xml\r\n&lt;slices&gt;\r\n    &lt;slice&gt;\r\n        &lt;boundedBy&gt;\r\n            &lt;Envelope&gt;\r\n                &lt;axisLabels&gt;Lat Long&lt;/axisLabels&gt;\r\n                &lt;srsDimension&gt;2&lt;/srsDimension&gt;\r\n                &lt;lowerCorner&gt;-44.975 111.975&lt;/lowerCorner&gt;\r\n                &lt;upperCorner&gt;-8.975 130.975&lt;/upperCorner&gt;\r\n            &lt;/Envelope&gt;\r\n        &lt;/boundedBy&gt;\r\n        &lt;local_metadata_key&gt;test123&lt;/local_metadata_key&gt;\r\n        &lt;RandomName&gt;\r\n            &lt;metadaten&gt;\r\n                &lt;Kompression&gt;0&lt;/Kompression&gt;\r\n                &lt;Komprimierung&gt;0&lt;/Komprimierung&gt;\r\n                &lt;Belaubungszustand&gt;3&lt;/Belaubungszustand&gt;\r\n                &lt;Bemerkungen&gt;keine&lt;/Bemerkungen&gt;\r\n            &lt;/metadaten&gt;\r\n        &lt;/RandomName&gt;\r\n        &lt;fileReferenceHistory&gt;testfile&lt;/fileReferenceHistory&gt;   \r\n    &lt;/slice&gt;\r\n&lt;/slices&gt;\r\n```\r\n\r\nI have this class to deserialize the XML to it, but in the method `addKeyValue()`, it always sees `key` = `RandomName` and `value` = empty string, here I wanted, `value` = `&lt;metadaten&gt; ... &lt;/metadaten&gt;` instead.\r\n\r\n```java\r\npublic class LocalMetadataChild {\r\n    \r\n    public static final String LOCAL_METADATA_TAG = &quot;slice&quot;;\r\n\r\n    private Map&lt;String, String&gt; localMetadataAttributesMap;\r\n    \r\n    private BoundedBy boundedBy;\r\n\r\n    @JsonAnySetter\r\n    // NOTE: To map an unknown list of properties, must use this annotation\r\n    public void addKeyValue(String key, String value) {\r\n        this.localMetadataAttributesMap.put(key, value);\r\n    }\r\n\r\n    public LocalMetadataChild() {\r\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\r\n        this.boundedBy = new BoundedBy();\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\r\n    public Map&lt;String, String&gt; getLocalMetadataAttributesMap() {\r\n        return localMetadataAttributesMap;\r\n    }\r\n    \r\n    public BoundedBy getBoundedBy() {\r\n        return this.boundedBy;\r\n    }\r\n\r\n    public void setBoundedBy(BoundedBy boundedBy) {\r\n        this.boundedBy = boundedBy;\r\n    }\r\n\r\n    public LocalMetadataChild(Map&lt;String, String&gt; localMetadataAttributesMap, BoundedBy boundedBy) {\r\n        this.localMetadataAttributesMap = localMetadataAttributesMap;\r\n        this.boundedBy = boundedBy;\r\n    }\r\n}\r\n```","title":"How to map a nested XML element content as a string of a map?","body":"<p>I'm using Java and Jackson:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.8.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have this XML and want to deserialize the element name: <code>&lt;RandomName&gt;</code> (note that this element name can be anything and the content of it is random as well) as the key and any XML content under it as the string value of a map, so it would be like: <code>RandomName</code> -&gt; <code>&lt;metadaten&gt; ... &lt;/metadaten&gt;</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;slices&gt;\n    &lt;slice&gt;\n        &lt;boundedBy&gt;\n            &lt;Envelope&gt;\n                &lt;axisLabels&gt;Lat Long&lt;/axisLabels&gt;\n                &lt;srsDimension&gt;2&lt;/srsDimension&gt;\n                &lt;lowerCorner&gt;-44.975 111.975&lt;/lowerCorner&gt;\n                &lt;upperCorner&gt;-8.975 130.975&lt;/upperCorner&gt;\n            &lt;/Envelope&gt;\n        &lt;/boundedBy&gt;\n        &lt;local_metadata_key&gt;test123&lt;/local_metadata_key&gt;\n        &lt;RandomName&gt;\n            &lt;metadaten&gt;\n                &lt;Kompression&gt;0&lt;/Kompression&gt;\n                &lt;Komprimierung&gt;0&lt;/Komprimierung&gt;\n                &lt;Belaubungszustand&gt;3&lt;/Belaubungszustand&gt;\n                &lt;Bemerkungen&gt;keine&lt;/Bemerkungen&gt;\n            &lt;/metadaten&gt;\n        &lt;/RandomName&gt;\n        &lt;fileReferenceHistory&gt;testfile&lt;/fileReferenceHistory&gt;   \n    &lt;/slice&gt;\n&lt;/slices&gt;\n</code></pre>\n<p>I have this class to deserialize the XML to it, but in the method <code>addKeyValue()</code>, it always sees <code>key</code> = <code>RandomName</code> and <code>value</code> = empty string, here I wanted, <code>value</code> = <code>&lt;metadaten&gt; ... &lt;/metadaten&gt;</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalMetadataChild {\n    \n    public static final String LOCAL_METADATA_TAG = &quot;slice&quot;;\n\n    private Map&lt;String, String&gt; localMetadataAttributesMap;\n    \n    private BoundedBy boundedBy;\n\n    @JsonAnySetter\n    // NOTE: To map an unknown list of properties, must use this annotation\n    public void addKeyValue(String key, String value) {\n        this.localMetadataAttributesMap.put(key, value);\n    }\n\n    public LocalMetadataChild() {\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\n        this.boundedBy = new BoundedBy();\n    }\n\n    @JsonAnyGetter\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\n    public Map&lt;String, String&gt; getLocalMetadataAttributesMap() {\n        return localMetadataAttributesMap;\n    }\n    \n    public BoundedBy getBoundedBy() {\n        return this.boundedBy;\n    }\n\n    public void setBoundedBy(BoundedBy boundedBy) {\n        this.boundedBy = boundedBy;\n    }\n\n    public LocalMetadataChild(Map&lt;String, String&gt; localMetadataAttributesMap, BoundedBy boundedBy) {\n        this.localMetadataAttributesMap = localMetadataAttributesMap;\n        this.boundedBy = boundedBy;\n    }\n}\n</code></pre>\n"},{"tags":["java","time-complexity","series","space-complexity","revel"],"comments":[{"owner":{"account_id":22343813,"reputation":889,"user_id":16563198,"display_name":"sbridewell"},"score":0,"creation_date":1701273304,"post_id":77567934,"comment_id":136755884,"body_markdown":"Please edit your question to [include code, data and error messages as text, not images](https://meta.stackoverflow.com/a/285557/16563198).","body":"Please edit your question to <a href=\"https://meta.stackoverflow.com/a/285557/16563198\">include code, data and error messages as text, not images</a>."},{"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"score":0,"creation_date":1701359357,"post_id":77567934,"comment_id":136768254,"body_markdown":"I can&#39;t for the last image because it is an Exercise Checker. But I can edit the code and put the output for the code I tried.","body":"I can&#39;t for the last image because it is an Exercise Checker. But I can edit the code and put the output for the code I tried."}],"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701267218,"creation_date":1701218215,"question_id":77567934,"body_markdown":"I&#39;m trying to solve this problem, Exercise22_05.java, and to make it work.\r\n\r\nThis is the image of the exercise that I&#39;m trying to solve: [![Please click here to see the image and the problem of the exercise][1]][1]\r\n\r\nI tried this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.*;\r\n    public class Exercise22_05 {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a series of numbers ending with 0: &quot;);\r\n            int number = scanner.nextInt();\r\n            int count = 1;\r\n            int maxCount = 1;\r\n            int maxNumber = number;\r\n            int index = 0;\r\n            int i = 1;\r\n            while (number != 0) {\r\n                number = scanner.nextInt();\r\n                if (number == i) {\r\n                  count++;\r\n                } else {\r\n                    if (count &gt; maxCount) {\r\n                       maxCount = count;\r\n                       maxNumber = i;\r\n                       index = i - count + 1;\r\n                    }\r\n                        count = 1;\r\n                        i = number;\r\n                }\r\n            }\r\n            if (count &gt; maxCount) {\r\n               maxCount = count;\r\n               maxNumber = i;\r\n               index = i - count + 1;\r\n            }\r\n            System.out.print(&quot;The longest same number sequence starts at index &quot; + index + &quot; with &quot; + maxCount + &quot; values of &quot; + maxNumber);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut it didn&#39;t work because here: [![Please Click Here To See The Output That&#39;s Supposed To Work][2]][2]\r\n\r\n\r\nIs there anyway to solve this problem? I will really if someone actually does help, so can anyone please help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IubBO.png\r\n  [2]: https://i.stack.imgur.com/mYsGD.png","title":"Is there a way to fix this Exercise22_05 for REVEL?","body":"<p>I'm trying to solve this problem, Exercise22_05.java, and to make it work.</p>\n<p>This is the image of the exercise that I'm trying to solve: <a href=\"https://i.stack.imgur.com/IubBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IubBO.png\" alt=\"Please click here to see the image and the problem of the exercise\" /></a></p>\n<p>I tried this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.*;\npublic class Exercise22_05 {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(\"Enter a series of numbers ending with 0: \");\n        int number = scanner.nextInt();\n        int count = 1;\n        int maxCount = 1;\n        int maxNumber = number;\n        int index = 0;\n        int i = 1;\n        while (number != 0) {\n            number = scanner.nextInt();\n            if (number == i) {\n              count++;\n            } else {\n                if (count &gt; maxCount) {\n                   maxCount = count;\n                   maxNumber = i;\n                   index = i - count + 1;\n                }\n                    count = 1;\n                    i = number;\n            }\n        }\n        if (count &gt; maxCount) {\n           maxCount = count;\n           maxNumber = i;\n           index = i - count + 1;\n        }\n        System.out.print(\"The longest same number sequence starts at index \" + index + \" with \" + maxCount + \" values of \" + maxNumber);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But it didn't work because here: <a href=\"https://i.stack.imgur.com/mYsGD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mYsGD.png\" alt=\"Please Click Here To See The Output That's Supposed To Work\" /></a></p>\n<p>Is there anyway to solve this problem? I will really if someone actually does help, so can anyone please help me?</p>\n"},{"tags":["java","simulation","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1701260159,"post_id":77570077,"comment_id":136753077,"body_markdown":"well, does it work before exporting from the AL IDE?","body":"well, does it work before exporting from the AL IDE?"},{"owner":{"account_id":30020657,"reputation":1,"user_id":23006107,"display_name":"Lemmy"},"score":0,"creation_date":1701266850,"post_id":77570077,"comment_id":136754359,"body_markdown":"Yes, it works in the IDE, every experiments I tested.","body":"Yes, it works in the IDE, every experiments I tested."},{"owner":{"account_id":30020657,"reputation":1,"user_id":23006107,"display_name":"Lemmy"},"score":0,"creation_date":1701267408,"post_id":77570077,"comment_id":136754492,"body_markdown":"I now decomplled the class Simulation.class to look into it, I posted the beginning of this class if this is allowed here.","body":"I now decomplled the class Simulation.class to look into it, I posted the beginning of this class if this is allowed here."},{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1701280473,"post_id":77570077,"comment_id":136757300,"body_markdown":"this won&#39;t help, tbh. Try compiling from a different machine or try running the compiled model on a different machine","body":"this won&#39;t help, tbh. Try compiling from a different machine or try running the compiled model on a different machine"}],"owner":{"account_id":30020657,"reputation":1,"user_id":23006107,"display_name":"Lemmy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701267102,"creation_date":1701251507,"question_id":77570077,"body_markdown":"I did an export from an AnyLogic project from Anylogic 8.8.5 to a standalone Java application. When I try to run this experiment standalone with the provided batch file to start on Windows, I get the error\r\n\r\n```none\r\nMain method not found in class wandering_elephants.Simulation, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n```\r\nThe batch file call is:\r\n\r\n```none\r\njava -cp model.jar;(and lot of more classpathes, see details attached) wandering_elephants.Simulation %*\r\n```\r\n\r\nmodel.jar contains subdirectory wandering_elephants and in this subdirectory Simulation.class\r\n\r\nI tried all different kinds of Java runtime versions and some different projects, but it is the same error.\r\n\r\nWhat could be the problem?\r\n\r\nAttachment:\r\n\r\nDetailed call\r\n```batch\r\n===================================================\r\n@echo off\r\nrem \r\nrem Run AnyLogic Experiment\r\nrem \r\nsetlocal enabledelayedexpansion\r\nchcp 1252 &gt;nul \r\nset DIR_BACKUP_XJAL=%cd%\r\ncd /D &quot;%~dp0&quot;\r\n\r\nrem ----------------------------------\r\n\r\nrem echo 1.Check JAVA_HOME\r\n\r\nif exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; (\r\n\tset PATH=!JAVA_HOME!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\nrem echo 2.Check PATH\r\n\r\nfor /f %%j in (&quot;java.exe&quot;) do (\r\n\tset JAVA_EXE=%%~$PATH:j\r\n)\r\n\r\nif defined JAVA_EXE (\r\n\tgoto javafound\r\n)\r\n\r\nrem echo 3.Check AnyLogic registry\r\n\r\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\AnyLogic North America\r\n\r\nFOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; 2^&gt;nul`) DO (\r\n\tset ANYLOGIC_KEY=%%A\r\n)\r\n\r\nif defined ANYLOGIC_KEY (\r\n\tFOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_KEY%&quot; 2^&gt;nul`) DO (\r\n\t\tset ANYLOGIC_VERSION_KEY=%%A\r\n\t)\t\r\n)\r\n\r\nif defined ANYLOGIC_VERSION_KEY (\r\n\tFOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_VERSION_KEY%&quot; /v Location 2^&gt;nul`) DO (\r\n\t\tset ANYLOGIC_LOCATION=%%A %%B\r\n\t)\t\r\n)\r\n\r\nif exist &quot;%ANYLOGIC_LOCATION%\\jre\\bin\\java.exe&quot; (\r\n\tset PATH=!ANYLOGIC_LOCATION!\\jre\\bin;!PATH!\r\n\tgoto javafound \r\n)\r\n\r\nrem echo 4.Check java registry\r\n\r\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\r\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\r\n    set JAVA_CURRENT_VERSION=%%A\r\n)\r\n\r\nif defined JAVA_CURRENT_VERSION (\r\n\tFOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\r\n\t\tset JAVA_PATH=%%A %%B\r\n\t)\r\n)\r\n\r\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\r\n\tset PATH=!JAVA_PATH!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\nrem 32 bit\r\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\r\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\r\n    set JAVA_CURRENT_VERSION=%%A\r\n)\r\n\r\nif defined JAVA_CURRENT_VERSION (\r\n\tFOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\r\n\t\tset JAVA_PATH=%%A %%B\r\n\t)\r\n)\r\n\r\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\r\n\tset PATH=!JAVA_PATH!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\nrem echo 5.Check Program Files\r\nfor /f &quot;delims=&quot; %%a in (&#39;dir &quot;%ProgramFiles%\\Java\\j*&quot; /o-d /ad /b&#39;) do (\r\n\tset JAVA_PROGRAM_FILES=&quot;%ProgramFiles%\\Java\\%%a&quot;\r\n\tif exist &quot;%ProgramFiles%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\r\n)\r\nfor /f &quot;delims=&quot; %%a in (&#39;dir &quot;%ProgramFiles(x86)%\\Java\\j*&quot; /o-d /ad /b&#39;) do (\r\n\tset JAVA_PROGRAM_FILES=&quot;%ProgramFiles(x86)%\\Java\\%%a&quot;\r\n\tif exist &quot;%ProgramFiles(x86)%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\r\n)\r\n\r\n:exitloop\r\n\r\nif defined JAVA_PROGRAM_FILES (\r\n\tset PATH=!JAVA_PROGRAM_FILES!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\necho  Error: Java not found\r\npause \r\ngoto end\r\n\r\n:javafound\r\n\r\nFOR /F &quot;usebackq tokens=4&quot; %%A IN (`java -fullversion 2^&gt;^&amp;1`) DO (\r\n\tset VERSION=%%~A\r\n)\r\n\r\necho Java version: %VERSION%\r\n\r\nset OPTIONS_XJAL=--illegal-access=deny\r\nIF &quot;%VERSION:~0,2%&quot;==&quot;1.&quot; set OPTIONS_XJAL=\r\n\r\nrem ---------------------------\r\n\r\necho on\r\n\r\njava %OPTIONS_XJAL% -cp model.jar;lib/MarkupDescriptors.jar;lib/com.anylogic.engine.jar;lib/com.anylogic.engine.datautil.jar;lib/com.anylogic.engine.editorapi.jar;lib/com.anylogic.engine.generalization.jar;lib/com.anylogic.engine.sa.jar;lib/sa/com.anylogic.engine.sa.web.jar;lib/sa/executor-basic-8.3.jar;lib/sa/ioutil-8.3.jar;lib/sa/jackson/jackson-annotations-2.14.3.jar;lib/sa/jackson/jackson-core-2.14.3.jar;lib/sa/jackson/jackson-databind-2.14.3.jar;lib/sa/spark/javax.servlet-api-3.1.0.jar;lib/sa/spark/jetty-client-9.4.51.v20230217.jar;lib/sa/spark/jetty-http-9.4.51.v20230217.jar;lib/sa/spark/jetty-io-9.4.51.v20230217.jar;lib/sa/spark/jetty-security-9.4.51.v20230217.jar;lib/sa/spark/jetty-server-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlet-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlets-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-ajax-9.4.51.v20230217.jar;lib/sa/spark/jetty-webapp-9.4.51.v20230217.jar;lib/sa/spark/jetty-xml-9.4.51.v20230217.jar;lib/sa/spark/slf4j-api-1.7.25.jar;lib/sa/spark/spark-core-2.9.4-AL.jar;lib/sa/spark/websocket-api-9.4.51.v20230217.jar;lib/sa/spark/websocket-client-9.4.51.v20230217.jar;lib/sa/spark/websocket-common-9.4.51.v20230217.jar;lib/sa/spark/websocket-server-9.4.51.v20230217.jar;lib/sa/spark/websocket-servlet-9.4.51.v20230217.jar;lib/sa/util-8.3.jar;lib/database/querydsl/querydsl-core-5.0.0.jar;lib/database/querydsl/querydsl-sql-5.0.0.jar;lib/database/querydsl/querydsl-sql-codegen-5.0.0.jar;lib/commons-lang3-3.9.jar;lib/commons-io-2.11.0.jar;lib/poi/commons-collections4-4.4.jar;lib/poi/poi-3.17.jar;lib/poi/poi-examples-3.17.jar;lib/poi/poi-excelant-3.17.jar;lib/poi/poi-ooxml-3.17.jar;lib/poi/poi-ooxml-schemas-3.17.jar;lib/poi/poi-scratchpad-5.2.1.jar;lib/poi/xmlbeans-2.6.0.jar -Xmx64m wandering_elephants.Simulation %*\r\n\r\n@echo off\r\nif %ERRORLEVEL% neq 0 pause\r\n:end\r\necho on\r\n@cd /D &quot;%DIR_BACKUP_XJAL%&quot;\r\n```\r\n\r\nAtachment 2\r\ndecompile of Simulation.class\r\n\r\n    // \r\n    // Decompiled by Procyon v0.6.0\r\n    // \r\n    \r\n    package wandering_elephants;\r\n    \r\n    import com.anylogic.engine.presentation.ModelElementDescriptorUtils;\r\n    import com.anylogic.engine.gui.IExperimentHost;\r\n    import com.anylogic.engine.AgentList;\r\n    import com.anylogic.engine.Agent;\r\n    import java.util.Random;\r\n    import com.anylogic.engine.Engine;\r\n    import com.anylogic.engine.Presentable;\r\n    import java.awt.Paint;\r\n    import com.anylogic.engine.presentation.ColorConstants;\r\n    import com.anylogic.engine.presentation.ShapeModelElementsGroup;\r\n    import com.anylogic.engine.presentation.ShapeTopLevelPresentationGroup;\r\n    import com.anylogic.engine.presentation.ShapeImage;\r\n    import com.anylogic.engine.presentation.ShapeOval;\r\n    import com.anylogic.engine.presentation.ShapePolyLine;\r\n    import com.anylogic.engine.presentation.ShapeText;\r\n    import com.anylogic.engine.presentation.ShapeRectangle;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import com.anylogic.engine.elements.IElementDescriptor;\r\n    import java.util.Map;\r\n    import com.anylogic.engine.AnyLogicInternalCodegenAPI;\r\n    import com.anylogic.engine.ExperimentSimulation;\r\n    \r\n    public class Simulation extends ExperimentSimulation&lt;Main&gt;\r\n    {\r\n        @AnyLogicInternalCodegenAPI\r\n        public static String[] COMMAND_LINE_ARGUMENTS_xjal;\r\n        @AnyLogicInternalCodegenAPI\r\n        private static Map&lt;String, IElementDescriptor&gt; elementDesciptors_xjal;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text1_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text3_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text4_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Color _text_Color;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Color _text4_Color;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _rect = 1;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text = 2;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text1 = 3;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text3 = 4;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _polyline = 5;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _oval = 6;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _polyline1 = 7;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _polyline2 = 8;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text4 = 9;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _image1 = 10;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _SHAPE_NEXT_ID_xjal = 11;\r\n        protected ShapeRectangle rect;\r\n        protected ShapeText text;\r\n        protected ShapeText text1;\r\n        protected ShapeText text3;\r\n        protected ShapePolyLine polyline;\r\n        protected ShapeOval oval;\r\n        protected ShapePolyLine polyline1;\r\n        protected ShapePolyLine polyline2;\r\n        protected ShapeText text4;\r\n        protected ShapeImage image1;\r\n        protected ShapeTopLevelPresentationGroup presentation;\r\n        protected ShapeModelElementsGroup icon;\r\n        @AnyLogicInternalCodegenAPI\r\n        private static final long serialVersionUID = 38284644110508400L;\r\n        \r\n        static {\r\n            Simulation.COMMAND_LINE_ARGUMENTS_xjal = new String[0];\r\n            Simulation.elementDesciptors_xjal = createElementDescriptors((Class)Simulation.class);\r\n            _text_Font = new Font(&quot;SansSerif&quot;, 1, 48);\r\n            _text1_Font = Simulation._text_Font;\r\n            _text3_Font = new Font(&quot;SansSerif&quot;, 0, 11);\r\n            _text4_Font = Simulation._text3_Font;\r\n            _text_Color = new Color(-7765933, true);\r\n            _text4_Color = new Color(-16751872, true);\r\n        }\r\n        \r\n        public Simulation() {\r\n            this.setCommandLineArguments_xjal(Simulation.COMMAND_LINE_ARGUMENTS_xjal);\r\n        }\r\n    ...\r\n\r\n    \r\n","title":"Error when trying to run exported standalone java application","body":"<p>I did an export from an AnyLogic project from Anylogic 8.8.5 to a standalone Java application. When I try to run this experiment standalone with the provided batch file to start on Windows, I get the error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main method not found in class wandering_elephants.Simulation, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n</code></pre>\n<p>The batch file call is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp model.jar;(and lot of more classpathes, see details attached) wandering_elephants.Simulation %*\n</code></pre>\n<p>model.jar contains subdirectory wandering_elephants and in this subdirectory Simulation.class</p>\n<p>I tried all different kinds of Java runtime versions and some different projects, but it is the same error.</p>\n<p>What could be the problem?</p>\n<p>Attachment:</p>\n<p>Detailed call</p>\n<pre><code>===================================================\n@echo off\nrem \nrem Run AnyLogic Experiment\nrem \nsetlocal enabledelayedexpansion\nchcp 1252 &gt;nul \nset DIR_BACKUP_XJAL=%cd%\ncd /D &quot;%~dp0&quot;\n\nrem ----------------------------------\n\nrem echo 1.Check JAVA_HOME\n\nif exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; (\n    set PATH=!JAVA_HOME!\\bin;!PATH!\n    goto javafound\n)\n\nrem echo 2.Check PATH\n\nfor /f %%j in (&quot;java.exe&quot;) do (\n    set JAVA_EXE=%%~$PATH:j\n)\n\nif defined JAVA_EXE (\n    goto javafound\n)\n\nrem echo 3.Check AnyLogic registry\n\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\AnyLogic North America\n\nFOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; 2^&gt;nul`) DO (\n    set ANYLOGIC_KEY=%%A\n)\n\nif defined ANYLOGIC_KEY (\n    FOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_KEY%&quot; 2^&gt;nul`) DO (\n        set ANYLOGIC_VERSION_KEY=%%A\n    )   \n)\n\nif defined ANYLOGIC_VERSION_KEY (\n    FOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_VERSION_KEY%&quot; /v Location 2^&gt;nul`) DO (\n        set ANYLOGIC_LOCATION=%%A %%B\n    )   \n)\n\nif exist &quot;%ANYLOGIC_LOCATION%\\jre\\bin\\java.exe&quot; (\n    set PATH=!ANYLOGIC_LOCATION!\\jre\\bin;!PATH!\n    goto javafound \n)\n\nrem echo 4.Check java registry\n\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\n    set JAVA_CURRENT_VERSION=%%A\n)\n\nif defined JAVA_CURRENT_VERSION (\n    FOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\n        set JAVA_PATH=%%A %%B\n    )\n)\n\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\n    set PATH=!JAVA_PATH!\\bin;!PATH!\n    goto javafound\n)\n\nrem 32 bit\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\n    set JAVA_CURRENT_VERSION=%%A\n)\n\nif defined JAVA_CURRENT_VERSION (\n    FOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\n        set JAVA_PATH=%%A %%B\n    )\n)\n\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\n    set PATH=!JAVA_PATH!\\bin;!PATH!\n    goto javafound\n)\n\nrem echo 5.Check Program Files\nfor /f &quot;delims=&quot; %%a in ('dir &quot;%ProgramFiles%\\Java\\j*&quot; /o-d /ad /b') do (\n    set JAVA_PROGRAM_FILES=&quot;%ProgramFiles%\\Java\\%%a&quot;\n    if exist &quot;%ProgramFiles%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\n)\nfor /f &quot;delims=&quot; %%a in ('dir &quot;%ProgramFiles(x86)%\\Java\\j*&quot; /o-d /ad /b') do (\n    set JAVA_PROGRAM_FILES=&quot;%ProgramFiles(x86)%\\Java\\%%a&quot;\n    if exist &quot;%ProgramFiles(x86)%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\n)\n\n:exitloop\n\nif defined JAVA_PROGRAM_FILES (\n    set PATH=!JAVA_PROGRAM_FILES!\\bin;!PATH!\n    goto javafound\n)\n\necho  Error: Java not found\npause \ngoto end\n\n:javafound\n\nFOR /F &quot;usebackq tokens=4&quot; %%A IN (`java -fullversion 2^&gt;^&amp;1`) DO (\n    set VERSION=%%~A\n)\n\necho Java version: %VERSION%\n\nset OPTIONS_XJAL=--illegal-access=deny\nIF &quot;%VERSION:~0,2%&quot;==&quot;1.&quot; set OPTIONS_XJAL=\n\nrem ---------------------------\n\necho on\n\njava %OPTIONS_XJAL% -cp model.jar;lib/MarkupDescriptors.jar;lib/com.anylogic.engine.jar;lib/com.anylogic.engine.datautil.jar;lib/com.anylogic.engine.editorapi.jar;lib/com.anylogic.engine.generalization.jar;lib/com.anylogic.engine.sa.jar;lib/sa/com.anylogic.engine.sa.web.jar;lib/sa/executor-basic-8.3.jar;lib/sa/ioutil-8.3.jar;lib/sa/jackson/jackson-annotations-2.14.3.jar;lib/sa/jackson/jackson-core-2.14.3.jar;lib/sa/jackson/jackson-databind-2.14.3.jar;lib/sa/spark/javax.servlet-api-3.1.0.jar;lib/sa/spark/jetty-client-9.4.51.v20230217.jar;lib/sa/spark/jetty-http-9.4.51.v20230217.jar;lib/sa/spark/jetty-io-9.4.51.v20230217.jar;lib/sa/spark/jetty-security-9.4.51.v20230217.jar;lib/sa/spark/jetty-server-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlet-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlets-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-ajax-9.4.51.v20230217.jar;lib/sa/spark/jetty-webapp-9.4.51.v20230217.jar;lib/sa/spark/jetty-xml-9.4.51.v20230217.jar;lib/sa/spark/slf4j-api-1.7.25.jar;lib/sa/spark/spark-core-2.9.4-AL.jar;lib/sa/spark/websocket-api-9.4.51.v20230217.jar;lib/sa/spark/websocket-client-9.4.51.v20230217.jar;lib/sa/spark/websocket-common-9.4.51.v20230217.jar;lib/sa/spark/websocket-server-9.4.51.v20230217.jar;lib/sa/spark/websocket-servlet-9.4.51.v20230217.jar;lib/sa/util-8.3.jar;lib/database/querydsl/querydsl-core-5.0.0.jar;lib/database/querydsl/querydsl-sql-5.0.0.jar;lib/database/querydsl/querydsl-sql-codegen-5.0.0.jar;lib/commons-lang3-3.9.jar;lib/commons-io-2.11.0.jar;lib/poi/commons-collections4-4.4.jar;lib/poi/poi-3.17.jar;lib/poi/poi-examples-3.17.jar;lib/poi/poi-excelant-3.17.jar;lib/poi/poi-ooxml-3.17.jar;lib/poi/poi-ooxml-schemas-3.17.jar;lib/poi/poi-scratchpad-5.2.1.jar;lib/poi/xmlbeans-2.6.0.jar -Xmx64m wandering_elephants.Simulation %*\n\n@echo off\nif %ERRORLEVEL% neq 0 pause\n:end\necho on\n@cd /D &quot;%DIR_BACKUP_XJAL%&quot;\n</code></pre>\n<p>Atachment 2\ndecompile of Simulation.class</p>\n<pre><code>// \n// Decompiled by Procyon v0.6.0\n// \n\npackage wandering_elephants;\n\nimport com.anylogic.engine.presentation.ModelElementDescriptorUtils;\nimport com.anylogic.engine.gui.IExperimentHost;\nimport com.anylogic.engine.AgentList;\nimport com.anylogic.engine.Agent;\nimport java.util.Random;\nimport com.anylogic.engine.Engine;\nimport com.anylogic.engine.Presentable;\nimport java.awt.Paint;\nimport com.anylogic.engine.presentation.ColorConstants;\nimport com.anylogic.engine.presentation.ShapeModelElementsGroup;\nimport com.anylogic.engine.presentation.ShapeTopLevelPresentationGroup;\nimport com.anylogic.engine.presentation.ShapeImage;\nimport com.anylogic.engine.presentation.ShapeOval;\nimport com.anylogic.engine.presentation.ShapePolyLine;\nimport com.anylogic.engine.presentation.ShapeText;\nimport com.anylogic.engine.presentation.ShapeRectangle;\nimport java.awt.Color;\nimport java.awt.Font;\nimport com.anylogic.engine.elements.IElementDescriptor;\nimport java.util.Map;\nimport com.anylogic.engine.AnyLogicInternalCodegenAPI;\nimport com.anylogic.engine.ExperimentSimulation;\n\npublic class Simulation extends ExperimentSimulation&lt;Main&gt;\n{\n    @AnyLogicInternalCodegenAPI\n    public static String[] COMMAND_LINE_ARGUMENTS_xjal;\n    @AnyLogicInternalCodegenAPI\n    private static Map&lt;String, IElementDescriptor&gt; elementDesciptors_xjal;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text1_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text3_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text4_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Color _text_Color;\n    @AnyLogicInternalCodegenAPI\n    protected static final Color _text4_Color;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _rect = 1;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text = 2;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text1 = 3;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text3 = 4;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _polyline = 5;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _oval = 6;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _polyline1 = 7;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _polyline2 = 8;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text4 = 9;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _image1 = 10;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _SHAPE_NEXT_ID_xjal = 11;\n    protected ShapeRectangle rect;\n    protected ShapeText text;\n    protected ShapeText text1;\n    protected ShapeText text3;\n    protected ShapePolyLine polyline;\n    protected ShapeOval oval;\n    protected ShapePolyLine polyline1;\n    protected ShapePolyLine polyline2;\n    protected ShapeText text4;\n    protected ShapeImage image1;\n    protected ShapeTopLevelPresentationGroup presentation;\n    protected ShapeModelElementsGroup icon;\n    @AnyLogicInternalCodegenAPI\n    private static final long serialVersionUID = 38284644110508400L;\n    \n    static {\n        Simulation.COMMAND_LINE_ARGUMENTS_xjal = new String[0];\n        Simulation.elementDesciptors_xjal = createElementDescriptors((Class)Simulation.class);\n        _text_Font = new Font(&quot;SansSerif&quot;, 1, 48);\n        _text1_Font = Simulation._text_Font;\n        _text3_Font = new Font(&quot;SansSerif&quot;, 0, 11);\n        _text4_Font = Simulation._text3_Font;\n        _text_Color = new Color(-7765933, true);\n        _text4_Color = new Color(-16751872, true);\n    }\n    \n    public Simulation() {\n        this.setCommandLineArguments_xjal(Simulation.COMMAND_LINE_ARGUMENTS_xjal);\n    }\n...\n</code></pre>\n"},{"tags":["java","csrf","csrf-token"],"owner":{"account_id":24241250,"reputation":1,"user_id":18193586,"display_name":"Melia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701266762,"creation_date":1701266762,"question_id":77571838,"body_markdown":"How can I generate a single csrf token per session and it does not change by request with google as the login in java?\r\n\r\nI enable csrf token\r\n```\r\nhttp.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n```\r\nI made a controller so that the front receives the token\r\n\r\n\r\n```\r\n @GetMapping(&quot;/csrf&quot;)\r\n public CsrfToken csrf(CsrfToken token) {\r\n     return token;\r\n }\r\n```\r\n","title":"CSRF TOKEN per session","body":"<p>How can I generate a single csrf token per session and it does not change by request with google as the login in java?</p>\n<p>I enable csrf token</p>\n<pre><code>http.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n</code></pre>\n<p>I made a controller so that the front receives the token</p>\n<pre><code> @GetMapping(&quot;/csrf&quot;)\n public CsrfToken csrf(CsrfToken token) {\n     return token;\n }\n</code></pre>\n"},{"tags":["java","ssl","keystore"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1549919306,"post_id":54634060,"comment_id":96070198,"body_markdown":"Hi &amp; welcome to [so]! Interesting question! would you also share/tell us your java version?","body":"Hi &amp; welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! Interesting question! would you also share/tell us your java version?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549919953,"post_id":54634060,"comment_id":96070483,"body_markdown":"and `java.security.cert.CertPathValidatorException` .... &quot;try also&quot; `jdk.certpath.disabledAlgorithms` (...additionally to `jdk.tls...` and `jdk.jar...`)","body":"and <code>java.security.cert.CertPathValidatorException</code> .... &quot;try also&quot; <code>jdk.certpath.disabledAlgorithms</code> (...additionally to <code>jdk.tls...</code> and <code>jdk.jar...</code>)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549925465,"post_id":54634060,"comment_id":96072587,"body_markdown":"..as i understand problem/question: the *2048* key fails., @user207421 . And confusing 1: &quot;As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…&quot; ..and 2. confusing: &quot;Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of **1024bits**&quot;","body":"..as i understand problem/question: the <i>2048</i> key fails., @user207421 . And confusing 1: &quot;As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…&quot; ..and 2. confusing: &quot;Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of <b>1024bits</b>&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549925583,"post_id":54634060,"comment_id":96072623,"body_markdown":"you *think*, you have a 2048 key, @SUP3RS3T, but &quot;confusing 1. + 2.&quot;(my previous comment)  match the fact, that &quot;spring boot uses another key with 1024b&quot;!","body":"you <i>think</i>, you have a 2048 key, @SUP3RS3T, but &quot;confusing 1. + 2.&quot;(my previous comment)  match the fact, that &quot;spring boot uses another key with 1024b&quot;!"},{"owner":{"account_id":1460069,"reputation":139,"user_id":1374630,"display_name":"Aleksei Kurepin"},"score":0,"creation_date":1550240233,"post_id":54634060,"comment_id":96207811,"body_markdown":"Which version on JDK do you use? do you have JSSE?","body":"Which version on JDK do you use? do you have JSSE?"}],"answers":[{"tags":[],"owner":{"account_id":15310457,"reputation":179,"user_id":11045909,"display_name":"SUP3RS3T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550201906,"creation_date":1550201906,"answer_id":54702360,"question_id":54634060,"body_markdown":"Just wanted to add to this. After enabling cert debugging via adding\r\n\r\n    -Djava.security.debug=certpath\r\n\r\nSo, as an example:\r\n\r\n    java -Xms64m -Xmx512m -Djava.security.debug=certpath -Dspring.config.location=config.file -jar appname.jar &amp;&gt;&gt; logfile.log &amp;\r\n\r\nI&#39;m finally able to see why is Java complaining.\r\nApparently encrypted AWS RDS Instances use SSL cert that&#39;s 1024 bit. When my java applications call it, they fail because their policy is set to only accept RSA &lt; 2048 keySize.\r\n\r\nI contacted AWS for further guidance.\r\n\r\nIf anyone is struggling to troubleshoot Java cert issues, make use of:\r\n\r\n    -Djava.security.debug=certpath\r\n\r\nIt&#39;s extremely helpful.\r\n\r\nThank you.\r\n\r\n","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>Just wanted to add to this. After enabling cert debugging via adding</p>\n\n<pre><code>-Djava.security.debug=certpath\n</code></pre>\n\n<p>So, as an example:</p>\n\n<pre><code>java -Xms64m -Xmx512m -Djava.security.debug=certpath -Dspring.config.location=config.file -jar appname.jar &amp;&gt;&gt; logfile.log &amp;\n</code></pre>\n\n<p>I'm finally able to see why is Java complaining.\nApparently encrypted AWS RDS Instances use SSL cert that's 1024 bit. When my java applications call it, they fail because their policy is set to only accept RSA &lt; 2048 keySize.</p>\n\n<p>I contacted AWS for further guidance.</p>\n\n<p>If anyone is struggling to troubleshoot Java cert issues, make use of:</p>\n\n<pre><code>-Djava.security.debug=certpath\n</code></pre>\n\n<p>It's extremely helpful.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":3406565,"reputation":3857,"user_id":2857477,"accept_rate":50,"display_name":"akelec"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634047349,"creation_date":1634047349,"answer_id":69541972,"question_id":54634060,"body_markdown":"I was stuck with that for a long time, and finally, I have found the solution.\r\n\r\nSo whenever I modified the file `java.security`, it would have no effect, because there is a second file `java.config` (on Linux it is located: `/etc/crypto-policies/back-ends/java.config`) that overrides the params in `java.security`. \r\n\r\nThis is controlled by the property (in `java.security`):  \r\n\r\n`security.useSystemPropertiesFile=true`\r\n\r\nSo, either change that property to `false`, or modify params directly in `java.config`.\r\n\r\nThis has worked for me!","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>I was stuck with that for a long time, and finally, I have found the solution.</p>\n<p>So whenever I modified the file <code>java.security</code>, it would have no effect, because there is a second file <code>java.config</code> (on Linux it is located: <code>/etc/crypto-policies/back-ends/java.config</code>) that overrides the params in <code>java.security</code>.</p>\n<p>This is controlled by the property (in <code>java.security</code>):</p>\n<p><code>security.useSystemPropertiesFile=true</code></p>\n<p>So, either change that property to <code>false</code>, or modify params directly in <code>java.config</code>.</p>\n<p>This has worked for me!</p>\n"},{"tags":[],"owner":{"account_id":4922134,"reputation":499,"user_id":3964446,"display_name":"Pedro Alvares"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701266715,"creation_date":1701266715,"answer_id":77571835,"question_id":54634060,"body_markdown":"I&#39;ve successfully handled those errors about RSA key sizes by changing the Java configuration to allow the key size used by the destination server I was trying to communicate.\r\nIt&#39;s pretty much what was covered by the other answers here, but this way you&#39;ll be sure all bases are covered.\r\n\r\n1) Find all java.config and java.security files on your OS file system:\r\n\r\n&gt; find / -iname java.config\r\n\r\n&gt; find / -iname java.security\r\n\r\n2) Access every one of those (vi/nano) and find configurations regarding RSA key size (RSA keySize &lt; X or RSA keySize &gt;= Y). On each one, change the operator and value that follows to suit your needs, and then save the file. For example, if your error message complains about a RSA 1024 bit key, you should have the following:\r\n\r\n&gt; RSA keySize &lt; 1024 (which means you&#39;re not allowing keys lesser than 1024 bits, so 1024 or above will be fine)\r\n\r\n3) Restart your service.\r\n\r\nThat&#39;s it. In my case I&#39;ve had to change 4 files to be sure.\r\nThe guide above assumes you&#39;re using Linux, but if you&#39;re not, you can adjust the commands to your OS.","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>I've successfully handled those errors about RSA key sizes by changing the Java configuration to allow the key size used by the destination server I was trying to communicate.\nIt's pretty much what was covered by the other answers here, but this way you'll be sure all bases are covered.</p>\n<ol>\n<li>Find all java.config and java.security files on your OS file system:</li>\n</ol>\n<blockquote>\n<p>find / -iname java.config</p>\n</blockquote>\n<blockquote>\n<p>find / -iname java.security</p>\n</blockquote>\n<ol start=\"2\">\n<li>Access every one of those (vi/nano) and find configurations regarding RSA key size (RSA keySize &lt; X or RSA keySize &gt;= Y). On each one, change the operator and value that follows to suit your needs, and then save the file. For example, if your error message complains about a RSA 1024 bit key, you should have the following:</li>\n</ol>\n<blockquote>\n<p>RSA keySize &lt; 1024 (which means you're not allowing keys lesser than 1024 bits, so 1024 or above will be fine)</p>\n</blockquote>\n<ol start=\"3\">\n<li>Restart your service.</li>\n</ol>\n<p>That's it. In my case I've had to change 4 files to be sure.\nThe guide above assumes you're using Linux, but if you're not, you can adjust the commands to your OS.</p>\n"}],"owner":{"account_id":15310457,"reputation":179,"user_id":11045909,"display_name":"SUP3RS3T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14374,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1701266715,"creation_date":1549899539,"question_id":54634060,"body_markdown":"After generating java keystore with: -keyalg RSA -keysize 2048\r\nand configuring the java.security policy with:\r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, RSA keySize &lt; 2048\r\n\r\nI keep getting errors:\r\n\r\n&gt;java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits\r\n\r\nI’m using the following command to generate a 2048bit RSA key:\r\n \r\n\r\n    keytool -genkey -alias tomcat -keyalg RSA -keysize 2048 -keystore star_domain_name.jks -storetype PKCS12 -dname &quot;CN=*.domain_name.com,OU=Engineering, O=Company Name., L=City Name, ST=State, C=US&quot; &amp;&amp; keytool -certreq -alias server -file star_domain_name.com.csr -keystore star_domain_name_io.jks\r\n\r\nI then verify the above with:\r\n\r\n    openssl s_client -showcerts -connect localhost:443\r\n\r\nThat shows:\r\n\r\n    New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\n    Server public key is 2048 bit\r\n    Secure Renegotiation IS supported\r\n    Compression: NONE\r\n    Expansion: NONE\r\n    No ALPN negotiated\r\n    SSL-Session:\r\n        Protocol  : TLSv1.2\r\n\r\nI also view the keystore with:\r\n\r\n    keytool -list -v -keystore star_domain_name.com.jks\r\n\r\nWhich shows:\r\n\r\n    Certificate fingerprints:\r\n             MD5:  67:4C:04:90:35:etc...etc...\r\n             SHA1: AD:C8:06:74:3A:F1:72:etc...etc...\r\n             SHA256: C5:D6:81:3B:C1:F7:CE:2D:43:91:06:E9:9etc...etc...\r\n    Signature algorithm name: SHA256withRSA\r\n    Subject Public Key Algorithm: 2048-bit RSA key\r\n\r\nEverywhere I look I see 2048-bit RSA key.\r\nHowever, when I want to use the java keystore in my java spring boot application, it keeps complaining:\r\n\r\n&gt; - Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits\r\n- Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints\r\n\r\nAs soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…\r\n\r\nIs this because I did not import a signed domain cert?\r\nWhy does the application complain although I clearly configured the policy and the java keystore for 2048 bits?\r\n\r\nMy java application configuration contains:\r\n\r\n    ssl.key-store: /opt/cert_path/star_domain_name.com.jks\r\n    ssl.enabled: true\r\n    ssl.key-store-password: the_password_etc...\r\n    ssl.key-store-type: PKCS12\r\n    ssl.key-alias: tomcat\r\n\r\nAs soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…\r\n\r\nIs this because I did not import a signed domain cert and the keystore is empty? I doubt it.\r\n\r\nWhy does the application complain although I clearly configured the policy file and the java keystore for 2048 bits?\r\n\r\nThe java.security file also contains:\r\n\r\n    jdk.jar.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024, DSA keySize &lt; 1024\r\n\r\nShould that also be adjusted?\r\n\r\nI&#39;ve actually tried to adjust that, but that had no effect...\r\n\r\n\r\n","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>After generating java keystore with: -keyalg RSA -keysize 2048\nand configuring the java.security policy with:</p>\n\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, RSA keySize &lt; 2048\n</code></pre>\n\n<p>I keep getting errors:</p>\n\n<blockquote>\n  <p>java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits</p>\n</blockquote>\n\n<p>I’m using the following command to generate a 2048bit RSA key:</p>\n\n<pre><code>keytool -genkey -alias tomcat -keyalg RSA -keysize 2048 -keystore star_domain_name.jks -storetype PKCS12 -dname \"CN=*.domain_name.com,OU=Engineering, O=Company Name., L=City Name, ST=State, C=US\" &amp;&amp; keytool -certreq -alias server -file star_domain_name.com.csr -keystore star_domain_name_io.jks\n</code></pre>\n\n<p>I then verify the above with:</p>\n\n<pre><code>openssl s_client -showcerts -connect localhost:443\n</code></pre>\n\n<p>That shows:</p>\n\n<pre><code>New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n</code></pre>\n\n<p>I also view the keystore with:</p>\n\n<pre><code>keytool -list -v -keystore star_domain_name.com.jks\n</code></pre>\n\n<p>Which shows:</p>\n\n<pre><code>Certificate fingerprints:\n         MD5:  67:4C:04:90:35:etc...etc...\n         SHA1: AD:C8:06:74:3A:F1:72:etc...etc...\n         SHA256: C5:D6:81:3B:C1:F7:CE:2D:43:91:06:E9:9etc...etc...\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\n</code></pre>\n\n<p>Everywhere I look I see 2048-bit RSA key.\nHowever, when I want to use the java keystore in my java spring boot application, it keeps complaining:</p>\n\n<blockquote>\n  <ul>\n  <li>Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits</li>\n  <li>Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints</li>\n  </ul>\n</blockquote>\n\n<p>As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…</p>\n\n<p>Is this because I did not import a signed domain cert?\nWhy does the application complain although I clearly configured the policy and the java keystore for 2048 bits?</p>\n\n<p>My java application configuration contains:</p>\n\n<pre><code>ssl.key-store: /opt/cert_path/star_domain_name.com.jks\nssl.enabled: true\nssl.key-store-password: the_password_etc...\nssl.key-store-type: PKCS12\nssl.key-alias: tomcat\n</code></pre>\n\n<p>As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…</p>\n\n<p>Is this because I did not import a signed domain cert and the keystore is empty? I doubt it.</p>\n\n<p>Why does the application complain although I clearly configured the policy file and the java keystore for 2048 bits?</p>\n\n<p>The java.security file also contains:</p>\n\n<pre><code>jdk.jar.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024, DSA keySize &lt; 1024\n</code></pre>\n\n<p>Should that also be adjusted?</p>\n\n<p>I've actually tried to adjust that, but that had no effect...</p>\n"},{"tags":["java","spring","spring-boot","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"score":0,"creation_date":1700935889,"post_id":77548921,"comment_id":136714000,"body_markdown":"@Toerktumlare Sorry, I&#39;ve added the requested Class and added the schema. Now the browser console doesn&#39;t display the 403 for the request anymore, however the credentials still aren&#39;t passed.","body":"@Toerktumlare Sorry, I&#39;ve added the requested Class and added the schema. Now the browser console doesn&#39;t display the 403 for the request anymore, however the credentials still aren&#39;t passed."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700953817,"post_id":77548921,"comment_id":136715608,"body_markdown":"have you defined the templating engine and defined how your viewes are served etc?","body":"have you defined the templating engine and defined how your viewes are served etc?"},{"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"score":0,"creation_date":1701260050,"post_id":77548921,"comment_id":136753046,"body_markdown":"Found the mistake, there was just the @Setter in RegistrationRequest missing, I&#39;ll post an answer around your comment. Thanks for your help!","body":"Found the mistake, there was just the @Setter in RegistrationRequest missing, I&#39;ll post an answer around your comment. Thanks for your help!"}],"answers":[{"tags":[],"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701266588,"creation_date":1701260406,"answer_id":77571105,"question_id":77548921,"body_markdown":"It turns out that there were 2 problems in my code;\r\n\r\n 1. Based on the comment of @Toerktumlare; To resolve the 403 Error I needed to add `.formLogin(Customizer.withDefaults())` to the SecurityFilterChain.\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n\thttp.authorizeHttpRequests((authorize) -&gt; authorize\r\n\t\t\t.requestMatchers(&quot;/&quot;,&quot;/register&quot;,&quot;/login&quot;,&quot;/css/style.css&quot;)\r\n\t\t\t.permitAll()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated())\r\n\t\t\t.formLogin(Customizer.withDefaults())\r\n\t\t\t.csrf(AbstractHttpConfigurer::disable)\r\n\t\t\t.cors(AbstractHttpConfigurer::disable);\r\n\r\n\treturn http.build();\r\n}\r\n```\r\n\r\n 2. The `@Setter` annotation in RegistrationRequest was missing, hence the values for the attributes couldn&#39;t be set.\r\n\r\n```\r\nimport lombok.*;\r\n    \r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@ToString\r\n    \r\npublic class RegistrationRequest {\r\n\tprivate String email;\r\n\tprivate String name;\r\n\tprivate String password;\r\n\tprivate String passwordRepeat;\r\n}\r\n```","title":"trying to process a Thymeleaf registration form with Spring Security 6 -&gt; 403 on POST request","body":"<p>It turns out that there were 2 problems in my code;</p>\n<ol>\n<li>Based on the comment of @Toerktumlare; To resolve the 403 Error I needed to add <code>.formLogin(Customizer.withDefaults())</code> to the SecurityFilterChain.</li>\n</ol>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests((authorize) -&gt; authorize\n            .requestMatchers(&quot;/&quot;,&quot;/register&quot;,&quot;/login&quot;,&quot;/css/style.css&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated())\n            .formLogin(Customizer.withDefaults())\n            .csrf(AbstractHttpConfigurer::disable)\n            .cors(AbstractHttpConfigurer::disable);\n\n    return http.build();\n}\n</code></pre>\n<ol start=\"2\">\n<li>The <code>@Setter</code> annotation in RegistrationRequest was missing, hence the values for the attributes couldn't be set.</li>\n</ol>\n<pre><code>import lombok.*;\n    \n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@ToString\n    \npublic class RegistrationRequest {\n    private String email;\n    private String name;\n    private String password;\n    private String passwordRepeat;\n}\n</code></pre>\n"}],"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571105,"answer_count":1,"score":0,"last_activity_date":1701266588,"creation_date":1700933790,"question_id":77548921,"body_markdown":"I&#39;m new to Spring Boot and am trying to create a simple registration + login. However whenever I try to submit data with a POST request, the request gets blocked (403) and I&#39;m not getting redirected to the success page. Since the request gets blocked, this results later on in a Null pointer Exception when I try to validate the submitted input.\r\n\r\nLooking through other posts a common problem seemed to be csrf protection, which I explicitly disabled. Another common issue among other posts was that the correct authorization wasn&#39;t granted, I tried to do so with `.permitAll().anyRequest().authenticated()`. Since to my understanding I explicitly enabled all requests for &quot;/register&quot;, I expected to at least get the credentials as output at the debug messages in the Controller.\r\n\r\nThe registration form;\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;form th:action=&quot;@{register}&quot; method=&quot;post&quot; th:object=&quot;${registrationRequest}&quot;&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;emailInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{email}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;email&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;emailInput&quot; placeholder=&quot;Email&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;usernameInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{name}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;name&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usernameInput&quot; placeholder=&quot;Username&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;passwordInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{password}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;password&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;passwordInput&quot; placeholder=&quot;Password&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;passwordRepeatInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{passwordRepeat}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;passwordRepeat&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;passwordRepeatInput&quot; placeholder=&quot;Password confirmation&quot;&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-outline-dark btn-custom&quot;&gt;Sign up!&lt;/button&gt;\r\n            &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe routing in the Controller;\r\n```\r\n    @RequestMapping(value=&quot;register&quot;)\r\n    public String showRegisterPage(Model model) {\r\n        model.addAttribute(&quot;registrationRequest&quot;, new RegistrationRequest());\r\n        return &quot;user/user-add&quot;;\r\n    }\r\n    \r\n    @PostMapping(value=&quot;register&quot;)\r\n    public String processRegisterRequest(@ModelAttribute RegistrationRequest registrationRequest, BindingResult result) {\r\n    \r\n        System.out.println(&quot;DEBUG: &quot; + registrationRequest.getName() + registrationRequest.getEmail() + registrationRequest.getPassword());\r\n        System.out.println(result.getAllErrors());\r\n    \r\n        userService.register(registrationRequest);\r\n        return &quot;user/registration-success&quot;;\r\n    }\r\n```\r\nThe likely misconfigured SecurityFilterChain;\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(\r\n                        &quot;/&quot;,\r\n                        &quot;/register&quot;,\r\n                        &quot;/login&quot;,\r\n                        &quot;/css/style.css&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nThe console error output;\r\n```\r\n2023-11-25T17:50:38.436+01:00 DEBUG 11889 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-11-25T17:50:47.352+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /register\r\n2023-11-25T17:50:47.354+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /register\r\nDEBUG: nullnullnull\r\n[]\r\nDEBUG: nullnull\r\n2023-11-25T17:50:47.360+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-11-25T17:50:47.361+01:00 ERROR 11889 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null\r\n```\r\nEDIT\r\n\r\nadded class RegistrationRequest;\r\n```\r\nimport lombok.*;\r\n\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@ToString\r\n\r\npublic class RegistrationRequest {\r\n    private String email;\r\n    private String name;\r\n    private String password;\r\n    private String passwordRepeat;\r\n}\r\n```","title":"trying to process a Thymeleaf registration form with Spring Security 6 -&gt; 403 on POST request","body":"<p>I'm new to Spring Boot and am trying to create a simple registration + login. However whenever I try to submit data with a POST request, the request gets blocked (403) and I'm not getting redirected to the success page. Since the request gets blocked, this results later on in a Null pointer Exception when I try to validate the submitted input.</p>\n<p>Looking through other posts a common problem seemed to be csrf protection, which I explicitly disabled. Another common issue among other posts was that the correct authorization wasn't granted, I tried to do so with <code>.permitAll().anyRequest().authenticated()</code>. Since to my understanding I explicitly enabled all requests for &quot;/register&quot;, I expected to at least get the credentials as output at the debug messages in the Controller.</p>\n<p>The registration form;\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;form th:action=\"@{register}\" method=\"post\" th:object=\"${registrationRequest}\"&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"emailInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{email}\" th:classappend=\"${#fields.hasErrors('email')} ? 'is-invalid'\" type=\"email\" class=\"form-control\" id=\"emailInput\" placeholder=\"Email\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"usernameInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{name}\" th:classappend=\"${#fields.hasErrors('name')} ? 'is-invalid'\" type=\"text\" class=\"form-control\" id=\"usernameInput\" placeholder=\"Username\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"passwordInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{password}\" th:classappend=\"${#fields.hasErrors('password')} ? 'is-invalid'\" type=\"password\" class=\"form-control\" id=\"passwordInput\" placeholder=\"Password\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"passwordRepeatInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{passwordRepeat}\" th:classappend=\"${#fields.hasErrors('passwordRepeat')} ? 'is-invalid'\" type=\"password\" class=\"form-control\" id=\"passwordRepeatInput\" placeholder=\"Password confirmation\"&gt;\n            &lt;/div&gt;\n\n            &lt;button type=\"submit\" class=\"btn btn-outline-dark btn-custom\"&gt;Sign up!&lt;/button&gt;\n        &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The routing in the Controller;</p>\n<pre><code>    @RequestMapping(value=&quot;register&quot;)\n    public String showRegisterPage(Model model) {\n        model.addAttribute(&quot;registrationRequest&quot;, new RegistrationRequest());\n        return &quot;user/user-add&quot;;\n    }\n    \n    @PostMapping(value=&quot;register&quot;)\n    public String processRegisterRequest(@ModelAttribute RegistrationRequest registrationRequest, BindingResult result) {\n    \n        System.out.println(&quot;DEBUG: &quot; + registrationRequest.getName() + registrationRequest.getEmail() + registrationRequest.getPassword());\n        System.out.println(result.getAllErrors());\n    \n        userService.register(registrationRequest);\n        return &quot;user/registration-success&quot;;\n    }\n</code></pre>\n<p>The likely misconfigured SecurityFilterChain;</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(\n                        &quot;/&quot;,\n                        &quot;/register&quot;,\n                        &quot;/login&quot;,\n                        &quot;/css/style.css&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated())\n                .csrf(AbstractHttpConfigurer::disable)\n                .cors(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n</code></pre>\n<p>The console error output;</p>\n<pre><code>2023-11-25T17:50:38.436+01:00 DEBUG 11889 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-25T17:50:47.352+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /register\n2023-11-25T17:50:47.354+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /register\nDEBUG: nullnullnull\n[]\nDEBUG: nullnull\n2023-11-25T17:50:47.360+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-25T17:50:47.361+01:00 ERROR 11889 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null\n</code></pre>\n<p>EDIT</p>\n<p>added class RegistrationRequest;</p>\n<pre><code>import lombok.*;\n\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@ToString\n\npublic class RegistrationRequest {\n    private String email;\n    private String name;\n    private String password;\n    private String passwordRepeat;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","jackson"],"comments":[{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":0,"creation_date":1623153698,"post_id":67886252,"comment_id":119991224,"body_markdown":"If you don&#39;t have a use case where you need to get all the teams that use the rooms (fetch the teams via the rooms variable) you don&#39;t need the many-to-many but one-to-many relationship. Before proceeding with a comment regarding your problem, have you considered that approach?","body":"If you don&#39;t have a use case where you need to get all the teams that use the rooms (fetch the teams via the rooms variable) you don&#39;t need the many-to-many but one-to-many relationship. Before proceeding with a comment regarding your problem, have you considered that approach?"},{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":1,"creation_date":1623153898,"post_id":67886252,"comment_id":119991328,"body_markdown":"You could check [this](https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion) baeldung article as well.","body":"You could check <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">this</a> baeldung article as well."},{"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"score":0,"creation_date":1623157375,"post_id":67886252,"comment_id":119992945,"body_markdown":"@Aethernite i&#39;ve considered this approach. However, i need to fetch both ways, which means i need a bidirectional many to many relationship.\nI&#39;ve already read this article, but it is about **one to many** relationships with a back reference, which i have too (but they are working fine after i followed these steps).","body":"@Aethernite i&#39;ve considered this approach. However, i need to fetch both ways, which means i need a bidirectional many to many relationship. I&#39;ve already read this article, but it is about <b>one to many</b> relationships with a back reference, which i have too (but they are working fine after i followed these steps)."},{"owner":{"account_id":12316624,"reputation":1,"user_id":8986786,"display_name":"Muhyidean Tarawneh"},"score":0,"creation_date":1638241304,"post_id":67886252,"comment_id":124030360,"body_markdown":"You can find the solution at this link\nhttps://stackoverflow.com/a/47118424/8986786","body":"You can find the solution at this link <a href=\"https://stackoverflow.com/a/47118424/8986786\">stackoverflow.com/a/47118424/8986786</a>"}],"answers":[{"comments":[{"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"score":1,"creation_date":1623159664,"post_id":67887529,"comment_id":119994153,"body_markdown":"This will work. But what if i want to fetch all rooms of a Team?\nJackson will ignore it, since the variable is annotated with ``@JsonIgnore``.","body":"This will work. But what if i want to fetch all rooms of a Team? Jackson will ignore it, since the variable is annotated with <code>@JsonIgnore</code>."},{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1623161877,"post_id":67887529,"comment_id":119995390,"body_markdown":"Do you want to perform bidirectional conversion like &quot;room to teams&quot; &amp; &quot;team to rooms&quot;? Please confirm!","body":"Do you want to perform bidirectional conversion like &quot;room to teams&quot; &amp; &quot;team to rooms&quot;? Please confirm!"},{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1623220083,"post_id":67887529,"comment_id":120012937,"body_markdown":"Updated answer for bidirectional conversion","body":"Updated answer for bidirectional conversion"},{"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"score":0,"creation_date":1623223942,"post_id":67887529,"comment_id":120014420,"body_markdown":"Great example, thank you! The accepted answer works for me, since i also need to append custom variables in the controllers, which should not be in the database (which i can obviously do in the DTOs).\nBut your answer is a great example of ``@JsonView``, thank you!","body":"Great example, thank you! The accepted answer works for me, since i also need to append custom variables in the controllers, which should not be in the database (which i can obviously do in the DTOs). But your answer is a great example of <code>@JsonView</code>, thank you!"}],"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623220040,"creation_date":1623157386,"answer_id":67887529,"question_id":67886252,"body_markdown":"Currently, there is cyclic dependency in your classes which is causing issues while converting objects to ```JSON```. Please add ```@JsonIgnore``` annotation on ```rooms``` variable in your ```Team``` class as shown in below example:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n@Entity\r\npublic class Team {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;teams_rooms&quot;,\r\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Room&gt; rooms;\r\n\r\n}\r\n```\r\n---\r\nIf you need a solution for bidirectional conversion then you can use ```JsonView``` annotation.\r\n\r\nFirst of all you need to create JSON view profiles for ```Team``` and ```Room``` as shown in below example:\r\n\r\n```\r\npublic class JsonViewProfiles\r\n{\r\n    /**\r\n     * This profile will be used while converting Team object to JSON\r\n     */\r\n    public static class Team {}\r\n\r\n    /**\r\n     * This profile will be used while converting Room object to JSON\r\n     */\r\n    public static class Room {}\r\n}\r\n```\r\n\r\nUse above created JSON view profiles in your entities as shown in below example:\r\n\r\n```\r\npublic class Room {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonView({ JsonViewProfiles.Team.class, JsonViewProfiles.Room.class })\r\n    private long id;\r\n\r\n    @JsonView(JsonViewProfiles.Room.class)\r\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\r\n    private Set&lt;Team&gt; teams;\r\n}\r\n```\r\n\r\n```\r\npublic class Team {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonView({JsonViewProfiles.Team.class, JsonViewProfiles.Room.class})\r\n    private long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;teams_rooms&quot;,\r\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\r\n    @JsonView(JsonViewProfiles.Team.class)\r\n    private Set&lt;Room&gt; rooms;\r\n}\r\n```\r\n\r\nWhile converting your object to JSON please use these profiles as shown in below example:\r\n\r\n```\r\n@GetMapping\r\npublic String getAllRoomsOfTeam() {\r\n    final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\r\n\r\n    final Team team = teamRepository.findById(exampleId);\r\n\r\n    String result = new ObjectMapper().writerWithView(JsonViewProfiles.Team.class)\r\n                .writeValueAsString(team);\r\n\r\n    return result;\r\n}\r\n```","title":"Spring-boot JPA infinite loop many to many","body":"<p>Currently, there is cyclic dependency in your classes which is causing issues while converting objects to <code>JSON</code>. Please add <code>@JsonIgnore</code> annotation on <code>rooms</code> variable in your <code>Team</code> class as shown in below example:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@Entity\npublic class Team {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;teams_rooms&quot;,\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\n    @JsonIgnore\n    private Set&lt;Room&gt; rooms;\n\n}\n</code></pre>\n<hr />\n<p>If you need a solution for bidirectional conversion then you can use <code>JsonView</code> annotation.</p>\n<p>First of all you need to create JSON view profiles for <code>Team</code> and <code>Room</code> as shown in below example:</p>\n<pre><code>public class JsonViewProfiles\n{\n    /**\n     * This profile will be used while converting Team object to JSON\n     */\n    public static class Team {}\n\n    /**\n     * This profile will be used while converting Room object to JSON\n     */\n    public static class Room {}\n}\n</code></pre>\n<p>Use above created JSON view profiles in your entities as shown in below example:</p>\n<pre><code>public class Room {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonView({ JsonViewProfiles.Team.class, JsonViewProfiles.Room.class })\n    private long id;\n\n    @JsonView(JsonViewProfiles.Room.class)\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\n    private Set&lt;Team&gt; teams;\n}\n</code></pre>\n<pre><code>public class Team {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonView({JsonViewProfiles.Team.class, JsonViewProfiles.Room.class})\n    private long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;teams_rooms&quot;,\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\n    @JsonView(JsonViewProfiles.Team.class)\n    private Set&lt;Room&gt; rooms;\n}\n</code></pre>\n<p>While converting your object to JSON please use these profiles as shown in below example:</p>\n<pre><code>@GetMapping\npublic String getAllRoomsOfTeam() {\n    final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\n\n    final Team team = teamRepository.findById(exampleId);\n\n    String result = new ObjectMapper().writerWithView(JsonViewProfiles.Team.class)\n                .writeValueAsString(team);\n\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"score":0,"creation_date":1623160080,"post_id":67887829,"comment_id":119994358,"body_markdown":"Thank you for this helpful information! But this will not solve my looping issues, right?","body":"Thank you for this helpful information! But this will not solve my looping issues, right?"},{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1623162880,"post_id":67887829,"comment_id":119995994,"body_markdown":"It will solve the issue because you create only 1 level of recursion and will not loop forever.","body":"It will solve the issue because you create only 1 level of recursion and will not loop forever."}],"tags":[],"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623162975,"creation_date":1623158490,"answer_id":67887829,"question_id":67886252,"body_markdown":"Your controller shoud not return **entities** ( classes with the annotation @Entity). As a best practice is to create another separate class with same attributes. This code has a little dupplication but it keeps all the layers clean. I also suggest to use @Service. \r\n\r\n\r\n\r\n       public class RoomDTO { \r\n           private String name;\r\n           private List&lt;TeamDTO&gt; teams = new ArrayList&lt;&gt;();   \r\n\r\n           public RoomDTO() { \r\n           }\r\n            \r\n           public RoomDTO(Room room) {\r\n                this.name = room.name;\r\n                for(Team team : room.getTeams()) {\r\n                     TeamDTO teamDTO = new TeamDTO();\r\n                     teamDTO.setName(team.getName);\r\n                     teams.add(teamDTO);\r\n                }\r\n            }\r\n       }\r\n\r\n\r\n\r\n       public class TeamDTO { \r\n           List&lt;RoomDTO&gt; rooms = new ArrayList();\r\n\r\n           public TeamDTO() {\r\n           }\r\n\r\n           public TeamDTO(Team team) {\r\n                this.name = team.name;\r\n                for(Room room : team.getRooms()) {\r\n                     RoomDTO roomDTO = new RoomDTO();\r\n                     roomDTO.setName(team.getName);\r\n                     rooms.add(roomDTO);\r\n                }\r\n            }\r\n            \r\n       }\r\n\r\n\r\n\r\n\r\nThe controller should return this \r\n\r\n    @GetMapping\r\n    public Iterable&lt;TeamDTO&gt; getAllRoomsOfTeam() {\r\n    final long exampleId = 1;\r\n    final var team = teamRepository.findById(exampleId);\r\n\r\n    TeamDTO teamDTO = new TeamDTO(team);\r\n\r\n    return ResponseEntity.ok(teamDTO);\r\n}\r\n\r\nhttps://stackoverflow.com/questions/61303236/how-to-use-dtos-in-the-controller-service-and-repository-pattern","title":"Spring-boot JPA infinite loop many to many","body":"<p>Your controller shoud not return <strong>entities</strong> ( classes with the annotation @Entity). As a best practice is to create another separate class with same attributes. This code has a little dupplication but it keeps all the layers clean. I also suggest to use @Service.</p>\n<pre><code>   public class RoomDTO { \n       private String name;\n       private List&lt;TeamDTO&gt; teams = new ArrayList&lt;&gt;();   \n\n       public RoomDTO() { \n       }\n        \n       public RoomDTO(Room room) {\n            this.name = room.name;\n            for(Team team : room.getTeams()) {\n                 TeamDTO teamDTO = new TeamDTO();\n                 teamDTO.setName(team.getName);\n                 teams.add(teamDTO);\n            }\n        }\n   }\n\n\n\n   public class TeamDTO { \n       List&lt;RoomDTO&gt; rooms = new ArrayList();\n\n       public TeamDTO() {\n       }\n\n       public TeamDTO(Team team) {\n            this.name = team.name;\n            for(Room room : team.getRooms()) {\n                 RoomDTO roomDTO = new RoomDTO();\n                 roomDTO.setName(team.getName);\n                 rooms.add(roomDTO);\n            }\n        }\n        \n   }\n</code></pre>\n<p>The controller should return this</p>\n<pre><code>@GetMapping\npublic Iterable&lt;TeamDTO&gt; getAllRoomsOfTeam() {\nfinal long exampleId = 1;\nfinal var team = teamRepository.findById(exampleId);\n\nTeamDTO teamDTO = new TeamDTO(team);\n\nreturn ResponseEntity.ok(teamDTO);\n</code></pre>\n<p>}</p>\n<p><a href=\"https://stackoverflow.com/questions/61303236/how-to-use-dtos-in-the-controller-service-and-repository-pattern\">How to use DTOs in the Controller, Service and Repository pattern</a></p>\n"}],"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4054,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67887829,"answer_count":2,"score":3,"last_activity_date":1701266465,"creation_date":1623152666,"question_id":67886252,"body_markdown":"I have two entities, which are in a many to many relationship.\r\n\r\n\r\n```java\r\n@Entity\r\npublic class Room {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\r\n    private Set&lt;Team&gt; teams;\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class Team {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;teams_rooms&quot;,\r\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\r\n    private Set&lt;Room&gt; rooms;\r\n\r\n}\r\n```\r\n\r\nTo yield data, i have a repository for &quot;Room&quot; and &quot;Team&quot;:\r\n```java\r\npublic interface RoomRepository extends CrudRepository&lt;Room, Long&gt; {\r\n}\r\n```\r\n```java\r\npublic interface TeamRepository extends CrudRepository&lt;Team, Long&gt; {\r\n}\r\n```\r\n\r\nMy goal is to request all rooms of a team, but prevent JPA from looping infinitely.\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;....&quot;)\r\npublic class RoomController {\r\n    @Autowired\r\n    private RoomRepository roomRepository;\r\n    \r\n    @GetMapping\r\n    public Iterable&lt;Room&gt; getAllRoomsOfTeam() {\r\n        final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\r\n        \r\n        final var team = teamRepository.findById(exampleId);\r\n\r\n        return ResponseEntity.ok(team);\r\n    }\r\n}\r\n```\r\n\r\nThis is the result:\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;Team1&quot;,\r\n    &quot;rooms&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Room 1&quot;,\r\n            &quot;teams&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;name&quot;: &quot;Team 1&quot;,\r\n                    &quot;rooms&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;Room 1&quot;,\r\n                            &quot;teams&quot;: [\r\n```\r\n\r\nJackson will loop forever, until an exception occurs (Since the back reference also references the parent element, which will create a loop).\r\nI already tried ``@JsonManagedReference`` and ``@JsonBackReference``, but they are used for many to one relationships.\r\n\r\nHow do i stop Jackson from looping infinitely? I want to affect other repositories and queries as little as possible.","title":"Spring-boot JPA infinite loop many to many","body":"<p>I have two entities, which are in a many to many relationship.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Room {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\n    private Set&lt;Team&gt; teams;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Team {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;teams_rooms&quot;,\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\n    private Set&lt;Room&gt; rooms;\n\n}\n</code></pre>\n<p>To yield data, i have a repository for &quot;Room&quot; and &quot;Team&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RoomRepository extends CrudRepository&lt;Room, Long&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TeamRepository extends CrudRepository&lt;Team, Long&gt; {\n}\n</code></pre>\n<p>My goal is to request all rooms of a team, but prevent JPA from looping infinitely.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;....&quot;)\npublic class RoomController {\n    @Autowired\n    private RoomRepository roomRepository;\n    \n    @GetMapping\n    public Iterable&lt;Room&gt; getAllRoomsOfTeam() {\n        final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\n        \n        final var team = teamRepository.findById(exampleId);\n\n        return ResponseEntity.ok(team);\n    }\n}\n</code></pre>\n<p>This is the result:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Team1&quot;,\n    &quot;rooms&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Room 1&quot;,\n            &quot;teams&quot;: [\n                {\n                    &quot;id&quot;: 1,\n                    &quot;name&quot;: &quot;Team 1&quot;,\n                    &quot;rooms&quot;: [\n                        {\n                            &quot;id&quot;: 1,\n                            &quot;name&quot;: &quot;Room 1&quot;,\n                            &quot;teams&quot;: [\n</code></pre>\n<p>Jackson will loop forever, until an exception occurs (Since the back reference also references the parent element, which will create a loop).\nI already tried <code>@JsonManagedReference</code> and <code>@JsonBackReference</code>, but they are used for many to one relationships.</p>\n<p>How do i stop Jackson from looping infinitely? I want to affect other repositories and queries as little as possible.</p>\n"},{"tags":["java","spring-boot","jaxb","xsd-validation"],"comments":[{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":1,"creation_date":1701171612,"post_id":77558325,"comment_id":136739703,"body_markdown":"Did you try profiling your code to see where the load time goes ? You can use Java Flight Recorder in order to do it (see well documented [here](https://www.baeldung.com/java-flight-recorder-monitoring)) : it may help you get what&#39;s wrong in your actual config (even if I&#39;m pretty sure that the /real/ problem is the XSD size)","body":"Did you try profiling your code to see where the load time goes ? You can use Java Flight Recorder in order to do it (see well documented <a href=\"https://www.baeldung.com/java-flight-recorder-monitoring\" rel=\"nofollow noreferrer\">here</a>) : it may help you get what&#39;s wrong in your actual config (even if I&#39;m pretty sure that the /real/ problem is the XSD size)"},{"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"score":0,"creation_date":1701174356,"post_id":77558325,"comment_id":136740185,"body_markdown":"@LaurentSchoelens yes, I profilied this code, and factory.newSchema(schemaFile); is taking the most execution time (15+ secs)","body":"@LaurentSchoelens yes, I profilied this code, and factory.newSchema(schemaFile); is taking the most execution time (15+ secs)"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701175466,"post_id":77558325,"comment_id":136740373,"body_markdown":"Could you share you profile result ? :)","body":"Could you share you profile result ? :)"},{"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"score":2,"creation_date":1701211846,"post_id":77558325,"comment_id":136746999,"body_markdown":"@LaurentSchoelens [link](https://drive.google.com/file/d/18x_velwIv2JQQ23u98ig8Er-Rwzn-YgP/view?usp=sharing)","body":"@LaurentSchoelens <a href=\"https://drive.google.com/file/d/18x_velwIv2JQQ23u98ig8Er-Rwzn-YgP/view?usp=sharing\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701250640,"post_id":77558325,"comment_id":136751260,"body_markdown":"I&#39;ve seen your jfr file and from what I see, most of the method and memory came from parsing your XSD to get the schema info. Couldn&#39;t you cache the `Validator validator = schema.newValidator();` instance to validate your XML ? You said that caching was not an option because of memory overhead... since your actual code generate more than 24GiB memory, what is this memory overhead to keep (only) the Validator instance ?","body":"I&#39;ve seen your jfr file and from what I see, most of the method and memory came from parsing your XSD to get the schema info. Couldn&#39;t you cache the <code>Validator validator = schema.newValidator();</code> instance to validate your XML ? You said that caching was not an option because of memory overhead... since your actual code generate more than 24GiB memory, what is this memory overhead to keep (only) the Validator instance ?"},{"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"score":0,"creation_date":1701264703,"post_id":77558325,"comment_id":136753926,"body_markdown":"@LaurentSchoelens yes it&#39;s truly genius, how I didn&#39;t think of that before. I just checked and it takes a lot less memory than caching schema. Thank you! I think that&#39;s enough","body":"@LaurentSchoelens yes it&#39;s truly genius, how I didn&#39;t think of that before. I just checked and it takes a lot less memory than caching schema. Thank you! I think that&#39;s enough"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701266282,"creation_date":1701266282,"answer_id":77571784,"question_id":77558325,"body_markdown":"As discussed in comments and after analysis of JFR provided, the best solution would be to cache only the `Validator` instance obtained after parsing the schema\r\n\r\nHope it&#39;ll solve your need.\r\n\r\nBeware of maybe threading issue (didnt find out if Validator instance are thread-safe or not)","title":"Validate XML against XSD which imports big enum XSD","body":"<p>As discussed in comments and after analysis of JFR provided, the best solution would be to cache only the <code>Validator</code> instance obtained after parsing the schema</p>\n<p>Hope it'll solve your need.</p>\n<p>Beware of maybe threading issue (didnt find out if Validator instance are thread-safe or not)</p>\n"}],"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571784,"answer_count":1,"score":1,"last_activity_date":1701266282,"creation_date":1701101257,"question_id":77558325,"body_markdown":"I have an XSD which imports big XSD with more than 200k \\&lt;enumeration\\&gt; elements, I need to validate incoming XML against root xsd:\r\n```xsd\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http www(dot)w3(dot)org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;\r\n    targetNamespace=&quot;http example(dot)com/test/test/types/2.0.0&quot;\r\n    xmlns:tns=&quot;http example(dot)com/test/test/types/2.0.0&quot;\r\n    xmlns:mun=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;&gt;\r\n    &lt;xs:import namespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\r\n        schemaLocation=&quot;common/enumXsd.xsd&quot;/&gt;\r\n    &lt;xs:element name=&quot;test&quot; type=&quot;tns:test&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;test&quot;&gt;\r\n         &lt;xs:element name=&quot;abc&quot; type=&quot;mun:EnumEType&quot;/&gt;\r\n    &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\nenumXsd.xsd:\r\n```xsd\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;schema xmlns:tns=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\r\n    elementFormDefault=&quot;qualified&quot;\r\n    targetNamespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\r\n    xmlns=&quot;http www w3 org/2001/XMLSchema&quot;&gt;\r\n    &lt;simpleType name=&quot;EnumEType&quot;&gt;\r\n        &lt;restriction base=&quot;string&quot;&gt;\r\n            &lt;enumeration value=&quot;w1&quot; /&gt;\r\n            &lt;enumeration value=&quot;2wr&quot; /&gt;\r\n            &lt;enumeration value=&quot;3erwer&quot; /&gt;\r\n            &lt;enumeration value=&quot;5rtete&quot; /&gt;\r\n             ...e.t.c...\r\n        &lt;/restriction&gt;\r\n    &lt;/simpleType&gt;\r\n&lt;/schema&gt;\r\n```\r\nMethod getSchema() takes too long (more than 15 secs) to retrieve schema (`factory.newSchema(schemaFile);`).\r\nIs there any ways to improve logic? Caching is not solve cause it takes a lot of memory.\r\n```java\r\n    private void validate(Source source) throws SAXException, IOException {\r\n        Schema schema = getSchema();\r\n        if (schema != null) {\r\n            Validator validator = schema.newValidator();\r\n            validator.validate(source);\r\n        }\r\n    }\r\n    public Schema getSchema() {\r\n        String path = getSchemaPath();\r\n        if (path == null) {\r\n            return null;\r\n        }\r\n        ClassLoader loader = getClass().getClassLoader();\r\n        try (BufferedInputStream xsdStream = new BufferedInputStream(loader.getResourceAsStream(path))) {\r\n            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n            StreamSource schemaFile = new StreamSource(xsdStream);\r\n            schemaFile.setSystemId(loader.getResource(path).toString());\r\n            cachedSchema = factory.newSchema(schemaFile);\r\n            return cachedSchema;\r\n        } catch (SAXException | IOException e) {\r\n            throw new RuntimeException(&quot;Error loading schema &quot; + path, e);\r\n        }\r\n    }\r\n```","title":"Validate XML against XSD which imports big enum XSD","body":"<p>I have an XSD which imports big XSD with more than 200k &lt;enumeration&gt; elements, I need to validate incoming XML against root xsd:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http www(dot)w3(dot)org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;\n    targetNamespace=&quot;http example(dot)com/test/test/types/2.0.0&quot;\n    xmlns:tns=&quot;http example(dot)com/test/test/types/2.0.0&quot;\n    xmlns:mun=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;&gt;\n    &lt;xs:import namespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\n        schemaLocation=&quot;common/enumXsd.xsd&quot;/&gt;\n    &lt;xs:element name=&quot;test&quot; type=&quot;tns:test&quot;/&gt;\n    &lt;xs:complexType name=&quot;test&quot;&gt;\n         &lt;xs:element name=&quot;abc&quot; type=&quot;mun:EnumEType&quot;/&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>enumXsd.xsd:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;schema xmlns:tns=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\n    elementFormDefault=&quot;qualified&quot;\n    targetNamespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\n    xmlns=&quot;http www w3 org/2001/XMLSchema&quot;&gt;\n    &lt;simpleType name=&quot;EnumEType&quot;&gt;\n        &lt;restriction base=&quot;string&quot;&gt;\n            &lt;enumeration value=&quot;w1&quot; /&gt;\n            &lt;enumeration value=&quot;2wr&quot; /&gt;\n            &lt;enumeration value=&quot;3erwer&quot; /&gt;\n            &lt;enumeration value=&quot;5rtete&quot; /&gt;\n             ...e.t.c...\n        &lt;/restriction&gt;\n    &lt;/simpleType&gt;\n&lt;/schema&gt;\n</code></pre>\n<p>Method getSchema() takes too long (more than 15 secs) to retrieve schema (<code>factory.newSchema(schemaFile);</code>).\nIs there any ways to improve logic? Caching is not solve cause it takes a lot of memory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void validate(Source source) throws SAXException, IOException {\n        Schema schema = getSchema();\n        if (schema != null) {\n            Validator validator = schema.newValidator();\n            validator.validate(source);\n        }\n    }\n    public Schema getSchema() {\n        String path = getSchemaPath();\n        if (path == null) {\n            return null;\n        }\n        ClassLoader loader = getClass().getClassLoader();\n        try (BufferedInputStream xsdStream = new BufferedInputStream(loader.getResourceAsStream(path))) {\n            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n            StreamSource schemaFile = new StreamSource(xsdStream);\n            schemaFile.setSystemId(loader.getResource(path).toString());\n            cachedSchema = factory.newSchema(schemaFile);\n            return cachedSchema;\n        } catch (SAXException | IOException e) {\n            throw new RuntimeException(&quot;Error loading schema &quot; + path, e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","nativequery"],"answers":[{"comments":[{"owner":{"account_id":24839053,"reputation":9,"user_id":18717311,"display_name":"778899"},"score":0,"creation_date":1668707061,"post_id":74479020,"comment_id":131477341,"body_markdown":"Thanks, I tried doing that. I now get the error : org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;:&quot; This seems odd as the syntax should be fine as I tested it in Dbeaver.","body":"Thanks, I tried doing that. I now get the error : org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;:&quot; This seems odd as the syntax should be fine as I tested it in Dbeaver."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1668760013,"post_id":74479020,"comment_id":131489114,"body_markdown":"Named parameters are not supported by JPA in native queries, only for JPQL. You need to remove the `nativeQuery = true`","body":"Named parameters are not supported by JPA in native queries, only for JPQL. You need to remove the <code>nativeQuery = true</code>"}],"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668702831,"creation_date":1668702831,"answer_id":74479020,"question_id":74478796,"body_markdown":"Parameters can be exposed via the name declared using `@Param`. You should rename `ingredient` by `ingredientFilter`. You can find more about the subject [here](https://www.logicbig.com/tutorials/spring-framework/spring-data/query-named-parameters.html)","title":"JPA Passing a list of Strings in to IN clause in a native query (using citext)","body":"<p>Parameters can be exposed via the name declared using <code>@Param</code>. You should rename <code>ingredient</code> by <code>ingredientFilter</code>. You can find more about the subject <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/query-named-parameters.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":12422497,"reputation":1,"user_id":9048694,"display_name":"Jairo Ceron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701266129,"creation_date":1701189306,"answer_id":77565622,"question_id":74478796,"body_markdown":"```\r\n@Query(value = &quot;select q.* from sde.pqrs q where q.fecha_radicado between :fechaInicial and :fechaFinal and q.radicado in (:radicados)&quot;, nativeQuery = true)\r\n\tList&lt;Pqrs&gt; consultaRadicadoDeVisita(@Param(&quot;fechaInicial&quot;) java.sql.Timestamp fechaInicial,\r\n\t\t\t@Param(&quot;fechaFinal&quot;) java.sql.Timestamp fechaFinal,\r\n\t\t\t@Param(value = &quot;radicados&quot;) List&lt;String&gt; radicados);\r\n```","title":"JPA Passing a list of Strings in to IN clause in a native query (using citext)","body":"<pre><code>@Query(value = &quot;select q.* from sde.pqrs q where q.fecha_radicado between :fechaInicial and :fechaFinal and q.radicado in (:radicados)&quot;, nativeQuery = true)\n    List&lt;Pqrs&gt; consultaRadicadoDeVisita(@Param(&quot;fechaInicial&quot;) java.sql.Timestamp fechaInicial,\n            @Param(&quot;fechaFinal&quot;) java.sql.Timestamp fechaFinal,\n            @Param(value = &quot;radicados&quot;) List&lt;String&gt; radicados);\n</code></pre>\n"}],"owner":{"account_id":24839053,"reputation":9,"user_id":18717311,"display_name":"778899"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701266129,"creation_date":1668701920,"question_id":74478796,"body_markdown":"I am trying to pass a list of Strings in to IN clause in a native query using citext for a case insensitive search. Everytime I try to test this query out using postman I get the following error:\r\norg.hibernate.QueryException: Named parameter not bound : ingredientFilter\r\n\r\nBelow is the query I am trying to test:\r\n\r\n\r\n```\r\n@Query(value = &quot;select personal_recipes.name, personal_recipes.type, personal_recipes.comments, &quot; +\r\n        &quot;personal_recipes.instructions, personal_recipes.rating, ingredients.name, ingredients.quantity &quot; +\r\n        &quot;from personal_recipes &quot; +\r\n        &quot;inner join ingredients on personal_recipes.name = ingredients.recipe_name &quot; +\r\n        &quot;where (ingredients.name::citext in (:ingredientFilter))&quot; , nativeQuery = true)\r\nList&lt;PersonalRecipesEntity&gt; getPersonalRecipesByIngredient(@Param(value = &quot;ingredient&quot;) List&lt;String&gt; ingredientFilter);\r\n```\r\n\r\n\r\n\r\nI am confused as this query works when I test it out in Dbeaver. \r\n\r\nI tried removing the brackets around :ingredientFilter. It did not change anything. I am new to Spring boot and havent been able to find anything online. ","title":"JPA Passing a list of Strings in to IN clause in a native query (using citext)","body":"<p>I am trying to pass a list of Strings in to IN clause in a native query using citext for a case insensitive search. Everytime I try to test this query out using postman I get the following error:\norg.hibernate.QueryException: Named parameter not bound : ingredientFilter</p>\n<p>Below is the query I am trying to test:</p>\n<pre><code>@Query(value = &quot;select personal_recipes.name, personal_recipes.type, personal_recipes.comments, &quot; +\n        &quot;personal_recipes.instructions, personal_recipes.rating, ingredients.name, ingredients.quantity &quot; +\n        &quot;from personal_recipes &quot; +\n        &quot;inner join ingredients on personal_recipes.name = ingredients.recipe_name &quot; +\n        &quot;where (ingredients.name::citext in (:ingredientFilter))&quot; , nativeQuery = true)\nList&lt;PersonalRecipesEntity&gt; getPersonalRecipesByIngredient(@Param(value = &quot;ingredient&quot;) List&lt;String&gt; ingredientFilter);\n</code></pre>\n<p>I am confused as this query works when I test it out in Dbeaver.</p>\n<p>I tried removing the brackets around :ingredientFilter. It did not change anything. I am new to Spring boot and havent been able to find anything online.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":6084726,"reputation":1,"user_id":4749213,"display_name":"amerty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701265957,"creation_date":1701242556,"answer_id":77569239,"question_id":77542500,"body_markdown":"I needed to enable metrics in `ConnectionProvider`\r\n\r\n```\r\nConnectionProvider provider = ConnectionProvider.builder(&quot;custom&quot;)\r\n\t\t\t\t.maxConnections(maxConnTotal)\r\n\t\t\t\t.metrics(true)\r\n\t\t\t\t.maxLifeTime(Duration.ofSeconds(5))\r\n\t\t\t\t.build();\r\n```\r\n\r\nThen I was able to see logs from MeterRegistry object (repo) \r\n\r\n```\r\nObject[] meters = repo.getMeters().stream().filter(meter -&gt; meter.getId().getName().contains(&quot;reactor&quot;)).toArray();\r\n```\r\n\r\nReference:\r\nhttps://projectreactor.io/docs/netty/release/reference/index.html#_metrics_5\r\n\r\n","title":"How to get PoolStats for WebClient for logging in Spring Boot 3","body":"<p>I needed to enable metrics in <code>ConnectionProvider</code></p>\n<pre><code>ConnectionProvider provider = ConnectionProvider.builder(&quot;custom&quot;)\n                .maxConnections(maxConnTotal)\n                .metrics(true)\n                .maxLifeTime(Duration.ofSeconds(5))\n                .build();\n</code></pre>\n<p>Then I was able to see logs from MeterRegistry object (repo)</p>\n<pre><code>Object[] meters = repo.getMeters().stream().filter(meter -&gt; meter.getId().getName().contains(&quot;reactor&quot;)).toArray();\n</code></pre>\n<p>Reference:\n<a href=\"https://projectreactor.io/docs/netty/release/reference/index.html#_metrics_5\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/netty/release/reference/index.html#_metrics_5</a></p>\n"}],"owner":{"account_id":6084726,"reputation":1,"user_id":4749213,"display_name":"amerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77569239,"answer_count":1,"score":-1,"last_activity_date":1701265957,"creation_date":1700822486,"question_id":77542500,"body_markdown":"I converted the RestTemplate to WebClient in my Spring Boot 3 project. In RestTemplate we were using PoolStats for logging metrics of leased, pending, available, max stats. (Code below)\r\n\r\n```\r\n    private void printHttpClientStats(String qualifier, PoolingHttpClientConnectionManager httpClientConnectionManager) {\r\n\r\n        final PoolStats totalStats = httpClientConnectionManager.getTotalStats();\r\n        log.info(&quot;HttpClient - {}: {}&quot;, qualifier, totalStats);\r\n    }\r\n```\r\nHowever after switching to WebClient I couldn&#39;t be able to find how to get these info and log it the same way. How can I do this in WebClient?\r\n\r\n\r\n\r\n\r\nI find this similar question but there are no answers to this one:\r\nhttps://stackoverflow.com/questions/55113790/how-to-log-thread-pool-metrics-for-spring-webclient","title":"How to get PoolStats for WebClient for logging in Spring Boot 3","body":"<p>I converted the RestTemplate to WebClient in my Spring Boot 3 project. In RestTemplate we were using PoolStats for logging metrics of leased, pending, available, max stats. (Code below)</p>\n<pre><code>    private void printHttpClientStats(String qualifier, PoolingHttpClientConnectionManager httpClientConnectionManager) {\n\n        final PoolStats totalStats = httpClientConnectionManager.getTotalStats();\n        log.info(&quot;HttpClient - {}: {}&quot;, qualifier, totalStats);\n    }\n</code></pre>\n<p>However after switching to WebClient I couldn't be able to find how to get these info and log it the same way. How can I do this in WebClient?</p>\n<p>I find this similar question but there are no answers to this one:\n<a href=\"https://stackoverflow.com/questions/55113790/how-to-log-thread-pool-metrics-for-spring-webclient\">How to log thread pool metrics for Spring WebClient?</a></p>\n"},{"tags":["java","multithreading","concurrency","ticket-system"],"owner":{"account_id":30022757,"reputation":1,"user_id":23007741,"display_name":"Envytee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701265642,"creation_date":1701265642,"question_id":77571706,"body_markdown":"i&#39;m reading an article about ticket allocation system that deals with concurrency (of course)\r\nHere is the link :[ticket](https://medium.com/@nicholasgcc/the-taylor-swift-algorithm-a-fairness-based-ticketing-allocation-protocol-6510f66db19e)\r\nI find one part that&#39;s difficult to comprehend.\r\nIn the QueueService class, the method &quot;attemptPurchase&quot; is sequential, not concurrent.\r\nmeaning that only when a user finishes purchasing a ticket that the next can.\r\nSo, my question is why the need for the &quot;lock&quot; in the Ticket class and the tryLock method, because after each execution of the method &quot;attemptPurchase&quot; the ticket is removed from the list which means the next user will only interact on the list without removing tickets.\r\nHere is the Ticket class :\r\n\r\n```\r\npublic class Ticket {\r\n    private final int id;\r\n    private AtomicBoolean locked = new AtomicBoolean(false);\r\n\r\n    public Ticket(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public boolean isLocked() {\r\n        return locked.get();\r\n    }\r\n\r\n    public boolean tryLock() {\r\n        return locked.compareAndSet(false, true);\r\n    }\r\n}\r\n```\r\nHere is the QueueService class :\r\n\r\n```\r\npublic class QueueService {\r\n    private final WaitingRoomService waitingRoomService;\r\n    private final List&lt;Ticket&gt; tickets;\r\n\r\n    /**\r\n     * Initializes a new QueueService instance.\r\n     *\r\n     * @param waitingRoomService the service to manage the waiting room\r\n     * @param tickets the list of tickets available for sale\r\n     */\r\n    public QueueService(WaitingRoomService waitingRoomService, List&lt;Ticket&gt; tickets) {\r\n        this.waitingRoomService = waitingRoomService;\r\n        this.tickets = new CopyOnWriteArrayList&lt;&gt;(tickets);\r\n    }\r\n\r\n    /**\r\n     * Processes the users in the waiting room, allowing them to attempt to purchase tickets.\r\n     */\r\n    public void processQueue() {\r\n        waitingRoomService.getWaitingRoom().stream()\r\n                .sorted(Comparator.comparing(User::getQueuePosition))\r\n                .forEach(this::attemptPurchase);\r\n    }\r\n\r\n    /**\r\n     * Allows the given user to attempt to purchase a ticket.\r\n     *\r\n     * @param user the user who will attempt to purchase a ticket\r\n     */\r\n    private void attemptPurchase(User user) {\r\n        for (Ticket ticket : tickets) {\r\n            if (ticket.tryLock()) {\r\n                System.out.println(&quot;User &quot; + user.getId() + &quot; arriving at time &quot; + user.getArrivalTime() + &quot; purchased ticket &quot; + ticket.getId());\r\n                waitingRoomService.getWaitingRoom().remove(user);  // Remove user from waiting room after purchase\r\n                tickets.remove(ticket);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns the list of tickets.\r\n     *\r\n     * @return the list of tickets\r\n     */\r\n    public List&lt;Ticket&gt; getTickets() {\r\n        return tickets;\r\n    }\r\n```\r\n\r\n\r\n\r\nI try to create thread so that many users can concurrently call the &quot;attemptPuschase&quot; method but that would go against the algorithm of the article that &quot;User are put into a queue and a random queue position then when the sale is started, each user in the queue is put into the holding queue for payment&quot;\r\nIf I create many threads and the number of users &gt;&gt; numbers of tickets (much greater than) then it may happen that the first user in the queue or second, third, ... those who put first cannot purchase tickets due to the undetermined behaviors of thread.\r\nCan anyone help me with a solution.","title":"Ticket allocation system","body":"<p>i'm reading an article about ticket allocation system that deals with concurrency (of course)\nHere is the link :<a href=\"https://medium.com/@nicholasgcc/the-taylor-swift-algorithm-a-fairness-based-ticketing-allocation-protocol-6510f66db19e\" rel=\"nofollow noreferrer\">ticket</a>\nI find one part that's difficult to comprehend.\nIn the QueueService class, the method &quot;attemptPurchase&quot; is sequential, not concurrent.\nmeaning that only when a user finishes purchasing a ticket that the next can.\nSo, my question is why the need for the &quot;lock&quot; in the Ticket class and the tryLock method, because after each execution of the method &quot;attemptPurchase&quot; the ticket is removed from the list which means the next user will only interact on the list without removing tickets.\nHere is the Ticket class :</p>\n<pre><code>public class Ticket {\n    private final int id;\n    private AtomicBoolean locked = new AtomicBoolean(false);\n\n    public Ticket(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public boolean isLocked() {\n        return locked.get();\n    }\n\n    public boolean tryLock() {\n        return locked.compareAndSet(false, true);\n    }\n}\n</code></pre>\n<p>Here is the QueueService class :</p>\n<pre><code>public class QueueService {\n    private final WaitingRoomService waitingRoomService;\n    private final List&lt;Ticket&gt; tickets;\n\n    /**\n     * Initializes a new QueueService instance.\n     *\n     * @param waitingRoomService the service to manage the waiting room\n     * @param tickets the list of tickets available for sale\n     */\n    public QueueService(WaitingRoomService waitingRoomService, List&lt;Ticket&gt; tickets) {\n        this.waitingRoomService = waitingRoomService;\n        this.tickets = new CopyOnWriteArrayList&lt;&gt;(tickets);\n    }\n\n    /**\n     * Processes the users in the waiting room, allowing them to attempt to purchase tickets.\n     */\n    public void processQueue() {\n        waitingRoomService.getWaitingRoom().stream()\n                .sorted(Comparator.comparing(User::getQueuePosition))\n                .forEach(this::attemptPurchase);\n    }\n\n    /**\n     * Allows the given user to attempt to purchase a ticket.\n     *\n     * @param user the user who will attempt to purchase a ticket\n     */\n    private void attemptPurchase(User user) {\n        for (Ticket ticket : tickets) {\n            if (ticket.tryLock()) {\n                System.out.println(&quot;User &quot; + user.getId() + &quot; arriving at time &quot; + user.getArrivalTime() + &quot; purchased ticket &quot; + ticket.getId());\n                waitingRoomService.getWaitingRoom().remove(user);  // Remove user from waiting room after purchase\n                tickets.remove(ticket);\n                break;\n            }\n        }\n    }\n    /**\n     * Returns the list of tickets.\n     *\n     * @return the list of tickets\n     */\n    public List&lt;Ticket&gt; getTickets() {\n        return tickets;\n    }\n</code></pre>\n<p>I try to create thread so that many users can concurrently call the &quot;attemptPuschase&quot; method but that would go against the algorithm of the article that &quot;User are put into a queue and a random queue position then when the sale is started, each user in the queue is put into the holding queue for payment&quot;\nIf I create many threads and the number of users &gt;&gt; numbers of tickets (much greater than) then it may happen that the first user in the queue or second, third, ... those who put first cannot purchase tickets due to the undetermined behaviors of thread.\nCan anyone help me with a solution.</p>\n"},{"tags":["java",".net","spring-boot","rest","soap"],"owner":{"account_id":2319359,"reputation":27,"user_id":9318280,"display_name":"Mohit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701265172,"creation_date":1701265172,"question_id":77571649,"body_markdown":"I m trying to solutions a SOAP based solution with following things\r\n1. The old SOAP services are written in .Net with SOAP - WSDL and XSD already generated and shared with consumers.\r\n2. The consumers have been using those contracts for years and they don&#39;t want to upgrade to REST or  any other new platforms.\r\n3. For them they want to use the Same WSDL/XSD basically contracts and dont care for anything else.\r\n4. But as from the Publisher side, I m rewriting the solution in Spring Boot service, hence I can still use the structure of classes, variables and so on. \r\n5. So the WSDL and XSD will definitely change because I will be generating them again with new Spring Boot Service.\r\n\r\n1. Is it possible to have an adapter solution to serve the clients, without impacting them.\r\n2. Can we reuse the WSDL/XSD from .net application receive the request to my new Spring boot service ?\r\n3. Basically the backend becomes flexible and consumers wont even know, that we have shifted from .net to Java.\r\n4. I do understand we have WSDL/ XSD as tight contract, where its part of validation to have it to the specific of service, ports and bindings.\r\n5. But again has any one faced this situation.","title":"SOAP Services from WCF migration to SOAP in Spring Boot","body":"<p>I m trying to solutions a SOAP based solution with following things</p>\n<ol>\n<li><p>The old SOAP services are written in .Net with SOAP - WSDL and XSD already generated and shared with consumers.</p>\n</li>\n<li><p>The consumers have been using those contracts for years and they don't want to upgrade to REST or  any other new platforms.</p>\n</li>\n<li><p>For them they want to use the Same WSDL/XSD basically contracts and dont care for anything else.</p>\n</li>\n<li><p>But as from the Publisher side, I m rewriting the solution in Spring Boot service, hence I can still use the structure of classes, variables and so on.</p>\n</li>\n<li><p>So the WSDL and XSD will definitely change because I will be generating them again with new Spring Boot Service.</p>\n</li>\n<li><p>Is it possible to have an adapter solution to serve the clients, without impacting them.</p>\n</li>\n<li><p>Can we reuse the WSDL/XSD from .net application receive the request to my new Spring boot service ?</p>\n</li>\n<li><p>Basically the backend becomes flexible and consumers wont even know, that we have shifted from .net to Java.</p>\n</li>\n<li><p>I do understand we have WSDL/ XSD as tight contract, where its part of validation to have it to the specific of service, ports and bindings.</p>\n</li>\n<li><p>But again has any one faced this situation.</p>\n</li>\n</ol>\n"},{"tags":["java","list","search","arraylist"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1701263073,"post_id":77571333,"comment_id":136753604,"body_markdown":"Can you share some input/output examples please","body":"Can you share some input/output examples please"},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701263189,"post_id":77571333,"comment_id":136753623,"body_markdown":"You have to write code to search a list for an element that matches your search criteria.  Probably the easiest approach is to write a comparator (or similar) for each distinct set of search criteria, and then iterate through the list using the specific comparator.","body":"You have to write code to search a list for an element that matches your search criteria.  Probably the easiest approach is to write a comparator (or similar) for each distinct set of search criteria, and then iterate through the list using the specific comparator."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701263339,"creation_date":1701263339,"answer_id":77571429,"question_id":77571333,"body_markdown":"If I understand your question, you need something like this:\r\n\r\n    public Identity findIdentity(List&lt;Identity&gt; identities, String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles) {\r\n        return identities.stream()\r\n                .filter(identity -&gt; isCorrectIdentity(type, id, services, roles, identity))\r\n                .findFirst()\r\n                .orElse(null);\r\n    }\r\n    \r\n    private boolean isCorrectIdentity(String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles, Identity identity) {\r\n        return identity.getType().equals(type) &amp;&amp; identity.getId().equals(id) &amp;&amp;\r\n                (services == null || new HashSet&lt;&gt;(identity.getServices()).containsAll(services)) &amp;&amp;\r\n                (roles == null || new HashSet&lt;&gt;(identity.getRoles()).containsAll(roles));\r\n    }\r\n\r\nThis will loop over your list, check element by element the type and id and if the services are defined it will check also with services and in the end if the roles are defined it will search by roles.\r\n\r\nNote: you can simplify the `isCorrectIdentity` by using multiple `if elses` or multiples `methods`.","title":"Search value in a java list by some of its fields","body":"<p>If I understand your question, you need something like this:</p>\n<pre><code>public Identity findIdentity(List&lt;Identity&gt; identities, String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles) {\n    return identities.stream()\n            .filter(identity -&gt; isCorrectIdentity(type, id, services, roles, identity))\n            .findFirst()\n            .orElse(null);\n}\n\nprivate boolean isCorrectIdentity(String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles, Identity identity) {\n    return identity.getType().equals(type) &amp;&amp; identity.getId().equals(id) &amp;&amp;\n            (services == null || new HashSet&lt;&gt;(identity.getServices()).containsAll(services)) &amp;&amp;\n            (roles == null || new HashSet&lt;&gt;(identity.getRoles()).containsAll(roles));\n}\n</code></pre>\n<p>This will loop over your list, check element by element the type and id and if the services are defined it will check also with services and in the end if the roles are defined it will search by roles.</p>\n<p>Note: you can simplify the <code>isCorrectIdentity</code> by using multiple <code>if elses</code> or multiples <code>methods</code>.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701264306,"creation_date":1701263452,"answer_id":77571442,"question_id":77571333,"body_markdown":"You can achieve this with the [Java Stream API][1].\r\n\r\nFor example, given a `List&lt;Identity&gt;` called `identities` you can do:\r\n\r\n    identities.stream()\r\n      .filter(identity -&gt; identity.getType().equals(type) &amp;&amp; identity.getId().equals(id))\r\n      .findFirst();\r\n\r\nI&#39;d be tempted to move the predicate logic to the `Identity` class, so you&#39;d have something like:\r\n\r\n    public class Identity {\r\n\r\n      private String type;\r\n      private String id;\r\n      private String account;\r\n      private List&lt;String&gt; services;\r\n      private List&lt;String&gt; roles;\r\n    \r\n      public boolean matches(string type, string id, string service, string role) {\r\n         return (type == null || this.type.equals(type)) &amp;&amp; \r\n           (id == null || this.id.equals(id)) &amp;&amp; \r\n           (service == null || this.services.contains(service)) &amp;&amp;\r\n           (role == null || this.roles.contains(role));  \r\n      }\r\n    }\r\n\r\nWhich would then be used like this:\r\n\r\n    identities.stream()\r\n      .filter(identity -&gt; identity.matches(type, id, service, role))\r\n      .findFirst();\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Search value in a java list by some of its fields","body":"<p>You can achieve this with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Java Stream API</a>.</p>\n<p>For example, given a <code>List&lt;Identity&gt;</code> called <code>identities</code> you can do:</p>\n<pre><code>identities.stream()\n  .filter(identity -&gt; identity.getType().equals(type) &amp;&amp; identity.getId().equals(id))\n  .findFirst();\n</code></pre>\n<p>I'd be tempted to move the predicate logic to the <code>Identity</code> class, so you'd have something like:</p>\n<pre><code>public class Identity {\n\n  private String type;\n  private String id;\n  private String account;\n  private List&lt;String&gt; services;\n  private List&lt;String&gt; roles;\n\n  public boolean matches(string type, string id, string service, string role) {\n     return (type == null || this.type.equals(type)) &amp;&amp; \n       (id == null || this.id.equals(id)) &amp;&amp; \n       (service == null || this.services.contains(service)) &amp;&amp;\n       (role == null || this.roles.contains(role));  \n  }\n}\n</code></pre>\n<p>Which would then be used like this:</p>\n<pre><code>identities.stream()\n  .filter(identity -&gt; identity.matches(type, id, service, role))\n  .findFirst();\n</code></pre>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571429,"answer_count":2,"score":1,"last_activity_date":1701264306,"creation_date":1701262556,"question_id":77571333,"body_markdown":"Good morning. Currently I have the following java class of which I have a list of identities:\r\n  \r\n    @Getter\r\n    @AllArgsConstructor\r\n    @RegisterForReflection\r\n    @NoArgsConstructor\r\n    @Setter\r\n    public class Identity {\r\n    \r\n        private String type;\r\n        private String id;\r\n        @JsonIgnore\r\n        private String account;\r\n        private List&lt;String&gt; services;\r\n        private List&lt;String&gt; roles;\r\n    }\r\n\r\nCurrently I have a List of Identity (**`List &lt;Identity&gt;`**) and I need to search within this list for some or all of its parameters, that is, I can have the following use cases for searching for an identity within the list:\r\n\r\n     1. type &amp;&amp; id;\r\n     2. type &amp;&amp; id &amp;&amp; services; \r\n     3. type &amp;&amp; id &amp;&amp; services &amp;&amp; roles;\r\n\r\nHow can I do in this case? I know that lists have methods like contains, but I don&#39;t know if they apply to partial searches like I want, what I want is that if it makes a match it returns the element","title":"Search value in a java list by some of its fields","body":"<p>Good morning. Currently I have the following java class of which I have a list of identities:</p>\n<pre><code>@Getter\n@AllArgsConstructor\n@RegisterForReflection\n@NoArgsConstructor\n@Setter\npublic class Identity {\n\n    private String type;\n    private String id;\n    @JsonIgnore\n    private String account;\n    private List&lt;String&gt; services;\n    private List&lt;String&gt; roles;\n}\n</code></pre>\n<p>Currently I have a List of Identity (<strong><code>List &lt;Identity&gt;</code></strong>) and I need to search within this list for some or all of its parameters, that is, I can have the following use cases for searching for an identity within the list:</p>\n<pre><code> 1. type &amp;&amp; id;\n 2. type &amp;&amp; id &amp;&amp; services; \n 3. type &amp;&amp; id &amp;&amp; services &amp;&amp; roles;\n</code></pre>\n<p>How can I do in this case? I know that lists have methods like contains, but I don't know if they apply to partial searches like I want, what I want is that if it makes a match it returns the element</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1701259514,"post_id":77570882,"comment_id":136752946,"body_markdown":"Try something first and get back with a precise question and the code.","body":"Try something first and get back with a precise question and the code."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701264247,"creation_date":1701262598,"answer_id":77571342,"question_id":77570882,"body_markdown":"You&#39;re on the right track. You can check if the object is over a rectangle in the [`mouseClicked()`][1] even handler to increment your counter.\r\n\r\nYou *should* be able to override the [`exit()`][2] sketch function, however I noticed that it doesn&#39;t trigger when you use the stop button in the Processing IDE. It *does work* when you use the `ESCAPE` key to close the sketch. This might actual work better if you plan to export the sketch as an application (via File &gt; Export Application).\r\n\r\nHere&#39;s a super basic sketch to illustrated the above ideas:\r\n\r\n```java\r\n// dummy coin data\r\nint[][] coinBoundingBoxes = {\r\n  {30, 30, 30, 30},\r\n  {135, 30, 30, 30},\r\n  {250, 30, 30, 30},\r\n  {30, 150, 30, 30},\r\n  {135, 150, 30, 30},\r\n  {250, 150, 30, 30},\r\n  {30, 250, 30, 30},\r\n  {135, 250, 30, 30},\r\n  {250, 250, 30, 30},\r\n};\r\n// total number of coins clicked\r\nint numClicks = 0;\r\n\r\nvoid setup(){\r\n  size(300, 300);\r\n}\r\n\r\nvoid draw(){\r\n  background(0);\r\n  // draw coins\r\n  fill(255, 192, 0);\r\n  for(int[] bbox : coinBoundingBoxes)\r\n    ellipse(bbox[0] + bbox[2] * 0.5, bbox[1] + bbox[3] * 0.5, bbox[2], bbox[3]);\r\n  // draw text\r\n  fill(255);\r\n  text(numClicks, 10, 15);\r\n}\r\n\r\nvoid mouseClicked(){\r\n  // check if any coin is clicked to increment\r\n  for(int[] bbox : coinBoundingBoxes){\r\n    if(isInRect(mouseX, mouseY, bbox)){\r\n      numClicks++;\r\n    }\r\n  }\r\n}\r\n\r\n// check is x,y are within bbox x,y,w,h (0, 1, 2, 3)\r\nboolean isInRect(int x, int y, int[] r){\r\n  return (x &gt;= r[0] &amp;&amp; x &lt;= r[0] + r[2]) &amp;&amp;\r\n         (y &gt;= r[1] &amp;&amp; y &lt;= r[1] + r[3]);\r\n}\r\n\r\n// override exit to print clicks first\r\nvoid exit(){\r\n  println(&quot;total clicks: &quot;, numClicks);\r\n  super.exit();\r\n}\r\n```\r\n\r\n  [1]: https://processing.org/reference/mouseClicked_.html\r\n  [2]: https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#exit--","title":"Is there a way to keep track of objects clicked and display them as a message when the program ends in processing java?","body":"<p>You're on the right track. You can check if the object is over a rectangle in the <a href=\"https://processing.org/reference/mouseClicked_.html\" rel=\"nofollow noreferrer\"><code>mouseClicked()</code></a> even handler to increment your counter.</p>\n<p>You <em>should</em> be able to override the <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#exit--\" rel=\"nofollow noreferrer\"><code>exit()</code></a> sketch function, however I noticed that it doesn't trigger when you use the stop button in the Processing IDE. It <em>does work</em> when you use the <code>ESCAPE</code> key to close the sketch. This might actual work better if you plan to export the sketch as an application (via File &gt; Export Application).</p>\n<p>Here's a super basic sketch to illustrated the above ideas:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// dummy coin data\nint[][] coinBoundingBoxes = {\n  {30, 30, 30, 30},\n  {135, 30, 30, 30},\n  {250, 30, 30, 30},\n  {30, 150, 30, 30},\n  {135, 150, 30, 30},\n  {250, 150, 30, 30},\n  {30, 250, 30, 30},\n  {135, 250, 30, 30},\n  {250, 250, 30, 30},\n};\n// total number of coins clicked\nint numClicks = 0;\n\nvoid setup(){\n  size(300, 300);\n}\n\nvoid draw(){\n  background(0);\n  // draw coins\n  fill(255, 192, 0);\n  for(int[] bbox : coinBoundingBoxes)\n    ellipse(bbox[0] + bbox[2] * 0.5, bbox[1] + bbox[3] * 0.5, bbox[2], bbox[3]);\n  // draw text\n  fill(255);\n  text(numClicks, 10, 15);\n}\n\nvoid mouseClicked(){\n  // check if any coin is clicked to increment\n  for(int[] bbox : coinBoundingBoxes){\n    if(isInRect(mouseX, mouseY, bbox)){\n      numClicks++;\n    }\n  }\n}\n\n// check is x,y are within bbox x,y,w,h (0, 1, 2, 3)\nboolean isInRect(int x, int y, int[] r){\n  return (x &gt;= r[0] &amp;&amp; x &lt;= r[0] + r[2]) &amp;&amp;\n         (y &gt;= r[1] &amp;&amp; y &lt;= r[1] + r[3]);\n}\n\n// override exit to print clicks first\nvoid exit(){\n  println(&quot;total clicks: &quot;, numClicks);\n  super.exit();\n}\n</code></pre>\n"}],"owner":{"account_id":30021847,"reputation":13,"user_id":23007046,"display_name":"Np3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701266217,"accepted_answer_id":77571342,"answer_count":1,"score":1,"last_activity_date":1701264247,"creation_date":1701258408,"question_id":77570882,"body_markdown":"Im trying to create a small game where the user clicks randomly generated coins and I want it to keep track of how many they click. Also, I want this message to print out when I click the stop button on the processing window.\r\n\r\nI tried using the exit() command as a public void, but that did not work.","title":"Is there a way to keep track of objects clicked and display them as a message when the program ends in processing java?","body":"<p>Im trying to create a small game where the user clicks randomly generated coins and I want it to keep track of how many they click. Also, I want this message to print out when I click the stop button on the processing window.</p>\n<p>I tried using the exit() command as a public void, but that did not work.</p>\n"},{"tags":["java","queue","priority-queue"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1701264225,"post_id":77571509,"comment_id":136753826,"body_markdown":"Keep track of where in the list the first (or last) of each color is.  Or, more accurately, where you would want to add an item of each color.","body":"Keep track of where in the list the first (or last) of each color is.  Or, more accurately, where you would want to add an item of each color."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1701275971,"post_id":77571509,"comment_id":136756470,"body_markdown":"Use a `priorityQueue` with a custom comparator based on color. Queues are FIFO, so they won’t provide the ordering you want.","body":"Use a <code>priorityQueue</code> with a custom comparator based on color. Queues are FIFO, so they won’t provide the ordering you want."}],"owner":{"account_id":30022543,"reputation":1,"user_id":23007575,"display_name":"Henrique de Liz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701264054,"creation_date":1701264054,"question_id":77571509,"body_markdown":"```\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\nimport java.util.Random;\r\n\r\npublic class TestQueueTwo {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random random = new Random();\r\n        int counter = 0;\r\n        String color = &quot; &quot;;\r\n        String ticket;\r\n        int listSize = 5;\r\n        int attendants = 2;\r\n\r\n        String[] colors = {&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;};\r\n\r\n        Queue&lt;String&gt; tickets = new LinkedList&lt;&gt;();\r\n\r\n       while(tickets.size() &lt; listSize)\r\n       {\r\n        \r\n        color = colors[random.nextInt(3)];\r\n        ticket = color + (random.nextInt(listSize) + 1);\r\n        tickets.add(ticket);\r\n       \r\n       }\r\n       \r\n    }   \r\n}\r\n```\r\n\r\n\r\nI am working on a college exercise in Java, and after generating these random passwords, I need to put them in a queue list, and the exercise requires using only one list.\r\n\r\nI need to organize it so that the red passwords come first, the blue ones second, and the yellow ones third.\r\n\r\nExample: (red1, red5, blue3, blue7, yellow8)\r\n\r\nWhich method can I use to organize this using only one list?","title":"Exercise on queue in java","body":"<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Random;\n\npublic class TestQueueTwo {\n\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        int counter = 0;\n        String color = &quot; &quot;;\n        String ticket;\n        int listSize = 5;\n        int attendants = 2;\n\n        String[] colors = {&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;};\n\n        Queue&lt;String&gt; tickets = new LinkedList&lt;&gt;();\n\n       while(tickets.size() &lt; listSize)\n       {\n        \n        color = colors[random.nextInt(3)];\n        ticket = color + (random.nextInt(listSize) + 1);\n        tickets.add(ticket);\n       \n       }\n       \n    }   \n}\n</code></pre>\n<p>I am working on a college exercise in Java, and after generating these random passwords, I need to put them in a queue list, and the exercise requires using only one list.</p>\n<p>I need to organize it so that the red passwords come first, the blue ones second, and the yellow ones third.</p>\n<p>Example: (red1, red5, blue3, blue7, yellow8)</p>\n<p>Which method can I use to organize this using only one list?</p>\n"},{"tags":["java","graph","hashmap","shortest-path"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1701264120,"post_id":77571505,"comment_id":136753807,"body_markdown":"What,if anything, have you done to try and fix these &quot;many bugs&quot;?","body":"What,if anything, have you done to try and fix these &quot;many bugs&quot;?"},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1701267264,"post_id":77571505,"comment_id":136754441,"body_markdown":"I still do not understand how the &#39;lines&#39; work.  You say they are defined by edges with -1 weight.  You also say the vertex 1 is part of a line with many stations.  However the input file contains no edge with weight -1 that connects station 1.","body":"I still do not understand how the &#39;lines&#39; work.  You say they are defined by edges with -1 weight.  You also say the vertex 1 is part of a line with many stations.  However the input file contains no edge with weight -1 that connects station 1."},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1701272070,"post_id":77571505,"comment_id":136755623,"body_markdown":"The 3rd link on your input file is `1 12 36`.  This would indicate that stations 1 and 12 are directly linked by a trip of 36 secs - faster than any &#39;line&#39; link of 90 secs.","body":"The 3rd link on your input file is <code>1 12 36</code>.  This would indicate that stations 1 and 12 are directly linked by a trip of 36 secs - faster than any &#39;line&#39; link of 90 secs."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701274364,"post_id":77571505,"comment_id":136756114,"body_markdown":"*&quot;However I am getting many bugs.&quot;* That might make your question unsuitable for Stack Overflow. Questions here are expected to be narrowly focused -- That is, about one issue only. If a question is about a bug, in effect, that would be one bug per question.","body":"<i>&quot;However I am getting many bugs.&quot;</i> That might make your question unsuitable for Stack Overflow. Questions here are expected to be narrowly focused -- That is, about one issue only. If a question is about a bug, in effect, that would be one bug per question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701274675,"post_id":77571505,"comment_id":136756177,"body_markdown":"Have you tried running the code in a debugger? The debugger allows you to set breakpoints -- lines at which execution will pause. You can then run the program one-step-at-a-time while monitoring variables. Instead of or in addition to, it may help to add `System.out.println (` lines to the code to help monitor flow and variable values.  You might be interested in https://ericlippert.com/2014/03/05/how-to-debug-small-programs/","body":"Have you tried running the code in a debugger? The debugger allows you to set breakpoints -- lines at which execution will pause. You can then run the program one-step-at-a-time while monitoring variables. Instead of or in addition to, it may help to add <code>System.out.println (</code> lines to the code to help monitor flow and variable values.  You might be interested in <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}],"owner":{"account_id":23416475,"reputation":3,"user_id":17477358,"display_name":"metsys"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701264008,"creation_date":1701264008,"question_id":77571505,"body_markdown":"I am working on this program that reads a file of metro stations and converts it into a graph. Then it does the following tasks:\r\n\r\n• It identifies all the stations belonging on the same line of a given station with the given station as input.\r\n\r\n• It finds the shortest path between two stations with the given 2 stations\r\n\r\n• In the original the data file metro.txt (The vertices starts after the $. Left integer is starting vertex, middle int is ending vertex, and right integer is weight/Time(s)):\r\n\r\nhttps://drive.google.com/file/d/1ePOoCHmFMi6TNTRPviIucwwUF7gGXy--/view?usp=sharing\r\n\r\n• The txt file contains different vertices that can be followed by the same station name when several subway lines pass by the same &quot;physical station&quot; (e.g. Bastille). For each vertex corresponds to a station, and stations with different numbers and the same name are considered as different &quot;stations&quot;\r\n\r\n• The line refers to all connected vertices with edges that connects them in cases of -1 weight it is considered as 90 secs constant\r\n\r\nHowever I am getting many bugs. Ex: when 1 is entered for N1:\r\noutput: \r\n\r\nLine: 1 12 \r\n\r\nCorrect output\r\n\r\nLine: 1 12 213 235 284 211 86 21 75 142 339 151 13 5 239 27 246 302 366 204 85 351 56 362 256\r\n\r\nHere is my code:\r\n\r\n    import net.datastructures.AdjacencyMapGraph;\r\n    import net.datastructures.Edge;\r\n    import net.datastructures.Graph;\r\n    import net.datastructures.Vertex;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.*;\r\n    \r\n    public class ParisMetro {\r\n        Graph&lt;String, Integer&gt; sGraph;\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; lines;\r\n        Map&lt;Vertex&lt;String&gt;, Boolean&gt; visited; // Declaration of visited map\r\n    \r\n        public ParisMetro(String fileName) throws IOException {\r\n          sGraph = new AdjacencyMapGraph&lt;&gt;(false);\r\n          lines = new HashMap&lt;&gt;();\r\n          read(fileName);\r\n        }\r\n    \r\n        protected void read(String fileName) throws IOException {\r\n          BufferedReader graphFile = new BufferedReader(new FileReader(fileName));\r\n          String line;\r\n          boolean isWeightSection = false;\r\n    \r\n          while ((line = graphFile.readLine()) != null) {\r\n            if (line.equals(&quot;$&quot;)) {\r\n              isWeightSection = true;\r\n              continue;\r\n            }\r\n    \r\n            StringTokenizer st = new StringTokenizer(line);\r\n            if (isWeightSection &amp;&amp; st.countTokens() == 3) {\r\n              String source = st.nextToken();\r\n              String dest = st.nextToken();\r\n              int weight = Integer.parseInt(st.nextToken());\r\n              Vertex&lt;String&gt; sv = sGraph.insertVertex(source);\r\n              Vertex&lt;String&gt; dv = sGraph.insertVertex(dest);\r\n              sGraph.insertEdge(sv, dv, weight);\r\n            } else {\r\n              while (st.hasMoreTokens()) {\r\n                String stationName = st.nextToken();\r\n                if (!stationName.equals(&quot;$&quot;)) {\r\n                  sGraph.insertVertex(stationName);\r\n                }\r\n              }\r\n            }\r\n          }\r\n          graphFile.close();\r\n        }\r\n    \r\n    \r\n        public List&lt;String&gt; findShortestPath(String sourceStation, String destinationStation) {\r\n          Map&lt;Vertex&lt;String&gt;, Vertex&lt;String&gt;&gt; previous = new HashMap&lt;&gt;();\r\n          Vertex&lt;String&gt; source = null;\r\n          Vertex&lt;String&gt; destination = null;\r\n    \r\n          for (Vertex&lt;String&gt; v : sGraph.vertices()) {\r\n            if (v.getElement().equals(sourceStation)) {\r\n              source = v;\r\n            }\r\n            if (v.getElement().equals(destinationStation)) {\r\n              destination = v;\r\n            }\r\n          }\r\n    \r\n          if (source == null || destination == null) {\r\n            return Collections.emptyList();\r\n          }\r\n    \r\n          Map&lt;Vertex&lt;String&gt;, Integer&gt; distance = new HashMap&lt;&gt;();\r\n          PriorityQueue&lt;Vertex&lt;String&gt;&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(distance::get));\r\n    \r\n          distance.put(source, 0);\r\n          queue.add(source);\r\n    \r\n          for (Vertex&lt;String&gt; vertex : sGraph.vertices()) {\r\n            if (!vertex.equals(source)) {\r\n              distance.put(vertex, Integer.MAX_VALUE);\r\n              previous.put(vertex, null);\r\n            }\r\n          }\r\n    \r\n          while (!queue.isEmpty()) {\r\n            Vertex&lt;String&gt; current = queue.poll();\r\n    \r\n            for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(current)) {\r\n              Vertex&lt;String&gt; neighbor = sGraph.opposite(current, edge);\r\n              int newDistance = distance.get(current) + edge.getElement();\r\n              if (newDistance &lt; distance.get(neighbor)) {\r\n                distance.put(neighbor, newDistance);\r\n                previous.put(neighbor, current);\r\n                queue.add(neighbor);\r\n              }\r\n            }\r\n          }\r\n    \r\n          List&lt;String&gt; shortestPath = new ArrayList&lt;&gt;();\r\n          Vertex&lt;String&gt; current = destination;\r\n          while (current != null) {\r\n            shortestPath.add(current.getElement());\r\n            current = previous.get(current);\r\n          }\r\n          Collections.reverse(shortestPath);\r\n    \r\n          return shortestPath;\r\n        }\r\n    \r\n        public void printDFS(String vert) {\r\n          Vertex&lt;String&gt; vt = getVertex(vert);\r\n          boolean[] visited = new boolean[sGraph.numVertices() + 1]; // Assuming station numbering starts from 1\r\n          List&lt;String&gt; stationsInSameLine = new ArrayList&lt;&gt;();\r\n    \r\n          if (vt != null) {\r\n            DFS(vt, visited, stationsInSameLine);\r\n          }\r\n    \r\n          System.out.println(&quot;Line: &quot; + String.join(&quot; &quot;, stationsInSameLine));\r\n        }\r\n    \r\n        private void DFS(Vertex&lt;String&gt; vt, boolean[] visited, List&lt;String&gt; stationsInSameLine) {\r\n          int stationNumber = Integer.parseInt(vt.getElement());\r\n          visited[stationNumber] = true;\r\n          stationsInSameLine.add(vt.getElement());\r\n    \r\n          for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(vt)) {\r\n            Vertex&lt;String&gt; neighbor = sGraph.opposite(vt, edge);\r\n            int neighborStationNumber = Integer.parseInt(neighbor.getElement());\r\n            if (!visited[neighborStationNumber]) {\r\n              DFS(neighbor, visited, stationsInSameLine);\r\n            }\r\n          }\r\n        }\r\n    \r\n        private Vertex&lt;String&gt; getVertex(String vert) {\r\n          for (Vertex&lt;String&gt; v : sGraph.vertices()) {\r\n            if (v.getElement().equals(vert)) {\r\n              return v;\r\n            }\r\n          }\r\n          return null;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n          if (args.length &lt; 1) {\r\n            System.err.println(&quot;Usage: java ParisMetro fileName&quot;);\r\n            System.exit(-1);\r\n          }\r\n    \r\n          try {\r\n            ParisMetro sGraph = new ParisMetro(args[0]);\r\n    \r\n            // Ask for type of query\r\n            System.out.println(&quot;Choose Query Type:&quot;);\r\n            System.out.println(&quot;1. List stations in the same line (N1)&quot;);\r\n            System.out.println(&quot;2. Find shortest path between stations (N1, N2)&quot;);\r\n    \r\n            // Read query type\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n            int queryType = Integer.parseInt(reader.readLine());\r\n    \r\n            if (queryType == 1) {\r\n              // Query type 1: List stations in the same line for a given station ID (N1)\r\n              System.out.println(&quot;Enter Station ID (N1):&quot;);\r\n              String stationID = reader.readLine();\r\n              sGraph.printDFS(stationID);\r\n            } else if (queryType == 2) {\r\n              // Query type 2: Find shortest path between stations (N1, N2)\r\n              System.out.println(&quot;Enter Start Station ID (N1):&quot;);\r\n              String startStationID = reader.readLine();\r\n              System.out.println(&quot;Enter Destination Station ID (N2):&quot;);\r\n              String destinationStationID = reader.readLine();\r\n    \r\n              List&lt;String&gt; shortestPath = sGraph.findShortestPath(startStationID, destinationStationID);\r\n    \r\n              if (shortestPath.isEmpty()) {\r\n                System.out.println(&quot;No path found between the stations.&quot;);\r\n              } else {\r\n                System.out.println(&quot;Shortest Path: &quot; + String.join(&quot; -&gt; &quot;, shortestPath));\r\n              }\r\n    \r\n              // Update the code based on the algorithm used (e.g., Dijkstra&#39;s algorithm)\r\n              System.out.println(sGraph.findShortestPath(startStationID, destinationStationID));\r\n              // The shortestPath method should print the path and time taken\r\n            } else {\r\n              System.out.println(&quot;Invalid Query Type&quot;);\r\n            }\r\n          } catch (Exception except) {\r\n            System.err.println(except);\r\n            except.printStackTrace();\r\n          }\r\n        }\r\n      }","title":"Finding paths and shortest paths in a map","body":"<p>I am working on this program that reads a file of metro stations and converts it into a graph. Then it does the following tasks:</p>\n<p>• It identifies all the stations belonging on the same line of a given station with the given station as input.</p>\n<p>• It finds the shortest path between two stations with the given 2 stations</p>\n<p>• In the original the data file metro.txt (The vertices starts after the $. Left integer is starting vertex, middle int is ending vertex, and right integer is weight/Time(s)):</p>\n<p><a href=\"https://drive.google.com/file/d/1ePOoCHmFMi6TNTRPviIucwwUF7gGXy--/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1ePOoCHmFMi6TNTRPviIucwwUF7gGXy--/view?usp=sharing</a></p>\n<p>• The txt file contains different vertices that can be followed by the same station name when several subway lines pass by the same &quot;physical station&quot; (e.g. Bastille). For each vertex corresponds to a station, and stations with different numbers and the same name are considered as different &quot;stations&quot;</p>\n<p>• The line refers to all connected vertices with edges that connects them in cases of -1 weight it is considered as 90 secs constant</p>\n<p>However I am getting many bugs. Ex: when 1 is entered for N1:\noutput:</p>\n<p>Line: 1 12</p>\n<p>Correct output</p>\n<p>Line: 1 12 213 235 284 211 86 21 75 142 339 151 13 5 239 27 246 302 366 204 85 351 56 362 256</p>\n<p>Here is my code:</p>\n<pre><code>import net.datastructures.AdjacencyMapGraph;\nimport net.datastructures.Edge;\nimport net.datastructures.Graph;\nimport net.datastructures.Vertex;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.*;\n\npublic class ParisMetro {\n    Graph&lt;String, Integer&gt; sGraph;\n    Map&lt;Integer, List&lt;Integer&gt;&gt; lines;\n    Map&lt;Vertex&lt;String&gt;, Boolean&gt; visited; // Declaration of visited map\n\n    public ParisMetro(String fileName) throws IOException {\n      sGraph = new AdjacencyMapGraph&lt;&gt;(false);\n      lines = new HashMap&lt;&gt;();\n      read(fileName);\n    }\n\n    protected void read(String fileName) throws IOException {\n      BufferedReader graphFile = new BufferedReader(new FileReader(fileName));\n      String line;\n      boolean isWeightSection = false;\n\n      while ((line = graphFile.readLine()) != null) {\n        if (line.equals(&quot;$&quot;)) {\n          isWeightSection = true;\n          continue;\n        }\n\n        StringTokenizer st = new StringTokenizer(line);\n        if (isWeightSection &amp;&amp; st.countTokens() == 3) {\n          String source = st.nextToken();\n          String dest = st.nextToken();\n          int weight = Integer.parseInt(st.nextToken());\n          Vertex&lt;String&gt; sv = sGraph.insertVertex(source);\n          Vertex&lt;String&gt; dv = sGraph.insertVertex(dest);\n          sGraph.insertEdge(sv, dv, weight);\n        } else {\n          while (st.hasMoreTokens()) {\n            String stationName = st.nextToken();\n            if (!stationName.equals(&quot;$&quot;)) {\n              sGraph.insertVertex(stationName);\n            }\n          }\n        }\n      }\n      graphFile.close();\n    }\n\n\n    public List&lt;String&gt; findShortestPath(String sourceStation, String destinationStation) {\n      Map&lt;Vertex&lt;String&gt;, Vertex&lt;String&gt;&gt; previous = new HashMap&lt;&gt;();\n      Vertex&lt;String&gt; source = null;\n      Vertex&lt;String&gt; destination = null;\n\n      for (Vertex&lt;String&gt; v : sGraph.vertices()) {\n        if (v.getElement().equals(sourceStation)) {\n          source = v;\n        }\n        if (v.getElement().equals(destinationStation)) {\n          destination = v;\n        }\n      }\n\n      if (source == null || destination == null) {\n        return Collections.emptyList();\n      }\n\n      Map&lt;Vertex&lt;String&gt;, Integer&gt; distance = new HashMap&lt;&gt;();\n      PriorityQueue&lt;Vertex&lt;String&gt;&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(distance::get));\n\n      distance.put(source, 0);\n      queue.add(source);\n\n      for (Vertex&lt;String&gt; vertex : sGraph.vertices()) {\n        if (!vertex.equals(source)) {\n          distance.put(vertex, Integer.MAX_VALUE);\n          previous.put(vertex, null);\n        }\n      }\n\n      while (!queue.isEmpty()) {\n        Vertex&lt;String&gt; current = queue.poll();\n\n        for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(current)) {\n          Vertex&lt;String&gt; neighbor = sGraph.opposite(current, edge);\n          int newDistance = distance.get(current) + edge.getElement();\n          if (newDistance &lt; distance.get(neighbor)) {\n            distance.put(neighbor, newDistance);\n            previous.put(neighbor, current);\n            queue.add(neighbor);\n          }\n        }\n      }\n\n      List&lt;String&gt; shortestPath = new ArrayList&lt;&gt;();\n      Vertex&lt;String&gt; current = destination;\n      while (current != null) {\n        shortestPath.add(current.getElement());\n        current = previous.get(current);\n      }\n      Collections.reverse(shortestPath);\n\n      return shortestPath;\n    }\n\n    public void printDFS(String vert) {\n      Vertex&lt;String&gt; vt = getVertex(vert);\n      boolean[] visited = new boolean[sGraph.numVertices() + 1]; // Assuming station numbering starts from 1\n      List&lt;String&gt; stationsInSameLine = new ArrayList&lt;&gt;();\n\n      if (vt != null) {\n        DFS(vt, visited, stationsInSameLine);\n      }\n\n      System.out.println(&quot;Line: &quot; + String.join(&quot; &quot;, stationsInSameLine));\n    }\n\n    private void DFS(Vertex&lt;String&gt; vt, boolean[] visited, List&lt;String&gt; stationsInSameLine) {\n      int stationNumber = Integer.parseInt(vt.getElement());\n      visited[stationNumber] = true;\n      stationsInSameLine.add(vt.getElement());\n\n      for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(vt)) {\n        Vertex&lt;String&gt; neighbor = sGraph.opposite(vt, edge);\n        int neighborStationNumber = Integer.parseInt(neighbor.getElement());\n        if (!visited[neighborStationNumber]) {\n          DFS(neighbor, visited, stationsInSameLine);\n        }\n      }\n    }\n\n    private Vertex&lt;String&gt; getVertex(String vert) {\n      for (Vertex&lt;String&gt; v : sGraph.vertices()) {\n        if (v.getElement().equals(vert)) {\n          return v;\n        }\n      }\n      return null;\n    }\n\n    public static void main(String[] args) {\n      if (args.length &lt; 1) {\n        System.err.println(&quot;Usage: java ParisMetro fileName&quot;);\n        System.exit(-1);\n      }\n\n      try {\n        ParisMetro sGraph = new ParisMetro(args[0]);\n\n        // Ask for type of query\n        System.out.println(&quot;Choose Query Type:&quot;);\n        System.out.println(&quot;1. List stations in the same line (N1)&quot;);\n        System.out.println(&quot;2. Find shortest path between stations (N1, N2)&quot;);\n\n        // Read query type\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        int queryType = Integer.parseInt(reader.readLine());\n\n        if (queryType == 1) {\n          // Query type 1: List stations in the same line for a given station ID (N1)\n          System.out.println(&quot;Enter Station ID (N1):&quot;);\n          String stationID = reader.readLine();\n          sGraph.printDFS(stationID);\n        } else if (queryType == 2) {\n          // Query type 2: Find shortest path between stations (N1, N2)\n          System.out.println(&quot;Enter Start Station ID (N1):&quot;);\n          String startStationID = reader.readLine();\n          System.out.println(&quot;Enter Destination Station ID (N2):&quot;);\n          String destinationStationID = reader.readLine();\n\n          List&lt;String&gt; shortestPath = sGraph.findShortestPath(startStationID, destinationStationID);\n\n          if (shortestPath.isEmpty()) {\n            System.out.println(&quot;No path found between the stations.&quot;);\n          } else {\n            System.out.println(&quot;Shortest Path: &quot; + String.join(&quot; -&gt; &quot;, shortestPath));\n          }\n\n          // Update the code based on the algorithm used (e.g., Dijkstra's algorithm)\n          System.out.println(sGraph.findShortestPath(startStationID, destinationStationID));\n          // The shortestPath method should print the path and time taken\n        } else {\n          System.out.println(&quot;Invalid Query Type&quot;);\n        }\n      } catch (Exception except) {\n        System.err.println(except);\n        except.printStackTrace();\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701263549,"post_id":77571302,"comment_id":136753687,"body_markdown":"The error makes clear that you do not have the SQLite JDBC driver on your classpath (or it is the wrong driver class name), and if this is a JDBC 4 or higher JDBC driver, you don&#39;t even need to explicitly load the JDBC driver, automatic driver loading will take care of it (and calling `newInstance()` has never been necessary).","body":"The error makes clear that you do not have the SQLite JDBC driver on your classpath (or it is the wrong driver class name), and if this is a JDBC 4 or higher JDBC driver, you don&#39;t even need to explicitly load the JDBC driver, automatic driver loading will take care of it (and calling <code>newInstance()</code> has never been necessary)."},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1701320283,"post_id":77571302,"comment_id":136761910,"body_markdown":"Hello, what&#39;s the project type of it? Does it is an IDEA build project or Gradle/Maven? Please share the project structure/screenshot.","body":"Hello, what&#39;s the project type of it? Does it is an IDEA build project or Gradle/Maven? Please share the project structure/screenshot."}],"owner":{"account_id":30022330,"reputation":1,"user_id":23007415,"display_name":"thomasAnderson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701263598,"answer_count":0,"score":0,"last_activity_date":1701263612,"creation_date":1701262278,"question_id":77571302,"body_markdown":"I&#39;m using IntelliJ IDEA Ultimate. I try to connect to an existing db that I created by using creator. \r\n\r\nI have installed driver and I get these errors:\r\n\r\n```none\r\njava.lang.ClassNotFoundException: org.sqlite.JDBC\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:421)\r\n\tat java.base/java.lang.Class.forName(Class.java:412)\r\n\tat Main.main(Main.java:8)\r\nNo suitable driver found for jdbc:sqlite:identifier.sqlite\r\n```\r\n\r\nAs for code I tried to compile:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n        try { Class.forName(&quot;org.sqlite.JDBC&quot;).newInstance(); } catch(Exception e) {e.printStackTrace();};\r\n        Connection connection = null;\r\n        try\r\n        {\r\n            // create a database connection\r\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:identifier.sqlite&quot;);\r\n            Statement statement = connection.createStatement();\r\n            statement.setQueryTimeout(30);  // set timeout to 30 sec.\r\n\r\n        }\r\n        catch(SQLException e)\r\n        {\r\n            // if the error message is &quot;out of memory&quot;,\r\n            // it probably means no database file is found\r\n            System.err.println(e.getMessage());\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                if(connection != null)\r\n                    connection.close();\r\n            }\r\n            catch(SQLException e)\r\n            {\r\n                // connection close failed.\r\n                System.err.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"No suitable driver found sqllite. IntelIj ultimate drivers","body":"<p>I'm using IntelliJ IDEA Ultimate. I try to connect to an existing db that I created by using creator.</p>\n<p>I have installed driver and I get these errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: org.sqlite.JDBC\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:421)\n    at java.base/java.lang.Class.forName(Class.java:412)\n    at Main.main(Main.java:8)\nNo suitable driver found for jdbc:sqlite:identifier.sqlite\n</code></pre>\n<p>As for code I tried to compile:</p>\n<pre><code>public class Main {\n    public static void main(String[] args)\n    {\n        try { Class.forName(&quot;org.sqlite.JDBC&quot;).newInstance(); } catch(Exception e) {e.printStackTrace();};\n        Connection connection = null;\n        try\n        {\n            // create a database connection\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:identifier.sqlite&quot;);\n            Statement statement = connection.createStatement();\n            statement.setQueryTimeout(30);  // set timeout to 30 sec.\n\n        }\n        catch(SQLException e)\n        {\n            // if the error message is &quot;out of memory&quot;,\n            // it probably means no database file is found\n            System.err.println(e.getMessage());\n        }\n        finally\n        {\n            try\n            {\n                if(connection != null)\n                    connection.close();\n            }\n            catch(SQLException e)\n            {\n                // connection close failed.\n                System.err.println(e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":4,"creation_date":1701252237,"post_id":77570156,"comment_id":136751542,"body_markdown":"I&#39;m not sure you understand what `if then else` does. Nothing can be both true and false. It will only ever execute one of the blocks.","body":"I&#39;m not sure you understand what <code>if then else</code> does. Nothing can be both true and false. It will only ever execute one of the blocks."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701252285,"post_id":77570156,"comment_id":136751556,"body_markdown":"it should be impossible; as you wrote, or `condition` is `true`, or it is `false`; only option to this, is its evaluation throwing some exception, nothing being printed in that case - unless some compiler/virtual machine bug (ignoring bytecode manipulation frameworks or similar)","body":"it should be impossible; as you wrote, or <code>condition</code> is <code>true</code>, or it is <code>false</code>; only option to this, is its evaluation throwing some exception, nothing being printed in that case - unless some compiler/virtual machine bug (ignoring bytecode manipulation frameworks or similar)"},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1701252549,"post_id":77570156,"comment_id":136751602,"body_markdown":"the &quot;condition&quot; you want is probably removing the if/else statement","body":"the &quot;condition&quot; you want is probably removing the if/else statement"}],"answers":[{"tags":[],"owner":{"account_id":20063026,"reputation":71,"user_id":14709345,"display_name":"Amer Al  Munajjed"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701252751,"creation_date":1701252751,"answer_id":77570223,"question_id":77570156,"body_markdown":"In Java, it is not possible for both the if and else blocks to be executed at the same time. The if-else statement is designed to be mutually exclusive, meaning that only one of the blocks will be executed based on the condition specified in the if statement.\r\nIf you want both blocks to be executed, you may need to reevaluate the logic of your program. You can consider using two separate if statements without an else or using a different logical structure depending on your specific requirements.","title":"Which condition print both if and else block same time in java?","body":"<p>In Java, it is not possible for both the if and else blocks to be executed at the same time. The if-else statement is designed to be mutually exclusive, meaning that only one of the blocks will be executed based on the condition specified in the if statement.\nIf you want both blocks to be executed, you may need to reevaluate the logic of your program. You can consider using two separate if statements without an else or using a different logical structure depending on your specific requirements.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701433697,"post_id":77570403,"comment_id":136777977,"body_markdown":"`else if` is just another `if` statement inside the `else` part - you just are omitting the `{}`, writing it on the same line and not using the *normal* indentation (e.g. https://i.stack.imgur.com/in9Wv.png)","body":"<code>else if</code> is just another <code>if</code> statement inside the <code>else</code> part - you just are omitting the <code>{}</code>, writing it on the same line and not using the <i>normal</i> indentation (e.g. <a href=\"https://i.stack.imgur.com/in9Wv.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/in9Wv.png</a>)"}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701263577,"creation_date":1701254319,"answer_id":77570403,"question_id":77570156,"body_markdown":"Here&#39;s basic answer to your question\r\n=\r\n\r\nAn `if-else` statement is like this\r\n\r\n```\r\nif thirsty\r\n    drink water\r\nelse\r\n    dont drink water\r\n```\r\nWell when do you drink water? only when your thirsty, if you are not thirsty **you do not go to drink water**. In what you&#39;re asking it&#39;s like saying -&gt; *&quot;I wasn&#39;t thirsty yet I drank water&quot;*\r\n\r\nThe same applies for Java and probably *every other programming language*.\r\n-\r\n\r\n```\r\nif(condition) {\r\n    // Do something...\r\n}\r\nelse {\r\n    // Do something else...\r\n}\r\n```\r\n\r\nA few more useful things to know\r\n=\r\n\r\nUse of an `if-else` statement\r\n-\r\n\r\nThe use of an `if-else` statement is to execute code if only the previous `if` or `else if` condition was false.\r\nThat also is the difference between an `else if` statement and adding another `if statement`.\r\n***\r\n`else if` statements\r\n-\r\n\r\nIn some conditions you would not need an `else if` statement. **For example** using booleans, they only have 2 values- true or false.\r\nOn the other hand when it comes to data values such as integers you would find an `else if` statement useful.\r\n```\r\nif(value == 0) {\r\n    // Do something if value is 0\r\n}\r\nelse if(value == 1) {\r\n    // Do something if value is 1\r\n}\r\nelse if(value == 2) {\r\n    // Do something if value is 2\r\n}\r\nelse {\r\n    // Do something if value is neither 0 nor 1\r\n}\r\n```\r\nRemember that `else if` statements can continue as long as there is a `if` or `else if` statement above them. This means you can check for as many conditions as you want.\r\n","title":"Which condition print both if and else block same time in java?","body":"<h1>Here's basic answer to your question</h1>\n<p>An <code>if-else</code> statement is like this</p>\n<pre><code>if thirsty\n    drink water\nelse\n    dont drink water\n</code></pre>\n<p>Well when do you drink water? only when your thirsty, if you are not thirsty <strong>you do not go to drink water</strong>. In what you're asking it's like saying -&gt; <em>&quot;I wasn't thirsty yet I drank water&quot;</em></p>\n<h2>The same applies for Java and probably <em>every other programming language</em>.</h2>\n<pre><code>if(condition) {\n    // Do something...\n}\nelse {\n    // Do something else...\n}\n</code></pre>\n<h1>A few more useful things to know</h1>\n<h2>Use of an <code>if-else</code> statement</h2>\n<p>The use of an <code>if-else</code> statement is to execute code if only the previous <code>if</code> or <code>else if</code> condition was false.\nThat also is the difference between an <code>else if</code> statement and adding another <code>if statement</code>.</p>\n<hr />\n<h2><code>else if</code> statements</h2>\n<p>In some conditions you would not need an <code>else if</code> statement. <strong>For example</strong> using booleans, they only have 2 values- true or false.\nOn the other hand when it comes to data values such as integers you would find an <code>else if</code> statement useful.</p>\n<pre><code>if(value == 0) {\n    // Do something if value is 0\n}\nelse if(value == 1) {\n    // Do something if value is 1\n}\nelse if(value == 2) {\n    // Do something if value is 2\n}\nelse {\n    // Do something if value is neither 0 nor 1\n}\n</code></pre>\n<p>Remember that <code>else if</code> statements can continue as long as there is a <code>if</code> or <code>else if</code> statement above them. This means you can check for as many conditions as you want.</p>\n"}],"owner":{"account_id":25123513,"reputation":1,"user_id":23006349,"display_name":"Akoram M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701268310,"answer_count":2,"score":-4,"last_activity_date":1701263577,"creation_date":1701252146,"question_id":77570156,"body_markdown":"```\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n        if (condition) {\r\n            System.out.printf(&quot;If block executed&quot;);\r\n        } else {\r\n            System.out.printf(&quot;Else block executed&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere my expected output is \r\n\r\n    `If block executed`\r\n    `Else block executed`\r\n\r\nWhich condition will help to achieve this?\r\n\r\nif condition == true it will print `If block executed`\r\nif condition == false it will print `Else block executed`\r\n\r\nBut i need to print both blocks in a single execution is it possible? and how ? please explain me thank you:)\r\n","title":"Which condition print both if and else block same time in java?","body":"<pre><code>public class Example {\n\n    public static void main(String[] args) {\n        if (condition) {\n            System.out.printf(&quot;If block executed&quot;);\n        } else {\n            System.out.printf(&quot;Else block executed&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here my expected output is</p>\n<pre><code>`If block executed`\n`Else block executed`\n</code></pre>\n<p>Which condition will help to achieve this?</p>\n<p>if condition == true it will print <code>If block executed</code>\nif condition == false it will print <code>Else block executed</code></p>\n<p>But i need to print both blocks in a single execution is it possible? and how ? please explain me thank you:)</p>\n"},{"tags":["java","spring","spring-mvc","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":6371426,"reputation":470,"user_id":4943720,"display_name":"Johannes Becker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701263424,"creation_date":1701263424,"answer_id":77571440,"question_id":77571207,"body_markdown":"I am sitting in the train and have no PC with me, so I can just point you in a direction.\r\n\r\nWhat happens in Spring internally, is that a `ConstraintViolationException` is thrown. This exception contains all violations found by the validator. This information can be used to calculate the information you need.\r\n\r\nSecond thing that happens when an exception is thrown by a `RestController` it is handled by an exception handler which maps it to an appropiate http response. If no handler is defined a default handler is used.\r\n\r\nThere are multiple ways to define such a handler, this is best explained in the official [documentation](https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc). \r\n\r\nThere you can define a handler for the `ConstraintViolationException` where you create your desired response.\r\n\r\n","title":"How split collection of validated objects in Spring and bean validation?","body":"<p>I am sitting in the train and have no PC with me, so I can just point you in a direction.</p>\n<p>What happens in Spring internally, is that a <code>ConstraintViolationException</code> is thrown. This exception contains all violations found by the validator. This information can be used to calculate the information you need.</p>\n<p>Second thing that happens when an exception is thrown by a <code>RestController</code> it is handled by an exception handler which maps it to an appropiate http response. If no handler is defined a default handler is used.</p>\n<p>There are multiple ways to define such a handler, this is best explained in the official <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>There you can define a handler for the <code>ConstraintViolationException</code> where you create your desired response.</p>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701263424,"creation_date":1701261302,"question_id":77571207,"body_markdown":"Consider:\r\n\r\n    @PostMapping(&quot;/track&quot;)\r\n    public void sendTopicCallback(@RequestBody @Validated Request request): CompletableFuture&lt;ResponseEntity&lt;Void&gt;&gt;\r\n\r\nAnd `Request` is:\r\n\r\n    public class Request {\r\n        @Valid\r\n        private List&lt;MyObjects&gt; objects;\r\n    }\r\n    \r\nHow to validate request but instead of returning 400 error code get valid object `List` and `List` of errors mapped with raw data?","title":"How split collection of validated objects in Spring and bean validation?","body":"<p>Consider:</p>\n<pre><code>@PostMapping(&quot;/track&quot;)\npublic void sendTopicCallback(@RequestBody @Validated Request request): CompletableFuture&lt;ResponseEntity&lt;Void&gt;&gt;\n</code></pre>\n<p>And <code>Request</code> is:</p>\n<pre><code>public class Request {\n    @Valid\n    private List&lt;MyObjects&gt; objects;\n}\n</code></pre>\n<p>How to validate request but instead of returning 400 error code get valid object <code>List</code> and <code>List</code> of errors mapped with raw data?</p>\n"},{"tags":["java","android","multiple-monitors"],"answers":[{"comments":[{"owner":{"account_id":3928971,"reputation":421,"user_id":6251097,"display_name":"LoyalPotato"},"score":0,"creation_date":1701268911,"post_id":77571394,"comment_id":136754864,"body_markdown":"Neither methods are what I wanted.\nFor the first one, I&#39;m just defining a subset of the theme for that specific component (`.CFS`) and it should inherit from the `Theme.MyApp` (I&#39;ve set it with parent as that and still has the same behavior).\n\nThe second one doesn&#39;t work as well, because I&#39;m defining [theme attributes](https://youtu.be/Owkf8DhAOSo?feature=shared&amp;t=216) and not style attributes.","body":"Neither methods are what I wanted. For the first one, I&#39;m just defining a subset of the theme for that specific component (<code>.CFS</code>) and it should inherit from the <code>Theme.MyApp</code> (I&#39;ve set it with parent as that and still has the same behavior).  The second one doesn&#39;t work as well, because I&#39;m defining <a href=\"https://youtu.be/Owkf8DhAOSo?feature=shared&amp;t=216\" rel=\"nofollow noreferrer\">theme attributes</a> and not style attributes."},{"owner":{"account_id":15389411,"reputation":324,"user_id":11102588,"display_name":"Antony Aiwin K X"},"score":0,"creation_date":1701284298,"post_id":77571394,"comment_id":136757882,"body_markdown":"have you tried android:theme=&quot;@style/Theme.MyApp.CFS&quot; in LinearLayout","body":"have you tried android:theme=&quot;@style/Theme.MyApp.CFS&quot; in LinearLayout"}],"tags":[],"owner":{"account_id":15389411,"reputation":324,"user_id":11102588,"display_name":"Antony Aiwin K X"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701263396,"creation_date":1701263006,"answer_id":77571394,"question_id":77571167,"body_markdown":"I think its not working because you defined &#39;android:colorBackground&#39; in a different style named &#39;Theme.MyApp.CFS&#39;. Just define it in the theme itself and it should work fine.\r\n    \r\n\r\n        &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n            &lt;!-- NOTE: The theme is loading the light mode...--&gt;\r\n            &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\ninstead of :\r\n\r\n       &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n       &lt;/style&gt;\r\n    \r\n       &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\r\n            &lt;!-- NOTE: The theme is loading the light mode...--&gt;\r\n            &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\r\n       &lt;/style&gt;\r\n\r\n**Method 2 :**\r\n\r\nYou can achieve this with another method. You have defined the attribute in a separate style named &#39;Theme.MyApp.CFS&#39;. You can add the style attribute instead of background attribute to LinearLayout.\r\n\r\n \r\n\r\n       &lt;LinearLayout \r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/second_screen_theme_wrapper&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            style=&quot;@style/Theme.MyApp.CFS&quot;&gt;\r\n       ...","title":"DayNight mode not working for Presentation dialog on second screen","body":"<p>I think its not working because you defined 'android:colorBackground' in a different style named 'Theme.MyApp.CFS'. Just define it in the theme itself and it should work fine.</p>\n<pre><code>    &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>instead of :</p>\n<pre><code>   &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n   &lt;/style&gt;\n\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\n   &lt;/style&gt;\n</code></pre>\n<p><strong>Method 2 :</strong></p>\n<p>You can achieve this with another method. You have defined the attribute in a separate style named 'Theme.MyApp.CFS'. You can add the style attribute instead of background attribute to LinearLayout.</p>\n<pre><code>   &lt;LinearLayout \n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:id=&quot;@+id/second_screen_theme_wrapper&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        style=&quot;@style/Theme.MyApp.CFS&quot;&gt;\n   ...\n</code></pre>\n"}],"owner":{"account_id":3928971,"reputation":421,"user_id":6251097,"display_name":"LoyalPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701263396,"creation_date":1701260960,"question_id":77571167,"body_markdown":"I&#39;ve got a small test app to test day/night themes in a device with two screens.\r\n\r\nI&#39;ve got a `themes.xml`\r\n```xml\r\n    &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n    &lt;/style&gt;\r\n\r\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\r\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\r\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nAnd the same `theme.xml` in `values-night` folder, with a different color\r\n```xml\r\n   &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n    &lt;/style&gt;\r\n\r\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\r\n        &lt;!-- NOTE: The theme is loading the dark mode...--&gt;\r\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/malibu_2&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nMy `MainActivity` extends `AppCompatActivity` and has this code on the `onCreate`\r\n```java\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        @SuppressLint(&quot;WrongConstant&quot;) DisplayManager displayManager = (DisplayManager) getApplicationContext().getSystemService(Context.DISPLAY_SERVICE);\r\n        var presentationDisplays = displayManager.getDisplays(DisplayManager.DISPLAY_CATEGORY_PRESENTATION);\r\n        var pres = new Pres(this, presentationDisplays[0], R.style.Theme_MyApp_CFS);\r\n        pres.show();\r\n    }\r\n```\r\nThe theme defined for it is the `Theme.MyApp`, set in the manifest file.\r\n\r\nThis `Pres` class is just a class that extends `Presentation` and sets the content view to a layout that&#39;s using the `colorBackground` attribute and showing on the secondary display.\r\n```xml\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/second_screen_theme_wrapper&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;?android:attr/colorBackground&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n...\r\n```\r\n\r\nThe problem is that the presentation doesn&#39;t respect the night mode toggle and shows the theme as if it were the light mode.\r\nThe main activity screen shows the theme with the correct night mode applied (shows the according bg color) but the presentation/dialog doesn&#39;t.\r\n\r\nIs there a way to pass the theme file that&#39;s in night mode specifically or something else? Or do I need to create two themes on `values/theme.xml` for day and night mode and pass one to the constructor of the presentation accordingly?\r\n\r\nThe `minSdk` is set to 21 and `targetSdk` to 33, in case that&#39;s relevant.","title":"DayNight mode not working for Presentation dialog on second screen","body":"<p>I've got a small test app to test day/night themes in a device with two screens.</p>\n<p>I've got a <code>themes.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;/style&gt;\n\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>And the same <code>theme.xml</code> in <code>values-night</code> folder, with a different color</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;/style&gt;\n\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the dark mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/malibu_2&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>My <code>MainActivity</code> extends <code>AppCompatActivity</code> and has this code on the <code>onCreate</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void onCreate(Bundle savedInstanceState) {\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        @SuppressLint(&quot;WrongConstant&quot;) DisplayManager displayManager = (DisplayManager) getApplicationContext().getSystemService(Context.DISPLAY_SERVICE);\n        var presentationDisplays = displayManager.getDisplays(DisplayManager.DISPLAY_CATEGORY_PRESENTATION);\n        var pres = new Pres(this, presentationDisplays[0], R.style.Theme_MyApp_CFS);\n        pres.show();\n    }\n</code></pre>\n<p>The theme defined for it is the <code>Theme.MyApp</code>, set in the manifest file.</p>\n<p>This <code>Pres</code> class is just a class that extends <code>Presentation</code> and sets the content view to a layout that's using the <code>colorBackground</code> attribute and showing on the secondary display.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/second_screen_theme_wrapper&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;?android:attr/colorBackground&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n...\n</code></pre>\n<p>The problem is that the presentation doesn't respect the night mode toggle and shows the theme as if it were the light mode.\nThe main activity screen shows the theme with the correct night mode applied (shows the according bg color) but the presentation/dialog doesn't.</p>\n<p>Is there a way to pass the theme file that's in night mode specifically or something else? Or do I need to create two themes on <code>values/theme.xml</code> for day and night mode and pass one to the constructor of the presentation accordingly?</p>\n<p>The <code>minSdk</code> is set to 21 and <code>targetSdk</code> to 33, in case that's relevant.</p>\n"},{"tags":["java","algorithm","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700743958,"creation_date":1700743213,"answer_id":77536958,"question_id":77536766,"body_markdown":"Where did you get `O(n*m&#178;)` for yours? I see a `O(n*m*log(m))`\r\n\r\n    n-times O(n*...)\r\n      sort-by-m O(mlog(m))\r\n      iterate-over-m //O(m), irrelevant, dominated by previous\r\n\r\nCould be brought down to `O(n*m+m*log(m))`\r\n\r\n    sort trucks by cost ascending O(m*log(m))\r\n    make a int hauled[n] table initialized to zero\r\n    int cost=0\r\n    for each truck: O(m*...)\r\n      for i from left to right: O(n)\r\n        if hauled[i] &lt; k:\r\n          cost+=truck cost\r\n          hauled[i]+=truck capacity\r\n    return cost","title":"Find min cost to carry load","body":"<p>Where did you get <code>O(n*m²)</code> for yours? I see a <code>O(n*m*log(m))</code></p>\n<pre><code>n-times O(n*...)\n  sort-by-m O(mlog(m))\n  iterate-over-m //O(m), irrelevant, dominated by previous\n</code></pre>\n<p>Could be brought down to <code>O(n*m+m*log(m))</code></p>\n<pre><code>sort trucks by cost ascending O(m*log(m))\nmake a int hauled[n] table initialized to zero\nint cost=0\nfor each truck: O(m*...)\n  for i from left to right: O(n)\n    if hauled[i] &lt; k:\n      cost+=truck cost\n      hauled[i]+=truck capacity\nreturn cost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700748314,"creation_date":1700748314,"answer_id":77537524,"question_id":77536766,"body_markdown":"You can solve this in O(m log m) time.\r\n\r\nFirst create two sorted lists of trucks:\r\n - a &quot;left list&quot; of trucks ordered by the day they become available; and\r\n - a &quot;right list&#39; of trucks ordered by the day they become unavailable;\r\n\r\nThen, create an empty [order statistic tree][1] of trucks, ordered by cost.  In each node of the tree, we will record the total capacity of its subtree and the total cost to carry that full capacity for a day.  We will store available trucks in here.\r\n\r\nNow, process all the &quot;important&quot; days, which are the days on which any truck becomes available or unavailable, in order.\r\n\r\nOn each important day:\r\n   - determine the number of preceding days, since the last important day, that you had to carry freight.\r\n   - If that number is not zero, then do a search in the order statistic tree of available trucks to find most expensive truck that you must use, and the total cost and capacity of all the cheaper trucks.  From the result you can calculate the cost per day in the preceding period to carry the required freight.\r\n   - Add all the trucks that become available on the current important day to the tree\r\n   - Remove all the trucks that become unavailable on the current important day from the tree.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Order_statistic_tree","title":"Find min cost to carry load","body":"<p>You can solve this in O(m log m) time.</p>\n<p>First create two sorted lists of trucks:</p>\n<ul>\n<li>a &quot;left list&quot; of trucks ordered by the day they become available; and</li>\n<li>a &quot;right list' of trucks ordered by the day they become unavailable;</li>\n</ul>\n<p>Then, create an empty <a href=\"https://en.wikipedia.org/wiki/Order_statistic_tree\" rel=\"nofollow noreferrer\">order statistic tree</a> of trucks, ordered by cost.  In each node of the tree, we will record the total capacity of its subtree and the total cost to carry that full capacity for a day.  We will store available trucks in here.</p>\n<p>Now, process all the &quot;important&quot; days, which are the days on which any truck becomes available or unavailable, in order.</p>\n<p>On each important day:</p>\n<ul>\n<li>determine the number of preceding days, since the last important day, that you had to carry freight.</li>\n<li>If that number is not zero, then do a search in the order statistic tree of available trucks to find most expensive truck that you must use, and the total cost and capacity of all the cheaper trucks.  From the result you can calculate the cost per day in the preceding period to carry the required freight.</li>\n<li>Add all the trucks that become available on the current important day to the tree</li>\n<li>Remove all the trucks that become unavailable on the current important day from the tree.</li>\n</ul>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77536958,"answer_count":2,"score":3,"last_activity_date":1701263075,"creation_date":1700741441,"question_id":77536766,"body_markdown":"I have `m` trucks to carry load, a given truck is available only on mentioned days from `Left[i] to Right[i]`, the truck capacity is represented as `Capacity[i]` and charges some amount represented as `Cost[i]`\r\n\r\nSo every truck has 4 parameters, day numbers represented as `Left[i] to Right[i] with Capacity[i] and Cost[i]`\r\n\r\nFor given `n` days as input and I need to carry a load of capacity `k` on each day, find the minimum cost to transport the load using the trucks.\r\n\r\n**Example:**\r\n\r\n    n = 5 days\r\n    k = 7 capacity per day\r\n    trucks = [[1,3,5,2], [1,4,5,3], [2,5,10,1]], each item in the array represents Left, Right, Capacity and Cost\r\n\r\n**Answer:**\r\n\r\n    44\r\n\r\n**Explanation:**\r\n\r\n    for trucks[0] = [1,3,5,2] , it is available on days 1 to 3, with truck capacity as 5 and charges 2\r\n    \r\n    I have a task to carry a capacity of k=7 for each day, with number of days as n=5\r\n    \r\n    a) Day 1\r\n    \r\n    Day 1, we have trucks[0] and trucks[1] but lowest cost is for trucks[0] as 2 but it has only capactity as 5\r\n    \r\n    So Day 1, transport 5 items using trucks[0] and 2 items using trucks[1], so cost is 5*2 + 2*3 = 16\r\n    \r\n    b) Day 2, we can pick trucks[2]=[2,5,10,1] because left=2 matches with the day we are looking for also it can carry a capacity of 10 load.\r\n    \r\n    Cost for Day 2 is 7*1 = 7\r\n    \r\n    c) Day 3, pick trucks[2]=[2,5,10,1] because 3 falls in range [2,5], cost for Day 3 is 7*1 = 7\r\n    d) Day 4, pick trucks[2]=[2,5,10,1] because 4 falls in range [2,5], cost for Day 3 is 7*1 = 7\r\n    e) Day 5, pick trucks[2]=[2,5,10,1] because 5 falls in range [2,5], cost for Day 3 is 7*1 = 7\r\n    \r\n    Total cost for all days is = 16+7+7+7+7 = 44\r\n\r\n**Constraints:**\r\n\r\n    n and m range is 1 to 10^4\r\n    Also we always have enough trucks to carry the load for a particular day\r\n\r\nThis is my approach:\r\n\r\n    Use for loop from 1 to number of days\r\n    \tLoop through all the trucks and select the trucks that can carry load in the required days and put them in PriorityQueue that is sorted by cost in descending order.\r\n    \tNext using a loop, poll items from queue, and calculate cost for given day.\r\n\r\nMy code has time complexity of `O(n*m*m)`, how to solve this in less time?\r\n\r\n\r\n\r\n\r\n","title":"Find min cost to carry load","body":"<p>I have <code>m</code> trucks to carry load, a given truck is available only on mentioned days from <code>Left[i] to Right[i]</code>, the truck capacity is represented as <code>Capacity[i]</code> and charges some amount represented as <code>Cost[i]</code></p>\n<p>So every truck has 4 parameters, day numbers represented as <code>Left[i] to Right[i] with Capacity[i] and Cost[i]</code></p>\n<p>For given <code>n</code> days as input and I need to carry a load of capacity <code>k</code> on each day, find the minimum cost to transport the load using the trucks.</p>\n<p><strong>Example:</strong></p>\n<pre><code>n = 5 days\nk = 7 capacity per day\ntrucks = [[1,3,5,2], [1,4,5,3], [2,5,10,1]], each item in the array represents Left, Right, Capacity and Cost\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>44\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>for trucks[0] = [1,3,5,2] , it is available on days 1 to 3, with truck capacity as 5 and charges 2\n\nI have a task to carry a capacity of k=7 for each day, with number of days as n=5\n\na) Day 1\n\nDay 1, we have trucks[0] and trucks[1] but lowest cost is for trucks[0] as 2 but it has only capactity as 5\n\nSo Day 1, transport 5 items using trucks[0] and 2 items using trucks[1], so cost is 5*2 + 2*3 = 16\n\nb) Day 2, we can pick trucks[2]=[2,5,10,1] because left=2 matches with the day we are looking for also it can carry a capacity of 10 load.\n\nCost for Day 2 is 7*1 = 7\n\nc) Day 3, pick trucks[2]=[2,5,10,1] because 3 falls in range [2,5], cost for Day 3 is 7*1 = 7\nd) Day 4, pick trucks[2]=[2,5,10,1] because 4 falls in range [2,5], cost for Day 3 is 7*1 = 7\ne) Day 5, pick trucks[2]=[2,5,10,1] because 5 falls in range [2,5], cost for Day 3 is 7*1 = 7\n\nTotal cost for all days is = 16+7+7+7+7 = 44\n</code></pre>\n<p><strong>Constraints:</strong></p>\n<pre><code>n and m range is 1 to 10^4\nAlso we always have enough trucks to carry the load for a particular day\n</code></pre>\n<p>This is my approach:</p>\n<pre><code>Use for loop from 1 to number of days\n    Loop through all the trucks and select the trucks that can carry load in the required days and put them in PriorityQueue that is sorted by cost in descending order.\n    Next using a loop, poll items from queue, and calculate cost for given day.\n</code></pre>\n<p>My code has time complexity of <code>O(n*m*m)</code>, how to solve this in less time?</p>\n"},{"tags":["java","sdkman"],"comments":[{"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"score":0,"creation_date":1691347247,"post_id":56479242,"comment_id":135476208,"body_markdown":"If you create symlink manually, would the installation or update process override it?","body":"If you create symlink manually, would the installation or update process override it?"}],"answers":[{"tags":[],"owner":{"account_id":1172012,"reputation":11,"user_id":1148977,"display_name":"PeterMue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701262972,"creation_date":1701262972,"answer_id":77571391,"question_id":56479242,"body_markdown":"I solves this with a custom zsh function so I just have to run `sdkman cacerts ~/.cacerts` to symlink all cacerts for all sdkman installed jdks.\r\n\r\n```zsh\r\n# sdkman\r\nsdkman() {\r\n    case $1 in\r\n        --help)\r\n            cat &lt;&lt;EOF\r\nAlias for sdk with additional custom functions.\r\n\r\nUsage: $0 &lt;subcommand&gt; [candidate] [version]\r\n\r\nAdditional Commands\r\n\r\n    $0 --help               Print this help message\r\n    $0 cacerts [cacerts]    Symlink all java cacerts to a custom location (default: ~/.cacerts)\r\n\r\nEOF\r\n            ;;\r\n        cacerts)\r\n            cacerts=&quot;${2:-$HOME/.cacerts}&quot;\r\n            if [[ -f &quot;$cacerts&quot; ]]; then\r\n                for jdk in $(sdk list java | grep installed | sed &#39;s/^.*\\| \\(.*\\)$/\\1/g&#39;); do\r\n                    jdkHome=$(sdk home java $jdk)\r\n                    pushd &quot;$jdkHome/lib/security&quot;\r\n                    mv cacerts cacerts.orginal\r\n                    ln -s &quot;$cacerts&quot; &quot;cacerts&quot;\r\n                    popd\r\n                done\r\n            else\r\n                echo &quot;Abort: file $cacerts not found.&quot;\r\n            fi\r\n            ;;\r\n        *)\r\n            sdk &quot;$@&quot;\r\n    esac\r\n}\r\n```","title":"sdkman hook to link /etc/ssl/java/cacerts to the currently used Java SDK","body":"<p>I solves this with a custom zsh function so I just have to run <code>sdkman cacerts ~/.cacerts</code> to symlink all cacerts for all sdkman installed jdks.</p>\n<pre><code># sdkman\nsdkman() {\n    case $1 in\n        --help)\n            cat &lt;&lt;EOF\nAlias for sdk with additional custom functions.\n\nUsage: $0 &lt;subcommand&gt; [candidate] [version]\n\nAdditional Commands\n\n    $0 --help               Print this help message\n    $0 cacerts [cacerts]    Symlink all java cacerts to a custom location (default: ~/.cacerts)\n\nEOF\n            ;;\n        cacerts)\n            cacerts=&quot;${2:-$HOME/.cacerts}&quot;\n            if [[ -f &quot;$cacerts&quot; ]]; then\n                for jdk in $(sdk list java | grep installed | sed 's/^.*\\| \\(.*\\)$/\\1/g'); do\n                    jdkHome=$(sdk home java $jdk)\n                    pushd &quot;$jdkHome/lib/security&quot;\n                    mv cacerts cacerts.orginal\n                    ln -s &quot;$cacerts&quot; &quot;cacerts&quot;\n                    popd\n                done\n            else\n                echo &quot;Abort: file $cacerts not found.&quot;\n            fi\n            ;;\n        *)\n            sdk &quot;$@&quot;\n    esac\n}\n</code></pre>\n"}],"owner":{"account_id":1280178,"reputation":3130,"user_id":2356160,"accept_rate":55,"display_name":"lathspell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3790,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":1,"score":20,"last_activity_date":1701262972,"creation_date":1559829766,"question_id":56479242,"body_markdown":"Debian has a great mechanism to compile all commonly used CA certificates from Thawte, Let&#39;s Encrypt etc. as well as locally installed ones from `/usr/local/share/ssl` into one `/etc/ssl/certs/java/cacerts` JKS file. That is usually symlinked to `$JAVA_HOME/lib/security/cacerts`.\r\n\r\nWith sdkman I switch between different non-Debian Java versions in `~/.sdkman/candidates/java/current/` which use the *cacerts* provided by the SDK creator.\r\n\r\nIs there some kind of post-inst hook mechanism where I could automatically create a symlink to the Debian *cacerts* file whenever I switch sdkman Java versions?","title":"sdkman hook to link /etc/ssl/java/cacerts to the currently used Java SDK","body":"<p>Debian has a great mechanism to compile all commonly used CA certificates from Thawte, Let's Encrypt etc. as well as locally installed ones from <code>/usr/local/share/ssl</code> into one <code>/etc/ssl/certs/java/cacerts</code> JKS file. That is usually symlinked to <code>$JAVA_HOME/lib/security/cacerts</code>.</p>\n\n<p>With sdkman I switch between different non-Debian Java versions in <code>~/.sdkman/candidates/java/current/</code> which use the <em>cacerts</em> provided by the SDK creator.</p>\n\n<p>Is there some kind of post-inst hook mechanism where I could automatically create a symlink to the Debian <em>cacerts</em> file whenever I switch sdkman Java versions?</p>\n"},{"tags":["java","java-stream","stringbuilder"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1701262271,"post_id":77571274,"comment_id":136753471,"body_markdown":"Can you gives as an input/output example please","body":"Can you gives as an input/output example please"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701262314,"creation_date":1701262314,"answer_id":77571307,"question_id":77571274,"body_markdown":"You don&#39;t need a StringBuilder at all in your example, you can simply use `.collect(Collectors.joining(&quot;\\n&quot;))` to join your strings, your can can be like this:\r\n\r\n    public String question(List&lt;MyPojo&gt; myPojos) {\r\n        return myPojos.stream()\r\n            .map(this::convertToJson) // Convert the object to json string\r\n            .filter(json -&gt; json != null &amp;&amp; !json.isEmpty()) // retrieve non null or empty jsons\r\n            .collect(Collectors.joining(&quot;\\n&quot;)); // combine the result with backline separator\r\n    }\r\n    \r\n    private String convertToJson(MyPojo myPojo) {\r\n        try {\r\n            return objectMapper.writeValueAsString(myPojo);\r\n        } catch (JsonProcessingException e) {\r\n            LOGGER.warn(&quot;bad&quot;);\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"Issue converting stringBuilder + forloop to stream + map","body":"<p>You don't need a StringBuilder at all in your example, you can simply use <code>.collect(Collectors.joining(&quot;\\n&quot;))</code> to join your strings, your can can be like this:</p>\n<pre><code>public String question(List&lt;MyPojo&gt; myPojos) {\n    return myPojos.stream()\n        .map(this::convertToJson) // Convert the object to json string\n        .filter(json -&gt; json != null &amp;&amp; !json.isEmpty()) // retrieve non null or empty jsons\n        .collect(Collectors.joining(&quot;\\n&quot;)); // combine the result with backline separator\n}\n\nprivate String convertToJson(MyPojo myPojo) {\n    try {\n        return objectMapper.writeValueAsString(myPojo);\n    } catch (JsonProcessingException e) {\n        LOGGER.warn(&quot;bad&quot;);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701262889,"creation_date":1701262889,"answer_id":77571380,"question_id":77571274,"body_markdown":"First, calling `Stream.toString` will not give you anything meaningful. It is very unlikely that the `Stream` implementation actually overrides `toString` to give you the elements of the stream all concatenated as strings. You should use `.collectCollectors.joining(&quot;\\n&quot;))` to join everything together.\r\n\r\nSecond, the function you passed to `map` modifies the existing `stringBuilder`. While you will probably get the expected result in `stringBuilder` if the whole stream is consumed, this is not how `map` is designed to be used. You are supposed to return the element that a given element should be transformed into, but the `StringBuilder` you are returning here contains all the results from the previous elements.\r\n\r\nThird, the loop does not append anything to the string builder when an exception occurs, but `Stream.map` transforms every element. To implement this behaviour, you would need `delegate` to return a special value (like an empty string), and `filter` out that value after `map`. Alternatively, use `flatMap(x -&gt; delegate(x).stream())`, where `delegate` returns an `Optional&lt;String&gt;`.\r\n\r\n```\r\npublic String delegate(MyPojo oneMyPojo) {\r\n    try {\r\n        var json = objectMapper.writeValueAsString(oneMyPojo);\r\n        return json;\r\n    } catch (JsonProcessingException e) {\r\n        LOGGER.warn(&quot;bad&quot;);\r\n    }\r\n    return &quot;&quot;;\r\n}\r\n\r\n// ...\r\n\r\nmyPojos.stream()\r\n    .map(onePojo -&gt; delegate(onePojo)) // you can also use a method reference here\r\n    .filter(json -&gt; !json.isEmpty())\r\n    .collect(Collectors.joining(&quot;\\n&quot;));\r\n```\r\n\r\nor\r\n\r\n```\r\npublic Optional&lt;String&gt; delegate(MyPojo oneMyPojo) {\r\n    try {\r\n        var json = objectMapper.writeValueAsString(oneMyPojo);\r\n        return Optional.of(json);\r\n    } catch (JsonProcessingException e) {\r\n        LOGGER.warn(&quot;bad&quot;);\r\n    }\r\n    return Optional.empty();\r\n}\r\n\r\n// ...\r\n\r\nmyPojos.stream()\r\n    .flatMap(onePojo -&gt; delegate(onePojo).stream())\r\n    .collect(Collectors.joining(&quot;\\n&quot;));\r\n```","title":"Issue converting stringBuilder + forloop to stream + map","body":"<p>First, calling <code>Stream.toString</code> will not give you anything meaningful. It is very unlikely that the <code>Stream</code> implementation actually overrides <code>toString</code> to give you the elements of the stream all concatenated as strings. You should use <code>.collectCollectors.joining(&quot;\\n&quot;))</code> to join everything together.</p>\n<p>Second, the function you passed to <code>map</code> modifies the existing <code>stringBuilder</code>. While you will probably get the expected result in <code>stringBuilder</code> if the whole stream is consumed, this is not how <code>map</code> is designed to be used. You are supposed to return the element that a given element should be transformed into, but the <code>StringBuilder</code> you are returning here contains all the results from the previous elements.</p>\n<p>Third, the loop does not append anything to the string builder when an exception occurs, but <code>Stream.map</code> transforms every element. To implement this behaviour, you would need <code>delegate</code> to return a special value (like an empty string), and <code>filter</code> out that value after <code>map</code>. Alternatively, use <code>flatMap(x -&gt; delegate(x).stream())</code>, where <code>delegate</code> returns an <code>Optional&lt;String&gt;</code>.</p>\n<pre><code>public String delegate(MyPojo oneMyPojo) {\n    try {\n        var json = objectMapper.writeValueAsString(oneMyPojo);\n        return json;\n    } catch (JsonProcessingException e) {\n        LOGGER.warn(&quot;bad&quot;);\n    }\n    return &quot;&quot;;\n}\n\n// ...\n\nmyPojos.stream()\n    .map(onePojo -&gt; delegate(onePojo)) // you can also use a method reference here\n    .filter(json -&gt; !json.isEmpty())\n    .collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>public Optional&lt;String&gt; delegate(MyPojo oneMyPojo) {\n    try {\n        var json = objectMapper.writeValueAsString(oneMyPojo);\n        return Optional.of(json);\n    } catch (JsonProcessingException e) {\n        LOGGER.warn(&quot;bad&quot;);\n    }\n    return Optional.empty();\n}\n\n// ...\n\nmyPojos.stream()\n    .flatMap(onePojo -&gt; delegate(onePojo).stream())\n    .collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571307,"answer_count":2,"score":1,"last_activity_date":1701262889,"creation_date":1701261913,"question_id":77571274,"body_markdown":"- What I am trying to achieve:\r\n\r\nI would like to convert a StringBuilder + forloop, like this:\r\n\r\n```\r\npublic String question(List&lt;MyPojo&gt; myPojos) {\r\n    final StringBuilder stringBuilder = new StringBuilder();\r\n    for (MyPojo myPojo : myPojos) {\r\n        try {\r\n            String json = objectMapper.writeValueAsString(myPojo);\r\n            stringBuilder.append(json).append(&quot;\\n&quot;);\r\n        } catch (JsonProcessingException e) {\r\n                LOGGER.warn(&quot;bad&quot;);\r\n        }\r\n    }\r\n    return stringBuilder.toString();\r\n}\r\n```\r\n\r\nInto a stream() structure. This is not for performance, readability, or anything, I just want to try the conversion.\r\n\r\n- What did I try:\r\n\r\n```\r\npublic String question(List&lt;MyPojo&gt; myPojos) {\r\n    var stringBuilder = new StringBuilder();\r\n    return myPojos.stream().map(onePojo -&gt; delegate(onePojo, stringBuilder)).toString();\r\n}\r\n\r\npublic StringBuilder delegate(MyPojo oneMyPojo, StringBuilder stringBuilder) {\r\n    try {\r\n        var json = objectMapper.writeValueAsString(oneMyPojo);\r\n         stringBuilder.append(json).append(&quot;\\n&quot;);\r\n        } catch (JsonProcessingException e) {\r\n                LOGGER.warn(&quot;bad&quot;);\r\n    }\r\n    return stringBuilder;\r\n}\r\n```\r\n\r\n- Issue\r\n\r\nUnfortunately, the result string is not at all the same as the one provided by the for loop.\r\n\r\n- Question\r\n\r\nWhat did I miss in my code?","title":"Issue converting stringBuilder + forloop to stream + map","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>I would like to convert a StringBuilder + forloop, like this:</p>\n<pre><code>public String question(List&lt;MyPojo&gt; myPojos) {\n    final StringBuilder stringBuilder = new StringBuilder();\n    for (MyPojo myPojo : myPojos) {\n        try {\n            String json = objectMapper.writeValueAsString(myPojo);\n            stringBuilder.append(json).append(&quot;\\n&quot;);\n        } catch (JsonProcessingException e) {\n                LOGGER.warn(&quot;bad&quot;);\n        }\n    }\n    return stringBuilder.toString();\n}\n</code></pre>\n<p>Into a stream() structure. This is not for performance, readability, or anything, I just want to try the conversion.</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<pre><code>public String question(List&lt;MyPojo&gt; myPojos) {\n    var stringBuilder = new StringBuilder();\n    return myPojos.stream().map(onePojo -&gt; delegate(onePojo, stringBuilder)).toString();\n}\n\npublic StringBuilder delegate(MyPojo oneMyPojo, StringBuilder stringBuilder) {\n    try {\n        var json = objectMapper.writeValueAsString(oneMyPojo);\n         stringBuilder.append(json).append(&quot;\\n&quot;);\n        } catch (JsonProcessingException e) {\n                LOGGER.warn(&quot;bad&quot;);\n    }\n    return stringBuilder;\n}\n</code></pre>\n<ul>\n<li>Issue</li>\n</ul>\n<p>Unfortunately, the result string is not at all the same as the one provided by the for loop.</p>\n<ul>\n<li>Question</li>\n</ul>\n<p>What did I miss in my code?</p>\n"},{"tags":["java","el","el-processor"],"answers":[{"comments":[{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":1,"creation_date":1701260951,"post_id":77571111,"comment_id":136753236,"body_markdown":"What you suggest `${sys[&#39;com.foo.bar&#39;]}` is what I am doing now. But to get it I do: `this.eLProcessor.defineBean(&quot;sys&quot;, System.getProperties())`.","body":"What you suggest <code>${sys[&#39;com.foo.bar&#39;]}</code> is what I am doing now. But to get it I do: <code>this.eLProcessor.defineBean(&quot;sys&quot;, System.getProperties())</code>."},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1701261047,"post_id":77571111,"comment_id":136753250,"body_markdown":"Of course! That&#39;s also a way, I was overthinking a bit :)","body":"Of course! That&#39;s also a way, I was overthinking a bit :)"},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1701261877,"post_id":77571111,"comment_id":136753388,"body_markdown":"Log4j2 supports such syntax - https://logging.apache.org/log4j/2.x/manual/lookups.html#system-properties-lookup But I can&#39;t understand what EL processor they use - https://github.com/apache/logging-log4j2/blob/rel/2.21.1/log4j-core/pom.xml","body":"Log4j2 supports such syntax - <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#system-properties-lookup\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a> But I can&#39;t understand what EL processor they use - <a href=\"https://github.com/apache/logging-log4j2/blob/rel/2.21.1/log4j-core/pom.xml\" rel=\"nofollow noreferrer\">github.com/apache/logging-log4j2/blob/rel/2.21.1/log4j-core/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1701262188,"post_id":77571111,"comment_id":136753455,"body_markdown":"They use (a copy of) Apache Commons Text `StringSubstitor`: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html","body":"They use (a copy of) Apache Commons Text <code>StringSubstitor</code>: <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"}],"tags":[],"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701262674,"creation_date":1701260472,"answer_id":77571111,"question_id":77570558,"body_markdown":"You&#39;ve undoubtedly seen this in Maven / Spring / Log4j related XML configuration files. Unfortunately, they don&#39;t use Jakarta EL to resolve them. They use under the covers [Apache Commons Text `StringSubstitutor`][1] for this. And, Jakarta EL doesn&#39;t support this [syntax][2] in first place. It would already die with a syntax error before even having the chance to hit any custom EL listener or EL resolver.\r\n\r\nWith Jakarta EL, your best bet is to change the syntax to `${sys[&#39;com.foo.bar&#39;]}` and add a custom [`ELResolver`][3] which recognizes `${sys}` as a special kind of base and then resolves the rest via [`System#getProperty()`][4].\r\n\r\nHere&#39;s a kickoff working example of such EL resolver:\r\n\r\n```java\r\npublic class SystemPropertyELResolver extends ELResolver {\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getCommonPropertyType(ELContext context, Object base) {\r\n        return (base == this) ? String.class : null;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getType(ELContext context, Object base, Object property) {\r\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\r\n            context.setPropertyResolved(true);\r\n            return getClass();\r\n        }\r\n        else if (base == this &amp;&amp; property != null) {\r\n            context.setPropertyResolved(true);\r\n            return getCommonPropertyType(context, base);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Object getValue(ELContext context, Object base, Object property) {\r\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\r\n            context.setPropertyResolved(true);\r\n            return this;\r\n        }\r\n        else if (base == this &amp;&amp; property != null) {\r\n            context.setPropertyResolved(true);\r\n            return System.getProperty(property.toString());\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void setValue(ELContext context, Object base, Object property, Object val) {\r\n        // NOOP.\r\n    }\r\n\r\n    @Override\r\n    public boolean isReadOnly(ELContext context, Object base, Object property) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;FeatureDescriptor&gt; getFeatureDescriptors(ELContext context, Object base) {\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn order to get it to run, register it as follows:\r\n\r\n```java\r\nelProcessor.getELManager().addELResolver(new SystemPropertyELResolver());\r\n```\r\n\r\n---\r\n\r\nHowever, in the *specific* case of `System#getProperty()`, there&#39;s another, yet simpler, way to &quot;define a variable with namespace&quot;. As [`System#getProperties()`][5] already returns an instance of  `java.util.Map`, the built-in [`jakarta.el.MapELResolver`][6] could be used to take care of it while using the same syntax of `${sys[&#39;com.foo.bar&#39;]}`. \r\n\r\n```java\r\nelProcessor.defineBean(&quot;sys&quot;, System.getProperties());\r\n```\r\n\r\nThis only doesn&#39;t offer you the opportunity to further customize the EL resolving.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\r\n  [2]: https://jakarta.ee/specifications/expression-language/5.0/jakarta-expression-language-spec-5.0#syntax-restrictions\r\n  [3]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/elresolver\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperties()\r\n  [6]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/mapelresolver","title":"How to define variable with namespace in EL processor?","body":"<p>You've undoubtedly seen this in Maven / Spring / Log4j related XML configuration files. Unfortunately, they don't use Jakarta EL to resolve them. They use under the covers <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">Apache Commons Text <code>StringSubstitutor</code></a> for this. And, Jakarta EL doesn't support this <a href=\"https://jakarta.ee/specifications/expression-language/5.0/jakarta-expression-language-spec-5.0#syntax-restrictions\" rel=\"nofollow noreferrer\">syntax</a> in first place. It would already die with a syntax error before even having the chance to hit any custom EL listener or EL resolver.</p>\n<p>With Jakarta EL, your best bet is to change the syntax to <code>${sys['com.foo.bar']}</code> and add a custom <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/elresolver\" rel=\"nofollow noreferrer\"><code>ELResolver</code></a> which recognizes <code>${sys}</code> as a special kind of base and then resolves the rest via <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System#getProperty()</code></a>.</p>\n<p>Here's a kickoff working example of such EL resolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SystemPropertyELResolver extends ELResolver {\n\n    @Override\n    public Class&lt;?&gt; getCommonPropertyType(ELContext context, Object base) {\n        return (base == this) ? String.class : null;\n    }\n\n    @Override\n    public Class&lt;?&gt; getType(ELContext context, Object base, Object property) {\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\n            context.setPropertyResolved(true);\n            return getClass();\n        }\n        else if (base == this &amp;&amp; property != null) {\n            context.setPropertyResolved(true);\n            return getCommonPropertyType(context, base);\n        }\n\n        return null;\n    }\n\n    @Override\n    public Object getValue(ELContext context, Object base, Object property) {\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\n            context.setPropertyResolved(true);\n            return this;\n        }\n        else if (base == this &amp;&amp; property != null) {\n            context.setPropertyResolved(true);\n            return System.getProperty(property.toString());\n        }\n\n        return null;\n    }\n\n    @Override\n    public void setValue(ELContext context, Object base, Object property, Object val) {\n        // NOOP.\n    }\n\n    @Override\n    public boolean isReadOnly(ELContext context, Object base, Object property) {\n        return true;\n    }\n\n    @Override\n    public Iterator&lt;FeatureDescriptor&gt; getFeatureDescriptors(ELContext context, Object base) {\n        return null;\n    }\n\n}\n</code></pre>\n<p>In order to get it to run, register it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>elProcessor.getELManager().addELResolver(new SystemPropertyELResolver());\n</code></pre>\n<hr />\n<p>However, in the <em>specific</em> case of <code>System#getProperty()</code>, there's another, yet simpler, way to &quot;define a variable with namespace&quot;. As <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\"><code>System#getProperties()</code></a> already returns an instance of  <code>java.util.Map</code>, the built-in <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/mapelresolver\" rel=\"nofollow noreferrer\"><code>jakarta.el.MapELResolver</code></a> could be used to take care of it while using the same syntax of <code>${sys['com.foo.bar']}</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>elProcessor.defineBean(&quot;sys&quot;, System.getProperties());\n</code></pre>\n<p>This only doesn't offer you the opportunity to further customize the EL resolving.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571111,"answer_count":1,"score":1,"last_activity_date":1701262674,"creation_date":1701255667,"question_id":77570558,"body_markdown":"In some XML files I saw something like this `&lt;tag attr=&quot;${sys:com.foo.bar}&quot;/&gt;` where it is meant that `${sys:com.foo.bar}` will be replaced to `System.getProperty(&quot;com.foo.bar&quot;)`.\r\n\r\nI want my EL processor to support such feature. However, I can&#39;t find how to do it.\r\n\r\n    ELProcessor elProcessor = new ELProcessor();\r\n    elProcessor. ???\r\n\r\nThe only method that has prefix is `defineFunction`, but as I understand this is not what I need:\r\n\r\n    this.elProcessor.defineFunction(prefix, function, method);\r\n    this.elProcessor.defineFunction(prefix, function, className, method);\r\n\r\nCould anyone say how to make my EL processor to work with variables with namespaces?","title":"How to define variable with namespace in EL processor?","body":"<p>In some XML files I saw something like this <code>&lt;tag attr=&quot;${sys:com.foo.bar}&quot;/&gt;</code> where it is meant that <code>${sys:com.foo.bar}</code> will be replaced to <code>System.getProperty(&quot;com.foo.bar&quot;)</code>.</p>\n<p>I want my EL processor to support such feature. However, I can't find how to do it.</p>\n<pre><code>ELProcessor elProcessor = new ELProcessor();\nelProcessor. ???\n</code></pre>\n<p>The only method that has prefix is <code>defineFunction</code>, but as I understand this is not what I need:</p>\n<pre><code>this.elProcessor.defineFunction(prefix, function, method);\nthis.elProcessor.defineFunction(prefix, function, className, method);\n</code></pre>\n<p>Could anyone say how to make my EL processor to work with variables with namespaces?</p>\n"},{"tags":["java","command-line","command-line-arguments"],"comments":[{"owner":{"account_id":38310,"reputation":165,"user_id":109882,"display_name":"Jakub"},"score":0,"creation_date":1346234198,"post_id":367706,"comment_id":112599480,"body_markdown":"I wouldn&#39;t recommend using `Apache Common CLI` library, as it is non-threadsafe. It uses stateful classes with static variables and methods to do internal work (e.g. `OptionBuilder`) and should only be used in single-threaded strongly controlled situations.","body":"I wouldn&#39;t recommend using <code>Apache Common CLI</code> library, as it is non-threadsafe. It uses stateful classes with static variables and methods to do internal work (e.g. <code>OptionBuilder</code>) and should only be used in single-threaded strongly controlled situations."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":17,"creation_date":1346309377,"post_id":367706,"comment_id":112599481,"body_markdown":"It&#39;s good to keep in mind CLI library is not thread-safe. However, I would assume command-line parsing is usually done in a single thread during application startup, and then, depending on parameters, other threads may be started.","body":"It&#39;s good to keep in mind CLI library is not thread-safe. However, I would assume command-line parsing is usually done in a single thread during application startup, and then, depending on parameters, other threads may be started."},{"owner":{"account_id":271958,"reputation":127857,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"score":6,"creation_date":1360846016,"post_id":367706,"comment_id":20854917,"body_markdown":"See args4j and a detailed example how to use it: http://martin-thoma.com/how-to-parse-command-line-arguments-in-java/","body":"See args4j and a detailed example how to use it: <a href=\"http://martin-thoma.com/how-to-parse-command-line-arguments-in-java/\" rel=\"nofollow noreferrer\">martin-thoma.com/how-to-parse-command-line-arguments-in-java</a>"},{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":0,"creation_date":1407075859,"post_id":367706,"comment_id":39068600,"body_markdown":"Looks like I&#39;m pretty late to this party, but I wrote a command-line argument handler for Java and put it on GitHub: [MainArgsHandler](https://github.com/Bobulous/uk.org.bobulous.java.startup). As for the thread being closed, I think this is a very helpful thread, but it should possibly be migrated to the Stack Exchange Programmers site for general programming discussion.","body":"Looks like I&#39;m pretty late to this party, but I wrote a command-line argument handler for Java and put it on GitHub: <a href=\"https://github.com/Bobulous/uk.org.bobulous.java.startup\" rel=\"nofollow noreferrer\">MainArgsHandler</a>. As for the thread being closed, I think this is a very helpful thread, but it should possibly be migrated to the Stack Exchange Programmers site for general programming discussion."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1430802547,"post_id":367706,"comment_id":48204690,"body_markdown":"@RedGlyph - It looks like SO/SE need to simplify their rules. The question should have been: `How to parse java command line arguments?`.\nBut no one really want to write code to do this but rather use a tool. But searching for tools and the likes isn&#39;t constructive :(","body":"@RedGlyph - It looks like SO/SE need to simplify their rules. The question should have been: <code>How to parse java command line arguments?</code>. But no one really want to write code to do this but rather use a tool. But searching for tools and the likes isn&#39;t constructive :("},{"owner":{"account_id":61628,"reputation":11365,"user_id":183575,"accept_rate":50,"display_name":"RedGlyph"},"score":14,"creation_date":1436115608,"post_id":367706,"comment_id":50464250,"body_markdown":"Voted for reopening. @AlikElzin: Indeed, they do need to review their moderating process. I suspect there&#39;s a badge for closing so many questions, and that it&#39;s luring want-to-be-moderators to be overzealous.","body":"Voted for reopening. @AlikElzin: Indeed, they do need to review their moderating process. I suspect there&#39;s a badge for closing so many questions, and that it&#39;s luring want-to-be-moderators to be overzealous."},{"owner":{"account_id":2809239,"reputation":41961,"user_id":2415822,"accept_rate":94,"display_name":"JAL"},"score":9,"creation_date":1436208387,"post_id":367706,"comment_id":50503589,"body_markdown":"This question is a honeypot for bad/one-line answers and tool recommendations.  It should remain closed.","body":"This question is a honeypot for bad/one-line answers and tool recommendations.  It should remain closed."},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1447078149,"post_id":367706,"comment_id":54996146,"body_markdown":"You can also find libraries tagged with &quot;Command Line Parsers&quot; in [mvnrepository.com](http://mvnrepository.com/open-source/command-line-parsers)","body":"You can also find libraries tagged with &quot;Command Line Parsers&quot; in <a href=\"http://mvnrepository.com/open-source/command-line-parsers\" rel=\"nofollow noreferrer\">mvnrepository.com</a>"}],"answers":[{"comments":[{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":61,"creation_date":1341837817,"post_id":367714,"comment_id":15022395,"body_markdown":"Note that unlike many other Apache libraries, Apache CLI has no dependencies.","body":"Note that unlike many other Apache libraries, Apache CLI has no dependencies."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":11,"creation_date":1347897303,"post_id":367714,"comment_id":16762398,"body_markdown":"The one downside to many apache-commons projects is they get fewer and fewer commits and eventually end up obsoleted.","body":"The one downside to many apache-commons projects is they get fewer and fewer commits and eventually end up obsoleted."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":5,"creation_date":1354546080,"post_id":367714,"comment_id":18788564,"body_markdown":"Here&#39;s the &quot;Usage Scenarios&quot; page for the Apache CLI project, detailing how to quickly start using it: http://commons.apache.org/cli/usage.html","body":"Here&#39;s the &quot;Usage Scenarios&quot; page for the Apache CLI project, detailing how to quickly start using it: <a href=\"http://commons.apache.org/cli/usage.html\" rel=\"nofollow noreferrer\">commons.apache.org/cli/usage.html</a>"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1420519486,"post_id":367714,"comment_id":43994001,"body_markdown":"I don&#39;t suppose there is one exactly like Args4J/JCommander except where you define an interface and annotate the methods? I never have been able to grow fond of classes which &quot;spooky initialise&quot; private fields...","body":"I don&#39;t suppose there is one exactly like Args4J/JCommander except where you define an interface and annotate the methods? I never have been able to grow fond of classes which &quot;spooky initialise&quot; private fields..."},{"owner":{"account_id":457589,"reputation":6475,"user_id":857012,"accept_rate":90,"display_name":"Rag"},"score":0,"creation_date":1424831096,"post_id":367714,"comment_id":45709039,"body_markdown":"@CedricBeust Doesn&#39;t support `--variable=value` style arguments?","body":"@CedricBeust Doesn&#39;t support <code>--variable=value</code> style arguments?"},{"owner":{"account_id":211203,"reputation":4578,"user_id":463225,"accept_rate":67,"display_name":"WattsInABox"},"score":1,"creation_date":1525713315,"post_id":367714,"comment_id":87455676,"body_markdown":"@BrettRyan it&#39;s up to everyone in the community to make sure Apache projects stay alive. Open source isn&#39;t easy, it takes a village, other cliches here, please.","body":"@BrettRyan it&#39;s up to everyone in the community to make sure Apache projects stay alive. Open source isn&#39;t easy, it takes a village, other cliches here, please."},{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":21,"creation_date":1554723005,"post_id":367714,"comment_id":97843462,"body_markdown":"@RemkoPopma your picocli library looks just great and thank you for doing it, really. But I consider what you are doing here and in other posts (edit accepted answers and promote your library at the top of it without even disclosing it&#39;s an edit not from post&#39;s original author and it&#39;s your lib) a horrible horrible abuse of your moderation powers. Flagging this to other mods.","body":"@RemkoPopma your picocli library looks just great and thank you for doing it, really. But I consider what you are doing here and in other posts (edit accepted answers and promote your library at the top of it without even disclosing it&#39;s an edit not from post&#39;s original author and it&#39;s your lib) a horrible horrible abuse of your moderation powers. Flagging this to other mods."},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":2,"creation_date":1555026310,"post_id":367714,"comment_id":97975378,"body_markdown":"@AlexanderMalakhov I want to rectify one thing: [anyone](https://stackoverflow.com/help/privileges) can edit (no moderation powers needed) and editing is [encouraged](https://stackoverflow.com/help/editing) to keep posts relevant and up to date (the current answer is 10 years old). That said, good edits should be balanced to avoid being considered spam and must disclose affiliation. Thank you for pointing that out.","body":"@AlexanderMalakhov I want to rectify one thing: <a href=\"https://stackoverflow.com/help/privileges\">anyone</a> can edit (no moderation powers needed) and editing is <a href=\"https://stackoverflow.com/help/editing\">encouraged</a> to keep posts relevant and up to date (the current answer is 10 years old). That said, good edits should be balanced to avoid being considered spam and must disclose affiliation. Thank you for pointing that out."},{"owner":{"account_id":241904,"reputation":4316,"user_id":513038,"accept_rate":55,"display_name":"Erhannis"},"score":0,"creation_date":1630194740,"post_id":367714,"comment_id":121889995,"body_markdown":"I tried commons-cli, jsap, and argparse4j, for about an hour, and liked jsap the most.  Thanks!","body":"I tried commons-cli, jsap, and argparse4j, for about an hour, and liked jsap the most.  Thanks!"},{"owner":{"account_id":15929856,"reputation":199,"user_id":11494528,"display_name":"jazz64"},"score":0,"creation_date":1652529471,"post_id":367714,"comment_id":127631033,"body_markdown":"In the past I used commons-cli, but was really unhappy. Now I found a better solution with picocli as mentioned below ;-)","body":"In the past I used commons-cli, but was really unhappy. Now I found a better solution with picocli as mentioned below ;-)"}],"tags":[],"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"comment_count":10,"down_vote_count":4,"up_vote_count":517,"is_accepted":true,"score":513,"last_activity_date":1624481730,"creation_date":1229327355,"answer_id":367714,"question_id":367706,"body_markdown":"Check these out:\r\n\r\n - http://commons.apache.org/cli/\r\n - http://www.martiansoftware.com/jsap/\r\n\r\n\r\nOr roll your own:\r\n\r\n - http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n\r\n----\r\n\r\n**For instance,** this is how you use [`commons-cli`][1] to parse 2 string arguments:\r\n\r\n\r\n    import org.apache.commons.cli.*;\r\n    \r\n    public class Main {\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            Options options = new Options();\r\n    \r\n            Option input = new Option(&quot;i&quot;, &quot;input&quot;, true, &quot;input file path&quot;);\r\n            input.setRequired(true);\r\n            options.addOption(input);\r\n    \r\n            Option output = new Option(&quot;o&quot;, &quot;output&quot;, true, &quot;output file&quot;);\r\n            output.setRequired(true);\r\n            options.addOption(output);\r\n    \r\n            CommandLineParser parser = new DefaultParser();\r\n            HelpFormatter formatter = new HelpFormatter();\r\n            CommandLine cmd = null;//not a good practice, it serves it purpose \r\n    \r\n            try {\r\n                cmd = parser.parse(options, args);\r\n            } catch (ParseException e) {\r\n                System.out.println(e.getMessage());\r\n                formatter.printHelp(&quot;utility-name&quot;, options);\r\n    \r\n                System.exit(1);\r\n            }\r\n    \r\n            String inputFilePath = cmd.getOptionValue(&quot;input&quot;);\r\n            String outputFilePath = cmd.getOptionValue(&quot;output&quot;);\r\n    \r\n            System.out.println(inputFilePath);\r\n            System.out.println(outputFilePath);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nusage from command line:\r\n\r\n    $&gt; java -jar target/my-utility.jar -i asd                                                                                       \r\n    Missing required option: o\r\n    \r\n    usage: utility-name\r\n     -i,--input &lt;arg&gt;    input file path\r\n     -o,--output &lt;arg&gt;   output file\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/commons-cli/commons-cli/1.3.1","title":"How do I parse command line arguments in Java?","body":"<p>Check these out:</p>\n<ul>\n<li><a href=\"http://commons.apache.org/cli/\" rel=\"noreferrer\">http://commons.apache.org/cli/</a></li>\n<li><a href=\"http://www.martiansoftware.com/jsap/\" rel=\"noreferrer\">http://www.martiansoftware.com/jsap/</a></li>\n</ul>\n<p>Or roll your own:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></li>\n</ul>\n<hr />\n<p><strong>For instance,</strong> this is how you use <a href=\"https://mvnrepository.com/artifact/commons-cli/commons-cli/1.3.1\" rel=\"noreferrer\"><code>commons-cli</code></a> to parse 2 string arguments:</p>\n<pre><code>import org.apache.commons.cli.*;\n\npublic class Main {\n\n\n    public static void main(String[] args) throws Exception {\n\n        Options options = new Options();\n\n        Option input = new Option(&quot;i&quot;, &quot;input&quot;, true, &quot;input file path&quot;);\n        input.setRequired(true);\n        options.addOption(input);\n\n        Option output = new Option(&quot;o&quot;, &quot;output&quot;, true, &quot;output file&quot;);\n        output.setRequired(true);\n        options.addOption(output);\n\n        CommandLineParser parser = new DefaultParser();\n        HelpFormatter formatter = new HelpFormatter();\n        CommandLine cmd = null;//not a good practice, it serves it purpose \n\n        try {\n            cmd = parser.parse(options, args);\n        } catch (ParseException e) {\n            System.out.println(e.getMessage());\n            formatter.printHelp(&quot;utility-name&quot;, options);\n\n            System.exit(1);\n        }\n\n        String inputFilePath = cmd.getOptionValue(&quot;input&quot;);\n        String outputFilePath = cmd.getOptionValue(&quot;output&quot;);\n\n        System.out.println(inputFilePath);\n        System.out.println(outputFilePath);\n\n    }\n\n}\n</code></pre>\n<p>usage from command line:</p>\n<pre><code>$&gt; java -jar target/my-utility.jar -i asd                                                                                       \nMissing required option: o\n\nusage: utility-name\n -i,--input &lt;arg&gt;    input file path\n -o,--output &lt;arg&gt;   output file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"comment_count":0,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1229327400,"creation_date":1229327400,"answer_id":367716,"question_id":367706,"body_markdown":"Take a look at the [Commons CLI][1] project, lots of good stuff in there.\r\n\r\n\r\n  [1]: http://commons.apache.org/cli/","title":"How do I parse command line arguments in Java?","body":"<p>Take a look at the <a href=\"http://commons.apache.org/cli/\" rel=\"noreferrer\">Commons CLI</a> project, lots of good stuff in there.</p>\n"},{"tags":[],"owner":{"account_id":18760,"reputation":2690,"user_id":43312,"accept_rate":60,"display_name":"mepcotterell"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1555025001,"creation_date":1229327403,"answer_id":367717,"question_id":367706,"body_markdown":"Maybe these\r\n\r\n  - [JArgs command line option parsing\r\n    suite for Java][2] - this tiny project provides a convenient, compact, pre-packaged and comprehensively documented suite of command line option parsers for the use of Java programmers. Initially, parsing compatible with GNU-style &#39;getopt&#39; is provided. \r\n\r\n  - [ritopt, The Ultimate Options Parser for Java][3] - Although, several command line option standards have been preposed, ritopt follows the conventions prescribed in the opt package.\r\n\r\n\r\n  [1]: http://picocli.info/\r\n  [2]: http://jargs.sourceforge.net/\r\n  [3]: http://ritopt.sourceforge.net/","title":"How do I parse command line arguments in Java?","body":"<p>Maybe these</p>\n\n<ul>\n<li><p><a href=\"http://jargs.sourceforge.net/\" rel=\"nofollow noreferrer\">JArgs command line option parsing\nsuite for Java</a> - this tiny project provides a convenient, compact, pre-packaged and comprehensively documented suite of command line option parsers for the use of Java programmers. Initially, parsing compatible with GNU-style 'getopt' is provided. </p></li>\n<li><p><a href=\"http://ritopt.sourceforge.net/\" rel=\"nofollow noreferrer\">ritopt, The Ultimate Options Parser for Java</a> - Although, several command line option standards have been preposed, ritopt follows the conventions prescribed in the opt package.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1229327456,"creation_date":1229327456,"answer_id":367718,"question_id":367706,"body_markdown":"I&#39;ve used JOpt and found it quite handy: http://jopt-simple.sourceforge.net/\r\n\r\nThe front page also provides a list of about 8 alternative libraries, check them out and pick the one that most suits your needs.","title":"How do I parse command line arguments in Java?","body":"<p>I've used JOpt and found it quite handy: <a href=\"http://jopt-simple.sourceforge.net/\" rel=\"noreferrer\">http://jopt-simple.sourceforge.net/</a></p>\n\n<p>The front page also provides a list of about 8 alternative libraries, check them out and pick the one that most suits your needs.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1229327498,"creation_date":1229327498,"answer_id":367719,"question_id":367706,"body_markdown":"Yeap.\r\n\r\nI think you&#39;re looking for something like this:\r\n&lt;http://commons.apache.org/cli&gt;\r\n\r\n&gt;*The Apache Commons CLI library provides an API for processing command line interfaces.*","title":"How do I parse command line arguments in Java?","body":"<p>Yeap.</p>\n\n<p>I think you're looking for something like this:\n<a href=\"http://commons.apache.org/cli\" rel=\"noreferrer\">http://commons.apache.org/cli</a></p>\n\n<blockquote>\n  <p><em>The Apache Commons CLI library provides an API for processing command line interfaces.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1518134859,"creation_date":1229328241,"answer_id":367734,"question_id":367706,"body_markdown":"If you are familiar with gnu getopt, there is a Java port at: http://www.urbanophile.com/arenn/hacking/download.htm.\r\n\r\nThere appears to be a some classes that do this: \r\n\r\n * *http://docs.sun.com/source/816-5618-10/netscape/ldap/util/GetOpt.html*\r\n * *http://xml.apache.org/xalan-j/apidocs/org/apache/xalan/xsltc/cmdline/getopt/GetOpt.html*\r\n","title":"How do I parse command line arguments in Java?","body":"<p>If you are familiar with gnu getopt, there is a Java port at: <a href=\"http://www.urbanophile.com/arenn/hacking/download.htm\" rel=\"nofollow noreferrer\">http://www.urbanophile.com/arenn/hacking/download.htm</a>.</p>\n\n<p>There appears to be a some classes that do this: </p>\n\n<ul>\n<li><em><a href=\"http://docs.sun.com/source/816-5618-10/netscape/ldap/util/GetOpt.html\" rel=\"nofollow noreferrer\">http://docs.sun.com/source/816-5618-10/netscape/ldap/util/GetOpt.html</a></em></li>\n<li><em><a href=\"http://xml.apache.org/xalan-j/apidocs/org/apache/xalan/xsltc/cmdline/getopt/GetOpt.html\" rel=\"nofollow noreferrer\">http://xml.apache.org/xalan-j/apidocs/org/apache/xalan/xsltc/cmdline/getopt/GetOpt.html</a></em></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":60339,"reputation":1476,"user_id":180290,"accept_rate":67,"display_name":"Zearin"},"score":1,"creation_date":1374162368,"post_id":369212,"comment_id":25841939,"body_markdown":"+1 for Args4J!  Extremely human-friendly, flexible, and understandable.  I think it should be the standard go-to library for building Java CLI apps.","body":"+1 for Args4J!  Extremely human-friendly, flexible, and understandable.  I think it should be the standard go-to library for building Java CLI apps."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1486502781,"post_id":369212,"comment_id":71370771,"body_markdown":"Great that it can handle unordered (sorted by field order) usage print, that JCommander can&#39;t, and it&#39;s more flexible.","body":"Great that it can handle unordered (sorted by field order) usage print, that JCommander can&#39;t, and it&#39;s more flexible."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1512046599,"post_id":369212,"comment_id":82104760,"body_markdown":"@DanielH&#225;ri Just for information, this functionnality was added in JCommander (sometime along late february 2017).","body":"@DanielH&#225;ri Just for information, this functionnality was added in JCommander (sometime along late february 2017)."},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1632403396,"post_id":369212,"comment_id":122486740,"body_markdown":"Suggestion: You might want to add an example to your answer, which would be more helpful than just an external link.","body":"Suggestion: You might want to add an example to your answer, which would be more helpful than just an external link."}],"tags":[],"owner":{"account_id":5888,"reputation":13051,"user_id":9683,"accept_rate":75,"display_name":"Andr&#233;"},"comment_count":4,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1366288784,"creation_date":1229364478,"answer_id":369212,"question_id":367706,"body_markdown":"Someone pointed me to [args4j][1] lately which is annotation based. I really like it!\r\n\r\n\r\n  [1]: http://github.com/kohsuke/args4j","title":"How do I parse command line arguments in Java?","body":"<p>Someone pointed me to <a href=\"http://github.com/kohsuke/args4j\" rel=\"noreferrer\">args4j</a> lately which is annotation based. I really like it!</p>\n"},{"comments":[{"owner":{"account_id":82277,"reputation":17617,"user_id":231463,"accept_rate":86,"display_name":"NorthIsUp"},"score":0,"creation_date":1288050273,"post_id":3337023,"comment_id":4309807,"body_markdown":"Using it now and loving it! I would like to see automatic parsing of the - and -- for single char vs string arguments. i.e. &quot;h&quot; vs &quot;-h&quot; and &quot;help&quot; vs &quot;--help&quot;","body":"Using it now and loving it! I would like to see automatic parsing of the - and -- for single char vs string arguments. i.e. &quot;h&quot; vs &quot;-h&quot; and &quot;help&quot; vs &quot;--help&quot;"},{"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"score":9,"creation_date":1288059199,"post_id":3337023,"comment_id":4310435,"body_markdown":"Glad you like JCommander :-)  I didn&#39;t want to add too much semantic to how the flags are treated, so you just need to add synonyms in the annotations you use:\n\n\n@Parameter(names = { &quot;-h&quot;, &quot;--help&quot; })\n\n\nI thought it&#39;s a reasonable compromise.","body":"Glad you like JCommander :-)  I didn&#39;t want to add too much semantic to how the flags are treated, so you just need to add synonyms in the annotations you use:   @Parameter(names = { &quot;-h&quot;, &quot;--help&quot; })   I thought it&#39;s a reasonable compromise."},{"owner":{"account_id":33597,"reputation":1926,"user_id":94159,"accept_rate":83,"display_name":"Ian Gilham"},"score":15,"creation_date":1318004278,"post_id":3337023,"comment_id":9348855,"body_markdown":"Great tool. Powerful, flexible, and you don&#39;t have to deal with the annoying, traditional option parsers.","body":"Great tool. Powerful, flexible, and you don&#39;t have to deal with the annoying, traditional option parsers."},{"owner":{"account_id":66663,"reputation":1579,"user_id":195463,"display_name":"SRG"},"score":3,"creation_date":1331337670,"post_id":3337023,"comment_id":12241960,"body_markdown":"Yup, i think i would have wrote my own command line argument parser the exact same way you wrote JCommander. Great work.","body":"Yup, i think i would have wrote my own command line argument parser the exact same way you wrote JCommander. Great work."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":10,"creation_date":1347897041,"post_id":3337023,"comment_id":16762271,"body_markdown":"@CedricBeust, this is a brilliant library, I thank you very much. Since we can define our own Args classes that can then be passed around without any dependency on a libraries class it makes it extremely flexible.","body":"@CedricBeust, this is a brilliant library, I thank you very much. Since we can define our own Args classes that can then be passed around without any dependency on a libraries class it makes it extremely flexible."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":3,"creation_date":1372874745,"post_id":3337023,"comment_id":25360804,"body_markdown":"blows the competition out of the water!","body":"blows the competition out of the water!"},{"owner":{"account_id":2069125,"reputation":3006,"user_id":1843978,"accept_rate":93,"display_name":"vmrob"},"score":0,"creation_date":1398100556,"post_id":3337023,"comment_id":35490078,"body_markdown":"Like the library, but you should update the link! Some of the links in that one are broken (Javadocs, for example).","body":"Like the library, but you should update the link! Some of the links in that one are broken (Javadocs, for example)."},{"owner":{"account_id":282657,"reputation":21077,"user_id":579689,"accept_rate":54,"display_name":"Talespin_Kit"},"score":0,"creation_date":1463682730,"post_id":3337023,"comment_id":62181166,"body_markdown":"I am new to Java, but still this package is so easy to use and worked like charm. Great package","body":"I am new to Java, but still this package is so easy to use and worked like charm. Great package"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1466501185,"post_id":3337023,"comment_id":63329917,"body_markdown":"Downside is that it doesn&#39;t have automatic help message generation :(","body":"Downside is that it doesn&#39;t have automatic help message generation :("},{"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"score":1,"creation_date":1466603620,"post_id":3337023,"comment_id":63386279,"body_markdown":"@Qix:  It does: just call the `usage()` method on your JCommander object and you&#39;ll see a help screen with all your parameters and their description.","body":"@Qix:  It does: just call the <code>usage()</code> method on your JCommander object and you&#39;ll see a help screen with all your parameters and their description."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1486502629,"post_id":3337023,"comment_id":71370701,"body_markdown":"Great tool, but can&#39;t handle unordered usage help (to be ordered by the field order), so I use args4j instead of.","body":"Great tool, but can&#39;t handle unordered usage help (to be ordered by the field order), so I use args4j instead of."},{"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"score":0,"creation_date":1486592627,"post_id":3337023,"comment_id":71417603,"body_markdown":"@DanielH&#225;ri I&#39;m open to adding this to JCommander, although since the field order can&#39;t be reliably instrospected, it would probably be an integer attribute on the `@Parameter` annotation.","body":"@DanielH&#225;ri I&#39;m open to adding this to JCommander, although since the field order can&#39;t be reliably instrospected, it would probably be an integer attribute on the <code>@Parameter</code> annotation."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1486838096,"post_id":3337023,"comment_id":71522375,"body_markdown":"@CedricBeust Why can&#39;t reliably introspected? Other libraries can solve field order by default and without integer parameter. See: JAXB, Gson, Args4j, etc...","body":"@CedricBeust Why can&#39;t reliably introspected? Other libraries can solve field order by default and without integer parameter. See: JAXB, Gson, Args4j, etc..."},{"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"score":0,"creation_date":1486927901,"post_id":3337023,"comment_id":71546280,"body_markdown":"I mean that just because you list your fields in a certain order in your class doesn&#39;t mean the introspection API will return them in that order. You will need to specify them manually with an annotation. I can add that, feel free to file an issue on github.","body":"I mean that just because you list your fields in a certain order in your class doesn&#39;t mean the introspection API will return them in that order. You will need to specify them manually with an annotation. I can add that, feel free to file an issue on github."},{"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"score":0,"creation_date":1486934776,"post_id":3337023,"comment_id":71548935,"body_markdown":"I just released a new JCommander that allows you to order the options in the usage():  http://jcommander.org/#_usage","body":"I just released a new JCommander that allows you to order the options in the usage():  <a href=\"http://jcommander.org/#_usage\" rel=\"nofollow noreferrer\">jcommander.org/#_usage</a>"},{"owner":{"account_id":6269319,"reputation":65,"user_id":4873997,"display_name":"Nan Wang"},"score":0,"creation_date":1585039509,"post_id":3337023,"comment_id":107619787,"body_markdown":"I like JCommander. Is it possible to have just a class-level annotation (specify a CLI style), so as to avoid all annotations on each fields, like lombok does?","body":"I like JCommander. Is it possible to have just a class-level annotation (specify a CLI style), so as to avoid all annotations on each fields, like lombok does?"},{"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"score":0,"creation_date":1591172842,"post_id":3337023,"comment_id":109951007,"body_markdown":"Does it support sub-programs/sub-parsers? I would like to have different arguments for `myprog foo ...` and different for `myprog bar`. Is it possible?","body":"Does it support sub-programs/sub-parsers? I would like to have different arguments for <code>myprog foo ...</code> and different for <code>myprog bar</code>. Is it possible?"}],"tags":[],"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"comment_count":17,"down_vote_count":4,"up_vote_count":330,"is_accepted":false,"score":326,"last_activity_date":1412017297,"creation_date":1280163178,"answer_id":3337023,"question_id":367706,"body_markdown":"Take a look at the more recent [JCommander](http://jcommander.org/).\r\n\r\nI created it. I’m happy to receive questions or feature requests.","title":"How do I parse command line arguments in Java?","body":"<p>Take a look at the more recent <a href=\"http://jcommander.org/\" rel=\"noreferrer\">JCommander</a>.</p>\n\n<p>I created it. I’m happy to receive questions or feature requests.</p>\n"},{"comments":[{"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"score":8,"creation_date":1320084343,"post_id":7829772,"comment_id":9727909,"body_markdown":"@Ben Flynn hehe, there are some quite surprising and interesting shaped wheels in there. I guess its a mostly harmless way to show that there&#39;s many more than one way to do it!","body":"@Ben Flynn hehe, there are some quite surprising and interesting shaped wheels in there. I guess its a mostly harmless way to show that there&#39;s many more than one way to do it!"},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":18,"creation_date":1330089809,"post_id":7829772,"comment_id":11925181,"body_markdown":"I note the author of JOpt Simple maintains a very similar list! What we need text is to turn these lists into a table, listing features and points of interest, so us poor users can make an informed choice.","body":"I note the author of JOpt Simple maintains a very similar list! What we need text is to turn these lists into a table, listing features and points of interest, so us poor users can make an informed choice."},{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":0,"creation_date":1366992286,"post_id":7829772,"comment_id":23233556,"body_markdown":"Feel free to add https://github.com/Softhouse/jargo to that list. It&#39;s pretty stable by now. Some early feedback from this community would be greatly appreciated.","body":"Feel free to add <a href=\"https://github.com/Softhouse/jargo\" rel=\"nofollow noreferrer\">github.com/Softhouse/jargo</a> to that list. It&#39;s pretty stable by now. Some early feedback from this community would be greatly appreciated."},{"owner":{"account_id":256670,"reputation":16061,"user_id":537554,"display_name":"ryenus"},"score":1,"creation_date":1387351479,"post_id":7829772,"comment_id":30917100,"body_markdown":"I&#39;ve built [Rop](http://central.maven.org/maven2/com/github/ryenus/rop/) - [github.com/ryenus/rop](https://github.com/ryenus/rop), which features annotation based solution that you declare commands and options via plain classes and fields, pretty much a declarative way to build command line parsers. it can build either Git (single-cmd) or Maven (multi-cmd) like apps.","body":"I&#39;ve built <a href=\"http://central.maven.org/maven2/com/github/ryenus/rop/\" rel=\"nofollow noreferrer\">Rop</a> - <a href=\"https://github.com/ryenus/rop\" rel=\"nofollow noreferrer\">github.com/ryenus/rop</a>, which features annotation based solution that you declare commands and options via plain classes and fields, pretty much a declarative way to build command line parsers. it can build either Git (single-cmd) or Maven (multi-cmd) like apps."},{"owner":{"account_id":11224,"reputation":1711,"user_id":21548,"display_name":"bernardn"},"score":1,"creation_date":1424349822,"post_id":7829772,"comment_id":45517501,"body_markdown":"Yours is the best: jewel-cli,I use it all the time.","body":"Yours is the best: jewel-cli,I use it all the time."},{"owner":{"account_id":88881,"reputation":37434,"user_id":245602,"accept_rate":55,"display_name":"George Hawkins"},"score":15,"creation_date":1506344827,"post_id":7829772,"comment_id":79769390,"body_markdown":"Most of the projects listed are essentially abandonware. After going through the list I&#39;d say the big hitters, that are actively maintained and popular, seem to commons-cli, jcommander, args4j, jopt-simple and picocli. Apologies to the authors of things like argparse4j and cli-parser - I had to make a somewhat arbitrary ranking, and chose a top five, clearly other projects in the list are popular and still under active development too.","body":"Most of the projects listed are essentially abandonware. After going through the list I&#39;d say the big hitters, that are actively maintained and popular, seem to commons-cli, jcommander, args4j, jopt-simple and picocli. Apologies to the authors of things like argparse4j and cli-parser - I had to make a somewhat arbitrary ranking, and chose a top five, clearly other projects in the list are popular and still under active development too."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1539526092,"post_id":7829772,"comment_id":92525384,"body_markdown":"...and here is a [video of a truck with 72 wheels](https://www.youtube.com/watch?v=B_ksZ4gLsfA) -__________________________________-","body":"...and here is a <a href=\"https://www.youtube.com/watch?v=B_ksZ4gLsfA\" rel=\"nofollow noreferrer\">video of a truck with 72 wheels</a> -__________________________________-"},{"owner":{"account_id":6349824,"reputation":176,"user_id":4929247,"accept_rate":100,"display_name":"Sledge"},"score":4,"creation_date":1554086821,"post_id":7829772,"comment_id":97609650,"body_markdown":"I challenge someone to include the date of the last stable release of each parser.","body":"I challenge someone to include the date of the last stable release of each parser."},{"owner":{"account_id":7023916,"reputation":1284,"user_id":5434860,"accept_rate":40,"display_name":"retodaredevil"},"score":0,"creation_date":1568064715,"post_id":7829772,"comment_id":102149068,"body_markdown":"Your jewel-cli library is very nice. It&#39;s very unique compared to other libraries I&#39;ve come across because using interfaces remove a lot of bloat and allow for nice multiple inheritance.","body":"Your jewel-cli library is very nice. It&#39;s very unique compared to other libraries I&#39;ve come across because using interfaces remove a lot of bloat and allow for nice multiple inheritance."}],"tags":[],"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"comment_count":9,"down_vote_count":0,"up_vote_count":260,"is_accepted":false,"score":260,"last_activity_date":1625999407,"creation_date":1319070096,"answer_id":7829772,"question_id":367706,"body_markdown":"I have been trying to maintain a [list of Java CLI parsers][1].\r\n\r\n - [**Airline**](https://github.com/airlift/airline)\r\n   - Active Fork: https://github.com/rvesse/airline\r\n - [**argparse4j**](https://github.com/tatsuhiro-t/argparse4j)\r\n - [**argparser**](http://www.cs.ubc.ca/spider/lloyd/java/argparser.html)\r\n - [**args4j**](http://args4j.kohsuke.org/)\r\n - [**clajr**](http://clajr.sourceforge.net/)\r\n - [**cli-parser**](http://code.google.com/p/cli-parser/)\r\n - [**CmdLn**](http://ostermiller.org/utils/CmdLn.html)\r\n - [**Commandline**](https://github.com/jankroken/commandline)\r\n - [**DocOpt.java**](https://github.com/docopt/docopt.java)\r\n - [**dolphin getopt**](http://dolphin.sourceforge.net/getopt/)\r\n - [**DPML CLI (Jakarta Commons CLI2 fork)**](http://www.dpml.net/util/cli/index.html)\r\n - [**Dr. Matthias Laux**](http://www.javaworld.com/javaworld/jw-08-2004/jw-0816-command.html)\r\n - [**Jakarta Commons CLI**](http://jakarta.apache.org/commons/cli/)\r\n - [**jargo**](https://github.com/Softhouse/jargo)\r\n - [**jargp**](http://jargp.sourceforge.net/)\r\n - [**jargs**](http://jargs.sourceforge.net/)\r\n - [**java-getopt**](http://www.urbanophile.com/arenn/hacking/download.html)\r\n - [**jbock**](https://github.com/jbock-java/jbock)\r\n - [**JCLAP**](http://www.snaq.net/java/JCLAP/)\r\n - [**jcmdline**](http://jcmdline.sourceforge.net/)\r\n - [**jcommander**](http://jcommander.org/)\r\n - [**jcommando**](http://jcommando.sourceforge.net/)\r\n - [**jewelcli (written by me)**](http://jewelcli.lexicalscope.com/)\r\n - [**JOpt simple**](http://jopt-simple.sourceforge.net)\r\n - [**jsap**](http://www.martiansoftware.com/jsap/)\r\n - [**naturalcli**](http://naturalcli.sourceforge.net/)\r\n - [**Object Mentor CLI article (more about refactoring and TDD)**](http://www.objectmentor.com/resources/articles/Clean_Code_Args.pdf)\r\n - [**parse-cmd**](http://code.google.com/p/parse-cmd/)\r\n - [**ritopt**](http://ritopt.sourceforge.net/)\r\n - [**Rop**](http://ryenus.github.io/rop/)\r\n - [**TE-Code Command**](http://te-code.sourceforge.net/)\r\n - [**picocli**](http://picocli.info) has ANSI colorized usage help and autocomplete\r\n\r\n  [1]: http://jewelcli.lexicalscope.com/related.html\r\n","title":"How do I parse command line arguments in Java?","body":"<p>I have been trying to maintain a <a href=\"http://jewelcli.lexicalscope.com/related.html\" rel=\"noreferrer\">list of Java CLI parsers</a>.</p>\n<ul>\n<li><a href=\"https://github.com/airlift/airline\" rel=\"noreferrer\"><strong>Airline</strong></a>\n<ul>\n<li>Active Fork: <a href=\"https://github.com/rvesse/airline\" rel=\"noreferrer\">https://github.com/rvesse/airline</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/tatsuhiro-t/argparse4j\" rel=\"noreferrer\"><strong>argparse4j</strong></a></li>\n<li><a href=\"http://www.cs.ubc.ca/spider/lloyd/java/argparser.html\" rel=\"noreferrer\"><strong>argparser</strong></a></li>\n<li><a href=\"http://args4j.kohsuke.org/\" rel=\"noreferrer\"><strong>args4j</strong></a></li>\n<li><a href=\"http://clajr.sourceforge.net/\" rel=\"noreferrer\"><strong>clajr</strong></a></li>\n<li><a href=\"http://code.google.com/p/cli-parser/\" rel=\"noreferrer\"><strong>cli-parser</strong></a></li>\n<li><a href=\"http://ostermiller.org/utils/CmdLn.html\" rel=\"noreferrer\"><strong>CmdLn</strong></a></li>\n<li><a href=\"https://github.com/jankroken/commandline\" rel=\"noreferrer\"><strong>Commandline</strong></a></li>\n<li><a href=\"https://github.com/docopt/docopt.java\" rel=\"noreferrer\"><strong>DocOpt.java</strong></a></li>\n<li><a href=\"http://dolphin.sourceforge.net/getopt/\" rel=\"noreferrer\"><strong>dolphin getopt</strong></a></li>\n<li><a href=\"http://www.dpml.net/util/cli/index.html\" rel=\"noreferrer\"><strong>DPML CLI (Jakarta Commons CLI2 fork)</strong></a></li>\n<li><a href=\"http://www.javaworld.com/javaworld/jw-08-2004/jw-0816-command.html\" rel=\"noreferrer\"><strong>Dr. Matthias Laux</strong></a></li>\n<li><a href=\"http://jakarta.apache.org/commons/cli/\" rel=\"noreferrer\"><strong>Jakarta Commons CLI</strong></a></li>\n<li><a href=\"https://github.com/Softhouse/jargo\" rel=\"noreferrer\"><strong>jargo</strong></a></li>\n<li><a href=\"http://jargp.sourceforge.net/\" rel=\"noreferrer\"><strong>jargp</strong></a></li>\n<li><a href=\"http://jargs.sourceforge.net/\" rel=\"noreferrer\"><strong>jargs</strong></a></li>\n<li><a href=\"http://www.urbanophile.com/arenn/hacking/download.html\" rel=\"noreferrer\"><strong>java-getopt</strong></a></li>\n<li><a href=\"https://github.com/jbock-java/jbock\" rel=\"noreferrer\"><strong>jbock</strong></a></li>\n<li><a href=\"http://www.snaq.net/java/JCLAP/\" rel=\"noreferrer\"><strong>JCLAP</strong></a></li>\n<li><a href=\"http://jcmdline.sourceforge.net/\" rel=\"noreferrer\"><strong>jcmdline</strong></a></li>\n<li><a href=\"http://jcommander.org/\" rel=\"noreferrer\"><strong>jcommander</strong></a></li>\n<li><a href=\"http://jcommando.sourceforge.net/\" rel=\"noreferrer\"><strong>jcommando</strong></a></li>\n<li><a href=\"http://jewelcli.lexicalscope.com/\" rel=\"noreferrer\"><strong>jewelcli (written by me)</strong></a></li>\n<li><a href=\"http://jopt-simple.sourceforge.net\" rel=\"noreferrer\"><strong>JOpt simple</strong></a></li>\n<li><a href=\"http://www.martiansoftware.com/jsap/\" rel=\"noreferrer\"><strong>jsap</strong></a></li>\n<li><a href=\"http://naturalcli.sourceforge.net/\" rel=\"noreferrer\"><strong>naturalcli</strong></a></li>\n<li><a href=\"http://www.objectmentor.com/resources/articles/Clean_Code_Args.pdf\" rel=\"noreferrer\"><strong>Object Mentor CLI article (more about refactoring and TDD)</strong></a></li>\n<li><a href=\"http://code.google.com/p/parse-cmd/\" rel=\"noreferrer\"><strong>parse-cmd</strong></a></li>\n<li><a href=\"http://ritopt.sourceforge.net/\" rel=\"noreferrer\"><strong>ritopt</strong></a></li>\n<li><a href=\"http://ryenus.github.io/rop/\" rel=\"noreferrer\"><strong>Rop</strong></a></li>\n<li><a href=\"http://te-code.sourceforge.net/\" rel=\"noreferrer\"><strong>TE-Code Command</strong></a></li>\n<li><a href=\"http://picocli.info\" rel=\"noreferrer\"><strong>picocli</strong></a> has ANSI colorized usage help and autocomplete</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":85265,"reputation":39803,"user_id":237838,"accept_rate":86,"display_name":"Andrew Barber"},"score":0,"creation_date":1346768836,"post_id":12265563,"comment_id":16445914,"body_markdown":"Welcome to Stack Overflow! Thanks for posting your answer! Please be sure to read the [FAQ on Self-Promotion](http://stackoverflow.com/faq#promotion) carefully.","body":"Welcome to Stack Overflow! Thanks for posting your answer! Please be sure to read the <a href=\"http://stackoverflow.com/faq#promotion\">FAQ on Self-Promotion</a> carefully."}],"tags":[],"owner":{"account_id":1810165,"reputation":404,"user_id":1646411,"display_name":"Tatsuhiro Tsujikawa"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1346768673,"creation_date":1346768673,"answer_id":12265563,"question_id":367706,"body_markdown":"I wrote another one: http://argparse4j.sourceforge.net/\r\n\r\nArgparse4j is a command line argument parser library for Java, based on Python&#39;s argparse.","title":"How do I parse command line arguments in Java?","body":"<p>I wrote another one: <a href=\"http://argparse4j.sourceforge.net/\" rel=\"noreferrer\">http://argparse4j.sourceforge.net/</a></p>\n\n<p>Argparse4j is a command line argument parser library for Java, based on Python's argparse.</p>\n"},{"tags":[],"owner":{"account_id":1070899,"reputation":4977,"user_id":1070215,"display_name":"cthiebaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518134936,"creation_date":1365494252,"answer_id":15896393,"question_id":367706,"body_markdown":"[airline @ Github][1] looks good. It is based on annotation and is trying to emulate Git command line structures.\r\n\r\n  [1]: https://github.com/airlift/airline &quot;Airline is a Java annotation-based framework for parsing Git like command line structures.&quot;\r\n","title":"How do I parse command line arguments in Java?","body":"<p><a href=\"https://github.com/airlift/airline\" rel=\"nofollow noreferrer\" title=\"Airline is a Java annotation-based framework for parsing Git like command line structures.\">airline @ Github</a> looks good. It is based on annotation and is trying to emulate Git command line structures.</p>\n"},{"comments":[{"owner":{"account_id":902304,"reputation":52117,"user_id":938111,"accept_rate":84,"display_name":"oHo"},"score":0,"creation_date":1505319931,"post_id":41022241,"comment_id":79367926,"body_markdown":"Hi Paul. When I read your answer or your project documentation I do not have any idea what kind of command line it can handle. For instance, you may provide something like `myexecutable -c file.json -d 42 --outdir ./out`. And I do not see how you define short/long/description options... Cheers","body":"Hi Paul. When I read your answer or your project documentation I do not have any idea what kind of command line it can handle. For instance, you may provide something like <code>myexecutable -c file.json -d 42 --outdir .&#47;out</code>. And I do not see how you define short/long/description options... Cheers"}],"tags":[],"owner":{"account_id":746324,"reputation":595,"user_id":735217,"display_name":"Paul"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1518134998,"creation_date":1481127223,"answer_id":41022241,"question_id":367706,"body_markdown":"This is Google&#39;s command line parsing library open-sourced as part of the Bazel project. Personally I think it&#39;s the best one out there, and far easier than Apache CLI.\r\n\r\n&lt;https://github.com/pcj/google-options&gt;\r\n\r\n# Installation\r\n\r\n### Bazel\r\n\r\n    maven_jar(\r\n        name = &quot;com_github_pcj_google_options&quot;,\r\n        artifact = &quot;com.github.pcj:google-options:jar:1.0.0&quot;,\r\n        sha1 = &quot;85d54fe6771e5ff0d54827b0a3315c3e12fdd0c7&quot;,\r\n    )\r\n\r\n### Gradle\r\n\r\n    dependencies {\r\n      compile &#39;com.github.pcj:google-options:1.0.0&#39;\r\n    }\r\n\r\n### Maven\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.pcj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-options&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n# Usage\r\n\r\nCreate a class that extends `OptionsBase` and defines your `@Option`(s).\r\n\r\n    package example;\r\n    \r\n    import com.google.devtools.common.options.Option;\r\n    import com.google.devtools.common.options.OptionsBase;\r\n    \r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Command-line options definition for example server.\r\n     */\r\n    public class ServerOptions extends OptionsBase {\r\n    \r\n      @Option(\r\n          name = &quot;help&quot;,\r\n          abbrev = &#39;h&#39;,\r\n          help = &quot;Prints usage info.&quot;,\r\n          defaultValue = &quot;true&quot;\r\n        )\r\n      public boolean help;\r\n    \r\n      @Option(\r\n          name = &quot;host&quot;,\r\n          abbrev = &#39;o&#39;,\r\n          help = &quot;The server host.&quot;,\r\n          category = &quot;startup&quot;,\r\n          defaultValue = &quot;&quot;\r\n      )\r\n      public String host;\r\n    \r\n      @Option(\r\n        name = &quot;port&quot;,\r\n        abbrev = &#39;p&#39;,\r\n        help = &quot;The server port.&quot;,\r\n        category = &quot;startup&quot;,\r\n        defaultValue = &quot;8080&quot;\r\n        )\r\n        public int port;\r\n    \r\n      @Option(\r\n        name = &quot;dir&quot;,\r\n        abbrev = &#39;d&#39;,\r\n        help = &quot;Name of directory to serve static files.&quot;,\r\n        category = &quot;startup&quot;,\r\n        allowMultiple = true,\r\n        defaultValue = &quot;&quot;\r\n        )\r\n        public List&lt;String&gt; dirs;\r\n    \r\n    }\r\n\r\nParse the arguments and use them.\r\n\r\n    package example;\r\n    \r\n    import com.google.devtools.common.options.OptionsParser;\r\n    import java.util.Collections;\r\n    \r\n    public class Server {\r\n    \r\n      public static void main(String[] args) {\r\n        OptionsParser parser = OptionsParser.newOptionsParser(ServerOptions.class);\r\n        parser.parseAndExitUponError(args);\r\n        ServerOptions options = parser.getOptions(ServerOptions.class);\r\n        if (options.host.isEmpty() || options.port &lt; 0 || options.dirs.isEmpty()) {\r\n          printUsage(parser);\r\n          return;\r\n        }\r\n    \r\n        System.out.format(&quot;Starting server at %s:%d...\\n&quot;, options.host, options.port);\r\n        for (String dirname : options.dirs) {\r\n          System.out.format(&quot;\\\\--&gt; Serving static files at &lt;%s&gt;\\n&quot;, dirname);\r\n        }\r\n      }\r\n    \r\n      private static void printUsage(OptionsParser parser) {\r\n        System.out.println(&quot;Usage: java -jar server.jar OPTIONS&quot;);\r\n        System.out.println(parser.describeOptions(Collections.&lt;String, String&gt;emptyMap(),\r\n                                                  OptionsParser.HelpVerbosity.LONG));\r\n      }\r\n    \r\n    }\r\n\r\n&lt;https://github.com/pcj/google-options&gt;\r\n","title":"How do I parse command line arguments in Java?","body":"<p>This is Google's command line parsing library open-sourced as part of the Bazel project. Personally I think it's the best one out there, and far easier than Apache CLI.</p>\n\n<p><a href=\"https://github.com/pcj/google-options\" rel=\"noreferrer\">https://github.com/pcj/google-options</a></p>\n\n<h1>Installation</h1>\n\n<h3>Bazel</h3>\n\n<pre><code>maven_jar(\n    name = \"com_github_pcj_google_options\",\n    artifact = \"com.github.pcj:google-options:jar:1.0.0\",\n    sha1 = \"85d54fe6771e5ff0d54827b0a3315c3e12fdd0c7\",\n)\n</code></pre>\n\n<h3>Gradle</h3>\n\n<pre><code>dependencies {\n  compile 'com.github.pcj:google-options:1.0.0'\n}\n</code></pre>\n\n<h3>Maven</h3>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.pcj&lt;/groupId&gt;\n  &lt;artifactId&gt;google-options&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>Usage</h1>\n\n<p>Create a class that extends <code>OptionsBase</code> and defines your <code>@Option</code>(s).</p>\n\n<pre><code>package example;\n\nimport com.google.devtools.common.options.Option;\nimport com.google.devtools.common.options.OptionsBase;\n\nimport java.util.List;\n\n/**\n * Command-line options definition for example server.\n */\npublic class ServerOptions extends OptionsBase {\n\n  @Option(\n      name = \"help\",\n      abbrev = 'h',\n      help = \"Prints usage info.\",\n      defaultValue = \"true\"\n    )\n  public boolean help;\n\n  @Option(\n      name = \"host\",\n      abbrev = 'o',\n      help = \"The server host.\",\n      category = \"startup\",\n      defaultValue = \"\"\n  )\n  public String host;\n\n  @Option(\n    name = \"port\",\n    abbrev = 'p',\n    help = \"The server port.\",\n    category = \"startup\",\n    defaultValue = \"8080\"\n    )\n    public int port;\n\n  @Option(\n    name = \"dir\",\n    abbrev = 'd',\n    help = \"Name of directory to serve static files.\",\n    category = \"startup\",\n    allowMultiple = true,\n    defaultValue = \"\"\n    )\n    public List&lt;String&gt; dirs;\n\n}\n</code></pre>\n\n<p>Parse the arguments and use them.</p>\n\n<pre><code>package example;\n\nimport com.google.devtools.common.options.OptionsParser;\nimport java.util.Collections;\n\npublic class Server {\n\n  public static void main(String[] args) {\n    OptionsParser parser = OptionsParser.newOptionsParser(ServerOptions.class);\n    parser.parseAndExitUponError(args);\n    ServerOptions options = parser.getOptions(ServerOptions.class);\n    if (options.host.isEmpty() || options.port &lt; 0 || options.dirs.isEmpty()) {\n      printUsage(parser);\n      return;\n    }\n\n    System.out.format(\"Starting server at %s:%d...\\n\", options.host, options.port);\n    for (String dirname : options.dirs) {\n      System.out.format(\"\\\\--&gt; Serving static files at &lt;%s&gt;\\n\", dirname);\n    }\n  }\n\n  private static void printUsage(OptionsParser parser) {\n    System.out.println(\"Usage: java -jar server.jar OPTIONS\");\n    System.out.println(parser.describeOptions(Collections.&lt;String, String&gt;emptyMap(),\n                                              OptionsParser.HelpVerbosity.LONG));\n  }\n\n}\n</code></pre>\n\n<p><a href=\"https://github.com/pcj/google-options\" rel=\"noreferrer\">https://github.com/pcj/google-options</a></p>\n"},{"comments":[{"owner":{"account_id":141766,"reputation":16744,"user_id":349043,"accept_rate":95,"display_name":"Pete"},"score":8,"creation_date":1535775051,"post_id":43780433,"comment_id":91200546,"body_markdown":"Pure genius!  It&#39;s a shame this answer is buried at the bottom.  Apache Commons CLI is verbose, buggy, and hasn&#39;t been updated in a long time.  And I don&#39;t want to use Google&#39;s CLI parser because I don&#39;t want targeted advertisements based on my command line argument usage history.  But it looks a little more verbose than picocli anyway.","body":"Pure genius!  It&#39;s a shame this answer is buried at the bottom.  Apache Commons CLI is verbose, buggy, and hasn&#39;t been updated in a long time.  And I don&#39;t want to use Google&#39;s CLI parser because I don&#39;t want targeted advertisements based on my command line argument usage history.  But it looks a little more verbose than picocli anyway."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":4,"creation_date":1569929129,"post_id":43780433,"comment_id":102747214,"body_markdown":"I second @Pete here... I went through the list above which was a complete waste of time with this buried at the bottom. This should be the top answer by a mile. Great job!\nMy requirements couldn&#39;t be covered by apache CLI or most of these other parsers. They were challenging even for picocli but it was able to give me the closest thing to the syntax/behavior I wanted and was flexible enough to hack to what I really needed. As a bonus it&#39;s great looking thanks to the ANSI stuff.","body":"I second @Pete here... I went through the list above which was a complete waste of time with this buried at the bottom. This should be the top answer by a mile. Great job! My requirements couldn&#39;t be covered by apache CLI or most of these other parsers. They were challenging even for picocli but it was able to give me the closest thing to the syntax/behavior I wanted and was flexible enough to hack to what I really needed. As a bonus it&#39;s great looking thanks to the ANSI stuff."},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":1,"creation_date":1570009888,"post_id":43780433,"comment_id":102776363,"body_markdown":"@ShaiAlmog The top-voted answer is 10 years old and outdated. I agree that recommending Commons CLI in 2019 is misleading IMHO. Please consider [rewriting](https://stackoverflow.com/help/editing) the top answer to make it more up to date.","body":"@ShaiAlmog The top-voted answer is 10 years old and outdated. I agree that recommending Commons CLI in 2019 is misleading IMHO. Please consider <a href=\"https://stackoverflow.com/help/editing\">rewriting</a> the top answer to make it more up to date."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1570071227,"post_id":43780433,"comment_id":102800611,"body_markdown":"I see you already tried that, I don&#39;t think that will work for me either... If you would have chosen a name like 1Picoli we could have sorted the 3rd answer alphabetically  ;-)","body":"I see you already tried that, I don&#39;t think that will work for me either... If you would have chosen a name like 1Picoli we could have sorted the 3rd answer alphabetically  ;-)"},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1570071581,"post_id":43780433,"comment_id":102800667,"body_markdown":"I think the reason my change was reverted is that I didn’t disclose my affiliation (that I’m the author). Other people should not have that issue.","body":"I think the reason my change was reverted is that I didn’t disclose my affiliation (that I’m the author). Other people should not have that issue."},{"owner":{"account_id":141766,"reputation":16744,"user_id":349043,"accept_rate":95,"display_name":"Pete"},"score":1,"creation_date":1578429576,"post_id":43780433,"comment_id":105433768,"body_markdown":"@RemkoPopma I added `pico` to the accepted answer.  Hopefully it sticks.","body":"@RemkoPopma I added <code>pico</code> to the accepted answer.  Hopefully it sticks."},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1584431300,"post_id":43780433,"comment_id":107427133,"body_markdown":"this is the correct answer ! you cannot go wrong with this library","body":"this is the correct answer ! you cannot go wrong with this library"},{"owner":{"account_id":15929856,"reputation":199,"user_id":11494528,"display_name":"jazz64"},"score":1,"creation_date":1652529784,"post_id":43780433,"comment_id":127631092,"body_markdown":"Thank you Remko (one up from me)! I tried your picocli and was able to use it in a simple tool of mine. Now I&#39;m really happy (with commons-cli in the past, I always had to write a wrapper to keep my code clean: one extra class, too much extra code).","body":"Thank you Remko (one up from me)! I tried your picocli and was able to use it in a simple tool of mine. Now I&#39;m really happy (with commons-cli in the past, I always had to write a wrapper to keep my code clean: one extra class, too much extra code)."},{"owner":{"account_id":17743950,"reputation":744,"user_id":12883608,"display_name":"SinaMobasheri"},"score":1,"creation_date":1659100363,"post_id":43780433,"comment_id":129221698,"body_markdown":"before I found this library (picocli) I thought that there was no better option for creating cli programs other than cobra and golang, now it&#39;s different there is another powerful option for cli programs (of course I mean picocli and java)","body":"before I found this library (picocli) I thought that there was no better option for creating cli programs other than cobra and golang, now it&#39;s different there is another powerful option for cli programs (of course I mean picocli and java)"}],"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":9,"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1646385285,"creation_date":1493893904,"answer_id":43780433,"question_id":367706,"body_markdown":"&gt; *It is 2022, time to do better than Commons CLI... :-)*\r\n\r\nShould you build your own Java command line parser, or use a library?\r\n\r\nMany small utility-like applications probably roll their own command line parsing to avoid the additional external dependency. [picocli][1] may be an interesting alternative.\r\n\r\nPicocli is a modern library and framework for building powerful, user-friendly, GraalVM-enabled command line apps with ease. It lives in 1 source file so apps can include it as source to avoid adding a dependency.\r\n\r\nIt supports colors, autocompletion, subcommands, and more. Written in Java, usable from Groovy, Kotlin, Scala, etc.\r\n\r\n[![Minimal usage help with ANSI colors][2]][2]\r\n\r\nFeatures:\r\n\r\n* Annotation based: **declarative**, **avoids duplication** and **expresses** programmer **intent**\r\n* Convenient: parse user input and run your business logic with **one line of code**\r\n* **Strongly typed** everything - command line options as well as positional parameters\r\n* POSIX clustered short options (`&lt;command&gt; -xvfInputFile` as well as `&lt;command&gt; -x -v -f InputFile`)\r\n* **Fine-grained control**: an arity model that allows a minimum, maximum and variable number of parameters, e.g, `&quot;1..*&quot;`, `&quot;3..5&quot;`\r\n* **Subcommands** (can be nested to arbitrary depth)\r\n* **Feature-rich**: composable arg groups, splitting quoted args, repeatable subcommands, and many more\r\n* **User-friendly**: usage help message uses **colors** to contrast important elements like option names from the rest of the usage help to **reduce the cognitive load** on the user\r\n* Distribute your app as a **[GraalVM native image][3]**\r\n* Works with **Java 5** and higher\r\n* Extensive and meticulous [**documentation**][4]\r\n\r\nThe usage help message is easy to customize with annotations (without programming). For example:\r\n\r\n[![Extended usage help message][5]][5] ([source][6])\r\n\r\nI couldn&#39;t resist adding one more screenshot to show what usage help messages are possible. Usage help is the face of your application, so be creative and have fun!\r\n\r\n[![picocli demo][7]][7]\r\n\r\nDisclaimer: I created picocli. Feedback or questions very welcome.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://picocli.info/\r\n  [2]: https://i.stack.imgur.com/UqZmi.png\r\n  [3]: https://picocli.info/#_graalvm_native_image\r\n  [4]: https://picocli.info/\r\n  [5]: https://i.stack.imgur.com/hLO1d.png\r\n  [6]: https://github.com/remkop/picocli/blob/v0.9.4/src/test/java/picocli/Demo.java#L337\r\n  [7]: https://i.stack.imgur.com/yLsst.png","title":"How do I parse command line arguments in Java?","body":"<blockquote>\n<p><em>It is 2022, time to do better than Commons CLI... :-)</em></p>\n</blockquote>\n<p>Should you build your own Java command line parser, or use a library?</p>\n<p>Many small utility-like applications probably roll their own command line parsing to avoid the additional external dependency. <a href=\"http://picocli.info/\" rel=\"noreferrer\">picocli</a> may be an interesting alternative.</p>\n<p>Picocli is a modern library and framework for building powerful, user-friendly, GraalVM-enabled command line apps with ease. It lives in 1 source file so apps can include it as source to avoid adding a dependency.</p>\n<p>It supports colors, autocompletion, subcommands, and more. Written in Java, usable from Groovy, Kotlin, Scala, etc.</p>\n<p><a href=\"https://i.stack.imgur.com/UqZmi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UqZmi.png\" alt=\"Minimal usage help with ANSI colors\" /></a></p>\n<p>Features:</p>\n<ul>\n<li>Annotation based: <strong>declarative</strong>, <strong>avoids duplication</strong> and <strong>expresses</strong> programmer <strong>intent</strong></li>\n<li>Convenient: parse user input and run your business logic with <strong>one line of code</strong></li>\n<li><strong>Strongly typed</strong> everything - command line options as well as positional parameters</li>\n<li>POSIX clustered short options (<code>&lt;command&gt; -xvfInputFile</code> as well as <code>&lt;command&gt; -x -v -f InputFile</code>)</li>\n<li><strong>Fine-grained control</strong>: an arity model that allows a minimum, maximum and variable number of parameters, e.g, <code>&quot;1..*&quot;</code>, <code>&quot;3..5&quot;</code></li>\n<li><strong>Subcommands</strong> (can be nested to arbitrary depth)</li>\n<li><strong>Feature-rich</strong>: composable arg groups, splitting quoted args, repeatable subcommands, and many more</li>\n<li><strong>User-friendly</strong>: usage help message uses <strong>colors</strong> to contrast important elements like option names from the rest of the usage help to <strong>reduce the cognitive load</strong> on the user</li>\n<li>Distribute your app as a <strong><a href=\"https://picocli.info/#_graalvm_native_image\" rel=\"noreferrer\">GraalVM native image</a></strong></li>\n<li>Works with <strong>Java 5</strong> and higher</li>\n<li>Extensive and meticulous <a href=\"https://picocli.info/\" rel=\"noreferrer\"><strong>documentation</strong></a></li>\n</ul>\n<p>The usage help message is easy to customize with annotations (without programming). For example:</p>\n<p><a href=\"https://i.stack.imgur.com/hLO1d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hLO1d.png\" alt=\"Extended usage help message\" /></a> (<a href=\"https://github.com/remkop/picocli/blob/v0.9.4/src/test/java/picocli/Demo.java#L337\" rel=\"noreferrer\">source</a>)</p>\n<p>I couldn't resist adding one more screenshot to show what usage help messages are possible. Usage help is the face of your application, so be creative and have fun!</p>\n<p><a href=\"https://i.stack.imgur.com/yLsst.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yLsst.png\" alt=\"picocli demo\" /></a></p>\n<p>Disclaimer: I created picocli. Feedback or questions very welcome.</p>\n"},{"comments":[{"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"score":1,"creation_date":1508441969,"post_id":45898630,"comment_id":80622817,"body_markdown":"Link is dead. Did you kill off you project? :-(","body":"Link is dead. Did you kill off you project? :-("}],"tags":[],"owner":{"account_id":8929891,"reputation":21,"user_id":6662856,"display_name":"Himanshu Shekhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505476331,"creation_date":1503773252,"answer_id":45898630,"question_id":367706,"body_markdown":"If you want something lightweight (jar size ~ 20 kb) and simple to use, you can try [argument-parser][1]. It can be used in most of the use cases, supports specifying arrays in the argument and has no dependency on any other library. It works for Java 1.5 or above. Below excerpt shows an example on how to use it:\r\n\r\n    public static void main(String[] args) {\r\n    \tString usage = &quot;--day|-d day --mon|-m month [--year|-y year][--dir|-ds directoriesToSearch]&quot;;\r\n        ArgumentParser argParser = new ArgumentParser(usage, InputData.class);\r\n        InputData inputData = (InputData) argParser.parse(args);\r\n        showData(inputData);\r\n        \r\n        new StatsGenerator().generateStats(inputData);\r\n    }\r\nMore examples can be found [here][2]\r\n  [1]: https://github.com/shekhar-himanshu/argument-parser\r\n  [2]: https://easy-develop.github.io/argument-parser/1.0.0/examples\r\n","title":"How do I parse command line arguments in Java?","body":"<p>If you want something lightweight (jar size ~ 20 kb) and simple to use, you can try <a href=\"https://github.com/shekhar-himanshu/argument-parser\" rel=\"nofollow noreferrer\">argument-parser</a>. It can be used in most of the use cases, supports specifying arrays in the argument and has no dependency on any other library. It works for Java 1.5 or above. Below excerpt shows an example on how to use it:</p>\n\n<pre><code>public static void main(String[] args) {\n    String usage = \"--day|-d day --mon|-m month [--year|-y year][--dir|-ds directoriesToSearch]\";\n    ArgumentParser argParser = new ArgumentParser(usage, InputData.class);\n    InputData inputData = (InputData) argParser.parse(args);\n    showData(inputData);\n\n    new StatsGenerator().generateStats(inputData);\n}\n</code></pre>\n\n<p>More examples can be found <a href=\"https://easy-develop.github.io/argument-parser/1.0.0/examples\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1198561,"reputation":3841,"user_id":1169741,"accept_rate":48,"display_name":"Trismegistos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518135052,"creation_date":1508336427,"answer_id":46812436,"question_id":367706,"body_markdown":"Argparse4j is best I have found. It mimics Python&#39;s argparse libary which is very convenient and powerful.\r\n","title":"How do I parse command line arguments in Java?","body":"<p>Argparse4j is best I have found. It mimics Python's argparse libary which is very convenient and powerful.</p>\n"},{"tags":[],"owner":{"account_id":1911497,"reputation":342,"user_id":1725202,"display_name":"Ioannis Koumarelas"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1532001618,"creation_date":1531999748,"answer_id":51421535,"question_id":367706,"body_markdown":"I know most people here are going to find 10 million reasons why they dislike my way, but nevermind. I like to keep things simple, so I just separate the key from the value using a &#39;=&#39; and store them in a HashMap like this:\r\n\r\n    Map&lt;String, String&gt; argsMap = new HashMap&lt;&gt;();\r\n    for (String arg: args) {\r\n        String[] parts = arg.split(&quot;=&quot;);\r\n        argsMap.put(parts[0], parts[1]);\r\n    } \r\n\r\nYou could always maintain a list with the arguments you are expecting, to help the user in case he forgot an argument or used a wrong one... However, if you want too many features this solution is not for you anyway.","title":"How do I parse command line arguments in Java?","body":"<p>I know most people here are going to find 10 million reasons why they dislike my way, but nevermind. I like to keep things simple, so I just separate the key from the value using a '=' and store them in a HashMap like this:</p>\n\n<pre><code>Map&lt;String, String&gt; argsMap = new HashMap&lt;&gt;();\nfor (String arg: args) {\n    String[] parts = arg.split(\"=\");\n    argsMap.put(parts[0], parts[1]);\n} \n</code></pre>\n\n<p>You could always maintain a list with the arguments you are expecting, to help the user in case he forgot an argument or used a wrong one... However, if you want too many features this solution is not for you anyway.</p>\n"},{"tags":[],"owner":{"account_id":4349656,"reputation":21,"user_id":3550482,"display_name":"stevens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535272158,"creation_date":1535272158,"answer_id":52024523,"question_id":367706,"body_markdown":"As one of the comments mentioned earlier (https://github.com/pcj/google-options) would be a good choice to start with.  \r\n\r\nOne thing I want to add-on is:\r\n\r\n1) If you run into some parser reflection error, please try use a newer version of the guava. in my case:\r\n\r\n    maven_jar(\r\n        name = &quot;com_google_guava_guava&quot;,\r\n        artifact = &quot;com.google.guava:guava:19.0&quot;,\r\n        server = &quot;maven2_server&quot;,\r\n    )\r\n    \r\n    maven_jar(\r\n        name = &quot;com_github_pcj_google_options&quot;,\r\n        artifact = &quot;com.github.pcj:google-options:jar:1.0.0&quot;,\r\n        server = &quot;maven2_server&quot;,\r\n    )\r\n    \r\n    maven_server(\r\n        name = &quot;maven2_server&quot;,\r\n        url = &quot;http://central.maven.org/maven2/&quot;,\r\n    )\r\n\r\n2) When running the commandline:\r\n\r\n    bazel run path/to/your:project -- --var1 something --var2 something -v something\r\n\r\n3) When you need the usage help, just type:\r\n\r\n    bazel run path/to/your:project -- --help\r\n","title":"How do I parse command line arguments in Java?","body":"<p>As one of the comments mentioned earlier (<a href=\"https://github.com/pcj/google-options\" rel=\"nofollow noreferrer\">https://github.com/pcj/google-options</a>) would be a good choice to start with.  </p>\n\n<p>One thing I want to add-on is:</p>\n\n<p>1) If you run into some parser reflection error, please try use a newer version of the guava. in my case:</p>\n\n<pre><code>maven_jar(\n    name = \"com_google_guava_guava\",\n    artifact = \"com.google.guava:guava:19.0\",\n    server = \"maven2_server\",\n)\n\nmaven_jar(\n    name = \"com_github_pcj_google_options\",\n    artifact = \"com.github.pcj:google-options:jar:1.0.0\",\n    server = \"maven2_server\",\n)\n\nmaven_server(\n    name = \"maven2_server\",\n    url = \"http://central.maven.org/maven2/\",\n)\n</code></pre>\n\n<p>2) When running the commandline:</p>\n\n<pre><code>bazel run path/to/your:project -- --var1 something --var2 something -v something\n</code></pre>\n\n<p>3) When you need the usage help, just type:</p>\n\n<pre><code>bazel run path/to/your:project -- --help\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537490108,"creation_date":1537488666,"answer_id":52434900,"question_id":367706,"body_markdown":"For Spring users, we should mention also https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/SimpleCommandLinePropertySource.html  and his twin brother https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/JOptCommandLinePropertySource.html (JOpt implementation of the same functionality). \r\nThe advantage in Spring is that you can directly bind the command line arguments to attributes, there is an example here https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html","title":"How do I parse command line arguments in Java?","body":"<p>For Spring users, we should mention also <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/SimpleCommandLinePropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/SimpleCommandLinePropertySource.html</a>  and his twin brother <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/JOptCommandLinePropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/JOptCommandLinePropertySource.html</a> (JOpt implementation of the same functionality). \nThe advantage in Spring is that you can directly bind the command line arguments to attributes, there is an example here <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html</a></p>\n"},{"comments":[{"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"score":0,"creation_date":1586914657,"post_id":57004094,"comment_id":108302372,"body_markdown":"This is awesome :).","body":"This is awesome :)."}],"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1562924701,"creation_date":1562923581,"answer_id":57004094,"question_id":367706,"body_markdown":"If you are already using Spring Boot, argument parsing comes out of the box. \r\n\r\nIf you want to run something after startup, implement the `ApplicationRunner` interface:\r\n\r\n    @SpringBootApplication\r\n    public class Application implements ApplicationRunner {\r\n\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n      @Override\r\n      public void run(ApplicationArguments args) {\r\n        args.containsOption(&quot;my-flag-option&quot;); // test if --my-flag-option was set\r\n        args.getOptionValues(&quot;my-option&quot;);     // returns values of --my-option=value1 --my-option=value2 \r\n        args.getOptionNames();                 // returns a list of all available options\r\n        // do something with your args\r\n      }\r\n    }\r\n\r\nYour `run` method will be invoked after the context has started up successfully. \r\n\r\nIf you need access to the arguments _before_ you fire up your application context, you can just simply parse the application arguments manually:\r\n\r\n    @SpringBootApplication\r\n    public class Application implements ApplicationRunner {\r\n\r\n      public static void main(String[] args) {\r\n        ApplicationArguments arguments = new DefaultApplicationArguments(args);\r\n        // do whatever you like with your arguments\r\n        // see above ...\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n    }\r\n\r\nAnd finally, if you need access to your arguments in a bean, just inject the `ApplicationArguments`:\r\n\r\n    @Component\r\n    public class MyBean {\r\n\r\n       @Autowired\r\n       private ApplicationArguments arguments;\r\n\r\n       // ...\r\n    }","title":"How do I parse command line arguments in Java?","body":"<p>If you are already using Spring Boot, argument parsing comes out of the box. </p>\n\n<p>If you want to run something after startup, implement the <code>ApplicationRunner</code> interface:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements ApplicationRunner {\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  public void run(ApplicationArguments args) {\n    args.containsOption(\"my-flag-option\"); // test if --my-flag-option was set\n    args.getOptionValues(\"my-option\");     // returns values of --my-option=value1 --my-option=value2 \n    args.getOptionNames();                 // returns a list of all available options\n    // do something with your args\n  }\n}\n</code></pre>\n\n<p>Your <code>run</code> method will be invoked after the context has started up successfully. </p>\n\n<p>If you need access to the arguments <em>before</em> you fire up your application context, you can just simply parse the application arguments manually:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements ApplicationRunner {\n\n  public static void main(String[] args) {\n    ApplicationArguments arguments = new DefaultApplicationArguments(args);\n    // do whatever you like with your arguments\n    // see above ...\n    SpringApplication.run(Application.class, args);\n  }\n\n}\n</code></pre>\n\n<p>And finally, if you need access to your arguments in a bean, just inject the <code>ApplicationArguments</code>:</p>\n\n<pre><code>@Component\npublic class MyBean {\n\n   @Autowired\n   private ApplicationArguments arguments;\n\n   // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17447314,"reputation":72,"user_id":12648074,"display_name":"Salvatore Giamp&#224;"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609260897,"creation_date":1609260897,"answer_id":65495766,"question_id":367706,"body_markdown":"I want to show you my implementation: [ReadyCLI][1]\r\n\r\nAdvantages:\r\n - **for lazy programmers**: a very small number of classes to learn, just see the two small examples on the README in the repository and you are already at 90% of learning; just start coding your CLI/Parser without any other knowledge;\r\nReadyCLI allows coding CLIs in the most natural way;\r\n - it is designed with **Developer Experience** in mind; it largely uses the Builder design pattern and functional interfaces for Lambda Expressions, to allow a very quick coding;\r\n - it supports **Options**, **Flags** and **Sub-Commands**;\r\n - it allows to parse arguments from command-line and to build more complex and interactive CLIs;\r\n - a CLI can be started on Standard I/O just as easily as on any other I/O interface, such as sockets;\r\n - it gives great support for documentation of commands.\r\n\r\nI developed this project as I needed new features (options, flag, sub-commands) and that could be used in the simplest possible way in my projects.\r\n\r\n  [1]: https://github.com/sv-giampa/ReadyCLI","title":"How do I parse command line arguments in Java?","body":"<p>I want to show you my implementation: <a href=\"https://github.com/sv-giampa/ReadyCLI\" rel=\"nofollow noreferrer\">ReadyCLI</a></p>\n<p>Advantages:</p>\n<ul>\n<li><strong>for lazy programmers</strong>: a very small number of classes to learn, just see the two small examples on the README in the repository and you are already at 90% of learning; just start coding your CLI/Parser without any other knowledge;\nReadyCLI allows coding CLIs in the most natural way;</li>\n<li>it is designed with <strong>Developer Experience</strong> in mind; it largely uses the Builder design pattern and functional interfaces for Lambda Expressions, to allow a very quick coding;</li>\n<li>it supports <strong>Options</strong>, <strong>Flags</strong> and <strong>Sub-Commands</strong>;</li>\n<li>it allows to parse arguments from command-line and to build more complex and interactive CLIs;</li>\n<li>a CLI can be started on Standard I/O just as easily as on any other I/O interface, such as sockets;</li>\n<li>it gives great support for documentation of commands.</li>\n</ul>\n<p>I developed this project as I needed new features (options, flag, sub-commands) and that could be used in the simplest possible way in my projects.</p>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701262028,"creation_date":1665617447,"answer_id":74048983,"question_id":367706,"body_markdown":"Take a look at [Spring Shell][1]\r\n\r\n&gt; Spring Shell’s features include\r\n&gt; \r\n&gt;  - A simple, annotation driven, programming model to contribute custom    commands\r\n&gt;  - Use of Spring Boot auto-configuration functionality as the basis for    a command plugin strategy\r\n&gt;  - Tab completion, colorization, and script execution\r\n&gt;  - Customization of command prompt, shell history file name, handling of    results and errors\r\n&gt;  - Dynamic enablement of commands based on domain specific criteria\r\n&gt;  - Integration with the bean validation API\r\n&gt;  - Already built-in commands, such as clear screen, gorgeous help, exit\r\n&gt;  - ASCII art Tables, with formatting, alignment, fancy borders, etc.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-shell/docs/current/docs/index.html","title":"How do I parse command line arguments in Java?","body":"<p>Take a look at <a href=\"https://docs.spring.io/spring-shell/docs/current/docs/index.html\" rel=\"nofollow noreferrer\">Spring Shell</a></p>\n<blockquote>\n<p>Spring Shell’s features include</p>\n<ul>\n<li>A simple, annotation driven, programming model to contribute custom    commands</li>\n<li>Use of Spring Boot auto-configuration functionality as the basis for    a command plugin strategy</li>\n<li>Tab completion, colorization, and script execution</li>\n<li>Customization of command prompt, shell history file name, handling of    results and errors</li>\n<li>Dynamic enablement of commands based on domain specific criteria</li>\n<li>Integration with the bean validation API</li>\n<li>Already built-in commands, such as clear screen, gorgeous help, exit</li>\n<li>ASCII art Tables, with formatting, alignment, fancy borders, etc.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":1075,"reputation":34774,"user_id":1428,"accept_rate":64,"display_name":"lindelof"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479013,"favorite_count":0,"down_vote_count":6,"up_vote_count":689,"accepted_answer_id":367714,"answer_count":21,"score":683,"last_activity_date":1701262028,"creation_date":1229327170,"question_id":367706,"body_markdown":"What is a good way of parsing command line arguments in Java?\r\n","title":"How do I parse command line arguments in Java?","body":"<p>What is a good way of parsing command line arguments in Java?</p>\n"},{"tags":["java","unit-testing","mockito","junit5","java-17"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1701262343,"post_id":77571282,"comment_id":136753476,"body_markdown":"You create new instances of `DataA` and `DataB` in your method under test. Thus, the mocks are not used at all.","body":"You create new instances of <code>DataA</code> and <code>DataB</code> in your method under test. Thus, the mocks are not used at all."},{"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"score":0,"creation_date":1701264407,"post_id":77571282,"comment_id":136753865,"body_markdown":"Ok, so how should I do?","body":"Ok, so how should I do?"},{"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"score":0,"creation_date":1701266176,"post_id":77571282,"comment_id":136754232,"body_markdown":"Is it not possible to test?\nShould I redesign the classes and use them some other way?","body":"Is it not possible to test? Should I redesign the classes and use them some other way?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701267382,"post_id":77571282,"comment_id":136754480,"body_markdown":"Your test only contains mocks, no real classes. Your production code is not tested. At the same time, your production code is creating new instances and doesn&#39;t use the mocks available in the test. Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/q/74027324/112968)","body":"Your test only contains mocks, no real classes. Your production code is not tested. At the same time, your production code is creating new instances and doesn&#39;t use the mocks available in the test. Does this answer your question? <a href=\"https://stackoverflow.com/q/74027324/112968\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"score":0,"creation_date":1701277092,"post_id":77571282,"comment_id":136756698,"body_markdown":"So it is not possible to mock?","body":"So it is not possible to mock?"}],"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701262019,"creation_date":1701262019,"question_id":77571282,"body_markdown":"I have a method that I want to test. I don&#39;t get the mocking to work.\r\n\r\nThe method looks like this:\r\n```\r\npublic TypeA collectData(Connection dbCon, String id){\r\n   TypeA a = new TypeA();\r\n   a.setTime(LocalDateTime.now());\r\n   a.setId(id);\r\n   \r\n   DataB dataB = new DataB(dbCon);\r\n   TypeB b = dataB.getData(id);\r\n   a.setB(b);\r\n\r\n   DataC dataC = new DataC(dbCon);\r\n   List&lt;TypeC&gt; c = dataC.getDataList(id);\r\n   a.getC().addAll(c);\r\n   \r\n   return a;\r\n}\r\n```\r\nDataB &amp; DataC both extends abstract class DataDb and looks like:\r\n```\r\nclass DataB exstends DataDb&lt;DataB&gt;{\r\n   public PreparedStatment getSqlStatement(){\r\n      return ...\r\n   }\r\n   public List&lt;TypeB&gt; transformToObject(){\r\n      return ...\r\n   }\r\n}\r\n```\r\nClass DataDb looks like:\r\n```\r\npublic abstact class DbData&lt;T&gt;{\r\n   public T getData(String id){\r\n      List&lt;T&gt; obj = collectData(id);\r\n      return obj.isEmpty() ? null : obj.get(0);\r\n   }\r\n   public List&lt;T&gt; getDataList(String id){\r\n      return collectData(id);\r\n   }\r\n   public List&lt;T&gt; collectData(String id){\r\n      ...\r\n      stmt = getSqlStatment();\r\n      ...\r\n      return transformToObject();\r\n   }\r\n  abstract PreparedStatemnet getSqlStatement();\r\n  abstract List&lt;T&gt; transformToObject();\r\n}\r\n```\r\nI have tried to do the test and mock but get an Exception. \r\nIt looks like my mocking of getData() and getDataList() does not work, and the actual methods in DataDb is called.\r\n\r\nMy test\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass DataTest {\r\n   @Mock private Connection c;\r\n   @Mock private DataB dataB;\r\n   @Mock private DataC dataC;\r\n\r\n   @Test\r\n   void TestTypeA(){\r\n      when(dataB.getData(&quot;123&quot;)).thenReturn(new TypeB());\r\n      List&lt;TypeC&gt; cL = new ArrayList&lt;&gt;();\r\n      cL.add(new TypeC);\r\n      when(dataC.getDataList(&quot;123&quot;)).thenReturn(cL);\r\n\r\n      TypeA a = collectData(c, &quot;123&quot;);\r\n      assertThat(a.getId(), is(equlaTo(&quot;123&quot;)));\r\n      ...\r\n   }\r\n```\r\nI have also unsuccessfully tried to mock DataDb:\r\n```\r\n@Mock private DataDb dataDb;\r\n...\r\nwhen(dataDb.getData(&quot;123&quot;)).thenReturn(new TypeB());\r\n```\r\nI have found some examples that mock explicit calls to super-methods, by using **spy** but I dont get that to work either. Gets the same exception when the &quot;real&quot; code calls the DB. \r\n```\r\nDataDb spy = Mockito.spy(new DataDb(){@Override PreparedStatement getSqlStatment(){ return null; } @Override List transformToObject(){ return null; } });\r\nMockito.doReturn(new TypeB()).when(spy).getData(&quot;123&quot;);\r\n```","title":"How to mock calls to inherited methods","body":"<p>I have a method that I want to test. I don't get the mocking to work.</p>\n<p>The method looks like this:</p>\n<pre><code>public TypeA collectData(Connection dbCon, String id){\n   TypeA a = new TypeA();\n   a.setTime(LocalDateTime.now());\n   a.setId(id);\n   \n   DataB dataB = new DataB(dbCon);\n   TypeB b = dataB.getData(id);\n   a.setB(b);\n\n   DataC dataC = new DataC(dbCon);\n   List&lt;TypeC&gt; c = dataC.getDataList(id);\n   a.getC().addAll(c);\n   \n   return a;\n}\n</code></pre>\n<p>DataB &amp; DataC both extends abstract class DataDb and looks like:</p>\n<pre><code>class DataB exstends DataDb&lt;DataB&gt;{\n   public PreparedStatment getSqlStatement(){\n      return ...\n   }\n   public List&lt;TypeB&gt; transformToObject(){\n      return ...\n   }\n}\n</code></pre>\n<p>Class DataDb looks like:</p>\n<pre><code>public abstact class DbData&lt;T&gt;{\n   public T getData(String id){\n      List&lt;T&gt; obj = collectData(id);\n      return obj.isEmpty() ? null : obj.get(0);\n   }\n   public List&lt;T&gt; getDataList(String id){\n      return collectData(id);\n   }\n   public List&lt;T&gt; collectData(String id){\n      ...\n      stmt = getSqlStatment();\n      ...\n      return transformToObject();\n   }\n  abstract PreparedStatemnet getSqlStatement();\n  abstract List&lt;T&gt; transformToObject();\n}\n</code></pre>\n<p>I have tried to do the test and mock but get an Exception.\nIt looks like my mocking of getData() and getDataList() does not work, and the actual methods in DataDb is called.</p>\n<p>My test</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass DataTest {\n   @Mock private Connection c;\n   @Mock private DataB dataB;\n   @Mock private DataC dataC;\n\n   @Test\n   void TestTypeA(){\n      when(dataB.getData(&quot;123&quot;)).thenReturn(new TypeB());\n      List&lt;TypeC&gt; cL = new ArrayList&lt;&gt;();\n      cL.add(new TypeC);\n      when(dataC.getDataList(&quot;123&quot;)).thenReturn(cL);\n\n      TypeA a = collectData(c, &quot;123&quot;);\n      assertThat(a.getId(), is(equlaTo(&quot;123&quot;)));\n      ...\n   }\n</code></pre>\n<p>I have also unsuccessfully tried to mock DataDb:</p>\n<pre><code>@Mock private DataDb dataDb;\n...\nwhen(dataDb.getData(&quot;123&quot;)).thenReturn(new TypeB());\n</code></pre>\n<p>I have found some examples that mock explicit calls to super-methods, by using <strong>spy</strong> but I dont get that to work either. Gets the same exception when the &quot;real&quot; code calls the DB.</p>\n<pre><code>DataDb spy = Mockito.spy(new DataDb(){@Override PreparedStatement getSqlStatment(){ return null; } @Override List transformToObject(){ return null; } });\nMockito.doReturn(new TypeB()).when(spy).getData(&quot;123&quot;);\n</code></pre>\n"},{"tags":["java","hibernate","db2"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1701185693,"post_id":77564715,"comment_id":136742448,"body_markdown":"You are sleeping 5 seconds between each row (because your trigger is defined at row level).  Did you mean to instead defined the trigger at statement level (if the om is performing a block insert, as distinct from a row insert ) ??.  Otherwise you cannot use a DEFAULT value for the creation_date column and the application has to preset it to same value for all rows.","body":"You are sleeping 5 seconds between each row (because your trigger is defined at row level).  Did you mean to instead defined the trigger at statement level (if the om is performing a block insert, as distinct from a row insert ) ??.  Otherwise you cannot use a DEFAULT value for the creation_date column and the application has to preset it to same value for all rows."},{"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"score":0,"creation_date":1701255621,"post_id":77564715,"comment_id":136752197,"body_markdown":"By presetting the date, it will have almost the same creation date. But it still takes 50s as without batching, why? I expect that it will be handled much more faster.","body":"By presetting the date, it will have almost the same creation date. But it still takes 50s as without batching, why? I expect that it will be handled much more faster."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1701257251,"post_id":77564715,"comment_id":136752494,"body_markdown":"It seems you have not understood my previous comment concerning the granularity of the trigger (per row, or per statement), and whether or not your OM is using single-statement-multi-row insert versus row-by-row insert.","body":"It seems you have not understood my previous comment concerning the granularity of the trigger (per row, or per statement), and whether or not your OM is using single-statement-multi-row insert versus row-by-row insert."},{"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"score":0,"creation_date":1701263990,"post_id":77564715,"comment_id":136753783,"body_markdown":"This trigger can also be defined on statement level. But I have some implemented triggers which made some checks on the inserted row which takes a few time. That&#39;s why I want to use batching here. So is it not possible to use batch insert with trigger definition at row level?","body":"This trigger can also be defined on statement level. But I have some implemented triggers which made some checks on the inserted row which takes a few time. That&#39;s why I want to use batching here. So is it not possible to use batch insert with trigger definition at row level?"}],"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701261278,"creation_date":1701182050,"question_id":77564715,"body_markdown":"I am using hibernate batch insert in for DB2, but not get it worked properly.\r\n\r\nThis is my table definition:\r\n\r\n    CREATE TABLE MY_TABLE (IDENTIFIER VARCHAR(64) NOT NULL, MESSAGE VARCHAR(10), CREATION_DATE TIMESTAMP DEFAULT CURRENT TIMESTAMP, CONSTRAINT MY__PRIMARY_KEY PRIMARY KEY (IDENTIFIER));\r\n\r\nI also have installed a trigger to test batching...\r\n\r\n    CREATE OR REPLACE TRIGGER &quot;NEW_ENTRY&quot; \r\n    BEFORE INSERT ON MY_TABLE \r\n    REFERENCING NEW AS NEW\r\n    \tFOR EACH ROW\r\n    \t\tBEGIN ATOMIC\r\n    \t\t\tCALL dbms_alert.sleep(5);\r\n    \t\tEND\r\n\t\t\r\n\r\n\r\nThis is my implemenatation...\r\n\r\n    @Stateless\r\n    @Local\r\n    public class MyEntityImpl{\r\n    \r\n    \t@PersistenceContext(unitName = &quot;MyEm&quot;)\r\n    \tprotected EntityManager em;\r\n    \r\n    \tpublic void batch() {\r\n    \t\tfor (int a = 0; a &lt; 10; a++) {\r\n    \t\t\tMyEntity newEntity = new MyEntity(UUID.randomUUID().toString());\r\n    \t\t\tnewEntity.setMessage(Integer.toString(a));\r\n    \t\t\tem.persist(newEntity);\r\n    \t\t}\r\n    \t\tem.flush();\r\n    \t\tem.clear();\r\n    \t}\r\n    }\r\n\r\nThis is my configuration in my persistence.xml...\r\n\r\n\t\t&lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value = &quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.jdbc.batch_size&quot; value = &quot;20&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.order_inserts&quot; value = &quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.order_updates&quot; value = &quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.current_session_context_class&quot; value = &quot;thread&quot;/&gt;\r\n\r\nSo what I expect is nearly same creation dates, but got\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gYtK9.png\r\n\r\nThis is my log output\r\n\r\n    batching 10 statements: 1: insert into MY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) \r\n    values (&#39;11/29/2023 13:32:20.652&#39;, &#39;0&#39;, &#39;6cbda799-8c09-47d2-9b54-818ecc5963d9&#39;) 2: insert into \r\n    MY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) values (&#39;11/29/2023 13:32:20.655&#39;, &#39;1&#39;, \r\n    &#39;87332578-7ce3-4d7f-9e7f-adf761f07e35&#39;) 3: insert into MY_TABLE (CREATION_DATE, MESSAGE, \r\n    IDENTIFIER) values (&#39;11/29/2023 13:32:20.656&#39;, &#39;2&#39;, &#39;27e8612c-1db1-4832-b312-6b5b292441c6&#39;) ","title":"Hibernate batch insert not working as expected","body":"<p>I am using hibernate batch insert in for DB2, but not get it worked properly.</p>\n<p>This is my table definition:</p>\n<pre><code>CREATE TABLE MY_TABLE (IDENTIFIER VARCHAR(64) NOT NULL, MESSAGE VARCHAR(10), CREATION_DATE TIMESTAMP DEFAULT CURRENT TIMESTAMP, CONSTRAINT MY__PRIMARY_KEY PRIMARY KEY (IDENTIFIER));\n</code></pre>\n<p>I also have installed a trigger to test batching...</p>\n<pre><code>CREATE OR REPLACE TRIGGER &quot;NEW_ENTRY&quot; \nBEFORE INSERT ON MY_TABLE \nREFERENCING NEW AS NEW\n    FOR EACH ROW\n        BEGIN ATOMIC\n            CALL dbms_alert.sleep(5);\n        END\n    \n</code></pre>\n<p>This is my implemenatation...</p>\n<pre><code>@Stateless\n@Local\npublic class MyEntityImpl{\n\n    @PersistenceContext(unitName = &quot;MyEm&quot;)\n    protected EntityManager em;\n\n    public void batch() {\n        for (int a = 0; a &lt; 10; a++) {\n            MyEntity newEntity = new MyEntity(UUID.randomUUID().toString());\n            newEntity.setMessage(Integer.toString(a));\n            em.persist(newEntity);\n        }\n        em.flush();\n        em.clear();\n    }\n}\n</code></pre>\n<p>This is my configuration in my persistence.xml...</p>\n<pre><code>    &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value = &quot;true&quot;/&gt;\n    &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value = &quot;20&quot;/&gt;\n    &lt;property name=&quot;hibernate.order_inserts&quot; value = &quot;true&quot;/&gt;\n    &lt;property name=&quot;hibernate.order_updates&quot; value = &quot;true&quot;/&gt;\n    &lt;property name=&quot;hibernate.current_session_context_class&quot; value = &quot;thread&quot;/&gt;\n</code></pre>\n<p>So what I expect is nearly same creation dates, but got\n<a href=\"https://i.stack.imgur.com/gYtK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gYtK9.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my log output</p>\n<pre><code>batching 10 statements: 1: insert into MY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) \nvalues ('11/29/2023 13:32:20.652', '0', '6cbda799-8c09-47d2-9b54-818ecc5963d9') 2: insert into \nMY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) values ('11/29/2023 13:32:20.655', '1', \n'87332578-7ce3-4d7f-9e7f-adf761f07e35') 3: insert into MY_TABLE (CREATION_DATE, MESSAGE, \nIDENTIFIER) values ('11/29/2023 13:32:20.656', '2', '27e8612c-1db1-4832-b312-6b5b292441c6') \n</code></pre>\n"},{"tags":["java","wildfly","wildfly-28"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701249423,"creation_date":1701249423,"answer_id":77569847,"question_id":77569645,"body_markdown":"There is no issue: those services will start when required","title":"How to find the reason for not started services","body":"<p>There is no issue: those services will start when required</p>\n"}],"owner":{"account_id":15084460,"reputation":195,"user_id":13209041,"display_name":"OhJohnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77569847,"answer_count":1,"score":0,"last_activity_date":1701261152,"creation_date":1701247163,"question_id":77569645,"body_markdown":"I am a WildFly rookie and I have the problem that when WildFly is packaged (Maven) and the bootable.jar file is started, then the logs say the following:\r\n\r\n&gt; WildFly Full 28.0.1.Final (WildFly Core 20.0.2.Final) started in\r\n&gt; 41627ms - Started 2270 of 2397 services (248 services are lazy,\r\n&gt; passive or on-demand)\r\n\r\nWhen I search for errors, there are none, but it seems odd to me that services are lazy/passive/on-demand and not started. \r\n\r\nIs that an issue I should be worried about?\r\n\r\nIf yes, how can I resolve this problem?\r\n\r\nAnd is there a way to identify the lazy/passive/on-demand services?\r\n\r\nI simply don&#39;t know what to try because I don&#39;t know where to start. Looking up this problem gives no clue about how to resolve it in general.","title":"How to find the reason for not started services","body":"<p>I am a WildFly rookie and I have the problem that when WildFly is packaged (Maven) and the bootable.jar file is started, then the logs say the following:</p>\n<blockquote>\n<p>WildFly Full 28.0.1.Final (WildFly Core 20.0.2.Final) started in\n41627ms - Started 2270 of 2397 services (248 services are lazy,\npassive or on-demand)</p>\n</blockquote>\n<p>When I search for errors, there are none, but it seems odd to me that services are lazy/passive/on-demand and not started.</p>\n<p>Is that an issue I should be worried about?</p>\n<p>If yes, how can I resolve this problem?</p>\n<p>And is there a way to identify the lazy/passive/on-demand services?</p>\n<p>I simply don't know what to try because I don't know where to start. Looking up this problem gives no clue about how to resolve it in general.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9888,"page":29,"page_size":100}
