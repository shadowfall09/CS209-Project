{"items":[{"tags":["java","generics","inheritance","run-time-polymorphism"],"comments":[{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":1,"creation_date":1691189415,"post_id":76839465,"comment_id":135463459,"body_markdown":"What do you mean by &quot;class A -&gt; class D&quot;? Are you saying class D is a child of A?","body":"What do you mean by &quot;class A -&gt; class D&quot;? Are you saying class D is a child of A?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691189501,"post_id":76839465,"comment_id":135463466,"body_markdown":"Maybe include more code in your example.","body":"Maybe include more code in your example."},{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1691189570,"post_id":76839465,"comment_id":135463472,"body_markdown":"I may not understand what you&#39;re asking, but since A is the parent, you could do something like this:\n\nA classB = new B();\nA classD = new D();\n\nclassB.getFunction():\nclassD.getFunction();","body":"I may not understand what you&#39;re asking, but since A is the parent, you could do something like this:  A classB = new B(); A classD = new D();  classB.getFunction(): classD.getFunction();"},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1691189574,"post_id":76839465,"comment_id":135463474,"body_markdown":"@Mahesh Have a look at java Collections class - e.g `Collections.&lt;String&gt;emptyList()` - gives you a list where the return type is List&lt;String&gt;..","body":"@Mahesh Have a look at java Collections class - e.g <code>Collections.&lt;String&gt;emptyList()</code> - gives you a list where the return type is List&lt;String&gt;.."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1691189697,"post_id":76839465,"comment_id":135463495,"body_markdown":"Have you tried `public &lt;T extends A&gt; getFunction...` - so then the return type is exactly what you want ...","body":"Have you tried <code>public &lt;T extends A&gt; getFunction...</code> - so then the return type is exactly what you want ..."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1691189702,"post_id":76839465,"comment_id":135463496,"body_markdown":"if you want to access B&#39;s methods you&#39;d have to use `B b = getFunction()` (with T = B, i.e. `getFunction&lt;B&gt;()`) which may or may not work depending on the integration factory. The code you posted doesn&#39;t look like it would work though because generics can&#39;t access child classes magically. You might need a different approach.","body":"if you want to access B&#39;s methods you&#39;d have to use <code>B b = getFunction()</code> (with T = B, i.e. <code>getFunction&lt;B&gt;()</code>) which may or may not work depending on the integration factory. The code you posted doesn&#39;t look like it would work though because generics can&#39;t access child classes magically. You might need a different approach."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1691190033,"post_id":76839465,"comment_id":135463527,"body_markdown":"If you know when calling what type you are expecting back (either a B or a D), then you can add that to the call, so something like `public &lt;T&gt; T getFunction(IntegrationType integrationType, Class&lt;T&gt; clazz) `, and call by `B b = getFunction(type, B.class)`","body":"If you know when calling what type you are expecting back (either a B or a D), then you can add that to the call, so something like <code>public &lt;T&gt; T getFunction(IntegrationType integrationType, Class&lt;T&gt; clazz) </code>, and call by <code>B b = getFunction(type, B.class)</code>"}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691191110,"creation_date":1691191110,"answer_id":76839563,"question_id":76839465,"body_markdown":"&gt; The problem is If I do A a = getFunction() I cannot access the B&#39;s functions.\r\n\r\n\r\nYou can use the `instanceof` operator. For example:\r\n\r\n    A a = getFunction();\r\n    if (a instanceof B) {\r\n        B b = (B) a;\r\n        // you can call the methods of B here\r\n    }\r\n\r\nOr, if you are using Java 16 or higher, you can try the pattern matching as follows:\r\n\r\n    A a = getFunction();\r\n    if (a instanceof B b) {\r\n        b.someMethod();\r\n    }","title":"Polymorphism with generics?","body":"<blockquote>\n<p>The problem is If I do A a = getFunction() I cannot access the B's functions.</p>\n</blockquote>\n<p>You can use the <code>instanceof</code> operator. For example:</p>\n<pre><code>A a = getFunction();\nif (a instanceof B) {\n    B b = (B) a;\n    // you can call the methods of B here\n}\n</code></pre>\n<p>Or, if you are using Java 16 or higher, you can try the pattern matching as follows:</p>\n<pre><code>A a = getFunction();\nif (a instanceof B b) {\n    b.someMethod();\n}\n</code></pre>\n"}],"owner":{"account_id":29163012,"reputation":1,"user_id":22341302,"display_name":"Mahesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691196587,"answer_count":1,"score":0,"last_activity_date":1691191110,"creation_date":1691189126,"question_id":76839465,"body_markdown":"I have a class A -&gt; class B (child of A) -&gt; class C (child of B) and class A -&gt; class D. \r\nHow can I write a function that return objects from class B and class D, example below.\r\nHow to implement the calling part? \r\n\r\nThe problem is If I do A a = getFunction() I cannot access the B&#39;s functions.\r\n\r\n```\r\npublic &lt;T&gt; T getFunction(IntegrationType integrationType) {\r\n      return (T) integrationFactory.createIntegration(integrationType);\r\n}\r\n```","title":"Polymorphism with generics?","body":"<p>I have a class A -&gt; class B (child of A) -&gt; class C (child of B) and class A -&gt; class D.\nHow can I write a function that return objects from class B and class D, example below.\nHow to implement the calling part?</p>\n<p>The problem is If I do A a = getFunction() I cannot access the B's functions.</p>\n<pre><code>public &lt;T&gt; T getFunction(IntegrationType integrationType) {\n      return (T) integrationFactory.createIntegration(integrationType);\n}\n</code></pre>\n"},{"tags":["java","unit-testing","collections","tdd"],"comments":[{"owner":{"account_id":1529414,"reputation":896,"user_id":1427011,"display_name":"Steve Zobell"},"score":6,"creation_date":1492640472,"post_id":8364856,"comment_id":74068752,"body_markdown":"I suggest using &quot;addAll(Collections.emptyList());&quot; instead of add(null) to test for immutable. This will raise the UnsupportedOperationException if immutable and does not modify the list if mutable. I agree modifying the list to see if it is immutable feels wrong, and could cause problems if anyone else is using the list.","body":"I suggest using &quot;addAll(Collections.emptyList());&quot; instead of add(null) to test for immutable. This will raise the UnsupportedOperationException if immutable and does not modify the list if mutable. I agree modifying the list to see if it is immutable feels wrong, and could cause problems if anyone else is using the list."},{"owner":{"account_id":8732367,"reputation":156,"user_id":6531984,"display_name":"Sgene9"},"score":0,"creation_date":1510262680,"post_id":8364856,"comment_id":81372947,"body_markdown":"@SteveZobell&#39;s suggestion is like a cherry on the cake. Solves the issue when the List is actually mutable. One thing to think about is that UnmodifiableList is not the only unmodifiable list in Java API. Collections.nCopies(..) returns an instance of Collections$CopiesList which is also unmodifiable. It is so easy to implement an unmodifiable list from AbstractList, so the best bet is to test the behavior.","body":"@SteveZobell&#39;s suggestion is like a cherry on the cake. Solves the issue when the List is actually mutable. One thing to think about is that UnmodifiableList is not the only unmodifiable list in Java API. Collections.nCopies(..) returns an instance of Collections$CopiesList which is also unmodifiable. It is so easy to implement an unmodifiable list from AbstractList, so the best bet is to test the behavior."}],"answers":[{"comments":[{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1551572531,"post_id":8364890,"comment_id":96689467,"body_markdown":"try/catch and try adding to it?","body":"try/catch and try adding to it?"}],"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1322877276,"creation_date":1322877276,"answer_id":8364890,"question_id":8364856,"body_markdown":"I actually think that is your best bet.  Your alternative (less elegant) way is to check the name of the class.\r\n\r\n    this.myObj.getNoMatters().getClass().getSimpleName().equals(&quot;UnmodifiableCollection&quot;)\r\n\r\nThe issue for you is the wrapped UnmodifiableCollection is package-private.\r\n\r\nI don&#39;t see anything wrong with expecting an exception there, but that&#39;s just me.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I actually think that is your best bet.  Your alternative (less elegant) way is to check the name of the class.</p>\n\n<pre><code>this.myObj.getNoMatters().getClass().getSimpleName().equals(\"UnmodifiableCollection\")\n</code></pre>\n\n<p>The issue for you is the wrapped UnmodifiableCollection is package-private.</p>\n\n<p>I don't see anything wrong with expecting an exception there, but that's just me.</p>\n"},{"comments":[{"owner":{"account_id":32837,"reputation":16613,"user_id":91403,"accept_rate":72,"display_name":"Renato Gama"},"score":0,"creation_date":1322881714,"post_id":8364912,"comment_id":10321019,"body_markdown":"You&#39;re right, I agree w/ you (upvoted even), but its not too good if you wanna test many lists at the same test once the test stops when first exception happens!","body":"You&#39;re right, I agree w/ you (upvoted even), but its not too good if you wanna test many lists at the same test once the test stops when first exception happens!"},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":2,"creation_date":1322904721,"post_id":8364912,"comment_id":10323197,"body_markdown":"I&#39;m used to JUnit 3, so YMMV, but you should be able to write `try { list.add(null); fail(); } catch (RuntimeException expected) { ; }`  I even made an Eclipse template for this called testfail","body":"I&#39;m used to JUnit 3, so YMMV, but you should be able to write <code>try { list.add(null); fail(); } catch (RuntimeException expected) { ; }</code>  I even made an Eclipse template for this called testfail"},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":0,"creation_date":1322932006,"post_id":8364912,"comment_id":10326824,"body_markdown":"p.s. - in the above template, change RuntimeException to be as specific as possible to the exception you expect, e.g. UnsupportedOperationException in this example.","body":"p.s. - in the above template, change RuntimeException to be as specific as possible to the exception you expect, e.g. UnsupportedOperationException in this example."},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":0,"creation_date":1322954076,"post_id":8364912,"comment_id":10330706,"body_markdown":"At some point, the effort put into unit tests reaches a near-zero return.  I think you are reaching it.  You could test for all the myriad possibilities.  You could write your own Immutable wrapper that throws a specific exception, MyUnsupportedOperationException, and, assume that that proves that your wrapper is there.  Or you could just try add(), perhaps remove(), and be happy.  The chance that some weird class will throw the exception for remove, yet will allow you to call clear(), seems remote.","body":"At some point, the effort put into unit tests reaches a near-zero return.  I think you are reaching it.  You could test for all the myriad possibilities.  You could write your own Immutable wrapper that throws a specific exception, MyUnsupportedOperationException, and, assume that that proves that your wrapper is there.  Or you could just try add(), perhaps remove(), and be happy.  The chance that some weird class will throw the exception for remove, yet will allow you to call clear(), seems remote."}],"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1322877661,"creation_date":1322877661,"answer_id":8364912,"question_id":8364856,"body_markdown":"I think your solution is not only reasonable, it is elegant.  You want to test that you cannot modify the list, and your test proves it succinctly.  Testing the name of the class tests the name, not the behavior.  In this case, who cares about the name?\r\n\r\nLikewise, if I wanted to test that I cannot pass null to some method, I&#39;d pass null in a test and expect an IllegalArgumentException.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I think your solution is not only reasonable, it is elegant.  You want to test that you cannot modify the list, and your test proves it succinctly.  Testing the name of the class tests the name, not the behavior.  In this case, who cares about the name?</p>\n\n<p>Likewise, if I wanted to test that I cannot pass null to some method, I'd pass null in a test and expect an IllegalArgumentException.</p>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322877688,"creation_date":1322877688,"answer_id":8364913,"question_id":8364856,"body_markdown":"sort of a hack, but try:\r\n\r\n    import java.util.*;\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; list=new LinkedList&lt;Integer&gt;();\r\n    \t\tlist.add(1);\r\n    \t\tList&lt;Integer&gt; unmodifiableList=Collections.unmodifiableList(list);\r\n    \t\tSystem.out.println(unmodifiableList.getClass());\r\n    \t\tif(unmodifiableList.getClass().getName().contains(&quot;UnmodifiableList&quot;))\r\n    \t\t\tSystem.out.println(true);\r\n    \t}\r\n    }","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>sort of a hack, but try:</p>\n\n<pre><code>import java.util.*;\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list=new LinkedList&lt;Integer&gt;();\n        list.add(1);\n        List&lt;Integer&gt; unmodifiableList=Collections.unmodifiableList(list);\n        System.out.println(unmodifiableList.getClass());\n        if(unmodifiableList.getClass().getName().contains(\"UnmodifiableList\"))\n            System.out.println(true);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":32837,"reputation":16613,"user_id":91403,"accept_rate":72,"display_name":"Renato Gama"},"score":0,"creation_date":1322880392,"post_id":8365014,"comment_id":10320894,"body_markdown":"it doesnt work well as it return true both when the list to check is `ArrayList` or `Collections.unmodifiedList(list)`","body":"it doesnt work well as it return true both when the list to check is <code>ArrayList</code> or <code>Collections.unmodifiedList(list)</code>"},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":1,"creation_date":1322882014,"post_id":8365014,"comment_id":10321055,"body_markdown":"@RenatoGama See my second edit, I think I found the problem you&#39;re encountering.","body":"@RenatoGama See my second edit, I think I found the problem you&#39;re encountering."},{"owner":{"account_id":19279,"reputation":3606,"user_id":45062,"accept_rate":78,"display_name":"Andy"},"score":0,"creation_date":1512479333,"post_id":8365014,"comment_id":82266918,"body_markdown":"Hi - you can also check UnmodifiableCollection, which is a base class for the unmodifiable list and set types. This can be retrieved from\n`Collections.unmodifiableCollection(Collections.emptyList()).getClass()`","body":"Hi - you can also check UnmodifiableCollection, which is a base class for the unmodifiable list and set types. This can be retrieved from <code>Collections.unmodifiableCollection(Collections.emptyList()).&zwnj;&#8203;getClass()</code>"}],"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1322881991,"creation_date":1322879434,"answer_id":8365014,"question_id":8364856,"body_markdown":"You can use [`Class#isInstance`][1] to check.\r\n\r\n    Collections.unmodifiableList(someList).getClass().isInstance(listToCheck);\r\n\r\n/e1&lt;br&gt;\r\nThe following returns `false`.\r\n\r\n    Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(new ArrayList&lt;Object&gt;())\r\n\r\nThe following returns `true`.\r\n\r\n    Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(Collections.unmodifiableList(new ArrayList&lt;Object&gt;()))\r\n\r\n/e2&lt;br&gt;\r\nYour problem may be because `Collections#unmodifiableList` returns an `UnmodifiableList` some of the time, and an `UnmodifiableRandomAccessList` the rest of the time (see below for code). However, since `UnmodifiableRandomAccessList` extends `UnmodifiableList`, if you get an instance of an `UnmodifiableList` to check with you&#39;ll be golden.\r\n\r\nTo obtain an instance of `UnmodifiableList` you can use `Collections.unmodifiableList(new LinkedList&lt;Object&gt;())`. `LinkedList` does not implement `RandomAccess`, so an instance of `UnmodifiableRandomAccessList` will not be returned.\r\n\r\nCode of `Collections#unmodifiableList`:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\r\n            return (list instanceof RandomAccess ?\r\n                    new UnmodifiableRandomAccessList&lt;&gt;(list) :\r\n                    new UnmodifiableList&lt;&gt;(list));\r\n    }\r\n\r\nClass header of `UnmodifiableRandomAccessList`:\r\n\r\n    static class UnmodifiableRandomAccessList&lt;E&gt; extends UnmodifiableList&lt;E&gt; implements RandomAccess\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29\" rel=\"noreferrer\"><code>Class#isInstance</code></a> to check.</p>\n\n<pre><code>Collections.unmodifiableList(someList).getClass().isInstance(listToCheck);\n</code></pre>\n\n<p>/e1<br>\nThe following returns <code>false</code>.</p>\n\n<pre><code>Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(new ArrayList&lt;Object&gt;())\n</code></pre>\n\n<p>The following returns <code>true</code>.</p>\n\n<pre><code>Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(Collections.unmodifiableList(new ArrayList&lt;Object&gt;()))\n</code></pre>\n\n<p>/e2<br>\nYour problem may be because <code>Collections#unmodifiableList</code> returns an <code>UnmodifiableList</code> some of the time, and an <code>UnmodifiableRandomAccessList</code> the rest of the time (see below for code). However, since <code>UnmodifiableRandomAccessList</code> extends <code>UnmodifiableList</code>, if you get an instance of an <code>UnmodifiableList</code> to check with you'll be golden.</p>\n\n<p>To obtain an instance of <code>UnmodifiableList</code> you can use <code>Collections.unmodifiableList(new LinkedList&lt;Object&gt;())</code>. <code>LinkedList</code> does not implement <code>RandomAccess</code>, so an instance of <code>UnmodifiableRandomAccessList</code> will not be returned.</p>\n\n<p>Code of <code>Collections#unmodifiableList</code>:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\n        return (list instanceof RandomAccess ?\n                new UnmodifiableRandomAccessList&lt;&gt;(list) :\n                new UnmodifiableList&lt;&gt;(list));\n}\n</code></pre>\n\n<p>Class header of <code>UnmodifiableRandomAccessList</code>:</p>\n\n<pre><code>static class UnmodifiableRandomAccessList&lt;E&gt; extends UnmodifiableList&lt;E&gt; implements RandomAccess\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1734267,"reputation":1096,"user_id":1587180,"accept_rate":20,"display_name":"Stefan"},"score":0,"creation_date":1551781129,"post_id":8371740,"comment_id":96756322,"body_markdown":"That is absolutely the right thing to do. Thank you for reminding me about the difference between testing state and behaviour.","body":"That is absolutely the right thing to do. Thank you for reminding me about the difference between testing state and behaviour."}],"tags":[],"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1322953215,"creation_date":1322953215,"answer_id":8371740,"question_id":8364856,"body_markdown":"Why do you want to test that your list is immutable? Your &quot;alternative&quot; solution is the way to go: you should focus on testing the *behaviour* of your class, not its *state*.\r\n\r\nWhat I mean is you don&#39;t really care whether your method returns an instance of &lt;code&gt;UnmodifiableList&lt;/code&gt; or anything else. Who cares? Your test should certainly not. If later on you change the implementation to achieve the exact same behaviour, **your test should not fail**.\r\n\r\nSo what do you want to test? That users cannot add anything to the list? Then write a test (as you suggested) that adds something to the list and expect an exception. That they can&#39;t remove anything from the list? Do the same with another test. And so forth. \r\n\r\nIt is indeed elegant to test for *negative cases* like these ones, and I found it&#39;s very often forgotten in the functional coverage of a class. Proper coverage should specifically state what your class disallow and say what&#39;s expected in these cases.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>Why do you want to test that your list is immutable? Your \"alternative\" solution is the way to go: you should focus on testing the <em>behaviour</em> of your class, not its <em>state</em>.</p>\n\n<p>What I mean is you don't really care whether your method returns an instance of <code>UnmodifiableList</code> or anything else. Who cares? Your test should certainly not. If later on you change the implementation to achieve the exact same behaviour, <strong>your test should not fail</strong>.</p>\n\n<p>So what do you want to test? That users cannot add anything to the list? Then write a test (as you suggested) that adds something to the list and expect an exception. That they can't remove anything from the list? Do the same with another test. And so forth. </p>\n\n<p>It is indeed elegant to test for <em>negative cases</em> like these ones, and I found it's very often forgotten in the functional coverage of a class. Proper coverage should specifically state what your class disallow and say what's expected in these cases.</p>\n"},{"tags":[],"owner":{"account_id":9844613,"reputation":315,"user_id":7292595,"display_name":"Brendan Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481655545,"creation_date":1481654211,"answer_id":41128231,"question_id":8364856,"body_markdown":"I wish something like `Collections.examine(T element)` does the job without actually modifying the collection.\r\n\r\nBesides the most voted answer, be advised that there&#39;s `Collections.EmptyList` (at least) which is another unmodifiable list as well.\r\n\r\nSo, if I really have to create a utility as a dirty solution though, I will add my &#39;easy-to-identify&#39; element and see if it throws UnsupportedOperationException, then it means it is unmodifiable. Otherwise, I have to remove the entered right away of course.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I wish something like <code>Collections.examine(T element)</code> does the job without actually modifying the collection.</p>\n\n<p>Besides the most voted answer, be advised that there's <code>Collections.EmptyList</code> (at least) which is another unmodifiable list as well.</p>\n\n<p>So, if I really have to create a utility as a dirty solution though, I will add my 'easy-to-identify' element and see if it throws UnsupportedOperationException, then it means it is unmodifiable. Otherwise, I have to remove the entered right away of course.</p>\n"},{"tags":[],"owner":{"account_id":1670427,"reputation":10616,"user_id":1536976,"accept_rate":78,"display_name":"NoDataDumpNoContribution"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522852904,"creation_date":1522852904,"answer_id":49653959,"question_id":8364856,"body_markdown":"In addition to [user949300](https://stackoverflow.com/a/8364912/1536976) answer, which states that one should indeed test for the behavior, and including the comment by [Steve Zobell](https://stackoverflow.com/questions/8364856/how-to-test-if-a-list-extends-object-is-an-unmodifablelist#comment74068752_8364856), who suggests to add an empty list so in case the list is not unmodifiable it doesn&#39;t get modified, I add here an example of how a check for unmodifiability of a list could look like.\r\n\r\nThe code tries to add an empty list and if that is possible throws a IllegalArgumentException, otherwise as a convenience returns the original list of which one can now be sure that it is unmodifiable.\r\n\r\n    /**\r\n     * Ensures that a list is unmodifiable (i.e. that nothing can be added).\r\n     *\r\n     * Unmodifiable lists can e.g. be created by Collections.UnmodifiableList().\r\n     *\r\n     * @param list a list\r\n     * @param &lt;T&gt; element type of the list\r\n     * @return the list that is verified to be unmodifiable\r\n     */\r\n    public static &lt;T&gt; List&lt;T&gt; verifyUnmodifiable(List&lt;T&gt; list) {\r\n        try {\r\n            list.addAll(Collections.emptyList());\r\n        } catch (Exception e) {\r\n            return list;\r\n        }\r\n        throw new IllegalArgumentException(&quot;List is modifiable.&quot;);\r\n    }\r\n\r\nNot sure if testing for remove, clear, ... is also necessary. Not being able to add is usually a good indication of unmodifiability.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/8364912/1536976\">user949300</a> answer, which states that one should indeed test for the behavior, and including the comment by <a href=\"https://stackoverflow.com/questions/8364856/how-to-test-if-a-list-extends-object-is-an-unmodifablelist#comment74068752_8364856\">Steve Zobell</a>, who suggests to add an empty list so in case the list is not unmodifiable it doesn't get modified, I add here an example of how a check for unmodifiability of a list could look like.</p>\n\n<p>The code tries to add an empty list and if that is possible throws a IllegalArgumentException, otherwise as a convenience returns the original list of which one can now be sure that it is unmodifiable.</p>\n\n<pre><code>/**\n * Ensures that a list is unmodifiable (i.e. that nothing can be added).\n *\n * Unmodifiable lists can e.g. be created by Collections.UnmodifiableList().\n *\n * @param list a list\n * @param &lt;T&gt; element type of the list\n * @return the list that is verified to be unmodifiable\n */\npublic static &lt;T&gt; List&lt;T&gt; verifyUnmodifiable(List&lt;T&gt; list) {\n    try {\n        list.addAll(Collections.emptyList());\n    } catch (Exception e) {\n        return list;\n    }\n    throw new IllegalArgumentException(\"List is modifiable.\");\n}\n</code></pre>\n\n<p>Not sure if testing for remove, clear, ... is also necessary. Not being able to add is usually a good indication of unmodifiability.</p>\n"},{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522966228,"creation_date":1522966228,"answer_id":49682306,"question_id":8364856,"body_markdown":"If API is hard to test that&#39;s often a smell that API requires improvement. In this case the problem is that API is supposed to return read-only list but (due to the lack of such type in JDK I guess) it returns more generic type.\r\n\r\nI would consider to change function signature so that it returns the type that is effectively a read-only list, for example guava&#39;s [ImmutableList](http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html).\r\n\r\nIt is by definition can&#39;t be modified so you don&#39;t need test at all. It&#39;s also causes less confusion in clients of the class.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>If API is hard to test that's often a smell that API requires improvement. In this case the problem is that API is supposed to return read-only list but (due to the lack of such type in JDK I guess) it returns more generic type.</p>\n\n<p>I would consider to change function signature so that it returns the type that is effectively a read-only list, for example guava's <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\">ImmutableList</a>.</p>\n\n<p>It is by definition can't be modified so you don't need test at all. It's also causes less confusion in clients of the class.</p>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628045422,"creation_date":1628043596,"answer_id":68644656,"question_id":8364856,"body_markdown":"[*Set*][1], [*List*][2] and [*Map*][3] support the method **copyOf(...)** since **Java 10**.    \r\nIt ensures you get an immutable set/list/map. \r\nIf the argument is already an \r\nimmutable set/list/map, it just returns it. \r\nIf it is modifiable/mutable, copyOf(...) copies the elements/entries into an immutable set/list/map and returns it.  \r\nHowever, if one modifiable set/list/map was made unmodifiable by Collections.unmodifiableSet(...)/unmodifiableList(...)/unmodifiableMap(...),  \r\n copyOf(...) copies all elements/entries to an immutable set/list/map to ensure that it cannot be modified by someone still holding an instance of the modifiable set/list/map.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Set.html#copyOf(java.util.Collection)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Set.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><em>Set</em></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><em>List</em></a> and <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\"><em>Map</em></a> support the method <strong>copyOf(...)</strong> since <strong>Java 10</strong>.<br />\nIt ensures you get an immutable set/list/map.\nIf the argument is already an\nimmutable set/list/map, it just returns it.\nIf it is modifiable/mutable, copyOf(...) copies the elements/entries into an immutable set/list/map and returns it.<br />\nHowever, if one modifiable set/list/map was made unmodifiable by Collections.unmodifiableSet(...)/unmodifiableList(...)/unmodifiableMap(...),<br />\ncopyOf(...) copies all elements/entries to an immutable set/list/map to ensure that it cannot be modified by someone still holding an instance of the modifiable set/list/map.</p>\n"},{"tags":[],"owner":{"account_id":1885444,"reputation":155,"user_id":1704760,"display_name":"Reuben"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660339980,"creation_date":1660339980,"answer_id":73339977,"question_id":8364856,"body_markdown":"it looks like Collections.unmodifiable* are smart enough not to wrap an already unmodifiable collection:\r\n\r\n    jshell&gt; import java.util.*;\r\n    \r\n    jshell&gt; var unmodifiable = Collections.unmodifiableList(new ArrayList&lt;String&gt;())\r\n    unmodifiable ==&gt; []\r\n    \r\n    jshell&gt; unmodifiable == Collections.unmodifiableList(unmodifiable)\r\n    $3 ==&gt; true\r\n    \r\n    jshell&gt; var unmodifiableMap = Collections.unmodifiableMap(new HashMap&lt;String,String&gt;())\r\n    unmodifiableMap ==&gt; {}\r\n    \r\n    jshell&gt; unmodifiableMap == Collections.unmodifiableMap(unmodifiableMap)\r\n    $5 ==&gt; true\r\n\r\n","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>it looks like Collections.unmodifiable* are smart enough not to wrap an already unmodifiable collection:</p>\n<pre><code>jshell&gt; import java.util.*;\n\njshell&gt; var unmodifiable = Collections.unmodifiableList(new ArrayList&lt;String&gt;())\nunmodifiable ==&gt; []\n\njshell&gt; unmodifiable == Collections.unmodifiableList(unmodifiable)\n$3 ==&gt; true\n\njshell&gt; var unmodifiableMap = Collections.unmodifiableMap(new HashMap&lt;String,String&gt;())\nunmodifiableMap ==&gt; {}\n\njshell&gt; unmodifiableMap == Collections.unmodifiableMap(unmodifiableMap)\n$5 ==&gt; true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691508931,"post_id":76839526,"comment_id":135499914,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76839526/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29163080,"reputation":1,"user_id":22341351,"display_name":"Tony Freedom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691190311,"creation_date":1691190311,"answer_id":76839526,"question_id":8364856,"body_markdown":"Try this:\r\n\r\n    public &lt;T&gt; boolean isModifiableCollection(Collection&lt;T&gt; collection) {\r\n        T object = (T) new Object();\r\n        try {\r\n            collection.add(object);\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n        collection.remove(object);\r\n        return true;\r\n    }","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>Try this:</p>\n<pre><code>public &lt;T&gt; boolean isModifiableCollection(Collection&lt;T&gt; collection) {\n    T object = (T) new Object();\n    try {\n        collection.add(object);\n    } catch (Exception e) {\n        return false;\n    }\n    collection.remove(object);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":32837,"reputation":16613,"user_id":91403,"accept_rate":72,"display_name":"Renato Gama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17411,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":8364890,"answer_count":11,"score":28,"last_activity_date":1691190311,"creation_date":1322876859,"question_id":8364856,"body_markdown":"I&#39;m looking for a way to test if some given List is an unmodifiable one.\r\n\r\nI have an object that has a `List&lt;NoMatter&gt;`, in order to offer methods such as `addNoMatter(NoMatter nm)` instead of allowing the API client to simply do `.getNoMatters().add(nm);` I always return an unmodifiable version of this list, so the client is still able to have the list. I do it as follows:\r\n\r\n\tpublic List&lt;NoMatter&gt; getNoMatters() {\r\n\t\treturn Collections.unmodifiableList(this.noMatters);\r\n\t}\r\n\r\nThe problem is that when I&#39;m doing my tests I simply cant check if this object is of type UnmodifiableList. My first try was doing:\r\n\r\n\t@Test\r\n\tpublic void checkIfListIsImmutable(){\r\n\t\tassertTrue(&quot;List is not immutable&quot;, this.myObj.getNoMatters() instanceof UnmodifiableList);\r\n\t}\r\n\r\nHappens that I cant seem to be able to import the type `UnmodifiableList` neither `java.util.Collections$UnmodifiableRandomAccessList` that is what I get when I try `System.out.println(myObj.getNoMatters().getClass().getName());` at the console.\r\n\r\nSo how can I achieve it???\r\n\r\nPS.: I know I can pass this test by doing:\r\n\r\n    @Test(expected = UnsupportedOperationException.class)\r\n    public void checkIfListIsImmutable(){\r\n         this.myObj.getNoMatters().add(null);\r\n    }\r\n\r\n**EDIT:** The above test doesn&#39;t grants me that the list Im dealing with isn&#39;t immutable as I would need to have tests to every method that may modify my original list, including .remove(), .clear(), .shuffle(), etc! thats why I do not think this is a nice way to proceed. \r\n\r\n_&gt;&gt;&gt; But I still believe that its not even close to an elegant solution! &lt;&lt;&lt;_","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I'm looking for a way to test if some given List is an unmodifiable one.</p>\n\n<p>I have an object that has a <code>List&lt;NoMatter&gt;</code>, in order to offer methods such as <code>addNoMatter(NoMatter nm)</code> instead of allowing the API client to simply do <code>.getNoMatters().add(nm);</code> I always return an unmodifiable version of this list, so the client is still able to have the list. I do it as follows:</p>\n\n<pre><code>public List&lt;NoMatter&gt; getNoMatters() {\n    return Collections.unmodifiableList(this.noMatters);\n}\n</code></pre>\n\n<p>The problem is that when I'm doing my tests I simply cant check if this object is of type UnmodifiableList. My first try was doing:</p>\n\n<pre><code>@Test\npublic void checkIfListIsImmutable(){\n    assertTrue(\"List is not immutable\", this.myObj.getNoMatters() instanceof UnmodifiableList);\n}\n</code></pre>\n\n<p>Happens that I cant seem to be able to import the type <code>UnmodifiableList</code> neither <code>java.util.Collections$UnmodifiableRandomAccessList</code> that is what I get when I try <code>System.out.println(myObj.getNoMatters().getClass().getName());</code> at the console.</p>\n\n<p>So how can I achieve it???</p>\n\n<p>PS.: I know I can pass this test by doing:</p>\n\n<pre><code>@Test(expected = UnsupportedOperationException.class)\npublic void checkIfListIsImmutable(){\n     this.myObj.getNoMatters().add(null);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> The above test doesn't grants me that the list Im dealing with isn't immutable as I would need to have tests to every method that may modify my original list, including .remove(), .clear(), .shuffle(), etc! thats why I do not think this is a nice way to proceed. </p>\n\n<p><em>>>> But I still believe that its not even close to an elegant solution! &lt;&lt;&lt;</em></p>\n"},{"tags":["java","java-14","java-text-blocks"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1587860440,"post_id":61432347,"comment_id":108675971,"body_markdown":"Its a representation of a `String` after all. At least for now without further detail over &quot;why not try using an existing construct like `String.format`&quot; , the question would stand as an exact duplicate. Leaving the rest for the community to decide.","body":"Its a representation of a <code>String</code> after all. At least for now without further detail over &quot;why not try using an existing construct like <code>String.format</code>&quot; , the question would stand as an exact duplicate. Leaving the rest for the community to decide."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1587860676,"post_id":61432347,"comment_id":108676015,"body_markdown":"Does this answer your question [Java - Including variables within strings?](https://stackoverflow.com/questions/9643610/java-including-variables-within-strings)","body":"Does this answer your question <a href=\"https://stackoverflow.com/questions/9643610/java-including-variables-within-strings\">Java - Including variables within strings?</a>"},{"owner":{"account_id":14066053,"reputation":2457,"user_id":10160865,"display_name":"Dennis Gloss"},"score":0,"creation_date":1587861712,"post_id":61432347,"comment_id":108676180,"body_markdown":"I thought more about how to write java code inside the text block, `String.format` is more like a work around with which sadly I hadn&#39;t come up with...","body":"I thought more about how to write java code inside the text block, <code>String.format</code> is more like a work around with which sadly I hadn&#39;t come up with..."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1587914951,"post_id":61432347,"comment_id":108691211,"body_markdown":"@DennisGlot `String::format` is not a _workaround_, it is the normal way of doing string interpolation in Java.  (With text blocks, an instance version was also added, so you can say `&quot;...&quot;.formatted(...)` if you prefer chaining.)","body":"@DennisGlot <code>String::format</code> is not a <i>workaround</i>, it is the normal way of doing string interpolation in Java.  (With text blocks, an instance version was also added, so you can say <code>&quot;...&quot;.formatted(...)</code> if you prefer chaining.)"}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1587860651,"post_id":61432423,"comment_id":108676013,"body_markdown":"Could you explain, why is this not a duplicate of https://stackoverflow.com/questions/9643610/java-including-variables-within-strings?","body":"Could you explain, why is this not a duplicate of <a href=\"https://stackoverflow.com/questions/9643610/java-including-variables-within-strings\" title=\"java including variables within strings\">stackoverflow.com/questions/9643610/&hellip;</a>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1587860937,"post_id":61432423,"comment_id":108676060,"body_markdown":"@Naman Because that question is about conventional string syntax, while this question is specifically about text blocks.","body":"@Naman Because that question is about conventional string syntax, while this question is specifically about text blocks."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1587861429,"post_id":61432423,"comment_id":108676141,"body_markdown":"@BasilBourque The [JEP-355](https://openjdk.java.net/jeps/355) reads - *&quot;It is not a goal to define a new reference type, distinct from java.lang.String, for the strings expressed by any new construct.&quot;* or to read the other way round, *&quot;A text block is a **multi-line string** literal that avoids the need for most escape sequences, automatically formats the string in a predictable way, and gives the developer control over format when desired&#39;.* (formatted by me). Anyway, leaving further for the community to decide for the clash of thoughts added to a lack of interest in the JEP.","body":"@BasilBourque The <a href=\"https://openjdk.java.net/jeps/355\" rel=\"nofollow noreferrer\">JEP-355</a> reads - <i>&quot;It is not a goal to define a new reference type, distinct from java.lang.String, for the strings expressed by any new construct.&quot;</i> or to read the other way round, <i>&quot;A text block is a <b>multi-line string</b> literal that avoids the need for most escape sequences, automatically formats the string in a predictable way, and gives the developer control over format when desired&#39;.</i> (formatted by me). Anyway, leaving further for the community to decide for the clash of thoughts added to a lack of interest in the JEP."},{"owner":{"account_id":1573687,"reputation":7830,"user_id":4945535,"accept_rate":62,"display_name":"user140547"},"score":6,"creation_date":1587884903,"post_id":61432423,"comment_id":108680586,"body_markdown":"`String.formatted` is not &quot;really&quot; deprecated. In fact, it is a new method (since Java 13). It is deprecated only because it is related to text blocks, which are a preview feature. But if you use text blocks, you can as well use this method.","body":"<code>String.formatted</code> is not &quot;really&quot; deprecated. In fact, it is a new method (since Java 13). It is deprecated only because it is related to text blocks, which are a preview feature. But if you use text blocks, you can as well use this method."},{"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"score":4,"creation_date":1600774190,"post_id":61432423,"comment_id":113187800,"body_markdown":"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...) it&#39;s safe to use it now","body":"<a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/15/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> it&#39;s safe to use it now"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663241003,"post_id":61432423,"comment_id":130195167,"body_markdown":"Regarding the deprecation: [“However, the deprecation-based approach was eventually dropped because it was confusing to see an API element introduced in the same Java SE release as it was deprecated, that is, to see @since 13 and @Deprecated(forRemoval=true, since=&quot;13&quot;) on the same API element.”](https://openjdk.org/jeps/12#:~:text=However%2C%20the%20deprecation,on%20the%20same%20API%20element.)","body":"Regarding the deprecation: <a href=\"https://openjdk.org/jeps/12#:~:text=However%2C%20the%20deprecation,on%20the%20same%20API%20element.\" rel=\"nofollow noreferrer\">“However, the deprecation-based approach was eventually dropped because it was confusing to see an API element introduced in the same Java SE release as it was deprecated, that is, to see @since 13 and @Deprecated(forRemoval=true, since=&quot;13&quot;) on the same API element.”</a>"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":6,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1652353292,"creation_date":1587847783,"answer_id":61432423,"question_id":61432347,"body_markdown":"You can use `%s` as a *placeholder* in text blocks:\r\n\r\n    String str = &quot;&quot;&quot;\r\n    {\r\n        &quot;someKey&quot;: &quot;someValue&quot;,\r\n        &quot;date&quot;: %s,\r\n    }\r\n    &quot;&quot;&quot;\r\nand replace it using [format()][1] method.\r\n\r\n    String.format(str, LocalDate.now());\r\n\r\n---\r\nFrom [JEP 378 docs][2]:\r\n\r\n&gt; A cleaner alternative is to use String::replace or String::format, as follows:\r\n\r\n    String code = &quot;&quot;&quot;\r\n              public void print($type o) {\r\n                  System.out.println(Objects.toString(o));\r\n              }\r\n              &quot;&quot;&quot;.replace(&quot;$type&quot;, type);\r\n\r\n    String code = String.format(&quot;&quot;&quot;\r\n              public void print(%s o) {\r\n                  System.out.println(Objects.toString(o));\r\n              }\r\n              &quot;&quot;&quot;, type);\r\n\r\n&gt; Another alternative involves the introduction of a new instance method, String::formatted, which could be used as follows:\r\n\r\n    String source = &quot;&quot;&quot;\r\n                public void print(%s object) {\r\n                    System.out.println(Objects.toString(object));\r\n                }\r\n                &quot;&quot;&quot;.formatted(type);\r\n\r\n---\r\n## NOTE\r\nDespite that in the Java version 13 the `formatted()` method was marked as [deprecated][3], since **Java version 15** [`formatted(Object... args)`][4] method is officially part of the Java language, same as the Text Blocks feature itself.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\r\n  [2]: https://openjdk.java.net/jeps/378\r\n  [3]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\r\n  [4]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>You can use <code>%s</code> as a <em>placeholder</em> in text blocks:</p>\n<pre><code>String str = &quot;&quot;&quot;\n{\n    &quot;someKey&quot;: &quot;someValue&quot;,\n    &quot;date&quot;: %s,\n}\n&quot;&quot;&quot;\n</code></pre>\n<p>and replace it using <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"noreferrer\">format()</a> method.</p>\n<pre><code>String.format(str, LocalDate.now());\n</code></pre>\n<hr />\n<p>From <a href=\"https://openjdk.java.net/jeps/378\" rel=\"noreferrer\">JEP 378 docs</a>:</p>\n<blockquote>\n<p>A cleaner alternative is to use String::replace or String::format, as follows:</p>\n</blockquote>\n<pre><code>String code = &quot;&quot;&quot;\n          public void print($type o) {\n              System.out.println(Objects.toString(o));\n          }\n          &quot;&quot;&quot;.replace(&quot;$type&quot;, type);\n\nString code = String.format(&quot;&quot;&quot;\n          public void print(%s o) {\n              System.out.println(Objects.toString(o));\n          }\n          &quot;&quot;&quot;, type);\n</code></pre>\n<blockquote>\n<p>Another alternative involves the introduction of a new instance method, String::formatted, which could be used as follows:</p>\n</blockquote>\n<pre><code>String source = &quot;&quot;&quot;\n            public void print(%s object) {\n                System.out.println(Objects.toString(object));\n            }\n            &quot;&quot;&quot;.formatted(type);\n</code></pre>\n<hr />\n<h2>NOTE</h2>\n<p>Despite that in the Java version 13 the <code>formatted()</code> method was marked as <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"noreferrer\">deprecated</a>, since <strong>Java version 15</strong> <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"noreferrer\"><code>formatted(Object... args)</code></a> method is officially part of the Java language, same as the Text Blocks feature itself.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188511,"creation_date":1691188511,"answer_id":76839429,"question_id":61432347,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example single-line use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nIt also supports Java&#39;s multi-line text blocks:\r\n\r\n```java\r\nString title = &quot;My Web Page&quot;;\r\nString text  = &quot;Hello, world&quot;;\r\nString html = STR.&quot;&quot;&quot;\r\n        &lt;html&gt;\r\n          &lt;head&gt;\r\n            &lt;title&gt;\\{title}&lt;/title&gt;\r\n          &lt;/head&gt;\r\n          &lt;body&gt;\r\n            &lt;p&gt;\\{text}&lt;/p&gt;\r\n          &lt;/body&gt;\r\n        &lt;/html&gt;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n\r\nand you could do something similar to create an HTML data structure, via a string template that quotes HTML entities.\r\n","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example single-line use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>It also supports Java's multi-line text blocks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String title = &quot;My Web Page&quot;;\nString text  = &quot;Hello, world&quot;;\nString html = STR.&quot;&quot;&quot;\n        &lt;html&gt;\n          &lt;head&gt;\n            &lt;title&gt;\\{title}&lt;/title&gt;\n          &lt;/head&gt;\n          &lt;body&gt;\n            &lt;p&gt;\\{text}&lt;/p&gt;\n          &lt;/body&gt;\n        &lt;/html&gt;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n<p>and you could do something similar to create an HTML data structure, via a string template that quotes HTML entities.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691189897,"creation_date":1691189897,"answer_id":76839501,"question_id":61432347,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nIt also supports Java&#39;s multi-line text blocks:\r\n\r\n```java\r\nString title = &quot;My Web Page&quot;;\r\nString text  = &quot;Hello, world&quot;;\r\nString html = STR.&quot;&quot;&quot;\r\n        &lt;html&gt;\r\n          &lt;head&gt;\r\n            &lt;title&gt;\\{title}&lt;/title&gt;\r\n          &lt;/head&gt;\r\n          &lt;body&gt;\r\n            &lt;p&gt;\\{text}&lt;/p&gt;\r\n          &lt;/body&gt;\r\n        &lt;/html&gt;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:\r\n\r\n```java\r\nvar JSON = StringTemplate.Processor.of(\r\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\r\n    );\r\n\r\nString name    = &quot;Joan Smith&quot;;\r\nString phone   = &quot;555-123-4567&quot;;\r\nString address = &quot;1 Maple Drive, Anytown&quot;;\r\nJSONObject doc = JSON.&quot;&quot;&quot;\r\n    {\r\n        &quot;name&quot;:    &quot;\\{name}&quot;,\r\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\r\n        &quot;address&quot;: &quot;\\{address}&quot;\r\n    };\r\n    &quot;&quot;&quot;;\r\n```\r\n","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>It also supports Java's multi-line text blocks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String title = &quot;My Web Page&quot;;\nString text  = &quot;Hello, world&quot;;\nString html = STR.&quot;&quot;&quot;\n        &lt;html&gt;\n          &lt;head&gt;\n            &lt;title&gt;\\{title}&lt;/title&gt;\n          &lt;/head&gt;\n          &lt;body&gt;\n            &lt;p&gt;\\{text}&lt;/p&gt;\n          &lt;/body&gt;\n        &lt;/html&gt;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var JSON = StringTemplate.Processor.of(\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\n    );\n\nString name    = &quot;Joan Smith&quot;;\nString phone   = &quot;555-123-4567&quot;;\nString address = &quot;1 Maple Drive, Anytown&quot;;\nJSONObject doc = JSON.&quot;&quot;&quot;\n    {\n        &quot;name&quot;:    &quot;\\{name}&quot;,\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\n        &quot;address&quot;: &quot;\\{address}&quot;\n    };\n    &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":14066053,"reputation":2457,"user_id":10160865,"display_name":"Dennis Gloss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17227,"favorite_count":0,"down_vote_count":2,"up_vote_count":38,"accepted_answer_id":61432423,"answer_count":3,"score":36,"last_activity_date":1691189897,"creation_date":1587847411,"question_id":61432347,"body_markdown":"How can I put a *variable* into Java [Text Block][1]?  \r\n\r\nLike this:\r\n```\r\n&quot;&quot;&quot;\r\n{\r\n    &quot;someKey&quot;: &quot;someValue&quot;,\r\n    &quot;date&quot;: &quot;${LocalDate.now()}&quot;,\r\n\r\n}\r\n&quot;&quot;&quot;\r\n```\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/378","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>How can I put a <em>variable</em> into Java <a href=\"https://openjdk.java.net/jeps/378\" rel=\"noreferrer\">Text Block</a>?</p>\n<p>Like this:</p>\n<pre><code>&quot;&quot;&quot;\n{\n    &quot;someKey&quot;: &quot;someValue&quot;,\n    &quot;date&quot;: &quot;${LocalDate.now()}&quot;,\n\n}\n&quot;&quot;&quot;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1663777287,"post_id":73804054,"comment_id":130320860,"body_markdown":"https://www.baeldung.com/java-printstream-printf","body":"<a href=\"https://www.baeldung.com/java-printstream-printf\" rel=\"nofollow noreferrer\">baeldung.com/java-printstream-printf</a>"},{"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"score":0,"creation_date":1663777580,"post_id":73804054,"comment_id":130320948,"body_markdown":"check this: https://stackoverflow.com/questions/6389827/string-variable-interpolation-java","body":"check this: <a href=\"https://stackoverflow.com/questions/6389827/string-variable-interpolation-java\" title=\"string variable interpolation java\">stackoverflow.com/questions/6389827/&hellip;</a>"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691191846,"post_id":73804054,"comment_id":135463699,"body_markdown":"[JEP430](https://openjdk.org/jeps/430) on the way!","body":"<a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP430</a> on the way!"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1691194715,"post_id":73804054,"comment_id":135463869,"body_markdown":"Does this answer your question? [String variable interpolation Java](https://stackoverflow.com/questions/6389827/string-variable-interpolation-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6389827/string-variable-interpolation-java\">String variable interpolation Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1663777486,"post_id":73804101,"comment_id":130320926,"body_markdown":"You should never do that. In this case, `System.out.printf(format, params)` is the same as `System.out.println(String.format(format, params))` (add a \\n for the newline), except shorter, and idiomatic.","body":"You should never do that. In this case, <code>System.out.printf(format, params)</code> is the same as <code>System.out.println(String.format(format, params))</code> (add a \\n for the newline), except shorter, and idiomatic."},{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1663777560,"post_id":73804101,"comment_id":130320939,"body_markdown":"Oh thank you for letting me know, I think this is a good option tho if you want to store in a String, I&#39;ll fix my answer","body":"Oh thank you for letting me know, I think this is a good option tho if you want to store in a String, I&#39;ll fix my answer"},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":0,"creation_date":1691189635,"post_id":73804101,"comment_id":135463483,"body_markdown":"Java code should use `%n` rather than `\\n` for the line separator.","body":"Java code should use <code>%n</code> rather than <code>\\n</code> for the line separator."}],"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663778890,"creation_date":1663777424,"answer_id":73804101,"question_id":73804054,"body_markdown":"You can use java String [Format][1]\r\nsuch as \r\n    \r\n    String foo = String.format(&quot;The total cost is %.2f&quot;,total_cost);\r\nor if printing use such as\r\n\r\n    System.out.printf(&quot;The total cost is %.2f\\n&quot;,total_cost);\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Inserting variables into strings","body":"<p>You can use java String <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Format</a>\nsuch as</p>\n<pre><code>String foo = String.format(&quot;The total cost is %.2f&quot;,total_cost);\n</code></pre>\n<p>or if printing use such as</p>\n<pre><code>System.out.printf(&quot;The total cost is %.2f\\n&quot;,total_cost);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691189726,"creation_date":1691189726,"answer_id":76839495,"question_id":73804054,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nSystem.out.println(STR.&quot;The total cost is \\{total_cost}.&quot;);\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Inserting variables into strings","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(STR.&quot;The total cost is \\{total_cost}.&quot;);\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":26404082,"reputation":9,"user_id":20054131,"display_name":"gaskiller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1691189726,"creation_date":1663777114,"question_id":73804054,"body_markdown":"Im trying to insert the total_cost variable into the string in the last few lines without doing the (&quot;its&quot; + total_cost) method. Im trying to replicate the python {total_variable} method in java basically \r\n\r\n        import java.util.Scanner;\r\n        public class Decision2 {\r\n            public static void main(String[] arrgs) {\r\n                Scanner input = new Scanner(System.in);\r\n                int ticket = 0;\r\n                double total_cost = 0;\r\n                System.out.println(&quot;How many tickets do you want to buy?&quot;);\r\n                ticket = input.nextInt();\r\n                if (ticket &gt;= 5) {\r\n                    total_cost = total_cost + (10.95 * ticket);\r\n\r\n                } else {\r\n                    total_cost = total_cost + (8.95 * ticket);\r\n\r\n\r\n                }\r\n                System.out.printf(&quot;The total cost is {total_cost}&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Inserting variables into strings","body":"<p>Im trying to insert the total_cost variable into the string in the last few lines without doing the (&quot;its&quot; + total_cost) method. Im trying to replicate the python {total_variable} method in java basically</p>\n<pre><code>    import java.util.Scanner;\n    public class Decision2 {\n        public static void main(String[] arrgs) {\n            Scanner input = new Scanner(System.in);\n            int ticket = 0;\n            double total_cost = 0;\n            System.out.println(&quot;How many tickets do you want to buy?&quot;);\n            ticket = input.nextInt();\n            if (ticket &gt;= 5) {\n                total_cost = total_cost + (10.95 * ticket);\n\n            } else {\n                total_cost = total_cost + (8.95 * ticket);\n\n\n            }\n            System.out.printf(&quot;The total cost is {total_cost}&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1590566841,"post_id":62038272,"comment_id":109724151,"body_markdown":"Does this answer your question? [How to format strings in Java](https://stackoverflow.com/questions/6431933/how-to-format-strings-in-java) (TL;DR nope, but there are other ways)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6431933/how-to-format-strings-in-java\">How to format strings in Java</a> (TL;DR nope, but there are other ways)"},{"owner":{"account_id":543862,"reputation":53458,"user_id":913124,"accept_rate":100,"display_name":"Christos"},"score":0,"creation_date":1590566870,"post_id":62038272,"comment_id":109724170,"body_markdown":"Unfortunately, there isn&#39;t such a thing (sting interpolation) in Java.","body":"Unfortunately, there isn&#39;t such a thing (sting interpolation) in Java."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1590566887,"post_id":62038272,"comment_id":109724179,"body_markdown":"It&#39;s possible in kotlin but not in Java - you can use string concatenation instead `String s = &quot;Date: &quot; + LocalDateTime.now();`.","body":"It&#39;s possible in kotlin but not in Java - you can use string concatenation instead <code>String s = &quot;Date: &quot; + LocalDateTime.now();</code>."},{"owner":{"account_id":15676749,"reputation":129,"user_id":11311835,"display_name":"Snackerino"},"score":0,"creation_date":1590567361,"post_id":62038272,"comment_id":109724449,"body_markdown":"I thought so. Thanks a lot ;)","body":"I thought so. Thanks a lot ;)"}],"answers":[{"comments":[{"owner":{"account_id":15676749,"reputation":129,"user_id":11311835,"display_name":"Snackerino"},"score":1,"creation_date":1590668480,"post_id":62039122,"comment_id":109770202,"body_markdown":"Thanks, I do know how to concat strings but i wanted to see if Java supports the same way of &quot;String interpolation&quot;.","body":"Thanks, I do know how to concat strings but i wanted to see if Java supports the same way of &quot;String interpolation&quot;."}],"tags":[],"owner":{"account_id":8791544,"reputation":4461,"user_id":6571165,"display_name":"Gopinath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590570365,"creation_date":1590569654,"answer_id":62039122,"question_id":62038272,"body_markdown":"Java provides a type-safe way of concatenating Strings.\r\n\r\n**Here is a demonstration using jshell:** \r\n\r\n    &gt; jshell\r\n    \r\n    jshell&gt; import java.time.*;\r\n    \r\n    jshell&gt; String s = (&quot;Date: &quot; + LocalDateTime.now());\r\n    s ==&gt; &quot;Date: 2020-05-27T09:49:10.476140&quot;\r\n    \r\n    jshell&gt;\r\n\r\n\r\n**Here is a working example program that uses Date formatting:**\r\n\r\n    // File name: Demo.java\r\n\r\n    import java.text.Format;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Demo {\r\n       public static void main(String[] args) {\r\n          Format f = new SimpleDateFormat(&quot;dd/mm/yyyy hh:mm:ss a&quot;);\r\n          String s = ( &quot;Date: &quot; + f.format(new Date()) );\r\n          System.out.println(s);\r\n       }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    &gt; javac Demo.java\r\n    \r\n    &gt; java Demo\r\n    Date: 27/03/2020 10:03:02 am\r\n\r\n","title":"Java equivalent to C# $&quot;{var}&quot; formatting","body":"<p>Java provides a type-safe way of concatenating Strings.</p>\n\n<p><strong>Here is a demonstration using jshell:</strong> </p>\n\n<pre><code>&gt; jshell\n\njshell&gt; import java.time.*;\n\njshell&gt; String s = (\"Date: \" + LocalDateTime.now());\ns ==&gt; \"Date: 2020-05-27T09:49:10.476140\"\n\njshell&gt;\n</code></pre>\n\n<p><strong>Here is a working example program that uses Date formatting:</strong></p>\n\n<pre><code>// File name: Demo.java\n\nimport java.text.Format;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Demo {\n   public static void main(String[] args) {\n      Format f = new SimpleDateFormat(\"dd/mm/yyyy hh:mm:ss a\");\n      String s = ( \"Date: \" + f.format(new Date()) );\n      System.out.println(s);\n   }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt; javac Demo.java\n\n&gt; java Demo\nDate: 27/03/2020 10:03:02 am\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1691191553,"post_id":76839483,"comment_id":135463667,"body_markdown":"Watching Java begrudgingly implement language features ten years after they become mainstream is somewhat amusing. See: String interpolation, lambdas, dataclasses (`record`), streaming API, etc.","body":"Watching Java begrudgingly implement language features ten years after they become mainstream is somewhat amusing. See: String interpolation, lambdas, dataclasses (<code>record</code>), streaming API, etc."},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":0,"creation_date":1691194006,"post_id":76839483,"comment_id":135463839,"body_markdown":"Java&#39;s string templates are completely different, and in my view much better, than string interpolation features in other languages.  Sometimes it can be best to get a feature right, even if it takes a bit longer than a quick hack.  (While I think Java hit a home run with string templates, I agree that some other features could have been introduced sooner.)","body":"Java&#39;s string templates are completely different, and in my view much better, than string interpolation features in other languages.  Sometimes it can be best to get a feature right, even if it takes a bit longer than a quick hack.  (While I think Java hit a home run with string templates, I agree that some other features could have been introduced sooner.)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1691194573,"post_id":76839483,"comment_id":135463862,"body_markdown":"Oh, I didn&#39;t read the proposal before commenting. It looks like they did a good job. That&#39;s basically how Scala&#39;s always done it (https://docs.scala-lang.org/scala3/book/string-interpolation.html), but it&#39;s nice to see that feature in other languages too.","body":"Oh, I didn&#39;t read the proposal before commenting. It looks like they did a good job. That&#39;s basically how Scala&#39;s always done it (<a href=\"https://docs.scala-lang.org/scala3/book/string-interpolation.html\" rel=\"nofollow noreferrer\">docs.scala-lang.org/scala3/book/string-interpolation.html</a>), but it&#39;s nice to see that feature in other languages too."}],"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691189571,"creation_date":1691189571,"answer_id":76839483,"question_id":62038272,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString s = STR.&quot;Date: \\{new DateTime()}&quot;;\r\n```\r\n\r\nA string template can interpolate arbitrary code, which may contain newlines and comments that won&#39;t show up in the final string:\r\n\r\n```java\r\nString time = STR.&quot;The time is \\{\r\n   // This does custom formatting.\r\n   DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;).format(LocalTime.now())\r\n} right now&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Java equivalent to C# $&quot;{var}&quot; formatting","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = STR.&quot;Date: \\{new DateTime()}&quot;;\n</code></pre>\n<p>A string template can interpolate arbitrary code, which may contain newlines and comments that won't show up in the final string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String time = STR.&quot;The time is \\{\n   // This does custom formatting.\n   DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;).format(LocalTime.now())\n} right now&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":15676749,"reputation":129,"user_id":11311835,"display_name":"Snackerino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62039122,"answer_count":2,"score":0,"last_activity_date":1691189571,"creation_date":1590566738,"question_id":62038272,"body_markdown":"So I am learning a bit of Java and I&#39;m just curios if there is an equivalent to the string format with the $ sign like in C#.\r\nFor example\r\n\r\n    string s = $&quot;Date: {DateTime.Now}&quot;;\r\n    // s = Date: 5/27/2020 8:02:25 AM\r\n\r\nIs this possible in Java?\r\nI find it more convenient than doing it with indexes.","title":"Java equivalent to C# $&quot;{var}&quot; formatting","body":"<p>So I am learning a bit of Java and I'm just curios if there is an equivalent to the string format with the $ sign like in C#.\nFor example</p>\n\n<pre><code>string s = $\"Date: {DateTime.Now}\";\n// s = Date: 5/27/2020 8:02:25 AM\n</code></pre>\n\n<p>Is this possible in Java?\nI find it more convenient than doing it with indexes.</p>\n"},{"tags":["java","string-formatting"],"comments":[{"owner":{"account_id":55748,"reputation":5870,"user_id":167016,"accept_rate":78,"display_name":"vpram86"},"score":0,"creation_date":1266475800,"post_id":2286648,"comment_id":2250667,"body_markdown":"You might extend MessageFormat and implement the mapping funtionality from variables to indices in that.","body":"You might extend MessageFormat and implement the mapping funtionality from variables to indices in that."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1453118707,"post_id":2286648,"comment_id":57448087,"body_markdown":"See StrSubstitutor - https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html","body":"See StrSubstitutor - <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1506511695,"post_id":2286648,"comment_id":79849077,"body_markdown":"Some history: Java mostly copied C/C++ on this matter as it tried to lure developers from the C++ world where `%s` was common practice. https://en.wikipedia.org/wiki/Printf_format_string#History\nAlso note that some IDE and FindBugs may automatically detect mismatching %s and %d counts, but I would still prefer named fields.","body":"Some history: Java mostly copied C/C++ on this matter as it tried to lure developers from the C++ world where <code>%s</code> was common practice. <a href=\"https://en.wikipedia.org/wiki/Printf_format_string#History\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Printf_format_string#History</a> Also note that some IDE and FindBugs may automatically detect mismatching %s and %d counts, but I would still prefer named fields."}],"answers":[{"comments":[{"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"score":4,"creation_date":1266474473,"post_id":2286702,"comment_id":2250605,"body_markdown":"Freemarker? i guess he is willing to know, how to do this in plain java. Anyways if Freemarker is the probable answer then can i say JSP too will be the correct answer?","body":"Freemarker? i guess he is willing to know, how to do this in plain java. Anyways if Freemarker is the probable answer then can i say JSP too will be the correct answer?"},{"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"score":1,"creation_date":1266478942,"post_id":2286702,"comment_id":2250881,"body_markdown":"Thanks, but for my task at hand this seems to be kind of overkill. But thanks.","body":"Thanks, but for my task at hand this seems to be kind of overkill. But thanks."},{"owner":{"account_id":19015,"reputation":16929,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"score":1,"creation_date":1266505358,"post_id":2286702,"comment_id":2253614,"body_markdown":"@Rakesh JSP is a very &quot;view/FE&quot; specific thing. I have used FreeMarker in the past for generating XML and sometimes even generated JAVA files. Andy am afraid you will have to write one utility yourself (or like the one prescribed above)","body":"@Rakesh JSP is a very &quot;view/FE&quot; specific thing. I have used FreeMarker in the past for generating XML and sometimes even generated JAVA files. Andy am afraid you will have to write one utility yourself (or like the one prescribed above)"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1548931176,"post_id":2286702,"comment_id":95725240,"body_markdown":"@Boris which one is better freemarker vs velocity vs stringtemplate?","body":"@Boris which one is better freemarker vs velocity vs stringtemplate?"},{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":1,"creation_date":1548931343,"post_id":2286702,"comment_id":95725347,"body_markdown":"@gaurav take a look at https://stackoverflow.com/questions/3741618/what-are-the-main-differences-between-stringtemplate-and-freemarker and https://dzone.com/articles/template-engines-review-after-deprecated-velocity","body":"@gaurav take a look at <a href=\"https://stackoverflow.com/questions/3741618/what-are-the-main-differences-between-stringtemplate-and-freemarker\" title=\"what are the main differences between stringtemplate and freemarker\">stackoverflow.com/questions/3741618/&hellip;</a> and <a href=\"https://dzone.com/articles/template-engines-review-after-deprecated-velocity\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"}],"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":5,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1560809049,"creation_date":1266473998,"answer_id":2286702,"question_id":2286648,"body_markdown":"Try [Freemarker][1], templating library.\r\n\r\n[![alt text][2]][2]\r\n\r\n\r\n  [1]: http://freemarker.org/\r\n  [2]: https://i.stack.imgur.com/z5T5K.png","title":"Named placeholders in string formatting","body":"<p>Try <a href=\"http://freemarker.org/\" rel=\"nofollow noreferrer\">Freemarker</a>, templating library.</p>\n\n<p><a href=\"https://i.stack.imgur.com/z5T5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5T5K.png\" alt=\"alt text\"></a></p>\n"},{"comments":[{"owner":{"account_id":29641,"reputation":2859,"user_id":80266,"display_name":"giladbu"},"score":0,"creation_date":1266481036,"post_id":2286732,"comment_id":2251043,"body_markdown":"not sure why you can&#39;t, the position in the string is not important, only the position in the list of args, which makes it a renaming problem. You know the name of the keys, which means you can decide a position for a key in the list of arguments.     \nfrom now on value will be known as 0 and column as 1:\n     MessageeFormat.format(&quot;There&#39;s an incorrect value \\&quot;{0}\\&quot; in column # {1}, using {0} as value can cause many problems&quot;, valueMap.get(&#39;value&#39;), valueMap.get(&#39;column&#39;));","body":"not sure why you can&#39;t, the position in the string is not important, only the position in the list of args, which makes it a renaming problem. You know the name of the keys, which means you can decide a position for a key in the list of arguments.      from now on value will be known as 0 and column as 1:      MessageeFormat.format(&quot;There&#39;s an incorrect value \\&quot;{0}\\&quot; in column # {1}, using {0} as value can cause many problems&quot;, valueMap.get(&#39;value&#39;), valueMap.get(&#39;column&#39;));"},{"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"score":1,"creation_date":1266569549,"post_id":2286732,"comment_id":2259706,"body_markdown":"Thanks for a clue, it helped me to write simple function that does exactly what I want (I&#39;ve put it below).","body":"Thanks for a clue, it helped me to write simple function that does exactly what I want (I&#39;ve put it below)."},{"owner":{"account_id":13252,"reputation":7128,"user_id":26496,"accept_rate":79,"display_name":"Kees de Kooter"},"score":1,"creation_date":1461660404,"post_id":2286732,"comment_id":61287258,"body_markdown":"Agreed, the syntax is much cleaner. Too bad MessageFormat has got a mind of its own when it comes to formatting numeric values.","body":"Agreed, the syntax is much cleaner. Too bad MessageFormat has got a mind of its own when it comes to formatting numeric values."},{"owner":{"account_id":13252,"reputation":7128,"user_id":26496,"accept_rate":79,"display_name":"Kees de Kooter"},"score":0,"creation_date":1461660733,"post_id":2286732,"comment_id":61287521,"body_markdown":"And it seems to ignore placeholders surrounded by single quotes.","body":"And it seems to ignore placeholders surrounded by single quotes."},{"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1466435443,"post_id":2286732,"comment_id":63302370,"body_markdown":"`MessageFormat` is great but cumbersome for relatively large json content","body":"<code>MessageFormat</code> is great but cumbersome for relatively large json content"},{"owner":{"account_id":1968063,"reputation":23689,"user_id":1767754,"accept_rate":70,"display_name":"user1767754"},"score":0,"creation_date":1512693035,"post_id":2286732,"comment_id":82372133,"body_markdown":"That didnt work for me at all imported `java.text.MessageFormat` and it is not mapping to `{0}` any clue?","body":"That didnt work for me at all imported <code>java.text.MessageFormat</code> and it is not mapping to <code>{0}</code> any clue?"},{"owner":{"account_id":1781418,"reputation":1399,"user_id":1624052,"accept_rate":92,"display_name":"Dan Torrey"},"score":0,"creation_date":1525458284,"post_id":2286732,"comment_id":87379301,"body_markdown":"This changed my life","body":"This changed my life"},{"owner":{"account_id":100045,"reputation":2725,"user_id":269876,"accept_rate":0,"display_name":"Lo-Tan"},"score":0,"creation_date":1527886706,"post_id":2286732,"comment_id":88312657,"body_markdown":"What if your strings are dynamic @giladbu? I feel like this only works easily if you have static message strings that are being interpolated.","body":"What if your strings are dynamic @giladbu? I feel like this only works easily if you have static message strings that are being interpolated."},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1663838134,"post_id":2286732,"comment_id":130335010,"body_markdown":"Also String.format uses regexp, and if your template has reserved characters you should escape them.","body":"Also String.format uses regexp, and if your template has reserved characters you should escape them."}],"tags":[],"owner":{"account_id":29641,"reputation":2859,"user_id":80266,"display_name":"giladbu"},"comment_count":9,"down_vote_count":2,"up_vote_count":107,"is_accepted":false,"score":105,"last_activity_date":1513330627,"creation_date":1266474606,"answer_id":2286732,"question_id":2286648,"body_markdown":"not quite, but you can use [MessageFormat][1] to reference one value multiple times:\r\n\r\n    MessageFormat.format(&quot;There&#39;s an incorrect value \\&quot;{0}\\&quot; in column # {1}&quot;, x, y);\r\n\r\nThe above can be done with String.format() as well, but I find messageFormat syntax cleaner if you need to build complex expressions, plus you dont need to care about the type of the object you are putting into the string\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html","title":"Named placeholders in string formatting","body":"<p>not quite, but you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">MessageFormat</a> to reference one value multiple times:</p>\n\n<pre><code>MessageFormat.format(\"There's an incorrect value \\\"{0}\\\" in column # {1}\", x, y);\n</code></pre>\n\n<p>The above can be done with String.format() as well, but I find messageFormat syntax cleaner if you need to build complex expressions, plus you dont need to care about the type of the object you are putting into the string</p>\n"},{"comments":[{"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"score":0,"creation_date":1266569477,"post_id":2287426,"comment_id":2259698,"body_markdown":"Thanks a lot, it does almost what I want, but the only thing is it does not account modifiers (consider &quot;%(key)08d&quot;)","body":"Thanks a lot, it does almost what I want, but the only thing is it does not account modifiers (consider &quot;%(key)08d&quot;)"},{"owner":{"account_id":291138,"reputation":17338,"user_id":593105,"accept_rate":75,"display_name":"Aaron Dufour"},"score":1,"creation_date":1341602496,"post_id":2287426,"comment_id":14978415,"body_markdown":"Note also that this goes into an infinite loop if any of the values being used contain the corresponding entry.","body":"Note also that this goes into an infinite loop if any of the values being used contain the corresponding entry."},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":2,"creation_date":1526394200,"post_id":2287426,"comment_id":87721285,"body_markdown":"**Warning:** Because the loop treats intermediate substitution results as format strings of their own, [this solution is vulnerable to format string attacks](https://codereview.stackexchange.com/a/194454/9357). Any correct solution should make one single pass through the format string.","body":"<b>Warning:</b> Because the loop treats intermediate substitution results as format strings of their own, <a href=\"https://codereview.stackexchange.com/a/194454/9357\">this solution is vulnerable to format string attacks</a>. Any correct solution should make one single pass through the format string."}],"tags":[],"owner":{"account_id":93884,"reputation":11967,"user_id":256660,"accept_rate":75,"display_name":"Lombo"},"comment_count":3,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1414237564,"creation_date":1266484385,"answer_id":2287426,"question_id":2286648,"body_markdown":"You could have something like this on a string helper class\r\n\r\n    /**\r\n\t * An interpreter for strings with named placeholders.\r\n\t *\r\n\t * For example given the string &quot;hello %(myName)&quot; and the map &lt;code&gt;\r\n\t *  \t&lt;p&gt;Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();&lt;/p&gt;\r\n\t * \t\t&lt;p&gt;map.put(&quot;myName&quot;, &quot;world&quot;);&lt;/p&gt;\r\n\t * &lt;/code&gt;\r\n\t *\r\n\t * the call {@code format(&quot;hello %(myName)&quot;, map)} returns &quot;hello world&quot;\r\n\t *\r\n\t * It replaces every occurrence of a named placeholder with its given value\r\n\t * in the map. If there is a named place holder which is not found in the\r\n\t * map then the string will retain that placeholder. Likewise, if there is\r\n\t * an entry in the map that does not have its respective placeholder, it is\r\n\t * ignored.\r\n\t *\r\n\t * @param str\r\n\t *            string to format\r\n\t * @param values\r\n\t *            to replace\r\n\t * @return formatted string\r\n\t */\r\n\tpublic static String format(String str, Map&lt;String, Object&gt; values) {\r\n\r\n\t\tStringBuilder builder = new StringBuilder(str);\r\n\r\n\t\tfor (Entry&lt;String, Object&gt; entry : values.entrySet()) {\r\n\r\n\t\t\tint start;\r\n\t\t\tString pattern = &quot;%(&quot; + entry.getKey() + &quot;)&quot;;\r\n\t\t\tString value = entry.getValue().toString();\r\n\r\n\t\t\t// Replace every occurence of %(key) with value\r\n\t\t\twhile ((start = builder.indexOf(pattern)) != -1) {\r\n\t\t\t\tbuilder.replace(start, start + pattern.length(), value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn builder.toString();\r\n\t}","title":"Named placeholders in string formatting","body":"<p>You could have something like this on a string helper class</p>\n\n<pre><code>/**\n * An interpreter for strings with named placeholders.\n *\n * For example given the string \"hello %(myName)\" and the map &lt;code&gt;\n *      &lt;p&gt;Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();&lt;/p&gt;\n *      &lt;p&gt;map.put(\"myName\", \"world\");&lt;/p&gt;\n * &lt;/code&gt;\n *\n * the call {@code format(\"hello %(myName)\", map)} returns \"hello world\"\n *\n * It replaces every occurrence of a named placeholder with its given value\n * in the map. If there is a named place holder which is not found in the\n * map then the string will retain that placeholder. Likewise, if there is\n * an entry in the map that does not have its respective placeholder, it is\n * ignored.\n *\n * @param str\n *            string to format\n * @param values\n *            to replace\n * @return formatted string\n */\npublic static String format(String str, Map&lt;String, Object&gt; values) {\n\n    StringBuilder builder = new StringBuilder(str);\n\n    for (Entry&lt;String, Object&gt; entry : values.entrySet()) {\n\n        int start;\n        String pattern = \"%(\" + entry.getKey() + \")\";\n        String value = entry.getValue().toString();\n\n        // Replace every occurence of %(key) with value\n        while ((start = builder.indexOf(pattern)) != -1) {\n            builder.replace(start, start + pattern.length(), value);\n        }\n    }\n\n    return builder.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":291138,"reputation":17338,"user_id":593105,"accept_rate":75,"display_name":"Aaron Dufour"},"score":0,"creation_date":1341602944,"post_id":2295004,"comment_id":14978594,"body_markdown":"Unlike in Lombo&#39;s answer, this cannot get stuck in an infinite loop, since `formatPos` can&#39;t contain `formatKey`.","body":"Unlike in Lombo&#39;s answer, this cannot get stuck in an infinite loop, since <code>formatPos</code> can&#39;t contain <code>formatKey</code>."},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":10,"creation_date":1526394258,"post_id":2295004,"comment_id":87721334,"body_markdown":"**Warning:** Because the loop treats intermediate substitution results as format strings of their own, [this solution is vulnerable to format string attacks](https://codereview.stackexchange.com/a/194454/9357). Any correct solution should make one single pass through the format string.","body":"<b>Warning:</b> Because the loop treats intermediate substitution results as format strings of their own, <a href=\"https://codereview.stackexchange.com/a/194454/9357\">this solution is vulnerable to format string attacks</a>. Any correct solution should make one single pass through the format string."}],"tags":[],"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"comment_count":2,"down_vote_count":4,"up_vote_count":12,"is_accepted":true,"score":8,"last_activity_date":1414237535,"creation_date":1266569645,"answer_id":2295004,"question_id":2286648,"body_markdown":"Thanks for all your help! Using all your clues, I&#39;ve written routine to do exactly what I want -- python-like string formatting using dictionary. Since I&#39;m Java newbie, any hints are appreciated.\r\n\r\n    public static String dictFormat(String format, Hashtable&lt;String, Object&gt; values) {\r\n        StringBuilder convFormat = new StringBuilder(format);\r\n        Enumeration&lt;String&gt; keys = values.keys();\r\n        ArrayList valueList = new ArrayList();\r\n        int currentPos = 1;\r\n        while (keys.hasMoreElements()) {\r\n            String key = keys.nextElement(),\r\n            formatKey = &quot;%(&quot; + key + &quot;)&quot;,\r\n            formatPos = &quot;%&quot; + Integer.toString(currentPos) + &quot;$&quot;;\r\n            int index = -1;\r\n            while ((index = convFormat.indexOf(formatKey, index)) != -1) {\r\n                convFormat.replace(index, index + formatKey.length(), formatPos);\r\n                index += formatPos.length();\r\n            }\r\n            valueList.add(values.get(key));\r\n            ++currentPos;\r\n        }\r\n        return String.format(convFormat.toString(), valueList.toArray());\r\n    }\r\n\r\n","title":"Named placeholders in string formatting","body":"<p>Thanks for all your help! Using all your clues, I've written routine to do exactly what I want -- python-like string formatting using dictionary. Since I'm Java newbie, any hints are appreciated.</p>\n\n<pre><code>public static String dictFormat(String format, Hashtable&lt;String, Object&gt; values) {\n    StringBuilder convFormat = new StringBuilder(format);\n    Enumeration&lt;String&gt; keys = values.keys();\n    ArrayList valueList = new ArrayList();\n    int currentPos = 1;\n    while (keys.hasMoreElements()) {\n        String key = keys.nextElement(),\n        formatKey = \"%(\" + key + \")\",\n        formatPos = \"%\" + Integer.toString(currentPos) + \"$\";\n        int index = -1;\n        while ((index = convFormat.indexOf(formatKey, index)) != -1) {\n            convFormat.replace(index, index + formatKey.length(), formatPos);\n            index += formatPos.length();\n        }\n        valueList.add(values.get(key));\n        ++currentPos;\n    }\n    return String.format(convFormat.toString(), valueList.toArray());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1453113352,"post_id":3573924,"comment_id":57444835,"body_markdown":"Had trouble with the `&#39;` char: `unexpected char: &#39;&#39;&#39;`","body":"Had trouble with the <code>&#39;</code> char: <code>unexpected char: &#39;&#39;&#39;</code>"}],"tags":[],"owner":{"account_id":4373,"reputation":9679,"user_id":6533,"accept_rate":89,"display_name":"Fixpoint"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1439246517,"creation_date":1282816091,"answer_id":3573924,"question_id":2286648,"body_markdown":"You can use [StringTemplate][1] library, it offers what you want and much more.\r\n\r\n    import org.antlr.stringtemplate.*;\r\n     \r\n    final StringTemplate hello = new StringTemplate(&quot;Hello, $name$&quot;);\r\n    hello.setAttribute(&quot;name&quot;, &quot;World&quot;);\r\n    System.out.println(hello.toString());\r\n\r\n\r\n  [1]: https://theantlrguy.atlassian.net/wiki/display/ST/Introduction","title":"Named placeholders in string formatting","body":"<p>You can use <a href=\"https://theantlrguy.atlassian.net/wiki/display/ST/Introduction\" rel=\"noreferrer\">StringTemplate</a> library, it offers what you want and much more.</p>\n\n<pre><code>import org.antlr.stringtemplate.*;\n\nfinal StringTemplate hello = new StringTemplate(\"Hello, $name$\");\nhello.setAttribute(\"name\", \"World\");\nSystem.out.println(hello.toString());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":122961,"reputation":8025,"user_id":317110,"accept_rate":74,"display_name":"John Lehmann"},"score":3,"creation_date":1435678436,"post_id":10346795,"comment_id":50295690,"body_markdown":"I found it disappointing that the library doesn&#39;t throw if keys are not found, however, if you use the default syntax (`${arg}`) instead of the custom one above (`%(arg)`) then the regex will not compile, which is the desired effect.","body":"I found it disappointing that the library doesn&#39;t throw if keys are not found, however, if you use the default syntax (<code>${arg}</code>) instead of the custom one above (<code>%(arg)</code>) then the regex will not compile, which is the desired effect."},{"owner":{"account_id":73961,"reputation":3749,"user_id":212749,"accept_rate":82,"display_name":"Mene"},"score":2,"creation_date":1461248465,"post_id":10346795,"comment_id":61122059,"body_markdown":"You can set a custom VariableResolver and throw an Exception if the key isn&#39;t present in the map.","body":"You can set a custom VariableResolver and throw an Exception if the key isn&#39;t present in the map."},{"owner":{"account_id":61305,"reputation":1668,"user_id":182774,"accept_rate":100,"display_name":"Jeff Walker"},"score":11,"creation_date":1514410401,"post_id":10346795,"comment_id":82966196,"body_markdown":"Old thread, but as of 3.6, the text package was deprecated in favor of commons-text. https://commons.apache.org/proper/commons-text/","body":"Old thread, but as of 3.6, the text package was deprecated in favor of commons-text. <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text</a>"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1665480581,"post_id":10346795,"comment_id":130704651,"body_markdown":"StringSubstitutor in Apache Commons Text now (2022) appears to be the current version of the above","body":"StringSubstitutor in Apache Commons Text now (2022) appears to be the current version of the above"},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1678845113,"post_id":10346795,"comment_id":133611301,"body_markdown":"@BrianAgnew Exactly. Updated the solution to reflect the current state of things.","body":"@BrianAgnew Exactly. Updated the solution to reflect the current state of things."}],"tags":[],"owner":{"account_id":138935,"reputation":2014,"user_id":344196,"display_name":"schup"},"comment_count":5,"down_vote_count":1,"up_vote_count":177,"is_accepted":false,"score":176,"last_activity_date":1678844901,"creation_date":1335512965,"answer_id":10346795,"question_id":2286648,"body_markdown":"[`StringSubstitutor`][1] from *Apache Commons Text* library is a lightweight way of doing this, provided your values are already formatted correctly. \r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;value&quot;, &quot;1&quot;);\r\n    values.put(&quot;column&quot;,&quot;2&quot;);\r\n\r\n    StringSubstitutor sub = new StringSubstitutor(values, &quot;%(&quot;, &quot;)&quot;);\r\n    String result = sub.replace(&quot;There&#39;s an incorrect value &#39;%(value)&#39; in column # %(column)&quot;);\r\n\r\nThe `result` string will contain the following:\r\n\r\n&gt; `There&#39;s an incorrect value &#39;1&#39; in column # 2`\r\n\r\nWhen using Maven you can add this dependency to your `pom.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html","title":"Named placeholders in string formatting","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\"><code>StringSubstitutor</code></a> from <em>Apache Commons Text</em> library is a lightweight way of doing this, provided your values are already formatted correctly.</p>\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;value&quot;, &quot;1&quot;);\nvalues.put(&quot;column&quot;,&quot;2&quot;);\n\nStringSubstitutor sub = new StringSubstitutor(values, &quot;%(&quot;, &quot;)&quot;);\nString result = sub.replace(&quot;There's an incorrect value '%(value)' in column # %(column)&quot;);\n</code></pre>\n<p>The <code>result</code> string will contain the following:</p>\n<blockquote>\n<p><code>There's an incorrect value '1' in column # 2</code></p>\n</blockquote>\n<p>When using Maven you can add this dependency to your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":3,"creation_date":1526394980,"post_id":27815924,"comment_id":87721872,"body_markdown":"This should be the answer, since it avoids the format string attacks that most of the other solutions here are vulnerable to. Note that Java 9 makes it much simpler, with support for [`.replaceAll()` string substitution callbacks](https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll%28java.util.function.Function%29).","body":"This should be the answer, since it avoids the format string attacks that most of the other solutions here are vulnerable to. Note that Java 9 makes it much simpler, with support for <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll%28java.util.function.Function%29\" rel=\"nofollow noreferrer\"><code>.replaceAll()</code> string substitution callbacks</a>."},{"owner":{"account_id":8033451,"reputation":2283,"user_id":6057480,"accept_rate":83,"display_name":"Bohao LI"},"score":0,"creation_date":1557759572,"post_id":27815924,"comment_id":98863492,"body_markdown":"This should be the answer, for that it doesn&#39;t use any external libraries.","body":"This should be the answer, for that it doesn&#39;t use any external libraries."}],"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1492591051,"creation_date":1420622043,"answer_id":27815924,"question_id":2286648,"body_markdown":"\tpublic static String format(String format, Map&lt;String, Object&gt; values) {\r\n\t\tStringBuilder formatter = new StringBuilder(format);\r\n\t\tList&lt;Object&gt; valueList = new ArrayList&lt;Object&gt;();\r\n\r\n\t\tMatcher matcher = Pattern.compile(&quot;\\\\$\\\\{(\\\\w+)}&quot;).matcher(format);\r\n\r\n\t\twhile (matcher.find()) {\r\n\t\t\tString key = matcher.group(1);\r\n\r\n\t\t\tString formatKey = String.format(&quot;${%s}&quot;, key);\r\n\t\t\tint index = formatter.indexOf(formatKey);\r\n\r\n\t\t\tif (index != -1) {\r\n\t\t\t\tformatter.replace(index, index + formatKey.length(), &quot;%s&quot;);\r\n\t\t\t\tvalueList.add(values.get(key));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn String.format(formatter.toString(), valueList.toArray());\r\n\t}\r\n\r\nExample:\r\n\r\n\tString format = &quot;My name is ${1}. ${0} ${1}.&quot;;\r\n\r\n\tMap&lt;String, Object&gt; values = new HashMap&lt;String, Object&gt;();\r\n\tvalues.put(&quot;0&quot;, &quot;James&quot;);\r\n\tvalues.put(&quot;1&quot;, &quot;Bond&quot;);\r\n\r\n    System.out.println(format(format, values)); // My name is Bond. James Bond.","title":"Named placeholders in string formatting","body":"<pre><code>public static String format(String format, Map&lt;String, Object&gt; values) {\n    StringBuilder formatter = new StringBuilder(format);\n    List&lt;Object&gt; valueList = new ArrayList&lt;Object&gt;();\n\n    Matcher matcher = Pattern.compile(\"\\\\$\\\\{(\\\\w+)}\").matcher(format);\n\n    while (matcher.find()) {\n        String key = matcher.group(1);\n\n        String formatKey = String.format(\"${%s}\", key);\n        int index = formatter.indexOf(formatKey);\n\n        if (index != -1) {\n            formatter.replace(index, index + formatKey.length(), \"%s\");\n            valueList.add(values.get(key));\n        }\n    }\n\n    return String.format(formatter.toString(), valueList.toArray());\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String format = \"My name is ${1}. ${0} ${1}.\";\n\nMap&lt;String, Object&gt; values = new HashMap&lt;String, Object&gt;();\nvalues.put(\"0\", \"James\");\nvalues.put(\"1\", \"Bond\");\n\nSystem.out.println(format(format, values)); // My name is Bond. James Bond.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441290038,"creation_date":1441290038,"answer_id":32378247,"question_id":2286648,"body_markdown":"My answer is to:\r\n\r\na) use StringBuilder when possible\r\n\r\nb) keep (in any form: integer is the best, speciall char like dollar macro etc) position of &quot;placeholder&quot; and then use `StringBuilder.insert()` (few versions of arguments).\r\n\r\nUsing external libraries seems overkill and I belive degrade performance significant, when StringBuilder is converted to String internally. \r\n ","title":"Named placeholders in string formatting","body":"<p>My answer is to:</p>\n\n<p>a) use StringBuilder when possible</p>\n\n<p>b) keep (in any form: integer is the best, speciall char like dollar macro etc) position of \"placeholder\" and then use <code>StringBuilder.insert()</code> (few versions of arguments).</p>\n\n<p>Using external libraries seems overkill and I belive degrade performance significant, when StringBuilder is converted to String internally. </p>\n"},{"comments":[{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":3,"creation_date":1526394192,"post_id":32415972,"comment_id":87721279,"body_markdown":"**Warning:** Because the loop treats intermediate substitution results as format strings of their own, [this solution is vulnerable to format string attacks](https://codereview.stackexchange.com/a/194454/9357). Any correct solution should make one single pass through the format string.","body":"<b>Warning:</b> Because the loop treats intermediate substitution results as format strings of their own, <a href=\"https://codereview.stackexchange.com/a/194454/9357\">this solution is vulnerable to format string attacks</a>. Any correct solution should make one single pass through the format string."}],"tags":[],"owner":{"account_id":3650169,"reputation":3098,"user_id":3042543,"display_name":"Rafal Enden"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1441474974,"creation_date":1441474974,"answer_id":32415972,"question_id":2286648,"body_markdown":"Based on the [answer][1] I created `MapBuilder` class:\r\n\r\n    public class MapBuilder {\r\n    \r\n        public static Map&lt;String, Object&gt; build(Object... data) {\r\n            Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \r\n            if (data.length % 2 != 0) {\r\n                throw new IllegalArgumentException(&quot;Odd number of arguments&quot;);\r\n            }\r\n    \r\n            String key = null;\r\n            Integer step = -1;\r\n    \r\n            for (Object value : data) {\r\n                step++;\r\n                switch (step % 2) {\r\n                    case 0:\r\n                        if (value == null) {\r\n                            throw new IllegalArgumentException(&quot;Null key value&quot;);\r\n                        }\r\n                        key = (String) value;\r\n                        continue;\r\n                    case 1:\r\n                        result.put(key, value);\r\n                        break;\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nthen I created class `StringFormat` for String formatting:\r\n\r\n    public final class StringFormat {\r\n    \r\n        public static String format(String format, Object... args) {\r\n            Map&lt;String, Object&gt; values = MapBuilder.build(args);\r\n    \r\n            for (Map.Entry&lt;String, Object&gt; entry : values.entrySet()) {\r\n                String key = entry.getKey();\r\n                Object value = entry.getValue();\r\n                format = format.replace(&quot;$&quot; + key, value.toString());\r\n            }\r\n    \r\n            return format;\r\n        }\r\n    \r\n    }\r\n\r\nwhich you could use like that:\r\n\r\n\r\n    String bookingDate = StringFormat.format(&quot;From $startDate to $endDate&quot;), \r\n            &quot;$startDate&quot;, formattedStartDate, \r\n            &quot;$endDate&quot;, formattedEndDate\r\n    );\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17474581/3042543","title":"Named placeholders in string formatting","body":"<p>Based on the <a href=\"https://stackoverflow.com/a/17474581/3042543\">answer</a> I created <code>MapBuilder</code> class:</p>\n\n<pre><code>public class MapBuilder {\n\n    public static Map&lt;String, Object&gt; build(Object... data) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n\n        if (data.length % 2 != 0) {\n            throw new IllegalArgumentException(\"Odd number of arguments\");\n        }\n\n        String key = null;\n        Integer step = -1;\n\n        for (Object value : data) {\n            step++;\n            switch (step % 2) {\n                case 0:\n                    if (value == null) {\n                        throw new IllegalArgumentException(\"Null key value\");\n                    }\n                    key = (String) value;\n                    continue;\n                case 1:\n                    result.put(key, value);\n                    break;\n            }\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>then I created class <code>StringFormat</code> for String formatting:</p>\n\n<pre><code>public final class StringFormat {\n\n    public static String format(String format, Object... args) {\n        Map&lt;String, Object&gt; values = MapBuilder.build(args);\n\n        for (Map.Entry&lt;String, Object&gt; entry : values.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n            format = format.replace(\"$\" + key, value.toString());\n        }\n\n        return format;\n    }\n\n}\n</code></pre>\n\n<p>which you could use like that:</p>\n\n<pre><code>String bookingDate = StringFormat.format(\"From $startDate to $endDate\"), \n        \"$startDate\", formattedStartDate, \n        \"$endDate\", formattedEndDate\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1925991,"reputation":3776,"user_id":1736425,"accept_rate":88,"display_name":"Ali Cheaito"},"score":0,"creation_date":1504277891,"post_id":39902558,"comment_id":78966753,"body_markdown":"This is brilliant, but sadly it violates the specs here https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\nThe combiner function must return the second parameter if the first param is the identity. The one above would return the identity instead.\nIt also violates this rule: combiner.apply(u, accumulator.apply(identity, t)) == accumulator.apply(u, t)","body":"This is brilliant, but sadly it violates the specs here <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a> The combiner function must return the second parameter if the first param is the identity. The one above would return the identity instead. It also violates this rule: combiner.apply(u, accumulator.apply(identity, t)) == accumulator.apply(u, t)"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1506512369,"post_id":39902558,"comment_id":79849487,"body_markdown":"Interesting ... but only if you propose a nicer way to pass the map, also if possible after the template like most formatting code.","body":"Interesting ... but only if you propose a nicer way to pass the map, also if possible after the template like most formatting code."},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":8,"creation_date":1526394250,"post_id":39902558,"comment_id":87721328,"body_markdown":"**Warning:** Because the `.reduce()` treats intermediate substitution results as format strings of their own, [this solution is vulnerable to format string attacks](https://codereview.stackexchange.com/a/194454/9357). Any correct solution should make one single pass through the format string.","body":"<b>Warning:</b> Because the <code>.reduce()</code> treats intermediate substitution results as format strings of their own, <a href=\"https://codereview.stackexchange.com/a/194454/9357\">this solution is vulnerable to format string attacks</a>. Any correct solution should make one single pass through the format string."}],"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1475838020,"creation_date":1475776138,"answer_id":39902558,"question_id":2286648,"body_markdown":"This is an old thread, but just for the record, you could also use Java 8 style, like this:\r\n\r\n    public static String replaceParams(Map&lt;String, String&gt; hashMap, String template) {\r\n        return hashMap.entrySet().stream().reduce(template, (s, e) -&gt; s.replace(&quot;%(&quot; + e.getKey() + &quot;)&quot;, e.getValue()),\r\n                (s, s2) -&gt; s);\r\n    }\r\n\r\nUsage:\r\n\r\n    public static void main(String[] args) {\r\n        final HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;() {\r\n            {\r\n                put(&quot;foo&quot;, &quot;foo1&quot;);\r\n                put(&quot;bar&quot;, &quot;bar1&quot;);\r\n                put(&quot;car&quot;, &quot;BMW&quot;);\r\n                put(&quot;truck&quot;, &quot;MAN&quot;);\r\n            }\r\n        };\r\n        String res = replaceParams(hashMap, &quot;This is &#39;%(foo)&#39; and &#39;%(foo)&#39;, but also &#39;%(bar)&#39; &#39;%(bar)&#39; indeed.&quot;);\r\n        System.out.println(res);\r\n        System.out.println(replaceParams(hashMap, &quot;This is &#39;%(car)&#39; and &#39;%(foo)&#39;, but also &#39;%(bar)&#39; &#39;%(bar)&#39; indeed.&quot;));\r\n        System.out.println(replaceParams(hashMap, &quot;This is &#39;%(car)&#39; and &#39;%(truck)&#39;, but also &#39;%(foo)&#39; &#39;%(bar)&#39; + &#39;%(truck)&#39; indeed.&quot;));\r\n    }\r\n\r\nThe output will be:\r\n\r\n    This is &#39;foo1&#39; and &#39;foo1&#39;, but also &#39;bar1&#39; &#39;bar1&#39; indeed.\r\n    This is &#39;BMW&#39; and &#39;foo1&#39;, but also &#39;bar1&#39; &#39;bar1&#39; indeed.\r\n    This is &#39;BMW&#39; and &#39;MAN&#39;, but also &#39;foo1&#39; &#39;bar1&#39; + &#39;MAN&#39; indeed.","title":"Named placeholders in string formatting","body":"<p>This is an old thread, but just for the record, you could also use Java 8 style, like this:</p>\n\n<pre><code>public static String replaceParams(Map&lt;String, String&gt; hashMap, String template) {\n    return hashMap.entrySet().stream().reduce(template, (s, e) -&gt; s.replace(\"%(\" + e.getKey() + \")\", e.getValue()),\n            (s, s2) -&gt; s);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(String[] args) {\n    final HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;() {\n        {\n            put(\"foo\", \"foo1\");\n            put(\"bar\", \"bar1\");\n            put(\"car\", \"BMW\");\n            put(\"truck\", \"MAN\");\n        }\n    };\n    String res = replaceParams(hashMap, \"This is '%(foo)' and '%(foo)', but also '%(bar)' '%(bar)' indeed.\");\n    System.out.println(res);\n    System.out.println(replaceParams(hashMap, \"This is '%(car)' and '%(foo)', but also '%(bar)' '%(bar)' indeed.\"));\n    System.out.println(replaceParams(hashMap, \"This is '%(car)' and '%(truck)', but also '%(foo)' '%(bar)' + '%(truck)' indeed.\"));\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>This is 'foo1' and 'foo1', but also 'bar1' 'bar1' indeed.\nThis is 'BMW' and 'foo1', but also 'bar1' 'bar1' indeed.\nThis is 'BMW' and 'MAN', but also 'foo1' 'bar1' + 'MAN' indeed.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1548931119,"post_id":43102872,"comment_id":95725207,"body_markdown":"is it possible to do condition based formatting with your library?","body":"is it possible to do condition based formatting with your library?"},{"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":0,"creation_date":1549011941,"post_id":43102872,"comment_id":95759381,"body_markdown":"@gaurav not quite. If you need that you need a full-featured templating library.","body":"@gaurav not quite. If you need that you need a full-featured templating library."}],"tags":[],"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490817045,"creation_date":1490817045,"answer_id":43102872,"question_id":2286648,"body_markdown":"I am the author of [a small library](https://github.com/nomemory/aleph-formatter) that does exactly what you want:\r\n\r\n    Student student = new Student(&quot;Andrei&quot;, 30, &quot;Male&quot;);\r\n\r\n    String studStr = template(&quot;#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}&quot;)\r\n                        .arg(&quot;id&quot;, 10)\r\n                        .arg(&quot;st&quot;, student)\r\n                        .format();\r\n    System.out.println(studStr);\r\n\r\n\r\nOr you can chain the arguments:\r\n\r\n    String result = template(&quot;#{x} + #{y} = #{z}&quot;)\r\n                        .args(&quot;x&quot;, 5, &quot;y&quot;, 10, &quot;z&quot;, 15)\r\n                        .format();\r\n    System.out.println(result);\r\n    \r\n    // Output: &quot;5 + 10 = 15&quot;\r\n","title":"Named placeholders in string formatting","body":"<p>I am the author of <a href=\"https://github.com/nomemory/aleph-formatter\" rel=\"noreferrer\">a small library</a> that does exactly what you want:</p>\n\n<pre><code>Student student = new Student(\"Andrei\", 30, \"Male\");\n\nString studStr = template(\"#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}\")\n                    .arg(\"id\", 10)\n                    .arg(\"st\", student)\n                    .format();\nSystem.out.println(studStr);\n</code></pre>\n\n<p>Or you can chain the arguments:</p>\n\n<pre><code>String result = template(\"#{x} + #{y} = #{z}\")\n                    .args(\"x\", 5, \"y\", 10, \"z\", 15)\n                    .format();\nSystem.out.println(result);\n\n// Output: \"5 + 10 = 15\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4318345,"reputation":6373,"user_id":3527464,"accept_rate":100,"display_name":"Pyves"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1526328822,"creation_date":1526328822,"answer_id":50338332,"question_id":2286648,"body_markdown":"Apache Commons Lang&#39;s [replaceEach][1] method may come in handy dependeding on your specific needs. You can easily use it to replace placeholders by name with this single method call:\r\n\r\n\tStringUtils.replaceEach(&quot;There&#39;s an incorrect value &#39;%(value)&#39; in column # %(column)&quot;,\r\n\t\t\t\tnew String[] { &quot;%(value)&quot;, &quot;%(column)&quot; }, new String[] { x, y });\r\n\r\nGiven some input text, this will replace all occurrences of the placeholders in the first string array with the corresponding values in the second one.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-","title":"Named placeholders in string formatting","body":"<p>Apache Commons Lang's <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\">replaceEach</a> method may come in handy dependeding on your specific needs. You can easily use it to replace placeholders by name with this single method call:</p>\n\n<pre><code>StringUtils.replaceEach(\"There's an incorrect value '%(value)' in column # %(column)\",\n            new String[] { \"%(value)\", \"%(column)\" }, new String[] { x, y });\n</code></pre>\n\n<p>Given some input text, this will replace all occurrences of the placeholders in the first string array with the corresponding values in the second one.</p>\n"},{"tags":[],"owner":{"account_id":6193602,"reputation":363,"user_id":4825622,"display_name":"schlegel11"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535069215,"creation_date":1535038731,"answer_id":51989500,"question_id":2286648,"body_markdown":"I created also a util/helper class (using jdk 8) which can format a string an replaces occurrences of variables.\r\n&lt;p&gt;\r\nFor this purpose I used the Matchers &quot;appendReplacement&quot; method which does all the substitution and loops only over the affected parts of a format string.\r\n&lt;p&gt;\r\nThe helper class isn&#39;t currently well javadoc documented. I will changes this in the future ;)\r\nAnyway I commented the most important lines (I hope).\r\n&lt;p&gt;\r\n\r\n        public class FormatHelper {\r\n    \r\n        //Prefix and suffix for the enclosing variable name in the format string.\r\n        //Replace the default values with any you need.\r\n        public static final String DEFAULT_PREFIX = &quot;${&quot;;\r\n        public static final String DEFAULT_SUFFIX = &quot;}&quot;;\r\n    \r\n        //Define dynamic function what happens if a key is not found.\r\n        //Replace the defualt exception with any &quot;unchecked&quot; exception type you need or any other behavior.\r\n        public static final BiFunction&lt;String, String, String&gt; DEFAULT_NO_KEY_FUNCTION =\r\n                (fullMatch, variableName) -&gt; {\r\n                    throw new RuntimeException(String.format(&quot;Key: %s for variable %s not found.&quot;,\r\n                                                             variableName,\r\n                                                             fullMatch));\r\n                };\r\n        private final Pattern variablePattern;\r\n        private final Map&lt;String, String&gt; values;\r\n        private final BiFunction&lt;String, String, String&gt; noKeyFunction;\r\n        private final String prefix;\r\n        private final String suffix;\r\n    \r\n        public FormatHelper(Map&lt;String, String&gt; values) {\r\n            this(DEFAULT_NO_KEY_FUNCTION, values);\r\n        }\r\n    \r\n        public FormatHelper(\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction, Map&lt;String, String&gt; values) {\r\n            this(DEFAULT_PREFIX, DEFAULT_SUFFIX, noKeyFunction, values);\r\n        }\r\n    \r\n        public FormatHelper(String prefix, String suffix, Map&lt;String, String&gt; values) {\r\n            this(prefix, suffix, DEFAULT_NO_KEY_FUNCTION, values);\r\n        }\r\n    \r\n        public FormatHelper(\r\n                String prefix,\r\n                String suffix,\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction,\r\n                Map&lt;String, String&gt; values) {\r\n            this.prefix = prefix;\r\n            this.suffix = suffix;\r\n            this.values = values;\r\n            this.noKeyFunction = noKeyFunction;\r\n    \r\n            //Create the Pattern and quote the prefix and suffix so that the regex don&#39;t interpret special chars.\r\n            //The variable name is a &quot;\\w+&quot; in an extra capture group.\r\n            variablePattern = Pattern.compile(Pattern.quote(prefix) + &quot;(\\\\w+)&quot; + Pattern.quote(suffix));\r\n        }\r\n    \r\n        public static String format(CharSequence format, Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(values).format(format);\r\n        }\r\n    \r\n        public static String format(\r\n                CharSequence format,\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction,\r\n                Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(noKeyFunction, values).format(format);\r\n        }\r\n    \r\n        public static String format(\r\n                String prefix, String suffix, CharSequence format, Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(prefix, suffix, values).format(format);\r\n        }\r\n    \r\n        public static String format(\r\n                String prefix,\r\n                String suffix,\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction,\r\n                CharSequence format,\r\n                Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(prefix, suffix, noKeyFunction, values).format(format);\r\n        }\r\n    \r\n        public String format(CharSequence format) {\r\n    \r\n            //Create matcher based on the init pattern for variable names.\r\n            Matcher matcher = variablePattern.matcher(format);\r\n    \r\n            //This buffer will hold all parts of the formatted finished string.\r\n            StringBuffer formatBuffer = new StringBuffer();\r\n    \r\n            //loop while the matcher finds another variable (prefix -&gt; name &lt;- suffix) match\r\n            while (matcher.find()) {\r\n    \r\n                //The root capture group with the full match e.g ${variableName}\r\n                String fullMatch = matcher.group();\r\n    \r\n                //The capture group for the variable name resulting from &quot;(\\w+)&quot; e.g. variableName\r\n                String variableName = matcher.group(1);\r\n    \r\n                //Get the value in our Map so the Key is the used variable name in our &quot;format&quot; string. The associated value will replace the variable.\r\n                //If key is missing (absent) call the noKeyFunction with parameters &quot;fullMatch&quot; and &quot;variableName&quot; else return the value.\r\n                String value = values.computeIfAbsent(variableName, key -&gt; noKeyFunction.apply(fullMatch, key));\r\n    \r\n                //Escape the Map value because the &quot;appendReplacement&quot; method interprets the $ and \\ as special chars.\r\n                String escapedValue = Matcher.quoteReplacement(value);\r\n    \r\n                //The &quot;appendReplacement&quot; method replaces the current &quot;full&quot; match (e.g. ${variableName}) with the value from the &quot;values&quot; Map.\r\n                //The replaced part of the &quot;format&quot; string is appended to the StringBuffer &quot;formatBuffer&quot;.\r\n                matcher.appendReplacement(formatBuffer, escapedValue);\r\n            }\r\n    \r\n            //The &quot;appendTail&quot; method appends the last part of the &quot;format&quot; String which has no regex match.\r\n            //That means if e.g. our &quot;format&quot; string has no matches the whole untouched &quot;format&quot; string is appended to the StringBuffer &quot;formatBuffer&quot;.\r\n            //Further more the method return the buffer.\r\n            return matcher.appendTail(formatBuffer)\r\n                          .toString();\r\n        }\r\n    \r\n        public String getPrefix() {\r\n            return prefix;\r\n        }\r\n    \r\n        public String getSuffix() {\r\n            return suffix;\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getValues() {\r\n            return values;\r\n        }\r\n    }\r\n\r\n&lt;p&gt;\r\n\r\nYou can create a class instance for a specific Map with values (or suffix prefix or noKeyFunction)\r\nlike:\r\n&lt;p&gt;\r\n\r\n        Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n        values.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n        values.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n    \r\n    \r\n        FormatHelper formatHelper = new FormatHelper(values);\r\n        formatHelper.format(&quot;${firstName} ${lastName} is Spiderman!&quot;);\r\n        // Result: &quot;Peter Parker is Spiderman!&quot;\r\n        // Next format:\r\n        formatHelper.format(&quot;Does ${firstName} ${lastName} works as photographer?&quot;);\r\n        //Result: &quot;Does Peter Parker works as photographer?&quot;\r\n\r\n\r\n&lt;p&gt;\r\nFurther more you can define what happens if a key in the values Map is missing (works in both ways e.g. wrong variable name in format string or missing key in Map).\r\nThe default behavior is an thrown unchecked exception (unchecked because I use the default jdk8 Function which cant handle checked exceptions) like:\r\n&lt;p&gt;\r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n        map.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n\r\n\r\n        FormatHelper formatHelper = new FormatHelper(map);\r\n        formatHelper.format(&quot;${missingName} ${lastName} is Spiderman!&quot;);\r\n        //Result: RuntimeException: Key: missingName for variable ${missingName} not found.\r\n&lt;p&gt;\r\nYou can define a custom behavior in the constructor call like:\r\n&lt;p&gt;\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n    values.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n\r\n\r\n    FormatHelper formatHelper = new FormatHelper(fullMatch, variableName) -&gt; variableName.equals(&quot;missingName&quot;) ? &quot;John&quot;: &quot;SOMETHING_WRONG&quot;, values);\r\n    formatHelper.format(&quot;${missingName} ${lastName} is Spiderman!&quot;);\r\n    // Result: &quot;John Parker is Spiderman!&quot;\r\n\r\n&lt;p&gt;\r\nor delegate it back to the default no key behavior:\r\n&lt;p&gt;\r\n\r\n    ...\r\n        FormatHelper formatHelper = new FormatHelper((fullMatch, variableName) -&gt;   variableName.equals(&quot;missingName&quot;) ? &quot;John&quot; :\r\n                FormatHelper.DEFAULT_NO_KEY_FUNCTION.apply(fullMatch,\r\n                                                           variableName), map);\r\n    ...\r\n\r\n&lt;p&gt;\r\nFor better handling there are also static method representations like:\r\n&lt;p&gt;\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n    values.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n\r\n    FormatHelper.format(&quot;${firstName} ${lastName} is Spiderman!&quot;, map);\r\n    // Result: &quot;Peter Parker is Spiderman!&quot;\r\n","title":"Named placeholders in string formatting","body":"<p>I created also a util/helper class (using jdk 8) which can format a string an replaces occurrences of variables.\n<p>\nFor this purpose I used the Matchers \"appendReplacement\" method which does all the substitution and loops only over the affected parts of a format string.\n<p>\nThe helper class isn't currently well javadoc documented. I will changes this in the future ;)\nAnyway I commented the most important lines (I hope).\n<p></p>\n\n<pre><code>    public class FormatHelper {\n\n    //Prefix and suffix for the enclosing variable name in the format string.\n    //Replace the default values with any you need.\n    public static final String DEFAULT_PREFIX = \"${\";\n    public static final String DEFAULT_SUFFIX = \"}\";\n\n    //Define dynamic function what happens if a key is not found.\n    //Replace the defualt exception with any \"unchecked\" exception type you need or any other behavior.\n    public static final BiFunction&lt;String, String, String&gt; DEFAULT_NO_KEY_FUNCTION =\n            (fullMatch, variableName) -&gt; {\n                throw new RuntimeException(String.format(\"Key: %s for variable %s not found.\",\n                                                         variableName,\n                                                         fullMatch));\n            };\n    private final Pattern variablePattern;\n    private final Map&lt;String, String&gt; values;\n    private final BiFunction&lt;String, String, String&gt; noKeyFunction;\n    private final String prefix;\n    private final String suffix;\n\n    public FormatHelper(Map&lt;String, String&gt; values) {\n        this(DEFAULT_NO_KEY_FUNCTION, values);\n    }\n\n    public FormatHelper(\n            BiFunction&lt;String, String, String&gt; noKeyFunction, Map&lt;String, String&gt; values) {\n        this(DEFAULT_PREFIX, DEFAULT_SUFFIX, noKeyFunction, values);\n    }\n\n    public FormatHelper(String prefix, String suffix, Map&lt;String, String&gt; values) {\n        this(prefix, suffix, DEFAULT_NO_KEY_FUNCTION, values);\n    }\n\n    public FormatHelper(\n            String prefix,\n            String suffix,\n            BiFunction&lt;String, String, String&gt; noKeyFunction,\n            Map&lt;String, String&gt; values) {\n        this.prefix = prefix;\n        this.suffix = suffix;\n        this.values = values;\n        this.noKeyFunction = noKeyFunction;\n\n        //Create the Pattern and quote the prefix and suffix so that the regex don't interpret special chars.\n        //The variable name is a \"\\w+\" in an extra capture group.\n        variablePattern = Pattern.compile(Pattern.quote(prefix) + \"(\\\\w+)\" + Pattern.quote(suffix));\n    }\n\n    public static String format(CharSequence format, Map&lt;String, String&gt; values) {\n        return new FormatHelper(values).format(format);\n    }\n\n    public static String format(\n            CharSequence format,\n            BiFunction&lt;String, String, String&gt; noKeyFunction,\n            Map&lt;String, String&gt; values) {\n        return new FormatHelper(noKeyFunction, values).format(format);\n    }\n\n    public static String format(\n            String prefix, String suffix, CharSequence format, Map&lt;String, String&gt; values) {\n        return new FormatHelper(prefix, suffix, values).format(format);\n    }\n\n    public static String format(\n            String prefix,\n            String suffix,\n            BiFunction&lt;String, String, String&gt; noKeyFunction,\n            CharSequence format,\n            Map&lt;String, String&gt; values) {\n        return new FormatHelper(prefix, suffix, noKeyFunction, values).format(format);\n    }\n\n    public String format(CharSequence format) {\n\n        //Create matcher based on the init pattern for variable names.\n        Matcher matcher = variablePattern.matcher(format);\n\n        //This buffer will hold all parts of the formatted finished string.\n        StringBuffer formatBuffer = new StringBuffer();\n\n        //loop while the matcher finds another variable (prefix -&gt; name &lt;- suffix) match\n        while (matcher.find()) {\n\n            //The root capture group with the full match e.g ${variableName}\n            String fullMatch = matcher.group();\n\n            //The capture group for the variable name resulting from \"(\\w+)\" e.g. variableName\n            String variableName = matcher.group(1);\n\n            //Get the value in our Map so the Key is the used variable name in our \"format\" string. The associated value will replace the variable.\n            //If key is missing (absent) call the noKeyFunction with parameters \"fullMatch\" and \"variableName\" else return the value.\n            String value = values.computeIfAbsent(variableName, key -&gt; noKeyFunction.apply(fullMatch, key));\n\n            //Escape the Map value because the \"appendReplacement\" method interprets the $ and \\ as special chars.\n            String escapedValue = Matcher.quoteReplacement(value);\n\n            //The \"appendReplacement\" method replaces the current \"full\" match (e.g. ${variableName}) with the value from the \"values\" Map.\n            //The replaced part of the \"format\" string is appended to the StringBuffer \"formatBuffer\".\n            matcher.appendReplacement(formatBuffer, escapedValue);\n        }\n\n        //The \"appendTail\" method appends the last part of the \"format\" String which has no regex match.\n        //That means if e.g. our \"format\" string has no matches the whole untouched \"format\" string is appended to the StringBuffer \"formatBuffer\".\n        //Further more the method return the buffer.\n        return matcher.appendTail(formatBuffer)\n                      .toString();\n    }\n\n    public String getPrefix() {\n        return prefix;\n    }\n\n    public String getSuffix() {\n        return suffix;\n    }\n\n    public Map&lt;String, String&gt; getValues() {\n        return values;\n    }\n}\n</code></pre>\n\n<p><p></p>\n\n<p>You can create a class instance for a specific Map with values (or suffix prefix or noKeyFunction)\nlike:\n<p></p>\n\n<pre><code>    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\n    values.put(\"firstName\", \"Peter\");\n    values.put(\"lastName\", \"Parker\");\n\n\n    FormatHelper formatHelper = new FormatHelper(values);\n    formatHelper.format(\"${firstName} ${lastName} is Spiderman!\");\n    // Result: \"Peter Parker is Spiderman!\"\n    // Next format:\n    formatHelper.format(\"Does ${firstName} ${lastName} works as photographer?\");\n    //Result: \"Does Peter Parker works as photographer?\"\n</code></pre>\n\n<p><p>\nFurther more you can define what happens if a key in the values Map is missing (works in both ways e.g. wrong variable name in format string or missing key in Map).\nThe default behavior is an thrown unchecked exception (unchecked because I use the default jdk8 Function which cant handle checked exceptions) like:\n<p></p>\n\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"firstName\", \"Peter\");\n    map.put(\"lastName\", \"Parker\");\n\n\n    FormatHelper formatHelper = new FormatHelper(map);\n    formatHelper.format(\"${missingName} ${lastName} is Spiderman!\");\n    //Result: RuntimeException: Key: missingName for variable ${missingName} not found.\n</code></pre>\n\n<p><p>\nYou can define a custom behavior in the constructor call like:\n<p></p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"firstName\", \"Peter\");\nvalues.put(\"lastName\", \"Parker\");\n\n\nFormatHelper formatHelper = new FormatHelper(fullMatch, variableName) -&gt; variableName.equals(\"missingName\") ? \"John\": \"SOMETHING_WRONG\", values);\nformatHelper.format(\"${missingName} ${lastName} is Spiderman!\");\n// Result: \"John Parker is Spiderman!\"\n</code></pre>\n\n<p><p>\nor delegate it back to the default no key behavior:\n<p></p>\n\n<pre><code>...\n    FormatHelper formatHelper = new FormatHelper((fullMatch, variableName) -&gt;   variableName.equals(\"missingName\") ? \"John\" :\n            FormatHelper.DEFAULT_NO_KEY_FUNCTION.apply(fullMatch,\n                                                       variableName), map);\n...\n</code></pre>\n\n<p><p>\nFor better handling there are also static method representations like:\n<p></p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"firstName\", \"Peter\");\nvalues.put(\"lastName\", \"Parker\");\n\nFormatHelper.format(\"${firstName} ${lastName} is Spiderman!\", map);\n// Result: \"Peter Parker is Spiderman!\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1522597,"reputation":424,"user_id":1421875,"display_name":"Edward Corrigall"},"score":1,"creation_date":1569001479,"post_id":52695352,"comment_id":102468147,"body_markdown":"If you expect to load very large files, I found this library also supports `replaceIn` which substitutes values into a buffer: StringBuilder, or TextStringBuilder. With this approach, the entire contents of the file won&#39;t be loaded into memory.","body":"If you expect to load very large files, I found this library also supports <code>replaceIn</code> which substitutes values into a buffer: StringBuilder, or TextStringBuilder. With this approach, the entire contents of the file won&#39;t be loaded into memory."},{"owner":{"account_id":5330414,"reputation":1768,"user_id":4251114,"accept_rate":70,"display_name":"Sinux"},"score":0,"creation_date":1625652262,"post_id":52695352,"comment_id":120681826,"body_markdown":"no offense. To format a string in a replace way is very unreasonable and unreadable. Especially compares with other modern program languages.","body":"no offense. To format a string in a replace way is very unreasonable and unreadable. Especially compares with other modern program languages."}],"tags":[],"owner":{"account_id":1108404,"reputation":7594,"user_id":1099314,"display_name":"ninhjs.dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1563205545,"creation_date":1538972461,"answer_id":52695352,"question_id":2286648,"body_markdown":"Another example of Apache Common [StringSubstitutor][1] for simple named placeholder.\r\n\r\n    String template = &quot;Welcome to {theWorld}. My name is {myName}.&quot;;\r\n    \r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;theWorld&quot;, &quot;Stackoverflow&quot;);\r\n    values.put(&quot;myName&quot;, &quot;Thanos&quot;);\r\n    \r\n    String message = StringSubstitutor.replace(template, values, &quot;{&quot;, &quot;}&quot;);\r\n    \r\n    System.out.println(message);\r\n    \r\n    // Welcome to Stackoverflow. My name is Thanos.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html","title":"Named placeholders in string formatting","body":"<p>Another example of Apache Common <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"noreferrer\">StringSubstitutor</a> for simple named placeholder.</p>\n\n<pre><code>String template = \"Welcome to {theWorld}. My name is {myName}.\";\n\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"theWorld\", \"Stackoverflow\");\nvalues.put(\"myName\", \"Thanos\");\n\nString message = StringSubstitutor.replace(template, values, \"{\", \"}\");\n\nSystem.out.println(message);\n\n// Welcome to Stackoverflow. My name is Thanos.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1066310,"reputation":413,"user_id":1066787,"display_name":"Jason"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1571252916,"creation_date":1571252916,"answer_id":58420165,"question_id":2286648,"body_markdown":"There is nothing built into Java at the moment of writing this. I would suggest writing your own implementation. My preference is for a simple fluent builder interface instead of creating a map and passing it to function -- you end up with a nice contiguous chunk of code, for example:\r\n\r\n    String result = new TemplatedStringBuilder(&quot;My name is {{name}} and I from {{town}}&quot;)\r\n       .replace(&quot;name&quot;, &quot;John Doe&quot;)\r\n       .replace(&quot;town&quot;, &quot;Sydney&quot;)\r\n       .finish();\r\n\r\nHere is a simple implementation:\r\n\r\n    class TemplatedStringBuilder {\r\n    \r\n        private final static String TEMPLATE_START_TOKEN = &quot;{{&quot;;\r\n        private final static String TEMPLATE_CLOSE_TOKEN = &quot;}}&quot;;\r\n    \r\n        private final String template;\r\n        private final Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n    \r\n        public TemplatedStringBuilder(String template) {\r\n            if (template == null) throw new NullPointerException();\r\n            this.template = template;\r\n        }\r\n    \r\n        public TemplatedStringBuilder replace(String key, String value){\r\n            parameters.put(key, value);\r\n            return this;\r\n        }\r\n    \r\n        public String finish(){\r\n    \r\n            StringBuilder result = new StringBuilder();\r\n    \r\n            int startIndex = 0;\r\n    \r\n            while (startIndex &lt; template.length()){\r\n    \r\n                int openIndex  = template.indexOf(TEMPLATE_START_TOKEN, startIndex);\r\n    \r\n                if (openIndex &lt; 0){\r\n                    result.append(template.substring(startIndex));\r\n                    break;\r\n                }\r\n    \r\n                int closeIndex = template.indexOf(TEMPLATE_CLOSE_TOKEN, openIndex);\r\n    \r\n                if(closeIndex &lt; 0){\r\n                    result.append(template.substring(startIndex));\r\n                    break;\r\n                }\r\n    \r\n                String key = template.substring(openIndex + TEMPLATE_START_TOKEN.length(), closeIndex);\r\n    \r\n                if (!parameters.containsKey(key)) throw new RuntimeException(&quot;missing value for key: &quot; + key);\r\n    \r\n                result.append(template.substring(startIndex, openIndex));\r\n                result.append(parameters.get(key));\r\n    \r\n                startIndex = closeIndex + TEMPLATE_CLOSE_TOKEN.length();\r\n            }\r\n    \r\n            return result.toString();\r\n        }\r\n    }\r\n\r\n","title":"Named placeholders in string formatting","body":"<p>There is nothing built into Java at the moment of writing this. I would suggest writing your own implementation. My preference is for a simple fluent builder interface instead of creating a map and passing it to function -- you end up with a nice contiguous chunk of code, for example:</p>\n\n<pre><code>String result = new TemplatedStringBuilder(\"My name is {{name}} and I from {{town}}\")\n   .replace(\"name\", \"John Doe\")\n   .replace(\"town\", \"Sydney\")\n   .finish();\n</code></pre>\n\n<p>Here is a simple implementation:</p>\n\n<pre><code>class TemplatedStringBuilder {\n\n    private final static String TEMPLATE_START_TOKEN = \"{{\";\n    private final static String TEMPLATE_CLOSE_TOKEN = \"}}\";\n\n    private final String template;\n    private final Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n\n    public TemplatedStringBuilder(String template) {\n        if (template == null) throw new NullPointerException();\n        this.template = template;\n    }\n\n    public TemplatedStringBuilder replace(String key, String value){\n        parameters.put(key, value);\n        return this;\n    }\n\n    public String finish(){\n\n        StringBuilder result = new StringBuilder();\n\n        int startIndex = 0;\n\n        while (startIndex &lt; template.length()){\n\n            int openIndex  = template.indexOf(TEMPLATE_START_TOKEN, startIndex);\n\n            if (openIndex &lt; 0){\n                result.append(template.substring(startIndex));\n                break;\n            }\n\n            int closeIndex = template.indexOf(TEMPLATE_CLOSE_TOKEN, openIndex);\n\n            if(closeIndex &lt; 0){\n                result.append(template.substring(startIndex));\n                break;\n            }\n\n            String key = template.substring(openIndex + TEMPLATE_START_TOKEN.length(), closeIndex);\n\n            if (!parameters.containsKey(key)) throw new RuntimeException(\"missing value for key: \" + key);\n\n            result.append(template.substring(startIndex, openIndex));\n            result.append(parameters.get(key));\n\n            startIndex = closeIndex + TEMPLATE_CLOSE_TOKEN.length();\n        }\n\n        return result.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582271549,"creation_date":1582271549,"answer_id":60334259,"question_id":2286648,"body_markdown":"https://dzone.com/articles/java-string-format-examples String.format(inputString, [listOfParams]) would be the easiest way. Placeholders in string can be defined by order. For more details check the provided link.","title":"Named placeholders in string formatting","body":"<p><a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-string-format-examples</a> String.format(inputString, [listOfParams]) would be the easiest way. Placeholders in string can be defined by order. For more details check the provided link.</p>\n"},{"tags":[],"owner":{"account_id":99824,"reputation":14202,"user_id":269447,"accept_rate":70,"display_name":"Laurent"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585482827,"creation_date":1585482827,"answer_id":60913836,"question_id":2286648,"body_markdown":"You should have a look at the official [ICU4J library][1]. It provides a [MessageFormat][2] class similar to the one available with the JDK but this former supports named placeholders. \r\n\r\nUnlike other solutions provided on this page. ICU4j is part of the [ICU project][3] that is maintained by IBM and regularly updated. In addition, it supports advanced use cases such as pluralization and much more.  \r\n\r\nHere is a code example:\r\n\r\n    MessageFormat messageFormat =\r\n            new MessageFormat(&quot;Publication written by {author}.&quot;);\r\n    \r\n    Map&lt;String, String&gt; args = Map.of(&quot;author&quot;, &quot;John Doe&quot;);\r\n    \r\n    System.out.println(messageFormat.format(args));\r\n\r\n  [1]: https://github.com/unicode-org/icu/tree/master/icu4j\r\n  [2]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/\r\n  [3]: http://site.icu-project.org/","title":"Named placeholders in string formatting","body":"<p>You should have a look at the official <a href=\"https://github.com/unicode-org/icu/tree/master/icu4j\" rel=\"nofollow noreferrer\">ICU4J library</a>. It provides a <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/\" rel=\"nofollow noreferrer\">MessageFormat</a> class similar to the one available with the JDK but this former supports named placeholders. </p>\n\n<p>Unlike other solutions provided on this page. ICU4j is part of the <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU project</a> that is maintained by IBM and regularly updated. In addition, it supports advanced use cases such as pluralization and much more.  </p>\n\n<p>Here is a code example:</p>\n\n<pre><code>MessageFormat messageFormat =\n        new MessageFormat(\"Publication written by {author}.\");\n\nMap&lt;String, String&gt; args = Map.of(\"author\", \"John Doe\");\n\nSystem.out.println(messageFormat.format(args));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119370,"reputation":1675,"user_id":1108038,"display_name":"hermeslm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592251961,"creation_date":1592251961,"answer_id":62396226,"question_id":2286648,"body_markdown":"There is Java Plugin to use string interpolation in Java (like in Kotlin, JavaScript). Supports Java 8, 9, 10, 11…​ [https://github.com/antkorwin/better-strings][1]\r\n\r\n**Using variables in string literals:**\r\n\r\n    int a = 3;\r\n    int b = 4;\r\n    System.out.println(&quot;${a} + ${b} = ${a+b}&quot;);\r\n\r\n**Using expressions:**\r\n\r\n    int a = 3;\r\n    int b = 4;\r\n    System.out.println(&quot;pow = ${a * a}&quot;);\r\n    System.out.println(&quot;flag = ${a &gt; b ? true : false}&quot;);\r\n\r\n**Using functions:**\r\n    \r\n    @Test\r\n    void functionCall() {\r\n        System.out.println(&quot;fact(5) = ${factorial(5)}&quot;);\r\n    }\r\n    \r\n    long factorial(int n) {\r\n        long fact = 1;\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            fact = fact * i;\r\n        }\r\n        return fact;\r\n    }\r\n\r\nFor more info, please read the project README.\r\n\r\n \r\n  [1]: https://github.com/antkorwin/better-strings","title":"Named placeholders in string formatting","body":"<p>There is Java Plugin to use string interpolation in Java (like in Kotlin, JavaScript). Supports Java 8, 9, 10, 11…​ <a href=\"https://github.com/antkorwin/better-strings\" rel=\"nofollow noreferrer\">https://github.com/antkorwin/better-strings</a></p>\n\n<p><strong>Using variables in string literals:</strong></p>\n\n<pre><code>int a = 3;\nint b = 4;\nSystem.out.println(\"${a} + ${b} = ${a+b}\");\n</code></pre>\n\n<p><strong>Using expressions:</strong></p>\n\n<pre><code>int a = 3;\nint b = 4;\nSystem.out.println(\"pow = ${a * a}\");\nSystem.out.println(\"flag = ${a &gt; b ? true : false}\");\n</code></pre>\n\n<p><strong>Using functions:</strong></p>\n\n<pre><code>@Test\nvoid functionCall() {\n    System.out.println(\"fact(5) = ${factorial(5)}\");\n}\n\nlong factorial(int n) {\n    long fact = 1;\n    for (int i = 2; i &lt;= n; i++) {\n        fact = fact * i;\n    }\n    return fact;\n}\n</code></pre>\n\n<p>For more info, please read the project README.</p>\n"},{"tags":[],"owner":{"account_id":3713250,"reputation":410,"user_id":3090012,"display_name":"CuriousDev"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601441897,"creation_date":1601441897,"answer_id":64131164,"question_id":2286648,"body_markdown":"I tried in just a quick way\r\n\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tString rowString = &quot;replace the value ${var1} with ${var2}&quot;;\r\n\t\t\r\n\t\tMap&lt;String,String&gt; mappedValues = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tmappedValues.put(&quot;var1&quot;, &quot;Value 1&quot;);\r\n\t\tmappedValues.put(&quot;var2&quot;, &quot;Value 2&quot;);\r\n\t\t\r\n\t\tSystem.out.println(replaceOccurence(rowString, mappedValues));\r\n\t}\r\n\t\r\n\tprivate static  String replaceOccurence(String baseStr ,Map&lt;String,String&gt; mappedValues)\r\n\t{\r\n\t\tfor(String key :mappedValues.keySet())\r\n\t\t{\r\n\t\t\tbaseStr = baseStr.replace(&quot;${&quot;+key+&quot;}&quot;, mappedValues.get(key));\r\n\t\t}\r\n\t\t\r\n\t\treturn baseStr;\r\n\t}\r\n\r\n","title":"Named placeholders in string formatting","body":"<p>I tried in just a quick way</p>\n<pre><code>public static void main(String[] args) \n{\n    String rowString = &quot;replace the value ${var1} with ${var2}&quot;;\n    \n    Map&lt;String,String&gt; mappedValues = new HashMap&lt;&gt;();\n    \n    mappedValues.put(&quot;var1&quot;, &quot;Value 1&quot;);\n    mappedValues.put(&quot;var2&quot;, &quot;Value 2&quot;);\n    \n    System.out.println(replaceOccurence(rowString, mappedValues));\n}\n\nprivate static  String replaceOccurence(String baseStr ,Map&lt;String,String&gt; mappedValues)\n{\n    for(String key :mappedValues.keySet())\n    {\n        baseStr = baseStr.replace(&quot;${&quot;+key+&quot;}&quot;, mappedValues.get(key));\n    }\n    \n    return baseStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1689791305,"creation_date":1618796000,"answer_id":67154974,"question_id":2286648,"body_markdown":"[Apache Commons Text](https://commons.apache.org/proper/commons-text/)&#39;s [`StringSubstitutor`](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html) can be used. (See [Dependency Information](https://commons.apache.org/proper/commons-text/dependency-info.html) for how to include it in a project.) Note that `StrSubstitutor` is deprecated.\r\n\r\n```\r\nimport org.apache.commons.text.StringSubstitutor;\r\n// ...\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\r\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n```\r\n\r\nThis class supports providing default values for variables.\r\n\r\n```\r\nString result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\r\n// &quot;The number is 42.&quot;\r\n```\r\n\r\nTo use recursive variable replacement, call `setEnableSubstitutionInVariables(true);`.\r\n\r\n```\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;b&quot;, &quot;c&quot;);\r\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nsub.setEnableSubstitutionInVariables(true);\r\nString result = sub.replace(&quot;${a${b}}&quot;);\r\n// &quot;Test&quot;\r\n```","title":"Named placeholders in string formatting","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a>'s <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\"><code>StringSubstitutor</code></a> can be used. (See <a href=\"https://commons.apache.org/proper/commons-text/dependency-info.html\" rel=\"nofollow noreferrer\">Dependency Information</a> for how to include it in a project.) Note that <code>StrSubstitutor</code> is deprecated.</p>\n<pre><code>import org.apache.commons.text.StringSubstitutor;\n// ...\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\n</code></pre>\n<p>This class supports providing default values for variables.</p>\n<pre><code>String result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\n// &quot;The number is 42.&quot;\n</code></pre>\n<p>To use recursive variable replacement, call <code>setEnableSubstitutionInVariables(true);</code>.</p>\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;b&quot;, &quot;c&quot;);\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nsub.setEnableSubstitutionInVariables(true);\nString result = sub.replace(&quot;${a${b}}&quot;);\n// &quot;Test&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1574864,"reputation":3598,"user_id":1461602,"accept_rate":80,"display_name":"Tormod Haugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642156163,"creation_date":1642156163,"answer_id":70709170,"question_id":2286648,"body_markdown":"The quick answer is no, unfortunately. However, you can come pretty close to a reasonable syntaks:\r\n\r\n    &quot;&quot;&quot;\r\n       You are $compliment!\r\n    &quot;&quot;&quot;\r\n    .replace(&#39;$compliment&#39;, &#39;awesome&#39;);\r\n\r\nIt&#39;s more readable and predictable than `String.format`, at least!","title":"Named placeholders in string formatting","body":"<p>The quick answer is no, unfortunately. However, you can come pretty close to a reasonable syntaks:</p>\n<pre><code>&quot;&quot;&quot;\n   You are $compliment!\n&quot;&quot;&quot;\n.replace('$compliment', 'awesome');\n</code></pre>\n<p>It's more readable and predictable than <code>String.format</code>, at least!</p>\n"},{"comments":[{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1674307711,"post_id":74025892,"comment_id":132689165,"body_markdown":"My preferred answer so far. Permissive license (suitable for both FOSS and proprietary projects), and from a source I would trust to produce mature code and still be around tomorrow. Minor one: for a one-off replacement, `StringSubstitutor.replace (templateString, valuesMap);` is even quicker.","body":"My preferred answer so far. Permissive license (suitable for both FOSS and proprietary projects), and from a source I would trust to produce mature code and still be around tomorrow. Minor one: for a one-off replacement, <code>StringSubstitutor.replace (templateString, valuesMap);</code> is even quicker."}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665480534,"creation_date":1665480534,"answer_id":74025892,"question_id":2286648,"body_markdown":"As of 2022 the up-to-date solution is Apache Commons Text [StringSubstitutor][1]\r\n\r\nFrom the doc:\r\n\r\n    // Build map\r\n     Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n     valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n     valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n     String templateString = &quot;The ${animal} jumped over the ${target} ${undefined.number:-1234567890} times.&quot;;\r\n\r\n     // Build StringSubstitutor\r\n     StringSubstitutor sub = new StringSubstitutor(valuesMap);\r\n    \r\n     // Replace\r\n     String resolvedString = sub.replace(templateString)\r\n\r\n;\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html","title":"Named placeholders in string formatting","body":"<p>As of 2022 the up-to-date solution is Apache Commons Text <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">StringSubstitutor</a></p>\n<p>From the doc:</p>\n<pre><code>// Build map\n Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\n valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\n valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\n String templateString = &quot;The ${animal} jumped over the ${target} ${undefined.number:-1234567890} times.&quot;;\n\n // Build StringSubstitutor\n StringSubstitutor sub = new StringSubstitutor(valuesMap);\n\n // Replace\n String resolvedString = sub.replace(templateString)\n</code></pre>\n<p>;</p>\n"},{"tags":[],"owner":{"account_id":3659569,"reputation":2082,"user_id":3049753,"accept_rate":57,"display_name":"RedEyed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666360882,"creation_date":1666360882,"answer_id":74154810,"question_id":2286648,"body_markdown":"I ended up with the next solution:  \r\nCreate class `TemplateSubstitutor` with method `substitute()` and use it to format output  \r\nThen create a string template and fill it with values  \r\n```java\r\nimport java.util.*;\r\npublic class MyClass {\r\n\r\n    public static void main(String args[]) {\r\n    String template = &quot;WRR = {WRR}, SRR = {SRR}\\n&quot; +\r\n                      &quot;char_F1 = {char_F1}, word_F1 = {word_F1}\\n&quot;;\r\n    \r\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;WRR&quot;, 99.9);\r\n    values.put(&quot;SRR&quot;, 99.8);\r\n    values.put(&quot;char_F1&quot;, 80);\r\n    values.put(&quot;word_F1&quot;, 70);\r\n    \r\n    String message = TemplateSubstitutor.substitute(values, template);\r\n    \r\n    System.out.println(message);\r\n    }\r\n}\r\n\r\nclass TemplateSubstitutor {\r\n    public static String substitute(Map&lt;String, Object&gt; map, String input_str) {\r\n        String output_str = input_str;\r\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n            String key = entry.getKey();\r\n            Object value = entry.getValue();\r\n            output_str = output_str.replace(&quot;{&quot; + key + &quot;}&quot;, String.valueOf(value));\r\n        }\r\n        return output_str;\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Named placeholders in string formatting","body":"<p>I ended up with the next solution:<br />\nCreate class <code>TemplateSubstitutor</code> with method <code>substitute()</code> and use it to format output<br />\nThen create a string template and fill it with values</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class MyClass {\n\n    public static void main(String args[]) {\n    String template = &quot;WRR = {WRR}, SRR = {SRR}\\n&quot; +\n                      &quot;char_F1 = {char_F1}, word_F1 = {word_F1}\\n&quot;;\n    \n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n    values.put(&quot;WRR&quot;, 99.9);\n    values.put(&quot;SRR&quot;, 99.8);\n    values.put(&quot;char_F1&quot;, 80);\n    values.put(&quot;word_F1&quot;, 70);\n    \n    String message = TemplateSubstitutor.substitute(values, template);\n    \n    System.out.println(message);\n    }\n}\n\nclass TemplateSubstitutor {\n    public static String substitute(Map&lt;String, Object&gt; map, String input_str) {\n        String output_str = input_str;\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n            output_str = output_str.replace(&quot;{&quot; + key + &quot;}&quot;, String.valueOf(value));\n        }\n        return output_str;\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691189090,"creation_date":1691189090,"answer_id":76839459,"question_id":2286648,"body_markdown":"If use of a map is not a requirement, then you can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString s = STR.&quot;There&#39;s an incorrect value &#39;\\{x}&#39; in column # \\{y}&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Named placeholders in string formatting","body":"<p>If use of a map is not a requirement, then you can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = STR.&quot;There's an incorrect value '\\{x}' in column # \\{y}&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258283,"favorite_count":0,"down_vote_count":1,"up_vote_count":242,"accepted_answer_id":2295004,"answer_count":24,"score":241,"last_activity_date":1691189090,"creation_date":1266473169,"question_id":2286648,"body_markdown":"In Python, when formatting string, I can fill placeholders by name rather than by position, like that:\r\n\r\n    print &quot;There&#39;s an incorrect value &#39;%(value)s&#39; in column # %(column)d&quot; % \\\r\n      { &#39;value&#39;: x, &#39;column&#39;: y }\r\n\r\nI wonder if that is possible in Java (hopefully, without external libraries)? ","title":"Named placeholders in string formatting","body":"<p>In Python, when formatting string, I can fill placeholders by name rather than by position, like that:</p>\n\n<pre><code>print \"There's an incorrect value '%(value)s' in column # %(column)d\" % \\\n  { 'value': x, 'column': y }\n</code></pre>\n\n<p>I wonder if that is possible in Java (hopefully, without external libraries)? </p>\n"},{"tags":["java","string-formatting"],"comments":[{"owner":{"account_id":68273,"reputation":8282,"user_id":199288,"accept_rate":91,"display_name":"Ramon"},"score":2,"creation_date":1301338914,"post_id":5463714,"comment_id":6193059,"body_markdown":"Commons Lang has StrSubstitutor","body":"Commons Lang has StrSubstitutor"},{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1301339099,"post_id":5463714,"comment_id":6193105,"body_markdown":"I can be wrong, but looks like [JTPL](http://jtpl.sourceforge.net/) can help you out.","body":"I can be wrong, but looks like <a href=\"http://jtpl.sourceforge.net/\" rel=\"nofollow noreferrer\">JTPL</a> can help you out."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1453113443,"post_id":5463714,"comment_id":57444875,"body_markdown":"Related: http://stackoverflow.com/q/2286648/435605","body":"Related: <a href=\"http://stackoverflow.com/q/2286648/435605\">stackoverflow.com/q/2286648/435605</a>"}],"answers":[{"tags":[],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1301339209,"creation_date":1301339209,"answer_id":5463802,"question_id":5463714,"body_markdown":"Easy to make one yourself. This is what I use (the `main()` function is just for test code):\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StringTemplate {\r\n    \tfinal private String template;\r\n    \tfinal private Matcher m;\r\n    \tstatic final private Pattern keyPattern = \r\n    \t\tPattern.compile(&quot;\\\\$\\\\{([a-zA-Z][a-zA-Z0-9_]*(\\\\.[a-zA-Z][a-zA-Z0-9_]*)*)\\\\}&quot;);\r\n    \tprivate boolean blanknull=false;\r\n    \t\r\n    \tpublic StringTemplate(String template) { \r\n    \t\tthis.template=template;\r\n    \t\tthis.m = keyPattern.matcher(template);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * @param map substitution map\r\n    \t * @return substituted string\r\n    \t */\r\n    \tpublic String substitute(Map&lt;String, ? extends Object&gt; map)\r\n    \t{\r\n    \t\tthis.m.reset();\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \t\twhile (this.m.find())\r\n    \t\t{\r\n    \t\t\tString k0 = this.m.group();\r\n    \t\t\tString k = this.m.group(1);\r\n    \t\t\tObject vobj = map.get(k);\r\n    \t\t\tString v = (vobj == null) \r\n    \t\t\t\t? (this.blanknull ? &quot;&quot; : k0)\r\n    \t\t\t\t: vobj.toString();\r\n    \t\t\tthis.m.appendReplacement(sb, Matcher.quoteReplacement(v));\r\n    \t\t}\r\n    \t\tthis.m.appendTail(sb);\r\n    \t\treturn sb.toString();\t\t\r\n    \t}\r\n    \t\r\n    \tpublic StringTemplate setBlankNull()\r\n    \t{\r\n    \t\tthis.blanknull=true;\r\n    \t\treturn this;\r\n    \t}\r\n    \t\r\n    \tstatic public void main(String[] args)\r\n    \t{\r\n    \t\tStringTemplate t1 = new StringTemplate(&quot;${this} is a ${test} of the ${foo} bar=${bar} ${emergency.broadcasting.system}&quot;);\r\n    \t\tt1.setBlankNull();\r\n    \t\tMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    \t\tm.put(&quot;this&quot;, &quot;*This*&quot;);\r\n    \t\tm.put(&quot;test&quot;, &quot;*TEST*&quot;);\r\n    \t\tm.put(&quot;foo&quot;, &quot;$$$aaa\\\\\\\\111&quot;);\r\n    \t\tm.put(&quot;emergency.broadcasting.system&quot;, &quot;EBS&quot;);\r\n    \t\tSystem.out.println(t1.substitute(m));\r\n    \t}\r\n    }\r\n\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>Easy to make one yourself. This is what I use (the <code>main()</code> function is just for test code):</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringTemplate {\n    final private String template;\n    final private Matcher m;\n    static final private Pattern keyPattern = \n        Pattern.compile(\"\\\\$\\\\{([a-zA-Z][a-zA-Z0-9_]*(\\\\.[a-zA-Z][a-zA-Z0-9_]*)*)\\\\}\");\n    private boolean blanknull=false;\n\n    public StringTemplate(String template) { \n        this.template=template;\n        this.m = keyPattern.matcher(template);\n    }\n\n    /**\n     * @param map substitution map\n     * @return substituted string\n     */\n    public String substitute(Map&lt;String, ? extends Object&gt; map)\n    {\n        this.m.reset();\n        StringBuffer sb = new StringBuffer();\n        while (this.m.find())\n        {\n            String k0 = this.m.group();\n            String k = this.m.group(1);\n            Object vobj = map.get(k);\n            String v = (vobj == null) \n                ? (this.blanknull ? \"\" : k0)\n                : vobj.toString();\n            this.m.appendReplacement(sb, Matcher.quoteReplacement(v));\n        }\n        this.m.appendTail(sb);\n        return sb.toString();       \n    }\n\n    public StringTemplate setBlankNull()\n    {\n        this.blanknull=true;\n        return this;\n    }\n\n    static public void main(String[] args)\n    {\n        StringTemplate t1 = new StringTemplate(\"${this} is a ${test} of the ${foo} bar=${bar} ${emergency.broadcasting.system}\");\n        t1.setBlankNull();\n        Map&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\n        m.put(\"this\", \"*This*\");\n        m.put(\"test\", \"*TEST*\");\n        m.put(\"foo\", \"$$$aaa\\\\\\\\111\");\n        m.put(\"emergency.broadcasting.system\", \"EBS\");\n        System.out.println(t1.substitute(m));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1569919141,"creation_date":1301339283,"answer_id":5463814,"question_id":5463714,"body_markdown":"You can use `MapFormat` for this. Find out the details here:\r\n\r\nhttp://www.java2s.com/Code/Java/I18N/AtextformatsimilartoMessageFormatbutusingstringratherthannumerickeys.htm\r\n\r\n    String text = &quot;The user {name} has email address {email}.&quot;;\r\n    Map map = new HashMap();\r\n    map.put(&quot;name&quot;, &quot;Robert&quot;);\r\n    map.put(&quot;email&quot;, &quot;rhume55@gmail.com&quot;);\r\n    \t\t\t\r\n    System.out.println(&quot;1st : &quot; + MapFormat.format(text, map));\r\n\r\nOUTPUT:\r\n\r\n&gt; 1st : The user Robert has email address rhume55@gmail.com.","title":"How to format message with argument names instead of numbers?","body":"<p>You can use <code>MapFormat</code> for this. Find out the details here:</p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/I18N/AtextformatsimilartoMessageFormatbutusingstringratherthannumerickeys.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/I18N/AtextformatsimilartoMessageFormatbutusingstringratherthannumerickeys.htm</a></p>\n\n<pre><code>String text = \"The user {name} has email address {email}.\";\nMap map = new HashMap();\nmap.put(\"name\", \"Robert\");\nmap.put(\"email\", \"rhume55@gmail.com\");\n\nSystem.out.println(\"1st : \" + MapFormat.format(text, map));\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<blockquote>\n  <p>1st : The user Robert has email address rhume55@gmail.com.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":81527,"reputation":2678,"user_id":229810,"accept_rate":68,"display_name":"kevin cline"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301339456,"creation_date":1301339456,"answer_id":5463845,"question_id":5463714,"body_markdown":"Your question is closely related to: [How to replace a set of tokens in a Java String][1]\r\nYou could use [velocity][2] or another template library.  But there will be some pain because Java does not have any kind of Map literals.\r\n\r\n  [1]: https://stackoverflow.com/questions/959731/how-to-replace-a-set-of-tokens-in-a-java-string\r\n  [2]: http://velocity.apache.org/\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>Your question is closely related to: <a href=\"https://stackoverflow.com/questions/959731/how-to-replace-a-set-of-tokens-in-a-java-string\">How to replace a set of tokens in a Java String</a>\nYou could use <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">velocity</a> or another template library.  But there will be some pain because Java does not have any kind of Map literals.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342186510,"creation_date":1342186510,"answer_id":11471577,"question_id":5463714,"body_markdown":"    static final Pattern REPLACE_PATTERN = Pattern.compile(&quot;\\\\x24\\\\x7B([a-zA-Z][\\\\w\\\\x2E].*?)\\\\x7D&quot;);\r\n\r\n    /**\r\n     * Check for unresolved environment\r\n     *\r\n     * @param str\r\n     * @return origin if all substitutions resolved\r\n     */\r\n    public static String checkReplacement(String str) {\r\n        Matcher matcher = REPLACE_PATTERN.matcher(str);\r\n        if (matcher.find()) {\r\n            throw LOG.getIllegalArgumentException(&quot;Environment variable &#39;&quot; + matcher.group(1) + &quot;&#39; is not defined&quot;);\r\n        }\r\n        return str;\r\n    }\r\n\r\n    // replace in str ${key} to value\r\n    public static String resolveReplacement(String str, Map&lt;String, String&gt; replacements) {\r\n        Matcher matcher = REPLACE_PATTERN.matcher(str);\r\n        while (matcher.find()) {\r\n            String value = replacements.get(matcher.group(1));\r\n            if (value != null) {\r\n                str = matcher.replaceFirst(replaceWindowsSlash(value));\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n\r\nBut you loose all format options (like ##.#)","title":"How to format message with argument names instead of numbers?","body":"<pre><code>static final Pattern REPLACE_PATTERN = Pattern.compile(\"\\\\x24\\\\x7B([a-zA-Z][\\\\w\\\\x2E].*?)\\\\x7D\");\n\n/**\n * Check for unresolved environment\n *\n * @param str\n * @return origin if all substitutions resolved\n */\npublic static String checkReplacement(String str) {\n    Matcher matcher = REPLACE_PATTERN.matcher(str);\n    if (matcher.find()) {\n        throw LOG.getIllegalArgumentException(\"Environment variable '\" + matcher.group(1) + \"' is not defined\");\n    }\n    return str;\n}\n\n// replace in str ${key} to value\npublic static String resolveReplacement(String str, Map&lt;String, String&gt; replacements) {\n    Matcher matcher = REPLACE_PATTERN.matcher(str);\n    while (matcher.find()) {\n        String value = replacements.get(matcher.group(1));\n        if (value != null) {\n            str = matcher.replaceFirst(replaceWindowsSlash(value));\n        }\n    }\n    return str;\n}\n</code></pre>\n\n<p>But you loose all format options (like ##.#)</p>\n"},{"comments":[{"owner":{"account_id":1999885,"reputation":636,"user_id":1791193,"accept_rate":29,"display_name":"poyger"},"score":0,"creation_date":1499717404,"post_id":34854342,"comment_id":77015740,"body_markdown":"any idea how solve this if for example target is optional and then you want to have empty string instead of ${target}, to set an empty string in the map the only way ?","body":"any idea how solve this if for example target is optional and then you want to have empty string instead of ${target}, to set an empty string in the map the only way ?"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1504179559,"post_id":34854342,"comment_id":78920127,"body_markdown":"@poyger Did not try this, but you could probably override `Map` to return `&quot;&quot;` instead of `null` for keys that are not mapped.","body":"@poyger Did not try this, but you could probably override <code>Map</code> to return <code>&quot;&quot;</code> instead of <code>null</code> for keys that are not mapped."},{"owner":{"account_id":33225,"reputation":15469,"user_id":92813,"accept_rate":71,"display_name":"Chris"},"score":4,"creation_date":1517562934,"post_id":34854342,"comment_id":84154768,"body_markdown":"as of today, 2018-02, this class has been moved to commons-text: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StrSubstitutor.html","body":"as of today, 2018-02, this class has been moved to commons-text: <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StrSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"},{"owner":{"account_id":1521999,"reputation":1043,"user_id":1421405,"display_name":"ezzadeen"},"score":1,"creation_date":1661881503,"post_id":34854342,"comment_id":129875878,"body_markdown":"StrSubstitutor is now deprecated. You should use org.apache.commons.text.StringSubstitutor from commons-text.","body":"StrSubstitutor is now deprecated. You should use org.apache.commons.text.StringSubstitutor from commons-text."}],"tags":[],"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":4,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1453457204,"creation_date":1453118606,"answer_id":34854342,"question_id":5463714,"body_markdown":"See [StrSubstitutor][1] from `org.apache.commons.lang3`:\r\n\r\n    Map valuesMap = HashMap();\r\n    valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n    valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n    String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n    StrSubstitutor sub = new StrSubstitutor(valuesMap);\r\n    String resolvedString = sub.replace(templateString);\r\n     \r\n    // resolvedString: &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>See <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"noreferrer\">StrSubstitutor</a> from <code>org.apache.commons.lang3</code>:</p>\n\n<pre><code>Map valuesMap = HashMap();\nvaluesMap.put(\"animal\", \"quick brown fox\");\nvaluesMap.put(\"target\", \"lazy dog\");\nString templateString = \"The ${animal} jumped over the ${target}.\";\nStrSubstitutor sub = new StrSubstitutor(valuesMap);\nString resolvedString = sub.replace(templateString);\n\n// resolvedString: \"The quick brown fox jumped over the lazy dog.\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498032777,"creation_date":1498032777,"answer_id":44670400,"question_id":5463714,"body_markdown":"I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at [aleph-formatter][1] (I am one of the authors):\r\n\r\n    Student student = new Student(&quot;Andrei&quot;, 30, &quot;Male&quot;);\r\n    \r\n    String studStr = template(&quot;#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}&quot;)\r\n                        .arg(&quot;id&quot;, 10)\r\n                        .arg(&quot;st&quot;, student)\r\n                        .format();\r\n    System.out.println(studStr);\r\n\r\nOr you can chain the arguments:\r\n\r\n    String result = template(&quot;#{x} + #{y} = #{z}&quot;)\r\n                        .args(&quot;x&quot;, 5, &quot;y&quot;, 10, &quot;z&quot;, 15)\r\n                        .format();\r\n    System.out.println(result);\r\n    \r\n    // Output: &quot;5 + 10 = 15&quot;\r\n\r\nInternally it works using a StringBuilder creating the result by &quot;parsing&quot; the expression, no string concatenation, regex/replace is performed.\r\n\r\n\r\n  [1]: https://github.com/nomemory/aleph-formatter","title":"How to format message with argument names instead of numbers?","body":"<p>I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at <a href=\"https://github.com/nomemory/aleph-formatter\" rel=\"nofollow noreferrer\">aleph-formatter</a> (I am one of the authors):</p>\n\n<pre><code>Student student = new Student(\"Andrei\", 30, \"Male\");\n\nString studStr = template(\"#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}\")\n                    .arg(\"id\", 10)\n                    .arg(\"st\", student)\n                    .format();\nSystem.out.println(studStr);\n</code></pre>\n\n<p>Or you can chain the arguments:</p>\n\n<pre><code>String result = template(\"#{x} + #{y} = #{z}\")\n                    .args(\"x\", 5, \"y\", 10, \"z\", 15)\n                    .format();\nSystem.out.println(result);\n\n// Output: \"5 + 10 = 15\"\n</code></pre>\n\n<p>Internally it works using a StringBuilder creating the result by \"parsing\" the expression, no string concatenation, regex/replace is performed.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188747,"creation_date":1691188747,"answer_id":76839444,"question_id":5463714,"body_markdown":"If use of a map is not a requirement, then you can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString username = &quot;rtm&quot;;\r\nString emailaddress = &quot;noone@nowhere.com&quot;;\r\nString text = STR.&quot;The user \\{username} has email address \\{emailaddress}.&quot;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>If use of a map is not a requirement, then you can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String username = &quot;rtm&quot;;\nString emailaddress = &quot;noone@nowhere.com&quot;;\nString text = STR.&quot;The user \\{username} has email address \\{emailaddress}.&quot;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"display_name":"user550738"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57142,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":5463814,"answer_count":7,"score":62,"last_activity_date":1691188747,"creation_date":1301338716,"question_id":5463714,"body_markdown":"I have something like:\r\n\r\n    String text = &quot;The user {0} has email address {1}.&quot;\r\n    // params = { &quot;Robert&quot;, &quot;myemailaddr@gmail.com&quot; }\r\n    String msg = MessageFormat.format(text, params);\r\n\r\nThis isn&#39;t great for me, because sometimes my translators are not sure what goes in the {0} and {1}, also it would be nice to be able to reword the messages without worrying about the order of the args.\r\n\r\nI&#39;d like to replace the arguments with readable names instead of numbers.  Something like this:\r\n\r\n    String text = &quot;The user {USERNAME} has email address {EMAILADDRESS}.&quot;\r\n    // Map map = new HashMap( ... [USERNAME=&quot;Robert&quot;, EMAILADDRESS=&quot;myemailaddr@gmail.com&quot;]\r\n    String msg = MessageFormat.format(text, map);\r\n\r\nIs there an easy way to do this?  \r\n\r\nThanks!\r\nrob","title":"How to format message with argument names instead of numbers?","body":"<p>I have something like:</p>\n\n<pre><code>String text = \"The user {0} has email address {1}.\"\n// params = { \"Robert\", \"myemailaddr@gmail.com\" }\nString msg = MessageFormat.format(text, params);\n</code></pre>\n\n<p>This isn't great for me, because sometimes my translators are not sure what goes in the {0} and {1}, also it would be nice to be able to reword the messages without worrying about the order of the args.</p>\n\n<p>I'd like to replace the arguments with readable names instead of numbers.  Something like this:</p>\n\n<pre><code>String text = \"The user {USERNAME} has email address {EMAILADDRESS}.\"\n// Map map = new HashMap( ... [USERNAME=\"Robert\", EMAILADDRESS=\"myemailaddr@gmail.com\"]\nString msg = MessageFormat.format(text, map);\n</code></pre>\n\n<p>Is there an easy way to do this?  </p>\n\n<p>Thanks!\nrob</p>\n"},{"tags":["java","string","formatting"],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1346005938,"creation_date":1346004555,"answer_id":12132622,"question_id":12132604,"body_markdown":"Yes, that&#39;s the typical [format][1] string of *C#*. In Java, you can use the latter, that is, `String.format(&quot;%s %d %d&quot;, ...)`.\r\n\r\nAn *alternative* is to use `MessageFormat.format(&quot;Some {0}, {1}, {2}&quot;, var1, var2, var3)`, which uses the .NET curly braces notation, as mentioned by @Tobias, though it requires you to import [`java.text.MessageFormat`][2]. They are also more appropriate for when you are dealing with localized resources, where you typically have external `.properties` files with messages in the format `Error {0} ocurred due to {1}`.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/system.string.format.aspx\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html","title":"Correct format string for String.format or similar","body":"<p>Yes, that's the typical <a href=\"http://msdn.microsoft.com/en-us/library/system.string.format.aspx\" rel=\"noreferrer\">format</a> string of <em>C#</em>. In Java, you can use the latter, that is, <code>String.format(\"%s %d %d\", ...)</code>.</p>\n\n<p>An <em>alternative</em> is to use <code>MessageFormat.format(\"Some {0}, {1}, {2}\", var1, var2, var3)</code>, which uses the .NET curly braces notation, as mentioned by @Tobias, though it requires you to import <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>java.text.MessageFormat</code></a>. They are also more appropriate for when you are dealing with localized resources, where you typically have external <code>.properties</code> files with messages in the format <code>Error {0} ocurred due to {1}</code>.</p>\n"},{"comments":[{"owner":{"account_id":1130704,"reputation":2477,"user_id":1116850,"display_name":"Tobias N. Sasse"},"score":3,"creation_date":1346005773,"post_id":12132674,"comment_id":16227458,"body_markdown":"Did some research: String.format is actually newer than MessageFormat. They do use different methods under the hood but don&#39;t differ much in overall functionality. String.format thus is said to be quicker.","body":"Did some research: String.format is actually newer than MessageFormat. They do use different methods under the hood but don&#39;t differ much in overall functionality. String.format thus is said to be quicker."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1450857598,"post_id":12132674,"comment_id":56603169,"body_markdown":"Nice. Exists in Android as well. A very simple way of formatting. Not needing to provide the type of the input is an advantage.","body":"Nice. Exists in Android as well. A very simple way of formatting. Not needing to provide the type of the input is an advantage."}],"tags":[],"owner":{"account_id":1130704,"reputation":2477,"user_id":1116850,"display_name":"Tobias N. Sasse"},"comment_count":2,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1346005328,"creation_date":1346004903,"answer_id":12132674,"question_id":12132604,"body_markdown":"What you are looking for is [`MessageFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html), which uses a given format and input parameters, e.g.\r\n\r\n    MessageFormat.format(&quot;Some {0}, {1}, {2}&quot;, var1, var2, var3);\r\n\r\nAnd as already mentioned, [`String.format`][1] can still do the job using the alternate syntax, but it is less powerful in functionality and not what you requested.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Correct format string for String.format or similar","body":"<p>What you are looking for is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>MessageFormat</code></a>, which uses a given format and input parameters, e.g.</p>\n\n<pre><code>MessageFormat.format(\"Some {0}, {1}, {2}\", var1, var2, var3);\n</code></pre>\n\n<p>And as already mentioned, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>String.format</code></a> can still do the job using the alternate syntax, but it is less powerful in functionality and not what you requested.</p>\n"},{"comments":[{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1522165159,"post_id":39244397,"comment_id":86039537,"body_markdown":"For most cases (one or 2 parameters), you can also use directly : MessageFormatter.format(&quot;Problem with A={} and B={}!&quot;, a, b); (still org.slf4j.helpers.MessageFormatter )","body":"For most cases (one or 2 parameters), you can also use directly : MessageFormatter.format(&quot;Problem with A={} and B={}!&quot;, a, b); (still org.slf4j.helpers.MessageFormatter )"}],"tags":[],"owner":{"account_id":1744738,"reputation":663,"user_id":1595213,"display_name":"Jaroslav Kuboš"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1472631880,"creation_date":1472631880,"answer_id":39244397,"question_id":12132604,"body_markdown":"I do not like to specify both index of parameter or its type - mainly when throwing exception and preparing message for it. I like way SLF4j does it. So I wrapped org.slf4j.helpers.MessageFormatter like this:\r\n\r\n    public static String subst(String string, Object...objects) {\r\n\t\treturn MessageFormatter.arrayFormat(string, objects).getMessage();\r\n\t}\r\n\r\nThen you can use it like this:\r\n\r\n    public void main(String[] args) {\r\n        throw new RuntimeException(MyUtils.subst(&quot;Problem with A={} and B={}!&quot;, a, b));\r\n    }\r\n","title":"Correct format string for String.format or similar","body":"<p>I do not like to specify both index of parameter or its type - mainly when throwing exception and preparing message for it. I like way SLF4j does it. So I wrapped org.slf4j.helpers.MessageFormatter like this:</p>\n\n<pre><code>public static String subst(String string, Object...objects) {\n    return MessageFormatter.arrayFormat(string, objects).getMessage();\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>public void main(String[] args) {\n    throw new RuntimeException(MyUtils.subst(\"Problem with A={} and B={}!\", a, b));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1716216,"reputation":519,"user_id":1573221,"accept_rate":50,"display_name":"TheCommonEngineer"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1590498143,"creation_date":1590498143,"answer_id":62022785,"question_id":12132604,"body_markdown":"If you want to use empty placeholders (without positions), you could write a small utility around `Message.format()`, like this\r\n\r\n    \r\n        String format(String s, Object... var2) {\r\n            int i = 0;\r\n            while(s.contains(&quot;{}&quot;)) {\r\n                s = s.replaceFirst(Pattern.quote(&quot;{}&quot;), &quot;{&quot;+ i++ +&quot;}&quot;);\r\n            }\r\n            return MessageFormat.format(s, var2);\r\n        }\r\n\r\n\r\nAnd then, can use it like,\r\n\r\n    format(&quot;Some {} {} {}&quot;, var1, var2, var3);\r\n\r\n","title":"Correct format string for String.format or similar","body":"<p>If you want to use empty placeholders (without positions), you could write a small utility around <code>Message.format()</code>, like this</p>\n\n<pre><code>    String format(String s, Object... var2) {\n        int i = 0;\n        while(s.contains(\"{}\")) {\n            s = s.replaceFirst(Pattern.quote(\"{}\"), \"{\"+ i++ +\"}\");\n        }\n        return MessageFormat.format(s, var2);\n    }\n</code></pre>\n\n<p>And then, can use it like,</p>\n\n<pre><code>format(\"Some {} {} {}\", var1, var2, var3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188249,"creation_date":1691188249,"answer_id":76839411,"question_id":12132604,"body_markdown":"An alternative is to use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString s = STR.&quot;Some \\{aString}, \\{aNumber}, \\{aString}&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Correct format string for String.format or similar","body":"<p>An alternative is to use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = STR.&quot;Some \\{aString}, \\{aNumber}, \\{aString}&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48402,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":12132674,"answer_count":5,"score":50,"last_activity_date":1691188249,"creation_date":1346004476,"question_id":12132604,"body_markdown":"I&#39;m sure I&#39;ve seen `String.format` used like this before:\r\n\r\n    String.format(&quot;Some {1}, {2}, {3}&quot;, var1, var2, var3);\r\n\r\nDoes this ring any bells for anyone? Maybe I&#39;m thinking of C#, is there a way of achieving the same in java?\r\n\r\nI know you can do something like:\r\n\r\n    String.format(&quot;Some %s, %d, %s&quot;, aString, aNumber, aString)\r\n\r\nbut the syntax I&#39;m after is for the former...","title":"Correct format string for String.format or similar","body":"<p>I'm sure I've seen <code>String.format</code> used like this before:</p>\n\n<pre><code>String.format(\"Some {1}, {2}, {3}\", var1, var2, var3);\n</code></pre>\n\n<p>Does this ring any bells for anyone? Maybe I'm thinking of C#, is there a way of achieving the same in java?</p>\n\n<p>I know you can do something like:</p>\n\n<pre><code>String.format(\"Some %s, %d, %s\", aString, aNumber, aString)\n</code></pre>\n\n<p>but the syntax I'm after is for the former...</p>\n"},{"tags":["java","string","string-interpolation"],"answers":[{"comments":[{"owner":{"account_id":318785,"reputation":5316,"user_id":636182,"accept_rate":93,"display_name":"xecaps12"},"score":0,"creation_date":1301446064,"post_id":5480647,"comment_id":6215477,"body_markdown":"@macek np. I almost always have to look it up myself, I keep mixing up java and c# syntax.","body":"@macek np. I almost always have to look it up myself, I keep mixing up java and c# syntax."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1301451915,"post_id":5480647,"comment_id":6216188,"body_markdown":"this functionality is based on java.util.Formatter, which you can use directly for extended formatting.","body":"this functionality is based on java.util.Formatter, which you can use directly for extended formatting."}],"tags":[],"owner":{"account_id":318785,"reputation":5316,"user_id":636182,"accept_rate":93,"display_name":"xecaps12"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1301445759,"creation_date":1301445759,"answer_id":5480647,"question_id":5480615,"body_markdown":"    String s = String.format(&quot;x:%d, y:%d, z:%d&quot;, x, y, z);\r\n[Java Howto - Format a string][1]\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0463.html","title":"How to build a formatted string in Java?","body":"<pre><code>String s = String.format(\"x:%d, y:%d, z:%d\", x, y, z);\n</code></pre>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0463.html\">Java Howto - Format a string</a></p>\n"},{"tags":[],"owner":{"account_id":269507,"reputation":986,"user_id":558880,"display_name":"Karol Lewandowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318534992,"creation_date":1301446076,"answer_id":5480681,"question_id":5480615,"body_markdown":"Yes, it is possible. The `String` class contains the `format()` method, which works like you expect.\r\nExample:\r\n\r\n    String s = String.format(&quot;x:%d, y:%d, z:%d&quot;, x, y, z);\r\n\r\nHere you have more details about formatting:\r\n[formatter syntax][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax","title":"How to build a formatted string in Java?","body":"<p>Yes, it is possible. The <code>String</code> class contains the <code>format()</code> method, which works like you expect.\nExample:</p>\n\n<pre><code>String s = String.format(\"x:%d, y:%d, z:%d\", x, y, z);\n</code></pre>\n\n<p>Here you have more details about formatting:\n<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow\">formatter syntax</a></p>\n"},{"tags":[],"owner":{"account_id":2852962,"reputation":4899,"user_id":2449744,"accept_rate":93,"display_name":"Eldar Agalarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609807720,"creation_date":1609807720,"answer_id":65571806,"question_id":5480615,"body_markdown":"Since JDK 15:\r\n\r\n    var s = &quot;x:%d, y:%d, z:%d&quot;.formatted(x, y, z);","title":"How to build a formatted string in Java?","body":"<p>Since JDK 15:</p>\n<pre><code>var s = &quot;x:%d, y:%d, z:%d&quot;.formatted(x, y, z);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188108,"creation_date":1691188108,"answer_id":76839407,"question_id":5480615,"body_markdown":"You can do interpolation using Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString info = STR.&quot;x:\\{x}, y:\\{y}, z:\\{z}&quot;;\r\n```\r\n","title":"How to build a formatted string in Java?","body":"<p>You can do interpolation using Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String info = STR.&quot;x:\\{x}, y:\\{y}, z:\\{z}&quot;;\n</code></pre>\n"}],"owner":{"account_id":62061,"reputation":76784,"user_id":184600,"accept_rate":89,"display_name":"maček"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26293,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5480647,"answer_count":4,"score":17,"last_activity_date":1691188108,"creation_date":1301445464,"question_id":5480615,"body_markdown":"I am somewhat new to Java but I dislike the heavy use of string concatenation I&#39;m seeing in my textbook.\r\n\r\nFor example, I&#39;d like to **avoid** doing this:\r\n\r\n    String s = &quot;x:&quot;+x+&quot;,&quot; y:&quot;+y+&quot;, z:&quot;+z;\r\n\r\nIs it possible to build a string using a notation similar to this:\r\n\r\n    String s = new String(&quot;x:%d, y:%d, z:%d&quot;, x, y, z);\r\n\r\n## Input\r\n\r\n    x = 1\r\n    y = 2\r\n    z = 3\r\n\r\n## Output\r\n\r\n    &quot;x:1, y:2, z:3&quot;\r\n\r\nNote: I understand I can output formatted strings using `System.out.printf()` but I want to store the formatted string in a variable.","title":"How to build a formatted string in Java?","body":"<p>I am somewhat new to Java but I dislike the heavy use of string concatenation I'm seeing in my textbook.</p>\n\n<p>For example, I'd like to <strong>avoid</strong> doing this:</p>\n\n<pre><code>String s = \"x:\"+x+\",\" y:\"+y+\", z:\"+z;\n</code></pre>\n\n<p>Is it possible to build a string using a notation similar to this:</p>\n\n<pre><code>String s = new String(\"x:%d, y:%d, z:%d\", x, y, z);\n</code></pre>\n\n<h2>Input</h2>\n\n<pre><code>x = 1\ny = 2\nz = 3\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>\"x:1, y:2, z:3\"\n</code></pre>\n\n<p>Note: I understand I can output formatted strings using <code>System.out.printf()</code> but I want to store the formatted string in a variable.</p>\n"},{"tags":["java","json","string-interpolation"],"comments":[{"owner":{"account_id":965165,"reputation":2980,"user_id":988717,"accept_rate":71,"display_name":"MattCochrane"},"score":0,"creation_date":1560391192,"post_id":56570582,"comment_id":99723298,"body_markdown":"This is all really simple stuff to do with javascript.  I can&#39;t think of any edge case that would be difficult to implement.","body":"This is all really simple stuff to do with javascript.  I can&#39;t think of any edge case that would be difficult to implement."}],"answers":[{"comments":[{"owner":{"account_id":15758875,"reputation":11,"user_id":11371180,"display_name":"Sid_idk"},"score":0,"creation_date":1560376963,"post_id":56570742,"comment_id":99720698,"body_markdown":"Thank you for the useful code. While this works, I am interested in a much complex use cases. I will update the question with an example case.","body":"Thank you for the useful code. While this works, I am interested in a much complex use cases. I will update the question with an example case."}],"tags":[],"owner":{"account_id":2879770,"reputation":191,"user_id":2470936,"accept_rate":0,"display_name":"Vimal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560375741,"creation_date":1560375741,"answer_id":56570742,"question_id":56570582,"body_markdown":"This is how we do it.\r\n```\r\nMap inputMap = [&quot;fullName&quot;: &quot;Elon Musk&quot;]\r\n        String finalText = StrSubstitutor.replace(&quot;my name is \\${fullName}&quot;, inputMap)\r\n\r\n```","title":"Interpolate JSON values into a string","body":"<p>This is how we do it.</p>\n\n<pre><code>Map inputMap = [\"fullName\": \"Elon Musk\"]\n        String finalText = StrSubstitutor.replace(\"my name is \\${fullName}\", inputMap)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13641450,"reputation":96,"user_id":9841416,"display_name":"pavleprica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560376899,"creation_date":1560376899,"answer_id":56570926,"question_id":56570582,"body_markdown":"I have always used org.json library. Found at http://www.json.org/.\r\n\r\nIt makes it really easy to go through JSON Objects.\r\n\r\nFor example if you want to make a new object:\r\n\r\n    JSONObject person = new JSONObject();\r\n    person.put(&quot;fullName&quot;, &quot;Elon Musk&quot;);\r\n    person.put(&quot;phoneNumber&quot;, 3811111111);\r\n\r\nThe JSON Object would look like:\r\n\r\n    {\r\n    &quot;fullName&quot;: &quot;Elon Musk&quot;,\r\n    &quot;phoneNumber&quot;: 3811111111\r\n    }\r\nIt&#39;s similar to retrieving from the Object\r\n\r\n    String name = person.getString(&quot;fullName&quot;);\r\n\r\nYou can read out the file with `BufferedReader` and parse it as you wish.\r\nHopefully I helped out. :)","title":"Interpolate JSON values into a string","body":"<p>I have always used org.json library. Found at <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">http://www.json.org/</a>.</p>\n\n<p>It makes it really easy to go through JSON Objects.</p>\n\n<p>For example if you want to make a new object:</p>\n\n<pre><code>JSONObject person = new JSONObject();\nperson.put(\"fullName\", \"Elon Musk\");\nperson.put(\"phoneNumber\", 3811111111);\n</code></pre>\n\n<p>The JSON Object would look like:</p>\n\n<pre><code>{\n\"fullName\": \"Elon Musk\",\n\"phoneNumber\": 3811111111\n}\n</code></pre>\n\n<p>It's similar to retrieving from the Object</p>\n\n<pre><code>String name = person.getString(\"fullName\");\n</code></pre>\n\n<p>You can read out the file with <code>BufferedReader</code> and parse it as you wish.\nHopefully I helped out. :)</p>\n"},{"tags":[],"owner":{"account_id":10253596,"reputation":51,"user_id":7567016,"display_name":"SELECTED"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560404226,"creation_date":1560404226,"answer_id":56573962,"question_id":56570582,"body_markdown":"You can try this：\r\nhttps://github.com/alibaba/fastjson\r\n\r\nFastjson is a Java library that can be used to convert Java Objects into their JSON representation. It can also be used to convert a JSON string to an equivalent Java object. Fastjson can work with arbitrary Java objects including pre-existing objects that you do not have source-code of.","title":"Interpolate JSON values into a string","body":"<p>You can try this：\n<a href=\"https://github.com/alibaba/fastjson\" rel=\"nofollow noreferrer\">https://github.com/alibaba/fastjson</a></p>\n\n<p>Fastjson is a Java library that can be used to convert Java Objects into their JSON representation. It can also be used to convert a JSON string to an equivalent Java object. Fastjson can work with arbitrary Java objects including pre-existing objects that you do not have source-code of.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691187916,"creation_date":1691187916,"answer_id":76839397,"question_id":56570582,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:\r\n\r\n```java\r\nvar JSON = StringTemplate.Processor.of(\r\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\r\n    );\r\n\r\nString name    = &quot;Joan Smith&quot;;\r\nString phone   = &quot;555-123-4567&quot;;\r\nString address = &quot;1 Maple Drive, Anytown&quot;;\r\nJSONObject doc = JSON.&quot;&quot;&quot;\r\n    {\r\n        &quot;name&quot;:    &quot;\\{name}&quot;,\r\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\r\n        &quot;address&quot;: &quot;\\{address}&quot;\r\n    };\r\n    &quot;&quot;&quot;;\r\n```","title":"Interpolate JSON values into a string","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var JSON = StringTemplate.Processor.of(\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\n    );\n\nString name    = &quot;Joan Smith&quot;;\nString phone   = &quot;555-123-4567&quot;;\nString address = &quot;1 Maple Drive, Anytown&quot;;\nJSONObject doc = JSON.&quot;&quot;&quot;\n    {\n        &quot;name&quot;:    &quot;\\{name}&quot;,\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\n        &quot;address&quot;: &quot;\\{address}&quot;\n    };\n    &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":15758875,"reputation":11,"user_id":11371180,"display_name":"Sid_idk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1691187916,"creation_date":1560374798,"question_id":56570582,"body_markdown":"I am writing an application/class that will take in a template text file and a JSON value and return interpolated text back to the caller.\r\n\r\nThe format of the input template text file needs to be determined. For example: `my name is ${fullName}`\r\n\r\nExample of the JSON:\r\n\r\n    {&quot;fullName&quot;: &quot;Elon Musk&quot;}\r\n\r\nExpected output:\r\n\r\n    &quot;my name is Elon Musk&quot;\r\n\r\n\r\nI am looking for a widely used library/formats that can accomplish this. \r\n\r\n1. What format should the template text file be?\r\n\r\n2. What library would support the template text file format defined above and accept JSON values?\r\n\r\n\r\nIts easy to build my own parser but there are many edge cases that needs to be taken care of and I do not want to reinvent the wheel.\r\n\r\nFor example, if we have a slightly complex JSON object with lists, nested values etc. then I will have to think about those as well and implement it.","title":"Interpolate JSON values into a string","body":"<p>I am writing an application/class that will take in a template text file and a JSON value and return interpolated text back to the caller.</p>\n\n<p>The format of the input template text file needs to be determined. For example: <code>my name is ${fullName}</code></p>\n\n<p>Example of the JSON:</p>\n\n<pre><code>{\"fullName\": \"Elon Musk\"}\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>\"my name is Elon Musk\"\n</code></pre>\n\n<p>I am looking for a widely used library/formats that can accomplish this. </p>\n\n<ol>\n<li><p>What format should the template text file be?</p></li>\n<li><p>What library would support the template text file format defined above and accept JSON values?</p></li>\n</ol>\n\n<p>Its easy to build my own parser but there are many edge cases that needs to be taken care of and I do not want to reinvent the wheel.</p>\n\n<p>For example, if we have a slightly complex JSON object with lists, nested values etc. then I will have to think about those as well and implement it.</p>\n"},{"tags":["java","environment-variables","string-interpolation"],"comments":[{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1573230622,"post_id":58770380,"comment_id":103826748,"body_markdown":"The variable APP_LOG_DIR is an environment variable or a property within your configuration file?","body":"The variable APP_LOG_DIR is an environment variable or a property within your configuration file?"},{"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"score":0,"creation_date":1573230693,"post_id":58770380,"comment_id":103826791,"body_markdown":"APP_LOG_DIR is an environment variable that I want to reference in my config file with the use of the ${APP_LOG_DIR} syntax.","body":"APP_LOG_DIR is an environment variable that I want to reference in my config file with the use of the ${APP_LOG_DIR} syntax."},{"owner":{"account_id":17028773,"reputation":616,"user_id":12319350,"display_name":"radulfr"},"score":1,"creation_date":1573230796,"post_id":58770380,"comment_id":103826842,"body_markdown":"What about this one: https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text","body":"What about this one: <a href=\"https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text\" title=\"expand environment variables in text\">stackoverflow.com/questions/4752817/&hellip;</a>"},{"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"score":0,"creation_date":1573231299,"post_id":58770380,"comment_id":103827103,"body_markdown":"@radulfr, that looks similar to what I need. For such a common requirement, I was thinking there would be a solution that didn&#39;t require writing my own function, but this may work if I can&#39;t find a better way.","body":"@radulfr, that looks similar to what I need. For such a common requirement, I was thinking there would be a solution that didn&#39;t require writing my own function, but this may work if I can&#39;t find a better way."}],"answers":[{"tags":[],"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573238918,"creation_date":1573238918,"answer_id":58772236,"question_id":58770380,"body_markdown":"Answering my own question. Thanks to clues from @radulfr&#39;s link in the comments above to https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text, I found a pretty clean solution, using StrSubstitutor, here: https://dkbalachandar.wordpress.com/2017/10/13/how-to-use-strsubstitutor/\r\n\r\nTo summarize:\r\n```\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.commons.lang3.text.StrLookup;\r\nimport org.apache.commons.lang3.text.StrSubstitutor;\r\n\r\npublic class StrSubstitutorMain {\r\n\r\n    private static final StrSubstitutor envPropertyResolver = new StrSubstitutor(new EnvLookUp());\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String sample = &quot;LANG: ${LANG}&quot;;\r\n        //LANG: en_US.UTF-8\r\n        System.out.println(envPropertyResolver.replace(sample));\r\n\r\n    }\r\n\r\n    private static class EnvLookUp extends StrLookup {\r\n\r\n        @Override\r\n        public String lookup(String key) {\r\n            String value = System.getenv(key);\r\n            if (StringUtils.isBlank(value)) {\r\n                throw new IllegalArgumentException(&quot;key&quot; + key + &quot;is not found in the env variables&quot;);\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n}\r\n```\r\n  ","title":"Interpolating environment variables in string","body":"<p>Answering my own question. Thanks to clues from @radulfr's link in the comments above to <a href=\"https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text\">Expand environment variables in text</a>, I found a pretty clean solution, using StrSubstitutor, here: <a href=\"https://dkbalachandar.wordpress.com/2017/10/13/how-to-use-strsubstitutor/\" rel=\"nofollow noreferrer\">https://dkbalachandar.wordpress.com/2017/10/13/how-to-use-strsubstitutor/</a></p>\n\n<p>To summarize:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.text.StrLookup;\nimport org.apache.commons.lang3.text.StrSubstitutor;\n\npublic class StrSubstitutorMain {\n\n    private static final StrSubstitutor envPropertyResolver = new StrSubstitutor(new EnvLookUp());\n\n    public static void main(String[] args) {\n\n        String sample = \"LANG: ${LANG}\";\n        //LANG: en_US.UTF-8\n        System.out.println(envPropertyResolver.replace(sample));\n\n    }\n\n    private static class EnvLookUp extends StrLookup {\n\n        @Override\n        public String lookup(String key) {\n            String value = System.getenv(key);\n            if (StringUtils.isBlank(value)) {\n                throw new IllegalArgumentException(\"key\" + key + \"is not found in the env variables\");\n            }\n            return value;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14967975,"reputation":371,"user_id":10805680,"display_name":"simplyPTA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669716695,"creation_date":1669715017,"answer_id":74611963,"question_id":58770380,"body_markdown":"as of 2022, both `StrLookup` and `StrSubstitutor` are deprecated\r\n\r\nso I update @sagebrush’s answer:\r\n\r\n```java\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.commons.lookup.StringLookup;\r\nimport org.apache.commons.text.StringSubstitutor;\r\n\r\npublic class StrSubstitutorMain {\r\n\r\n    private static final StringSubstitutor envPropertyResolver = new StringSubstitutor(new EnvLookUp());\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String sample = &quot;LANG: ${LANG}&quot;;\r\n        //LANG: en_US.UTF-8\r\n        System.out.println(envPropertyResolver.replace(sample));\r\n\r\n    }\r\n\r\n    private static class EnvLookUp implements StringLookup {\r\n\r\n        @Override\r\n        public String lookup(String key) {\r\n            String value = System.getenv(key);\r\n            if (StringUtils.isBlank(value)) {\r\n                throw new IllegalArgumentException(&quot;key&quot; + key + &quot;is not found in the env variables&quot;);\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n}\r\n```","title":"Interpolating environment variables in string","body":"<p>as of 2022, both <code>StrLookup</code> and <code>StrSubstitutor</code> are deprecated</p>\n<p>so I update @sagebrush’s answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lookup.StringLookup;\nimport org.apache.commons.text.StringSubstitutor;\n\npublic class StrSubstitutorMain {\n\n    private static final StringSubstitutor envPropertyResolver = new StringSubstitutor(new EnvLookUp());\n\n    public static void main(String[] args) {\n\n        String sample = &quot;LANG: ${LANG}&quot;;\n        //LANG: en_US.UTF-8\n        System.out.println(envPropertyResolver.replace(sample));\n\n    }\n\n    private static class EnvLookUp implements StringLookup {\n\n        @Override\n        public String lookup(String key) {\n            String value = System.getenv(key);\n            if (StringUtils.isBlank(value)) {\n                throw new IllegalArgumentException(&quot;key&quot; + key + &quot;is not found in the env variables&quot;);\n            }\n            return value;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691187712,"creation_date":1691187712,"answer_id":76839384,"question_id":58770380,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n\r\nand you could have a similar string template that avoids JavaScript injection attacks.","title":"Interpolating environment variables in string","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n<p>and you could have a similar string template that avoids JavaScript injection attacks.</p>\n"}],"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691187712,"creation_date":1573230329,"question_id":58770380,"body_markdown":"I need to expand environment variables in a string. For example, when parsing a config file, I want to be able to read this...\r\n\r\n```statsFile=${APP_LOG_DIR}/app.stats```\r\n\r\nAnd get a value of &quot;/logs/myapp/app.stats&quot;, where the environment variable APP_LOG_DIR = &quot;/logs/myapp&quot;.\r\n\r\nThis seems like a very common need, and things like the Logback framework do this for their own config files, but I have not found a canonical way of doing this for my own config files.\r\n\r\nNotes:\r\n\r\n1. This is *not* a duplicate of the many &quot;variable interpolation in java strings&quot; questions. I need to interpolate *environment* variables in the specific format ${ENV_VAR}.\r\n\r\n2. The same question was asked here, https://stackoverflow.com/questions/4593247/expand-env-variables-in-string, but the answer requires the Spring framework, and I don&#39;t want to pull in this huge dependency just to do this one simple task.\r\n\r\n3. Other languages, like go, have a simple built-in function for this: https://stackoverflow.com/questions/56915429/interpolate-a-string-with-bash-like-environment-variables-references. I am looking for something similar in java.","title":"Interpolating environment variables in string","body":"<p>I need to expand environment variables in a string. For example, when parsing a config file, I want to be able to read this...</p>\n\n<p><code>statsFile=${APP_LOG_DIR}/app.stats</code></p>\n\n<p>And get a value of \"/logs/myapp/app.stats\", where the environment variable APP_LOG_DIR = \"/logs/myapp\".</p>\n\n<p>This seems like a very common need, and things like the Logback framework do this for their own config files, but I have not found a canonical way of doing this for my own config files.</p>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>This is <em>not</em> a duplicate of the many \"variable interpolation in java strings\" questions. I need to interpolate <em>environment</em> variables in the specific format ${ENV_VAR}.</p></li>\n<li><p>The same question was asked here, <a href=\"https://stackoverflow.com/questions/4593247/expand-env-variables-in-string\">Expand env variables in String</a>, but the answer requires the Spring framework, and I don't want to pull in this huge dependency just to do this one simple task.</p></li>\n<li><p>Other languages, like go, have a simple built-in function for this: <a href=\"https://stackoverflow.com/questions/56915429/interpolate-a-string-with-bash-like-environment-variables-references\">Interpolate a string with bash-like environment variables references</a>. I am looking for something similar in java.</p></li>\n</ol>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644487346,"creation_date":1644487346,"answer_id":71063078,"question_id":71062267,"body_markdown":"First read this: https://github.com/karatelabs/karate#rules-for-embedded-expressions\r\n\r\nThe good news is that in 1.0 onwards Karate supports ES6 JS string interpolation within backticks:\r\n\r\n    * def foo = 1\r\n    * def txt = `hello ${foo}`\r\n    * match txt == &#39;hello 1&#39;\r\n\r\nOf course string concatenation will always work. You just have to think of most Karate syntax especially when you call Java - as being nothing but plain old JavaScript.\r\n\r\n    * db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, &quot; + t + &quot;, &#39;test&#39;)&quot;)\r\n\r\nI think you will be able to proceed now.","title":"Karate Java String interpolation","body":"<p>First read this: <a href=\"https://github.com/karatelabs/karate#rules-for-embedded-expressions\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#rules-for-embedded-expressions</a></p>\n<p>The good news is that in 1.0 onwards Karate supports ES6 JS string interpolation within backticks:</p>\n<pre><code>* def foo = 1\n* def txt = `hello ${foo}`\n* match txt == 'hello 1'\n</code></pre>\n<p>Of course string concatenation will always work. You just have to think of most Karate syntax especially when you call Java - as being nothing but plain old JavaScript.</p>\n<pre><code>* db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, &quot; + t + &quot;, 'test')&quot;)\n</code></pre>\n<p>I think you will be able to proceed now.</p>\n"}],"owner":{"account_id":4076153,"reputation":57,"user_id":3347789,"display_name":"Ivan Kravchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71063078,"answer_count":1,"score":1,"last_activity_date":1691187644,"creation_date":1644483469,"question_id":71062267,"body_markdown":"I am trying to call a java method that accepts a string as a parameter inside a karate script, and interpolate a value defined in karate in that string.\r\n\r\nIn my case it&#39;s a simple database INSERT statement, for example:\r\n\r\n```\r\nINSERT INTO A(id, time, value) VALUES(1, &#39;2099-05-10 18:20:18.674 UTC&#39;, &#39;test&#39;)\r\n```\r\n\r\nThe script itself looks as follows:\r\n\r\n    Background:\r\n        * def db = Java.type(&#39;com.example.DbTestHelper&#39;)\r\n        * def offsetDateTime = Java.type(&#39;java.time.OffsetDateTime&#39;)\r\n        * def zoneId = Java.type(&#39;java.time.ZoneId&#39;)\r\n    \r\n      Scenario: testScenario\r\n        * def t = offsetDateTime.now(zoneId.of(&quot;Europe/Berlin&quot;)).plusDays(1)\r\n        * def row = db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, #t, &#39;test&#39;)&quot;)\r\n\r\n\r\nAnd the *insertRow* method looks as follows: \r\n\r\n```\r\n    @JvmStatic\r\n    fun insertRow(vararg strings: String) {\r\n        jdbc.batchUpdate(*strings)\r\n    }\r\n```\r\n\r\nI have tried multiple combinations of setting value *t* like #(t), #t, &quot;#(t)&quot; etc. Unfortunately, none of them worked resulting in various javascript parse errors even before the java method gets invoked.\r\n\r\nWhat would be the right way to achieve that? Is it even possible?\r\n","title":"Karate Java String interpolation","body":"<p>I am trying to call a java method that accepts a string as a parameter inside a karate script, and interpolate a value defined in karate in that string.</p>\n<p>In my case it's a simple database INSERT statement, for example:</p>\n<pre><code>INSERT INTO A(id, time, value) VALUES(1, '2099-05-10 18:20:18.674 UTC', 'test')\n</code></pre>\n<p>The script itself looks as follows:</p>\n<pre><code>Background:\n    * def db = Java.type('com.example.DbTestHelper')\n    * def offsetDateTime = Java.type('java.time.OffsetDateTime')\n    * def zoneId = Java.type('java.time.ZoneId')\n\n  Scenario: testScenario\n    * def t = offsetDateTime.now(zoneId.of(&quot;Europe/Berlin&quot;)).plusDays(1)\n    * def row = db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, #t, 'test')&quot;)\n</code></pre>\n<p>And the <em>insertRow</em> method looks as follows:</p>\n<pre><code>    @JvmStatic\n    fun insertRow(vararg strings: String) {\n        jdbc.batchUpdate(*strings)\n    }\n</code></pre>\n<p>I have tried multiple combinations of setting value <em>t</em> like #(t), #t, &quot;#(t)&quot; etc. Unfortunately, none of them worked resulting in various javascript parse errors even before the java method gets invoked.</p>\n<p>What would be the right way to achieve that? Is it even possible?</p>\n"},{"tags":["java","r","excel"],"comments":[{"owner":{"account_id":4090011,"reputation":147310,"user_id":3358272,"accept_rate":94,"display_name":"r2evans"},"score":1,"creation_date":1691188146,"post_id":76839360,"comment_id":135463351,"body_markdown":"I don&#39;t know that error, but ... if you can read using `readxl`, is there a reason to stay with the java-encumbered `xlsx` package?","body":"I don&#39;t know that error, but ... if you can read using <code>readxl</code>, is there a reason to stay with the java-encumbered <code>xlsx</code> package?"},{"owner":{"account_id":10402556,"reputation":1271,"user_id":7670367,"display_name":"Josh"},"score":0,"creation_date":1691189458,"post_id":76839360,"comment_id":135463463,"body_markdown":"I am using the `R` package `xlsx` to extract cell color information","body":"I am using the <code>R</code> package <code>xlsx</code> to extract cell color information"},{"owner":{"account_id":4090011,"reputation":147310,"user_id":3358272,"accept_rate":94,"display_name":"r2evans"},"score":0,"creation_date":1691189758,"post_id":76839360,"comment_id":135463502,"body_markdown":"ahh, okay ... good reason, I guess","body":"ahh, okay ... good reason, I guess"},{"owner":{"account_id":10402556,"reputation":1271,"user_id":7670367,"display_name":"Josh"},"score":1,"creation_date":1691190276,"post_id":76839360,"comment_id":135463544,"body_markdown":"Yeah, unfortunately the `XLSX` were not generated with consistent names for sections, but they were generated with consistent colored dividers between sections.","body":"Yeah, unfortunately the <code>XLSX</code> were not generated with consistent names for sections, but they were generated with consistent colored dividers between sections."}],"owner":{"account_id":10402556,"reputation":1271,"user_id":7670367,"display_name":"Josh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691187190,"creation_date":1691187190,"question_id":76839360,"body_markdown":"I am using the `R` package `xlsx` to extract cell color information from a large number of XLSX spreadsheets. I am trying to load the workbook using this code:\r\n```\r\nxl_path &lt;- &quot;&lt;path&gt;/&lt;to&gt;/file.xlsx&quot;\r\nwb &lt;- xlsx::loadWorkbook(xl_path)\r\n```\r\nBut I get this error:\r\n```\r\nError in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  : \r\n  java.util.zip.ZipException: invalid entry size (expected 0 but got 1178 bytes)\r\n```\r\nThe XLSX file was generated by someone else, but I can open it with `Excel` or load to `R` with `readxl` without any issues.\r\nThanks!\r\n","title":"How to resolve &quot;invalid entry size&quot; Java error from the R package xlsx","body":"<p>I am using the <code>R</code> package <code>xlsx</code> to extract cell color information from a large number of XLSX spreadsheets. I am trying to load the workbook using this code:</p>\n<pre><code>xl_path &lt;- &quot;&lt;path&gt;/&lt;to&gt;/file.xlsx&quot;\nwb &lt;- xlsx::loadWorkbook(xl_path)\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  : \n  java.util.zip.ZipException: invalid entry size (expected 0 but got 1178 bytes)\n</code></pre>\n<p>The XLSX file was generated by someone else, but I can open it with <code>Excel</code> or load to <code>R</code> with <code>readxl</code> without any issues.\nThanks!</p>\n"},{"tags":["java","jar","cmd","classpath","program-entry-point"],"answers":[{"comments":[{"owner":{"account_id":2340909,"reputation":155,"user_id":2052219,"accept_rate":60,"display_name":"mightycpa"},"score":0,"creation_date":1691187253,"post_id":37457523,"comment_id":135463264,"body_markdown":"I&#39;m having the exact same issue you did. I had assumed that the error referred to the class I was creating. Your discovery seems to indicate that it&#39;s a problem with the main class for the sql jdbc driver. I have a ton of questions.  First, what do you mean by \n\nsome people put a \\ before the C:\\Program Files etc. in the Class-Path. \n\nI don&#39;t follow, can you elaborate?  Post the contents of your MANIFEST.MF?\n\nCould you describe where your files go?  I use three folders, one for my jar, one for the driver, one for my class file.\n\nThanks. I could really use your help on this.","body":"I&#39;m having the exact same issue you did. I had assumed that the error referred to the class I was creating. Your discovery seems to indicate that it&#39;s a problem with the main class for the sql jdbc driver. I have a ton of questions.  First, what do you mean by   some people put a \\ before the C:\\Program Files etc. in the Class-Path.   I don&#39;t follow, can you elaborate?  Post the contents of your MANIFEST.MF?  Could you describe where your files go?  I use three folders, one for my jar, one for the driver, one for my class file.  Thanks. I could really use your help on this."}],"tags":[],"owner":{"account_id":8428828,"reputation":11,"user_id":6325247,"display_name":"magc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464256826,"creation_date":1464256826,"answer_id":37457523,"question_id":37456605,"body_markdown":"Oh god, I figured it out. After a month of troubles with this, I just randomly noticed that some people put a \\ before the C:\\Program Files etc. in the Class-Path. This fixed it for me...","title":"Adding Class-Path (sqljdbc4) to manifest file makes JAR unable to find/load main class Main","body":"<p>Oh god, I figured it out. After a month of troubles with this, I just randomly noticed that some people put a \\ before the C:\\Program Files etc. in the Class-Path. This fixed it for me...</p>\n"}],"owner":{"account_id":8428828,"reputation":11,"user_id":6325247,"display_name":"magc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691186876,"creation_date":1464254400,"question_id":37456605,"body_markdown":"I&#39;ve been having some strange problems with JAR creation from my project lately. I&#39;ve been writing a simple Swing-application, a database frontend, but have not been able to build it as a jar through IntelliJ for a while now. First I got JNI errors, and then it couldn&#39;t find or load main class &quot;Main&quot;, despite the fact that I have a very simple Main-class, called Main, with only the method main().\r\n\r\nToday, I was looking into JAR-creation through the terminal, and decided to try doing it off of the .class files I had in my IntelliJ-project. I wrote a manifest.txt (tried with manifest.mf too), containing the following:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: Main\r\n    Class-Path: C:\\Users\\mac\\IdeaProjects\\MWBSQLGUI\\sqljdbc4.jar\r\n\r\nI used this to make the JAR: `C:\\mywork jar cvfm MyJarName.jar manifest.txt dir1/*.class dir2/*.class`\r\n\r\nRunning the JAR produced the &quot;could not find or load main class Main&quot;-error.\r\nThe odd thing is, if I remove the class-path line from my manifest, jar creation goes smoothly, and I can run the application. It obviously throws exceptions wherever the depency was needed though, so it really doesn&#39;t help much. Any idea how I can incorporate the sqljdc4.jar? I&#39;ve looked up a lot of manifest formatting articles, it seems like I&#39;m doing it correctly. I&#39;ve tried with newline(s) after the class-path line too...\r\n\r\nHere&#39;s the CMD output from creating and trying to run the JAR with the Class-Path line in the manifest: https://i.stack.imgur.com/SKMXQ.jpg\r\n\r\nContents of the Main class:\r\n\r\n    import View.MWBFrame;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            MWBFrame frame = new MWBFrame(&quot;MWB SQL Lookup&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Adding Class-Path (sqljdbc4) to manifest file makes JAR unable to find/load main class Main","body":"<p>I've been having some strange problems with JAR creation from my project lately. I've been writing a simple Swing-application, a database frontend, but have not been able to build it as a jar through IntelliJ for a while now. First I got JNI errors, and then it couldn't find or load main class \"Main\", despite the fact that I have a very simple Main-class, called Main, with only the method main().</p>\n\n<p>Today, I was looking into JAR-creation through the terminal, and decided to try doing it off of the .class files I had in my IntelliJ-project. I wrote a manifest.txt (tried with manifest.mf too), containing the following:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: Main\nClass-Path: C:\\Users\\mac\\IdeaProjects\\MWBSQLGUI\\sqljdbc4.jar\n</code></pre>\n\n<p>I used this to make the JAR: <code>C:\\mywork jar cvfm MyJarName.jar manifest.txt dir1/*.class dir2/*.class</code></p>\n\n<p>Running the JAR produced the \"could not find or load main class Main\"-error.\nThe odd thing is, if I remove the class-path line from my manifest, jar creation goes smoothly, and I can run the application. It obviously throws exceptions wherever the depency was needed though, so it really doesn't help much. Any idea how I can incorporate the sqljdc4.jar? I've looked up a lot of manifest formatting articles, it seems like I'm doing it correctly. I've tried with newline(s) after the class-path line too...</p>\n\n<p>Here's the CMD output from creating and trying to run the JAR with the Class-Path line in the manifest: <a href=\"https://i.stack.imgur.com/SKMXQ.jpg\" rel=\"nofollow\">https://i.stack.imgur.com/SKMXQ.jpg</a></p>\n\n<p>Contents of the Main class:</p>\n\n<pre><code>import View.MWBFrame;\n\npublic class Main {\n    public static void main(String[] args) {\n        MWBFrame frame = new MWBFrame(\"MWB SQL Lookup\");\n    }\n}\n</code></pre>\n"},{"tags":["java","velocity"],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1471073160,"creation_date":1471073160,"answer_id":38930328,"question_id":38930121,"body_markdown":"This is how I made a template out of a String:\r\n\r\n\t\t\tRuntimeServices runtimeServices = RuntimeSingleton.getRuntimeServices();\r\n\r\n\t\t\tStringReader reader = new StringReader(stringValue);\r\n\t\t\tSimpleNode node = runtimeServices.parse(reader, &quot;Template name&quot;);\r\n\t\t\tTemplate template = new Template();\r\n\t\t\ttemplate.setRuntimeServices(runtimeServices);\r\n\t\t\ttemplate.setData(node);\r\n\t\t\ttemplate.initDocument();","title":"does velocity have a method which returns template by passing String as argument?","body":"<p>This is how I made a template out of a String:</p>\n\n<pre><code>        RuntimeServices runtimeServices = RuntimeSingleton.getRuntimeServices();\n\n        StringReader reader = new StringReader(stringValue);\n        SimpleNode node = runtimeServices.parse(reader, \"Template name\");\n        Template template = new Template();\n        template.setRuntimeServices(runtimeServices);\n        template.setData(node);\n        template.initDocument();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244252,"reputation":21923,"user_id":516910,"accept_rate":100,"display_name":"broc.seib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513195642,"creation_date":1513195642,"answer_id":47801329,"question_id":38930121,"body_markdown":"\r\n`Velocity.evaluate()` is what you want. From the example in the [docs][1]:\r\n\r\n\r\n\r\n    public class Example2\r\n    {\r\n        public static void main( String args[] )\r\n        {\r\n            /* first, we init the runtime engine.  Defaults are fine. */\r\n    \r\n            Velocity.init();\r\n    \r\n            /* lets make a Context and put data into it */\r\n    \r\n            VelocityContext context = new VelocityContext();\r\n    \r\n            context.put(&quot;name&quot;, &quot;Velocity&quot;);\r\n            context.put(&quot;project&quot;, &quot;Jakarta&quot;);\r\n    \r\n            /* lets render a template */\r\n    \r\n            StringWriter w = new StringWriter();\r\n    \r\n            Velocity.mergeTemplate(&quot;testtemplate.vm&quot;, context, w );\r\n            System.out.println(&quot; template : &quot; + w );\r\n    \r\n            /* lets make our own string to render */\r\n    \r\n            String s = &quot;We are using $project $name to render this.&quot;;\r\n            w = new StringWriter();\r\n            Velocity.evaluate( context, w, &quot;mystring&quot;, s );\r\n            System.out.println(&quot; string : &quot; + w );\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://velocity.apache.org/engine/1.7/developer-guide.html","title":"does velocity have a method which returns template by passing String as argument?","body":"<p><code>Velocity.evaluate()</code> is what you want. From the example in the <a href=\"http://velocity.apache.org/engine/1.7/developer-guide.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<pre><code>public class Example2\n{\n    public static void main( String args[] )\n    {\n        /* first, we init the runtime engine.  Defaults are fine. */\n\n        Velocity.init();\n\n        /* lets make a Context and put data into it */\n\n        VelocityContext context = new VelocityContext();\n\n        context.put(\"name\", \"Velocity\");\n        context.put(\"project\", \"Jakarta\");\n\n        /* lets render a template */\n\n        StringWriter w = new StringWriter();\n\n        Velocity.mergeTemplate(\"testtemplate.vm\", context, w );\n        System.out.println(\" template : \" + w );\n\n        /* lets make our own string to render */\n\n        String s = \"We are using $project $name to render this.\";\n        w = new StringWriter();\n        Velocity.evaluate( context, w, \"mystring\", s );\n        System.out.println(\" string : \" + w );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4706213,"reputation":269,"user_id":3808266,"accept_rate":57,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38930328,"answer_count":2,"score":1,"last_activity_date":1691186531,"creation_date":1471071512,"question_id":38930121,"body_markdown":"I have a requirement in which i have a String which contains file content, i have to create a template of that string using velocity. is there any method in velocity which takes string as input and returns template?","title":"does velocity have a method which returns template by passing String as argument?","body":"<p>I have a requirement in which i have a String which contains file content, i have to create a template of that string using velocity. is there any method in velocity which takes string as input and returns template?</p>\n"},{"tags":["java","string-formatting","template-engine"],"comments":[{"owner":{"account_id":251439,"reputation":245,"user_id":528825,"display_name":"Charles"},"score":0,"creation_date":1340982392,"post_id":11264197,"comment_id":14808437,"body_markdown":"Any reason you aren&#39;t just using &quot;#&quot; + args.get(&quot;PATH&quot;) + &quot;/ls #&quot; + args.get(&quot;file&quot;) ?","body":"Any reason you aren&#39;t just using &quot;#&quot; + args.get(&quot;PATH&quot;) + &quot;/ls #&quot; + args.get(&quot;file&quot;) ?"},{"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"score":0,"creation_date":1340996789,"post_id":11264197,"comment_id":14814125,"body_markdown":"I have a bunch of template files, I have a map of arguments and I need to get filled-in strings from every of these template files.","body":"I have a bunch of template files, I have a map of arguments and I need to get filled-in strings from every of these template files."}],"answers":[{"comments":[{"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"score":1,"creation_date":1340997042,"post_id":11264266,"comment_id":14814213,"body_markdown":"Ahem... &quot;attribute reference&quot;, &quot;template reference (like #include or macro expansion)&quot;, &quot;conditional include of subtemplate&quot;, &quot;template application to list of attributes&quot;... 221K of zipped jar classes, 124 classes inside - that&#39;s definitely not really light-weight. I&#39;ll check the others, though, thanks!","body":"Ahem... &quot;attribute reference&quot;, &quot;template reference (like #include or macro expansion)&quot;, &quot;conditional include of subtemplate&quot;, &quot;template application to list of attributes&quot;... 221K of zipped jar classes, 124 classes inside - that&#39;s definitely not really light-weight. I&#39;ll check the others, though, thanks!"},{"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"score":0,"creation_date":1340998281,"post_id":11264266,"comment_id":14814627,"body_markdown":"Yep, I&#39;ve confirmed that all of FreeMarker, Mustache and Velocity are much more heavy-weight than I need. Anyway, thanks for your suggestion!","body":"Yep, I&#39;ve confirmed that all of FreeMarker, Mustache and Velocity are much more heavy-weight than I need. Anyway, thanks for your suggestion!"}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340982469,"creation_date":1340982469,"answer_id":11264266,"question_id":11264197,"body_markdown":"[StringTemplate][1] may be as light-weight an interpolation engine as you&#39;re likely to get, although I don&#39;t know how it stacks up resource-wise against things like [FreeMarker][2], [Mustache][3], or [Velocity][4].\r\n\r\nAnother option might be an EL engine like [MVEL][5], which has a [templating engine][6].\r\n\r\n\r\n  [1]: http://www.stringtemplate.org/\r\n  [2]: http://freemarker.sourceforge.net/\r\n  [3]: https://github.com/spullara/mustache.java/\r\n  [4]: http://velocity.apache.org/\r\n  [5]: http://mvel.codehaus.org/\r\n  [6]: http://mvel.codehaus.org/MVEL+2.0+Templating+Guide","title":"Java string templatizer / formatter with named arguments","body":"<p><a href=\"http://www.stringtemplate.org/\" rel=\"nofollow\">StringTemplate</a> may be as light-weight an interpolation engine as you're likely to get, although I don't know how it stacks up resource-wise against things like <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow\">FreeMarker</a>, <a href=\"https://github.com/spullara/mustache.java/\" rel=\"nofollow\">Mustache</a>, or <a href=\"http://velocity.apache.org/\" rel=\"nofollow\">Velocity</a>.</p>\n\n<p>Another option might be an EL engine like <a href=\"http://mvel.codehaus.org/\" rel=\"nofollow\">MVEL</a>, which has a <a href=\"http://mvel.codehaus.org/MVEL+2.0+Templating+Guide\" rel=\"nofollow\">templating engine</a>.</p>\n"},{"comments":[{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1341003062,"post_id":11264639,"comment_id":14816288,"body_markdown":"I’m always glad to see Java 7 references.","body":"I’m always glad to see Java 7 references."}],"tags":[],"owner":{"account_id":1565421,"reputation":436,"user_id":1454346,"display_name":"Pavel K."},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340983768,"creation_date":1340983768,"answer_id":11264639,"question_id":11264197,"body_markdown":"[Matcher#appendReplacement()][1] would help\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29","title":"Java string templatizer / formatter with named arguments","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29\" rel=\"nofollow\">Matcher#appendReplacement()</a> would help</p>\n"},{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1342178666,"creation_date":1342178666,"answer_id":11469548,"question_id":11264197,"body_markdown":"You might also try `org.apache.commons.lang3.text.StrSubstitutor` if Java 7 is not an option. It does _exactly_ what you want it to do. Whether it’s light-weight might depend on whether you use something else of commons-lang as well.","title":"Java string templatizer / formatter with named arguments","body":"<p>You might also try <code>org.apache.commons.lang3.text.StrSubstitutor</code> if Java 7 is not an option. It does <em>exactly</em> what you want it to do. Whether it’s light-weight might depend on whether you use something else of commons-lang as well.</p>\n"},{"comments":[{"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"score":0,"creation_date":1350891767,"post_id":12996110,"comment_id":17649226,"body_markdown":"I&#39;d like to mention that it&#39;s also not really lightweight: it basicaly allows to execute Java subset, interpolated inside some strings. It&#39;s 138K worth of zipped classes, 114 classes inside.","body":"I&#39;d like to mention that it&#39;s also not really lightweight: it basicaly allows to execute Java subset, interpolated inside some strings. It&#39;s 138K worth of zipped classes, 114 classes inside."},{"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"score":0,"creation_date":1350940539,"post_id":12996110,"comment_id":17671189,"body_markdown":"Yes, I answered that from my phone and was going to add another implementation as soon as I got to a keyboard.","body":"Yes, I answered that from my phone and was going to add another implementation as soon as I got to a keyboard."},{"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"score":0,"creation_date":1350940555,"post_id":12996110,"comment_id":17671195,"body_markdown":"added my own implementation now.","body":"added my own implementation now."}],"tags":[],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350940875,"creation_date":1350807256,"answer_id":12996110,"question_id":11264197,"body_markdown":"I recently discovered [JUEL](http://juel.sourceforge.net/) which fits the description nicely. It is the expression language taken out of JSP. It claims to be very fast, too.\r\n\r\nI&#39;m about to try it out in one of my own projects.\r\n\r\nBut for a lighter-weight, which is a variant of yours, try this (wrapped in a unit test):\r\n\r\n    public class TestInterpolation {\r\n    \r\n        public static class NamedFormatter {\r\n            public final static Pattern pattern = Pattern.compile(&quot;#\\\\{(?&lt;key&gt;.*)}&quot;);\r\n            public static String format(final String format, Map&lt;String, ? extends Object&gt; kvs) {\r\n                final StringBuffer buffer = new StringBuffer();\r\n                final Matcher match = pattern.matcher(format);\r\n                while (match.find()) {\r\n                    final String key = match.group(&quot;key&quot;);\r\n                    final Object value = kvs.get(key);\r\n                    if (value != null)\r\n                        match.appendReplacement(buffer, value.toString());\r\n                    else if (kvs.containsKey(key))\r\n                        match.appendReplacement(buffer, &quot;null&quot;);\r\n                    else\r\n                        match.appendReplacement(buffer, &quot;&quot;);\r\n                }\r\n                match.appendTail(buffer);\r\n                return buffer.toString();\r\n            }\r\n        }\r\n        \r\n        @Test\r\n        public void test() {\r\n            assertEquals(&quot;hello world&quot;, NamedFormatter.format(&quot;hello #{name}&quot;, map(&quot;name&quot;, &quot;world&quot;)));\r\n            assertEquals(&quot;hello null&quot;, NamedFormatter.format(&quot;hello #{name}&quot;, map(&quot;name&quot;, null)));\r\n            assertEquals(&quot;hello &quot;, NamedFormatter.format(&quot;hello #{name}&quot;, new HashMap&lt;String, Object&gt;()));\r\n        }\r\n    \r\n        private Map&lt;String, Object&gt; map(final String key, final Object value) {\r\n            final Map&lt;String, Object&gt; kvs = new HashMap&lt;&gt;();\r\n            kvs.put(key, value);\r\n            return kvs;\r\n        }\r\n    }\r\n\r\nI&#39;d extend it to add convenience methods to for quick key-value pairs\r\n\r\n    format(format, key1, value1)\r\n    format(format, key1, value1, key2, value2)\r\n    format(format, key1, value1, key2, value2, key3, value3)\r\n    ...\r\n\r\nAnd it shouldn&#39;t be too hard to convert from java 7+ to java 6-","title":"Java string templatizer / formatter with named arguments","body":"<p>I recently discovered <a href=\"http://juel.sourceforge.net/\" rel=\"nofollow\">JUEL</a> which fits the description nicely. It is the expression language taken out of JSP. It claims to be very fast, too.</p>\n\n<p>I'm about to try it out in one of my own projects.</p>\n\n<p>But for a lighter-weight, which is a variant of yours, try this (wrapped in a unit test):</p>\n\n<pre><code>public class TestInterpolation {\n\n    public static class NamedFormatter {\n        public final static Pattern pattern = Pattern.compile(\"#\\\\{(?&lt;key&gt;.*)}\");\n        public static String format(final String format, Map&lt;String, ? extends Object&gt; kvs) {\n            final StringBuffer buffer = new StringBuffer();\n            final Matcher match = pattern.matcher(format);\n            while (match.find()) {\n                final String key = match.group(\"key\");\n                final Object value = kvs.get(key);\n                if (value != null)\n                    match.appendReplacement(buffer, value.toString());\n                else if (kvs.containsKey(key))\n                    match.appendReplacement(buffer, \"null\");\n                else\n                    match.appendReplacement(buffer, \"\");\n            }\n            match.appendTail(buffer);\n            return buffer.toString();\n        }\n    }\n\n    @Test\n    public void test() {\n        assertEquals(\"hello world\", NamedFormatter.format(\"hello #{name}\", map(\"name\", \"world\")));\n        assertEquals(\"hello null\", NamedFormatter.format(\"hello #{name}\", map(\"name\", null)));\n        assertEquals(\"hello \", NamedFormatter.format(\"hello #{name}\", new HashMap&lt;String, Object&gt;()));\n    }\n\n    private Map&lt;String, Object&gt; map(final String key, final Object value) {\n        final Map&lt;String, Object&gt; kvs = new HashMap&lt;&gt;();\n        kvs.put(key, value);\n        return kvs;\n    }\n}\n</code></pre>\n\n<p>I'd extend it to add convenience methods to for quick key-value pairs</p>\n\n<pre><code>format(format, key1, value1)\nformat(format, key1, value1, key2, value2)\nformat(format, key1, value1, key2, value2, key3, value3)\n...\n</code></pre>\n\n<p>And it shouldn't be too hard to convert from java 7+ to java 6-</p>\n"},{"tags":[],"owner":{"account_id":2212660,"reputation":311,"user_id":1954051,"display_name":"Eldar Budagov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449211039,"creation_date":1449211039,"answer_id":34082329,"question_id":11264197,"body_markdown":"Here is my solution:\r\n\r\n    public class Template\r\n    {\r\n        \r\n        private Pattern pattern;\r\n        protected Map&lt;CharSequence, String&gt; tokens;\r\n        private String template;\r\n        \r\n        public Template(String template)\r\n        {\r\n            pattern = Pattern.compile(&quot;\\\\$\\\\{\\\\w+\\\\}&quot;);\r\n            tokens = new HashMap&lt;CharSequence, String&gt;();\r\n            this.template = template;\r\n        }\r\n        \r\n        public void clearAllTokens()\r\n        {\r\n            tokens.clear();\r\n        }\r\n        \r\n        public void setToken(String token, String replacement)\r\n        {\r\n            if(token == null)\r\n            {\r\n                throw new NullPointerException(&quot;Token can&#39;t be null&quot;);\r\n            }\r\n            \r\n            if(replacement == null)\r\n            {\r\n                throw new NullPointerException(&quot;Replacement string can&#39;t be null&quot;);\r\n            }\r\n            \r\n            tokens.put(token, Matcher.quoteReplacement(replacement));\r\n        }\r\n       \r\n        public String getText()\r\n        {\r\n            final Matcher matcher = pattern.matcher(template);\r\n            final StringBuffer sb = new StringBuffer();\r\n            \r\n            while(matcher.find()) \r\n            {\r\n                final String entry = matcher.group();\r\n                final CharSequence key = entry.subSequence(2, entry.length() - 1);\r\n                if(tokens.containsKey(key))\r\n                {\r\n                    matcher.appendReplacement(sb, tokens.get(key));\r\n                }\r\n            }\r\n            matcher.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            Template template = new Template(&quot;Hello, ${name}.&quot;);\r\n            template.setToken(&quot;name&quot;, &quot;Eldar&quot;);\r\n            \r\n            System.out.println(template.getText());\r\n        }\r\n    }","title":"Java string templatizer / formatter with named arguments","body":"<p>Here is my solution:</p>\n\n<pre><code>public class Template\n{\n\n    private Pattern pattern;\n    protected Map&lt;CharSequence, String&gt; tokens;\n    private String template;\n\n    public Template(String template)\n    {\n        pattern = Pattern.compile(\"\\\\$\\\\{\\\\w+\\\\}\");\n        tokens = new HashMap&lt;CharSequence, String&gt;();\n        this.template = template;\n    }\n\n    public void clearAllTokens()\n    {\n        tokens.clear();\n    }\n\n    public void setToken(String token, String replacement)\n    {\n        if(token == null)\n        {\n            throw new NullPointerException(\"Token can't be null\");\n        }\n\n        if(replacement == null)\n        {\n            throw new NullPointerException(\"Replacement string can't be null\");\n        }\n\n        tokens.put(token, Matcher.quoteReplacement(replacement));\n    }\n\n    public String getText()\n    {\n        final Matcher matcher = pattern.matcher(template);\n        final StringBuffer sb = new StringBuffer();\n\n        while(matcher.find()) \n        {\n            final String entry = matcher.group();\n            final CharSequence key = entry.subSequence(2, entry.length() - 1);\n            if(tokens.containsKey(key))\n            {\n                matcher.appendReplacement(sb, tokens.get(key));\n            }\n        }\n        matcher.appendTail(sb);\n        return sb.toString();\n    }\n\n\n    public static void main(String[] args) {\n        Template template = new Template(\"Hello, ${name}.\");\n        template.setToken(\"name\", \"Eldar\");\n\n        System.out.println(template.getText());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490817380,"creation_date":1490817380,"answer_id":43102982,"question_id":11264197,"body_markdown":"I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at [aleph-formatter](https://github.com/nomemory/aleph-formatter) (I am one of the authors):\r\n\r\n    Student student = new Student(&quot;Andrei&quot;, 30, &quot;Male&quot;);\r\n\r\n    String studStr = template(&quot;#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}&quot;)\r\n                        .arg(&quot;id&quot;, 10)\r\n                        .arg(&quot;st&quot;, student)\r\n                        .format();\r\n    System.out.println(studStr);\r\n\r\n\r\nOr you can chain the arguments:\r\n\r\n    String result = template(&quot;#{x} + #{y} = #{z}&quot;)\r\n                        .args(&quot;x&quot;, 5, &quot;y&quot;, 10, &quot;z&quot;, 15)\r\n                        .format();\r\n    System.out.println(result);\r\n    \r\n    // Output: &quot;5 + 10 = 15&quot;\r\n\r\nInternally it works using a StringBuilder creating the result by &quot;parsing&quot; the expression, no string concatenation, regex/replace is performed.","title":"Java string templatizer / formatter with named arguments","body":"<p>I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at <a href=\"https://github.com/nomemory/aleph-formatter\" rel=\"nofollow noreferrer\">aleph-formatter</a> (I am one of the authors):</p>\n\n<pre><code>Student student = new Student(\"Andrei\", 30, \"Male\");\n\nString studStr = template(\"#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}\")\n                    .arg(\"id\", 10)\n                    .arg(\"st\", student)\n                    .format();\nSystem.out.println(studStr);\n</code></pre>\n\n<p>Or you can chain the arguments:</p>\n\n<pre><code>String result = template(\"#{x} + #{y} = #{z}\")\n                    .args(\"x\", 5, \"y\", 10, \"z\", 15)\n                    .format();\nSystem.out.println(result);\n\n// Output: \"5 + 10 = 15\"\n</code></pre>\n\n<p>Internally it works using a StringBuilder creating the result by \"parsing\" the expression, no string concatenation, regex/replace is performed.</p>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572965658,"creation_date":1572965658,"answer_id":58713941,"question_id":11264197,"body_markdown":"I also made one in my str utils (not tested) `string.MapFormat(&quot;abcd {var}&quot;,map)`.\r\n\r\n\r\n    //util\r\n\tpublic static String mapFormat(String template, HashMap&lt;String, String&gt; mapSet) {\r\n\t\tString res = template;\r\n\t\tfor (String key : mapSet.keySet()) {\r\n\t\t\tres = template.replace(String.format(&quot;{%s}&quot;, key), mapSet.get(key));\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n    //use\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean isOn=false;\r\n\t\tHashMap&lt;String, String&gt; kvMap=new HashMap&lt;String, String&gt;();\r\n\t\tkvMap.put(&quot;isOn&quot;, isOn+&quot;&quot;);\r\n\t\tString exp=StringUtils.mapFormat(&quot;http://localhost/api/go?isOn={isOn}&quot;, kvMap);\r\n\t\tSystem.out.println(exp);\r\n\t}","title":"Java string templatizer / formatter with named arguments","body":"<p>I also made one in my str utils (not tested) <code>string.MapFormat(\"abcd {var}\",map)</code>.</p>\n\n<pre><code>//util\npublic static String mapFormat(String template, HashMap&lt;String, String&gt; mapSet) {\n    String res = template;\n    for (String key : mapSet.keySet()) {\n        res = template.replace(String.format(\"{%s}\", key), mapSet.get(key));\n    }\n    return res;\n}\n\n//use\n\npublic static void main(String[] args) {\n    boolean isOn=false;\n    HashMap&lt;String, String&gt; kvMap=new HashMap&lt;String, String&gt;();\n    kvMap.put(\"isOn\", isOn+\"\");\n    String exp=StringUtils.mapFormat(\"http://localhost/api/go?isOn={isOn}\", kvMap);\n    System.out.println(exp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691186203,"creation_date":1691186203,"answer_id":76839294,"question_id":11264197,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Java string templatizer / formatter with named arguments","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10120,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":11469548,"answer_count":8,"score":11,"last_activity_date":1691186203,"creation_date":1340982189,"question_id":11264197,"body_markdown":"Is there a standard or at least widespread implementation of something like `String.format`, but with named arguments?\r\n\r\nI&#39;d like to format a templatized string in a way like that:\r\n\r\n    Map&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\r\n    args.put(&quot;PATH&quot;, &quot;/usr/bin&quot;);\r\n    args.put(&quot;file&quot;, &quot;foo&quot;);\r\n    String s = someHypotheticalMethod(&quot;#{PATH}/ls #{file}&quot;);\r\n    // &quot;/usr/bin/ls foo&quot;\r\n\r\nTechnically, it&#39;s almost the same as:\r\n\r\n    String[] args = new String[] { &quot;/usr/bin&quot;, &quot;foo&quot; };\r\n    String s = String.format(&quot;%1$s/ls %2$s&quot;, args);\r\n    // &quot;/usr/bin/ls foo&quot;\r\n\r\nbut with named arguments.\r\n\r\nI&#39;m aware of:\r\n\r\n* [String.format](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html)\r\n* [Formatter](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html)\r\n* [MessageFormat](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html)\r\n\r\nbut all of them use ordered or at least numbered arguments, not named ones. I know it&#39;s trivial to implement one, but is there a mechanism I&#39;m looking for in standard Java libraries or at least in Apache Commons / Guava / something similar, without bringing in high-profile template engines?\r\n\r\n**NOTE**: I&#39;m not really interested in full-blown template engines, with features like some imperative / functional logic, flow control, modifiers, sub-templates / inclusions, iterators, etc. Generally the following method is a working 4-line implementation - that&#39;s all I need:\r\n\r\n    public static String interpolate(String format, Map&lt;String, ? extends Object&gt; args) {\r\n        String out = format;\r\n        for (String arg : args.keySet()) {\r\n            out = Pattern.compile(Pattern.quote(&quot;#{&quot; + arg + &quot;}&quot;)).\r\n                    matcher(out).\r\n                    replaceAll(args.get(arg).toString());\r\n        }\r\n        return out;\r\n    }\r\n","title":"Java string templatizer / formatter with named arguments","body":"<p>Is there a standard or at least widespread implementation of something like <code>String.format</code>, but with named arguments?</p>\n\n<p>I'd like to format a templatized string in a way like that:</p>\n\n<pre><code>Map&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\nargs.put(\"PATH\", \"/usr/bin\");\nargs.put(\"file\", \"foo\");\nString s = someHypotheticalMethod(\"#{PATH}/ls #{file}\");\n// \"/usr/bin/ls foo\"\n</code></pre>\n\n<p>Technically, it's almost the same as:</p>\n\n<pre><code>String[] args = new String[] { \"/usr/bin\", \"foo\" };\nString s = String.format(\"%1$s/ls %2$s\", args);\n// \"/usr/bin/ls foo\"\n</code></pre>\n\n<p>but with named arguments.</p>\n\n<p>I'm aware of:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\">String.format</a></li>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\">Formatter</a></li>\n<li><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html\">MessageFormat</a></li>\n</ul>\n\n<p>but all of them use ordered or at least numbered arguments, not named ones. I know it's trivial to implement one, but is there a mechanism I'm looking for in standard Java libraries or at least in Apache Commons / Guava / something similar, without bringing in high-profile template engines?</p>\n\n<p><strong>NOTE</strong>: I'm not really interested in full-blown template engines, with features like some imperative / functional logic, flow control, modifiers, sub-templates / inclusions, iterators, etc. Generally the following method is a working 4-line implementation - that's all I need:</p>\n\n<pre><code>public static String interpolate(String format, Map&lt;String, ? extends Object&gt; args) {\n    String out = format;\n    for (String arg : args.keySet()) {\n        out = Pattern.compile(Pattern.quote(\"#{\" + arg + \"}\")).\n                matcher(out).\n                replaceAll(args.get(arg).toString());\n    }\n    return out;\n}\n</code></pre>\n"},{"tags":["java","stringtemplate-4"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1421511990,"post_id":28001536,"comment_id":44392160,"body_markdown":"Well, you could do `return new String(Files.readAllBytes(Paths.get(templateFile)), StandardCharSets.UTF_8)`. For example. But I would generally assume that your templates would be on the classpath rather than in a file.","body":"Well, you could do <code>return new String(Files.readAllBytes(Paths.get(templateFile)), StandardCharSets.UTF_8)</code>. For example. But I would generally assume that your templates would be on the classpath rather than in a file."},{"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"score":0,"creation_date":1421512103,"post_id":28001536,"comment_id":44392197,"body_markdown":"@BoristheSpider the question is not how to read the file but if there&#39;s functionality in the STringTemplate engine to store templates in files and read them fron files","body":"@BoristheSpider the question is not how to read the file but if there&#39;s functionality in the STringTemplate engine to store templates in files and read them fron files"},{"owner":{"account_id":203782,"reputation":52318,"user_id":451634,"accept_rate":58,"display_name":"Benny Code"},"score":0,"creation_date":1460989817,"post_id":28001536,"comment_id":60981718,"body_markdown":"Here is an example for `stringtemplate v3`: https://theantlrguy.atlassian.net/wiki/display/ST/Five+minute+Introduction","body":"Here is an example for <code>stringtemplate v3</code>: <a href=\"https://theantlrguy.atlassian.net/wiki/display/ST/Five+minute+Introduction\" rel=\"nofollow noreferrer\">theantlrguy.atlassian.net/wiki/display/ST/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2453232,"reputation":18871,"user_id":2138993,"accept_rate":50,"display_name":"wassgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1421515339,"creation_date":1421515339,"answer_id":28002116,"question_id":28001536,"body_markdown":"Yes, there is functionality available that can be used directly without providing your own file loading code. \r\n\r\nFrom the [ST JavaDoc](http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html):\r\n\r\n&gt;To use templates, you create one (usually via [STGroup](http://www.stringtemplate.org/api/org/stringtemplate/v4/STGroup.html)) and then inject attributes using [add(java.lang.String, java.lang.Object)](http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#add-java.lang.String-java.lang.Object-). To render its attacks, use [render()](http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#render--).\r\n\r\nTo follow that advice the following code can be used.\r\n\r\nFirst, create a file called `exampleTemplate.stg` and place it on your classpath.\r\n\r\n    templateExample(param) ::= &lt;&lt;\r\n    This is a template with the following param: (&lt;param&gt;)\r\n    &gt;&gt;\r\n\r\nThen, render the template by using the following code:\r\n\r\n    // Load the file\r\n    final STGroup stGroup = new STGroupFile(&quot;exampleTemplate.stg&quot;);\r\n\r\n    // Pick the correct template\r\n    final ST templateExample = stGroup.getInstanceOf(&quot;templateExample&quot;);\r\n\r\n    // Pass on values to use when rendering\r\n    templateExample.add(&quot;param&quot;, &quot;Hello World&quot;);\r\n\r\n    // Render\r\n    final String render = templateExample.render();\r\n\r\n    // Print\r\n    System.out.println(render);\r\n\r\nThe output is:\r\n&gt;This is a template with the following param: (Hello World)\r\n\r\n----------------------------\r\nSome additional notes:\r\n\r\n* `STGroupFile` is a subclass of `STGroup`. There are other subclasses as well that you find out more about in the [JavaDoc](http://www.stringtemplate.org/api/).\r\n* In the example above the template file was placed on the classpath. This is not a requirement, files can be placed in a relative folder or a in an absolute folder as well.","title":"Read templates from a file StringTemplate","body":"<p>Yes, there is functionality available that can be used directly without providing your own file loading code. </p>\n\n<p>From the <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html\" rel=\"nofollow\">ST JavaDoc</a>:</p>\n\n<blockquote>\n  <p>To use templates, you create one (usually via <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/STGroup.html\" rel=\"nofollow\">STGroup</a>) and then inject attributes using <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#add-java.lang.String-java.lang.Object-\" rel=\"nofollow\">add(java.lang.String, java.lang.Object)</a>. To render its attacks, use <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#render--\" rel=\"nofollow\">render()</a>.</p>\n</blockquote>\n\n<p>To follow that advice the following code can be used.</p>\n\n<p>First, create a file called <code>exampleTemplate.stg</code> and place it on your classpath.</p>\n\n<pre><code>templateExample(param) ::= &lt;&lt;\nThis is a template with the following param: (&lt;param&gt;)\n&gt;&gt;\n</code></pre>\n\n<p>Then, render the template by using the following code:</p>\n\n<pre><code>// Load the file\nfinal STGroup stGroup = new STGroupFile(\"exampleTemplate.stg\");\n\n// Pick the correct template\nfinal ST templateExample = stGroup.getInstanceOf(\"templateExample\");\n\n// Pass on values to use when rendering\ntemplateExample.add(\"param\", \"Hello World\");\n\n// Render\nfinal String render = templateExample.render();\n\n// Print\nSystem.out.println(render);\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>This is a template with the following param: (Hello World)</p>\n</blockquote>\n\n<hr>\n\n<p>Some additional notes:</p>\n\n<ul>\n<li><code>STGroupFile</code> is a subclass of <code>STGroup</code>. There are other subclasses as well that you find out more about in the <a href=\"http://www.stringtemplate.org/api/\" rel=\"nofollow\">JavaDoc</a>.</li>\n<li>In the example above the template file was placed on the classpath. This is not a requirement, files can be placed in a relative folder or a in an absolute folder as well.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691186123,"creation_date":1691186123,"answer_id":76839288,"question_id":28001536,"body_markdown":"An alternative is to use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Read templates from a file StringTemplate","body":"<p>An alternative is to use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28002116,"answer_count":2,"score":2,"last_activity_date":1691186123,"creation_date":1421511766,"question_id":28001536,"body_markdown":"I&#39;m using the template engine StringTemplate for some templates (obviously).\r\n\r\nWhat I want is to be able to store the templates I have in seperate files, ofcourse I can do that with simple .txt files and reading them into a `String`, looks a bit like this then\r\n\r\n    ST template = new ST(readTemplateFromFile(&quot;template.txt&quot;))\r\n\r\n    private String readTemplateFromFile(String templateFile){\r\n    //read template from file\r\n    }\r\n\r\nBut what I was wondering is if there&#39;s functionality in the StringTemplate engine to do that automatically. SO that i don&#39;t have to write code that already exists.\r\n\r\nI&#39;ve read something about Group Files but I don&#39;t quite understand that,are those like Template files? Or am I completely missing something?","title":"Read templates from a file StringTemplate","body":"<p>I'm using the template engine StringTemplate for some templates (obviously).</p>\n\n<p>What I want is to be able to store the templates I have in seperate files, ofcourse I can do that with simple .txt files and reading them into a <code>String</code>, looks a bit like this then</p>\n\n<pre><code>ST template = new ST(readTemplateFromFile(\"template.txt\"))\n\nprivate String readTemplateFromFile(String templateFile){\n//read template from file\n}\n</code></pre>\n\n<p>But what I was wondering is if there's functionality in the StringTemplate engine to do that automatically. SO that i don't have to write code that already exists.</p>\n\n<p>I've read something about Group Files but I don't quite understand that,are those like Template files? Or am I completely missing something?</p>\n"},{"tags":["java","spring","spring-boot","neo4j"],"owner":{"account_id":3215241,"reputation":99,"user_id":2714158,"accept_rate":0,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691186007,"creation_date":1689859061,"question_id":76730323,"body_markdown":"Neo4j Desktop: 4.4.0\r\n\r\nSpring Boot: 3.1.0\r\n\r\nSpring Boot Data Neo4j: 3.1.0\r\n\r\nSpring Data Neo4j: 7.1\r\n\r\nNeo4j Java Driver: 5.8.0\r\n\r\nNeo4j Cypher Dsl: 2023.2.0\r\n\r\nJava: 17 \r\n\r\n```\r\n@Node\r\npublic NodeOne{\r\n//class stuff\r\n\r\n@Relationship(type=&quot;RELATED_TO&quot;, direction = Direction.OUTGOING)\r\nList&lt;RelatedTo&gt; relationships = new ArrayList&lt;RelatedTo&gt;();\r\n}\r\n\r\n@Node\r\npublic NodeTwo{\r\n//class stuff\r\n}\r\n\r\n@RelationshipProperties\r\npublic RelatedTo{\r\n\r\n    @RelationshipId\r\n    private Long id;\r\n\r\n    @TargetNode\r\n    private NodeTwo nodeTwo;\r\n\r\n    // getters &amp; setters\r\n```\r\n\r\nWhen I run the code, I&#39;ll get the following nodes in Neo4j:\r\n\r\nNodeOne \r\nNodeTwo\r\nRelatedTo\r\n\r\nThe relationships are not properly saving to showing Neo4j Browser or Bloom","title":"Issue with Spring Data Neo4j RelationshipProperties not saving properly using Spring Boot","body":"<p>Neo4j Desktop: 4.4.0</p>\n<p>Spring Boot: 3.1.0</p>\n<p>Spring Boot Data Neo4j: 3.1.0</p>\n<p>Spring Data Neo4j: 7.1</p>\n<p>Neo4j Java Driver: 5.8.0</p>\n<p>Neo4j Cypher Dsl: 2023.2.0</p>\n<p>Java: 17</p>\n<pre><code>@Node\npublic NodeOne{\n//class stuff\n\n@Relationship(type=&quot;RELATED_TO&quot;, direction = Direction.OUTGOING)\nList&lt;RelatedTo&gt; relationships = new ArrayList&lt;RelatedTo&gt;();\n}\n\n@Node\npublic NodeTwo{\n//class stuff\n}\n\n@RelationshipProperties\npublic RelatedTo{\n\n    @RelationshipId\n    private Long id;\n\n    @TargetNode\n    private NodeTwo nodeTwo;\n\n    // getters &amp; setters\n</code></pre>\n<p>When I run the code, I'll get the following nodes in Neo4j:</p>\n<p>NodeOne\nNodeTwo\nRelatedTo</p>\n<p>The relationships are not properly saving to showing Neo4j Browser or Bloom</p>\n"},{"tags":["java","regex","string","substring","template-engine"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1409300806,"post_id":25564315,"comment_id":39922522,"body_markdown":"shortest execution time? what do you mean with this? also, have you looked at String.format()?","body":"shortest execution time? what do you mean with this? also, have you looked at String.format()?"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1409301330,"post_id":25564315,"comment_id":39922747,"body_markdown":"pft... shortest execution time for some String operation - how many string do you want to convert? 10? 10&#39;000? 10mio?","body":"pft... shortest execution time for some String operation - how many string do you want to convert? 10? 10&#39;000? 10mio?"}],"answers":[{"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1409301260,"post_id":25564491,"comment_id":39922723,"body_markdown":"as mentioned above ^_^","body":"as mentioned above ^_^"}],"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409301001,"creation_date":1409301001,"answer_id":25564491,"question_id":25564315,"body_markdown":"Use static `String.format(String format, Object... args)` method to format your string with specific arguments.\r\n\r\nTo find more details on how to propertly create a valid template string please refer to this documentation:\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#detail","title":"How to Generate a String from a String Template in Java?","body":"<p>Use static <code>String.format(String format, Object... args)</code> method to format your string with specific arguments.</p>\n\n<p>To find more details on how to propertly create a valid template string please refer to this documentation:\n<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#detail\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#detail</a></p>\n"},{"comments":[{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1409302858,"post_id":25564537,"comment_id":39923514,"body_markdown":"If he&#39;s worried about quickest execution time then `StringBuilder` is faster but lacks thread safety.","body":"If he&#39;s worried about quickest execution time then <code>StringBuilder</code> is faster but lacks thread safety."},{"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":3,"creation_date":1409303095,"post_id":25564537,"comment_id":39923630,"body_markdown":"@Rudi: Added a comment adressing that. You are not the first to point it out. :)","body":"@Rudi: Added a comment adressing that. You are not the first to point it out. :)"},{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1409303344,"post_id":25564537,"comment_id":39923751,"body_markdown":"Learn something new every day. Thanks for the clarification.","body":"Learn something new every day. Thanks for the clarification."}],"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1409303070,"creation_date":1409301154,"answer_id":25564537,"question_id":25564315,"body_markdown":"If you are creating a new complete `String` at each replacement you will indeed run into problems. You can try building a `StringBuffer` as you go using the helper methods from `Matcher` instead. This should be much faster for large inputs:  \r\n\r\n    String text = &quot; value 1 = #value1 and value 2 = #value2 &quot;;\r\n    int[] intArray = new int[] { 4, 5 };\r\n    Pattern p = Pattern.compile(&quot;#value(\\\\d+)&quot;);\r\n    Matcher m = p.matcher(text);\r\n    StringBuffer result = new StringBuffer();\r\n    while (m.find()) {\r\n        m.appendReplacement(result, String.valueOf(intArray[Integer.parseInt(m.group(1)) - 1]));\r\n    }\r\n    m.appendTail(result);\r\n    System.out.println(result.toString());\r\n\r\n**EDIT**  \r\nA number of people have pointed out that `StringBuilder` is better suited for this job. I agree, but unfortunately the `Matcher` API doesn&#39;t accept `StringBuilder` as argument to the `appendReplacement()` and `appendTail()` methods.","title":"How to Generate a String from a String Template in Java?","body":"<p>If you are creating a new complete <code>String</code> at each replacement you will indeed run into problems. You can try building a <code>StringBuffer</code> as you go using the helper methods from <code>Matcher</code> instead. This should be much faster for large inputs:  </p>\n\n<pre><code>String text = \" value 1 = #value1 and value 2 = #value2 \";\nint[] intArray = new int[] { 4, 5 };\nPattern p = Pattern.compile(\"#value(\\\\d+)\");\nMatcher m = p.matcher(text);\nStringBuffer result = new StringBuffer();\nwhile (m.find()) {\n    m.appendReplacement(result, String.valueOf(intArray[Integer.parseInt(m.group(1)) - 1]));\n}\nm.appendTail(result);\nSystem.out.println(result.toString());\n</code></pre>\n\n<p><strong>EDIT</strong><br>\nA number of people have pointed out that <code>StringBuilder</code> is better suited for this job. I agree, but unfortunately the <code>Matcher</code> API doesn't accept <code>StringBuilder</code> as argument to the <code>appendReplacement()</code> and <code>appendTail()</code> methods.</p>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1548931709,"post_id":25564829,"comment_id":95725583,"body_markdown":"which is better freemarker vs velocity vs Stringtemplate?","body":"which is better freemarker vs velocity vs Stringtemplate?"},{"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"score":0,"creation_date":1548939906,"post_id":25564829,"comment_id":95730479,"body_markdown":"hard to say, all of them are good libs, it really depends on the usage patterns and how happy you are with the API/features set. if you need html/xml processing, then I recommend also to take a look at Thymeleaf. works perfect for HTML/XML (web pages/rich emails) templates processing.","body":"hard to say, all of them are good libs, it really depends on the usage patterns and how happy you are with the API/features set. if you need html/xml processing, then I recommend also to take a look at Thymeleaf. works perfect for HTML/XML (web pages/rich emails) templates processing."}],"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410162968,"creation_date":1409302260,"answer_id":25564829,"question_id":25564315,"body_markdown":"There are a huge number of **Template/Expression language** engines to help you with that, `Velocity` and `Freemaker` can also solve the problem, however they can be too heavy for this rather simple task.\r\n\r\nAs already mentioned by @Keppil (+1), the simplest way is to go with **regexp**. Correct code will take O(n) time. \r\n\r\nJust for the reference, for more complex case you can check [Apache Jexl library][1]. Is is pretty light and has clear and simple API. Your case can be solved with following code:\r\n\r\n        JexlEngine jexl = new JexlEngine();\r\n        Expression expression = jexl.createExpression(&quot;value 1 = #value1 value 2 = #value2&quot;);\r\n        int[] values = {1, 2};\r\n        JexlContext context = new MapContext();\r\n        for (int i = 0; i &lt;  values.length; i++) {\r\n            context.set(&quot;#value&quot; + (i + 1), values[i]);\r\n        }\r\n        String result = (String)expression.evaluate(context);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-jexl/","title":"How to Generate a String from a String Template in Java?","body":"<p>There are a huge number of <strong>Template/Expression language</strong> engines to help you with that, <code>Velocity</code> and <code>Freemaker</code> can also solve the problem, however they can be too heavy for this rather simple task.</p>\n\n<p>As already mentioned by @Keppil (+1), the simplest way is to go with <strong>regexp</strong>. Correct code will take O(n) time. </p>\n\n<p>Just for the reference, for more complex case you can check <a href=\"http://commons.apache.org/proper/commons-jexl/\" rel=\"nofollow\">Apache Jexl library</a>. Is is pretty light and has clear and simple API. Your case can be solved with following code:</p>\n\n<pre><code>    JexlEngine jexl = new JexlEngine();\n    Expression expression = jexl.createExpression(\"value 1 = #value1 value 2 = #value2\");\n    int[] values = {1, 2};\n    JexlContext context = new MapContext();\n    for (int i = 0; i &lt;  values.length; i++) {\n        context.set(\"#value\" + (i + 1), values[i]);\n    }\n    String result = (String)expression.evaluate(context);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691185981,"creation_date":1671377425,"answer_id":74842580,"question_id":25564315,"body_markdown":"Java is likely going to have string templates (probably from version **21**, as a preview feature).\r\n\r\nSee [the string templates proposal (JEP 430) here](https://openjdk.org/jeps/430).\r\n\r\nIt will be something along the lines of this:\r\n\r\n```java\r\nString name = &quot;John&quot;;\r\nString info = STR.&quot;I am \\{name}&quot;;\r\nSystem.out.println(info); // I am John\r\n```\r\n---\r\n\r\nP.S. [Kotlin][1] is 100% interoperable with Java. It supports cleaner string templates out of the box:\r\n\r\n```kotlin\r\nval name = &quot;John&quot;\r\nval info = &quot;I am $name&quot;\r\nprintln(info) // I am John\r\n```\r\n\r\nCombined with [extension functions][2], you can achieve the same thing the Java template processors (e.g. `STR`) will do.\r\n\r\n\r\n  [1]: https://kotlinlang.org/\r\n  [2]: https://kotlinlang.org/docs/extensions.html","title":"How to Generate a String from a String Template in Java?","body":"<p>Java is likely going to have string templates (probably from version <strong>21</strong>, as a preview feature).</p>\n<p>See <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">the string templates proposal (JEP 430) here</a>.</p>\n<p>It will be something along the lines of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;John&quot;;\nString info = STR.&quot;I am \\{name}&quot;;\nSystem.out.println(info); // I am John\n</code></pre>\n<hr />\n<p>P.S. <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> is 100% interoperable with Java. It supports cleaner string templates out of the box:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val name = &quot;John&quot;\nval info = &quot;I am $name&quot;\nprintln(info) // I am John\n</code></pre>\n<p>Combined with <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>, you can achieve the same thing the Java template processors (e.g. <code>STR</code>) will do.</p>\n"}],"owner":{"account_id":4196046,"reputation":1396,"user_id":3437443,"accept_rate":83,"display_name":"TheByeByeMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4738,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25564537,"answer_count":4,"score":8,"last_activity_date":1691185981,"creation_date":1409300381,"question_id":25564315,"body_markdown":"I want my Java App to read a String from a User, the String may contains some tags, for example : \r\n\r\n    String text = &quot; value 1 = #value1 and value 2 = #value2 &quot;;\r\n    int[] intArray = new int[] {4,5};\r\n\r\nAlso the user will enter an array of values to the application. As a programmer I don&#39;t know the exact number of values in the String. and I want to programatically generate this String : \r\n\r\n    String result = &quot; value 1 = 4 and value 2 = 5 &quot;\r\n\r\nto do so I&#39;ve implemented a method that search for the `#value*` regex and replace it with the first element in a stack of values. it Loops until the program cannot find any #value in the primary String, the problem is that for big Texts, the program take too much time to get executed, which is normal considering the approach adopted.\r\n\r\nI&#39;ve also heard of some Templating techniques using Velocity and FreeMarker, but I&#39;ve never used them ( any clarification in this point is very welcome ).\r\n\r\n**So my question is : what is the best way to solve this problem (shortest execution time)?**\r\n\r\n*PS : I don&#39;t need code, I want just an approach or API that may solve this issue.* ","title":"How to Generate a String from a String Template in Java?","body":"<p>I want my Java App to read a String from a User, the String may contains some tags, for example : </p>\n\n<pre><code>String text = \" value 1 = #value1 and value 2 = #value2 \";\nint[] intArray = new int[] {4,5};\n</code></pre>\n\n<p>Also the user will enter an array of values to the application. As a programmer I don't know the exact number of values in the String. and I want to programatically generate this String : </p>\n\n<pre><code>String result = \" value 1 = 4 and value 2 = 5 \"\n</code></pre>\n\n<p>to do so I've implemented a method that search for the <code>#value*</code> regex and replace it with the first element in a stack of values. it Loops until the program cannot find any #value in the primary String, the problem is that for big Texts, the program take too much time to get executed, which is normal considering the approach adopted.</p>\n\n<p>I've also heard of some Templating techniques using Velocity and FreeMarker, but I've never used them ( any clarification in this point is very welcome ).</p>\n\n<p><strong>So my question is : what is the best way to solve this problem (shortest execution time)?</strong></p>\n\n<p><em>PS : I don't need code, I want just an approach or API that may solve this issue.</em> </p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20369302,"reputation":871,"user_id":14941832,"display_name":"Future Deep Gone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622100380,"creation_date":1622100380,"answer_id":67717506,"question_id":67717097,"body_markdown":"build is not to install the program on Android Studio\r\n\r\nFirst make sure your emulator is available in Android Studio.\r\n\r\nI have provided a picture as a reminder.\r\n\r\n[![reminder][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FpWik.png","title":"android studio app does not run on emulator","body":"<p>build is not to install the program on Android Studio</p>\n<p>First make sure your emulator is available in Android Studio.</p>\n<p>I have provided a picture as a reminder.</p>\n<p><a href=\"https://i.stack.imgur.com/FpWik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FpWik.png\" alt=\"reminder\" /></a></p>\n"},{"tags":[],"owner":{"display_name":"user15084425"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622129179,"creation_date":1622129179,"answer_id":67725307,"question_id":67717097,"body_markdown":"You can try running on real android devices. Go to developer settings. Open debugging and connect your device to computer. When you click start on android studio it will open.","title":"android studio app does not run on emulator","body":"<p>You can try running on real android devices. Go to developer settings. Open debugging and connect your device to computer. When you click start on android studio it will open.</p>\n"}],"owner":{"account_id":21501859,"reputation":99,"user_id":15845933,"display_name":"Βαρβάρα Ξιάρχου"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67717506,"answer_count":2,"score":0,"last_activity_date":1691185432,"creation_date":1622098504,"question_id":67717097,"body_markdown":"This is my first time using android studio and I would appreciate your help here . I try to run my app on an emulator and while the emulator runs smoothly the app does not appear on it and when I run the app it just says `Gradle build finished` and stops . I&#39;m pretty sure the problem is in the app configuration but I have no prior experience. \r\n\r\nMy androidManifest.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.mobileapp&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nIf more info is needed for this ask me and I will edit the question ","title":"android studio app does not run on emulator","body":"<p>This is my first time using android studio and I would appreciate your help here . I try to run my app on an emulator and while the emulator runs smoothly the app does not appear on it and when I run the app it just says <code>Gradle build finished</code> and stops . I'm pretty sure the problem is in the app configuration but I have no prior experience.</p>\n<p>My androidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.mobileapp&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>If more info is needed for this ask me and I will edit the question</p>\n"},{"tags":["javascript","java","html","maven"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1691181961,"post_id":76839022,"comment_id":135462621,"body_markdown":"How do you serve the js file?","body":"How do you serve the js file?"},{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":0,"creation_date":1691182416,"post_id":76839022,"comment_id":135462685,"body_markdown":"Your code says `&lt;script src=&quot;js/login.js&quot;&gt;&lt;/script&gt;` but I do not see any login.js in your file structure. Did you mean to say `&lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;` ?","body":"Your code says <code>&lt;script src=&quot;js&#47;login.js&quot;&gt;&lt;&#47;script&gt;</code> but I do not see any login.js in your file structure. Did you mean to say <code>&lt;script src=&quot;js&#47;index.js&quot;&gt;&lt;&#47;script&gt;</code> ?"},{"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"score":0,"creation_date":1691183299,"post_id":76839022,"comment_id":135462809,"body_markdown":"@TP95 yes, my mistake. I&#39;ve updated the question.","body":"@TP95 yes, my mistake. I&#39;ve updated the question."},{"owner":{"account_id":29080912,"reputation":113,"user_id":22277746,"display_name":"WOWOW"},"score":0,"creation_date":1691183497,"post_id":76839022,"comment_id":135462845,"body_markdown":"Could you show the `.js` file?","body":"Could you show the <code>.js</code> file?"},{"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"score":0,"creation_date":1691183821,"post_id":76839022,"comment_id":135462874,"body_markdown":"@WOWOW I&#39;ve added the contents of the .js file at the bottom","body":"@WOWOW I&#39;ve added the contents of the .js file at the bottom"},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1691184911,"post_id":76839022,"comment_id":135462984,"body_markdown":"Shouldn&#39;t the src attribute be &quot;../js/index.js&quot;?","body":"Shouldn&#39;t the src attribute be &quot;../js/index.js&quot;?"},{"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"score":0,"creation_date":1691185404,"post_id":76839022,"comment_id":135463048,"body_markdown":"@forty-two Unfortunately that doesn&#39;t work either. I think it has something to do with how maven packages the files","body":"@forty-two Unfortunately that doesn&#39;t work either. I think it has something to do with how maven packages the files"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1691213795,"post_id":76839022,"comment_id":135464717,"body_markdown":"You do not need the &lt;/script&gt; termination tag when calling a file name of scripts in html and with XHTML neither, just the XML empty element terminator syntax   &lt;script src=&quot;../js/login.js&quot; /&gt; , in all common sense though the js directory should be in the html folder the way you have written the path in your code.","body":"You do not need the &lt;/script&gt; termination tag when calling a file name of scripts in html and with XHTML neither, just the XML empty element terminator syntax   &lt;script src=&quot;../js/login.js&quot; /&gt; , in all common sense though the js directory should be in the html folder the way you have written the path in your code."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691214125,"post_id":76839022,"comment_id":135464739,"body_markdown":"There are other minor problems there perhaps, I hope you do not use cookies with your login. Servers tend to treat folders of the same level as different domains, just like j2ee servers and appContext, whereas if you put the js folder in with the html pages in the html folder the js will be treated as a sub domain of the html in a security context.","body":"There are other minor problems there perhaps, I hope you do not use cookies with your login. Servers tend to treat folders of the same level as different domains, just like j2ee servers and appContext, whereas if you put the js folder in with the html pages in the html folder the js will be treated as a sub domain of the html in a security context."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691214760,"post_id":76839022,"comment_id":135464780,"body_markdown":"Also, script and folders access could be set too high by domain point.  NB if you read your server documentation you should find there are hundreds more settings that can be placed (extended) into server configuration, some of these security treatment of types of files and folders archives e.t.c. , so generally only one standard way works for a one size fits all scenario, that would be puting the js folder in the html folder.","body":"Also, script and folders access could be set too high by domain point.  NB if you read your server documentation you should find there are hundreds more settings that can be placed (extended) into server configuration, some of these security treatment of types of files and folders archives e.t.c. , so generally only one standard way works for a one size fits all scenario, that would be puting the js folder in the html folder."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691237438,"post_id":76839022,"comment_id":135466741,"body_markdown":"A small hint about Atom because Atom has been abandoned (https://github.blog/2022-06-08-sunsetting-atom/) ... I recommend to start learning to use a real IDE like IntelliJ or Eclipse or NetBeans...","body":"A small hint about Atom because Atom has been abandoned (<a href=\"https://github.blog/2022-06-08-sunsetting-atom/\" rel=\"nofollow noreferrer\">github.blog/2022-06-08-sunsetting-atom</a>) ... I recommend to start learning to use a real IDE like IntelliJ or Eclipse or NetBeans..."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":1,"creation_date":1691272560,"post_id":76839022,"comment_id":135470237,"body_markdown":"It&#39;s not your java files that includes the java script fie. It&#39;s the client (browser) that issues a HTTP GET request for that file relative to the URL that returned the HTML. Maybe you should create a proper webapp and deploy into an application server as a war file. https://maven.apache.org/plugins/maven-war-plugin/usage.html","body":"It&#39;s not your java files that includes the java script fie. It&#39;s the client (browser) that issues a HTTP GET request for that file relative to the URL that returned the HTML. Maybe you should create a proper webapp and deploy into an application server as a war file. <a href=\"https://maven.apache.org/plugins/maven-war-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-war-plugin/usage.html</a>"}],"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691183778,"creation_date":1691181868,"question_id":76839022,"body_markdown":"I am working on a web development project and I&#39;m having trouble including my javascript files into my html in my Maven project.\r\n\r\nI&#39;m on a Mac and I&#39;m using Atom to write my code and when it comes times to run it, I call ```mvn package``` and then run the .jar file with ```java -jar target/xxx.java``` all from terminal.\r\n\r\nCurrently, my folder structure looks like this:\r\n\r\n```\r\nProject\r\n  src\r\n    main\r\n      java\r\n        Server.java\r\n      webapp\r\n        resources\r\n          html\r\n            index.html\r\n          js\r\n            index.js\r\n```\r\n\r\nServer.java can access the files in the html folder no problem. The issue is when I try including index.js into index.html by doing:\r\n\r\n```\r\n&lt;head&gt;\r\n  &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n```\r\n\r\nI get this when I go to the webpage:\r\n\r\n```\r\n&quot;Uncaught SyntaxError: Unexpected token &#39;&lt;&#39; (at index.js:1:1)&quot;\r\n```\r\n\r\nI have tried MANY different paths for the script and I have tried moving the folders around (a lot of resources online with conflicting answers, none of which worked for me). What is the proper folder structure that will allow my java files to access the html files and allow the html files to access the javascript files (as well as css files later).\r\n\r\nThank you in advance!\r\n\r\nEDIT:\r\n\r\nHere&#39;s the javascript file\r\n\r\n```\r\nfunction validateRegistration(){\r\n  console.log(&quot;Here&quot;);\r\n  return false;\r\n}\r\n\r\ndocument.addEventListener(&#39;DOMContentLoaded&#39;, function() {\r\n  document.getElementById(&quot;register&quot;).addEventListener(&quot;submit&quot;, validateRegistration());\r\n});\r\n```","title":"How to include javascript file into html file in maven project","body":"<p>I am working on a web development project and I'm having trouble including my javascript files into my html in my Maven project.</p>\n<p>I'm on a Mac and I'm using Atom to write my code and when it comes times to run it, I call <code>mvn package</code> and then run the .jar file with <code>java -jar target/xxx.java</code> all from terminal.</p>\n<p>Currently, my folder structure looks like this:</p>\n<pre><code>Project\n  src\n    main\n      java\n        Server.java\n      webapp\n        resources\n          html\n            index.html\n          js\n            index.js\n</code></pre>\n<p>Server.java can access the files in the html folder no problem. The issue is when I try including index.js into index.html by doing:</p>\n<pre><code>&lt;head&gt;\n  &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n<p>I get this when I go to the webpage:</p>\n<pre><code>&quot;Uncaught SyntaxError: Unexpected token '&lt;' (at index.js:1:1)&quot;\n</code></pre>\n<p>I have tried MANY different paths for the script and I have tried moving the folders around (a lot of resources online with conflicting answers, none of which worked for me). What is the proper folder structure that will allow my java files to access the html files and allow the html files to access the javascript files (as well as css files later).</p>\n<p>Thank you in advance!</p>\n<p>EDIT:</p>\n<p>Here's the javascript file</p>\n<pre><code>function validateRegistration(){\n  console.log(&quot;Here&quot;);\n  return false;\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  document.getElementById(&quot;register&quot;).addEventListener(&quot;submit&quot;, validateRegistration());\n});\n</code></pre>\n"},{"tags":["java","sql","database","hibernate","data-modeling"],"answers":[{"tags":[],"owner":{"account_id":15372308,"reputation":11,"user_id":11090015,"display_name":"AmazingSchnitzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691182483,"creation_date":1691182483,"answer_id":76839064,"question_id":76838337,"body_markdown":"I found a solution, for anyone who stumbles upon this issue too.\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @ToString\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @Entity\r\n    @Table(name = &quot;folder_relation_version&quot;)\r\n    public class FolderRelationVersion extends BaseEntity {\r\n    \r\n        @Column(name = &quot;version&quot;)\r\n        private Integer version;\r\n    \r\n        @ManyToOne\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n                @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n        })\r\n        private FolderVersion parent;\r\n    \r\n        @ManyToOne\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n                @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n        })\r\n        private FolderVersion child;\r\n    \r\n        @Column(name = &quot;child_id&quot;)\r\n        private Integer childId;\r\n    \r\n    \r\n        @Column(name = &quot;parent_id&quot;)\r\n        private Integer parentId;\r\n    \r\n        public void setChild(FolderVersion child) {\r\n            this.child = child;\r\n            this.childId = child.getFolderId();\r\n        }\r\n    \r\n        public void setParent(FolderVersion parent) {\r\n            this.child = parent;\r\n            this.childId = parent.getFolderId();\r\n        }\r\n    }\r\n\r\nApparently you just have to add the id fields explicitly and set them, whenever you set the entity, so that the database insert works.\r\n","title":"Hibernate: Two relationships use the same column for their foreign keys","body":"<p>I found a solution, for anyone who stumbles upon this issue too.</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@ToString\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Table(name = &quot;folder_relation_version&quot;)\npublic class FolderRelationVersion extends BaseEntity {\n\n    @Column(name = &quot;version&quot;)\n    private Integer version;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion parent;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion child;\n\n    @Column(name = &quot;child_id&quot;)\n    private Integer childId;\n\n\n    @Column(name = &quot;parent_id&quot;)\n    private Integer parentId;\n\n    public void setChild(FolderVersion child) {\n        this.child = child;\n        this.childId = child.getFolderId();\n    }\n\n    public void setParent(FolderVersion parent) {\n        this.child = parent;\n        this.childId = parent.getFolderId();\n    }\n}\n</code></pre>\n<p>Apparently you just have to add the id fields explicitly and set them, whenever you set the entity, so that the database insert works.</p>\n"}],"owner":{"account_id":15372308,"reputation":11,"user_id":11090015,"display_name":"AmazingSchnitzel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691182483,"creation_date":1691173192,"question_id":76838337,"body_markdown":"I am working on an application that needs to support a simple versioning system for a folder tree. In essence this means that a user can create a folder tree with different folders. When they are satisfied they can then save this version, create a new one and continue working on the new versions (much like a version control system if you will). My database schema looks like this currently:\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS folder\r\n(\r\n    id           INT         NOT NULL AUTO_INCREMENT,\r\n    updated_at   TIMESTAMP   NOT NULL,\r\n    created_at   TIMESTAMP   NOT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS folder_version\r\n(\r\n    id              INT          NOT NULL AUTO_INCREMENT,\r\n    version         INT          NOT NULL,\r\n    folder_id       INT          NOT NULL,\r\n    name            VARCHAR(255) NOT NULL,\r\n    updated_at      TIMESTAMP    NOT NULL,\r\n    created_at      TIMESTAMP    NOT NULL,\r\n    PRIMARY KEY (id),\r\n    UNIQUE KEY (folder_id, version),\r\n    FOREIGN KEY (folder_id) REFERENCES folder (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS folder_relation_version\r\n(\r\n    id         INT         NOT NULL AUTO_INCREMENT,\r\n    parent_id  INT         NOT NULL,\r\n    child_id   INT         NOT NULL,\r\n    version    INT         NOT NULL,\r\n    updated_at TIMESTAMP   NOT NULL,\r\n    created_at TIMESTAMP   NOT NULL,\r\n    PRIMARY KEY (id),\r\n    UNIQUE KEY (parent_id, child_id, version),\r\n    FOREIGN KEY (parent_id, version) REFERENCES folder_version (folder_id, version),\r\n    FOREIGN KEY (child_id, version) REFERENCES folder_version (folder_id, version)\r\n);\r\n```\r\n\r\nHowever, I am unable to create an entity in Hibernate for the `folder_relation_version` table, since the `version` column is used in two foreign key constraints at the same time. \r\n\r\nThe specific design choice is actually intentional, because I want to avoid that two folder versions can be linked, when they are not part of the same version.\r\n\r\nThis means that the following scenario should be possible:\r\nFolder_A (version=0) --&gt; Folder_B (version=0)\r\n\r\nBut this scenario should not be possible:\r\nFolder_A (version=0) --&gt; Folder_B (version=1)\r\n\r\n\r\nBelow is my current attempt, which at least compiles, but obviously inserting and updating does not work with this approach:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@SuperBuilder\r\n@ToString\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Entity\r\n@Table(name = &quot;folder_relation_version&quot;)\r\npublic class FolderRelationVersion extends BaseEntity {\r\n\r\n    @Column(name = &quot;version&quot;)\r\n    private Integer version;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n    })\r\n    private FolderVersion parent;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n    })\r\n    private FolderVersion child;\r\n}\r\n```\r\n\r\nMy question now is: Is there any way to model such a scenario in hibernate? Or is this just not the right way to make sure that a FolderVersion entities are linked only if they are part of the same version. Any hints, ideas or thoughts would be appreciated.","title":"Hibernate: Two relationships use the same column for their foreign keys","body":"<p>I am working on an application that needs to support a simple versioning system for a folder tree. In essence this means that a user can create a folder tree with different folders. When they are satisfied they can then save this version, create a new one and continue working on the new versions (much like a version control system if you will). My database schema looks like this currently:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS folder\n(\n    id           INT         NOT NULL AUTO_INCREMENT,\n    updated_at   TIMESTAMP   NOT NULL,\n    created_at   TIMESTAMP   NOT NULL,\n    PRIMARY KEY (id)\n);\n\nCREATE TABLE IF NOT EXISTS folder_version\n(\n    id              INT          NOT NULL AUTO_INCREMENT,\n    version         INT          NOT NULL,\n    folder_id       INT          NOT NULL,\n    name            VARCHAR(255) NOT NULL,\n    updated_at      TIMESTAMP    NOT NULL,\n    created_at      TIMESTAMP    NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE KEY (folder_id, version),\n    FOREIGN KEY (folder_id) REFERENCES folder (id)\n);\n\nCREATE TABLE IF NOT EXISTS folder_relation_version\n(\n    id         INT         NOT NULL AUTO_INCREMENT,\n    parent_id  INT         NOT NULL,\n    child_id   INT         NOT NULL,\n    version    INT         NOT NULL,\n    updated_at TIMESTAMP   NOT NULL,\n    created_at TIMESTAMP   NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE KEY (parent_id, child_id, version),\n    FOREIGN KEY (parent_id, version) REFERENCES folder_version (folder_id, version),\n    FOREIGN KEY (child_id, version) REFERENCES folder_version (folder_id, version)\n);\n</code></pre>\n<p>However, I am unable to create an entity in Hibernate for the <code>folder_relation_version</code> table, since the <code>version</code> column is used in two foreign key constraints at the same time.</p>\n<p>The specific design choice is actually intentional, because I want to avoid that two folder versions can be linked, when they are not part of the same version.</p>\n<p>This means that the following scenario should be possible:\nFolder_A (version=0) --&gt; Folder_B (version=0)</p>\n<p>But this scenario should not be possible:\nFolder_A (version=0) --&gt; Folder_B (version=1)</p>\n<p>Below is my current attempt, which at least compiles, but obviously inserting and updating does not work with this approach:</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@ToString\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Table(name = &quot;folder_relation_version&quot;)\npublic class FolderRelationVersion extends BaseEntity {\n\n    @Column(name = &quot;version&quot;)\n    private Integer version;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion parent;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion child;\n}\n</code></pre>\n<p>My question now is: Is there any way to model such a scenario in hibernate? Or is this just not the right way to make sure that a FolderVersion entities are linked only if they are part of the same version. Any hints, ideas or thoughts would be appreciated.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1691182985,"post_id":76839046,"comment_id":135462750,"body_markdown":"When you say `Point p = new Point();`, you are creating an instance of a class, not a child. A child class is when you extend a parent class, such as `public class point2 extends point { ... }`. Is that what you mean?","body":"When you say <code>Point p = new Point();</code>, you are creating an instance of a class, not a child. A child class is when you extend a parent class, such as <code>public class point2 extends point { ... }</code>. Is that what you mean?"},{"owner":{"account_id":11248042,"reputation":15,"user_id":8250095,"display_name":"Hot4RST"},"score":0,"creation_date":1696874785,"post_id":76839046,"comment_id":136206205,"body_markdown":"Hi Jordan, apologize for late response was stuck in a situation where I cant put my time on this,\nA child class is when you extend a parent class, such as public class point2 extends point { ... } -- YES","body":"Hi Jordan, apologize for late response was stuck in a situation where I cant put my time on this, A child class is when you extend a parent class, such as public class point2 extends point { ... } -- YES"},{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1696885879,"post_id":76839046,"comment_id":136207872,"body_markdown":"It looks to me that private is the correct access modifier. Since Test is outside of the the Point class, it will satisfy 1 and 3.  Children inherit all variables and methods, regardless of access modifiers, satisfying 2.","body":"It looks to me that private is the correct access modifier. Since Test is outside of the the Point class, it will satisfy 1 and 3.  Children inherit all variables and methods, regardless of access modifiers, satisfying 2."},{"owner":{"account_id":11248042,"reputation":15,"user_id":8250095,"display_name":"Hot4RST"},"score":0,"creation_date":1696927483,"post_id":76839046,"comment_id":136211914,"body_markdown":"Actually, I want to have such an access modifier , that my x and y variable is private but should be visible to only child classes, no other class in package or outside the same package should be able to see the x and y data member.\nCurrently, protected access modifier opens up the data member to other classes of the package,\nOne solution is to use a different package itself  for the above two classes.\nLet me know if i need to edit my question for clarity.","body":"Actually, I want to have such an access modifier , that my x and y variable is private but should be visible to only child classes, no other class in package or outside the same package should be able to see the x and y data member. Currently, protected access modifier opens up the data member to other classes of the package, One solution is to use a different package itself  for the above two classes. Let me know if i need to edit my question for clarity."}],"owner":{"account_id":11248042,"reputation":15,"user_id":8250095,"display_name":"Hot4RST"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691182254,"creation_date":1691182254,"question_id":76839046,"body_markdown":"I have a scenario of OOPs in Java, which I am curious about,  \r\nI want to have a variable/data member/property in my class such that:\r\n\r\n1. It should only be accessed in the class where it has been defined\r\n\r\n2. It should only be accessed by an child class which has extended this class\r\n\r\n3. And should NOT BE accessed easily by a class inside the same package or any other package\r\n\r\nIt may sound like an unrealistic scenario, but I am curious that how can we achieve this.\r\n\r\nBelow is the sample code I am trying with:\r\n\r\n```\r\nclass Point {\r\n    // protected int x, y;\r\n    int x, y;\r\n\r\n  public Point()\r\n    {\r\n    }\r\n    public Point(int _x, int _y)\r\n    {\r\n        x = _x;\r\n        y = _y;\r\n    }\r\n}\r\n\r\npublic class Test {\r\n    public static void main(String args[])\r\n    {\r\n        Point p = new Point();\r\n        System.out.println(&quot;x = &quot; + p.x + &quot;, y = &quot; + p.y);\r\n    }\r\n}\r\n```\r\n\r\n1. Output when x and y are protected : 0 and 0\r\n\r\n2. Output when x and y are private : Compilation Error\r\n\r\n3. Output when using default access modifier on x and y : 0 and 0\r\n\r\nIf any one has any solution or any approach for tackling this scenario is very much appreciated.  \r\nAnd also I know Java currently has no such access modifier, but still I want to understand why and why not.","title":"Accessing a Java data member (a property) only within the class and by child class, but not in package","body":"<p>I have a scenario of OOPs in Java, which I am curious about,<br />\nI want to have a variable/data member/property in my class such that:</p>\n<ol>\n<li><p>It should only be accessed in the class where it has been defined</p>\n</li>\n<li><p>It should only be accessed by an child class which has extended this class</p>\n</li>\n<li><p>And should NOT BE accessed easily by a class inside the same package or any other package</p>\n</li>\n</ol>\n<p>It may sound like an unrealistic scenario, but I am curious that how can we achieve this.</p>\n<p>Below is the sample code I am trying with:</p>\n<pre><code>class Point {\n    // protected int x, y;\n    int x, y;\n\n  public Point()\n    {\n    }\n    public Point(int _x, int _y)\n    {\n        x = _x;\n        y = _y;\n    }\n}\n\npublic class Test {\n    public static void main(String args[])\n    {\n        Point p = new Point();\n        System.out.println(&quot;x = &quot; + p.x + &quot;, y = &quot; + p.y);\n    }\n}\n</code></pre>\n<ol>\n<li><p>Output when x and y are protected : 0 and 0</p>\n</li>\n<li><p>Output when x and y are private : Compilation Error</p>\n</li>\n<li><p>Output when using default access modifier on x and y : 0 and 0</p>\n</li>\n</ol>\n<p>If any one has any solution or any approach for tackling this scenario is very much appreciated.<br />\nAnd also I know Java currently has no such access modifier, but still I want to understand why and why not.</p>\n"},{"tags":["java","spring-boot","openapi"],"comments":[{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1630532926,"post_id":69020869,"comment_id":121985211,"body_markdown":"Have you tried pass `@RequestHeader Map&lt;String, String&gt; headers` as an argument to your controller methods?","body":"Have you tried pass <code>@RequestHeader Map&lt;String, String&gt; headers</code> as an argument to your controller methods?"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630537734,"creation_date":1630534076,"answer_id":69021062,"question_id":69020869,"body_markdown":"_In a Spring Application it is not common to inject a Request in an Bean._\r\n\r\nInstead add a parameter to your request handler method. There are different supported types and annotations to access the request headers. Some examples:\r\n\r\n    @RestController\r\n    public class MyController() {\r\n    \r\n       @PostMapping(&quot;/example&quot;)\r\n       public Something doSomething(@RequestBody Payload body,\r\n                                    HttpServletRequest request) {\r\n          //use request to access the parameter and everything else\r\n       }\r\n    \r\n       //or\r\n    \r\n       @PostMapping(&quot;/example2&quot;)\r\n       public Something doSomethingOtherWay(@RequestBody Payload body,\r\n                              @RequestHeader(&quot;Accept-Encoding&quot;) String acceptEncodingHeader,\r\n                              @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) {\r\n          ...\r\n       }\r\n    \r\n       //or\r\n       @PostMapping(&quot;/example3&quot;)\r\n       public Something doSomethingOtherWay2(@RequestBody Payload body,\r\n                                             @RequestHeader HttpHeaders headers) {\r\n          ...\r\n       }\r\n    }\r\n\r\nsee [&quot;Spring Framework Documentation&quot;][1] part [&quot;Web Servlet&quot;][2] chapter &quot;[Method Arguments&quot;][3]\r\n\r\n----\r\nYou wrote:\r\n\r\n&gt;However, in my current application, this is always null ...\r\n\r\nYou have a `@Autowired` annotation at this field. Spring typical rise an exception if it is not able to autowire it, so double check that the instance of this class is create by Spring, not by accident with a normal `new `\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p><em>In a Spring Application it is not common to inject a Request in an Bean.</em></p>\n<p>Instead add a parameter to your request handler method. There are different supported types and annotations to access the request headers. Some examples:</p>\n<pre><code>@RestController\npublic class MyController() {\n\n   @PostMapping(&quot;/example&quot;)\n   public Something doSomething(@RequestBody Payload body,\n                                HttpServletRequest request) {\n      //use request to access the parameter and everything else\n   }\n\n   //or\n\n   @PostMapping(&quot;/example2&quot;)\n   public Something doSomethingOtherWay(@RequestBody Payload body,\n                          @RequestHeader(&quot;Accept-Encoding&quot;) String acceptEncodingHeader,\n                          @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) {\n      ...\n   }\n\n   //or\n   @PostMapping(&quot;/example3&quot;)\n   public Something doSomethingOtherWay2(@RequestBody Payload body,\n                                         @RequestHeader HttpHeaders headers) {\n      ...\n   }\n}\n</code></pre>\n<p>see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/\" rel=\"nofollow noreferrer\">&quot;Spring Framework Documentation&quot;</a> part <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web\" rel=\"nofollow noreferrer\">&quot;Web Servlet&quot;</a> chapter &quot;<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">Method Arguments&quot;</a></p>\n<hr />\n<p>You wrote:</p>\n<blockquote>\n<p>However, in my current application, this is always null ...</p>\n</blockquote>\n<p>You have a <code>@Autowired</code> annotation at this field. Spring typical rise an exception if it is not able to autowire it, so double check that the instance of this class is create by Spring, not by accident with a normal <code>new </code></p>\n"},{"comments":[{"owner":{"account_id":1304527,"reputation":808,"user_id":1253759,"display_name":"Mike Welsh"},"score":0,"creation_date":1630540962,"post_id":69021216,"comment_id":121986676,"body_markdown":"So this works, after I removed `@RequestScope` - which is kind of odd, since I would have suspected that `NativeWebRequest` should work with other beans that are labeled as `@RequestScope`","body":"So this works, after I removed <code>@RequestScope</code> - which is kind of odd, since I would have suspected that <code>NativeWebRequest</code> should work with other beans that are labeled as <code>@RequestScope</code>"}],"tags":[],"owner":{"account_id":7586298,"reputation":1170,"user_id":5755313,"accept_rate":57,"display_name":"Poulad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630535589,"creation_date":1630535589,"answer_id":69021216,"question_id":69020869,"body_markdown":"`NativeWebRequest` bean should be available since Spring 2.5.2. In my example, I have it required as a constructor argument for my controller. Spring will inject a proxy for it at Controller bean creation. The concrete instance value will be updated for each HTTP request received.\r\n\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.context.request.NativeWebRequest;\r\n    import javax.annotation.Nonnull;\r\n\r\n    @RestController\r\n    public class FooController {\r\n\r\n        @Nonnull\r\n        private final NativeWebRequest nativeWebRequest;\r\n\r\n        public FooController(@Nonnull NativeWebRequest nativeWebRequest) {\r\n            this.nativeWebRequest = nativeWebRequest;\r\n        }\r\n\r\n        @GetMapping(&quot;/foo&quot;)\r\n        public ResponseEntity&lt;Void&gt; foo() {\r\n            String headerValue = nativeWebRequest.getHeader(&quot;Host&quot;);\r\n            System.out.println(&quot;[Request Header] Host: &quot; + headerValue);\r\n\r\n            return ResponseEntity.noContent().build();\r\n        }\r\n    }\r\n","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p><code>NativeWebRequest</code> bean should be available since Spring 2.5.2. In my example, I have it required as a constructor argument for my controller. Spring will inject a proxy for it at Controller bean creation. The concrete instance value will be updated for each HTTP request received.</p>\n<pre><code>import org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport javax.annotation.Nonnull;\n\n@RestController\npublic class FooController {\n\n    @Nonnull\n    private final NativeWebRequest nativeWebRequest;\n\n    public FooController(@Nonnull NativeWebRequest nativeWebRequest) {\n        this.nativeWebRequest = nativeWebRequest;\n    }\n\n    @GetMapping(&quot;/foo&quot;)\n    public ResponseEntity&lt;Void&gt; foo() {\n        String headerValue = nativeWebRequest.getHeader(&quot;Host&quot;);\n        System.out.println(&quot;[Request Header] Host: &quot; + headerValue);\n\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7454962,"reputation":66,"user_id":5668498,"display_name":"Cristian Chereji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691181886,"creation_date":1691181886,"answer_id":76839023,"question_id":69020869,"body_markdown":"None of other methods using the NativeWebRequest worked for me, as it was always null or when I tried to get it as constructor parameter I got the following error at compile time:\r\n\r\n    Consider defining a bean of type &#39;org.springframework.web.context.request.NativeWebRequest&#39; in your configuration.\r\n\r\nThe following worked for me. In order to access header parameters I defined them in the API yaml, like\r\n\r\n      post:  \r\n        parameters:\r\n        - in: header\r\n          name: Authorization\r\n          schema:\r\n            type: string\r\n          description: Authorization token\r\n\r\nThis way, the generated API interface which you have to overwrite will provide you the value of your header parameter as method parameter.\r\n\r\n    public ResponseEntity&lt;XyzResponseDTO&gt; optionPost(XyzRequestDTO xyzRequestDTO, String authorization) {\r\n\r\nI lost a few hours on this. Hope it will save your time at least.","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p>None of other methods using the NativeWebRequest worked for me, as it was always null or when I tried to get it as constructor parameter I got the following error at compile time:</p>\n<pre><code>Consider defining a bean of type 'org.springframework.web.context.request.NativeWebRequest' in your configuration.\n</code></pre>\n<p>The following worked for me. In order to access header parameters I defined them in the API yaml, like</p>\n<pre><code>  post:  \n    parameters:\n    - in: header\n      name: Authorization\n      schema:\n        type: string\n      description: Authorization token\n</code></pre>\n<p>This way, the generated API interface which you have to overwrite will provide you the value of your header parameter as method parameter.</p>\n<pre><code>public ResponseEntity&lt;XyzResponseDTO&gt; optionPost(XyzRequestDTO xyzRequestDTO, String authorization) {\n</code></pre>\n<p>I lost a few hours on this. Hope it will save your time at least.</p>\n"}],"owner":{"account_id":1304527,"reputation":808,"user_id":1253759,"display_name":"Mike Welsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2291,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1691181886,"creation_date":1630532610,"question_id":69020869,"body_markdown":"I have a Spring Boot server set up, and it can successfully receive requests. It has been set up using `OpenAPI` to generate the endpoint definitions, which handle the argument conversions.\r\n\r\nNow, my problem is I now want to inspect headers that are not part of the request arguments, but just headers as part of the request.\r\n\r\nIn another Spring Boot application I have set up, I achieved this by adding to the controller\r\n\r\n```\r\n@Autowired\r\nNativeWebRequest request;\r\n```\r\n\r\nWhich allowed access to the incoming request.\r\n\r\nHowever, in my current application, this is always `null` - and I can&#39;t get any of the header data. I suspect I have done something incorrectly in the SpringBoot application setup.\r\n\r\n```\r\n// Athena pulled in KeycloakAutoConfiguration when KeycloakAuthorization was added. However, the class\r\n// is not part of the Athena application - so exclude by name since we cannot reference the class here.\r\n@EnableAutoConfiguration(\r\n        excludeName = { &quot;org.keycloak.adapters.springboot.KeycloakAutoConfiguration&quot;},\r\n        exclude = {\r\n                DataSourceAutoConfiguration.class,\r\n                ErrorMvcAutoConfiguration.class,\r\n                HttpEncodingAutoConfiguration.class,\r\n                PropertyPlaceholderAutoConfiguration.class,\r\n                ThymeleafAutoConfiguration.class,\r\n                WebSocketMessagingAutoConfiguration.class,\r\n                OAuth2ClientAutoConfiguration.class,\r\n})\r\n@SpringBootConfiguration\r\npublic class AthenaApplication extends SpringBootServletInitializer\r\n```","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p>I have a Spring Boot server set up, and it can successfully receive requests. It has been set up using <code>OpenAPI</code> to generate the endpoint definitions, which handle the argument conversions.</p>\n<p>Now, my problem is I now want to inspect headers that are not part of the request arguments, but just headers as part of the request.</p>\n<p>In another Spring Boot application I have set up, I achieved this by adding to the controller</p>\n<pre><code>@Autowired\nNativeWebRequest request;\n</code></pre>\n<p>Which allowed access to the incoming request.</p>\n<p>However, in my current application, this is always <code>null</code> - and I can't get any of the header data. I suspect I have done something incorrectly in the SpringBoot application setup.</p>\n<pre><code>// Athena pulled in KeycloakAutoConfiguration when KeycloakAuthorization was added. However, the class\n// is not part of the Athena application - so exclude by name since we cannot reference the class here.\n@EnableAutoConfiguration(\n        excludeName = { &quot;org.keycloak.adapters.springboot.KeycloakAutoConfiguration&quot;},\n        exclude = {\n                DataSourceAutoConfiguration.class,\n                ErrorMvcAutoConfiguration.class,\n                HttpEncodingAutoConfiguration.class,\n                PropertyPlaceholderAutoConfiguration.class,\n                ThymeleafAutoConfiguration.class,\n                WebSocketMessagingAutoConfiguration.class,\n                OAuth2ClientAutoConfiguration.class,\n})\n@SpringBootConfiguration\npublic class AthenaApplication extends SpringBootServletInitializer\n</code></pre>\n"},{"tags":["java","android","android-studio","location","deprecated"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1691179653,"post_id":76838267,"comment_id":135462294,"body_markdown":"Check here: https://stackoverflow.com/questions/74367916/how-can-i-create-location-request-in-android-locationrequest-create-is-depr for replacement to `LocationRequest.create` using `LocationRequest.Builder`.","body":"Check here: <a href=\"https://stackoverflow.com/questions/74367916/how-can-i-create-location-request-in-android-locationrequest-create-is-depr\" title=\"how can i create location request in android locationrequest create is depr\">stackoverflow.com/questions/74367916/&hellip;</a> for replacement to <code>LocationRequest.create</code> using <code>LocationRequest.Builder</code>."},{"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"score":0,"creation_date":1691180191,"post_id":76838267,"comment_id":135462365,"body_markdown":"Hello, I tried it now but PRIORITY_HIGH_ACCURACY and setFastestInterval are still deprecated, it is telling me to use  LocationRequest.Builder.setMinUpdateIntervalMillis(long) for setFastestInterval but cant figure out how to implement this code, Thankyou for your answer","body":"Hello, I tried it now but PRIORITY_HIGH_ACCURACY and setFastestInterval are still deprecated, it is telling me to use  LocationRequest.Builder.setMinUpdateIntervalMillis(long) for setFastestInterval but cant figure out how to implement this code, Thankyou for your answer"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1691180764,"post_id":76838267,"comment_id":135462445,"body_markdown":"To set priority use builder&#39;s `setQuality(LocationRequest.QUALITY_HIGH_ACCURACY)`.  also builder&#39;s `setMinUpdateIntervalMillis(5000)` since your code was requesting 5000 millis originally.","body":"To set priority use builder&#39;s <code>setQuality(LocationRequest.QUALITY_HIGH_ACCURACY)</code>.  also builder&#39;s <code>setMinUpdateIntervalMillis(5000)</code> since your code was requesting 5000 millis originally."},{"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"score":0,"creation_date":1691181273,"post_id":76838267,"comment_id":135462512,"body_markdown":"Thankyou!! I change the codes with \n locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\n                .setWaitForAccurateLocation(false)\n                .setMinUpdateIntervalMillis(2000)\n                .setMaxUpdateDelayMillis(100)\n                .build();","body":"Thankyou!! I change the codes with   locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)                 .setWaitForAccurateLocation(false)                 .setMinUpdateIntervalMillis(2000)                 .setMaxUpdateDelayMillis(100)                 .build();"}],"answers":[{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1691191344,"post_id":76838994,"comment_id":135463645,"body_markdown":"@WOWOW self answers can only be accepted after two days waiting time.","body":"@WOWOW self answers can only be accepted after two days waiting time."}],"tags":[],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691181526,"creation_date":1691181526,"answer_id":76838994,"question_id":76838267,"body_markdown":"The codes that I replace it with is\r\n\r\n\r\n```\r\n  locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\r\n                .setWaitForAccurateLocation(false)\r\n                .setMinUpdateIntervalMillis(2000)\r\n                .setMaxUpdateDelayMillis(100)\r\n                .build();\r\n\r\n```\r\n\r\nThe old deprecated code is\r\n```\r\n\r\nlocationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(5000); \r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What should I replace with my deprecated code?","body":"<p>The codes that I replace it with is</p>\n<pre><code>  locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\n                .setWaitForAccurateLocation(false)\n                .setMinUpdateIntervalMillis(2000)\n                .setMaxUpdateDelayMillis(100)\n                .build();\n\n</code></pre>\n<p>The old deprecated code is</p>\n<pre><code>\nlocationRequest = LocationRequest.create();\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setInterval(5000); \n\n</code></pre>\n"}],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76838994,"answer_count":1,"score":1,"last_activity_date":1691181526,"creation_date":1691172458,"question_id":76838267,"body_markdown":"\r\nI have a code to get the current location of the user but some parts of the code says that it is deprecated\r\n\r\nI tried copying other latest code but I also encountered some problems: https://stackoverflow.com/questions/76836062/google-maps-does-not-get-the-user-location-if-the-user-does-not-have-a-recent-lo\r\n\r\nThen I tried reverting back to my old code though it is still working but I am quite worried that it may stop working at some point. Is there any code that I can replace with the deprecated code or latest codes that have the same function. I would greatly appreciate any insights or suggestions you might have. Thank you in advance for your help! \r\n\r\n\r\n\r\n\r\n\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private FusedLocationProviderClient fusedLocationClient;\r\n    private LocationRequest locationRequest;\r\n    private LocationCallback locationCallback;\r\n    private SupportMapFragment mapFragment;\r\n    private View locationButton;\r\n    private LatLng currentLocation;\r\n    private Marker currentLocationMarker;\r\n    private Handler handler;\r\n    private LinearLayout sidebarLayout;\r\n    private ImageView hamburgerButton;\r\n    private Button logoutButton;\r\n\r\n    private boolean isSidebarVisible = false;\r\n\r\n    private final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\r\n    private final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\r\n    private final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\r\n\r\n    private Marker markerMarisolTerm;\r\n    private Marker markerVillaTerminal;\r\n    private Marker markerCheckpointTerminal;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        // Get references to the sidebar layout and buttons\r\n        sidebarLayout = findViewById(R.id.sidebarLayout);\r\n        hamburgerButton = findViewById(R.id.hamburger_button);\r\n        logoutButton = findViewById(R.id.sidebar_logout_button);\r\n\r\n        // Set a click listener for the hamburger button\r\n        hamburgerButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                toggleSidebar();\r\n            }\r\n        });\r\n\r\n        // Set a click listener for the logout button in the sidebar\r\n        logoutButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Call the signOut method to sign out the user\r\n                signOut();\r\n            }\r\n        });\r\n\r\n        // Initialize the FusedLocationProviderClient\r\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n       ** // Create the location request, DEPRACTED CODES\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(5000); // Update interval in milliseconds (adjust as needed)**\r\n\r\n        // Create the location callback\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                if (locationResult == null) {\r\n                    return;\r\n                }\r\n                for (Location location : locationResult.getLocations()) {\r\n                    updateLocationOnMap(location);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        startLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        stopLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);\r\n\r\n        // Enable the My Location button\r\n        mMap.getUiSettings().setMyLocationButtonEnabled(false);\r\n        mMap.setMyLocationEnabled(true);\r\n        mMap.setOnMyLocationButtonClickListener(new GoogleMap.OnMyLocationButtonClickListener() {\r\n            @Override\r\n            public boolean onMyLocationButtonClick() {\r\n                // Move the camera to the current location\r\n                if (currentLocation != null) {\r\n                    mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n\r\n        // Start location updates\r\n        startLocationUpdates();\r\n\r\n        // Add some markers to the map, and add a data object to each marker.\r\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\r\n                .position(MarisolTerminal)\r\n                .title(&quot;Marisol Terminal&quot;));\r\n        markerMarisolTerm.setTag(0);\r\n\r\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(VillaTerminal)\r\n                .title(&quot;Villa Terminal&quot;));\r\n        markerVillaTerminal.setTag(0);\r\n\r\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(CheckpointTerminal)\r\n                .title(&quot;Checkpoint Terminal&quot;));\r\n        markerCheckpointTerminal.setTag(0);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void startLocationUpdates() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // Request location permissions if not granted\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                    100);\r\n            return;\r\n        }\r\n        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, null);\r\n    }\r\n\r\n    private void stopLocationUpdates() {\r\n        fusedLocationClient.removeLocationUpdates(locationCallback);\r\n    }\r\n\r\n    private void updateLocationOnMap(Location location) {\r\n        currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\r\n\r\n        if (currentLocationMarker == null) {\r\n            currentLocationMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;You are here&quot;));\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\r\n        } else {\r\n            currentLocationMarker.setPosition(currentLocation);\r\n        }\r\n    }\r\n`","title":"What should I replace with my deprecated code?","body":"<p>I have a code to get the current location of the user but some parts of the code says that it is deprecated</p>\n<p>I tried copying other latest code but I also encountered some problems: <a href=\"https://stackoverflow.com/questions/76836062/google-maps-does-not-get-the-user-location-if-the-user-does-not-have-a-recent-lo\">Google maps does not get the user location if the user does not have a recent location</a></p>\n<p>Then I tried reverting back to my old code though it is still working but I am quite worried that it may stop working at some point. Is there any code that I can replace with the deprecated code or latest codes that have the same function. I would greatly appreciate any insights or suggestions you might have. Thank you in advance for your help!</p>\n<p>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback {</p>\n<pre><code>private GoogleMap mMap;\nprivate FusedLocationProviderClient fusedLocationClient;\nprivate LocationRequest locationRequest;\nprivate LocationCallback locationCallback;\nprivate SupportMapFragment mapFragment;\nprivate View locationButton;\nprivate LatLng currentLocation;\nprivate Marker currentLocationMarker;\nprivate Handler handler;\nprivate LinearLayout sidebarLayout;\nprivate ImageView hamburgerButton;\nprivate Button logoutButton;\n\nprivate boolean isSidebarVisible = false;\n\nprivate final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\nprivate final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\nprivate final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\n\nprivate Marker markerMarisolTerm;\nprivate Marker markerVillaTerminal;\nprivate Marker markerCheckpointTerminal;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_map);\n\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n    mapFragment.getMapAsync(this);\n\n    // Get references to the sidebar layout and buttons\n    sidebarLayout = findViewById(R.id.sidebarLayout);\n    hamburgerButton = findViewById(R.id.hamburger_button);\n    logoutButton = findViewById(R.id.sidebar_logout_button);\n\n    // Set a click listener for the hamburger button\n    hamburgerButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            toggleSidebar();\n        }\n    });\n\n    // Set a click listener for the logout button in the sidebar\n    logoutButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // Call the signOut method to sign out the user\n            signOut();\n        }\n    });\n\n    // Initialize the FusedLocationProviderClient\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n   ** // Create the location request, DEPRACTED CODES\n    locationRequest = LocationRequest.create();\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    locationRequest.setInterval(5000); // Update interval in milliseconds (adjust as needed)**\n\n    // Create the location callback\n    locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            if (locationResult == null) {\n                return;\n            }\n            for (Location location : locationResult.getLocations()) {\n                updateLocationOnMap(location);\n            }\n        }\n    };\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    startLocationUpdates();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    stopLocationUpdates();\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    mMap.getUiSettings().setZoomControlsEnabled(true);\n\n    // Enable the My Location button\n    mMap.getUiSettings().setMyLocationButtonEnabled(false);\n    mMap.setMyLocationEnabled(true);\n    mMap.setOnMyLocationButtonClickListener(new GoogleMap.OnMyLocationButtonClickListener() {\n        @Override\n        public boolean onMyLocationButtonClick() {\n            // Move the camera to the current location\n            if (currentLocation != null) {\n                mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\n            }\n            return true;\n        }\n    });\n\n    // Start location updates\n    startLocationUpdates();\n\n    // Add some markers to the map, and add a data object to each marker.\n    markerMarisolTerm = mMap.addMarker(new MarkerOptions()\n            .position(MarisolTerminal)\n            .title(&quot;Marisol Terminal&quot;));\n    markerMarisolTerm.setTag(0);\n\n    markerVillaTerminal = mMap.addMarker(new MarkerOptions()\n            .position(VillaTerminal)\n            .title(&quot;Villa Terminal&quot;));\n    markerVillaTerminal.setTag(0);\n\n    markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\n            .position(CheckpointTerminal)\n            .title(&quot;Checkpoint Terminal&quot;));\n    markerCheckpointTerminal.setTag(0);\n\n\n\n\n}\n\nprivate void startLocationUpdates() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // Request location permissions if not granted\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION},\n                100);\n        return;\n    }\n    fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, null);\n}\n\nprivate void stopLocationUpdates() {\n    fusedLocationClient.removeLocationUpdates(locationCallback);\n}\n\nprivate void updateLocationOnMap(Location location) {\n    currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\n\n    if (currentLocationMarker == null) {\n        currentLocationMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;You are here&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\n    } else {\n        currentLocationMarker.setPosition(currentLocation);\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1499415715,"post_id":44965791,"comment_id":76906677,"body_markdown":"Do you have a good reason not to be using try-with-resources?","body":"Do you have a good reason not to be using try-with-resources?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1499415833,"post_id":44965791,"comment_id":76906760,"body_markdown":"The criterion used is whether the reference type implements the (Auto)Closeable interface: you either have to explicitly `close()` it, or use try-with-resources.","body":"The criterion used is whether the reference type implements the (Auto)Closeable interface: you either have to explicitly <code>close()</code> it, or use try-with-resources."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1499416393,"post_id":44965791,"comment_id":76907145,"body_markdown":"If you care to spellcheck your question, there&#39;s a much higher chance that you&#39;ll be taken more seriously.","body":"If you care to spellcheck your question, there&#39;s a much higher chance that you&#39;ll be taken more seriously."}],"answers":[{"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1499687696,"post_id":44966592,"comment_id":76996110,"body_markdown":"for sake of history please accept the answer if it is correct.","body":"for sake of history please accept the answer if it is correct."},{"owner":{"account_id":3502917,"reputation":174,"user_id":2929220,"accept_rate":50,"display_name":"a.chugunov"},"score":0,"creation_date":1509647062,"post_id":44966592,"comment_id":81113595,"body_markdown":"Hello @benzonico, could you show jira ticket or something else for tracking this activity, please?","body":"Hello @benzonico, could you show jira ticket or something else for tracking this activity, please?"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1599706953,"post_id":44966592,"comment_id":112858325,"body_markdown":"The impact of a false negative will be too high comparing to a false positive that dev can simply override.","body":"The impact of a false negative will be too high comparing to a false positive that dev can simply override."}],"tags":[],"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1499417685,"creation_date":1499417685,"answer_id":44966592,"question_id":44965791,"body_markdown":"Correct assumption from your question : At the moment SonarJava  (4.11 just released) does not do cross file analysis and have no clue about what&#39;s going on in your `closeConnection` method. \r\n\r\nHowever, the rule about unclosed resource has a simple heuristic to avoid false positives to consider resources closed if they are passed to a method named `close`.\r\n\r\nSonarJava is on its way to be able to read your jar file and understand the resource is closed there but that is a complicated feature and we hope to deliver it in the near future. ","title":"How does the rule &quot;Resources should be closed&quot; check that a connection is closed?","body":"<p>Correct assumption from your question : At the moment SonarJava  (4.11 just released) does not do cross file analysis and have no clue about what's going on in your <code>closeConnection</code> method. </p>\n\n<p>However, the rule about unclosed resource has a simple heuristic to avoid false positives to consider resources closed if they are passed to a method named <code>close</code>.</p>\n\n<p>SonarJava is on its way to be able to read your jar file and understand the resource is closed there but that is a complicated feature and we hope to deliver it in the near future. </p>\n"}],"owner":{"account_id":2889773,"reputation":221,"user_id":2478830,"accept_rate":20,"display_name":"elamas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44966592,"answer_count":1,"score":2,"last_activity_date":1691181093,"creation_date":1499415178,"question_id":44965791,"body_markdown":"this is a question, not a problem.\r\n\r\nI have a class called DSConnectionUtilExternal with one method to retrieve a database connection and one method to close it. This class is in a jar file.\r\n\r\nIn the other hand I have a project which includes the jar file as a dependency.\r\nIn this project I have this code\r\n\r\n    Connection con = null;\r\n    ResultSet rsGet = null;\r\n    PreparedStatement psGet = null;\r\n    try {\r\n    \tcon = DSConnectionUtilExternal.openConnection();\r\n    \r\n    \tpsGet = con.prepareStatement(&quot;SELECT * FROM TEST&quot;);\r\n    \trsGet = psGet.executeQuery();\r\n    \tint counter = 0;\r\n    \twhile (rsGet.next()) {\r\n    \t\tcounter++;\r\n    \t\tSystem.err.println(counter);\r\n    \t}\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    } finally {\r\n    \ttry {\r\n    \t\tif (rsGet != null) {\r\n    \t\t\trsGet.close();\r\n    \t\t}\r\n    \t} catch (Exception e2) {\r\n    \t\te2.printStackTrace();\r\n    \t}\r\n    \trsGet = null;\r\n    \ttry {\r\n    \t\tif (psGet != null) {\r\n    \t\t\tpsGet.close();\r\n    \t\t}\r\n    \t} catch (Exception e2) {\r\n    \t\te2.printStackTrace();\r\n    \t}\r\n    \tpsGet = null;\r\n    \tDSConnectionUtilExternal.closeConnection(con);\r\n    }\r\n\r\nIf I delete the content of the method closeConnection at the jar file, sonar doesn&#39;t detect that the connection is not closed. I think it&#39;s normal, sonar doesn&#39;t decompile the jar file to access the jar file code.\r\n\r\nSo the question is? What is the criterion used by the &quot;Resources should be closed&quot; rule to determine if the connection is closed in the finally clause?\r\n\r\nThanks","title":"How does the rule &quot;Resources should be closed&quot; check that a connection is closed?","body":"<p>this is a question, not a problem.</p>\n<p>I have a class called DSConnectionUtilExternal with one method to retrieve a database connection and one method to close it. This class is in a jar file.</p>\n<p>In the other hand I have a project which includes the jar file as a dependency.\nIn this project I have this code</p>\n<pre><code>Connection con = null;\nResultSet rsGet = null;\nPreparedStatement psGet = null;\ntry {\n    con = DSConnectionUtilExternal.openConnection();\n\n    psGet = con.prepareStatement(&quot;SELECT * FROM TEST&quot;);\n    rsGet = psGet.executeQuery();\n    int counter = 0;\n    while (rsGet.next()) {\n        counter++;\n        System.err.println(counter);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    try {\n        if (rsGet != null) {\n            rsGet.close();\n        }\n    } catch (Exception e2) {\n        e2.printStackTrace();\n    }\n    rsGet = null;\n    try {\n        if (psGet != null) {\n            psGet.close();\n        }\n    } catch (Exception e2) {\n        e2.printStackTrace();\n    }\n    psGet = null;\n    DSConnectionUtilExternal.closeConnection(con);\n}\n</code></pre>\n<p>If I delete the content of the method closeConnection at the jar file, sonar doesn't detect that the connection is not closed. I think it's normal, sonar doesn't decompile the jar file to access the jar file code.</p>\n<p>So the question is? What is the criterion used by the &quot;Resources should be closed&quot; rule to determine if the connection is closed in the finally clause?</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","fxml","scenebuilder","gluon-mobile"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":3,"creation_date":1691182683,"post_id":76838948,"comment_id":135462714,"body_markdown":"Even if the `NavigationDrawer` is listed as a component you can drag and drop to a container, you are not supposed to do so: the drawer is a control that is displayed in a popup, not in your main container. Just follow the Gluon samples on how to use it, like [this](https://github.com/gluonhq/gluon-samples/blob/master/notes/src/main/java/com/gluonhq/samples/notes/views/NotesPresenter.java#L85).","body":"Even if the <code>NavigationDrawer</code> is listed as a component you can drag and drop to a container, you are not supposed to do so: the drawer is a control that is displayed in a popup, not in your main container. Just follow the Gluon samples on how to use it, like <a href=\"https://github.com/gluonhq/gluon-samples/blob/master/notes/src/main/java/com/gluonhq/samples/notes/views/NotesPresenter.java#L85\" rel=\"nofollow noreferrer\">this</a>."}],"owner":{"account_id":29131860,"reputation":31,"user_id":22316931,"display_name":"mjsick1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691180952,"creation_date":1691180952,"question_id":76838948,"body_markdown":"I&#39;m currently working on a mobile app with gluonFx, and I&#39;m looking to implement a navigation drawer in SceneBuilder. Every time I try, I get the result that is in the screenshot I&#39;ve attached. Any ideas as to why this isn&#39;t working?\r\n\r\nI can give any FXML or code needed, just let me know.[![enter image description here](https://i.stack.imgur.com/ICDwr.png)](https://i.stack.imgur.com/ICDwr.png)","title":"Gluon SceneBuilder NavigationDrawer feature seems to be broken?","body":"<p>I'm currently working on a mobile app with gluonFx, and I'm looking to implement a navigation drawer in SceneBuilder. Every time I try, I get the result that is in the screenshot I've attached. Any ideas as to why this isn't working?</p>\n<p>I can give any FXML or code needed, just let me know.<a href=\"https://i.stack.imgur.com/ICDwr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICDwr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ide","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1253305956,"creation_date":1253305956,"answer_id":1446699,"question_id":1440525,"body_markdown":"Looks like it is not currently possible with a live template.\r\n\r\nFrom the [Jetbrain&#39;s forum][1]:\r\n\r\n    There is no predefined live template function to do this for you automatically.\r\n    You can write a plugin that would provide such a function.\r\n\r\n\r\n  [1]: http://www.jetbrains.net/devnet/thread/283758","title":"Idea Live Template to Log Method Args","body":"<p>Looks like it is not currently possible with a live template.</p>\n\n<p>From the <a href=\"http://www.jetbrains.net/devnet/thread/283758\" rel=\"nofollow noreferrer\">Jetbrain's forum</a>:</p>\n\n<pre><code>There is no predefined live template function to do this for you automatically.\nYou can write a plugin that would provide such a function.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":208408,"reputation":1261,"user_id":458865,"accept_rate":86,"display_name":"BoredAndroidDeveloper"},"score":1,"creation_date":1390256545,"post_id":21168027,"comment_id":32004967,"body_markdown":"It wasn&#39;t clear for me that this worked in java. If you go to [Live Templates] -&gt; [output] -&gt; [soutp] then you will see this script in action and it definitely works. Thanks!","body":"It wasn&#39;t clear for me that this worked in java. If you go to [Live Templates] -&gt; [output] -&gt; [soutp] then you will see this script in action and it definitely works. Thanks!"},{"owner":{"account_id":2596118,"reputation":3424,"user_id":2249774,"accept_rate":83,"display_name":"guy.gc"},"score":0,"creation_date":1467220330,"post_id":21168027,"comment_id":63645726,"body_markdown":"Does this work for javascript as well? Tried with no luck, maybe I missed something","body":"Does this work for javascript as well? Tried with no luck, maybe I missed something"},{"owner":{"account_id":4292834,"reputation":5466,"user_id":3508719,"accept_rate":53,"display_name":"Voy"},"score":0,"creation_date":1481925740,"post_id":21168027,"comment_id":69585821,"body_markdown":"Simple, yet related: to access only first, second, third etc.. parameter of _1, simply use `_1[0]`, `_1[1]`, etc.","body":"Simple, yet related: to access only first, second, third etc.. parameter of _1, simply use <code>_1[0]</code>, <code>_1[1]</code>, etc."},{"owner":{"account_id":3714377,"reputation":221,"user_id":3090942,"display_name":"alfred.schalk"},"score":0,"creation_date":1552035689,"post_id":21168027,"comment_id":96867903,"body_markdown":"Inspired by this answer i created the following live template for parameterized log message which produces LOG.debug(&quot;get - one: {}, two: {}&quot;, one, two): \nLOG.debug($MSG$); with the following script for the variable MSG:\ngroovyScript(&quot;&#39;\\&quot;&#39; + _1 + (!_2.isEmpty() ? &#39; - &#39; : &#39;&#39;) + _2.collect { it + &#39;: {}&#39;}.join(&#39;, &#39;) + &#39;\\&quot;&#39; + (!_2.isEmpty() ? &#39;, &#39; + _2.collect {it}.join(&#39;, &#39;) : &#39;&#39;)&quot;, methodName(), methodParameters())","body":"Inspired by this answer i created the following live template for parameterized log message which produces LOG.debug(&quot;get - one: {}, two: {}&quot;, one, two):  LOG.debug($MSG$); with the following script for the variable MSG: groovyScript(&quot;&#39;\\&quot;&#39; + _1 + (!_2.isEmpty() ? &#39; - &#39; : &#39;&#39;) + _2.collect { it + &#39;: {}&#39;}.join(&#39;, &#39;) + &#39;\\&quot;&#39; + (!_2.isEmpty() ? &#39;, &#39; + _2.collect {it}.join(&#39;, &#39;) : &#39;&#39;)&quot;, methodName(), methodParameters())"}],"tags":[],"owner":{"account_id":3867214,"reputation":176,"user_id":3203470,"display_name":"Rob"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1389892935,"creation_date":1389891431,"answer_id":21168027,"question_id":1440525,"body_markdown":"I&#39;m 4 years late, but the predefined template soutp pretty much does this using a groovyscript variable.  \r\n\r\nHere&#39;s the groovy script that does what you&#39;re looking for\r\n\r\n    groovyScript(&quot;&#39;\\&quot;&#39; + _1.collect { it + &#39; = [\\&quot; + &#39; + it + &#39; + \\&quot;]&#39;}.join(&#39;, &#39;) + &#39;\\&quot;&#39;&quot;, methodParameters())","title":"Idea Live Template to Log Method Args","body":"<p>I'm 4 years late, but the predefined template soutp pretty much does this using a groovyscript variable.  </p>\n\n<p>Here's the groovy script that does what you're looking for</p>\n\n<pre><code>groovyScript(\"'\\\"' + _1.collect { it + ' = [\\\" + ' + it + ' + \\\"]'}.join(', ') + '\\\"'\", methodParameters())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4951732,"reputation":189,"user_id":3985437,"display_name":"eriskooo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655801555,"creation_date":1655801555,"answer_id":72697857,"question_id":1440525,"body_markdown":"this is my groovy script\r\n\r\n    groovyScript(&quot;import com.intellij.psi.*;import com.intellij.psi.util.PsiTreeUtil; def file = PsiDocumentManager.getInstance(_editor.project).getPsiFile(_editor.document); PsiMethod method = PsiTreeUtil.findElementOfClassAtOffset(file, _editor.caretModel.offset, PsiMethod.class, false); PsiParameter[] parameters = method == null ? PsiParameter.EMPTY_ARRAY : method.parameterList.parameters; return parameters.size() == 0 ? &#39;&#39; : &#39;\\&quot;&#39; + method.name + &#39; : &#39; + parameters.collect { def prefix = it.name + &#39; = &#39;; def type = it.type; return type instanceof PsiArrayType ? type.componentType instanceof PsiPrimitiveType ? prefix + &#39;\\&quot; + java.util.Arrays.toString(&#39; + it.name + &#39;)&#39; : prefix + &#39;\\&quot; + java.util.Arrays.deepToString(&#39; + it.name + &#39;)&#39; : prefix + &#39;\\&quot; + &#39; + it.name }.join(&#39; + \\&quot;, &#39;)&quot;, methodParameters())","title":"Idea Live Template to Log Method Args","body":"<p>this is my groovy script</p>\n<pre><code>groovyScript(&quot;import com.intellij.psi.*;import com.intellij.psi.util.PsiTreeUtil; def file = PsiDocumentManager.getInstance(_editor.project).getPsiFile(_editor.document); PsiMethod method = PsiTreeUtil.findElementOfClassAtOffset(file, _editor.caretModel.offset, PsiMethod.class, false); PsiParameter[] parameters = method == null ? PsiParameter.EMPTY_ARRAY : method.parameterList.parameters; return parameters.size() == 0 ? '' : '\\&quot;' + method.name + ' : ' + parameters.collect { def prefix = it.name + ' = '; def type = it.type; return type instanceof PsiArrayType ? type.componentType instanceof PsiPrimitiveType ? prefix + '\\&quot; + java.util.Arrays.toString(' + it.name + ')' : prefix + '\\&quot; + java.util.Arrays.deepToString(' + it.name + ')' : prefix + '\\&quot; + ' + it.name }.join(' + \\&quot;, ')&quot;, methodParameters())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3343133,"reputation":2111,"user_id":2808913,"accept_rate":80,"display_name":"miva2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664802827,"creation_date":1664802827,"answer_id":73936002,"question_id":1440525,"body_markdown":"In Android Studio in Kotlin I use this to log classname, methodname and parameters.  \r\nI use my name as tag to easily filter in logcat. I use these mainly for debugging, I don&#39;t commit these messages with my name.\r\n\r\n`Log.d(&quot;MYNAME&quot;, &quot;$CLASS_NAME$:$METHOD_NAME$: $PARAMETERS$&quot;)`\r\n\r\nAnd then the parameters are defined as follows.\r\n\r\n`CLASS_NAME` : `kotlinClassName()`\r\n\r\n`METHOD_NAME` : `kotlinFunctionName()`\r\n\r\n`PARAMETERS` : `groovyScript(&quot;&#39;&#39; + _1.collect { it + &#39; = $&#39; + it}.join(&#39;, &#39;) &quot;, functionParameters())`\r\n\r\nThis would be the result if used in the main activity\r\n``` kotlin\r\n fun aFunctionWithParameters( first: Int, second: String, third: ArrayList&lt;String&gt;){\r\n        Log.d(&quot;MYNAME&quot;, &quot;MainActivity:aFunctionWithParameters: first = $first, second = $second, third = $third&quot;)\r\n    }\r\n```\r\n\r\nI based my solution on Rob&#39;s answer and edited it to my needs.  ","title":"Idea Live Template to Log Method Args","body":"<p>In Android Studio in Kotlin I use this to log classname, methodname and parameters.<br />\nI use my name as tag to easily filter in logcat. I use these mainly for debugging, I don't commit these messages with my name.</p>\n<p><code>Log.d(&quot;MYNAME&quot;, &quot;$CLASS_NAME$:$METHOD_NAME$: $PARAMETERS$&quot;)</code></p>\n<p>And then the parameters are defined as follows.</p>\n<p><code>CLASS_NAME</code> : <code>kotlinClassName()</code></p>\n<p><code>METHOD_NAME</code> : <code>kotlinFunctionName()</code></p>\n<p><code>PARAMETERS</code> : <code>groovyScript(&quot;'' + _1.collect { it + ' = $' + it}.join(', ') &quot;, functionParameters())</code></p>\n<p>This would be the result if used in the main activity</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> fun aFunctionWithParameters( first: Int, second: String, third: ArrayList&lt;String&gt;){\n        Log.d(&quot;MYNAME&quot;, &quot;MainActivity:aFunctionWithParameters: first = $first, second = $second, third = $third&quot;)\n    }\n</code></pre>\n<p>I based my solution on Rob's answer and edited it to my needs.</p>\n"},{"tags":[],"owner":{"account_id":7328445,"reputation":492,"user_id":5582162,"accept_rate":0,"display_name":"pravingaikwad07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691179921,"creation_date":1691179921,"answer_id":76838880,"question_id":1440525,"body_markdown":"groovyScript(&quot;def params = _3.collect {it + &#39; = \\&quot; + &#39; + it + &#39; + \\&quot;&#39;}.join(&#39;, &#39;); return &#39;\\&quot;&#39; + _1 + &#39; :: &#39; + _2 + &#39;() &gt;&gt;&#39;  + (params.empty  ? &#39;&#39; : &#39;: &#39; + params)  + &#39;\\&quot;&#39;&quot;,  kotlinClassName() ,  kotlinFunctionName(),  functionParameters())\r\n\r\nThis will print:\r\n\r\n    Log.d(TAG, &quot;MyClassName :: myMethodName() &gt;&gt;: param1 = &quot; + param1 + &quot;, parma2 = &quot; + parma2 + &quot;&quot;);\r\n\r\nRefer this image on how to add this : https://i.stack.imgur.com/aHwgl.png","title":"Idea Live Template to Log Method Args","body":"<p>groovyScript(&quot;def params = _3.collect {it + ' = &quot; + ' + it + ' + &quot;'}.join(', '); return '&quot;' + _1 + ' :: ' + _2 + '() &gt;&gt;'  + (params.empty  ? '' : ': ' + params)  + '&quot;'&quot;,  kotlinClassName() ,  kotlinFunctionName(),  functionParameters())</p>\n<p>This will print:</p>\n<pre><code>Log.d(TAG, &quot;MyClassName :: myMethodName() &gt;&gt;: param1 = &quot; + param1 + &quot;, parma2 = &quot; + parma2 + &quot;&quot;);\n</code></pre>\n<p>Refer this image on how to add this : <a href=\"https://i.stack.imgur.com/aHwgl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aHwgl.png</a></p>\n"}],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2951,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":21168027,"answer_count":5,"score":10,"last_activity_date":1691179921,"creation_date":1253211836,"question_id":1440525,"body_markdown":"I would like to be able to create a live template in Jetbrain&#39;s Idea that will log the method&#39;s arguments. Let&#39;s call it &quot;larg&quot;. It would work like:\r\n\r\n    public void get(String one, String two) {\r\n        larg&lt;tab&gt;\r\n\r\nto create\r\n\r\n    public void get(String one, String two) {\r\n        log.info(&quot;get: one = &quot; + one + &quot; two = &quot; + two);\r\n\r\nI&#39;m fine with getting the method name in, but have not figured out how to pull in the method arguments. Any ideas?","title":"Idea Live Template to Log Method Args","body":"<p>I would like to be able to create a live template in Jetbrain's Idea that will log the method's arguments. Let's call it \"larg\". It would work like:</p>\n\n<pre><code>public void get(String one, String two) {\n    larg&lt;tab&gt;\n</code></pre>\n\n<p>to create</p>\n\n<pre><code>public void get(String one, String two) {\n    log.info(\"get: one = \" + one + \" two = \" + two);\n</code></pre>\n\n<p>I'm fine with getting the method name in, but have not figured out how to pull in the method arguments. Any ideas?</p>\n"},{"tags":["java","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4992802,"reputation":11963,"user_id":4014448,"display_name":"Nadir Belhaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691151143,"creation_date":1691151143,"answer_id":76835762,"question_id":76835737,"body_markdown":"    import java.util.Map;\r\n    \r\n    public class JsonConverter {\r\n        public static String mapToJsonString(Map&lt;String, Object&gt; map) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;{&quot;);\r\n    \r\n            for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n                String key = entry.getKey();\r\n                Object value = entry.getValue();\r\n    \r\n                sb.append(&quot;\\&quot;&quot;).append(key).append(&quot;\\&quot;&quot;).append(&quot; : &quot;);\r\n    \r\n                if (value instanceof Map) {\r\n                    // Recursively convert nested Map to JSON\r\n                    sb.append(mapToJsonString((Map&lt;String, Object&gt;) value));\r\n                } else if (value instanceof String) {\r\n                    sb.append(&quot;\\&quot;&quot;).append(value).append(&quot;\\&quot;&quot;);\r\n                } else {\r\n                    sb.append(value);\r\n                }\r\n    \r\n                sb.append(&quot;, &quot;);\r\n            }\r\n    \r\n            // Remove the trailing comma and space\r\n            if (sb.length() &gt; 1) {\r\n                sb.setLength(sb.length() - 2);\r\n            }\r\n    \r\n            sb.append(&quot;}&quot;);\r\n            return sb.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Map&lt;String, Object&gt; m1 = new HashMap&lt;&gt;();\r\n            m1.put(&quot;name&quot;, &quot;mary&quot;);\r\n            m1.put(&quot;email&quot;, &quot;mary@email.com&quot;);\r\n            m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\r\n                put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\r\n                put(&quot;zipCode&quot;, &quot;java 20&quot;);\r\n            }});\r\n    \r\n            String jsonString = mapToJsonString(m1);\r\n            System.out.println(jsonString);\r\n        }\r\n    }","title":"Java return nested hashmap as string formatted as Json using Streams API","body":"<pre><code>import java.util.Map;\n\npublic class JsonConverter {\n    public static String mapToJsonString(Map&lt;String, Object&gt; map) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;{&quot;);\n\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n\n            sb.append(&quot;\\&quot;&quot;).append(key).append(&quot;\\&quot;&quot;).append(&quot; : &quot;);\n\n            if (value instanceof Map) {\n                // Recursively convert nested Map to JSON\n                sb.append(mapToJsonString((Map&lt;String, Object&gt;) value));\n            } else if (value instanceof String) {\n                sb.append(&quot;\\&quot;&quot;).append(value).append(&quot;\\&quot;&quot;);\n            } else {\n                sb.append(value);\n            }\n\n            sb.append(&quot;, &quot;);\n        }\n\n        // Remove the trailing comma and space\n        if (sb.length() &gt; 1) {\n            sb.setLength(sb.length() - 2);\n        }\n\n        sb.append(&quot;}&quot;);\n        return sb.toString();\n    }\n\n    public static void main(String[] args) {\n        Map&lt;String, Object&gt; m1 = new HashMap&lt;&gt;();\n        m1.put(&quot;name&quot;, &quot;mary&quot;);\n        m1.put(&quot;email&quot;, &quot;mary@email.com&quot;);\n        m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\n            put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\n            put(&quot;zipCode&quot;, &quot;java 20&quot;);\n        }});\n\n        String jsonString = mapToJsonString(m1);\n        System.out.println(jsonString);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691178731,"creation_date":1691166551,"answer_id":76837720,"question_id":76835737,"body_markdown":"Here is a slight variation.  I am using a `count` to determine when the for loop is about to finish.\r\n- intialize a `StringBuilder` to hold the result\r\n- then iterate thru the maps entrySet.\r\n - if the value is a map, then append current string with a recursive call to the method.\r\n - otherwise just process both key and value as a pair and continue\r\n- if the loop is on the last entry, then don&#39;t attach a comma.\r\n- near the end, some tidying up must be done to add a comma between all cases where a `&quot;` follows a closing brace &quot;}&quot;\r\n```\r\npublic static String format(Map&lt;String, Object&gt; map) {\r\n    StringBuilder f = new StringBuilder();\r\n    int i = 0;\r\n    int maxIndex = map.entrySet().size()-1;\r\n    for (Entry&lt;String,Object&gt; e : map.entrySet()) {\r\n        boolean last = i == maxIndex;\r\n        if (e.getValue() instanceof Map mp) {\r\n            f.append(&quot;{&quot;)\r\n                    .append(&quot;\\&quot;%s\\&quot;: {&quot;.formatted(e.getKey()) + format(mp));\r\n        } else {\r\n            f.append(&quot;\\&quot;%s\\&quot; : \\&quot;%s\\&quot;%s&quot;.formatted(e.getKey(),\r\n                    e.getValue(), last ? &quot;&quot; : &quot;, &quot;));\r\n        }\r\n        i++;\r\n    }\r\n    return f.append(&quot;} &quot;).toString().replace(&quot;} \\&quot;&quot;, &quot;}, \\&quot;&quot;);\r\n}\r\n```\r\nWith the current map structure, returns the following result.\r\n```\r\n{&quot;address&quot;: {&quot;zipCode&quot; : &quot;java 20&quot;, &quot;firstLine&quot; : &quot;101 Oracle&quot;}, &quot;name&quot; : &quot;mary&quot;, &quot;email&quot; : &quot;mary@email.com&quot;} \r\n","title":"Java return nested hashmap as string formatted as Json using Streams API","body":"<p>Here is a slight variation.  I am using a <code>count</code> to determine when the for loop is about to finish.</p>\n<ul>\n<li>intialize a <code>StringBuilder</code> to hold the result</li>\n<li>then iterate thru the maps entrySet.</li>\n<li>if the value is a map, then append current string with a recursive call to the method.</li>\n<li>otherwise just process both key and value as a pair and continue</li>\n<li>if the loop is on the last entry, then don't attach a comma.</li>\n<li>near the end, some tidying up must be done to add a comma between all cases where a <code>&quot;</code> follows a closing brace &quot;}&quot;</li>\n</ul>\n<pre><code>public static String format(Map&lt;String, Object&gt; map) {\n    StringBuilder f = new StringBuilder();\n    int i = 0;\n    int maxIndex = map.entrySet().size()-1;\n    for (Entry&lt;String,Object&gt; e : map.entrySet()) {\n        boolean last = i == maxIndex;\n        if (e.getValue() instanceof Map mp) {\n            f.append(&quot;{&quot;)\n                    .append(&quot;\\&quot;%s\\&quot;: {&quot;.formatted(e.getKey()) + format(mp));\n        } else {\n            f.append(&quot;\\&quot;%s\\&quot; : \\&quot;%s\\&quot;%s&quot;.formatted(e.getKey(),\n                    e.getValue(), last ? &quot;&quot; : &quot;, &quot;));\n        }\n        i++;\n    }\n    return f.append(&quot;} &quot;).toString().replace(&quot;} \\&quot;&quot;, &quot;}, \\&quot;&quot;);\n}\n</code></pre>\n<p>With the current map structure, returns the following result.</p>\n<pre><code>{&quot;address&quot;: {&quot;zipCode&quot; : &quot;java 20&quot;, &quot;firstLine&quot; : &quot;101 Oracle&quot;}, &quot;name&quot; : &quot;mary&quot;, &quot;email&quot; : &quot;mary@email.com&quot;} \n</code></pre>\n"}],"owner":{"account_id":13081377,"reputation":281,"user_id":9451827,"display_name":"thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76835762,"answer_count":2,"score":1,"last_activity_date":1691178731,"creation_date":1691150901,"question_id":76835737,"body_markdown":"I have a nested HashMap declared as `Map&lt;String, Object&gt;`.\r\n\r\n```\r\nMap&lt;String,Object&gt; m1 = new HashMap&lt;&gt;();\r\n        m1.put(&quot;name&quot;,&quot;mary&quot;);\r\n        m1.put(&quot;email&quot;,&quot;mary@email.com&quot;);\r\n        m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\r\n            put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\r\n            put(&quot;zipCode&quot;, &quot;java 20&quot;);\r\n        }});\r\n```\r\n\r\nI want to return this as a `String` in the following way without the help of an external library:\r\n```\r\n{\r\naddress : {\r\nzipCode : Java 20,\r\nfirstLine : 101 Oracle\r\n},\r\nname : mary,\r\nemail : mary@mail.com\r\n}\r\n```\r\n\r\nI cannot format the nested map in the way I want. So far I have this:\r\n\r\n```\r\nString s = m1.entrySet().stream()\r\n                        .map(e -&gt; e.getKey() + &quot; : &quot; + e.getValue())\r\n                        .collect(Collectors.joining(&quot;, &quot; + &quot;\\n&quot;, &quot;{&quot; + &quot;\\n&quot;, &quot;\\n&quot; + &quot;}&quot;));\r\nSystem.out.println(s);\r\n```\r\n\r\nWhich gives me:\r\n```\r\n{\r\naddress : {zipCode=java 20, firstLine=101 Oracle}, \r\nname : mary, \r\nemail : mary@email.com\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java return nested hashmap as string formatted as Json using Streams API","body":"<p>I have a nested HashMap declared as <code>Map&lt;String, Object&gt;</code>.</p>\n<pre><code>Map&lt;String,Object&gt; m1 = new HashMap&lt;&gt;();\n        m1.put(&quot;name&quot;,&quot;mary&quot;);\n        m1.put(&quot;email&quot;,&quot;mary@email.com&quot;);\n        m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\n            put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\n            put(&quot;zipCode&quot;, &quot;java 20&quot;);\n        }});\n</code></pre>\n<p>I want to return this as a <code>String</code> in the following way without the help of an external library:</p>\n<pre><code>{\naddress : {\nzipCode : Java 20,\nfirstLine : 101 Oracle\n},\nname : mary,\nemail : mary@mail.com\n}\n</code></pre>\n<p>I cannot format the nested map in the way I want. So far I have this:</p>\n<pre><code>String s = m1.entrySet().stream()\n                        .map(e -&gt; e.getKey() + &quot; : &quot; + e.getValue())\n                        .collect(Collectors.joining(&quot;, &quot; + &quot;\\n&quot;, &quot;{&quot; + &quot;\\n&quot;, &quot;\\n&quot; + &quot;}&quot;));\nSystem.out.println(s);\n</code></pre>\n<p>Which gives me:</p>\n<pre><code>{\naddress : {zipCode=java 20, firstLine=101 Oracle}, \nname : mary, \nemail : mary@email.com\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","ant","war"],"comments":[{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":1,"creation_date":1376615037,"post_id":18264056,"comment_id":26787235,"body_markdown":"Eclipse generates a ant build file for you automatically. Did you try using it? Its usually a good stable starting point which you can start modifying. Right click your project --&gt; export --&gt; type Ant --&gt; export. This will work even better if you already have tomcat or other server already setup in eclipse and eclipse is able to deploy it there.","body":"Eclipse generates a ant build file for you automatically. Did you try using it? Its usually a good stable starting point which you can start modifying. Right click your project --&gt; export --&gt; type Ant --&gt; export. This will work even better if you already have tomcat or other server already setup in eclipse and eclipse is able to deploy it there."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376616105,"post_id":18264056,"comment_id":26787469,"body_markdown":"@Shaunak Thank you.  I tried your method and posted the results in an edit to my original posting above.  Are you using a plugin?  I am using eclipse Juno release 1.  Right clicking the project folder and choosing export gives a war option, but not an ant option.  I chose the war option and got the results reported in my edit.  Any other suggestions?","body":"@Shaunak Thank you.  I tried your method and posted the results in an edit to my original posting above.  Are you using a plugin?  I am using eclipse Juno release 1.  Right clicking the project folder and choosing export gives a war option, but not an ant option.  I chose the war option and got the results reported in my edit.  Any other suggestions?"},{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":0,"creation_date":1376616319,"post_id":18264056,"comment_id":26787517,"body_markdown":"yes i use juno. when you select export, in the text input type ant and press enter. It should give you Ant option. Let me know if it doesn&#39;t then we can debug it further","body":"yes i use juno. when you select export, in the text input type ant and press enter. It should give you Ant option. Let me know if it doesn&#39;t then we can debug it further"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376617088,"post_id":18264056,"comment_id":26787696,"body_markdown":"@Shaunak Thanks.  I found the ant option, and it enables eclipse to create a 200+ line ant build file.  But when I run the ant file, I cannot find the resulting war file.  Typing myapp.war into the windows start menu produces no results.  Any suggestions?","body":"@Shaunak Thanks.  I found the ant option, and it enables eclipse to create a 200+ line ant build file.  But when I run the ant file, I cannot find the resulting war file.  Typing myapp.war into the windows start menu produces no results.  Any suggestions?"},{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":0,"creation_date":1376617522,"post_id":18264056,"comment_id":26787808,"body_markdown":"I think by default it puts the war file into your web server. you will have to check the path of where your server is configured in eclipse.","body":"I think by default it puts the war file into your web server. you will have to check the path of where your server is configured in eclipse."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376617873,"post_id":18264056,"comment_id":26787897,"body_markdown":"@Shaunak Thanks.  I looked in the tomcat7/webapps folder, and cannot find myapp.war . Any suggestions of where else to look?","body":"@Shaunak Thanks.  I looked in the tomcat7/webapps folder, and cannot find myapp.war . Any suggestions of where else to look?"},{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":0,"creation_date":1376618562,"post_id":18264056,"comment_id":26788043,"body_markdown":"nope sorry, unless I can look at the war file eclipse generated. I would suggest take bits and pieces from it that you need, specific targets, and use them in your original ant file.","body":"nope sorry, unless I can look at the war file eclipse generated. I would suggest take bits and pieces from it that you need, specific targets, and use them in your original ant file."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376620956,"post_id":18264056,"comment_id":26788528,"body_markdown":"@Shaunak I just posted the ant build file that eclipse created as an edit to my original posting above.  Can you tell from it where the war file is located?  And what the name of the war file is?","body":"@Shaunak I just posted the ant build file that eclipse created as an edit to my original posting above.  Can you tell from it where the war file is located?  And what the name of the war file is?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1691178046,"post_id":18264056,"comment_id":135462039,"body_markdown":"I&#39;ve tidied this post up, but with no answers, and all the images broken, I wonder if this ought to be put on hold for now. (This common issue is why posts should only use the Stack Overflow CDN).","body":"I&#39;ve tidied this post up, but with no answers, and all the images broken, I wonder if this ought to be put on hold for now. (This common issue is why posts should only use the Stack Overflow CDN)."}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691177981,"creation_date":1376613267,"question_id":18264056,"body_markdown":"I am writing an Ant buildfile to create my first war file using Eclipse and Tomcat 7 server.  This is my first time creating a war file.  I have gotten the build file to create a war file, but when I unzip the war file, I find that it does not contain everything that it needs to contain.\r\n\r\nAs a result, when I try to deploy the application to tomcat in the form of the war file, the web container cannot find any of the servlets in the application.  I am posting my inputs, outputs, and code below.  How can I fix the code below so that the outputs in the war file match the inputs from Eclipse?\r\n\r\nHere is the structure of the Eclipse project:  \r\n\r\n&lt;img src=&quot;https://s21.postimg.org/3zo1j1x3b/myappwar2.gif&quot;&gt;  \r\n\r\nHere are the contents of the unzipped war file:\r\n\r\n&lt;img src=&quot;https://s9.postimg.org/3p59yztfz/war_contents.gif&quot;&gt;   \r\n\r\nAnd here is the code for the Ant buildfile:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n  \r\n    &lt;project basedir=&quot;C:\\mypath\\workspace\\myapp&quot; name=&quot;myapp&quot; default=&quot;default&quot;&gt;\r\n        &lt;target name=&quot;default&quot; depends=&quot;setup,compile,buildwar,deploy&quot;&gt;&lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;setup&quot;&gt;\r\n            &lt;mkdir dir=&quot;dist&quot; /&gt;\r\n            &lt;echo&gt;Copying web into dist&lt;/echo&gt;\r\n            &lt;copydir dest=&quot;dist/web&quot; src=&quot;web&quot; /&gt;\r\n            &lt;copydir dest=&quot;dist/web/WEB-INF/lib&quot; src=&quot;${basedir}/web/WEB-INF/lib&quot; /&gt;\r\n        &lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;compile&quot;&gt;\r\n            &lt;delete dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\r\n            &lt;mkdir dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\r\n            &lt;javac destdir=&quot;${dist.dir}/web/WEB-INF/classes&quot; srcdir=&quot;src&quot;&gt;\r\n                &lt;classpath&gt;\r\n                    &lt;fileset dir=&quot;${basedir}/web/WEB-INF/lib&quot;&gt;\r\n                        &lt;include name=&quot;*&quot; /&gt;\r\n                    &lt;/fileset&gt;\r\n                &lt;/classpath&gt;\r\n            &lt;/javac&gt;\r\n            &lt;copy todir=&quot;${dist.dir}/web/WEB-INF/classes&quot;&gt;\r\n                &lt;fileset dir=&quot;src&quot;&gt;\r\n                    &lt;include name=&quot;**/*.properties&quot; /&gt;\r\n                    &lt;include name=&quot;**/*.xml&quot; /&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/copy&gt;\r\n        &lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;buildwar&quot;&gt;\r\n            &lt;war basedir=&quot;${basedir}/dist/web&quot; destfile=&quot;myapp.war&quot;\r\n                 webxml=&quot;${basedir}/dist/web/WEB-INF/web.xml&quot;&gt;\r\n                &lt;exclude name=&quot;WEB-INF/**&quot; /&gt;\r\n                &lt;webinf dir=&quot;${basedir}/dist/web/WEB-INF/&quot;&gt;\r\n                    &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n                &lt;/webinf&gt;\r\n            &lt;/war&gt;\r\n        &lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;deploy&quot;&gt;\r\n            &lt;copy file=&quot;myapp.war&quot; todir=&quot;${tomcat.deploydir}&quot; /&gt;\r\n        &lt;/target&gt;\r\n    \r\n    &lt;/project&gt;  \r\n  \r\nPlease note that running this script creates three copies of the war file. I only want one copy.\r\n\r\nEdit\r\n---\r\n  \r\nI tried Shaunak&#39;s suggestion, and am getting the following output now when I unzip the war file:  \r\n\r\n&lt;img src=&quot;https://s23.postimg.org/rsqzk9r3f/war_conts2.gif&quot;&gt;  \r\n\r\nDeploying the resulting war to Tomcat still produces 404 errors because the web container cannot find the servlets.  I cannot seem to find web.xml or myapp.xml in the output, and none of the jar file dependencies seem to be present in the war file either, but the good news is that the package folders seem to contain both Java files and class files.  \r\n\r\nSecond edit\r\n---\r\n  \r\nHere is the Ant build file that Eclipse generated.  Where is the .war file that is supposed to be created when the following build file is run? And what is the name of the war file?  \r\n  \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!-- WARNING: Eclipse auto-generated file.\r\n              Any modifications will be overwritten.\r\n              To include a user specific buildfile here, simply create one in the same\r\n              directory with the processing instruction &lt;?eclipse.ant.import?&gt;\r\n              as the first entry and export the buildfile again. --&gt;&lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;myapp&quot;&gt;\r\n        &lt;property environment=&quot;env&quot;/&gt;\r\n        &lt;property name=&quot;ECLIPSE_HOME&quot; value=&quot;../../../../java/eclipse&quot;/&gt;\r\n        &lt;property name=&quot;debuglevel&quot; value=&quot;source,lines,vars&quot;/&gt;\r\n        &lt;property name=&quot;target&quot; value=&quot;1.7&quot;/&gt;\r\n        &lt;property name=&quot;source&quot; value=&quot;1.7&quot;/&gt;\r\n        &lt;path id=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\r\n        &lt;path id=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\r\n        &lt;path id=&quot;myapp.classpath&quot;&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/classes&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/ant.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/jaxen.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/xalan.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/xerces.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-api-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-tests.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/jstl-1.2.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-api-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-tests.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/servlet-api.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/jsp-api.jar&quot;/&gt;\r\n            &lt;path refid=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\r\n            &lt;path refid=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\r\n        &lt;/path&gt;\r\n        &lt;target name=&quot;init&quot;&gt;\r\n            &lt;mkdir dir=&quot;web/WEB-INF/classes&quot;/&gt;\r\n            &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;web/WEB-INF/classes&quot;&gt;\r\n                &lt;fileset dir=&quot;src&quot;&gt;\r\n                    &lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/copy&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;clean&quot;&gt;\r\n            &lt;delete dir=&quot;web/WEB-INF/classes&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target depends=&quot;clean&quot; name=&quot;cleanall&quot;/&gt;\r\n        &lt;target depends=&quot;build-subprojects,build-project&quot; name=&quot;build&quot;/&gt;\r\n        &lt;target name=&quot;build-subprojects&quot;/&gt;\r\n        &lt;target depends=&quot;init&quot; name=&quot;build-project&quot;&gt;\r\n            &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;\r\n            &lt;javac debug=&quot;true&quot; debuglevel=&quot;${debuglevel}&quot; destdir=&quot;web/WEB-INF/classes&quot; includeantruntime=&quot;false&quot; source=&quot;${source}&quot; target=&quot;${target}&quot;&gt;\r\n                &lt;src path=&quot;src&quot;/&gt;\r\n                &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\r\n            &lt;/javac&gt;\r\n        &lt;/target&gt;\r\n        &lt;target description=&quot;Build all projects which reference this project. Useful to propagate changes.&quot; name=&quot;build-refprojects&quot;/&gt;\r\n        &lt;target description=&quot;copy Eclipse compiler jars to ant lib directory&quot; name=&quot;init-eclipse-compiler&quot;&gt;\r\n            &lt;copy todir=&quot;${ant.library.dir}&quot;&gt;\r\n                &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\r\n            &lt;/copy&gt;\r\n            &lt;unzip dest=&quot;${ant.library.dir}&quot;&gt;\r\n                &lt;patternset includes=&quot;jdtCompilerAdapter.jar&quot;/&gt;\r\n                &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\r\n            &lt;/unzip&gt;\r\n        &lt;/target&gt;\r\n        &lt;target description=&quot;compile project with Eclipse compiler&quot; name=&quot;build-eclipse-compiler&quot;&gt;\r\n            &lt;property name=&quot;build.compiler&quot; value=&quot;org.eclipse.jdt.core.JDTCompilerAdapter&quot;/&gt;\r\n            &lt;antcall target=&quot;build&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;GetBI&quot;&gt;\r\n            &lt;java classname=&quot;myapp.plotters.GetBI&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\r\n                &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\r\n            &lt;/java&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;GetPlotGIF (2)&quot;&gt;\r\n            &lt;java classname=&quot;myapp.plotters.GetPlotGIF&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\r\n                &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\r\n            &lt;/java&gt;\r\n        &lt;/target&gt;\r\n    &lt;/project&gt;  \r\n","title":"Trouble creating war file with Ant using Eclipse and Tomcat 7 server","body":"<p>I am writing an Ant buildfile to create my first war file using Eclipse and Tomcat 7 server.  This is my first time creating a war file.  I have gotten the build file to create a war file, but when I unzip the war file, I find that it does not contain everything that it needs to contain.</p>\n<p>As a result, when I try to deploy the application to tomcat in the form of the war file, the web container cannot find any of the servlets in the application.  I am posting my inputs, outputs, and code below.  How can I fix the code below so that the outputs in the war file match the inputs from Eclipse?</p>\n<p>Here is the structure of the Eclipse project:</p>\n<img src=\"https://s21.postimg.org/3zo1j1x3b/myappwar2.gif\">  \n<p>Here are the contents of the unzipped war file:</p>\n<img src=\"https://s9.postimg.org/3p59yztfz/war_contents.gif\">   \n<p>And here is the code for the Ant buildfile:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project basedir=&quot;C:\\mypath\\workspace\\myapp&quot; name=&quot;myapp&quot; default=&quot;default&quot;&gt;\n    &lt;target name=&quot;default&quot; depends=&quot;setup,compile,buildwar,deploy&quot;&gt;&lt;/target&gt;\n\n    &lt;target name=&quot;setup&quot;&gt;\n        &lt;mkdir dir=&quot;dist&quot; /&gt;\n        &lt;echo&gt;Copying web into dist&lt;/echo&gt;\n        &lt;copydir dest=&quot;dist/web&quot; src=&quot;web&quot; /&gt;\n        &lt;copydir dest=&quot;dist/web/WEB-INF/lib&quot; src=&quot;${basedir}/web/WEB-INF/lib&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;delete dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\n        &lt;mkdir dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\n        &lt;javac destdir=&quot;${dist.dir}/web/WEB-INF/classes&quot; srcdir=&quot;src&quot;&gt;\n            &lt;classpath&gt;\n                &lt;fileset dir=&quot;${basedir}/web/WEB-INF/lib&quot;&gt;\n                    &lt;include name=&quot;*&quot; /&gt;\n                &lt;/fileset&gt;\n            &lt;/classpath&gt;\n        &lt;/javac&gt;\n        &lt;copy todir=&quot;${dist.dir}/web/WEB-INF/classes&quot;&gt;\n            &lt;fileset dir=&quot;src&quot;&gt;\n                &lt;include name=&quot;**/*.properties&quot; /&gt;\n                &lt;include name=&quot;**/*.xml&quot; /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;buildwar&quot;&gt;\n        &lt;war basedir=&quot;${basedir}/dist/web&quot; destfile=&quot;myapp.war&quot;\n             webxml=&quot;${basedir}/dist/web/WEB-INF/web.xml&quot;&gt;\n            &lt;exclude name=&quot;WEB-INF/**&quot; /&gt;\n            &lt;webinf dir=&quot;${basedir}/dist/web/WEB-INF/&quot;&gt;\n                &lt;include name=&quot;**/*.jar&quot; /&gt;\n            &lt;/webinf&gt;\n        &lt;/war&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;deploy&quot;&gt;\n        &lt;copy file=&quot;myapp.war&quot; todir=&quot;${tomcat.deploydir}&quot; /&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;  \n</code></pre>\n<p>Please note that running this script creates three copies of the war file. I only want one copy.</p>\n<h2>Edit</h2>\n<p>I tried Shaunak's suggestion, and am getting the following output now when I unzip the war file:</p>\n<img src=\"https://s23.postimg.org/rsqzk9r3f/war_conts2.gif\">  \n<p>Deploying the resulting war to Tomcat still produces 404 errors because the web container cannot find the servlets.  I cannot seem to find web.xml or myapp.xml in the output, and none of the jar file dependencies seem to be present in the war file either, but the good news is that the package folders seem to contain both Java files and class files.</p>\n<h2>Second edit</h2>\n<p>Here is the Ant build file that Eclipse generated.  Where is the .war file that is supposed to be created when the following build file is run? And what is the name of the war file?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!-- WARNING: Eclipse auto-generated file.\n          Any modifications will be overwritten.\n          To include a user specific buildfile here, simply create one in the same\n          directory with the processing instruction &lt;?eclipse.ant.import?&gt;\n          as the first entry and export the buildfile again. --&gt;&lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;myapp&quot;&gt;\n    &lt;property environment=&quot;env&quot;/&gt;\n    &lt;property name=&quot;ECLIPSE_HOME&quot; value=&quot;../../../../java/eclipse&quot;/&gt;\n    &lt;property name=&quot;debuglevel&quot; value=&quot;source,lines,vars&quot;/&gt;\n    &lt;property name=&quot;target&quot; value=&quot;1.7&quot;/&gt;\n    &lt;property name=&quot;source&quot; value=&quot;1.7&quot;/&gt;\n    &lt;path id=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\n    &lt;path id=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\n    &lt;path id=&quot;myapp.classpath&quot;&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/classes&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/ant.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/jaxen.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/xalan.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/xerces.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-api-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-tests.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/jstl-1.2.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-api-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-tests.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/servlet-api.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/jsp-api.jar&quot;/&gt;\n        &lt;path refid=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\n        &lt;path refid=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\n    &lt;/path&gt;\n    &lt;target name=&quot;init&quot;&gt;\n        &lt;mkdir dir=&quot;web/WEB-INF/classes&quot;/&gt;\n        &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;web/WEB-INF/classes&quot;&gt;\n            &lt;fileset dir=&quot;src&quot;&gt;\n                &lt;exclude name=&quot;**/*.java&quot;/&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;clean&quot;&gt;\n        &lt;delete dir=&quot;web/WEB-INF/classes&quot;/&gt;\n    &lt;/target&gt;\n    &lt;target depends=&quot;clean&quot; name=&quot;cleanall&quot;/&gt;\n    &lt;target depends=&quot;build-subprojects,build-project&quot; name=&quot;build&quot;/&gt;\n    &lt;target name=&quot;build-subprojects&quot;/&gt;\n    &lt;target depends=&quot;init&quot; name=&quot;build-project&quot;&gt;\n        &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;\n        &lt;javac debug=&quot;true&quot; debuglevel=&quot;${debuglevel}&quot; destdir=&quot;web/WEB-INF/classes&quot; includeantruntime=&quot;false&quot; source=&quot;${source}&quot; target=&quot;${target}&quot;&gt;\n            &lt;src path=&quot;src&quot;/&gt;\n            &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n    &lt;target description=&quot;Build all projects which reference this project. Useful to propagate changes.&quot; name=&quot;build-refprojects&quot;/&gt;\n    &lt;target description=&quot;copy Eclipse compiler jars to ant lib directory&quot; name=&quot;init-eclipse-compiler&quot;&gt;\n        &lt;copy todir=&quot;${ant.library.dir}&quot;&gt;\n            &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;unzip dest=&quot;${ant.library.dir}&quot;&gt;\n            &lt;patternset includes=&quot;jdtCompilerAdapter.jar&quot;/&gt;\n            &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\n        &lt;/unzip&gt;\n    &lt;/target&gt;\n    &lt;target description=&quot;compile project with Eclipse compiler&quot; name=&quot;build-eclipse-compiler&quot;&gt;\n        &lt;property name=&quot;build.compiler&quot; value=&quot;org.eclipse.jdt.core.JDTCompilerAdapter&quot;/&gt;\n        &lt;antcall target=&quot;build&quot;/&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;GetBI&quot;&gt;\n        &lt;java classname=&quot;myapp.plotters.GetBI&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\n            &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;GetPlotGIF (2)&quot;&gt;\n        &lt;java classname=&quot;myapp.plotters.GetPlotGIF&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\n            &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n&lt;/project&gt;  \n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1866186,"reputation":4221,"user_id":1689695,"accept_rate":100,"display_name":"CocoNess"},"score":3,"creation_date":1415778837,"post_id":26881739,"comment_id":42319436,"body_markdown":"What exception/ error does it throw?","body":"What exception/ error does it throw?"},{"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"score":0,"creation_date":1415804734,"post_id":26881739,"comment_id":42334168,"body_markdown":"No exceptions, it starts up and then runs perfectly fine until it attempts to interact with the db, then it throws an exception about there being no tables. No relevant warnings in the log either.","body":"No exceptions, it starts up and then runs perfectly fine until it attempts to interact with the db, then it throws an exception about there being no tables. No relevant warnings in the log either."}],"answers":[{"comments":[{"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"score":0,"creation_date":1415804558,"post_id":26882135,"comment_id":42334077,"body_markdown":"Yeah, running it with those properties didn&#39;t work either. It&#39;s weird it doesn&#39;t even show the properties value in the jconsole: `spring.jpa.CONFIGURATION_PROPERTIES={prefix=spring.jpa, properties={databasePlatform=null, database=MYSQL, generateDdl=false, showSql=false}}`","body":"Yeah, running it with those properties didn&#39;t work either. It&#39;s weird it doesn&#39;t even show the properties value in the jconsole: <code>spring.jpa.CONFIGURATION_PROPERTIES={prefix=spring.jpa, properties={databasePlatform=null, database=MYSQL, generateDdl=false, showSql=false}}</code>"},{"owner":{"account_id":1616389,"reputation":1813,"user_id":1493954,"display_name":"liorsolomon"},"score":1,"creation_date":1415816379,"post_id":26882135,"comment_id":42341169,"body_markdown":"Just a long shot could it be that the user running the queries doesn&#39;t have permissions to create the tables? Are you getting any errors?","body":"Just a long shot could it be that the user running the queries doesn&#39;t have permissions to create the tables? Are you getting any errors?"},{"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"score":0,"creation_date":1415844269,"post_id":26882135,"comment_id":42352891,"body_markdown":"The user is the same user that created the schema :/. No errors until I hit the Rest Controller which hits the database.","body":"The user is the same user that created the schema :/. No errors until I hit the Rest Controller which hits the database."},{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":1,"creation_date":1546347929,"post_id":26882135,"comment_id":94828668,"body_markdown":"This one worked for me &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;","body":"This one worked for me &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;"}],"tags":[],"owner":{"account_id":1616389,"reputation":1813,"user_id":1493954,"display_name":"liorsolomon"},"comment_count":4,"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1415780056,"creation_date":1415780056,"answer_id":26882135,"question_id":26881739,"body_markdown":"Did you try running it with:\r\n\r\n    spring.jpa.generate-ddl=true\r\n\r\nand then \r\n\r\n    spring.jpa.hibernate.ddl-auto = create\r\n\r\n&gt; By default the DDL execution (or validation) is deferred until the ApplicationContext has started. There is also a spring.jpa.generate-ddl flag, but it is not used if Hibernate autoconfig is active because the ddl-auto settings are more fine-grained.\r\n\r\nsee [spring-boot-features][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>Did you try running it with:</p>\n\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto = create\n</code></pre>\n\n<blockquote>\n  <p>By default the DDL execution (or validation) is deferred until the ApplicationContext has started. There is also a spring.jpa.generate-ddl flag, but it is not used if Hibernate autoconfig is active because the ddl-auto settings are more fine-grained.</p>\n</blockquote>\n\n<p>see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\">spring-boot-features</a></p>\n"},{"comments":[{"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"score":26,"creation_date":1416209551,"post_id":26902713,"comment_id":42471922,"body_markdown":"changing the dialect to `org.hibernate.dialect.MySQL5InnoDBDialect` did the trick. Thanks for the help!","body":"changing the dialect to <code>org.hibernate.dialect.MySQL5InnoDBDialect</code> did the trick. Thanks for the help!"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":3,"creation_date":1444168191,"post_id":26902713,"comment_id":53786211,"body_markdown":"the number 1 works for me. What can i do, if i don&#39;t want to have my model in the same project with my main class. I added componentscan with the model package, but i didn&#39;t help me.","body":"the number 1 works for me. What can i do, if i don&#39;t want to have my model in the same project with my main class. I added componentscan with the model package, but i didn&#39;t help me."},{"owner":{"account_id":322860,"reputation":1924,"user_id":642513,"display_name":"borys86"},"score":0,"creation_date":1487159278,"post_id":26902713,"comment_id":71655144,"body_markdown":"@O.Badr, valid comment. I most likely pasted lines from a number of config files I had at a time. dialect and driver should match target database.","body":"@O.Badr, valid comment. I most likely pasted lines from a number of config files I had at a time. dialect and driver should match target database."},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":2,"creation_date":1487165303,"post_id":26902713,"comment_id":71659204,"body_markdown":"@borys86, so in your solution we should use `org.hibernate.dialect.MySQL5InnoDBDialect` instead, as the question was about MySQL!","body":"@borys86, so in your solution we should use <code>org.hibernate.dialect.MySQL5InnoDBDialect</code> instead, as the question was about MySQL!"},{"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"score":0,"creation_date":1521059399,"post_id":26902713,"comment_id":85577285,"body_markdown":"@O.Badr this is correct `org.hibernate.dialect.MySQL5InnoDBDialect` is the correct property value here.\n\nI attempted to edit the answer but it was rejected by the moderators.","body":"@O.Badr this is correct <code>org.hibernate.dialect.MySQL5InnoDBDialect</code> is the correct property value here.  I attempted to edit the answer but it was rejected by the moderators."},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1548572233,"post_id":26902713,"comment_id":95584008,"body_markdown":"how the F do we import `@EnableAutoConfiguration`","body":"how the F do we import <code>@EnableAutoConfiguration</code>"},{"owner":{"account_id":6103893,"reputation":850,"user_id":4762075,"accept_rate":47,"display_name":"BaDr Amer"},"score":2,"creation_date":1550856254,"post_id":26902713,"comment_id":96439225,"body_markdown":"#2 worked for me, but spring.datasource.driverClassName=com.mysql.jdbc.Driver\nis not needed and gives a warning: \nLoading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.","body":"#2 worked for me, but spring.datasource.driverClassName=com.mysql.jdbc.Driver is not needed and gives a warning:  Loading class <code>com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is </code>com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary."},{"owner":{"account_id":4910770,"reputation":906,"user_id":3988992,"accept_rate":65,"display_name":"RBz"},"score":0,"creation_date":1660486593,"post_id":26902713,"comment_id":129539731,"body_markdown":"if you have custom database `@Configuration` file, probably because you need to support multiple schemas or dbs, the prop file update will probably won&#39;t work since you might have explicitly set your jpa `Properties` in your `LocalContainerEntityManagerFactoryBean`.  Also if you are using hibernate specific properties `hibernate.hbm2ddl.auto` will be the one taking effect.","body":"if you have custom database <code>@Configuration</code> file, probably because you need to support multiple schemas or dbs, the prop file update will probably won&#39;t work since you might have explicitly set your jpa <code>Properties</code> in your <code>LocalContainerEntityManagerFactoryBean</code>.  Also if you are using hibernate specific properties <code>hibernate.hbm2ddl.auto</code> will be the one taking effect."},{"owner":{"account_id":1488237,"reputation":954,"user_id":1395990,"accept_rate":67,"display_name":"W00di"},"score":0,"creation_date":1662094576,"post_id":26902713,"comment_id":129930946,"body_markdown":"Worked when I changed dialect\norg.hibernate.dialect.MySQLDialect  -&gt; org.hibernate.dialect.MySQL8Dialect","body":"Worked when I changed dialect org.hibernate.dialect.MySQLDialect  -&gt; org.hibernate.dialect.MySQL8Dialect"},{"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"score":0,"creation_date":1676038700,"post_id":26902713,"comment_id":133062450,"body_markdown":"I had this:\n\n\n`spring.jpa.hibernate.ddl-auto=update`\n`spring.datasource.url=jdbc:mysql://localhost:3306/littleNotes`\n`spring.datasource.username=root`\n`spring.datasource.password=******`\n`spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver`\n`spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect`","body":"I had this:   <code>spring.jpa.hibernate.ddl-auto=update</code> <code>spring.datasource.url=jdbc:mysql:&#47;&#47;localhost:3306&#47;littleNote&zwnj;&#8203;s</code> <code>spring.datasource.username=root</code> <code>spring.datasource.password=******</code> <code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</code> <code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5Inn&zwnj;&#8203;oDBDialect</code>"}],"tags":[],"owner":{"account_id":322860,"reputation":1924,"user_id":642513,"display_name":"borys86"},"comment_count":10,"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1621008424,"creation_date":1415860398,"answer_id":26902713,"question_id":26881739,"body_markdown":"There are several possible causes:\r\n\r\n 1. Your entity classes are in the same  or in a sub-package relative one where you have you class with `@EnableAutoConfiguration.` If not then your spring app does not see them and hence will not create anything in db\r\n 2. Check your config, it seems that you are using some hibernate specific options, try to replace them with:\r\n\r\n   \r\n\r\n        spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n        spring.jpa.hibernate.ddl-auto=update\r\n        spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n        spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n        spring.datasource.username=test\r\n        spring.datasource.password=\r\n\r\n**note that the manual loading of the driver class is unnecessary because it&#39;s automatically registered, so don&#39;t bother yourself with it\r\n\r\n3. Your `application.properties` must be in `src/main/resources` folder.\r\n\r\nIf you did not specify dialect correctly it might try to default to bundled together with boot in-memory database and (as it was with me) I could see that it tries to connect to local `HSQL` (see console output) instance and fail at updating the schema.\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>There are several possible causes:</p>\n<ol>\n<li><p>Your entity classes are in the same  or in a sub-package relative one where you have you class with <code>@EnableAutoConfiguration.</code> If not then your spring app does not see them and hence will not create anything in db</p>\n</li>\n<li><p>Check your config, it seems that you are using some hibernate specific options, try to replace them with:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=test\nspring.datasource.password=\n</code></pre>\n</li>\n</ol>\n<p>**note that the manual loading of the driver class is unnecessary because it's automatically registered, so don't bother yourself with it</p>\n<ol start=\"3\">\n<li>Your <code>application.properties</code> must be in <code>src/main/resources</code> folder.</li>\n</ol>\n<p>If you did not specify dialect correctly it might try to default to bundled together with boot in-memory database and (as it was with me) I could see that it tries to connect to local <code>HSQL</code> (see console output) instance and fail at updating the schema.</p>\n"},{"tags":[],"owner":{"account_id":3870832,"reputation":606,"user_id":3206144,"display_name":"user3206144"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420307431,"creation_date":1420307431,"answer_id":27757754,"question_id":26881739,"body_markdown":"I also have the same problem. Turned out I have the @PropertySource annotation set on the main Application class to read a different base properties file, so the normal &quot;application.properties&quot; is not used anymore. \r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>I also have the same problem. Turned out I have the @PropertySource annotation set on the main Application class to read a different base properties file, so the normal \"application.properties\" is not used anymore. </p>\n"},{"comments":[{"owner":{"account_id":2033624,"reputation":1128,"user_id":1816572,"display_name":"Gann14"},"score":2,"creation_date":1487019232,"post_id":36170175,"comment_id":71587989,"body_markdown":"Postgres won&#39;t help with the MySQL database.","body":"Postgres won&#39;t help with the MySQL database."}],"tags":[],"owner":{"account_id":6755714,"reputation":31,"user_id":5204214,"display_name":"djuka"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1472050565,"creation_date":1458709143,"answer_id":36170175,"question_id":26881739,"body_markdown":"I had same problem and solved it with only this add:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect","title":"Unable to get spring boot to automatically create database schema","body":"<p>I had same problem and solved it with only this add:</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8467972,"reputation":89,"user_id":6351597,"display_name":"erickbhrener"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1471281973,"creation_date":1463582291,"answer_id":37302815,"question_id":26881739,"body_markdown":"If your entity class isn&#39;t in the same package as your main class, you can use `@EntityScan` annotation in the main class, specifying the Entity you want to save or package too. Like your model package.\r\n\r\nAbout:\r\n\r\n    spring.jpa.hibernate.ddl-auto = create\r\n\r\nYou can use the option `update`. It won&#39;t erase any data, and will create tables in the same way.","title":"Unable to get spring boot to automatically create database schema","body":"<p>If your entity class isn't in the same package as your main class, you can use <code>@EntityScan</code> annotation in the main class, specifying the Entity you want to save or package too. Like your model package.</p>\n\n<p>About:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto = create\n</code></pre>\n\n<p>You can use the option <code>update</code>. It won't erase any data, and will create tables in the same way.</p>\n"},{"comments":[{"owner":{"account_id":2033624,"reputation":1128,"user_id":1816572,"display_name":"Gann14"},"score":2,"creation_date":1487019229,"post_id":37469963,"comment_id":71587988,"body_markdown":"Postgres won&#39;t help with the MySQL database.","body":"Postgres won&#39;t help with the MySQL database."}],"tags":[],"owner":{"account_id":5812377,"reputation":31,"user_id":4583008,"display_name":"Saurabh Agrawal"},"comment_count":1,"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1472050575,"creation_date":1464292861,"answer_id":37469963,"question_id":26881739,"body_markdown":"Just add \r\n\r\n    spring.jpa.databaseplatform=org.hibernate.dialect.PostgreSQLDialect  \r\n\r\nat the end. This will solve your issue.\r\nOnly this was missing\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>Just add </p>\n\n<pre><code>spring.jpa.databaseplatform=org.hibernate.dialect.PostgreSQLDialect  \n</code></pre>\n\n<p>at the end. This will solve your issue.\nOnly this was missing</p>\n"},{"comments":[{"owner":{"account_id":4732488,"reputation":154,"user_id":3827708,"display_name":"MageXellos"},"score":1,"creation_date":1515074404,"post_id":42730132,"comment_id":83168618,"body_markdown":"It works for me, spring boot version:1.5.9.RELEASE. However, I find the root cause is I should put ApplicationConfig at the parent package of my entity package. So, it could automatically scan the entities in hierarchy.","body":"It works for me, spring boot version:1.5.9.RELEASE. However, I find the root cause is I should put ApplicationConfig at the parent package of my entity package. So, it could automatically scan the entities in hierarchy."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":1,"creation_date":1554634279,"post_id":42730132,"comment_id":97816594,"body_markdown":"this worked for me. Thanks alot. Tooks me hours to fix this thing. The thing was, there was no error being thrown or whatsoever even just an info. Nothing at all, I&#39;ve been blindly trying to search every keyword to this issue. However I still don&#39;t know why it wont automatically scan my entities. :/","body":"this worked for me. Thanks alot. Tooks me hours to fix this thing. The thing was, there was no error being thrown or whatsoever even just an info. Nothing at all, I&#39;ve been blindly trying to search every keyword to this issue. However I still don&#39;t know why it wont automatically scan my entities. :/"},{"owner":{"account_id":1128460,"reputation":2054,"user_id":1115122,"accept_rate":56,"display_name":"anshulkatta"},"score":0,"creation_date":1563178571,"post_id":42730132,"comment_id":100599801,"body_markdown":"this helped me when  my dao and repository , entity classes were in different maven module","body":"this helped me when  my dao and repository , entity classes were in different maven module"}],"tags":[],"owner":{"account_id":5022615,"reputation":2004,"user_id":4035655,"accept_rate":25,"display_name":"Ar maj"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1489194056,"creation_date":1489194056,"answer_id":42730132,"question_id":26881739,"body_markdown":"    @SpringBootApplication\r\n    @EnableConfigurationProperties\r\n    @EntityScan(basePackages = {&quot;com.project.ppaa.model&quot;})  // scan JPA entities\r\n    public class Application {\r\n    \r\n      private static ConfigurableApplicationContext applicationContext;\r\n    \r\n      public static void main(String[] args) {\r\n        Application.applicationContext = SpringApplication.run(Application.class, args);\r\n      }\r\n    }\r\n\r\nit should work automatically but if it does not, you can enter the base package\r\n\r\n    @EntityScan(basePackages = {&quot;com.project.ppaa.model&quot;})  // scan JPA entities manually","title":"Unable to get spring boot to automatically create database schema","body":"<pre><code>@SpringBootApplication\n@EnableConfigurationProperties\n@EntityScan(basePackages = {\"com.project.ppaa.model\"})  // scan JPA entities\npublic class Application {\n\n  private static ConfigurableApplicationContext applicationContext;\n\n  public static void main(String[] args) {\n    Application.applicationContext = SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n\n<p>it should work automatically but if it does not, you can enter the base package</p>\n\n<pre><code>@EntityScan(basePackages = {\"com.project.ppaa.model\"})  // scan JPA entities manually\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500462311,"creation_date":1500390166,"answer_id":45170518,"question_id":26881739,"body_markdown":"    Use this Sample code\r\n    \r\n    application.properties\r\n    # DataSource settings: set here your own configurations for the database \r\n    # connection. In this example we have &quot;dojsb&quot; as database name and \r\n    # &quot;root&quot; as username and password.\r\n    spring.datasource.url =jdbc:postgresql://localhost:5432/usman\r\n    spring.datasource.username = postgres\r\n    spring.datasource.password = 12345\r\n    \r\n    # Keep the connection alive if idle for a long time (needed in production)\r\n    spring.datasource.testWhileIdle = true\r\n    spring.datasource.validationQuery = SELECT 1\r\n    \r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n    \r\n    # Hibernate ddl auto (create, create-drop, update)\r\n    spring.jpa.hibernate.ddl-auto = create\r\n    \r\n    # Naming strategy\r\n    spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n    \r\n    # Use spring.jpa.properties.* for Hibernate native properties (the prefix is\r\n    # stripped before adding them to the entity manager)\r\n    \r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    \r\n    server.port = 8963\r\n    \r\n    \r\n    \r\n    Entity Class:\r\n    \r\n    \r\n    \r\n    import java.sql.Timestamp;\r\n    import java.util.UUID;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import org.hibernate.annotations.Type;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;QUEUERECORDS&quot;)\r\n    public class QueuesRecords {\r\n    \t@Id\r\n    \tprivate UUID id;\r\n    \t\r\n    \t@Column(name=&quot;payload&quot;, nullable = true)\r\n    \t@Type(type=&quot;text&quot;)\r\n    \tprivate String payload;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;status&quot;, nullable = true)\r\n    \t@Type(type=&quot;text&quot;)\r\n    \tprivate String status;\r\n    \t\r\n    \tprivate Timestamp starttime;\r\n    \r\n    \tprivate Timestamp endtime;\r\n    \t\r\n    \t@Column(name=&quot;queueid&quot;,nullable= true)\r\n    \t@Type(type=&quot;text&quot;)\r\n    \tprivate String queueid;\r\n    \r\n    \tpublic UUID getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(UUID id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getPayload() {\r\n    \t\treturn payload;\r\n    \t}\r\n    \r\n    \tpublic void setPayload(String payload) {\r\n    \t\tthis.payload = payload;\r\n    \t}\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic Timestamp getStarttime() {\r\n    \t\treturn starttime;\r\n    \t}\r\n    \r\n    \tpublic void setStarttime(Timestamp starttime) {\r\n    \t\tthis.starttime = starttime;\r\n    \t}\r\n    \r\n    \tpublic Timestamp getEndtime() {\r\n    \t\treturn endtime;\r\n    \t}\r\n    \r\n    \tpublic void setEndtime(Timestamp endtime) {\r\n    \t\tthis.endtime = endtime;\r\n    \t}\r\n    \r\n    \tpublic String getQueueid() {\r\n    \t\treturn queueid;\r\n    \t}\r\n    \r\n    \tpublic void setQueueid(String queueid) {\r\n    \t\tthis.queueid = queueid;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    Main class\r\n    \r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class Test{\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tSpringApplication.run(Test.class, args);\r\n    \r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<pre><code>Use this Sample code\n\napplication.properties\n# DataSource settings: set here your own configurations for the database \n# connection. In this example we have \"dojsb\" as database name and \n# \"root\" as username and password.\nspring.datasource.url =jdbc:postgresql://localhost:5432/usman\nspring.datasource.username = postgres\nspring.datasource.password = 12345\n\n# Keep the connection alive if idle for a long time (needed in production)\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate ddl auto (create, create-drop, update)\nspring.jpa.hibernate.ddl-auto = create\n\n# Naming strategy\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\n\n# Use spring.jpa.properties.* for Hibernate native properties (the prefix is\n# stripped before adding them to the entity manager)\n\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\nserver.port = 8963\n\n\n\nEntity Class:\n\n\n\nimport java.sql.Timestamp;\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.Type;\n\n\n@Entity\n@Table(name = \"QUEUERECORDS\")\npublic class QueuesRecords {\n    @Id\n    private UUID id;\n\n    @Column(name=\"payload\", nullable = true)\n    @Type(type=\"text\")\n    private String payload;\n\n\n    @Column(name=\"status\", nullable = true)\n    @Type(type=\"text\")\n    private String status;\n\n    private Timestamp starttime;\n\n    private Timestamp endtime;\n\n    @Column(name=\"queueid\",nullable= true)\n    @Type(type=\"text\")\n    private String queueid;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getPayload() {\n        return payload;\n    }\n\n    public void setPayload(String payload) {\n        this.payload = payload;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public Timestamp getStarttime() {\n        return starttime;\n    }\n\n    public void setStarttime(Timestamp starttime) {\n        this.starttime = starttime;\n    }\n\n    public Timestamp getEndtime() {\n        return endtime;\n    }\n\n    public void setEndtime(Timestamp endtime) {\n        this.endtime = endtime;\n    }\n\n    public String getQueueid() {\n        return queueid;\n    }\n\n    public void setQueueid(String queueid) {\n        this.queueid = queueid;\n    }\n\n\n\n}\n\n\n\nMain class\n\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class Test{\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Test.class, args);\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11608559,"reputation":11,"user_id":8503404,"display_name":"lamarre"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503454641,"creation_date":1503453379,"answer_id":45829462,"question_id":26881739,"body_markdown":"I had the same problem before. My problem was the Entity relationship I was trying to establish by using a &quot;List&quot;. I knew it was the cause because the program ran fine without the list variable. In your case, I think the problem is:\r\n\r\n\tprivate List&lt;Question&gt; _questions;\r\n\r\nI am assuming you already have a class named Question. So, try having:\r\n\r\n\t@OneToMany\r\n\tprivate Question _questions;\r\n\r\nBut the thing is, in your method, you are going to handle it so it return a list. I used Spring Data JPA with CrudRepository. So, if you decide to use it, yours may look like this:\r\n\r\n\tpublic List&lt;Question&gt; findById( Long _id );\r\n\r\nThere are more changes you will have to do, but these are pretty easy and straightforward. Refer to [this Java Brains video](https://www.youtube.com/watch?v=_Jnu_jHfQbM&amp;list=PLqq-6Pq4lTTbx8p2oCgcAQGQyqN8XeA1x&amp;index=31) to have a better grasp and see what else needs to be modified.","title":"Unable to get spring boot to automatically create database schema","body":"<p>I had the same problem before. My problem was the Entity relationship I was trying to establish by using a \"List\". I knew it was the cause because the program ran fine without the list variable. In your case, I think the problem is:</p>\n\n<pre><code>private List&lt;Question&gt; _questions;\n</code></pre>\n\n<p>I am assuming you already have a class named Question. So, try having:</p>\n\n<pre><code>@OneToMany\nprivate Question _questions;\n</code></pre>\n\n<p>But the thing is, in your method, you are going to handle it so it return a list. I used Spring Data JPA with CrudRepository. So, if you decide to use it, yours may look like this:</p>\n\n<pre><code>public List&lt;Question&gt; findById( Long _id );\n</code></pre>\n\n<p>There are more changes you will have to do, but these are pretty easy and straightforward. Refer to <a href=\"https://www.youtube.com/watch?v=_Jnu_jHfQbM&amp;list=PLqq-6Pq4lTTbx8p2oCgcAQGQyqN8XeA1x&amp;index=31\" rel=\"nofollow noreferrer\">this Java Brains video</a> to have a better grasp and see what else needs to be modified.</p>\n"},{"tags":[],"owner":{"account_id":4943581,"reputation":59,"user_id":3979648,"display_name":"Jayant Nayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511366298,"creation_date":1511366298,"answer_id":47439006,"question_id":26881739,"body_markdown":"In my case the tables were not getting created automatically even though I was using JPArepository.\r\nAfter adding the below property in my springboot app application.properties file the tables are now getting created automatically.\r\n**spring.jpa.hibernate.ddl-auto=update**","title":"Unable to get spring boot to automatically create database schema","body":"<p>In my case the tables were not getting created automatically even though I was using JPArepository.\nAfter adding the below property in my springboot app application.properties file the tables are now getting created automatically.\n<strong>spring.jpa.hibernate.ddl-auto=update</strong></p>\n"},{"tags":[],"owner":{"account_id":13023604,"reputation":1,"user_id":9412202,"display_name":"Ansar Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519637486,"creation_date":1519634752,"answer_id":48984472,"question_id":26881739,"body_markdown":"Simple we are adding semicolon after &lt;br&gt;`spring.jpa.hibernate.ddl-auto = create;`&lt;br&gt;\r\nwhich is wrong &lt;br&gt;`spring.jpa.hibernate.ddl-auto = create` &lt;br&gt;enough","title":"Unable to get spring boot to automatically create database schema","body":"<p>Simple we are adding semicolon after <br><code>spring.jpa.hibernate.ddl-auto = create;</code><br>\nwhich is wrong <br><code>spring.jpa.hibernate.ddl-auto = create</code> <br>enough</p>\n"},{"comments":[{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1548572434,"post_id":50457117,"comment_id":95584032,"body_markdown":"this belongs in application.properties file?","body":"this belongs in application.properties file?"},{"owner":{"account_id":7430633,"reputation":258,"user_id":5651746,"display_name":"Taf"},"score":0,"creation_date":1549137920,"post_id":50457117,"comment_id":95799305,"body_markdown":"Yes you add these in applications.properties. Alternatively you can configure the properties in your main SpringBootApplication class.","body":"Yes you add these in applications.properties. Alternatively you can configure the properties in your main SpringBootApplication class."}],"tags":[],"owner":{"account_id":7430633,"reputation":258,"user_id":5651746,"display_name":"Taf"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1526939997,"creation_date":1526939997,"answer_id":50457117,"question_id":26881739,"body_markdown":"Using the following two settings does work.\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create","title":"Unable to get spring boot to automatically create database schema","body":"<p>Using the following two settings does work.</p>\n\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528457058,"creation_date":1528457058,"answer_id":50759598,"question_id":26881739,"body_markdown":"You need to provide configurations considering your Spring Boot Version and the version of libraries it downloads based on the same.\r\n\r\nMy Setup: Spring Boot 1.5.x (1.5.10 in my case) downloads Hibernate v5.x\r\n---------------------------------------------------------------------\r\n\r\nUse below only if your Spring Boot setup has downloaded Hibernate v4.\r\n&gt; spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\nHibernate 5 doesn&#39;t support above.\r\n\r\nIf your Spring Boot Setup has downloaded Hibernate v5.x, then prefer below definition:\r\n\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nIMPORTANT:\r\nIn your Spring Boot application development, you should prefer to use annotation: `@SpringBootApplication` which has been super-annotated with: `@SpringBootConfiguration and @EnableAutoConfiguration`\r\n\r\nNOW\r\nIf your entity classes are in different package than the package in which your Main Class resides, Spring Boot won&#39;t scan those packages.\r\n\r\nThus you need to explicitly define Annotation: `@EntityScan(basePackages = { &quot;com.springboot.entities&quot; })`&lt;br&gt;\r\nThis annotation scans JPA based annotated entity classes (and others like MongoDB, Cassandra etc) \r\n&lt;br&gt;\r\n\r\n**NOTE:** \r\n&quot;com.springboot.entities&quot; is the custom package name.&lt;br&gt;\r\n\r\nFollowing is the way I had defined Hibernate and JPA based properties at application.properties to create Tables:-\r\n\r\n&gt; spring.datasource.driver-class-name=com.mysql.jdbc.Driver&lt;br&gt;\r\n&gt; spring.datasource.url=jdbc:mysql://localhost:3333/development?useSSL=true\r\n&gt; spring.datasource.username=admin&lt;br&gt;\r\n&gt; spring.datasource.password=&lt;br&gt;\r\n&gt; \r\n&gt; spring.jpa.open-in-view=false&lt;br&gt;\r\n&gt; spring.jpa.hibernate.ddl-auto=create&lt;br&gt;\r\n&gt; spring.jpa.generate-ddl=true &lt;br&gt;\r\n&gt; spring.jpa.hibernate.use-new-id-generator-mappings=true&lt;br&gt;\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&lt;br&gt;\r\n&gt; spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy&lt;br&gt;\r\n&gt; spring.jpa.show-sql=true&lt;br&gt;\r\n&gt; spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect&lt;br&gt;\r\n&gt; spring.jpa.properties.hibernate.format_sql=true&lt;br&gt;\r\n\r\nI am able to create tables using my above mentioned configuration.\r\n\r\nRefer it and change your code wherever applicable.","title":"Unable to get spring boot to automatically create database schema","body":"<p>You need to provide configurations considering your Spring Boot Version and the version of libraries it downloads based on the same.</p>\n\n<h2>My Setup: Spring Boot 1.5.x (1.5.10 in my case) downloads Hibernate v5.x</h2>\n\n<p>Use below only if your Spring Boot setup has downloaded Hibernate v4.</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy</p>\n</blockquote>\n\n<p>Hibernate 5 doesn't support above.</p>\n\n<p>If your Spring Boot Setup has downloaded Hibernate v5.x, then prefer below definition:</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</p>\n</blockquote>\n\n<p>IMPORTANT:\nIn your Spring Boot application development, you should prefer to use annotation: <code>@SpringBootApplication</code> which has been super-annotated with: <code>@SpringBootConfiguration and @EnableAutoConfiguration</code></p>\n\n<p>NOW\nIf your entity classes are in different package than the package in which your Main Class resides, Spring Boot won't scan those packages.</p>\n\n<p>Thus you need to explicitly define Annotation: <code>@EntityScan(basePackages = { \"com.springboot.entities\" })</code><br>\nThis annotation scans JPA based annotated entity classes (and others like MongoDB, Cassandra etc) \n<br></p>\n\n<p><strong>NOTE:</strong> \n\"com.springboot.entities\" is the custom package name.<br></p>\n\n<p>Following is the way I had defined Hibernate and JPA based properties at application.properties to create Tables:-</p>\n\n<blockquote>\n  <p>spring.datasource.driver-class-name=com.mysql.jdbc.Driver<br>\n  spring.datasource.url=jdbc:mysql://localhost:3333/development?useSSL=true\n  spring.datasource.username=admin<br>\n  spring.datasource.password=<br></p>\n  \n  <p>spring.jpa.open-in-view=false<br>\n  spring.jpa.hibernate.ddl-auto=create<br>\n  spring.jpa.generate-ddl=true <br>\n  spring.jpa.hibernate.use-new-id-generator-mappings=true<br>\n  spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl<br>\n  spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy<br>\n  spring.jpa.show-sql=true<br>\n  spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect<br>\n  spring.jpa.properties.hibernate.format_sql=true<br></p>\n</blockquote>\n\n<p>I am able to create tables using my above mentioned configuration.</p>\n\n<p>Refer it and change your code wherever applicable.</p>\n"},{"comments":[{"owner":{"account_id":12616139,"reputation":376,"user_id":9173526,"display_name":"Kavindu Gayantha"},"score":2,"creation_date":1639473379,"post_id":52342880,"comment_id":124351254,"body_markdown":"This is what I have been searching for a long time. Thanks, it works","body":"This is what I have been searching for a long time. Thanks, it works"}],"tags":[],"owner":{"account_id":5407050,"reputation":611,"user_id":4305209,"display_name":"Abderrahmane BECHIKH"},"comment_count":1,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1549298983,"creation_date":1536998842,"answer_id":52342880,"question_id":26881739,"body_markdown":"You just add `createDatabaseIfNotExist=true` like this\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true&amp;amp;amp;useUnicode=true&amp;amp;amp;characterEncoding=utf-8&amp;amp;amp;autoReconnect=true\r\n\r\nto your application.properties file","title":"Unable to get spring boot to automatically create database schema","body":"<p>You just add <code>createDatabaseIfNotExist=true</code> like this</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true&amp;amp;amp;useUnicode=true&amp;amp;amp;characterEncoding=utf-8&amp;amp;amp;autoReconnect=true\n</code></pre>\n\n<p>to your application.properties file</p>\n"},{"tags":[],"owner":{"account_id":14975507,"reputation":1,"user_id":11080956,"display_name":"Wendell Tufano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550519827,"creation_date":1550519827,"answer_id":54754477,"question_id":26881739,"body_markdown":"if your DB is MySQL:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/your_database\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n\r\nif your DB is PostgreSQL:\r\n\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:postgresql://localhost:3306/your_database\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root","title":"Unable to get spring boot to automatically create database schema","body":"<p>if your DB is MySQL:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/your_database\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n\n<p>if your DB is PostgreSQL:</p>\n\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:postgresql://localhost:3306/your_database\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":2,"creation_date":1567279939,"post_id":55193302,"comment_id":101921119,"body_markdown":"The question isn’t about creating a database, it’s about Spring JPA not creating tables in the database. The database might have been created but not seeding the tables","body":"The question isn’t about creating a database, it’s about Spring JPA not creating tables in the database. The database might have been created but not seeding the tables"}],"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1552708559,"creation_date":1552708559,"answer_id":55193302,"question_id":26881739,"body_markdown":"Abderrahmane response is correct: add `?createDatabaseIfNotExist=true` in the url property.\r\nIt seems that `ddl-auto` won&#39;t do anything.","title":"Unable to get spring boot to automatically create database schema","body":"<p>Abderrahmane response is correct: add <code>?createDatabaseIfNotExist=true</code> in the url property.\nIt seems that <code>ddl-auto</code> won't do anything.</p>\n"},{"comments":[{"owner":{"account_id":13879775,"reputation":5228,"user_id":10020419,"display_name":"Chris"},"score":0,"creation_date":1579616952,"post_id":55319941,"comment_id":105820430,"body_markdown":"adding ``` spring.jpa.generate-ddl=true ``` did the trick. Only using ``` spring.jpa.hibernate.ddl-auto=update ```. Default seams to be false.","body":"adding ``` spring.jpa.generate-ddl=true ``` did the trick. Only using ``` spring.jpa.hibernate.ddl-auto=update ```. Default seams to be false."}],"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1635052515,"creation_date":1553390678,"answer_id":55319941,"question_id":26881739,"body_markdown":"    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nMySQL5Dialect did trick, previously I was using &#39;MySQLDialect&#39;\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>MySQL5Dialect did trick, previously I was using 'MySQLDialect'</p>\n"},{"tags":[],"owner":{"account_id":14582994,"reputation":880,"user_id":10532751,"display_name":"Udith Indrakantha"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1558016920,"creation_date":1553842504,"answer_id":55411977,"question_id":26881739,"body_markdown":"This is what I did after reading all of the answers above.  \r\n\r\n 1. Add `spring.jpa.hibernate.ddl-auto=update` with other simple properties to *application.properties*\r\n 2. run \r\n 3. In the console, you can see the error. At one place in the error, you can find the SQL code generated by this software to create your entity table.\r\n 4. Copy that SQL code and paste it separately into your DBMS to create the table.\r\n 5. After that, run the app again.\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>This is what I did after reading all of the answers above.  </p>\n\n<ol>\n<li>Add <code>spring.jpa.hibernate.ddl-auto=update</code> with other simple properties to <em>application.properties</em></li>\n<li>run </li>\n<li>In the console, you can see the error. At one place in the error, you can find the SQL code generated by this software to create your entity table.</li>\n<li>Copy that SQL code and paste it separately into your DBMS to create the table.</li>\n<li>After that, run the app again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6330343,"reputation":1564,"user_id":4915436,"display_name":"Nitin Pawar"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1553942913,"creation_date":1553942913,"answer_id":55430655,"question_id":26881739,"body_markdown":"Just add **createDatabaseIfNotExist=true** parameter in spring datasource url\r\n\r\nExample: \r\nspring.datasource.url=\r\njdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true","title":"Unable to get spring boot to automatically create database schema","body":"<p>Just add <strong>createDatabaseIfNotExist=true</strong> parameter in spring datasource url</p>\n\n<p>Example: \nspring.datasource.url=\njdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true</p>\n"},{"tags":[],"owner":{"account_id":8244894,"reputation":145,"user_id":6201342,"display_name":"Jesus"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1576591888,"creation_date":1576591351,"answer_id":59375913,"question_id":26881739,"body_markdown":"I solved my case with this solution.\r\nDid just insert a new parameter **createDatabaseIfNotExist=true** on a **spring.datasource.url** property on an **application.properties** file, like this:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/minhasenha?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\r\n\r\nI have the **src/main/resources/Schema.sql** with DDL to create the database schema. And I did use *flyaway* to create and maintain the tables.\r\n\r\nI founded this solution here:\r\n[original answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53630079/auto-database-creation-springboot-and-mysql","title":"Unable to get spring boot to automatically create database schema","body":"<p>I solved my case with this solution.\nDid just insert a new parameter <strong>createDatabaseIfNotExist=true</strong> on a <strong>spring.datasource.url</strong> property on an <strong>application.properties</strong> file, like this:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/minhasenha?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\n</code></pre>\n\n<p>I have the <strong>src/main/resources/Schema.sql</strong> with DDL to create the database schema. And I did use <em>flyaway</em> to create and maintain the tables.</p>\n\n<p>I founded this solution here:\n<a href=\"https://stackoverflow.com/questions/53630079/auto-database-creation-springboot-and-mysql\">original answer</a></p>\n"},{"tags":[],"owner":{"account_id":459077,"reputation":1090,"user_id":859330,"display_name":"CanCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583452943,"creation_date":1583452943,"answer_id":60555713,"question_id":26881739,"body_markdown":"Sadly for me none of the answer given above worked because I later discovered that the issue came from my ```pom``` file. I used spring boot starter project and I added another kind of spring jpa which did not work.\r\nInitially I had this,\r\n     \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\nI replaced it with this:\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t   &lt;/dependency&gt; \r\n\r\nTake note of the **spring-boot-starter-data-jpa**. Hopefully this may help someone. Check your pom file and ensure your dependencies match.","title":"Unable to get spring boot to automatically create database schema","body":"<p>Sadly for me none of the answer given above worked because I later discovered that the issue came from my <code>pom</code> file. I used spring boot starter project and I added another kind of spring jpa which did not work.\nInitially I had this,</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt; \n</code></pre>\n\n<p>I replaced it with this:</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   &lt;/dependency&gt; \n</code></pre>\n\n<p>Take note of the <strong>spring-boot-starter-data-jpa</strong>. Hopefully this may help someone. Check your pom file and ensure your dependencies match.</p>\n"},{"tags":[],"owner":{"account_id":5828507,"reputation":890,"user_id":4593944,"display_name":"Daniel Reis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585510601,"creation_date":1585510601,"answer_id":60919750,"question_id":26881739,"body_markdown":"The configurations below worked for me:\r\n\r\n    spring.jpa.properties.javax.persistence.schema-generation.database.action=create\r\n    spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\r\n    spring.jpa.properties.javax.persistence.schema-generation.create-source=metadata\r\n    spring.jpa.properties.javax.persistence.schema-generation.drop-source=metadata\r\n    spring.jpa.properties.javax.persistence.schema-generation.connection=jdbc:mysql://localhost:3306/your_database\r\n\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>The configurations below worked for me:</p>\n\n<pre><code>spring.jpa.properties.javax.persistence.schema-generation.database.action=create\nspring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\nspring.jpa.properties.javax.persistence.schema-generation.create-source=metadata\nspring.jpa.properties.javax.persistence.schema-generation.drop-source=metadata\nspring.jpa.properties.javax.persistence.schema-generation.connection=jdbc:mysql://localhost:3306/your_database\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5315610,"reputation":11,"user_id":4240617,"display_name":"Abhigyan Chatterjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586185614,"creation_date":1586185614,"answer_id":61062854,"question_id":26881739,"body_markdown":"I ran into a similar problem. I&#39;m using spring boot 2.x and I missed to add Postgres dependency at spring initializer.\r\nI added the dependency manually\r\n       \r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n and here is what I was getting-\r\n    **INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: \r\n    org.hibernate.dialect.PostgreSQLDialect** \r\ninstead of\r\n \r\n    **INFO  org.hibernate.dialect.Dialect - HHH000400: Using \r\n    dialect:org.hibernate.dialect.PostgreSQL10Dialect**\r\n\r\n\r\nThis connected me to the DB\r\n\r\nIt&#39;s not so weird because Springboot does version dependency by itself and reduces the development work. On the flip side, if Springboot chooses incorrect dependency, it wastes a lot many hours.\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>I ran into a similar problem. I'm using spring boot 2.x and I missed to add Postgres dependency at spring initializer.\nI added the dependency manually</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and here is what I was getting-\n    <strong>INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: \n    org.hibernate.dialect.PostgreSQLDialect</strong> \ninstead of</p>\n\n<pre><code>**INFO  org.hibernate.dialect.Dialect - HHH000400: Using \ndialect:org.hibernate.dialect.PostgreSQL10Dialect**\n</code></pre>\n\n<p>This connected me to the DB</p>\n\n<p>It's not so weird because Springboot does version dependency by itself and reduces the development work. On the flip side, if Springboot chooses incorrect dependency, it wastes a lot many hours.</p>\n"},{"comments":[{"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"score":0,"creation_date":1591111588,"post_id":62139178,"comment_id":109928559,"body_markdown":"Can you give some references which say this is a requirement? That will add more value to your answer.","body":"Can you give some references which say this is a requirement? That will add more value to your answer."}],"tags":[],"owner":{"account_id":7029858,"reputation":121,"user_id":5385988,"display_name":"Erdem İnan&#231;"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591038213,"creation_date":1591038213,"answer_id":62139178,"question_id":26881739,"body_markdown":"If you had this problem on Spring Boot, double check your package names which should be exactly like:\r\n\r\n\r\n    com.example.YOURPROJECTNAME - consists main application class\r\n    com.example.YOURPROJECTNAME.entity - consists entities\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>If you had this problem on Spring Boot, double check your package names which should be exactly like:</p>\n\n<pre><code>com.example.YOURPROJECTNAME - consists main application class\ncom.example.YOURPROJECTNAME.entity - consists entities\n</code></pre>\n"},{"comments":[{"owner":{"account_id":899861,"reputation":2035,"user_id":936269,"accept_rate":77,"display_name":"Lars Nielsen"},"score":3,"creation_date":1594384807,"post_id":62834327,"comment_id":111115134,"body_markdown":"Please describe in more detail what you are doing to achive this result and how you know it is correct :)","body":"Please describe in more detail what you are doing to achive this result and how you know it is correct :)"}],"tags":[],"owner":{"account_id":19046547,"reputation":1,"user_id":13905600,"display_name":"Shivam Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594384381,"creation_date":1594384034,"answer_id":62834327,"question_id":26881739,"body_markdown":"to connect to mysql with springboot as well as creating table automatically into database:\r\n`spring.datasource.url=jdbc:mysql://localhost:3306/solace      spring.datasource.username=root                                        \r\n           spring.datasource.password=root                                                   \r\nspring.jpa.generate-ddl=true                                                        \r\nspring.jpa.hibernate.ddl-auto=update`\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>to connect to mysql with springboot as well as creating table automatically into database:\n<code>spring.datasource.url=jdbc:mysql://localhost:3306/solace      spring.datasource.username=root                                         spring.datasource.password=root                                                    spring.jpa.generate-ddl=true                                                         spring.jpa.hibernate.ddl-auto=update</code></p>\n"},{"tags":[],"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609348965,"creation_date":1608671036,"answer_id":65415793,"question_id":26881739,"body_markdown":"In my case I had to rename the table with name `user`. I renamed it for example `users` and it worked.","title":"Unable to get spring boot to automatically create database schema","body":"<p>In my case I had to rename the table with name <code>user</code>. I renamed it for example <code>users</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":14022495,"reputation":83,"user_id":10128401,"display_name":"Vinicius Tirabassi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1615480973,"creation_date":1615480973,"answer_id":66586782,"question_id":26881739,"body_markdown":"i haved the same problem, but i add \r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto = create\r\n```\r\n\r\nand everthing it is worked now","title":"Unable to get spring boot to automatically create database schema","body":"<p>i haved the same problem, but i add</p>\n<pre><code>spring.jpa.hibernate.ddl-auto = create\n</code></pre>\n<p>and everthing it is worked now</p>\n"},{"tags":[],"owner":{"account_id":16748819,"reputation":392,"user_id":12106367,"display_name":"Flash Noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627487618,"creation_date":1627487618,"answer_id":68563630,"question_id":26881739,"body_markdown":"this one helped me\r\n\r\n**i assume you have INNODB engine:**\r\n\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n\r\n    spring.jpa.properties.hibernate.dialect.storage_engine=innodb","title":"Unable to get spring boot to automatically create database schema","body":"<p>this one helped me</p>\n<p><strong>i assume you have INNODB engine:</strong></p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n\nspring.jpa.properties.hibernate.dialect.storage_engine=innodb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659721664,"creation_date":1659721664,"answer_id":73253589,"question_id":26881739,"body_markdown":"With Mysql-8.x use : \r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect instead MySQL5Dialect","title":"Unable to get spring boot to automatically create database schema","body":"<p>With Mysql-8.x use :\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect instead MySQL5Dialect</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661884932,"creation_date":1661884932,"answer_id":73547131,"question_id":26881739,"body_markdown":"I solved it by adding \r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.defer-datasource-initialization=true","title":"Unable to get spring boot to automatically create database schema","body":"<p>I solved it by adding</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11144873,"reputation":147,"user_id":8180023,"display_name":"kosteklvp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674851564,"creation_date":1674851564,"answer_id":75263084,"question_id":26881739,"body_markdown":"In my case, it was caused by using a deprecated library. I found this in console:\r\n\r\n    Encountered deprecated setting [javax.persistence], use [jakarta.persistence] instead.\r\n\r\nChanging imports from `javax.persistence` to `jakarta.persistence` resolved this issue.","title":"Unable to get spring boot to automatically create database schema","body":"<p>In my case, it was caused by using a deprecated library. I found this in console:</p>\n<pre><code>Encountered deprecated setting [javax.persistence], use [jakarta.persistence] instead.\n</code></pre>\n<p>Changing imports from <code>javax.persistence</code> to <code>jakarta.persistence</code> resolved this issue.</p>\n"},{"tags":[],"owner":{"account_id":20614196,"reputation":21,"user_id":15132700,"display_name":"Ahmed Elnoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676053385,"creation_date":1676053385,"answer_id":75414793,"question_id":26881739,"body_markdown":"2023 update \r\nPlease use the database url for JDBC without any extra parameters \r\n\r\n`spring.datasource.url=jdbc:mysql://localhost:3306/yourdatabase\r\n`","title":"Unable to get spring boot to automatically create database schema","body":"<p>2023 update\nPlease use the database url for JDBC without any extra parameters</p>\n<p><code>spring.datasource.url=jdbc:mysql://localhost:3306/yourdatabase </code></p>\n"}],"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514714,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":26902713,"answer_count":32,"score":138,"last_activity_date":1691177788,"creation_date":1415778420,"question_id":26881739,"body_markdown":"I&#39;m unable to get spring boot to automatically load my database schema when I start it up.\r\n\r\nHere is my application.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=test\r\n    spring.datasource.password=\r\n    spring.datasource.driverClassName = com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.database = MYSQL\r\n    \r\n    spring.jpa.show-sql = true\r\n    \r\n    spring.jpa.hibernate.ddl-auto = create\r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\nHere is my Application.java:\r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class Application {\r\n        public static void main(final String[] args){\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nHere is a sample entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;survey&quot;)\r\n    public class Survey implements Serializable {\r\n    \r\n        private Long _id;\r\n    \r\n        private String _name;\r\n    \r\n        private List&lt;Question&gt; _questions;\r\n    \r\n        /**\r\n         * @return survey&#39;s id.\r\n         */\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        @Column(name = &quot;survey_id&quot;, unique = true, nullable = false)\r\n        public Long getId() {\r\n            return _id;\r\n        }\r\n    \r\n        /**\r\n         * @return the survey name.\r\n         */\r\n        @Column(name = &quot;name&quot;)\r\n        public String getName() {\r\n            return _name;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * @return a list of survey questions.\r\n         */\r\n        @OneToMany(mappedBy = &quot;survey&quot;)\r\n        @OrderBy(&quot;id&quot;)\r\n        public List&lt;Question&gt; getQuestions() {\r\n            return _questions;\r\n        }\r\n    \r\n        /**\r\n         * @param id the id to set to.\r\n         */\r\n        public void setId(Long id) {\r\n            _id = id;\r\n        }\r\n    \r\n        /**\r\n         * @param name the name for the question.\r\n         */\r\n        public void setName(final String name) {\r\n            _name = name;\r\n        }\r\n    \r\n        /**\r\n         * @param questions list of questions to set.\r\n         */\r\n        public void setQuestions(List&lt;Question&gt; questions) {\r\n            _questions = questions;\r\n        }\r\n    }\r\n\r\nAny ideas what I&#39;m doing wrong?","title":"Unable to get spring boot to automatically create database schema","body":"<p>I'm unable to get spring boot to automatically load my database schema when I start it up.</p>\n\n<p>Here is my application.properties:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=test\nspring.datasource.password=\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\n\nspring.jpa.database = MYSQL\n\nspring.jpa.show-sql = true\n\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\n</code></pre>\n\n<p>Here is my Application.java:</p>\n\n<pre><code>@EnableAutoConfiguration\n@ComponentScan\npublic class Application {\n    public static void main(final String[] args){\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Here is a sample entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"survey\")\npublic class Survey implements Serializable {\n\n    private Long _id;\n\n    private String _name;\n\n    private List&lt;Question&gt; _questions;\n\n    /**\n     * @return survey's id.\n     */\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = \"survey_id\", unique = true, nullable = false)\n    public Long getId() {\n        return _id;\n    }\n\n    /**\n     * @return the survey name.\n     */\n    @Column(name = \"name\")\n    public String getName() {\n        return _name;\n    }\n\n\n    /**\n     * @return a list of survey questions.\n     */\n    @OneToMany(mappedBy = \"survey\")\n    @OrderBy(\"id\")\n    public List&lt;Question&gt; getQuestions() {\n        return _questions;\n    }\n\n    /**\n     * @param id the id to set to.\n     */\n    public void setId(Long id) {\n        _id = id;\n    }\n\n    /**\n     * @param name the name for the question.\n     */\n    public void setName(final String name) {\n        _name = name;\n    }\n\n    /**\n     * @param questions list of questions to set.\n     */\n    public void setQuestions(List&lt;Question&gt; questions) {\n        _questions = questions;\n    }\n}\n</code></pre>\n\n<p>Any ideas what I'm doing wrong?</p>\n"},{"tags":["java","bufferedimage"],"answers":[{"comments":[{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":3,"creation_date":1361155584,"post_id":9417836,"comment_id":20948344,"body_markdown":"That doesn&#39;t compile - getScaledInstance returns an Image not a BufferedImage.","body":"That doesn&#39;t compile - getScaledInstance returns an Image not a BufferedImage."},{"owner":{"account_id":1150708,"reputation":1718,"user_id":1132499,"accept_rate":89,"display_name":"Ocracoke"},"score":0,"creation_date":1361189890,"post_id":9417836,"comment_id":20960201,"body_markdown":"The example I used was extracted from a working example I have, but yes, this wouldn&#39;t compile as is. I&#39;ll update this now.","body":"The example I used was extracted from a working example I have, but yes, this wouldn&#39;t compile as is. I&#39;ll update this now."},{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":7,"creation_date":1361207324,"post_id":9417836,"comment_id":20969835,"body_markdown":"Still not safe - on my Macbook, e.g., I get a ClassCastException - it&#39;s not a guaranteed conversion.","body":"Still not safe - on my Macbook, e.g., I get a ClassCastException - it&#39;s not a guaranteed conversion."},{"owner":{"account_id":374470,"reputation":29327,"user_id":724689,"accept_rate":84,"display_name":"kazinix"},"score":1,"creation_date":1376138048,"post_id":9417836,"comment_id":26605703,"body_markdown":"This doesn&#39;t work, you cannot cast Image, which is result of getScaledInstance, into BufferedImage.","body":"This doesn&#39;t work, you cannot cast Image, which is result of getScaledInstance, into BufferedImage."},{"owner":{"account_id":2552155,"reputation":1265,"user_id":2215712,"accept_rate":75,"display_name":"TEK"},"score":4,"creation_date":1384530301,"post_id":9417836,"comment_id":29785862,"body_markdown":"@I82Much Write once, run anywhere... Ahem.","body":"@I82Much Write once, run anywhere... Ahem."},{"owner":{"account_id":947165,"reputation":8480,"user_id":974169,"accept_rate":57,"display_name":"Jasper"},"score":0,"creation_date":1406285235,"post_id":9417836,"comment_id":38783533,"body_markdown":"I get exception: sun.awt.image.ToolkitImage cannot be cast to java.awt.image.BufferedImage","body":"I get exception: sun.awt.image.ToolkitImage cannot be cast to java.awt.image.BufferedImage"},{"owner":{"account_id":436784,"reputation":945,"user_id":824142,"accept_rate":90,"display_name":"Jeremy"},"score":2,"creation_date":1411760495,"post_id":9417836,"comment_id":40841037,"body_markdown":"why is this listed as the correct answer when it doesn&#39;t work.","body":"why is this listed as the correct answer when it doesn&#39;t work."},{"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"score":0,"creation_date":1438202837,"post_id":9417836,"comment_id":51359605,"body_markdown":"@Alex this is normal, because a solid color when resized by, say, 2* width and 2* height will result in the surrounding colors being &quot;smeared&quot; with the color to make the image seem more &quot;smooth&quot; and less chunky.","body":"@Alex this is normal, because a solid color when resized by, say, 2* width and 2* height will result in the surrounding colors being &quot;smeared&quot; with the color to make the image seem more &quot;smooth&quot; and less chunky."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":8,"creation_date":1438661963,"post_id":9417836,"comment_id":51528073,"body_markdown":"Why `TYPE_INT_ARGB` and not `img.getType()`?","body":"Why <code>TYPE_INT_ARGB</code> and not <code>img.getType()</code>?"},{"owner":{"account_id":6418544,"reputation":636,"user_id":4975918,"accept_rate":100,"display_name":"John S."},"score":2,"creation_date":1453078430,"post_id":9417836,"comment_id":57431927,"body_markdown":"The reason the first one doesn&#39;t compile is because the getScaledInstance() returns a ToolkitImage, not an Image. The reason an Image can be cast to a BufferedImage is be cause Image is a superclass of BufferedImage, not ToolkitImage.","body":"The reason the first one doesn&#39;t compile is because the getScaledInstance() returns a ToolkitImage, not an Image. The reason an Image can be cast to a BufferedImage is be cause Image is a superclass of BufferedImage, not ToolkitImage."}],"tags":[],"owner":{"account_id":1150708,"reputation":1718,"user_id":1132499,"accept_rate":89,"display_name":"Ocracoke"},"comment_count":10,"down_vote_count":9,"up_vote_count":89,"is_accepted":true,"score":80,"last_activity_date":1476278196,"creation_date":1330017416,"answer_id":9417836,"question_id":9417356,"body_markdown":"*Updated answer*\r\n\r\nI cannot recall why [my original answer][1] worked but having tested it in a separate environment, I agree, the original accepted answer doesn&#39;t work (why I said it did I cannot remember either). This, on the other hand, did work:\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) { \r\n\t\tImage tmp = img.getScaledInstance(newW, newH, Image.SCALE_SMOOTH);\r\n\t\tBufferedImage dimg = new BufferedImage(newW, newH, BufferedImage.TYPE_INT_ARGB);\r\n\t\t\r\n\t\tGraphics2D g2d = dimg.createGraphics();\r\n\t\tg2d.drawImage(tmp, 0, 0, null);\r\n\t\tg2d.dispose();\r\n\t\t\r\n\t\treturn dimg;\r\n\t}  \r\n\r\n\r\n  [1]: https://stackoverflow.com/revisions/9417836/1","title":"Bufferedimage resize","body":"<p><em>Updated answer</em></p>\n\n<p>I cannot recall why <a href=\"https://stackoverflow.com/revisions/9417836/1\">my original answer</a> worked but having tested it in a separate environment, I agree, the original accepted answer doesn't work (why I said it did I cannot remember either). This, on the other hand, did work:</p>\n\n<pre><code>public static BufferedImage resize(BufferedImage img, int newW, int newH) { \n    Image tmp = img.getScaledInstance(newW, newH, Image.SCALE_SMOOTH);\n    BufferedImage dimg = new BufferedImage(newW, newH, BufferedImage.TYPE_INT_ARGB);\n\n    Graphics2D g2d = dimg.createGraphics();\n    g2d.drawImage(tmp, 0, 0, null);\n    g2d.dispose();\n\n    return dimg;\n}  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2786527,"reputation":393,"user_id":2397788,"accept_rate":40,"display_name":"java developer"},"score":0,"creation_date":1453366322,"post_id":9417963,"comment_id":57572282,"body_markdown":"Thumbnailator awesome.!","body":"Thumbnailator awesome.!"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1331740923,"creation_date":1330017835,"answer_id":9417963,"question_id":9417356,"body_markdown":"If all that is required is to resize a `BufferedImage` in the `resize` method, then the [Thumbnailator][1] library can do that fairly easily:\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) {\r\n      return Thumbnails.of(img).size(newW, newH).asBufferedImage();\r\n    }\r\n\r\nThe above code will resize the `img` to fit the dimensions of `newW` and `newH` while maintaining the aspect ratio of the original image.\r\n\r\nIf maintaining the aspect ratio is not required and resizing to exactly the given dimensions is required, then the `forceSize` method can be used in place of the `size` method:\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) {\r\n      return Thumbnails.of(img).forceSize(newW, newH).asBufferedImage();\r\n    }\r\n\r\n---\r\n\r\nUsing the [`Image.getScaledInstance`][2] method will not guarantee that the aspect ratio of the original image will be maintained for the resized image, and furthermore, it is in general very slow.\r\n\r\nThumbnailator uses a technique to progressively resize the image which can be [several times faster than `Image.getScaledInstance`][3] while achieving an image quality which generally is comparable.\r\n\r\n*Disclaimer: I am the maintainer of this library.*\r\n\r\n\r\n  [1]: http://code.google.com/p/thumbnailator/\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/awt/Image.html#getScaledInstance%28int,%20int,%20int%29\r\n  [3]: http://code.google.com/p/thumbnailator/wiki/Comparison","title":"Bufferedimage resize","body":"<p>If all that is required is to resize a <code>BufferedImage</code> in the <code>resize</code> method, then the <a href=\"http://code.google.com/p/thumbnailator/\" rel=\"noreferrer\">Thumbnailator</a> library can do that fairly easily:</p>\n\n<pre><code>public static BufferedImage resize(BufferedImage img, int newW, int newH) {\n  return Thumbnails.of(img).size(newW, newH).asBufferedImage();\n}\n</code></pre>\n\n<p>The above code will resize the <code>img</code> to fit the dimensions of <code>newW</code> and <code>newH</code> while maintaining the aspect ratio of the original image.</p>\n\n<p>If maintaining the aspect ratio is not required and resizing to exactly the given dimensions is required, then the <code>forceSize</code> method can be used in place of the <code>size</code> method:</p>\n\n<pre><code>public static BufferedImage resize(BufferedImage img, int newW, int newH) {\n  return Thumbnails.of(img).forceSize(newW, newH).asBufferedImage();\n}\n</code></pre>\n\n<hr>\n\n<p>Using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Image.html#getScaledInstance%28int,%20int,%20int%29\" rel=\"noreferrer\"><code>Image.getScaledInstance</code></a> method will not guarantee that the aspect ratio of the original image will be maintained for the resized image, and furthermore, it is in general very slow.</p>\n\n<p>Thumbnailator uses a technique to progressively resize the image which can be <a href=\"http://code.google.com/p/thumbnailator/wiki/Comparison\" rel=\"noreferrer\">several times faster than <code>Image.getScaledInstance</code></a> while achieving an image quality which generally is comparable.</p>\n\n<p><em>Disclaimer: I am the maintainer of this library.</em></p>\n"},{"tags":[],"owner":{"account_id":2003593,"reputation":1131,"user_id":1794049,"accept_rate":56,"display_name":"Frizz1977"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441180972,"creation_date":1383897729,"answer_id":19854162,"question_id":9417356,"body_markdown":"This class resize from a file and get the format name:\r\n\r\n    \r\n\timport java.awt.Image;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.io.ByteArrayOutputStream;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.util.Iterator;\r\n\timport javax.imageio.ImageIO;\r\n\timport javax.imageio.ImageReader;\r\n\timport javax.imageio.ImageWriter;\r\n\timport javax.imageio.stream.ImageInputStream;\r\n\timport org.apache.commons.io.IOUtils;\r\n\r\n\tpublic class ImageResizer {\r\n\r\n\tpublic static void main(String as[]) throws IOException{\r\n\r\n\t\tFile f = new File(&quot;C:/Users/samsungrob/Desktop/shuttle.jpg&quot;);\r\n\t\t\r\n\t\tbyte[] ba = resize(f, 600, 600);\r\n\t\t\r\n\t\tIOUtils.write(ba, new FileOutputStream( new File(&quot;C:/Users/samsungrob/Desktop/shuttle_resized.jpg&quot;) ) );\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n \r\n\tpublic static byte[] resize(File file,\r\n\t\t\t\t\t\t\t\tint maxWidth, int maxHeight) throws IOException{\r\n\t\tint scaledWidth = 0, scaledHeight = 0;\r\n\t\t\r\n\t\tBufferedImage img = ImageIO.read((ImageInputStream) file );\r\n\t\t\r\n\t\tscaledWidth = maxWidth;\r\n\t\tscaledHeight = (int) (img.getHeight() * ( (double) scaledWidth / img.getWidth() ));\r\n\t\t\r\n\t\tif (scaledHeight&gt; maxHeight) {\r\n\t\t\tscaledHeight = maxHeight;\r\n\t\t\tscaledWidth= (int) (img.getWidth() * ( (double) scaledHeight/ img.getHeight() ));\r\n\t\t\t\r\n\t\t\tif (scaledWidth &gt; maxWidth) {\r\n\t\t\t\tscaledWidth = maxWidth;\r\n\t\t\t\tscaledHeight = maxHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tImage resized =  img.getScaledInstance( scaledWidth, scaledHeight, Image.SCALE_SMOOTH);\r\n\t\t \r\n\t\tBufferedImage buffered = new BufferedImage(scaledWidth, scaledHeight, Image.SCALE_REPLICATE);\r\n\t\t\r\n\t\tbuffered.getGraphics().drawImage(resized, 0, 0 , null);\r\n\t\t\r\n\t\tString formatName = getFormatName( file ) ;\r\n\t\t\r\n\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\t\r\n\t\tImageIO.write(buffered,\r\n\t\t\t\tformatName,\r\n\t\t\t\tout);\r\n\t\t\r\n\t\treturn out.toByteArray();\r\n\t}\r\n\t\r\n\t\r\n\tprivate static String getFormatName(ImageInputStream iis) {\r\n\t    try { \r\n \r\n\t        // Find all image readers that recognize the image format\r\n\t        Iterator iter = ImageIO.getImageReaders(iis);\r\n\t        if (!iter.hasNext()) {\r\n\t            // No readers found\r\n\t            return null;\r\n\t        }\r\n\r\n\t        // Use the first reader\r\n\t        ImageReader reader = (ImageReader)iter.next();\r\n\r\n\t        // Close stream\r\n\t        iis.close();\r\n\r\n\t        // Return the format name\r\n\t        return reader.getFormatName();\r\n\t    } catch (IOException e) {\r\n\t    }\r\n\r\n\t    return null;\r\n\t}\r\n\t\r\n\tprivate static String getFormatName(File file) throws IOException {\r\n\t\treturn getFormatName( ImageIO.createImageInputStream(file) );\r\n\t}\r\n\t\r\n\tprivate static String getFormatName(InputStream is) throws IOException {\r\n\t\treturn getFormatName( ImageIO.createImageInputStream(is) );\r\n\t}\r\n}\r\n","title":"Bufferedimage resize","body":"<p>This class resize from a file and get the format name:</p>\n\n<pre><code>import java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Iterator;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageReader;\nimport javax.imageio.ImageWriter;\nimport javax.imageio.stream.ImageInputStream;\nimport org.apache.commons.io.IOUtils;\n\npublic class ImageResizer {\n\npublic static void main(String as[]) throws IOException{\n\n    File f = new File(\"C:/Users/samsungrob/Desktop/shuttle.jpg\");\n\n    byte[] ba = resize(f, 600, 600);\n\n    IOUtils.write(ba, new FileOutputStream( new File(\"C:/Users/samsungrob/Desktop/shuttle_resized.jpg\") ) );\n\n}\n\n\n\n\npublic static byte[] resize(File file,\n                            int maxWidth, int maxHeight) throws IOException{\n    int scaledWidth = 0, scaledHeight = 0;\n\n    BufferedImage img = ImageIO.read((ImageInputStream) file );\n\n    scaledWidth = maxWidth;\n    scaledHeight = (int) (img.getHeight() * ( (double) scaledWidth / img.getWidth() ));\n\n    if (scaledHeight&gt; maxHeight) {\n        scaledHeight = maxHeight;\n        scaledWidth= (int) (img.getWidth() * ( (double) scaledHeight/ img.getHeight() ));\n\n        if (scaledWidth &gt; maxWidth) {\n            scaledWidth = maxWidth;\n            scaledHeight = maxHeight;\n        }\n    }\n\n    Image resized =  img.getScaledInstance( scaledWidth, scaledHeight, Image.SCALE_SMOOTH);\n\n    BufferedImage buffered = new BufferedImage(scaledWidth, scaledHeight, Image.SCALE_REPLICATE);\n\n    buffered.getGraphics().drawImage(resized, 0, 0 , null);\n\n    String formatName = getFormatName( file ) ;\n\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n    ImageIO.write(buffered,\n            formatName,\n            out);\n\n    return out.toByteArray();\n}\n\n\nprivate static String getFormatName(ImageInputStream iis) {\n    try { \n\n        // Find all image readers that recognize the image format\n        Iterator iter = ImageIO.getImageReaders(iis);\n        if (!iter.hasNext()) {\n            // No readers found\n            return null;\n        }\n\n        // Use the first reader\n        ImageReader reader = (ImageReader)iter.next();\n\n        // Close stream\n        iis.close();\n\n        // Return the format name\n        return reader.getFormatName();\n    } catch (IOException e) {\n    }\n\n    return null;\n}\n\nprivate static String getFormatName(File file) throws IOException {\n    return getFormatName( ImageIO.createImageInputStream(file) );\n}\n\nprivate static String getFormatName(InputStream is) throws IOException {\n    return getFormatName( ImageIO.createImageInputStream(is) );\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":220924,"reputation":371,"user_id":478621,"display_name":"Pineechio"},"score":1,"creation_date":1614090806,"post_id":20420186,"comment_id":117274572,"body_markdown":"That link leads to all sorts of shady internet locations. The answer is a good one. ;)","body":"That link leads to all sorts of shady internet locations. The answer is a good one. ;)"},{"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"score":0,"creation_date":1617973022,"post_id":20420186,"comment_id":118467554,"body_markdown":"I would update my answer, but your comment gives me too much pleasure ^^ &lt;3 so i think this is the right link: https://github.com/rkalla/imgscalr","body":"I would update my answer, but your comment gives me too much pleasure ^^ &lt;3 so i think this is the right link: <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">github.com/rkalla/imgscalr</a>"}],"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1691177591,"creation_date":1386321634,"answer_id":20420186,"question_id":9417356,"body_markdown":"try the imgscalr library. Best lib i found- very fast, good quality and simple to use\r\n\r\n    BufferedImage thumbnail = Scalr.resize(image, 150);\r\n\r\n\r\nhttps://github.com/rkalla/imgscalr\r\n\r\n\r\n\r\n&gt;  Apache 2 License","title":"Bufferedimage resize","body":"<p>try the imgscalr library. Best lib i found- very fast, good quality and simple to use</p>\n<pre><code>BufferedImage thumbnail = Scalr.resize(image, 150);\n</code></pre>\n<p><a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">https://github.com/rkalla/imgscalr</a></p>\n<blockquote>\n<p>Apache 2 License</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3551933,"reputation":3290,"user_id":2966603,"accept_rate":36,"display_name":"RichardK"},"score":1,"creation_date":1584444789,"post_id":25973418,"comment_id":107432801,"body_markdown":"Just to add, that this is Imgscalr library -&gt; https://mvnrepository.com/artifact/org.imgscalr/imgscalr-lib","body":"Just to add, that this is Imgscalr library -&gt; <a href=\"https://mvnrepository.com/artifact/org.imgscalr/imgscalr-lib\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.imgscalr/imgscalr-lib</a>"}],"tags":[],"owner":{"account_id":4517379,"reputation":11,"user_id":3671785,"display_name":"Kiran_Pawar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411387950,"creation_date":1411386582,"answer_id":25973418,"question_id":9417356,"body_markdown":"Check this out, it helps:\r\n\r\n    BufferedImage bImage = ImageIO.read(new File(C:\\image.jpg);\r\n    \r\n    BufferedImage thumbnail = Scalr.resize(bImage,  Scalr.Method.SPEED, Scalr.Mode.FIT_TO_WIDTH,\r\n    \t\t\t\t\t\t               750, 150, Scalr.OP_ANTIALIAS);","title":"Bufferedimage resize","body":"<p>Check this out, it helps:</p>\n\n<pre><code>BufferedImage bImage = ImageIO.read(new File(C:\\image.jpg);\n\nBufferedImage thumbnail = Scalr.resize(bImage,  Scalr.Method.SPEED, Scalr.Mode.FIT_TO_WIDTH,\n                                       750, 150, Scalr.OP_ANTIALIAS);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11915518,"reputation":106,"user_id":8719530,"display_name":"nyx00"},"score":0,"creation_date":1568985528,"post_id":44783005,"comment_id":102460696,"body_markdown":"great method, but the proportions where not correct, when I divided the factor for the height by the squareroot of two it worked fine.. =)","body":"great method, but the proportions where not correct, when I divided the factor for the height by the squareroot of two it worked fine.. =)"}],"tags":[],"owner":{"account_id":7853264,"reputation":103,"user_id":5936049,"display_name":"rlbaker"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498574030,"creation_date":1498574030,"answer_id":44783005,"question_id":9417356,"body_markdown":"Here&#39;s some code that I have used to resize bufferedimages, no frills, pretty quick:\r\n\r\n    public static BufferedImage scale(BufferedImage src, int w, int h)\r\n\t{\r\n\t\tBufferedImage img = \r\n\t\t\t\tnew BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n\t\tint x, y;\r\n\t\tint ww = src.getWidth();\r\n\t\tint hh = src.getHeight();\r\n\t\tint[] ys = new int[h];\r\n\t\tfor (y = 0; y &lt; h; y++)\r\n\t\t\tys[y] = y * hh / h;\r\n\t\tfor (x = 0; x &lt; w; x++) {\r\n\t\t\tint newX = x * ww / w;\r\n\t\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\t\tint col = src.getRGB(newX, ys[y]);\r\n\t\t\t\timg.setRGB(x, y, col);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn img;\r\n\t}\r\n","title":"Bufferedimage resize","body":"<p>Here's some code that I have used to resize bufferedimages, no frills, pretty quick:</p>\n\n<pre><code>public static BufferedImage scale(BufferedImage src, int w, int h)\n{\n    BufferedImage img = \n            new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n    int x, y;\n    int ww = src.getWidth();\n    int hh = src.getHeight();\n    int[] ys = new int[h];\n    for (y = 0; y &lt; h; y++)\n        ys[y] = y * hh / h;\n    for (x = 0; x &lt; w; x++) {\n        int newX = x * ww / w;\n        for (y = 0; y &lt; h; y++) {\n            int col = src.getRGB(newX, ys[y]);\n            img.setRGB(x, y, col);\n        }\n    }\n    return img;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14832834,"reputation":41,"user_id":10711872,"display_name":"Clint"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543325479,"creation_date":1543325479,"answer_id":53500868,"question_id":9417356,"body_markdown":"This is a shortened version of what is actually happening in imgscalr, if you just want to use the &quot;balanced&quot; smoothing:\r\n\r\n    /**\r\n     * Takes a BufferedImage and resizes it according to the provided targetSize\r\n     *\r\n     * @param src the source BufferedImage\r\n     * @param targetSize maximum height (if portrait) or width (if landscape)\r\n     * @return a resized version of the provided BufferedImage\r\n     */\r\n    private BufferedImage resize(BufferedImage src, int targetSize) {\r\n        if (targetSize &lt;= 0) {\r\n            return src; //this can&#39;t be resized\r\n        }\r\n        int targetWidth = targetSize;\r\n        int targetHeight = targetSize;\r\n        float ratio = ((float) src.getHeight() / (float) src.getWidth());\r\n        if (ratio &lt;= 1) { //square or landscape-oriented image\r\n            targetHeight = (int) Math.ceil((float) targetWidth * ratio);\r\n        } else { //portrait image\r\n            targetWidth = Math.round((float) targetHeight / ratio);\r\n        }\r\n        BufferedImage bi = new BufferedImage(targetWidth, targetHeight, src.getTransparency() == Transparency.OPAQUE ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2d = bi.createGraphics();\r\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR); //produces a balanced resizing (fast and decent quality)\r\n        g2d.drawImage(src, 0, 0, targetWidth, targetHeight, null);\r\n        g2d.dispose();\r\n        return bi;\r\n    }","title":"Bufferedimage resize","body":"<p>This is a shortened version of what is actually happening in imgscalr, if you just want to use the \"balanced\" smoothing:</p>\n\n<pre><code>/**\n * Takes a BufferedImage and resizes it according to the provided targetSize\n *\n * @param src the source BufferedImage\n * @param targetSize maximum height (if portrait) or width (if landscape)\n * @return a resized version of the provided BufferedImage\n */\nprivate BufferedImage resize(BufferedImage src, int targetSize) {\n    if (targetSize &lt;= 0) {\n        return src; //this can't be resized\n    }\n    int targetWidth = targetSize;\n    int targetHeight = targetSize;\n    float ratio = ((float) src.getHeight() / (float) src.getWidth());\n    if (ratio &lt;= 1) { //square or landscape-oriented image\n        targetHeight = (int) Math.ceil((float) targetWidth * ratio);\n    } else { //portrait image\n        targetWidth = Math.round((float) targetHeight / ratio);\n    }\n    BufferedImage bi = new BufferedImage(targetWidth, targetHeight, src.getTransparency() == Transparency.OPAQUE ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2d = bi.createGraphics();\n    g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR); //produces a balanced resizing (fast and decent quality)\n    g2d.drawImage(src, 0, 0, targetWidth, targetHeight, null);\n    g2d.dispose();\n    return bi;\n}\n</code></pre>\n"}],"owner":{"account_id":1057872,"reputation":957,"user_id":1060187,"accept_rate":53,"display_name":"user1060187"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123704,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":9417836,"answer_count":7,"score":55,"last_activity_date":1691177591,"creation_date":1330015650,"question_id":9417356,"body_markdown":"I am trying to resized a bufferedimage. I am able to store it and show up on a jframe no problems but I can&#39;t seem to resize it. Any tips on how I can change this to make it work and show the image as a 200*200 file would be great    \r\n\r\n    private void profPic(){\r\n        String path = factory.getString(&quot;bottle&quot;);\r\n        BufferedImage img = ImageIO.read(new File(path));\r\n    }\r\n\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) {  \r\n        int w = img.getWidth();  \r\n        int h = img.getHeight();  \r\n        BufferedImage dimg = new BufferedImage(newW, newH, img.getType());  \r\n        Graphics2D g = dimg.createGraphics();  \r\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\r\n        RenderingHints.VALUE_INTERPOLATION_BILINEAR);  \r\n        g.drawImage(img, 0, 0, newW, newH, 0, 0, w, h, null);  \r\n        g.dispose();  \r\n        return dimg;  \r\n    }  ","title":"Bufferedimage resize","body":"<p>I am trying to resized a bufferedimage. I am able to store it and show up on a jframe no problems but I can't seem to resize it. Any tips on how I can change this to make it work and show the image as a 200*200 file would be great    </p>\n\n<pre><code>private void profPic(){\n    String path = factory.getString(\"bottle\");\n    BufferedImage img = ImageIO.read(new File(path));\n}\n\n\npublic static BufferedImage resize(BufferedImage img, int newW, int newH) {  \n    int w = img.getWidth();  \n    int h = img.getHeight();  \n    BufferedImage dimg = new BufferedImage(newW, newH, img.getType());  \n    Graphics2D g = dimg.createGraphics();  \n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\n    RenderingHints.VALUE_INTERPOLATION_BILINEAR);  \n    g.drawImage(img, 0, 0, newW, newH, 0, 0, w, h, null);  \n    g.dispose();  \n    return dimg;  \n}  \n</code></pre>\n"},{"tags":["java","maven","javafx","java-17"],"comments":[{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1691160175,"post_id":76836674,"comment_id":135458631,"body_markdown":"With java8, javafx is part of the jdk, but no longer the case for java17. You may have to add javafx module path and modules to your java command line parameters. It would be something like this: --module-path $your-javafx-sdk-path --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web","body":"With java8, javafx is part of the jdk, but no longer the case for java17. You may have to add javafx module path and modules to your java command line parameters. It would be something like this: --module-path $your-javafx-sdk-path --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,java&zwnj;&#8203;fx.media,javafx.swin&zwnj;&#8203;g,javafx.web"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691165427,"post_id":76836674,"comment_id":135459751,"body_markdown":"(A) In your POM, add a dependency for the OpenJFX libraries that implement JavaFX. Or else use a JDK from Azul Systems or BellSoft that bundle the libraries. (B) JavaFX is [modularized](https://en.wikipedia.org/wiki/Java_Platform_Module_System). You’ll need to learn the basics of JPMS, and add a `module-info.java` file.","body":"(A) In your POM, add a dependency for the OpenJFX libraries that implement JavaFX. Or else use a JDK from Azul Systems or BellSoft that bundle the libraries. (B) JavaFX is <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modularized</a>. You’ll need to learn the basics of JPMS, and add a <code>module-info.java</code> file."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691170059,"post_id":76836674,"comment_id":135460629,"body_markdown":"How are you runnng the app with JavaFX 17 when it works and when it breaks?  What is are command lines used? Edit the question and add the commands there as text, formatted as code. Provide a [mcve] to replicate the issue.  Idea new JavaFX project will add a module-info which makes your app modular, but perhaps your app doesn’t function as a modular app, and you *may* need to follow non-modular getting started instructions at openjfx.io  Easiest though might be to use a JDK that includes JavaFX as suggested by Basil, it might work with your existing project with no additional changes.","body":"How are you runnng the app with JavaFX 17 when it works and when it breaks?  What is are command lines used? Edit the question and add the commands there as text, formatted as code. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to replicate the issue.  Idea new JavaFX project will add a module-info which makes your app modular, but perhaps your app doesn’t function as a modular app, and you <i>may</i> need to follow non-modular getting started instructions at openjfx.io  Easiest though might be to use a JDK that includes JavaFX as suggested by Basil, it might work with your existing project with no additional changes."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691170509,"post_id":76836674,"comment_id":135460703,"body_markdown":"Perhaps a duplicate: [ntelliJ can&#39;t recognize JavaFX 11 with OpenJDK 11](https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11)","body":"Perhaps a duplicate: <a href=\"https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11\">ntelliJ can&#39;t recognize JavaFX 11 with OpenJDK 11</a>"},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1691176369,"post_id":76836674,"comment_id":135461753,"body_markdown":"@CjY I&#39;m able to run the app from the main class without any command line params. The problems is only when I run the app from a test class. I&#39;ll update the question.","body":"@CjY I&#39;m able to run the app from the main class without any command line params. The problems is only when I run the app from a test class. I&#39;ll update the question."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1691176507,"post_id":76836674,"comment_id":135461776,"body_markdown":"@BasilBourque The dependencies are already included in the pom, and I already have the module-info.java file in place. Since I&#39;m able to run the app from the main class, my guess would be that the pom and module files are ok.","body":"@BasilBourque The dependencies are already included in the pom, and I already have the module-info.java file in place. Since I&#39;m able to run the app from the main class, my guess would be that the pom and module files are ok."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1691176780,"post_id":76836674,"comment_id":135461827,"body_markdown":"@jewelsea The app works when I run it from the main class, it breaks when I run it from a test class. The main class and test class are identical except that the test class instantiates a mock endpoints. I&#39;m quite sure that this difference is not the problem.","body":"@jewelsea The app works when I run it from the main class, it breaks when I run it from a test class. The main class and test class are identical except that the test class instantiates a mock endpoints. I&#39;m quite sure that this difference is not the problem."},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1691178546,"post_id":76836674,"comment_id":135462121,"body_markdown":"When your main class runs, what is your java command line parameters look like? While it&#39;s running, you can do something like this to capture it: wmic path win32_process where &quot;name like &#39;%java%&#39;&quot; get Caption,Processid,Commandline","body":"When your main class runs, what is your java command line parameters look like? While it&#39;s running, you can do something like this to capture it: wmic path win32_process where &quot;name like &#39;%java%&#39;&quot; get Caption,Processid,Commandline"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1691181450,"post_id":76836674,"comment_id":135462541,"body_markdown":"&quot;_Or should I add another execution referring to the test class?_&quot; – That would seem the correct solution to me (but I&#39;m more familiar with Gradle than Maven).","body":"&quot;<i>Or should I add another execution referring to the test class?</i>&quot; – That would seem the correct solution to me (but I&#39;m more familiar with Gradle than Maven)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691182078,"post_id":76836674,"comment_id":135462639,"body_markdown":"Also note, that if you are in the IDE and the project is correctly configured and setup, there is no need to use the `javafx-maven-plugin` at all, as demoed in the [Idea new project wizard documentation](https://www.jetbrains.com/help/idea/javafx.html).  Unless you are using the plugin for linking (I don&#39;t think you are), it doesn&#39;t need to be in your project.","body":"Also note, that if you are in the IDE and the project is correctly configured and setup, there is no need to use the <code>javafx-maven-plugin</code> at all, as demoed in the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Idea new project wizard documentation</a>.  Unless you are using the plugin for linking (I don&#39;t think you are), it doesn&#39;t need to be in your project."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691208352,"post_id":76836674,"comment_id":135464424,"body_markdown":"Please add the requested execution commands to the question as text, formatted as code. You can get them from the Idea console when you run the app. It will show up in the console as a grayed-out string like `&lt;jdkpath&gt;/java . . .` Click on the `. . .`, it will expand the line to show the entire execution command. Copy and paste that into the question as text formatted as code. Do it for the execution that works, and the one that does not. You can&#39;t be helped if nobody really knows what you are doing, and it cannot be replicated in another environment. A [mcve] is best.","body":"Please add the requested execution commands to the question as text, formatted as code. You can get them from the Idea console when you run the app. It will show up in the console as a grayed-out string like <code>&lt;jdkpath&gt;&#47;java . . .</code> Click on the <code>. . .</code>, it will expand the line to show the entire execution command. Copy and paste that into the question as text formatted as code. Do it for the execution that works, and the one that does not. You can&#39;t be helped if nobody really knows what you are doing, and it cannot be replicated in another environment. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is best."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691208476,"post_id":76836674,"comment_id":135464431,"body_markdown":"[openjfx.io](https://openjfx.io/openjfx-docs/) also documents use of JavaFX.","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a> also documents use of JavaFX."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":1,"creation_date":1691411228,"post_id":76836674,"comment_id":135483470,"body_markdown":"@CjY Ok so in the end I just went for your `--module-path --add-modules` approach. Still don&#39;t understand why first the main class was running and the test class not... But with this approach both I can run both classes. All of you thanks for your help!","body":"@CjY Ok so in the end I just went for your <code>--module-path --add-modules</code> approach. Still don&#39;t understand why first the main class was running and the test class not... But with this approach both I can run both classes. All of you thanks for your help!"}],"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691177337,"creation_date":1691157854,"question_id":76836674,"body_markdown":"I used the Intellij JavaFX generator to create a JavaFx application with Java17 and Maven. The `javafx-maven-plugin` specifies a main class and **I can run the app from this main class**. But I also want to run the app from a test class. If I try that I get this error:\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this application\r\n\r\nOriginally I built the app with Java8 and JavaFX. With Java8 I could run the app from the main class as well as the test class. Simply converting the project to Java17 didn&#39;t work so I had Intellij generate a new project and copied the old source into the new project. With Java17 I can run the app from the main class but not from the test class.\r\n\r\nHow can I run the app from the test class in the new project? Thanks in advance!\r\n\r\nEdit:\r\n\r\nAn excerpt from the pom as generated by Intellij:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;io.wouter.gmsbooks.offerapp/io.wouter.gmsbooks.GmsOfferApp&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThe `javafx-maven-plugin` only mentions a main class, no test class. Or should I add another `execution` referring to the test class?","title":"Running JavaFx app from test class gives error","body":"<p>I used the Intellij JavaFX generator to create a JavaFx application with Java17 and Maven. The <code>javafx-maven-plugin</code> specifies a main class and <strong>I can run the app from this main class</strong>. But I also want to run the app from a test class. If I try that I get this error:</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>Originally I built the app with Java8 and JavaFX. With Java8 I could run the app from the main class as well as the test class. Simply converting the project to Java17 didn't work so I had Intellij generate a new project and copied the old source into the new project. With Java17 I can run the app from the main class but not from the test class.</p>\n<p>How can I run the app from the test class in the new project? Thanks in advance!</p>\n<p>Edit:</p>\n<p>An excerpt from the pom as generated by Intellij:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;io.wouter.gmsbooks.offerapp/io.wouter.gmsbooks.GmsOfferApp&lt;/mainClass&gt;\n                        &lt;launcher&gt;app&lt;/launcher&gt;\n                        &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                        &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                        &lt;noManPages&gt;true&lt;/noManPages&gt;\n                        &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                        &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The <code>javafx-maven-plugin</code> only mentions a main class, no test class. Or should I add another <code>execution</code> referring to the test class?</p>\n"},{"tags":["java","file-io","properties"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1350042243,"post_id":12858299,"comment_id":17401954,"body_markdown":"Can you provide a self contained example to reproduce your problem? I suspect when you re-examine your test you will find that the `port` was not being loaded.","body":"Can you provide a self contained example to reproduce your problem? I suspect when you re-examine your test you will find that the <code>port</code> was not being loaded."},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1350042301,"post_id":12858299,"comment_id":17401978,"body_markdown":"OP, we&#39;re trying to help format the code (properties). Why do you revert the editions ? BTW [this](http://stackoverflow.com/editing-help) might help.","body":"OP, we&#39;re trying to help format the code (properties). Why do you revert the editions ? BTW <a href=\"http://stackoverflow.com/editing-help\">this</a> might help."},{"owner":{"account_id":1212429,"reputation":19082,"user_id":1180720,"accept_rate":74,"display_name":"gefei"},"score":0,"creation_date":1350042331,"post_id":12858299,"comment_id":17401992,"body_markdown":"it seems that in config.txt the property &quot;port&quot; does not exist.","body":"it seems that in config.txt the property &quot;port&quot; does not exist."},{"owner":{"account_id":1336598,"reputation":5274,"user_id":1279200,"accept_rate":71,"display_name":"Johnathan Au"},"score":0,"creation_date":1350042375,"post_id":12858299,"comment_id":17402016,"body_markdown":"Oh sorry, I didn&#39;t notice. I noticed some mistakes so I edited it.","body":"Oh sorry, I didn&#39;t notice. I noticed some mistakes so I edited it."},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1350042411,"post_id":12858299,"comment_id":17402034,"body_markdown":"@JohnathanAu Put here the complete code demonstrating the correct read of root and the incorrect read of port after one load.","body":"@JohnathanAu Put here the complete code demonstrating the correct read of root and the incorrect read of port after one load."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1350042562,"post_id":12858299,"comment_id":17402108,"body_markdown":"Is the result of the 2-Param-`getProperty` = 80 by any chance?","body":"Is the result of the 2-Param-<code>getProperty</code> = 80 by any chance?"},{"owner":{"account_id":4795114,"reputation":657,"user_id":3873267,"accept_rate":57,"display_name":"caniaskyouaquestion"},"score":0,"creation_date":1418122121,"post_id":12858299,"comment_id":43203682,"body_markdown":"@JohnathanAu hey man, how did you solve this? i am having the same problem retrieving and int parameter from my confing file. It wont cast from Object to int...so i am having trouble getting my port number. thanks","body":"@JohnathanAu hey man, how did you solve this? i am having the same problem retrieving and int parameter from my confing file. It wont cast from Object to int...so i am having trouble getting my port number. thanks"}],"answers":[{"comments":[{"owner":{"account_id":1336598,"reputation":5274,"user_id":1279200,"accept_rate":71,"display_name":"Johnathan Au"},"score":0,"creation_date":1350042727,"post_id":12858450,"comment_id":17402183,"body_markdown":"Do I have to explicitly setProperty in my program? I want to type inside the text file myself...","body":"Do I have to explicitly setProperty in my program? I want to type inside the text file myself..."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1350042798,"post_id":12858450,"comment_id":17402222,"body_markdown":"@JohnathanAu Peter just tested and found the reading part of your app itself works. You can do the same test and diff the outcome of above test and your own props-file. Maybe you find a difference causing your problem?","body":"@JohnathanAu Peter just tested and found the reading part of your app itself works. You can do the same test and diff the outcome of above test and your own props-file. Maybe you find a difference causing your problem?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1350042911,"post_id":12858450,"comment_id":17402284,"body_markdown":"@JohnathanAu I did this to show how you can write a simple program which anyone can run to demonstrate there is or is not a problem.  In short, you are doing something wrong, but you don&#39;t know what it is and there isn&#39;t enough information for us to tell you what it is.  If you construct a simple, complete example you are likely to work out what the problem is yourself, if not you can post it here and we can see what the matter is.","body":"@JohnathanAu I did this to show how you can write a simple program which anyone can run to demonstrate there is or is not a problem.  In short, you are doing something wrong, but you don&#39;t know what it is and there isn&#39;t enough information for us to tell you what it is.  If you construct a simple, complete example you are likely to work out what the problem is yourself, if not you can post it here and we can see what the matter is."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1350043057,"post_id":12858450,"comment_id":17402369,"body_markdown":"`I want to type inside the text file myself...` In that case you need to edit the right file correctly which is what you appear to be having trouble with.","body":"<code>I want to type inside the text file myself...</code> In that case you need to edit the right file correctly which is what you appear to be having trouble with."},{"owner":{"account_id":455397,"reputation":140,"user_id":853544,"display_name":"Giulio Quaresima"},"score":1,"creation_date":1350043102,"post_id":12858450,"comment_id":17402392,"body_markdown":"I also think there is not port property in your config.txt","body":"I also think there is not port property in your config.txt"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1350043196,"post_id":12858450,"comment_id":17402427,"body_markdown":"I bet there is some formatting issue that prevents the port-property to be recognized by java.","body":"I bet there is some formatting issue that prevents the port-property to be recognized by java."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":6,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1350042616,"creation_date":1350042616,"answer_id":12858450,"question_id":12858299,"body_markdown":"&gt; Can you provide a self contained example to reproduce your problem?\n&gt;\n&gt; Sorry, I don&#39;t understand \n\nWhen I run\n\n    Properties prop = new Properties();\n    prop.setProperty(&quot;root&quot;, &quot;some root&quot;);\n    prop.setProperty(&quot;port&quot;, &quot;8020&quot;);\n    prop.store(new FileWriter(&quot;config.txt&quot;), &quot;test&quot;);\n    \n    Properties config = new Properties();\n    //loading properties from properties file\n    config.load(new FileReader(&quot;config.txt&quot;));\n    \n    int port = Integer.parseInt(config.getProperty(&quot;port&quot;));\n    System.out.println(&quot;this is port &quot; + port);\n\nI get\n\n    this is port 8020\n\n","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<blockquote>\n<p>Can you provide a self contained example to reproduce your problem?</p>\n<p>Sorry, I don't understand</p>\n</blockquote>\n<p>When I run</p>\n<pre><code>Properties prop = new Properties();\nprop.setProperty(&quot;root&quot;, &quot;some root&quot;);\nprop.setProperty(&quot;port&quot;, &quot;8020&quot;);\nprop.store(new FileWriter(&quot;config.txt&quot;), &quot;test&quot;);\n\nProperties config = new Properties();\n//loading properties from properties file\nconfig.load(new FileReader(&quot;config.txt&quot;));\n\nint port = Integer.parseInt(config.getProperty(&quot;port&quot;));\nSystem.out.println(&quot;this is port &quot; + port);\n</code></pre>\n<p>I get</p>\n<pre><code>this is port 8020\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1439454440,"creation_date":1439453444,"answer_id":31982866,"question_id":12858299,"body_markdown":"**The difference is**\r\n\r\n    root= some root #STRING\r\n    \r\n    port=8020  #INTEGER\r\n\r\nso to get the root property you can do this.. \r\n\r\n    props.getProperty(&quot;root&quot;); //Returns a String\r\n\r\nfor the integer \r\n\r\n    props.get(&quot;port&quot;); //Returns a Object\r\n\r\n\r\n\r\n----------\r\n\r\n**How the Java Properties class works**\r\n\r\n    public String getProperty(String key) {\r\n    \tObject oval = super.get(key);\r\n    \tString sval = (oval instanceof String) ? (String)oval : null;\r\n    \treturn ((sval == null) &amp;&amp; (defaults != null)) ? defaults.getProperty(key) : sval;\r\n        }\r\n\r\n\r\n----------\r\n\r\n\r\n*//btw. Peter Lawrey is putting the port as String - thats why its works in his version.* \r\n\r\n\r\n**READ THIS:** [difference between get &amp; getProperty][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11104395/difference-between-get-vs-getproperty","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<p><strong>The difference is</strong></p>\n\n<pre><code>root= some root #STRING\n\nport=8020  #INTEGER\n</code></pre>\n\n<p>so to get the root property you can do this.. </p>\n\n<pre><code>props.getProperty(\"root\"); //Returns a String\n</code></pre>\n\n<p>for the integer </p>\n\n<pre><code>props.get(\"port\"); //Returns a Object\n</code></pre>\n\n<hr>\n\n<p><strong>How the Java Properties class works</strong></p>\n\n<pre><code>public String getProperty(String key) {\n    Object oval = super.get(key);\n    String sval = (oval instanceof String) ? (String)oval : null;\n    return ((sval == null) &amp;&amp; (defaults != null)) ? defaults.getProperty(key) : sval;\n    }\n</code></pre>\n\n<hr>\n\n<p><em>//btw. Peter Lawrey is putting the port as String - thats why its works in his version.</em> </p>\n\n<p><strong>READ THIS:</strong> <a href=\"https://stackoverflow.com/questions/11104395/difference-between-get-vs-getproperty\">difference between get &amp; getProperty</a></p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691177323,"creation_date":1536273891,"answer_id":52213005,"question_id":12858299,"body_markdown":"    properties.get(&quot;key) - should work for any object type - convert it later to a specific type\r\n    properties.getProperty(&quot;key&quot;) -- will always get a string regardless of a value type in the properties.","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<pre><code>properties.get(&quot;key) - should work for any object type - convert it later to a specific type\nproperties.getProperty(&quot;key&quot;) -- will always get a string regardless of a value type in the properties.\n</code></pre>\n"}],"owner":{"account_id":1336598,"reputation":5274,"user_id":1279200,"accept_rate":71,"display_name":"Johnathan Au"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41129,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12858450,"answer_count":3,"score":10,"last_activity_date":1691177323,"creation_date":1350042124,"question_id":12858299,"body_markdown":"I&#39;m trying to write a configs file in Java and I put my port number inside it for my HTTP Web Server to connect to and also the root path.\r\n\r\nConfigs file:\r\n\r\n    root= some root\r\n    port=8020\r\n\r\nI am trying to access the properties like this:\r\n\r\n    FileInputStream file = new FileInputStream(&quot;config.txt&quot;);       \r\n    //loading properties from properties file        \r\n    config.load(file);\r\n    \r\n    int port = Integer.parseInt(config.getProperty(&quot;port&quot;));   \r\n    System.out.println(&quot;this is port &quot; + port);\r\n\r\nIf I do it with a single parameter in the `getProperty` method, I get this error\r\n\r\n    &quot;java.lang.NumberFormatException: null&quot;\r\n\r\nHowever, if I access it like this\r\n\r\n `int port = Integer.parseInt(config.getProperty(&quot;port&quot;, &quot;80&quot;));` \r\n\r\nit works. \r\n\r\nAlso, it works for `config.getProperty(&quot;root&quot;);` so I don&#39;t understand...\r\n\r\nEdit:\r\n\r\n\r\n    import java.net.*;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.*;\r\n\r\n    public class Server\r\n    {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tboolean listening = true;\r\n    \t\tServerSocket server = null;\t\t\r\n    \t\tProperties config = new Properties();\r\n    \t\tint port = 0;\r\n    \t\ttry\r\n    \t\t{\t\t       \r\n            \t//Reading properties file\r\n    \t        FileInputStream file = new FileInputStream(&quot;config.txt&quot;);       \r\n            \t//loading properties from properties file        \r\n            \tconfig.load(file);\r\n            \t\r\n            \tport = Integer.parseInt(config.getProperty(&quot;port&quot;));   \r\n            \tSystem.out.println(&quot;this is port &quot; + port);\r\n    \r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Server binding to port &quot; + port);\r\n    \t\t\tserver = new ServerSocket(port);\r\n    \t\t\t\r\n    \t\t\t\r\n                \t\r\n            }\r\n            catch(FileNotFoundException e)\r\n            {\r\n            \tSystem.out.println(&quot;File not found: &quot; + e);\r\n            }\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Error: &quot; + e);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Server successfully binded to port &quot; + port);\r\n    \t\t\r\n    \t\twhile(listening)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Attempting to connect to client&quot;);\r\n    \t\t\tSocket client = server.accept();\r\n    \t\t\tSystem.out.println(&quot;Successfully connected to client&quot;);\r\n    \t\t\tnew HTTPThread(client, config).start();\r\n    \t\t}\r\n    \t\t\r\n    \t\tserver.close();\r\n    \t}\r\n    \r\n    }","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<p>I'm trying to write a configs file in Java and I put my port number inside it for my HTTP Web Server to connect to and also the root path.</p>\n\n<p>Configs file:</p>\n\n<pre><code>root= some root\nport=8020\n</code></pre>\n\n<p>I am trying to access the properties like this:</p>\n\n<pre><code>FileInputStream file = new FileInputStream(\"config.txt\");       \n//loading properties from properties file        \nconfig.load(file);\n\nint port = Integer.parseInt(config.getProperty(\"port\"));   \nSystem.out.println(\"this is port \" + port);\n</code></pre>\n\n<p>If I do it with a single parameter in the <code>getProperty</code> method, I get this error</p>\n\n<pre><code>\"java.lang.NumberFormatException: null\"\n</code></pre>\n\n<p>However, if I access it like this</p>\n\n<p><code>int port = Integer.parseInt(config.getProperty(\"port\", \"80\"));</code> </p>\n\n<p>it works. </p>\n\n<p>Also, it works for <code>config.getProperty(\"root\");</code> so I don't understand...</p>\n\n<p>Edit:</p>\n\n<pre><code>import java.net.*;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.util.*;\n\npublic class Server\n{\n\n\n    public static void main(String[] args) throws Exception\n    {\n        boolean listening = true;\n        ServerSocket server = null;     \n        Properties config = new Properties();\n        int port = 0;\n        try\n        {              \n            //Reading properties file\n            FileInputStream file = new FileInputStream(\"config.txt\");       \n            //loading properties from properties file        \n            config.load(file);\n\n            port = Integer.parseInt(config.getProperty(\"port\"));   \n            System.out.println(\"this is port \" + port);\n\n\n            System.out.println(\"Server binding to port \" + port);\n            server = new ServerSocket(port);\n\n\n\n        }\n        catch(FileNotFoundException e)\n        {\n            System.out.println(\"File not found: \" + e);\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"Error: \" + e);\n            System.exit(1);\n        }\n\n        System.out.println(\"Server successfully binded to port \" + port);\n\n        while(listening)\n        {\n            System.out.println(\"Attempting to connect to client\");\n            Socket client = server.accept();\n            System.out.println(\"Successfully connected to client\");\n            new HTTPThread(client, config).start();\n        }\n\n        server.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691177319,"creation_date":1691177319,"answer_id":76838700,"question_id":76813206,"body_markdown":"So, whoever meets this, the problem were in that of hosts ip, if it is present it takes 20 seconds from somewhere, however if it is not available it takes our timeout. ","title":"Java Spring RestTemplate timeout does not work properly","body":"<p>So, whoever meets this, the problem were in that of hosts ip, if it is present it takes 20 seconds from somewhere, however if it is not available it takes our timeout.</p>\n"}],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838700,"answer_count":1,"score":0,"last_activity_date":1691177319,"creation_date":1690904043,"question_id":76813206,"body_markdown":"I have such scenario where I do a request to an API , let&#39;s say I am doing that request using restTemplate.exchange method. I do set the timeouts like this:\r\n\r\n    ((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectTimeout(200090);\r\n          ((HttpComponentsClientHttpRequestFactory) requestFactory).setReadTimeout(99999999);\r\n          ((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectionRequestTimeout(200900);\r\n\r\nand when I am online everything is OK, however, when I do press to make the request and I eject the Network cable, it waits like 10-20 seconds (not as my timeout) and it throws an SocketTimeoutException and that&#39;s it, I debugged , tried to apply many of solutions however could not find anything precious. Have anyone encountered this with RestTemplate and Spring? (In debugging everything is set accordingly, all my timeouts are present, even if I use factory it uses the correct instance) .\r\n\r\nMy desired scenario is: Enter for request -&gt; Disconnect network cable -&gt; The applications follows the timeout set in it, and only after it it gives error or whatever. How can I fix this? \r\n\r\nJava JDK 1.8 , httpclient-4.5.12, Spring 4.3.12-RELEASE.","title":"Java Spring RestTemplate timeout does not work properly","body":"<p>I have such scenario where I do a request to an API , let's say I am doing that request using restTemplate.exchange method. I do set the timeouts like this:</p>\n<pre><code>((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectTimeout(200090);\n      ((HttpComponentsClientHttpRequestFactory) requestFactory).setReadTimeout(99999999);\n      ((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectionRequestTimeout(200900);\n</code></pre>\n<p>and when I am online everything is OK, however, when I do press to make the request and I eject the Network cable, it waits like 10-20 seconds (not as my timeout) and it throws an SocketTimeoutException and that's it, I debugged , tried to apply many of solutions however could not find anything precious. Have anyone encountered this with RestTemplate and Spring? (In debugging everything is set accordingly, all my timeouts are present, even if I use factory it uses the correct instance) .</p>\n<p>My desired scenario is: Enter for request -&gt; Disconnect network cable -&gt; The applications follows the timeout set in it, and only after it it gives error or whatever. How can I fix this?</p>\n<p>Java JDK 1.8 , httpclient-4.5.12, Spring 4.3.12-RELEASE.</p>\n"},{"tags":["java","redis","spring-data"],"comments":[{"owner":{"account_id":3799890,"reputation":171,"user_id":3153825,"display_name":"hardik.desai"},"score":0,"creation_date":1519776413,"post_id":49016372,"comment_id":85045065,"body_markdown":"UPDATE: This is resolved by using a different Serializer with Generics and passing in the ObjectMapper. Use Jackson2JsonRedisSerializer&lt; MyObject&gt; and objectSerializer.setObjectMapper(objectMapper).","body":"UPDATE: This is resolved by using a different Serializer with Generics and passing in the ObjectMapper. Use Jackson2JsonRedisSerializer&lt; MyObject&gt; and objectSerializer.setObjectMapper(objectMapper)."},{"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"score":0,"creation_date":1541693848,"post_id":49016372,"comment_id":93311552,"body_markdown":"It doesn&#39;t solve the original problem.","body":"It doesn&#39;t solve the original problem."},{"owner":{"account_id":3357785,"reputation":471,"user_id":2820326,"display_name":"Alan Teals"},"score":4,"creation_date":1583511594,"post_id":49016372,"comment_id":107154188,"body_markdown":"Using Jackson2JsonRedisSerializer&lt;MyObject&gt; could solve your specific case but it&#39;s no a scalable solution since you cannot add more than one Jackson2JsonRedisSerializer to the redisTemplate","body":"Using Jackson2JsonRedisSerializer&lt;MyObject&gt; could solve your specific case but it&#39;s no a scalable solution since you cannot add more than one Jackson2JsonRedisSerializer to the redisTemplate"}],"answers":[{"tags":[],"owner":{"account_id":14770628,"reputation":21,"user_id":10667207,"display_name":"Henrique La Porta"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573409557,"creation_date":1573409557,"answer_id":58791563,"question_id":49016372,"body_markdown":"It works for me to serialize and deserialize any Object. In this example the cache manager is set TTL you can remove this if you want.\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisCacheConfig {\r\n\r\n  @Value(&quot;${spring.redis.host}&quot;)\r\n  private String redisHostName;\r\n\r\n  @Value(&quot;${spring.redis.port}&quot;)\r\n  private int redisPort;\r\n\r\n  @Bean\r\n  public LettuceConnectionFactory redisConnectionFactory() {\r\n    return new LettuceConnectionFactory(new RedisStandaloneConfiguration(redisHostName, redisPort));\r\n  }\r\n\r\n  @Bean\r\n  public RedisTemplate&lt;Object, Object&gt; redisTemplate() {\r\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\r\n    redisTemplate.setConnectionFactory(redisConnectionFactory());\r\n    return redisTemplate;\r\n  }\r\n\r\n  @Bean\r\n  @Primary\r\n  public RedisCacheManager redisCacheManager(LettuceConnectionFactory lettuceConnectionFactory) {\r\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues()\r\n      .entryTtl(Duration.ofMinutes(1))\r\n      .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n\r\n    redisCacheConfiguration.usePrefix();\r\n\r\n    return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(lettuceConnectionFactory)\r\n      .cacheDefaults(redisCacheConfiguration).build();\r\n\r\n  }\r\n}\r\n```","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>It works for me to serialize and deserialize any Object. In this example the cache manager is set TTL you can remove this if you want.</p>\n\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisCacheConfig {\n\n  @Value(\"${spring.redis.host}\")\n  private String redisHostName;\n\n  @Value(\"${spring.redis.port}\")\n  private int redisPort;\n\n  @Bean\n  public LettuceConnectionFactory redisConnectionFactory() {\n    return new LettuceConnectionFactory(new RedisStandaloneConfiguration(redisHostName, redisPort));\n  }\n\n  @Bean\n  public RedisTemplate&lt;Object, Object&gt; redisTemplate() {\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\n    redisTemplate.setConnectionFactory(redisConnectionFactory());\n    return redisTemplate;\n  }\n\n  @Bean\n  @Primary\n  public RedisCacheManager redisCacheManager(LettuceConnectionFactory lettuceConnectionFactory) {\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues()\n      .entryTtl(Duration.ofMinutes(1))\n      .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n\n    redisCacheConfiguration.usePrefix();\n\n    return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(lettuceConnectionFactory)\n      .cacheDefaults(redisCacheConfiguration).build();\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17039007,"reputation":51,"user_id":12327396,"display_name":"MvM FromMx"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575748831,"creation_date":1575736704,"answer_id":59228110,"question_id":49016372,"body_markdown":"It worked for me by simply setting a new `GenericJackson2JsonRedisSerializer()` with `no` arguments, in both Key, value `serializer` and `hash key`, `value serializer` \r\n\r\n```\r\n@Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(LettuceConnectionFactory lettuceConnectionFactory, ObjectMapper objectMapper) {\r\n        final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;String, Object&gt;();\r\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory);\r\n        // value serializer\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n        // hash value serializer\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n\r\n        logger.info(&quot;wiring up Redistemplate...&quot;);\r\n        return redisTemplate;\r\n    }\r\n```","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>It worked for me by simply setting a new <code>GenericJackson2JsonRedisSerializer()</code> with <code>no</code> arguments, in both Key, value <code>serializer</code> and <code>hash key</code>, <code>value serializer</code> </p>\n\n<pre><code>@Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(LettuceConnectionFactory lettuceConnectionFactory, ObjectMapper objectMapper) {\n        final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;String, Object&gt;();\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory);\n        // value serializer\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        // hash value serializer\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\n\n        logger.info(\"wiring up Redistemplate...\");\n        return redisTemplate;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user2636594"},"score":1,"creation_date":1680029503,"post_id":69520731,"comment_id":133826373,"body_markdown":"objectMapper.activateDefaultTyping(\n            objectMapper.getPolymorphicTypeValidator(),\n            ObjectMapper.DefaultTyping.NON_FINAL,\n            JsonTypeInfo.As.PROPERTY\n        );","body":"objectMapper.activateDefaultTyping(             objectMapper.getPolymorphicTypeValidator(),             ObjectMapper.DefaultTyping.NON_FINAL,             JsonTypeInfo.As.PROPERTY         );"}],"tags":[],"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633922984,"creation_date":1633922984,"answer_id":69520731,"question_id":49016372,"body_markdown":"**Reason**\r\n\r\nYou have customized the objectMapper, and there is no class name in the Redis value. So it can&#39;t be deserialized into the real type.\r\n\r\nYou can check the redis value, there is no *\\&quot;@class\\&quot; : \\&quot;com.xxxx.xxx.entity.xx\\&quot;* in the redis value.\r\n \r\n**My solution**\r\n\r\n    @Bean\r\n    public RedisCacheConfiguration redisCacheConfiguration(ObjectMapper objectMapper) {\r\n        // Do not change the default object mapper, we need to serialize the class name into the value\r\n        objectMapper = objectMapper.copy();\r\n        objectMapper = objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(1))\r\n                .disableCachingNullValues()\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer(objectMapper)));\r\n    }\r\n\r\nI use the `objectMapper.enableDefaultTyping() ` after digging into the source code of the GenericJackson2JsonRedisSerializer.class ","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p><strong>Reason</strong></p>\n<p>You have customized the objectMapper, and there is no class name in the Redis value. So it can't be deserialized into the real type.</p>\n<p>You can check the redis value, there is no <em>&quot;@class&quot; : &quot;com.xxxx.xxx.entity.xx&quot;</em> in the redis value.</p>\n<p><strong>My solution</strong></p>\n<pre><code>@Bean\npublic RedisCacheConfiguration redisCacheConfiguration(ObjectMapper objectMapper) {\n    // Do not change the default object mapper, we need to serialize the class name into the value\n    objectMapper = objectMapper.copy();\n    objectMapper = objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n    return RedisCacheConfiguration.defaultCacheConfig()\n            .entryTtl(Duration.ofMinutes(1))\n            .disableCachingNullValues()\n            .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer(objectMapper)));\n}\n</code></pre>\n<p>I use the <code>objectMapper.enableDefaultTyping() </code> after digging into the source code of the GenericJackson2JsonRedisSerializer.class</p>\n"},{"comments":[{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1695740837,"post_id":76838581,"comment_id":136063365,"body_markdown":"This is the only solution that worked in my case with complex objects, Java 8 date/time objects, lists and collections, ...\nI just was able to reduce `DefaultTypeing.EVERYTHING` to `DefaultTypeing.NON_FINAL`","body":"This is the only solution that worked in my case with complex objects, Java 8 date/time objects, lists and collections, ... I just was able to reduce <code>DefaultTypeing.EVERYTHING</code> to <code>DefaultTypeing.NON_FINAL</code>"}],"tags":[],"owner":{"account_id":8705456,"reputation":448,"user_id":6513660,"display_name":"Wall-E"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691175875,"creation_date":1691175875,"answer_id":76838581,"question_id":49016372,"body_markdown":"Jesus, why is it so hard to configure ? I almost did this manually. \r\n\r\nJava ecosystem solves some complexities beautifully but brings a lot of new ones.\r\n\r\nAnyway, I&#39;m using Kotlin with Spring Boot 3 using `@Cacheable` on a Feign HTTP client interface&#39;s method and was able to resolve this by the following configurations:\r\n\r\n```\r\nprivate fun redisCacheDefaultConfiguration(ttlInMinutes: Long) = RedisCacheConfiguration\r\n    .defaultCacheConfig()\r\n    .disableCachingNullValues()\r\n    .entryTtl(Duration.ofMinutes(ttlInMinutes))\r\n    .prefixCacheNameWith(&quot;cachename:&quot;)\r\n    .serializeKeysWith(SerializationPair.fromSerializer(StringRedisSerializer()))\r\n    .serializeValuesWith(SerializationPair.fromSerializer(GenericJackson2JsonRedisSerializer(getObjectMapper())))\r\n\r\nprivate fun getObjectMapper(): ObjectMapper {\r\n    val objectMapper = JacksonConfiguration().defaultObjectMapper().copy()\r\n    var defaultTypeResolver: StdTypeResolverBuilder = ObjectMapper.DefaultTypeResolverBuilder(\r\n        ObjectMapper.DefaultTyping.EVERYTHING,\r\n        objectMapper.polymorphicTypeValidator\r\n    )\r\n    defaultTypeResolver = defaultTypeResolver.init(JsonTypeInfo.Id.CLASS, null)\r\n    defaultTypeResolver = defaultTypeResolver.inclusion(JsonTypeInfo.As.PROPERTY)\r\n    objectMapper.setDefaultTyping(defaultTypeResolver)\r\n    return objectMapper\r\n}\r\n```\r\nBy the way, this is the same `ObjectMapper` created by `GenericJackson2JsonRedisSerializer` if you use the no args constructor. I only did this because my instantiation of the mapper have some other configurations that i&#39;d like to be used.\r\n\r\n\r\n\r\nThe entry on redis was:\r\n```\r\n{\r\n  &quot;@class&quot;: &quot;com.path.to.my.DataClazzObj&quot;,\r\n  &quot;id&quot;: [&quot;java.util.UUID&quot;, &quot;a1261350-ca26-4588-961c-c79a42990111&quot;]\r\n}\r\n```\r\nNot pretty, but does the job.\r\n","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>Jesus, why is it so hard to configure ? I almost did this manually.</p>\n<p>Java ecosystem solves some complexities beautifully but brings a lot of new ones.</p>\n<p>Anyway, I'm using Kotlin with Spring Boot 3 using <code>@Cacheable</code> on a Feign HTTP client interface's method and was able to resolve this by the following configurations:</p>\n<pre><code>private fun redisCacheDefaultConfiguration(ttlInMinutes: Long) = RedisCacheConfiguration\n    .defaultCacheConfig()\n    .disableCachingNullValues()\n    .entryTtl(Duration.ofMinutes(ttlInMinutes))\n    .prefixCacheNameWith(&quot;cachename:&quot;)\n    .serializeKeysWith(SerializationPair.fromSerializer(StringRedisSerializer()))\n    .serializeValuesWith(SerializationPair.fromSerializer(GenericJackson2JsonRedisSerializer(getObjectMapper())))\n\nprivate fun getObjectMapper(): ObjectMapper {\n    val objectMapper = JacksonConfiguration().defaultObjectMapper().copy()\n    var defaultTypeResolver: StdTypeResolverBuilder = ObjectMapper.DefaultTypeResolverBuilder(\n        ObjectMapper.DefaultTyping.EVERYTHING,\n        objectMapper.polymorphicTypeValidator\n    )\n    defaultTypeResolver = defaultTypeResolver.init(JsonTypeInfo.Id.CLASS, null)\n    defaultTypeResolver = defaultTypeResolver.inclusion(JsonTypeInfo.As.PROPERTY)\n    objectMapper.setDefaultTyping(defaultTypeResolver)\n    return objectMapper\n}\n</code></pre>\n<p>By the way, this is the same <code>ObjectMapper</code> created by <code>GenericJackson2JsonRedisSerializer</code> if you use the no args constructor. I only did this because my instantiation of the mapper have some other configurations that i'd like to be used.</p>\n<p>The entry on redis was:</p>\n<pre><code>{\n  &quot;@class&quot;: &quot;com.path.to.my.DataClazzObj&quot;,\n  &quot;id&quot;: [&quot;java.util.UUID&quot;, &quot;a1261350-ca26-4588-961c-c79a42990111&quot;]\n}\n</code></pre>\n<p>Not pretty, but does the job.</p>\n"}],"owner":{"account_id":3799890,"reputation":171,"user_id":3153825,"display_name":"hardik.desai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11831,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1691175875,"creation_date":1519759142,"question_id":49016372,"body_markdown":"I am using spring-data-redis for caching data in my spring boot app. I am using Mongo as my primary data source and Redis as a cache. When I hit the API for the first time, it fetches record from Mongo and saves it in Cache, and returns MyObject correctly to the client. But when I hit the API second time, it finds the record in the Cache, and while trying to deserialize that back into MyObject, it . always runs into a cast exception: \r\n\r\n&gt; java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast\r\n&gt; to MyObject\r\n\r\nHere is my Redis Configuration:\r\n\r\n    public class MyConfiguration {\r\n        @Bean\r\n        public CacheManager cacheManager(RedisTemplate&lt;String, MyObject&gt; redisTemplate) {\r\n            return new RedisCacheManager(redisTemplate);\r\n        }\r\n    \r\n        @Bean\r\n        public RedisTemplate&lt;String, MyObject&gt; redisTemplate(RedisConnectionFactory connectionFactory, ObjectMapper objectMapper) {\r\n            StringRedisSerializer serializer = new StringRedisSerializer();\r\n            GenericJackson2JsonRedisSerializer hashValueSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);\r\n            RedisTemplate&lt;String, MyObject&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setKeySerializer(serializer);\r\n            redisTemplate.setValueSerializer(hashValueSerializer);\r\n            redisTemplate.setConnectionFactory(connectionFactory);\r\n            return redisTemplate;\r\n        }\r\n    }\r\n\r\n\r\nFound same problem reported here: https://stackoverflow.com/questions/43220964/spring-data-redis-cacheable-java-lang-classcastexception-java-util-hashmap-can/49000379#comment73517832_43222354\r\n\r\nI researched for quite some time but have no ideas. Please suggest.\r\nThanks a ton in advance.","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>I am using spring-data-redis for caching data in my spring boot app. I am using Mongo as my primary data source and Redis as a cache. When I hit the API for the first time, it fetches record from Mongo and saves it in Cache, and returns MyObject correctly to the client. But when I hit the API second time, it finds the record in the Cache, and while trying to deserialize that back into MyObject, it . always runs into a cast exception: </p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast\n  to MyObject</p>\n</blockquote>\n\n<p>Here is my Redis Configuration:</p>\n\n<pre><code>public class MyConfiguration {\n    @Bean\n    public CacheManager cacheManager(RedisTemplate&lt;String, MyObject&gt; redisTemplate) {\n        return new RedisCacheManager(redisTemplate);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, MyObject&gt; redisTemplate(RedisConnectionFactory connectionFactory, ObjectMapper objectMapper) {\n        StringRedisSerializer serializer = new StringRedisSerializer();\n        GenericJackson2JsonRedisSerializer hashValueSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);\n        RedisTemplate&lt;String, MyObject&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setKeySerializer(serializer);\n        redisTemplate.setValueSerializer(hashValueSerializer);\n        redisTemplate.setConnectionFactory(connectionFactory);\n        return redisTemplate;\n    }\n}\n</code></pre>\n\n<p>Found same problem reported here: <a href=\"https://stackoverflow.com/questions/43220964/spring-data-redis-cacheable-java-lang-classcastexception-java-util-hashmap-can/49000379#comment73517832_43222354\">Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.String</a></p>\n\n<p>I researched for quite some time but have no ideas. Please suggest.\nThanks a ton in advance.</p>\n"},{"tags":["java","collections","java-stream","logic"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1691173927,"post_id":76838386,"comment_id":135461352,"body_markdown":"Hint: use `Collectors.groupingBy`. By default that results in a `Map&lt;K, List&lt;V&gt;&gt;`, but you can change that `List&lt;V&gt;` by using a different downstream collector.","body":"Hint: use <code>Collectors.groupingBy</code>. By default that results in a <code>Map&lt;K, List&lt;V&gt;&gt;</code>, but you can change that <code>List&lt;V&gt;</code> by using a different downstream collector."}],"answers":[{"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1691178695,"post_id":76838579,"comment_id":135462142,"body_markdown":"You should nest flatMap twice and filter before constructing a new entry. Your solution will store all language codes as key regardles if any matching levelName code exists and will store an empty string in the map.","body":"You should nest flatMap twice and filter before constructing a new entry. Your solution will store all language codes as key regardles if any matching levelName code exists and will store an empty string in the map."}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691175855,"creation_date":1691175855,"answer_id":76838579,"question_id":76838386,"body_markdown":"You may try something like this instead:\r\n```\r\nMap&lt;Integer, String&gt; result = subgroups.stream()\r\n        .flatMap(subgroup -&gt; \r\n            subgroup.getNames().stream()\r\n                .map(name -&gt; new AbstractMap.SimpleEntry&lt;&gt;(\r\n                    name.getLanguageCode(), \r\n                    name.getLongName() + &quot;~&quot; + \r\n                        subgroup.getLevel().getNames().stream()\r\n                            .filter(levelName -&gt; levelName.getLanguages() == name.getLanguageCode())\r\n                            .map(Names::getLongName)\r\n                            .findFirst()\r\n                            .orElse(&quot;&quot;)))\r\n        )\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```","title":"Java Stream API, Collect result into Map&lt;code, concatenated string&gt; from a List containing two separate lists","body":"<p>You may try something like this instead:</p>\n<pre><code>Map&lt;Integer, String&gt; result = subgroups.stream()\n        .flatMap(subgroup -&gt; \n            subgroup.getNames().stream()\n                .map(name -&gt; new AbstractMap.SimpleEntry&lt;&gt;(\n                    name.getLanguageCode(), \n                    name.getLongName() + &quot;~&quot; + \n                        subgroup.getLevel().getNames().stream()\n                            .filter(levelName -&gt; levelName.getLanguages() == name.getLanguageCode())\n                            .map(Names::getLongName)\n                            .findFirst()\n                            .orElse(&quot;&quot;)))\n        )\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838579,"answer_count":1,"score":0,"last_activity_date":1691175855,"creation_date":1691173668,"question_id":76838386,"body_markdown":"Here is the code which need to generate the output as follows using Stream API.\r\n\r\nInput:\r\n```\r\n[Subgroup(id=1, names=[Name(languageCode=1, longName=ABD), Name(languageCode=2, longName=BD)], level=Level(names=[Names(languages=1, longName=1 1), Names(languages=2, longName=2 2)]))]\r\n```\r\nOutput:\r\n```\r\nMap:{1=ABD~1 1, 2=BD~2 2}\r\n```\r\n\r\nJava-6: Code which generates the required output. but, we need to use Stream API and collect the output because the Sample input i am providing only single obj. Where in realtime i am having more than 50 objects. So, i need it in Advanced version of Java.\r\n\r\n```java\r\npublic class SubgroupProcessor {\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Name&gt; names = Arrays.asList(new Name(1, &quot;ABD&quot;), new Name(2, &quot;BD&quot;));\r\n\t\tList&lt;Names&gt; namesLevel = Arrays.asList(new Names(1, &quot;1 1&quot;), new Names(2, &quot;2 2&quot;));\r\n\t\tList&lt;Subgroup&gt; subgroups = Arrays.asList(new Subgroup(1, names, new Level(namesLevel)));\r\n\t\tSystem.out.println(subgroups);\r\n\r\n\t\tMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (Subgroup subgroup : subgroups) {\r\n\t\t\tList&lt;Name&gt; names2 = subgroup.getNames();\r\n\t\t\tList&lt;Names&gt; namesLevel2 = subgroup.getLevel().getNames();\r\n\t\t\tfor (Name name : names2) {\r\n\t\t\t\tfor (Names nameLevel : namesLevel2) {\r\n\t\t\t\t\tif (nameLevel.getLanguages() == name.getLanguageCode()) {\r\n\t\t\t\t\t\tmap.put(name.getLanguageCode(), name.getLongName() + &quot;~&quot; + nameLevel.getLongName());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Map:&quot;+map);\r\n\t}\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass Subgroup {\r\n\tprivate int id;\r\n\tprivate List&lt;Name&gt; names;\r\n\tprivate Level level;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass Name {\r\n\tprivate int languageCode;\r\n\tprivate String longName;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass Names {\r\n\tprivate int languages;\r\n\tprivate String longName;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass Level {\r\n\tprivate List&lt;Names&gt; names;\r\n}\r\n```\r\n\r\nTried Chat-GPT as well but generated the following code and its not working.\r\n\r\nThis code uses Java 8 streams to process the input list and produce the required output in the form of a map with language codes as keys and concatenated names as values.\r\n\r\n```java\r\nMap&lt;Integer, String&gt; map = subgroups.stream()\r\n\t.flatMap(subgroup -&gt; subgroup.getNames().stream()\r\n\t\t\t.filter(name -&gt; getMatching(subgroup, name))\r\n\t\t\t.map(name -&gt; Map.entry(name.getLanguageCode(), name.getLongName() + &quot;~&quot; + getLevelLongName(subgroup, name)))\r\n\t)\r\n\t.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    \r\n\r\npublic static boolean getMatching(Subgroup sg, Name name) {\r\n\treturn sg.getLevel().getNames().stream()\r\n\t\t\t.anyMatch(ln -&gt; ln.getLanguages() == name.getLanguageCode());\r\n}\r\n\r\nprivate static String getLevelLongName(Subgroup subgroup, Name name) {\r\n\treturn subgroup.getLevel().getNames().stream()\r\n\t\t\t.filter(levelName -&gt; levelName.getLanguages() == name.getLanguageCode())\r\n\t\t\t.map(Names::getLongName)\r\n\t\t\t.findFirst()\r\n\t\t\t.orElse(&quot;&quot;);\r\n}\r\n```","title":"Java Stream API, Collect result into Map&lt;code, concatenated string&gt; from a List containing two separate lists","body":"<p>Here is the code which need to generate the output as follows using Stream API.</p>\n<p>Input:</p>\n<pre><code>[Subgroup(id=1, names=[Name(languageCode=1, longName=ABD), Name(languageCode=2, longName=BD)], level=Level(names=[Names(languages=1, longName=1 1), Names(languages=2, longName=2 2)]))]\n</code></pre>\n<p>Output:</p>\n<pre><code>Map:{1=ABD~1 1, 2=BD~2 2}\n</code></pre>\n<p>Java-6: Code which generates the required output. but, we need to use Stream API and collect the output because the Sample input i am providing only single obj. Where in realtime i am having more than 50 objects. So, i need it in Advanced version of Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SubgroupProcessor {\n    public static void main(String[] args) {\n        List&lt;Name&gt; names = Arrays.asList(new Name(1, &quot;ABD&quot;), new Name(2, &quot;BD&quot;));\n        List&lt;Names&gt; namesLevel = Arrays.asList(new Names(1, &quot;1 1&quot;), new Names(2, &quot;2 2&quot;));\n        List&lt;Subgroup&gt; subgroups = Arrays.asList(new Subgroup(1, names, new Level(namesLevel)));\n        System.out.println(subgroups);\n\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n        for (Subgroup subgroup : subgroups) {\n            List&lt;Name&gt; names2 = subgroup.getNames();\n            List&lt;Names&gt; namesLevel2 = subgroup.getLevel().getNames();\n            for (Name name : names2) {\n                for (Names nameLevel : namesLevel2) {\n                    if (nameLevel.getLanguages() == name.getLanguageCode()) {\n                        map.put(name.getLanguageCode(), name.getLongName() + &quot;~&quot; + nameLevel.getLongName());\n                    }\n                }\n            }\n        }\n        System.out.println(&quot;Map:&quot;+map);\n    }\n}\n\n@Data @AllArgsConstructor\nclass Subgroup {\n    private int id;\n    private List&lt;Name&gt; names;\n    private Level level;\n}\n\n@Data @AllArgsConstructor\nclass Name {\n    private int languageCode;\n    private String longName;\n}\n\n@Data @AllArgsConstructor\nclass Names {\n    private int languages;\n    private String longName;\n}\n\n@Data @AllArgsConstructor\nclass Level {\n    private List&lt;Names&gt; names;\n}\n</code></pre>\n<p>Tried Chat-GPT as well but generated the following code and its not working.</p>\n<p>This code uses Java 8 streams to process the input list and produce the required output in the form of a map with language codes as keys and concatenated names as values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; map = subgroups.stream()\n    .flatMap(subgroup -&gt; subgroup.getNames().stream()\n            .filter(name -&gt; getMatching(subgroup, name))\n            .map(name -&gt; Map.entry(name.getLanguageCode(), name.getLongName() + &quot;~&quot; + getLevelLongName(subgroup, name)))\n    )\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    \n\npublic static boolean getMatching(Subgroup sg, Name name) {\n    return sg.getLevel().getNames().stream()\n            .anyMatch(ln -&gt; ln.getLanguages() == name.getLanguageCode());\n}\n\nprivate static String getLevelLongName(Subgroup subgroup, Name name) {\n    return subgroup.getLevel().getNames().stream()\n            .filter(levelName -&gt; levelName.getLanguages() == name.getLanguageCode())\n            .map(Names::getLongName)\n            .findFirst()\n            .orElse(&quot;&quot;);\n}\n</code></pre>\n"},{"tags":["java","eclipse","macos","javafx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1617212852,"post_id":66891065,"comment_id":118244212,"body_markdown":"Which are your Java and JavaFX versions?","body":"Which are your Java and JavaFX versions?"}],"answers":[{"comments":[{"owner":{"account_id":21116766,"reputation":61,"user_id":15523718,"display_name":"Saleh A"},"score":1,"creation_date":1617465044,"post_id":66910564,"comment_id":118313547,"body_markdown":"i did what you say and now instead of the pop up massage it open a folder called java every time i run the code and i have to force quit the folder or it will still be open","body":"i did what you say and now instead of the pop up massage it open a folder called java every time i run the code and i have to force quit the folder or it will still be open"},{"owner":{"account_id":327423,"reputation":3296,"user_id":649794,"accept_rate":100,"display_name":"Robert"},"score":0,"creation_date":1676451621,"post_id":66910564,"comment_id":133137361,"body_markdown":"In mac os 13.2.1 it was two steps, first allow the library in Settings -&gt; Security and then when it got loaded it once again asked to Open. Subsequent runs worked without any user intervetion.","body":"In mac os 13.2.1 it was two steps, first allow the library in Settings -&gt; Security and then when it got loaded it once again asked to Open. Subsequent runs worked without any user intervetion."}],"tags":[],"owner":{"account_id":1045253,"reputation":121,"user_id":1050392,"accept_rate":100,"display_name":"Martin Fall"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617306139,"creation_date":1617305812,"answer_id":66910564,"question_id":66891065,"body_markdown":"The same thing happened to me after I forgot that I moved the location of my javafx libraries, but forgot to update it in the IDE. I downloaded them again and extracted them to a folder from the archive. Went through the JavaFX &quot;activation&quot; and still wouldn&#39;t work.\r\n\r\nI fixed it by going to Settings &gt; Security &amp; Privacy &gt; General and allowing the libraries to be accessed despite the fact that they couldn&#39;t be verified (unidentified developer).\r\n\r\nYou will see the .dylib file listed under the &quot;Allow apps downloaded from:&quot; section. I authorized it and a few more files that required permission, and voila! Problem solved.","title":"“libprism_sw.dylib” cannot be opened because the developer cannot be verified. on mac JAVAFX","body":"<p>The same thing happened to me after I forgot that I moved the location of my javafx libraries, but forgot to update it in the IDE. I downloaded them again and extracted them to a folder from the archive. Went through the JavaFX &quot;activation&quot; and still wouldn't work.</p>\n<p>I fixed it by going to Settings &gt; Security &amp; Privacy &gt; General and allowing the libraries to be accessed despite the fact that they couldn't be verified (unidentified developer).</p>\n<p>You will see the .dylib file listed under the &quot;Allow apps downloaded from:&quot; section. I authorized it and a few more files that required permission, and voila! Problem solved.</p>\n"},{"tags":[],"owner":{"account_id":14989901,"reputation":147,"user_id":11046176,"display_name":"Griselle Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649344285,"creation_date":1649344285,"answer_id":71784652,"question_id":66891065,"body_markdown":"This enables to run apps from anywhere (useful if you want to avoid checking case by case, but need to be careful from where you download your software):\r\n\r\nType this in Terminal (located in /Applications/Utilities).\r\n\r\nsudo spctl --master-disable\r\n\r\nThen check in System Preferences&gt;Security and Privacy&gt;Allow apps downloaded from, and check that the &quot;Anywhere&quot; option is there and selected.\r\n\r\n\r\nhttps://discussions.apple.com/thread/7737371","title":"“libprism_sw.dylib” cannot be opened because the developer cannot be verified. on mac JAVAFX","body":"<p>This enables to run apps from anywhere (useful if you want to avoid checking case by case, but need to be careful from where you download your software):</p>\n<p>Type this in Terminal (located in /Applications/Utilities).</p>\n<p>sudo spctl --master-disable</p>\n<p>Then check in System Preferences&gt;Security and Privacy&gt;Allow apps downloaded from, and check that the &quot;Anywhere&quot; option is there and selected.</p>\n<p><a href=\"https://discussions.apple.com/thread/7737371\" rel=\"noreferrer\">https://discussions.apple.com/thread/7737371</a></p>\n"},{"tags":[],"owner":{"account_id":6662803,"reputation":29,"user_id":5141343,"display_name":"Abhay Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691175793,"creation_date":1691175793,"answer_id":76838572,"question_id":66891065,"body_markdown":"Upgrade to version SOAP UI 5.7.1 . This issue is fixed release on 1st Aug 2023","title":"“libprism_sw.dylib” cannot be opened because the developer cannot be verified. on mac JAVAFX","body":"<p>Upgrade to version SOAP UI 5.7.1 . This issue is fixed release on 1st Aug 2023</p>\n"}],"owner":{"account_id":21116766,"reputation":61,"user_id":15523718,"display_name":"Saleh A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11090,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1691175793,"creation_date":1617205675,"question_id":66891065,"body_markdown":" I use eclipse and when I run my program it says this \r\n\r\n**&quot;libprism_sw.dylib” cannot be opened because the developer cannot be verified.**\r\nand \r\n**“libprism_es2.dylib” cannot be opened because the developer cannot be verified.**\r\n\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    \r\n        public class try1 extends  Application {\r\n        \tpublic void start(Stage arg0) {\r\n        \t\t// TODO Auto-generated method stub\\\r\n        \t\tImage[] array = { new Image(&quot;Screen Shot 2020-12-19 at 9.07.20 AM&quot;),\r\n        \t\t\t\tnew Image(&quot;Screen Shot 2021-02-25 at 10.47.43 AM&quot;) };\r\n        \t\tint n = (int) (Math.random() * 4);\r\n        \t\tPane pane = new Pane();\r\n        \t\tImageView imgv = new ImageView(array[n]);\r\n        \t\tpane.getChildren().add(imgv);\r\n        \t\tScene scene = new Scene(pane);\r\n        \t\targ0.setScene(scene);\r\n        \t\targ0.show();\r\n        \t}\r\n        \tpublic static void main(String[] args) {\r\n        \t\t// TODO Auto-generated method stub\\\r\n        \t\tlanuch(args);\r\n        \t}\r\n        \tprivate static void lanuch(String[] args) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\t\r\n        \t}\r\n        }\r\n\r\nAny solutions?","title":"“libprism_sw.dylib” cannot be opened because the developer cannot be verified. on mac JAVAFX","body":"<p>I use eclipse and when I run my program it says this</p>\n<p><strong>&quot;libprism_sw.dylib” cannot be opened because the developer cannot be verified.</strong>\nand\n<strong>“libprism_es2.dylib” cannot be opened because the developer cannot be verified.</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\n    public class try1 extends  Application {\n        public void start(Stage arg0) {\n            // TODO Auto-generated method stub\\\n            Image[] array = { new Image(&quot;Screen Shot 2020-12-19 at 9.07.20 AM&quot;),\n                    new Image(&quot;Screen Shot 2021-02-25 at 10.47.43 AM&quot;) };\n            int n = (int) (Math.random() * 4);\n            Pane pane = new Pane();\n            ImageView imgv = new ImageView(array[n]);\n            pane.getChildren().add(imgv);\n            Scene scene = new Scene(pane);\n            arg0.setScene(scene);\n            arg0.show();\n        }\n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\\\n            lanuch(args);\n        }\n        private static void lanuch(String[] args) {\n            // TODO Auto-generated method stub\n            \n        }\n    }\n</code></pre>\n<p>Any solutions?</p>\n"},{"tags":["java","apache-tika","openjdk-11","pdfparser"],"comments":[{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1664310800,"post_id":73612434,"comment_id":130441542,"body_markdown":"This seems relevant? https://issues.apache.org/jira/browse/PDFBOX-4950  If that&#39;s not satisfactory, perhaps ask on the pdfbox user&#39;s list? https://pdfbox.apache.org/mailinglists.html","body":"This seems relevant? <a href=\"https://issues.apache.org/jira/browse/PDFBOX-4950\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4950</a>  If that&#39;s not satisfactory, perhaps ask on the pdfbox user&#39;s list? <a href=\"https://pdfbox.apache.org/mailinglists.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/mailinglists.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691175133,"creation_date":1691175133,"answer_id":76838512,"question_id":73612434,"body_markdown":"The issue got resolved after updating tika-parsers-standard-package and tika-core version to 2.6.0 and PDF box version to 2.0.27.","title":"java.lang.UnsatisfiedLinkError: no lcms in java.library.path: [/usr/lib/jvm/java-11-openjdk/lib/server","body":"<p>The issue got resolved after updating tika-parsers-standard-package and tika-core version to 2.6.0 and PDF box version to 2.0.27.</p>\n"}],"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76838512,"answer_count":1,"score":-1,"last_activity_date":1691175133,"creation_date":1662396113,"question_id":73612434,"body_markdown":"I am using PDF parser class from apache tika parser jar which is working fine with openjdk 8 but same code is failing when i have updated the openjdk to 11. i have tried updating the tika parser version to latest but still code is failing with the error below:-\r\n\r\n`\r\n\r\n    java.lang.UnsatisfiedLinkError: no lcms in java.library.path: [/usr/lib/jvm/java-11- \r\n      openjdk/lib/server\r\n      at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2673)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1873)\r\n    \tat java.desktop/sun.java2d.cmm.lcms.LCMS$1.run(LCMS.java:209)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\r\n`\r\n\r\nCan someone suggest any solution to overcome it using openjdk 11 only. Thanks","title":"java.lang.UnsatisfiedLinkError: no lcms in java.library.path: [/usr/lib/jvm/java-11-openjdk/lib/server","body":"<p>I am using PDF parser class from apache tika parser jar which is working fine with openjdk 8 but same code is failing when i have updated the openjdk to 11. i have tried updating the tika parser version to latest but still code is failing with the error below:-</p>\n<p>`</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no lcms in java.library.path: [/usr/lib/jvm/java-11- \n  openjdk/lib/server\n  at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2673)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n    at java.base/java.lang.System.loadLibrary(System.java:1873)\n    at java.desktop/sun.java2d.cmm.lcms.LCMS$1.run(LCMS.java:209)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n</code></pre>\n<p>`</p>\n<p>Can someone suggest any solution to overcome it using openjdk 11 only. Thanks</p>\n"},{"tags":["java","spring-4"],"comments":[{"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"score":0,"creation_date":1569237158,"post_id":38282298,"comment_id":102518882,"body_markdown":"https://howtodoinjava.com/spring-core/spring-exceptionhandler-annotation/\nmight be useful for others","body":"<a href=\"https://howtodoinjava.com/spring-core/spring-exceptionhandler-annotation/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-core/&hellip;</a> might be useful for others"},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1669236880,"post_id":38282298,"comment_id":131601654,"body_markdown":"Hello fixed the problem I hope it helps you https://stackoverflow.com/a/74552716/14538782","body":"Hello fixed the problem I hope it helps you <a href=\"https://stackoverflow.com/a/74552716/14538782\">stackoverflow.com/a/74552716/14538782</a>"},{"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"score":1,"creation_date":1677062876,"post_id":38282298,"comment_id":133261883,"body_markdown":"just remove the `extends ResponseEntityExceptionHandler` from your class, you won&#39;t have the Ambiguous @ExceptionHandler issue anymore.","body":"just remove the <code>extends ResponseEntityExceptionHandler</code> from your class, you won&#39;t have the Ambiguous @ExceptionHandler issue anymore."}],"answers":[{"comments":[{"owner":{"account_id":2824423,"reputation":1895,"user_id":2427348,"accept_rate":52,"display_name":"Krishna"},"score":13,"creation_date":1468081422,"post_id":38282563,"comment_id":63986275,"body_markdown":"handleException method is final method. Hence we cant override that. But that method is having instanceof check for MethodArgumentNotValidException and invoking method with name handleMethodArgumentNotValid. So i tried overriding handleMethodArgumentNotValid method and it worked. Thanks a lot.","body":"handleException method is final method. Hence we cant override that. But that method is having instanceof check for MethodArgumentNotValidException and invoking method with name handleMethodArgumentNotValid. So i tried overriding handleMethodArgumentNotValid method and it worked. Thanks a lot."},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":1,"creation_date":1478798906,"post_id":38282563,"comment_id":68307028,"body_markdown":"@Krishna is it possible to show how you solved this ?","body":"@Krishna is it possible to show how you solved this ?"},{"owner":{"account_id":2824423,"reputation":1895,"user_id":2427348,"accept_rate":52,"display_name":"Krishna"},"score":0,"creation_date":1478847740,"post_id":38282563,"comment_id":68324168,"body_markdown":"@BigDong...I need to see code which i dont have right now. Ill check and give code but it will take 9-10hours","body":"@BigDong...I need to see code which i dont have right now. Ill check and give code but it will take 9-10hours"},{"owner":{"account_id":2824423,"reputation":1895,"user_id":2427348,"accept_rate":52,"display_name":"Krishna"},"score":0,"creation_date":1478884548,"post_id":38282563,"comment_id":68344318,"body_markdown":"@BigDong..In such situation you can catch parent exception and inside you can do instance of check and proceed","body":"@BigDong..In such situation you can catch parent exception and inside you can do instance of check and proceed"},{"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"score":0,"creation_date":1536863657,"post_id":38282563,"comment_id":91587002,"body_markdown":"And? Is there @Order(9000) solution?","body":"And? Is there @Order(9000) solution?"},{"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"score":0,"creation_date":1536863955,"post_id":38282563,"comment_id":91587141,"body_markdown":"Oh I see. The configuration comes from parent class which is abstract. Didn&#39;t expect that. So without the advice all this &quot;defaults mappers&quot; are not working.","body":"Oh I see. The configuration comes from parent class which is abstract. Didn&#39;t expect that. So without the advice all this &quot;defaults mappers&quot; are not working."},{"owner":{"account_id":19266106,"reputation":143,"user_id":14081018,"display_name":"Ensei_Tankado"},"score":0,"creation_date":1667116673,"post_id":38282563,"comment_id":131091245,"body_markdown":"The best part of this solution is the 2nd last line: Override the method, but do NOT annotate it with @ExceptionHandler. Pointing this out for beginners.","body":"The best part of this solution is the 2nd last line: Override the method, but do NOT annotate it with @ExceptionHandler. Pointing this out for beginners."}],"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"comment_count":7,"down_vote_count":0,"up_vote_count":142,"is_accepted":true,"score":142,"last_activity_date":1483014352,"creation_date":1468072554,"answer_id":38282563,"question_id":38282298,"body_markdown":"Springs ResponseEntityExceptionHandler has a method handleException which is annotated with :\r\n\r\n    @ExceptionHandler({\t\t\r\n            ...\r\n\t\t\tMethodArgumentNotValidException.class,\r\n            ... \r\n\t\t})\r\n\r\nYour method handleMethodArgumentNotValidException is also annotated to handle MethodArgumentNotValidException. So spring finds two methods that should be used to handle the same exception, that is the reason for the exception.\r\n\r\n**Solution **\r\nDo not add a new method handleMethodArgumentNotValidException instead just override the method ResponseEntityExceptionHandler.handleMethodArgumentNotValid , and do not annotate it. \r\nYour class ErrorWrapper must extend ResponseEntity for that.\r\n\r\n\r\n\r\n\r\n","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>Springs ResponseEntityExceptionHandler has a method handleException which is annotated with :</p>\n\n<pre><code>@ExceptionHandler({     \n        ...\n        MethodArgumentNotValidException.class,\n        ... \n    })\n</code></pre>\n\n<p>Your method handleMethodArgumentNotValidException is also annotated to handle MethodArgumentNotValidException. So spring finds two methods that should be used to handle the same exception, that is the reason for the exception.</p>\n\n<p>**Solution **\nDo not add a new method handleMethodArgumentNotValidException instead just override the method ResponseEntityExceptionHandler.handleMethodArgumentNotValid , and do not annotate it. \nYour class ErrorWrapper must extend ResponseEntity for that.</p>\n"},{"tags":[],"owner":{"account_id":8953314,"reputation":329,"user_id":7351444,"display_name":"Dayan Costa"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1507631986,"creation_date":1506878709,"answer_id":46514942,"question_id":38282298,"body_markdown":"Try to override the method *handleMethodArgumentNotValid*,\r\nIn my case the method become like this:\r\n\r\n      @Override\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                    HttpHeaders headers, HttpStatus status,\r\n                                                                    WebRequest request) {\r\n        String errorMessage = ex.getBindingResult().getFieldErrors().stream()\r\n                     .map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n                     .findFirst()\r\n                     .orElse(ex.getMessage());\r\n        return response(ex, request, HttpStatus.BAD_REQUEST, errorMessage);\r\n      }\r\n    \r\n      private ResponseEntity&lt;Object&gt; response(Exception ex, WebRequest request, HttpStatus status,\r\n                                              String message) {\r\n        return handleExceptionInternal(ex, message, header(), status, request);\r\n      }","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>Try to override the method <em>handleMethodArgumentNotValid</em>,\nIn my case the method become like this:</p>\n\n<pre><code>  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                HttpHeaders headers, HttpStatus status,\n                                                                WebRequest request) {\n    String errorMessage = ex.getBindingResult().getFieldErrors().stream()\n                 .map(DefaultMessageSourceResolvable::getDefaultMessage)\n                 .findFirst()\n                 .orElse(ex.getMessage());\n    return response(ex, request, HttpStatus.BAD_REQUEST, errorMessage);\n  }\n\n  private ResponseEntity&lt;Object&gt; response(Exception ex, WebRequest request, HttpStatus status,\n                                          String message) {\n    return handleExceptionInternal(ex, message, header(), status, request);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1642402091,"creation_date":1554450287,"answer_id":55530545,"question_id":38282298,"body_markdown":"**Handel Exception** \r\n\r\n    @RestControllerAdvice\r\n    @Slf4j\r\n    public class ExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            List&lt;String&gt; errorList = ex\r\n                    .getBindingResult()\r\n                    .getFieldErrors()\r\n                    .stream()\r\n                    .map(fieldError -&gt; fieldError.getDefaultMessage())\r\n                    .collect(Collectors.toList());\r\n            ErrorDetails errorDetails = new ErrorDetails(HttpStatus.BAD_REQUEST, ex.getLocalizedMessage(), errorList);\r\n            return handleExceptionInternal(ex, errorDetails, headers, errorDetails.getStatus(), request);\r\n        }\r\n    }\r\n\r\n**Customize Error Message**\r\n\r\n    @Data\r\n    public class ErrorDetails {\r\n        private HttpStatus status;\r\n        private String message;\r\n        private List&lt;String&gt; errors;\r\n    \r\n        public ErrorDetails(HttpStatus status, String message, List&lt;String&gt; errors) {\r\n            super();\r\n            this.status = status;\r\n            this.message = message;\r\n            this.errors = errors;\r\n        }\r\n    \r\n        public ErrorDetails(HttpStatus status, String message, String error) {\r\n            super();\r\n            this.status = status;\r\n            this.message = message;\r\n            errors = Arrays.asList(error);\r\n        }\r\n    }\r\n\r\n\r\n**Sample Response** \r\n  \r\n\r\n      {\r\n          &quot;status&quot;: &quot;BAD_REQUEST&quot;,\r\n          &quot;message&quot;: &quot;Validation failed for argument [0] in public void com.ns.hospitalmanagement.resource.PatientResource.createPatient(com.ns.hospitalmanagement.entity.Patient) with 2 errors: [Field error in object &#39;patient&#39; on field &#39;name&#39;: rejected value [null]; codes [NotNull.patient.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patient.name,name]; arguments []; default message [name]]; default message [Name Can not be Null]] [Field error in object &#39;patient&#39; on field &#39;name&#39;: rejected value [null]; codes [NotEmpty.patient.name,NotEmpty.name,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patient.name,name]; arguments []; default message [name]]; default message [Name Can not be Empty]] &quot;,\r\n          &quot;errors&quot;: [\r\n            &quot;Name Can not be Null&quot;,\r\n            &quot;Name Can not be Empty&quot;\r\n          ]\r\n        }\r\n\r\n\r\n","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p><strong>Handel Exception</strong></p>\n<pre><code>@RestControllerAdvice\n@Slf4j\npublic class ExceptionHandler extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        List&lt;String&gt; errorList = ex\n                .getBindingResult()\n                .getFieldErrors()\n                .stream()\n                .map(fieldError -&gt; fieldError.getDefaultMessage())\n                .collect(Collectors.toList());\n        ErrorDetails errorDetails = new ErrorDetails(HttpStatus.BAD_REQUEST, ex.getLocalizedMessage(), errorList);\n        return handleExceptionInternal(ex, errorDetails, headers, errorDetails.getStatus(), request);\n    }\n}\n</code></pre>\n<p><strong>Customize Error Message</strong></p>\n<pre><code>@Data\npublic class ErrorDetails {\n    private HttpStatus status;\n    private String message;\n    private List&lt;String&gt; errors;\n\n    public ErrorDetails(HttpStatus status, String message, List&lt;String&gt; errors) {\n        super();\n        this.status = status;\n        this.message = message;\n        this.errors = errors;\n    }\n\n    public ErrorDetails(HttpStatus status, String message, String error) {\n        super();\n        this.status = status;\n        this.message = message;\n        errors = Arrays.asList(error);\n    }\n}\n</code></pre>\n<p><strong>Sample Response</strong></p>\n<pre><code>  {\n      &quot;status&quot;: &quot;BAD_REQUEST&quot;,\n      &quot;message&quot;: &quot;Validation failed for argument [0] in public void com.ns.hospitalmanagement.resource.PatientResource.createPatient(com.ns.hospitalmanagement.entity.Patient) with 2 errors: [Field error in object 'patient' on field 'name': rejected value [null]; codes [NotNull.patient.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patient.name,name]; arguments []; default message [name]]; default message [Name Can not be Null]] [Field error in object 'patient' on field 'name': rejected value [null]; codes [NotEmpty.patient.name,NotEmpty.name,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patient.name,name]; arguments []; default message [name]]; default message [Name Can not be Empty]] &quot;,\n      &quot;errors&quot;: [\n        &quot;Name Can not be Null&quot;,\n        &quot;Name Can not be Empty&quot;\n      ]\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6097406,"reputation":51,"user_id":4757784,"display_name":"Emre Zorlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644880386,"creation_date":1644880386,"answer_id":71119336,"question_id":38282298,"body_markdown":"Your problem is **extending** from ResponseEntityExceptionHandler class.\r\nYou can still use that handler for other exception types but for handling MethodArgumentNotValid it must be **custom** class&amp;method.\r\n\r\nThere is a class for custom ResponseError object contains errorCode &amp; errorMessage.\r\n\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @ControllerAdvice\r\n    public class ValidationErrorHandler {\r\n       \r\n    \t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n    \tpublic final ResponseEntity&lt;ResponseError&gt; handleMethodArgumentNotValidException(\r\n    \t\t\tMethodArgumentNotValidException ex) {\r\n    \t\tHttpStatus httpStatus = HttpStatus.BAD_REQUEST;\r\n    \t\tResponseError response = ResponseError.builder().errorCode(ErrorCode.INVALID_ARGUMENTS.getCode())\r\n    \t\t\t\t.errorMessage(getMessages(ex.getBindingResult())).build();\r\n    \t\treturn new ResponseEntity&lt;&gt;(response, httpStatus);\r\n    \t}\r\n    \r\n    \tprivate String getMessages(BindingResult bindingResult) {\r\n    \t\treturn Optional.ofNullable(bindingResult.getFieldError()).map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n    \t\t\t\t.orElse(&quot;&quot;);\r\n    \t}\r\n    }","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>Your problem is <strong>extending</strong> from ResponseEntityExceptionHandler class.\nYou can still use that handler for other exception types but for handling MethodArgumentNotValid it must be <strong>custom</strong> class&amp;method.</p>\n<p>There is a class for custom ResponseError object contains errorCode &amp; errorMessage.</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice\npublic class ValidationErrorHandler {\n   \n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public final ResponseEntity&lt;ResponseError&gt; handleMethodArgumentNotValidException(\n            MethodArgumentNotValidException ex) {\n        HttpStatus httpStatus = HttpStatus.BAD_REQUEST;\n        ResponseError response = ResponseError.builder().errorCode(ErrorCode.INVALID_ARGUMENTS.getCode())\n                .errorMessage(getMessages(ex.getBindingResult())).build();\n        return new ResponseEntity&lt;&gt;(response, httpStatus);\n    }\n\n    private String getMessages(BindingResult bindingResult) {\n        return Optional.ofNullable(bindingResult.getFieldError()).map(DefaultMessageSourceResolvable::getDefaultMessage)\n                .orElse(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670569125,"creation_date":1670569125,"answer_id":74739815,"question_id":38282298,"body_markdown":"The class ResponseEntityExceptionHandler is an abstract class and have a final method annotated with @ExceptionHandler have signature as\r\n\r\n```\r\n@ExceptionHandler({\r\n\t\t\tHttpRequestMethodNotSupportedException.class,\r\n\t\t\tHttpMediaTypeNotSupportedException.class,\r\n\t\t\tHttpMediaTypeNotAcceptableException.class,\r\n\t\t\tMissingPathVariableException.class,\r\n\t\t\tMissingServletRequestParameterException.class,\r\n\t\t\tServletRequestBindingException.class,\r\n\t\t\tConversionNotSupportedException.class,\r\n\t\t\tTypeMismatchException.class,\r\n\t\t\tHttpMessageNotReadableException.class,\r\n\t\t\tHttpMessageNotWritableException.class,\r\n\t\t\tMethodArgumentNotValidException.class,\r\n\t\t\tMissingServletRequestPartException.class,\r\n\t\t\tBindException.class,\r\n\t\t\tNoHandlerFoundException.class,\r\n\t\t\tAsyncRequestTimeoutException.class\r\n\t\t})\r\n\t@Nullable\r\n\tpublic final ResponseEntity&lt;Object&gt; handleException(Exception ex, WebRequest request) throws Exception {\r\n```\r\n\r\nSo If in your application you have a method handling any of the above exception , then you need to override the method provided by ResponseEntityExceptionHandler. Suppose you want to handle MethodArgumentNotValidException in your application then your Handler class code should look like \r\n```\r\n@RestControllerAdvice\r\npublic final class WebRequestExceptionHandler extends ResponseEntityExceptionHandler{\r\n\t\r\n@Override\r\n\t@ResponseStatus(code = HttpStatus.INTERNAL_SERVER_ERROR, value = HttpStatus.INTERNAL_SERVER_ERROR)\r\n\tprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n\t\t\tMethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n\t\t List&lt;String&gt; errorList = ex\r\n\t                .getBindingResult()\r\n\t                .getFieldErrors()\r\n\t                .stream()\r\n\t                .map(fieldError -&gt; fieldError.getDefaultMessage())\r\n\t                .collect(Collectors.toList());\r\n\t        ErrorDetails errorDetails = new ErrorDetails(HttpStatus.BAD_REQUEST, ex.getLocalizedMessage(), errorList);\r\n\t        \r\n\t\treturn handleExceptionInternal(ex, errorDetails, headers, status, request);\r\n\t}\r\n}\r\n```\r\nNote that in my WebRequestExceptionHandler class I have not annotated the method with ```@ExceptionHandler(MethodArgumentNotValidException.class)``` as it will result in Ambiguous mapping exception\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic class ErrorDetails {\r\n\t private HttpStatus status;\r\n\t    private String message;\r\n\t    private List&lt;String&gt; errors;\r\n\r\n\t    public ErrorDetails(HttpStatus status, String message, List&lt;String&gt; errors) {\r\n\t        super();\r\n\t        this.status = status;\r\n\t        this.message = message;\r\n\t        this.errors = errors;\r\n\t    }\r\n}\r\n\r\n\r\n```","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>The class ResponseEntityExceptionHandler is an abstract class and have a final method annotated with @ExceptionHandler have signature as</p>\n<pre><code>@ExceptionHandler({\n            HttpRequestMethodNotSupportedException.class,\n            HttpMediaTypeNotSupportedException.class,\n            HttpMediaTypeNotAcceptableException.class,\n            MissingPathVariableException.class,\n            MissingServletRequestParameterException.class,\n            ServletRequestBindingException.class,\n            ConversionNotSupportedException.class,\n            TypeMismatchException.class,\n            HttpMessageNotReadableException.class,\n            HttpMessageNotWritableException.class,\n            MethodArgumentNotValidException.class,\n            MissingServletRequestPartException.class,\n            BindException.class,\n            NoHandlerFoundException.class,\n            AsyncRequestTimeoutException.class\n        })\n    @Nullable\n    public final ResponseEntity&lt;Object&gt; handleException(Exception ex, WebRequest request) throws Exception {\n</code></pre>\n<p>So If in your application you have a method handling any of the above exception , then you need to override the method provided by ResponseEntityExceptionHandler. Suppose you want to handle MethodArgumentNotValidException in your application then your Handler class code should look like</p>\n<pre><code>@RestControllerAdvice\npublic final class WebRequestExceptionHandler extends ResponseEntityExceptionHandler{\n    \n@Override\n    @ResponseStatus(code = HttpStatus.INTERNAL_SERVER_ERROR, value = HttpStatus.INTERNAL_SERVER_ERROR)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n            MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n         List&lt;String&gt; errorList = ex\n                    .getBindingResult()\n                    .getFieldErrors()\n                    .stream()\n                    .map(fieldError -&gt; fieldError.getDefaultMessage())\n                    .collect(Collectors.toList());\n            ErrorDetails errorDetails = new ErrorDetails(HttpStatus.BAD_REQUEST, ex.getLocalizedMessage(), errorList);\n            \n        return handleExceptionInternal(ex, errorDetails, headers, status, request);\n    }\n}\n</code></pre>\n<p>Note that in my WebRequestExceptionHandler class I have not annotated the method with <code>@ExceptionHandler(MethodArgumentNotValidException.class)</code> as it will result in Ambiguous mapping exception</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class ErrorDetails {\n     private HttpStatus status;\n        private String message;\n        private List&lt;String&gt; errors;\n\n        public ErrorDetails(HttpStatus status, String message, List&lt;String&gt; errors) {\n            super();\n            this.status = status;\n            this.message = message;\n            this.errors = errors;\n        }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679552701,"creation_date":1679552701,"answer_id":75819802,"question_id":38282298,"body_markdown":"For anyone using Spring WebFlux trying to catch and map the validation errors raised, you need to use `WebExchangeBindException` instead of MethodArgumentNotValidException.\r\n\r\nAn example can be found here:\r\nhttps://stackoverflow.com/questions/75253932/spring-reactive-exception-handling-for-method-not-allowed-exception-not-trigge/75819789#75819789","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>For anyone using Spring WebFlux trying to catch and map the validation errors raised, you need to use <code>WebExchangeBindException</code> instead of MethodArgumentNotValidException.</p>\n<p>An example can be found here:\n<a href=\"https://stackoverflow.com/questions/75253932/spring-reactive-exception-handling-for-method-not-allowed-exception-not-trigge/75819789#75819789\">Spring Reactive - Exception Handling for Method Not Allowed Exception not triggering post Spring 3.0.0 &amp; Java 17 upgrade</a></p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686054289,"creation_date":1686054289,"answer_id":76414621,"question_id":38282298,"body_markdown":"I received this exception in Spring 3.1.0. It means that &lt;b&gt;you need to @Overridemethod handleMethodArgumentNotValid insteed of   @ExceptionHandler(MethodArgumentNotValidException.class)&lt;/b&gt;\r\n\r\nMy code : \r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler{\r\n    \r\n    \r\n      @Override\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n          MethodArgumentNotValidException ex,\r\n          HttpHeaders headers,\r\n          HttpStatusCode status,\r\n          WebRequest request) {\r\n        var apiError = new ApiError(HttpStatus.resolve(status.value()), ex.getMessage());\r\n        return new ResponseEntity&lt;&gt;(apiError, status);\r\n      }\r\n    \r\n    }","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>I received this exception in Spring 3.1.0. It means that <b>you need to @Overridemethod handleMethodArgumentNotValid insteed of   @ExceptionHandler(MethodArgumentNotValidException.class)</b></p>\n<p>My code :</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler{\n\n\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n      MethodArgumentNotValidException ex,\n      HttpHeaders headers,\n      HttpStatusCode status,\n      WebRequest request) {\n    var apiError = new ApiError(HttpStatus.resolve(status.value()), ex.getMessage());\n    return new ResponseEntity&lt;&gt;(apiError, status);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14574512,"reputation":15,"user_id":10526770,"display_name":"Kaue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691174823,"creation_date":1691174823,"answer_id":76838481,"question_id":38282298,"body_markdown":"In case anyone still need help with it, you can just override the method. \r\nSample code that returns a Problem Detail and makes the detail human-readable.\r\n\r\n```java\r\n /**\r\n   * Catches Jakarta validation exceptions, returns Problem Detail with appropriate message.\r\n   * We&#39;re overriding Spring handler to provide better message detail (Standard is: Invalid request content.)\r\n   * @param MethodArgumentNotValidException (Jakarta Validation exception)\r\n   * @return Problem detail, with the list of the error messages represented as readable plain text (as according to ProblemDetail rfc)\r\n   */\r\n@Override\r\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n    List&lt;String&gt; errorMessages = ex.getBindingResult().getFieldErrors().stream()\r\n            .map(FieldError::getDefaultMessage)\r\n            .collect(Collectors.toList());\r\n    String plainMsg = String.join(&quot;,&quot;,errorMessages);\r\n    return new ResponseEntity&lt;&gt; (problemDetailForStatusAndDetail(HttpStatus.BAD_REQUEST, plainMsg),HttpStatus.BAD_REQUEST);\r\n  }\r\n```","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>In case anyone still need help with it, you can just override the method.\nSample code that returns a Problem Detail and makes the detail human-readable.</p>\n<pre class=\"lang-java prettyprint-override\"><code> /**\n   * Catches Jakarta validation exceptions, returns Problem Detail with appropriate message.\n   * We're overriding Spring handler to provide better message detail (Standard is: Invalid request content.)\n   * @param MethodArgumentNotValidException (Jakarta Validation exception)\n   * @return Problem detail, with the list of the error messages represented as readable plain text (as according to ProblemDetail rfc)\n   */\n@Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n    List&lt;String&gt; errorMessages = ex.getBindingResult().getFieldErrors().stream()\n            .map(FieldError::getDefaultMessage)\n            .collect(Collectors.toList());\n    String plainMsg = String.join(&quot;,&quot;,errorMessages);\n    return new ResponseEntity&lt;&gt; (problemDetailForStatusAndDetail(HttpStatus.BAD_REQUEST, plainMsg),HttpStatus.BAD_REQUEST);\n  }\n</code></pre>\n"}],"owner":{"account_id":2824423,"reputation":1895,"user_id":2427348,"accept_rate":52,"display_name":"Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54494,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":38282563,"answer_count":8,"score":82,"last_activity_date":1691174823,"creation_date":1468070749,"question_id":38282298,"body_markdown":"I&#39;m trying to handle MethodArgumentNotValidException using @ControllerAdvice as code given below:\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \t\r\n    \tprivate Logger log = LoggerFactory.getLogger(RestResponseEntityExceptionHandler.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ApplicationContext applicationContext;\r\n    \t\r\n    \t@ExceptionHandler({ ConstraintViolationException.class })\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ResponseBody\r\n        public ErrorWrapper handleConstraintViolationException(ConstraintViolationException e) {\r\n    \t\tString fieldName = e.getConstraintName();\r\n    \t\tString message = getResourceMessage(fieldName + &quot;.alreadyExists&quot;, &quot;Already Exists&quot;);\r\n    \t\treturn new ErrorWrapper(fieldName + &quot;.error&quot;, message);\r\n        }\r\n    \t\r\n    \t@ExceptionHandler({ MethodArgumentNotValidException.class })\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ResponseBody\r\n    \tpublic ErrorWrapper handleMethodArgumentNotValidException(MethodArgumentNotValidException e) {\r\n    \t\treturn new ErrorWrapper(&quot;.error&quot;, &quot;test&quot;);\r\n    \t}\r\n    \t\r\n    \tprivate String getResourceMessage(String key, String defaultMessage) {\r\n    \t\tString message = applicationContext.getMessage(key, null, Locale.getDefault());\r\n    \t\tif (StringUtils.isNotEmpty(message)) {\r\n    \t\t\treturn message;\r\n    \t\t}\r\n    \t\treturn defaultMessage;\r\n    \t}\r\n    }\r\n\r\n\r\nI&#39;m getting following Exception\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.ca.bean.ErrorWrapper com.ca.exceptionHandler.RestResponseEntityExceptionHandler.handleMethodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest)}\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:775) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107) [spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5099) [catalina.jar:7.0.70]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5615) [catalina.jar:7.0.70]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147) [catalina.jar:7.0.70]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1571) [catalina.jar:7.0.70]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1561) [catalina.jar:7.0.70]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_92]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_92]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_92]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_92]\r\n    Caused by: java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.ca.bean.ErrorWrapper com.ca.exceptionHandler.RestResponseEntityExceptionHandler.handleMethodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest)}\r\n    \tat org.springframework.web.method.annotation.ExceptionHandlerMethodResolver.addExceptionMapping(ExceptionHandlerMethodResolver.java:109) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.web.method.annotation.ExceptionHandlerMethodResolver.&lt;init&gt;(ExceptionHandlerMethodResolver.java:76) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache(ExceptionHandlerExceptionResolver.java:265) ~[spring-webmvc-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.afterPropertiesSet(ExceptionHandlerExceptionResolver.java:241) ~[spring-webmvc-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\r\n    \t... 21 common frames omitted\r\n\r\n\r\n\r\nI&#39;m using spring 4.3.0.\r\nI want to handle MethodArgumentNotValidException and want to send custom message. What mistake I&#39;m doing? Please help.","title":"Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]","body":"<p>I'm trying to handle MethodArgumentNotValidException using @ControllerAdvice as code given below:</p>\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    \n    private Logger log = LoggerFactory.getLogger(RestResponseEntityExceptionHandler.class);\n    \n    @Autowired\n    private ApplicationContext applicationContext;\n    \n    @ExceptionHandler({ ConstraintViolationException.class })\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ErrorWrapper handleConstraintViolationException(ConstraintViolationException e) {\n        String fieldName = e.getConstraintName();\n        String message = getResourceMessage(fieldName + &quot;.alreadyExists&quot;, &quot;Already Exists&quot;);\n        return new ErrorWrapper(fieldName + &quot;.error&quot;, message);\n    }\n    \n    @ExceptionHandler({ MethodArgumentNotValidException.class })\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ErrorWrapper handleMethodArgumentNotValidException(MethodArgumentNotValidException e) {\n        return new ErrorWrapper(&quot;.error&quot;, &quot;test&quot;);\n    }\n    \n    private String getResourceMessage(String key, String defaultMessage) {\n        String message = applicationContext.getMessage(key, null, Locale.getDefault());\n        if (StringUtils.isNotEmpty(message)) {\n            return message;\n        }\n        return defaultMessage;\n    }\n}\n</code></pre>\n<p>I'm getting following Exception</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.ca.bean.ErrorWrapper com.ca.exceptionHandler.RestResponseEntityExceptionHandler.handleMethodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest)}\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:775) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107) [spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5099) [catalina.jar:7.0.70]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5615) [catalina.jar:7.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147) [catalina.jar:7.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1571) [catalina.jar:7.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1561) [catalina.jar:7.0.70]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_92]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_92]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_92]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_92]\nCaused by: java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.ca.bean.ErrorWrapper com.ca.exceptionHandler.RestResponseEntityExceptionHandler.handleMethodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest)}\n    at org.springframework.web.method.annotation.ExceptionHandlerMethodResolver.addExceptionMapping(ExceptionHandlerMethodResolver.java:109) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.web.method.annotation.ExceptionHandlerMethodResolver.&lt;init&gt;(ExceptionHandlerMethodResolver.java:76) ~[spring-web-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache(ExceptionHandlerExceptionResolver.java:265) ~[spring-webmvc-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.afterPropertiesSet(ExceptionHandlerExceptionResolver.java:241) ~[spring-webmvc-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.3.0.RELEASE.jar:4.3.0.RELEASE]\n    ... 21 common frames omitted\n</code></pre>\n<p>I'm using spring 4.3.0.\nI want to handle MethodArgumentNotValidException and want to send custom message. What mistake I'm doing? Please help.</p>\n"},{"tags":["java","oop","subtyping"],"answers":[{"comments":[{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691172788,"post_id":76838268,"comment_id":135461143,"body_markdown":"Sub&#160;does not define a&#160;m&#160;method, so&#160;sub.m();&#160;calls the&#160;m&#160;method from&#160;Super. That means, that overriding a method with exactly the same code is actually different from just using the inherited method because they have different scopes?","body":"Sub does not define a m method, so sub.m(); calls the m method from Super. That means, that overriding a method with exactly the same code is actually different from just using the inherited method because they have different scopes?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1691172839,"post_id":76838268,"comment_id":135461151,"body_markdown":"@Jan Yes, that&#39;s what I wrote.","body":"@Jan Yes, that&#39;s what I wrote."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691172974,"post_id":76838268,"comment_id":135461182,"body_markdown":"Yes, sorry. I hit return to get into a new line but posted the comment instead. I edited it.","body":"Yes, sorry. I hit return to get into a new line but posted the comment instead. I edited it."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1691173058,"post_id":76838268,"comment_id":135461203,"body_markdown":"@Jan Yes, it would be different. The methods can access different fields/variables.","body":"@Jan Yes, it would be different. The methods can access different fields/variables."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691173972,"post_id":76838268,"comment_id":135461364,"body_markdown":"Thank you. I think I understand it now. I always thought inheriting a method would be the same as copy and paste the code. That seems to be my mistake. It is actually like overriding m in sub and just calling super.m() inside this overriden method. Now I wonder of it&#39;s even correct to say that sub.m() means that I am calling m on an instance of sub. Isn&#39;t it more like calling m on some instance of super? Because System.out.println(sub.i) actually prints the &#39;right&#39; variable.","body":"Thank you. I think I understand it now. I always thought inheriting a method would be the same as copy and paste the code. That seems to be my mistake. It is actually like overriding m in sub and just calling super.m() inside this overriden method. Now I wonder of it&#39;s even correct to say that sub.m() means that I am calling m on an instance of sub. Isn&#39;t it more like calling m on some instance of super? Because System.out.println(sub.i) actually prints the &#39;right&#39; variable."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1691174072,"post_id":76838268,"comment_id":135461384,"body_markdown":"@Jan It is fine to say it&#39;s calling `m` on `sub`, but which method is actually called depends on the inheritance hierarchy.","body":"@Jan It is fine to say it&#39;s calling <code>m</code> on <code>sub</code>, but which method is actually called depends on the inheritance hierarchy."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691174175,"post_id":76838268,"comment_id":135461407,"body_markdown":"Or does the object sub have both variables, one of the superclass (wich is hidden when trying to access from inside the subclass) and one of the subclass (wich is not visible for the superclass methods)?","body":"Or does the object sub have both variables, one of the superclass (wich is hidden when trying to access from inside the subclass) and one of the subclass (wich is not visible for the superclass methods)?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1691174255,"post_id":76838268,"comment_id":135461420,"body_markdown":"@Jan There are indeed two fields. You can use `super.i` inside `Sub` to access the field of the superclass.","body":"@Jan There are indeed two fields. You can use <code>super.i</code> inside <code>Sub</code> to access the field of the superclass."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691174669,"post_id":76838268,"comment_id":135461486,"body_markdown":"Two fields with the same name.... I assumed that there would only be the new variable that hides the superclass variable. That made me wonder were the superclass method called on sub does get the value from. Now everything makes sense to me. Thank you so much!","body":"Two fields with the same name.... I assumed that there would only be the new variable that hides the superclass variable. That made me wonder were the superclass method called on sub does get the value from. Now everything makes sense to me. Thank you so much!"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1691174750,"post_id":76838268,"comment_id":135461495,"body_markdown":"@Jan Glad to help.","body":"@Jan Glad to help."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691172461,"creation_date":1691172461,"answer_id":76838268,"question_id":76838232,"body_markdown":"Methods can be overriden, but fields cannot. `Sub` does not define a `m` method, so `sub.m();` calls the `m` method from `Super`. In the scope of that method, only the `i` field defined in `Super` itself is visible.\r\n\r\nThe `i` field defined in `Sub` is a distinct field that shadows the field from the superclass of the same name. If you had instead defined a `getI()` method in both `Super` and `Sub`, calling `getI()` in `Super` (when the underlying instance is of type `Sub`) would use the method defined in `Sub`.","title":"Subtyping in Java results in unexpected output","body":"<p>Methods can be overriden, but fields cannot. <code>Sub</code> does not define a <code>m</code> method, so <code>sub.m();</code> calls the <code>m</code> method from <code>Super</code>. In the scope of that method, only the <code>i</code> field defined in <code>Super</code> itself is visible.</p>\n<p>The <code>i</code> field defined in <code>Sub</code> is a distinct field that shadows the field from the superclass of the same name. If you had instead defined a <code>getI()</code> method in both <code>Super</code> and <code>Sub</code>, calling <code>getI()</code> in <code>Super</code> (when the underlying instance is of type <code>Sub</code>) would use the method defined in <code>Sub</code>.</p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691174788,"creation_date":1691174788,"answer_id":76838478,"question_id":76838232,"body_markdown":"When you declare a variable with the same name in a subclass (in this case, `Sub`) that already exists in the superclass (in this case, `Super`), it&#39;s what we call **variable hiding**. \r\n\r\nThis means that **the variable declared in the subclass is different from the variable declared in the superclass**, and the subclass **is not overriding** the variable from the superclass but rather **creating a new variable with the same name**.\r\n\r\nYou can override the `m()` method (as it is in your example code), but you can also just **change the value** using constructors:\r\n\r\n**Super Class**\r\n```java\r\nclass Super {\r\n\t// Final to make sure value is always set\r\n\tfinal String i;\r\n\r\n\t// Default constructor\r\n\tSuper() {\r\n\t\tthis(&quot;Variable of superclass&quot;);\r\n\t}\r\n\r\n\t// Use to overwrite\r\n\tSuper(String i) {\r\n\t\tthis.i = i;\r\n\t}\r\n\r\n\tvoid m() {\r\n\t\tSystem.out.println(i);\r\n\t}\r\n}\r\n```\r\n\r\n**Sub Class**\r\n```java\r\nclass Sub extends Super {\r\n\tSub() {\r\n\t\tsuper(&quot;Variable of subclass&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nCheck this out:\r\n\r\n - [Variable Hiding and Variable Shadowing in Java][1]\r\n - [Variable and Method Hiding in Java][2]\r\n\r\n\r\n  [1]: https://www.scaler.com/topics/java/variable-hiding-and-variable-shadowing-in-java/#example-of-variable-hiding\r\n  [2]: https://www.baeldung.com/java-variable-method-hiding#hierarchy","title":"Subtyping in Java results in unexpected output","body":"<p>When you declare a variable with the same name in a subclass (in this case, <code>Sub</code>) that already exists in the superclass (in this case, <code>Super</code>), it's what we call <strong>variable hiding</strong>.</p>\n<p>This means that <strong>the variable declared in the subclass is different from the variable declared in the superclass</strong>, and the subclass <strong>is not overriding</strong> the variable from the superclass but rather <strong>creating a new variable with the same name</strong>.</p>\n<p>You can override the <code>m()</code> method (as it is in your example code), but you can also just <strong>change the value</strong> using constructors:</p>\n<p><strong>Super Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Super {\n    // Final to make sure value is always set\n    final String i;\n\n    // Default constructor\n    Super() {\n        this(&quot;Variable of superclass&quot;);\n    }\n\n    // Use to overwrite\n    Super(String i) {\n        this.i = i;\n    }\n\n    void m() {\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p><strong>Sub Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Sub extends Super {\n    Sub() {\n        super(&quot;Variable of subclass&quot;);\n    }\n}\n</code></pre>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://www.scaler.com/topics/java/variable-hiding-and-variable-shadowing-in-java/#example-of-variable-hiding\" rel=\"nofollow noreferrer\">Variable Hiding and Variable Shadowing in Java</a></li>\n<li><a href=\"https://www.baeldung.com/java-variable-method-hiding#hierarchy\" rel=\"nofollow noreferrer\">Variable and Method Hiding in Java</a></li>\n</ul>\n"}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76838268,"answer_count":2,"score":2,"last_activity_date":1691174788,"creation_date":1691172045,"question_id":76838232,"body_markdown":"I try to understand how subtyping and inheritance works in Java. Recently I ran into a situation that confuses me. I have got the following Code with three classes:\r\n\r\n```\r\nclass Super{\r\n\tString i = &quot;Variable of superclass&quot;;\r\n\tvoid m() {\r\n\t\tSystem.out.println(i);\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass Sub extends Super{\r\n\tString i = &quot;Variable of subclass&quot;;\r\n\t\r\n\t/*@Override\r\n\tvoid m() {\r\n\t\tSystem.out.println(i);\r\n\t}*/\r\n\r\n}\r\n\r\n\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n                Sub sub = new Sub();\r\n\t\tsub.m();\t//Prints Variable of superclass\r\n\t}\t\r\n}\r\n```\r\n\r\nI am so confused with the output of m(). I just don&#39;t understand why the method, which is called on an instance of Sub, uses the variable of the superclass. I guess it has to do with variable hiding / shadowing but I can&#39;t figure out what is going on there in detail. If I do something like\r\n\r\n```\r\nSuper sup = new Sub();\r\nsup.m();\r\n```\r\n\r\nthen I understand, why it prints the variable of the superclass. That&#39;s because variables are bound in a static way which I know as variable hiding / shadowing. But I really don&#39;t get, what happens in my example.\r\n\r\nI was even more confused about what happened when I removed the comment in Sub. I understand that the method is now overridden but I don&#39;t get why the method now uses the variable of the subclass even though it&#39;s exactly the same code that would have been inherited if I left the comment. I mean, it was already there! How does overriding a method with the exact same code change anything?\r\n\r\nI also tried adding `System.out.println(this.getClass.getName());` inside the method to make sure that the method is really called on an instance of sub. And yes, it is.\r\n\r\nIf anyone could help me out understanding, what&#39;s going on here, I would be very thankful!","title":"Subtyping in Java results in unexpected output","body":"<p>I try to understand how subtyping and inheritance works in Java. Recently I ran into a situation that confuses me. I have got the following Code with three classes:</p>\n<pre><code>class Super{\n    String i = &quot;Variable of superclass&quot;;\n    void m() {\n        System.out.println(i);\n    }\n}\n\n\n\nclass Sub extends Super{\n    String i = &quot;Variable of subclass&quot;;\n    \n    /*@Override\n    void m() {\n        System.out.println(i);\n    }*/\n\n}\n\n\n\npublic class Main {\n    public static void main(String[] args) {\n                Sub sub = new Sub();\n        sub.m();    //Prints Variable of superclass\n    }   \n}\n</code></pre>\n<p>I am so confused with the output of m(). I just don't understand why the method, which is called on an instance of Sub, uses the variable of the superclass. I guess it has to do with variable hiding / shadowing but I can't figure out what is going on there in detail. If I do something like</p>\n<pre><code>Super sup = new Sub();\nsup.m();\n</code></pre>\n<p>then I understand, why it prints the variable of the superclass. That's because variables are bound in a static way which I know as variable hiding / shadowing. But I really don't get, what happens in my example.</p>\n<p>I was even more confused about what happened when I removed the comment in Sub. I understand that the method is now overridden but I don't get why the method now uses the variable of the subclass even though it's exactly the same code that would have been inherited if I left the comment. I mean, it was already there! How does overriding a method with the exact same code change anything?</p>\n<p>I also tried adding <code>System.out.println(this.getClass.getName());</code> inside the method to make sure that the method is really called on an instance of sub. And yes, it is.</p>\n<p>If anyone could help me out understanding, what's going on here, I would be very thankful!</p>\n"},{"tags":["java","rx-java","reactive","rx-java3"],"comments":[{"owner":{"account_id":1494993,"reputation":6603,"user_id":1401164,"accept_rate":67,"display_name":"Gustavo Pagani"},"score":0,"creation_date":1691174813,"post_id":76838452,"comment_id":135461505,"body_markdown":"Does this answer your question? [RxJava - Using Single.Error / Observable.error vs throwing exception](https://stackoverflow.com/questions/61659591/rxjava-using-single-error-observable-error-vs-throwing-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61659591/rxjava-using-single-error-observable-error-vs-throwing-exception\">RxJava - Using Single.Error / Observable.error vs throwing exception</a>"},{"owner":{"account_id":7161069,"reputation":1330,"user_id":5471822,"accept_rate":75,"display_name":"Daniil"},"score":0,"creation_date":1693411802,"post_id":76838452,"comment_id":135758331,"body_markdown":"If you use Single.error(new Exception) the exception will never be raised, because you never subscribe ot the result of methodTwo. In the second case the test with fail with the thrown exception, because it&#39;s not wrapped into a Single","body":"If you use Single.error(new Exception) the exception will never be raised, because you never subscribe ot the result of methodTwo. In the second case the test with fail with the thrown exception, because it&#39;s not wrapped into a Single"}],"owner":{"account_id":29162078,"reputation":1,"user_id":22340598,"display_name":"rangarok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691174572,"creation_date":1691174383,"question_id":76838452,"body_markdown":"I am writing an unit test for methodOne and am trying to simulate an exception scenario.\r\n\r\n\r\n```\r\n Single&lt;String&gt; methodOne() {\r\n     methodTwo();\r\n     return Single.just(&quot;Hello&quot;);\r\n}\r\n\r\nSingle&lt;String&gt; methodTwo() {\r\n//some network calls\r\nreturn Single.just(&quot;World&quot;);\r\n}\r\n```\r\n\r\nI see that there are two ways to do this  \r\n`when(test.methodTwo()).thenReturn(Single.error(new BadRequestException(&quot;bad request&quot;));`\r\n\r\n`when(test.methodTwo()).thenThrow(new BadRequestException(&quot;bad request&quot;));`\r\n\r\nWhat is the difference between the two?\r\n\r\nTrying to understand the difference between the above","title":"rxjava: thenReturn Single.error vs thenThrow Exception","body":"<p>I am writing an unit test for methodOne and am trying to simulate an exception scenario.</p>\n<pre><code> Single&lt;String&gt; methodOne() {\n     methodTwo();\n     return Single.just(&quot;Hello&quot;);\n}\n\nSingle&lt;String&gt; methodTwo() {\n//some network calls\nreturn Single.just(&quot;World&quot;);\n}\n</code></pre>\n<p>I see that there are two ways to do this<br />\n<code>when(test.methodTwo()).thenReturn(Single.error(new BadRequestException(&quot;bad request&quot;));</code></p>\n<p><code>when(test.methodTwo()).thenThrow(new BadRequestException(&quot;bad request&quot;));</code></p>\n<p>What is the difference between the two?</p>\n<p>Trying to understand the difference between the above</p>\n"},{"tags":["java","android","android-fragments","nullpointerexception","android-recyclerview"],"comments":[{"owner":{"account_id":9740669,"reputation":222,"user_id":7222377,"display_name":"astrade"},"score":0,"creation_date":1501092139,"post_id":45334326,"comment_id":77630774,"body_markdown":"Try some of the other methods for retrieving the activity, like maybe `getParentActivity()`. Based on the error your getActivity() is null and probably not the right method to call in this case.","body":"Try some of the other methods for retrieving the activity, like maybe <code>getParentActivity()</code>. Based on the error your getActivity() is null and probably not the right method to call in this case."},{"owner":{"account_id":10357623,"reputation":769,"user_id":7639018,"accept_rate":62,"display_name":"ARR.s"},"score":0,"creation_date":1501092224,"post_id":45334326,"comment_id":77630824,"body_markdown":"sorry my english is not good ,I do not understand what you&#39;re saying","body":"sorry my english is not good ,I do not understand what you&#39;re saying"}],"answers":[{"comments":[{"owner":{"account_id":10357623,"reputation":769,"user_id":7639018,"accept_rate":62,"display_name":"ARR.s"},"score":0,"creation_date":1501092527,"post_id":45334404,"comment_id":77630992,"body_markdown":"it&#39;s not error ,but i get new error `java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.support.v7.widget.RecyclerView.setLayoutManager(android.support.v7.widget.RecyclerView$LayoutManager)&#39;` in line `recyclerView.setLayoutManager(mLayoutManager);`","body":"it&#39;s not error ,but i get new error <code>java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.support.v7.widget.RecyclerView.setLayoutManager(andr&zwnj;&#8203;oid.support.v7.widge&zwnj;&#8203;t.RecyclerView$Layou&zwnj;&#8203;tManager)&#39;</code> in line <code>recyclerView.setLayoutManager(mLayoutManager);</code>"}],"tags":[],"owner":{"account_id":7593513,"reputation":400,"user_id":5763301,"accept_rate":25,"display_name":"Tavinder Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501092259,"creation_date":1501092259,"answer_id":45334404,"question_id":45334326,"body_markdown":"just use only this\r\nmLayoutManager = new LinearLayoutManager(getActivity()); and if you are writing this code in activity then use getApplicationContext()","title":"Attempt to invoke virtual method &#39;android.content.Context android.support.v4.app.FragmentActivity.getApplicationContext()&#39; android","body":"<p>just use only this\nmLayoutManager = new LinearLayoutManager(getActivity()); and if you are writing this code in activity then use getApplicationContext()</p>\n"},{"comments":[{"owner":{"account_id":10357623,"reputation":769,"user_id":7639018,"accept_rate":62,"display_name":"ARR.s"},"score":0,"creation_date":1501093008,"post_id":45334464,"comment_id":77631281,"body_markdown":"Please give example for me?","body":"Please give example for me?"},{"owner":{"account_id":3049003,"reputation":153,"user_id":2584015,"display_name":"Aboulfotoh"},"score":0,"creation_date":1502199975,"post_id":45334464,"comment_id":78099448,"body_markdown":"You are trying to add a fragment to an activity like this:\ngetSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, (your_fragment)).commit();\nand when you are trying to get the context the application crashes\nfirst try to put this code in the onViewCreated() method in your fragment\nthen try to put getContext() instead of getActivity().getApplicationContext()","body":"You are trying to add a fragment to an activity like this: getSupportFragmentManager().beginTransaction().replace(R.id.&zwnj;&#8203;fragment_container, (your_fragment)).commit(); and when you are trying to get the context the application crashes first try to put this code in the onViewCreated() method in your fragment then try to put getContext() instead of getActivity().getApplicationContext()"}],"tags":[],"owner":{"account_id":4773592,"reputation":3602,"user_id":3857465,"display_name":"Abhishek Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691174431,"creation_date":1501092437,"answer_id":45334464,"question_id":45334326,"body_markdown":"`getActivity()` is `null`. You are probably calling this method before your activity is attached to your fragment. \r\n\r\nFrom the [documentation][3]:\r\n\r\n&gt; Caution: If you need a Context object within your Fragment, you can\r\n&gt; call getActivity(). However, be careful to call getActivity() only\r\n&gt; when the fragment is attached to an activity. When the fragment is not\r\n&gt; yet attached, or was detached during the end of its lifecycle,\r\n&gt; getActivity() will return null\r\n\r\nTry and understand the [fragment lifecycle][1] and how it is coupled with [activity lifecycle][2].\r\n\r\n[1]: https://developer.android.com/guide/fragments/lifecycle\r\n[2]: https://developer.android.com/guide/components/activities/activity-lifecycle.html\r\n[3]: https://developer.android.com/guide/fragments/lifecycle","title":"Attempt to invoke virtual method &#39;android.content.Context android.support.v4.app.FragmentActivity.getApplicationContext()&#39; android","body":"<p><code>getActivity()</code> is <code>null</code>. You are probably calling this method before your activity is attached to your fragment.</p>\n<p>From the <a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Caution: If you need a Context object within your Fragment, you can\ncall getActivity(). However, be careful to call getActivity() only\nwhen the fragment is attached to an activity. When the fragment is not\nyet attached, or was detached during the end of its lifecycle,\ngetActivity() will return null</p>\n</blockquote>\n<p>Try and understand the <a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">fragment lifecycle</a> and how it is coupled with <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html\" rel=\"nofollow noreferrer\">activity lifecycle</a>.</p>\n"}],"owner":{"account_id":10357623,"reputation":769,"user_id":7639018,"accept_rate":62,"display_name":"ARR.s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12886,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1691174431,"creation_date":1501091993,"question_id":45334326,"body_markdown":"I have some problem when I set RecyclerViewAdapter\r\n\r\nI get error\r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method\r\n&gt; &#39;android.content.Context\r\n&gt; android.support.v4.app.FragmentActivity.getApplicationContext()&#39; on a\r\n&gt; null object reference\r\n\r\nin line `mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());`\r\n\r\nHow to fix it\r\n\r\n    for (ProfileFeedListModelTwo.PostBean.PollBean pollBean : pp){\r\n       pollBeanArrayList.add(pollBean);}\r\n    \r\n     adapDetailTopicPoll = new AdapDetailTopicPoll(pollBeanArrayList,getContext());\r\n                mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());\r\n                recyclerView.setLayoutManager(mLayoutManager);\r\n                recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n                recyclerView.setAdapter(adapDetailTopicPoll);\r\n\r\n","title":"Attempt to invoke virtual method &#39;android.content.Context android.support.v4.app.FragmentActivity.getApplicationContext()&#39; android","body":"<p>I have some problem when I set RecyclerViewAdapter</p>\n\n<p>I get error</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method\n  'android.content.Context\n  android.support.v4.app.FragmentActivity.getApplicationContext()' on a\n  null object reference</p>\n</blockquote>\n\n<p>in line <code>mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());</code></p>\n\n<p>How to fix it</p>\n\n<pre><code>for (ProfileFeedListModelTwo.PostBean.PollBean pollBean : pp){\n   pollBeanArrayList.add(pollBean);}\n\n adapDetailTopicPoll = new AdapDetailTopicPoll(pollBeanArrayList,getContext());\n            mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());\n            recyclerView.setLayoutManager(mLayoutManager);\n            recyclerView.setItemAnimator(new DefaultItemAnimator());\n            recyclerView.setAdapter(adapDetailTopicPoll);\n</code></pre>\n"},{"tags":["java","maven","openapi","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691174363,"creation_date":1691173100,"answer_id":76838327,"question_id":76830510,"body_markdown":"See https://github.com/springdoc/springdoc-openapi/issues/140\r\n\r\nLook at springdoc-openapi-maven-plugin which can help you generate the yml/json OpenAPI description during integeration test phase in maven.\r\n\r\nhttps://github.com/springdoc/springdoc-openapi-maven-plugin\r\n\r\nNote this does not do it at compile time. But it does it in the integration test phase when you have a running Spring server available. \r\n\r\nDoes not seem to be a Maven plugin for this yet that I can find.\r\n\r\nYou can very simply do this in Java.\r\n\r\nAssuming you have a Jax-RS application: `YourResourceConfigurationWithOpenApi` here is an example of how to write yaml without Spring boot application running:\r\n\r\n```\r\nOpenApiContext ctx = new JaxrsOpenApiContextBuilder()\r\n\t\t\t\t\t.application(new YourResourceConfigurationWithOpenApi())\r\n\t\t\t\t\t.buildContext(true);\r\nOpenAPI oas = ctx.read();\r\nString res = ctx.getOutputYamlMapper().writer(new DefaultPrettyPrinter()).writeValueAsString(oas);\r\nSystem.out.println(res);\r\n```","title":"OpenAPI equivilant of Jersey Jax-RS com.github.kongchen:swagger-maven-plugin?","body":"<p>See <a href=\"https://github.com/springdoc/springdoc-openapi/issues/140\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/140</a></p>\n<p>Look at springdoc-openapi-maven-plugin which can help you generate the yml/json OpenAPI description during integeration test phase in maven.</p>\n<p><a href=\"https://github.com/springdoc/springdoc-openapi-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi-maven-plugin</a></p>\n<p>Note this does not do it at compile time. But it does it in the integration test phase when you have a running Spring server available.</p>\n<p>Does not seem to be a Maven plugin for this yet that I can find.</p>\n<p>You can very simply do this in Java.</p>\n<p>Assuming you have a Jax-RS application: <code>YourResourceConfigurationWithOpenApi</code> here is an example of how to write yaml without Spring boot application running:</p>\n<pre><code>OpenApiContext ctx = new JaxrsOpenApiContextBuilder()\n                    .application(new YourResourceConfigurationWithOpenApi())\n                    .buildContext(true);\nOpenAPI oas = ctx.read();\nString res = ctx.getOutputYamlMapper().writer(new DefaultPrettyPrinter()).writeValueAsString(oas);\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838327,"answer_count":1,"score":0,"last_activity_date":1691174363,"creation_date":1691085112,"question_id":76830510,"body_markdown":"In Swagger, you could use the `swagger-maven-plugin` to build the contract .json at compile time.\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;apiSources&gt;\r\n\t\t\t&lt;apiSource&gt;\r\n\t\t\t\t&lt;springmvc&gt;false&lt;/springmvc&gt;\r\n\t\t\t\t&lt;locations&gt;com.example.rest.resources&lt;/locations&gt;\r\n\t\t\t\t&lt;schemes&gt;https&lt;/schemes&gt;\r\n\t\t\t\t&lt;info&gt;\r\n\t\t\t\t\t&lt;title&gt;project Service&lt;/title&gt;\r\n\t\t\t\t\t&lt;version&gt;v2&lt;/version&gt;\r\n\t\t\t\t\t&lt;description&gt;Description here.&lt;/description&gt;\r\n\t\t\t\t\t&lt;contact&gt;\r\n\t\t\t\t\t\t&lt;email&gt;test@example.com&lt;/email&gt;\r\n\t\t\t\t\t\t&lt;name&gt;project Service&lt;/name&gt;\r\n\t\t\t\t\t&lt;/contact&gt;\r\n\t\t\t\t&lt;/info&gt;\r\n\t\t\t\t&lt;outputPath&gt;${basedir}/target/generated-resources/document.html&lt;/outputPath&gt;\r\n\t\t\t\t&lt;swaggerDirectory&gt;${basedir}/target/generated-resources&lt;/swaggerDirectory&gt;\r\n\t\t\t&lt;/apiSource&gt;\r\n\t\t&lt;/apiSources&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIs there an equivalent way to Given a Jax-RS maven project, use a plugin create an OpenAPI client at maven build time using the current project&#39;s java source to generate a stubs?\r\n\r\nI found a project out there that uses the integration-test phase to actually start the app using spring test runner then uses the http endpoint to build the contract. \r\n\r\nI guess it works but it&#39;s not very convenient. The swagger one was way better it ran statically at compile time. ","title":"OpenAPI equivilant of Jersey Jax-RS com.github.kongchen:swagger-maven-plugin?","body":"<p>In Swagger, you could use the <code>swagger-maven-plugin</code> to build the contract .json at compile time.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;apiSources&gt;\n            &lt;apiSource&gt;\n                &lt;springmvc&gt;false&lt;/springmvc&gt;\n                &lt;locations&gt;com.example.rest.resources&lt;/locations&gt;\n                &lt;schemes&gt;https&lt;/schemes&gt;\n                &lt;info&gt;\n                    &lt;title&gt;project Service&lt;/title&gt;\n                    &lt;version&gt;v2&lt;/version&gt;\n                    &lt;description&gt;Description here.&lt;/description&gt;\n                    &lt;contact&gt;\n                        &lt;email&gt;test@example.com&lt;/email&gt;\n                        &lt;name&gt;project Service&lt;/name&gt;\n                    &lt;/contact&gt;\n                &lt;/info&gt;\n                &lt;outputPath&gt;${basedir}/target/generated-resources/document.html&lt;/outputPath&gt;\n                &lt;swaggerDirectory&gt;${basedir}/target/generated-resources&lt;/swaggerDirectory&gt;\n            &lt;/apiSource&gt;\n        &lt;/apiSources&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Is there an equivalent way to Given a Jax-RS maven project, use a plugin create an OpenAPI client at maven build time using the current project's java source to generate a stubs?</p>\n<p>I found a project out there that uses the integration-test phase to actually start the app using spring test runner then uses the http endpoint to build the contract.</p>\n<p>I guess it works but it's not very convenient. The swagger one was way better it ran statically at compile time.</p>\n"},{"tags":["java","postgresql","hibernate","postgis","quarkus"],"answers":[{"tags":[],"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691172589,"creation_date":1691172589,"answer_id":76838276,"question_id":76835336,"body_markdown":"I solved the problem by changing the package where I get the Geometry objects from **net.postgis.jdbc.geometry.*** to **org.locationtech.jts.geom.*** and small adustments in the code:\r\n\r\n\r\n    private static Geometry createPGGeometry(double[][] coordinates) {\r\n    \r\n        GeometryFactory factory = new GeometryFactory();\r\n    \r\n        Point[] points = new Point[coordinates.length];\r\n        for (int i = 0; i &lt; coordinates.length; i++) {\r\n            if (coordinates[i].length != 2) {\r\n                throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\r\n            }\r\n            points[i] = factory.createPoint(new Coordinate(coordinates[i][1], coordinates[i][0]));\r\n        }\r\n    \r\n        return factory.createMultiPoint(points);\r\n    }\r\n\r\n\r\n","title":"How to setup Quarkus to work with Postgis?","body":"<p>I solved the problem by changing the package where I get the Geometry objects from <strong>net.postgis.jdbc.geometry.</strong>* to <strong>org.locationtech.jts.geom.</strong>* and small adustments in the code:</p>\n<pre><code>private static Geometry createPGGeometry(double[][] coordinates) {\n\n    GeometryFactory factory = new GeometryFactory();\n\n    Point[] points = new Point[coordinates.length];\n    for (int i = 0; i &lt; coordinates.length; i++) {\n        if (coordinates[i].length != 2) {\n            throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\n        }\n        points[i] = factory.createPoint(new Coordinate(coordinates[i][1], coordinates[i][0]));\n    }\n\n    return factory.createMultiPoint(points);\n}\n</code></pre>\n"}],"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691172589,"creation_date":1691147119,"question_id":76835336,"body_markdown":"I am trying to run a simple example with Postgis but I am getting the error:\r\n\r\n`Caused by: java.lang.NoSuchMethodError: &#39;void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)&#39;\r\n`\r\n\r\nI know that the Dev Service rise a PostgreSQL 14.8.\r\n\r\nMy **pom.xml** have these dependencies:\r\n\r\n ```\r\n        ...\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.postgis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgis-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2021.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n```\r\n\r\nAnd in my **application.properties**, I have the property:\r\n\r\n`quarkus.hibernate-orm.dialect=org.hibernate.spatial.dialect.postgis.PostgisDialect`\r\n\r\nHow can I solve this problem?\r\n\r\nWhile I can&#39;t solve it natively (quarkus dev services + Postgis), I&#39;m trying the following solution:\r\n\r\nDownload the Postgis docker image (https://hub.docker.com/r/postgis/postgis) and create a database (test) and configured as below:\r\n\r\n```\r\n%dev.quarkus.datasource.db-kind=postgresql\r\n%dev.quarkus.datasource.username=postgres\r\n%dev.quarkus.datasource.password=mysecretpassword\r\n%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/test\r\n%dev.quarkus.hibernate-orm.database.generation=drop-and-create\r\n\r\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nMy class is something like the code below:\r\n\r\n```java\r\n@Entity\r\npublic class Route implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false)\r\n    private String description;\r\n\r\n    @JsonIgnore\r\n    @Column(columnDefinition = &quot;Geometry&quot;)\r\n    private PGgeometry coordinates;\r\n    ...\r\n   } \r\n```\r\n\r\nI am trying to send this payload:\r\n\r\n```json\r\n{\r\n    &quot;description&quot;: &quot;Route 66&quot;,\r\n    &quot;coordinates&quot;: [\r\n    [0.0, 0.0],\r\n    [1.0, 0.0],\r\n    [1.0, 1.0],\r\n    [0.0, 1.0],\r\n    [0.0, 0.0]\r\n  ]\r\n}\r\n```\r\n\r\nThen I created a RouteDTO like:\r\n\r\n```java\r\npublic class RouteDTO {\r\n    public String description;\r\n    public double[][] coordinates;\r\n}\r\n```\r\nand my RouteResource is:\r\n\r\n```java\r\n@Path(&quot;/routes&quot;)\r\npublic class RouteResource {\r\n\r\n    @Inject\r\n    RouteRepository repository;\r\n\r\n    private static PGgeometry createPGGeometry(double[][] coordinates) {\r\n        Point[] points = new Point[coordinates.length];\r\n        for (int i = 0; i &lt; coordinates.length; i++) {\r\n            if (coordinates[i].length != 2) {\r\n                throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\r\n            }\r\n            points[i] = new Point(coordinates[i][0], coordinates[i][1]);\r\n        }\r\n        LinearRing outerRing = new LinearRing(points);\r\n        return new PGgeometry(outerRing);\r\n    }\r\n\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Response create(RouteDTO routeDTO) {\r\n        Route route = new Route(routeDTO.description, createPGGeometry(routeDTO.coordinates));\r\n        repository.persist(route);\r\n        return Response.created(URI.create(&quot;/routes/&quot; + route.getId())).build();\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to call the POST I got the error:\r\n\r\n`Caused by: org.postgresql.util.PSQLException: ERROR: Invalid endian flag value encountered.\r\n`\r\n \r\nThe image docker installed PostgreSQL 15.3 and Postgis 3.3.4 \r\n\r\nDoes anyone have an idea how to resolve this?\r\n\r\nAlso tried:\r\n- Docker image postgis/postgis:14-3.3 that install PostgreSQL 14.8 and Postgis 3.3.4, but I got the same endian error. \r\n- Docker image postgis/postgis:9.6-3.2 that install PostgreSQL 9.6.24 and PostGis 3.2.0, but got the error: Caused by: java.lang.NoSuchMethodError: &#39;void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)&#39;","title":"How to setup Quarkus to work with Postgis?","body":"<p>I am trying to run a simple example with Postgis but I am getting the error:</p>\n<p><code>Caused by: java.lang.NoSuchMethodError: 'void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)' </code></p>\n<p>I know that the Dev Service rise a PostgreSQL 14.8.</p>\n<p>My <strong>pom.xml</strong> have these dependencies:</p>\n<pre><code>       ...\n      &lt;dependency&gt;\n           &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n           &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n           &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n           &lt;version&gt;5.5.5.Final&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n           &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;net.postgis&lt;/groupId&gt;\n           &lt;artifactId&gt;postgis-jdbc&lt;/artifactId&gt;\n           &lt;version&gt;2021.1.0&lt;/version&gt;\n       &lt;/dependency&gt;\n       ...\n</code></pre>\n<p>And in my <strong>application.properties</strong>, I have the property:</p>\n<p><code>quarkus.hibernate-orm.dialect=org.hibernate.spatial.dialect.postgis.PostgisDialect</code></p>\n<p>How can I solve this problem?</p>\n<p>While I can't solve it natively (quarkus dev services + Postgis), I'm trying the following solution:</p>\n<p>Download the Postgis docker image (<a href=\"https://hub.docker.com/r/postgis/postgis\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/postgis/postgis</a>) and create a database (test) and configured as below:</p>\n<pre><code>%dev.quarkus.datasource.db-kind=postgresql\n%dev.quarkus.datasource.username=postgres\n%dev.quarkus.datasource.password=mysecretpassword\n%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/test\n%dev.quarkus.hibernate-orm.database.generation=drop-and-create\n\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>My class is something like the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Route implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @Column(nullable = false)\n    private String description;\n\n    @JsonIgnore\n    @Column(columnDefinition = &quot;Geometry&quot;)\n    private PGgeometry coordinates;\n    ...\n   } \n</code></pre>\n<p>I am trying to send this payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;description&quot;: &quot;Route 66&quot;,\n    &quot;coordinates&quot;: [\n    [0.0, 0.0],\n    [1.0, 0.0],\n    [1.0, 1.0],\n    [0.0, 1.0],\n    [0.0, 0.0]\n  ]\n}\n</code></pre>\n<p>Then I created a RouteDTO like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RouteDTO {\n    public String description;\n    public double[][] coordinates;\n}\n</code></pre>\n<p>and my RouteResource is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/routes&quot;)\npublic class RouteResource {\n\n    @Inject\n    RouteRepository repository;\n\n    private static PGgeometry createPGGeometry(double[][] coordinates) {\n        Point[] points = new Point[coordinates.length];\n        for (int i = 0; i &lt; coordinates.length; i++) {\n            if (coordinates[i].length != 2) {\n                throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\n            }\n            points[i] = new Point(coordinates[i][0], coordinates[i][1]);\n        }\n        LinearRing outerRing = new LinearRing(points);\n        return new PGgeometry(outerRing);\n    }\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    public Response create(RouteDTO routeDTO) {\n        Route route = new Route(routeDTO.description, createPGGeometry(routeDTO.coordinates));\n        repository.persist(route);\n        return Response.created(URI.create(&quot;/routes/&quot; + route.getId())).build();\n    }\n}\n</code></pre>\n<p>When I try to call the POST I got the error:</p>\n<p><code>Caused by: org.postgresql.util.PSQLException: ERROR: Invalid endian flag value encountered. </code></p>\n<p>The image docker installed PostgreSQL 15.3 and Postgis 3.3.4</p>\n<p>Does anyone have an idea how to resolve this?</p>\n<p>Also tried:</p>\n<ul>\n<li>Docker image postgis/postgis:14-3.3 that install PostgreSQL 14.8 and Postgis 3.3.4, but I got the same endian error.</li>\n<li>Docker image postgis/postgis:9.6-3.2 that install PostgreSQL 9.6.24 and PostGis 3.2.0, but got the error: Caused by: java.lang.NoSuchMethodError: 'void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)'</li>\n</ul>\n"},{"tags":["java","android","object-detection","yolo","game-automation"],"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691172066,"creation_date":1691160635,"question_id":76837011,"body_markdown":"I need to detect object that aren&#39;t that much complex: pokestops.\r\nSome images of a pokestop:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nScreenshot examples: \r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\nIn the past I have worked with template-matching and a little bit with feature detection and homography but sadly none of my previous work helped me so far in detecting this object.\r\n\r\nSnippet of what I&#39;ve tried so far:\r\n\r\n    BRISK detectorAndExtractor = BRISK.create();\r\n    \r\n    \t\tfinal MatOfKeyPoint keyPointsLarge = new MatOfKeyPoint();\r\n    \t\tfinal MatOfKeyPoint keyPointsSmall = new MatOfKeyPoint();\r\n    \r\n    \t\tMat largeImage = Imgcodecs.imread(filename1, Imgcodecs.IMREAD_COLOR);\r\n    \t\tMat smallImage = Imgcodecs.imread(filename2, Imgcodecs.IMREAD_COLOR);\r\n    \r\n    \t\tdetectorAndExtractor.detect(largeImage, keyPointsLarge);\r\n    \t\tdetectorAndExtractor.detect(smallImage, keyPointsSmall);\r\n    \r\n    \t\t//System.out.println(&quot;keyPoints.size() : &quot;+keyPointsLarge.size());\r\n    \t\t//System.out.println(&quot;keyPoints2.size() : &quot;+keyPointsSmall.size());\r\n    \r\n    \t\tMat descriptorsLarge = new Mat();\r\n    \t\tMat descriptorsSmall = new Mat();\r\n    \r\n    \t\tdetectorAndExtractor.compute(largeImage, keyPointsLarge, descriptorsLarge);\r\n    \t\tdetectorAndExtractor.compute(smallImage, keyPointsSmall, descriptorsSmall);\r\n    \r\n    \t\t//System.out.println(&quot;descriptorsA.size() : &quot;+descriptorsLarge.size());\r\n    \t\t//System.out.println(&quot;descriptorsB.size() : &quot;+descriptorsSmall.size());\r\n    \r\n    \t\tMatOfDMatch matches = new MatOfDMatch();\r\n    \r\n    \t\tDescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE_HAMMINGLUT);\r\n    \t\tmatcher.match(descriptorsLarge, descriptorsSmall, matches);\r\n    \r\n    \t\t//System.out.println(&quot;matches.size() : &quot;+matches.size());\r\n    \r\n    \t\tMatOfDMatch matchesFiltered = new MatOfDMatch();\r\n    \r\n    \t\tList&lt;DMatch&gt; matchesList = matches.toList();\r\n    \t\tList&lt;DMatch&gt; bestMatches= new ArrayList&lt;DMatch&gt;();\r\n    \r\n    \t\tDouble max_dist = 0.0;\r\n    \t\tDouble min_dist = 100.0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; matchesList.size(); i++)\r\n    \t\t{\r\n    \t\t\tDouble dist = (double) matchesList.get(i).distance;\r\n    \r\n    \t\t\tif (dist &lt; min_dist &amp;&amp; dist != 0)\r\n    \t\t\t{\r\n    \t\t\t\tmin_dist = dist;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (dist &gt; max_dist)\r\n    \t\t\t{\r\n    \t\t\t\tmax_dist = dist;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(&quot;max_dist : &quot;+max_dist);\r\n    \t\t//System.out.println(&quot;min_dist : &quot;+min_dist);\r\n    \r\n    \t\tif(min_dist &gt; 50 )\r\n    \t\t{\r\n    \t\t\t//System.out.println(&quot;No match found&quot;);\r\n    \t\t\t//System.out.println(&quot;Just return &quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tdouble threshold = 3 * min_dist;\r\n    \t\tdouble threshold2 = 2 * min_dist;\r\n    \r\n    \t\tif (threshold &gt; 75)\r\n    \t\t{\r\n    \t\t\tthreshold  = 75;\r\n    \t\t}\r\n    \t\telse if (threshold2 &gt;= max_dist)\r\n    \t\t{\r\n    \t\t\tthreshold = min_dist * 1.1;\r\n    \t\t}\r\n    \t\telse if (threshold &gt;= max_dist)\r\n    \t\t{\r\n    \t\t\tthreshold = threshold2 * 1.4;\r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(&quot;Threshold : &quot;+threshold);\r\n    \r\n    \t\tfor (int i = 0; i &lt; matchesList.size(); i++)\r\n    \t\t{\r\n    \t\t\tDouble dist = (double) matchesList.get(i).distance;\r\n    \r\n    \t\t\tif (dist &lt; threshold)\r\n    \t\t\t{\r\n    \t\t\t\tbestMatches.add(matches.toList().get(i));\r\n    \t\t\t\t//System.out.println(String.format(i + &quot; best match added : %s&quot;, dist));\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tmatchesFiltered.fromList(bestMatches);\r\n    \r\n    \t\t//System.out.println(&quot;matchesFiltered.size() : &quot; + matchesFiltered.size());\r\n    \r\n    \r\n    \t\tif(matchesFiltered.rows() &gt;= 1) //TODO &gt;= 4\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;match found &quot;+matchesFiltered.rows());\r\n    \t\t\tSystem.out.println(&quot;bestMatches.size: &quot;+bestMatches.size());\r\n    \t\t\tgetMatchingPoints(keyPointsLarge,keyPointsSmall,bestMatches);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn false;\r\n    \t\t}\r\n\r\nI didn&#39;t try only Brisk (maybe not the best choice since the object is round), I also tried with SURF following this tutorial: https://docs.opencv.org/3.4/d7/dff/tutorial_feature_homography.html\r\n\r\nbut I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0) /tmp/opencv-20230625-23894-1o8sdu5/opencv-4.7.0/modules/calib3d/src/fundam.cpp:385: error: (-28:Unknown error code -28) The input arrays should have at least 4 corresponding point sets to calculate Homography in function &#39;findHomography&#39;\r\n\r\n\r\nA friend was suggesting to maybe try with a YOLO algorithm. I found a few examples but none with a thorough explanation.\r\nWhat would you suggest? Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMMSG.png\r\n  [2]: https://i.stack.imgur.com/pX2bO.png\r\n  [3]: https://i.stack.imgur.com/ICrlm.png\r\n  [4]: https://i.stack.imgur.com/liKLg.jpg\r\n  [5]: https://i.stack.imgur.com/3nzBq.jpg\r\n  [6]: https://i.stack.imgur.com/VEQhK.jpg","title":"openCV - object detection: should I use YOLO? If not, which algorithm would more appropriate for this case scenario?","body":"<p>I need to detect object that aren't that much complex: pokestops.\nSome images of a pokestop:</p>\n<p><a href=\"https://i.stack.imgur.com/YMMSG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMMSG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pX2bO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pX2bO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ICrlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICrlm.png\" alt=\"enter image description here\" /></a></p>\n<p>Screenshot examples:</p>\n<p><a href=\"https://i.stack.imgur.com/liKLg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/liKLg.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3nzBq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3nzBq.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VEQhK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEQhK.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In the past I have worked with template-matching and a little bit with feature detection and homography but sadly none of my previous work helped me so far in detecting this object.</p>\n<p>Snippet of what I've tried so far:</p>\n<pre><code>BRISK detectorAndExtractor = BRISK.create();\n\n        final MatOfKeyPoint keyPointsLarge = new MatOfKeyPoint();\n        final MatOfKeyPoint keyPointsSmall = new MatOfKeyPoint();\n\n        Mat largeImage = Imgcodecs.imread(filename1, Imgcodecs.IMREAD_COLOR);\n        Mat smallImage = Imgcodecs.imread(filename2, Imgcodecs.IMREAD_COLOR);\n\n        detectorAndExtractor.detect(largeImage, keyPointsLarge);\n        detectorAndExtractor.detect(smallImage, keyPointsSmall);\n\n        //System.out.println(&quot;keyPoints.size() : &quot;+keyPointsLarge.size());\n        //System.out.println(&quot;keyPoints2.size() : &quot;+keyPointsSmall.size());\n\n        Mat descriptorsLarge = new Mat();\n        Mat descriptorsSmall = new Mat();\n\n        detectorAndExtractor.compute(largeImage, keyPointsLarge, descriptorsLarge);\n        detectorAndExtractor.compute(smallImage, keyPointsSmall, descriptorsSmall);\n\n        //System.out.println(&quot;descriptorsA.size() : &quot;+descriptorsLarge.size());\n        //System.out.println(&quot;descriptorsB.size() : &quot;+descriptorsSmall.size());\n\n        MatOfDMatch matches = new MatOfDMatch();\n\n        DescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE_HAMMINGLUT);\n        matcher.match(descriptorsLarge, descriptorsSmall, matches);\n\n        //System.out.println(&quot;matches.size() : &quot;+matches.size());\n\n        MatOfDMatch matchesFiltered = new MatOfDMatch();\n\n        List&lt;DMatch&gt; matchesList = matches.toList();\n        List&lt;DMatch&gt; bestMatches= new ArrayList&lt;DMatch&gt;();\n\n        Double max_dist = 0.0;\n        Double min_dist = 100.0;\n\n        for (int i = 0; i &lt; matchesList.size(); i++)\n        {\n            Double dist = (double) matchesList.get(i).distance;\n\n            if (dist &lt; min_dist &amp;&amp; dist != 0)\n            {\n                min_dist = dist;\n            }\n\n            if (dist &gt; max_dist)\n            {\n                max_dist = dist;\n            }\n\n        }\n\n        //System.out.println(&quot;max_dist : &quot;+max_dist);\n        //System.out.println(&quot;min_dist : &quot;+min_dist);\n\n        if(min_dist &gt; 50 )\n        {\n            //System.out.println(&quot;No match found&quot;);\n            //System.out.println(&quot;Just return &quot;);\n            return false;\n        }\n\n        double threshold = 3 * min_dist;\n        double threshold2 = 2 * min_dist;\n\n        if (threshold &gt; 75)\n        {\n            threshold  = 75;\n        }\n        else if (threshold2 &gt;= max_dist)\n        {\n            threshold = min_dist * 1.1;\n        }\n        else if (threshold &gt;= max_dist)\n        {\n            threshold = threshold2 * 1.4;\n        }\n\n        //System.out.println(&quot;Threshold : &quot;+threshold);\n\n        for (int i = 0; i &lt; matchesList.size(); i++)\n        {\n            Double dist = (double) matchesList.get(i).distance;\n\n            if (dist &lt; threshold)\n            {\n                bestMatches.add(matches.toList().get(i));\n                //System.out.println(String.format(i + &quot; best match added : %s&quot;, dist));\n            }\n        }\n\n        matchesFiltered.fromList(bestMatches);\n\n        //System.out.println(&quot;matchesFiltered.size() : &quot; + matchesFiltered.size());\n\n\n        if(matchesFiltered.rows() &gt;= 1) //TODO &gt;= 4\n        {\n            System.out.println(&quot;match found &quot;+matchesFiltered.rows());\n            System.out.println(&quot;bestMatches.size: &quot;+bestMatches.size());\n            getMatchingPoints(keyPointsLarge,keyPointsSmall,bestMatches);\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n</code></pre>\n<p>I didn't try only Brisk (maybe not the best choice since the object is round), I also tried with SURF following this tutorial: <a href=\"https://docs.opencv.org/3.4/d7/dff/tutorial_feature_homography.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4/d7/dff/tutorial_feature_homography.html</a></p>\n<p>but I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0) /tmp/opencv-20230625-23894-1o8sdu5/opencv-4.7.0/modules/calib3d/src/fundam.cpp:385: error: (-28:Unknown error code -28) The input arrays should have at least 4 corresponding point sets to calculate Homography in function 'findHomography'\n</code></pre>\n<p>A friend was suggesting to maybe try with a YOLO algorithm. I found a few examples but none with a thorough explanation.\nWhat would you suggest? Thank you.</p>\n"},{"tags":["java","spring-boot","caching","redis"],"answers":[{"tags":[],"owner":{"account_id":3139674,"reputation":515,"user_id":2655362,"accept_rate":55,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603440822,"creation_date":1603439933,"answer_id":64496129,"question_id":62515289,"body_markdown":"I haven&#39;t used jedis but the plain spring wrapper `shedlock-provider-redis-spring`. If your config works properly then you should be able to fetch by querying `keys *` with redis-cli. If not try forming the key manually and check in redis, shedlock uses below method in `JedisLockProvider.java` for forming a key that goes in redis.\r\n\r\n     static String buildKey(String lockName, String env) {\r\n            return String.format(&quot;%s:%s:%s&quot;, KEY_PREFIX, env, lockName);\r\n        }\r\n\r\nCheck belowline in `JedisLockProvider.java` which actually maintains lock info in Redis.\r\n\r\nhttps://github.com/lukas-krecan/ShedLock/blob/05d72cefa931634eaebabf2a7cdd400f1da416d7/providers/redis/shedlock-provider-redis-jedis/src/main/java/net/javacrumbs/shedlock/provider/redis/jedis/JedisLockProvider.java#L154\r\n\r\n","title":"Shedlock with Spring and Redis","body":"<p>I haven't used jedis but the plain spring wrapper <code>shedlock-provider-redis-spring</code>. If your config works properly then you should be able to fetch by querying <code>keys *</code> with redis-cli. If not try forming the key manually and check in redis, shedlock uses below method in <code>JedisLockProvider.java</code> for forming a key that goes in redis.</p>\n<pre><code> static String buildKey(String lockName, String env) {\n        return String.format(&quot;%s:%s:%s&quot;, KEY_PREFIX, env, lockName);\n    }\n</code></pre>\n<p>Check belowline in <code>JedisLockProvider.java</code> which actually maintains lock info in Redis.</p>\n<p><a href=\"https://github.com/lukas-krecan/ShedLock/blob/05d72cefa931634eaebabf2a7cdd400f1da416d7/providers/redis/shedlock-provider-redis-jedis/src/main/java/net/javacrumbs/shedlock/provider/redis/jedis/JedisLockProvider.java#L154\" rel=\"nofollow noreferrer\">https://github.com/lukas-krecan/ShedLock/blob/05d72cefa931634eaebabf2a7cdd400f1da416d7/providers/redis/shedlock-provider-redis-jedis/src/main/java/net/javacrumbs/shedlock/provider/redis/jedis/JedisLockProvider.java#L154</a></p>\n"},{"tags":[],"owner":{"account_id":1522189,"reputation":85,"user_id":1421549,"display_name":"frankskywalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655302449,"creation_date":1655302449,"answer_id":72633000,"question_id":62515289,"body_markdown":"I believe once the scheduled job is executed, the key value is deleted in redis.\r\nYou can create a breakpoint in Class RedisLockProvider, lock method. \r\n\r\n```\r\n    public Optional&lt;SimpleLock&gt; lock(@NonNull LockConfiguration lockConfiguration) {\r\n        String key = buildKey(lockConfiguration.getName());\r\n        Expiration expiration = getExpiration(lockConfiguration.getLockAtMostUntil());\r\n        if (TRUE.equals(tryToSetExpiration(redisTemplate, key, expiration, SET_IF_ABSENT))) {\r\n            return Optional.of(new RedisLock(key, redisTemplate, lockConfiguration));\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n```\r\nAfter this method returns, then check the redis to see if your key is there.","title":"Shedlock with Spring and Redis","body":"<p>I believe once the scheduled job is executed, the key value is deleted in redis.\nYou can create a breakpoint in Class RedisLockProvider, lock method.</p>\n<pre><code>    public Optional&lt;SimpleLock&gt; lock(@NonNull LockConfiguration lockConfiguration) {\n        String key = buildKey(lockConfiguration.getName());\n        Expiration expiration = getExpiration(lockConfiguration.getLockAtMostUntil());\n        if (TRUE.equals(tryToSetExpiration(redisTemplate, key, expiration, SET_IF_ABSENT))) {\n            return Optional.of(new RedisLock(key, redisTemplate, lockConfiguration));\n        } else {\n            return Optional.empty();\n        }\n    }\n</code></pre>\n<p>After this method returns, then check the redis to see if your key is there.</p>\n"},{"tags":[],"owner":{"account_id":29161934,"reputation":1,"user_id":22340481,"display_name":"deluxexBR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691171960,"creation_date":1691171910,"answer_id":76838219,"question_id":62515289,"body_markdown":"the command generated by shedlock redis lock method has a expiration time so the cached value is removed from redis as soon as possible.\r\n\r\nTo see the SET commands in redis while your @Scheduled method is triggered by CRON, you can run the monitor:\r\n\r\n    redis-cli monitor","title":"Shedlock with Spring and Redis","body":"<p>the command generated by shedlock redis lock method has a expiration time so the cached value is removed from redis as soon as possible.</p>\n<p>To see the SET commands in redis while your @Scheduled method is triggered by CRON, you can run the monitor:</p>\n<pre><code>redis-cli monitor\n</code></pre>\n"}],"owner":{"account_id":309142,"reputation":3795,"user_id":621438,"accept_rate":79,"display_name":"LukeSolar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4877,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1691171960,"creation_date":1592831555,"question_id":62515289,"body_markdown":"I&#39;m using Shedlock with Spring Boot and Redis as Lock Provider. \r\n\r\nEverything seems to work fine. But when I manually go to the Redis during the execution of the task I see no specific KEY for the lock. \r\n\r\nOn the Redis CLI I do `KEYS *` to get all keys. \r\n\r\nIs this expected or do I miss any configuration?\r\n\r\n\r\n```\r\n@Bean\r\npublic LockProvider lockProvider() {\r\n   return new JedisLockProvider(redisPoolPrimary.getPool(), RedisPoolPrimary.ENV_ID);\r\n}\r\n``` \r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class RedisPoolPrimary {\r\n\r\n    public static final String ENV_ID = &quot;MyAppId&quot;;\r\n    private JedisPool pool;\r\n\r\n    public RedisPoolPrimary(@Value(&quot;${spring.redis.url}&quot;) String redisCloudUrl,\r\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX_TOTAL}&quot;) int jedisPoolMaxTotal,\r\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX}&quot;) int jedisPoolMax,\r\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOLMAX_IDLE}&quot;) int jedisPoolMaxIdle\r\n    ) {\r\n        URI redisUrl = URI.create(redisCloudUrl);\r\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n        poolConfig.setMaxTotal(jedisPoolMaxTotal);\r\n        poolConfig.setMinIdle(jedisPoolMax);\r\n        poolConfig.setMaxIdle(jedisPoolMaxIdle);\r\n        pool = new JedisPool(poolConfig, redisUrl);\r\n    }\r\n\r\n    public JedisPool getPool() {\r\n        return pool;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Scheduled(cron = &quot;${cache.scheduler.cron.expression}&quot;)\r\n@SchedulerLock(name = &quot;refreshUserCachesLock&quot;, lockAtLeastForString = FIVE_MINUTES, lockAtMostForString = SIXTY_MINUTES)\r\npublic void refreshCacheOfAllInstances() {\r\n   // should be only run once every x hours for all spring boot app nodes\r\n   // however during execution of the task no KEY seems to be in Redis - does the lock mechanism work?\r\n}\r\n```\r\n\r\nDependencies used \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Shedlock with Spring and Redis","body":"<p>I'm using Shedlock with Spring Boot and Redis as Lock Provider.</p>\n<p>Everything seems to work fine. But when I manually go to the Redis during the execution of the task I see no specific KEY for the lock.</p>\n<p>On the Redis CLI I do <code>KEYS *</code> to get all keys.</p>\n<p>Is this expected or do I miss any configuration?</p>\n<pre><code>@Bean\npublic LockProvider lockProvider() {\n   return new JedisLockProvider(redisPoolPrimary.getPool(), RedisPoolPrimary.ENV_ID);\n}\n</code></pre>\n<pre><code>@Component\n@Slf4j\npublic class RedisPoolPrimary {\n\n    public static final String ENV_ID = &quot;MyAppId&quot;;\n    private JedisPool pool;\n\n    public RedisPoolPrimary(@Value(&quot;${spring.redis.url}&quot;) String redisCloudUrl,\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX_TOTAL}&quot;) int jedisPoolMaxTotal,\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX}&quot;) int jedisPoolMax,\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOLMAX_IDLE}&quot;) int jedisPoolMaxIdle\n    ) {\n        URI redisUrl = URI.create(redisCloudUrl);\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\n        poolConfig.setMaxTotal(jedisPoolMaxTotal);\n        poolConfig.setMinIdle(jedisPoolMax);\n        poolConfig.setMaxIdle(jedisPoolMaxIdle);\n        pool = new JedisPool(poolConfig, redisUrl);\n    }\n\n    public JedisPool getPool() {\n        return pool;\n    }\n\n}\n</code></pre>\n<pre><code>@Scheduled(cron = &quot;${cache.scheduler.cron.expression}&quot;)\n@SchedulerLock(name = &quot;refreshUserCachesLock&quot;, lockAtLeastForString = FIVE_MINUTES, lockAtMostForString = SIXTY_MINUTES)\npublic void refreshCacheOfAllInstances() {\n   // should be only run once every x hours for all spring boot app nodes\n   // however during execution of the task no KEY seems to be in Redis - does the lock mechanism work?\n}\n</code></pre>\n<p>Dependencies used</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n            &lt;version&gt;4.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\n            &lt;version&gt;4.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691171751,"creation_date":1691171751,"answer_id":76838196,"question_id":76837477,"body_markdown":"You can set up a `FilterProvider` that includes a `SimpleBeanPropertyFilter`.\r\n\r\n**Note:** In this example, the `validKeys` could be passed as an argument to `createFilterProvider` and stored on the `FilterProvider`, rather than on the `KeyFilter` driver.\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.introspect.Annotated;\r\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\nimport com.fasterxml.jackson.databind.ser.BeanPropertyWriter;\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.PropertyWriter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n\r\npublic class KeyFilter {\r\n    private static ObjectMapper mapper;\r\n    private static Set&lt;String&gt; validKeys;\r\n\r\n    static {\r\n        mapper = new ObjectMapper();\r\n        mapper.setFilterProvider(createFilterProvider());\r\n\r\n        validKeys = new HashSet&lt;&gt;();\r\n        validKeys.add(&quot;KEY1&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Map&lt;String, String&gt; hashtable = new HashMap&lt;&gt;();\r\n\r\n        hashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\n        hashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\n        hashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\r\n        System.out.println(mapper.writeValueAsString(hashtable)); // {&quot;KEY1&quot;:&quot;VALUE1&quot;}\r\n    }\r\n\r\n    // Derived from: https://stackoverflow.com/a/25232485/1762224\r\n    private static FilterProvider createFilterProvider() {\r\n        SimpleFilterProvider filterProvider = new SimpleFilterProvider();\r\n        final String filterName = &quot;valid-key-filter&quot;;\r\n        mapper.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\r\n            @Override\r\n            public Object findFilterId(Annotated a) {\r\n                if (Map.class.isAssignableFrom(a.getRawType())) {\r\n                    return filterName;\r\n                }\r\n                return super.findFilterId(a);\r\n            }\r\n        });\r\n        filterProvider.addFilter(filterName, new SimpleBeanPropertyFilter() {\r\n            @Override\r\n            protected boolean include(BeanPropertyWriter writer) {\r\n                return true;\r\n            }\r\n            @Override\r\n            protected boolean include(PropertyWriter writer) {\r\n                return validKeys.contains(writer.getName());\r\n            }\r\n        });\r\n        return filterProvider;\r\n    }\r\n}\r\n```","title":"Convert hashmap to json while filtering some keys?","body":"<p>You can set up a <code>FilterProvider</code> that includes a <code>SimpleBeanPropertyFilter</code>.</p>\n<p><strong>Note:</strong> In this example, the <code>validKeys</code> could be passed as an argument to <code>createFilterProvider</code> and stored on the <code>FilterProvider</code>, rather than on the <code>KeyFilter</code> driver.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.introspect.Annotated;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.ser.BeanPropertyWriter;\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.PropertyWriter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\npublic class KeyFilter {\n    private static ObjectMapper mapper;\n    private static Set&lt;String&gt; validKeys;\n\n    static {\n        mapper = new ObjectMapper();\n        mapper.setFilterProvider(createFilterProvider());\n\n        validKeys = new HashSet&lt;&gt;();\n        validKeys.add(&quot;KEY1&quot;);\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        Map&lt;String, String&gt; hashtable = new HashMap&lt;&gt;();\n\n        hashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\n        hashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\n        hashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n\n        System.out.println(mapper.writeValueAsString(hashtable)); // {&quot;KEY1&quot;:&quot;VALUE1&quot;}\n    }\n\n    // Derived from: https://stackoverflow.com/a/25232485/1762224\n    private static FilterProvider createFilterProvider() {\n        SimpleFilterProvider filterProvider = new SimpleFilterProvider();\n        final String filterName = &quot;valid-key-filter&quot;;\n        mapper.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\n            @Override\n            public Object findFilterId(Annotated a) {\n                if (Map.class.isAssignableFrom(a.getRawType())) {\n                    return filterName;\n                }\n                return super.findFilterId(a);\n            }\n        });\n        filterProvider.addFilter(filterName, new SimpleBeanPropertyFilter() {\n            @Override\n            protected boolean include(BeanPropertyWriter writer) {\n                return true;\n            }\n            @Override\n            protected boolean include(PropertyWriter writer) {\n                return validKeys.contains(writer.getName());\n            }\n        });\n        return filterProvider;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29050703,"reputation":59,"user_id":22253592,"display_name":"Vitalii Dokalenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691171905,"creation_date":1691171905,"answer_id":76838218,"question_id":76837477,"body_markdown":"[Here](https://stackoverflow.com/a/46391108/22253592) is the answer of your question. You should create mixinSource Class without any fields and add it to the objectMapper. Then you can filter out your map dynamically\r\n```java\r\n@JsonFilter(&quot;filter&quot;)\r\npublic class DynamicMixIn {\r\n\r\n}\r\n```\r\n```java\r\nMap&lt;String, String&gt; hashtable = new HashMap();\r\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.addMixIn(Object.class, DynamicMixIn.class);\r\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.serializeAllExcept(&quot;KEY1&quot;));\r\nobjectMapper.setFilterProvider(filter);\r\nString filtered = objectMapper.writeValueAsString(hashtable); // {&quot;KEY2&quot;:&quot;VALUE2&quot;,&quot;KEY3&quot;:&quot;VALUE3&quot;}\r\n```","title":"Convert hashmap to json while filtering some keys?","body":"<p><a href=\"https://stackoverflow.com/a/46391108/22253592\">Here</a> is the answer of your question. You should create mixinSource Class without any fields and add it to the objectMapper. Then you can filter out your map dynamically</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFilter(&quot;filter&quot;)\npublic class DynamicMixIn {\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; hashtable = new HashMap();\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.addMixIn(Object.class, DynamicMixIn.class);\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.serializeAllExcept(&quot;KEY1&quot;));\nobjectMapper.setFilterProvider(filter);\nString filtered = objectMapper.writeValueAsString(hashtable); // {&quot;KEY2&quot;:&quot;VALUE2&quot;,&quot;KEY3&quot;:&quot;VALUE3&quot;}\n</code></pre>\n"}],"owner":{"account_id":2222608,"reputation":546,"user_id":1961651,"accept_rate":55,"display_name":"randomgood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838218,"answer_count":2,"score":0,"last_activity_date":1691171905,"creation_date":1691164322,"question_id":76837477,"body_markdown":"I am trying to convert hashmap to json while filtering some keys. I have tried with Jackson but the result always have all the keys in it.\r\n\r\n```\r\nMap&lt;String, String&gt; hashtable = new HashMap();\r\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.filterOutAllExcept(&quot;KEY1&quot;));\r\nobjectMapper.setFilterProvider(filter);\r\nSystem.err.println(objectMapper.writeValueAsString(hashtable));\r\n```\r\n\r\nMy keys are dynamic, Is there more efficent way to do this? \r\n\r\nJackson method of filtering is perfect to me, since i need to generate multiple json&#39;s with different filter for the same HashMap. Is is possible to make this work with Jackson? \r\n","title":"Convert hashmap to json while filtering some keys?","body":"<p>I am trying to convert hashmap to json while filtering some keys. I have tried with Jackson but the result always have all the keys in it.</p>\n<pre><code>Map&lt;String, String&gt; hashtable = new HashMap();\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n\nObjectMapper objectMapper = new ObjectMapper();\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.filterOutAllExcept(&quot;KEY1&quot;));\nobjectMapper.setFilterProvider(filter);\nSystem.err.println(objectMapper.writeValueAsString(hashtable));\n</code></pre>\n<p>My keys are dynamic, Is there more efficent way to do this?</p>\n<p>Jackson method of filtering is perfect to me, since i need to generate multiple json's with different filter for the same HashMap. Is is possible to make this work with Jackson?</p>\n"},{"tags":["java","android","c","video-streaming","gstreamer"],"owner":{"account_id":17304011,"reputation":51,"user_id":12533141,"display_name":"reed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691171717,"creation_date":1691171717,"question_id":76838191,"body_markdown":"I&#39;m attempting to open an rtp stream sent over udp and encoded as h.264 with gstreamer android. I am able to open said stream on my laptop using gst-launch-1.0 with the following gstreamer pipeline string:\r\n```\r\n&quot;gst-launch-1.0 udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;\r\n```\r\nI&#39;ve modified gstreamer android example tutorial-5.c to use the same pipeline string when creating the relevant gstreamer pipeline element. Specifically, I&#39;ve changed the line in app_function (void *userdata) that originally called a playbin element to interpret a URI string to the following :\r\n```\r\n  data-&gt;pipeline = gst_parse_launch(&quot;udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;, &amp;error);\r\n```\r\nHowever, when I run the application in emulator on a device, it crashes. Here is the logcat output:\r\n```\r\n---------------------------- PROCESS STARTED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\r\n2023-08-04 14:03:22.115 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.008497396 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\r\n2023-08-04 14:03:22.116 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.009767969 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\r\n2023-08-04 14:03:22.117 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.010928594 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\r\n2023-08-04 14:03:22.133 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime image/vnd.android.heic\r\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ima\r\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ape\r\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\r\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L1\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L2\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ms-wma\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\r\n2023-08-04 14:03:22.156 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/mp43\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 1/32 for video/mp4v-es\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/2 for video/mp4v-es\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/64 for video/mp4v-es\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/wvc1\r\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv7\r\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv8\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052010521 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052055625 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x6, ignoring\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.052066354 0x76a8551380 ../sys/androidmedia/gstamc.c:311:scan_codecs video/avc decoder has unknown color formats, only direct rendering will be supported\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052139375 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\r\n... repeats ...\r\n202023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059945104 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype &#39;video/x-ms-wmv7&#39;\r\n2023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059977240 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype &#39;video/x-ms-wmv8&#39;\r\n2023-08-04 14:03:22.168 15744-15744 GLib+GLib               org...streamer.tutorials.tutorial_5  W  GError set over the top of a previous GError or uninitialized memory.\r\n                                                                                                    This indicates a bug in someone&#39;s code. You must ensure an error is NULL before it&#39;s set.\r\n                                                                                                    The overwriting error message was: Failed to get static field ID EFFECT_SKETCH (Ljava/lang/String;): java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\r\n                                                                                                    java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\r\n                                                                                                    \tat org.freedesktop.gstreamer.GStreamer.nativeInit(Native Method)\r\n                                                                                                    \tat org.freedesktop.gstreamer.GStreamer.init(GStreamer.java:24)\r\n                                                                                                    \tat org.freedesktop.gstreamer.tutorials.tutorial_5.Tutorial5.onCreate(Tutorial5.java:64)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:7957)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:7946)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(Activity\r\n2023-08-04 14:03:22.169 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  E  Object class GstAHCSrc doesn&#39;t implement property &#39;exposure-mode&#39; from interface &#39;GstPhotography&#39;\r\n2023-08-04 14:03:22.194 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialization complete\r\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  I  updateCaptionType &gt;&gt; DecorView@2267800[], isFloating: false, isApplication: true, hasWindowDecorCaption: false, hasWindowControllerCallback: true\r\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  D  setCaptionType = 0, DecorView = DecorView@2267800[]\r\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  Activity created with no saved state:\r\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 duration: 0 uri: rtsp://192.168.1.20:8554/test\r\n2023-08-04 14:03:22.226 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120206667 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:483:gst_native_init Created CustomData at 0x7648beafe0\r\n2023-08-04 14:03:22.227 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120244948 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:485:gst_native_init Created GlobalRef for app object at 0x3f36\r\n2023-08-04 14:03:22.227 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120363594 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:396:app_function Creating pipeline in CustomData at 0x7648beafe0\r\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;flags&#39;\r\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;flags&#39;\r\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  QUALCOMM build                   : f141d58, If15e50a99e\r\n                                                                                                    Build Date                       : 06/10/20\r\n                                                                                                    OpenGL ES Shader Compiler Version: EV031.29.00.08\r\n                                                                                                    Local Branch                     : \r\n                                                                                                    Remote Branch                    : refs/tags/AU_LINUX_ANDROID_LA.UM.8.12.C1.10.00.00.649.113\r\n                                                                                                    Remote Branch                    : NONE\r\n                                                                                                    Reconstruct Branch               : NOTHING\r\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Build Config                     : S P 8.0.12 AArch64\r\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\r\n2023-08-04 14:03:22.232 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  D  [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\r\n2023-08-04 14:03:22.235 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  PFP: 0x016dd087, ME: 0x00000000\r\n2023-08-04 14:03:22.236 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  setView = com.android.internal.policy.DecorView@2267800 TM=true MM=false\r\n2023-08-04 14:03:22.240 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  onWindowVisibilityChanged(0) true org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......I. 0,0-0,0 #7f07007d app:id/surface_video} of ViewRootImpl@b3568ab[Tutorial5]\r\n2023-08-04 14:03:22.240 15744-15795 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.133592292 0x7648b59f00 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl0&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\r\n... repeats ..\r\n2023-08-04 14:03:22.243 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\r\n2023-08-04 14:03:22.245 15744-15798 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.138893750 0x76a489a240 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl1&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\r\n... repeats ...\r\n2023-08-04 14:03:22.248 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=4 res=0x7 s={true 508010508288} ch=true\r\n2023-08-04 14:03:22.248 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  createReliableSurface : 0x773ff9e240(0x7647c93000)\r\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142321250 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:450:app_function Entering main loop... (CustomData:0x7648beafe0)\r\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142345729 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x7648b92460\r\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142797604 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to READY\r\n2023-08-04 14:03:22.249 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x0\r\n2023-08-04 14:03:22.250 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\r\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceCreated 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\r\n2023-08-04 14:03:22.253 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface created: Surface(name=null)/@0x5c81638\r\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceChanged (1080,810) 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface changed to format 4 width 1080 height 810\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147286094 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:621:gst_native_surface_init Received surface 0x7fc630eb28 (native window 0x7647ce3010)\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147315417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x76a8551380\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147326510 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:369:check_initialization_complete Initialization complete, notifying application. native_window:0x7647ce3010 main_loop:0x76ac99c150\r\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  invalid cast from &#39;GstPipeline&#39; to &#39;GstVideoOverlay&#39;\r\n2023-08-04 14:03:22.254 15744-15744 GLib+GStreamer-Video    org...streamer.tutorials.tutorial_5  E  gst_video_overlay_set_window_handle: assertion &#39;GST_IS_VIDEO_OVERLAY (overlay)&#39; failed\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialized:\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 uri: rtsp://192.168.1.20:8554/test\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147399167 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:529:gst_native_set_uri Setting URI to rtsp://192.168.1.20:8554/test\r\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;uri&#39;\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147559115 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:580:gst_native_set_position Scheduling seek to 0:00:00.000000000 for later\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147580417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:561:gst_native_pause Setting state to PAUSED\r\n2023-08-04 14:03:22.254 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.148201146 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to PAUSED\r\n2023-08-04 14:03:22.255 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;video-sink&#39;\r\n2023-08-04 14:03:22.255 15744-15793 ials.tutorial_          org...streamer.tutorials.tutorial_5  W  0xebadde09 skipped times: 0\r\n2023-08-04 14:03:22.255 15744-15793 libc                    org...streamer.tutorials.tutorial_5  A  Fatal signal 11 (SIGSEGV), code 2 (SEGV_ACCERR), fault addr 0x773b7f9c54 in tid 15793 (Thread-8), pid 15744 (ials.tutorial_5)\r\n2023-08-04 14:03:22.265 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x763fc26600\r\n2023-08-04 14:03:22.331 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  E  [NativeCFMS] BpCustomFrequencyManager::sendDrawingTid()\r\n2023-08-04 14:03:22.331 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  GPIS:: SetUp Pid : 15744    Tid : 15782\r\n2023-08-04 14:03:22.341 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=3 res=0x1 s={true 508010508288} ch=false\r\n2023-08-04 14:03:22.343 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_WINDOW_FOCUS_CHANGED 1 1\r\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\r\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\r\n2023-08-04 14:03:22.348 15744-15744 EmergencyMode           org...streamer.tutorials.tutorial_5  D  [EmergencyManager] android createPackageContext successful\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  I  startInputInner - mService.startInputOrWindowGainedFocus\r\n2023-08-04 14:03:22.354 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_RESIZED: frame=(0,0,1080,2400) ci=(0,78,0,144) vi=(0,78,0,144) or=1\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\r\n---------------------------- PROCESS ENDED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\r\n                                                                                              \r\n```\r\n\r\nFor background, I&#39;ve been able to open rtsp streams and other example video sources on the device just fine with gstreamer for android. Any help is appreciated, thanks in advance.","title":"Gstreamer udpsrc fails on Android","body":"<p>I'm attempting to open an rtp stream sent over udp and encoded as h.264 with gstreamer android. I am able to open said stream on my laptop using gst-launch-1.0 with the following gstreamer pipeline string:</p>\n<pre><code>&quot;gst-launch-1.0 udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;\n</code></pre>\n<p>I've modified gstreamer android example tutorial-5.c to use the same pipeline string when creating the relevant gstreamer pipeline element. Specifically, I've changed the line in app_function (void *userdata) that originally called a playbin element to interpret a URI string to the following :</p>\n<pre><code>  data-&gt;pipeline = gst_parse_launch(&quot;udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;, &amp;error);\n</code></pre>\n<p>However, when I run the application in emulator on a device, it crashes. Here is the logcat output:</p>\n<pre><code>---------------------------- PROCESS STARTED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\n2023-08-04 14:03:22.115 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.008497396 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\n2023-08-04 14:03:22.116 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.009767969 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\n2023-08-04 14:03:22.117 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.010928594 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\n2023-08-04 14:03:22.133 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime image/vnd.android.heic\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ima\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ape\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L1\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L2\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ms-wma\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\n2023-08-04 14:03:22.156 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/mp43\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 1/32 for video/mp4v-es\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/2 for video/mp4v-es\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/64 for video/mp4v-es\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/wvc1\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv7\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv8\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052010521 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052055625 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x6, ignoring\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.052066354 0x76a8551380 ../sys/androidmedia/gstamc.c:311:scan_codecs video/avc decoder has unknown color formats, only direct rendering will be supported\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052139375 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\n... repeats ...\n202023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059945104 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype 'video/x-ms-wmv7'\n2023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059977240 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype 'video/x-ms-wmv8'\n2023-08-04 14:03:22.168 15744-15744 GLib+GLib               org...streamer.tutorials.tutorial_5  W  GError set over the top of a previous GError or uninitialized memory.\n                                                                                                    This indicates a bug in someone's code. You must ensure an error is NULL before it's set.\n                                                                                                    The overwriting error message was: Failed to get static field ID EFFECT_SKETCH (Ljava/lang/String;): java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\n                                                                                                    java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\n                                                                                                        at org.freedesktop.gstreamer.GStreamer.nativeInit(Native Method)\n                                                                                                        at org.freedesktop.gstreamer.GStreamer.init(GStreamer.java:24)\n                                                                                                        at org.freedesktop.gstreamer.tutorials.tutorial_5.Tutorial5.onCreate(Tutorial5.java:64)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:7957)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:7946)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(Activity\n2023-08-04 14:03:22.169 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  E  Object class GstAHCSrc doesn't implement property 'exposure-mode' from interface 'GstPhotography'\n2023-08-04 14:03:22.194 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialization complete\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  I  updateCaptionType &gt;&gt; DecorView@2267800[], isFloating: false, isApplication: true, hasWindowDecorCaption: false, hasWindowControllerCallback: true\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  D  setCaptionType = 0, DecorView = DecorView@2267800[]\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  Activity created with no saved state:\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 duration: 0 uri: rtsp://192.168.1.20:8554/test\n2023-08-04 14:03:22.226 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120206667 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:483:gst_native_init Created CustomData at 0x7648beafe0\n2023-08-04 14:03:22.227 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120244948 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:485:gst_native_init Created GlobalRef for app object at 0x3f36\n2023-08-04 14:03:22.227 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120363594 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:396:app_function Creating pipeline in CustomData at 0x7648beafe0\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class 'GstPipeline' has no property named 'flags'\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class 'GstPipeline' has no property named 'flags'\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  QUALCOMM build                   : f141d58, If15e50a99e\n                                                                                                    Build Date                       : 06/10/20\n                                                                                                    OpenGL ES Shader Compiler Version: EV031.29.00.08\n                                                                                                    Local Branch                     : \n                                                                                                    Remote Branch                    : refs/tags/AU_LINUX_ANDROID_LA.UM.8.12.C1.10.00.00.649.113\n                                                                                                    Remote Branch                    : NONE\n                                                                                                    Reconstruct Branch               : NOTHING\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Build Config                     : S P 8.0.12 AArch64\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\n2023-08-04 14:03:22.232 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  D  [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\n2023-08-04 14:03:22.235 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  PFP: 0x016dd087, ME: 0x00000000\n2023-08-04 14:03:22.236 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  setView = com.android.internal.policy.DecorView@2267800 TM=true MM=false\n2023-08-04 14:03:22.240 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  onWindowVisibilityChanged(0) true org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......I. 0,0-0,0 #7f07007d app:id/surface_video} of ViewRootImpl@b3568ab[Tutorial5]\n2023-08-04 14:03:22.240 15744-15795 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.133592292 0x7648b59f00 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl0&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\n... repeats ..\n2023-08-04 14:03:22.243 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\n2023-08-04 14:03:22.245 15744-15798 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.138893750 0x76a489a240 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl1&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\n... repeats ...\n2023-08-04 14:03:22.248 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=4 res=0x7 s={true 508010508288} ch=true\n2023-08-04 14:03:22.248 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  createReliableSurface : 0x773ff9e240(0x7647c93000)\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142321250 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:450:app_function Entering main loop... (CustomData:0x7648beafe0)\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142345729 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x7648b92460\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142797604 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to READY\n2023-08-04 14:03:22.249 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x0\n2023-08-04 14:03:22.250 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceCreated 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\n2023-08-04 14:03:22.253 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface created: Surface(name=null)/@0x5c81638\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceChanged (1080,810) 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface changed to format 4 width 1080 height 810\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147286094 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:621:gst_native_surface_init Received surface 0x7fc630eb28 (native window 0x7647ce3010)\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147315417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x76a8551380\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147326510 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:369:check_initialization_complete Initialization complete, notifying application. native_window:0x7647ce3010 main_loop:0x76ac99c150\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  invalid cast from 'GstPipeline' to 'GstVideoOverlay'\n2023-08-04 14:03:22.254 15744-15744 GLib+GStreamer-Video    org...streamer.tutorials.tutorial_5  E  gst_video_overlay_set_window_handle: assertion 'GST_IS_VIDEO_OVERLAY (overlay)' failed\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialized:\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 uri: rtsp://192.168.1.20:8554/test\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147399167 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:529:gst_native_set_uri Setting URI to rtsp://192.168.1.20:8554/test\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class 'GstPipeline' has no property named 'uri'\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147559115 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:580:gst_native_set_position Scheduling seek to 0:00:00.000000000 for later\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147580417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:561:gst_native_pause Setting state to PAUSED\n2023-08-04 14:03:22.254 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.148201146 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to PAUSED\n2023-08-04 14:03:22.255 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class 'GstPipeline' has no property named 'video-sink'\n2023-08-04 14:03:22.255 15744-15793 ials.tutorial_          org...streamer.tutorials.tutorial_5  W  0xebadde09 skipped times: 0\n2023-08-04 14:03:22.255 15744-15793 libc                    org...streamer.tutorials.tutorial_5  A  Fatal signal 11 (SIGSEGV), code 2 (SEGV_ACCERR), fault addr 0x773b7f9c54 in tid 15793 (Thread-8), pid 15744 (ials.tutorial_5)\n2023-08-04 14:03:22.265 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x763fc26600\n2023-08-04 14:03:22.331 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  E  [NativeCFMS] BpCustomFrequencyManager::sendDrawingTid()\n2023-08-04 14:03:22.331 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  GPIS:: SetUp Pid : 15744    Tid : 15782\n2023-08-04 14:03:22.341 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=3 res=0x1 s={true 508010508288} ch=false\n2023-08-04 14:03:22.343 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_WINDOW_FOCUS_CHANGED 1 1\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\n2023-08-04 14:03:22.348 15744-15744 EmergencyMode           org...streamer.tutorials.tutorial_5  D  [EmergencyManager] android createPackageContext successful\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  I  startInputInner - mService.startInputOrWindowGainedFocus\n2023-08-04 14:03:22.354 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_RESIZED: frame=(0,0,1080,2400) ci=(0,78,0,144) vi=(0,78,0,144) or=1\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\n---------------------------- PROCESS ENDED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\n                                                                                              \n</code></pre>\n<p>For background, I've been able to open rtsp streams and other example video sources on the device just fine with gstreamer for android. Any help is appreciated, thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","pdf","swagger"],"answers":[{"comments":[{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1648385745,"post_id":71636409,"comment_id":126605611,"body_markdown":"Thank you for the answer! but the error still there","body":"Thank you for the answer! but the error still there"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1648385964,"post_id":71636409,"comment_id":126605649,"body_markdown":"when i tried to call this api from Postman with this url `http://localhost:8080/api/previewPDF/C15`, in the body I can see the pdf file so I&#39;ll accept your anwser, Please could this problem be related to swagger ?","body":"when i tried to call this api from Postman with this url <code>http:&#47;&#47;localhost:8080&#47;api&#47;previewPDF&#47;C15</code>, in the body I can see the pdf file so I&#39;ll accept your anwser, Please could this problem be related to swagger ?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648386350,"post_id":71636409,"comment_id":126605746,"body_markdown":"Set also content type for your response entity, I have updated the answer. You need just return the proper content type to the browser. In this way browser will understand that it should display PDF","body":"Set also content type for your response entity, I have updated the answer. You need just return the proper content type to the browser. In this way browser will understand that it should display PDF"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1648386565,"post_id":71636409,"comment_id":126605788,"body_markdown":"`The method contentType(MediaType) in the type ResponseEntity.BodyBuilder is not applicable for the arguments (String) Java(67108979)` I got this error in return","body":"<code>The method contentType(MediaType) in the type ResponseEntity.BodyBuilder is not applicable for the arguments (String) Java(67108979)</code> I got this error in return"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648386974,"post_id":71636409,"comment_id":126605868,"body_markdown":"try this one updated example.","body":"try this one updated example."},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":1,"creation_date":1648387350,"post_id":71636409,"comment_id":126605933,"body_markdown":"The same error, I upload an image (above in UPDATE section) of the error it may help","body":"The same error, I upload an image (above in UPDATE section) of the error it may help"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648387558,"post_id":71636409,"comment_id":126605974,"body_markdown":"You are right this is swagger specific. See https://stackoverflow.com/questions/56479965/swagger-unrecognized-response-type-displaying-content-as-text","body":"You are right this is swagger specific. See <a href=\"https://stackoverflow.com/questions/56479965/swagger-unrecognized-response-type-displaying-content-as-text\" title=\"swagger unrecognized response type displaying content as text\">stackoverflow.com/questions/56479965/&hellip;</a>"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":1,"creation_date":1648387810,"post_id":71636409,"comment_id":126606031,"body_markdown":"yes here is the issue https://github.com/swagger-api/swagger-ui/issues/5500. Anyways, I appreciate your help!","body":"yes here is the issue <a href=\"https://github.com/swagger-api/swagger-ui/issues/5500\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-ui/issues/5500</a>. Anyways, I appreciate your help!"},{"owner":{"account_id":19281015,"reputation":279,"user_id":14093016,"display_name":"Xaxage"},"score":0,"creation_date":1669205521,"post_id":71636409,"comment_id":131590742,"body_markdown":"ddidn&#39;t help : \n return ResponseEntity.ok().headers(headers).contentType\n                        (MediaType.APPLICATION_PDF)\n                .body(new InputStreamResource(inputStream));","body":"ddidn&#39;t help :   return ResponseEntity.ok().headers(headers).contentType                         (MediaType.APPLICATION_PDF)                 .body(new InputStreamResource(inputStream));"}],"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648386892,"creation_date":1648384908,"answer_id":71636409,"question_id":71635756,"body_markdown":"You need to specify the response PDF Media Type for your resource.\r\n&lt;br&gt;See [RFC standart][1]. [Full list of Media Types][2].\r\n&lt;br&gt;Spring documentation regarding [produces Media Type][3].\r\n```java\r\n    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException\r\n```\r\nSet also PDF content type for your `ResponseEntity`\r\n```java\r\n    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\r\n        byte[] pdf = null;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        String fileName = &quot;example.pdf&quot;;\r\n        headers.setContentDispositionFormData(fileName, fileName);        \r\n        headers.setContentType(MediaType.APPLICATION_PDF);\r\n        return ResponseEntity.ok().headers(headers).body(pdf);\r\n    }\r\n```\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc8118.html\r\n  [2]: https://www.iana.org/assignments/media-types/media-types.xhtml#image\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--","title":"preview pdf in browser from controller spring boot: Unrecognized response type; displaying content as text","body":"<p>You need to specify the response PDF Media Type for your resource.\n<br>See <a href=\"https://www.rfc-editor.org/rfc/rfc8118.html\" rel=\"nofollow noreferrer\">RFC standart</a>. <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml#image\" rel=\"nofollow noreferrer\">Full list of Media Types</a>.\n<br>Spring documentation regarding <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--\" rel=\"nofollow noreferrer\">produces Media Type</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException\n</code></pre>\n<p>Set also PDF content type for your <code>ResponseEntity</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\n        byte[] pdf = null;\n        HttpHeaders headers = new HttpHeaders();\n        String fileName = &quot;example.pdf&quot;;\n        headers.setContentDispositionFormData(fileName, fileName);        \n        headers.setContentType(MediaType.APPLICATION_PDF);\n        return ResponseEntity.ok().headers(headers).body(pdf);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14598037,"reputation":1253,"user_id":10543130,"display_name":"usersina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691171437,"creation_date":1691171437,"answer_id":76838162,"question_id":71635756,"body_markdown":"The accepted answer directly downloads the PDF instead of doing a preview, so I had to set the `Content-Disposition` to `inline` instead.\r\n\r\n```java\r\nheaders.setContentDisposition(\r\n  ContentDisposition.builder(&quot;inline&quot;).filename(&quot;preview-report.pdf&quot;).build()\r\n);\r\n```","title":"preview pdf in browser from controller spring boot: Unrecognized response type; displaying content as text","body":"<p>The accepted answer directly downloads the PDF instead of doing a preview, so I had to set the <code>Content-Disposition</code> to <code>inline</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.setContentDisposition(\n  ContentDisposition.builder(&quot;inline&quot;).filename(&quot;preview-report.pdf&quot;).build()\n);\n</code></pre>\n"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2946,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71636409,"answer_count":2,"score":4,"last_activity_date":1691171437,"creation_date":1648379109,"question_id":71635756,"body_markdown":"I want to preview a pdf file genereted with java, but the following code gives this error \r\n\r\n    \r\n\r\n&gt; Unrecognized response type; displaying content as text.\r\n\r\n```\r\n@GetMapping(&quot;/previewPDF/{codeStudent}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\r\n        \r\n        byte[] pdf = //pdf content in bytes\r\n\r\n        HttpHeaders headers = new HttpHeaders();      \r\n        headers.add(&quot;Content-Disposition&quot;, &quot;inline; filename=&quot; + &quot;example.pdf&quot;);\r\n        headers.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n        return ResponseEntity.ok().headers(headers).body(pdf); \r\n    }\r\n```\r\nUPDATE: here is a screenshot of the error\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KYwgf.png","title":"preview pdf in browser from controller spring boot: Unrecognized response type; displaying content as text","body":"<p>I want to preview a pdf file genereted with java, but the following code gives this error</p>\n<blockquote>\n<p>Unrecognized response type; displaying content as text.</p>\n</blockquote>\n<pre><code>@GetMapping(&quot;/previewPDF/{codeStudent}&quot;)\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\n        \n        byte[] pdf = //pdf content in bytes\n\n        HttpHeaders headers = new HttpHeaders();      \n        headers.add(&quot;Content-Disposition&quot;, &quot;inline; filename=&quot; + &quot;example.pdf&quot;);\n        headers.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\n        return ResponseEntity.ok().headers(headers).body(pdf); \n    }\n</code></pre>\n<p>UPDATE: here is a screenshot of the error\n<a href=\"https://i.stack.imgur.com/KYwgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYwgf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linux","process","sh","tesseract"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1689972219,"post_id":76741090,"comment_id":135293363,"body_markdown":"What does &quot;*do not work*&quot; mean? Do you get a compilation error? If so: please [edit] the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please [edit] the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please [edit] the post, add a [MRE], as we as expected and observed output.","body":"What does &quot;<i>do not work</i>&quot; mean? Do you get a compilation error? If so: please <a href=\"https://stackoverflow.com/posts/76741090/edit\">edit</a> the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please <a href=\"https://stackoverflow.com/posts/76741090/edit\">edit</a> the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please <a href=\"https://stackoverflow.com/posts/76741090/edit\">edit</a> the post, add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, as we as expected and observed output."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689972321,"post_id":76741090,"comment_id":135293379,"body_markdown":"&quot;an error&quot; is a very unclear description... would be helpful at least to know which error (message) (I would also at least use `builder.inheritIO()` to see the output of given command)","body":"&quot;an error&quot; is a very unclear description... would be helpful at least to know which error (message) (I would also at least use <code>builder.inheritIO()</code> to see the output of given command)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689978641,"post_id":76741090,"comment_id":135294107,"body_markdown":"Did you try changing `tesseract test.png out1 -l rus+eng` to `tesseract test.png out1 -l rus+eng`?","body":"Did you try changing <code>tesseract test.png out1 -l rus+eng</code> to <code>tesseract test.png out1 -l rus+eng</code>?"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1689985316,"post_id":76741090,"comment_id":135294580,"body_markdown":"you wrote the same thing, check the message for typos  @dan1stisonstrike","body":"you wrote the same thing, check the message for typos  @dan1stisonstrike"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690006598,"post_id":76741090,"comment_id":135295628,"body_markdown":"My fault, I meant `/bin/tesseract test.png out1 -l rus+eng to tesseract test.png out1 -l rus+eng` - I forgot to actually change it.","body":"My fault, I meant <code>&#47;bin&#47;tesseract test.png out1 -l rus+eng to tesseract test.png out1 -l rus+eng</code> - I forgot to actually change it."},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690015036,"post_id":76741090,"comment_id":135296251,"body_markdown":"I already tried that and it still couldn&#39;t find the command, which is weird because the path is correct. @dan1stisonstrike\n\nSame error: ./myscript.sh: line 5: /bin/tesseract: No such file or directory","body":"I already tried that and it still couldn&#39;t find the command, which is weird because the path is correct. @dan1stisonstrike  Same error: ./myscript.sh: line 5: /bin/tesseract: No such file or directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690025782,"post_id":76741090,"comment_id":135297220,"body_markdown":"An odd path. Usually `/usr/bin/tesseract`","body":"An odd path. Usually <code>&#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690026744,"post_id":76741090,"comment_id":135297304,"body_markdown":"What&#39;s the output of `whereis tesseract` (outside of the script/Java application/where it works)?","body":"What&#39;s the output of <code>whereis tesseract</code> (outside of the script/Java application/where it works)?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690044923,"post_id":76741090,"comment_id":135299521,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690055118,"post_id":76741090,"comment_id":135300670,"body_markdown":"@dan1stisonstrike Thanks for trying to help, I&#39;ve edited the original question.","body":"@dan1stisonstrike Thanks for trying to help, I&#39;ve edited the original question."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690055940,"post_id":76741090,"comment_id":135300773,"body_markdown":"When running `whereis tesseract` in your terminal, what output do you get?","body":"When running <code>whereis tesseract</code> in your terminal, what output do you get?"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690057231,"post_id":76741090,"comment_id":135300931,"body_markdown":"Output: `hello this is message from script\nusing tesseract\nTesseract Open Source OCR Engine v4.1.1 with Leptonica\nWarning: Invalid resolution 0 dpi. Using 70 instead.`\n\npath: /bin/tesseract @dan1stisonstrike","body":"Output: <code>hello this is message from script using tesseract Tesseract Open Source OCR Engine v4.1.1 with Leptonica Warning: Invalid resolution 0 dpi. Using 70 instead.</code>  path: /bin/tesseract @dan1stisonstrike"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690058845,"post_id":76741090,"comment_id":135301117,"body_markdown":"Use the full path to tesseract in the script. In point of fact, you don&#39;t need a script. You could run tesseract directly","body":"Use the full path to tesseract in the script. In point of fact, you don&#39;t need a script. You could run tesseract directly"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690059751,"post_id":76741090,"comment_id":135301210,"body_markdown":"I already used the full path, the result is the same... @g00se","body":"I already used the full path, the result is the same... @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690061350,"post_id":76741090,"comment_id":135301357,"body_markdown":"@dan1stisonstrike asked a question to which I don&#39;t see the answer","body":"@dan1stisonstrike asked a question to which I don&#39;t see the answer"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690061954,"post_id":76741090,"comment_id":135301407,"body_markdown":"I answered all his questions @g00se","body":"I answered all his questions @g00se"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690062620,"post_id":76741090,"comment_id":135301450,"body_markdown":"What you showed doesn&#39;t seem like the output of the command `whereis tesseract`. The `whereis` is an important part of the command.","body":"What you showed doesn&#39;t seem like the output of the command <code>whereis tesseract</code>. The <code>whereis</code> is an important part of the command."},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690063312,"post_id":76741090,"comment_id":135301512,"body_markdown":"output: `hello this is message from script\nusing tesseract\ntesseract:\ntext-file.png:\nout1:\nbin: /usr/bin\nbin: /usr/lib/x86_64-linux-gnu\nbin: /usr/lib\nbin: /usr/lib64\nbin: /etc\nbin: /usr/etc\nbin: /usr/include\nbin: /usr/libexec\nbin: /usr/share\nbin: /app/bin\nrus+eng:`","body":"output: <code>hello this is message from script using tesseract tesseract: text-file.png: out1: bin: &#47;usr&#47;bin bin: &#47;usr&#47;lib&#47;x86_64-linux-gnu bin: &#47;usr&#47;lib bin: &#47;usr&#47;lib64 bin: &#47;etc bin: &#47;usr&#47;etc bin: &#47;usr&#47;include bin: &#47;usr&#47;libexec bin: &#47;usr&#47;share bin: &#47;app&#47;bin rus+eng:</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690064146,"post_id":76741090,"comment_id":135301579,"body_markdown":"You keep posting output from your *script*. That&#39;s *not* what we&#39;re asking for. Read the request carefully","body":"You keep posting output from your <i>script</i>. That&#39;s <i>not</i> what we&#39;re asking for. Read the request carefully"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690065255,"post_id":76741090,"comment_id":135301681,"body_markdown":"`tesseract: /usr/bin/tesseract /usr/share/man/man1/tesseract.1.gz` its output @g00se","body":"<code>tesseract: &#47;usr&#47;bin&#47;tesseract &#47;usr&#47;share&#47;man&#47;man1&#47;tesseract.1.gz</code> its output @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690065396,"post_id":76741090,"comment_id":135301689,"body_markdown":"So, as you can see, the path is *not* `/bin/tesseract` but rather what I said it should be, namely  `/usr/bin/tesseract`","body":"So, as you can see, the path is <i>not</i> <code>&#47;bin&#47;tesseract</code> but rather what I said it should be, namely  <code>&#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690065810,"post_id":76741090,"comment_id":135301717,"body_markdown":"I also tried your version that time, but it didn&#39;t help either @g00se","body":"I also tried your version that time, but it didn&#39;t help either @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690066328,"post_id":76741090,"comment_id":135301736,"body_markdown":"Try `ProcessBuilder builder = new ProcessBuilder(&quot;/usr/bin/tesseract&quot;,&quot;test.png&quot;,&quot;out1&quot;,&quot;-l&quot;,&quot;rus+eng&quot;).inheritIO(); builder.start()`","body":"Try <code>ProcessBuilder builder = new ProcessBuilder(&quot;&#47;usr&#47;bin&#47;tesseract&quot;,&quot;test.png&quot;,&quot;out1&quot;,&quot;-l&quot;,&quot;&zwnj;&#8203;rus+eng&quot;).inheritIO(&zwnj;&#8203;); builder.start()</code>"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690067284,"post_id":76741090,"comment_id":135301792,"body_markdown":"@g00se It didn&#39;t help, I actually did it myself.","body":"@g00se It didn&#39;t help, I actually did it myself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690067535,"post_id":76741090,"comment_id":135301808,"body_markdown":"It works for me. Please post what you did","body":"It works for me. Please post what you did"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690068951,"post_id":76741090,"comment_id":135301914,"body_markdown":"I copied your code and pasted it into the Main class in the Main method, in the root folder of the project there is a test.png file that needs to be processed with the tesseract command, I can do this using the Linux terminal and there are no problems, but when I try to do the same through the Java code, it cannot find this command, and it successfully finds other commands like ECHO @g00se","body":"I copied your code and pasted it into the Main class in the Main method, in the root folder of the project there is a test.png file that needs to be processed with the tesseract command, I can do this using the Linux terminal and there are no problems, but when I try to do the same through the Java code, it cannot find this command, and it successfully finds other commands like ECHO @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690094333,"post_id":76741090,"comment_id":135303195,"body_markdown":"That&#39;s a wholly different problem and it is caused by the current directory not being what you think it is. You can find out what it really is by printing the system property `user.dir`. That&#39;s where the image needs to go","body":"That&#39;s a wholly different problem and it is caused by the current directory not being what you think it is. You can find out what it really is by printing the system property <code>user.dir</code>. That&#39;s where the image needs to go"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690114247,"post_id":76741090,"comment_id":135305174,"body_markdown":"@g00se so the problem is not in the image, she cannot find exactly the tesseract command itself","body":"@g00se so the problem is not in the image, she cannot find exactly the tesseract command itself"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690118216,"post_id":76741090,"comment_id":135305622,"body_markdown":"OK, I thought you were referring to the image file. There *can&#39;t* be a problem finding Tesseract itself using the code I gave you because the full path to it is given","body":"OK, I thought you were referring to the image file. There <i>can&#39;t</i> be a problem finding Tesseract itself using the code I gave you because the full path to it is given"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690120638,"post_id":76741090,"comment_id":135305950,"body_markdown":"I really don&#39;t know why she writes that there is no such command, even when I enter the full path, I don&#39;t know what the problem is @g00se","body":"I really don&#39;t know why she writes that there is no such command, even when I enter the full path, I don&#39;t know what the problem is @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690123778,"post_id":76741090,"comment_id":135306371,"body_markdown":"Please post the output of `ls -l /usr/bin/tesseract`","body":"Please post the output of <code>ls -l &#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690163923,"post_id":76741090,"comment_id":135310359,"body_markdown":"@g00se -`rwxr-xr-x 1 root root 35128 feb  9  2022 /usr/bin/tesseract`","body":"@g00se -<code>rwxr-xr-x 1 root root 35128 feb  9  2022 &#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690188982,"post_id":76741090,"comment_id":135313331,"body_markdown":"Then no reason why it shouldn&#39;t work. Use the absolute path to the image file with my code for the time being","body":"Then no reason why it shouldn&#39;t work. Use the absolute path to the image file with my code for the time being"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690194372,"post_id":76741090,"comment_id":135314501,"body_markdown":"It didn&#39;t help either. I tried to copy the tesseract file and move it to the root folder of the project and java started to see this command, but got errors that there were no dependencies @g00se","body":"It didn&#39;t help either. I tried to copy the tesseract file and move it to the root folder of the project and java started to see this command, but got errors that there were no dependencies @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690196896,"post_id":76741090,"comment_id":135314993,"body_markdown":"Ordinarily that would solve nothing but might very likely cause even more problems. There&#39;s something weird going on with your environment but unfortunately that&#39;s difficult to diagnose from sketchy descriptions","body":"Ordinarily that would solve nothing but might very likely cause even more problems. There&#39;s something weird going on with your environment but unfortunately that&#39;s difficult to diagnose from sketchy descriptions"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690200055,"post_id":76741090,"comment_id":135315645,"body_markdown":"I also reinstalled Linux several times (not for this reason) and it still didn&#39;t work. I also tried calling /usr/bin/echo and there are no errors in the file search, I don&#39;t know what","body":"I also reinstalled Linux several times (not for this reason) and it still didn&#39;t work. I also tried calling /usr/bin/echo and there are no errors in the file search, I don&#39;t know what"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690200241,"post_id":76741090,"comment_id":135315690,"body_markdown":"Probably a support case at this point","body":"Probably a support case at this point"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690301129,"post_id":76741090,"comment_id":135332924,"body_markdown":"@g00se I tried building the project into a jar and running it, and you know what? everything works for me, I don&#39;t know what it is connected with","body":"@g00se I tried building the project into a jar and running it, and you know what? everything works for me, I don&#39;t know what it is connected with"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690301976,"post_id":76741090,"comment_id":135333121,"body_markdown":"Glad you got it working finally","body":"Glad you got it working finally"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690302100,"post_id":76741090,"comment_id":135333149,"body_markdown":"@g00se Thanks for trying to help all this time! I&#39;m also very happy with how it turned out.","body":"@g00se Thanks for trying to help all this time! I&#39;m also very happy with how it turned out."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690481166,"post_id":76782139,"comment_id":135363583,"body_markdown":"*If you don&#39;t want to update it in the PATH variable* What do you mean by that exactly?","body":"<i>If you don&#39;t want to update it in the PATH variable</i> What do you mean by that exactly?"},{"owner":{"account_id":85323,"reputation":28510,"user_id":237955,"accept_rate":71,"display_name":"amphetamachine"},"score":0,"creation_date":1691076721,"post_id":76782139,"comment_id":135445647,"body_markdown":"@g00se I updated my answer to give an explanation","body":"@g00se I updated my answer to give an explanation"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691077528,"post_id":76782139,"comment_id":135445826,"body_markdown":"OK. This whole question is shrouded in mystery, not the least of which is that `tesseract` was probably in the path all along, at the location I said it should be at","body":"OK. This whole question is shrouded in mystery, not the least of which is that <code>tesseract</code> was probably in the path all along, at the location I said it should be at"}],"tags":[],"owner":{"account_id":85323,"reputation":28510,"user_id":237955,"accept_rate":71,"display_name":"amphetamachine"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691170848,"creation_date":1690478631,"answer_id":76782139,"question_id":76741090,"body_markdown":"You have to have the folder containing `tesseract` program in the `PATH` variable or else it won&#39;t work.\r\n\r\n# What is the `PATH`?\r\n\r\nSetting the `PATH` (Linux, `:`-separated) or the `Path` (Windows, `;`-separated) environment variable sets the list of directories the system searches when you invoke a program name without a directory preceding it.\r\n\r\nFor instance if I go to the command line and type `java` the system will loop over each directory in my `PATH` to see if `java` exists there and is executable. Once it finds one it executes it and exits the loop.\r\n\r\nIf, however I run `/opt/java/bin/java` no path lookup is performed.\r\n\r\nUsually your shell either sets (or inherits) the `PATH` variable upon login, but you can do it from the shell too:\r\n```sh\r\nexport PATH=&#39;/bin:/usr/bin:/opt/java/bin/java&#39;\r\n```\r\n\r\nEvery program invoked after this `export` statement will have their `PATH` overwritten by the value from your shell.\r\n\r\nYou can set the `PATH` (or any environment variable) for a single program by prefixing it with the variable set on the same line:\r\n```sh\r\nPATH=&#39;/bin:/usr/bin:/home/myuser/bin&#39; myprogram -arg1 -arg2\r\n```\r\n\r\nPATH entries without a leading `/` are interpreted to be relative to the current working directory (`.`):\r\n\r\n```sh\r\nPATH=&#39;bin:/usr/bin:/bin&#39;\r\n```\r\n\r\n**Caveat:** It&#39;s not recommended to omit `/bin` and `/usr/bin` from the PATH. I&#39;d try only ever *adding* to the path variable:\r\n\r\n```sh\r\nexport PATH=&quot;$PATH:/home/myuser/add:/home/myuser/bin&quot;\r\n```\r\n\r\n# Without using the `PATH`\r\n\r\nIf you don&#39;t want to update it in the `PATH` variable, you can refer to it by full or relative path name in the script.\r\n\r\nFor the following examples, I&#39;m going to assume the following file layout:\r\n\r\n- `src/.../.../.../Main.java` (compiled somehow)\r\n- `myscript.sh`\r\n- `bin/teserract`\r\n\r\nThis should work:\r\n\r\n```sh\r\n#!/bin/bash\r\n# WORKDIR = The current dir (relative to how the script is invoked) where myscript.sh resides\r\nWORKDIR=$(dirname &quot;$0&quot;)\r\n\r\n&quot;$WORKDIR/bin/tesseract&quot; test.png out1 -l rus+eng\r\n```\r\n\r\nConsider also that on many systems `sh myscript.sh` is not the same thing as `bash myscript.sh` or `./myscript.sh`. `/bin/sh` traditionally refers to POSIX shell, which has fewer features than Bash. It may trip you up if you decide to use some advanced Bash features. For this reason, I&#39;d suggest changing the Java to either `new ProcessBuilder(&quot;./myscript.sh&quot;)` or `new ProcessBuilder(&quot;bash&quot;, &quot;./myscript.sh&quot;)`.","title":"Java class Process: can&#39;t execute third party program via .sh","body":"<p>You have to have the folder containing <code>tesseract</code> program in the <code>PATH</code> variable or else it won't work.</p>\n<h1>What is the <code>PATH</code>?</h1>\n<p>Setting the <code>PATH</code> (Linux, <code>:</code>-separated) or the <code>Path</code> (Windows, <code>;</code>-separated) environment variable sets the list of directories the system searches when you invoke a program name without a directory preceding it.</p>\n<p>For instance if I go to the command line and type <code>java</code> the system will loop over each directory in my <code>PATH</code> to see if <code>java</code> exists there and is executable. Once it finds one it executes it and exits the loop.</p>\n<p>If, however I run <code>/opt/java/bin/java</code> no path lookup is performed.</p>\n<p>Usually your shell either sets (or inherits) the <code>PATH</code> variable upon login, but you can do it from the shell too:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH='/bin:/usr/bin:/opt/java/bin/java'\n</code></pre>\n<p>Every program invoked after this <code>export</code> statement will have their <code>PATH</code> overwritten by the value from your shell.</p>\n<p>You can set the <code>PATH</code> (or any environment variable) for a single program by prefixing it with the variable set on the same line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>PATH='/bin:/usr/bin:/home/myuser/bin' myprogram -arg1 -arg2\n</code></pre>\n<p>PATH entries without a leading <code>/</code> are interpreted to be relative to the current working directory (<code>.</code>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>PATH='bin:/usr/bin:/bin'\n</code></pre>\n<p><strong>Caveat:</strong> It's not recommended to omit <code>/bin</code> and <code>/usr/bin</code> from the PATH. I'd try only ever <em>adding</em> to the path variable:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=&quot;$PATH:/home/myuser/add:/home/myuser/bin&quot;\n</code></pre>\n<h1>Without using the <code>PATH</code></h1>\n<p>If you don't want to update it in the <code>PATH</code> variable, you can refer to it by full or relative path name in the script.</p>\n<p>For the following examples, I'm going to assume the following file layout:</p>\n<ul>\n<li><code>src/.../.../.../Main.java</code> (compiled somehow)</li>\n<li><code>myscript.sh</code></li>\n<li><code>bin/teserract</code></li>\n</ul>\n<p>This should work:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n# WORKDIR = The current dir (relative to how the script is invoked) where myscript.sh resides\nWORKDIR=$(dirname &quot;$0&quot;)\n\n&quot;$WORKDIR/bin/tesseract&quot; test.png out1 -l rus+eng\n</code></pre>\n<p>Consider also that on many systems <code>sh myscript.sh</code> is not the same thing as <code>bash myscript.sh</code> or <code>./myscript.sh</code>. <code>/bin/sh</code> traditionally refers to POSIX shell, which has fewer features than Bash. It may trip you up if you decide to use some advanced Bash features. For this reason, I'd suggest changing the Java to either <code>new ProcessBuilder(&quot;./myscript.sh&quot;)</code> or <code>new ProcessBuilder(&quot;bash&quot;, &quot;./myscript.sh&quot;)</code>.</p>\n"}],"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"comment_count":40,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76782139,"answer_count":1,"score":0,"last_activity_date":1691170848,"creation_date":1689971926,"question_id":76741090,"body_markdown":"I need to run a .sh script, I already figured out how to do it, but I have another problem. it cannot see third-party (installed) commands, as in this case it cannot find the tesseract command, although when launched through the Linux terminal, it successfully finds this command\r\nFor example, java can recognize the echo command, but it does not see the tesseract command\r\n\r\nvoid for running script:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            ProcessBuilder builder = new ProcessBuilder(&quot;sh&quot;, &quot;./myscript.sh&quot;);\r\n    builder.inheritIO();\r\n            Process process = builder.start();\r\n        }\r\n    }\r\n\r\nsh script:\r\n\r\n    #!/bin/bash\r\n    \r\n    echo &quot;hello this is message from script&quot;\r\n    echo &quot;using tesseract&quot;\r\n    tesseract test.png out1 -l rus+eng\r\n\r\nError on startup: \r\n\r\n    ./myscript.sh: line 5: tesseract: command not found\r\n\r\nWhen running the script through the Linux terminal, there are no problems, the command successfully performs its function. If you need the output from the terminal, then here:\r\n\r\n    hello this is message from script\r\n    using tesseract\r\n    Tesseract Open Source OCR Engine v4.1.1 with Leptonica\r\n    Warning: Invalid resolution 0 dpi. Using 70 instead.\r\n\r\n\r\n\r\nI tried to execute the command from the link as shown below:\r\n\r\n    /bin/tesseract test.png out1 -l rus+eng\r\n\r\nfunction still didn&#39;t work\r\n\r\n\r\n","title":"Java class Process: can&#39;t execute third party program via .sh","body":"<p>I need to run a .sh script, I already figured out how to do it, but I have another problem. it cannot see third-party (installed) commands, as in this case it cannot find the tesseract command, although when launched through the Linux terminal, it successfully finds this command\nFor example, java can recognize the echo command, but it does not see the tesseract command</p>\n<p>void for running script:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException {\n        ProcessBuilder builder = new ProcessBuilder(&quot;sh&quot;, &quot;./myscript.sh&quot;);\nbuilder.inheritIO();\n        Process process = builder.start();\n    }\n}\n</code></pre>\n<p>sh script:</p>\n<pre><code>#!/bin/bash\n\necho &quot;hello this is message from script&quot;\necho &quot;using tesseract&quot;\ntesseract test.png out1 -l rus+eng\n</code></pre>\n<p>Error on startup:</p>\n<pre><code>./myscript.sh: line 5: tesseract: command not found\n</code></pre>\n<p>When running the script through the Linux terminal, there are no problems, the command successfully performs its function. If you need the output from the terminal, then here:</p>\n<pre><code>hello this is message from script\nusing tesseract\nTesseract Open Source OCR Engine v4.1.1 with Leptonica\nWarning: Invalid resolution 0 dpi. Using 70 instead.\n</code></pre>\n<p>I tried to execute the command from the link as shown below:</p>\n<pre><code>/bin/tesseract test.png out1 -l rus+eng\n</code></pre>\n<p>function still didn't work</p>\n"},{"tags":["java","json","graphql","union"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691308842,"post_id":76835232,"comment_id":135472228,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29159170,"reputation":1,"user_id":22338283,"display_name":"konstantin pekheterev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691170470,"creation_date":1691146190,"question_id":76835232,"body_markdown":"I created a test in which I get a graphql response for my logic.\r\nGraphql query is created as json and there is a cast class problem \r\n\r\n```java\r\njava.lang.ClassCastException: \r\nclass com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsResource cannot be cast to class \r\ncom.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource \r\n(com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$As\r\nResource and com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nin this part\r\n```json\r\n&quot;resource&quot;: {\r\n          &quot;__typename&quot;: &quot;Resource&quot;,\r\n          &quot;resourceType&quot;: &quot;PaxBus&quot;,\r\n          &quot;resource&quot;: {\r\n            &quot;__typename&quot;: &quot;Resource&quot;,\r\n            &quot;AsITechnicalResource&quot;: {\r\n              &quot;__typename&quot;: &quot;Resource&quot;, //\r\n              &quot;erpName&quot;: &quot;John Doe&quot;\r\n            }\r\n          }\r\n```\r\n\r\n```graphql\r\nresource {\r\n      resourceType\r\n      resource{\r\n        ... on ITechnicalResource{\r\n          erpName\r\n          ... on AircraftTug{\r\n            typeOfTractor\r\n          }\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n`ITechnicalResource` is `union(interface)` , and `AircraftTug` is type, field __typename - is informative , it can be filled with any value\r\n\r\nI think the problem is using the interface in json, since I used this format before and everything worked\r\n\r\n```\r\nresource {\r\n      resourceType\r\n      resource{\r\n        ... on PaxBus{\r\n          erpName\r\n          }\r\n        }\r\n}\r\nPaxBus - type\r\n```\r\n\r\nif you write a graphql object in the form of code, then everything turns out\r\n\r\n```\r\nwith ITechnicalResource\r\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\r\n            new AsITechnicalResource1(&quot;typaname&quot;, &quot;erpName&quot;));\r\n\r\nwith AircraftTug\r\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\r\n            new AsAircraftTug(&quot;typaname&quot;, &quot;erpName&quot;, &quot;typeOftractor&quot;));\r\n```\r\n","title":"graphql query in json format","body":"<p>I created a test in which I get a graphql response for my logic.\nGraphql query is created as json and there is a cast class problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.ClassCastException: \nclass com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsResource cannot be cast to class \ncom.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource \n(com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$As\nResource and com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource are in unnamed module of loader 'app')\n</code></pre>\n<p>in this part</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;resource&quot;: {\n          &quot;__typename&quot;: &quot;Resource&quot;,\n          &quot;resourceType&quot;: &quot;PaxBus&quot;,\n          &quot;resource&quot;: {\n            &quot;__typename&quot;: &quot;Resource&quot;,\n            &quot;AsITechnicalResource&quot;: {\n              &quot;__typename&quot;: &quot;Resource&quot;, //\n              &quot;erpName&quot;: &quot;John Doe&quot;\n            }\n          }\n</code></pre>\n<pre><code>resource {\n      resourceType\n      resource{\n        ... on ITechnicalResource{\n          erpName\n          ... on AircraftTug{\n            typeOfTractor\n          }\n        }\n      }\n    }\n</code></pre>\n<p><code>ITechnicalResource</code> is <code>union(interface)</code> , and <code>AircraftTug</code> is type, field __typename - is informative , it can be filled with any value</p>\n<p>I think the problem is using the interface in json, since I used this format before and everything worked</p>\n<pre><code>resource {\n      resourceType\n      resource{\n        ... on PaxBus{\n          erpName\n          }\n        }\n}\nPaxBus - type\n</code></pre>\n<p>if you write a graphql object in the form of code, then everything turns out</p>\n<pre><code>with ITechnicalResource\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\n            new AsITechnicalResource1(&quot;typaname&quot;, &quot;erpName&quot;));\n\nwith AircraftTug\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\n            new AsAircraftTug(&quot;typaname&quot;, &quot;erpName&quot;, &quot;typeOftractor&quot;));\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","caching","aerospike"],"answers":[{"tags":[],"owner":{"account_id":352053,"reputation":522,"user_id":688926,"display_name":"Anastasiia Smirnova"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575306024,"creation_date":1575306024,"answer_id":59143514,"question_id":35915605,"body_markdown":"`spring-data-aerospike` is still in unfinished state. We are planning to move it to the separate project `aerospike-spring-cache` and implement missing functionality.","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p><code>spring-data-aerospike</code> is still in unfinished state. We are planning to move it to the separate project <code>aerospike-spring-cache</code> and implement missing functionality.</p>\n"},{"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622415440,"creation_date":1622415440,"answer_id":67766396,"question_id":35915605,"body_markdown":"There were some big changes in the Cache area in Spring Data Aerospike - starting from versions 2.5.0/3.0.0.\r\n\r\nYou can see an example of using @Cacheable and much more in this medium article:\r\nhttps://medium.com/aerospike-developer-blog/caching-with-spring-boot-and-aerospike-17b91267d6c","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p>There were some big changes in the Cache area in Spring Data Aerospike - starting from versions 2.5.0/3.0.0.</p>\n<p>You can see an example of using @Cacheable and much more in this medium article:\n<a href=\"https://medium.com/aerospike-developer-blog/caching-with-spring-boot-and-aerospike-17b91267d6c\" rel=\"nofollow noreferrer\">https://medium.com/aerospike-developer-blog/caching-with-spring-boot-and-aerospike-17b91267d6c</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691494458,"post_id":76838038,"comment_id":135496444,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76838038/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29133198,"reputation":1,"user_id":22317964,"display_name":"Customer Manager"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691170113,"creation_date":1691169976,"answer_id":76838038,"question_id":35915605,"body_markdown":"Try like below and see if it works:\r\n\r\n        @Cacheable(value = &quot;test&quot;, key = &quot;#id&quot;)\r\n    public Optional&lt;User&gt; getUserById(int id) {\r\n    \tlog.info(&quot;Reading User Details with ID: {}&quot;, id);\r\n    \treturn userRepository.findById(id);\r\n    }\r\n    \r\n    @CachePut(value = &quot;test&quot;, key = &quot;#user.id&quot;)\r\n    public User addUser(User user) {\r\n    \tlog.info(&quot;Adding User Details with Name: {}&quot;, user.getName());\r\n    \treturn userRepository.save(user);\r\n    }\r\n    \r\n    @CacheEvict(value = &quot;test&quot;, key = &quot;#id&quot;)\r\n    public boolean removeUserById(int id) {\r\n    \tlog.info(&quot;Removing User Details with ID: {}&quot;, id);\r\n    \tuserRepository.deleteById(id);\r\n    \treturn true;\r\n    }","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p>Try like below and see if it works:</p>\n<pre><code>    @Cacheable(value = &quot;test&quot;, key = &quot;#id&quot;)\npublic Optional&lt;User&gt; getUserById(int id) {\n    log.info(&quot;Reading User Details with ID: {}&quot;, id);\n    return userRepository.findById(id);\n}\n\n@CachePut(value = &quot;test&quot;, key = &quot;#user.id&quot;)\npublic User addUser(User user) {\n    log.info(&quot;Adding User Details with Name: {}&quot;, user.getName());\n    return userRepository.save(user);\n}\n\n@CacheEvict(value = &quot;test&quot;, key = &quot;#id&quot;)\npublic boolean removeUserById(int id) {\n    log.info(&quot;Removing User Details with ID: {}&quot;, id);\n    userRepository.deleteById(id);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":7745634,"reputation":99,"user_id":5863535,"display_name":"Prachi Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1691170113,"creation_date":1457610383,"question_id":35915605,"body_markdown":"I am implementing A Cache in DAO layer using Spring Cache by using annotation @Cacheable. This is my following Code .\r\n\r\n    \t@Override\r\n\t@Cacheable(value=&quot;saleSegmentCache3&quot;)\r\n\tpublic List&lt;SaleSegment&gt; findBySuborder(String pincode,long subcatID) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;String is printing&quot;);\r\n\t\treturn ssRepo.findSaleSegmentsByPincodeAndSubcategoryIdAndSegmentType(pincode,subcatID, SaleSegmentType.SUBCAT_PINCODE);\r\n\t}\r\n\r\nOver here i am able to retreive the data , but i am not being able to put the data into Cache. I am using one more example  : \r\n\r\n    \t@Override\r\n\t@Cacheable(value=&quot;saleSegmentCache3&quot; ,key=&quot;#soData&quot;)\r\n\tpublic String findBySuborderTemp(String soData) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;String XYZZZZZZZ&quot;);\r\n\t\treturn &quot;MyString&quot;;\r\n\t\t\t\r\n\t}\r\n\r\nHere i am able to Cache the String Perfectly and able to store the data in the cache .\r\nI think Something is wrong with the syntax that i have used\r\n","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p>I am implementing A Cache in DAO layer using Spring Cache by using annotation @Cacheable. This is my following Code .</p>\n\n<pre><code>    @Override\n@Cacheable(value=\"saleSegmentCache3\")\npublic List&lt;SaleSegment&gt; findBySuborder(String pincode,long subcatID) {\n    // TODO Auto-generated method stub\n    System.out.println(\"String is printing\");\n    return ssRepo.findSaleSegmentsByPincodeAndSubcategoryIdAndSegmentType(pincode,subcatID, SaleSegmentType.SUBCAT_PINCODE);\n}\n</code></pre>\n\n<p>Over here i am able to retreive the data , but i am not being able to put the data into Cache. I am using one more example  : </p>\n\n<pre><code>    @Override\n@Cacheable(value=\"saleSegmentCache3\" ,key=\"#soData\")\npublic String findBySuborderTemp(String soData) {\n    // TODO Auto-generated method stub\n    System.out.println(\"String XYZZZZZZZ\");\n    return \"MyString\";\n\n}\n</code></pre>\n\n<p>Here i am able to Cache the String Perfectly and able to store the data in the cache .\nI think Something is wrong with the syntax that i have used</p>\n"},{"tags":["java","android"],"owner":{"account_id":27120925,"reputation":1,"user_id":20664652,"display_name":"Ali Salah Elbadry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691170035,"creation_date":1691170035,"question_id":76838045,"body_markdown":" I am using external library that makes SDSimpleRecyclerAdapter and once i build this happiens\r\nerror: cannot access RecyclerView\r\npublic class GameBetCoinsOptionAdapter extends SDSimpleRecyclerAdapter&lt;GameBetCoinsOptionModel&gt;\r\n       ^\r\n  class file for androidx.recyclerview.widget.RecyclerView not found\r\n\r\nI tried to add dependancy for androidx.... recycleView but it is the same","title":"Cannot access androidx.recyclerview.widget.RecyclerView.ViewHolder","body":"<p>I am using external library that makes SDSimpleRecyclerAdapter and once i build this happiens\nerror: cannot access RecyclerView\npublic class GameBetCoinsOptionAdapter extends SDSimpleRecyclerAdapter\n^\nclass file for androidx.recyclerview.widget.RecyclerView not found</p>\n<p>I tried to add dependancy for androidx.... recycleView but it is the same</p>\n"},{"tags":["java","sql","hibernate","extjs"],"comments":[{"owner":{"account_id":20084284,"reputation":8619,"user_id":14726230,"display_name":"Peter Koltai"},"score":0,"creation_date":1691161250,"post_id":76830523,"comment_id":135458890,"body_markdown":"Can you make a successful POST / PUT request with this payload to your backend independently from Ext JS, for example with Postman?","body":"Can you make a successful POST / PUT request with this payload to your backend independently from Ext JS, for example with Postman?"}],"owner":{"account_id":14685513,"reputation":1,"user_id":10605635,"display_name":"Sam A."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691169993,"creation_date":1691085205,"question_id":76830523,"body_markdown":"So, I have a store with a proxy to a hibernate named query in a entity class in java. the named query gets data from two different tables into this store. It loads the data just fine but when I&#39;m trying to sync it with the db when a user updates a column, I get problems and the server can&#39;t find properties from the other table that the named query is pulling from.\r\n\r\nFor more context I have a store hooked up to a grid panel in extjs and it displays data from a database but one of the columns is from a different table than the other 3. I&#39;m very new to extjs and I don&#39;t know if there&#39;s a better way to go about this and setup the store differently or if I should change the database to have the project name stored in both tables.\r\n\r\nHere is my store code.\r\n```\r\n job: {\r\n        \tmodel: &#39;myefiles.jobs.pdd.model.Job&#39;,\r\n        \tautoLoad: true,\r\n        \tautoSync: false, // allow cell editing\r\n        \tproxy: {\r\n        \t\ttype: &#39;ajax&#39;,\r\n        \t\turl: &#39;/dav/.json/pdd/job?.nq=findJobProjectMap&#39;, \r\n\t\t\ttimeout: myefiles.NO_TIMEOUT,\r\n        \t\treader: {\r\n        \t\t\ttype: &#39;json&#39;,\r\n        \t\t\trootProperty: &#39;data&#39;\r\n        \t\t},\r\n        \t\twriter: {\r\n        \t\t\ttype: &#39;json&#39;,\r\n        \t\t\tallowSingle: false,\r\n        \t\t\twriteAllFields: true\r\n        \t\t},\r\n        \t\tnoCache: false,\r\n        \t\tlimitParam: undefined,\r\n        \t\tpageParam: undefined,\r\n        \t\tstartParam: undefined,\r\n        \t\tlisteners: {\r\n        \t\t\texception: function(proxy, response, options) {\r\n        \t\t\t\tExt.Msg.alert(&#39;Error&#39;, response.status + &quot;: &quot; + response.statusText\r\n        \t\t\t\t\t\t+ &quot; (&quot; + response.request.options.url + &quot;).&quot;);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }, \r\n```\r\nHere is my named query\r\n\r\n```\r\n@NamedQuery(name = &quot;Job.findJobProjectMap&quot;,\r\n\t\t\t\tquery = &quot;SELECT new map (j.jobNumber as jobNumber, j.description as description, p.projectNumber as projectNumber, p.projectName as projectName) &quot;\r\n\t\t\t\t\t\t+ &quot;FROM Job j &quot;\r\n\t\t\t\t\t\t+ &quot;LEFT JOIN j.project as p&quot;)\r\n```\r\nthe project name variable is in a different table called project and it isn&#39;t in the job table that this named query is in.\r\n\r\nThese are the column definitions in my entity class for the job table.\r\n\r\n```\r\n        @Id\r\n\t@Column(name = &quot;job_number&quot;, unique = true, nullable = false, length = 6)\r\n\t@DBDavColumn\r\n\tprotected Integer jobNumber;\r\n\r\n\t@Column(name = &quot;description&quot;, length = 255)\r\n\t@DBDavColumn\r\n\tprotected String description;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;project_number&quot;, referencedColumnName = &quot;project_number&quot;)\r\n\t@DBDavColumn\r\n\t@DBDavConverter(factory=EntityConverterFactory.class)\r\n\tprotected Project project;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\r\n\tprotected Set&lt;Equipment&gt; equipment;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\r\n\tprotected Set&lt;MROData&gt; mroData;\r\n```\r\n\r\n\r\nThis is the model for the store\r\n\r\n```\r\nExt.define(&#39;myefiles.jobs.pdd.model.Job&#39;, {\r\n    extend: &#39;Ext.data.Model&#39;,\r\n    idProperty: &#39;jobNumber&#39;,\r\n\tfields: [{name: &#39;jobNumber&#39;, type: &#39;int&#39;, unique: true},\r\n\t         {name: &#39;description&#39;, type: &#39;string&#39;}, \r\n\t         {name: &#39;project&#39;, type: &#39;int&#39;},\r\n\t\t{name: &#39;projectName&#39;, type: &#39;string&#39;}\r\n\t\t]\r\n});  \r\n```\r\nThis is the extjs code for when the store is syncing when a button is pressed.\r\n\r\n```\r\nsaveJob: function(button){\r\n\t\tconsole.log(&#39;AddJob grid save button is clicked.&#39;);\r\n\t\t//var store = Ext.getCmp(&#39;AdminAddJobGrid&#39;).getStore();\r\n\t\tvar store = this.getViewModel().get().job;\r\n\t\t\r\n\t\tstore.sync({\r\n        \tsuccess: function(){\r\n        \t\tExt.toast({\r\n        \t\t\thtml: &#39;Data saved successfully.&#39;, \r\n        \t\t\ttitle: &#39;Status&#39;,\r\n        \t\t\twidth: 200,\r\n        \t\t\talign: &#39;t&#39;\r\n        \t\t});\r\n        \t\t//Ext.getCmp(&#39;AdminAddJobGrid&#39;).getStore().load(); // bad practice\r\n        \t\tstore.load();\r\n        \t\tconsole.log(&#39;It worked!&#39;);\r\n        \t},\r\n        \tfailure: function(form, response){\r\n        \t\tExt.Msg.alert(&#39;Status&#39;, &#39;Failed to save.&#39;);\r\n        \t\tconsole.log(&#39;It failed&#39;);\r\n        \t}\r\n        });\r\n\t}\r\n});  \r\n```\r\nThe logs for the server are saying STATUS 422 Could not find property for projectName\r\n\r\n[This is the payload tab of what&#39;s sent to the server](https://i.stack.imgur.com/KNO2r.png)\r\n\r\nEdit: So in the payload there was an extra variable called project this is because the model had a variable called project that was meant to be the project number so I changed that to project number and it got rid of that project variable in the payload that was equal to 0 the reason it recognizes the projectNumber but not the projectName I believe is because projectNumber is actually in the job table it&#39;s a foreign key that links jobs to project but project name is only in the project table. I&#39;m trying to avoid having duplicate data in the two tables with the projectName column.\r\n\r\nI&#39;m also new to posting questions on here I hope I provided enough context.","title":"Store in extjs contains data from multiple database tables having problems syncing","body":"<p>So, I have a store with a proxy to a hibernate named query in a entity class in java. the named query gets data from two different tables into this store. It loads the data just fine but when I'm trying to sync it with the db when a user updates a column, I get problems and the server can't find properties from the other table that the named query is pulling from.</p>\n<p>For more context I have a store hooked up to a grid panel in extjs and it displays data from a database but one of the columns is from a different table than the other 3. I'm very new to extjs and I don't know if there's a better way to go about this and setup the store differently or if I should change the database to have the project name stored in both tables.</p>\n<p>Here is my store code.</p>\n<pre><code> job: {\n            model: 'myefiles.jobs.pdd.model.Job',\n            autoLoad: true,\n            autoSync: false, // allow cell editing\n            proxy: {\n                type: 'ajax',\n                url: '/dav/.json/pdd/job?.nq=findJobProjectMap', \n            timeout: myefiles.NO_TIMEOUT,\n                reader: {\n                    type: 'json',\n                    rootProperty: 'data'\n                },\n                writer: {\n                    type: 'json',\n                    allowSingle: false,\n                    writeAllFields: true\n                },\n                noCache: false,\n                limitParam: undefined,\n                pageParam: undefined,\n                startParam: undefined,\n                listeners: {\n                    exception: function(proxy, response, options) {\n                        Ext.Msg.alert('Error', response.status + &quot;: &quot; + response.statusText\n                                + &quot; (&quot; + response.request.options.url + &quot;).&quot;);\n                    }\n                }\n            }\n        }, \n</code></pre>\n<p>Here is my named query</p>\n<pre><code>@NamedQuery(name = &quot;Job.findJobProjectMap&quot;,\n                query = &quot;SELECT new map (j.jobNumber as jobNumber, j.description as description, p.projectNumber as projectNumber, p.projectName as projectName) &quot;\n                        + &quot;FROM Job j &quot;\n                        + &quot;LEFT JOIN j.project as p&quot;)\n</code></pre>\n<p>the project name variable is in a different table called project and it isn't in the job table that this named query is in.</p>\n<p>These are the column definitions in my entity class for the job table.</p>\n<pre><code>        @Id\n    @Column(name = &quot;job_number&quot;, unique = true, nullable = false, length = 6)\n    @DBDavColumn\n    protected Integer jobNumber;\n\n    @Column(name = &quot;description&quot;, length = 255)\n    @DBDavColumn\n    protected String description;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;project_number&quot;, referencedColumnName = &quot;project_number&quot;)\n    @DBDavColumn\n    @DBDavConverter(factory=EntityConverterFactory.class)\n    protected Project project;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\n    protected Set&lt;Equipment&gt; equipment;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\n    protected Set&lt;MROData&gt; mroData;\n</code></pre>\n<p>This is the model for the store</p>\n<pre><code>Ext.define('myefiles.jobs.pdd.model.Job', {\n    extend: 'Ext.data.Model',\n    idProperty: 'jobNumber',\n    fields: [{name: 'jobNumber', type: 'int', unique: true},\n             {name: 'description', type: 'string'}, \n             {name: 'project', type: 'int'},\n        {name: 'projectName', type: 'string'}\n        ]\n});  \n</code></pre>\n<p>This is the extjs code for when the store is syncing when a button is pressed.</p>\n<pre><code>saveJob: function(button){\n        console.log('AddJob grid save button is clicked.');\n        //var store = Ext.getCmp('AdminAddJobGrid').getStore();\n        var store = this.getViewModel().get().job;\n        \n        store.sync({\n            success: function(){\n                Ext.toast({\n                    html: 'Data saved successfully.', \n                    title: 'Status',\n                    width: 200,\n                    align: 't'\n                });\n                //Ext.getCmp('AdminAddJobGrid').getStore().load(); // bad practice\n                store.load();\n                console.log('It worked!');\n            },\n            failure: function(form, response){\n                Ext.Msg.alert('Status', 'Failed to save.');\n                console.log('It failed');\n            }\n        });\n    }\n});  \n</code></pre>\n<p>The logs for the server are saying STATUS 422 Could not find property for projectName</p>\n<p><a href=\"https://i.stack.imgur.com/KNO2r.png\" rel=\"nofollow noreferrer\">This is the payload tab of what's sent to the server</a></p>\n<p>Edit: So in the payload there was an extra variable called project this is because the model had a variable called project that was meant to be the project number so I changed that to project number and it got rid of that project variable in the payload that was equal to 0 the reason it recognizes the projectNumber but not the projectName I believe is because projectNumber is actually in the job table it's a foreign key that links jobs to project but project name is only in the project table. I'm trying to avoid having duplicate data in the two tables with the projectName column.</p>\n<p>I'm also new to posting questions on here I hope I provided enough context.</p>\n"},{"tags":["java","multithreading","project-loom"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638372021,"creation_date":1638372021,"answer_id":70186782,"question_id":69749459,"body_markdown":"Yes, this suffix is the name of the current carrier thread.\r\n\r\nWhen I use the following code\r\n\r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n    Set&lt;String&gt; threadStrings = ConcurrentHashMap.newKeySet();\r\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\r\n        executor.invokeAll(Collections.nCopies(16,\r\n            () -&gt; threadStrings.add(Thread.currentThread().toString())));\r\n    }\r\n    System.out.println(&quot;\\tSimple Run&quot;);\r\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\r\n\r\n    threadStrings.clear();\r\n\r\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\r\n        executor.invokeAll(Collections.nCopies(16, () -&gt; {\r\n            threadStrings.add(Thread.currentThread().toString());\r\n            Thread.sleep(100);\r\n            return threadStrings.add(Thread.currentThread().toString());\r\n        }));\r\n    }\r\n    System.out.println(&quot;\\tWith wait&quot;);\r\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\r\n}\r\n```\r\n\r\nIt prints\r\n\r\n```none\r\n        Simple Run\r\nVirtualThread[#15]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#17]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#18]/runnable@ForkJoinPool-1-worker-3\r\nVirtualThread[#19]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#20]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#21]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#22]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#23]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#24]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#25]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#26]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#27]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#28]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#29]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#30]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#31]/runnable@ForkJoinPool-1-worker-4\r\n        With wait\r\nVirtualThread[#36]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-3\r\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-6\r\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-7\r\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-6\r\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#47]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-6\r\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-3\r\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-8\r\n```\r\n&lt;sup&gt;(results may vary)&lt;/sup&gt;\r\n\r\ndemonstrating how the carrier thread might change when performing a `sleep`. But in the current snapshot (“build 18-loom+6-282”) it’s not possible to specify your own `Executor` anymore and there is no method for querying the virtual thread about the carrier thread it uses (other than the implicit hint via `toString()`). So, the management of the underlying host threads is mostly a black&#160;box in this version.\r\n\r\nKeep in mind that this is an ongoing development. It’s not clear whether and how this will change.\r\n","title":"Is there a way to tell what Carrier Thread a Virtual Thread is running on?","body":"<p>Yes, this suffix is the name of the current carrier thread.</p>\n<p>When I use the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n    Set&lt;String&gt; threadStrings = ConcurrentHashMap.newKeySet();\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n        executor.invokeAll(Collections.nCopies(16,\n            () -&gt; threadStrings.add(Thread.currentThread().toString())));\n    }\n    System.out.println(&quot;\\tSimple Run&quot;);\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\n\n    threadStrings.clear();\n\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n        executor.invokeAll(Collections.nCopies(16, () -&gt; {\n            threadStrings.add(Thread.currentThread().toString());\n            Thread.sleep(100);\n            return threadStrings.add(Thread.currentThread().toString());\n        }));\n    }\n    System.out.println(&quot;\\tWith wait&quot;);\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\n}\n</code></pre>\n<p>It prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>        Simple Run\nVirtualThread[#15]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#17]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#18]/runnable@ForkJoinPool-1-worker-3\nVirtualThread[#19]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#20]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#21]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#22]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#23]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#24]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#25]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#26]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#27]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#28]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#29]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#30]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#31]/runnable@ForkJoinPool-1-worker-4\n        With wait\nVirtualThread[#36]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-3\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-6\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-7\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-6\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#47]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-6\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-3\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-8\n</code></pre>\n<p><sup>(results may vary)</sup></p>\n<p>demonstrating how the carrier thread might change when performing a <code>sleep</code>. But in the current snapshot (“build 18-loom+6-282”) it’s not possible to specify your own <code>Executor</code> anymore and there is no method for querying the virtual thread about the carrier thread it uses (other than the implicit hint via <code>toString()</code>). So, the management of the underlying host threads is mostly a black box in this version.</p>\n<p>Keep in mind that this is an ongoing development. It’s not clear whether and how this will change.</p>\n"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1691169966,"creation_date":1635403895,"question_id":69749459,"body_markdown":"I am playing around with Project Loom for the first time and I have some code\r\n\r\n    try (var executor = Executors.newVirtualThreadExecutor()) {\r\n        IntStream.range(0, 16).forEach(i -&gt; {\r\n            System.out.println(&quot;i = &quot; + i + &quot;, Thread ID = &quot; + Thread.currentThread());\r\n            executor.submit(() -&gt; {\r\n                System.out.println(&quot;Thread ID = &quot; + Thread.currentThread());\r\n            });\r\n        });\r\n    }\r\n\r\nwith output like\r\n\r\n    Thread ID = VirtualThread[#37]/runnable@ForkJoinPool-1-worker-4\r\n    Thread ID = VirtualThread[#33]/runnable@ForkJoinPool-1-worker-5\r\n    i = 9, Thread ID = Thread[#1,main,5,main]\r\n    Thread ID = VirtualThread[#43]/runnable@ForkJoinPool-1-worker-9\r\n    Thread ID = VirtualThread[#46]/runnable@ForkJoinPool-1-worker-11\r\n    i = 10, Thread ID = Thread[#1,main,5,main]\r\n    i = 11, Thread ID = Thread[#1,main,5,main]\r\n\r\nIs there a way I can tell what Carrier Thread each Virtual Thread is running on?\r\n\r\nDoes `ForkJoinPool-1-worker-11` represent a particular Carrier (Platform) Thread, or does it mean something else?","title":"Is there a way to tell what Carrier Thread a Virtual Thread is running on?","body":"<p>I am playing around with Project Loom for the first time and I have some code</p>\n<pre><code>try (var executor = Executors.newVirtualThreadExecutor()) {\n    IntStream.range(0, 16).forEach(i -&gt; {\n        System.out.println(&quot;i = &quot; + i + &quot;, Thread ID = &quot; + Thread.currentThread());\n        executor.submit(() -&gt; {\n            System.out.println(&quot;Thread ID = &quot; + Thread.currentThread());\n        });\n    });\n}\n</code></pre>\n<p>with output like</p>\n<pre><code>Thread ID = VirtualThread[#37]/runnable@ForkJoinPool-1-worker-4\nThread ID = VirtualThread[#33]/runnable@ForkJoinPool-1-worker-5\ni = 9, Thread ID = Thread[#1,main,5,main]\nThread ID = VirtualThread[#43]/runnable@ForkJoinPool-1-worker-9\nThread ID = VirtualThread[#46]/runnable@ForkJoinPool-1-worker-11\ni = 10, Thread ID = Thread[#1,main,5,main]\ni = 11, Thread ID = Thread[#1,main,5,main]\n</code></pre>\n<p>Is there a way I can tell what Carrier Thread each Virtual Thread is running on?</p>\n<p>Does <code>ForkJoinPool-1-worker-11</code> represent a particular Carrier (Platform) Thread, or does it mean something else?</p>\n"},{"tags":["java","apache-spark","cpu-usage"],"comments":[{"owner":{"account_id":7668859,"reputation":15816,"user_id":5811800,"display_name":"T. Gawęda"},"score":0,"creation_date":1499447559,"post_id":44972633,"comment_id":76927775,"body_markdown":"Check number of partitions and number of tasks. Probably you have wrogn partition number after some step","body":"Check number of partitions and number of tasks. Probably you have wrogn partition number after some step"},{"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"score":0,"creation_date":1499670848,"post_id":44972633,"comment_id":76985174,"body_markdown":"What do you mean by a wrong number? Actually, it is a partition number issue because with a small dataset i don&#39;t have any probleme because i can set parralelism to 10 (it is ok for 4 cores) but with a bigger one i need more tasks (else, i got a timeout and if i set the timeout higher i got an other weird error...) and then it crashes  like that.","body":"What do you mean by a wrong number? Actually, it is a partition number issue because with a small dataset i don&#39;t have any probleme because i can set parralelism to 10 (it is ok for 4 cores) but with a bigger one i need more tasks (else, i got a timeout and if i set the timeout higher i got an other weird error...) and then it crashes  like that."}],"answers":[{"comments":[{"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"score":0,"creation_date":1502090611,"post_id":45485695,"comment_id":78042537,"body_markdown":"I don&#39;t think i got a misconfiguration, because with a smaller dataset everything is fine, and my memory usage seems to be really lower than the max worker memory.\n\nIn local mode, it works, but i just want to use it on a cluster. My code is not really simple because in the setup and move function, there is a machine learning algorithme that iterate like 100000 times. If i&#39;m not using parrallele computation it can last more than 45min. \n\nI&#39;m using the standalone mode, and you are right, Spark developers advise consists in using yarn. That should be the reason of my issue...","body":"I don&#39;t think i got a misconfiguration, because with a smaller dataset everything is fine, and my memory usage seems to be really lower than the max worker memory.  In local mode, it works, but i just want to use it on a cluster. My code is not really simple because in the setup and move function, there is a machine learning algorithme that iterate like 100000 times. If i&#39;m not using parrallele computation it can last more than 45min.   I&#39;m using the standalone mode, and you are right, Spark developers advise consists in using yarn. That should be the reason of my issue..."},{"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"score":0,"creation_date":1502090805,"post_id":45485695,"comment_id":78042646,"body_markdown":"Do you have single big dataset in your HDFS? or have multiple small files that could read by each nodes?","body":"Do you have single big dataset in your HDFS? or have multiple small files that could read by each nodes?"},{"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"score":0,"creation_date":1502090843,"post_id":45485695,"comment_id":78042670,"body_markdown":"Also check your executors in the cluster, make sure each nodes have executor running on the machine.","body":"Also check your executors in the cluster, make sure each nodes have executor running on the machine."},{"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"score":0,"creation_date":1502091142,"post_id":45485695,"comment_id":78042822,"body_markdown":"My data set is really small, it&#39;s just some Mo. But i iterate a huge number of times in the data set (that is saved in memory at the beggining of the computation). I&#39;m doing some Q-learning stuff so i have to create a high number of data to get my parameters converging into a clever solution. \n\nOn the UI I can see an executor per machine, with 4 cores available and 5 Go available. When it stop running fast and the cpu usage fall to 0% on the slave machine, the memory usage is about 2.3Go on those slaves.(According to the slave&#39;s task manager)","body":"My data set is really small, it&#39;s just some Mo. But i iterate a huge number of times in the data set (that is saved in memory at the beggining of the computation). I&#39;m doing some Q-learning stuff so i have to create a high number of data to get my parameters converging into a clever solution.   On the UI I can see an executor per machine, with 4 cores available and 5 Go available. When it stop running fast and the cpu usage fall to 0% on the slave machine, the memory usage is about 2.3Go on those slaves.(According to the slave&#39;s task manager)"},{"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"score":0,"creation_date":1502103081,"post_id":45485695,"comment_id":78049783,"body_markdown":"Could you try to persistent data to RDD memory and try to use more complex algorithm for computing those data? check what is the CPU difference.","body":"Could you try to persistent data to RDD memory and try to use more complex algorithm for computing those data? check what is the CPU difference."},{"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"score":0,"creation_date":1502103227,"post_id":45485695,"comment_id":78049862,"body_markdown":"Also check your submit parameters https://spark.apache.org/docs/latest/submitting-applications.html","body":"Also check your submit parameters <a href=\"https://spark.apache.org/docs/latest/submitting-applications.html\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/submitting-applications.html</a>"},{"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"score":0,"creation_date":1502105864,"post_id":45485695,"comment_id":78051437,"body_markdown":"&quot;Could you try to persistent data to RDD memory&quot; I don&#39;t understand what you mean... My submit parameters are : \n./bin/spark-submit \\\n  --class launcher.Launcher\n  --master spark://myIp:7077 \\\n  --executor-memory 5G \\\n  /home/myjar.jar\nThat looks ok for me but i maybe missing something.\nI think it could be important to notice that there is a for loop. The first interations run well.","body":"&quot;Could you try to persistent data to RDD memory&quot; I don&#39;t understand what you mean... My submit parameters are :  ./bin/spark-submit \\   --class launcher.Launcher   --master spark://myIp:7077 \\   --executor-memory 5G \\   /home/myjar.jar That looks ok for me but i maybe missing something. I think it could be important to notice that there is a for loop. The first interations run well."},{"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"score":0,"creation_date":1502106146,"post_id":45485695,"comment_id":78051614,"body_markdown":"Check here https://spark.apache.org/docs/latest/rdd-programming-guide.html#rdd-persistence  In your logic code there could be persist the data to memory and also in your post code, there only have  for(int i = 0; i&lt;200; i++) {    Because spark it running pretty fast you could try 2000,00 or more to see if could get much higher CPU utilization","body":"Check here <a href=\"https://spark.apache.org/docs/latest/rdd-programming-guide.html#rdd-persistence\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/&hellip;</a>  In your logic code there could be persist the data to memory and also in your post code, there only have  for(int i = 0; i&lt;200; i++) {    Because spark it running pretty fast you could try 2000,00 or more to see if could get much higher CPU utilization"}],"tags":[],"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"comment_count":8,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1501766984,"creation_date":1501766984,"answer_id":45485695,"question_id":44972633,"body_markdown":"1. Make sure you have submit your Spark job by Yarn or mesos in the cluster, otherwise it may only running in your master node.\r\n\r\n2. As your code are pretty simple it should be very fast to finish the computation, but i suggest to use wordcount example try to read few GB of input sources to test how the CPU consuming looks like. \r\n\r\n3. Please use &quot;local[*]&quot; . * means use your All cores for computatation\r\n\r\n\tSparkConf sparkConf = new SparkConf().set(&quot;spark.driver.host&quot;, &quot;localhost&quot;).setAppName(&quot;unit-testing&quot;).setMaster(&quot;local[*]&quot;);\r\nReferences: https://spark.apache.org/docs/latest/configuration.html\r\n\r\n4. In spark there have a lot of things could influence the CPU and memory usage, such as executors and each spark.executor.memory you like to distribute. \r\n","title":"Low CPU usage while running a spark job","body":"<ol>\n<li><p>Make sure you have submit your Spark job by Yarn or mesos in the cluster, otherwise it may only running in your master node.</p></li>\n<li><p>As your code are pretty simple it should be very fast to finish the computation, but i suggest to use wordcount example try to read few GB of input sources to test how the CPU consuming looks like. </p></li>\n<li><p>Please use \"local[*]\" . * means use your All cores for computatation</p>\n\n<p>SparkConf sparkConf = new SparkConf().set(\"spark.driver.host\", \"localhost\").setAppName(\"unit-testing\").setMaster(\"local[*]\");\nReferences: <a href=\"https://spark.apache.org/docs/latest/configuration.html\" rel=\"noreferrer\">https://spark.apache.org/docs/latest/configuration.html</a></p></li>\n<li><p>In spark there have a lot of things could influence the CPU and memory usage, such as executors and each spark.executor.memory you like to distribute. </p></li>\n</ol>\n"}],"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4796,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45485695,"answer_count":1,"score":5,"last_activity_date":1691167897,"creation_date":1499435733,"question_id":44972633,"body_markdown":"I am running a Spark job. I have 4 cores and worker memory set to 5G. Application master is on another machine in the same network, and does not host any workers. This is my code: \r\n```\r\nprivate void myClass() {\r\n    // configuration of the spark context\r\n    SparkConf conf = new SparkConf().setAppName(&quot;myWork&quot;).setMaster(&quot;spark://myHostIp:7077&quot;).set(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;);\r\n    // creation of the spark context in which we will run the algorithm\r\n    JavaSparkContext sc = new JavaSparkContext(conf);\r\n\r\n    // algorithm\r\n    for(int i = 0; i&lt;200; i++) {\r\n        System.out.println(&quot;===============================================================&quot;);\r\n        System.out.println(&quot;iteration : &quot; + i);\r\n        System.out.println(&quot;===============================================================&quot;);\r\n        ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;();\r\n        for(int j = 0; j &lt; 1900; j++){\r\n            list.add(true);\r\n        }\r\n        JavaRDD&lt;Ant&gt; ratings = sc.parallelize(list, 100)\r\n                    .map(bool -&gt; new myObj())\r\n                    .map(obj -&gt; this.setupObj(obj))\r\n                    .map(obj -&gt; this.moveObj(obj))\r\n                    .cache();\r\n        int[] stuff = ratings\r\n                    .map(obj -&gt; obj.getStuff())\r\n                    .reduce((obj1,obj2)-&gt;this.mergeStuff(obj1,obj2));\r\n        this.setStuff(tour);\r\n\r\n        ArrayList&lt;TabObj&gt; tabObj = ratings\r\n                    .map(obj -&gt; this.objToTabObjAsTab(obj))\r\n                    .reduce((obj1,obj2)-&gt;this.mergeTabObj(obj1,obj2));\r\n        ratings.unpersist(false);\r\n\r\n        this.setTabObj(tabObj);\r\n    }\r\n\r\n    sc.close();\r\n}\r\n```\r\n\r\nWhen I start it, I can see progress on the Spark UI, but it is really slow (I have to set the parallelize quite high, otherwise I have a timeout issue). I thought it was a CPU bottleneck, but the JVM CPU consumption is actually very low (most of the time it is 0%, sometime a bit more than 5%...).\r\n\r\nThe JVM is using around 3G Of memory according to the monitor, with only 19M cached. \r\n\r\nThe master host has 4 cores, and less memory (4G). That machine shows 100% CPU consumption (a full core) and I don&#39;t understand why it is that high... It just has to send partitions to the worker on the other machine, right? \r\n\r\nWhy is CPU consumption low on the worker, and high on the master?","title":"Low CPU usage while running a spark job","body":"<p>I am running a Spark job. I have 4 cores and worker memory set to 5G. Application master is on another machine in the same network, and does not host any workers. This is my code:</p>\n<pre><code>private void myClass() {\n    // configuration of the spark context\n    SparkConf conf = new SparkConf().setAppName(&quot;myWork&quot;).setMaster(&quot;spark://myHostIp:7077&quot;).set(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;);\n    // creation of the spark context in which we will run the algorithm\n    JavaSparkContext sc = new JavaSparkContext(conf);\n\n    // algorithm\n    for(int i = 0; i&lt;200; i++) {\n        System.out.println(&quot;===============================================================&quot;);\n        System.out.println(&quot;iteration : &quot; + i);\n        System.out.println(&quot;===============================================================&quot;);\n        ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;();\n        for(int j = 0; j &lt; 1900; j++){\n            list.add(true);\n        }\n        JavaRDD&lt;Ant&gt; ratings = sc.parallelize(list, 100)\n                    .map(bool -&gt; new myObj())\n                    .map(obj -&gt; this.setupObj(obj))\n                    .map(obj -&gt; this.moveObj(obj))\n                    .cache();\n        int[] stuff = ratings\n                    .map(obj -&gt; obj.getStuff())\n                    .reduce((obj1,obj2)-&gt;this.mergeStuff(obj1,obj2));\n        this.setStuff(tour);\n\n        ArrayList&lt;TabObj&gt; tabObj = ratings\n                    .map(obj -&gt; this.objToTabObjAsTab(obj))\n                    .reduce((obj1,obj2)-&gt;this.mergeTabObj(obj1,obj2));\n        ratings.unpersist(false);\n\n        this.setTabObj(tabObj);\n    }\n\n    sc.close();\n}\n</code></pre>\n<p>When I start it, I can see progress on the Spark UI, but it is really slow (I have to set the parallelize quite high, otherwise I have a timeout issue). I thought it was a CPU bottleneck, but the JVM CPU consumption is actually very low (most of the time it is 0%, sometime a bit more than 5%...).</p>\n<p>The JVM is using around 3G Of memory according to the monitor, with only 19M cached.</p>\n<p>The master host has 4 cores, and less memory (4G). That machine shows 100% CPU consumption (a full core) and I don't understand why it is that high... It just has to send partitions to the worker on the other machine, right?</p>\n<p>Why is CPU consumption low on the worker, and high on the master?</p>\n"},{"tags":["java","android","google-app-engine","firebase"],"answers":[{"comments":[{"owner":{"account_id":2167196,"reputation":1436,"user_id":1920064,"accept_rate":61,"display_name":"booky99"},"score":0,"creation_date":1466259531,"post_id":37893358,"comment_id":63249113,"body_markdown":"Thanks Kevin, I&#39;m going to give it a try this weekend. Appreciate the help. If this works out, I&#39;ll give you best answer within 24 hours.","body":"Thanks Kevin, I&#39;m going to give it a try this weekend. Appreciate the help. If this works out, I&#39;ll give you best answer within 24 hours."},{"owner":{"account_id":6553534,"reputation":1421,"user_id":5067054,"display_name":"Kevin O&#39;Neil"},"score":0,"creation_date":1466261303,"post_id":37893358,"comment_id":63249584,"body_markdown":"No problem, when I get a chance I&#39;ll add some more info on using tasks because it can be kind of tricky.","body":"No problem, when I get a chance I&#39;ll add some more info on using tasks because it can be kind of tricky."},{"owner":{"account_id":2167196,"reputation":1436,"user_id":1920064,"accept_rate":61,"display_name":"booky99"},"score":0,"creation_date":1466262310,"post_id":37893358,"comment_id":63249878,"body_markdown":"I understand the multithreading involved but I&#39;m having difficulty understanding how to implement the Tasks API. Like you said above, when you do have the chance to share that info, I would really appreciate it.","body":"I understand the multithreading involved but I&#39;m having difficulty understanding how to implement the Tasks API. Like you said above, when you do have the chance to share that info, I would really appreciate it."},{"owner":{"account_id":2167196,"reputation":1436,"user_id":1920064,"accept_rate":61,"display_name":"booky99"},"score":0,"creation_date":1466290792,"post_id":37893358,"comment_id":63257703,"body_markdown":"Wow! Thanks for the update. I will give it a shot tonight. Very in depth.","body":"Wow! Thanks for the update. I will give it a shot tonight. Very in depth."},{"owner":{"account_id":6553534,"reputation":1421,"user_id":5067054,"display_name":"Kevin O&#39;Neil"},"score":0,"creation_date":1466334957,"post_id":37893358,"comment_id":63265429,"body_markdown":"Hope it helps you out.","body":"Hope it helps you out."},{"owner":{"account_id":59451,"reputation":4623,"user_id":177890,"accept_rate":53,"display_name":"Codevalley"},"score":1,"creation_date":1467041781,"post_id":37893358,"comment_id":63554478,"body_markdown":"@KevinO&#39;Neil Awesome answer. Very comprehensive.","body":"@KevinO&#39;Neil Awesome answer. Very comprehensive."},{"owner":{"account_id":6553534,"reputation":1421,"user_id":5067054,"display_name":"Kevin O&#39;Neil"},"score":0,"creation_date":1467062972,"post_id":37893358,"comment_id":63565999,"body_markdown":"@Codevalley Thanks!","body":"@Codevalley Thanks!"},{"owner":{"account_id":8177292,"reputation":755,"user_id":6155664,"accept_rate":100,"display_name":"Niels"},"score":0,"creation_date":1469728878,"post_id":37893358,"comment_id":64670381,"body_markdown":"Hey @KevinO&#39;Neil Thanks for your extensive answer! But does this also work for the standard app engine environment or only for the flex?","body":"Hey @KevinO&#39;Neil Thanks for your extensive answer! But does this also work for the standard app engine environment or only for the flex?"},{"owner":{"account_id":2273639,"reputation":1992,"user_id":2000468,"accept_rate":80,"display_name":"Xin Meng"},"score":0,"creation_date":1515687749,"post_id":37893358,"comment_id":83404379,"body_markdown":"for standard app engine, maybe the task queue should be used. Or get error which related long live thread","body":"for standard app engine, maybe the task queue should be used. Or get error which related long live thread"}],"tags":[],"owner":{"account_id":6553534,"reputation":1421,"user_id":5067054,"display_name":"Kevin O&#39;Neil"},"comment_count":9,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1466291950,"creation_date":1466225320,"answer_id":37893358,"question_id":37892336,"body_markdown":"You&#39;ll need to use the Firebase Server SDK to make server side calls. You can find info on setting that up and using it here:\r\n\r\n[Add Firebase to your Server][1]\r\n\r\n[Firebase Server SDK Installation &amp; Setup][2]\r\n\r\nWhen using Firebase with Google Cloud Endpoints be aware that you&#39;ll need to use Firebase methods in conjunction with the [Tasks API][3].  Since Firebase methods are not blocking, if you don&#39;t use Tasks your Endpoint will return before the call you made to Firebase has a chance to return its result. For a brief intro on using tasks check out the link below. Its a talk given at Google I/O 2016. The speaker is talking about Tasks and Firebase on Android but the concepts are the same when using Tasks and Firebase on a server. Note that they have included the Tasks API with the Firebase Server SDK. I&#39;ve skipped to the portion of the talk which deals directly with tasks.\r\n\r\n[Firebase SDK for Android: A tech deep dive][4]   \r\n\r\nThe samples below are if you need to process the result from your Firebase read/write operation before your Endpoint returns a value or if other code depends on the result of the Firebase read/write operation. These are server-side examples. I’m going to assume you care whether or not the write operation was successful. There may be better ways to perform these server-side operations but this is what I’ve done so far.\r\n\r\n**Sample write operation using setValue():**\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n    YourModelClass obj = new YourModelClass();\r\n\r\n 1. When a call is made to the `setValue()` method it returns a `Task` object, keep a reference to it.\r\n\r\n        Task&lt;Void&gt; setValueTask = ref.setValue(obj);\r\n\r\n 2. Create a `TaskCompletionSource` object. This object should be parameterized with the result type of your choice. I’m going to use `Boolean` as the result type for this example.\r\n\r\n        final TaskCompletionSource&lt;Boolean&gt; tcs = new TaskCompletionSource&lt;&gt;();\r\n\r\n 3. Generate a `Task` from the `TaskCompletionSource` that was created in step 2. Again, the generated `Task` should use the same parameter type as the `TaskCompletionSource` object.\r\n\r\n        Task&lt;Boolean&gt; tcsTask = tcs.getTask();\r\n\r\n 4. Add a completion listener to the `Task` that was generated by the call to `setValue()`. In the completion listener set the appropriate result on the `Task` created in step 3. Calling `setResult()` on your `TaskCompletionSouce` object will mark the `Task` created from it as complete. This is important for step 5.\r\n\r\n        setValueTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n           @Override\r\n           public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n              if(task.isSuccessful()){\r\n                 tcs.setResult(true);\r\n              }else{\r\n                 tcs.setResult(false);\r\n              }\r\n           }\r\n        });\r\n\r\n 5. Call `Task.await()` to block the current thread until the `Task` you are interested in has completed. We are waiting for the `Task` generated by the `TaskCompletionSource` object to be marked complete. This `Task` will be considered complete when we call `setResult()` on the `TaskCompletionSource` used to generate the `Task` as we did in step 4. Once complete it will return the result.\r\n\r\n        try {\r\n            Boolean result = Tasks.await(tcsTask);\r\n        }catch(ExecutionException e){\r\n            //handle exception \r\n        }catch (InterruptedException e){\r\n            //handle exception\r\n        }\r\n\r\nThat’s it, the current thread will block until `Tasks.await()` returns a value. You can also (and should) set a timeout value on the `Tasks.await()` method if you want to keep the current thread from being blocked indefinitely.\r\n\r\nIf you were only interested in whether or not the `Task` generated by `setValue()` completed and didn’t care if it was successful or not then you can skip the creation of the `TaskCompletionSource` and just use `Tasks.await()` directly on that `Task`. The same works for `updateChildren()`. And if you like you can just use the method calls for `updateChilden()` or `setValue()` which use a `DatabaseReference.CompletionListener` along with a TaskCompletionListener. \r\n\r\nWaiting for a read operation to complete is similar.\r\n\r\n**Sample read operation using addListenerForSingleValueEvent()**\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n    YourModelClass mModelClassObject;\r\n\r\n 1. Create a `TaskCompletionSource` object parameterized with the result you expect from the `Task` that will be generated from it.\r\n\r\n        final TaskCompletionSource&lt;YourModelClass&gt; tcs = new TaskCompletionSource&lt;&gt;();\r\n\r\n 2. Generate a `Task` from the `TaskCompletionSource` object\r\n\r\n        Task&lt;YourModelClass&gt; tcsTask = tcs.getTask();\r\n\r\n 3. Call `addListenerForSingleValueEvent()` on our `DatabaseReference` and call `setResult()` on the `Task` generated in step 2.\r\n\r\n        ref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n           @Override\r\n           public void onDataChange(DataSnapshot dataSnapshot) {\r\n\t\t        YourModelClass result = dataSnapshot.getValue(YourModelClass.class);\r\n\t\t        if(result != null){\r\n\t\t\t        tcs.setResult(result);\r\n\t\t        }\r\n           }\r\n\r\n           @Override\r\n           public void onCancelled(DatabaseError databaseError){\r\n                //handle error\r\n           }\r\n        });\r\n\r\n 4. Call `Tasks.await()` to block the current thread until the `Task` you are interested in has completed. The `Task` will be considered complete when we call `setResult()` as we did in step 3 and will return the result.\r\n\r\n        try {\r\n            mModelClassObject = Tasks.await(tcsTask);\r\n        }catch(ExecutionException e){\r\n            //handle exception \r\n        }catch (InterruptedException e){\r\n            //handle exception\r\n        }\r\n\r\nAs mentioned above you can use the `Tasks.await()` method along with a timeout value to prevent the current thread from being blocked indefinitely.\r\n\r\nJust as a heads up I&#39;ve found that Firebase doesn&#39;t kill the background thread that is uses for its operations. This means that the GAE Instance is never idle. Check out this thread for more info:\r\n\r\n[Firebase, Background Threads, and App Engine][5]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/server/setup\r\n  [2]: https://firebase.google.com/docs/database/server/start\r\n  [3]: https://firebase.google.com/docs/reference/serverreference/com/google/firebase/tasks/package-summary\r\n  [4]: https://youtu.be/AJqakuas_6g?t=386\r\n  [5]: https://groups.google.com/forum/#!topic/google-appengine/U2f9dLHsck4","title":"Call Firebase database from Google App Engine","body":"<p>You'll need to use the Firebase Server SDK to make server side calls. You can find info on setting that up and using it here:</p>\n\n<p><a href=\"https://firebase.google.com/docs/server/setup\">Add Firebase to your Server</a></p>\n\n<p><a href=\"https://firebase.google.com/docs/database/server/start\">Firebase Server SDK Installation &amp; Setup</a></p>\n\n<p>When using Firebase with Google Cloud Endpoints be aware that you'll need to use Firebase methods in conjunction with the <a href=\"https://firebase.google.com/docs/reference/serverreference/com/google/firebase/tasks/package-summary\">Tasks API</a>.  Since Firebase methods are not blocking, if you don't use Tasks your Endpoint will return before the call you made to Firebase has a chance to return its result. For a brief intro on using tasks check out the link below. Its a talk given at Google I/O 2016. The speaker is talking about Tasks and Firebase on Android but the concepts are the same when using Tasks and Firebase on a server. Note that they have included the Tasks API with the Firebase Server SDK. I've skipped to the portion of the talk which deals directly with tasks.</p>\n\n<p><a href=\"https://youtu.be/AJqakuas_6g?t=386\">Firebase SDK for Android: A tech deep dive</a>   </p>\n\n<p>The samples below are if you need to process the result from your Firebase read/write operation before your Endpoint returns a value or if other code depends on the result of the Firebase read/write operation. These are server-side examples. I’m going to assume you care whether or not the write operation was successful. There may be better ways to perform these server-side operations but this is what I’ve done so far.</p>\n\n<p><strong>Sample write operation using setValue():</strong></p>\n\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\nYourModelClass obj = new YourModelClass();\n</code></pre>\n\n<ol>\n<li><p>When a call is made to the <code>setValue()</code> method it returns a <code>Task</code> object, keep a reference to it.</p>\n\n<pre><code>Task&lt;Void&gt; setValueTask = ref.setValue(obj);\n</code></pre></li>\n<li><p>Create a <code>TaskCompletionSource</code> object. This object should be parameterized with the result type of your choice. I’m going to use <code>Boolean</code> as the result type for this example.</p>\n\n<pre><code>final TaskCompletionSource&lt;Boolean&gt; tcs = new TaskCompletionSource&lt;&gt;();\n</code></pre></li>\n<li><p>Generate a <code>Task</code> from the <code>TaskCompletionSource</code> that was created in step 2. Again, the generated <code>Task</code> should use the same parameter type as the <code>TaskCompletionSource</code> object.</p>\n\n<pre><code>Task&lt;Boolean&gt; tcsTask = tcs.getTask();\n</code></pre></li>\n<li><p>Add a completion listener to the <code>Task</code> that was generated by the call to <code>setValue()</code>. In the completion listener set the appropriate result on the <code>Task</code> created in step 3. Calling <code>setResult()</code> on your <code>TaskCompletionSouce</code> object will mark the <code>Task</code> created from it as complete. This is important for step 5.</p>\n\n<pre><code>setValueTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n   @Override\n   public void onComplete(@NonNull Task&lt;Void&gt; task) {\n      if(task.isSuccessful()){\n         tcs.setResult(true);\n      }else{\n         tcs.setResult(false);\n      }\n   }\n});\n</code></pre></li>\n<li><p>Call <code>Task.await()</code> to block the current thread until the <code>Task</code> you are interested in has completed. We are waiting for the <code>Task</code> generated by the <code>TaskCompletionSource</code> object to be marked complete. This <code>Task</code> will be considered complete when we call <code>setResult()</code> on the <code>TaskCompletionSource</code> used to generate the <code>Task</code> as we did in step 4. Once complete it will return the result.</p>\n\n<pre><code>try {\n    Boolean result = Tasks.await(tcsTask);\n}catch(ExecutionException e){\n    //handle exception \n}catch (InterruptedException e){\n    //handle exception\n}\n</code></pre></li>\n</ol>\n\n<p>That’s it, the current thread will block until <code>Tasks.await()</code> returns a value. You can also (and should) set a timeout value on the <code>Tasks.await()</code> method if you want to keep the current thread from being blocked indefinitely.</p>\n\n<p>If you were only interested in whether or not the <code>Task</code> generated by <code>setValue()</code> completed and didn’t care if it was successful or not then you can skip the creation of the <code>TaskCompletionSource</code> and just use <code>Tasks.await()</code> directly on that <code>Task</code>. The same works for <code>updateChildren()</code>. And if you like you can just use the method calls for <code>updateChilden()</code> or <code>setValue()</code> which use a <code>DatabaseReference.CompletionListener</code> along with a TaskCompletionListener. </p>\n\n<p>Waiting for a read operation to complete is similar.</p>\n\n<p><strong>Sample read operation using addListenerForSingleValueEvent()</strong></p>\n\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\nYourModelClass mModelClassObject;\n</code></pre>\n\n<ol>\n<li><p>Create a <code>TaskCompletionSource</code> object parameterized with the result you expect from the <code>Task</code> that will be generated from it.</p>\n\n<pre><code>final TaskCompletionSource&lt;YourModelClass&gt; tcs = new TaskCompletionSource&lt;&gt;();\n</code></pre></li>\n<li><p>Generate a <code>Task</code> from the <code>TaskCompletionSource</code> object</p>\n\n<pre><code>Task&lt;YourModelClass&gt; tcsTask = tcs.getTask();\n</code></pre></li>\n<li><p>Call <code>addListenerForSingleValueEvent()</code> on our <code>DatabaseReference</code> and call <code>setResult()</code> on the <code>Task</code> generated in step 2.</p>\n\n<pre><code>ref.addListenerForSingleValueEvent(new ValueEventListener() {\n   @Override\n   public void onDataChange(DataSnapshot dataSnapshot) {\n        YourModelClass result = dataSnapshot.getValue(YourModelClass.class);\n        if(result != null){\n            tcs.setResult(result);\n        }\n   }\n\n   @Override\n   public void onCancelled(DatabaseError databaseError){\n        //handle error\n   }\n});\n</code></pre></li>\n<li><p>Call <code>Tasks.await()</code> to block the current thread until the <code>Task</code> you are interested in has completed. The <code>Task</code> will be considered complete when we call <code>setResult()</code> as we did in step 3 and will return the result.</p>\n\n<pre><code>try {\n    mModelClassObject = Tasks.await(tcsTask);\n}catch(ExecutionException e){\n    //handle exception \n}catch (InterruptedException e){\n    //handle exception\n}\n</code></pre></li>\n</ol>\n\n<p>As mentioned above you can use the <code>Tasks.await()</code> method along with a timeout value to prevent the current thread from being blocked indefinitely.</p>\n\n<p>Just as a heads up I've found that Firebase doesn't kill the background thread that is uses for its operations. This means that the GAE Instance is never idle. Check out this thread for more info:</p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/google-appengine/U2f9dLHsck4\">Firebase, Background Threads, and App Engine</a></p>\n"},{"tags":[],"owner":{"account_id":4751591,"reputation":171,"user_id":3841493,"display_name":"Alexandros Trepeklis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691166680,"creation_date":1691166680,"answer_id":76837734,"question_id":37892336,"body_markdown":"**Update 2023**\r\n\r\nAlthough the answer of Kevin was right back in 2016, things have changed a lot since.\r\n\r\nThe SDK, after 5.4.0, provides two functions.\r\n\r\n    setValueAsync(Object value)\r\nand \r\n\r\n    setValue(Object, CompletionListener)\r\n\r\nAlthough some answers ([here][1]) seem to indicate that the first one is async while the second one is blocking that is not the case, at least on my tests on Google Cloud App Engine.\r\n\r\nThe reality is that they are both non-blocking, the old one seems to be there for the callback-based programming style.\r\n\r\nThe new function &quot;setValueAsync&quot; is based on the ApiFuture interface. And although async we can easily wait for it to complete with calling get() in the ApiFuture returned. So the code of Kevin becomes as simple as:\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n    ApiFuture future = ref.setValueAsync(YourObject);\r\n    future.get();\r\n\r\nYour code will not continue after the get() function call till the ApiFuture is returned.\r\n\r\nRead [Firebase: Asynchronous Operations with Admin Java SDK][2] for more details on the changes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58644807/what-is-the-difference-between-firebase-setvalue-and-setvalueasync-methods-a\r\n  [2]: https://medium.com/google-cloud/firebase-asynchronous-operations-with-admin-java-sdk-82ca9b4f6022","title":"Call Firebase database from Google App Engine","body":"<p><strong>Update 2023</strong></p>\n<p>Although the answer of Kevin was right back in 2016, things have changed a lot since.</p>\n<p>The SDK, after 5.4.0, provides two functions.</p>\n<pre><code>setValueAsync(Object value)\n</code></pre>\n<p>and</p>\n<pre><code>setValue(Object, CompletionListener)\n</code></pre>\n<p>Although some answers (<a href=\"https://stackoverflow.com/questions/58644807/what-is-the-difference-between-firebase-setvalue-and-setvalueasync-methods-a\">here</a>) seem to indicate that the first one is async while the second one is blocking that is not the case, at least on my tests on Google Cloud App Engine.</p>\n<p>The reality is that they are both non-blocking, the old one seems to be there for the callback-based programming style.</p>\n<p>The new function &quot;setValueAsync&quot; is based on the ApiFuture interface. And although async we can easily wait for it to complete with calling get() in the ApiFuture returned. So the code of Kevin becomes as simple as:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\nApiFuture future = ref.setValueAsync(YourObject);\nfuture.get();\n</code></pre>\n<p>Your code will not continue after the get() function call till the ApiFuture is returned.</p>\n<p>Read <a href=\"https://medium.com/google-cloud/firebase-asynchronous-operations-with-admin-java-sdk-82ca9b4f6022\" rel=\"nofollow noreferrer\">Firebase: Asynchronous Operations with Admin Java SDK</a> for more details on the changes.</p>\n"}],"owner":{"account_id":2167196,"reputation":1436,"user_id":1920064,"accept_rate":61,"display_name":"booky99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37893358,"answer_count":2,"score":8,"last_activity_date":1691166680,"creation_date":1466212057,"question_id":37892336,"body_markdown":"I followed this [tutorial][1] for setting up my Google App Engine instance and I am also using Firebase. My goal is to put all of the &quot;computation&quot; on Google App Engine. I want to call a function like this one below:\r\n\r\n\r\nMyEndpoint:\r\n\r\n    package productions.widowmaker110.backend;\r\n    \r\n    /** An endpoint class we are exposing */\r\n    @Api(\r\n     name = &quot;myApi&quot;,\r\n     version = &quot;v1&quot;,\r\n     namespace = @ApiNamespace(\r\n     ownerDomain = &quot;backend.widowmaker110.productions&quot;,\r\n     ownerName = &quot;backend.widowmaker110.productions&quot;,\r\n     packagePath=&quot;&quot;\r\n     )\r\n    )\r\n    public class MyEndpoint {\r\n    \r\n     /** A simple endpoint method that takes a name and says Hi back */\r\n     @ApiMethod(name = &quot;sayHi&quot;)\r\n     public MyBean sayHi(@Named(&quot;name&quot;) String name) {\r\n    \r\n     // Write a message to the database\r\n     FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n     DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n     \r\n     // Read from the database\r\n     myRef.addValueEventListener(new ValueEventListener() {\r\n     @Override\r\n     public void onDataChange(DataSnapshot dataSnapshot) {\r\n     // This method is called once with the initial value and again\r\n     // whenever data at this location is updated.\r\n     String value = dataSnapshot.getValue(String.class);\r\n     Log.d(TAG, &quot;Value is: &quot; + value);\r\n     }\r\n    \r\n     @Override\r\n     public void onCancelled(DatabaseError error) {\r\n     // Failed to read value\r\n     Log.w(TAG, &quot;Failed to read value.&quot;, error.toException());\r\n     }\r\n     });\r\n    \r\n     MyBean response = new MyBean();\r\n     response.setData(&quot;Hi, &quot; + name);\r\n    \r\n     return response;\r\n     }\r\n    \r\n    }\r\n\r\nMainActivity:\r\n\r\n    package productions.widowmaker110.gpsweather;\r\n    \r\n    // imports...\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        new EndpointsAsyncTask().execute(new Pair&lt;Context, String&gt;(this, &quot;Manfred&quot;));\r\n     }\r\n    \r\n     class EndpointsAsyncTask extends AsyncTask&lt;Pair&lt;Context, String&gt;, Void, String&gt; {\r\n        private MyApi myApiService = null;\r\n      private Context context;\r\n    \r\n     @Override\r\n     protected String doInBackground(Pair&lt;Context, String&gt;... params) {\r\n       if(myApiService == null) { // Only do this once\r\n          MyApi.Builder builder = new MyApi.Builder(AndroidHttp.newCompatibleTransport(),\r\n          new AndroidJsonFactory(), null)\r\n          // options for running against local devappserver\r\n          // - 10.0.2.2 is localhost&#39;s IP address in Android emulator\r\n          // - turn off compression when running against local devappserver\r\n         .setRootUrl(&quot;http://10.0.2.2:8080/_ah/api/&quot;)\r\n         .setGoogleClientRequestInitializer(new GoogleClientRequestInitializer() {\r\n     @Override\r\n     public void initialize(AbstractGoogleClientRequest&lt;?&gt; abstractGoogleClientRequest) throws IOException {\r\n        abstractGoogleClientRequest.setDisableGZipContent(true);\r\n     }\r\n     });\r\n     // end options for devappserver\r\n    \r\n     myApiService = builder.build();\r\n     }\r\n    \r\n     context = params[0].first;\r\n     String name = params[0].second;\r\n    \r\n     try {\r\n     return myApiService.sayHi(name).execute().getData();\r\n     } catch (IOException e) {\r\n     return e.getMessage();\r\n     }\r\n     }\r\n    \r\n     @Override\r\n     protected void onPostExecute(String result) {\r\n     Toast.makeText(context, result, Toast.LENGTH_LONG).show();\r\n     }\r\n     }\r\n    }\r\n\r\nI understand the above code for Firebase is Android specific so running on a Google App Engine instance doesn&#39;t work. I was wondering if any one knows how to perform CRUD \r\noperations on a firebase database from Google App Engine backend. Any help is appreciated.\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/endpoints/helloendpoints-android-studio","title":"Call Firebase database from Google App Engine","body":"<p>I followed this <a href=\"https://cloud.google.com/appengine/docs/java/endpoints/helloendpoints-android-studio\">tutorial</a> for setting up my Google App Engine instance and I am also using Firebase. My goal is to put all of the \"computation\" on Google App Engine. I want to call a function like this one below:</p>\n\n<p>MyEndpoint:</p>\n\n<pre><code>package productions.widowmaker110.backend;\n\n/** An endpoint class we are exposing */\n@Api(\n name = \"myApi\",\n version = \"v1\",\n namespace = @ApiNamespace(\n ownerDomain = \"backend.widowmaker110.productions\",\n ownerName = \"backend.widowmaker110.productions\",\n packagePath=\"\"\n )\n)\npublic class MyEndpoint {\n\n /** A simple endpoint method that takes a name and says Hi back */\n @ApiMethod(name = \"sayHi\")\n public MyBean sayHi(@Named(\"name\") String name) {\n\n // Write a message to the database\n FirebaseDatabase database = FirebaseDatabase.getInstance();\n DatabaseReference myRef = database.getReference(\"message\");\n\n // Read from the database\n myRef.addValueEventListener(new ValueEventListener() {\n @Override\n public void onDataChange(DataSnapshot dataSnapshot) {\n // This method is called once with the initial value and again\n // whenever data at this location is updated.\n String value = dataSnapshot.getValue(String.class);\n Log.d(TAG, \"Value is: \" + value);\n }\n\n @Override\n public void onCancelled(DatabaseError error) {\n // Failed to read value\n Log.w(TAG, \"Failed to read value.\", error.toException());\n }\n });\n\n MyBean response = new MyBean();\n response.setData(\"Hi, \" + name);\n\n return response;\n }\n\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>package productions.widowmaker110.gpsweather;\n\n// imports...\n\npublic class MainActivity extends AppCompatActivity {\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    new EndpointsAsyncTask().execute(new Pair&lt;Context, String&gt;(this, \"Manfred\"));\n }\n\n class EndpointsAsyncTask extends AsyncTask&lt;Pair&lt;Context, String&gt;, Void, String&gt; {\n    private MyApi myApiService = null;\n  private Context context;\n\n @Override\n protected String doInBackground(Pair&lt;Context, String&gt;... params) {\n   if(myApiService == null) { // Only do this once\n      MyApi.Builder builder = new MyApi.Builder(AndroidHttp.newCompatibleTransport(),\n      new AndroidJsonFactory(), null)\n      // options for running against local devappserver\n      // - 10.0.2.2 is localhost's IP address in Android emulator\n      // - turn off compression when running against local devappserver\n     .setRootUrl(\"http://10.0.2.2:8080/_ah/api/\")\n     .setGoogleClientRequestInitializer(new GoogleClientRequestInitializer() {\n @Override\n public void initialize(AbstractGoogleClientRequest&lt;?&gt; abstractGoogleClientRequest) throws IOException {\n    abstractGoogleClientRequest.setDisableGZipContent(true);\n }\n });\n // end options for devappserver\n\n myApiService = builder.build();\n }\n\n context = params[0].first;\n String name = params[0].second;\n\n try {\n return myApiService.sayHi(name).execute().getData();\n } catch (IOException e) {\n return e.getMessage();\n }\n }\n\n @Override\n protected void onPostExecute(String result) {\n Toast.makeText(context, result, Toast.LENGTH_LONG).show();\n }\n }\n}\n</code></pre>\n\n<p>I understand the above code for Firebase is Android specific so running on a Google App Engine instance doesn't work. I was wondering if any one knows how to perform CRUD \noperations on a firebase database from Google App Engine backend. Any help is appreciated.</p>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690970197,"post_id":76818700,"comment_id":135425995,"body_markdown":"It will not start a new transaction, despite the logs, and it should participate in the current transaction. If that doesn&#39; thappen there is something weird in your setup.","body":"It will not start a new transaction, despite the logs, and it should participate in the current transaction. If that doesn&#39; thappen there is something weird in your setup."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1690972508,"post_id":76818700,"comment_id":135426426,"body_markdown":"I can&#39;t see whats weird in the setup. Transactions seem to work generally. They are participating for read-only methods like find*()","body":"I can&#39;t see whats weird in the setup. Transactions seem to work generally. They are participating for read-only methods like find*()"}],"answers":[{"comments":[{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1690972554,"post_id":76818793,"comment_id":135426438,"body_markdown":"I do, see my original post\n\n&quot;When I call them in my service method which is also transactional&quot;","body":"I do, see my original post  &quot;When I call them in my service method which is also transactional&quot;"},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1690974680,"post_id":76818793,"comment_id":135426866,"body_markdown":"yes but it should not ALSO it should ONLY on the method.","body":"yes but it should not ALSO it should ONLY on the method."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1690975493,"post_id":76818793,"comment_id":135426999,"body_markdown":"JpaRepository are Transactional by default. Thats not something I can change.","body":"JpaRepository are Transactional by default. Thats not something I can change."}],"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690977895,"creation_date":1690970625,"answer_id":76818793,"question_id":76818700,"body_markdown":"The point is: you set the Transactional here:\r\n\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n    \r\n      @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\r\n      @Modifying\r\n      @Transactional //&lt;-- Hier you set the Transactional (but its wrong)\r\n      void deleteAllByOtherEntityId(String requestNumber);\r\n    \r\n      void deleteAllByOtherEntity_Id(String requestNumber);\r\n    }\r\n\r\nif you want to role Back so you must delete here the Transactional AND SET IT ON THE METHOD in which you logic goes.\r\n\r\nfor Example:\r\n\r\n    @Transactional\r\n    public void hereIdoSomethingAndNeedRollBack(){\r\n    \r\n    }\r\n\r\n\r\nWhat i Mean:\r\n\r\ni mean if you use  `void deleteAllByOtherEntityId(String requestNumber);` then you must delete the @transactional after `@Modifying` in your Repository Class and set the `@Transactional` ONLY on your Method! if you use `deleteAllByOtherEntity_Id` (so you do it over the Method Name) you dont need the `@Transactional` on Method","title":"Spring Boot Data JPA JpaRepository Transaction Management on custom delete methods","body":"<p>The point is: you set the Transactional here:</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n  @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\n  @Modifying\n  @Transactional //&lt;-- Hier you set the Transactional (but its wrong)\n  void deleteAllByOtherEntityId(String requestNumber);\n\n  void deleteAllByOtherEntity_Id(String requestNumber);\n}\n</code></pre>\n<p>if you want to role Back so you must delete here the Transactional AND SET IT ON THE METHOD in which you logic goes.</p>\n<p>for Example:</p>\n<pre><code>@Transactional\npublic void hereIdoSomethingAndNeedRollBack(){\n\n}\n</code></pre>\n<p>What i Mean:</p>\n<p>i mean if you use  <code>void deleteAllByOtherEntityId(String requestNumber);</code> then you must delete the @transactional after <code>@Modifying</code> in your Repository Class and set the <code>@Transactional</code> ONLY on your Method! if you use <code>deleteAllByOtherEntity_Id</code> (so you do it over the Method Name) you dont need the <code>@Transactional</code> on Method</p>\n"},{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691166631,"creation_date":1691166631,"answer_id":76837728,"question_id":76818700,"body_markdown":"SimpleJpaRepository is transactional by default but with readOnly=true. As you have marked your service class as transactional, that annotation is going to overried this behaviour.\r\n\r\nIn your repository class you don&#39;t need to necessarily mark any method as transactional but you sure need to mark the custom update method as @Modifying.\r\n\r\nThe rollback issue might have two reasons.\r\n1. If no custom rollback rules are configured in this annotation, the transaction will roll back on RuntimeException and Error but not on checked exceptions.\r\n2. You might not be calling the custom method properly from service class so that it is not allowing you to rollback the transaction.","title":"Spring Boot Data JPA JpaRepository Transaction Management on custom delete methods","body":"<p>SimpleJpaRepository is transactional by default but with readOnly=true. As you have marked your service class as transactional, that annotation is going to overried this behaviour.</p>\n<p>In your repository class you don't need to necessarily mark any method as transactional but you sure need to mark the custom update method as @Modifying.</p>\n<p>The rollback issue might have two reasons.</p>\n<ol>\n<li>If no custom rollback rules are configured in this annotation, the transaction will roll back on RuntimeException and Error but not on checked exceptions.</li>\n<li>You might not be calling the custom method properly from service class so that it is not allowing you to rollback the transaction.</li>\n</ol>\n"}],"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691166631,"creation_date":1690969933,"question_id":76818700,"body_markdown":"I run into a weird behaviour while working on a service method. A delete method in a JPA Repository defined by method name is not transactional while custom delete methods need to be annotated with @Modifying and @Transactional. This leads to weird behaviour.\r\n\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n\r\n      @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\r\n      @Modifying\r\n      @Transactional\r\n      void deleteAllByOtherEntityId(String requestNumber);\r\n\r\n      void deleteAllByOtherEntity_Id(String requestNumber);\r\n    }\r\n\r\nWhen I call them in my service method which is also transactional, the custom delete method will create a new transaction according to transaction manager logs while the method delete method created by method name is not transactional\r\n\r\n&gt; No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllByOtherEntity_Id]:\r\n&gt; This method is not transactional.\r\n\r\nThe problem here is with rollbacks. The first method commits its transaction and rollbacks will not affect it. The second method works fine with rollbacks. \r\n\r\nNow at the moment this is fine for me because the second method works for me but I am wondering if this behaviour is intendet or if I am missing something.\r\n\r\nbest, m\r\n\r\nEdit:\r\nActually there seems to be a problem with my config. Also JPA Methods (even read-only) create their own transactions. \r\n\r\n&gt; Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly\r\n\r\nI didn&#39;t see it before because I was trying out things and had set\r\n\r\n    enabledefaulttransactions=false\r\n\r\n","title":"Spring Boot Data JPA JpaRepository Transaction Management on custom delete methods","body":"<p>I run into a weird behaviour while working on a service method. A delete method in a JPA Repository defined by method name is not transactional while custom delete methods need to be annotated with @Modifying and @Transactional. This leads to weird behaviour.</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n  @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\n  @Modifying\n  @Transactional\n  void deleteAllByOtherEntityId(String requestNumber);\n\n  void deleteAllByOtherEntity_Id(String requestNumber);\n}\n</code></pre>\n<p>When I call them in my service method which is also transactional, the custom delete method will create a new transaction according to transaction manager logs while the method delete method created by method name is not transactional</p>\n<blockquote>\n<p>No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllByOtherEntity_Id]:\nThis method is not transactional.</p>\n</blockquote>\n<p>The problem here is with rollbacks. The first method commits its transaction and rollbacks will not affect it. The second method works fine with rollbacks.</p>\n<p>Now at the moment this is fine for me because the second method works for me but I am wondering if this behaviour is intendet or if I am missing something.</p>\n<p>best, m</p>\n<p>Edit:\nActually there seems to be a problem with my config. Also JPA Methods (even read-only) create their own transactions.</p>\n<blockquote>\n<p>Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly</p>\n</blockquote>\n<p>I didn't see it before because I was trying out things and had set</p>\n<pre><code>enabledefaulttransactions=false\n</code></pre>\n"},{"tags":["java","openapi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691392851,"post_id":76837666,"comment_id":135479831,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29161360,"reputation":1,"user_id":22340046,"display_name":"extremeA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691166417,"creation_date":1691166094,"question_id":76837666,"body_markdown":"I&#39;m trying to map a json in openapi 3.0 components.\r\n\r\nThe json structure looks like:\r\n\r\n \r\n\r\n    - X    \r\n        X1\r\n           Xx1\r\n             ….\r\n             ….\r\n           Xx2\r\n           Xx3   \r\n        X2\r\n           Xx21\r\n           xx22\r\n           Xx23  \r\n       X3\r\n         Xx31\r\n         Xx32\r\n         Xx33 \r\n       Y    \r\n        Y1\r\n         YY1\r\n         YY2 \t\r\n         YY3 \t\r\n          …    \r\n        Y2 \t\r\n          …    \r\n        Y3 \r\n      \t… …\r\n\r\nThis is basically a json tree with at least 4 layers\r\n\r\nGiven the fact the variable name and values can be dynamic, depending on the language the user is choosing i don&#39;t know how can i achieve that in openapi.\r\n\r\nAny help is welcomed!\r\n\r\nI was trying to achieve that using enums, but there are no ways of creating enums of enums of enums in openapi","title":"OpenAPI 3.0 map json with dynamic variable names and values","body":"<p>I'm trying to map a json in openapi 3.0 components.</p>\n<p>The json structure looks like:</p>\n<pre><code>- X    \n    X1\n       Xx1\n         ….\n         ….\n       Xx2\n       Xx3   \n    X2\n       Xx21\n       xx22\n       Xx23  \n   X3\n     Xx31\n     Xx32\n     Xx33 \n   Y    \n    Y1\n     YY1\n     YY2    \n     YY3    \n      …    \n    Y2  \n      …    \n    Y3 \n    … …\n</code></pre>\n<p>This is basically a json tree with at least 4 layers</p>\n<p>Given the fact the variable name and values can be dynamic, depending on the language the user is choosing i don't know how can i achieve that in openapi.</p>\n<p>Any help is welcomed!</p>\n<p>I was trying to achieve that using enums, but there are no ways of creating enums of enums of enums in openapi</p>\n"},{"tags":["java","class","oop","static","static-methods"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691166458,"post_id":76837664,"comment_id":135459971,"body_markdown":"It’s a perfectly acceptable practice.  I’m pretty sure it occurs in a number of places in Java SE.","body":"It’s a perfectly acceptable practice.  I’m pretty sure it occurs in a number of places in Java SE."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1691166526,"post_id":76837664,"comment_id":135459992,"body_markdown":"Looks ok, accept for the direct use of `DriverManager`, as that will make it hard to unit test (but that is unrelated to your question).","body":"Looks ok, accept for the direct use of <code>DriverManager</code>, as that will make it hard to unit test (but that is unrelated to your question)."},{"owner":{"account_id":29161315,"reputation":1,"user_id":22340012,"display_name":"Noah Webster"},"score":0,"creation_date":1691167116,"post_id":76837664,"comment_id":135460103,"body_markdown":"@AndrewS How would one go about making the connection easier to unit test?","body":"@AndrewS How would one go about making the connection easier to unit test?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1691168059,"post_id":76837664,"comment_id":135460283,"body_markdown":"Don&#39;t use a static method!  And do you use dependency injection!  But if a static method is absolutely required, then _PowerMock_ could be used to mock the result of `DriverManager` to return a mock `Connection`.  In general, I tend to consider the need for the use of _PowerMock_ as a code/design smell.","body":"Don&#39;t use a static method!  And do you use dependency injection!  But if a static method is absolutely required, then <i>PowerMock</i> could be used to mock the result of <code>DriverManager</code> to return a mock <code>Connection</code>.  In general, I tend to consider the need for the use of <i>PowerMock</i> as a code/design smell."},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1691176923,"post_id":76837664,"comment_id":135461861,"body_markdown":"You need to wrap your static method and get it called from a class that is instantiable. If you feel the need for powermock consider the michael feathers WEWLC \nbook instead.","body":"You need to wrap your static method and get it called from a class that is instantiable. If you feel the need for powermock consider the michael feathers WEWLC  book instead."}],"owner":{"account_id":29161315,"reputation":1,"user_id":22340012,"display_name":"Noah Webster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691166079,"creation_date":1691166079,"question_id":76837664,"body_markdown":"I am working on a CRUD application in Java currently. I have classes that correlate with each table in my database. Is it bad practice to have the same method with both static and non-static versions of the method overloaded? To keep things simple, I have the non-static versions simply calling the static version and using the this keyword to pass in the parameters.\r\n\r\nRough example below:\r\n\r\n\r\n```\r\nclass Account {\r\n    private String firstName;\r\n    private String lastName;\r\n    \r\n    public static void insertDB(String firstName, String lastName){\r\n        try {\r\n            Connection conn = DriverManager.getConnection(URL);\r\n            String sql = &quot;insert into account (firstName, lastName) values(?, ?)&quot;;\r\n            PreparedStatement statement = conn.prepareStatement(sql);\r\n            statement.setString(1, firstName);\r\n            statement.setString(2, lastName);\r\n            statement.executeUpdate();\r\n            statement.close();\r\n            conn.close();\r\n        } catch (SQLException e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n    \r\n    public void insertDB(){\r\n        insertDB(this.firstName, this.lastName);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThis seems like the best way to account for needing to use a method with or without an instance of the class existing. If this is bad practice, should it be avoided by simply creating an instance of the Account class every time I need to use one of its methods? ","title":"Is it bad practice to have an overloaded method with a static and non-static version of the same method?","body":"<p>I am working on a CRUD application in Java currently. I have classes that correlate with each table in my database. Is it bad practice to have the same method with both static and non-static versions of the method overloaded? To keep things simple, I have the non-static versions simply calling the static version and using the this keyword to pass in the parameters.</p>\n<p>Rough example below:</p>\n<pre><code>class Account {\n    private String firstName;\n    private String lastName;\n    \n    public static void insertDB(String firstName, String lastName){\n        try {\n            Connection conn = DriverManager.getConnection(URL);\n            String sql = &quot;insert into account (firstName, lastName) values(?, ?)&quot;;\n            PreparedStatement statement = conn.prepareStatement(sql);\n            statement.setString(1, firstName);\n            statement.setString(2, lastName);\n            statement.executeUpdate();\n            statement.close();\n            conn.close();\n        } catch (SQLException e) {\n            System.out.println(e);\n        }\n    }\n    \n    public void insertDB(){\n        insertDB(this.firstName, this.lastName);\n    }\n}\n</code></pre>\n<p>This seems like the best way to account for needing to use a method with or without an instance of the class existing. If this is bad practice, should it be avoided by simply creating an instance of the Account class every time I need to use one of its methods?</p>\n"},{"tags":["java","keystore","pkcs#12"],"answers":[{"comments":[{"owner":{"account_id":329509,"reputation":3154,"user_id":653069,"display_name":"kwart"},"score":0,"creation_date":1663851643,"post_id":55340499,"comment_id":130339971,"body_markdown":"This is not correct. The [RFC-7292](https://www.rfc-editor.org/rfc/rfc7292) section 4.2 defines 6 different SafeBag types. Type 5 is the SecretBag. (_Each of the user&#39;s miscellaneous personal secrets is contained in an instance of SecretBag, which holds an object identifier-dependent value.  Note that a SecretBag contains only one secret._)","body":"This is not correct. The <a href=\"https://www.rfc-editor.org/rfc/rfc7292\" rel=\"nofollow noreferrer\">RFC-7292</a> section 4.2 defines 6 different SafeBag types. Type 5 is the SecretBag. (<i>Each of the user&#39;s miscellaneous personal secrets is contained in an instance of SecretBag, which holds an object identifier-dependent value.  Note that a SecretBag contains only one secret.</i>)"}],"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553525351,"creation_date":1553525351,"answer_id":55340499,"question_id":55115395,"body_markdown":"Are you sure the code you have above worked? Because `DSA` is a asymmetric algorithm, not a symmetric algorithm. If you are sure it is a secret key, it has to be `AES` or `DES` or `DESede` (Triple DES). Your above code should have failed.\r\n\r\nAnd answers to your questions:\r\n\r\n - Just like databases stores data, keys (secret keys and key pairs) and certificates are meant to be stored in a keystore, that&#39;s where they should residing in your application. You should be referring/retrieving them from the keystore.\r\n - And from what you said in one of the statements, that the key is different from what you had originally when you stored and then retrieved, judging by this, I think the key you have is a `Triple DES` or a `DES` key. DES/TripleDES uses parity bits, and the parity bits are corrected by the Java API `SecretKeySpec`. This causes the key to look different from the original, but it is actually the same. You can read more about the parity bits [here][1].\r\n\r\nAnd as a best practice you shouldn&#39;t be storing the secret keys in a `PKCS12` Keystore. The internet standard defines that the `PKCS12` keystore should contain only one `KeyPair` entry associated with its certificate chain. Even though it can contain more than one entry, it is ideal to have only one entry, with the `key password` same as the `keystore password`. They can store secret keys too, but it is best if you store them in a `JCEKS` keystore format.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Parity_bit","title":"How to store &amp; get own secret key in Java 8 PKCS12 keystore","body":"<p>Are you sure the code you have above worked? Because <code>DSA</code> is a asymmetric algorithm, not a symmetric algorithm. If you are sure it is a secret key, it has to be <code>AES</code> or <code>DES</code> or <code>DESede</code> (Triple DES). Your above code should have failed.</p>\n\n<p>And answers to your questions:</p>\n\n<ul>\n<li>Just like databases stores data, keys (secret keys and key pairs) and certificates are meant to be stored in a keystore, that's where they should residing in your application. You should be referring/retrieving them from the keystore.</li>\n<li>And from what you said in one of the statements, that the key is different from what you had originally when you stored and then retrieved, judging by this, I think the key you have is a <code>Triple DES</code> or a <code>DES</code> key. DES/TripleDES uses parity bits, and the parity bits are corrected by the Java API <code>SecretKeySpec</code>. This causes the key to look different from the original, but it is actually the same. You can read more about the parity bits <a href=\"https://en.wikipedia.org/wiki/Parity_bit\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n\n<p>And as a best practice you shouldn't be storing the secret keys in a <code>PKCS12</code> Keystore. The internet standard defines that the <code>PKCS12</code> keystore should contain only one <code>KeyPair</code> entry associated with its certificate chain. Even though it can contain more than one entry, it is ideal to have only one entry, with the <code>key password</code> same as the <code>keystore password</code>. They can store secret keys too, but it is best if you store them in a <code>JCEKS</code> keystore format.</p>\n"}],"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691165985,"creation_date":1552372249,"question_id":55115395,"body_markdown":"I am trying to store my own secret key in PKCS12 keystore. I tried by using below code:\r\n\r\n    char[] passArray = &quot;password&quot;.toCharArray();// this is key store pass\r\n    \t\t\r\n    String key  = &quot;test123&quot;; // this is my own secret key\r\n    \t\r\n    // Loading a Keystore\r\n    KeyStore p12KeyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    p12KeyStore.load(new FileInputStream(&quot;testKeyStore.p12&quot;), passArray);\r\n\r\nStoring my own secret key like as shown below:\r\n\r\n    byte [] byteKey = key.getBytes();\r\n    \t\t  \r\n    SecretKeySpec keySpec = new SecretKeySpec(byteKey, &quot;DSA&quot;);\r\n    \r\n    KeyStore.SecretKeyEntry secret = new KeyStore.SecretKeyEntry(keySpec);\r\n    \t\t\r\n    KeyStore.ProtectionParameter password = new KeyStore.PasswordProtection(passArray);\r\n    \t\t\r\n    p12KeyStore.setEntry(&quot;secret-key&quot;, secret, password);\r\n\r\nbut i am not sure whether storing the my own secret key as per best practice or not. and also when trying to get my own key from keystore as it is not getting like as my original secret key.\r\n\r\n    Key eKey = p12KeyStore.getKey(&quot;secret-key&quot;, passArray);\r\n\r\nCan anyone please help me on this to store &amp; get my own secret in PKCS12 keystore?","title":"How to store &amp; get own secret key in Java 8 PKCS12 keystore","body":"<p>I am trying to store my own secret key in PKCS12 keystore. I tried by using below code:</p>\n\n<pre><code>char[] passArray = \"password\".toCharArray();// this is key store pass\n\nString key  = \"test123\"; // this is my own secret key\n\n// Loading a Keystore\nKeyStore p12KeyStore = KeyStore.getInstance(\"PKCS12\");\np12KeyStore.load(new FileInputStream(\"testKeyStore.p12\"), passArray);\n</code></pre>\n\n<p>Storing my own secret key like as shown below:</p>\n\n<pre><code>byte [] byteKey = key.getBytes();\n\nSecretKeySpec keySpec = new SecretKeySpec(byteKey, \"DSA\");\n\nKeyStore.SecretKeyEntry secret = new KeyStore.SecretKeyEntry(keySpec);\n\nKeyStore.ProtectionParameter password = new KeyStore.PasswordProtection(passArray);\n\np12KeyStore.setEntry(\"secret-key\", secret, password);\n</code></pre>\n\n<p>but i am not sure whether storing the my own secret key as per best practice or not. and also when trying to get my own key from keystore as it is not getting like as my original secret key.</p>\n\n<pre><code>Key eKey = p12KeyStore.getKey(\"secret-key\", passArray);\n</code></pre>\n\n<p>Can anyone please help me on this to store &amp; get my own secret in PKCS12 keystore?</p>\n"},{"tags":["java","floating-point","integer","double"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410378128,"post_id":25773721,"comment_id":40307225,"body_markdown":"How is 0.10 a length of 1?","body":"How is 0.10 a length of 1?"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410378202,"post_id":25773721,"comment_id":40307265,"body_markdown":"0.10 is actually 0.1. Same thing for the compiler / computer.","body":"0.10 is actually 0.1. Same thing for the compiler / computer."},{"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"score":0,"creation_date":1410378217,"post_id":25773721,"comment_id":40307279,"body_markdown":"@ElliottFrisch Guess - sginificant digits of the fractional part","body":"@ElliottFrisch Guess - sginificant digits of the fractional part"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1410378247,"post_id":25773721,"comment_id":40307304,"body_markdown":"Zeros can be significant too.","body":"Zeros can be significant too."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410378269,"post_id":25773721,"comment_id":40307320,"body_markdown":"@jdphenix The only issue is 0.1 isn&#39;t precisely representable in binary... so if we count binary digits it would be infinite. How many digits are in decimal when we divide `1/3`?","body":"@jdphenix The only issue is 0.1 isn&#39;t precisely representable in binary... so if we count binary digits it would be infinite. How many digits are in decimal when we divide <code>1&#47;3</code>?"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410378618,"post_id":25773721,"comment_id":40307515,"body_markdown":"ElliottFrish `System.out.println(0.0100000 == 0.01); // prints true...`","body":"ElliottFrish <code>System.out.println(0.0100000 == 0.01); &#47;&#47; prints true...</code>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1410378755,"post_id":25773721,"comment_id":40307594,"body_markdown":"@chrisapotek `System.out.println(0.10 + 0.10 + 0.10); // prints 0.30000000000000004`","body":"@chrisapotek <code>System.out.println(0.10 + 0.10 + 0.10); &#47;&#47; prints 0.30000000000000004</code>"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":1,"creation_date":1410378888,"post_id":25773721,"comment_id":40307665,"body_markdown":"@ElliottFrisch Same thing for `System.out.println(0.1 + 0.1 + 0.1);` but that does not change the fact that 0.100000 == 0.1","body":"@ElliottFrisch Same thing for <code>System.out.println(0.1 + 0.1 + 0.1);</code> but that does not change the fact that 0.100000 == 0.1"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1410378975,"post_id":25773721,"comment_id":40307695,"body_markdown":"@ElliottFrisch - that&#39;s a huge non-issue.  The OP wants something that would return `1` for `0.3`, and `17` (if I can count) for `0.1+0.1+0.1`.","body":"@ElliottFrisch - that&#39;s a huge non-issue.  The OP wants something that would return <code>1</code> for <code>0.3</code>, and <code>17</code> (if I can count) for <code>0.1+0.1+0.1</code>."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410378976,"post_id":25773721,"comment_id":40307696,"body_markdown":"@chrisapotek Okay, here&#39;s another `System.out.println(0.05 + 0.05 + 0.05 == 0.15); // prints false`","body":"@chrisapotek Okay, here&#39;s another <code>System.out.println(0.05 + 0.05 + 0.05 == 0.15); &#47;&#47; prints false</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1410378996,"post_id":25773721,"comment_id":40307703,"body_markdown":"@ElliottFrisch still a non-issue.","body":"@ElliottFrisch still a non-issue."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410379005,"post_id":25773721,"comment_id":40307707,"body_markdown":"@DavidWallace Still only commenting.","body":"@DavidWallace Still only commenting."},{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":0,"creation_date":1410398408,"post_id":25773721,"comment_id":40314669,"body_markdown":"@ElliottFrisch: `System.out.println(2147483647 + 2147483647)` prints `-2`; what are you getting at?","body":"@ElliottFrisch: <code>System.out.println(2147483647 + 2147483647)</code> prints <code>-2</code>; what are you getting at?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410399646,"post_id":25773721,"comment_id":40314913,"body_markdown":"@tmyklebu When OP says *to get the number of digits from a Java double*, it kind of matters what kind of precision you&#39;re after.","body":"@tmyklebu When OP says <i>to get the number of digits from a Java double</i>, it kind of matters what kind of precision you&#39;re after."}],"answers":[{"comments":[{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":3,"creation_date":1410378137,"post_id":25773760,"comment_id":40307230,"body_markdown":"You have to be careful with scientific notation there, no? Ex: 9E-1 ?","body":"You have to be careful with scientific notation there, no? Ex: 9E-1 ?"},{"owner":{"account_id":4432934,"reputation":433,"user_id":3609639,"accept_rate":100,"display_name":"Marcello Davi"},"score":0,"creation_date":1410378164,"post_id":25773760,"comment_id":40307245,"body_markdown":"Yes but if you try with 2.340 it&#39;ll return 3. But chrisapotek wants it to return 2.","body":"Yes but if you try with 2.340 it&#39;ll return 3. But chrisapotek wants it to return 2."},{"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":1,"creation_date":1410378200,"post_id":25773760,"comment_id":40307262,"body_markdown":"@TheCazziator33: Try it, it returns 2.","body":"@TheCazziator33: Try it, it returns 2."},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":1,"creation_date":1410379138,"post_id":25773760,"comment_id":40307772,"body_markdown":"Are you sure scientific notation will not be an issue there? Ex: 9E-1 ?","body":"Are you sure scientific notation will not be an issue there? Ex: 9E-1 ?"},{"owner":{"account_id":2790051,"reputation":2666,"user_id":2400454,"accept_rate":20,"display_name":"Jay"},"score":0,"creation_date":1410379255,"post_id":25773760,"comment_id":40307844,"body_markdown":"Wait are you asking if this function well accept `9E-1` as an input? Because It shouldn&#39;t","body":"Wait are you asking if this function well accept <code>9E-1</code> as an input? Because It shouldn&#39;t"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410379325,"post_id":25773760,"comment_id":40307882,"body_markdown":"toString() never produces scientific notation, right?","body":"toString() never produces scientific notation, right?"},{"owner":{"account_id":2790051,"reputation":2666,"user_id":2400454,"accept_rate":20,"display_name":"Jay"},"score":0,"creation_date":1410379368,"post_id":25773760,"comment_id":40307911,"body_markdown":"Are you expecting the values to come in as a `string` or `double only`? Because if java recognizes 1e-9 as 0.00000000001 (as a double) then it should be fine.","body":"Are you expecting the values to come in as a <code>string</code> or <code>double only</code>? Because if java recognizes 1e-9 as 0.00000000001 (as a double) then it should be fine."},{"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"score":0,"creation_date":1410379492,"post_id":25773760,"comment_id":40307987,"body_markdown":"@chrisapotek Incorrect - http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29","body":"@chrisapotek Incorrect - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410380425,"post_id":25773760,"comment_id":40308518,"body_markdown":"@jdphenix toString can produce scientific notation or not?","body":"@jdphenix toString can produce scientific notation or not?"},{"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"score":0,"creation_date":1410380472,"post_id":25773760,"comment_id":40308549,"body_markdown":"@chrisapotek Try it and see. `Double.valueOf(0.0000000018).toString()`","body":"@chrisapotek Try it and see. <code>Double.valueOf(0.0000000018).toString()</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1410388495,"post_id":25773760,"comment_id":40312169,"body_markdown":"@chrisapotek or read the link that jdphenix kindly provided, which very clearly states whether or not `toString` can produce scientific notation.","body":"@chrisapotek or read the link that jdphenix kindly provided, which very clearly states whether or not <code>toString</code> can produce scientific notation."}],"tags":[],"owner":{"account_id":2790051,"reputation":2666,"user_id":2400454,"accept_rate":20,"display_name":"Jay"},"comment_count":11,"down_vote_count":4,"up_vote_count":10,"is_accepted":true,"score":6,"last_activity_date":1410469798,"creation_date":1410378037,"answer_id":25773760,"question_id":25773721,"body_markdown":"This should get the amount after the dec: \r\n\r\n\r\n     Double d = 123.9343;\r\n     String[] div = d.toString().split(&quot;\\\\.&quot;);\r\n     div[0].length();   // Before Decimal Count\r\n     div[1].length();   // After  Decimal Count   \r\n\r\n***Explanation***: You first turn the double into a string and use the `split` function to split the string from the `.` &lt;br&gt;\r\nOnce it is in 2 pieces you can then find the length of the string easily with the `length` function.   ","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>This should get the amount after the dec: </p>\n\n<pre><code> Double d = 123.9343;\n String[] div = d.toString().split(\"\\\\.\");\n div[0].length();   // Before Decimal Count\n div[1].length();   // After  Decimal Count   \n</code></pre>\n\n<p><strong><em>Explanation</em></strong>: You first turn the double into a string and use the <code>split</code> function to split the string from the <code>.</code> <br>\nOnce it is in 2 pieces you can then find the length of the string easily with the <code>length</code> function.   </p>\n"},{"comments":[{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":3,"creation_date":1410388875,"post_id":25773845,"comment_id":40312293,"body_markdown":"I do not think you need to read all of Goldberg&#39;s paper to understand what binary floating point is.","body":"I do not think you need to read all of Goldberg&#39;s paper to understand what binary floating point is."},{"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"score":0,"creation_date":1626981187,"post_id":25773845,"comment_id":121043232,"body_markdown":"And his question isn&#39;t broken. It&#39;s just a question.","body":"And his question isn&#39;t broken. It&#39;s just a question."},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":0,"creation_date":1627745137,"post_id":25773845,"comment_id":121240850,"body_markdown":"@rocksNwaves after googling around a bit that&#39;s apparently a more obscure phrase than I&#39;ve thought. There&#39;s one ELL [https://ell.stackexchange.com/questions/34974/what-does-broken-question-mean](https://ell.stackexchange.com/questions/34974/what-does-broken-question-mean) asking about a *different* time I used it, and there&#39;s no wiki page on it unlike &quot;abuse of notation&quot;, &quot;begging the question&quot; and other philosophy-related phrases. That being said it means the question is ill-posed; it rests on an invalid premise in this case that doubles &quot;have&quot; a number of digits in any sense.","body":"@rocksNwaves after googling around a bit that&#39;s apparently a more obscure phrase than I&#39;ve thought. There&#39;s one ELL <a href=\"https://ell.stackexchange.com/questions/34974/what-does-broken-question-mean\">https://ell.stackexchange.com/questions/34974/what-does-brok&zwnj;&#8203;en-question-mean</a> asking about a <i>different</i> time I used it, and there&#39;s no wiki page on it unlike &quot;abuse of notation&quot;, &quot;begging the question&quot; and other philosophy-related phrases. That being said it means the question is ill-posed; it rests on an invalid premise in this case that doubles &quot;have&quot; a number of digits in any sense."}],"tags":[],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":3,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1410385242,"creation_date":1410378350,"answer_id":25773845,"question_id":25773721,"body_markdown":"You need to use the `BigDecimal` class which specifies a precision. Everything else is just a hack.\r\n\r\n[This is required reading as a computer scientist](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html), and you must read it to understand why your question is so broken.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>You need to use the <code>BigDecimal</code> class which specifies a precision. Everything else is just a hack.</p>\n\n<p><a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">This is required reading as a computer scientist</a>, and you must read it to understand why your question is so broken.</p>\n"},{"tags":[],"owner":{"account_id":2430781,"reputation":474,"user_id":2121734,"accept_rate":50,"display_name":"Thomas Nguyen"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1410378381,"creation_date":1410378381,"answer_id":25773852,"question_id":25773721,"body_markdown":"I won&#39;t give you the code, just the approach.  One approach is to print the number into a string then use regular expression on that string.  Get the portion of the string after the decimal place and count the numbers until you get to a 0.  There are corner cases but you can take care of that.  One thing though, some numbers cannot be represented exactly, such as 4/3, so the number of the decimal places theoretically is infinite.  But if you print to a string, you&#39;re capping the number of decimal places which makes it easy to count.  Just know that if you cap at N decimal places and your counter returns N there&#39;s a little doubt whether it&#39;s exactly N decimal places or infinite.  If you have trouble implementing this approach show me what you&#39;ve got and where you&#39;re stuck and I can help you further.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>I won't give you the code, just the approach.  One approach is to print the number into a string then use regular expression on that string.  Get the portion of the string after the decimal place and count the numbers until you get to a 0.  There are corner cases but you can take care of that.  One thing though, some numbers cannot be represented exactly, such as 4/3, so the number of the decimal places theoretically is infinite.  But if you print to a string, you're capping the number of decimal places which makes it easy to count.  Just know that if you cap at N decimal places and your counter returns N there's a little doubt whether it's exactly N decimal places or infinite.  If you have trouble implementing this approach show me what you've got and where you're stuck and I can help you further.</p>\n"},{"tags":[],"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1410380289,"creation_date":1410380289,"answer_id":25774353,"question_id":25773721,"body_markdown":"Short version: Use `BigDecimal` and it&#39;s `scale()` method. Initialize however you wish. \r\n\r\nLong version: \r\n\r\nYou specifically mentioned that you prefer the solution you use to be\r\n\r\n   * &quot;Math only&quot; (ambiguous but I can guess what you mean)\r\n   * Get the number of digits from a `double`, presumably the fractional part (based on your expected output)\r\n\r\nHere is a solution that uses `java.math.BigDecimal` to do so: \r\n\r\n    List&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;() {{\r\n        add(BigDecimal.valueOf(0.0000000018));\r\n        add(BigDecimal.valueOf(123));\r\n        add(BigDecimal.valueOf(1.12));\r\n        add(BigDecimal.valueOf(1.0001));\r\n        add(BigDecimal.valueOf(2.340000));\r\n        add(BigDecimal.valueOf(0.10));\r\n    }};\r\n    \r\n    for (BigDecimal bd : list) { \r\n        System.out.println(bd + &quot; --&gt; &quot; + bd.scale());\r\n    }\r\n\r\nOutputs: \r\n\r\n    1.8E-9 --&gt; 10\r\n    123 --&gt; 0\r\n    1.12 --&gt; 2\r\n    1.0001 --&gt; 4\r\n    2.34 --&gt; 2\r\n    0.1 --&gt; 1\r\n\r\nNote that instantiating `BigDecimal` from `double` like this will eventually give you surprising results. Consider the `scale()` of `BigDecimal.valueOf(0.1 + 0.1 + 0.1)`, which is `17`. This is because `0.1` (and most other ~ 97% of numbers in range) cannot be represented exactly by `double`, which introduces rounding errors in calculations. \r\n\r\nAlso note that using `scale()` functions where solutions involving manipulating the results of `toString()` would fail. [`Double.toString()`][1] is well defined, and can produce a range of outputs beyond what one may think of as &quot;decimal notation&quot; of a `double`. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>Short version: Use <code>BigDecimal</code> and it's <code>scale()</code> method. Initialize however you wish. </p>\n\n<p>Long version: </p>\n\n<p>You specifically mentioned that you prefer the solution you use to be</p>\n\n<ul>\n<li>\"Math only\" (ambiguous but I can guess what you mean)</li>\n<li>Get the number of digits from a <code>double</code>, presumably the fractional part (based on your expected output)</li>\n</ul>\n\n<p>Here is a solution that uses <code>java.math.BigDecimal</code> to do so: </p>\n\n<pre><code>List&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;() {{\n    add(BigDecimal.valueOf(0.0000000018));\n    add(BigDecimal.valueOf(123));\n    add(BigDecimal.valueOf(1.12));\n    add(BigDecimal.valueOf(1.0001));\n    add(BigDecimal.valueOf(2.340000));\n    add(BigDecimal.valueOf(0.10));\n}};\n\nfor (BigDecimal bd : list) { \n    System.out.println(bd + \" --&gt; \" + bd.scale());\n}\n</code></pre>\n\n<p>Outputs: </p>\n\n<pre><code>1.8E-9 --&gt; 10\n123 --&gt; 0\n1.12 --&gt; 2\n1.0001 --&gt; 4\n2.34 --&gt; 2\n0.1 --&gt; 1\n</code></pre>\n\n<p>Note that instantiating <code>BigDecimal</code> from <code>double</code> like this will eventually give you surprising results. Consider the <code>scale()</code> of <code>BigDecimal.valueOf(0.1 + 0.1 + 0.1)</code>, which is <code>17</code>. This is because <code>0.1</code> (and most other ~ 97% of numbers in range) cannot be represented exactly by <code>double</code>, which introduces rounding errors in calculations. </p>\n\n<p>Also note that using <code>scale()</code> functions where solutions involving manipulating the results of <code>toString()</code> would fail. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29\" rel=\"noreferrer\"><code>Double.toString()</code></a> is well defined, and can produce a range of outputs beyond what one may think of as \"decimal notation\" of a <code>double</code>. </p>\n"},{"comments":[{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410450023,"post_id":25777516,"comment_id":40339497,"body_markdown":"That&#39;s because you are adding more decimal digits than it is supported, dude. They are being discarded by the compiler. `System.out.println(1.1200000000000001); // prints 1.12`","body":"That&#39;s because you are adding more decimal digits than it is supported, dude. They are being discarded by the compiler. <code>System.out.println(1.1200000000000001); &#47;&#47; prints 1.12</code>"},{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":0,"creation_date":1410451871,"post_id":25777516,"comment_id":40340684,"body_markdown":"@chrisapotek: There is no coherent notion of &quot;the number of decimal digits that are supported.&quot;  The compiler is not &#39;discarding&quot; some but not other decimal digits.","body":"@chrisapotek: There is no coherent notion of &quot;the number of decimal digits that are supported.&quot;  The compiler is not &#39;discarding&quot; some but not other decimal digits."}],"tags":[],"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410398291,"creation_date":1410398291,"answer_id":25777516,"question_id":25773721,"body_markdown":"There is no useful notion of &quot;the number of digits of a Java `double`&quot; consistent with the results you gave.  A `double` is a binary floating-point number, not a decimal floating-point number, and, for example, the Java `double` 1.12 is actually the number `1.12000000000000010658141036401502788066864013671875`, which has 50 digits after the decimal point before all the repeating zeroes.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>There is no useful notion of \"the number of digits of a Java <code>double</code>\" consistent with the results you gave.  A <code>double</code> is a binary floating-point number, not a decimal floating-point number, and, for example, the Java <code>double</code> 1.12 is actually the number <code>1.12000000000000010658141036401502788066864013671875</code>, which has 50 digits after the decimal point before all the repeating zeroes.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1410474100,"post_id":25797180,"comment_id":40351495,"body_markdown":"Certain floating-point values cannot be represented without using 17 digits, but not all 16-digit decimal numbers have unique representations.  Thus, the number of meaningful digits is in some cases only 15, and in some cases 17, though it&#39;s usually 16.","body":"Certain floating-point values cannot be represented without using 17 digits, but not all 16-digit decimal numbers have unique representations.  Thus, the number of meaningful digits is in some cases only 15, and in some cases 17, though it&#39;s usually 16."}],"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1410470713,"creation_date":1410470713,"answer_id":25797180,"question_id":25773721,"body_markdown":"**The number of decimal digits in a double is 15.9.  Period.**  (I&#39;ll let you figure out how to treat the 0.9.)\r\n\r\nIf you have a the floating-point number 1.00000000000001, you have no idea (without further information) whether the &quot;1&quot; on the right end of that number is &quot;information&quot; or &quot;noise&quot;.  Similarly with 0.9999999999999 -- is it really 1.0, or are all those 9s significant?  **You don&#39;t know** without some information about the precision of the calculations/measurements than went into producing the number.\r\n\r\nIt is common to format the number out to N digits and then &quot;trim&quot; strings of zeros (or, with rounding, 9s) on the right, but this is at best an educated bet.  At worst it&#39;s throwing away critical data.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p><strong>The number of decimal digits in a double is 15.9.  Period.</strong>  (I'll let you figure out how to treat the 0.9.)</p>\n\n<p>If you have a the floating-point number 1.00000000000001, you have no idea (without further information) whether the \"1\" on the right end of that number is \"information\" or \"noise\".  Similarly with 0.9999999999999 -- is it really 1.0, or are all those 9s significant?  <strong>You don't know</strong> without some information about the precision of the calculations/measurements than went into producing the number.</p>\n\n<p>It is common to format the number out to N digits and then \"trim\" strings of zeros (or, with rounding, 9s) on the right, but this is at best an educated bet.  At worst it's throwing away critical data.</p>\n"},{"tags":[],"owner":{"account_id":29080542,"reputation":1,"user_id":22276686,"display_name":"ΔΙΟΝΥΣΙΟΣ ΧΑΡΑΛΑΜΠΟΠΟΥΛΟΣ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691165911,"creation_date":1691165911,"answer_id":76837646,"question_id":25773721,"body_markdown":"```\r\npublic static void main(String[] args){\r\n    String num=&quot;1122345.67823&quot;;\r\n    System.out.println(num.indexOf(&quot;.&quot;));\r\n    System.out.println(num.length());\r\n    //This is what u need//\r\n    System.out.println(&quot;\\n&quot; +&quot;Decimal digits: &quot; + (num.length()-num.indexOf(&quot;.&quot;)-1));\r\n    System.out.println(&quot;\\n&quot; + &quot;Integer Digits: &quot; + (num.length() -(num.length()-num.indexOf(&quot;.&quot;))));\r\n```\r\n\r\nP.S if num is Integer instead of String just use the &quot; String.valueOf(num)&quot; to convert it.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<pre><code>public static void main(String[] args){\n    String num=&quot;1122345.67823&quot;;\n    System.out.println(num.indexOf(&quot;.&quot;));\n    System.out.println(num.length());\n    //This is what u need//\n    System.out.println(&quot;\\n&quot; +&quot;Decimal digits: &quot; + (num.length()-num.indexOf(&quot;.&quot;)-1));\n    System.out.println(&quot;\\n&quot; + &quot;Integer Digits: &quot; + (num.length() -(num.length()-num.indexOf(&quot;.&quot;))));\n</code></pre>\n<p>P.S if num is Integer instead of String just use the &quot; String.valueOf(num)&quot; to convert it.</p>\n"}],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15151,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"accepted_answer_id":25773760,"answer_count":7,"score":4,"last_activity_date":1691165911,"creation_date":1410377892,"question_id":25773721,"body_markdown":"Title is self-explanatory. What is a good way, with just math preferably, to get the number of digits from a Java double?\r\n\r\n    123 =&gt; 0\r\n    1.12 =&gt; 2\r\n    1.0001 =&gt; 4\r\n    2.340000 =&gt; 2\r\n    0.10 =&gt; 1\r\n\r\nI have a double d = 0.320 for example.\r\n\r\nAs far as I know, for the compiler / jvm / computer:\r\n\r\n    System.out.println(0.0100000 == 0.01); // prints true...","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>Title is self-explanatory. What is a good way, with just math preferably, to get the number of digits from a Java double?</p>\n\n<pre><code>123 =&gt; 0\n1.12 =&gt; 2\n1.0001 =&gt; 4\n2.340000 =&gt; 2\n0.10 =&gt; 1\n</code></pre>\n\n<p>I have a double d = 0.320 for example.</p>\n\n<p>As far as I know, for the compiler / jvm / computer:</p>\n\n<pre><code>System.out.println(0.0100000 == 0.01); // prints true...\n</code></pre>\n"},{"tags":["java","cloud","glassfish","openstack","openstack4j"],"comments":[{"owner":{"account_id":2634000,"reputation":2938,"user_id":2279200,"accept_rate":73,"display_name":"Athafoud"},"score":0,"creation_date":1443285775,"post_id":32777285,"comment_id":53436470,"body_markdown":"Just a suggestion. You can try an alternative of openstack4j named JClouds, personally I find it more easy to use. You can also take a look on my awnser [here](http://stackoverflow.com/a/28985001/2279200). I am giving some links about a simple java application that can help start with JClouds.","body":"Just a suggestion. You can try an alternative of openstack4j named JClouds, personally I find it more easy to use. You can also take a look on my awnser <a href=\"http://stackoverflow.com/a/28985001/2279200\">here</a>. I am giving some links about a simple java application that can help start with JClouds."},{"owner":{"account_id":5778579,"reputation":243,"user_id":4559952,"accept_rate":57,"display_name":"Ehrendil"},"score":0,"creation_date":1443290662,"post_id":32777285,"comment_id":53437971,"body_markdown":"Thank you for your comment. I haven&#39;t yet figured out why this is happening, however I have found that if I use another connector then the error gets resolved. I&#39;m now using resteasy and it&#39;s proven very efficient.","body":"Thank you for your comment. I haven&#39;t yet figured out why this is happening, however I have found that if I use another connector then the error gets resolved. I&#39;m now using resteasy and it&#39;s proven very efficient."}],"owner":{"account_id":5778579,"reputation":243,"user_id":4559952,"accept_rate":57,"display_name":"Ehrendil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691165047,"creation_date":1443167279,"question_id":32777285,"body_markdown":"I&#39;m trying out openstack4j, and I&#39;ve run into a problem I don&#39;t know what could be causing.\r\n\r\nAuthentication to the cloud went smoothly:\r\n\r\n    OSClient os = OSFactory.builder()\r\n    .endpoint(&quot;http://xxx.xxx.xxx.xxx:yyyyy/v2.0&quot;)\r\n    .credentials(username,password)\r\n    .tenantName(&quot;admin&quot;)\r\n    .perspective(Facing.PUBLIC)\r\n    .authenticate();\r\n\r\nHowever, once os is instanciated, I try running the following line:\r\n\r\n    List&lt;? extends Flavor&gt; flavors = os.compute().flavors().list();\r\n\r\nAnd I get an ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}\r\n\r\nWhat could be causing this?\r\n\r\nThanks in advance.\r\n\r\nStack trace:\r\n\r\n        Exception in thread &quot;main&quot; ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}\r\n        at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:58)\r\n        at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:33)\r\n        at org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\r\n        at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:178)\r\n        at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:172)\r\n        at org.openstack4j.openstack.compute.internal.FlavorServiceImpl.list(FlavorServiceImpl.java:32)\r\n        at com.mycompany.app.my_app.OpenStackCom.authOpenStack(OpenStackCom.java:127)\r\n        at com.mycompany.app.my_app.App.main(App.java:18)\r\n    Caused by: javax.ws.rs.ProcessingException: java.net.ConnectException: Connection timed out: connect\r\n        at org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:229)\r\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:224)\r\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:656)\r\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:653)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:424)\r\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:653)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:388)\r\n    at org.openstack4j.connectors.jersey2.HttpCommand.execute(HttpCommand.java:86)\r\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invokeRequest(HttpExecutorServiceImpl.java:65)\r\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:56)\r\n    ... 7 more\r\n    Caused by: java.net.ConnectException: Connection timed out: connect\r\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\r\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n    at java.net.PlainSocketImpl.connect(Unknown Source)\r\n    at java.net.SocksSocketImpl.connect(Unknown Source)\r\n    at java.net.Socket.connect(Unknown Source)\r\n    at sun.net.NetworkClient.doConnect(Unknown Source)\r\n    at sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    at sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    at sun.net.www.http.HttpClient.(Unknown Source)\r\n    at sun.net.www.http.HttpClient.New(Unknown Source)\r\n    at sun.net.www.http.HttpClient.New(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    at org.glassfish.jersey.client.HttpUrlConnector._apply(HttpUrlConnector.java:321)\r\n    at org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:227)","title":"Connection timeout with openstack4j compute query","body":"<p>I'm trying out openstack4j, and I've run into a problem I don't know what could be causing.</p>\n\n<p>Authentication to the cloud went smoothly:</p>\n\n<pre><code>OSClient os = OSFactory.builder()\n.endpoint(\"http://xxx.xxx.xxx.xxx:yyyyy/v2.0\")\n.credentials(username,password)\n.tenantName(\"admin\")\n.perspective(Facing.PUBLIC)\n.authenticate();\n</code></pre>\n\n<p>However, once os is instanciated, I try running the following line:</p>\n\n<pre><code>List&lt;? extends Flavor&gt; flavors = os.compute().flavors().list();\n</code></pre>\n\n<p>And I get an ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}</p>\n\n<p>What could be causing this?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Stack trace:</p>\n\n<pre><code>    Exception in thread \"main\" ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:58)\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:33)\n    at org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\n    at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:178)\n    at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:172)\n    at org.openstack4j.openstack.compute.internal.FlavorServiceImpl.list(FlavorServiceImpl.java:32)\n    at com.mycompany.app.my_app.OpenStackCom.authOpenStack(OpenStackCom.java:127)\n    at com.mycompany.app.my_app.App.main(App.java:18)\nCaused by: javax.ws.rs.ProcessingException: java.net.ConnectException: Connection timed out: connect\n    at org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:229)\nat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:224)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:656)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:653)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:424)\nat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:653)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:388)\nat org.openstack4j.connectors.jersey2.HttpCommand.execute(HttpCommand.java:86)\nat org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invokeRequest(HttpExecutorServiceImpl.java:65)\nat org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:56)\n... 7 more\nCaused by: java.net.ConnectException: Connection timed out: connect\nat java.net.DualStackPlainSocketImpl.connect0(Native Method)\nat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\nat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\nat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\nat java.net.AbstractPlainSocketImpl.connect(Unknown Source)\nat java.net.PlainSocketImpl.connect(Unknown Source)\nat java.net.SocksSocketImpl.connect(Unknown Source)\nat java.net.Socket.connect(Unknown Source)\nat sun.net.NetworkClient.doConnect(Unknown Source)\nat sun.net.www.http.HttpClient.openServer(Unknown Source)\nat sun.net.www.http.HttpClient.openServer(Unknown Source)\nat sun.net.www.http.HttpClient.(Unknown Source)\nat sun.net.www.http.HttpClient.New(Unknown Source)\nat sun.net.www.http.HttpClient.New(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\nat java.net.HttpURLConnection.getResponseCode(Unknown Source)\nat org.glassfish.jersey.client.HttpUrlConnector._apply(HttpUrlConnector.java:321)\nat org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:227)\n</code></pre>\n"},{"tags":["java","scala","openstack","openstack4j"],"answers":[{"comments":[{"owner":{"account_id":9566645,"reputation":23,"user_id":7105723,"display_name":"Casey Richardson"},"score":1,"creation_date":1487800712,"post_id":42090729,"comment_id":71953140,"body_markdown":"This works great. My final solution (in Scala) is: `os.getToken.getCatalog\n        .filter(_.getName == &quot;swift&quot;)\n        .flatMap(_.getEndpoints.toList)\n        .find(e =&gt; e.getRegion == &quot;dallas&quot; &amp;&amp; e.getIface == Facing.PUBLIC)\n        .map(e =&gt; s&quot;${e.getUrl.toString}${ObjectLocation.create(container, objectName).getURI}&quot;)`","body":"This works great. My final solution (in Scala) is: <code>os.getToken.getCatalog         .filter(_.getName == &quot;swift&quot;)         .flatMap(_.getEndpoints.toList)         .find(e =&gt; e.getRegion == &quot;dallas&quot; &amp;&amp; e.getIface == Facing.PUBLIC)         .map(e =&gt; s&quot;${e.getUrl.toString}${ObjectLocation.create(container, objectName).getURI}&quot;)</code>"}],"tags":[],"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1486472960,"creation_date":1486472960,"answer_id":42090729,"question_id":40385145,"body_markdown":"If you are using OpenStack4j 3.0.X and Openstack Identity API v3 you can use this code to get the object-storage (swift) endpoint url:\r\n\r\n    for (Service s : os.getToken().getCatalog()) {\r\n                if (s.getName().equals(&quot;swift&quot;)) {\r\n                    for (Endpoint e : s.getEndpoints()) {\r\n                        if (e.getRegion().equals(&quot;dallas&quot;) &amp;&amp; e.getIface().equals(Facing.PUBLIC)) {\r\n                            objectUrl = e.getUrl().toString();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nWhere `os` is an instance of `org.openstack4j.api.OSClient.OSClientV3`. \r\nYou should look for the region that is mentioned in your credentials (which in my case is &quot;dallas&quot;).\r\n\r\nOnce you have the url for this endpoint you can use it to create the URLs for your objects:\r\n\r\n    objectUrl + &quot;/&quot; + containerName + &quot;/&quot; + objectName\r\n\r\n\r\nThis will result in (just as an example, it doesn&#39;t link to an actual object):\r\n\r\n    https://dal.objectstorage.open.softlayer.com/v1/AUTH_2440e4fa175452cb2e14506cb5d63ec/MyContainer/uploadedOpbject.jpg\r\n ","title":"Get uploaded object URL using openstack4j","body":"<p>If you are using OpenStack4j 3.0.X and Openstack Identity API v3 you can use this code to get the object-storage (swift) endpoint url:</p>\n\n<pre><code>for (Service s : os.getToken().getCatalog()) {\n            if (s.getName().equals(\"swift\")) {\n                for (Endpoint e : s.getEndpoints()) {\n                    if (e.getRegion().equals(\"dallas\") &amp;&amp; e.getIface().equals(Facing.PUBLIC)) {\n                        objectUrl = e.getUrl().toString();\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Where <code>os</code> is an instance of <code>org.openstack4j.api.OSClient.OSClientV3</code>. \nYou should look for the region that is mentioned in your credentials (which in my case is \"dallas\").</p>\n\n<p>Once you have the url for this endpoint you can use it to create the URLs for your objects:</p>\n\n<pre><code>objectUrl + \"/\" + containerName + \"/\" + objectName\n</code></pre>\n\n<p>This will result in (just as an example, it doesn't link to an actual object):</p>\n\n<pre><code>https://dal.objectstorage.open.softlayer.com/v1/AUTH_2440e4fa175452cb2e14506cb5d63ec/MyContainer/uploadedOpbject.jpg\n</code></pre>\n"}],"owner":{"account_id":9566645,"reputation":23,"user_id":7105723,"display_name":"Casey Richardson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42090729,"answer_count":1,"score":2,"last_activity_date":1691165020,"creation_date":1478104559,"question_id":40385145,"body_markdown":"Currently I&#39;m using openstack4j to put objects into a publicly readable container. The upload works fine (I can get the URL of the object by piecing it together), but I&#39;d like to be able to get the public URL of the uploaded object straight from the library if possible. \r\n\r\nLooking through the docs I found ObjectLocation, but that only gives me the path component of the object instead of the full URL. Is there any way for me to get the full URL of an object using openstack4j?\r\n\r\nMy code for uploading a file is:\r\n\r\n    os.objectStorage.objects.put(containerName, objectName, Payloads.create(someFile))\r\n\r\nNote: I&#39;m actually using openstack4j in scala, though that shouldn&#39;t really matter.","title":"Get uploaded object URL using openstack4j","body":"<p>Currently I'm using openstack4j to put objects into a publicly readable container. The upload works fine (I can get the URL of the object by piecing it together), but I'd like to be able to get the public URL of the uploaded object straight from the library if possible. </p>\n\n<p>Looking through the docs I found ObjectLocation, but that only gives me the path component of the object instead of the full URL. Is there any way for me to get the full URL of an object using openstack4j?</p>\n\n<p>My code for uploading a file is:</p>\n\n<pre><code>os.objectStorage.objects.put(containerName, objectName, Payloads.create(someFile))\n</code></pre>\n\n<p>Note: I'm actually using openstack4j in scala, though that shouldn't really matter.</p>\n"},{"tags":["java","openstack","openstack-swift","openstack4j"],"answers":[{"tags":[],"owner":{"account_id":5440694,"reputation":1226,"user_id":4328866,"display_name":"gregorycallea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534145444,"creation_date":1534145444,"answer_id":51817269,"question_id":41725151,"body_markdown":"I had the same issue using version 3.0.4 on my maven project.\r\nUpgrading the dependency to 3.1.0 one solved it.\r\nHere is the included artifact details:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.pacesys&lt;/groupId&gt;\r\n       &lt;artifactId&gt;openstack4j&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"RestEasyProviderFactory ClassCastException in openstack4j","body":"<p>I had the same issue using version 3.0.4 on my maven project.\nUpgrading the dependency to 3.1.0 one solved it.\nHere is the included artifact details:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.pacesys&lt;/groupId&gt;\n   &lt;artifactId&gt;openstack4j&lt;/artifactId&gt;\n   &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691164876,"creation_date":1484758566,"question_id":41725151,"body_markdown":"I have upgraded my version of openstack4j to the 3.0.3 (from v2) and I&#39;m having this error when running it from Tomcat with both OKHTTP Connector and HTTPCLIENT Connector.\r\n\r\n    java.lang.ClassCastException: org.glassfish.jersey.server.internal.RuntimeDelegateImpl cannot be cast to org.jboss.resteasy.spi.ResteasyProviderFactory\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.getInstance(ResteasyProviderFactory.java:353)\r\n    \tat org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.checkClientExceptionMapper(ApacheHttpClient4Executor.java:72)\r\n    \tat org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.&lt;init&gt;(ApacheHttpClient4Executor.java:126)\r\n    \tat org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.&lt;init&gt;(ApacheHttpClientExecutor.java:24)\r\n    \tat org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.create(ApacheHttpClientExecutor.java:48)\r\n    \tat org.openstack4j.connectors.resteasy.HttpCommand.initialize(HttpCommand.java:43)\r\n    \tat org.openstack4j.connectors.resteasy.HttpCommand.create(HttpCommand.java:37)\r\n    \tat org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:51)\r\n    \tat org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:30)\r\n    \tat org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\r\n    \tat org.openstack4j.openstack.internal.OSAuthenticator.authenticateV3(OSAuthenticator.java:154)\r\n    \tat org.openstack4j.openstack.internal.OSAuthenticator.invoke(OSAuthenticator.java:70)\r\n    \tat org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:165)\r\n    \tat org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:128)\r\n\r\nThis problem didn&#39;t occur with v2 of openstack4j.\r\n\r\n","title":"RestEasyProviderFactory ClassCastException in openstack4j","body":"<p>I have upgraded my version of openstack4j to the 3.0.3 (from v2) and I'm having this error when running it from Tomcat with both OKHTTP Connector and HTTPCLIENT Connector.</p>\n\n<pre><code>java.lang.ClassCastException: org.glassfish.jersey.server.internal.RuntimeDelegateImpl cannot be cast to org.jboss.resteasy.spi.ResteasyProviderFactory\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.getInstance(ResteasyProviderFactory.java:353)\n    at org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.checkClientExceptionMapper(ApacheHttpClient4Executor.java:72)\n    at org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.&lt;init&gt;(ApacheHttpClient4Executor.java:126)\n    at org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.&lt;init&gt;(ApacheHttpClientExecutor.java:24)\n    at org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.create(ApacheHttpClientExecutor.java:48)\n    at org.openstack4j.connectors.resteasy.HttpCommand.initialize(HttpCommand.java:43)\n    at org.openstack4j.connectors.resteasy.HttpCommand.create(HttpCommand.java:37)\n    at org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:51)\n    at org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:30)\n    at org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\n    at org.openstack4j.openstack.internal.OSAuthenticator.authenticateV3(OSAuthenticator.java:154)\n    at org.openstack4j.openstack.internal.OSAuthenticator.invoke(OSAuthenticator.java:70)\n    at org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:165)\n    at org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:128)\n</code></pre>\n\n<p>This problem didn't occur with v2 of openstack4j.</p>\n"},{"tags":["javascript","java","jquery"],"comments":[{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441760116,"post_id":32469269,"comment_id":52800493,"body_markdown":"timezone problem ? how ? and why the other dates are okey ?","body":"timezone problem ? how ? and why the other dates are okey ?"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441788694,"post_id":32469269,"comment_id":52810885,"body_markdown":"i can&#39;t use `0:00:00.1` i get dates from mysql database","body":"i can&#39;t use <code>0:00:00.1</code> i get dates from mysql database"},{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":2,"creation_date":1441790552,"post_id":32469269,"comment_id":52812167,"body_markdown":"The question name is a bit misleading. It is off by an *hour*, not a *day*.","body":"The question name is a bit misleading. It is off by an <i>hour</i>, not a <i>day</i>."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441790854,"post_id":32469269,"comment_id":52812376,"body_markdown":"@Hacketo so why ? the type in mysql is `datetime` and in java is \t`@Temporal(TemporalType.TIMESTAMP)  \n\t@Column(name = &quot;..&quot;)  \n\tpublic Date getYy() {  \n\t\treturn this.yy;  \n\t}`","body":"@Hacketo so why ? the type in mysql is <code>datetime</code> and in java is \t<code>@Temporal(TemporalType.TIMESTAMP)   \t@Column(name = &quot;..&quot;)   \tpublic Date getYy() {   \t\treturn this.yy;   \t}</code>"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441791799,"post_id":32469269,"comment_id":52813029,"body_markdown":"How do you convert from `2015-09-30 00:00:00.0` to timestamp?","body":"How do you convert from <code>2015-09-30 00:00:00.0</code> to timestamp?"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441791909,"post_id":32469269,"comment_id":52813121,"body_markdown":"@AleksandrM I don&#39;t covert nothing i make a query with jpa and i send the dates to javascript as json object","body":"@AleksandrM I don&#39;t covert nothing i make a query with jpa and i send the dates to javascript as json object"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441792443,"post_id":32469269,"comment_id":52813509,"body_markdown":"So conversion happens. It is timezone problem. Try to change your timezone and you&#39;ll see different results.","body":"So conversion happens. It is timezone problem. Try to change your timezone and you&#39;ll see different results."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441792507,"post_id":32469269,"comment_id":52813567,"body_markdown":"@AleksandrM how can i change it ?","body":"@AleksandrM how can i change it ?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441793110,"post_id":32469269,"comment_id":52813978,"body_markdown":"How to change timezone in your computer OS?","body":"How to change timezone in your computer OS?"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441793216,"post_id":32469269,"comment_id":52814035,"body_markdown":"@AleksandrM (UTC) casablanca","body":"@AleksandrM (UTC) casablanca"}],"answers":[{"comments":[{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":2,"creation_date":1441791971,"post_id":32476132,"comment_id":52813167,"body_markdown":"But how can i solve my problem whatever the client&#39;s timezone is ?","body":"But how can i solve my problem whatever the client&#39;s timezone is ?"},{"owner":{"account_id":2829893,"reputation":694,"user_id":2431671,"display_name":"Crazy Crab"},"score":1,"creation_date":1441792281,"post_id":32476132,"comment_id":52813381,"body_markdown":"You can read this [article](http://stackoverflow.com/questions/1091372/getting-the-clients-timezone-in-javascript)","body":"You can read this <a href=\"http://stackoverflow.com/questions/1091372/getting-the-clients-timezone-in-javascript\">article</a>"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":7,"creation_date":1441831637,"post_id":32476132,"comment_id":52838280,"body_markdown":"thanks man it was a summer time (DSL) problem so we resolve it like this `d = new Date(value) ;\nd.setTime( d.getTime() - new Date().getTimezoneOffset()*60*1000 );`","body":"thanks man it was a summer time (DSL) problem so we resolve it like this <code>d = new Date(value) ; d.setTime( d.getTime() - new Date().getTimezoneOffset()*60*1000 );</code>"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1503858155,"post_id":32476132,"comment_id":78774654,"body_markdown":"@Youssef your solution doesn&#39;t *seem* to be quite right. `new Date()` will give you the datetime **now**, not at `d`.  So you have to go `d.getTimezoneOffset()*60*1000` ... I think.","body":"@Youssef your solution doesn&#39;t <i>seem</i> to be quite right. <code>new Date()</code> will give you the datetime <b>now</b>, not at <code>d</code>.  So you have to go <code>d.getTimezoneOffset()*60*1000</code> ... I think."}],"tags":[],"owner":{"account_id":2829893,"reputation":694,"user_id":2431671,"display_name":"Crazy Crab"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1441791690,"creation_date":1441791690,"answer_id":32476132,"question_id":32469269,"body_markdown":"I think maybe this is a **Daylight Saving Time** problem. You can check your client&#39;s timezone, and your server&#39;s timezone. (web server or SQL Server)","title":"Javascript Date() give wrong date off by one hour","body":"<p>I think maybe this is a <strong>Daylight Saving Time</strong> problem. You can check your client's timezone, and your server's timezone. (web server or SQL Server)</p>\n"},{"tags":[],"owner":{"account_id":1315592,"reputation":25006,"user_id":1262551,"display_name":"ZER0"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1441792645,"creation_date":1441792645,"answer_id":32476465,"question_id":32469269,"body_markdown":"We should probably need more data about it, but it could be that nothing is wrong here, it depends how you set and get back your date.\r\n\r\nBasically `1443567600000` doesn&#39;t contains timezone. It represent `Tue Sep 29 2015 23:00:00` from Greenwich. It&#39;s a moment in time that, of course, it different from any location that has a different timezone. The same moment, happens at different time (the midnight of GMT+1 is the 11pm of GMT).\r\n\r\nYou have to store both the time and the timezone in your DB, and possibly send back to JS, otherwise it will be always interpreted differently depends by the local time of the client.\r\n\r\nTo make an example:\r\n\r\n    var d = new Date(2015, 8, 30);\r\n    console.log(d.toJSON()); // In my case I got &quot;2015-09-29T22:00:00.000Z&quot;\r\n    console.log(d.toDateString()); // &quot;Wed Sep 30 2015&quot;\r\n\r\n","title":"Javascript Date() give wrong date off by one hour","body":"<p>We should probably need more data about it, but it could be that nothing is wrong here, it depends how you set and get back your date.</p>\n\n<p>Basically <code>1443567600000</code> doesn't contains timezone. It represent <code>Tue Sep 29 2015 23:00:00</code> from Greenwich. It's a moment in time that, of course, it different from any location that has a different timezone. The same moment, happens at different time (the midnight of GMT+1 is the 11pm of GMT).</p>\n\n<p>You have to store both the time and the timezone in your DB, and possibly send back to JS, otherwise it will be always interpreted differently depends by the local time of the client.</p>\n\n<p>To make an example:</p>\n\n<pre><code>var d = new Date(2015, 8, 30);\nconsole.log(d.toJSON()); // In my case I got \"2015-09-29T22:00:00.000Z\"\nconsole.log(d.toDateString()); // \"Wed Sep 30 2015\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3334572,"reputation":374,"user_id":2802552,"accept_rate":88,"display_name":"adaba"},"score":0,"creation_date":1619021239,"post_id":45908136,"comment_id":118780662,"body_markdown":"Would that explain why &quot;2020-01-01 00:00&quot; shows &quot;2019-12-31 23:00&quot; ? somehow on my app the dates shows the one hour late version (it&#39;s disturbing seeing a truthy comparison even though the log at first doesn&#39;t show it) so equivalent to .toISOString() yet using my browser console I get the toString() format when console logging the date ?","body":"Would that explain why &quot;2020-01-01 00:00&quot; shows &quot;2019-12-31 23:00&quot; ? somehow on my app the dates shows the one hour late version (it&#39;s disturbing seeing a truthy comparison even though the log at first doesn&#39;t show it) so equivalent to .toISOString() yet using my browser console I get the toString() format when console logging the date ?"}],"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1617822136,"creation_date":1503859019,"answer_id":45908136,"question_id":32469269,"body_markdown":"This JS handling of Date is a quite a head-flip.\r\n\r\nI&#39;m in the UK... &quot;easy&quot; because we&#39;re on GMT (UTC)... except during the summer months, when there&#39;s DST (British Summer Time, BST).  Clocks go forward in summer and back in winter (stupidly by the way, but that&#39;s another issue!) by one hour.  One day in March what is 4pm GMT is now **called** 5pm (BST).\r\n\r\n**summer** month:\r\n\r\nIf you do `new Date( &#39;2017-08-08&#39; )` this will give you (`toString`) &#39;Date 2017-08-08T00:00:00.000Z&#39;.\r\n\r\nIf you do `new Date( &#39;2017-08-08 00:00&#39; )`, however, this will give you &#39;Date 2017-08-**07T23**:00:00.000Z&#39;!\r\n\r\nIn the second case it appears JS is trying to be &quot;helpful&quot; by assuming that because you stipulated the hour you were specifying BST time.  So it adjusts to GMT/UTC.  Otherwise it doesn&#39;t... though (of course) it still produces a `Date` object which is specific right down to the milliseconds.  Quite a gotcha!\r\n\r\nConfirmation: a **winter** month... when BST is not applied:\r\n`new Date( &#39;2018-01-01 00:00&#39; )`/ `new Date( &#39;2018-01-01&#39; )`: both give &#39;Date 2018-01-01T00:00:00.000Z&#39;\r\n\r\nAs for adjusting, it appears that to undo the automatic adjustment you just go \r\n\r\n    jsDate.setTime( jsDate.getTime() + jsDate.getTimezoneOffset() * 60 * 1000 );\r\n\r\n... this is a bit like what Youssef has written... except you have to obtain the offset from the specific `Date` in question... and my experiments seem to prove that you add this, not subtract it.\r\n\r\nReally it would be much more helpful if the default string representation of JS `Date` gave the UTC time followed by the TZ (time zone) offset information, as with  some of the ISO date formats: clearly, this information is included.","title":"Javascript Date() give wrong date off by one hour","body":"<p>This JS handling of Date is a quite a head-flip.</p>\n<p>I'm in the UK... &quot;easy&quot; because we're on GMT (UTC)... except during the summer months, when there's DST (British Summer Time, BST).  Clocks go forward in summer and back in winter (stupidly by the way, but that's another issue!) by one hour.  One day in March what is 4pm GMT is now <strong>called</strong> 5pm (BST).</p>\n<p><strong>summer</strong> month:</p>\n<p>If you do <code>new Date( '2017-08-08' )</code> this will give you (<code>toString</code>) 'Date 2017-08-08T00:00:00.000Z'.</p>\n<p>If you do <code>new Date( '2017-08-08 00:00' )</code>, however, this will give you 'Date 2017-08-<strong>07T23</strong>:00:00.000Z'!</p>\n<p>In the second case it appears JS is trying to be &quot;helpful&quot; by assuming that because you stipulated the hour you were specifying BST time.  So it adjusts to GMT/UTC.  Otherwise it doesn't... though (of course) it still produces a <code>Date</code> object which is specific right down to the milliseconds.  Quite a gotcha!</p>\n<p>Confirmation: a <strong>winter</strong> month... when BST is not applied:\n<code>new Date( '2018-01-01 00:00' )</code>/ <code>new Date( '2018-01-01' )</code>: both give 'Date 2018-01-01T00:00:00.000Z'</p>\n<p>As for adjusting, it appears that to undo the automatic adjustment you just go</p>\n<pre><code>jsDate.setTime( jsDate.getTime() + jsDate.getTimezoneOffset() * 60 * 1000 );\n</code></pre>\n<p>... this is a bit like what Youssef has written... except you have to obtain the offset from the specific <code>Date</code> in question... and my experiments seem to prove that you add this, not subtract it.</p>\n<p>Really it would be much more helpful if the default string representation of JS <code>Date</code> gave the UTC time followed by the TZ (time zone) offset information, as with  some of the ISO date formats: clearly, this information is included.</p>\n"},{"tags":[],"owner":{"account_id":10838601,"reputation":439,"user_id":7970729,"accept_rate":83,"display_name":"Daniel Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527892099,"creation_date":1527892099,"answer_id":50651721,"question_id":32469269,"body_markdown":"To be more specific \r\n   \r\n\r\n     time = new Date(&quot;2018-06-01 &quot; + time);\r\n\t\t\t\tvar offset = time.getTimezoneOffset();\r\n                offset = Math.abs(offset / 60);\r\n\t\t\t\ttime.setHours(time.getHours() + offset);\r\n\r\nin this case time is equal to hours with leading zeros:minutes with leading zeros.\r\nThis will add the hours difference to the UTC.\r\nIf you pass a string to date it is treated as UTC.","title":"Javascript Date() give wrong date off by one hour","body":"<p>To be more specific </p>\n\n<pre><code> time = new Date(\"2018-06-01 \" + time);\n            var offset = time.getTimezoneOffset();\n            offset = Math.abs(offset / 60);\n            time.setHours(time.getHours() + offset);\n</code></pre>\n\n<p>in this case time is equal to hours with leading zeros:minutes with leading zeros.\nThis will add the hours difference to the UTC.\nIf you pass a string to date it is treated as UTC.</p>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52143,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":32476132,"answer_count":4,"score":38,"last_activity_date":1691164848,"creation_date":1441759467,"question_id":32469269,"body_markdown":"I send this date from my controller in java (`Spring-MVC`) the type in `mysql` is `datetime`\r\n\r\n\r\n    @Temporal(TemporalType.TIMESTAMP) \r\n    @Column(name = &quot;..&quot;) public Date getYy() { \r\n        return this.yy; \r\n    }\r\n\r\nas : `[2015-09-30 00:00:00.0]`\r\n\r\n\r\n\r\nWhen i get this dates with ajax as `1443567600000` :\r\n\r\n`new Date(1443567600000)` convert to `Tue Sep 29 2015 23:00:00 GMT+0000 (Maroc)`\r\n\r\nSo why i get  wrong date off by one hour?\r\n\r\n\r\n**SOLUTION**\r\n\r\nWe resolve it by\r\n\r\n    d = new Date(value) ;\r\n    d.setTime( d.getTime() + d.getTimezoneOffset()*60*1000 );\r\n\r\nbecause it was Daylight saving time (DST) or summer time problem. good [article][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1091372/getting-the-clients-timezone-in-javascript","title":"Javascript Date() give wrong date off by one hour","body":"<p>I send this date from my controller in java (<code>Spring-MVC</code>) the type in <code>mysql</code> is <code>datetime</code></p>\n<pre><code>@Temporal(TemporalType.TIMESTAMP) \n@Column(name = &quot;..&quot;) public Date getYy() { \n    return this.yy; \n}\n</code></pre>\n<p>as : <code>[2015-09-30 00:00:00.0]</code></p>\n<p>When i get this dates with ajax as <code>1443567600000</code> :</p>\n<p><code>new Date(1443567600000)</code> convert to <code>Tue Sep 29 2015 23:00:00 GMT+0000 (Maroc)</code></p>\n<p>So why i get  wrong date off by one hour?</p>\n<p><strong>SOLUTION</strong></p>\n<p>We resolve it by</p>\n<pre><code>d = new Date(value) ;\nd.setTime( d.getTime() + d.getTimezoneOffset()*60*1000 );\n</code></pre>\n<p>because it was Daylight saving time (DST) or summer time problem. good <a href=\"https://stackoverflow.com/questions/1091372/getting-the-clients-timezone-in-javascript\">article</a></p>\n"},{"tags":["java","swing","javafx","netbeans"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1691165008,"post_id":76837511,"comment_id":135459679,"body_markdown":"JavaFX is [modularized](https://en.wikipedia.org/wiki/Java_Platform_Module_System).","body":"JavaFX is <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modularized</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1691168390,"post_id":76837511,"comment_id":135460347,"body_markdown":"Follow [_Getting Started with JavaFX_](https://openjfx.io/openjfx-docs/) to create a new project, for [example](https://stackoverflow.com/a/73611827/230513); the guide shows how to modify a project&#39;s library properties; I&#39;d also recommend that you prototype your use-case, for [example](https://stackoverflow.com/search?q=%5Bjavafx%5D+JFXPanel+JDialog), in a separate project.","body":"Follow <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\"><i>Getting Started with JavaFX</i></a> to create a new project, for <a href=\"https://stackoverflow.com/a/73611827/230513\">example</a>; the guide shows how to modify a project&#39;s library properties; I&#39;d also recommend that you prototype your use-case, for <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+JFXPanel+JDialog\">example</a>, in a separate project."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691181113,"post_id":76837511,"comment_id":135462488,"body_markdown":"Make sure the _native_ JavaFX code for your platform is included. If you&#39;re using the JavaFX SDK, then that native code is in the `bin` directory. The JavaFX JARs from Maven Central embed the native code. And that warning is likely unrelated to the error; see https://stackoverflow.com/q/67854139/6395627.","body":"Make sure the <i>native</i> JavaFX code for your platform is included. If you&#39;re using the JavaFX SDK, then that native code is in the <code>bin</code> directory. The JavaFX JARs from Maven Central embed the native code. And that warning is likely unrelated to the error; see <a href=\"https://stackoverflow.com/q/67854139/6395627\">stackoverflow.com/q/67854139/6395627</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691187010,"post_id":76837511,"comment_id":135463246,"body_markdown":"See [integrating JavaFX 8 into swing applications](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm) on the code required to integrate JavaFX and Swing.  If using Java 8, you can follow the referenced guide exactly.  However, as you are using a modern Java version, you will have to do some things differently, as per comments.  [`javafx.swing`](https://openjfx.io/javadoc/20/javafx.swing/module-summary.html) is the module you need to add to your module path to use JavaFX with Swing.","body":"See <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\" rel=\"nofollow noreferrer\">integrating JavaFX 8 into swing applications</a> on the code required to integrate JavaFX and Swing.  If using Java 8, you can follow the referenced guide exactly.  However, as you are using a modern Java version, you will have to do some things differently, as per comments.  <a href=\"https://openjfx.io/javadoc/20/javafx.swing/module-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.swing</code></a> is the module you need to add to your module path to use JavaFX with Swing."}],"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1691164726,"creation_date":1691164726,"question_id":76837511,"body_markdown":"I&#39;ve got an extensive Java (JDK 20) Swing project in the NetBeans IDE that I&#39;d like to add JavaFX 20 to. Specifically I want to use a JFXPanel in a Swing JDialog form. \r\n\r\nI&#39;ve tried adding the JFX library jar files to my project library classpath, and the result appears to build OK. But when I run it, I get this error message:\r\n\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @36d4b5c&#39;\r\nGraphics Device initialization failed for :  es2, sw\r\n\r\nDoes anyone know how to do this correctly?\r\n","title":"How can I add JavaFX 20 to Existing NetBeans Swing Project?","body":"<p>I've got an extensive Java (JDK 20) Swing project in the NetBeans IDE that I'd like to add JavaFX 20 to. Specifically I want to use a JFXPanel in a Swing JDialog form.</p>\n<p>I've tried adding the JFX library jar files to my project library classpath, and the result appears to build OK. But when I run it, I get this error message:</p>\n<p>WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @36d4b5c'\nGraphics Device initialization failed for :  es2, sw</p>\n<p>Does anyone know how to do this correctly?</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":7,"creation_date":1443165668,"post_id":32776705,"comment_id":53392242,"body_markdown":"possible duplicate of [Get value from one Optional or another](http://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another\">Get value from one Optional or another</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1443168109,"post_id":32776705,"comment_id":53393451,"body_markdown":"... when confronted with the problem of null ... now we have two problems.","body":"... when confronted with the problem of null ... now we have two problems."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":6,"creation_date":1443182900,"post_id":32776705,"comment_id":53402019,"body_markdown":"Btw, Paul Sandoz just published a [changeset](http://cr.openjdk.java.net/~psandoz/jdk9/JDK-8080418-optional-or/webrev/src/java.base/share/classes/java/util/Optional.java.udiff.html) for review which introduces `Optional.or()` method, which does exactly what you want: `firstChoice().or(this::secondChoice)`. More info at [JDK-8080418](https://bugs.openjdk.java.net/browse/JDK-8080418). In Java-9 times we&#39;ll be happy!","body":"Btw, Paul Sandoz just published a <a href=\"http://cr.openjdk.java.net/~psandoz/jdk9/JDK-8080418-optional-or/webrev/src/java.base/share/classes/java/util/Optional.java.udiff.html\" rel=\"nofollow noreferrer\">changeset</a> for review which introduces <code>Optional.or()</code> method, which does exactly what you want: <code>firstChoice().or(this::secondChoice)</code>. More info at <a href=\"https://bugs.openjdk.java.net/browse/JDK-8080418\" rel=\"nofollow noreferrer\">JDK-8080418</a>. In Java-9 times we&#39;ll be happy!"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1443165658,"creation_date":1443165271,"answer_id":32776740,"question_id":32776705,"body_markdown":"You can simply replace that with,\r\n\r\n    Optional&lt;Foo&gt; firstChoice = firstChoice();\r\n    return firstChoice.isPresent()? firstChoice : secondChoice();\r\n\r\nThe above code won&#39;t call unless *firstChoice.isPresent()* is false.\r\n\r\nBut you have to be prepare to call both functions to get the desired output. There is no other way to escape the checking.\r\n\r\n - Best case is First choice returning true.\r\n - Worst case will be First choice returning false, hence another method\r\n   call for second choice.","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>You can simply replace that with,</p>\n\n<pre><code>Optional&lt;Foo&gt; firstChoice = firstChoice();\nreturn firstChoice.isPresent()? firstChoice : secondChoice();\n</code></pre>\n\n<p>The above code won't call unless <em>firstChoice.isPresent()</em> is false.</p>\n\n<p>But you have to be prepare to call both functions to get the desired output. There is no other way to escape the checking.</p>\n\n<ul>\n<li>Best case is First choice returning true.</li>\n<li>Worst case will be First choice returning false, hence another method\ncall for second choice.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":44,"creation_date":1464853496,"post_id":32776923,"comment_id":62656822,"body_markdown":"Note: Java 9 introduces the `Optional::or` method. This could therefore be written `firstChoice().or(this::secondChoice)` in Java 9.","body":"Note: Java 9 introduces the <code>Optional::or</code> method. This could therefore be written <code>firstChoice().or(this::secondChoice)</code> in Java 9."},{"owner":{"account_id":223452,"reputation":569,"user_id":482677,"display_name":"exception"},"score":0,"creation_date":1509747459,"post_id":32776923,"comment_id":81160803,"body_markdown":"This only works with Java8 if `this::secondChoice` returns a `Supplier` rather than `Optional` - the example from the OP does not.","body":"This only works with Java8 if <code>this::secondChoice</code> returns a <code>Supplier</code> rather than <code>Optional</code> - the example from the OP does not."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1509827697,"post_id":32776923,"comment_id":81180478,"body_markdown":"@exception `this::secondChoice` _is_ a `Supplier`. It is a method reference.","body":"@exception <code>this::secondChoice</code> <i>is</i> a <code>Supplier</code>. It is a method reference."},{"owner":{"account_id":223452,"reputation":569,"user_id":482677,"display_name":"exception"},"score":0,"creation_date":1509971100,"post_id":32776923,"comment_id":81223039,"body_markdown":"In the OP&#39;s example, that method returns Optional, which is not a Supplier - and I was pointing out that for Java8 it is different.","body":"In the OP&#39;s example, that method returns Optional, which is not a Supplier - and I was pointing out that for Java8 it is different."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1509976020,"post_id":32776923,"comment_id":81226052,"body_markdown":"@exception `secondChoice()` returns an `Optional`. `this::secondChoice` is a method reference of type `Supplier&lt;Optional&lt;Foo&gt;&gt;`. If you call the method reference, you get the `Optional`. The example in the answer works for Java 8 and onward.","body":"@exception <code>secondChoice()</code> returns an <code>Optional</code>. <code>this::secondChoice</code> is a method reference of type <code>Supplier&lt;Optional&lt;Foo&gt;&gt;</code>. If you call the method reference, you get the <code>Optional</code>. The example in the answer works for Java 8 and onward."},{"owner":{"account_id":223452,"reputation":569,"user_id":482677,"display_name":"exception"},"score":0,"creation_date":1510067871,"post_id":32776923,"comment_id":81272284,"body_markdown":"@martstran Argh, overlooked that detail. My bad.","body":"@martstran Argh, overlooked that detail. My bad."},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1697498413,"post_id":32776923,"comment_id":136284949,"body_markdown":"doesn&#39;t work with static methods","body":"doesn&#39;t work with static methods"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1697543254,"post_id":32776923,"comment_id":136290561,"body_markdown":"@caduceus It does. Just use `.orElseGet(MyClass::secondChoice);`","body":"@caduceus It does. Just use <code>.orElseGet(MyClass::secondChoice);</code>"}],"tags":[],"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"comment_count":8,"down_vote_count":3,"up_vote_count":56,"is_accepted":true,"score":53,"last_activity_date":1443182070,"creation_date":1443165953,"answer_id":32776923,"question_id":32776705,"body_markdown":"Try this:\r\n\r\n    firstChoice().map(Optional::of)\r\n                 .orElseGet(this::secondChoice);\r\n\r\nThe map method gives you an `Optional&lt;Optional&lt;Foo&gt;&gt;`. Then, the `orElseGet` method flattens this back to an `Optional&lt;Foo&gt;`. The `secondChoice` method will only be evaluated if `firstChoice()` returns the empty optional.","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Try this:</p>\n\n<pre><code>firstChoice().map(Optional::of)\n             .orElseGet(this::secondChoice);\n</code></pre>\n\n<p>The map method gives you an <code>Optional&lt;Optional&lt;Foo&gt;&gt;</code>. Then, the <code>orElseGet</code> method flattens this back to an <code>Optional&lt;Foo&gt;</code>. The <code>secondChoice</code> method will only be evaluated if <code>firstChoice()</code> returns the empty optional.</p>\n"},{"comments":[{"owner":{"account_id":1148555,"reputation":332,"user_id":1130780,"display_name":"Wesley Womack"},"score":0,"creation_date":1603375042,"post_id":32777357,"comment_id":114022267,"body_markdown":"Your last line of the three can be simplified to: `.orElse(null)));`","body":"Your last line of the three can be simplified to: <code>.orElse(null)));</code>"},{"owner":{"account_id":897557,"reputation":101,"user_id":934495,"accept_rate":0,"display_name":"jazzyekim"},"score":0,"creation_date":1617279177,"post_id":32777357,"comment_id":118263629,"body_markdown":"not sure if it is a good idea to return null in Optional since they were introduced to avoid using nulls. I would rather return  Optional.empty()","body":"not sure if it is a good idea to return null in Optional since they were introduced to avoid using nulls. I would rather return  Optional.empty()"}],"tags":[],"owner":{"account_id":4570795,"reputation":3159,"user_id":3710542,"accept_rate":50,"display_name":"Marthym"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1605789447,"creation_date":1443167602,"answer_id":32777357,"question_id":32776705,"body_markdown":"Maybe something like this:\r\n\r\n    Optional&lt;String&gt; finalChoice = Optional.ofNullable(firstChoice()\r\n        .orElseGet(() -&gt; secondChoice()\r\n        .orElseGet(() -&gt; null)));\r\n\r\nFrom: https://stackoverflow.com/questions/28514704/chaining-optionals-in-java-8","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Maybe something like this:</p>\n<pre><code>Optional&lt;String&gt; finalChoice = Optional.ofNullable(firstChoice()\n    .orElseGet(() -&gt; secondChoice()\n    .orElseGet(() -&gt; null)));\n</code></pre>\n<p>From: <a href=\"https://stackoverflow.com/questions/28514704/chaining-optionals-in-java-8\">Chaining Optionals in Java 8</a></p>\n"},{"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1443167975,"post_id":32777448,"comment_id":53393392,"body_markdown":"I find this a lot less understandable than the `if` solution in the question, btw.","body":"I find this a lot less understandable than the <code>if</code> solution in the question, btw."},{"owner":{"account_id":21918,"reputation":9785,"user_id":53658,"accept_rate":80,"display_name":"Denis Bazhenov"},"score":0,"creation_date":1443168195,"post_id":32777448,"comment_id":53393490,"body_markdown":"Well, I agree if the only thing you have is 2 `Optional`s. This is why I stated that this way works for _arbitrary number_ of `Optional`s.","body":"Well, I agree if the only thing you have is 2 <code>Optional</code>s. This is why I stated that this way works for <i>arbitrary number</i> of <code>Optional</code>s."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1443170139,"post_id":32777448,"comment_id":53394524,"body_markdown":"The problem of your solution is that it&#39;s not short-circuiting: you have to evaluate all the choices which is exactly what the OP tries to avoid. In OPs code `firstChoice()` and `secondChoice()` are actually methods and you cannot simply modify your solution to omit calling the second one if the first produced non-empty optional.","body":"The problem of your solution is that it&#39;s not short-circuiting: you have to evaluate all the choices which is exactly what the OP tries to avoid. In OPs code <code>firstChoice()</code> and <code>secondChoice()</code> are actually methods and you cannot simply modify your solution to omit calling the second one if the first produced non-empty optional."},{"owner":{"account_id":21918,"reputation":9785,"user_id":53658,"accept_rate":80,"display_name":"Denis Bazhenov"},"score":1,"creation_date":1443400493,"post_id":32777448,"comment_id":53464987,"body_markdown":"What do you mean? `findFirst()` defined as a short-circuting operation in documentation. You can easily check that `Optional.get()` and `Optional.isPresent()` methods called only once using debugger.","body":"What do you mean? <code>findFirst()</code> defined as a short-circuting operation in documentation. You can easily check that <code>Optional.get()</code> and <code>Optional.isPresent()</code> methods called only once using debugger."}],"tags":[],"owner":{"account_id":21918,"reputation":9785,"user_id":53658,"accept_rate":80,"display_name":"Denis Bazhenov"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443168361,"creation_date":1443167932,"answer_id":32777448,"question_id":32776705,"body_markdown":"Here is a way which works for arbitrary number of `Optional`&#39;s based in a stream API:\r\n\r\n    return Arrays.asList(firstChoice, secondChoice).stream()\r\n\t  .filter(Optional::isPresent)\r\n\t  .map(Optional::get)\r\n\t  .findFirst().orElse(null);\r\n\r\nIt&#39;s not the shortest one. But more plain and understandable.\r\n\r\nAnother way is to use `firstNonNull()` from Guava of commons-lang if you are already using one of those libraries:\r\n\r\n    firstNonNull(firstChoice.orElse(null), secondChoice.orElse(null));","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Here is a way which works for arbitrary number of <code>Optional</code>'s based in a stream API:</p>\n\n<pre><code>return Arrays.asList(firstChoice, secondChoice).stream()\n  .filter(Optional::isPresent)\n  .map(Optional::get)\n  .findFirst().orElse(null);\n</code></pre>\n\n<p>It's not the shortest one. But more plain and understandable.</p>\n\n<p>Another way is to use <code>firstNonNull()</code> from Guava of commons-lang if you are already using one of those libraries:</p>\n\n<pre><code>firstNonNull(firstChoice.orElse(null), secondChoice.orElse(null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443170844,"creation_date":1443170844,"answer_id":32778270,"question_id":32776705,"body_markdown":"Here&#39;s the generalization of @marstran solution for any number of optionals:\r\n\r\n\t@SafeVarargs\r\n\tpublic static &lt;T&gt; Optional&lt;T&gt; selectOptional(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\r\n\t\treturn Arrays.stream(optionals)\r\n\t\t\t\t.reduce((s1, s2) -&gt; () -&gt; s1.get().map(Optional::of).orElseGet(s2))\r\n\t\t\t\t.orElse(Optional::empty).get();\r\n\t}\r\n\r\nTest:\r\n\r\n\tpublic static Optional&lt;String&gt; first() {\r\n\t\tSystem.out.println(&quot;foo called&quot;);\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n\tpublic static Optional&lt;String&gt; second() {\r\n\t\tSystem.out.println(&quot;bar called&quot;);\r\n\t\treturn Optional.of(&quot;bar&quot;);\r\n\t}\r\n\t\r\n\tpublic static Optional&lt;String&gt; third() {\r\n\t\tSystem.out.println(&quot;baz called&quot;);\r\n\t\treturn Optional.of(&quot;baz&quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(selectOptional(() -&gt; first(), () -&gt; second(), () -&gt; third()));\r\n\t}\r\n\r\nOutput:\r\n\r\n    foo called\r\n    bar called\r\n    Optional[bar]\r\n","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Here's the generalization of @marstran solution for any number of optionals:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Optional&lt;T&gt; selectOptional(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\n    return Arrays.stream(optionals)\n            .reduce((s1, s2) -&gt; () -&gt; s1.get().map(Optional::of).orElseGet(s2))\n            .orElse(Optional::empty).get();\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>public static Optional&lt;String&gt; first() {\n    System.out.println(\"foo called\");\n    return Optional.empty();\n}\n\npublic static Optional&lt;String&gt; second() {\n    System.out.println(\"bar called\");\n    return Optional.of(\"bar\");\n}\n\npublic static Optional&lt;String&gt; third() {\n    System.out.println(\"baz called\");\n    return Optional.of(\"baz\");\n}\n\npublic static void main(String[] args) {\n    System.out.println(selectOptional(() -&gt; first(), () -&gt; second(), () -&gt; third()));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>foo called\nbar called\nOptional[bar]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441876,"reputation":6690,"user_id":832218,"accept_rate":82,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449512454,"creation_date":1449512454,"answer_id":34140495,"question_id":32776705,"body_markdown":"I was frustrated enough by the fact that this wasn&#39;t supported in java 8, that I switched back to guava&#39;s optionals which have [`or`][1]:\r\n\r\n    public abstract Optional&lt;T&gt; or(Optional&lt;? extends T&gt; secondChoice)\r\n\r\n&gt; Returns this Optional if it has a value present; secondChoice otherwise.\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Optional.html#or(com.google.common.base.Optional)","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>I was frustrated enough by the fact that this wasn't supported in java 8, that I switched back to guava's optionals which have <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Optional.html#or(com.google.common.base.Optional)\" rel=\"nofollow\"><code>or</code></a>:</p>\n\n<pre><code>public abstract Optional&lt;T&gt; or(Optional&lt;? extends T&gt; secondChoice)\n</code></pre>\n\n<blockquote>\n  <p>Returns this Optional if it has a value present; secondChoice otherwise.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8168956,"reputation":21,"user_id":6150173,"display_name":"Pepe-Soft"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459630007,"creation_date":1459630007,"answer_id":36378537,"question_id":32776705,"body_markdown":"Lazy computations and arbitrary number of &lt;code&gt;Optional&lt;/code&gt; elements\r\n&lt;!-- language: java --&gt;\r\n\r\n    Stream.&lt;Supplier&lt;Optional&lt;Foo&gt;&gt;&gt;of(\r\n            this::firstChoice,\r\n            this::secondChoice\r\n    ).map(\r\n            Supplier::get\r\n    ).filter(\r\n            Optional::isPresent\r\n    ).findFirst(\r\n    ).orElseGet(\r\n        Optional::empty\r\n    );","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Lazy computations and arbitrary number of <code>Optional</code> elements\n</p>\n\n<pre><code>Stream.&lt;Supplier&lt;Optional&lt;Foo&gt;&gt;&gt;of(\n        this::firstChoice,\n        this::secondChoice\n).map(\n        Supplier::get\n).filter(\n        Optional::isPresent\n).findFirst(\n).orElseGet(\n    Optional::empty\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1636564097,"post_id":69121410,"comment_id":123592686,"body_markdown":"This should be the accepted answer.","body":"This should be the accepted answer."}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1691164466,"creation_date":1631203275,"answer_id":69121410,"question_id":32776705,"body_markdown":"Java 9 added the [`Optional.or​(supplier)`](https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-) method for this sort of situation.\r\n\r\n```lang-java\r\nreturn firstChoice().or(this::secondChoice);\r\n```\r\n\r\nGiven methods `firstChoice()` and `secondChoice()` which each return `Optional&lt;Foo&gt;`, the above one-liner uses `Optional.or` to achieve the desired result.\r\n\r\nAs desired, this approach only computes `secondChoice` when `firstChoice` is empty.","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Java 9 added the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Optional.or​(supplier)</code></a> method for this sort of situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return firstChoice().or(this::secondChoice);\n</code></pre>\n<p>Given methods <code>firstChoice()</code> and <code>secondChoice()</code> which each return <code>Optional&lt;Foo&gt;</code>, the above one-liner uses <code>Optional.or</code> to achieve the desired result.</p>\n<p>As desired, this approach only computes <code>secondChoice</code> when <code>firstChoice</code> is empty.</p>\n"},{"tags":[],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678371321,"creation_date":1678371321,"answer_id":75685789,"question_id":32776705,"body_markdown":"with java 11 you can simply do `firstChoice().or(this::secondChoice)` ","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>with java 11 you can simply do <code>firstChoice().or(this::secondChoice)</code></p>\n"}],"owner":{"account_id":6855900,"reputation":1271,"user_id":5271460,"accept_rate":43,"display_name":"Sebastian Oberhoff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34887,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":32776923,"answer_count":9,"score":49,"last_activity_date":1691164466,"creation_date":1443165111,"question_id":32776705,"body_markdown":"Here&#39;s what I&#39;ve got so far:\r\n\r\n    Optional&lt;Foo&gt; firstChoice = firstChoice();\r\n    Optional&lt;Foo&gt; secondChoice = secondChoice();\r\n    return Optional.ofNullable(firstChoice.orElse(secondChoice.orElse(null)));\r\n\r\nThis strikes me as both hideous and wasteful. If firstChoice is present I am needlessly computing secondChoice.\r\n\r\nThere&#39;s also a more efficient version:\r\n\r\n    Optional&lt;Foo&gt; firstChoice = firstChoice();\r\n    if(firstChoice.isPresent()) {\r\n     return firstChoice;\r\n    } else {\r\n     return secondChoice();\r\n    }\r\nHere I can&#39;t chain some mapping function to the end without either duplicating the mapper or declaring another local variable. All of this makes the code more complicated than the actual problem being solved.\r\n\r\n I&#39;d much rather be writing this:\r\n\r\n    return firstChoice().alternatively(secondChoice());\r\n\r\nHowever Optional::alternatively obviously doesn&#39;t exist. Now what?","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Here's what I've got so far:</p>\n\n<pre><code>Optional&lt;Foo&gt; firstChoice = firstChoice();\nOptional&lt;Foo&gt; secondChoice = secondChoice();\nreturn Optional.ofNullable(firstChoice.orElse(secondChoice.orElse(null)));\n</code></pre>\n\n<p>This strikes me as both hideous and wasteful. If firstChoice is present I am needlessly computing secondChoice.</p>\n\n<p>There's also a more efficient version:</p>\n\n<pre><code>Optional&lt;Foo&gt; firstChoice = firstChoice();\nif(firstChoice.isPresent()) {\n return firstChoice;\n} else {\n return secondChoice();\n}\n</code></pre>\n\n<p>Here I can't chain some mapping function to the end without either duplicating the mapper or declaring another local variable. All of this makes the code more complicated than the actual problem being solved.</p>\n\n<p>I'd much rather be writing this:</p>\n\n<pre><code>return firstChoice().alternatively(secondChoice());\n</code></pre>\n\n<p>However Optional::alternatively obviously doesn't exist. Now what?</p>\n"},{"tags":["javascript","java","html","web","download"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1690910778,"post_id":76808387,"comment_id":135417850,"body_markdown":"Could it be same as https://stackoverflow.com/a/70595312/2889165 Did you google the error message?","body":"Could it be same as <a href=\"https://stackoverflow.com/a/70595312/2889165\">stackoverflow.com/a/70595312/2889165</a> Did you google the error message?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1691163803,"post_id":76808387,"comment_id":135459459,"body_markdown":"What do you mean by *&quot;detect me&quot;*? Can you elaborate?","body":"What do you mean by <i>&quot;detect me&quot;</i>? Can you elaborate?"}],"owner":{"account_id":29133141,"reputation":1,"user_id":22317918,"display_name":"Ale2006"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691163738,"creation_date":1690861930,"question_id":76808387,"body_markdown":"Why doesn&#39;t the download detect me?\r\n\r\n    &lt;a href=&quot;./imagenes/imagen.jpg&quot; download&gt;Click here&lt;/a&gt;\r\n\r\nI get this:\r\n\r\n&gt; crbug/1173575, non-JS module files deprecated.\r\n&gt; (anonymous) @ VM10:5\r\n\r\nI tried to put a double full stop, &quot;..&quot;, and only the image opens. After I left it without full stops, I got the same error. I already checked that it was the correct folder and the correct name.\r\n","title":"I&#39;m having trouble telling the HTML program to download an image","body":"<p>Why doesn't the download detect me?</p>\n<pre><code>&lt;a href=&quot;./imagenes/imagen.jpg&quot; download&gt;Click here&lt;/a&gt;\n</code></pre>\n<p>I get this:</p>\n<blockquote>\n<p>crbug/1173575, non-JS module files deprecated.\n(anonymous) @ VM10:5</p>\n</blockquote>\n<p>I tried to put a double full stop, &quot;..&quot;, and only the image opens. After I left it without full stops, I got the same error. I already checked that it was the correct folder and the correct name.</p>\n"},{"tags":["java","data-structures","trie"],"answers":[{"comments":[{"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"score":0,"creation_date":1441703299,"post_id":32453483,"comment_id":52769588,"body_markdown":"I am guessing the existing solution is O(n). I am iterating over the array of string only once. It is O(n) in the worst case because the moment I find a prefix in another, it output the message and return.","body":"I am guessing the existing solution is O(n). I am iterating over the array of string only once. It is O(n) in the worst case because the moment I find a prefix in another, it output the message and return."},{"owner":{"account_id":6100029,"reputation":3810,"user_id":4759361,"accept_rate":80,"display_name":"xrisk"},"score":1,"creation_date":1441704273,"post_id":32453483,"comment_id":52770161,"body_markdown":"This does not have a linear time complexity, `startsWith()` is not a constant time operation.","body":"This does not have a linear time complexity, <code>startsWith()</code> is not a constant time operation."},{"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"score":3,"creation_date":1441704290,"post_id":32453483,"comment_id":52770168,"body_markdown":"By sorting the list we will alter the order of the elements. The output should be the first element which has prefix from the list of strings we have processed till now. Please check the **Sample Input01** on the problem page.","body":"By sorting the list we will alter the order of the elements. The output should be the first element which has prefix from the list of strings we have processed till now. Please check the <b>Sample Input01</b> on the problem page."},{"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"score":0,"creation_date":1441704577,"post_id":32453483,"comment_id":52770351,"body_markdown":"@abhishekbafna - As your original input is a set, so ordering doesn&#39;t matter. But ordering will make our prefix comparisons much faster as we need to compare with only the next item.","body":"@abhishekbafna - As your original input is a set, so ordering doesn&#39;t matter. But ordering will make our prefix comparisons much faster as we need to compare with only the next item."},{"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"score":1,"creation_date":1441704931,"post_id":32453483,"comment_id":52770567,"body_markdown":"@RamanShrivastava I have updated the problem with one more example. Please check.","body":"@RamanShrivastava I have updated the problem with one more example. Please check."}],"tags":[],"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441857837,"creation_date":1441702819,"answer_id":32453483,"question_id":32453279,"body_markdown":"Make it Simple - \r\n\r\n 1. Make a sorted list from given set.\r\n 2. Iterate over this list, for each element in list just check if the next element `startsWith()` this element. If yes return BAD SET.\r\n 3. Return GOOD SET if step 2 never returns BAD SET.\r\n\r\ncomplexity -&gt; O(n * log n) due to sorting.","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>Make it Simple - </p>\n\n<ol>\n<li>Make a sorted list from given set.</li>\n<li>Iterate over this list, for each element in list just check if the next element <code>startsWith()</code> this element. If yes return BAD SET.</li>\n<li>Return GOOD SET if step 2 never returns BAD SET.</li>\n</ol>\n\n<p>complexity -> O(n * log n) due to sorting.</p>\n"},{"tags":[],"owner":{"account_id":463802,"reputation":51639,"user_id":866915,"accept_rate":70,"display_name":"ErikR"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1441860493,"creation_date":1441860493,"answer_id":32493358,"question_id":32453279,"body_markdown":"The problem is that you are only checking if the current word contains a previous word as a prefix.\r\n\r\nYou also have to check if the current word is a prefix of an existing word already in the Trie.\r\n\r\n","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>The problem is that you are only checking if the current word contains a previous word as a prefix.</p>\n\n<p>You also have to check if the current word is a prefix of an existing word already in the Trie.</p>\n"},{"comments":[{"owner":{"account_id":372647,"reputation":2159,"user_id":721809,"accept_rate":100,"display_name":"Matej Kormuth"},"score":1,"creation_date":1648852789,"post_id":71713177,"comment_id":126737504,"body_markdown":"Please do not just paste code without explanation.","body":"Please do not just paste code without explanation."},{"owner":{"account_id":12677725,"reputation":919,"user_id":9212745,"display_name":"rdxdkr"},"score":0,"creation_date":1657408719,"post_id":71713177,"comment_id":128803775,"body_markdown":"Doesn&#39;t work for all test cases.","body":"Doesn&#39;t work for all test cases."}],"tags":[],"owner":{"account_id":24789261,"reputation":1,"user_id":18672329,"display_name":"benjamin chhatria"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648850709,"creation_date":1648850709,"answer_id":71713177,"question_id":32453279,"body_markdown":"    public static void noPrefix(List&lt;String&gt; words) {\r\n    // here is the solution which worked for me in hackerrank. let me know if any \r\n    // better suggestion\r\n       HashSet&lt;String&gt; hashSet=new LinkedHashSet&lt;String&gt;();\r\n        for (String curr : words) {\r\n            if(hashSet.size()&gt;1){\r\n            for (String value : hashSet) {\r\n              if(!curr.equalsIgnoreCase(value) \r\n              &amp;&amp;  curr.startsWith(value)){\r\n                  System.out.println(&quot;BAD SET&quot;);\r\n                  System.out.println(curr);\r\n                return;\r\n              }\r\n            }\r\n            }\r\n            hashSet.add(curr);\r\n        }\r\n        System.out.println(&quot;GOOD SET&quot;);\r\n    }","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<pre><code>public static void noPrefix(List&lt;String&gt; words) {\n// here is the solution which worked for me in hackerrank. let me know if any \n// better suggestion\n   HashSet&lt;String&gt; hashSet=new LinkedHashSet&lt;String&gt;();\n    for (String curr : words) {\n        if(hashSet.size()&gt;1){\n        for (String value : hashSet) {\n          if(!curr.equalsIgnoreCase(value) \n          &amp;&amp;  curr.startsWith(value)){\n              System.out.println(&quot;BAD SET&quot;);\n              System.out.println(curr);\n            return;\n          }\n        }\n        }\n        hashSet.add(curr);\n    }\n    System.out.println(&quot;GOOD SET&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16793307,"reputation":11,"user_id":12140341,"display_name":"David Ott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675141089,"creation_date":1675140830,"answer_id":75292837,"question_id":32453279,"body_markdown":"Python solution here.\r\n\r\nI essentially created a tree where each node has 10 branches for each letter a through j. I iterate through each word given character by character to construct the tree. When I am constructing a branch for a word, if I run into a node marked &#39;isComplete,&#39; then I know that this word has a prefix. If I reach the end of a word and the branch I am on continues beyond, then I know this word is a prefix for another word and I return the word.\r\n\r\n```\r\nclass Tree:\r\n    def __init__(self, words):\r\n        self.words = words\r\n        self.root = Node(None)\r\n        self.checkForPrefix()\r\n        \r\n        \r\n    def checkForPrefix(self):\r\n        for word in words:\r\n            answer = self.insert(word)\r\n\r\n            if answer is not None:\r\n                print(&quot;BAD SET&quot;)\r\n                print(answer)\r\n                return\r\n    \r\n        print(&quot;GOOD SET&quot;)\r\n        \r\n\r\n    def insert(self, word):\r\n        current = self.root\r\n        \r\n        for i in range(len(word)):\r\n            c = word[i]\r\n            \r\n            if current.branches[self.indexOf(c)] != None and i == len(word) - 1:\r\n                return word\r\n            \r\n            if current.branches[self.indexOf(c)] == None:\r\n                current.branches[self.indexOf(c)] = Node(c)\r\n            \r\n            if current.branches[self.indexOf(c)].isComplete:\r\n                return word\r\n            \r\n            if i == len(word) - 1:\r\n                current.branches[self.indexOf(c)].isComplete = True\r\n                \r\n            current = current.branches[self.indexOf(c)]\r\n\r\n        return None\r\n\r\n    def indexOf(self, c):\r\n        return ord(c) - 97\r\n             \r\nclass Node:\r\n    def __init__(self, value):\r\n        self.value = value\r\n        self.isComplete = False\r\n        self.branches = [None] * (ord(&quot;j&quot;) - ord(&quot;a&quot;) + 1)    \r\n\r\ndef noPrefix(words):\r\n    # Write your code here\r\n    root = Tree(words)\r\n```","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>Python solution here.</p>\n<p>I essentially created a tree where each node has 10 branches for each letter a through j. I iterate through each word given character by character to construct the tree. When I am constructing a branch for a word, if I run into a node marked 'isComplete,' then I know that this word has a prefix. If I reach the end of a word and the branch I am on continues beyond, then I know this word is a prefix for another word and I return the word.</p>\n<pre><code>class Tree:\n    def __init__(self, words):\n        self.words = words\n        self.root = Node(None)\n        self.checkForPrefix()\n        \n        \n    def checkForPrefix(self):\n        for word in words:\n            answer = self.insert(word)\n\n            if answer is not None:\n                print(&quot;BAD SET&quot;)\n                print(answer)\n                return\n    \n        print(&quot;GOOD SET&quot;)\n        \n\n    def insert(self, word):\n        current = self.root\n        \n        for i in range(len(word)):\n            c = word[i]\n            \n            if current.branches[self.indexOf(c)] != None and i == len(word) - 1:\n                return word\n            \n            if current.branches[self.indexOf(c)] == None:\n                current.branches[self.indexOf(c)] = Node(c)\n            \n            if current.branches[self.indexOf(c)].isComplete:\n                return word\n            \n            if i == len(word) - 1:\n                current.branches[self.indexOf(c)].isComplete = True\n                \n            current = current.branches[self.indexOf(c)]\n\n        return None\n\n    def indexOf(self, c):\n        return ord(c) - 97\n             \nclass Node:\n    def __init__(self, value):\n        self.value = value\n        self.isComplete = False\n        self.branches = [None] * (ord(&quot;j&quot;) - ord(&quot;a&quot;) + 1)    \n\ndef noPrefix(words):\n    # Write your code here\n    root = Tree(words)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21002536,"reputation":29,"user_id":15433036,"display_name":"Hayk Mkrtchyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691163161,"creation_date":1691152898,"answer_id":76836015,"question_id":32453279,"body_markdown":"**Idea with Trie is good, only you need to define custom trie for this particular problem**\r\n\r\n```\r\nclass Result {\r\n\r\n    public static void noPrefix(final List&lt;String&gt; words) {\r\n        final String prefix = anyElemAsPrefix(words).orElse(null);\r\n        if (prefix != null) {\r\n            System.out.println(&quot;BAD SET&quot;);\r\n            System.out.println(prefix);\r\n        } else {\r\n            System.out.println(&quot;GOOD SET&quot;);\r\n        }\r\n    }\r\n\r\n    private static Optional&lt;String&gt; anyElemAsPrefix(final List&lt;String&gt; words) {\r\n        final PrefixCheckTrie prefixCheckTrie = new PrefixCheckTrie();\r\n        for (final String word : words) {\r\n            if (prefixCheckTrie.hasAnyKeyWithPrefix(word)) {\r\n                return Optional.of(word);\r\n            }\r\n            prefixCheckTrie.add(word);\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n    private static final class PrefixCheckTrie {\r\n        private static final int r = 256;\r\n        private Node root;\r\n\r\n        public boolean hasAnyKeyWithPrefix(String prefix) {\r\n            return matchedSymbols(root, prefix, 0, new StringBuilder()).length() &gt; 0;\r\n        }\r\n\r\n        private StringBuilder matchedSymbols(final Node x, final String key, final int d, final StringBuilder matchedCharacters) {\r\n            if (x == null) return matchedCharacters;\r\n            if (d == key.length()) return matchedCharacters;\r\n            char c = key.charAt(d);\r\n            if (x.next[c] == null) {\r\n                return x.isWord ? matchedCharacters : new StringBuilder();\r\n            }\r\n            return matchedSymbols(x.next[c], key, d + 1, matchedCharacters.append(c));\r\n        }\r\n\r\n        public void add(final String key) {\r\n            if (key == null) {\r\n                throw new IllegalArgumentException(&quot;argument to add() is null&quot;);\r\n            }\r\n            root = add(root, key, 0);\r\n        }\r\n\r\n        private Node add(Node x, String key, int d) {\r\n            if (x == null) x = new Node(r);\r\n            if (d == key.length()) {\r\n                x.isWord = true;\r\n            } else {\r\n                char c = key.charAt(d);\r\n                x.next[c] = add(x.next[c], key, d + 1);\r\n            }\r\n            return x;\r\n        }\r\n\r\n        private static class Node {\r\n            private final Node[] next;\r\n            private boolean isWord;\r\n\r\n            public Node(final int r) {\r\n                this.next = new Node[r];\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p><strong>Idea with Trie is good, only you need to define custom trie for this particular problem</strong></p>\n<pre><code>class Result {\n\n    public static void noPrefix(final List&lt;String&gt; words) {\n        final String prefix = anyElemAsPrefix(words).orElse(null);\n        if (prefix != null) {\n            System.out.println(&quot;BAD SET&quot;);\n            System.out.println(prefix);\n        } else {\n            System.out.println(&quot;GOOD SET&quot;);\n        }\n    }\n\n    private static Optional&lt;String&gt; anyElemAsPrefix(final List&lt;String&gt; words) {\n        final PrefixCheckTrie prefixCheckTrie = new PrefixCheckTrie();\n        for (final String word : words) {\n            if (prefixCheckTrie.hasAnyKeyWithPrefix(word)) {\n                return Optional.of(word);\n            }\n            prefixCheckTrie.add(word);\n        }\n        return Optional.empty();\n    }\n\n    private static final class PrefixCheckTrie {\n        private static final int r = 256;\n        private Node root;\n\n        public boolean hasAnyKeyWithPrefix(String prefix) {\n            return matchedSymbols(root, prefix, 0, new StringBuilder()).length() &gt; 0;\n        }\n\n        private StringBuilder matchedSymbols(final Node x, final String key, final int d, final StringBuilder matchedCharacters) {\n            if (x == null) return matchedCharacters;\n            if (d == key.length()) return matchedCharacters;\n            char c = key.charAt(d);\n            if (x.next[c] == null) {\n                return x.isWord ? matchedCharacters : new StringBuilder();\n            }\n            return matchedSymbols(x.next[c], key, d + 1, matchedCharacters.append(c));\n        }\n\n        public void add(final String key) {\n            if (key == null) {\n                throw new IllegalArgumentException(&quot;argument to add() is null&quot;);\n            }\n            root = add(root, key, 0);\n        }\n\n        private Node add(Node x, String key, int d) {\n            if (x == null) x = new Node(r);\n            if (d == key.length()) {\n                x.isWord = true;\n            } else {\n                char c = key.charAt(d);\n                x.next[c] = add(x.next[c], key, d + 1);\n            }\n            return x;\n        }\n\n        private static class Node {\n            private final Node[] next;\n            private boolean isWord;\n\n            public Node(final int r) {\n                this.next = new Node[r];\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5606,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"accepted_answer_id":32493358,"answer_count":5,"score":-3,"last_activity_date":1691163161,"creation_date":1441702231,"question_id":32453279,"body_markdown":"I was trying to solve [No Prefix Set](https://www.hackerrank.com/challenges/no-prefix-set) problem on HackerRank. My Solution is passing for only half of the test-cases. I am not getting what I am missing here.\r\n\r\n**Problem Statement:** Given N strings. Each string contains only lowercase letters from `a−j` (both inclusive). The set of N strings is said to be **GOOD SET** if no string is prefix of another string else, it is **BAD SET**. \r\n\r\n**For example:**, `aab`, `abcde`, `aabcd` is **BAD SET** because `aab` is prefix of `aabcd`.\r\n \r\nHere is logic I have implemented.\r\n&lt;!-- language: java --&gt;\r\n\r\n    class Trie {\r\n      Trie next[] = new Trie[10];\r\n      boolean end[] = new boolean[10];\r\n    }\r\n\r\n    private static void goodOrBad(String[] array, Trie start) {\r\n      for (String string : array) {\r\n        Trie current = start;\r\n        Trie previous = start;\r\n        int index = 0;\r\n        char strArray[] = string.toCharArray();\r\n        for (char c : strArray) {\r\n          index = c-&#39;a&#39;;\r\n          if (current.end[index]) {\r\n            System.out.println(&quot;BAD SET&quot;);\r\n            System.out.println(string);\r\n            return;\r\n          }\r\n          if (current.next[index] == null) {\r\n            Trie newTrie = new Trie();\r\n            current.next[index] = newTrie;\r\n            previous = current;\r\n            current = newTrie;\r\n          }\r\n          else {\r\n            previous = current;\r\n            current = current.next[index];\r\n          }\r\n        }\r\n        previous.end[index] = true;\r\n      }\r\n      System.out.println(&quot;GOOD SET&quot;);\r\n    }\r\n\r\n---\r\n**Input :**  \r\nFirst line contains N, the number of strings in the set.  \r\nThen next N lines follow, where ith line contains ith string. \r\n\r\n**Output :**  \r\nOutput **GOOD SET** if the set is valid.  \r\nElse, output **BAD SET** followed by the *`first string`* for which the condition fails.\r\n\r\n**Example:**  \r\n4  \r\naab  \r\naac  \r\naacghgh  \r\naabghgh  \r\n\r\n**Ouput:**  \r\nBAD SET  \r\naacghgh\r\n","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>I was trying to solve <a href=\"https://www.hackerrank.com/challenges/no-prefix-set\" rel=\"nofollow\">No Prefix Set</a> problem on HackerRank. My Solution is passing for only half of the test-cases. I am not getting what I am missing here.</p>\n\n<p><strong>Problem Statement:</strong> Given N strings. Each string contains only lowercase letters from <code>a−j</code> (both inclusive). The set of N strings is said to be <strong>GOOD SET</strong> if no string is prefix of another string else, it is <strong>BAD SET</strong>. </p>\n\n<p><strong>For example:</strong>, <code>aab</code>, <code>abcde</code>, <code>aabcd</code> is <strong>BAD SET</strong> because <code>aab</code> is prefix of <code>aabcd</code>.</p>\n\n<p>Here is logic I have implemented.\n</p>\n\n<pre><code>class Trie {\n  Trie next[] = new Trie[10];\n  boolean end[] = new boolean[10];\n}\n\nprivate static void goodOrBad(String[] array, Trie start) {\n  for (String string : array) {\n    Trie current = start;\n    Trie previous = start;\n    int index = 0;\n    char strArray[] = string.toCharArray();\n    for (char c : strArray) {\n      index = c-'a';\n      if (current.end[index]) {\n        System.out.println(\"BAD SET\");\n        System.out.println(string);\n        return;\n      }\n      if (current.next[index] == null) {\n        Trie newTrie = new Trie();\n        current.next[index] = newTrie;\n        previous = current;\n        current = newTrie;\n      }\n      else {\n        previous = current;\n        current = current.next[index];\n      }\n    }\n    previous.end[index] = true;\n  }\n  System.out.println(\"GOOD SET\");\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Input :</strong><br>\nFirst line contains N, the number of strings in the set.<br>\nThen next N lines follow, where ith line contains ith string. </p>\n\n<p><strong>Output :</strong><br>\nOutput <strong>GOOD SET</strong> if the set is valid.<br>\nElse, output <strong>BAD SET</strong> followed by the <em><code>first string</code></em> for which the condition fails.</p>\n\n<p><strong>Example:</strong><br>\n4<br>\naab<br>\naac<br>\naacghgh<br>\naabghgh  </p>\n\n<p><strong>Ouput:</strong><br>\nBAD SET<br>\naacghgh</p>\n"},{"tags":["java","spring","http","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691130409,"post_id":76831213,"comment_id":135452733,"body_markdown":"Show your dependencies and tell which Spring Boot / Spring Security version you are using.","body":"Show your dependencies and tell which Spring Boot / Spring Security version you are using."},{"owner":{"account_id":29155128,"reputation":1,"user_id":22335093,"display_name":"HexVex"},"score":0,"creation_date":1691162976,"post_id":76831213,"comment_id":135459287,"body_markdown":"Done. I am unsure if its okay for me to use the latest versions of spring security with previous versions of java/spring boot.","body":"Done. I am unsure if its okay for me to use the latest versions of spring security with previous versions of java/spring boot."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691994526,"post_id":76831213,"comment_id":135560485,"body_markdown":"You are mixing Spring Boot versions (2.2.x and lATEST) that isn&#39;t going to work. You need to use the same version. Using the latest Spring Security version with Spring Boot 2.2. will not work. Simply due to the fact that it requires Spring 6, whereas Spring Boot 2.2. is still on Spring 5.x).","body":"You are mixing Spring Boot versions (2.2.x and lATEST) that isn&#39;t going to work. You need to use the same version. Using the latest Spring Security version with Spring Boot 2.2. will not work. Simply due to the fact that it requires Spring 6, whereas Spring Boot 2.2. is still on Spring 5.x)."}],"owner":{"account_id":29155128,"reputation":1,"user_id":22335093,"display_name":"HexVex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691162787,"creation_date":1691092008,"question_id":76831213,"body_markdown":"I&#39;m trying to implement a spring security configuration class in order to further use jwt for validation. However, when doing basic configurations I stumbled upon this issue, where the HttpSecurity bean I&#39;m using as a parameter for a SecurityFilterChain is not recognized, thus resulting in an error when my container is running. \r\n\r\n\r\nI already tried using the WebSecurityConfigurerAdapter even though its supposed to be deprecated. I have also tried the default usage provided in spring documentation.I also tried to declare it manually since I had the same issue with AuthenticationManager but with a latter declaration this was fixed. That being the case, could it be possible to manually declare httpSecurity? This is my code(I am using IntellijIDEA): \r\n```\r\npackage com.company.project.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCrypt;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http(THIS IS WHERE THE BEAN IS NOT FOUND), AuthenticationManager authManager) throws Exception{\r\n    return http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .httpBasic()\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .build();\r\n    }\r\n```\r\nThis is my pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;New App&lt;/name&gt;\r\n    &lt;description&gt;My new SpringBoot app&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;LATEST&lt;/version&gt;&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Error: Could not autowire. No beans of type &#39;httpSecurity&#39; found","body":"<p>I'm trying to implement a spring security configuration class in order to further use jwt for validation. However, when doing basic configurations I stumbled upon this issue, where the HttpSecurity bean I'm using as a parameter for a SecurityFilterChain is not recognized, thus resulting in an error when my container is running.</p>\n<p>I already tried using the WebSecurityConfigurerAdapter even though its supposed to be deprecated. I have also tried the default usage provided in spring documentation.I also tried to declare it manually since I had the same issue with AuthenticationManager but with a latter declaration this was fixed. That being the case, could it be possible to manually declare httpSecurity? This is my code(I am using IntellijIDEA):</p>\n<pre><code>package com.company.project.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCrypt;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http(THIS IS WHERE THE BEAN IS NOT FOUND), AuthenticationManager authManager) throws Exception{\n    return http\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .httpBasic()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .build();\n    }\n</code></pre>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;New App&lt;/name&gt;\n    &lt;description&gt;My new SpringBoot app&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;LATEST&lt;/version&gt;&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1691151607,"post_id":76835803,"comment_id":135456569,"body_markdown":"Either the path to the executable is wrong or the image you use just does not have maven installed.","body":"Either the path to the executable is wrong or the image you use just does not have maven installed."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691151824,"post_id":76835803,"comment_id":135456610,"body_markdown":"You might want to try giving yourself the permission to access the file with `chmod`. Aside from that, I am unsure about `COPY . .`. Try using the full target path instead, e.g. `COPY . /app` (assuming the `WORKDIR` is set to `/app`). If you&#39;re installing Maven via `apt-get`, you&#39;d need to use `mvn` and not `./mvnw`.","body":"You might want to try giving yourself the permission to access the file with <code>chmod</code>. Aside from that, I am unsure about <code>COPY . .</code>. Try using the full target path instead, e.g. <code>COPY . &#47;app</code> (assuming the <code>WORKDIR</code> is set to <code>&#47;app</code>). If you&#39;re installing Maven via <code>apt-get</code>, you&#39;d need to use <code>mvn</code> and not <code>.&#47;mvnw</code>."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691154232,"post_id":76835803,"comment_id":135457119,"body_markdown":"@dan1st tried using chmod to give permission but gives mvnw does not exist. I used CMD [&quot;ls&quot;, &quot;-l&quot;] to list all files and i can see mvnw\n```\n-rwxr-xr-x 1 root root   70 Aug  4 13:01 Dockerfile\n-rwxr-xr-x 1 root root  259 Aug  3 19:09 README.md\n-rwxr-xr-x 1 root root 9399 Aug  3 19:09 mvnw\n-rwxr-xr-x 1 root root 5971 Aug  3 19:09 mvnw.cmd\n-rwxr-xr-x 1 root root 1834 Aug  3 19:09 pom.xml\ndrwxr-xr-x 4 root root 4096 Aug  4 07:24 src\n```","body":"@dan1st tried using chmod to give permission but gives mvnw does not exist. I used CMD [&quot;ls&quot;, &quot;-l&quot;] to list all files and i can see mvnw ``` -rwxr-xr-x 1 root root   70 Aug  4 13:01 Dockerfile -rwxr-xr-x 1 root root  259 Aug  3 19:09 README.md -rwxr-xr-x 1 root root 9399 Aug  3 19:09 mvnw -rwxr-xr-x 1 root root 5971 Aug  3 19:09 mvnw.cmd -rwxr-xr-x 1 root root 1834 Aug  3 19:09 pom.xml drwxr-xr-x 4 root root 4096 Aug  4 07:24 src ```"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691154980,"post_id":76835803,"comment_id":135457288,"body_markdown":"could you just package the jar from your IDE and copy it to your docker image when building instead?","body":"could you just package the jar from your IDE and copy it to your docker image when building instead?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1691155704,"post_id":76835803,"comment_id":135457485,"body_markdown":"Can you try changing `COPY . .` to `COPY . /app` and add `WORKDIR /app` right after the `COPY` command?","body":"Can you try changing <code>COPY . .</code> to <code>COPY . &#47;app</code> and add <code>WORKDIR &#47;app</code> right after the <code>COPY</code> command?"},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691157805,"post_id":76835803,"comment_id":135458017,"body_markdown":"@dan1st tried that but not able to run mvnw command to build the jar, it has to be run from a bash env and I dont know how to do it.","body":"@dan1st tried that but not able to run mvnw command to build the jar, it has to be run from a bash env and I dont know how to do it."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691158538,"post_id":76835803,"comment_id":135458193,"body_markdown":"@experimentunit1998X i want to build the jar inside the container and then run it. Issue is i am not able to use mvnw package command","body":"@experimentunit1998X i want to build the jar inside the container and then run it. Issue is i am not able to use mvnw package command"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691158589,"post_id":76835803,"comment_id":135458205,"body_markdown":"What makes you think you&#39;d need to run it from a bash env?","body":"What makes you think you&#39;d need to run it from a bash env?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691159252,"post_id":76835803,"comment_id":135458375,"body_markdown":"If you really insist on doing that, then you can just use a docker image provided by maven to build your jar inside the docker image. See [here](https://gauthier-cassany.com/posts/build-jar-inside-docker) and the relevant [docker image](https://hub.docker.com/layers/library/maven/3.6.3-jdk-8/images/sha256-09c4bf58d7e7e31bdc1ab73ef10349b3a47c9a814e715e409034fb3293253ce2) from maven","body":"If you really insist on doing that, then you can just use a docker image provided by maven to build your jar inside the docker image. See <a href=\"https://gauthier-cassany.com/posts/build-jar-inside-docker\" rel=\"nofollow noreferrer\">here</a> and the relevant <a href=\"https://hub.docker.com/layers/library/maven/3.6.3-jdk-8/images/sha256-09c4bf58d7e7e31bdc1ab73ef10349b3a47c9a814e715e409034fb3293253ce2\" rel=\"nofollow noreferrer\">docker image</a> from maven"},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691160312,"post_id":76835803,"comment_id":135458666,"body_markdown":"@dan1st I ran the command `./mvnw package` from my local git bash it created the jar file.","body":"@dan1st I ran the command <code>.&#47;mvnw package</code> from my local git bash it created the jar file."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691160598,"post_id":76835803,"comment_id":135458738,"body_markdown":"@experimentunit1998X Using maven:3.6.3-jdk-8 works fine. Thanks. But I have to build the jar with this command &quot;./mvnw package&quot;.","body":"@experimentunit1998X Using maven:3.6.3-jdk-8 works fine. Thanks. But I have to build the jar with this command &quot;./mvnw package&quot;."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691160868,"post_id":76835803,"comment_id":135458806,"body_markdown":"@experimentunit1998X that was a mistake, i ran both ways just to see","body":"@experimentunit1998X that was a mistake, i ran both ways just to see"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691161318,"post_id":76835803,"comment_id":135458907,"body_markdown":"could take a look at this? https://stackoverflow.com/a/59214879/16034206","body":"could take a look at this? <a href=\"https://stackoverflow.com/a/59214879/16034206\">stackoverflow.com/a/59214879/16034206</a>"},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691162370,"post_id":76835803,"comment_id":135459132,"body_markdown":"@experimentunit1998X yes it worked, thank you so much. I had to include this ``RUN sed -i &#39;s/\\r//&#39; mvnw`` before running mvnw command","body":"@experimentunit1998X yes it worked, thank you so much. I had to include this <code>RUN sed -i &#39;s&#47;\\r&#47;&#47;&#39; mvnw</code> before running mvnw command"}],"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691234065,"answer_count":0,"score":0,"last_activity_date":1691162535,"creation_date":1691151385,"question_id":76835803,"body_markdown":"I am new to Docker and i want to build my jar file in a container using \r\ncommand `mvnw package` but i am getting\r\nthis error.\r\n``ERROR [3/3] RUN ./mvnw package                                                                                 0.5s ------ &gt; [3/3] RUN ./mvnw package: #7 0.448 /bin/sh: 1: ./mvnw: not found ------ executor failed running [/bin/sh -c ./mvnw package]: exit code: 127``\r\n\r\nI have java version 8 installed from OpenJDK image.\r\n\r\nThis is my Dockerfile\r\n\r\n```\r\nFROM openjdk:8\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCOPY . .\r\n\r\nRUN ./mvnw package\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\r\n```\r\n\r\nand my directory is [Directory Structure](https://i.stack.imgur.com/k7yof.png)\r\n\r\nUsing maven image it works as expected\r\n\r\n```\r\nFROM maven:3.6.3-jdk-8\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCOPY . .\r\n\r\nRUN mvn clean package\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\r\n```\r\n\r\n\r\nSOLUTION : On windows system you have to &quot;Convert the mvnm script file to Unix format by removing carriage return characters&quot;.\r\n\r\n```\r\nFROM openjdk:8\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCOPY . . \r\n\r\nRUN sed -i &#39;s/\\r//&#39; mvnw\r\n\r\nRUN ./mvnw package\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\r\n```","title":"Not able to execute mvnw command in Dockerfile [CLOSED/FIXED]","body":"<p>I am new to Docker and i want to build my jar file in a container using\ncommand <code>mvnw package</code> but i am getting\nthis error.\n<code>ERROR [3/3] RUN ./mvnw package                                                                                 0.5s ------ &gt; [3/3] RUN ./mvnw package: #7 0.448 /bin/sh: 1: ./mvnw: not found ------ executor failed running [/bin/sh -c ./mvnw package]: exit code: 127</code></p>\n<p>I have java version 8 installed from OpenJDK image.</p>\n<p>This is my Dockerfile</p>\n<pre><code>FROM openjdk:8\n\nWORKDIR /usr/src/app\n\nCOPY . .\n\nRUN ./mvnw package\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\n</code></pre>\n<p>and my directory is <a href=\"https://i.stack.imgur.com/k7yof.png\" rel=\"nofollow noreferrer\">Directory Structure</a></p>\n<p>Using maven image it works as expected</p>\n<pre><code>FROM maven:3.6.3-jdk-8\n\nWORKDIR /usr/src/app\n\nCOPY . .\n\nRUN mvn clean package\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\n</code></pre>\n<p>SOLUTION : On windows system you have to &quot;Convert the mvnm script file to Unix format by removing carriage return characters&quot;.</p>\n<pre><code>FROM openjdk:8\n\nWORKDIR /usr/src/app\n\nCOPY . . \n\nRUN sed -i 's/\\r//' mvnw\n\nRUN ./mvnw package\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\n</code></pre>\n"},{"tags":["java",".htpasswd"],"answers":[{"comments":[{"owner":{"account_id":200226,"reputation":17730,"user_id":448452,"accept_rate":70,"display_name":"robinmag"},"score":1,"creation_date":1268913970,"post_id":2469210,"comment_id":2459629,"body_markdown":"yes, i used MD5 digest but the result is different with htpasswd&#39;s result","body":"yes, i used MD5 digest but the result is different with htpasswd&#39;s result"},{"owner":{"account_id":28385,"reputation":10981,"user_id":75801,"accept_rate":80,"display_name":"Josh"},"score":0,"creation_date":1268928003,"post_id":2469210,"comment_id":2461706,"body_markdown":"@robinmag: You need to salt and use md5 1000 times -- see my answer.","body":"@robinmag: You need to salt and use md5 1000 times -- see my answer."}],"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1268909923,"creation_date":1268909923,"answer_id":2469210,"question_id":2469197,"body_markdown":"http://www.anyexample.com/programming/java/java_simple_class_to_compute_md5_hash.xml","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p><a href=\"http://www.anyexample.com/programming/java/java_simple_class_to_compute_md5_hash.xml\" rel=\"nofollow noreferrer\">http://www.anyexample.com/programming/java/java_simple_class_to_compute_md5_hash.xml</a></p>\n"},{"tags":[],"owner":{"account_id":28385,"reputation":10981,"user_id":75801,"accept_rate":80,"display_name":"Josh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1268914932,"creation_date":1268914932,"answer_id":2469728,"question_id":2469197,"body_markdown":"Passwords in Apache .htpasswd files are encoded using a [salt][1]. If you want to generate these passwords using Java you&#39;ll need to do the same. [This site][2] has an explanation of the salt/hashing algorithm used for Apache&#39;s .htpasswd files; I am looking for an actual algorithm you could use and will edit my answer after I find one.\r\n\r\n**EDIT**: Looks like it&#39;s been asked before, right here on SO:\r\n\r\nhttps://stackoverflow.com/questions/39916/programmaticly-building-htpasswd\r\n\r\nHere&#39;s the documentation from Apache, along with their source code:\r\n\r\nhttp://httpd.apache.org/docs/2.2/misc/password_encryptions.html\r\n\r\nhttp://svn.apache.org/viewvc/apr/apr-util/branches/1.3.x/crypto/apr_md5.c?view=co\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Salt_(cryptography)\r\n  [2]: http://www.askapache.com/online-tools/htpasswd-generator/","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>Passwords in Apache .htpasswd files are encoded using a <a href=\"http://en.wikipedia.org/wiki/Salt_(cryptography)\" rel=\"nofollow noreferrer\">salt</a>. If you want to generate these passwords using Java you'll need to do the same. <a href=\"http://www.askapache.com/online-tools/htpasswd-generator/\" rel=\"nofollow noreferrer\">This site</a> has an explanation of the salt/hashing algorithm used for Apache's .htpasswd files; I am looking for an actual algorithm you could use and will edit my answer after I find one.</p>\n\n<p><strong>EDIT</strong>: Looks like it's been asked before, right here on SO:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39916/programmaticly-building-htpasswd\">Programmaticly building htpasswd</a></p>\n\n<p>Here's the documentation from Apache, along with their source code:</p>\n\n<p><a href=\"http://httpd.apache.org/docs/2.2/misc/password_encryptions.html\" rel=\"nofollow noreferrer\">http://httpd.apache.org/docs/2.2/misc/password_encryptions.html</a></p>\n\n<p><a href=\"http://svn.apache.org/viewvc/apr/apr-util/branches/1.3.x/crypto/apr_md5.c?view=co\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/apr/apr-util/branches/1.3.x/crypto/apr_md5.c?view=co</a></p>\n"},{"tags":[],"owner":{"account_id":929636,"reputation":111,"user_id":959753,"display_name":"jejese"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333493556,"creation_date":1333493556,"answer_id":10002595,"question_id":2469197,"body_markdown":"I found where someone&#39;s tackled this in java &amp; released it with a beer-ware license. Better late than never right? It&#39;s been there probably since 2007 so I&#39;d be surprised if you hadn&#39;t eventually found it some time after asking in 2010.\n\n&gt; &quot;Java Port By: Jonathan Abbey, jonabbey@arlut.utexas.edu&quot;\n&gt;\n&gt; &quot;MD5Crypt.java is a port of Poul-Henning Kamp&#39;s original FreeBSD\n&gt; MD5-based hash algorithm, with additional methods to support the\n&gt; Apache HTTPd server variant of this algorithm.&quot;\n&gt;\n&gt; &quot;The resulting string will be in the form &#39;$apr1$&amp;lt;salt&amp;gt;$&amp;lt;hashed mess&amp;gt;&#39;&quot;\n\nftp://ftp.arlut.utexas.edu/pub/java_hashes/","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>I found where someone's tackled this in java &amp; released it with a beer-ware license. Better late than never right? It's been there probably since 2007 so I'd be surprised if you hadn't eventually found it some time after asking in 2010.</p>\n<blockquote>\n<p>&quot;Java Port By: Jonathan Abbey, jonabbey@arlut.utexas.edu&quot;</p>\n<p>&quot;MD5Crypt.java is a port of Poul-Henning Kamp's original FreeBSD\nMD5-based hash algorithm, with additional methods to support the\nApache HTTPd server variant of this algorithm.&quot;</p>\n<p>&quot;The resulting string will be in the form '$apr1$&lt;salt&gt;$&lt;hashed mess&gt;'&quot;</p>\n</blockquote>\n<p><a href=\"ftp://ftp.arlut.utexas.edu/pub/java_hashes/\" rel=\"nofollow noreferrer\">ftp://ftp.arlut.utexas.edu/pub/java_hashes/</a></p>\n"},{"tags":[],"owner":{"account_id":3740299,"reputation":83,"user_id":3110205,"display_name":"Kaka Hoang Huy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503552225,"creation_date":1503552225,"answer_id":45853517,"question_id":2469197,"body_markdown":"Md5Crypt is what you are looking for. It implements [Apache htpasswd algorithms](https://httpd.apache.org/docs/2.4/en/misc/password_encryptions.html &quot;Apache algorithms&quot;)\r\n\r\n&gt; Apache-specific algorithm using an iterated (**1,000 times**) MD5 digest of various combinations of a random 32-bit **salt** and the **password**.\r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n    ...\r\n    String enPasswd = Md5Crypt.md5Crypt(&quot;your plain password&quot;.getBytes());\r\n    String htpasswdContent = &quot;your username:&quot; + enPasswd;\r\n    ","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>Md5Crypt is what you are looking for. It implements <a href=\"https://httpd.apache.org/docs/2.4/en/misc/password_encryptions.html\" rel=\"nofollow noreferrer\" title=\"Apache algorithms\">Apache htpasswd algorithms</a></p>\n\n<blockquote>\n  <p>Apache-specific algorithm using an iterated (<strong>1,000 times</strong>) MD5 digest of various combinations of a random 32-bit <strong>salt</strong> and the <strong>password</strong>.</p>\n</blockquote>\n\n<pre><code>import org.apache.commons.codec.digest.Md5Crypt;\n...\nString enPasswd = Md5Crypt.md5Crypt(\"your plain password\".getBytes());\nString htpasswdContent = \"your username:\" + enPasswd;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13970085,"reputation":21,"user_id":10088926,"display_name":"pmntang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691162242,"creation_date":1691162242,"answer_id":76837240,"question_id":2469197,"body_markdown":"In fact, to have\r\n\r\n **123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/**,\r\n\r\nit is necessary to use the **apr1Crypt** method of the **Md5Crypt** class instead of the md5Crypt method of the same class. \r\n\r\nOtherwise, instead of having 123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/, we end up having 123=&gt;$1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/ (i.e. $1$ instead of $apr1$ before the salt as desired by the post). The code should be:\r\n\r\n```\r\nimport org.apache.commons.codec.digest.Md5Crypt;\r\n...\r\nString enPasswd = Md5Crypt.apr1Crypt(&quot;your plain password&quot;.getBytes());\r\nString htpasswdContent = &quot;your username:&quot; + enPasswd;\r\n```","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>In fact, to have</p>\n<p><strong>123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/</strong>,</p>\n<p>it is necessary to use the <strong>apr1Crypt</strong> method of the <strong>Md5Crypt</strong> class instead of the md5Crypt method of the same class.</p>\n<p>Otherwise, instead of having 123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/, we end up having 123=&gt;$1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/ (i.e. $1$ instead of $apr1$ before the salt as desired by the post). The code should be:</p>\n<pre><code>import org.apache.commons.codec.digest.Md5Crypt;\n...\nString enPasswd = Md5Crypt.apr1Crypt(&quot;your plain password&quot;.getBytes());\nString htpasswdContent = &quot;your username:&quot; + enPasswd;\n</code></pre>\n"}],"owner":{"account_id":200226,"reputation":17730,"user_id":448452,"accept_rate":70,"display_name":"robinmag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9932,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2469728,"answer_count":5,"score":8,"last_activity_date":1691162242,"creation_date":1268909794,"question_id":2469197,"body_markdown":"i use &quot;Force MD5 encryption of the password&quot; in htpasswd to generate a hash for instance &#39;123&#39; i get:\r\n\r\nuse htpasswd: 123 =&gt; $apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/\r\n\r\nuse MD5 digest: 123 =&gt; 202cb962ac59075b964b07152d234b70\r\n\r\nplease tell me how can i generate a hash like the apache htpasswd using java\r\nThanks.","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>i use \"Force MD5 encryption of the password\" in htpasswd to generate a hash for instance '123' i get:</p>\n\n<p>use htpasswd: 123 => $apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/</p>\n\n<p>use MD5 digest: 123 => 202cb962ac59075b964b07152d234b70</p>\n\n<p>please tell me how can i generate a hash like the apache htpasswd using java\nThanks.</p>\n"},{"tags":["java","spring","websocket"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1517291730,"post_id":48514719,"comment_id":84023923,"body_markdown":"@vindev please do not use blockquote for stack trace, it messes up the indentation and makes the stack trace unreadable.  Use code formatting for stack traces and error messages.","body":"@vindev please do not use blockquote for stack trace, it messes up the indentation and makes the stack trace unreadable.  Use code formatting for stack traces and error messages."},{"owner":{"account_id":7559040,"reputation":2250,"user_id":5737375,"display_name":"vindev"},"score":0,"creation_date":1517292679,"post_id":48514719,"comment_id":84024255,"body_markdown":"@JimGarrison Got it, Thanks for pointing it out :)","body":"@JimGarrison Got it, Thanks for pointing it out :)"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1517292805,"post_id":48514719,"comment_id":84024316,"body_markdown":"You&#39;re welcome. The rest of your edit was fine.","body":"You&#39;re welcome. The rest of your edit was fine."}],"answers":[{"tags":[],"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597185006,"creation_date":1597185006,"answer_id":63367236,"question_id":48514719,"body_markdown":"Probably a bit late to help you.\r\n\r\nAccording to this [merge request][1] you should set your client as type of `ReactorNettyWebSocketClient` instead of the interface `WebSocketClient`.\r\n\r\nThen you can call `client.setMaxFramePayloadLength(maxFramePayload);`\r\n\r\n\r\nSo in your code you should have:\r\n\r\n    ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\r\n    client.setMaxFramePayloadLength(2097152);\r\n\r\n    client.execute(new URI(url),\r\n          session -&gt;  session\r\n                      .send(input.map(session::textMessage))\r\n                      .thenMany(\r\n                          session.receive()\r\n                                .map(t-&gt;t.getPayloadAsText())\r\n    \r\n                                .log()\r\n                        )\r\n                        .then()          \r\n            ).block();\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/pull/22367/files","title":"How to change the frame/buffer size on a Spring 5 webflux websocket client","body":"<p>Probably a bit late to help you.</p>\n<p>According to this <a href=\"https://github.com/spring-projects/spring-framework/pull/22367/files\" rel=\"nofollow noreferrer\">merge request</a> you should set your client as type of <code>ReactorNettyWebSocketClient</code> instead of the interface <code>WebSocketClient</code>.</p>\n<p>Then you can call <code>client.setMaxFramePayloadLength(maxFramePayload);</code></p>\n<p>So in your code you should have:</p>\n<pre><code>ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\nclient.setMaxFramePayloadLength(2097152);\n\nclient.execute(new URI(url),\n      session -&gt;  session\n                  .send(input.map(session::textMessage))\n                  .thenMany(\n                      session.receive()\n                            .map(t-&gt;t.getPayloadAsText())\n\n                            .log()\n                    )\n                    .then()          \n        ).block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16026598,"reputation":3,"user_id":11566679,"display_name":"Adrian Grau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691161941,"creation_date":1691161870,"answer_id":76837185,"question_id":48514719,"body_markdown":"Response of @dazito has been deprecated since spring-webflux:5.3.\r\n\r\nUse instead:\r\n\r\n    WebSocketClient client = new ReactorNettyWebSocketClient(HttpClient.create(),\r\n        () -&gt; WebsocketClientSpec.builder().maxFramePayloadLength(524288000))\r\n\r\nSource: [javadoc][1] (Deprecated.\r\nas of 5.3 in favor of providing a supplier of WebsocketClientSpec.Builder with a constructor argument)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/socket/client/ReactorNettyWebSocketClient.html","title":"How to change the frame/buffer size on a Spring 5 webflux websocket client","body":"<p>Response of @dazito has been deprecated since spring-webflux:5.3.</p>\n<p>Use instead:</p>\n<pre><code>WebSocketClient client = new ReactorNettyWebSocketClient(HttpClient.create(),\n    () -&gt; WebsocketClientSpec.builder().maxFramePayloadLength(524288000))\n</code></pre>\n<p>Source: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/socket/client/ReactorNettyWebSocketClient.html\" rel=\"nofollow noreferrer\">javadoc</a> (Deprecated.\nas of 5.3 in favor of providing a supplier of WebsocketClientSpec.Builder with a constructor argument)</p>\n"}],"owner":{"account_id":12837503,"reputation":31,"user_id":9286595,"display_name":"Sam H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1691161941,"creation_date":1517291499,"question_id":48514719,"body_markdown":"My Spring 5 webflux websocket client is throwing below Exception when  server sends large messages.\r\nCan someone tell me how can I increase the frame size on the client?\r\n\r\n    Flux&lt;String&gt; input = Flux.just(StrJSON);\r\n\r\n    WebSocketClient client = new ReactorNettyWebSocketClient();\r\n    client.execute(new URI(url),\r\n          session -&gt;  session\r\n                      .send(input.map(session::textMessage))\r\n                      .thenMany(\r\n                          session.receive()\r\n                                .map(t-&gt;t.getPayloadAsText())\r\n    \r\n                                .log()\r\n                        )\r\n                        .then()          \r\n            ).block();\r\n\r\nIntermittent Exception:\r\n\r\n    io.netty.handler.codec.CorruptedFrameException: Max frame length of 65536 has been exceeded. \t\r\n        at io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.protocolViolation(WebSocket08FrameDecoder.java:412)\r\n     \tat io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.decode(WebSocket08FrameDecoder.java:277)\r\n     \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)\r\n     .....","title":"How to change the frame/buffer size on a Spring 5 webflux websocket client","body":"<p>My Spring 5 webflux websocket client is throwing below Exception when  server sends large messages.\nCan someone tell me how can I increase the frame size on the client?</p>\n\n<pre><code>Flux&lt;String&gt; input = Flux.just(StrJSON);\n\nWebSocketClient client = new ReactorNettyWebSocketClient();\nclient.execute(new URI(url),\n      session -&gt;  session\n                  .send(input.map(session::textMessage))\n                  .thenMany(\n                      session.receive()\n                            .map(t-&gt;t.getPayloadAsText())\n\n                            .log()\n                    )\n                    .then()          \n        ).block();\n</code></pre>\n\n<p>Intermittent Exception:</p>\n\n<pre><code>io.netty.handler.codec.CorruptedFrameException: Max frame length of 65536 has been exceeded.    \n    at io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.protocolViolation(WebSocket08FrameDecoder.java:412)\n    at io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.decode(WebSocket08FrameDecoder.java:277)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)\n .....\n</code></pre>\n"},{"tags":["java","keycloak"],"answers":[{"comments":[{"owner":{"account_id":14508567,"reputation":61,"user_id":10479663,"display_name":"Dan"},"score":1,"creation_date":1539153399,"post_id":52728664,"comment_id":92392841,"body_markdown":"Ok, thank you. But the problem is, that this API call and also the related `find`-Method of the admin client doesn&#39;t allow an exact match search. The search is always executed with wildcards. That means maybe you&#39;re getting a long list of users what could be a problem.","body":"Ok, thank you. But the problem is, that this API call and also the related <code>find</code>-Method of the admin client doesn&#39;t allow an exact match search. The search is always executed with wildcards. That means maybe you&#39;re getting a long list of users what could be a problem."},{"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"score":0,"creation_date":1539727793,"post_id":52728664,"comment_id":92605383,"body_markdown":"Yes, it is using wildcards and, unfortunately, this is a [known issue on Keycloak&#39;s JIRA](https://issues.jboss.org/browse/KEYCLOAK-2343), still open :-( . Someone made a [pull request](https://github.com/keycloak/keycloak/pull/3661), rejected. You might give it a try, or at least make a comment on the issue.","body":"Yes, it is using wildcards and, unfortunately, this is a <a href=\"https://issues.jboss.org/browse/KEYCLOAK-2343\" rel=\"nofollow noreferrer\">known issue on Keycloak&#39;s JIRA</a>, still open :-( . Someone made a <a href=\"https://github.com/keycloak/keycloak/pull/3661\" rel=\"nofollow noreferrer\">pull request</a>, rejected. You might give it a try, or at least make a comment on the issue."},{"owner":{"account_id":124550,"reputation":5610,"user_id":319711,"display_name":"Erik Vullings"},"score":0,"creation_date":1579009347,"post_id":52728664,"comment_id":105618583,"body_markdown":"The link provided by Cyril does not work anymore, and for Keycloak version 8 it has become https://www.keycloak.org/docs-api/8.0/rest-api/index.html#_users_resource.","body":"The link provided by Cyril does not work anymore, and for Keycloak version 8 it has become <a href=\"https://www.keycloak.org/docs-api/8.0/rest-api/index.html#_users_resource\" rel=\"nofollow noreferrer\">keycloak.org/docs-api/8.0/rest-api/index.html#_users_resourc&zwnj;&#8203;e</a>."},{"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"score":0,"creation_date":1579112015,"post_id":52728664,"comment_id":105660527,"body_markdown":"yep, doc for 4.4.0 is gone. I also put the link for 4.8.0 to stay close to 4.4.0 which is used in the OP.","body":"yep, doc for 4.4.0 is gone. I also put the link for 4.8.0 to stay close to 4.4.0 which is used in the OP."}],"tags":[],"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579112033,"creation_date":1539116081,"answer_id":52728664,"question_id":52726048,"body_markdown":"Check if username and/or email exists with Admin API:\r\n\r\n    GET /{realm}/users?username=toto&amp;email=blabla@example.com \r\n\r\nThen check whether the result is empty. Both `username` and `email` query parameters are optional.\r\n \r\nMore info:\r\nhttps://www.keycloak.org/docs-api/4.4/rest-api/index.html#_users_resource\r\n(Look for section *Get users*.)\r\n\r\nThere should be a corresponding command with the Admin CLI `kcadm.sh`.\r\n\r\n--EDIT 2020-01-15--\r\n\r\nSadly, the doc for v4.4.0 disappeared from Keycloak website. The closest doc that remains is for v4.8.0:\r\nhttps://www.keycloak.org/docs-api/4.8/rest-api/index.html#_users_resource\r\n","title":"Keycloak - How to check if username and email exists","body":"<p>Check if username and/or email exists with Admin API:</p>\n\n<pre><code>GET /{realm}/users?username=toto&amp;email=blabla@example.com \n</code></pre>\n\n<p>Then check whether the result is empty. Both <code>username</code> and <code>email</code> query parameters are optional.</p>\n\n<p>More info:\n<a href=\"https://www.keycloak.org/docs-api/4.4/rest-api/index.html#_users_resource\" rel=\"noreferrer\">https://www.keycloak.org/docs-api/4.4/rest-api/index.html#_users_resource</a>\n(Look for section <em>Get users</em>.)</p>\n\n<p>There should be a corresponding command with the Admin CLI <code>kcadm.sh</code>.</p>\n\n<p>--EDIT 2020-01-15--</p>\n\n<p>Sadly, the doc for v4.4.0 disappeared from Keycloak website. The closest doc that remains is for v4.8.0:\n<a href=\"https://www.keycloak.org/docs-api/4.8/rest-api/index.html#_users_resource\" rel=\"noreferrer\">https://www.keycloak.org/docs-api/4.8/rest-api/index.html#_users_resource</a></p>\n"},{"tags":[],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602079407,"creation_date":1602079407,"answer_id":64245745,"question_id":52726048,"body_markdown":"In 2020, there is a new API (at least a new PR which is merged on June 2020): https://github.com/keycloak/keycloak/pull/6926\r\n\r\nNow we can use APIs such as:\r\n\r\n```\r\nList&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\r\n```","title":"Keycloak - How to check if username and email exists","body":"<p>In 2020, there is a new API (at least a new PR which is merged on June 2020): <a href=\"https://github.com/keycloak/keycloak/pull/6926\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/pull/6926</a></p>\n<p>Now we can use APIs such as:</p>\n<pre><code>List&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21685891,"reputation":11,"user_id":16001353,"display_name":"Pramol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691161889,"creation_date":1691161889,"answer_id":76837190,"question_id":52726048,"body_markdown":"There is one method to check that username is already present.\r\n\r\n    List&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\r\n\r\nTo check email if pass email in above method then it will not work. It will search for username. \r\n\r\nThere is no method to check that email is already present or not but there is some workaround that you can use to check email is present or not.\r\n\r\n      Integer count(@QueryParam(&quot;lastName&quot;) String last,\r\n                  @QueryParam(&quot;firstName&quot;) String first,\r\n                  @QueryParam(&quot;email&quot;) String email,\r\n                  @QueryParam(&quot;username&quot;) String username);\r\n\r\nJust pass value null for all parameters except email, so it will search for that Email only.\r\n\r\nIf that email is present then it will return count 1 and if not present then it will return 0. \r\n","title":"Keycloak - How to check if username and email exists","body":"<p>There is one method to check that username is already present.</p>\n<pre><code>List&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\n</code></pre>\n<p>To check email if pass email in above method then it will not work. It will search for username.</p>\n<p>There is no method to check that email is already present or not but there is some workaround that you can use to check email is present or not.</p>\n<pre><code>  Integer count(@QueryParam(&quot;lastName&quot;) String last,\n              @QueryParam(&quot;firstName&quot;) String first,\n              @QueryParam(&quot;email&quot;) String email,\n              @QueryParam(&quot;username&quot;) String username);\n</code></pre>\n<p>Just pass value null for all parameters except email, so it will search for that Email only.</p>\n<p>If that email is present then it will return count 1 and if not present then it will return 0.</p>\n"}],"owner":{"account_id":14508567,"reputation":61,"user_id":10479663,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17563,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1691161889,"creation_date":1539104698,"question_id":52726048,"body_markdown":"We want to create Keycloak users programmatically and check before if the username and/or the email address already exists in Keycloak. We are using version `4.4.0.FINAL`.\r\n\r\nWhen we create a user programmatically with the Keycloak admin client we&#39;re getting the error code 409 (conflict) if the username or the email address is already in use. But we only get one error message in the response (`readEntity`), namely that the username already exists. The error message doesn&#39;t state that the email address is already in use, too.\r\n\r\nWhat is the best way to check if the username and/or the email address already exists in Keycloak?\r\n\r\nThe goal is to know exactly if an username or an email address already existing or not. And that not only in combination, but also if user A already used the requested username and user B already used the requested mail address.","title":"Keycloak - How to check if username and email exists","body":"<p>We want to create Keycloak users programmatically and check before if the username and/or the email address already exists in Keycloak. We are using version <code>4.4.0.FINAL</code>.</p>\n\n<p>When we create a user programmatically with the Keycloak admin client we're getting the error code 409 (conflict) if the username or the email address is already in use. But we only get one error message in the response (<code>readEntity</code>), namely that the username already exists. The error message doesn't state that the email address is already in use, too.</p>\n\n<p>What is the best way to check if the username and/or the email address already exists in Keycloak?</p>\n\n<p>The goal is to know exactly if an username or an email address already existing or not. And that not only in combination, but also if user A already used the requested username and user B already used the requested mail address.</p>\n"},{"tags":["java","spring-boot","spotify"],"owner":{"account_id":22899855,"reputation":11,"user_id":19417266,"display_name":"user19417266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691161850,"creation_date":1691161850,"question_id":76837182,"body_markdown":"I have a Java Springboot app with a controller class that has a method that gets invoked when it accepts incoming HTTP POST request to path &quot;/api&quot;. I am able to generate access-token on demand in order to make authorized API call to spotify api endpoint(&quot;https://api.spotify.com/v1/search&quot;). Also, I made sure that the query paramters I specify such as query string &quot;q&quot; and &quot;type&quot; are both included and have correct formatted values. However, I keep getting back HTTP status of 502 with error message as &quot;Bad Gateway&quot; in response body. I also tested by calling the endpoint directly and not via my java spring-boot app and added the necessary query params and especially the Authorization header set to &quot;Bearer &lt;access_token_value&gt;&quot; but I also get same error response. Is this problem on the Spotify side?\r\n\r\nHere is my FormController class:\r\n\r\n```\r\npackage com.example.play_app_backend.controllers;\r\n\r\nimport okhttp3.*;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.example.play_app_backend.FormData;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.http.ResponseEntity;\r\nimport com.example.play_app_backend.SpotifyApiClient;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class FormController {\r\n    private SpotifyApiClient spotifyClient;\r\n\r\n    public FormController() {\r\n        spotifyClient = new SpotifyApiClient();\r\n    }\r\n\r\n    // helper to construct the query parameter q&#39;s query string!\r\n    public String constructQueryString(FormData d) {\r\n        String query = String.format(&quot;artist:%s genre:%s year:%s&quot;,\r\n                d.getArtist(),\r\n                d.getGenre(),\r\n                d.getYear());\r\n        System.out.printf(&quot;Query String: %s&quot;, query);\r\n        return query;\r\n    }\r\n\r\n    @PostMapping\r\n    public String handleFormSubmission(@RequestBody FormData data) {\r\n        try {\r\n            String accessToken = spotifyClient.getAccessToken();\r\n            System.out.println(&quot;AccessToken: &quot; + accessToken);\r\n            // now, with accessToken, we should utilize the data gotten from front-end to\r\n            // look for Spotify tracks\r\n            // that best match user criteria!\r\n\r\n            // base url of api endpoint for /search!\r\n            String apiUrl = &quot;https://api.spotify.com/v1/search&quot;;\r\n            String queryString = constructQueryString(data);\r\n            // full url containing necessary query params!\r\n            String fullUrl = apiUrl + &#39;?&#39; + &quot;q=&quot; + queryString + &quot;&amp;type=track&quot;;\r\n            System.out.println(&quot;fullUrl: &quot; + fullUrl);\r\n            OkHttpClient httpClient = new OkHttpClient();\r\n            Request req = new Request.Builder().url(fullUrl).addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken).get()\r\n                    .build();\r\n            try (Response resp = httpClient.newCall(req).execute()) {\r\n                if (resp.isSuccessful()) {\r\n                    String responseBody = resp.body().string();\r\n                    return responseBody;\r\n                } else {\r\n                    System.out.println(resp.toString());\r\n                    return &quot;failed to fetch tracks from spotify /search api endpoint!&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                return &quot;Error: &quot; + e.getMessage();\r\n            }\r\n        } catch (Exception e) {\r\n            String errorMsg = &quot;can&#39;t get access token&quot;;\r\n            return errorMsg;\r\n        }\r\n    }\r\n}\r\n\r\n``` ","title":"Calling Spotify API Endpoint for &quot;/search&quot; returns 502 HTTP Status","body":"<p>I have a Java Springboot app with a controller class that has a method that gets invoked when it accepts incoming HTTP POST request to path &quot;/api&quot;. I am able to generate access-token on demand in order to make authorized API call to spotify api endpoint(&quot;https://api.spotify.com/v1/search&quot;). Also, I made sure that the query paramters I specify such as query string &quot;q&quot; and &quot;type&quot; are both included and have correct formatted values. However, I keep getting back HTTP status of 502 with error message as &quot;Bad Gateway&quot; in response body. I also tested by calling the endpoint directly and not via my java spring-boot app and added the necessary query params and especially the Authorization header set to &quot;Bearer &lt;access_token_value&gt;&quot; but I also get same error response. Is this problem on the Spotify side?</p>\n<p>Here is my FormController class:</p>\n<pre><code>package com.example.play_app_backend.controllers;\n\nimport okhttp3.*;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.example.play_app_backend.FormData;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.http.ResponseEntity;\nimport com.example.play_app_backend.SpotifyApiClient;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class FormController {\n    private SpotifyApiClient spotifyClient;\n\n    public FormController() {\n        spotifyClient = new SpotifyApiClient();\n    }\n\n    // helper to construct the query parameter q's query string!\n    public String constructQueryString(FormData d) {\n        String query = String.format(&quot;artist:%s genre:%s year:%s&quot;,\n                d.getArtist(),\n                d.getGenre(),\n                d.getYear());\n        System.out.printf(&quot;Query String: %s&quot;, query);\n        return query;\n    }\n\n    @PostMapping\n    public String handleFormSubmission(@RequestBody FormData data) {\n        try {\n            String accessToken = spotifyClient.getAccessToken();\n            System.out.println(&quot;AccessToken: &quot; + accessToken);\n            // now, with accessToken, we should utilize the data gotten from front-end to\n            // look for Spotify tracks\n            // that best match user criteria!\n\n            // base url of api endpoint for /search!\n            String apiUrl = &quot;https://api.spotify.com/v1/search&quot;;\n            String queryString = constructQueryString(data);\n            // full url containing necessary query params!\n            String fullUrl = apiUrl + '?' + &quot;q=&quot; + queryString + &quot;&amp;type=track&quot;;\n            System.out.println(&quot;fullUrl: &quot; + fullUrl);\n            OkHttpClient httpClient = new OkHttpClient();\n            Request req = new Request.Builder().url(fullUrl).addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken).get()\n                    .build();\n            try (Response resp = httpClient.newCall(req).execute()) {\n                if (resp.isSuccessful()) {\n                    String responseBody = resp.body().string();\n                    return responseBody;\n                } else {\n                    System.out.println(resp.toString());\n                    return &quot;failed to fetch tracks from spotify /search api endpoint!&quot;;\n                }\n            } catch (Exception e) {\n                return &quot;Error: &quot; + e.getMessage();\n            }\n        } catch (Exception e) {\n            String errorMsg = &quot;can't get access token&quot;;\n            return errorMsg;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","android","html","android-studio"],"answers":[{"comments":[{"owner":{"account_id":15810536,"reputation":21,"user_id":11407795,"display_name":"Oj2328"},"score":0,"creation_date":1562515975,"post_id":56923856,"comment_id":100389835,"body_markdown":"Thank you i just did that! And now although its not giving me that error, the web page isnt fully loading - i put all my web page files in the assets folder but certain images and camera feed arent loading etc.","body":"Thank you i just did that! And now although its not giving me that error, the web page isnt fully loading - i put all my web page files in the assets folder but certain images and camera feed arent loading etc."},{"owner":{"account_id":11213271,"reputation":573,"user_id":8226741,"display_name":"Andrea Ebano"},"score":0,"creation_date":1562516257,"post_id":56923856,"comment_id":100389884,"body_markdown":"Probably your html page doesn&#39;t have the correct path to find all resources, but it is hard to say without code","body":"Probably your html page doesn&#39;t have the correct path to find all resources, but it is hard to say without code"},{"owner":{"account_id":15810536,"reputation":21,"user_id":11407795,"display_name":"Oj2328"},"score":0,"creation_date":1562516419,"post_id":56923856,"comment_id":100389907,"body_markdown":"it works fine on other text editors like Atom though just has issues on android studio","body":"it works fine on other text editors like Atom though just has issues on android studio"},{"owner":{"account_id":11213271,"reputation":573,"user_id":8226741,"display_name":"Andrea Ebano"},"score":0,"creation_date":1562516515,"post_id":56923856,"comment_id":100389935,"body_markdown":"Do you have hardcode path inside your html like &quot;C:/Users/olive/OneDrive...&quot;?","body":"Do you have hardcode path inside your html like &quot;C:/Users/olive/OneDrive...&quot;?"},{"owner":{"account_id":15810536,"reputation":21,"user_id":11407795,"display_name":"Oj2328"},"score":0,"creation_date":1562517600,"post_id":56923856,"comment_id":100390215,"body_markdown":"Nope i dont, i can attach my html file if you would like","body":"Nope i dont, i can attach my html file if you would like"},{"owner":{"account_id":15810536,"reputation":21,"user_id":11407795,"display_name":"Oj2328"},"score":0,"creation_date":1562518445,"post_id":56923856,"comment_id":100390427,"body_markdown":"Done, ive uploaded the .js file too","body":"Done, ive uploaded the .js file too"}],"tags":[],"owner":{"account_id":11213271,"reputation":573,"user_id":8226741,"display_name":"Andrea Ebano"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562515526,"creation_date":1562515526,"answer_id":56923856,"question_id":56923571,"body_markdown":"Put your web resources into the assets folder, usually under `&lt;project&gt;/src/main/assets`, because emulator cannot see the file under your computer root `&quot;.../C:/Users/olive/OneDrive/Documents/ComputerScience/...&quot;`\r\n\r\n\r\nthen call:\r\n\r\n    webView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n\r\nRemember that in Android application, files can be read from 3 types of locations:\r\n\r\n - **Internal storage**: Each app has its own, file names are relative to\r\n   this location. URL takes form file:///myFolder/myFile.html\r\n - **External storage**: Needs permission and may not always be available.\r\n   Get the root folder by calling\r\n   Environment.getExternalStorageDirectory(). So, construct the URL\r\n   using: String url = &quot;file:///&quot; +\r\n   Environment.getExternalStorageDirectory().toString() + File.separator + &quot;myFolder/myFile.html&quot;\r\n - **Assets**: Stored in the apk. Read-only access. URL takes form\r\n   file:///android_asset/myFolder/myFile.html (See also Loading an\r\n   Android Resource into a WebView)\r\n\r\n\r\nHope it helps.","title":"Android Studio (Web page help) net : ERR_FILE_NOT_FOUND","body":"<p>Put your web resources into the assets folder, usually under <code>&lt;project&gt;/src/main/assets</code>, because emulator cannot see the file under your computer root <code>\".../C:/Users/olive/OneDrive/Documents/ComputerScience/...\"</code></p>\n\n<p>then call:</p>\n\n<pre><code>webView.loadUrl(\"file:///android_asset/index.html\");\n</code></pre>\n\n<p>Remember that in Android application, files can be read from 3 types of locations:</p>\n\n<ul>\n<li><strong>Internal storage</strong>: Each app has its own, file names are relative to\nthis location. URL takes form file:///myFolder/myFile.html</li>\n<li><strong>External storage</strong>: Needs permission and may not always be available.\nGet the root folder by calling\nEnvironment.getExternalStorageDirectory(). So, construct the URL\nusing: String url = \"file:///\" +\nEnvironment.getExternalStorageDirectory().toString() + File.separator + \"myFolder/myFile.html\"</li>\n<li><strong>Assets</strong>: Stored in the apk. Read-only access. URL takes form\nfile:///android_asset/myFolder/myFile.html (See also Loading an\nAndroid Resource into a WebView)</li>\n</ul>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":15810536,"reputation":21,"user_id":11407795,"display_name":"Oj2328"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691161396,"creation_date":1562513465,"question_id":56923571,"body_markdown":"Im trying to implement my web app / page inside android studio from my local files, ive followed the official documentation and made an webview button in xml, and declared :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\nin the manifest file. My java activity code is below : \r\n\r\n   \r\n\r\n    package samples.opencv.myapplication;\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView webview;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            webview =(WebView)findViewById(R.id.webview);\r\n    \r\n            webview.setWebViewClient(new WebViewClient());\r\n            webview.getSettings().setJavaScriptEnabled(true);\r\n            webview.getSettings().setDomStorageEnabled(true);\r\n            webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\r\n            webview.loadUrl(&quot;file:///C:/Users/olive/OneDrive/Documents/ComputerScience/Project/Atom/index.html&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nbut i get the error on the emulator saying the webpage cannot be loaded as file is not found. \r\n\r\n[This][1] is my HTML File\r\n[This][2] is JS file\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHjlf.png\r\n  [2]: https://i.stack.imgur.com/e05v7.png","title":"Android Studio (Web page help) net : ERR_FILE_NOT_FOUND","body":"<p>Im trying to implement my web app / page inside android studio from my local files, ive followed the official documentation and made an webview button in xml, and declared :</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n</code></pre>\n\n<p>in the manifest file. My java activity code is below : </p>\n\n<pre><code>package samples.opencv.myapplication;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webview =(WebView)findViewById(R.id.webview);\n\n        webview.setWebViewClient(new WebViewClient());\n        webview.getSettings().setJavaScriptEnabled(true);\n        webview.getSettings().setDomStorageEnabled(true);\n        webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\n        webview.loadUrl(\"file:///C:/Users/olive/OneDrive/Documents/ComputerScience/Project/Atom/index.html\");\n\n    }\n}\n</code></pre>\n\n<p>but i get the error on the emulator saying the webpage cannot be loaded as file is not found. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CHjlf.png\" rel=\"nofollow noreferrer\">This</a> is my HTML File\n<a href=\"https://i.stack.imgur.com/e05v7.png\" rel=\"nofollow noreferrer\">This</a> is JS file</p>\n"},{"tags":["java","spring-boot","pact","contract"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669115685,"creation_date":1669115685,"answer_id":74531741,"question_id":74521984,"body_markdown":"So I&#39;m sure the error could be better, but it&#39;s saying that it can&#39;t find any pact files in the folder you have specified.\r\n\r\nThe annotation you have given (`@PactFolder(&quot;pactfile&quot;)`) would suggest it should be in the folder `pactfile` relative to the context root of the Java application.\r\n\r\nAre you sure there are pact files in it?","title":"NoPactsFoundException: No Pact files were found to verify","body":"<p>So I'm sure the error could be better, but it's saying that it can't find any pact files in the folder you have specified.</p>\n<p>The annotation you have given (<code>@PactFolder(&quot;pactfile&quot;)</code>) would suggest it should be in the folder <code>pactfile</code> relative to the context root of the Java application.</p>\n<p>Are you sure there are pact files in it?</p>\n"},{"tags":[],"owner":{"account_id":5605359,"reputation":165,"user_id":8467936,"display_name":"Mohit Sehgal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691161163,"creation_date":1691161163,"answer_id":76837092,"question_id":74521984,"body_markdown":"We can use ```@PactUrl(&quot;file:///path/to/contract/file.json&quot;)```\r\n","title":"NoPactsFoundException: No Pact files were found to verify","body":"<p>We can use <code>@PactUrl(&quot;file:///path/to/contract/file.json&quot;)</code></p>\n"}],"owner":{"account_id":7680129,"reputation":1367,"user_id":5820716,"display_name":"anuja jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691161163,"creation_date":1669048047,"question_id":74521984,"body_markdown":"I am running pact provider test spring boot java and getting below issue and unable to resolved it I tried to change versions for junit and pact provider in maven but still not wokring \r\n\r\nHere is the stack trace\r\n\r\n```\r\nau.com.dius.pact.provider.junitsupport.loader.NoPactsFoundException: No Pact files were found to verify\r\nProvider: CoursesCatalogue\r\nSource: Directory(pacts)\r\n\tat au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider.provideTestTemplateInvocationContexts(PactJUnit5VerificationProvider.kt:50)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$0(TestTemplateTestDescriptor.java:103)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\nHere is the test case\r\n\r\n```java\r\npackage com.qaautomated.Toys;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.TestTemplate;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.web.server.LocalServerPort;\r\n\r\nimport au.com.dius.pact.provider.PactVerification;\r\nimport au.com.dius.pact.provider.PactVerifyProvider;\r\nimport au.com.dius.pact.provider.junit5.HttpTestTarget;\r\nimport au.com.dius.pact.provider.junit5.PactVerificationContext;\r\nimport au.com.dius.pact.provider.junit5.PactVerificationExtension;\r\nimport au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider;\r\nimport au.com.dius.pact.provider.junitsupport.Provider;\r\nimport au.com.dius.pact.provider.junitsupport.State;\r\nimport au.com.dius.pact.provider.junitsupport.StateChangeAction;\r\nimport au.com.dius.pact.provider.junitsupport.loader.PactFolder;\r\n\r\n@SpringBootTest(webEnvironment=SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Provider(&quot;toysDetails&quot;)\r\n@PactFolder(&quot;pactfile&quot;)\r\npublic class FirstProvidesTest {\r\n\t\r\n\t@LocalServerPort\r\n\tpublic int port;\r\n\t\r\n\t\r\n\t@TestTemplate\r\n\t@ExtendWith(PactVerificationInvocationContextProvider.class)\r\n\tpublic void testProvider(PactVerificationContext context)\r\n\t{\r\n\t\tcontext.verifyInteraction();\r\n\t}\r\n\t\r\n\t@BeforeEach\r\n\tpublic void setup(PactVerificationContext context)\r\n\t{\r\n\t\tcontext.setTarget(new HttpTestTarget(&quot;localhost&quot;,port));\r\n\t}\r\n\t\r\n\t@State(value=&quot;toys details&quot;, action=StateChangeAction.SETUP)\r\n\tpublic void toysSetup()\r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\t@State(value=&quot;toys details&quot;, action=StateChangeAction.TEARDOWN)\r\n\tpublic void tearDown() {\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n","title":"NoPactsFoundException: No Pact files were found to verify","body":"<p>I am running pact provider test spring boot java and getting below issue and unable to resolved it I tried to change versions for junit and pact provider in maven but still not wokring</p>\n<p>Here is the stack trace</p>\n<pre><code>au.com.dius.pact.provider.junitsupport.loader.NoPactsFoundException: No Pact files were found to verify\nProvider: CoursesCatalogue\nSource: Directory(pacts)\n    at au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider.provideTestTemplateInvocationContexts(PactJUnit5VerificationProvider.kt:50)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$0(TestTemplateTestDescriptor.java:103)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>Here is the test case</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.qaautomated.Toys;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.TestTemplate;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.web.server.LocalServerPort;\n\nimport au.com.dius.pact.provider.PactVerification;\nimport au.com.dius.pact.provider.PactVerifyProvider;\nimport au.com.dius.pact.provider.junit5.HttpTestTarget;\nimport au.com.dius.pact.provider.junit5.PactVerificationContext;\nimport au.com.dius.pact.provider.junit5.PactVerificationExtension;\nimport au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider;\nimport au.com.dius.pact.provider.junitsupport.Provider;\nimport au.com.dius.pact.provider.junitsupport.State;\nimport au.com.dius.pact.provider.junitsupport.StateChangeAction;\nimport au.com.dius.pact.provider.junitsupport.loader.PactFolder;\n\n@SpringBootTest(webEnvironment=SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Provider(&quot;toysDetails&quot;)\n@PactFolder(&quot;pactfile&quot;)\npublic class FirstProvidesTest {\n    \n    @LocalServerPort\n    public int port;\n    \n    \n    @TestTemplate\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\n    public void testProvider(PactVerificationContext context)\n    {\n        context.verifyInteraction();\n    }\n    \n    @BeforeEach\n    public void setup(PactVerificationContext context)\n    {\n        context.setTarget(new HttpTestTarget(&quot;localhost&quot;,port));\n    }\n    \n    @State(value=&quot;toys details&quot;, action=StateChangeAction.SETUP)\n    public void toysSetup()\n    {\n        \n    }\n    \n    @State(value=&quot;toys details&quot;, action=StateChangeAction.TEARDOWN)\n    public void tearDown() {\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["javascript","java","html","microservices","api-gateway"],"comments":[{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":1,"creation_date":1690550455,"post_id":76788170,"comment_id":135373463,"body_markdown":"Please share the error/problem you encounter, &#39;does not work&#39; doesn&#39;t help us to help you.","body":"Please share the error/problem you encounter, &#39;does not work&#39; doesn&#39;t help us to help you."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690550630,"post_id":76788170,"comment_id":135373504,"body_markdown":"The problem is I ve not encounter any error, it is just not working. I didnt find a answer for this like 7 hour. My question is how can i send http request to api gateway from frontend using button","body":"The problem is I ve not encounter any error, it is just not working. I didnt find a answer for this like 7 hour. My question is how can i send http request to api gateway from frontend using button"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690550768,"post_id":76788170,"comment_id":135373531,"body_markdown":"Nope, not good enough. &quot;Just not working&quot; simply doesn&#39;t give us enough information to help you. You&#39;re going to have to figure out *what* isn&#39;t working: Is the request being sent from the browser? Arriving at the server? Are you getting a response? Et cetera.","body":"Nope, not good enough. &quot;Just not working&quot; simply doesn&#39;t give us enough information to help you. You&#39;re going to have to figure out <i>what</i> isn&#39;t working: Is the request being sent from the browser? Arriving at the server? Are you getting a response? Et cetera."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690550870,"post_id":76788170,"comment_id":135373549,"body_markdown":"When I run this url manually http://localhost:9000/user/register?username&amp;password it is working but when I try to send http request via frontend button nothing occur","body":"When I run this url manually <a href=\"http://localhost:9000/user/register?username&amp;password\" rel=\"nofollow noreferrer\">localhost:9000/user/register?username&amp;password</a> it is working but when I try to send http request via frontend button nothing occur"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690551039,"post_id":76788170,"comment_id":135373587,"body_markdown":"&#39;Nothing occurs&#39; is not possible, something for sure occurs. You run the command `xht.Send()`, debug your code and share with us what happens when the command being executed.","body":"&#39;Nothing occurs&#39; is not possible, something for sure occurs. You run the command <code>xht.Send()</code>, debug your code and share with us what happens when the command being executed."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690551229,"post_id":76788170,"comment_id":135373632,"body_markdown":"how can i debug it I dont know how in JavaScript","body":"how can i debug it I dont know how in JavaScript"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690551301,"post_id":76788170,"comment_id":135373646,"body_markdown":"https://developer.chrome.com/docs/devtools/javascript/\nOnce you debug and understand the problem, please edit your post with the details.","body":"<a href=\"https://developer.chrome.com/docs/devtools/javascript/\" rel=\"nofollow noreferrer\">developer.chrome.com/docs/devtools/javascript</a> Once you debug and understand the problem, please edit your post with the details."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690553811,"post_id":76788170,"comment_id":135374268,"body_markdown":"added with image","body":"added with image"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690557880,"post_id":76788170,"comment_id":135375216,"body_markdown":"https://stackoverflow.com/questions/35553500/xmlhttprequest-cannot-load-xxx-no-access-control-allow-origin-header","body":"<a href=\"https://stackoverflow.com/questions/35553500/xmlhttprequest-cannot-load-xxx-no-access-control-allow-origin-header\" title=\"xmlhttprequest cannot load xxx no access control allow origin header\">stackoverflow.com/questions/35553500/&hellip;</a>"},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690559906,"post_id":76788170,"comment_id":135375602,"body_markdown":"occurs now . signup.html:53     POST http://localhost:9000/user/register?username=${username}&amp;password=${password} 400 (Bad Request)","body":"occurs now . signup.html:53     POST <a href=\"http://localhost:9000/user/register?username=$\" rel=\"nofollow noreferrer\">localhost:9000/user/register?username=$</a>{username}&amp;password=$&zwnj;&#8203;{password} 400 (Bad Request)"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690561686,"post_id":76788170,"comment_id":135375928,"body_markdown":"Check if the way you tried to inject the username and password to the url actually works...","body":"Check if the way you tried to inject the username and password to the url actually works..."}],"answers":[{"tags":[],"owner":{"account_id":29085267,"reputation":1,"user_id":22280274,"display_name":"Arjun"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690550789,"creation_date":1690550789,"answer_id":76788252,"question_id":76788170,"body_markdown":"I am not sure if you would be able to send a API request to a gateway from your frontend without any communicator.","title":"Bad Request Sending HTTP REQUEST","body":"<p>I am not sure if you would be able to send a API request to a gateway from your frontend without any communicator.</p>\n"},{"tags":[],"owner":{"account_id":29026006,"reputation":56,"user_id":22234165,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691160599,"creation_date":1691160599,"answer_id":76837006,"question_id":76788170,"body_markdown":"The syntax of your request is incorrect if you want to replace the variables in your template string. You should be using the backtick ` instead of the quote &quot;.\r\n\r\nInstead of\r\n```\r\n&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;\r\n```\r\nYou should be using \r\n```\r\n`http://localhost:9000/user/register?username=${username}&amp;password=${password}`\r\n```\r\n\r\n\r\n\r\n","title":"Bad Request Sending HTTP REQUEST","body":"<p>The syntax of your request is incorrect if you want to replace the variables in your template string. You should be using the backtick ` instead of the quote &quot;.</p>\n<p>Instead of</p>\n<pre><code>&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;\n</code></pre>\n<p>You should be using</p>\n<pre><code>`http://localhost:9000/user/register?username=${username}&amp;password=${password}`\n</code></pre>\n"}],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1691160599,"creation_date":1690550115,"question_id":76788170,"body_markdown":"\r\nWhen I make a gateway request to the URL manually in my project, it gives me the correct data, but when I try to send an http request with the frontend, the API does not work. Why is that?\r\n\r\nJavaScript\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script&gt;\r\n      document.getElementById(&quot;signupbtn&quot;).addEventListener(&quot;click&quot;,function(){\r\n        const username = document.getElementById(&quot;username&quot;).value;\r\n        const password = document.getElementById(&quot;password&quot;).value;\r\n\r\n     \r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open(&quot;POST&quot;,&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;);\r\n        xhr.send();\r\n      })\r\n\r\n    &lt;/script&gt;\r\n\r\nGiving  POST http://localhost:9000/user/register?username=${username}&amp;password=${password} 400 (Bad Request)","title":"Bad Request Sending HTTP REQUEST","body":"<p>When I make a gateway request to the URL manually in my project, it gives me the correct data, but when I try to send an http request with the frontend, the API does not work. Why is that?</p>\n<p>JavaScript</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\n  document.getElementById(&quot;signupbtn&quot;).addEventListener(&quot;click&quot;,function(){\n    const username = document.getElementById(&quot;username&quot;).value;\n    const password = document.getElementById(&quot;password&quot;).value;\n\n \n    const xhr = new XMLHttpRequest();\n    xhr.open(&quot;POST&quot;,&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;);\n    xhr.send();\n  })\n\n&lt;/script&gt;\n</code></pre>\n<p>Giving  POST http://localhost:9000/user/register?username=${username}&amp;password=${password} 400 (Bad Request)</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc"],"answers":[{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691160414,"creation_date":1691160414,"answer_id":76836975,"question_id":71712617,"body_markdown":"To achieve this,  you need to extend the implementation of SwaggerIndexPageTransformer. Next, add transformer @Bean to your @Configuration.\r\n\r\n&gt; Please follow the instruction provided in the doc-\r\n&gt; https://springdoc.org/v1/#customizing-swagger-static-resources\r\n\r\n**Note:-** Spring doc v1 is only compatible with Spring-boot v2.","title":"Reading static resources in Springboot for custom swagger-ui","body":"<p>To achieve this,  you need to extend the implementation of SwaggerIndexPageTransformer. Next, add transformer @Bean to your @Configuration.</p>\n<blockquote>\n<p>Please follow the instruction provided in the doc-\n<a href=\"https://springdoc.org/v1/#customizing-swagger-static-resources\" rel=\"nofollow noreferrer\">https://springdoc.org/v1/#customizing-swagger-static-resources</a></p>\n</blockquote>\n<p><strong>Note:-</strong> Spring doc v1 is only compatible with Spring-boot v2.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691160414,"creation_date":1648846156,"question_id":71712617,"body_markdown":"`I&#39;m using springdoc-openapi.  I want to customize the swagger, so I copied the whole thing to my resources directory\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am also not loading the files from the jar\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut I can&#39;t seem to serve any files inside swagger-ui.  I tried moving it to `static/swagger-ui`, but I still get a 404.  \r\n\r\nWhen the service starts up, it shows\r\n```\r\nPatterns [/webjars/**, /**, /swagger-ui*/**] in &#39;resourceHandlerMapping&#39;\r\n```\r\n\r\nSo it looks like openapi is adding those resource paths.\r\n\r\nBut both `http://localhost/index.html` and `http://localhost/swagger-ui/index.html` return 404\r\n\r\nI *am* able to go to `http://localhost/hello.html`, which is in `resources/static`, one of the default locations for static files.  Why can&#39;t I read the `index.html` file that&#39;s in the `swagger-ui` directory, either in `resources/swagger-ui` or `resources/static/swagger-ui`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0CX9F.png","title":"Reading static resources in Springboot for custom swagger-ui","body":"<p>`I'm using springdoc-openapi.  I want to customize the swagger, so I copied the whole thing to my resources directory</p>\n<p><a href=\"https://i.stack.imgur.com/0CX9F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CX9F.png\" alt=\"enter image description here\" /></a></p>\n<p>I am also not loading the files from the jar</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n                    &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But I can't seem to serve any files inside swagger-ui.  I tried moving it to <code>static/swagger-ui</code>, but I still get a 404.</p>\n<p>When the service starts up, it shows</p>\n<pre><code>Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'\n</code></pre>\n<p>So it looks like openapi is adding those resource paths.</p>\n<p>But both <code>http://localhost/index.html</code> and <code>http://localhost/swagger-ui/index.html</code> return 404</p>\n<p>I <em>am</em> able to go to <code>http://localhost/hello.html</code>, which is in <code>resources/static</code>, one of the default locations for static files.  Why can't I read the <code>index.html</code> file that's in the <code>swagger-ui</code> directory, either in <code>resources/swagger-ui</code> or <code>resources/static/swagger-ui</code></p>\n"},{"tags":["java","spring","spring-boot","testing"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":1,"creation_date":1691137216,"post_id":76834035,"comment_id":135453926,"body_markdown":"I don&#39;t think it&#39;s a good idea to use @Transactional on test methods, this is not what it&#39;s made for","body":"I don&#39;t think it&#39;s a good idea to use @Transactional on test methods, this is not what it&#39;s made for"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691139432,"post_id":76834035,"comment_id":135454313,"body_markdown":"@Ismail it is a very good idea to make the tests transactional as that will cleanup the dirt after the test method. Instead of repopulating the database for each test you can now run tests directly or even in parallel.","body":"@Ismail it is a very good idea to make the tests transactional as that will cleanup the dirt after the test method. Instead of repopulating the database for each test you can now run tests directly or even in parallel."}],"answers":[{"comments":[{"owner":{"account_id":12272729,"reputation":51,"user_id":9021108,"display_name":"maik"},"score":0,"creation_date":1691389244,"post_id":76836967,"comment_id":135479370,"body_markdown":"Hi @Jenia\n1.- This is irrelevant, I prefer to have the Transactional in each test because it is more explicit. And not all tests will always be transactional.\n2.- The Transactional tag by default already has Rollback = true.\n3.- I don&#39;t think it&#39;s immutability&#39;s fault. If I do manual tests it works fine. If I remove the transactional it works fine too. Nevertheless I will try it.\nThanks for your time","body":"Hi @Jenia 1.- This is irrelevant, I prefer to have the Transactional in each test because it is more explicit. And not all tests will always be transactional. 2.- The Transactional tag by default already has Rollback = true. 3.- I don&#39;t think it&#39;s immutability&#39;s fault. If I do manual tests it works fine. If I remove the transactional it works fine too. Nevertheless I will try it. Thanks for your time"},{"owner":{"account_id":12272729,"reputation":51,"user_id":9021108,"display_name":"maik"},"score":0,"creation_date":1691395368,"post_id":76836967,"comment_id":135480256,"body_markdown":"Yes.. the error was caused by immutable collection. I&#39;ve changed it and now the test are passed successfully. Thanks you!","body":"Yes.. the error was caused by immutable collection. I&#39;ve changed it and now the test are passed successfully. Thanks you!"}],"tags":[],"owner":{"account_id":20005256,"reputation":51,"user_id":16202183,"display_name":"Jenia"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691160341,"creation_date":1691160341,"answer_id":76836967,"question_id":76834035,"body_markdown":"1) You can put @Transactional on your class, not for every test\r\n2) If you want keep your database is clean, you need add @Rollback on top your class&#39;s name\r\n3) The error is caused by an immutable collection, since you did not attach the AgencyCreateDtoMother.random () implementation and the NotificationEmail, SupportContact classes, I can assume that when the random () method is called, an entity is created with some new parameter that is not in the hibernate context when updating, he tries to merge new ones changes, although this type should already be in the hibernate context, if you put an end to the thrown exception, it will be clear what the problem is","title":"Spring boot some tests fails with @Transactional, but it run well without they","body":"<ol>\n<li>You can put @Transactional on your class, not for every test</li>\n<li>If you want keep your database is clean, you need add @Rollback on top your class's name</li>\n<li>The error is caused by an immutable collection, since you did not attach the AgencyCreateDtoMother.random () implementation and the NotificationEmail, SupportContact classes, I can assume that when the random () method is called, an entity is created with some new parameter that is not in the hibernate context when updating, he tries to merge new ones changes, although this type should already be in the hibernate context, if you put an end to the thrown exception, it will be clear what the problem is</li>\n</ol>\n"}],"owner":{"account_id":12272729,"reputation":51,"user_id":9021108,"display_name":"maik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691160341,"creation_date":1691136128,"question_id":76834035,"body_markdown":"I&#39;m using spring boot 3 and junit 5. I implemented this tests for check agency CRUD operations.\r\n```java\r\n\r\n@SpringBootTest\r\nclass AgencyTest {\r\n\r\n    @Autowired\r\n    AgencyCreate agencyCreate;\r\n\r\n    @Autowired\r\n    AgencyUpdate agencyUpdate;\r\n\r\n    @Autowired\r\n    AgencyFind agencyFind;\r\n\r\n    @Autowired\r\n    AgencyDelete agencyDelete;\r\n\r\n    @Transactional\r\n    Long createAgency(){\r\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\r\n        return agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void create_agency(){\r\n\r\n        Long agencyId = createAgency();\r\n        assertTrue(agencyId &gt;= 100000L);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void create_agency_with_invalid_parameters(){\r\n\r\n        AgencyCreateDto agencyCreateDto = AgencyCreateDto.builder()\r\n                .name(null)\r\n                .build();\r\n\r\n        assertThrows(Exception.class, () -&gt; agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void update_agency(){\r\n\r\n        Long agencyId = createAgency();\r\n\r\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\r\n        assertDoesNotThrow(() -&gt; agencyUpdate.update(agencyId, agencyUpdateDto));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void update_agency_that_not_exist(){\r\n\r\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\r\n        assertThrows(Exception.class, () -&gt; agencyUpdate.update(ContentGenerator.customId(), agencyUpdateDto));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_by_id(){\r\n\r\n        Long agencyId = createAgency();\r\n\r\n        Agency agency = agencyFind.findById(agencyId);\r\n        assertEquals(agency.getId(), agencyId);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_by_id_that_not_exist(){\r\n\r\n        assertThrows(Exception.class, () -&gt; agencyFind.findById(ContentGenerator.customIdLower()));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_list(){\r\n\r\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(AgencyFindCriteriaMother.empty());\r\n        assertTrue(agencyList.size() &gt; 0);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_list_using_criteria(){\r\n\r\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\r\n        Long agencyId = agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\r\n\r\n        AgencyFindCriteria agencyFindCriteria = AgencyFindCriteriaMother.randomWithSpecificName(agencyCreateDto.getName());\r\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(agencyFindCriteria);\r\n\r\n        assertTrue(agencyList.stream().anyMatch(agency -&gt; agency.getId().equals(agencyId)));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void delete_agency(){\r\n\r\n        Long agencyId = createAgency();\r\n        assertDoesNotThrow(() -&gt; agencyDelete.deleteById(agencyId));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void delete_agency_that_not_exist(){\r\n\r\n        assertThrows(Exception.class, () -&gt; agencyDelete.deleteById(ContentGenerator.customId()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I launch the tests without @Transactional tags, all run well, but it dirty the database.   \r\nIf I launch the test with @Transactional tags, some tests fails, for example, update_agency(). \r\nThe error is:   \r\n\r\n```\r\nUnexpected exception thrown: java.lang.UnsupportedOperationException\r\norg.opentest4j.AssertionFailedError: Unexpected exception thrown: java.lang.UnsupportedOperationException\r\n\tat app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat app//org.junit.jupiter.api.AssertDoesNotThrow.createAssertionFailedError(AssertDoesNotThrow.java:84)\r\n\tat app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:53)\r\n\tat app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:36)\r\n\tat app//org.junit.jupiter.api.Assertions.assertDoesNotThrow(Assertions.java:3136)\r\n\tat app//agency.AgencyTest.update_agency(AgencyTest.java:72)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.lang.UnsupportedOperationException\r\n\tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n\tat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.clear(ImmutableCollections.java:149)\r\n\tat org.hibernate.type.CollectionType.replaceElements(CollectionType.java:525)\r\n\tat org.hibernate.type.CollectionType.replace(CollectionType.java:705)\r\n\tat org.hibernate.type.TypeHelper.replace(TypeHelper.java:117)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:490)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsPersistent(DefaultMergeEventListener.java:211)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:184)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy143.merge(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy147.save(Unknown Source)\r\n\tat .agency.application.update.AgencyUpdate.update(AgencyUpdate.java:25)\r\n\tat agency.AgencyTest.lambda$update_agency$1(AgencyTest.java:72)\r\n\tat org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:49)\r\n```\r\n\r\nWhy it fail?\r\nNote that this agency object is saved in three relational tables with foraign keys. \r\nRegards\r\n\r\n**ADDED MORE INFORMATION**\r\n\r\nAgencyUpdate class\r\n```\r\n@AllArgsConstructor\r\n@Service\r\npublic class AgencyUpdate {\r\n\r\n    @Autowired\r\n    AgencyJpaRepository agencyJpaRepository;\r\n\r\n    @Autowired\r\n    AgencyFind agencyFind;\r\n\r\n    public void update(Long agencyId, AgencyUpdateDto agencyUpdateDto){\r\n\r\n        Agency agency = agencyFind.findById(agencyId);\r\n        agency.aggregate(agencyUpdateDto);\r\n        agencyJpaRepository.save(agency);\r\n    }\r\n}\r\n```\r\n\r\nAgency class\r\n```\r\n@Getter\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@DynamicUpdate\r\n@Builder\r\npublic class Agency {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Column(name = &quot;technical_partner&quot;)\r\n    private String technicalPartner;\r\n\r\n    @Column(name = &quot;connector_partner&quot;)\r\n    private String connectorPartner;\r\n\r\n    private String certification;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;agency_support_contact&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\r\n    private List&lt;SupportContact&gt; supportContact;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;agency_notification_email&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\r\n    private List&lt;NotificationEmail&gt; notificationEmail;\r\n\r\n    public void aggregate(AgencyUpdateDto agencyUpdateDto){\r\n\r\n        if (agencyUpdateDto.getName() != null)\r\n            name = agencyUpdateDto.getName();\r\n\r\n        if (agencyUpdateDto.getTechnicalPartner() != null)\r\n            technicalPartner = agencyUpdateDto.getTechnicalPartner();\r\n\r\n        if (agencyUpdateDto.getConnectorPartner() != null)\r\n            connectorPartner = agencyUpdateDto.getConnectorPartner();\r\n\r\n        if (agencyUpdateDto.getCertification() != null)\r\n            certification = agencyUpdateDto.getCertification();\r\n\r\n        if (agencyUpdateDto.getSupportContactList() != null)\r\n            supportContact = agencyUpdateDto.getSupportContactList().stream().map(SupportContactFactory::create).toList();\r\n\r\n        if (agencyUpdateDto.getNotificationEmailList() != null)\r\n            notificationEmail = agencyUpdateDto.getNotificationEmailList().stream().map(NotificationEmailFactory::create).toList();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Spring boot some tests fails with @Transactional, but it run well without they","body":"<p>I'm using spring boot 3 and junit 5. I implemented this tests for check agency CRUD operations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootTest\nclass AgencyTest {\n\n    @Autowired\n    AgencyCreate agencyCreate;\n\n    @Autowired\n    AgencyUpdate agencyUpdate;\n\n    @Autowired\n    AgencyFind agencyFind;\n\n    @Autowired\n    AgencyDelete agencyDelete;\n\n    @Transactional\n    Long createAgency(){\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\n        return agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\n    }\n\n    @Test\n    @Transactional\n    void create_agency(){\n\n        Long agencyId = createAgency();\n        assertTrue(agencyId &gt;= 100000L);\n    }\n\n    @Test\n    @Transactional\n    void create_agency_with_invalid_parameters(){\n\n        AgencyCreateDto agencyCreateDto = AgencyCreateDto.builder()\n                .name(null)\n                .build();\n\n        assertThrows(Exception.class, () -&gt; agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;));\n    }\n\n    @Test\n    @Transactional\n    void update_agency(){\n\n        Long agencyId = createAgency();\n\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\n        assertDoesNotThrow(() -&gt; agencyUpdate.update(agencyId, agencyUpdateDto));\n    }\n\n    @Test\n    @Transactional\n    void update_agency_that_not_exist(){\n\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\n        assertThrows(Exception.class, () -&gt; agencyUpdate.update(ContentGenerator.customId(), agencyUpdateDto));\n    }\n\n    @Test\n    @Transactional\n    void find_agency_by_id(){\n\n        Long agencyId = createAgency();\n\n        Agency agency = agencyFind.findById(agencyId);\n        assertEquals(agency.getId(), agencyId);\n    }\n\n    @Test\n    @Transactional\n    void find_agency_by_id_that_not_exist(){\n\n        assertThrows(Exception.class, () -&gt; agencyFind.findById(ContentGenerator.customIdLower()));\n    }\n\n    @Test\n    @Transactional\n    void find_agency_list(){\n\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(AgencyFindCriteriaMother.empty());\n        assertTrue(agencyList.size() &gt; 0);\n    }\n\n    @Test\n    @Transactional\n    void find_agency_list_using_criteria(){\n\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\n        Long agencyId = agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\n\n        AgencyFindCriteria agencyFindCriteria = AgencyFindCriteriaMother.randomWithSpecificName(agencyCreateDto.getName());\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(agencyFindCriteria);\n\n        assertTrue(agencyList.stream().anyMatch(agency -&gt; agency.getId().equals(agencyId)));\n    }\n\n    @Test\n    @Transactional\n    void delete_agency(){\n\n        Long agencyId = createAgency();\n        assertDoesNotThrow(() -&gt; agencyDelete.deleteById(agencyId));\n    }\n\n    @Test\n    @Transactional\n    void delete_agency_that_not_exist(){\n\n        assertThrows(Exception.class, () -&gt; agencyDelete.deleteById(ContentGenerator.customId()));\n    }\n\n}\n</code></pre>\n<p>If I launch the tests without @Transactional tags, all run well, but it dirty the database.<br />\nIf I launch the test with @Transactional tags, some tests fails, for example, update_agency().\nThe error is:</p>\n<pre><code>Unexpected exception thrown: java.lang.UnsupportedOperationException\norg.opentest4j.AssertionFailedError: Unexpected exception thrown: java.lang.UnsupportedOperationException\n    at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\n    at app//org.junit.jupiter.api.AssertDoesNotThrow.createAssertionFailedError(AssertDoesNotThrow.java:84)\n    at app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:53)\n    at app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:36)\n    at app//org.junit.jupiter.api.Assertions.assertDoesNotThrow(Assertions.java:3136)\n    at app//agency.AgencyTest.update_agency(AgencyTest.java:72)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.clear(ImmutableCollections.java:149)\n    at org.hibernate.type.CollectionType.replaceElements(CollectionType.java:525)\n    at org.hibernate.type.CollectionType.replace(CollectionType.java:705)\n    at org.hibernate.type.TypeHelper.replace(TypeHelper.java:117)\n    at org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:490)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsPersistent(DefaultMergeEventListener.java:211)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:184)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)\n    at jdk.proxy3/jdk.proxy3.$Proxy143.merge(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy147.save(Unknown Source)\n    at .agency.application.update.AgencyUpdate.update(AgencyUpdate.java:25)\n    at agency.AgencyTest.lambda$update_agency$1(AgencyTest.java:72)\n    at org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:49)\n</code></pre>\n<p>Why it fail?\nNote that this agency object is saved in three relational tables with foraign keys.\nRegards</p>\n<p><strong>ADDED MORE INFORMATION</strong></p>\n<p>AgencyUpdate class</p>\n<pre><code>@AllArgsConstructor\n@Service\npublic class AgencyUpdate {\n\n    @Autowired\n    AgencyJpaRepository agencyJpaRepository;\n\n    @Autowired\n    AgencyFind agencyFind;\n\n    public void update(Long agencyId, AgencyUpdateDto agencyUpdateDto){\n\n        Agency agency = agencyFind.findById(agencyId);\n        agency.aggregate(agencyUpdateDto);\n        agencyJpaRepository.save(agency);\n    }\n}\n</code></pre>\n<p>Agency class</p>\n<pre><code>@Getter\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@DynamicUpdate\n@Builder\npublic class Agency {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @Column(name = &quot;technical_partner&quot;)\n    private String technicalPartner;\n\n    @Column(name = &quot;connector_partner&quot;)\n    private String connectorPartner;\n\n    private String certification;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;agency_support_contact&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\n    private List&lt;SupportContact&gt; supportContact;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;agency_notification_email&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\n    private List&lt;NotificationEmail&gt; notificationEmail;\n\n    public void aggregate(AgencyUpdateDto agencyUpdateDto){\n\n        if (agencyUpdateDto.getName() != null)\n            name = agencyUpdateDto.getName();\n\n        if (agencyUpdateDto.getTechnicalPartner() != null)\n            technicalPartner = agencyUpdateDto.getTechnicalPartner();\n\n        if (agencyUpdateDto.getConnectorPartner() != null)\n            connectorPartner = agencyUpdateDto.getConnectorPartner();\n\n        if (agencyUpdateDto.getCertification() != null)\n            certification = agencyUpdateDto.getCertification();\n\n        if (agencyUpdateDto.getSupportContactList() != null)\n            supportContact = agencyUpdateDto.getSupportContactList().stream().map(SupportContactFactory::create).toList();\n\n        if (agencyUpdateDto.getNotificationEmailList() != null)\n            notificationEmail = agencyUpdateDto.getNotificationEmailList().stream().map(NotificationEmailFactory::create).toList();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","amazon-elasticache"],"answers":[{"tags":[],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691159184,"creation_date":1691159184,"answer_id":76836828,"question_id":76835574,"body_markdown":"Found the solution in [the Spring docs][1].\r\n\r\nIn case it will be useful for someone.\r\nIt turns out that the problem was the annotation.\r\n\r\n    @EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\r\n\r\nThe annotation by default tries to set up the &quot;Ex&quot; value for the key notify-keyspace-events in Redis. \r\n\r\nThere is a note about that in the Spring docs\r\n[![enter image description here][2]][2]\r\n\r\nThe solution was to add parameter keyspaceNotificationsConfigParameter=&quot;&quot; which prevents the attempt of setting the key value\r\n\r\n    @EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP,\r\n        keyspaceNotificationsConfigParameter = &quot;&quot;)\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.repositories.expirations\r\n  [2]: https://i.stack.imgur.com/vPWf1.png","title":"The RedisCommandExecutionException, while Spring Data Redis execute CONFIG, GET command in the Redis server","body":"<p>Found the solution in <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.repositories.expirations\" rel=\"nofollow noreferrer\">the Spring docs</a>.</p>\n<p>In case it will be useful for someone.\nIt turns out that the problem was the annotation.</p>\n<pre><code>@EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\n</code></pre>\n<p>The annotation by default tries to set up the &quot;Ex&quot; value for the key notify-keyspace-events in Redis.</p>\n<p>There is a note about that in the Spring docs\n<a href=\"https://i.stack.imgur.com/vPWf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPWf1.png\" alt=\"enter image description here\" /></a></p>\n<p>The solution was to add parameter keyspaceNotificationsConfigParameter=&quot;&quot; which prevents the attempt of setting the key value</p>\n<pre><code>@EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP,\n    keyspaceNotificationsConfigParameter = &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691159184,"creation_date":1691149400,"question_id":76835574,"body_markdown":"I have a Spring Boot 3 based project. Which uses the Ridis server as DB. \r\nIt is a simple project and everything is auto-configured by spring-boot-starter-data-redis module\r\n\r\nThe entity:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @RedisHash\r\n    public class ValidatedPhone {\r\n\r\n      @Id\r\n      private String phoneNumber;\r\n      @Indexed\r\n      private int profileId;\r\n      @TimeToLive\r\n      private long timeToLive;\r\n\r\n    }\r\n\r\nThe repository:\r\n\r\n    public interface ValidatedPhoneRepository extends CrudRepository&lt;ValidatedPhone, String&gt; {}\r\n\r\nThe configuration:\r\n\r\n    @Configuration\r\n    @ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)\r\n    @EnableRedisRepositories(enableKeyspaceEvents = \r\n    RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\r\n    public class RedisConfiguration {\r\n    }\r\n\r\nProperties file:\r\n\r\n    spring:\r\n      data:\r\n      redis:\r\n        host: ${redis.server.url}\r\n        username: ${redis.server.user}\r\n        password: ${redis.server.password}\r\n        ssl:\r\n          enabled: true\r\n\r\n\r\nLocally, with Redis 6.2, everything works fine. The problem happens when the project is deployed to AWS Cloud with **AWS Elasticache Redis**. \r\n\r\nThe exception\r\n\r\n&gt; Caused by: io.lettuce.core.RedisCommandExecutionException: ERR unknown command `CONFIG`, with args beginning with: `GET`, `notify-keyspace-events`\r\n\r\nProbably AWS Redis has some restrictions for executing the CONFIG command.\r\n\r\nMy by I need some custom redis configuration to avoid calling CONFIG command? Or my be some other solution?","title":"The RedisCommandExecutionException, while Spring Data Redis execute CONFIG, GET command in the Redis server","body":"<p>I have a Spring Boot 3 based project. Which uses the Ridis server as DB.\nIt is a simple project and everything is auto-configured by spring-boot-starter-data-redis module</p>\n<p>The entity:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@RedisHash\npublic class ValidatedPhone {\n\n  @Id\n  private String phoneNumber;\n  @Indexed\n  private int profileId;\n  @TimeToLive\n  private long timeToLive;\n\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>public interface ValidatedPhoneRepository extends CrudRepository&lt;ValidatedPhone, String&gt; {}\n</code></pre>\n<p>The configuration:</p>\n<pre><code>@Configuration\n@ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)\n@EnableRedisRepositories(enableKeyspaceEvents = \nRedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\npublic class RedisConfiguration {\n}\n</code></pre>\n<p>Properties file:</p>\n<pre><code>spring:\n  data:\n  redis:\n    host: ${redis.server.url}\n    username: ${redis.server.user}\n    password: ${redis.server.password}\n    ssl:\n      enabled: true\n</code></pre>\n<p>Locally, with Redis 6.2, everything works fine. The problem happens when the project is deployed to AWS Cloud with <strong>AWS Elasticache Redis</strong>.</p>\n<p>The exception</p>\n<blockquote>\n<p>Caused by: io.lettuce.core.RedisCommandExecutionException: ERR unknown command <code>CONFIG</code>, with args beginning with: <code>GET</code>, <code>notify-keyspace-events</code></p>\n</blockquote>\n<p>Probably AWS Redis has some restrictions for executing the CONFIG command.</p>\n<p>My by I need some custom redis configuration to avoid calling CONFIG command? Or my be some other solution?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","database-performance"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1691101556,"post_id":76829834,"comment_id":135450256,"body_markdown":"You have a lot of `DBRef` attributes. Try to disable them or set `lazy=true` to test your query performance. Please provide log details, [measure elapsed](https://www.baeldung.com/java-measure-elapsed-time#java-8) time, etc.","body":"You have a lot of <code>DBRef</code> attributes. Try to disable them or set <code>lazy=true</code> to test your query performance. Please provide log details, <a href=\"https://www.baeldung.com/java-measure-elapsed-time#java-8\" rel=\"nofollow noreferrer\">measure elapsed</a> time, etc."},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1691158932,"post_id":76829834,"comment_id":135458296,"body_markdown":"My mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds.\nHowever when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system.","body":"My mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds. However when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system."}],"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691158974,"creation_date":1691078705,"question_id":76829834,"body_markdown":"I have mongodb collection called &quot;product&quot; which contains following type of documents:\r\n\r\n\r\n    {\r\n        &quot;_id&quot; : &quot;64a1583ab9ec356358be7853&quot;,\r\n        &quot;productId&quot; : Long(&quot;7&quot;),\r\n        &quot;name&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine (P7020NGAZ)&quot;,\r\n        &quot;description&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine is designed to handle a 7 kg laundry load, making it suitable for small to medium-sized households. It features a top-loading design, allowing for easy loading and unloading of clothes. \\r\\n\\r\\nBrand  ‎LG\\r\\nModel   P7020NGAZ\\r\\nCapacity  ‎7 Kilograms\\r\\nMaximum Rotational Speed   ‎1300 RPM\\r\\nInstallation Type   ‎Free Standing\\r\\nPart Number   20NGAZ\\r\\nForm Factor  ‎Stand alone\\r\\nSpecial Features   ‎Wind Jet Dry, Collar Scrubber, Rat Away Technology, Rust Free Plastic Base\\r\\nControl Console   ‎Knob\\r\\nNumber of Option Cycles  3\\r\\nAccess Location   ‎Top Load\\r\\nVoltage   ‎230 Volts\\r\\nWattage   ‎360 Watts\\r\\nCertification   ‎Energy Star\\r\\nMaterial   Plastic\\r\\nBatteries Included   ‎No\\r\\nBatteries Required   No\\r\\nManufacturer   ‎LG Electronics India Pvt. Ltd.\\r\\nCountry of Origin   ‎India&quot;,\r\n        &quot;photos&quot; : [\r\n            &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/mlri14107249018289122.jpg&quot;,\r\n            &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/tl5714107248740599521.jpg&quot;,\r\n            &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/kj0z14107248662853011.jpg&quot;\r\n        ],\r\n        &quot;price&quot; : 10800.0,\r\n        &quot;sellingPrice&quot; : 10800.0,\r\n        &quot;weight&quot; : 0.0,\r\n        &quot;reward&quot; : 25.0,\r\n        &quot;gstPercentage&quot; : 4.5,\r\n        &quot;minQty&quot; : 1,\r\n        &quot;maxQty&quot; : 100,\r\n        &quot;totalStockAvailable&quot; : 150,\r\n        &quot;featuredProduct&quot; : true,\r\n        &quot;sku&quot; : &quot;&quot;,\r\n        &quot;categoryId&quot; : Long(&quot;2&quot;),\r\n        &quot;sellerId&quot; : Long(&quot;7&quot;),\r\n        &quot;subCategoryId&quot; : Long(&quot;16&quot;),\r\n        &quot;brand&quot; : DBRef(&quot;brand&quot;, &quot;64a06d723eaf681bbc77e165&quot;),\r\n        &quot;user&quot; : {\r\n            &quot;_id&quot; : &quot;64a122f6b9ec356358be7848&quot;,\r\n            &quot;email&quot; : &quot;kushaljain1256@gmail.com&quot;,\r\n            &quot;username&quot; : &quot;Kushalj&quot;,\r\n            &quot;password&quot; : &quot;{bcrypt}$2a$10$lbwmsJ.gP74thXP/HGbp7O9I6kZnzy.2NSfM5Gmx2U5HRS/9SdDRa&quot;,\r\n            &quot;firstName&quot; : &quot;Kushal &quot;,\r\n            &quot;lastName&quot; : &quot;Jain&quot;,\r\n            &quot;phoneNumber&quot; : &quot;8005812294&quot;,\r\n            &quot;userId&quot; : Long(&quot;7&quot;),\r\n            &quot;pincode&quot; : &quot;304001&quot;,\r\n            &quot;address&quot; : &quot;Sharma Colony, Tonk&quot;,\r\n            &quot;city&quot; : &quot;Tonk&quot;,\r\n            &quot;state&quot; : &quot;Rajasthan&quot;,\r\n            &quot;pancard&quot; : &quot;undefined&quot;,\r\n            &quot;aadhar&quot; : &quot;undefined&quot;,\r\n            &quot;businessName&quot; : &quot;Rajasthan Electronics&quot;,\r\n            &quot;businessType&quot; : &quot;Electronics &amp; Electrical &quot;,\r\n            &quot;walletBalance&quot; : 50.0,\r\n            &quot;active&quot; : true,\r\n            &quot;mobileVerified&quot; : true,\r\n            &quot;emailVerified&quot; : true,\r\n            &quot;subscribed&quot; : false,\r\n            &quot;referralCode&quot; : &quot;o5be9b&quot;,\r\n            &quot;deviceDetail&quot; : {\r\n                &quot;deviceToken&quot; : &quot;ekj5ioLhRXmcrk3nztNfnH:APA91bGoak8zfrW-x3Di-rr2PjQ-sIVYh_jCSgBeWj53sC0ytmndKH7YrTgoRwkb5RfVDyBf2iYeysOCMhNNtgzkvb-RBHyTsz8xKgOLWdGBD8xXwQEf4h0nJXdGQy6ZwSvle2tYb08g&quot;,\r\n                &quot;deviceType&quot; : &quot;android&quot;,\r\n                &quot;os&quot; : &quot;android&quot;,\r\n                &quot;osVersion&quot; : &quot;11&quot;,\r\n                &quot;appVersion&quot; : &quot;1.8&quot;,\r\n                &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T09:39:26.527+0000&quot;)\r\n            },\r\n            &quot;isReferred&quot; : false,\r\n            &quot;isPushEnabled&quot; : true,\r\n            &quot;roles&quot; : [\r\n                DBRef(&quot;role&quot;, &quot;649fbe99196ccf0b66ba0398&quot;),\r\n                DBRef(&quot;role&quot;, &quot;64a123adb9ec356358be784c&quot;)\r\n            ],\r\n            &quot;categories&quot; : [\r\n                DBRef(&quot;category&quot;, &quot;64a0598e3eaf681bbc77e160&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a057ce3eaf681bbc77e15f&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a05a323eaf681bbc77e161&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a05b8d3eaf681bbc77e162&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a05d563eaf681bbc77e163&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a0ffa73eaf681bbc77e168&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a1022e3eaf681bbc77e169&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64c7ad26ef0147741249e205&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64c7adabef0147741249e206&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64c7a66aef0147741249e204&quot;)\r\n            ],\r\n            &quot;displayName&quot; : &quot;BO-7&quot;,\r\n            &quot;createDate&quot; : ISODate(&quot;2023-07-02T07:10:46.044+0000&quot;),\r\n            &quot;lastModifiedDate&quot; : ISODate(&quot;2023-07-31T12:53:29.658+0000&quot;)\r\n        },\r\n        &quot;note&quot; : &quot;null&quot;,\r\n        &quot;shipping&quot; : {\r\n            &quot;shippingType&quot; : &quot;ORDER_AMOUNT&quot;,\r\n            &quot;amount&quot; : 40.0,\r\n            &quot;minAmount&quot; : 80.0,\r\n            &quot;maxAmount&quot; : 120.0,\r\n            &quot;shippingAllIndia&quot; : true,\r\n            &quot;minWeight&quot; : 0.0,\r\n            &quot;maxWeight&quot; : 0.0,\r\n            &quot;range&quot; : 0.0,\r\n            &quot;createDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;),\r\n            &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;)\r\n        },\r\n        &quot;active&quot; : true,\r\n        &quot;createDate&quot; : ISODate(&quot;2023-07-02T10:58:02.455+0000&quot;),\r\n        &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T15:29:16.697+0000&quot;),\r\n        &quot;_class&quot; : &quot;com.electrotrade.model.Product&quot;\r\n    }\r\n\r\n\r\nI have around only 200 documents so far but when I query the document using Java spring boot mongo data as below query,\r\n\r\n    public interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\r\n    \r\n        List&lt;Product&gt; findAll();\r\n        \r\n    }\r\n\r\n\r\nit takes more than **62 seconds**  to fetch those 200 records.\r\nThe DBRef fields are only of 4-5 simple String type fields in their own collection like for example &quot;Brand&quot; in this case.\r\n\r\nCan someone please help me how i should optimize the fetching to be more efficient as I am 100% sure that this is not the expected time for mere 200 records for mongodb to fetch.\r\nShould be hardly 1-2 seconds I guess.\r\n\r\n **Important Note** \r\n\r\nMy mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds.\r\nHowever when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system.\r\n","title":"Slow mongodb query for just 200 simple records in collection , query optimization","body":"<p>I have mongodb collection called &quot;product&quot; which contains following type of documents:</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;64a1583ab9ec356358be7853&quot;,\n    &quot;productId&quot; : Long(&quot;7&quot;),\n    &quot;name&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine (P7020NGAZ)&quot;,\n    &quot;description&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine is designed to handle a 7 kg laundry load, making it suitable for small to medium-sized households. It features a top-loading design, allowing for easy loading and unloading of clothes. \\r\\n\\r\\nBrand  ‎LG\\r\\nModel   P7020NGAZ\\r\\nCapacity  ‎7 Kilograms\\r\\nMaximum Rotational Speed   ‎1300 RPM\\r\\nInstallation Type   ‎Free Standing\\r\\nPart Number   20NGAZ\\r\\nForm Factor  ‎Stand alone\\r\\nSpecial Features   ‎Wind Jet Dry, Collar Scrubber, Rat Away Technology, Rust Free Plastic Base\\r\\nControl Console   ‎Knob\\r\\nNumber of Option Cycles  3\\r\\nAccess Location   ‎Top Load\\r\\nVoltage   ‎230 Volts\\r\\nWattage   ‎360 Watts\\r\\nCertification   ‎Energy Star\\r\\nMaterial   Plastic\\r\\nBatteries Included   ‎No\\r\\nBatteries Required   No\\r\\nManufacturer   ‎LG Electronics India Pvt. Ltd.\\r\\nCountry of Origin   ‎India&quot;,\n    &quot;photos&quot; : [\n        &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/mlri14107249018289122.jpg&quot;,\n        &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/tl5714107248740599521.jpg&quot;,\n        &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/kj0z14107248662853011.jpg&quot;\n    ],\n    &quot;price&quot; : 10800.0,\n    &quot;sellingPrice&quot; : 10800.0,\n    &quot;weight&quot; : 0.0,\n    &quot;reward&quot; : 25.0,\n    &quot;gstPercentage&quot; : 4.5,\n    &quot;minQty&quot; : 1,\n    &quot;maxQty&quot; : 100,\n    &quot;totalStockAvailable&quot; : 150,\n    &quot;featuredProduct&quot; : true,\n    &quot;sku&quot; : &quot;&quot;,\n    &quot;categoryId&quot; : Long(&quot;2&quot;),\n    &quot;sellerId&quot; : Long(&quot;7&quot;),\n    &quot;subCategoryId&quot; : Long(&quot;16&quot;),\n    &quot;brand&quot; : DBRef(&quot;brand&quot;, &quot;64a06d723eaf681bbc77e165&quot;),\n    &quot;user&quot; : {\n        &quot;_id&quot; : &quot;64a122f6b9ec356358be7848&quot;,\n        &quot;email&quot; : &quot;kushaljain1256@gmail.com&quot;,\n        &quot;username&quot; : &quot;Kushalj&quot;,\n        &quot;password&quot; : &quot;{bcrypt}$2a$10$lbwmsJ.gP74thXP/HGbp7O9I6kZnzy.2NSfM5Gmx2U5HRS/9SdDRa&quot;,\n        &quot;firstName&quot; : &quot;Kushal &quot;,\n        &quot;lastName&quot; : &quot;Jain&quot;,\n        &quot;phoneNumber&quot; : &quot;8005812294&quot;,\n        &quot;userId&quot; : Long(&quot;7&quot;),\n        &quot;pincode&quot; : &quot;304001&quot;,\n        &quot;address&quot; : &quot;Sharma Colony, Tonk&quot;,\n        &quot;city&quot; : &quot;Tonk&quot;,\n        &quot;state&quot; : &quot;Rajasthan&quot;,\n        &quot;pancard&quot; : &quot;undefined&quot;,\n        &quot;aadhar&quot; : &quot;undefined&quot;,\n        &quot;businessName&quot; : &quot;Rajasthan Electronics&quot;,\n        &quot;businessType&quot; : &quot;Electronics &amp; Electrical &quot;,\n        &quot;walletBalance&quot; : 50.0,\n        &quot;active&quot; : true,\n        &quot;mobileVerified&quot; : true,\n        &quot;emailVerified&quot; : true,\n        &quot;subscribed&quot; : false,\n        &quot;referralCode&quot; : &quot;o5be9b&quot;,\n        &quot;deviceDetail&quot; : {\n            &quot;deviceToken&quot; : &quot;ekj5ioLhRXmcrk3nztNfnH:APA91bGoak8zfrW-x3Di-rr2PjQ-sIVYh_jCSgBeWj53sC0ytmndKH7YrTgoRwkb5RfVDyBf2iYeysOCMhNNtgzkvb-RBHyTsz8xKgOLWdGBD8xXwQEf4h0nJXdGQy6ZwSvle2tYb08g&quot;,\n            &quot;deviceType&quot; : &quot;android&quot;,\n            &quot;os&quot; : &quot;android&quot;,\n            &quot;osVersion&quot; : &quot;11&quot;,\n            &quot;appVersion&quot; : &quot;1.8&quot;,\n            &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T09:39:26.527+0000&quot;)\n        },\n        &quot;isReferred&quot; : false,\n        &quot;isPushEnabled&quot; : true,\n        &quot;roles&quot; : [\n            DBRef(&quot;role&quot;, &quot;649fbe99196ccf0b66ba0398&quot;),\n            DBRef(&quot;role&quot;, &quot;64a123adb9ec356358be784c&quot;)\n        ],\n        &quot;categories&quot; : [\n            DBRef(&quot;category&quot;, &quot;64a0598e3eaf681bbc77e160&quot;),\n            DBRef(&quot;category&quot;, &quot;64a057ce3eaf681bbc77e15f&quot;),\n            DBRef(&quot;category&quot;, &quot;64a05a323eaf681bbc77e161&quot;),\n            DBRef(&quot;category&quot;, &quot;64a05b8d3eaf681bbc77e162&quot;),\n            DBRef(&quot;category&quot;, &quot;64a05d563eaf681bbc77e163&quot;),\n            DBRef(&quot;category&quot;, &quot;64a0ffa73eaf681bbc77e168&quot;),\n            DBRef(&quot;category&quot;, &quot;64a1022e3eaf681bbc77e169&quot;),\n            DBRef(&quot;category&quot;, &quot;64c7ad26ef0147741249e205&quot;),\n            DBRef(&quot;category&quot;, &quot;64c7adabef0147741249e206&quot;),\n            DBRef(&quot;category&quot;, &quot;64c7a66aef0147741249e204&quot;)\n        ],\n        &quot;displayName&quot; : &quot;BO-7&quot;,\n        &quot;createDate&quot; : ISODate(&quot;2023-07-02T07:10:46.044+0000&quot;),\n        &quot;lastModifiedDate&quot; : ISODate(&quot;2023-07-31T12:53:29.658+0000&quot;)\n    },\n    &quot;note&quot; : &quot;null&quot;,\n    &quot;shipping&quot; : {\n        &quot;shippingType&quot; : &quot;ORDER_AMOUNT&quot;,\n        &quot;amount&quot; : 40.0,\n        &quot;minAmount&quot; : 80.0,\n        &quot;maxAmount&quot; : 120.0,\n        &quot;shippingAllIndia&quot; : true,\n        &quot;minWeight&quot; : 0.0,\n        &quot;maxWeight&quot; : 0.0,\n        &quot;range&quot; : 0.0,\n        &quot;createDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;),\n        &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;)\n    },\n    &quot;active&quot; : true,\n    &quot;createDate&quot; : ISODate(&quot;2023-07-02T10:58:02.455+0000&quot;),\n    &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T15:29:16.697+0000&quot;),\n    &quot;_class&quot; : &quot;com.electrotrade.model.Product&quot;\n}\n</code></pre>\n<p>I have around only 200 documents so far but when I query the document using Java spring boot mongo data as below query,</p>\n<pre><code>public interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\n\n    List&lt;Product&gt; findAll();\n    \n}\n</code></pre>\n<p>it takes more than <strong>62 seconds</strong>  to fetch those 200 records.\nThe DBRef fields are only of 4-5 simple String type fields in their own collection like for example &quot;Brand&quot; in this case.</p>\n<p>Can someone please help me how i should optimize the fetching to be more efficient as I am 100% sure that this is not the expected time for mere 200 records for mongodb to fetch.\nShould be hardly 1-2 seconds I guess.</p>\n<p><strong>Important Note</strong></p>\n<p>My mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds.\nHowever when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system.</p>\n"},{"tags":["java","jsp","struts2","displaytag"],"answers":[{"comments":[{"owner":{"account_id":2735686,"reputation":33,"user_id":2358426,"accept_rate":25,"display_name":"user2358426"},"score":0,"creation_date":1367934986,"post_id":16420394,"comment_id":23545770,"body_markdown":"Hi Roman, Thanks for the Reply selectedUser is not a list but one user.","body":"Hi Roman, Thanks for the Reply selectedUser is not a list but one user."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1367935675,"post_id":16420394,"comment_id":23546224,"body_markdown":"When you get the list then you figure out what the user is selected.","body":"When you get the list then you figure out what the user is selected."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367933586,"creation_date":1367933586,"answer_id":16420394,"question_id":16420101,"body_markdown":"You could take a value from\r\n\r\n    &lt;display:table uid=&quot;row&quot; id=&quot;conf&quot; name=&quot;users&quot; requestURI=&quot;viewUsers.action&quot; pagesize=&quot;10&quot;&gt;\r\n      &lt;display:column title=&quot;Edit&quot; scope=&quot;request&quot;&gt;\r\n        &lt;input type=&quot;radio&quot; name=&quot;selectedUser[%{#attr.row_rowNum - 1}]&quot;  value=&quot;&lt;s:property value=&quot;%{#attr.row.username}&quot;/&gt;&quot; onclick=&quot;getValue()&quot; /&gt;\r\n\r\nto `selectedUser` list. \r\n\r\n`${}` is for EL expressions to reference attributes that you haven&#39;t put into request or session, etc.\r\n","title":"Struts 2 display tag/radio button","body":"<p>You could take a value from</p>\n\n<pre><code>&lt;display:table uid=\"row\" id=\"conf\" name=\"users\" requestURI=\"viewUsers.action\" pagesize=\"10\"&gt;\n  &lt;display:column title=\"Edit\" scope=\"request\"&gt;\n    &lt;input type=\"radio\" name=\"selectedUser[%{#attr.row_rowNum - 1}]\"  value=\"&lt;s:property value=\"%{#attr.row.username}\"/&gt;\" onclick=\"getValue()\" /&gt;\n</code></pre>\n\n<p>to <code>selectedUser</code> list. </p>\n\n<p><code>${}</code> is for EL expressions to reference attributes that you haven't put into request or session, etc.</p>\n"}],"owner":{"account_id":2735686,"reputation":33,"user_id":2358426,"accept_rate":25,"display_name":"user2358426"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691158653,"creation_date":1367932629,"question_id":16420101,"body_markdown":"I had a working display tag radio button with the below code. Below is the code :\r\n\r\n     &lt;s:form action=&quot;deleteUser.action&quot; method=&quot;post&quot;&gt;\r\n        &lt;display:table id=&quot;conf&quot; name=&quot;users&quot; requestURI=&quot;viewUsers.action&quot; pagesize=&quot;10&quot;&gt;\r\n            &lt;display:column title=&quot;Edit&quot; scope=&quot;request&quot;&gt;\r\n                &lt;input type=&quot;radio&quot; name=&quot;selectedUser&quot; value=&quot;${conf.username}&quot; onclick=&quot;getValue()&quot; /&gt;\r\n            &lt;/display:column&gt;\r\n            &lt;display:column property=&quot;username&quot; title=&quot;User Name&quot; /&gt;\r\n            &lt;display:column property=&quot;email&quot; title=&quot;Email&quot; /&gt;\r\n            &lt;display:column property=&quot;role&quot; title=&quot;Role&quot; /&gt;&lt;/display:table&gt;&lt;s:submit method=&quot;deleteUser&quot; key=&quot;Delete User&quot; align=&quot;center&quot; /&gt;\r\n    &lt;/s:form&gt;\r\n\r\nI have upgraded `strtus2-core-2.3.4.jar` to `strtus2-core-2.3.14.jar` and some other jars. \r\n\r\nNow when I select a radio button and click &quot;submit&quot; I do not get the underlying value of the radio button instead I get `${conf.username}` into my POJO field. Did anyone face this? Am I missing any libraries?","title":"Struts 2 display tag/radio button","body":"<p>I had a working display tag radio button with the below code. Below is the code :</p>\n<pre><code> &lt;s:form action=&quot;deleteUser.action&quot; method=&quot;post&quot;&gt;\n    &lt;display:table id=&quot;conf&quot; name=&quot;users&quot; requestURI=&quot;viewUsers.action&quot; pagesize=&quot;10&quot;&gt;\n        &lt;display:column title=&quot;Edit&quot; scope=&quot;request&quot;&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;selectedUser&quot; value=&quot;${conf.username}&quot; onclick=&quot;getValue()&quot; /&gt;\n        &lt;/display:column&gt;\n        &lt;display:column property=&quot;username&quot; title=&quot;User Name&quot; /&gt;\n        &lt;display:column property=&quot;email&quot; title=&quot;Email&quot; /&gt;\n        &lt;display:column property=&quot;role&quot; title=&quot;Role&quot; /&gt;&lt;/display:table&gt;&lt;s:submit method=&quot;deleteUser&quot; key=&quot;Delete User&quot; align=&quot;center&quot; /&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p>I have upgraded <code>strtus2-core-2.3.4.jar</code> to <code>strtus2-core-2.3.14.jar</code> and some other jars.</p>\n<p>Now when I select a radio button and click &quot;submit&quot; I do not get the underlying value of the radio button instead I get <code>${conf.username}</code> into my POJO field. Did anyone face this? Am I missing any libraries?</p>\n"},{"tags":["java","sql","sonarqube"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1691173007,"post_id":76836394,"comment_id":135461190,"body_markdown":"You can try creating a method for the query, that may fool Sonar. Otherwise mark this as &quot;false positive&quot; in the Sonar UI (if you have one), with a comment why.","body":"You can try creating a method for the query, that may fool Sonar. Otherwise mark this as &quot;false positive&quot; in the Sonar UI (if you have one), with a comment why."}],"answers":[{"tags":[],"owner":{"account_id":4895504,"reputation":702,"user_id":4253293,"accept_rate":50,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691158603,"creation_date":1691158603,"answer_id":76836754,"question_id":76836394,"body_markdown":"Your query (as shown) is correct and is not actually vulnerable to SQL injection.  That said, there are difficulties in writing a static code analyzer.  It sees that you are building a SQL query and concatenating based on input which is THE classic marker for a SQL injection vulnerability.\r\n\r\nThis is one of those situations where it&#39;s probably easier just to refactor your code than to try to fix the tool.  Tools like Sonar really are great and they find a lot of good stuff, but sometimes you get a false positive.  I would NOT just ignore it ... you don&#39;t want to get in the habit of ignoring warnings about something like SQL Injection.","title":"Conditional NULL check in prepared statement Sonar error","body":"<p>Your query (as shown) is correct and is not actually vulnerable to SQL injection.  That said, there are difficulties in writing a static code analyzer.  It sees that you are building a SQL query and concatenating based on input which is THE classic marker for a SQL injection vulnerability.</p>\n<p>This is one of those situations where it's probably easier just to refactor your code than to try to fix the tool.  Tools like Sonar really are great and they find a lot of good stuff, but sometimes you get a false positive.  I would NOT just ignore it ... you don't want to get in the habit of ignoring warnings about something like SQL Injection.</p>\n"}],"owner":{"account_id":7576582,"reputation":120,"user_id":5748763,"display_name":"Ratoone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691158603,"creation_date":1691155729,"question_id":76836394,"body_markdown":"I&#39;m trying to write a prepared statement in Java to conditionally filter for rows that contain or not a certain field. However, Sonar gives me a linter error: `This use of java/sql/Connection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; can be vulnerable to SQL injection (with JDBC)`. The query looks like this:\r\n```java\r\nString query = &quot;SELECT * from my_table t &quot; +\r\n    &quot;WHERE t.connection_id IS &quot; + (connected ? &quot;NOT &quot; : &quot;&quot;) + &quot;NULL &quot; +\r\n    (search.isEmpty() ? &quot;&quot; : &quot;AND (t.source LIKE ?)&quot;);\r\nPreparedStatement statement = connection.prepareStatement(query);\r\n```\r\nWhat&#39;s interesting is that I didn&#39;t get the error when I only had the search in place - so I expected to have the error for either both the search and the filter, or for neither of them. \r\n\r\nI have tried also to change the second line to:\r\n```\r\n&quot;WHERE &quot; + (connected ? &quot;t.connection_id IS NOT NULL &quot; : &quot;t.connection_id IS NULL &quot;) +\r\n```\r\nbut no change. Am I missing something? Is there something I can do to fix the error, or should I just ignore it?","title":"Conditional NULL check in prepared statement Sonar error","body":"<p>I'm trying to write a prepared statement in Java to conditionally filter for rows that contain or not a certain field. However, Sonar gives me a linter error: <code>This use of java/sql/Connection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; can be vulnerable to SQL injection (with JDBC)</code>. The query looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * from my_table t &quot; +\n    &quot;WHERE t.connection_id IS &quot; + (connected ? &quot;NOT &quot; : &quot;&quot;) + &quot;NULL &quot; +\n    (search.isEmpty() ? &quot;&quot; : &quot;AND (t.source LIKE ?)&quot;);\nPreparedStatement statement = connection.prepareStatement(query);\n</code></pre>\n<p>What's interesting is that I didn't get the error when I only had the search in place - so I expected to have the error for either both the search and the filter, or for neither of them.</p>\n<p>I have tried also to change the second line to:</p>\n<pre><code>&quot;WHERE &quot; + (connected ? &quot;t.connection_id IS NOT NULL &quot; : &quot;t.connection_id IS NULL &quot;) +\n</code></pre>\n<p>but no change. Am I missing something? Is there something I can do to fix the error, or should I just ignore it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":20,"creation_date":1376594908,"post_id":18260213,"comment_id":26779888,"body_markdown":"Why don&#39;t you try it?","body":"Why don&#39;t you try it?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":1,"creation_date":1376594956,"post_id":18260213,"comment_id":26779914,"body_markdown":"The default value of a numerical data type is 0, so yes.","body":"The default value of a numerical data type is 0, so yes."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1376600576,"post_id":18260213,"comment_id":26783009,"body_markdown":"There is positive and negative zero and `x == 0` tests for both and will never give you an exception or error. You only get a divide by zero error to you divide two *integers* and the denominator is 0. Since you are using floating point, you will never get an exception.","body":"There is positive and negative zero and <code>x == 0</code> tests for both and will never give you an exception or error. You only get a divide by zero error to you divide two <i>integers</i> and the denominator is 0. Since you are using floating point, you will never get an exception."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1376612458,"post_id":18260213,"comment_id":26786747,"body_markdown":"&quot;&#39;x&#39; hasn&#39;t been set to anything yet&quot;. Yes it has. It is a member variable, so it is set to zero by default.","body":"&quot;&#39;x&#39; hasn&#39;t been set to anything yet&quot;. Yes it has. It is a member variable, so it is set to zero by default."}],"answers":[{"comments":[{"owner":{"account_id":42916,"reputation":22357,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"score":0,"creation_date":1376595105,"post_id":18260244,"comment_id":26780001,"body_markdown":"Not true only PRIMITIVES default Double (whereas this is double) would be null","body":"Not true only PRIMITIVES default Double (whereas this is double) would be null"},{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":0,"creation_date":1376595137,"post_id":18260244,"comment_id":26780019,"body_markdown":"@Jackie Double is not a numeric type.","body":"@Jackie Double is not a numeric type."},{"owner":{"account_id":42916,"reputation":22357,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"score":0,"creation_date":1376595164,"post_id":18260244,"comment_id":26780036,"body_markdown":"What do you mean by numeric type? Are you trying to say primitive?","body":"What do you mean by numeric type? Are you trying to say primitive?"},{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":0,"creation_date":1376595199,"post_id":18260244,"comment_id":26780061,"body_markdown":"@Jackie: Yes, except `boolean`.","body":"@Jackie: Yes, except <code>boolean</code>."},{"owner":{"account_id":42916,"reputation":22357,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"score":0,"creation_date":1376595359,"post_id":18260244,"comment_id":26780153,"body_markdown":"Ok but there is no &quot;numeric&quot; type just primitives. primitives that represent a numerical value maybe. http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"Ok but there is no &quot;numeric&quot; type just primitives. primitives that represent a numerical value maybe. <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":341845,"reputation":19101,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"score":0,"creation_date":1436701489,"post_id":18260244,"comment_id":50714354,"body_markdown":"Good catch for understand that &quot;==&quot; is not the right approach for floating-points","body":"Good catch for understand that &quot;==&quot; is not the right approach for floating-points"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1549625519,"post_id":18260244,"comment_id":95979244,"body_markdown":"Shy do you multiply Double.MIN_VALUE by 2? Won&#39;t it underflow because there is no other datatype to hold such a small value? In theory `2 * Double.MIN_VALUE` should return `Double.MIN_VALUE`","body":"Shy do you multiply Double.MIN_VALUE by 2? Won&#39;t it underflow because there is no other datatype to hold such a small value? In theory <code>2 * Double.MIN_VALUE</code> should return <code>Double.MIN_VALUE</code>"},{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":0,"creation_date":1549640560,"post_id":18260244,"comment_id":95987710,"body_markdown":"@ACV: You&#39;re misunderstanding MIN_VALUE.  https://stackoverflow.com/q/3884793/34397","body":"@ACV: You&#39;re misunderstanding MIN_VALUE.  <a href=\"https://stackoverflow.com/q/3884793/34397\">stackoverflow.com/q/3884793/34397</a>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1549802243,"post_id":18260244,"comment_id":96025846,"body_markdown":"@SLaks no you&#39;re misunderstanding my question. MIN_VALUE is the smallest positive number that can be represented with a double. I asked why did you multiply it by 2. My misunderstanding was that I thought you raised it to power 2.","body":"@SLaks no you&#39;re misunderstanding my question. MIN_VALUE is the smallest positive number that can be represented with a double. I asked why did you multiply it by 2. My misunderstanding was that I thought you raised it to power 2."}],"tags":[],"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"comment_count":9,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1376594997,"creation_date":1376594997,"answer_id":18260244,"question_id":18260213,"body_markdown":"Yes; all primitive numeric types default to `0`.\r\n\r\nHowever, calculations involving floating-point types (`double` and `float`) can be imprecise, so it&#39;s usually better to check whether it&#39;s _close_ to `0`:\r\n\r\n    if (Math.abs(foo.x) &lt; 2 * Double.MIN_VALUE)\r\n\r\nYou need to [pick a margin of error](https://stackoverflow.com/q/3728246/34397), which is not simple.","title":"How to test if a double is zero?","body":"<p>Yes; all primitive numeric types default to <code>0</code>.</p>\n\n<p>However, calculations involving floating-point types (<code>double</code> and <code>float</code>) can be imprecise, so it's usually better to check whether it's <em>close</em> to <code>0</code>:</p>\n\n<pre><code>if (Math.abs(foo.x) &lt; 2 * Double.MIN_VALUE)\n</code></pre>\n\n<p>You need to <a href=\"https://stackoverflow.com/q/3728246/34397\">pick a margin of error</a>, which is not simple.</p>\n"},{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":6,"creation_date":1376595480,"post_id":18260267,"comment_id":26780221,"body_markdown":"+1 for making it clear that only class scope numeric primitives are initialized to zero.","body":"+1 for making it clear that only class scope numeric primitives are initialized to zero."},{"owner":{"account_id":525198,"reputation":690,"user_id":971686,"accept_rate":75,"display_name":"Anshul"},"score":5,"creation_date":1376595524,"post_id":18260267,"comment_id":26780244,"body_markdown":"How fine one should define an error threshold ? It is very subjective and probably would not do what the user is trying to do. What if threshold is too big and you actually treat a non-zero as a zero ?","body":"How fine one should define an error threshold ? It is very subjective and probably would not do what the user is trying to do. What if threshold is too big and you actually treat a non-zero as a zero ?"},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":0,"creation_date":1376595833,"post_id":18260267,"comment_id":26780434,"body_markdown":"@Anshul Whoops, thanks for the criticism! I&#39;ve edited my answer after re-reading the question. Missed he was worried about division by 0.","body":"@Anshul Whoops, thanks for the criticism! I&#39;ve edited my answer after re-reading the question. Missed he was worried about division by 0."},{"owner":{"account_id":4857193,"reputation":305,"user_id":3917828,"accept_rate":0,"display_name":"Max Husiv"},"score":0,"creation_date":1499779960,"post_id":18260267,"comment_id":77045972,"body_markdown":"&quot;if(value != 0)&quot; doesn&#39;t work, I have value = 0.0 and this if statement pass, and I get division by zero.","body":"&quot;if(value != 0)&quot; doesn&#39;t work, I have value = 0.0 and this if statement pass, and I get division by zero."},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":0,"creation_date":1499785384,"post_id":18260267,"comment_id":77050445,"body_markdown":"@MaxHusiv In Java, I assure you checking for zero in the way I&#39;ve suggested does indeed prevent division by zero. Respectfully, I expect the fault is in your code. If you can provide your code I&#39;d be happy to assist further.","body":"@MaxHusiv In Java, I assure you checking for zero in the way I&#39;ve suggested does indeed prevent division by zero. Respectfully, I expect the fault is in your code. If you can provide your code I&#39;d be happy to assist further."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1508431906,"post_id":18260267,"comment_id":80617644,"body_markdown":"Sonar will complain about this: `if(value != 0)`","body":"Sonar will complain about this: <code>if(value != 0)</code>"},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":0,"creation_date":1508500445,"post_id":18260267,"comment_id":80644362,"body_markdown":"@ACV Checking a floating-point value against precisely zero is risky due to floating-point error involved in floating-point operations; I&#39;d speculate Sonar is warning about this for that reason.  However, to prevent a divide by zero error this is acceptable (even advisable.)","body":"@ACV Checking a floating-point value against precisely zero is risky due to floating-point error involved in floating-point operations; I&#39;d speculate Sonar is warning about this for that reason.  However, to prevent a divide by zero error this is acceptable (even advisable.)"},{"owner":{"account_id":10078643,"reputation":1786,"user_id":7449805,"accept_rate":75,"display_name":"Georgiy Chebotarev"},"score":0,"creation_date":1536162553,"post_id":18260267,"comment_id":91327957,"body_markdown":"how it using? Where is example? What is the threshold? What a hell","body":"how it using? Where is example? What is the threshold? What a hell"},{"owner":{"account_id":2051168,"reputation":406,"user_id":1830155,"display_name":"Hummeling Engineering BV"},"score":1,"creation_date":1536324679,"post_id":18260267,"comment_id":91394681,"body_markdown":"Note that both `0.0 == 0.0` and `-0.0 == 0.0` return `true` and `Double.compare(0.0, 0.0)` returns `0`, while `Double.compare(-0.0, 0.0)` returns `-1`. Choose your strategy carefully.","body":"Note that both <code>0.0 == 0.0</code> and <code>-0.0 == 0.0</code> return <code>true</code> and <code>Double.compare(0.0, 0.0)</code> returns <code>0</code>, while <code>Double.compare(-0.0, 0.0)</code> returns <code>-1</code>. Choose your strategy carefully."}],"tags":[],"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"comment_count":9,"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1480590196,"creation_date":1376595060,"answer_id":18260267,"question_id":18260213,"body_markdown":"Numeric primitives in class scope are initialized to zero when not explicitly initialized.\r\n\r\nNumeric primitives in local scope (variables in methods) must be explicitly initialized.\r\n\r\nIf you are only worried about division by zero exceptions, checking that your double is not *exactly* zero works great.\r\n\r\n    if(value != 0)\r\n        //divide by value is safe when value is not exactly zero.\r\n\r\n*Otherwise* when checking if a floating point value like `double` or `float` is 0, an error threshold is used to detect if the value is near 0, but not **quite** 0.\r\n\r\n    public boolean isZero(double value, double threshold){\r\n        return value &gt;= -threshold &amp;&amp; value &lt;= threshold;\r\n    }","title":"How to test if a double is zero?","body":"<p>Numeric primitives in class scope are initialized to zero when not explicitly initialized.</p>\n\n<p>Numeric primitives in local scope (variables in methods) must be explicitly initialized.</p>\n\n<p>If you are only worried about division by zero exceptions, checking that your double is not <em>exactly</em> zero works great.</p>\n\n<pre><code>if(value != 0)\n    //divide by value is safe when value is not exactly zero.\n</code></pre>\n\n<p><em>Otherwise</em> when checking if a floating point value like <code>double</code> or <code>float</code> is 0, an error threshold is used to detect if the value is near 0, but not <strong>quite</strong> 0.</p>\n\n<pre><code>public boolean isZero(double value, double threshold){\n    return value &gt;= -threshold &amp;&amp; value &lt;= threshold;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148519,"reputation":3710,"user_id":2662475,"display_name":"Xabster"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1376595071,"creation_date":1376595071,"answer_id":18260271,"question_id":18260213,"body_markdown":"Yes, it&#39;s a valid test although there&#39;s an implicit conversion from int to double. For clarity/simplicity you should use (foo.x == 0.0) to test. That will hinder NAN errors/division by zero, but the double value can in some cases be very very very close to 0, but not exactly zero, and then the test will fail (I&#39;m talking about in general now, not your code). Division by that will give huge numbers.\r\n\r\nIf this has anything to do with money, do not use float or double, instead use BigDecimal.","title":"How to test if a double is zero?","body":"<p>Yes, it's a valid test although there's an implicit conversion from int to double. For clarity/simplicity you should use (foo.x == 0.0) to test. That will hinder NAN errors/division by zero, but the double value can in some cases be very very very close to 0, but not exactly zero, and then the test will fail (I'm talking about in general now, not your code). Division by that will give huge numbers.</p>\n\n<p>If this has anything to do with money, do not use float or double, instead use BigDecimal.</p>\n"},{"comments":[{"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"score":3,"creation_date":1376596185,"post_id":18260464,"comment_id":26780634,"body_markdown":"I usually find explicitly setting a variable to its default value instead of improving readability does the exact opposite and actually decreases readability and clutters up the code. It is extraneous and isn&#39;t needed.","body":"I usually find explicitly setting a variable to its default value instead of improving readability does the exact opposite and actually decreases readability and clutters up the code. It is extraneous and isn&#39;t needed."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1643622600,"post_id":18260464,"comment_id":125380218,"body_markdown":"@PenguinAgen  more explicit with 0.0d","body":"@PenguinAgen  more explicit with 0.0d"}],"tags":[],"owner":{"account_id":3143326,"reputation":379,"user_id":2658346,"display_name":"AlbertGarde"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1478882919,"creation_date":1376595691,"answer_id":18260464,"question_id":18260213,"body_markdown":"In Java, 0 is the same as 0.0, and doubles default to 0 (though many advise always setting them explicitly for improved readability).\r\nI have checked and `foo.x == 0` and `foo.x == 0.0` are both true if `foo.x` is zero","title":"How to test if a double is zero?","body":"<p>In Java, 0 is the same as 0.0, and doubles default to 0 (though many advise always setting them explicitly for improved readability).\nI have checked and <code>foo.x == 0</code> and <code>foo.x == 0.0</code> are both true if <code>foo.x</code> is zero</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1689750371,"post_id":76714319,"comment_id":135255620,"body_markdown":"So you are basically explicitly providing a &quot;threshold&quot; as indicated in the other answers. Maybe you could [edit] your answer and explain why the threshold you chose is a good one?","body":"So you are basically explicitly providing a &quot;threshold&quot; as indicated in the other answers. Maybe you could <a href=\"https://stackoverflow.com/posts/76714319/edit\">edit</a> your answer and explain why the threshold you chose is a good one?"},{"owner":{"account_id":10025482,"reputation":1,"user_id":7413774,"display_name":"Kaibo"},"score":0,"creation_date":1691158662,"post_id":76714319,"comment_id":135458230,"body_markdown":"seems to be a good advice","body":"seems to be a good advice"}],"tags":[],"owner":{"account_id":10025482,"reputation":1,"user_id":7413774,"display_name":"Kaibo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691158592,"creation_date":1689693732,"answer_id":76714319,"question_id":18260213,"body_markdown":"``` java\r\n  // The float data type is a single-precision 32-bit IEEE 754 floating-point number, which has a precision of approximately 6-7 decimal digits.\r\n  public static boolean isZero(float val) {\r\n    return Math.abs(val) &lt; 1e-6;\r\n  }\r\n\r\n  // The double data type is a double-precision 64-bit IEEE 754 floating-point number, which has a precision of approximately 15-16 decimal digits.\r\n  public static boolean isZero(double val) {\r\n    return Math.abs(val) &lt; 1e-15;\r\n  }\r\n```","title":"How to test if a double is zero?","body":"<pre class=\"lang-java prettyprint-override\"><code>  // The float data type is a single-precision 32-bit IEEE 754 floating-point number, which has a precision of approximately 6-7 decimal digits.\n  public static boolean isZero(float val) {\n    return Math.abs(val) &lt; 1e-6;\n  }\n\n  // The double data type is a double-precision 64-bit IEEE 754 floating-point number, which has a precision of approximately 15-16 decimal digits.\n  public static boolean isZero(double val) {\n    return Math.abs(val) &lt; 1e-15;\n  }\n</code></pre>\n"}],"owner":{"account_id":110195,"reputation":38781,"user_id":291701,"accept_rate":66,"display_name":"user291701"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187895,"favorite_count":0,"down_vote_count":2,"up_vote_count":66,"accepted_answer_id":18260267,"answer_count":5,"score":64,"last_activity_date":1691158592,"creation_date":1376594881,"question_id":18260213,"body_markdown":"I have some code like this:\r\n\r\n    class Foo {\r\n        public double x;\r\n    }\r\n\r\n    void test() {\r\n        Foo foo = new Foo();\r\n\r\n        // Is this a valid way to test for zero? &#39;x&#39; hasn&#39;t been set to anything yet.\r\n        if (foo.x == 0) {\r\n\r\n        }\r\n\r\n        foo.x = 0.0;\r\n        \r\n        // Will the same test be valid?\r\n        if (foo.x == 0) {\r\n        \r\n        }\r\n    }\r\n\r\nI basically want to avoid a divide-by-zero exception in the future.\r\n\r\nThanks","title":"How to test if a double is zero?","body":"<p>I have some code like this:</p>\n\n<pre><code>class Foo {\n    public double x;\n}\n\nvoid test() {\n    Foo foo = new Foo();\n\n    // Is this a valid way to test for zero? 'x' hasn't been set to anything yet.\n    if (foo.x == 0) {\n\n    }\n\n    foo.x = 0.0;\n\n    // Will the same test be valid?\n    if (foo.x == 0) {\n\n    }\n}\n</code></pre>\n\n<p>I basically want to avoid a divide-by-zero exception in the future.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691158115,"post_id":76836676,"comment_id":135458106,"body_markdown":"If this is running on an application server like Tomcat, it should be possible to configure some of the appenders in a per-server log file, and some in your application code. Otherwise, perhaps you can deploy the logging config file per server separately, instead of including it in the jar/war file.","body":"If this is running on an application server like Tomcat, it should be possible to configure some of the appenders in a per-server log file, and some in your application code. Otherwise, perhaps you can deploy the logging config file per server separately, instead of including it in the jar/war file."},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1691159293,"post_id":76836676,"comment_id":135458387,"body_markdown":"Actually the tool using this is Talend ETL, and I don&#39;t have much control over it, I can just modify the log4j xml configuration file and pass some variables to the java command if necessary","body":"Actually the tool using this is Talend ETL, and I don&#39;t have much control over it, I can just modify the log4j xml configuration file and pass some variables to the java command if necessary"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691174569,"post_id":76836676,"comment_id":135461473,"body_markdown":"But that&#39;s enough, right? Just make sure that the socket appender is only included right environment&#39;s config files","body":"But that&#39;s enough, right? Just make sure that the socket appender is only included right environment&#39;s config files"},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1691246507,"post_id":76836676,"comment_id":135467620,"body_markdown":"No actually, the Talend job (which is a java program) is built once by the developer and deployed to different environments. So ideally someone can suggest how to suppress these errors for environments where the socket appender can&#39;t connect to the server","body":"No actually, the Talend job (which is a java program) is built once by the developer and deployed to different environments. So ideally someone can suggest how to suppress these errors for environments where the socket appender can&#39;t connect to the server"}],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691157870,"creation_date":1691157870,"question_id":76836676,"body_markdown":"I am using a Socket appender, like this\r\n\r\n    &lt;Socket name=&quot;Socket&quot; host=&quot;localhost&quot; port=&quot;24224&quot; reconnectionDelay=&quot;5000&quot; immediateFlush=&quot;true&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;charset&gt;UTF-8&lt;/charset&gt;\r\n    \t\t\t\t&lt;alwaysWriteExceptions&gt;false&lt;/alwaysWriteExceptions&gt;\r\n                    &lt;Pattern&gt;\r\n                        {&quot;key&quot;: &quot;value&quot;}\r\n                    &lt;/Pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n            &lt;/Socket&gt;\r\n\r\nHowever in some environments, the server is not installed and I get an exception in the logs\r\n\r\n    2023-08-04 13:56:58,708 main ERROR TcpSocketManager (TCP:localhost:24224) caught exception and will continue: java.io.IOException: Unable to create socket for localhost at port 24224 using ip addresses and ports , 0:0:0:0:0:0:0:1:24224\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:506)\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:475)\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:456)\r\n    \tat org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:113)\r\n    \tat org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:114)\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager.getSocketManager(TcpSocketManager.java:202)\r\n    \tat org.apache.logging.log4j.core.appender.SocketAppender.createSocketManager(SocketAppender.java:443)\r\n    \tat org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:221)\r\n    \tat org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:195)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1002)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:942)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:934)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:552)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:241)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:288)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:579)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:651)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:668)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:581)\r\n    \tat p_outils.httptest_0_1.httpTest.&lt;clinit&gt;(httpTest.java:59)\r\n\r\nHow can I suppress these errors? Or tell log4j2 not to instantiate this appender based on an environment variable?","title":"log4j2 suppress appender exception","body":"<p>I am using a Socket appender, like this</p>\n<pre><code>&lt;Socket name=&quot;Socket&quot; host=&quot;localhost&quot; port=&quot;24224&quot; reconnectionDelay=&quot;5000&quot; immediateFlush=&quot;true&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\n                &lt;alwaysWriteExceptions&gt;false&lt;/alwaysWriteExceptions&gt;\n                &lt;Pattern&gt;\n                    {&quot;key&quot;: &quot;value&quot;}\n                &lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Socket&gt;\n</code></pre>\n<p>However in some environments, the server is not installed and I get an exception in the logs</p>\n<pre><code>2023-08-04 13:56:58,708 main ERROR TcpSocketManager (TCP:localhost:24224) caught exception and will continue: java.io.IOException: Unable to create socket for localhost at port 24224 using ip addresses and ports , 0:0:0:0:0:0:0:1:24224\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:506)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:475)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:456)\n    at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:113)\n    at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:114)\n    at org.apache.logging.log4j.core.net.TcpSocketManager.getSocketManager(TcpSocketManager.java:202)\n    at org.apache.logging.log4j.core.appender.SocketAppender.createSocketManager(SocketAppender.java:443)\n    at org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:221)\n    at org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:195)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1002)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:942)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:934)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:552)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:241)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:288)\n    at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:579)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:651)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:668)\n    at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:581)\n    at p_outils.httptest_0_1.httpTest.&lt;clinit&gt;(httpTest.java:59)\n</code></pre>\n<p>How can I suppress these errors? Or tell log4j2 not to instantiate this appender based on an environment variable?</p>\n"},{"tags":["java","spring","jpa","spring-batch"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691176024,"post_id":76827192,"comment_id":135461710,"body_markdown":"please check once if you are able to run the generated query directly to the database and it is giving response.","body":"please check once if you are able to run the generated query directly to the database and it is giving response."}],"owner":{"account_id":26409232,"reputation":1,"user_id":20058531,"display_name":"Priya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691157658,"creation_date":1691058428,"question_id":76827192,"body_markdown":"I am trying to copy 100k records from `db2` to `h2` using `spring batch` but I am facing the following issue. \r\n\r\n```\r\n    @Bean\r\n    public RepositoryItemReader&lt;TIPACLDEntity&gt; itemReader(){\r\n        RepositoryItemReader&lt;TIPACLDEntity&gt; repositoryItemReader = new RepositoryItemReader&lt;&gt;();\r\n        repositoryItemReader.setRepository(tipacldRepository);\r\n        repositoryItemReader.setMethodName(&quot;findAll&quot;);\r\n        repositoryItemReader.setPageSize(2000);\r\n        Map&lt;String, Sort.Direction&gt; sorts = new HashMap&lt;&gt;();\r\n        repositoryItemReader.setSort(sorts);\r\n        return repositoryItemReader;\r\n    }\r\n\r\n    @Bean\r\n    public Step step() {\r\n        Step step = stepBuilderFactory.get(&quot;gcms-extract-step&quot;)\r\n                .&lt;TIPACLDEntity, IpmClringMsgEntity&gt;chunk(100)\r\n                .reader(itemReader())\r\n                .processor(itemProcessor)\r\n                .writer(itemWriter)\r\n                .taskExecutor(taskExecutor())\r\n                .build();\r\n\r\n        return step;\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        SimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\r\n        simpleAsyncTaskExecutor.setConcurrencyLimit(10);\r\n        return simpleAsyncTaskExecutor;\r\n    }\r\n\r\n    @Bean\r\n    public Job job() {\r\n        Job job = jobBuilderFactory.get(&quot;gcms-extract-job&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(step())\r\n                .build();\r\n        return job;\r\n    }\r\n```\r\nI think it is not able to create pages of size 2000 properly and jump to the next page. Is there anything I am missing in the batch config?`\r\n\r\nThe error is:\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nThe query created for the second page is:\r\n\r\n```\r\nSELECT *\r\nFROM\r\n  (SELECT inner2_.*,\r\n          rownumber() over(ORDER BY ORDER OF inner2_) AS rownumber_\r\n   FROM\r\n     (SELECT tipacldent0_.CLR_LVL_DTL_ID AS clr_lvl_1_0_,\r\n             tipacldent0_.PRCSS_DT AS prcss_dt2_0_,\r\n             tipacldent0_.CLR_DTL_REC_TXT AS clr_dtl_3_0_,\r\n             tipacldent0_.CNSMD_SW AS cnsmd_sw4_0_,\r\n             tipacldent0_.CRTE_TS AS crte_ts5_0_,\r\n             tipacldent0_.PARTN_NUM AS partn_nu6_0_,\r\n             tipacldent0_.PRCSS_AGRMT_ID AS prcss_ag7_0_,\r\n             tipacldent0_.UPDT_TS AS updt_ts8_0_\r\n      FROM TIPACLD tipacldent0_\r\n      FETCH FIRST 4000 ROWS ONLY) AS inner2_\r\n) AS inner1_\r\nWHERE rownumber_ &gt; 2000\r\nORDER BY rownumber_\r\n```","title":"copy records from db2 to h2 using spring batch","body":"<p>I am trying to copy 100k records from <code>db2</code> to <code>h2</code> using <code>spring batch</code> but I am facing the following issue.</p>\n<pre><code>    @Bean\n    public RepositoryItemReader&lt;TIPACLDEntity&gt; itemReader(){\n        RepositoryItemReader&lt;TIPACLDEntity&gt; repositoryItemReader = new RepositoryItemReader&lt;&gt;();\n        repositoryItemReader.setRepository(tipacldRepository);\n        repositoryItemReader.setMethodName(&quot;findAll&quot;);\n        repositoryItemReader.setPageSize(2000);\n        Map&lt;String, Sort.Direction&gt; sorts = new HashMap&lt;&gt;();\n        repositoryItemReader.setSort(sorts);\n        return repositoryItemReader;\n    }\n\n    @Bean\n    public Step step() {\n        Step step = stepBuilderFactory.get(&quot;gcms-extract-step&quot;)\n                .&lt;TIPACLDEntity, IpmClringMsgEntity&gt;chunk(100)\n                .reader(itemReader())\n                .processor(itemProcessor)\n                .writer(itemWriter)\n                .taskExecutor(taskExecutor())\n                .build();\n\n        return step;\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        SimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\n        simpleAsyncTaskExecutor.setConcurrencyLimit(10);\n        return simpleAsyncTaskExecutor;\n    }\n\n    @Bean\n    public Job job() {\n        Job job = jobBuilderFactory.get(&quot;gcms-extract-job&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(step())\n                .build();\n        return job;\n    }\n</code></pre>\n<p>I think it is not able to create pages of size 2000 properly and jump to the next page. Is there anything I am missing in the batch config?`</p>\n<p>The error is:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n</blockquote>\n<p>The query created for the second page is:</p>\n<pre><code>SELECT *\nFROM\n  (SELECT inner2_.*,\n          rownumber() over(ORDER BY ORDER OF inner2_) AS rownumber_\n   FROM\n     (SELECT tipacldent0_.CLR_LVL_DTL_ID AS clr_lvl_1_0_,\n             tipacldent0_.PRCSS_DT AS prcss_dt2_0_,\n             tipacldent0_.CLR_DTL_REC_TXT AS clr_dtl_3_0_,\n             tipacldent0_.CNSMD_SW AS cnsmd_sw4_0_,\n             tipacldent0_.CRTE_TS AS crte_ts5_0_,\n             tipacldent0_.PARTN_NUM AS partn_nu6_0_,\n             tipacldent0_.PRCSS_AGRMT_ID AS prcss_ag7_0_,\n             tipacldent0_.UPDT_TS AS updt_ts8_0_\n      FROM TIPACLD tipacldent0_\n      FETCH FIRST 4000 ROWS ONLY) AS inner2_\n) AS inner1_\nWHERE rownumber_ &gt; 2000\nORDER BY rownumber_\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":242072,"reputation":2241,"user_id":3211778,"accept_rate":100,"display_name":"yanana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691032165,"creation_date":1691032165,"answer_id":76824674,"question_id":76818363,"body_markdown":"It seems the Java API does not provide a way to get the version of itself. So you probably need to see pom.xml.","title":"The above gives the Chrome version How do we output the selenium version in java (i.e. Selenium v4.11)","body":"<p>It seems the Java API does not provide a way to get the version of itself. So you probably need to see pom.xml.</p>\n"}],"owner":{"account_id":16540171,"reputation":11,"user_id":11951124,"display_name":"RCKev ARTMusic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691157472,"creation_date":1690967596,"question_id":76818363,"body_markdown":"The below gives the Chrome version\r\nHow do I print output the selenium version in java (i.e. Selenium v4.11)\r\n\r\n\r\n\r\nI have successfully used the below to get the chrome version:\r\n```\r\n    Capabilities caps = ((ChromeDriver) driver).getCapabilities();\r\n            String version = caps.getVersion();\r\n            System.out.println(&quot;Running Selenium version: &quot; + version);\r\n```","title":"The above gives the Chrome version How do we output the selenium version in java (i.e. Selenium v4.11)","body":"<p>The below gives the Chrome version\nHow do I print output the selenium version in java (i.e. Selenium v4.11)</p>\n<p>I have successfully used the below to get the chrome version:</p>\n<pre><code>    Capabilities caps = ((ChromeDriver) driver).getCapabilities();\n            String version = caps.getVersion();\n            System.out.println(&quot;Running Selenium version: &quot; + version);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1302651240,"post_id":5642802,"comment_id":6433539,"body_markdown":"If any thread call System.exit() the program can exit, however if all main does is return, non daemon threads will keep the application running.","body":"If any thread call System.exit() the program can exit, however if all main does is return, non daemon threads will keep the application running."},{"owner":{"account_id":124077,"reputation":1233,"user_id":318944,"display_name":"coffeetocode"},"score":10,"creation_date":1302656276,"post_id":5642802,"comment_id":6434189,"body_markdown":"For something well defined like this you really should try it out first; you&#39;d get the answer, and if you still had a question you could post a code snippet that would make the discussion more valuable for others who had the same question.","body":"For something well defined like this you really should try it out first; you&#39;d get the answer, and if you still had a question you could post a code snippet that would make the discussion more valuable for others who had the same question."}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"comment_count":0,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1302651157,"creation_date":1302651157,"answer_id":5642813,"question_id":5642802,"body_markdown":"No.\r\n\r\nJava programs terminate when all non-daemon threads finish.  \r\n\r\nThe [documentation](http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html) states:\r\n\r\n&gt; When a Java Virtual Machine starts up,\r\n&gt; there is usually a single non-daemon\r\n&gt; thread (which typically calls the\r\n&gt; method named main of some designated\r\n&gt; class). The Java Virtual Machine\r\n&gt; continues to execute threads until\r\n&gt; either of the following occurs:\r\n&gt; \r\n&gt;   - The `exit` method of class `Runtime` has been called and the\r\n&gt; security manager has permitted the\r\n&gt; exit operation to take place.\r\n&gt;   - All threads that are not daemon threads have died, either by returning\r\n&gt; from the call to the `run` method or\r\n&gt; by throwing an exception that\r\n&gt; propagates beyond the `run` method.\r\n\r\n\r\nIf you don&#39;t want the runtime to wait for a thread, call the [`setDaemon` method](http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#setDaemon%28boolean%29).","title":"termination of program on main thread exit?","body":"<p>No.</p>\n\n<p>Java programs terminate when all non-daemon threads finish.  </p>\n\n<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html\" rel=\"noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>When a Java Virtual Machine starts up,\n  there is usually a single non-daemon\n  thread (which typically calls the\n  method named main of some designated\n  class). The Java Virtual Machine\n  continues to execute threads until\n  either of the following occurs:</p>\n  \n  <ul>\n  <li>The <code>exit</code> method of class <code>Runtime</code> has been called and the\n  security manager has permitted the\n  exit operation to take place.</li>\n  <li>All threads that are not daemon threads have died, either by returning\n  from the call to the <code>run</code> method or\n  by throwing an exception that\n  propagates beyond the <code>run</code> method.</li>\n  </ul>\n</blockquote>\n\n<p>If you don't want the runtime to wait for a thread, call the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#setDaemon%28boolean%29\" rel=\"noreferrer\"><code>setDaemon</code> method</a>.</p>\n"},{"tags":[],"owner":{"account_id":7908925,"reputation":111,"user_id":5973543,"display_name":"skY"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691157362,"creation_date":1472039575,"answer_id":39122589,"question_id":5642802,"body_markdown":"No.\r\nMain Thread is Non-Demon thread, unless your child thread is demon thread, Program will not terminate even if main thread finishes before child thread. You can check that using below sample program.\r\n\r\n    public class app {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tApp2.mt=Thread.currentThread();\r\n\t\tApp2 t = new App2();\r\n\t\tt.start();\r\n\t\tSystem.out.println(&quot;Main starts&quot;);\r\n\t\tThread.sleep(2000);\r\n\t\tSystem.out.println(&quot;Main ends&quot;);\r\n\r\n\t  }\r\n    }\r\n\r\n    class App2 extends Thread{\r\n\tstatic Thread mt;\r\n\tpublic void run(){\r\n\t\ttry {\r\n\t\t\tmt.join();//waits till main thread dies.\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;child thread&quot;);\r\n\t  }\r\n    }\r\n\r\n\r\n","title":"termination of program on main thread exit?","body":"<p>No.\nMain Thread is Non-Demon thread, unless your child thread is demon thread, Program will not terminate even if main thread finishes before child thread. You can check that using below sample program.</p>\n<pre><code>public class app {\n\npublic static void main(String[] args) throws InterruptedException {\n    App2.mt=Thread.currentThread();\n    App2 t = new App2();\n    t.start();\n    System.out.println(&quot;Main starts&quot;);\n    Thread.sleep(2000);\n    System.out.println(&quot;Main ends&quot;);\n\n  }\n}\n\nclass App2 extends Thread{\nstatic Thread mt;\npublic void run(){\n    try {\n        mt.join();//waits till main thread dies.\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    System.out.println(&quot;child thread&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15026,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":5642813,"answer_count":2,"score":31,"last_activity_date":1691157362,"creation_date":1302651092,"question_id":5642802,"body_markdown":"I have two threads: the main thread and a thread generated from the main thread. \r\n\r\nWhen the main thread exits, will the whole program terminate?","title":"termination of program on main thread exit?","body":"<p>I have two threads: the main thread and a thread generated from the main thread. </p>\n\n<p>When the main thread exits, will the whole program terminate?</p>\n"},{"tags":["java","bitwise-operators","number-systems"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1691155367,"post_id":76836314,"comment_id":135457392,"body_markdown":"I hope you realize that `int x = 1010110;` is not defining a binary number. Its a decimal number &gt; 1 million and in binary representation would be 11110110100110111110.","body":"I hope you realize that <code>int x = 1010110;</code> is not defining a binary number. Its a decimal number &gt; 1 million and in binary representation would be 11110110100110111110."},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1691155398,"post_id":76836314,"comment_id":135457403,"body_markdown":"`in number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0` Thats correct.","body":"<code>in number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0</code> Thats correct."},{"owner":{"account_id":27372591,"reputation":11,"user_id":20878417,"display_name":"Ashish Kumar"},"score":0,"creation_date":1691155718,"post_id":76836314,"comment_id":135457489,"body_markdown":"thankyou i got my answer","body":"thankyou i got my answer"},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691156691,"post_id":76836314,"comment_id":135457744,"body_markdown":"@AshishKumar Why did you tag this as `dsa`?  Are you aware what the `dsa` tag is meant for?","body":"@AshishKumar Why did you tag this as <code>dsa</code>?  Are you aware what the <code>dsa</code> tag is meant for?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691157139,"creation_date":1691156744,"answer_id":76836532,"question_id":76836314,"body_markdown":"This presumes the low order bit is the `0th` bit.  You don&#39;t need  to use the conditional operator (`?:`).  Just shift the result back and return the `1` or `0` directly. `&gt;&gt;&gt;` is used to not backfill the sign bit, if detected, when shifting right. Otherwise, you would get `-1` for `ithBit(-1, 31);` \r\n```\r\npublic static int ithBit(int x, int n) {\r\n        return  (x &amp; (1 &lt;&lt; n)) &gt;&gt;&gt; n;\r\n}\r\n```","title":"Print ith bit of the binary number, please find the error as it is printing wrong numbers on some bits","body":"<p>This presumes the low order bit is the <code>0th</code> bit.  You don't need  to use the conditional operator (<code>?:</code>).  Just shift the result back and return the <code>1</code> or <code>0</code> directly. <code>&gt;&gt;&gt;</code> is used to not backfill the sign bit, if detected, when shifting right. Otherwise, you would get <code>-1</code> for <code>ithBit(-1, 31);</code></p>\n<pre><code>public static int ithBit(int x, int n) {\n        return  (x &amp; (1 &lt;&lt; n)) &gt;&gt;&gt; n;\n}\n</code></pre>\n"}],"owner":{"account_id":27372591,"reputation":11,"user_id":20878417,"display_name":"Ashish Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691156545,"answer_count":1,"score":0,"last_activity_date":1691157139,"creation_date":1691155173,"question_id":76836314,"body_markdown":"        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int n = sc.nextInt();\r\n\r\n            int x = 1010110;\r\n            System.out.println(&quot;the ith bit is &quot; + ithBit(x, n));\r\n        }\r\n\r\n        public static int ithBit(int x, int n) {\r\n            int bitValue = (x &amp; (1 &lt;&lt; (n - 1))) != 0 ? 1 : 0;\r\n            return bitValue;\r\n        }\r\n\r\nin number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0","title":"Print ith bit of the binary number, please find the error as it is printing wrong numbers on some bits","body":"<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n\n        int x = 1010110;\n        System.out.println(&quot;the ith bit is &quot; + ithBit(x, n));\n    }\n\n    public static int ithBit(int x, int n) {\n        int bitValue = (x &amp; (1 &lt;&lt; (n - 1))) != 0 ? 1 : 0;\n        return bitValue;\n    }\n</code></pre>\n<p>in number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0</p>\n"},{"tags":["java","opensearch"],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691157084,"creation_date":1691157084,"question_id":76836575,"body_markdown":"With elasticsearch&#39;s RestHighLevelClient, we set source for PutIndexTemplateRequest like [this](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-put-template.html), or like following:\r\n\r\n    var request = new PutIndexTemplateRequest(templateName).source(templateString, XContentType.JSON)\r\n\r\nHowever, with opensearch-java client, there is no `source` method in [PutTemplateRequest](https://github.com/opensearch-project/opensearch-java/blob/main/java-client/src/main/java/org/opensearch/client/opensearch/indices/PutTemplateRequest.java).\r\n\r\nIs there a similar method that we can use to set source for the request?","title":"How to set source for opensearch-java client&#39;s PutTemplateRequest?","body":"<p>With elasticsearch's RestHighLevelClient, we set source for PutIndexTemplateRequest like <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-put-template.html\" rel=\"nofollow noreferrer\">this</a>, or like following:</p>\n<pre><code>var request = new PutIndexTemplateRequest(templateName).source(templateString, XContentType.JSON)\n</code></pre>\n<p>However, with opensearch-java client, there is no <code>source</code> method in <a href=\"https://github.com/opensearch-project/opensearch-java/blob/main/java-client/src/main/java/org/opensearch/client/opensearch/indices/PutTemplateRequest.java\" rel=\"nofollow noreferrer\">PutTemplateRequest</a>.</p>\n<p>Is there a similar method that we can use to set source for the request?</p>\n"},{"tags":["java","for-loop","linked-list","iterator"],"answers":[{"comments":[{"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"score":0,"creation_date":1691157305,"post_id":76836518,"comment_id":135457901,"body_markdown":"I have always thought linkedList.remove(Object o) removes the object using hashcode and bucket location.","body":"I have always thought linkedList.remove(Object o) removes the object using hashcode and bucket location."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691157765,"post_id":76836518,"comment_id":135458012,"body_markdown":"@kaka that is [`HashSet.remove(Object)`](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#remove-java.lang.Object-)","body":"@kaka that is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#remove-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>HashSet.remove(Object)</code></a>"}],"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691156643,"creation_date":1691156643,"answer_id":76836518,"question_id":76836458,"body_markdown":"The `Iterator.remove()` method is more efficient than `LinkedList.remove(int index)` or `LinkedList.remove(Object o)` methods because it operates directly on the node that the iterator is currently on. It doesn&#39;t need to traverse the LinkedList from the beginning to find the item to remove.\r\n\r\nWhen you call `iterator.remove()`, the iterator already knows the location of the item to remove, because it&#39;s the last item that was returned by `iterator.next()`. Therefore, it can remove the item in constant time O(1), i.e., the time it takes doesn&#39;t depend on the size of the list.\r\n\r\nOn the other hand, `LinkedList.remove(int index)` or `LinkedList.remove(Object o)` methods have to first find the item to remove. In the worst case, they might need to traverse the entire list to find the item. LinkedLists don&#39;t support efficient random access to elements, so finding an item is an O(n) operation, where n is the size of the list. Once the item has been found, it can be removed in constant time, but the time-consuming part is finding the item.\r\n\r\nThis is why your code using `iterator.remove()` is much faster than the one using `LinkedList.remove()`. The former doesn&#39;t need to repeatedly traverse the list to find the items to remove.\r\n\r\nAlso, a minor point about your code using `LinkedList.remove()`: every time you remove an item from the list, the indexes of all the items that come after the removed item change. Therefore, the `for` loop might skip some items or run into a `IndexOutOfBoundsException` because `i` becomes greater than the current size of the list. A common pattern when removing items from a list during iteration is to iterate from the end to the beginning. However, in the case of LinkedList, since it doesn&#39;t support efficient random access to elements, it&#39;s best to use an `Iterator` to avoid having to traverse the list for each removal.\r\n\r\n    public static void linkedListRemove() {\r\n        ListIterator&lt;Integer&gt; listIterator = list.listIterator(list.size());\r\n        while (listIterator.hasPrevious()) {\r\n            int item = listIterator.previous();\r\n            if(item == 99997) {\r\n                listIterator.remove();\r\n                // break the loop if we have found and removed the item\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Removing elements from LinkedList with a for loop is significantly slowed than removing with iterator","body":"<p>The <code>Iterator.remove()</code> method is more efficient than <code>LinkedList.remove(int index)</code> or <code>LinkedList.remove(Object o)</code> methods because it operates directly on the node that the iterator is currently on. It doesn't need to traverse the LinkedList from the beginning to find the item to remove.</p>\n<p>When you call <code>iterator.remove()</code>, the iterator already knows the location of the item to remove, because it's the last item that was returned by <code>iterator.next()</code>. Therefore, it can remove the item in constant time O(1), i.e., the time it takes doesn't depend on the size of the list.</p>\n<p>On the other hand, <code>LinkedList.remove(int index)</code> or <code>LinkedList.remove(Object o)</code> methods have to first find the item to remove. In the worst case, they might need to traverse the entire list to find the item. LinkedLists don't support efficient random access to elements, so finding an item is an O(n) operation, where n is the size of the list. Once the item has been found, it can be removed in constant time, but the time-consuming part is finding the item.</p>\n<p>This is why your code using <code>iterator.remove()</code> is much faster than the one using <code>LinkedList.remove()</code>. The former doesn't need to repeatedly traverse the list to find the items to remove.</p>\n<p>Also, a minor point about your code using <code>LinkedList.remove()</code>: every time you remove an item from the list, the indexes of all the items that come after the removed item change. Therefore, the <code>for</code> loop might skip some items or run into a <code>IndexOutOfBoundsException</code> because <code>i</code> becomes greater than the current size of the list. A common pattern when removing items from a list during iteration is to iterate from the end to the beginning. However, in the case of LinkedList, since it doesn't support efficient random access to elements, it's best to use an <code>Iterator</code> to avoid having to traverse the list for each removal.</p>\n<pre><code>public static void linkedListRemove() {\n    ListIterator&lt;Integer&gt; listIterator = list.listIterator(list.size());\n    while (listIterator.hasPrevious()) {\n        int item = listIterator.previous();\n        if(item == 99997) {\n            listIterator.remove();\n            // break the loop if we have found and removed the item\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691156702,"creation_date":1691156702,"answer_id":76836527,"question_id":76836458,"body_markdown":"`list.get(i)` has to **walk** from `0` to `i` in a `LinkedList`, which makes that approach take O(N^2). That is the distinction of `LinkedList` vs `ArrayList` (random access). With an `Iterator` you are just accessing each element once.","title":"Removing elements from LinkedList with a for loop is significantly slowed than removing with iterator","body":"<p><code>list.get(i)</code> has to <strong>walk</strong> from <code>0</code> to <code>i</code> in a <code>LinkedList</code>, which makes that approach take O(N^2). That is the distinction of <code>LinkedList</code> vs <code>ArrayList</code> (random access). With an <code>Iterator</code> you are just accessing each element once.</p>\n"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76836518,"answer_count":2,"score":0,"last_activity_date":1691156775,"creation_date":1691156229,"question_id":76836458,"body_markdown":"I have a linked list of integer that contains elements from 0 to 100000. \r\nI tried removing elements from far end of the list using iterator and traditional for loop. What I found is that the iterator is way faster than a for loop roughly 500 times faster. I assume the reason why for loop is significantly slower is because of the remove(item) method but not sure. What makes the iterator remove quicker?\r\n\r\nHere is the code:\r\n\r\n\tpublic static void iteratorRemove() {\r\n\t\r\n\t\tIterator&lt;Integer&gt; iterator = list.iterator();\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t    int item = iterator.next();\r\n\t\t    if (item == 99999) {\r\n\t\t        iterator.remove();\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void linkedListRemove() {\r\n\r\n\t\tfor(int i=0; i&lt;list.size(); i++) {\r\n\t\t\t\r\n\t\t\tif(list.get(i)==99997) {\r\n\t\t\t\tlist.remove(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n","title":"Removing elements from LinkedList with a for loop is significantly slowed than removing with iterator","body":"<p>I have a linked list of integer that contains elements from 0 to 100000.\nI tried removing elements from far end of the list using iterator and traditional for loop. What I found is that the iterator is way faster than a for loop roughly 500 times faster. I assume the reason why for loop is significantly slower is because of the remove(item) method but not sure. What makes the iterator remove quicker?</p>\n<p>Here is the code:</p>\n<pre><code>public static void iteratorRemove() {\n\n    Iterator&lt;Integer&gt; iterator = list.iterator();\n    while (iterator.hasNext()) {\n        int item = iterator.next();\n        if (item == 99999) {\n            iterator.remove();\n        }\n    }\n}\n\npublic static void linkedListRemove() {\n\n    for(int i=0; i&lt;list.size(); i++) {\n        \n        if(list.get(i)==99997) {\n            list.remove(i);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps","location"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691156687,"creation_date":1691156687,"answer_id":76836525,"question_id":76836062,"body_markdown":"getLastLocation only returns a result if the Location subsystem already has data.  It does not start the location subsystem.  It should almost never be used.  Use getCurrentLocation or requestLocationUpdates, both of which will start the location subsystem instead.","title":"Google maps does not get the user location if the user does not have a recent location","body":"<p>getLastLocation only returns a result if the Location subsystem already has data.  It does not start the location subsystem.  It should almost never be used.  Use getCurrentLocation or requestLocationUpdates, both of which will start the location subsystem instead.</p>\n"}],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691156687,"creation_date":1691153278,"question_id":76836062,"body_markdown":"I have encountered a problem when getting the users current location if the user does not have any recent location the map cannot find the current location but if I allow other apps on location then going back to my application the map can now see the current location.\r\n\r\nI tried doing another code for the current location because the one that I am currently using is deprecated, when I run the application it does not get the users current location but if I have a recent location using other application my app can now get the user location, . Here is my code. \r\n\r\n\r\n\r\n```java\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    public static int LOCATION_REQUEST_CODE = 100;\r\n\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n\r\n    private final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\r\n    private final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\r\n    private final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\r\n\r\n    private Marker markerMarisolTerm;\r\n    private Marker markerVillaTerminal;\r\n    private Marker markerCheckpointTerminal;\r\n\r\n    private LocationCallback locationCallback;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n\r\n\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n\r\n        if (mapFragment != null) {\r\n            mapFragment.getMapAsync(this);\r\n        }\r\n\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        checkLocationPermission();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n\r\n        mMap.setMapStyle(\r\n                MapStyleOptions.loadRawResourceStyle(this,R.raw.custom_map_style)\r\n        );\r\n\r\n\r\n\r\n\r\n\r\n        // Add some markers to the map, and add a data object to each marker.\r\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\r\n                .position(MarisolTerminal)\r\n                .title(&quot;Marisol Terminal&quot;)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.marisol)));\r\n        markerMarisolTerm.setTag(0);\r\n\r\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(VillaTerminal)\r\n                .title(&quot;Villa Terminal&quot;)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.villa)));\r\n        markerVillaTerminal.setTag(0);\r\n\r\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(CheckpointTerminal)\r\n                .title(&quot;Checkpoint Terminal&quot;)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.checkpoint)));\r\n        markerCheckpointTerminal.setTag(0);\r\n\r\n\r\n    }\r\n\r\n\r\n    private void checkLocationPermission() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            getUserLocation();\r\n\r\n\r\n        } else {\r\n            requestForPermission();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void getUserLocation() {\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            return;\r\n        }\r\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\r\n\r\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n\r\n                if (location !=null){\r\n\r\n                    double lat = location.getLatitude();\r\n                    double longitude = location.getLongitude();\r\n\r\n                    LatLng userLocation = new LatLng(lat, longitude);\r\n\r\n\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(userLocation));\r\n                    mMap.animateCamera(CameraUpdateFactory.zoomTo(15));\r\n                    mMap.addMarker(new MarkerOptions().position(userLocation).title(&quot;I am here&quot;));\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void requestForPermission(){\r\n        ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION},LOCATION_REQUEST_CODE);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == LOCATION_REQUEST_CODE){\r\n            if (grantResults [0] == PackageManager.PERMISSION_GRANTED){\r\n                Toast.makeText(this, &quot;Permission Accepted&quot;, Toast.LENGTH_SHORT).show();\r\n                getUserLocation();\r\n            }else {\r\n                Toast.makeText(this,&quot;Permission Denied&quot; , Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"Google maps does not get the user location if the user does not have a recent location","body":"<p>I have encountered a problem when getting the users current location if the user does not have any recent location the map cannot find the current location but if I allow other apps on location then going back to my application the map can now see the current location.</p>\n<p>I tried doing another code for the current location because the one that I am currently using is deprecated, when I run the application it does not get the users current location but if I have a recent location using other application my app can now get the user location, . Here is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    public static int LOCATION_REQUEST_CODE = 100;\n\n    FusedLocationProviderClient fusedLocationProviderClient;\n\n    private final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\n    private final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\n    private final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\n\n    private Marker markerMarisolTerm;\n    private Marker markerVillaTerminal;\n    private Marker markerCheckpointTerminal;\n\n    private LocationCallback locationCallback;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_map);\n\n\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n\n        if (mapFragment != null) {\n            mapFragment.getMapAsync(this);\n        }\n\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        checkLocationPermission();\n\n    }\n\n\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);\n\n        mMap.setMapStyle(\n                MapStyleOptions.loadRawResourceStyle(this,R.raw.custom_map_style)\n        );\n\n\n\n\n\n        // Add some markers to the map, and add a data object to each marker.\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\n                .position(MarisolTerminal)\n                .title(&quot;Marisol Terminal&quot;)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.marisol)));\n        markerMarisolTerm.setTag(0);\n\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\n                .position(VillaTerminal)\n                .title(&quot;Villa Terminal&quot;)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.villa)));\n        markerVillaTerminal.setTag(0);\n\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\n                .position(CheckpointTerminal)\n                .title(&quot;Checkpoint Terminal&quot;)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.checkpoint)));\n        markerCheckpointTerminal.setTag(0);\n\n\n    }\n\n\n    private void checkLocationPermission() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n            getUserLocation();\n\n\n        } else {\n            requestForPermission();\n        }\n\n\n    }\n\n    private void getUserLocation() {\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return;\n        }\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\n\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n\n                if (location !=null){\n\n                    double lat = location.getLatitude();\n                    double longitude = location.getLongitude();\n\n                    LatLng userLocation = new LatLng(lat, longitude);\n\n\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(userLocation));\n                    mMap.animateCamera(CameraUpdateFactory.zoomTo(15));\n                    mMap.addMarker(new MarkerOptions().position(userLocation).title(&quot;I am here&quot;));\n                }\n\n            }\n        });\n    }\n\n    private void requestForPermission(){\n        ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION},LOCATION_REQUEST_CODE);\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == LOCATION_REQUEST_CODE){\n            if (grantResults [0] == PackageManager.PERMISSION_GRANTED){\n                Toast.makeText(this, &quot;Permission Accepted&quot;, Toast.LENGTH_SHORT).show();\n                getUserLocation();\n            }else {\n                Toast.makeText(this,&quot;Permission Denied&quot; , Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","compiler-errors","dependencies"],"answers":[{"comments":[{"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"score":0,"creation_date":1452796505,"post_id":34784817,"comment_id":57337424,"body_markdown":"Awesome! And wow, I had no idea IntelliJ would do that exclude. I feel pretty strongly it should have given me some kind of warning/info message about this. Oh well... Once I learn IntellJ more, perhaps I&#39;ll be able to predict issues like this. Thanks","body":"Awesome! And wow, I had no idea IntelliJ would do that exclude. I feel pretty strongly it should have given me some kind of warning/info message about this. Oh well... Once I learn IntellJ more, perhaps I&#39;ll be able to predict issues like this. Thanks"},{"owner":{"account_id":2893635,"reputation":3813,"user_id":5060066,"display_name":"Ivaylo D. Ivanov"},"score":0,"creation_date":1452844479,"post_id":34784817,"comment_id":57355230,"body_markdown":":) You just need some time getting accustomed to it, and btw if you&#39;re an Eclipse user, you may find this migration guide (from IntelliJ official site) valuable: https://www.jetbrains.com/idea/help/eclipse.html","body":":) You just need some time getting accustomed to it, and btw if you&#39;re an Eclipse user, you may find this migration guide (from IntelliJ official site) valuable: <a href=\"https://www.jetbrains.com/idea/help/eclipse.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/eclipse.html</a>"}],"tags":[],"owner":{"account_id":2893635,"reputation":3813,"user_id":5060066,"display_name":"Ivaylo D. Ivanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1452760312,"creation_date":1452760312,"answer_id":34784817,"question_id":34778279,"body_markdown":"This is because BifCreatorController is excluded from compilation (see the small &quot;X&quot; top-left icon near to the file name). One reason would be the file got some errors while compiling, IDEA proposed to exclude it from compilation and you had accepted.\r\n\r\nGo to &quot;File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Excludes&quot; and remove it from there.","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>This is because BifCreatorController is excluded from compilation (see the small \"X\" top-left icon near to the file name). One reason would be the file got some errors while compiling, IDEA proposed to exclude it from compilation and you had accepted.</p>\n\n<p>Go to \"File > Settings > Build, Execution, Deployment > Compiler > Excludes\" and remove it from there.</p>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571754755,"creation_date":1571754755,"answer_id":58506605,"question_id":34778279,"body_markdown":"I had the same problem, i cleared the cache and restarted but it did not solve the problem. Then i right clicked the not found class and selected Recompile and after recompilation the problem was solved.","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>I had the same problem, i cleared the cache and restarted but it did not solve the problem. Then i right clicked the not found class and selected Recompile and after recompilation the problem was solved.</p>\n"},{"comments":[{"owner":{"account_id":256891,"reputation":1432,"user_id":2398695,"accept_rate":83,"display_name":"Tom&#225;š Nesrovnal"},"score":0,"creation_date":1593758511,"post_id":60564326,"comment_id":110896056,"body_markdown":"Since it happens very rarely, this is a nice solution that worked perfectly for me.","body":"Since it happens very rarely, this is a nice solution that worked perfectly for me."},{"owner":{"account_id":4103729,"reputation":109,"user_id":3402233,"display_name":"Ganesh"},"score":1,"creation_date":1596241695,"post_id":60564326,"comment_id":111758854,"body_markdown":"So I was like how is this going to work. I went to the class just typed something random and then deleted the random text and it indexed the class???? I have no idea how or why. I literally did invalidate cache and restart which normally works but it did not work today. This worked and I&#39;m forever thankful to you.","body":"So I was like how is this going to work. I went to the class just typed something random and then deleted the random text and it indexed the class???? I have no idea how or why. I literally did invalidate cache and restart which normally works but it did not work today. This worked and I&#39;m forever thankful to you."},{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":2,"creation_date":1611611687,"post_id":60564326,"comment_id":116503555,"body_markdown":"Legendary. Just resolved an hour of head-pounding and frustration after 2 restarts with no success","body":"Legendary. Just resolved an hour of head-pounding and frustration after 2 restarts with no success"},{"owner":{"account_id":4852867,"reputation":881,"user_id":3914720,"display_name":"Preeti Joshi"},"score":1,"creation_date":1611817650,"post_id":60564326,"comment_id":116573307,"body_markdown":"Renaming the class and renaming again back to original one did the trick. Thanks!","body":"Renaming the class and renaming again back to original one did the trick. Thanks!"},{"owner":{"account_id":1660368,"reputation":121,"user_id":1528777,"display_name":"Martin Ivančič"},"score":0,"creation_date":1624884129,"post_id":60564326,"comment_id":120471149,"body_markdown":"Works with &quot;missing&quot; interfaces as well.","body":"Works with &quot;missing&quot; interfaces as well."}],"tags":[],"owner":{"account_id":1026639,"reputation":1007,"user_id":1035809,"display_name":"liuyong"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1583498549,"creation_date":1583498549,"answer_id":60564326,"question_id":34778279,"body_markdown":"Got same problem today. Rebuilding or restarting both didn&#39;t work for me. In the end, I tried to rename the class, problem solved! Then I rename the class to the name I want, everthing was fine!","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>Got same problem today. Rebuilding or restarting both didn't work for me. In the end, I tried to rename the class, problem solved! Then I rename the class to the name I want, everthing was fine!</p>\n"},{"comments":[{"owner":{"account_id":183367,"reputation":873,"user_id":418693,"accept_rate":75,"display_name":"Arman"},"score":0,"creation_date":1620305606,"post_id":66922301,"comment_id":119165461,"body_markdown":"The screenshot suggests that this is not a maven project. Delegating to maven thus cannot be a solution.","body":"The screenshot suggests that this is not a maven project. Delegating to maven thus cannot be a solution."},{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1620850732,"post_id":66922301,"comment_id":119326841,"body_markdown":"in my case this is the ONLY silver bullet for intellij idea version i&#39;m allowed to install.","body":"in my case this is the ONLY silver bullet for intellij idea version i&#39;m allowed to install."},{"owner":{"account_id":425500,"reputation":793,"user_id":5822240,"display_name":"Filomat"},"score":0,"creation_date":1674082506,"post_id":66922301,"comment_id":132642112,"body_markdown":"only this method worked! Thanks","body":"only this method worked! Thanks"}],"tags":[],"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1648848335,"creation_date":1617380716,"answer_id":66922301,"question_id":34778279,"body_markdown":"For those who can&#39;t beat the trouble i suggest switching to maven because it&#39;s predictive:\r\n\r\nMaven &gt; Runner &gt; Delegate IDE build/run actions to Maven","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>For those who can't beat the trouble i suggest switching to maven because it's predictive:</p>\n<p>Maven &gt; Runner &gt; Delegate IDE build/run actions to Maven</p>\n"},{"tags":[],"owner":{"account_id":10182669,"reputation":4457,"user_id":7518849,"display_name":"i.karayel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649745566,"creation_date":1649745566,"answer_id":71838147,"question_id":34778279,"body_markdown":"Another reason is the cache problem. \r\n\r\nGo to -&gt; File -&gt; Invalidate Caches / Restart ...\r\n\r\n[![invalidate cache and restart][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8wW4G.png","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>Another reason is the cache problem.</p>\n<p>Go to -&gt; File -&gt; Invalidate Caches / Restart ...</p>\n<p><a href=\"https://i.stack.imgur.com/8wW4G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8wW4G.png\" alt=\"invalidate cache and restart\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691156438,"creation_date":1691156438,"answer_id":76836491,"question_id":34778279,"body_markdown":"Thanks to @liuyong for the tip. In my case it happened with A LOT of classes, so renaming all of them would have been a bit cumbersome.\r\n\r\nThen I decided to rename the base package (I just added a letter at the end), compiled the code and then renamed back to the original one.\r\n\r\nIt worked here too. The problem **didn&#39;t** happen again when switching branches.","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>Thanks to @liuyong for the tip. In my case it happened with A LOT of classes, so renaming all of them would have been a bit cumbersome.</p>\n<p>Then I decided to rename the base package (I just added a letter at the end), compiled the code and then renamed back to the original one.</p>\n<p>It worked here too. The problem <strong>didn't</strong> happen again when switching branches.</p>\n"}],"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25472,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34784817,"answer_count":6,"score":15,"last_activity_date":1691156438,"creation_date":1452724059,"question_id":34778279,"body_markdown":"As an extension to my previous question (https://stackoverflow.com/questions/34757159/intellij-cant-find-depencency-when-compiling-but-can-in-editor) which got solved, I now have a new issue which has sprung up.\r\n\r\nWithin the same packages, references to other classes are showing up with errors:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see in the picture, there is happening at the line involving the `BifCreatorController`, even though that class is in the same package as the `BifCreatorView`.\r\n\r\nJust like my previous question, I am failing to understand why IntellJ is spitting out those errors. This project works just fine in Eclipse, but I am looking to start moving away from eclipse. \r\n\r\n  [1]: http://i.stack.imgur.com/jlOT8.png","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>As an extension to my previous question (<a href=\"https://stackoverflow.com/questions/34757159/intellij-cant-find-depencency-when-compiling-but-can-in-editor\">IntelliJ can&#39;t find depencency when compiling, but can in editor.</a>) which got solved, I now have a new issue which has sprung up.</p>\n\n<p>Within the same packages, references to other classes are showing up with errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jlOT8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jlOT8.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see in the picture, there is happening at the line involving the <code>BifCreatorController</code>, even though that class is in the same package as the <code>BifCreatorView</code>.</p>\n\n<p>Just like my previous question, I am failing to understand why IntellJ is spitting out those errors. This project works just fine in Eclipse, but I am looking to start moving away from eclipse. </p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691155887,"creation_date":1691100868,"question_id":76831892,"body_markdown":"I am trying to implement Spring Security to my program and the instructions we were given had all information from deprecated classes that aren&#39;t used anymore so I am trying to figure out how to properly update my code. I currently go to my home page localhost:8080 click the login hyper link then I am redirected to localhost:8080/login. I enter the correct username and password but then am redirected back to localhost:8080 instead of localhost:8080/display/orders. \r\n\r\nIs there something wrong in my security class? Or is there not the correct redirecting happening in my controllers?\r\n\r\nHere is my security config\r\n```\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t    http\r\n\t        .authorizeHttpRequests(requests -&gt; requests\r\n\t            .requestMatchers(&quot;/&quot;, &quot;/images/**&quot;, &quot;/service/**&quot;).permitAll()\r\n\t            .anyRequest().authenticated()\r\n\t        )\r\n\t        .formLogin(form -&gt; form\r\n\t            .loginPage(&quot;/login&quot;)\r\n\t            .usernameParameter(&quot;username&quot;)\r\n\t            .passwordParameter(&quot;password&quot;)\r\n\t            .permitAll()\r\n\t            .defaultSuccessUrl(&quot;/orders/display&quot;, true)\r\n\t            \r\n\t        )\r\n\t        .logout(logout -&gt; logout\r\n\t        \t.logoutUrl(&quot;/logout&quot;)\r\n\t        \t.invalidateHttpSession(true)\r\n\t        \t.clearAuthentication(true)\r\n\t        \t.logoutSuccessUrl(&quot;/&quot;)\r\n\t            .permitAll());\r\n\t    \r\n\t    return http.build();\r\n\t}\r\n\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n        \t.withUser(&quot;test&quot;).password(&quot;{noop}test&quot;).roles(&quot;USER&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere are my controllers\r\n\r\n```@Controller\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrdersController {\r\n\r\n\t@Autowired\r\n\tprivate OrdersBusinessService service;\r\n\r\n\t@GetMapping(&quot;/display&quot;)\r\n\tpublic String display(Model model) {\r\n\t\tList&lt;OrderModel&gt; orders = service.getOrders();\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;My Orders&quot;);\r\n\t\tmodel.addAttribute(&quot;orders&quot;, orders);\r\n\t\treturn &quot;orders&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n```@Controller\r\npublic class LoginController {\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String display(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Login Form&quot;);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n```\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String home(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;My Home&quot;);\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Program keeps redirecting to home page after login","body":"<p>I am trying to implement Spring Security to my program and the instructions we were given had all information from deprecated classes that aren't used anymore so I am trying to figure out how to properly update my code. I currently go to my home page localhost:8080 click the login hyper link then I am redirected to localhost:8080/login. I enter the correct username and password but then am redirected back to localhost:8080 instead of localhost:8080/display/orders.</p>\n<p>Is there something wrong in my security class? Or is there not the correct redirecting happening in my controllers?</p>\n<p>Here is my security config</p>\n<pre><code>        http\n            .authorizeHttpRequests(requests -&gt; requests\n                .requestMatchers(&quot;/&quot;, &quot;/images/**&quot;, &quot;/service/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin(form -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .usernameParameter(&quot;username&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .permitAll()\n                .defaultSuccessUrl(&quot;/orders/display&quot;, true)\n                \n            )\n            .logout(logout -&gt; logout\n                .logoutUrl(&quot;/logout&quot;)\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .logoutSuccessUrl(&quot;/&quot;)\n                .permitAll());\n        \n        return http.build();\n    }\n\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n            .withUser(&quot;test&quot;).password(&quot;{noop}test&quot;).roles(&quot;USER&quot;);\n    }\n}\n</code></pre>\n<p>Here are my controllers</p>\n<pre><code>@RequestMapping(&quot;/orders&quot;)\npublic class OrdersController {\n\n    @Autowired\n    private OrdersBusinessService service;\n\n    @GetMapping(&quot;/display&quot;)\n    public String display(Model model) {\n        List&lt;OrderModel&gt; orders = service.getOrders();\n        model.addAttribute(&quot;title&quot;, &quot;My Orders&quot;);\n        model.addAttribute(&quot;orders&quot;, orders);\n        return &quot;orders&quot;;\n    }\n    \n}\n</code></pre>\n<pre><code>public class LoginController {\n    \n    @GetMapping(&quot;/login&quot;)\n    public String display(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;Login Form&quot;);\n        return &quot;login&quot;;\n    }\n</code></pre>\n<pre><code>@Controller\npublic class HomeController {\n\n    @GetMapping(&quot;/&quot;)\n    public String home(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;My Home&quot;);\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","jetbrains-ide"],"answers":[{"comments":[{"owner":{"account_id":2970229,"reputation":844,"user_id":2522868,"accept_rate":100,"display_name":"yugi"},"score":0,"creation_date":1527842381,"post_id":50638391,"comment_id":88288683,"body_markdown":"no ..still facing the same issue. maven settings.xml is pointing to correct maven settings.xml","body":"no ..still facing the same issue. maven settings.xml is pointing to correct maven settings.xml"},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":1,"creation_date":1527843882,"post_id":50638391,"comment_id":88289613,"body_markdown":"As a last resort, can you try to create your project anew? (e.g. by coping your project folder without the *iml files / .idea folder) and see if you get the same errors. If you don&#39;t it&#39;s your (intelliJ) project&#39;s config. If you still have the issue, it&#39;s perhaps an IntelliJ issue itself. Try to see if there is an update or try the EAP. and/or disable all plugins.","body":"As a last resort, can you try to create your project anew? (e.g. by coping your project folder without the *iml files / .idea folder) and see if you get the same errors. If you don&#39;t it&#39;s your (intelliJ) project&#39;s config. If you still have the issue, it&#39;s perhaps an IntelliJ issue itself. Try to see if there is an update or try the EAP. and/or disable all plugins."},{"owner":{"account_id":2970229,"reputation":844,"user_id":2522868,"accept_rate":100,"display_name":"yugi"},"score":0,"creation_date":1527844960,"post_id":50638391,"comment_id":88290289,"body_markdown":"yeah .. i will try this","body":"yeah .. i will try this"},{"owner":{"account_id":2155086,"reputation":506,"user_id":1910527,"accept_rate":75,"display_name":"Copy and Paste"},"score":0,"creation_date":1695767118,"post_id":50638391,"comment_id":136067820,"body_markdown":"For the worst of issues, sometimes this `Invalidate Caches...` method does NOT work.\nI usually start with the `Invalidate Caches...`. method described in this answer.\nIf that doesn&#39;t work, then I follow up with deleting the `.idea` folder, as described in the following answer. https://stackoverflow.com/a/70408136/1910527","body":"For the worst of issues, sometimes this <code>Invalidate Caches...</code> method does NOT work. I usually start with the <code>Invalidate Caches...</code>. method described in this answer. If that doesn&#39;t work, then I follow up with deleting the <code>.idea</code> folder, as described in the following answer. <a href=\"https://stackoverflow.com/a/70408136/1910527\">stackoverflow.com/a/70408136/1910527</a>"},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1695803286,"post_id":50638391,"comment_id":136071564,"body_markdown":"That works yeah, but please be careful. This should only be used really as a very last resort when you&#39;ve tried all else and nothing worked. In 10+ years of day-to-day work with IntelliJ, I have only done this myself only once or twice.\n\nYou are likely to loose all your project configuration and run configs etc. so be prepared to setup the whole project from scratch again! Ideally, create a back-up of the .idea folder just in case.","body":"That works yeah, but please be careful. This should only be used really as a very last resort when you&#39;ve tried all else and nothing worked. In 10+ years of day-to-day work with IntelliJ, I have only done this myself only once or twice.  You are likely to loose all your project configuration and run configs etc. so be prepared to setup the whole project from scratch again! Ideally, create a back-up of the .idea folder just in case."}],"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1527838714,"creation_date":1527838714,"answer_id":50638391,"question_id":50636628,"body_markdown":"Try:\r\n\r\n - `file` &gt; `invalidate caches / restart`\r\n - maven tool window -&gt; re-import / refresh:\r\n[![maven tool window][1]][1]\r\n - check maven settings of IntelliJ: does it point to the same settings.xml and repository as the maven from the command line? IntelliJ is shipped with it&#39;s internal maven and might use different settings / repo than your plain maven from the command line.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/frPOi.png","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>Try:</p>\n\n<ul>\n<li><code>file</code> > <code>invalidate caches / restart</code></li>\n<li>maven tool window -> re-import / refresh:\n<a href=\"https://i.stack.imgur.com/frPOi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/frPOi.png\" alt=\"maven tool window\"></a></li>\n<li>check maven settings of IntelliJ: does it point to the same settings.xml and repository as the maven from the command line? IntelliJ is shipped with it's internal maven and might use different settings / repo than your plain maven from the command line.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2420186,"reputation":1395,"user_id":2113338,"accept_rate":50,"display_name":"abstractKarshit"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1527870205,"creation_date":1527870205,"answer_id":50647576,"question_id":50636628,"body_markdown":"I believe this issue is related to the way we open this project in IntelliJ Idea as `mvn clean install` is working fine for you.\r\n\r\nWhile opening the project in IntelliJ, you should open **maven** project like this:\r\n\r\n - New -&gt; Project from Existing Sources -&gt; Select Project -&gt; Import from\r\n   External Model (Select `maven` here)\r\n[![enter image description here][1]][1]\r\n - After this, if you are asked to override .iml (idea files), you can override them.\r\n[![enter image description here][2]][2]\r\n\r\nThis should hopefully solve your problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHPig.png\r\n  [2]: https://i.stack.imgur.com/w8SaL.png","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>I believe this issue is related to the way we open this project in IntelliJ Idea as <code>mvn clean install</code> is working fine for you.</p>\n\n<p>While opening the project in IntelliJ, you should open <strong>maven</strong> project like this:</p>\n\n<ul>\n<li>New -> Project from Existing Sources -> Select Project -> Import from\nExternal Model (Select <code>maven</code> here)\n<a href=\"https://i.stack.imgur.com/yHPig.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yHPig.png\" alt=\"enter image description here\"></a></li>\n<li>After this, if you are asked to override .iml (idea files), you can override them.\n<a href=\"https://i.stack.imgur.com/w8SaL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/w8SaL.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>This should hopefully solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624639163,"creation_date":1624639163,"answer_id":68134432,"question_id":50636628,"body_markdown":"You can invalidate the cache \r\n\r\n    file -&gt; invalidate caches and restart \r\n\r\nselecting first two options shown in invalidate cache has worked for, also you might get compile time error in already opened file so, try closing/opening these already opened files which are showing errors.\r\n\r\n   \r\n\r\n 1. **Clear file system cache and Local History**: remove the virtual file system cache together with the information stored in Local\r\n    History.\r\n        \r\n        This action might be helpful for troubleshooting purposes when the usual cache invalidation is not enough to solve the problem.\r\n        \r\n      2.  **Ask before downloading new shared indexes**: show a notification prompting you to download new shared indexes as they\r\n    become available.\r\n        \r\n        Enabling this option also updates your settings for shared project indexes in Settings/ Preferences | Tools | Shared Indexes.\r\n        \r\n       3. **Clear downloaded shared indexes**: remove the downloaded shared index files.","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>You can invalidate the cache</p>\n<pre><code>file -&gt; invalidate caches and restart \n</code></pre>\n<p>selecting first two options shown in invalidate cache has worked for, also you might get compile time error in already opened file so, try closing/opening these already opened files which are showing errors.</p>\n<ol>\n<li><p><strong>Clear file system cache and Local History</strong>: remove the virtual file system cache together with the information stored in Local\nHistory.</p>\n<pre><code>This action might be helpful for troubleshooting purposes when the usual cache invalidation is not enough to solve the problem.\n</code></pre>\n<ol start=\"2\">\n<li><strong>Ask before downloading new shared indexes</strong>: show a notification prompting you to download new shared indexes as they\nbecome available.</li>\n</ol>\n<pre><code>Enabling this option also updates your settings for shared project indexes in Settings/ Preferences | Tools | Shared Indexes.\n</code></pre>\n<ol start=\"3\">\n<li><strong>Clear downloaded shared indexes</strong>: remove the downloaded shared index files.</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5156692,"reputation":339,"user_id":4129751,"accept_rate":42,"display_name":"Dravidian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634848667,"creation_date":1634848667,"answer_id":69668493,"question_id":50636628,"body_markdown":"If it helps, I also had to bump up the heap size for compiler to get past this issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G43Fn.png","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>If it helps, I also had to bump up the heap size for compiler to get past this issue.</p>\n<p><a href=\"https://i.stack.imgur.com/G43Fn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G43Fn.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1695803409,"post_id":70408136,"comment_id":136071583,"body_markdown":"Downvoted, because this solution can do more harm than good. Please warn people about the consequences when deleting their .idea folder! As they may loose run configurations and environment variable setup that may be hard to restore as it was. So &quot;import fresh&quot; is rather relative and can have major impact depending on people&#39;s context. \n\nPlease update your answer accordingly.","body":"Downvoted, because this solution can do more harm than good. Please warn people about the consequences when deleting their .idea folder! As they may loose run configurations and environment variable setup that may be hard to restore as it was. So &quot;import fresh&quot; is rather relative and can have major impact depending on people&#39;s context.   Please update your answer accordingly."}],"tags":[],"owner":{"account_id":1519017,"reputation":843,"user_id":1419261,"display_name":"user1419261"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639873214,"creation_date":1639873214,"answer_id":70408136,"question_id":50636628,"body_markdown":"Try deleteing the .idea folder under your project, close the project completely and re import fresh and it worked for me.","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>Try deleteing the .idea folder under your project, close the project completely and re import fresh and it worked for me.</p>\n"},{"comments":[{"owner":{"account_id":7833047,"reputation":594,"user_id":5922270,"accept_rate":80,"display_name":"Shabbir Essaji"},"score":0,"creation_date":1664190245,"post_id":71845827,"comment_id":130406858,"body_markdown":"This worked for me after doing all other steps(in vain)","body":"This worked for me after doing all other steps(in vain)"}],"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649779667,"creation_date":1649779187,"answer_id":71845827,"question_id":50636628,"body_markdown":"I resolved this issue by deleting the local maven repository and restoring the default setting of **Intellij** \r\n\r\n 1. Go to File --&gt; Manage IDE Settings --&gt; Restore Default Settings \r\n 2. Go to File --&gt; Settings --&gt; Build, Execution, Deployment --&gt; Build Tools --&gt; Maven --&gt; Get the **Local repository** path and delete it.\r\n 3. Open Intellij --&gt; open project --&gt; Go to Terminal --&gt; mvn clean install --&gt; error will disappear after build success","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>I resolved this issue by deleting the local maven repository and restoring the default setting of <strong>Intellij</strong></p>\n<ol>\n<li>Go to File --&gt; Manage IDE Settings --&gt; Restore Default Settings</li>\n<li>Go to File --&gt; Settings --&gt; Build, Execution, Deployment --&gt; Build Tools --&gt; Maven --&gt; Get the <strong>Local repository</strong> path and delete it.</li>\n<li>Open Intellij --&gt; open project --&gt; Go to Terminal --&gt; mvn clean install --&gt; error will disappear after build success</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2206466,"reputation":187,"user_id":1949561,"display_name":"user1949561"},"score":0,"creation_date":1691683642,"post_id":76836331,"comment_id":135527781,"body_markdown":"Brilliant!  THIS solved this issue for me.  All I had to do was install the LOMBOK plugin, thanks!","body":"Brilliant!  THIS solved this issue for me.  All I had to do was install the LOMBOK plugin, thanks!"}],"tags":[],"owner":{"account_id":7015510,"reputation":113,"user_id":7339779,"accept_rate":50,"display_name":"joy_jlee"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691155333,"creation_date":1691155333,"answer_id":76836331,"question_id":50636628,"body_markdown":"If all the above solutions do not really help, make sure you have the necessary plugins installed (such as Lombok). After an Intellij upgrade, I needed to install lombok plugin again. Intellij usually suggests installing it in the pup-up window at the bottom. ","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>If all the above solutions do not really help, make sure you have the necessary plugins installed (such as Lombok). After an Intellij upgrade, I needed to install lombok plugin again. Intellij usually suggests installing it in the pup-up window at the bottom.</p>\n"}],"owner":{"account_id":2970229,"reputation":844,"user_id":2522868,"accept_rate":100,"display_name":"yugi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12157,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":50647576,"answer_count":7,"score":11,"last_activity_date":1691155333,"creation_date":1527831019,"question_id":50636628,"body_markdown":"Showing compile error in IntelliJ-idea editor. \r\n\r\n    mvn clean install \r\n\r\nWhen run it will build successfully and run code normally. But in editor its unable to resolve those import. Some of the import is showing correctly some of the import it&#39;s showing error like Blow \r\n[![enter image description here][1]][1]\r\n\r\nand actually, the dependency is present in maven dependency list \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn the editor, it showing full of error \r\n\r\n\r\nI modified build settings, deleted repo, updated maven to the latest version, updated the IntelliJ and tried other suggestion in StackOverflow, still no solution for this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vokjK.png\r\n  [2]: https://i.stack.imgur.com/bc1jB.png\r\n","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>Showing compile error in IntelliJ-idea editor. </p>\n\n<pre><code>mvn clean install \n</code></pre>\n\n<p>When run it will build successfully and run code normally. But in editor its unable to resolve those import. Some of the import is showing correctly some of the import it's showing error like Blow \n<a href=\"https://i.stack.imgur.com/vokjK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vokjK.png\" alt=\"enter image description here\"></a></p>\n\n<p>and actually, the dependency is present in maven dependency list </p>\n\n<p><a href=\"https://i.stack.imgur.com/bc1jB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bc1jB.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the editor, it showing full of error </p>\n\n<p>I modified build settings, deleted repo, updated maven to the latest version, updated the IntelliJ and tried other suggestion in StackOverflow, still no solution for this problem.</p>\n"},{"tags":["java",".net","visual-studio","maven","nuget"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691156675,"post_id":76836317,"comment_id":135457738,"body_markdown":"Can you include the data repo as a Git submodule? They&#39;d be in their own repo, but easily included in all other Git repos.","body":"Can you include the data repo as a Git submodule? They&#39;d be in their own repo, but easily included in all other Git repos."},{"owner":{"account_id":140870,"reputation":9827,"user_id":347484,"accept_rate":98,"display_name":"Boppity Bop"},"score":0,"creation_date":1691156731,"post_id":76836317,"comment_id":135457754,"body_markdown":"I don&#39;t know. I never heard of submodules. Tell me more please","body":"I don&#39;t know. I never heard of submodules. Tell me more please"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691156755,"post_id":76836317,"comment_id":135457757,"body_markdown":"https://git-scm.com/book/en/v2/Git-Tools-Submodules","body":"<a href=\"https://git-scm.com/book/en/v2/Git-Tools-Submodules\" rel=\"nofollow noreferrer\">git-scm.com/book/en/v2/Git-Tools-Submodules</a>"},{"owner":{"account_id":8334489,"reputation":5477,"user_id":6261890,"display_name":"Bowman Zhu-MSFT"},"score":0,"creation_date":1692697407,"post_id":76836317,"comment_id":135656116,"body_markdown":"@BoppityBop Hi, any update of this question? :)","body":"@BoppityBop Hi, any update of this question? :)"},{"owner":{"account_id":140870,"reputation":9827,"user_id":347484,"accept_rate":98,"display_name":"Boppity Bop"},"score":0,"creation_date":1692698223,"post_id":76836317,"comment_id":135656304,"body_markdown":"Jorn idea it sounds good.. but java team rejected the approach. so i couldnt test..","body":"Jorn idea it sounds good.. but java team rejected the approach. so i couldnt test.."}],"owner":{"account_id":140870,"reputation":9827,"user_id":347484,"accept_rate":98,"display_name":"Boppity Bop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691155226,"creation_date":1691155226,"question_id":76836317,"body_markdown":"We currently have 3 teams working with same set of .json files : java .net and python.\r\n\r\nThe files are static data which changes not very often. They need to be deployed with executables. So they are code-agnostic assets\r\n\r\nThey are part of .net solution and java project (not sure how python guys structure theirs)\r\n\r\nIf there are changes in the files .net and python are going to java github repo and download them, replace locally, check in into their repos. There are also 2 different .net teams using it in separate VS solutions and separate github repos.\r\n\r\nIs there a way to automate it? Or better share from the single source?\r\n\r\nWe use enterprise github","title":"Share project files between Visual Studio .net and Eclipse java","body":"<p>We currently have 3 teams working with same set of .json files : java .net and python.</p>\n<p>The files are static data which changes not very often. They need to be deployed with executables. So they are code-agnostic assets</p>\n<p>They are part of .net solution and java project (not sure how python guys structure theirs)</p>\n<p>If there are changes in the files .net and python are going to java github repo and download them, replace locally, check in into their repos. There are also 2 different .net teams using it in separate VS solutions and separate github repos.</p>\n<p>Is there a way to automate it? Or better share from the single source?</p>\n<p>We use enterprise github</p>\n"},{"tags":["java","android","libgdx"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690974540,"post_id":76818465,"comment_id":135426828,"body_markdown":"I would say the class you use extends another class and you must pass arguments to the super() in /or from a constructor at minimum whether they are literals fed inside a no Arg constructor to super(....the args....)   or the class you built obtains some or all the args to feed to super(....args...)","body":"I would say the class you use extends another class and you must pass arguments to the super() in /or from a constructor at minimum whether they are literals fed inside a no Arg constructor to super(....the args....)   or the class you built obtains some or all the args to feed to super(....args...)"},{"owner":{"account_id":19809070,"reputation":1,"user_id":14508367,"display_name":"Ajax12Ajax"},"score":0,"creation_date":1691155299,"post_id":76818465,"comment_id":135457374,"body_markdown":"The library in question is built into the framework I&#39;m using (LibGDX) and I don&#39;t seem to be able to add a super() to it anywhere or I just don&#39;t know where to","body":"The library in question is built into the framework I&#39;m using (LibGDX) and I don&#39;t seem to be able to add a super() to it anywhere or I just don&#39;t know where to"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691211194,"post_id":76818465,"comment_id":135464541,"body_markdown":"I&#39;ll just presume &quot;you&quot; have written main class to import the library into, you would be &quot;extending&quot;? from a class in LibGDX ? Or is there a problem with pre loading LibGDX from some ready made program configuration on startup?","body":"I&#39;ll just presume &quot;you&quot; have written main class to import the library into, you would be &quot;extending&quot;? from a class in LibGDX ? Or is there a problem with pre loading LibGDX from some ready made program configuration on startup?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691211853,"post_id":76818465,"comment_id":135464579,"body_markdown":"It appears you did not initialise a class you needed from this package is the most probable e.g. there is a variable but no construction call in the code, or it is in an if else (or some block) and unclear to the compiler if it would  get called.\n     com.badlogic.gdx.scenes.scene2d.ui","body":"It appears you did not initialise a class you needed from this package is the most probable e.g. there is a variable but no construction call in the code, or it is in an if else (or some block) and unclear to the compiler if it would  get called.      com.badlogic.gdx.scenes.scene2d.ui"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691212417,"post_id":76818465,"comment_id":135464631,"body_markdown":"However, starting an android application uses a no Arg constructor and is as I mentioned before &quot;extended&quot; class, so for main class it does no harm to put in public MyMainClass(){super();}","body":"However, starting an android application uses a no Arg constructor and is as I mentioned before &quot;extended&quot; class, so for main class it does no harm to put in public MyMainClass(){super();}"}],"owner":{"account_id":19809070,"reputation":1,"user_id":14508367,"display_name":"Ajax12Ajax"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691155110,"creation_date":1690968263,"question_id":76818465,"body_markdown":"I get this problem in google play console but not in ide anymore(I use intelij).\r\n\r\nI suspect there may be a problem with proguard.\r\n\r\nHere is my proguard:\r\n```\r\n-verbose\r\n\r\n-dontwarn com.badlogic.gdx.backends.android.AndroidFragmentApplication\r\n\r\n# Required if using Gdx-Controllers extension\r\n-keep class com.badlogic.gdx.controllers.android.AndroidControllers\r\n\r\n-keep class com.badlogic.gdx.scenes.scene2d.ui.**{\r\n   **[] $VALUES;\r\n    *;\r\n}\r\n\r\n-keep class com.your.game.data.**{\r\n   **[] $VALUES;\r\n    *;\r\n}\r\n\r\n# Required if using Box2D extension\r\n-keepclassmembers class com.badlogic.gdx.physics.box2d.World {\r\n   boolean contactFilter(long, long);\r\n   void    beginContact(long);\r\n   void    endContact(long);\r\n   void    preSolve(long, long);\r\n   void    postSolve(long, long);\r\n   boolean reportFixture(long);\r\n   float   reportRayFixture(long, float, float, float, float, float);\r\n}\r\n\r\n```\r\n","title":"LibGDX Class cannot be created (missing no-arg constructor): com.badlogic.gdx.scenes.scene2d.f","body":"<p>I get this problem in google play console but not in ide anymore(I use intelij).</p>\n<p>I suspect there may be a problem with proguard.</p>\n<p>Here is my proguard:</p>\n<pre><code>-verbose\n\n-dontwarn com.badlogic.gdx.backends.android.AndroidFragmentApplication\n\n# Required if using Gdx-Controllers extension\n-keep class com.badlogic.gdx.controllers.android.AndroidControllers\n\n-keep class com.badlogic.gdx.scenes.scene2d.ui.**{\n   **[] $VALUES;\n    *;\n}\n\n-keep class com.your.game.data.**{\n   **[] $VALUES;\n    *;\n}\n\n# Required if using Box2D extension\n-keepclassmembers class com.badlogic.gdx.physics.box2d.World {\n   boolean contactFilter(long, long);\n   void    beginContact(long);\n   void    endContact(long);\n   void    preSolve(long, long);\n   void    postSolve(long, long);\n   boolean reportFixture(long);\n   float   reportRayFixture(long, float, float, float, float, float);\n}\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9866,"page":268,"page_size":100}
