{"items":[{"tags":["java","rest"],"comments":[{"owner":{"account_id":1500413,"reputation":320,"user_id":1405280,"accept_rate":80,"display_name":"Tanbir Ahmed"},"score":0,"creation_date":1638939050,"post_id":70269738,"comment_id":124218478,"body_markdown":"Could add more specifics on the problem that you are having? Not sure what are you asking.","body":"Could add more specifics on the problem that you are having? Not sure what are you asking."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639331445,"creation_date":1638944671,"answer_id":70270789,"question_id":70269738,"body_markdown":"First of all you&#39;ll probably want to show all the source files from all the services in the same IntelliJ project.\r\n\r\nSo you&#39;ll need to maintain a special file (assuming you have maven) that will &quot;aggregate&quot; all the modules:\r\n\r\n~~~\r\n&lt;project\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.yourorg&lt;/groupId&gt;\r\n    &lt;artifactId&gt;yourproject&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;microservice1&lt;/module&gt;\r\n        &lt;module&gt;microservice2&lt;/module&gt;\r\n        ...\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n~~~\r\n\r\nNow indeed if you&#39;ll run all service with the default configurations the web ports will clash, so you&#39;ll have to provide some kind of mappings. There are many ways to do so. You can create a special profile with &quot;altered&quot; configurations for the ports.\r\nFor example, create `application-local.yaml` next to `application.yaml`:\r\n~~~\r\n// application.yaml\r\nserver:\r\n   port: 8080\r\n~~~\r\n~~~\r\n// application-local.yaml\r\nserver:\r\n   port: 9999\r\n~~~\r\nAnd start the application with the active profile &quot;local&quot;. Spring will have two different configurations and will pick a &quot;more specific&quot; local profile (custom profiles will always override the configurations specified in the default `application.yml`).\r\n\r\nThis is only one possible way (not necessarily the best one), but in general, different configurations must be provided for the local and regular environments.\r\n\r\nTo pick the way that will work for you in the best possible way, check out the [externalized configuration guide][1] of spring boot\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/reference/html/boot-features-external-config.html#:~:text=Spring%20Boot%20lets%20you%20externalize,line%20arguments%20to%20externalize%20configuration.","title":"Developing multiple springboot services in an IDE","body":"<p>First of all you'll probably want to show all the source files from all the services in the same IntelliJ project.</p>\n<p>So you'll need to maintain a special file (assuming you have maven) that will &quot;aggregate&quot; all the modules:</p>\n<pre><code>&lt;project\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.yourorg&lt;/groupId&gt;\n    &lt;artifactId&gt;yourproject&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;microservice1&lt;/module&gt;\n        &lt;module&gt;microservice2&lt;/module&gt;\n        ...\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now indeed if you'll run all service with the default configurations the web ports will clash, so you'll have to provide some kind of mappings. There are many ways to do so. You can create a special profile with &quot;altered&quot; configurations for the ports.\nFor example, create <code>application-local.yaml</code> next to <code>application.yaml</code>:</p>\n<pre><code>// application.yaml\nserver:\n   port: 8080\n</code></pre>\n<pre><code>// application-local.yaml\nserver:\n   port: 9999\n</code></pre>\n<p>And start the application with the active profile &quot;local&quot;. Spring will have two different configurations and will pick a &quot;more specific&quot; local profile (custom profiles will always override the configurations specified in the default <code>application.yml</code>).</p>\n<p>This is only one possible way (not necessarily the best one), but in general, different configurations must be provided for the local and regular environments.</p>\n<p>To pick the way that will work for you in the best possible way, check out the <a href=\"https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/reference/html/boot-features-external-config.html#:%7E:text=Spring%20Boot%20lets%20you%20externalize,line%20arguments%20to%20externalize%20configuration.\" rel=\"nofollow noreferrer\">externalized configuration guide</a> of spring boot</p>\n"}],"owner":{"account_id":23582929,"reputation":15,"user_id":17621728,"display_name":"Vij S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70270789,"answer_count":1,"score":0,"last_activity_date":1639331445,"creation_date":1638935666,"question_id":70269738,"body_markdown":"How can you develop and test multiple REST services developed in Springboot from an IDE? I will have to have different port numbers for each REST service, is there any better way?","title":"Developing multiple springboot services in an IDE","body":"<p>How can you develop and test multiple REST services developed in Springboot from an IDE? I will have to have different port numbers for each REST service, is there any better way?</p>\n"},{"tags":["java","asynchronous","netty"],"answers":[{"tags":[],"owner":{"account_id":2416763,"reputation":5986,"user_id":2110623,"accept_rate":90,"display_name":"aochagavia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639331333,"creation_date":1639331333,"answer_id":70326150,"question_id":70325552,"body_markdown":"Though not built-in, a seemingly idiomatic solution for this problem is a custom `MessageToMessageCodec`. Based on the example which uses `String` as message type, I wrote the following codec which handles queuing for you:\r\n\r\n    public class QueuingCodec extends MessageToMessageCodec&lt;String, String&gt; {\r\n    \r\n      private final Queue&lt;String&gt; messageQueue = new ArrayDeque&lt;&gt;();\r\n      private boolean processingMessage = false;\r\n    \r\n      @Override\r\n      protected void encode(ChannelHandlerContext ctx, String s, List&lt;Object&gt; list)\r\n          throws Exception {\r\n    \r\n        // Pass the message on to output\r\n        list.add(s);\r\n    \r\n        // Allow processing more messages\r\n        processingMessage = false;\r\n    \r\n        // Send the next message in the queue if available\r\n        if (!messageQueue.isEmpty()) {\r\n          processingMessage = true;\r\n          var message = messageQueue.poll();\r\n    \r\n          // Pass the message on to input\r\n          ctx.executor().execute(() -&gt; {\r\n            ctx.fireChannelRead(message);\r\n          });\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      protected void decode(ChannelHandlerContext ctx, String s, List&lt;Object&gt; list)\r\n          throws Exception {\r\n    \r\n        if (processingMessage) {\r\n          // Store message for later processing\r\n          messageQueue.add(s);\r\n        } else {\r\n          // Pass data on to input\r\n          list.add(s);\r\n    \r\n          // Prevent processing of new messages\r\n          processingMessage = true;\r\n        }\r\n      }\r\n    }","title":"Make order of responses match order of requests in Netty","body":"<p>Though not built-in, a seemingly idiomatic solution for this problem is a custom <code>MessageToMessageCodec</code>. Based on the example which uses <code>String</code> as message type, I wrote the following codec which handles queuing for you:</p>\n<pre><code>public class QueuingCodec extends MessageToMessageCodec&lt;String, String&gt; {\n\n  private final Queue&lt;String&gt; messageQueue = new ArrayDeque&lt;&gt;();\n  private boolean processingMessage = false;\n\n  @Override\n  protected void encode(ChannelHandlerContext ctx, String s, List&lt;Object&gt; list)\n      throws Exception {\n\n    // Pass the message on to output\n    list.add(s);\n\n    // Allow processing more messages\n    processingMessage = false;\n\n    // Send the next message in the queue if available\n    if (!messageQueue.isEmpty()) {\n      processingMessage = true;\n      var message = messageQueue.poll();\n\n      // Pass the message on to input\n      ctx.executor().execute(() -&gt; {\n        ctx.fireChannelRead(message);\n      });\n    }\n  }\n\n  @Override\n  protected void decode(ChannelHandlerContext ctx, String s, List&lt;Object&gt; list)\n      throws Exception {\n\n    if (processingMessage) {\n      // Store message for later processing\n      messageQueue.add(s);\n    } else {\n      // Pass data on to input\n      list.add(s);\n\n      // Prevent processing of new messages\n      processingMessage = true;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2416763,"reputation":5986,"user_id":2110623,"accept_rate":90,"display_name":"aochagavia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70326150,"answer_count":1,"score":1,"last_activity_date":1639331333,"creation_date":1639327117,"question_id":70325552,"body_markdown":"## Context\r\n\r\nI am writing a Netty application (Netty 4) in which the processing of each message might take some time. As an example of what I mean I have created an `EchoHandler` that responds with the original message, though sometimes after a short delay:\r\n\r\n    public class EchoHandler extends ChannelInboundHandlerAdapter {\r\n      @Override\r\n      public void channelRead(ChannelHandlerContext ctx, Object msg) {\r\n        var message = (String) msg;\r\n    \r\n        if (message.equals(&quot;delay&quot;)) {\r\n          ctx.executor().schedule(() -&gt; ctx.writeAndFlush(message), 400, TimeUnit.MILLISECONDS);\r\n        } else {\r\n          ctx.writeAndFlush(message);\r\n        }\r\n      }\r\n    }\r\n\r\n## Problem\r\n\r\nUsing this code, the order of the responses is not guaranteed to be the same as the order of the incoming requests. In fact, if the first message consists of the string &quot;delay&quot; and the second of some other string, the order of the responses will be reversed! I have written a test to illustrate this:\r\n\r\n    public class Tests {\r\n      @Test\r\n      public void test() throws ExecutionException, InterruptedException {\r\n        var channel = new EmbeddedChannel(new EchoHandler());\r\n        channel.writeInbound(&quot;delay&quot;, &quot;second message&quot;);\r\n    \r\n        // Let some time pass and process any scheduled tasks\r\n        Thread.sleep(500);\r\n        channel.runPendingTasks();\r\n    \r\n        // The response to the last message comes first!\r\n        var firstMessage = (String) channel.readOutbound();\r\n        Assertions.assertEquals(&quot;second message&quot;, firstMessage);\r\n    \r\n        // The response to the first message comes second!\r\n        var secondMessage = (String) channel.readOutbound();\r\n        Assertions.assertEquals(&quot;delay&quot;, secondMessage);\r\n      }\r\n    }\r\n\r\n## Question\r\n\r\nI am looking for a built-in way in Netty to guarantee the order of the outgoing responses matches the order of the incoming messages. Using an imaginary extension of the library, I would rewrite the handler as follows:\r\n\r\n    @Override\r\n    public void channelRead(ChannelHandlerContext ctx, Object msg) {\r\n      var message = (String) msg;\r\n    \r\n      ctx.pauseMessageProcessing(); // Upcoming messages will be temporarily queued\r\n      \r\n      if (message.equals(&quot;delay&quot;)) {\r\n        ctx.executor().schedule(() -&gt; {\r\n          ctx.writeAndFlush(message);\r\n          ctx.resumeMessageProcessing(); // After flushing we can resume message processing\r\n        }, 400, TimeUnit.MILLISECONDS);\r\n      } else {\r\n        ctx.writeAndFlush(message);\r\n        ctx.resumeMessageProcessing(); // After flushing we can resume message processing\r\n      }\r\n    }\r\n\r\nDoes Netty provide something like this out of the box? It sounds like a common use case and I&#39;d much rather rely on battle-tested code than writing my own queuing implementation.","title":"Make order of responses match order of requests in Netty","body":"<h2>Context</h2>\n<p>I am writing a Netty application (Netty 4) in which the processing of each message might take some time. As an example of what I mean I have created an <code>EchoHandler</code> that responds with the original message, though sometimes after a short delay:</p>\n<pre><code>public class EchoHandler extends ChannelInboundHandlerAdapter {\n  @Override\n  public void channelRead(ChannelHandlerContext ctx, Object msg) {\n    var message = (String) msg;\n\n    if (message.equals(&quot;delay&quot;)) {\n      ctx.executor().schedule(() -&gt; ctx.writeAndFlush(message), 400, TimeUnit.MILLISECONDS);\n    } else {\n      ctx.writeAndFlush(message);\n    }\n  }\n}\n</code></pre>\n<h2>Problem</h2>\n<p>Using this code, the order of the responses is not guaranteed to be the same as the order of the incoming requests. In fact, if the first message consists of the string &quot;delay&quot; and the second of some other string, the order of the responses will be reversed! I have written a test to illustrate this:</p>\n<pre><code>public class Tests {\n  @Test\n  public void test() throws ExecutionException, InterruptedException {\n    var channel = new EmbeddedChannel(new EchoHandler());\n    channel.writeInbound(&quot;delay&quot;, &quot;second message&quot;);\n\n    // Let some time pass and process any scheduled tasks\n    Thread.sleep(500);\n    channel.runPendingTasks();\n\n    // The response to the last message comes first!\n    var firstMessage = (String) channel.readOutbound();\n    Assertions.assertEquals(&quot;second message&quot;, firstMessage);\n\n    // The response to the first message comes second!\n    var secondMessage = (String) channel.readOutbound();\n    Assertions.assertEquals(&quot;delay&quot;, secondMessage);\n  }\n}\n</code></pre>\n<h2>Question</h2>\n<p>I am looking for a built-in way in Netty to guarantee the order of the outgoing responses matches the order of the incoming messages. Using an imaginary extension of the library, I would rewrite the handler as follows:</p>\n<pre><code>@Override\npublic void channelRead(ChannelHandlerContext ctx, Object msg) {\n  var message = (String) msg;\n\n  ctx.pauseMessageProcessing(); // Upcoming messages will be temporarily queued\n  \n  if (message.equals(&quot;delay&quot;)) {\n    ctx.executor().schedule(() -&gt; {\n      ctx.writeAndFlush(message);\n      ctx.resumeMessageProcessing(); // After flushing we can resume message processing\n    }, 400, TimeUnit.MILLISECONDS);\n  } else {\n    ctx.writeAndFlush(message);\n    ctx.resumeMessageProcessing(); // After flushing we can resume message processing\n  }\n}\n</code></pre>\n<p>Does Netty provide something like this out of the box? It sounds like a common use case and I'd much rather rely on battle-tested code than writing my own queuing implementation.</p>\n"},{"tags":["javascript","java","api","video","iframe"],"comments":[{"owner":{"account_id":17444879,"reputation":94,"user_id":12646131,"display_name":"jbritain"},"score":2,"creation_date":1639331077,"post_id":70326032,"comment_id":124316034,"body_markdown":"What actual content is within the iFrame? If you have the URL of the video, simply go to that URL and it will download.","body":"What actual content is within the iFrame? If you have the URL of the video, simply go to that URL and it will download."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1639332415,"post_id":70326032,"comment_id":124316360,"body_markdown":"If you are trying to download videos from YouTube, note that Google does not like that.","body":"If you are trying to download videos from YouTube, note that Google does not like that."},{"owner":{"account_id":8967963,"reputation":1220,"user_id":6687744,"display_name":"Amit Kumar PRO"},"score":0,"creation_date":1639802808,"post_id":70326032,"comment_id":124447566,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23627278,"reputation":1,"user_id":17659603,"display_name":"Vann Daiki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639330484,"creation_date":1639330484,"question_id":70326032,"body_markdown":"Is there any way to download videos using src link of iframe tag using java or javascript or any other way.","title":"Are there any possible ways to download videos using iframe","body":"<p>Is there any way to download videos using src link of iframe tag using java or javascript or any other way.</p>\n"},{"tags":["java","macos","pom.xml","jodatime"],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639177225,"creation_date":1639177225,"answer_id":70311245,"question_id":70310986,"body_markdown":"As far as I know, it only adds the library&#39;s code to the exported project but does not directly download it to any path. If you just want the file you can download it [here][1]\r\n\r\n\r\n  [1]: https://github.com/JodaOrg/joda-time/releases/download/v2.10.13/joda-time-2.10.13.jar","title":"How can i find Joda-Time Jar file on my Mac?","body":"<p>As far as I know, it only adds the library's code to the exported project but does not directly download it to any path. If you just want the file you can download it <a href=\"https://github.com/JodaOrg/joda-time/releases/download/v2.10.13/joda-time-2.10.13.jar\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639330425,"creation_date":1639184714,"answer_id":70311909,"question_id":70310986,"body_markdown":"# tl;dr\r\n\r\nLook in the `.m2` folder maintained by Maven, where its downloads are kept. \r\n\r\n# *Joda-Time*\r\n\r\nIf using [Apache Maven][1] as your dependency manager, visit the [*Joda-Time*][2] web site to find the needed entry for your [POM][3] file.\r\n\r\nCurrently:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n  &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n  &lt;version&gt;2.10.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere is an example POM created by starting a new project with the [Apache Maven Quickstart][4] archetype. I modified this to (a) add the Joda-Time dependency, (b) use latest versions for all parts, and (c) specify version of Java via `&lt;maven.compiler.release&gt;` element.\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JodaTimeExample&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;JodaTimeExample&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/joda-time/joda-time --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.9.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSave your edited POM, make Maven re-parse that POM, and clean-and-build your project. After a while (while downloads happen), go check the folders where your external libraries are kept. Verify the folder contains `joda-time-2.10.13.jar`. \r\n\r\nIn my case, on a MacBook Pro running macOS Big Sur, the JAR could be found at:\r\n\r\n&gt;/Users/basil_dot_work/.m2/repository/joda-time/joda-time/2.10.13/joda-time-2.10.13.jar\r\n\r\nAt that point, edit the main `.java` file to use the *Joda-Time* classes.\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport org.joda.time.DateTime;\r\n\r\n/**\r\n * Hello world!\r\n */\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println( \r\n            &quot;At the tone the time will be: &quot; + \r\n            DateTime.now() \r\n        );\r\n    }\r\n}\r\n```\r\n\r\nWhen run, see output such as:\r\n\r\n&gt;At the tone the time will be: 2021-12-10T16:58:38.076-08:00\r\n\r\n# *java.time*\r\n\r\nBe aware that the *Joda-Time* project is now in [maintenance mode][5]. \r\n\r\nThe creator of Joda-Time, Stephen Colebourne, took lessons learned and went on to lead the [JSR 310][6] project. That project resulted in the *java.time* classes being built into Java 8 and later.\r\n\r\nIf starting a new project, you should use the *java.time* classes rather than Joda-Time.\r\n\r\nIf maintaining an app that already uses Joda-Time, you may continue using Joda-Time. The project is maintained with updates to the [*tz* database][7], and with any crucial bug fixes. But since no further feature work is being done, consider planning for a migration to *java.time* when convenient.\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://www.joda.org/joda-time/\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [4]: https://maven.apache.org/archetypes/maven-archetype-quickstart/\r\n  [5]: https://en.wikipedia.org/wiki/Maintenance_mode\r\n  [6]: https://jcp.org/en/jsr/detail?id=310\r\n  [7]: https://en.wikipedia.org/wiki/Tz_database","title":"How can i find Joda-Time Jar file on my Mac?","body":"<h1>tl;dr</h1>\n<p>Look in the <code>.m2</code> folder maintained by Maven, where its downloads are kept.</p>\n<h1><em>Joda-Time</em></h1>\n<p>If using <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> as your dependency manager, visit the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> web site to find the needed entry for your <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</p>\n<p>Currently:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;joda-time&lt;/groupId&gt;\n  &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n  &lt;version&gt;2.10.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is an example POM created by starting a new project with the <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\">Apache Maven Quickstart</a> archetype. I modified this to (a) add the Joda-Time dependency, (b) use latest versions for all parts, and (c) specify version of Java via <code>&lt;maven.compiler.release&gt;</code> element.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;JodaTimeExample&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;JodaTimeExample&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/joda-time/joda-time --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.10.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.9.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Save your edited POM, make Maven re-parse that POM, and clean-and-build your project. After a while (while downloads happen), go check the folders where your external libraries are kept. Verify the folder contains <code>joda-time-2.10.13.jar</code>.</p>\n<p>In my case, on a MacBook Pro running macOS Big Sur, the JAR could be found at:</p>\n<blockquote>\n<p>/Users/basil_dot_work/.m2/repository/joda-time/joda-time/2.10.13/joda-time-2.10.13.jar</p>\n</blockquote>\n<p>At that point, edit the main <code>.java</code> file to use the <em>Joda-Time</em> classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport org.joda.time.DateTime;\n\n/**\n * Hello world!\n */\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        System.out.println( \n            &quot;At the tone the time will be: &quot; + \n            DateTime.now() \n        );\n    }\n}\n</code></pre>\n<p>When run, see output such as:</p>\n<blockquote>\n<p>At the tone the time will be: 2021-12-10T16:58:38.076-08:00</p>\n</blockquote>\n<h1><em>java.time</em></h1>\n<p>Be aware that the <em>Joda-Time</em> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>.</p>\n<p>The creator of Joda-Time, Stephen Colebourne, took lessons learned and went on to lead the <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a> project. That project resulted in the <em>java.time</em> classes being built into Java 8 and later.</p>\n<p>If starting a new project, you should use the <em>java.time</em> classes rather than Joda-Time.</p>\n<p>If maintaining an app that already uses Joda-Time, you may continue using Joda-Time. The project is maintained with updates to the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\"><em>tz</em> database</a>, and with any crucial bug fixes. But since no further feature work is being done, consider planning for a migration to <em>java.time</em> when convenient.</p>\n"}],"owner":{"account_id":17010448,"reputation":349,"user_id":12305583,"display_name":"Moudinho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1639330425,"creation_date":1639174811,"question_id":70310986,"body_markdown":"As far as i know, once you use a maven library in pom.xml , a jar file will be downloaded to your computer.\r\nI have used Joda-Time in my pom.xml , but i cannot find the joda-time-2.10.13.jar on my Mac","title":"How can i find Joda-Time Jar file on my Mac?","body":"<p>As far as i know, once you use a maven library in pom.xml , a jar file will be downloaded to your computer.\nI have used Joda-Time in my pom.xml , but i cannot find the joda-time-2.10.13.jar on my Mac</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":0,"creation_date":1521487608,"post_id":49370821,"comment_id":85742727,"body_markdown":"I don&#39;t know if this is an assignment or anything, but if everything in this code is up to you, you should definitely use structures made for this purpose such as [`GregorianCalendar`](https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html)","body":"I don&#39;t know if this is an assignment or anything, but if everything in this code is up to you, you should definitely use structures made for this purpose such as <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\"><code>GregorianCalendar</code></a>"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521487707,"post_id":49370821,"comment_id":85742768,"body_markdown":"@ArthurAttout, I thought of that, the problem is the events are not a one time thing (I can&#39;t really hardcode the date).","body":"@ArthurAttout, I thought of that, the problem is the events are not a one time thing (I can&#39;t really hardcode the date)."},{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":0,"creation_date":1521487917,"post_id":49370821,"comment_id":85742871,"body_markdown":"What do you mean, &quot;not a one time thing&quot; ? There are a lot of constructors in GregorianCalendar, one of them is probably what you are looking for","body":"What do you mean, &quot;not a one time thing&quot; ? There are a lot of constructors in GregorianCalendar, one of them is probably what you are looking for"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521488024,"post_id":49370821,"comment_id":85742927,"body_markdown":"Those events happen every week.","body":"Those events happen every week."},{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":0,"creation_date":1521488225,"post_id":49370821,"comment_id":85743028,"body_markdown":"Hmmm .. So what ? When you call the constructor for Gregorian Calendar with no parameters, it constructs an object based on the current time. Using those kind of structures will spare you a lot of hair pulling, rather than re-constructing everything manually","body":"Hmmm .. So what ? When you call the constructor for Gregorian Calendar with no parameters, it constructs an object based on the current time. Using those kind of structures will spare you a lot of hair pulling, rather than re-constructing everything manually"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521488329,"post_id":49370821,"comment_id":85743094,"body_markdown":"Alright, I&#39;ll look into it. Thanks.","body":"Alright, I&#39;ll look into it. Thanks."},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":4,"creation_date":1521488368,"post_id":49370821,"comment_id":85743115,"body_markdown":"If your compiler supports java 8, I suggest not using GregorianCalendar, and look at the [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package which provides very useful methods for working with date and time","body":"If your compiler supports java 8, I suggest not using GregorianCalendar, and look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package which provides very useful methods for working with date and time"},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":2,"creation_date":1521489282,"post_id":49370821,"comment_id":85743634,"body_markdown":"&quot;*Determining which of two events is nearer?*&quot; Nearer to what?","body":"&quot;<i>Determining which of two events is nearer?</i>&quot; Nearer to what?"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521489558,"post_id":49370821,"comment_id":85743791,"body_markdown":"@smac89 To the current time.","body":"@smac89 To the current time."},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1521489816,"post_id":49370821,"comment_id":85743915,"body_markdown":"That function take a list of times. Where do you define current time in that method?","body":"That function take a list of times. Where do you define current time in that method?"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521489891,"post_id":49370821,"comment_id":85743947,"body_markdown":"`currentDay` actually calls a method that retrieves the current day and transforms it into an int. I hardcoded it for debugging reasons.","body":"<code>currentDay</code> actually calls a method that retrieves the current day and transforms it into an int. I hardcoded it for debugging reasons."},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1521490215,"post_id":49370821,"comment_id":85744091,"body_markdown":"The event closest to the `currentDay` is the event for which `Math.abs(eventDate - currentDay)`, is the least. Does that make sense?","body":"The event closest to the <code>currentDay</code> is the event for which <code>Math.abs(eventDate - currentDay)</code>, is the least. Does that make sense?"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521492084,"post_id":49370821,"comment_id":85745054,"body_markdown":"Not really. If the current day is sunday(7), this won&#39;t work. `abs[6(event2) - 7 (currentTime)]` returns 1, which means that event2 is closer than event1 (incorrect).","body":"Not really. If the current day is sunday(7), this won&#39;t work. <code>abs[6(event2) - 7 (currentTime)]</code> returns 1, which means that event2 is closer than event1 (incorrect)."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1521496534,"post_id":49370821,"comment_id":85747204,"body_markdown":"The nearest event is the one with the smallest difference to the current day. So you should look for a general solution to build a difference for a given event and your event. If you look for the nearest event in the future, that&#39;s another question, but similar - just filter the eventlist before. For repeated events in the future, you may add 7 to every event &lt; currentDay to get all dates from next week. So for saturday, the next event might be on monday, not on the last thursday.","body":"The nearest event is the one with the smallest difference to the current day. So you should look for a general solution to build a difference for a given event and your event. If you look for the nearest event in the future, that&#39;s another question, but similar - just filter the eventlist before. For repeated events in the future, you may add 7 to every event &lt; currentDay to get all dates from next week. So for saturday, the next event might be on monday, not on the last thursday."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1521496806,"post_id":49370821,"comment_id":85747318,"body_markdown":"Btw.: I&#39;ve seldomly seen a code with such few things happening, but so unclear what is going on. And why do you need an empty else block? What are double braces good for? The assignment to closesDay, just to return it immediately. Why not returning the indexOf directly? Why aren&#39;t you using a simplified for-loop? And a terrible comment style, unflexible and therefore hindering changes.","body":"Btw.: I&#39;ve seldomly seen a code with such few things happening, but so unclear what is going on. And why do you need an empty else block? What are double braces good for? The assignment to closesDay, just to return it immediately. Why not returning the indexOf directly? Why aren&#39;t you using a simplified for-loop? And a terrible comment style, unflexible and therefore hindering changes."},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521497887,"post_id":49370821,"comment_id":85747772,"body_markdown":"@userunknown well sorry for the terrible comment style. I don&#39;t comment like that, a user edited it like that. The assignment of closesDay is nice to make the code cleaner and easier to understand (also, the compiler should optimize it himself). I don&#39;t know why I am not using simplified for loops honestly. Everything else you pointed out is nice to have to make the code flow in my head better (also, it should be automatically optimized by the compiler).","body":"@userunknown well sorry for the terrible comment style. I don&#39;t comment like that, a user edited it like that. The assignment of closesDay is nice to make the code cleaner and easier to understand (also, the compiler should optimize it himself). I don&#39;t know why I am not using simplified for loops honestly. Everything else you pointed out is nice to have to make the code flow in my head better (also, it should be automatically optimized by the compiler)."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1521498347,"post_id":49370821,"comment_id":85747986,"body_markdown":"@A.Pecora: No. You have int result declared in effective code line 4. Then nothing happens to it. Not in the if branch, not in the else branch. It&#39;s initialiized to 0 with no reason. You could and should have declared it at first usage (if at all, see comment before) so that we don&#39;t have to ask ourselves, why it get&#39;s overridden without condition. Small variable scope means simpler reasoning about code. In meth. 2, closestDay is initialized to 10 - as a surely too high value, as you made the comment, that days are between 1 and 7. Can&#39;t the method be called with an empty event list? NPE!","body":"@A.Pecora: No. You have int result declared in effective code line 4. Then nothing happens to it. Not in the if branch, not in the else branch. It&#39;s initialiized to 0 with no reason. You could and should have declared it at first usage (if at all, see comment before) so that we don&#39;t have to ask ourselves, why it get&#39;s overridden without condition. Small variable scope means simpler reasoning about code. In meth. 2, closestDay is initialized to 10 - as a surely too high value, as you made the comment, that days are between 1 and 7. Can&#39;t the method be called with an empty event list? NPE!"},{"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"score":0,"creation_date":1521500769,"post_id":49370821,"comment_id":85748873,"body_markdown":"@userunknown Well you are indeed right. Thanks for pointing that out. If you have anything else to point out do it! I really enjoy criticism.","body":"@userunknown Well you are indeed right. Thanks for pointing that out. If you have anything else to point out do it! I really enjoy criticism."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1521501497,"post_id":49370821,"comment_id":85749098,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/167125/discussion-between-user-unknown-and-a-pecora).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/167125/discussion-between-user-unknown-and-a-pecora\">continue this discussion in chat</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1521505523,"post_id":49370821,"comment_id":85750246,"body_markdown":"@A.Pecora Edit Your Question to add further information rather than post as Comments.","body":"@A.Pecora Edit Your Question to add further information rather than post as Comments."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1521510882,"post_id":49370821,"comment_id":85751458,"body_markdown":"@A.Pecora Well, imho you should have a method, which expects a Collection of events. Your description talks about 16:00 but then we only see a currentDay and 2 fixed events. That&#39;s not test friendly. Well, maybe you should have 2 methods, one for preprocessing the events, one for the final judgement, but the setup for the list shouldn&#39;t be in either of those.","body":"@A.Pecora Well, imho you should have a method, which expects a Collection of events. Your description talks about 16:00 but then we only see a currentDay and 2 fixed events. That&#39;s not test friendly. Well, maybe you should have 2 methods, one for preprocessing the events, one for the final judgement, but the setup for the list shouldn&#39;t be in either of those."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1521520813,"post_id":49370821,"comment_id":85753809,"body_markdown":"@ArthurAttout The troublesome `GregorianCalendar` class was supplanted years ago by the *java.time* classes, specifically [`ZonedDateTime`](https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html).","body":"@ArthurAttout The troublesome <code>GregorianCalendar</code> class was supplanted years ago by the <i>java.time</i> classes, specifically <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>."},{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":0,"creation_date":1521528873,"post_id":49370821,"comment_id":85756561,"body_markdown":"@BasilBourque, thanks, I&#39;ll keep that in mind","body":"@BasilBourque, thanks, I&#39;ll keep that in mind"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639330331,"creation_date":1521494230,"answer_id":49372482,"question_id":49370821,"body_markdown":"Design an `Event` class for your events. Use `DayOfWeek` (from java.time, the modern Java date and time API) for the event’s day of week and `LocalTime` for the time of day.\r\n\r\nTo find out how far into the past or future each event is, first use `ZonedDateTime.now(yourTimeZone)` to determine the current date and time. Given that `currentDateTime` is a `ZonedDateTime`, use `currentDateTime.toLocalDate().getDayOfWeek()` to get today’s day of week.\r\n\r\nFor each event, if it doesn’t happen today, consider both the previous occurrence and the next one (if this is appropriate according to your requirements). Use `TemporalAdjusters.previous()` and `TemporalAdjusters.next()` to find the dates. Then `LocalDate.atTime` and `LocalDateTime.atZone` to get a `ZonedDateTime` for when the event happened or happens. Now that you have a `ZonedDateTime` for current time and one for the event time, use `Duration.between()` to find how far into the past or the future this event is. You may want `Duration.abs()` to make sure the duration is non-negative. And `Duration.compareTo` for determining which duration is shorter. There you have the nearest event.\r\n\r\n\r\n**Links**\r\n\r\n - [Oracle Tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time\r\n - [API documentation](https://docs.oracle.com/javase/9/docs/api/java/time/package-frame.html)","title":"Determining which of two events is nearer?","body":"<p>Design an <code>Event</code> class for your events. Use <code>DayOfWeek</code> (from java.time, the modern Java date and time API) for the event’s day of week and <code>LocalTime</code> for the time of day.</p>\n<p>To find out how far into the past or future each event is, first use <code>ZonedDateTime.now(yourTimeZone)</code> to determine the current date and time. Given that <code>currentDateTime</code> is a <code>ZonedDateTime</code>, use <code>currentDateTime.toLocalDate().getDayOfWeek()</code> to get today’s day of week.</p>\n<p>For each event, if it doesn’t happen today, consider both the previous occurrence and the next one (if this is appropriate according to your requirements). Use <code>TemporalAdjusters.previous()</code> and <code>TemporalAdjusters.next()</code> to find the dates. Then <code>LocalDate.atTime</code> and <code>LocalDateTime.atZone</code> to get a <code>ZonedDateTime</code> for when the event happened or happens. Now that you have a <code>ZonedDateTime</code> for current time and one for the event time, use <code>Duration.between()</code> to find how far into the past or the future this event is. You may want <code>Duration.abs()</code> to make sure the duration is non-negative. And <code>Duration.compareTo</code> for determining which duration is shorter. There you have the nearest event.</p>\n<p><strong>Links</strong></p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle Tutorial: Date Time</a> explaining how to use java.time</li>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-frame.html\" rel=\"nofollow noreferrer\">API documentation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521507408,"creation_date":1521507011,"answer_id":49374719,"question_id":49370821,"body_markdown":"Without taking much care about public/private issues:\r\n\r\n    import java.util.*;\r\n\r\n/*\r\nYou can test the code by copying it into one big file, named EventTest. You might indent the comments, or delete them. I unindent them here, for better readability. Have a look at the Interface Comparable, a very useful interface, because if you define such a method, you can sort a Collection of such things with the Java methods. \r\n*/\r\n  \r\n    class MyDate implements Comparable &lt;MyDate&gt; {\r\n    \r\n/* \r\n  Just a simple int for the day of week, like in your attempt.\r\n*/\r\n        int dow;\r\n    \r\n        public MyDate (int dow)\r\n        {\r\n            this.dow = dow;\r\n        }\r\n    \r\n        // if other date is over, next date is in next week - add 7.\r\n        public int compareTo (MyDate other) {\r\n            int diff = other.dow - dow;\r\n            if (diff &lt; 0) diff += 7;\r\n            return diff;\r\n        }\r\n    \r\n        public String toString () {\r\n            return &quot;&quot; + dow;\r\n        }\r\n    }\r\n\r\n/*\r\n  An event has a date - let&#39;s have a name too:\r\n*/\r\n    \r\n    class Event {\r\n        String name;\r\n        public MyDate dow;\r\n    \r\n        public Event (String name, MyDate dow)\r\n        {\r\n            this.dow = dow;\r\n            this.name = name;\r\n        }\r\n\r\n/*\r\nFor later usage, we supply a dateDiff method, which delegates the comparison of the date to the dow.compareTo method:\r\n*/\r\n    \r\n        public int dateDiff (MyDate cmp) {\r\n            return dow.compareTo (cmp);\r\n        }\r\n    \r\n        public String toString () {\r\n            return name + &quot; &quot; + dow;\r\n        }\r\n    }\r\n\r\n/*\r\n  We need an extra Comparator, to compare different Events to an external given MyDate. \r\n*/\r\n    \r\n    class EventComparator implements Comparator &lt;Event&gt;\r\n    {\r\n        MyDate crucialDate;\r\n        public EventComparator (MyDate crucial)\r\n        {\r\n            crucialDate = crucial;\r\n        }\r\n        public int compare (Event e1, Event e2)\r\n        {\r\n            int diff = (e1.dateDiff (crucialDate)) - (e2.dateDiff (crucialDate));\r\n            return diff;\r\n        }\r\n    }\r\n\r\n/*\r\nNow a fat testing class.\r\n*/\r\n    \r\n    public class EventTest {\r\n\r\n/*\r\nFirst try to understand, how the test2 method works, before testing the testMany () method.\r\n*/\r\n    \r\n        public static void main(String[] args) {\r\n            test2 ();\r\n            // testMany ();\r\n        }\r\n\r\n/*\r\nHere the Comparator has its big moment. Well - it sorts for a given MyDate &#39;current&#39; the list of events. If the list isn&#39;t empty, the first element is (one of) the closest. \r\n*/\r\n    \r\n        static List&lt;Event&gt; findClosest (MyDate current, List&lt;Event&gt; events) {\r\n            EventComparator ec = new EventComparator (current);\r\n            events.sort (ec);\r\n            return events;\r\n        }\r\n\r\n/*\r\nAs in your example, 2 dates (2, 6) and a currentDay (6).\r\nThe List of Events is resorted in place and contains the same elements, probably in a different order:\r\n*/    \r\n        static void test2 () {\r\n            List&lt;Event&gt; eventList = new ArrayList&lt;&gt; ();\r\n            eventList.add (new Event (&quot;Dow: 2&quot;, new MyDate (2)));\r\n            eventList.add (new Event (&quot;Dow: 6&quot;, new MyDate (6)));\r\n            MyDate currentDay = new MyDate (6);\r\n            System.out.println (&quot;unsorted&quot;);\r\n            show (eventList);\r\n            System.out.println (&quot;sorted&quot;);\r\n            findClosest (currentDay, eventList);\r\n            show (eventList);\r\n        }\r\n    \r\n        static void testMany () {\r\n            Random r = new Random ();\r\n            // eventList.add (new Event (&quot;Dow: &quot; + day, new MyDate (day)));\r\n            List&lt;Event&gt; eventList = new ArrayList&lt;&gt; ();\r\n            for (int i = 0; i &lt; 10; ++i) {\r\n                int day = r.nextInt (7) + 1;\r\n                eventList.add (new Event (&quot;Dow: &quot; + day, new MyDate (day)));\r\n            }\r\n            for (int today = 1; today &lt;= 7; ++today) {\r\n                MyDate currentDay = new MyDate (today);\r\n                System.out.println (&quot;unsorted &quot; + currentDay);\r\n                show (eventList);\r\n                findClosest (currentDay, eventList);\r\n                System.out.println (&quot;sorted &quot;+ currentDay);\r\n                show (eventList);\r\n            }\r\n        }\r\n    \r\n        public static void show (List &lt;Event&gt; events) {\r\n            for (Event e : events)\r\n                System.out.println (e);\r\n        }\r\n    }\r\n\r\nYou may later extend the MyDate class to include hours. Semantically, I didn&#39;t check, whether the algorithm works as expected. You should write some test cases first\r\n\r\n * 2 dates lower than today\r\n * first lower, second higher\r\n * first higher, second lower\r\n * both higher than today \r\n * different distances, same distance,\r\n * same date as currentDay\r\n\r\nMake a small table and first write the expected result down, then look whether it works. ","title":"Determining which of two events is nearer?","body":"<p>Without taking much care about public/private issues:</p>\n\n<pre><code>import java.util.*;\n</code></pre>\n\n<p>/*\nYou can test the code by copying it into one big file, named EventTest. You might indent the comments, or delete them. I unindent them here, for better readability. Have a look at the Interface Comparable, a very useful interface, because if you define such a method, you can sort a Collection of such things with the Java methods. \n*/</p>\n\n<pre><code>class MyDate implements Comparable &lt;MyDate&gt; {\n</code></pre>\n\n<p>/* \n  Just a simple int for the day of week, like in your attempt.\n*/\n        int dow;</p>\n\n<pre><code>    public MyDate (int dow)\n    {\n        this.dow = dow;\n    }\n\n    // if other date is over, next date is in next week - add 7.\n    public int compareTo (MyDate other) {\n        int diff = other.dow - dow;\n        if (diff &lt; 0) diff += 7;\n        return diff;\n    }\n\n    public String toString () {\n        return \"\" + dow;\n    }\n}\n</code></pre>\n\n<p>/*\n  An event has a date - let's have a name too:\n*/</p>\n\n<pre><code>class Event {\n    String name;\n    public MyDate dow;\n\n    public Event (String name, MyDate dow)\n    {\n        this.dow = dow;\n        this.name = name;\n    }\n</code></pre>\n\n<p>/*\nFor later usage, we supply a dateDiff method, which delegates the comparison of the date to the dow.compareTo method:\n*/</p>\n\n<pre><code>    public int dateDiff (MyDate cmp) {\n        return dow.compareTo (cmp);\n    }\n\n    public String toString () {\n        return name + \" \" + dow;\n    }\n}\n</code></pre>\n\n<p>/*\n  We need an extra Comparator, to compare different Events to an external given MyDate. \n*/</p>\n\n<pre><code>class EventComparator implements Comparator &lt;Event&gt;\n{\n    MyDate crucialDate;\n    public EventComparator (MyDate crucial)\n    {\n        crucialDate = crucial;\n    }\n    public int compare (Event e1, Event e2)\n    {\n        int diff = (e1.dateDiff (crucialDate)) - (e2.dateDiff (crucialDate));\n        return diff;\n    }\n}\n</code></pre>\n\n<p>/*\nNow a fat testing class.\n*/</p>\n\n<pre><code>public class EventTest {\n</code></pre>\n\n<p>/*\nFirst try to understand, how the test2 method works, before testing the testMany () method.\n*/</p>\n\n<pre><code>    public static void main(String[] args) {\n        test2 ();\n        // testMany ();\n    }\n</code></pre>\n\n<p>/*\nHere the Comparator has its big moment. Well - it sorts for a given MyDate 'current' the list of events. If the list isn't empty, the first element is (one of) the closest. \n*/</p>\n\n<pre><code>    static List&lt;Event&gt; findClosest (MyDate current, List&lt;Event&gt; events) {\n        EventComparator ec = new EventComparator (current);\n        events.sort (ec);\n        return events;\n    }\n</code></pre>\n\n<p>/*\nAs in your example, 2 dates (2, 6) and a currentDay (6).\nThe List of Events is resorted in place and contains the same elements, probably in a different order:\n*/<br>\n        static void test2 () {\n            List eventList = new ArrayList&lt;> ();\n            eventList.add (new Event (\"Dow: 2\", new MyDate (2)));\n            eventList.add (new Event (\"Dow: 6\", new MyDate (6)));\n            MyDate currentDay = new MyDate (6);\n            System.out.println (\"unsorted\");\n            show (eventList);\n            System.out.println (\"sorted\");\n            findClosest (currentDay, eventList);\n            show (eventList);\n        }</p>\n\n<pre><code>    static void testMany () {\n        Random r = new Random ();\n        // eventList.add (new Event (\"Dow: \" + day, new MyDate (day)));\n        List&lt;Event&gt; eventList = new ArrayList&lt;&gt; ();\n        for (int i = 0; i &lt; 10; ++i) {\n            int day = r.nextInt (7) + 1;\n            eventList.add (new Event (\"Dow: \" + day, new MyDate (day)));\n        }\n        for (int today = 1; today &lt;= 7; ++today) {\n            MyDate currentDay = new MyDate (today);\n            System.out.println (\"unsorted \" + currentDay);\n            show (eventList);\n            findClosest (currentDay, eventList);\n            System.out.println (\"sorted \"+ currentDay);\n            show (eventList);\n        }\n    }\n\n    public static void show (List &lt;Event&gt; events) {\n        for (Event e : events)\n            System.out.println (e);\n    }\n}\n</code></pre>\n\n<p>You may later extend the MyDate class to include hours. Semantically, I didn't check, whether the algorithm works as expected. You should write some test cases first</p>\n\n<ul>\n<li>2 dates lower than today</li>\n<li>first lower, second higher</li>\n<li>first higher, second lower</li>\n<li>both higher than today </li>\n<li>different distances, same distance,</li>\n<li>same date as currentDay</li>\n</ul>\n\n<p>Make a small table and first write the expected result down, then look whether it works. </p>\n"}],"owner":{"account_id":12843732,"reputation":135,"user_id":9290912,"accept_rate":50,"display_name":"A. Pecora"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639330331,"creation_date":1521487384,"question_id":49370821,"body_markdown":"I&#39;d like to know which event is nearer.\r\n\r\nNow, the code that I&#39;ve written relies on a comparison and it doesn&#39;t seem to work every time. \r\n\r\nAs always with everything that I try to do I&#39;d like a solution which is both clean and efficient (feel free to criticize my code).\r\n\r\nThe events have a specific hour (ex. 16:00), a hint on how add this level of detail would be nice.\r\n\r\nHere is the code:\r\n\r\n    public static int getNextEvent() \r\n\t{\r\n\t\t\t\t\r\n\t\tint event1 = 2; //Those events happen every week and have specific\r\n                        //hours (didn&#39;t implement those because I have no\r\n                        //idea how to, suggestions are greatly appreciated here)\r\n\t\tint event2 = 6;\r\n\t\tint result = 0;\r\n\t\tint currentDay = 6; //Days go from monday (1) to sunday (7), here this is hardcoded, in the actual program it is not.\r\n\t\tList&lt;Integer&gt; eventList = new ArrayList&lt;Integer&gt;();\r\n\t\t\r\n\t\tif (currentDay &lt;= event1) //This is the comparison I was talking about\r\n\t\t{ \r\n\t\t\teventList.add((event2-currentDay)); // These two are in this specific order because I use the indexOf for later methods (yes, those events are hardcoded, that&#39;s fine)\r\n\t\t\teventList.add((event1-currentDay)); //\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcurrentDay = currentDay - 7;\r\n\t\t\teventList.add((event2-currentDay)); // These two are in this\r\n                                                // specific order because\r\n                                                // I use the indexOf for\r\n                                                // later methods (yes,\r\n                                                // those events are\r\n                                                // hardcoded, that&#39;s fine)\r\n\t\t\teventList.add((event1-currentDay)); //\r\n\t\t}\r\n\r\n\t\tresult = determineClosestEvent(eventList) + 1; // I add 1 because my other methods \r\n                                                       //do not start at 0 but at 1 \r\n                                                       //(see ^ that comment)\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static int determineClosestEvent(List&lt;Integer&gt; eventList) \r\n\t{\r\n\t\t\t\t\r\n\t\tint closestDay = 10;\r\n\t\tint listGet;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; eventList.size(); i++) \r\n\t\t{\r\n\t\t\tlistGet = eventList.get(i);\r\n\t\t\tif (closestDay &gt; listGet) \r\n\t\t\t{\r\n\t\t\t\tclosestDay = listGet;\r\n\t\t\t} else {}\r\n\t\t}\r\n\r\n\t\tclosestDay = eventList.indexOf(closestDay);\r\n\r\n\t\treturn closestDay;\r\n\t}","title":"Determining which of two events is nearer?","body":"<p>I'd like to know which event is nearer.</p>\n\n<p>Now, the code that I've written relies on a comparison and it doesn't seem to work every time. </p>\n\n<p>As always with everything that I try to do I'd like a solution which is both clean and efficient (feel free to criticize my code).</p>\n\n<p>The events have a specific hour (ex. 16:00), a hint on how add this level of detail would be nice.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public static int getNextEvent() \n{\n\n    int event1 = 2; //Those events happen every week and have specific\n                    //hours (didn't implement those because I have no\n                    //idea how to, suggestions are greatly appreciated here)\n    int event2 = 6;\n    int result = 0;\n    int currentDay = 6; //Days go from monday (1) to sunday (7), here this is hardcoded, in the actual program it is not.\n    List&lt;Integer&gt; eventList = new ArrayList&lt;Integer&gt;();\n\n    if (currentDay &lt;= event1) //This is the comparison I was talking about\n    { \n        eventList.add((event2-currentDay)); // These two are in this specific order because I use the indexOf for later methods (yes, those events are hardcoded, that's fine)\n        eventList.add((event1-currentDay)); //\n    }\n    else\n    {\n        currentDay = currentDay - 7;\n        eventList.add((event2-currentDay)); // These two are in this\n                                            // specific order because\n                                            // I use the indexOf for\n                                            // later methods (yes,\n                                            // those events are\n                                            // hardcoded, that's fine)\n        eventList.add((event1-currentDay)); //\n    }\n\n    result = determineClosestEvent(eventList) + 1; // I add 1 because my other methods \n                                                   //do not start at 0 but at 1 \n                                                   //(see ^ that comment)\n\n    return result;\n}\n\nprivate static int determineClosestEvent(List&lt;Integer&gt; eventList) \n{\n\n    int closestDay = 10;\n    int listGet;\n\n    for (int i = 0; i &lt; eventList.size(); i++) \n    {\n        listGet = eventList.get(i);\n        if (closestDay &gt; listGet) \n        {\n            closestDay = listGet;\n        } else {}\n    }\n\n    closestDay = eventList.indexOf(closestDay);\n\n    return closestDay;\n}\n</code></pre>\n"},{"tags":["java","terminal","console"],"answers":[{"tags":[],"owner":{"account_id":19212672,"reputation":36,"user_id":14038150,"display_name":"Hiero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639330260,"creation_date":1639330260,"answer_id":70326004,"question_id":70325603,"body_markdown":"I like little games like this very much and it&#39;s great to help somebody like you early on in their adventure threw programming.\r\n\r\nI think you have some of the while contidions mixed up. For Example:\r\n\r\n```\r\n                case &quot;a&quot;:\r\n                    while (!wall(coordy - 1, coordx)) {\r\n                        coordx--;\r\n```\r\nAs far as I understand your game it should be:\r\n```\r\n                case &quot;a&quot;:\r\n                    while (!wall(coordy, coordx - 1)) {\r\n                        coordx--;\r\n\r\n```\r\nCheck the other conditions in your gameloob too.","title":"Java terminal game","body":"<p>I like little games like this very much and it's great to help somebody like you early on in their adventure threw programming.</p>\n<p>I think you have some of the while contidions mixed up. For Example:</p>\n<pre><code>                case &quot;a&quot;:\n                    while (!wall(coordy - 1, coordx)) {\n                        coordx--;\n</code></pre>\n<p>As far as I understand your game it should be:</p>\n<pre><code>                case &quot;a&quot;:\n                    while (!wall(coordy, coordx - 1)) {\n                        coordx--;\n\n</code></pre>\n<p>Check the other conditions in your gameloob too.</p>\n"}],"owner":{"account_id":23626512,"reputation":3,"user_id":17658958,"display_name":"Eduards"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70326004,"answer_count":1,"score":0,"last_activity_date":1639330260,"creation_date":1639327473,"question_id":70325603,"body_markdown":"I am trying to create a game in a terminal for a school assignment. No pop out windows or anything. The problem is a bug in the game itself. the &#39;x&#39; should move until it hits the wall, but it gets stuck inside the wall. I am only learning java and also any tips for future posts or programming are appreciated. \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner input = new Scanner(System.in);\r\n        int coordx = 1;\r\n        int coordy = 1;\r\n        while (true) {\r\n\r\n            // System.out.println(&quot;Move: &quot;);\r\n            String move = input.nextLine();\r\n            switch (move) {\r\n                case &quot;a&quot;:\r\n                    while (!wall(coordy - 1, coordx)) {\r\n                        coordx--;\r\n                    }\r\n                    break;\r\n                case &quot;w&quot;:\r\n                    while (!wall(coordy, coordx - 1)) {\r\n                        coordy--;\r\n                    }\r\n                    break;\r\n                case &quot;d&quot;:\r\n                    while (!wall(coordy + 1, coordx)) {\r\n                        coordx++;\r\n                    }\r\n                    break;\r\n                case &quot;s&quot;:\r\n                    while (!wall(coordy, coordx + 1)) {\r\n                        coordy++;\r\n                    }\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            render(coordx, coordy);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static void render(int chary, int charx) {\r\n        int[][] grid = new int[9][40];\r\n\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            System.out.print(&quot;\\n&quot;);\r\n            for (int j = 0; j &lt; 40; j++) {\r\n                if (i == charx &amp;&amp; j == chary) {\r\n                    grid[i][j] = 0;\r\n                    System.out.print(&quot;x&quot;);\r\n                } else if (wall(i, j)) {\r\n                    grid[i][j] = 2;\r\n                    System.out.print(&quot;#&quot;);\r\n                } else {\r\n                    grid[i][j] = 1;\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static boolean wall(int coordy, int coordx) {\r\n        if (coordx == 0 || coordx == 39 || coordy == 0 || coordy == 8) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n        // return true;\r\n    }\r\n}\r\n```","title":"Java terminal game","body":"<p>I am trying to create a game in a terminal for a school assignment. No pop out windows or anything. The problem is a bug in the game itself. the 'x' should move until it hits the wall, but it gets stuck inside the wall. I am only learning java and also any tips for future posts or programming are appreciated.</p>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        Scanner input = new Scanner(System.in);\n        int coordx = 1;\n        int coordy = 1;\n        while (true) {\n\n            // System.out.println(&quot;Move: &quot;);\n            String move = input.nextLine();\n            switch (move) {\n                case &quot;a&quot;:\n                    while (!wall(coordy - 1, coordx)) {\n                        coordx--;\n                    }\n                    break;\n                case &quot;w&quot;:\n                    while (!wall(coordy, coordx - 1)) {\n                        coordy--;\n                    }\n                    break;\n                case &quot;d&quot;:\n                    while (!wall(coordy + 1, coordx)) {\n                        coordx++;\n                    }\n                    break;\n                case &quot;s&quot;:\n                    while (!wall(coordy, coordx + 1)) {\n                        coordy++;\n                    }\n                    break;\n\n                default:\n                    break;\n            }\n\n            render(coordx, coordy);\n\n        }\n\n    }\n\n    public static void render(int chary, int charx) {\n        int[][] grid = new int[9][40];\n\n        for (int i = 0; i &lt; 9; i++) {\n            System.out.print(&quot;\\n&quot;);\n            for (int j = 0; j &lt; 40; j++) {\n                if (i == charx &amp;&amp; j == chary) {\n                    grid[i][j] = 0;\n                    System.out.print(&quot;x&quot;);\n                } else if (wall(i, j)) {\n                    grid[i][j] = 2;\n                    System.out.print(&quot;#&quot;);\n                } else {\n                    grid[i][j] = 1;\n                    System.out.print(&quot; &quot;);\n                }\n\n            }\n        }\n\n    }\n\n    public static boolean wall(int coordy, int coordx) {\n        if (coordx == 0 || coordx == 39 || coordy == 0 || coordy == 8) {\n            return true;\n        } else {\n            return false;\n        }\n        // return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1628930321,"post_id":68781465,"comment_id":121555950,"body_markdown":"Can you share with us the places you tried and stuck with?","body":"Can you share with us the places you tried and stuck with?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1628932286,"post_id":68781465,"comment_id":121556318,"body_markdown":"No matter if formally homework or self-study I think that this applies: [How do I ask and answer homework questions?](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)","body":"No matter if formally homework or self-study I think that this applies: <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639330167,"creation_date":1628931376,"answer_id":68781802,"question_id":68781465,"body_markdown":"Iterate over the entry set of `map1`. A stream operation is fine. For each entry, check if the key is also in `map2` (use the `filter` method of your stream). If it is, create a `DummyClass` object from the key and the values from both maps.\r\n\r\nPS Also in your `DummyClass` respect the Java naming conventions. Instance variable names begin with small letters, so `key`, `value1` and `value2`. Also write a constructor for the class.\r\n\r\nTutorial link: [Iterate over a Map in Java | Baeldung](https://www.baeldung.com/java-iterate-map) (with a section on using the Stream API)\r\n\r\nDocumentation links:\r\n - [`Map.entrySet()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#entrySet())\r\n - [`Map.Entry.getKey()`]()\r\n - [`Map.containsKey()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#containsKey(java.lang.Object))\r\n - [`Map.get()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#get(java.lang.Object))\r\n","title":"How to iterate over 2 hashmap for same key and add key and both values to object","body":"<p>Iterate over the entry set of <code>map1</code>. A stream operation is fine. For each entry, check if the key is also in <code>map2</code> (use the <code>filter</code> method of your stream). If it is, create a <code>DummyClass</code> object from the key and the values from both maps.</p>\n<p>PS Also in your <code>DummyClass</code> respect the Java naming conventions. Instance variable names begin with small letters, so <code>key</code>, <code>value1</code> and <code>value2</code>. Also write a constructor for the class.</p>\n<p>Tutorial link: <a href=\"https://www.baeldung.com/java-iterate-map\" rel=\"nofollow noreferrer\">Iterate over a Map in Java | Baeldung</a> (with a section on using the Stream API)</p>\n<p>Documentation links:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\"><code>Map.entrySet()</code></a></li>\n<li><code>Map.Entry.getKey()</code></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#containsKey(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Map.containsKey()</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#get(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Map.get()</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628932231,"creation_date":1628931910,"answer_id":68781859,"question_id":68781465,"body_markdown":"Define a record to hold results. \r\n\r\n    record Combo ( String k , String x , String y ) {}\r\n\r\nMake a stream of the entries from the first map. From each entry extract the key and value. Pass those to constructor of our combo class, along with a third argument which is the value from second map accessed by key from first map. \r\n\r\nHere is some untested code to try. \r\n\r\n    List&lt; Combo } combos = mapX.entrySet().stream().map( entry -&gt; new Combo( entry.getKey() , entry.getValue() , mapY.get( entry.getKey() ) ) ).toList() ;","title":"How to iterate over 2 hashmap for same key and add key and both values to object","body":"<p>Define a record to hold results.</p>\n<pre><code>record Combo ( String k , String x , String y ) {}\n</code></pre>\n<p>Make a stream of the entries from the first map. From each entry extract the key and value. Pass those to constructor of our combo class, along with a third argument which is the value from second map accessed by key from first map.</p>\n<p>Here is some untested code to try.</p>\n<pre><code>List&lt; Combo } combos = mapX.entrySet().stream().map( entry -&gt; new Combo( entry.getKey() , entry.getValue() , mapY.get( entry.getKey() ) ) ).toList() ;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16656562"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1628932239,"creation_date":1628932131,"answer_id":68781886,"question_id":68781465,"body_markdown":"I don&#39;t know any method to iterate over two HashMaps simultaneously but you could do something like this:\r\n\r\n    List&lt;DummyClass&gt; objects = \r\n        map1.entrySet().stream().map(object -&gt; {\r\n            return new DummyClass(object.getKey(), object.getValue(), map2.get(object.getKey()));\r\n        }).collect(Collectors.toList());\r\n\r\nThis maps all key value pairs from map1 to new instances of the DummyClass while picking the value with the same key from map2.\r\nAs Ole V.V. correctly said you should add a check to see if the key from map1 is  actually a valid key in map2. \r\n\r\nNote that you have to add a constructor to your DummyClass for this code to work correctly.","title":"How to iterate over 2 hashmap for same key and add key and both values to object","body":"<p>I don't know any method to iterate over two HashMaps simultaneously but you could do something like this:</p>\n<pre><code>List&lt;DummyClass&gt; objects = \n    map1.entrySet().stream().map(object -&gt; {\n        return new DummyClass(object.getKey(), object.getValue(), map2.get(object.getKey()));\n    }).collect(Collectors.toList());\n</code></pre>\n<p>This maps all key value pairs from map1 to new instances of the DummyClass while picking the value with the same key from map2.\nAs Ole V.V. correctly said you should add a check to see if the key from map1 is  actually a valid key in map2.</p>\n<p>Note that you have to add a constructor to your DummyClass for this code to work correctly.</p>\n"}],"owner":{"account_id":8495343,"reputation":45,"user_id":6370098,"display_name":"Danesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1628941596,"accepted_answer_id":68781886,"answer_count":3,"score":-3,"last_activity_date":1639330167,"creation_date":1628928201,"question_id":68781465,"body_markdown":"I&#39;m learning on collections and I wanted to use the streams to loop through 2 `HashMap` and add the key and both values to `List` object.\r\n\r\nEg:\r\n\r\n```java\r\nHashMap&lt;String, String&gt; map1= new LinkedHashMap&lt;String, String&gt;();\r\nHashMap&lt;String, String&gt; map2= new LinkedHashMap&lt;String, String&gt;();\r\n\r\nmap1.put(&quot;A&quot;, &quot;Apple&quot;);\r\nmap1.put(&quot;B&quot;, &quot;Ball&quot;);\r\nmap1.put(&quot;C&quot;, &quot;Cucumber&quot;);\r\nmap1.put(&quot;D&quot;, &quot;Dairy&quot;);\r\n\r\nmap2.put(&quot;A&quot;, &quot;Airplane&quot;);\r\nmap2.put(&quot;B&quot;, &quot;Baby&quot;);\r\nmap2.put(&quot;C&quot;, &quot;Cat&quot;);\r\nmap2.put(&quot;D&quot;, &quot;Dog&quot;);\r\n```\r\n\r\n```java\r\nclass DummyClass {\r\n    \r\n    String Key;\r\n    String Value1;\r\n    String Value2;\r\n\r\n    // getters and setters..\r\n} \r\n```\r\n\r\n```java\r\nList&lt;DummyClass&gt; test = Add key, and both Values\r\n```\r\n\r\n**Output Expectations** :\r\n\r\n```\r\nDummayClass Obj1 = {A,Apple,Airplane};\r\nDummayClass Obj2 = {B,Ball,Baby}; likewise \r\n```\r\n\r\nI can achieve this over iterating individual maps and comparing the key&#39;s and adding it. But I would like to achieve the same using `Streams`.","title":"How to iterate over 2 hashmap for same key and add key and both values to object","body":"<p>I'm learning on collections and I wanted to use the streams to loop through 2 <code>HashMap</code> and add the key and both values to <code>List</code> object.</p>\n<p>Eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, String&gt; map1= new LinkedHashMap&lt;String, String&gt;();\nHashMap&lt;String, String&gt; map2= new LinkedHashMap&lt;String, String&gt;();\n\nmap1.put(&quot;A&quot;, &quot;Apple&quot;);\nmap1.put(&quot;B&quot;, &quot;Ball&quot;);\nmap1.put(&quot;C&quot;, &quot;Cucumber&quot;);\nmap1.put(&quot;D&quot;, &quot;Dairy&quot;);\n\nmap2.put(&quot;A&quot;, &quot;Airplane&quot;);\nmap2.put(&quot;B&quot;, &quot;Baby&quot;);\nmap2.put(&quot;C&quot;, &quot;Cat&quot;);\nmap2.put(&quot;D&quot;, &quot;Dog&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DummyClass {\n    \n    String Key;\n    String Value1;\n    String Value2;\n\n    // getters and setters..\n} \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;DummyClass&gt; test = Add key, and both Values\n</code></pre>\n<p><strong>Output Expectations</strong> :</p>\n<pre><code>DummayClass Obj1 = {A,Apple,Airplane};\nDummayClass Obj2 = {B,Ball,Baby}; likewise \n</code></pre>\n<p>I can achieve this over iterating individual maps and comparing the key's and adding it. But I would like to achieve the same using <code>Streams</code>.</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639330112,"creation_date":1599297042,"answer_id":63752267,"question_id":63751865,"body_markdown":"For each number to be deleted:\r\n\r\n 1. Find the index of interval containing that number (if any; if no such interval, you’re done, may consider throwing).\r\n 2. Depending:\r\n     1. If the number to be deleted is the only number in the interval, delete the entire interval.\r\n     2. Otherwise if the number is first or last in the interval, shorten the interval.\r\n     3. Otherwise split into two intervals.\r\n\r\nYou may want to code the condition checking differently, but this should be the basic idea. For deleting and inserting intervals in the list the [`List.remove(int)`](https://docs.oracle.com/javase/10/docs/api/java/util/List.html#remove(int)) and [`List.add(int, E)`](https://docs.oracle.com/javase/10/docs/api/java/util/List.html#add(int,E)) methods should be useful.\r\n\r\nPS It will probably be convenient to add methods to your `Interval` class to determine whether a number is contained, whether it is first or last, and to shorten the interval at the front or the rear. Maybe even a method for splitting into two intervals.","title":"Delete numbers from the existing set of data and create new sets","body":"<p>For each number to be deleted:</p>\n<ol>\n<li>Find the index of interval containing that number (if any; if no such interval, you’re done, may consider throwing).</li>\n<li>Depending:\n<ol>\n<li>If the number to be deleted is the only number in the interval, delete the entire interval.</li>\n<li>Otherwise if the number is first or last in the interval, shorten the interval.</li>\n<li>Otherwise split into two intervals.</li>\n</ol>\n</li>\n</ol>\n<p>You may want to code the condition checking differently, but this should be the basic idea. For deleting and inserting intervals in the list the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#remove(int)\" rel=\"nofollow noreferrer\"><code>List.remove(int)</code></a> and <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#add(int,E)\" rel=\"nofollow noreferrer\"><code>List.add(int, E)</code></a> methods should be useful.</p>\n<p>PS It will probably be convenient to add methods to your <code>Interval</code> class to determine whether a number is contained, whether it is first or last, and to shorten the interval at the front or the rear. Maybe even a method for splitting into two intervals.</p>\n"},{"tags":[],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1599458794,"creation_date":1599458794,"answer_id":63772173,"question_id":63751865,"body_markdown":"I have handled the below use cases:\r\n\r\n 1. When the start and end of the existing intervals are the same as the existing intervals, then remove the interval from the list.\r\n 2. If the interval to be deleted lies in the between the existing range, then I am dividing the existing interval into 2 intervals excluding the interval to be deleted &amp; adding the 2 new intervals in the list.\r\n 3. If the interval to be deleted lies in the boundary value of the existing intervals, then I am not creating the new start/end intervals.\r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nSample code:\r\n\r\n    public void  deleteIntervals(){\r\n   \r\n    \t\tList&lt;Interval&gt; intervals = new ArrayList&lt;Interval&gt;();\r\n    \t\tInterval i1 = new Interval(2, 9);\r\n    \t\tInterval i2 = new Interval(12, 27);\r\n    \t\tInterval i3 = new Interval(29, 500);\r\n    \t\tintervals.add(i1);\r\n    \t\tintervals.add(i2);\r\n    \t\tintervals.add(i3);\r\n    \r\n    \t\tList&lt;Interval&gt; deleteIntervals = new ArrayList&lt;Interval&gt;();\r\n    \t\tInterval d1 = new Interval(2, 7);\r\n    \t\tInterval d2 = new Interval(13, 15);\r\n    \t\tInterval d3 = new Interval(18, 20);\r\n    \t\tInterval d4 = new Interval(22, 22);\r\n    \t\tInterval d5 = new Interval(50, 500);\r\n    \t\tInterval d6 = new Interval(22, 22);\r\n    \t\tdeleteIntervals.add(d1);\r\n    \t\tdeleteIntervals.add(d2);\r\n    \t\tdeleteIntervals.add(d3);\r\n    \t\tdeleteIntervals.add(d4);\r\n    \t\tdeleteIntervals.add(d5);\r\n    \t\tdeleteIntervals.add(d6);\r\n    \r\n    \t\tList&lt;Interval&gt; finalDelete = new ArrayList&lt;Interval&gt;();\r\n    \r\n    \t\tfor (int i = 0; i &lt; deleteIntervals.size(); i++) {\r\n    \t\t\tfor (int j = 0; j &lt; intervals.size(); j++) {\r\n    \t\t\t\tSystem.out.println(\r\n    \t\t\t\t\t\t&quot;Range to delete: &quot; + deleteIntervals.get(i).start + &quot;, &quot; + deleteIntervals.get(i).end);\r\n    \t\t\t\tintervals.stream().forEach(ele -&gt; System.out.print(&quot;[&quot; + ele.start + &quot;, &quot; + ele.end + &quot;]&quot; + &quot;, &quot;));\r\n    \t\t\t\tSystem.out.println();\r\n    \r\n    \t\t\t\tif (deleteIntervals.get(i).start == intervals.get(j).start\r\n    \t\t\t\t\t\t&amp;&amp; deleteIntervals.get(i).end == intervals.get(j).end) {\r\n    \t\t\t\t\tintervals.remove(j);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\telse if (deleteIntervals.get(i).start &gt;= intervals.get(j).start\r\n    \t\t\t\t\t\t&amp;&amp; deleteIntervals.get(i).end &lt;= intervals.get(j).end) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Matched: [&quot; + intervals.get(j).start + &quot;, &quot; + intervals.get(j).end + &quot;]&quot;);\r\n    \r\n    \t\t\t\t\tint newStart = (deleteIntervals.get(i).start - intervals.get(j).start);\r\n    \t\t\t\t\tint newEnd = intervals.get(j).end - (deleteIntervals.get(i).end);\r\n    \r\n    \t\t\t\t\tif (newStart &gt; 0) {\r\n    \r\n    \t\t\t\t\t\tSystem.out.println(&quot;Adding 1: &quot; + &quot;[&quot; + intervals.get(j).start + &quot;,&quot;\r\n    \t\t\t\t\t\t\t\t+ (intervals.get(j).start + newStart - 1) + &quot;]&quot;);\r\n    \t\t\t\t\t\tfinalDelete.add(new Interval(intervals.get(j).start, (intervals.get(j).start + newStart - 1)));\r\n    \r\n    \t\t\t\t\t\tintervals.add(new Interval(intervals.get(j).start, (intervals.get(j).start + newStart - 1)));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (newEnd &gt; 0) {\r\n    \t\t\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Adding 2:&quot; + &quot;[&quot; + (intervals.get(j).end - newEnd + 1) + &quot;,&quot;\r\n    \t\t\t\t\t\t\t\t+ intervals.get(j).end + &quot;]&quot;);\r\n    \t\t\t\t\t\tfinalDelete.add(new Interval((intervals.get(j).end - newEnd + 1), intervals.get(j).end));\r\n    \r\n    \t\t\t\t\t\tintervals.add(new Interval((intervals.get(j).end - newEnd + 1), intervals.get(j).end));\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tintervals.remove(j);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tintervals.stream().forEach(ele -&gt; System.out.print(&quot;[&quot; + ele.start + &quot;, &quot; + ele.end + &quot;]&quot; + &quot;, &quot;));\r\n    \t\r\n    }","title":"Delete numbers from the existing set of data and create new sets","body":"<p>I have handled the below use cases:</p>\n<ol>\n<li>When the start and end of the existing intervals are the same as the existing intervals, then remove the interval from the list.</li>\n<li>If the interval to be deleted lies in the between the existing range, then I am dividing the existing interval into 2 intervals excluding the interval to be deleted &amp; adding the 2 new intervals in the list.</li>\n<li>If the interval to be deleted lies in the boundary value of the existing intervals, then I am not creating the new start/end intervals.</li>\n</ol>\n<br/>\n<br/>\nSample code:\n<pre><code>public void  deleteIntervals(){\n\n        List&lt;Interval&gt; intervals = new ArrayList&lt;Interval&gt;();\n        Interval i1 = new Interval(2, 9);\n        Interval i2 = new Interval(12, 27);\n        Interval i3 = new Interval(29, 500);\n        intervals.add(i1);\n        intervals.add(i2);\n        intervals.add(i3);\n\n        List&lt;Interval&gt; deleteIntervals = new ArrayList&lt;Interval&gt;();\n        Interval d1 = new Interval(2, 7);\n        Interval d2 = new Interval(13, 15);\n        Interval d3 = new Interval(18, 20);\n        Interval d4 = new Interval(22, 22);\n        Interval d5 = new Interval(50, 500);\n        Interval d6 = new Interval(22, 22);\n        deleteIntervals.add(d1);\n        deleteIntervals.add(d2);\n        deleteIntervals.add(d3);\n        deleteIntervals.add(d4);\n        deleteIntervals.add(d5);\n        deleteIntervals.add(d6);\n\n        List&lt;Interval&gt; finalDelete = new ArrayList&lt;Interval&gt;();\n\n        for (int i = 0; i &lt; deleteIntervals.size(); i++) {\n            for (int j = 0; j &lt; intervals.size(); j++) {\n                System.out.println(\n                        &quot;Range to delete: &quot; + deleteIntervals.get(i).start + &quot;, &quot; + deleteIntervals.get(i).end);\n                intervals.stream().forEach(ele -&gt; System.out.print(&quot;[&quot; + ele.start + &quot;, &quot; + ele.end + &quot;]&quot; + &quot;, &quot;));\n                System.out.println();\n\n                if (deleteIntervals.get(i).start == intervals.get(j).start\n                        &amp;&amp; deleteIntervals.get(i).end == intervals.get(j).end) {\n                    intervals.remove(j);\n                    break;\n\n                }\n\n                else if (deleteIntervals.get(i).start &gt;= intervals.get(j).start\n                        &amp;&amp; deleteIntervals.get(i).end &lt;= intervals.get(j).end) {\n                    System.out.println(&quot;Matched: [&quot; + intervals.get(j).start + &quot;, &quot; + intervals.get(j).end + &quot;]&quot;);\n\n                    int newStart = (deleteIntervals.get(i).start - intervals.get(j).start);\n                    int newEnd = intervals.get(j).end - (deleteIntervals.get(i).end);\n\n                    if (newStart &gt; 0) {\n\n                        System.out.println(&quot;Adding 1: &quot; + &quot;[&quot; + intervals.get(j).start + &quot;,&quot;\n                                + (intervals.get(j).start + newStart - 1) + &quot;]&quot;);\n                        finalDelete.add(new Interval(intervals.get(j).start, (intervals.get(j).start + newStart - 1)));\n\n                        intervals.add(new Interval(intervals.get(j).start, (intervals.get(j).start + newStart - 1)));\n                    \n                    }\n                    if (newEnd &gt; 0) {\n        \n                        System.out.println(&quot;Adding 2:&quot; + &quot;[&quot; + (intervals.get(j).end - newEnd + 1) + &quot;,&quot;\n                                + intervals.get(j).end + &quot;]&quot;);\n                        finalDelete.add(new Interval((intervals.get(j).end - newEnd + 1), intervals.get(j).end));\n\n                        intervals.add(new Interval((intervals.get(j).end - newEnd + 1), intervals.get(j).end));\n\n                    }\n                    intervals.remove(j);\n                    break;\n\n                }\n            }\n\n        }\n\n        intervals.stream().forEach(ele -&gt; System.out.print(&quot;[&quot; + ele.start + &quot;, &quot; + ele.end + &quot;]&quot; + &quot;, &quot;));\n    \n}\n</code></pre>\n"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":63772173,"answer_count":2,"score":-2,"last_activity_date":1639330112,"creation_date":1599294024,"question_id":63751865,"body_markdown":"I have List of ranges. Now I will be provided with the List of number &amp; I have to delete the number form the ranges &amp; create new ranges. &lt;br/&gt;All continous number should come in one range &amp; discontinous number should come in seperate range.\r\n&lt;br/&gt;\r\n\r\n\r\n    public class DriverClass{\r\n      public static void main(String[] args){\r\n         List&lt;Interval&gt; intervals = new ArrayList&lt;Interval&gt;();\r\n\t\t Interval i1 = new Interval(5, 9);\r\n\t\t Interval i2 = new Interval(12, 23);\r\n\t\t intervals.add(i1);\r\n\t\t intervals.add(i2);\r\n     \r\n         List&lt;Integer&gt; numbersToBeDeleted = Arrays.asList(6, 7, 19, 21);\r\n      }\r\n    }\r\nAfter deleting the 6, 7, 19, 21 &lt;br/&gt;\r\nExpected output: [5,5], [8,9], [12,18], [20,20], [22,23]\r\n\r\n\r\n    class Interval {\r\n    \tint start, end;\r\n    \r\n    \tInterval(int start, int end) {\r\n    \t\tthis.start = start;\r\n    \t\tthis.end = end;\r\n    \t}\r\n    }\r\n\r\n&lt;br/&gt;\r\nI am unable to think through the solution, any suggestion would be helpful!","title":"Delete numbers from the existing set of data and create new sets","body":"<p>I have List of ranges. Now I will be provided with the List of number &amp; I have to delete the number form the ranges &amp; create new ranges. <br/>All continous number should come in one range &amp; discontinous number should come in seperate range.\n<br/></p>\n<pre><code>public class DriverClass{\n  public static void main(String[] args){\n     List&lt;Interval&gt; intervals = new ArrayList&lt;Interval&gt;();\n     Interval i1 = new Interval(5, 9);\n     Interval i2 = new Interval(12, 23);\n     intervals.add(i1);\n     intervals.add(i2);\n \n     List&lt;Integer&gt; numbersToBeDeleted = Arrays.asList(6, 7, 19, 21);\n  }\n}\n</code></pre>\n<p>After deleting the 6, 7, 19, 21 <br/>\nExpected output: [5,5], [8,9], [12,18], [20,20], [22,23]</p>\n<pre><code>class Interval {\n    int start, end;\n\n    Interval(int start, int end) {\n        this.start = start;\n        this.end = end;\n    }\n}\n</code></pre>\n<br/>\nI am unable to think through the solution, any suggestion would be helpful!\n"},{"tags":["java","algorithm","data-structures","linked-list"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":2,"creation_date":1586779555,"post_id":61187389,"comment_id":108244245,"body_markdown":"This is your task to implement a method `List&lt;String&gt; getWordsStartingWithVowel(List&lt;String&gt; inputList)`.  You cannot call getVowel() on the instance of a LinkedList from Java Collections.","body":"This is your task to implement a method <code>List&lt;String&gt; getWordsStartingWithVowel(List&lt;String&gt; inputList)</code>.  You cannot call getVowel() on the instance of a LinkedList from Java Collections."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1586779637,"post_id":61187389,"comment_id":108244286,"body_markdown":"Side issue: `catch (NullPointerException e) {...}` -- never do this","body":"Side issue: <code>catch (NullPointerException e) {...}</code> -- never do this"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639329995,"creation_date":1586779942,"answer_id":61187619,"question_id":61187389,"body_markdown":"You need to write a method (or function) like this:\r\n\r\n    private LinkedList&lt;String&gt; getVowel(LinkedList&lt;String&gt; originalList)\r\n    {\r\n        // put your implementation/code here\r\n    }\r\n\r\nInside the method build and return a new linked list with only the required elements from the original list.\r\n\r\nIn your `main` method call your `getVowel` method and print what it returns.","title":"write a java program that include a function called getVowel() that takes a linked list","body":"<p>You need to write a method (or function) like this:</p>\n<pre><code>private LinkedList&lt;String&gt; getVowel(LinkedList&lt;String&gt; originalList)\n{\n    // put your implementation/code here\n}\n</code></pre>\n<p>Inside the method build and return a new linked list with only the required elements from the original list.</p>\n<p>In your <code>main</code> method call your <code>getVowel</code> method and print what it returns.</p>\n"}],"owner":{"account_id":18266025,"reputation":13,"user_id":13297736,"display_name":"Judy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1586785159,"answer_count":1,"score":-1,"last_activity_date":1639329995,"creation_date":1586779082,"question_id":61187389,"body_markdown":" Using java.util.LinkedList,  write a java program that include a function called getVowel() that takes a linked list of a type String and returns only the data values that include a vowel letter as the first letter.  \r\n \r\nExplanation : If the initial data values in the linkkedList are   [Algorithms, Data, Computer, Information]  The Returned values of getVowel() must be only [Algorithms, Information] because they are the only data values that start with a vowel letter such as A in Algorithms and I in Information.\r\n\r\n*the function getVowel() does not exist*\r\n```\r\nimport java.util.*;\r\npublic class g {\r\n\tpublic static void main(String[] argv) throws Exception \r\n    { \r\n        try { \r\n  \r\n            // creating object of LinkedList&lt;String&gt; \r\n            LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;(); \r\n  \r\n            // add some elements to list \r\n            list.add(&quot;Algorithms&quot;); \r\n            list.add(&quot;Information&quot;); \r\n  \r\n            // print the linked list \r\n            System.out.println(&quot;LinkedList : &quot; + list); \r\n  \r\n            \r\n            String value = list.getVowel();\r\n  \r\n            // print the vowel of list \r\n            System.out.println(&quot;the vowel of list : &quot; + value); \r\n        } \r\n  \r\n        catch (NullPointerException e) { \r\n  \r\n            System.out.println(&quot;Exception thrown : &quot; + e); \r\n        } \r\n    } \r\n} \r\n```","title":"write a java program that include a function called getVowel() that takes a linked list","body":"<p>Using java.util.LinkedList,  write a java program that include a function called getVowel() that takes a linked list of a type String and returns only the data values that include a vowel letter as the first letter.  </p>\n\n<p>Explanation : If the initial data values in the linkkedList are   [Algorithms, Data, Computer, Information]  The Returned values of getVowel() must be only [Algorithms, Information] because they are the only data values that start with a vowel letter such as A in Algorithms and I in Information.</p>\n\n<p><em>the function getVowel() does not exist</em></p>\n\n<pre><code>import java.util.*;\npublic class g {\n    public static void main(String[] argv) throws Exception \n    { \n        try { \n\n            // creating object of LinkedList&lt;String&gt; \n            LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;(); \n\n            // add some elements to list \n            list.add(\"Algorithms\"); \n            list.add(\"Information\"); \n\n            // print the linked list \n            System.out.println(\"LinkedList : \" + list); \n\n\n            String value = list.getVowel();\n\n            // print the vowel of list \n            System.out.println(\"the vowel of list : \" + value); \n        } \n\n        catch (NullPointerException e) { \n\n            System.out.println(\"Exception thrown : \" + e); \n        } \n    } \n} \n</code></pre>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1639329721,"post_id":70325796,"comment_id":124315732,"body_markdown":"You are retrieving the data from a SQL DB but deleting the item only from the list. To completely remove the item so that it never shows again, you&#39;ll have to remove it from the db as well.","body":"You are retrieving the data from a SQL DB but deleting the item only from the list. To completely remove the item so that it never shows again, you&#39;ll have to remove it from the db as well."}],"answers":[{"tags":[],"owner":{"account_id":13371217,"reputation":593,"user_id":9649591,"display_name":"Ruben R&#246;hner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639329972,"creation_date":1639329972,"answer_id":70325958,"question_id":70325796,"body_markdown":"The problem is that you are only deleting the cities from your `ArrayList` that is inside your adapter. But those cities still remain in your SQL database. Then when you restart the Activity your ArrayList will be created with the data of your SQL database, where those deleted cities still exist.\r\n\r\nTo delete cities consistently you need to delete the cities not only in your adapter but also in your SQL database.","title":"How can I fix Recyclerview item deletion display error","body":"<p>The problem is that you are only deleting the cities from your <code>ArrayList</code> that is inside your adapter. But those cities still remain in your SQL database. Then when you restart the Activity your ArrayList will be created with the data of your SQL database, where those deleted cities still exist.</p>\n<p>To delete cities consistently you need to delete the cities not only in your adapter but also in your SQL database.</p>\n"}],"owner":{"account_id":22540713,"reputation":23,"user_id":16731303,"display_name":"partizal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70325958,"answer_count":1,"score":-1,"last_activity_date":1639329972,"creation_date":1639328739,"question_id":70325796,"body_markdown":"I have a recyclerview. There are city names in the recyclerview and when I long click, I want to delete it from the recyclerview. I wrote some code in adapter class. When I click on the city names, I can delete them, but when I view the recyclerview again, the city names I deleted appear again. How can I fix this ?\r\n\r\n**My adapter class**\r\n\r\n    public class Adapter extends RecyclerView.Adapter&lt;Adapter.MyViewHolder&gt;  {\r\n\r\n    ArrayList&lt;City&gt; arrayList;\r\n    Context context;\r\n\r\n    public Adapter(ArrayList&lt;City&gt; arrayList ,Context context ){\r\n        this.arrayList = arrayList;\r\n        this.context = context;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        RecyclerviewRowBinding recyclerviewRowBinding = RecyclerviewRowBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\r\n        return new MyViewHolder(recyclerviewRowBinding);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Adapter.MyViewHolder holder, int position) {\r\n\r\n        holder.binding.MytxtCities.setText(arrayList.get(position).cityName);\r\n\r\n\r\n        holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n                builder.setIcon(R.drawable.warningicon);\r\n                builder.setMessage(&quot;Are you sure that you want to delete &quot;+arrayList.get(position).cityName);\r\n                builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        arrayList.remove(position);\r\n                        notifyItemRemoved(position);\r\n                        notifyItemRangeChanged(position,arrayList.size());\r\n                    }\r\n                }).setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    }\r\n                }).show();\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(holder.itemView.getContext(),MainActivity.class);\r\n            intent.putExtra(&quot;citId&quot;,arrayList.get(position).id);\r\n            holder.itemView.getContext().startActivity(intent);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return arrayList.size();\r\n    }\r\n\r\n\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView Mytxt_cities;\r\n        private RecyclerviewRowBinding binding;\r\n\r\n        public MyViewHolder(@NonNull RecyclerviewRowBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n            Mytxt_cities = itemView.findViewById(R.id.Mytxt_cities);\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n**My recyclerview class is cities class**\r\n\r\n    public class cities extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView ;\r\n    ArrayList&lt;City&gt; cityArrayList;\r\n    Adapter cityadapter;\r\n    ImageView cities_back_icon;\r\n\r\n\r\n\r\n    public void init(){\r\n\r\n        cities_back_icon = findViewById(R.id.Id_cities_back_icon);\r\n        cities_back_icon_click_register();\r\n\r\n        cityArrayList = new ArrayList&lt;&gt;();\r\n        recyclerView = findViewById(R.id.recyclerview_id);\r\n\r\n\r\n\r\n        SQLGet_Data();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cities);\r\n        init();\r\n\r\n\r\n    }\r\n\r\n    private void cities_back_icon_click_register(){\r\n\r\n        cities_back_icon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(cities.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void SQLGet_Data(){\r\n        try {\r\n\r\n            SQLiteDatabase sqLiteDatabase = this.openOrCreateDatabase(&quot;City&quot;,MODE_PRIVATE,null);\r\n            Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT*FROM city&quot;,null);\r\n            int idIx = cursor.getColumnIndex(&quot;id&quot;);\r\n            int nameIx = cursor.getColumnIndex(&quot;cityname&quot;);\r\n\r\n            while(cursor.moveToNext()){\r\n                String cityname = cursor.getString(nameIx);\r\n                int id = cursor.getInt(idIx);\r\n                City city = new City(cityname,id);\r\n                cityArrayList.add(city);\r\n            }\r\n            cityadapter.notifyDataSetChanged();\r\n            cursor.close();\r\n        }\r\n\r\n        catch (Exception e ){\r\n           e.printStackTrace();\r\n        }\r\n                     /*---------------------- set recyclerview-----------------------------*/\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(cities.this));\r\n        cityadapter = new Adapter(cityArrayList,this);\r\n        recyclerView.setAdapter(cityadapter);\r\n\r\n\r\n\r\n\r\n\r\n    /*--------------------------We drew a line between the data in the recyclerview------------------------------------*/\r\n\r\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL);\r\n        Drawable drawable = ContextCompat.getDrawable(getApplicationContext(), R.drawable.custom_divider);\r\n        dividerItemDecoration.setDrawable(drawable);\r\n        recyclerView.addItemDecoration(dividerItemDecoration);\r\n\r\n    }\r\n\r\n\r\n}","title":"How can I fix Recyclerview item deletion display error","body":"<p>I have a recyclerview. There are city names in the recyclerview and when I long click, I want to delete it from the recyclerview. I wrote some code in adapter class. When I click on the city names, I can delete them, but when I view the recyclerview again, the city names I deleted appear again. How can I fix this ?</p>\n<p><strong>My adapter class</strong></p>\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;Adapter.MyViewHolder&gt;  {\n\nArrayList&lt;City&gt; arrayList;\nContext context;\n\npublic Adapter(ArrayList&lt;City&gt; arrayList ,Context context ){\n    this.arrayList = arrayList;\n    this.context = context;\n\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    RecyclerviewRowBinding recyclerviewRowBinding = RecyclerviewRowBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\n    return new MyViewHolder(recyclerviewRowBinding);\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull Adapter.MyViewHolder holder, int position) {\n\n    holder.binding.MytxtCities.setText(arrayList.get(position).cityName);\n\n\n    holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(context);\n            builder.setIcon(R.drawable.warningicon);\n            builder.setMessage(&quot;Are you sure that you want to delete &quot;+arrayList.get(position).cityName);\n            builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    arrayList.remove(position);\n                    notifyItemRemoved(position);\n                    notifyItemRangeChanged(position,arrayList.size());\n                }\n            }).setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n\n                }\n            }).show();\n\n            return true;\n        }\n    });\n\n\n    holder.itemView.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(holder.itemView.getContext(),MainActivity.class);\n        intent.putExtra(&quot;citId&quot;,arrayList.get(position).id);\n        holder.itemView.getContext().startActivity(intent);\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return arrayList.size();\n}\n\n\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n    TextView Mytxt_cities;\n    private RecyclerviewRowBinding binding;\n\n    public MyViewHolder(@NonNull RecyclerviewRowBinding binding) {\n        super(binding.getRoot());\n        this.binding = binding;\n        Mytxt_cities = itemView.findViewById(R.id.Mytxt_cities);\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>}</p>\n<p><strong>My recyclerview class is cities class</strong></p>\n<pre><code>public class cities extends AppCompatActivity {\n\nRecyclerView recyclerView ;\nArrayList&lt;City&gt; cityArrayList;\nAdapter cityadapter;\nImageView cities_back_icon;\n\n\n\npublic void init(){\n\n    cities_back_icon = findViewById(R.id.Id_cities_back_icon);\n    cities_back_icon_click_register();\n\n    cityArrayList = new ArrayList&lt;&gt;();\n    recyclerView = findViewById(R.id.recyclerview_id);\n\n\n\n    SQLGet_Data();\n\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cities);\n    init();\n\n\n}\n\nprivate void cities_back_icon_click_register(){\n\n    cities_back_icon.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(cities.this, MainActivity.class);\n            startActivity(intent);\n        }\n    });\n}\n\nprivate void SQLGet_Data(){\n    try {\n\n        SQLiteDatabase sqLiteDatabase = this.openOrCreateDatabase(&quot;City&quot;,MODE_PRIVATE,null);\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT*FROM city&quot;,null);\n        int idIx = cursor.getColumnIndex(&quot;id&quot;);\n        int nameIx = cursor.getColumnIndex(&quot;cityname&quot;);\n\n        while(cursor.moveToNext()){\n            String cityname = cursor.getString(nameIx);\n            int id = cursor.getInt(idIx);\n            City city = new City(cityname,id);\n            cityArrayList.add(city);\n        }\n        cityadapter.notifyDataSetChanged();\n        cursor.close();\n    }\n\n    catch (Exception e ){\n       e.printStackTrace();\n    }\n                 /*---------------------- set recyclerview-----------------------------*/\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(cities.this));\n    cityadapter = new Adapter(cityArrayList,this);\n    recyclerView.setAdapter(cityadapter);\n\n\n\n\n\n/*--------------------------We drew a line between the data in the recyclerview------------------------------------*/\n\n    DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL);\n    Drawable drawable = ContextCompat.getDrawable(getApplicationContext(), R.drawable.custom_divider);\n    dividerItemDecoration.setDrawable(drawable);\n    recyclerView.addItemDecoration(dividerItemDecoration);\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":5,"creation_date":1563005381,"post_id":57017190,"comment_id":100565781,"body_markdown":"I assume this some kind of hackerrank question (or similiar). If thats the case just link the proper problem description in your question. If you get time limit exceed it means your soultion is not performant enough, i.e. the complexity is to high.","body":"I assume this some kind of hackerrank question (or similiar). If thats the case just link the proper problem description in your question. If you get time limit exceed it means your soultion is not performant enough, i.e. the complexity is to high."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1563005662,"post_id":57017190,"comment_id":100565837,"body_markdown":"Try refactoring the various `s.substring(0,(qq-1))` calls into a single call (within the `for(int j ...)` loop body). Right now, you call `substring` qq times per loop. That&#39;s `q` * `qq` calls to an O(n) method, which can definitely add up. As an aside, please consider more helpful variable names, especially when asking for help. It&#39;s that much harder to follow the code when all the variables are `q`, `j`, etc.","body":"Try refactoring the various <code>s.substring(0,(qq-1))</code> calls into a single call (within the <code>for(int j ...)</code> loop body). Right now, you call <code>substring</code> qq times per loop. That&#39;s <code>q</code> * <code>qq</code> calls to an O(n) method, which can definitely add up. As an aside, please consider more helpful variable names, especially when asking for help. It&#39;s that much harder to follow the code when all the variables are <code>q</code>, <code>j</code>, etc."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1563008418,"post_id":57017190,"comment_id":100566349,"body_markdown":"Original question: https://brainly.in/question/11174859","body":"Original question: <a href=\"https://brainly.in/question/11174859\" rel=\"nofollow noreferrer\">brainly.in/question/11174859</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1563011694,"post_id":57017190,"comment_id":100567038,"body_markdown":"@yshavit The `substring` calls are needless. `substring(0,qq-1).length()` is the same as just `qq - 1`, and `s.substring(0,(qq-1)).charAt(k)` is the same as `s.charAt(k)`.","body":"@yshavit The <code>substring</code> calls are needless. <code>substring(0,qq-1).length()</code> is the same as just <code>qq - 1</code>, and <code>s.substring(0,(qq-1)).charAt(k)</code> is the same as <code>s.charAt(k)</code>."},{"owner":{"account_id":15582438,"reputation":13,"user_id":11241843,"display_name":"mohit kaothekar"},"score":0,"creation_date":1563011952,"post_id":57017190,"comment_id":100567078,"body_markdown":"@OleV.V. still getting TLE","body":"@OleV.V. still getting TLE"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1563012313,"post_id":57017190,"comment_id":100567148,"body_markdown":"Yes, @mohitkaothekar, I expected that. See my answer below.","body":"Yes, @mohitkaothekar, I expected that. See my answer below."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639329896,"creation_date":1563008790,"answer_id":57017709,"question_id":57017190,"body_markdown":"For an efficient solution for a long string (up to 500000 letters) and many queries (up to 10000) you need to preprocess your string data somehow so that after that you can process each query fast. I suggest that for each of the 26 possible lowercase letters (the question explicitly says &#39;a&#39; - &#39;z&#39;) find the position of the 1st, 2nd, 3rd occurrence, etc., and fill them into an array or list. Then for each query do binary search in the array for the position you got as input. Then the array index found will tell you the answer. This will reduce your time complexity from *O(s^2* * *q)* to *O(s + q* * *log(s))*.\r\n\r\nIf you don’t know binary search, look it up. Or use a `Map&lt;Integer, Integer&gt;` instead of the array or list.\r\n\r\nStill more efficient, build an array the same length as the string and in each index store the answer to the query about that index. I believe that this can be implemented with complexity *O(s + q)*.\r\n\r\n\r\nLink: [Original question on brainly.in](https://brainly.in/question/11174859)","title":"Why am i getting time limit exceeded?","body":"<p>For an efficient solution for a long string (up to 500000 letters) and many queries (up to 10000) you need to preprocess your string data somehow so that after that you can process each query fast. I suggest that for each of the 26 possible lowercase letters (the question explicitly says 'a' - 'z') find the position of the 1st, 2nd, 3rd occurrence, etc., and fill them into an array or list. Then for each query do binary search in the array for the position you got as input. Then the array index found will tell you the answer. This will reduce your time complexity from <em>O(s^2</em> * <em>q)</em> to <em>O(s + q</em> * <em>log(s))</em>.</p>\n<p>If you don’t know binary search, look it up. Or use a <code>Map&lt;Integer, Integer&gt;</code> instead of the array or list.</p>\n<p>Still more efficient, build an array the same length as the string and in each index store the answer to the query about that index. I believe that this can be implemented with complexity <em>O(s + q)</em>.</p>\n<p>Link: <a href=\"https://brainly.in/question/11174859\" rel=\"nofollow noreferrer\">Original question on brainly.in</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563017692,"creation_date":1563016669,"answer_id":57018645,"question_id":57017190,"body_markdown":"In addition to Ole&#39;s answer, you also need to consider some &quot;micro&quot; optimizations:\r\n\r\nI suspect that most of the time will be spent executing this loop:\r\n\r\n    for(int k=0;k&lt;s.substring(0,qq-1).length();k++){\r\n      if((s.substring(0,(qq-1)).charAt(k)==someChar)) count[j]++;\r\n    }\r\n\r\nLets look at a couple of aspects:\r\n\r\n  - `k&lt;s.substring(0,qq-1).length()` creates a substring just so that it can work out its length.  But we know what that length will be:  `qq`!  So you have created a new string and copied `qq` characters for no good reason.  Inefficient.  Pointless.\r\n\r\n  - `s.substring(0,(qq-1)).charAt(k)==someChar` creates another string and then gets its `k`th character.  But the `k`th character of the substring is also the `k`th character of the original string `s`.  (Think about it!)  So, once again the substring creating is pointless.\r\n\r\n  - Both of those unnecessary calculations are repeated `qq` times.   It is the same (unnecessary) computation done `2 x qq` times.\r\n\r\nNote: this analysis takes no account of whether your code is correct or the algorithm is optimal.  It is purely about micro-efficiency.   What you have done is turn an `O(N^2)` algorithm into an `O(N^3)` algorithm ... due to the unnecessary substring creation.\r\n    ","title":"Why am i getting time limit exceeded?","body":"<p>In addition to Ole's answer, you also need to consider some \"micro\" optimizations:</p>\n\n<p>I suspect that most of the time will be spent executing this loop:</p>\n\n<pre><code>for(int k=0;k&lt;s.substring(0,qq-1).length();k++){\n  if((s.substring(0,(qq-1)).charAt(k)==someChar)) count[j]++;\n}\n</code></pre>\n\n<p>Lets look at a couple of aspects:</p>\n\n<ul>\n<li><p><code>k&lt;s.substring(0,qq-1).length()</code> creates a substring just so that it can work out its length.  But we know what that length will be:  <code>qq</code>!  So you have created a new string and copied <code>qq</code> characters for no good reason.  Inefficient.  Pointless.</p></li>\n<li><p><code>s.substring(0,(qq-1)).charAt(k)==someChar</code> creates another string and then gets its <code>k</code>th character.  But the <code>k</code>th character of the substring is also the <code>k</code>th character of the original string <code>s</code>.  (Think about it!)  So, once again the substring creating is pointless.</p></li>\n<li><p>Both of those unnecessary calculations are repeated <code>qq</code> times.   It is the same (unnecessary) computation done <code>2 x qq</code> times.</p></li>\n</ul>\n\n<p>Note: this analysis takes no account of whether your code is correct or the algorithm is optimal.  It is purely about micro-efficiency.   What you have done is turn an <code>O(N^2)</code> algorithm into an <code>O(N^3)</code> algorithm ... due to the unnecessary substring creation.</p>\n"}],"owner":{"account_id":15582438,"reputation":13,"user_id":11241843,"display_name":"mohit kaothekar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":57018645,"answer_count":2,"score":-3,"last_activity_date":1639329896,"creation_date":1563004085,"question_id":57017190,"body_markdown":"I am getting time limit exceeded?\r\n\r\nSimilar Char\r\nProblem Description\r\nTahir and Mamta are woking in a project in TCS. Tahir being a problem solver came up with an interesting problem for his friend Mamta. \r\n\r\nProblem consists of a string of length N and contains only small case alphabets. \r\n\r\nIt will be followed by Q queries, in which each query will contain an integer P (1&lt;=P&lt;=N) denoting a position within the string. \r\n\r\nMamta&#39;s task is to find the alphabet present at that location and determine the number of occurrence of same alphabet preceding the given location P.\r\n\r\nMamta is busy with her office work. Therefore, she asked you to help her.\r\n\r\nConstraints\r\n1 &lt;= N &lt;= 500000\r\n\r\nS consisting of small case alphabets\r\n\r\n1 &lt;= Q &lt;= 10000\r\n\r\n1 &lt;= P &lt;= N\r\n\r\nInput Format\r\nFirst line contains an integer N, denoting the length of string.\r\n\r\nSecond line contains string S itself consists of small case alphabets only (&#39;a&#39; - &#39;z&#39;).\r\n\r\nThird line contains an integer Q denoting number of queries that will be asked.\r\n\r\nNext Q lines contains an integer P (1 &lt;= P &lt;= N) for which you need to find the number occurrence of character present at the Pth location preceeding P.\r\n\r\nOutput\r\nFor each query, print an integer denoting the answer on single line.\r\n\r\nTest Case\r\n\r\nExplanation\r\nExample 1\r\n\r\nInput\r\n\r\n9\r\n\r\nabacsddaa\r\n\r\n2\r\n\r\n9\r\n\r\n3\r\n\r\nOutput\r\n\r\n3\r\n\r\n1\r\n\r\nExplanation\r\n\r\nHere Q = 2 \r\n\r\nFor P=9, character at 9th location is &#39;a&#39;. Number of occurrences of &#39;a&#39; before P i.e., 9 is three.\r\n\r\nSimilarly for P=3, 3rd character is &#39;a&#39;. Number of occurrences of &#39;a&#39; before P. i.e., 3 is one.\r\n\r\n\r\n    import java.io.*;\r\n    \r\n    public class simchar\r\n    {\r\n    \tpublic static void main(String gg[]) throws Exception\r\n    \t{\r\n\t\t\tBufferedReader reader=new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tint n=Integer.parseInt(reader.readLine());\r\n\t\t\tString s=reader.readLine();\r\n\t\t\tif(s.length()!=n) return;\r\n\t\t\tint q=Integer.parseInt(reader.readLine());\r\n\t\t\tint qq;\r\n\t\t\tint []count=new int[q];\r\n\t\t\tchar someChar;\r\n\t\t\tfor(int j=0;j&lt;q;j++)\r\n\t\t\t{\r\n\t\t\t\tqq=Integer.parseInt(reader.readLine());\r\n\t\t\t\tsomeChar=s.charAt(qq-1);\r\n\t\t\t\tfor(int k=0;k&lt;s.substring(0,qq-1).length();k++){\r\n\t\t\t\t\tif((s.substring(0,(qq-1)).charAt(k)==someChar)) count[j]++;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(count[j]);\r\n\t\t\t}\r\n\r\n\t\t\treader.close();\r\n    \t}\r\n    }","title":"Why am i getting time limit exceeded?","body":"<p>I am getting time limit exceeded?</p>\n\n<p>Similar Char\nProblem Description\nTahir and Mamta are woking in a project in TCS. Tahir being a problem solver came up with an interesting problem for his friend Mamta. </p>\n\n<p>Problem consists of a string of length N and contains only small case alphabets. </p>\n\n<p>It will be followed by Q queries, in which each query will contain an integer P (1&lt;=P&lt;=N) denoting a position within the string. </p>\n\n<p>Mamta's task is to find the alphabet present at that location and determine the number of occurrence of same alphabet preceding the given location P.</p>\n\n<p>Mamta is busy with her office work. Therefore, she asked you to help her.</p>\n\n<p>Constraints\n1 &lt;= N &lt;= 500000</p>\n\n<p>S consisting of small case alphabets</p>\n\n<p>1 &lt;= Q &lt;= 10000</p>\n\n<p>1 &lt;= P &lt;= N</p>\n\n<p>Input Format\nFirst line contains an integer N, denoting the length of string.</p>\n\n<p>Second line contains string S itself consists of small case alphabets only ('a' - 'z').</p>\n\n<p>Third line contains an integer Q denoting number of queries that will be asked.</p>\n\n<p>Next Q lines contains an integer P (1 &lt;= P &lt;= N) for which you need to find the number occurrence of character present at the Pth location preceeding P.</p>\n\n<p>Output\nFor each query, print an integer denoting the answer on single line.</p>\n\n<p>Test Case</p>\n\n<p>Explanation\nExample 1</p>\n\n<p>Input</p>\n\n<p>9</p>\n\n<p>abacsddaa</p>\n\n<p>2</p>\n\n<p>9</p>\n\n<p>3</p>\n\n<p>Output</p>\n\n<p>3</p>\n\n<p>1</p>\n\n<p>Explanation</p>\n\n<p>Here Q = 2 </p>\n\n<p>For P=9, character at 9th location is 'a'. Number of occurrences of 'a' before P i.e., 9 is three.</p>\n\n<p>Similarly for P=3, 3rd character is 'a'. Number of occurrences of 'a' before P. i.e., 3 is one.</p>\n\n<pre><code>import java.io.*;\n\npublic class simchar\n{\n    public static void main(String gg[]) throws Exception\n    {\n        BufferedReader reader=new BufferedReader(new InputStreamReader(System.in));\n        int n=Integer.parseInt(reader.readLine());\n        String s=reader.readLine();\n        if(s.length()!=n) return;\n        int q=Integer.parseInt(reader.readLine());\n        int qq;\n        int []count=new int[q];\n        char someChar;\n        for(int j=0;j&lt;q;j++)\n        {\n            qq=Integer.parseInt(reader.readLine());\n            someChar=s.charAt(qq-1);\n            for(int k=0;k&lt;s.substring(0,qq-1).length();k++){\n                if((s.substring(0,(qq-1)).charAt(k)==someChar)) count[j]++;\n            }\n            System.out.println(count[j]);\n        }\n\n        reader.close();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1608059528,"post_id":65312210,"comment_id":115465352,"body_markdown":"Create a string &quot;0123456789&quot;. Remove a char at a random index and put that char into a new string. Repeat until new string has enough digits.","body":"Create a string &quot;0123456789&quot;. Remove a char at a random index and put that char into a new string. Repeat until new string has enough digits."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1608059554,"post_id":65312210,"comment_id":115465361,"body_markdown":"So for example the user types 9, and then the program should generate a 9-digit number, is that what you mean? Does your code work and give the expected result? If not, what happens instead?","body":"So for example the user types 9, and then the program should generate a 9-digit number, is that what you mean? Does your code work and give the expected result? If not, what happens instead?"},{"owner":{"account_id":18725791,"reputation":21,"user_id":14680343,"display_name":"coder"},"score":0,"creation_date":1608059764,"post_id":65312210,"comment_id":115465435,"body_markdown":"If the user enters 5, I have to generate a 5-digit random number, but the digits of this number must be different. @OleV.V.","body":"If the user enters 5, I have to generate a 5-digit random number, but the digits of this number must be different. @OleV.V."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1608059881,"post_id":65312210,"comment_id":115465480,"body_markdown":"So the first thing to do is if the user enters a number greater than 10, you should issue an error message because you cannot generate a number with more than 10 different digits.","body":"So the first thing to do is if the user enters a number greater than 10, you should issue an error message because you cannot generate a number with more than 10 different digits."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1608061815,"post_id":65312210,"comment_id":115466239,"body_markdown":"You could do it with an array. Or is it a requirement that you do this without arrays?","body":"You could do it with an array. Or is it a requirement that you do this without arrays?"},{"owner":{"account_id":18725791,"reputation":21,"user_id":14680343,"display_name":"coder"},"score":0,"creation_date":1608062708,"post_id":65312210,"comment_id":115466613,"body_markdown":"yes I have to do it without the array @NomadMaker","body":"yes I have to do it without the array @NomadMaker"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639329357,"creation_date":1608060020,"answer_id":65312355,"question_id":65312210,"body_markdown":"One idea is: Generate the random number as a string. For each digit, generate it in a loop where you check whether it is already in the string, and if so, take one more turn through the loop to generate a different one. Once you have a digit that is not in the string, append it to the string.\r\n\r\nTo check whether a digit is already in the string, convert the digit itself to a string using `String.valueOf()`. Then use `String.contains()` for checking.\r\n\r\nAnd before doing any of that, check that the number entered is at most 10. If you try the above with 11 or more digits, your program will run in an infinite loop because when there are already 10 different digits in the string, you won’t be able to generate a digit that is not there. So if the user enters a number greater than 10, it’s better to issue an error message from the start.","title":"looking at the digits of a number in java","body":"<p>One idea is: Generate the random number as a string. For each digit, generate it in a loop where you check whether it is already in the string, and if so, take one more turn through the loop to generate a different one. Once you have a digit that is not in the string, append it to the string.</p>\n<p>To check whether a digit is already in the string, convert the digit itself to a string using <code>String.valueOf()</code>. Then use <code>String.contains()</code> for checking.</p>\n<p>And before doing any of that, check that the number entered is at most 10. If you try the above with 11 or more digits, your program will run in an infinite loop because when there are already 10 different digits in the string, you won’t be able to generate a digit that is not there. So if the user enters a number greater than 10, it’s better to issue an error message from the start.</p>\n"},{"tags":[],"owner":{"account_id":17210452,"reputation":89,"user_id":12459952,"display_name":"JimiA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608061235,"creation_date":1608061235,"answer_id":65312605,"question_id":65312210,"body_markdown":"You have a range of 10, so create an array of length 10, inside the random method, every time you get a new value, add the value to the array, and check to see if the array has that value already, if it does, rerun the method, else add it to the array and return the value.\r\n\r\n        static int [] arr= new int [10];\r\n        static int index=0;\r\n\r\n        public static void main(String[]args)\r\n\r\n        public static int random(int k){\r\n        Random rand = new Random();\r\n        int r1=0;\r\n        for (int i=1; i&lt;=k; i++){\r\n            r1 = rand.nextInt(10);\r\n        }\r\n        //For the first Run\r\n        if(i==0)\r\n         {\r\n           arr[i]=r1;\r\n           return r1;\r\n         }\r\n        //Check each value against the remaning value\r\n        for(int j=0; j&lt;arr.length; j++){\r\n         if(arr[j]== r1)\r\n          { random(int k); }\r\n          else {\r\n           return r1;","title":"looking at the digits of a number in java","body":"<p>You have a range of 10, so create an array of length 10, inside the random method, every time you get a new value, add the value to the array, and check to see if the array has that value already, if it does, rerun the method, else add it to the array and return the value.</p>\n<pre><code>    static int [] arr= new int [10];\n    static int index=0;\n\n    public static void main(String[]args)\n\n    public static int random(int k){\n    Random rand = new Random();\n    int r1=0;\n    for (int i=1; i&lt;=k; i++){\n        r1 = rand.nextInt(10);\n    }\n    //For the first Run\n    if(i==0)\n     {\n       arr[i]=r1;\n       return r1;\n     }\n    //Check each value against the remaning value\n    for(int j=0; j&lt;arr.length; j++){\n     if(arr[j]== r1)\n      { random(int k); }\n      else {\n       return r1;\n</code></pre>\n"}],"owner":{"account_id":18725791,"reputation":21,"user_id":14680343,"display_name":"coder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1608157408,"answer_count":2,"score":-1,"last_activity_date":1639329862,"creation_date":1608059340,"question_id":65312210,"body_markdown":"How do I know if all the digits of a 7-digit number are different?For instance, I am generating a 6-digit random number and this number is 648392. This number can be 7,8 or 13 digits. How do I check if the digits of this number are the same?","title":"looking at the digits of a number in java","body":"<p>How do I know if all the digits of a 7-digit number are different?For instance, I am generating a 6-digit random number and this number is 648392. This number can be 7,8 or 13 digits. How do I check if the digits of this number are the same?</p>\n"},{"tags":["java","python","algorithm","optimization"],"comments":[{"owner":{"account_id":5572640,"reputation":5109,"user_id":4417306,"display_name":"Mark"},"score":0,"creation_date":1542618216,"post_id":53371255,"comment_id":93618392,"body_markdown":"What code do you already have?","body":"What code do you already have?"},{"owner":{"account_id":1873428,"reputation":40785,"user_id":1695172,"accept_rate":91,"display_name":"Netwave"},"score":1,"creation_date":1542618227,"post_id":53371255,"comment_id":93618395,"body_markdown":"as you did is the way of doing it, since the numbers dont need to follow any rule and can be arbitrary","body":"as you did is the way of doing it, since the numbers dont need to follow any rule and can be arbitrary"},{"owner":{"account_id":12492043,"reputation":23,"user_id":9093272,"display_name":"Ronny"},"score":0,"creation_date":1542618719,"post_id":53371255,"comment_id":93618622,"body_markdown":"@Mark Already mentioned my code. Please check.","body":"@Mark Already mentioned my code. Please check."},{"owner":{"account_id":5572640,"reputation":5109,"user_id":4417306,"display_name":"Mark"},"score":1,"creation_date":1542618772,"post_id":53371255,"comment_id":93618647,"body_markdown":"@Ronny How is this related to Java?","body":"@Ronny How is this related to Java?"},{"owner":{"account_id":12492043,"reputation":23,"user_id":9093272,"display_name":"Ronny"},"score":0,"creation_date":1542618850,"post_id":53371255,"comment_id":93618680,"body_markdown":"@GhostCat Please see my effort as mentioned in the edited question and I need logic or explanation, Language does not matter. If still not cleared please check my tag. Thanks","body":"@GhostCat Please see my effort as mentioned in the edited question and I need logic or explanation, Language does not matter. If still not cleared please check my tag. Thanks"},{"owner":{"account_id":12492043,"reputation":23,"user_id":9093272,"display_name":"Ronny"},"score":0,"creation_date":1542618959,"post_id":53371255,"comment_id":93618740,"body_markdown":"@Mark You can give me solution in any of the languages. I just need logic to optimize it.","body":"@Mark You can give me solution in any of the languages. I just need logic to optimize it."},{"owner":{"account_id":919833,"reputation":12209,"user_id":2142055,"display_name":"Stop harming Monica"},"score":0,"creation_date":1542619200,"post_id":53371255,"comment_id":93618857,"body_markdown":"The code looks OK to me. What kind of optimizations are you looking for and why?","body":"The code looks OK to me. What kind of optimizations are you looking for and why?"},{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":1,"creation_date":1542619338,"post_id":53371255,"comment_id":93618931,"body_markdown":"If your code runs without errors, [codereview.se] may be a better place to ask on.","body":"If your code runs without errors, <a href=\"https://codereview.stackexchange.com\">Code Review</a> may be a better place to ask on."},{"owner":{"account_id":12492043,"reputation":23,"user_id":9093272,"display_name":"Ronny"},"score":0,"creation_date":1542619429,"post_id":53371255,"comment_id":93618970,"body_markdown":"@Goyo when i run it in java or python it takes too much time as per competitive compiler and again it&#39;s time complexity is high. Do we have any other approach to solve this question (like dp or algo or using any other data structure).","body":"@Goyo when i run it in java or python it takes too much time as per competitive compiler and again it&#39;s time complexity is high. Do we have any other approach to solve this question (like dp or algo or using any other data structure)."},{"owner":{"account_id":919833,"reputation":12209,"user_id":2142055,"display_name":"Stop harming Monica"},"score":0,"creation_date":1542620084,"post_id":53371255,"comment_id":93619346,"body_markdown":"I think your java code is just wrong. Anyway what makes you think you can do this in time &lt; O(n*n)?","body":"I think your java code is just wrong. Anyway what makes you think you can do this in time &lt; O(n*n)?"},{"owner":{"account_id":12492043,"reputation":23,"user_id":9093272,"display_name":"Ronny"},"score":0,"creation_date":1542620938,"post_id":53371255,"comment_id":93619827,"body_markdown":"@Goyo Please check now. Thanks","body":"@Goyo Please check now. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639329629,"creation_date":1542620482,"answer_id":53371857,"question_id":53371255,"body_markdown":"First notice that the condition `i+j=array[i]+array[j]` is equivalent to: \r\n\r\n&gt;     (array[i] - i) + (array[j] -- j) == 0\r\n\r\nSo calculate `array[i] - i` for each `i`. In your example you will get `[1, -1, 0, 1, -1]`. **Edit:** With thanks to the comment by maaartinus since only a count of pairs is asked for, we also only need a count of each calculated difference. So for each difference, store how many times it occurs as a positive difference and how many as a negative. Use a map with the calculated difference as key:\r\n\r\n    0 -&gt; 1 occurrence (index 2)\r\n    1 -&gt; 2 negative occurrences (indices 1, 4), 2 positive occurrences (indices 0, 3).\r\n\r\nThe concrete indices are not stored, I have only included them as explanation. And don’t store the 0 entry. Because of the `i &lt; j` restriction we cannot use it for anything. So in your example case we have only:\r\n\r\n    1 -&gt; 2 negative occurrences, 2 positive occurrences\r\n\r\nNow our goal can be reached by combining each index from entry with key `-n` and with each index from entry `n`. We need to sort each pair such that the other condition, `i &lt; j` is fulfilled. This is always possible since the same index will not be counted as both positive and negative. So the number of pairs from entry `n` of the map is the product of the two counts of negative and positive occurrences. In your case you have only one `n`, in other cases there could be many, so add the numbers of pairs from them all together. In the example we have just 2 * 2 = 4 pairs. This result agrees with your question.\r\n\r\nEdit: Complexity consideration: The complexity of my approach depends on the complexity of the map operations, which in turn depend on the map implementation you choose. For most map implementations the construction of the map will be the time consuming part, and it will take O(n * cost of map lookup). Assuming that lookup in a `HashMap` is somewhere between linear and O(log n) you can get something between O(n) and O(n * log n). In any case better than your O(n ^ 2).\r\n\r\n\r\n## My original idea\r\n\r\nMy original idea was to generate all the pairs. The idea may be easier to follow, so I let it stand here. It does not perform better than O(n ^ 2), though.\r\n\r\nStore the indices into a multimap or map of lists where the calculated differences are keys. In the example you will get\r\n\r\n    -1 -&gt; 1, 4\r\n     0 -&gt; 2\r\n     1 -&gt; 0, 3\r\n\r\nNow our goal can be reached by combining each index from entry with key `-n` and with each index from entry `n`. Only we need to sort each pair such that the other condition, `i &lt; j` is fulfilled (this is always possible since the same index will not be in both lists).\r\n\r\nUnsorted pairs:\r\n\r\n    (1, 0), (1, 3), (4, 0), (4, 3)\r\n\r\nSorted pairs (that is, with `i &lt; j`):\r\n\r\n    (0, 1), (1, 3), (0, 4), (3, 4)\r\n\r\nFor comparison, after correcting your own code produces:\r\n\r\n    (0, 1), (0, 4), (1, 3), (3, 4)\r\n\r\nThey are the same 4 pairs, only the order is different. Sorting will solve that if it matters.","title":"Sum of index to sum of elements of Array (Optimization)","body":"<p>First notice that the condition <code>i+j=array[i]+array[j]</code> is equivalent to:</p>\n<blockquote>\n<pre><code>(array[i] - i) + (array[j] -- j) == 0\n</code></pre>\n</blockquote>\n<p>So calculate <code>array[i] - i</code> for each <code>i</code>. In your example you will get <code>[1, -1, 0, 1, -1]</code>. <strong>Edit:</strong> With thanks to the comment by maaartinus since only a count of pairs is asked for, we also only need a count of each calculated difference. So for each difference, store how many times it occurs as a positive difference and how many as a negative. Use a map with the calculated difference as key:</p>\n<pre><code>0 -&gt; 1 occurrence (index 2)\n1 -&gt; 2 negative occurrences (indices 1, 4), 2 positive occurrences (indices 0, 3).\n</code></pre>\n<p>The concrete indices are not stored, I have only included them as explanation. And don’t store the 0 entry. Because of the <code>i &lt; j</code> restriction we cannot use it for anything. So in your example case we have only:</p>\n<pre><code>1 -&gt; 2 negative occurrences, 2 positive occurrences\n</code></pre>\n<p>Now our goal can be reached by combining each index from entry with key <code>-n</code> and with each index from entry <code>n</code>. We need to sort each pair such that the other condition, <code>i &lt; j</code> is fulfilled. This is always possible since the same index will not be counted as both positive and negative. So the number of pairs from entry <code>n</code> of the map is the product of the two counts of negative and positive occurrences. In your case you have only one <code>n</code>, in other cases there could be many, so add the numbers of pairs from them all together. In the example we have just 2 * 2 = 4 pairs. This result agrees with your question.</p>\n<p>Edit: Complexity consideration: The complexity of my approach depends on the complexity of the map operations, which in turn depend on the map implementation you choose. For most map implementations the construction of the map will be the time consuming part, and it will take O(n * cost of map lookup). Assuming that lookup in a <code>HashMap</code> is somewhere between linear and O(log n) you can get something between O(n) and O(n * log n). In any case better than your O(n ^ 2).</p>\n<h2>My original idea</h2>\n<p>My original idea was to generate all the pairs. The idea may be easier to follow, so I let it stand here. It does not perform better than O(n ^ 2), though.</p>\n<p>Store the indices into a multimap or map of lists where the calculated differences are keys. In the example you will get</p>\n<pre><code>-1 -&gt; 1, 4\n 0 -&gt; 2\n 1 -&gt; 0, 3\n</code></pre>\n<p>Now our goal can be reached by combining each index from entry with key <code>-n</code> and with each index from entry <code>n</code>. Only we need to sort each pair such that the other condition, <code>i &lt; j</code> is fulfilled (this is always possible since the same index will not be in both lists).</p>\n<p>Unsorted pairs:</p>\n<pre><code>(1, 0), (1, 3), (4, 0), (4, 3)\n</code></pre>\n<p>Sorted pairs (that is, with <code>i &lt; j</code>):</p>\n<pre><code>(0, 1), (1, 3), (0, 4), (3, 4)\n</code></pre>\n<p>For comparison, after correcting your own code produces:</p>\n<pre><code>(0, 1), (0, 4), (1, 3), (3, 4)\n</code></pre>\n<p>They are the same 4 pairs, only the order is different. Sorting will solve that if it matters.</p>\n"}],"owner":{"account_id":12492043,"reputation":23,"user_id":9093272,"display_name":"Ronny"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1639329629,"creation_date":1542618102,"question_id":53371255,"body_markdown":"You got starting no. of element suppose N, you are provided with N numbers with a space in next line. Determine the number of cases in that array such that it follows following rule - `i+j=array[i]+array[j]` where i and j are index and `i&lt;j`.\r\n\r\nFor ex,\r\n**Input-**\r\n\r\n    5\r\n    1 0 2 4 3\r\n\r\n**Output-**\r\n\r\n    4\r\n\r\n**Explanation-**\r\n\r\n`Elements of array at index (0,1), (1,3), (3,4) and (0,4) follows the above rule`\r\n\r\nFor now, I can solve it using O(n*n) by traversing all the element. Can you please come up with optimized code.?\r\n\r\nMy code in python is as follows:\r\n\r\n    n=int(input())\r\n    arr=list(map(int,input.split(&#39; &#39;)))\r\n    count=0\r\n    for i in range(n):\r\n        for j in range(i+1,n):\r\n            if(i+j==arr[i]+arr[j]):\r\n                count+=1\r\n    print(count)\r\nMy code in Java (snippet) is as follows:\r\n\r\n    int n=sc.nextInt(); //sc is scanner\r\n    int a[]=new int[n];\r\n    for(int i=0;i&lt;n;i++)\r\n    {\r\n      a[i]=sc.nextInt();\r\n    }\r\n    int count=0;\r\n    for(int i=0;i&lt;n;i++)\r\n    {  for(int j=i+1;j&lt;n;j++)\r\n           if(i+j==a[i]+a[j])\r\n              count++;\r\n    }\r\n    System.out.println(count);\r\n\r\n\r\n","title":"Sum of index to sum of elements of Array (Optimization)","body":"<p>You got starting no. of element suppose N, you are provided with N numbers with a space in next line. Determine the number of cases in that array such that it follows following rule - <code>i+j=array[i]+array[j]</code> where i and j are index and <code>i&lt;j</code>.</p>\n\n<p>For ex,\n<strong>Input-</strong></p>\n\n<pre><code>5\n1 0 2 4 3\n</code></pre>\n\n<p><strong>Output-</strong></p>\n\n<pre><code>4\n</code></pre>\n\n<p><strong>Explanation-</strong></p>\n\n<p><code>Elements of array at index (0,1), (1,3), (3,4) and (0,4) follows the above rule</code></p>\n\n<p>For now, I can solve it using O(n*n) by traversing all the element. Can you please come up with optimized code.?</p>\n\n<p>My code in python is as follows:</p>\n\n<pre><code>n=int(input())\narr=list(map(int,input.split(' ')))\ncount=0\nfor i in range(n):\n    for j in range(i+1,n):\n        if(i+j==arr[i]+arr[j]):\n            count+=1\nprint(count)\n</code></pre>\n\n<p>My code in Java (snippet) is as follows:</p>\n\n<pre><code>int n=sc.nextInt(); //sc is scanner\nint a[]=new int[n];\nfor(int i=0;i&lt;n;i++)\n{\n  a[i]=sc.nextInt();\n}\nint count=0;\nfor(int i=0;i&lt;n;i++)\n{  for(int j=i+1;j&lt;n;j++)\n       if(i+j==a[i]+a[j])\n          count++;\n}\nSystem.out.println(count);\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":10435859,"reputation":76,"user_id":7694184,"display_name":"Yan Ng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639329529,"creation_date":1639329529,"answer_id":70325912,"question_id":70325527,"body_markdown":"Use a parameterized subway manager constructor. Put your passenger array in it. Then your show passenger method should work. ","title":"Use an array of objects in another class","body":"<p>Use a parameterized subway manager constructor. Put your passenger array in it. Then your show passenger method should work.</p>\n"}],"owner":{"account_id":18583410,"reputation":127,"user_id":13542396,"display_name":"Nayana "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70325912,"answer_count":1,"score":0,"last_activity_date":1639329529,"creation_date":1639326946,"question_id":70325527,"body_markdown":"I&#39;m new at Java and I&#39;m trying to create an array of objects without using the collection ArrayList. What I want to do is to **create an array of objects for constructor** &quot;Passenger&quot; class in main class and **instantiate it in class SubwayManager** in method &quot;showPassenger&quot; where I can return a specific Passenger with a given name passed by parameter but I don&#39;t have any idea how I can do this. Would really appreciate any help.\r\n\r\nHere&#39;s my Passenger class:\r\n\r\n```\r\npublic class Passenger {\r\n\r\n    private String name;\r\n    private String nif;\r\n    private String birthDate;\r\n    private boolean student;\r\n   \r\n \r\n    public Passenger(String name, String nif, String birthDate) {\r\n\r\n        this.name = name;\r\n        this.nif = nif;\r\n        this.birthDate = birthDate;\r\n        this.student = false;\r\n        \r\n    }\r\n```\r\n\r\nHere&#39;s the **main class** where I created the array of Passengers objects:\r\n\r\n```\r\npublic class IPOO_P2 {\r\n   \r\n private static Passenger[] passengers = new Passenger[10];\r\n \r\n    public static void main(String[] args) {  \r\n      \r\n        SubwayManager man1 = new SubwayManager();\r\n       \r\n       for(int i=0; i&lt;passengers.length; i++){\r\n            passengers[0] = new Passenger(&quot;nomee&quot;, &quot;298282928&quot;, &quot;29-12-2022&quot;);\r\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;2982829281&quot;, &quot;29-12-2021&quot;);\r\n            passengers[2] = man1.createPassenger(&quot;name&quot;, &quot;nif&quot;, &quot;birthdate&quot;);\r\n        }\r\n   \r\n        man1.showPassenger(&quot;nomee&quot;);\r\n    } \r\n}\r\n```\r\n\r\nAnd here&#39;s the class SubwayManager **where I want to use the array of Passengers**:\r\n\r\n```\r\npublic class SubwayManager {\r\n\r\n    private DataBase db;\r\n    private Menu menu;\r\n    private Passenger[] passengers;\r\n\r\n    public SubwayManager() {\r\n        this.db = new DataBase();\r\n        this.menu = new Menu(this);\r\n        passengers = new Passenger[10];\r\n    }\r\n\r\n//the method where I want to instantiate and use the array of Passengers\r\n   public void showPassenger(String name) {\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++) {\r\n            if (passengers[i].getNif().equals(name)) {\r\n                System.out.println(passengers[i].toString());\r\n            }else{System.out.println(&quot;There isn&#39;t any passenger with that name&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n```","title":"Use an array of objects in another class","body":"<p>I'm new at Java and I'm trying to create an array of objects without using the collection ArrayList. What I want to do is to <strong>create an array of objects for constructor</strong> &quot;Passenger&quot; class in main class and <strong>instantiate it in class SubwayManager</strong> in method &quot;showPassenger&quot; where I can return a specific Passenger with a given name passed by parameter but I don't have any idea how I can do this. Would really appreciate any help.</p>\n<p>Here's my Passenger class:</p>\n<pre><code>public class Passenger {\n\n    private String name;\n    private String nif;\n    private String birthDate;\n    private boolean student;\n   \n \n    public Passenger(String name, String nif, String birthDate) {\n\n        this.name = name;\n        this.nif = nif;\n        this.birthDate = birthDate;\n        this.student = false;\n        \n    }\n</code></pre>\n<p>Here's the <strong>main class</strong> where I created the array of Passengers objects:</p>\n<pre><code>public class IPOO_P2 {\n   \n private static Passenger[] passengers = new Passenger[10];\n \n    public static void main(String[] args) {  \n      \n        SubwayManager man1 = new SubwayManager();\n       \n       for(int i=0; i&lt;passengers.length; i++){\n            passengers[0] = new Passenger(&quot;nomee&quot;, &quot;298282928&quot;, &quot;29-12-2022&quot;);\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;2982829281&quot;, &quot;29-12-2021&quot;);\n            passengers[2] = man1.createPassenger(&quot;name&quot;, &quot;nif&quot;, &quot;birthdate&quot;);\n        }\n   \n        man1.showPassenger(&quot;nomee&quot;);\n    } \n}\n</code></pre>\n<p>And here's the class SubwayManager <strong>where I want to use the array of Passengers</strong>:</p>\n<pre><code>public class SubwayManager {\n\n    private DataBase db;\n    private Menu menu;\n    private Passenger[] passengers;\n\n    public SubwayManager() {\n        this.db = new DataBase();\n        this.menu = new Menu(this);\n        passengers = new Passenger[10];\n    }\n\n//the method where I want to instantiate and use the array of Passengers\n   public void showPassenger(String name) {\n\n        for (int i = 0; i &lt; passengers.length; i++) {\n            if (passengers[i].getNif().equals(name)) {\n                System.out.println(passengers[i].toString());\n            }else{System.out.println(&quot;There isn't any passenger with that name&quot;);\n            }\n        }\n\n    }\n\n</code></pre>\n"},{"tags":["java","c","sublimetext"],"comments":[{"owner":{"account_id":431024,"reputation":21718,"user_id":814803,"display_name":"OdatNurd"},"score":2,"creation_date":1639329914,"post_id":70325721,"comment_id":124315777,"body_markdown":"I assume you mean `Build Output Panel` and not `Console`, because in Sublime the console is a distinct thing. The `sublime-build` file that you use controls where the output goes; it sounds like you&#39;re using a custom build that opens a command prompt instead.","body":"I assume you mean <code>Build Output Panel</code> and not <code>Console</code>, because in Sublime the console is a distinct thing. The <code>sublime-build</code> file that you use controls where the output goes; it sounds like you&#39;re using a custom build that opens a command prompt instead."},{"owner":{"account_id":23284951,"reputation":11,"user_id":17367929,"display_name":"Harsha S"},"score":0,"creation_date":1639368470,"post_id":70325721,"comment_id":124322735,"body_markdown":"sorry my bad. I am new to sublime. Yes, I want the output in the Build Output Panel. Yes, I used a custom build. Is there any way I can modify it to achieve this? I used REPL for python to give output in a new window. Is that possible for java and c too?","body":"sorry my bad. I am new to sublime. Yes, I want the output in the Build Output Panel. Yes, I used a custom build. Is there any way I can modify it to achieve this? I used REPL for python to give output in a new window. Is that possible for java and c too?"},{"owner":{"account_id":431024,"reputation":21718,"user_id":814803,"display_name":"OdatNurd"},"score":0,"creation_date":1639447350,"post_id":70325721,"comment_id":124345905,"body_markdown":"Generically your build can execute any program you want, so you can construct a build that opens an external terminal and asks it to run your program. You can also use the Terminus package to run an interactive program directly in Sublime.  That doesn&#39;t answer your original question though, which is to not use a custom build that does that.","body":"Generically your build can execute any program you want, so you can construct a build that opens an external terminal and asks it to run your program. You can also use the Terminus package to run an interactive program directly in Sublime.  That doesn&#39;t answer your original question though, which is to not use a custom build that does that."},{"owner":{"account_id":23284951,"reputation":11,"user_id":17367929,"display_name":"Harsha S"},"score":0,"creation_date":1639500184,"post_id":70325721,"comment_id":124361997,"body_markdown":"Actually, that is exactly what i wanted. How do I get terminus and other stuff? Thanks. Very much.","body":"Actually, that is exactly what i wanted. How do I get terminus and other stuff? Thanks. Very much."}],"answers":[{"tags":[],"owner":{"account_id":3943771,"reputation":498,"user_id":6591533,"display_name":"RequireKeys"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639328422,"creation_date":1639328422,"answer_id":70325744,"question_id":70325721,"body_markdown":"You can install https://packagecontrol.io/packages/Terminus and get an integrated terminal on sublime text.","title":"Output in Sublime Text console","body":"<p>You can install <a href=\"https://packagecontrol.io/packages/Terminus\" rel=\"nofollow noreferrer\">https://packagecontrol.io/packages/Terminus</a> and get an integrated terminal on sublime text.</p>\n"}],"owner":{"account_id":23284951,"reputation":11,"user_id":17367929,"display_name":"Harsha S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639328422,"creation_date":1639328250,"question_id":70325721,"body_markdown":"I use windows.\r\nI wrote a java code in sublime and pressed ctrl+B.\r\nThe sublime console displayed the compilation time.\r\nThe output of the code was in a cmd window.\r\nIt is same in case of c program too.\r\n\r\nHow do i get the output to display in the sublime console itself?","title":"Output in Sublime Text console","body":"<p>I use windows.\nI wrote a java code in sublime and pressed ctrl+B.\nThe sublime console displayed the compilation time.\nThe output of the code was in a cmd window.\nIt is same in case of c program too.</p>\n<p>How do i get the output to display in the sublime console itself?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1639170802,"post_id":70310397,"comment_id":124289279,"body_markdown":"Are the numeric and/or character parts always of the same length?","body":"Are the numeric and/or character parts always of the same length?"},{"owner":{"account_id":22982446,"reputation":35,"user_id":17109144,"display_name":"Phil_Software"},"score":0,"creation_date":1639170876,"post_id":70310397,"comment_id":124289290,"body_markdown":"@mustaccio yes, the same length, both the numbers and the letters","body":"@mustaccio yes, the same length, both the numbers and the letters"},{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1639171007,"post_id":70310397,"comment_id":124289324,"body_markdown":"[dupe](https://stackoverflow.com/questions/8120413/split-string-in-two-parts-by-length)","body":"<a href=\"https://stackoverflow.com/questions/8120413/split-string-in-two-parts-by-length\">dupe</a>"},{"owner":{"account_id":22982446,"reputation":35,"user_id":17109144,"display_name":"Phil_Software"},"score":0,"creation_date":1639171399,"post_id":70310397,"comment_id":124289406,"body_markdown":"@mustaccio That did solve it","body":"@mustaccio That did solve it"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639173447,"post_id":70310397,"comment_id":124289926,"body_markdown":"if `ETH` is &quot;fixed&quot; then `Float.valueOf(String s)`  *should* be the most efficient in java, (otherwise/) regex can also perform well.","body":"if <code>ETH</code> is &quot;fixed&quot; then <code>Float.valueOf(String s)</code>  <i>should</i> be the most efficient in java, (otherwise/) regex can also perform well."}],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639242552,"creation_date":1639242552,"answer_id":70317245,"question_id":70310397,"body_markdown":"Use this:\r\n\r\n```\r\n        float number = Float.parseFloat(s.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;));\r\n        System.out.println(number);\r\n```\r\n\r\nOr, what&#39;s already mentioned in the comments:\r\nGet the substring which only contains the number. Then you can parse it to your data type.\r\n```\r\n        String s = &quot;0.0234000ETH&quot;;\r\n        String part1 = s.substring(0,8);\r\n        float value = Float.parseFloat(part1);\r\n        System.out.println(value);\r\n```\r\n\r\n","title":"How can I extract a floating point number from a string efficiently?","body":"<p>Use this:</p>\n<pre><code>        float number = Float.parseFloat(s.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;));\n        System.out.println(number);\n</code></pre>\n<p>Or, what's already mentioned in the comments:\nGet the substring which only contains the number. Then you can parse it to your data type.</p>\n<pre><code>        String s = &quot;0.0234000ETH&quot;;\n        String part1 = s.substring(0,8);\n        float value = Float.parseFloat(part1);\n        System.out.println(value);\n</code></pre>\n"}],"owner":{"account_id":22982446,"reputation":35,"user_id":17109144,"display_name":"Phil_Software"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70317245,"answer_count":1,"score":-2,"last_activity_date":1639328068,"creation_date":1639170569,"question_id":70310397,"body_markdown":"If there is:\r\n\r\n    String s=&quot;0.0234000ETH&quot;;\r\n\r\nWhat is one of the **most efficient/better** ways to **isolate** the floating part so that:\r\n\r\n    float result=0.0234000;  //or just 0.0234\r\n\r\nKeep in mind I do not care loosing the ```String``` part (ETH in this case).","title":"How can I extract a floating point number from a string efficiently?","body":"<p>If there is:</p>\n<pre><code>String s=&quot;0.0234000ETH&quot;;\n</code></pre>\n<p>What is one of the <strong>most efficient/better</strong> ways to <strong>isolate</strong> the floating part so that:</p>\n<pre><code>float result=0.0234000;  //or just 0.0234\n</code></pre>\n<p>Keep in mind I do not care loosing the <code>String</code> part (ETH in this case).</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1639326231,"post_id":70325348,"comment_id":124314911,"body_markdown":"That is very good, but you&#39;re not storing what you read ? you just print it","body":"That is very good, but you&#39;re not storing what you read ? you just print it"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1639326298,"post_id":70325348,"comment_id":124314923,"body_markdown":"what is `result` type ?","body":"what is <code>result</code> type ?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639326859,"post_id":70325348,"comment_id":124315023,"body_markdown":"I know this is a bit out of scope, but why not use CSV for this?","body":"I know this is a bit out of scope, but why not use CSV for this?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639326577,"creation_date":1639326577,"answer_id":70325473,"question_id":70325348,"body_markdown":"You reading and parsing is good, but you&#39;re not saving anything, you keep overwriting `result` with the last `info`, so your method return only one `Seats` instance, the last one, use a `List` to easily add all the Seats you create\r\n\r\nWith some improvements\r\n\r\n- [`try_with-resources`](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) for autoclosing the scanner\r\n\r\n- one row is one seat, name the class `Seat`\r\n\r\n&lt;!-- --&gt;\r\n\r\n\r\n\r\n    static List&lt;Seat&gt; read() {\r\n        List&lt;Seat&gt; results = new ArrayList&lt;&gt;();\r\n        File read = new File(&quot;seats.txt&quot;);\r\n        String dataRead;\r\n\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(read))) {\r\n            while ((dataRead = reader.readLine()) != null) {\r\n                String[] seatData = dataRead.split(&quot; &quot;);\r\n                String seatID = seatData[0];\r\n                String seatClass = seatData[1];\r\n                boolean window = Boolean.parseBoolean(seatData[2]);\r\n                boolean aisle = Boolean.parseBoolean(seatData[3]);\r\n                boolean table = Boolean.parseBoolean(seatData[4]);\r\n                double seatPrice = Double.parseDouble(seatData[5]);\r\n                String seatFree = seatData[6];\r\n                Seat info = new Seat(seatID, seatClass, window, aisle, table, seatPrice, seatFree);\r\n                System.out.println(info);\r\n                results.add(info);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error has occurred.&quot;);\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return results;\r\n    }\r\n","title":"How to read a text file with multiple data types and store them in an Array?","body":"<p>You reading and parsing is good, but you're not saving anything, you keep overwriting <code>result</code> with the last <code>info</code>, so your method return only one <code>Seats</code> instance, the last one, use a <code>List</code> to easily add all the Seats you create</p>\n<p>With some improvements</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><code>try_with-resources</code></a> for autoclosing the scanner</p>\n</li>\n<li><p>one row is one seat, name the class <code>Seat</code></p>\n</li>\n</ul>\n\n<pre><code>static List&lt;Seat&gt; read() {\n    List&lt;Seat&gt; results = new ArrayList&lt;&gt;();\n    File read = new File(&quot;seats.txt&quot;);\n    String dataRead;\n\n    try (BufferedReader reader = new BufferedReader(new FileReader(read))) {\n        while ((dataRead = reader.readLine()) != null) {\n            String[] seatData = dataRead.split(&quot; &quot;);\n            String seatID = seatData[0];\n            String seatClass = seatData[1];\n            boolean window = Boolean.parseBoolean(seatData[2]);\n            boolean aisle = Boolean.parseBoolean(seatData[3]);\n            boolean table = Boolean.parseBoolean(seatData[4]);\n            double seatPrice = Double.parseDouble(seatData[5]);\n            String seatFree = seatData[6];\n            Seat info = new Seat(seatID, seatClass, window, aisle, table, seatPrice, seatFree);\n            System.out.println(info);\n            results.add(info);\n        }\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;An error has occurred.&quot;);\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return results;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10435859,"reputation":76,"user_id":7694184,"display_name":"Yan Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639327766,"creation_date":1639327766,"answer_id":70325647,"question_id":70325348,"body_markdown":"Use Jackson. https://cowtowncoder.medium.com/reading-csv-with-jackson-c4e74a15ddc1. See second last example. ","title":"How to read a text file with multiple data types and store them in an Array?","body":"<p>Use Jackson. <a href=\"https://cowtowncoder.medium.com/reading-csv-with-jackson-c4e74a15ddc1\" rel=\"nofollow noreferrer\">https://cowtowncoder.medium.com/reading-csv-with-jackson-c4e74a15ddc1</a>. See second last example.</p>\n"}],"owner":{"account_id":23626544,"reputation":13,"user_id":17658988,"display_name":"NM15"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70325473,"answer_count":2,"score":1,"last_activity_date":1639327766,"creation_date":1639325665,"question_id":70325348,"body_markdown":"I am trying to read a text file of various data and getting it stored into an Array, so that after receiving user input I can compare it to see if there are any matches inside the Array.\r\n\r\nexample text:\r\n\r\n    1A 1st true false false 28.50 free  \r\n    2B 2nd false true false 25.00 free  \r\n    3C 3rd true true false 32.50 free\r\n\r\nAs you can see I&#39;m dealing with Strings, booleans and a double.\r\n\r\nI initially tried reading the file and storing each line as a String in a String Array but that didn&#39;t work when I then needed to compare the user input.\r\n\r\nSo I then tried to create an Array and a sub-array like below:\r\n\r\n    \ttry {\r\n\t\t\tFile read = new File(&quot;seats.txt&quot;);\r\n\t\t\tScanner reader = new Scanner(read);\r\n\t\t\twhile (reader.hasNextLine()) {\r\n\t\t\t\tString dataRead = reader.nextLine();\r\n\t\t\t\t\r\n\t\t\t\tString[] seatData = dataRead.split(&quot; &quot;);\r\n\t\t\t\t\r\n\t\t\t\tString seatID = seatData[0];\r\n\t\t\t\tString seatClass = seatData[1];\r\n\t\t\t\tboolean window = Boolean.parseBoolean(seatData[2]);\r\n\t\t\t\tboolean aisle = Boolean.parseBoolean(seatData[3]);\r\n\t\t\t\tboolean table = Boolean.parseBoolean(seatData[4]);\r\n\t\t\t\tdouble seatPrice = Double.parseDouble(seatData[5]);\r\n\t\t\t\tString seatFree = seatData[6];\r\n\t\t\t\t\r\n\t\t\t\tSeats info = new Seats(seatID, seatClass, window, aisle, table, seatPrice, seatFree);\r\n\t\t\t\tresult = info;\r\n\t\t\t\tSystem.out.println(result); }\r\n\t\t\t\r\n\t\t\t\treader.close();\r\n\t\t\t\t\r\n\t\t}catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;An error has occurred.&quot;);\r\n\t\t\te.printStackTrace(); }\r\n\t\treturn result; \r\n\t\t\r\n\t}\r\n\r\nIs this the right method or should I look at trying something else?\r\n\r\nAny insight or advice would be much appreciated. Thanks.\r\n\r\n","title":"How to read a text file with multiple data types and store them in an Array?","body":"<p>I am trying to read a text file of various data and getting it stored into an Array, so that after receiving user input I can compare it to see if there are any matches inside the Array.</p>\n<p>example text:</p>\n<pre><code>1A 1st true false false 28.50 free  \n2B 2nd false true false 25.00 free  \n3C 3rd true true false 32.50 free\n</code></pre>\n<p>As you can see I'm dealing with Strings, booleans and a double.</p>\n<p>I initially tried reading the file and storing each line as a String in a String Array but that didn't work when I then needed to compare the user input.</p>\n<p>So I then tried to create an Array and a sub-array like below:</p>\n<pre><code>    try {\n        File read = new File(&quot;seats.txt&quot;);\n        Scanner reader = new Scanner(read);\n        while (reader.hasNextLine()) {\n            String dataRead = reader.nextLine();\n            \n            String[] seatData = dataRead.split(&quot; &quot;);\n            \n            String seatID = seatData[0];\n            String seatClass = seatData[1];\n            boolean window = Boolean.parseBoolean(seatData[2]);\n            boolean aisle = Boolean.parseBoolean(seatData[3]);\n            boolean table = Boolean.parseBoolean(seatData[4]);\n            double seatPrice = Double.parseDouble(seatData[5]);\n            String seatFree = seatData[6];\n            \n            Seats info = new Seats(seatID, seatClass, window, aisle, table, seatPrice, seatFree);\n            result = info;\n            System.out.println(result); }\n        \n            reader.close();\n            \n    }catch (FileNotFoundException e) {\n        System.out.println(&quot;An error has occurred.&quot;);\n        e.printStackTrace(); }\n    return result; \n    \n}\n</code></pre>\n<p>Is this the right method or should I look at trying something else?</p>\n<p>Any insight or advice would be much appreciated. Thanks.</p>\n"},{"tags":["java","python","docker","groovy","java-8"],"comments":[{"owner":{"account_id":8618867,"reputation":11924,"user_id":6454622,"display_name":"Exadra37"},"score":1,"creation_date":1549974360,"post_id":54650006,"comment_id":96091317,"body_markdown":"You need to share your current Dockerfile so that we can help you.","body":"You need to share your current Dockerfile so that we can help you."},{"owner":{"account_id":11479799,"reputation":13,"user_id":8414255,"display_name":"Akshay Wahi"},"score":0,"creation_date":1549975541,"post_id":54650006,"comment_id":96092030,"body_markdown":"dockerfile added, please check","body":"dockerfile added, please check"},{"owner":{"account_id":331447,"reputation":1317,"user_id":4317250,"display_name":"Steve Boyd"},"score":0,"creation_date":1549995843,"post_id":54650006,"comment_id":96104236,"body_markdown":"Is it absolutely required that you have both the python and java code in the same container? One very complex container design will likely be harder to work with than two more basic containers that communicate with a simple REST API.\n\nAlternatively, is there some reason that you have to use groovy/python when either language is likely capable of handling the job both parts of the work you are doing?","body":"Is it absolutely required that you have both the python and java code in the same container? One very complex container design will likely be harder to work with than two more basic containers that communicate with a simple REST API.  Alternatively, is there some reason that you have to use groovy/python when either language is likely capable of handling the job both parts of the work you are doing?"},{"owner":{"account_id":11479799,"reputation":13,"user_id":8414255,"display_name":"Akshay Wahi"},"score":0,"creation_date":1550572085,"post_id":54650006,"comment_id":96308314,"body_markdown":"It could have been 2 different containers for python and groovy but then it would have required some complex synchronization. Thus I am avoiding that.\n\nI agree with you that both languages are capable of handling both parts of the work, but I am just involved in moving this code to aws after dockerization as this was coded by someone else.","body":"It could have been 2 different containers for python and groovy but then it would have required some complex synchronization. Thus I am avoiding that.  I agree with you that both languages are capable of handling both parts of the work, but I am just involved in moving this code to aws after dockerization as this was coded by someone else."}],"answers":[{"tags":[],"owner":{"account_id":8618867,"reputation":11924,"user_id":6454622,"display_name":"Exadra37"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1549980950,"creation_date":1549980950,"answer_id":54652054,"question_id":54650006,"body_markdown":"You don&#39;t need to use `sh -c command`, just `RUN command` and we should not use a RUN instruction per command, intead we should group them in only one `RUN`, because each `RUN` is a separated layer in the docker image, thus increasing the final size of it.\r\n\r\n# Possible Solution\r\n\r\nInspired in [this Dockerfile](https://github.com/approov/python-flask_approov-shapes-demo-server/blob/master/docker/Dockerfile) I use for a Python demo:\r\n\r\n```Dockerfile\r\nFROM python:3.6.5\r\n\r\nARG CONTAINER_USER=&quot;python&quot;\r\nARG CONTAINER_UID=&quot;1000&quot;\r\n\r\n# Will not prompt for questions\r\nENV DEBIAN_FRONTEND=noninteractive \\\r\n    CONTAINER_USER=python \\\r\n    CONTAINER_UID=1000\r\n\r\nRUN apt update &amp;&amp; \\\r\n    apt -y upgrade &amp;&amp; \\\r\n    apt -y install \\\r\n      ca-certificates \\\r\n      locales \\\r\n      tzdata \\\r\n      inotify-tools \\\r\n      python3-pip \\\r\n      groovy &amp;&amp; \\\r\n\r\n    locale-gen en_GB.UTF-8 &amp;&amp; \\\r\n    dpkg-reconfigure locales &amp;&amp; \\\r\n\r\n    #https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers\r\n    printf &quot;fs.inotify.max_user_watches=524288\\n&quot; &gt;&gt; /etc/sysctl.conf &amp;&amp; \\\r\n\r\n    useradd -m -u ${CONTAINER_UID} -s /bin/bash ${CONTAINER_USER}\r\n\r\nENV LANG=en_GB.UTF-8 \\\r\n    LANGUAGE=en_GB:en \\\r\n    LC_ALL=en_GB.UTF-8\r\n\r\nUSER ${CONTAINER_USER}\r\n\r\nRUN pip3 install \\\r\n      fSQLAlchemy==1.2.7 \\\r\n      pandas==0.23.0 \\\r\n      pymongo \\\r\n      openpyxl==2.5.3 \\\r\n      joblib \\\r\n      impyla &amp;&amp; \\\r\n    pip3 uninstall bson\r\n\r\n\r\n# pip install will put the executables under ~/.local/bin\r\nENV PATH=/home/&quot;${CONTAINER_USER}&quot;/.local/bin:$PATH\r\n\r\nWORKDIR /home/${CONTAINER_USER}/workspace\r\n\r\nADD . /home/${CONTAINER_USER}/dataeng\r\n\r\nEXPOSE 5000\r\n\r\nENTRYPOINT [&quot;python&quot;, &quot;/home/python/dateng/_aws/trigger.py&quot;]\r\n```\r\n\r\n&gt; **NOTE**: I am behind a corporate firewall, therefore I cannot test building this image as it is now, because I would need to add stuff to it that you don&#39;t need. Let me know if something doesn&#39;t work for you and I will work it out from home.","title":"create a dockerfile to run python and groovy app","body":"<p>You don't need to use <code>sh -c command</code>, just <code>RUN command</code> and we should not use a RUN instruction per command, intead we should group them in only one <code>RUN</code>, because each <code>RUN</code> is a separated layer in the docker image, thus increasing the final size of it.</p>\n\n<h1>Possible Solution</h1>\n\n<p>Inspired in <a href=\"https://github.com/approov/python-flask_approov-shapes-demo-server/blob/master/docker/Dockerfile\" rel=\"nofollow noreferrer\">this Dockerfile</a> I use for a Python demo:</p>\n\n<pre><code>FROM python:3.6.5\n\nARG CONTAINER_USER=\"python\"\nARG CONTAINER_UID=\"1000\"\n\n# Will not prompt for questions\nENV DEBIAN_FRONTEND=noninteractive \\\n    CONTAINER_USER=python \\\n    CONTAINER_UID=1000\n\nRUN apt update &amp;&amp; \\\n    apt -y upgrade &amp;&amp; \\\n    apt -y install \\\n      ca-certificates \\\n      locales \\\n      tzdata \\\n      inotify-tools \\\n      python3-pip \\\n      groovy &amp;&amp; \\\n\n    locale-gen en_GB.UTF-8 &amp;&amp; \\\n    dpkg-reconfigure locales &amp;&amp; \\\n\n    #https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers\n    printf \"fs.inotify.max_user_watches=524288\\n\" &gt;&gt; /etc/sysctl.conf &amp;&amp; \\\n\n    useradd -m -u ${CONTAINER_UID} -s /bin/bash ${CONTAINER_USER}\n\nENV LANG=en_GB.UTF-8 \\\n    LANGUAGE=en_GB:en \\\n    LC_ALL=en_GB.UTF-8\n\nUSER ${CONTAINER_USER}\n\nRUN pip3 install \\\n      fSQLAlchemy==1.2.7 \\\n      pandas==0.23.0 \\\n      pymongo \\\n      openpyxl==2.5.3 \\\n      joblib \\\n      impyla &amp;&amp; \\\n    pip3 uninstall bson\n\n\n# pip install will put the executables under ~/.local/bin\nENV PATH=/home/\"${CONTAINER_USER}\"/.local/bin:$PATH\n\nWORKDIR /home/${CONTAINER_USER}/workspace\n\nADD . /home/${CONTAINER_USER}/dataeng\n\nEXPOSE 5000\n\nENTRYPOINT [\"python\", \"/home/python/dateng/_aws/trigger.py\"]\n</code></pre>\n\n<blockquote>\n  <p><strong>NOTE</strong>: I am behind a corporate firewall, therefore I cannot test building this image as it is now, because I would need to add stuff to it that you don't need. Let me know if something doesn't work for you and I will work it out from home.</p>\n</blockquote>\n"}],"owner":{"account_id":11479799,"reputation":13,"user_id":8414255,"display_name":"Akshay Wahi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1873,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":54652054,"answer_count":1,"score":-3,"last_activity_date":1639327597,"creation_date":1549974040,"question_id":54650006,"body_markdown":"I am working on a project which is using both python and groovy to scrape data from websites and do some engineering on that data.\r\n\r\nI want to create a dockerfile which should have a python(3.6.5) as base image and java8 and groovy should be installed on it to run my code.\r\n\r\nthe dockerfile I have right now is working for all the python codes(image : FROM python:3.6.5) but failing for groovy script and I cant find a solution which I can use to install groovy in dockerfile.\r\n\r\nis there anyone who has a dockerfile solving this part problem ?\r\n\r\n##########docker file below#############\r\n\r\n    FROM python:3.6.5\r\n    \r\n    RUN sh -c &quot;ls /usr/local/lib&quot;\r\n    \r\n    \r\n    RUN sh -c &quot;cat /etc/*-release&quot;\r\n    \r\n    # Contents of requirements.txt each on a separate line for incremental builds\r\n    RUN pip install SQLAlchemy==1.2.7\r\n    RUN pip install pandas==0.23.0\r\n    RUN pip uninstall bson\r\n    RUN pip install pymongo\r\n    RUN pip install openpyxl==2.5.3\r\n    RUN pip install joblib\r\n    RUN pip install impyla\r\n    \r\n    \r\n    RUN sh -c &quot;mkdir -p /src/dateng&quot;\r\n    \r\n    ADD . /src/dateng\r\n    \r\n    RUN sh -c &quot;ls /src/dateng&quot;\r\n    \r\n    WORKDIR /src/dateng/\r\n    \r\n    ENTRYPOINT [&quot;python&quot;, &quot;/src/dateng/_aws/trigger.py&quot;]","title":"create a dockerfile to run python and groovy app","body":"<p>I am working on a project which is using both python and groovy to scrape data from websites and do some engineering on that data.</p>\n<p>I want to create a dockerfile which should have a python(3.6.5) as base image and java8 and groovy should be installed on it to run my code.</p>\n<p>the dockerfile I have right now is working for all the python codes(image : FROM python:3.6.5) but failing for groovy script and I cant find a solution which I can use to install groovy in dockerfile.</p>\n<p>is there anyone who has a dockerfile solving this part problem ?</p>\n<p>##########docker file below#############</p>\n<pre><code>FROM python:3.6.5\n\nRUN sh -c &quot;ls /usr/local/lib&quot;\n\n\nRUN sh -c &quot;cat /etc/*-release&quot;\n\n# Contents of requirements.txt each on a separate line for incremental builds\nRUN pip install SQLAlchemy==1.2.7\nRUN pip install pandas==0.23.0\nRUN pip uninstall bson\nRUN pip install pymongo\nRUN pip install openpyxl==2.5.3\nRUN pip install joblib\nRUN pip install impyla\n\n\nRUN sh -c &quot;mkdir -p /src/dateng&quot;\n\nADD . /src/dateng\n\nRUN sh -c &quot;ls /src/dateng&quot;\n\nWORKDIR /src/dateng/\n\nENTRYPOINT [&quot;python&quot;, &quot;/src/dateng/_aws/trigger.py&quot;]\n</code></pre>\n"},{"tags":["java","date","date-format"],"comments":[{"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"score":2,"creation_date":1547029684,"post_id":54107928,"comment_id":95048012,"body_markdown":"not possible if the input is not constrained, it can be anything!  if the input is constrained, then just try all the possible format","body":"not possible if the input is not constrained, it can be anything!  if the input is constrained, then just try all the possible format"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1547029989,"post_id":54107928,"comment_id":95048202,"body_markdown":"`&quot;dd/MM/yyyy&quot;` can&#39;t parse `&quot;13/9/2018&quot;`. What&#39;s the logic for choosing a pattern?","body":"<code>&quot;dd&#47;MM&#47;yyyy&quot;</code> can&#39;t parse <code>&quot;13&#47;9&#47;2018&quot;</code>. What&#39;s the logic for choosing a pattern?"},{"owner":{"account_id":7678058,"reputation":2129,"user_id":5818250,"display_name":"Jabongg"},"score":0,"creation_date":1547030358,"post_id":54107928,"comment_id":95048439,"body_markdown":"@ernest_k why it can&#39;t parse? I think, it will parse because it&#39;s not in MM/dd/yyyy.","body":"@ernest_k why it can&#39;t parse? I think, it will parse because it&#39;s not in MM/dd/yyyy."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1547030405,"post_id":54107928,"comment_id":95048471,"body_markdown":"The problem is the missing leading zero, it expects 2 digits for a month but gets only one with `&quot;13/9/2018&quot;` (= `&quot;dd/M/yyyy&quot;`).","body":"The problem is the missing leading zero, it expects 2 digits for a month but gets only one with <code>&quot;13&#47;9&#47;2018&quot;</code> (= <code>&quot;dd&#47;M&#47;yyyy&quot;</code>)."},{"owner":{"account_id":7678058,"reputation":2129,"user_id":5818250,"display_name":"Jabongg"},"score":0,"creation_date":1547030553,"post_id":54107928,"comment_id":95048568,"body_markdown":"Aaah! how can i not see this! thanks @deHaar.","body":"Aaah! how can i not see this! thanks @deHaar."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1547030638,"post_id":54107928,"comment_id":95048631,"body_markdown":"No problem, little things like this often fall through the cracks ;-)","body":"No problem, little things like this often fall through the cracks ;-)"},{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1547040849,"post_id":54107928,"comment_id":95054845,"body_markdown":"Its a pretty difficult problem, its so complex, but actually, really good post, thanks for it. from my point of view, you can to write some modules per each date format, then by patterns check if every part contains valid value (like day 1-31, etc.), and you can try parse with try-catch or any other exception control mechanism, and also you can double check parts from result if its containing expected values- in sense of getDate - day part from string, etc..","body":"Its a pretty difficult problem, its so complex, but actually, really good post, thanks for it. from my point of view, you can to write some modules per each date format, then by patterns check if every part contains valid value (like day 1-31, etc.), and you can try parse with try-catch or any other exception control mechanism, and also you can double check parts from result if its containing expected values- in sense of getDate - day part from string, etc.."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1639327385,"creation_date":1547030866,"answer_id":54108374,"question_id":54107928,"body_markdown":"I don’t think such a method is readily available. You will need to code it yourself.\r\n\r\nThat’s possible, though it may not always be possible to give a unique answer.\r\n\r\nRequire exactly three numbers in the string and the same separators before, between and after the numbers in each string. Pick up the first, the second and the third number from each string. Find the minimum and the maximum of each. I am taking your example:\r\n\r\n&gt; [&quot;01/02/2018&quot;,&quot;13/9/2018&quot;,&quot;8/11/2016&quot;]\r\n\r\n - First number has min 1 and max 13\r\n - Second number har min 2 and max 11\r\n - Third number has min 2016 and max 2018\r\n\r\nThe year is easy, that’s the number where min and max are within, say, 1900 through 2100. Choose limits that fit your situation. Month is the number that does not go above 12. In your example the second number is the month since the first has a max of 13. If none of the non-year numbers goes above 12, you can’t decide and will need to throw an exception or the like. Once you’ve decided year and month, the number you have not used, is the day of the month. Check that it is within 1 through 31 for validation.\r\n\r\nFor both day and month: If there is an occurrence with a leading zero (`01` and `02` in your example) *and* all occurrences have two digits, require two digits in the format, using `dd` or `MM`. Otherwise use `d` or `M` (which will print enough digits for the number and will parse both one digit and two digit input). Because in your example month is given as `9` (one digit, in the second string) and `8` as day, use `d` and `M`.\r\n\r\nFinal result: `d/M/uuuu` or `d/M/yyyy`.","title":"Date format prediction by using sample of dates as input","body":"<p>I don’t think such a method is readily available. You will need to code it yourself.</p>\n<p>That’s possible, though it may not always be possible to give a unique answer.</p>\n<p>Require exactly three numbers in the string and the same separators before, between and after the numbers in each string. Pick up the first, the second and the third number from each string. Find the minimum and the maximum of each. I am taking your example:</p>\n<blockquote>\n<p>[&quot;01/02/2018&quot;,&quot;13/9/2018&quot;,&quot;8/11/2016&quot;]</p>\n</blockquote>\n<ul>\n<li>First number has min 1 and max 13</li>\n<li>Second number har min 2 and max 11</li>\n<li>Third number has min 2016 and max 2018</li>\n</ul>\n<p>The year is easy, that’s the number where min and max are within, say, 1900 through 2100. Choose limits that fit your situation. Month is the number that does not go above 12. In your example the second number is the month since the first has a max of 13. If none of the non-year numbers goes above 12, you can’t decide and will need to throw an exception or the like. Once you’ve decided year and month, the number you have not used, is the day of the month. Check that it is within 1 through 31 for validation.</p>\n<p>For both day and month: If there is an occurrence with a leading zero (<code>01</code> and <code>02</code> in your example) <em>and</em> all occurrences have two digits, require two digits in the format, using <code>dd</code> or <code>MM</code>. Otherwise use <code>d</code> or <code>M</code> (which will print enough digits for the number and will parse both one digit and two digit input). Because in your example month is given as <code>9</code> (one digit, in the second string) and <code>8</code> as day, use <code>d</code> and <code>M</code>.</p>\n<p>Final result: <code>d/M/uuuu</code> or <code>d/M/yyyy</code>.</p>\n"}],"owner":{"account_id":2854287,"reputation":69,"user_id":2450833,"accept_rate":20,"display_name":"user2450833"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54108374,"answer_count":1,"score":4,"last_activity_date":1639327385,"creation_date":1547029457,"question_id":54107928,"body_markdown":"looking for a method which takes a list of dates(of string type) as inputs and returns possible date formats.\r\n \r\n\r\n&gt; for example: input is [&quot;01/02/2018&quot;,&quot;13/09/2018&quot;,&quot;8/11/2016&quot;] then\r\n&gt; output should be &quot;dd/MM/yyyy&quot;.\r\n\r\nthis is one of the example. it should be able to return all supported date formats by java which best suits for the given input.\r\n\r\n","title":"Date format prediction by using sample of dates as input","body":"<p>looking for a method which takes a list of dates(of string type) as inputs and returns possible date formats.</p>\n\n<blockquote>\n  <p>for example: input is [\"01/02/2018\",\"13/09/2018\",\"8/11/2016\"] then\n  output should be \"dd/MM/yyyy\".</p>\n</blockquote>\n\n<p>this is one of the example. it should be able to return all supported date formats by java which best suits for the given input.</p>\n"},{"tags":["java","date","java-8","intervals","date-range"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1589830978,"post_id":61877660,"comment_id":109444572,"body_markdown":"And what is the issue, on what part are you stuck?","body":"And what is the issue, on what part are you stuck?"},{"owner":{"account_id":14917382,"reputation":27,"user_id":10770779,"display_name":"Carlyson Viana"},"score":0,"creation_date":1589831177,"post_id":61877660,"comment_id":109444691,"body_markdown":"I don&#39;t get why I got downvote. Btw I am still learning dateutils on Java 8. I know getting days between two dates, but I didn&#39;t figure out concomitant days between two intervals.","body":"I don&#39;t get why I got downvote. Btw I am still learning dateutils on Java 8. I know getting days between two dates, but I didn&#39;t figure out concomitant days between two intervals."},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1589831410,"post_id":61877660,"comment_id":109444808,"body_markdown":"I downvote because I see no effort from you since you haven&#39;t provided any code, as the question stands it is basically a request that we should write the code for you. Please visit the Help Center and read [how to ask](https://stackoverflow.com/help/how-to-ask)","body":"I downvote because I see no effort from you since you haven&#39;t provided any code, as the question stands it is basically a request that we should write the code for you. Please visit the Help Center and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1589835598,"creation_date":1589831715,"answer_id":61877934,"question_id":61877660,"body_markdown":"You can use Java-8 [ChronoUnit.DAYS.between][1] as shown below:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);\r\n    \t\tString strStartDate = &quot;2020/02/01&quot;;\r\n    \t\tString strEndDate = &quot;2020/03/10&quot;;\r\n    \t\tLocalDate startDate = LocalDate.parse(strStartDate, format);\r\n    \t\tLocalDate endDate = LocalDate.parse(strEndDate, format);\r\n    \t\tlong days = ChronoUnit.DAYS.between(startDate, endDate);\r\n    \t\tSystem.out.println(days);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    38\r\n**[Update]** \r\n\r\nYou can compare dates to find out if the date intervals are concomitant.\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);\r\n    \r\n    \t\tString strIntervalOneDate1 = &quot;2019/10/20&quot;;\r\n    \t\tString strIntervalOneDate2 = &quot;2020/03/10&quot;;\r\n    \t\tLocalDate intervalOneDate1 = LocalDate.parse(strIntervalOneDate1, format);\r\n    \t\tLocalDate intervalOneDate2 = LocalDate.parse(strIntervalOneDate2, format);\r\n    \t\tLocalDate earlier1 = intervalOneDate1.compareTo(intervalOneDate2) &lt;= 0 ? intervalOneDate1 : intervalOneDate2;\r\n    \t\tLocalDate later1 = intervalOneDate1.compareTo(intervalOneDate2) &gt; 0 ? intervalOneDate1 : intervalOneDate2;\r\n    \r\n    \t\tString strIntervalTwoDate1 = &quot;2020/02/01&quot;;\r\n    \t\tString strIntervalTwoDate2 = &quot;2020/05/18&quot;;\r\n    \t\tLocalDate intervalTwoDate1 = LocalDate.parse(strIntervalTwoDate1, format);\r\n    \t\tLocalDate intervalTwoDate2 = LocalDate.parse(strIntervalTwoDate2, format);\r\n    \t\tLocalDate earlier2 = intervalTwoDate1.compareTo(intervalTwoDate2) &lt;= 0 ? intervalTwoDate1 : intervalTwoDate2;\r\n    \t\tLocalDate later2 = intervalTwoDate1.compareTo(intervalTwoDate2) &gt; 0 ? intervalTwoDate1 : intervalTwoDate2;\r\n    \r\n    \t\tlong days = 0;\r\n    \t\tif (later1.compareTo(earlier2) &gt;= 0) {\r\n    \t\t\tdays = ChronoUnit.DAYS.between(earlier2, later1);\r\n    \t\t} else if (later2.compareTo(earlier1) &gt;= 0) {\r\n    \t\t\tdays = ChronoUnit.DAYS.between(earlier1, later2);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;The given dates are non-concomitant&quot;);\r\n    \t\t}\r\n            System.out.println(days);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    38\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\r\n","title":"How to get mutual (concomitant) days between two dates interval on Java 8?","body":"<p>You can use Java-8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">ChronoUnit.DAYS.between</a> as shown below:</p>\n\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter format = DateTimeFormatter.ofPattern(\"yyyy/MM/dd\");\n        String strStartDate = \"2020/02/01\";\n        String strEndDate = \"2020/03/10\";\n        LocalDate startDate = LocalDate.parse(strStartDate, format);\n        LocalDate endDate = LocalDate.parse(strEndDate, format);\n        long days = ChronoUnit.DAYS.between(startDate, endDate);\n        System.out.println(days);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>38\n</code></pre>\n\n<p><strong>[Update]</strong> </p>\n\n<p>You can compare dates to find out if the date intervals are concomitant.</p>\n\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter format = DateTimeFormatter.ofPattern(\"yyyy/MM/dd\");\n\n        String strIntervalOneDate1 = \"2019/10/20\";\n        String strIntervalOneDate2 = \"2020/03/10\";\n        LocalDate intervalOneDate1 = LocalDate.parse(strIntervalOneDate1, format);\n        LocalDate intervalOneDate2 = LocalDate.parse(strIntervalOneDate2, format);\n        LocalDate earlier1 = intervalOneDate1.compareTo(intervalOneDate2) &lt;= 0 ? intervalOneDate1 : intervalOneDate2;\n        LocalDate later1 = intervalOneDate1.compareTo(intervalOneDate2) &gt; 0 ? intervalOneDate1 : intervalOneDate2;\n\n        String strIntervalTwoDate1 = \"2020/02/01\";\n        String strIntervalTwoDate2 = \"2020/05/18\";\n        LocalDate intervalTwoDate1 = LocalDate.parse(strIntervalTwoDate1, format);\n        LocalDate intervalTwoDate2 = LocalDate.parse(strIntervalTwoDate2, format);\n        LocalDate earlier2 = intervalTwoDate1.compareTo(intervalTwoDate2) &lt;= 0 ? intervalTwoDate1 : intervalTwoDate2;\n        LocalDate later2 = intervalTwoDate1.compareTo(intervalTwoDate2) &gt; 0 ? intervalTwoDate1 : intervalTwoDate2;\n\n        long days = 0;\n        if (later1.compareTo(earlier2) &gt;= 0) {\n            days = ChronoUnit.DAYS.between(earlier2, later1);\n        } else if (later2.compareTo(earlier1) &gt;= 0) {\n            days = ChronoUnit.DAYS.between(earlier1, later2);\n        } else {\n            System.out.println(\"The given dates are non-concomitant\");\n        }\n        System.out.println(days);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>38\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639327367,"creation_date":1589833602,"answer_id":61878413,"question_id":61877660,"body_markdown":"First, represent your dates as `LocalDate` objects.\r\n\r\nTake the later of the two start dates. 2020-02-01 is later than 2019-20-20, so take 2020-02-01. `LocalDate` has methods `isBefore` and `isAfter` for determinig which is later. Also take the earlier of the two end dates. In your example 2020-03-10. Now if the dates you have taken are in the wrong order — the later start date is after the earlier end date — then there is no overlap between your two intervals and the answer is 0. Otherwise find the number of days between the two dates in the way shown in the other answer.","title":"How to get mutual (concomitant) days between two dates interval on Java 8?","body":"<p>First, represent your dates as <code>LocalDate</code> objects.</p>\n<p>Take the later of the two start dates. 2020-02-01 is later than 2019-20-20, so take 2020-02-01. <code>LocalDate</code> has methods <code>isBefore</code> and <code>isAfter</code> for determinig which is later. Also take the earlier of the two end dates. In your example 2020-03-10. Now if the dates you have taken are in the wrong order — the later start date is after the earlier end date — then there is no overlap between your two intervals and the answer is 0. Otherwise find the number of days between the two dates in the way shown in the other answer.</p>\n"},{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589837741,"creation_date":1589833657,"answer_id":61878430,"question_id":61877660,"body_markdown":"As far as I can tell, if you ensure b1 is after or the same as a1, you only need to check 2 cases: when b2 &lt;= a2 and when b2 &gt; a2\r\n\r\n```\r\npublic static int checkDates(LocalDate a1, LocalDate a2, LocalDate b1, LocalDate b2)\r\n{\r\n\t//Make sure a starts before b\r\n\tif (a1.isAfter(b1)) {\r\n\t\treturn checkDates(b1, b2, a1, a2);\r\n\t}\r\n\r\n    // At this point b1 &gt;= a1\r\n\r\n    // No overlap?\r\n    if (b1.isAfter(a2)) return 0;\r\n\r\n    // b2 &lt;= a2\r\n    // a1--------a2\r\n    //   b1----b2\r\n    if (a2.isAfter(b2) || a2.isEqual(b2)) {\r\n        return (int)ChronoUnit.DAYS.between(b2, b1);\r\n    }\r\n    \r\n    // b2 &gt; a2\r\n    // a1--------a2\r\n    //   b1---------b2\r\n    return (int)ChronoUnit.DAYS.between(a2, b1);\r\n}\r\n```\r\n\r\nTODO: Add some checks to ensure `a1` is before `a2` and `b1` is before `b2`.","title":"How to get mutual (concomitant) days between two dates interval on Java 8?","body":"<p>As far as I can tell, if you ensure b1 is after or the same as a1, you only need to check 2 cases: when b2 &lt;= a2 and when b2 > a2</p>\n\n<pre><code>public static int checkDates(LocalDate a1, LocalDate a2, LocalDate b1, LocalDate b2)\n{\n    //Make sure a starts before b\n    if (a1.isAfter(b1)) {\n        return checkDates(b1, b2, a1, a2);\n    }\n\n    // At this point b1 &gt;= a1\n\n    // No overlap?\n    if (b1.isAfter(a2)) return 0;\n\n    // b2 &lt;= a2\n    // a1--------a2\n    //   b1----b2\n    if (a2.isAfter(b2) || a2.isEqual(b2)) {\n        return (int)ChronoUnit.DAYS.between(b2, b1);\n    }\n\n    // b2 &gt; a2\n    // a1--------a2\n    //   b1---------b2\n    return (int)ChronoUnit.DAYS.between(a2, b1);\n}\n</code></pre>\n\n<p>TODO: Add some checks to ensure <code>a1</code> is before <code>a2</code> and <code>b1</code> is before <code>b2</code>.</p>\n"}],"owner":{"account_id":14917382,"reputation":27,"user_id":10770779,"display_name":"Carlyson Viana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1589848319,"answer_count":3,"score":0,"last_activity_date":1639327367,"creation_date":1589830715,"question_id":61877660,"body_markdown":"Im trying to find a way I can get concomitant days between two specific dates intervals. What I mean is:\r\n\r\n- I have 2 intervals e.g. from **2019/10/20** to **2020/03/10** and from **2020/02/01** to **2020/05/18**.\r\n- Which method to get number of days between those?\r\n- It should return **~38 days** from **2020/02/01** to **2020/03/10**.","title":"How to get mutual (concomitant) days between two dates interval on Java 8?","body":"<p>Im trying to find a way I can get concomitant days between two specific dates intervals. What I mean is:</p>\n\n<ul>\n<li>I have 2 intervals e.g. from <strong>2019/10/20</strong> to <strong>2020/03/10</strong> and from <strong>2020/02/01</strong> to <strong>2020/05/18</strong>.</li>\n<li>Which method to get number of days between those?</li>\n<li>It should return <strong>~38 days</strong> from <strong>2020/02/01</strong> to <strong>2020/03/10</strong>.</li>\n</ul>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1553153939,"post_id":55275628,"comment_id":97281527,"body_markdown":"Is your question, *Count possible ranges between two 0s? If there is a negative number between the 0s, don&#39;t count it.*?","body":"Is your question, <i>Count possible ranges between two 0s? If there is a negative number between the 0s, don&#39;t count it.</i>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1553153955,"post_id":55275628,"comment_id":97281536,"body_markdown":"Do you want to count how many pairs of (0, 0) there are with a negative value between them? So since there’s a negative value in -1,-2,-1,-2,-1 and one in -1, the count of such pairs is 2?","body":"Do you want to count how many pairs of (0, 0) there are with a negative value between them? So since there’s a negative value in -1,-2,-1,-2,-1 and one in -1, the count of such pairs is 2?"},{"owner":{"account_id":11549216,"reputation":47,"user_id":11169740,"display_name":"sneijder10"},"score":1,"creation_date":1553154199,"post_id":55275628,"comment_id":97281623,"body_markdown":"@OleV.V..Yes.What I want to do is exactly this.","body":"@OleV.V..Yes.What I want to do is exactly this."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1553154437,"post_id":55275628,"comment_id":97281718,"body_markdown":"Would (0, -1, 0, -1, 0) be a possible input, and would the count be 2 too in this case? What I am asking is whether the same 0 can be part of two pairs of (0, 0). Also, would (-1, 0, 1, 0, -1) be possible and result in a count of 0 since the negative values are not between 0 and 0? Please clarify *in the question* ([edit](https://stackoverflow.com/posts/55275628/edit) it) so we have all information in one place, thank you.","body":"Would (0, -1, 0, -1, 0) be a possible input, and would the count be 2 too in this case? What I am asking is whether the same 0 can be part of two pairs of (0, 0). Also, would (-1, 0, 1, 0, -1) be possible and result in a count of 0 since the negative values are not between 0 and 0? Please clarify <i>in the question</i> (<a href=\"https://stackoverflow.com/posts/55275628/edit\">edit</a> it) so we have all information in one place, thank you."},{"owner":{"account_id":11549216,"reputation":47,"user_id":11169740,"display_name":"sneijder10"},"score":0,"creation_date":1553154658,"post_id":55275628,"comment_id":97281816,"body_markdown":"starting point is always 0.So, (-1, 0, 1, 0, -1) is not valid.","body":"starting point is always 0.So, (-1, 0, 1, 0, -1) is not valid."},{"owner":{"account_id":11549216,"reputation":47,"user_id":11169740,"display_name":"sneijder10"},"score":0,"creation_date":1553154701,"post_id":55275628,"comment_id":97281832,"body_markdown":"Would (0, -1, 0, -1, 0) be a possible input, and would the count be 2 too in this case? Yes.Answer is 2","body":"Would (0, -1, 0, -1, 0) be a possible input, and would the count be 2 too in this case? Yes.Answer is 2"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639327360,"creation_date":1553155103,"answer_id":55275928,"question_id":55275628,"body_markdown":"Don’t use a stream pipeline for that. Streams are well suited for independent processing and filtering of elements. They are not suited for processing that depends on the presence or absence of other elements in the stream (here 0 earlier and later).\r\n\r\nUse a loop. Before entering the loop, check that the first element in the list is 0 as required, and throw an exception if not (so your example list from the question won’t pass this test). Declare some variables that we need during looping:\r\n\r\n       int negativeCount = 0;\r\n       boolean hasSeenNegativeSinceLastZero = false;\r\n\r\nIn your loop, each time you see a negative number, set `hasSeenNegativeSinceLastZero` to true. Each time you see a 0, if `hasSeenNegativeSinceLastZero` is true, then add 1 to the count and set `hasSeenNegativeSinceLastZero` to false.","title":"Java 8 Stream Api Filter specific range","body":"<p>Don’t use a stream pipeline for that. Streams are well suited for independent processing and filtering of elements. They are not suited for processing that depends on the presence or absence of other elements in the stream (here 0 earlier and later).</p>\n<p>Use a loop. Before entering the loop, check that the first element in the list is 0 as required, and throw an exception if not (so your example list from the question won’t pass this test). Declare some variables that we need during looping:</p>\n<pre><code>   int negativeCount = 0;\n   boolean hasSeenNegativeSinceLastZero = false;\n</code></pre>\n<p>In your loop, each time you see a negative number, set <code>hasSeenNegativeSinceLastZero</code> to true. Each time you see a 0, if <code>hasSeenNegativeSinceLastZero</code> is true, then add 1 to the count and set <code>hasSeenNegativeSinceLastZero</code> to false.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553155600,"creation_date":1553155600,"answer_id":55276032,"question_id":55275628,"body_markdown":"Here&#39;s a stream-based solution. I doubt it&#39;s more readable than a simple for loop.\r\n\r\n\tint[] zeroIndices = IntStream.range(0, counting.length)\r\n\t\t\t\t\t.filter(i -&gt; 0 == counting[i])\r\n\t\t\t\t\t.toArray();\r\n\t\r\n\tlong count = IntStream.range(0, zeroIndices.length)\r\n\t\t\t.mapToObj(i -&gt; new int[] { i, zeroIndices[i] })\r\n\t\t\t.skip(1)\r\n\t\t\t.filter(arr -&gt; Arrays.stream(Arrays.copyOfRange(counting, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tzeroIndices[arr[0] - 1], \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarr[1]))\r\n\t\t\t\t\t\t\t\t .anyMatch(i -&gt; i &lt; 0))\r\n\t\t\t.count();","title":"Java 8 Stream Api Filter specific range","body":"<p>Here's a stream-based solution. I doubt it's more readable than a simple for loop.</p>\n\n<pre><code>int[] zeroIndices = IntStream.range(0, counting.length)\n                .filter(i -&gt; 0 == counting[i])\n                .toArray();\n\nlong count = IntStream.range(0, zeroIndices.length)\n        .mapToObj(i -&gt; new int[] { i, zeroIndices[i] })\n        .skip(1)\n        .filter(arr -&gt; Arrays.stream(Arrays.copyOfRange(counting, \n                                                        zeroIndices[arr[0] - 1], \n                                                        arr[1]))\n                             .anyMatch(i -&gt; i &lt; 0))\n        .count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2048586,"reputation":840,"user_id":1828105,"display_name":"Hasasn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553156217,"creation_date":1553156217,"answer_id":55276185,"question_id":55275628,"body_markdown":"I personally don&#39;t think stream solution will be readable, you should use a simple looping, but you can mix a bit. Here what I think it should be like\r\n\r\n    int[] counting = new int[] {1, 0, -1, -2, -1, -2, -1, 0, 1, 2, 1, 0, -1, 0, 1, 2};\r\n\r\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\r\n    for (var i = 0; i &lt; counting.length; i++) {\r\n      if (counting[i] == 0) {\r\n        indices.add(i);\r\n      }\r\n    }\r\n\r\n    if (indices.size() % 2 == 0) {\r\n      System.out.println(&quot;You got &quot; + indices.size() / 2 + &quot; pairs&quot;);\r\n    } else {\r\n      System.err.println(\r\n          &quot;You don&#39;t have complete pairs, you have only &quot; + indices.size() / 2 + &quot; pairs&quot;);\r\n      System.exit(-1);\r\n    }\r\n\r\n    for (var i = 0; i &lt; indices.size(); i = i + 2) {\r\n      System.out.println(&quot;-----Pair----&quot;);\r\n      stream(copyOfRange(counting, indices.get(i), indices.get(i + 1)))\r\n          .filter(v -&gt; v &lt; 0)\r\n          .forEach(System.out::println);\r\n    }\r\n\r\nIt will print each pair output like this\r\n\r\n    You got 2 pairs\r\n    -----Pair----\r\n    -1\r\n    -2\r\n    -1\r\n    -2\r\n    -1\r\n    -----Pair----\r\n    -1","title":"Java 8 Stream Api Filter specific range","body":"<p>I personally don't think stream solution will be readable, you should use a simple looping, but you can mix a bit. Here what I think it should be like</p>\n\n<pre><code>int[] counting = new int[] {1, 0, -1, -2, -1, -2, -1, 0, 1, 2, 1, 0, -1, 0, 1, 2};\n\nList&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\nfor (var i = 0; i &lt; counting.length; i++) {\n  if (counting[i] == 0) {\n    indices.add(i);\n  }\n}\n\nif (indices.size() % 2 == 0) {\n  System.out.println(\"You got \" + indices.size() / 2 + \" pairs\");\n} else {\n  System.err.println(\n      \"You don't have complete pairs, you have only \" + indices.size() / 2 + \" pairs\");\n  System.exit(-1);\n}\n\nfor (var i = 0; i &lt; indices.size(); i = i + 2) {\n  System.out.println(\"-----Pair----\");\n  stream(copyOfRange(counting, indices.get(i), indices.get(i + 1)))\n      .filter(v -&gt; v &lt; 0)\n      .forEach(System.out::println);\n}\n</code></pre>\n\n<p>It will print each pair output like this</p>\n\n<pre><code>You got 2 pairs\n-----Pair----\n-1\n-2\n-1\n-2\n-1\n-----Pair----\n-1\n</code></pre>\n"}],"owner":{"account_id":11549216,"reputation":47,"user_id":11169740,"display_name":"sneijder10"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2932,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55275928,"answer_count":3,"score":0,"last_activity_date":1639327360,"creation_date":1553153692,"question_id":55275628,"body_markdown":"I have a list like this: \r\n\r\n    int[] counting = new int[]{1,0,-1,-2,-1,-2,-1,0,1,2,1,0,-1,0,1,2};\r\n\r\nI want to filter if there is a negative value between 0 and 0 numbers.\r\n\r\nFor above list, result should return 2 because between 0 and 0 there is a negative number and it also valid for third range.\r\n\r\n    List&lt;Integer&gt; result = Arrays.stream(counting).filter(x -&gt;  ).collect(Collectors.toList());\r\n\r\nHow can i collect range values? After that how can I check there is a negative number or not?\r\n\r\nIn other words I want to count how many pairs of (0, 0) there are with a negative value between them. So since there’s a negative value in -1,-2,-1,-2,-1 and one in -1, the count of such pairs is 2.","title":"Java 8 Stream Api Filter specific range","body":"<p>I have a list like this: </p>\n\n<pre><code>int[] counting = new int[]{1,0,-1,-2,-1,-2,-1,0,1,2,1,0,-1,0,1,2};\n</code></pre>\n\n<p>I want to filter if there is a negative value between 0 and 0 numbers.</p>\n\n<p>For above list, result should return 2 because between 0 and 0 there is a negative number and it also valid for third range.</p>\n\n<pre><code>List&lt;Integer&gt; result = Arrays.stream(counting).filter(x -&gt;  ).collect(Collectors.toList());\n</code></pre>\n\n<p>How can i collect range values? After that how can I check there is a negative number or not?</p>\n\n<p>In other words I want to count how many pairs of (0, 0) there are with a negative value between them. So since there’s a negative value in -1,-2,-1,-2,-1 and one in -1, the count of such pairs is 2.</p>\n"},{"tags":["java","algorithm","list","object","math"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1577296534,"post_id":59477187,"comment_id":105138121,"body_markdown":"There are also [CS.SE posts containing size+circular](https://cs.stackexchange.com/search?q=size+circular) and [length+circular](https://cs.stackexchange.com/search?q=length+circular).","body":"There are also <a href=\"https://cs.stackexchange.com/search?q=size+circular\">CS.SE posts containing size+circular</a> and <a href=\"https://cs.stackexchange.com/search?q=length+circular\">length+circular</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1577350642,"post_id":59477187,"comment_id":105147184,"body_markdown":"Thanks, @greybeard, for the pointers. [This question](https://cs.stackexchange.com/questions/108541/circular-doubly-linked-list-find-length-with-single-pointer) actually seems to answer the question asked here.","body":"Thanks, @greybeard, for the pointers. <a href=\"https://cs.stackexchange.com/questions/108541/circular-doubly-linked-list-find-length-with-single-pointer\">This question</a> actually seems to answer the question asked here."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639327343,"creation_date":1577269103,"answer_id":59477376,"question_id":59477187,"body_markdown":"Record the state of the light in the current wagon. Then in a loop where `candidateWagonCount` goes from 1 to infinity (or to `Integer.MAX_VALUE`) see whether there are `candidateWagonCount` wagons in the train. This check proceeds as follows:\r\n\r\n 1. Set light off.\r\n 2. Move `candidateWagonCount` wagons forward. If the light is on, we know that there cannot be `candidateWagonCount` wagons in the train. Move `candidateWagonCount` back to your original position and go to the next iteration.\r\n 3. If the light is off, we *may* have come back to our starting point. Now move `candidateWagonCount` wagons back to where we know we started. Set light on. Again move `candidateWagonCount` wagons forward. If the light is now on, we know that we have returned to the starting point. Hence there must be `candidateWagonCount` wagons in the train. Set the light to its original state (on or off) and exit. Otherwise move `candidateWagonCount` wagons back to your starting position.\r\n\r\n\r\nAs I see it, the difficulty is not knowing where the start or end is, because there isn’t any since the train is circular. You may just as well decide to consider the position where you start the start of the train.\r\n\r\nThe challenge to me was how we could know when we had made a full circle. If we just move in one direction through the train, even when we recognize a pattern of lights that we had left earlier, we don’t know whether we have come *back* or we have come to *a new series* of wagons that happens to have the same pattern. The solution is to take *the same* steps both after leaving a certain light off and after leaving it on.","title":"How could we count the elements inside a doubly linked list (circular list), where we do not know the initial state nor where is head / tail‽","body":"<p>Record the state of the light in the current wagon. Then in a loop where <code>candidateWagonCount</code> goes from 1 to infinity (or to <code>Integer.MAX_VALUE</code>) see whether there are <code>candidateWagonCount</code> wagons in the train. This check proceeds as follows:</p>\n<ol>\n<li>Set light off.</li>\n<li>Move <code>candidateWagonCount</code> wagons forward. If the light is on, we know that there cannot be <code>candidateWagonCount</code> wagons in the train. Move <code>candidateWagonCount</code> back to your original position and go to the next iteration.</li>\n<li>If the light is off, we <em>may</em> have come back to our starting point. Now move <code>candidateWagonCount</code> wagons back to where we know we started. Set light on. Again move <code>candidateWagonCount</code> wagons forward. If the light is now on, we know that we have returned to the starting point. Hence there must be <code>candidateWagonCount</code> wagons in the train. Set the light to its original state (on or off) and exit. Otherwise move <code>candidateWagonCount</code> wagons back to your starting position.</li>\n</ol>\n<p>As I see it, the difficulty is not knowing where the start or end is, because there isn’t any since the train is circular. You may just as well decide to consider the position where you start the start of the train.</p>\n<p>The challenge to me was how we could know when we had made a full circle. If we just move in one direction through the train, even when we recognize a pattern of lights that we had left earlier, we don’t know whether we have come <em>back</em> or we have come to <em>a new series</em> of wagons that happens to have the same pattern. The solution is to take <em>the same</em> steps both after leaving a certain light off and after leaving it on.</p>\n"},{"tags":[],"owner":{"account_id":15029755,"reputation":139,"user_id":10848266,"display_name":"Chamika"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1639312529,"creation_date":1577272674,"answer_id":59477873,"question_id":59477187,"body_markdown":"[Ole V.V.][1] has provided an excellent solution for this problem and I implemented that algorithm in Java:\r\n\r\n    public int howManyWagons(Train train){\r\n    \r\n      boolean end = false;\r\n      int count = 1;\r\n      \r\n      while(!end){ \r\n      \r\n        //save the state of the first wagon\r\n         boolean isFirstWgonLightOn = train.isLightOnInCurrentWagon();\r\n        \r\n        //light off in the first wagon\r\n        if(train.isLightOnInCurrentWagon()){\r\n          train.switchLight();\r\n        }\r\n        \r\n        //go n forward\r\n        goFoward(train,count);\r\n        \r\n        if(train.isLightOnInCurrentWagon()){\r\n          goBack(train,count);\r\n          count++;\r\n        }else{\r\n        \r\n           train.switchLight();\r\n           goBack(train,count);\r\n           \r\n           if(train.isLightOnInCurrentWagon()){\r\n             end=true;\r\n           }else{\r\n           \r\n             //we need to reset the ligt state\r\n             goFoward(train,count);\r\n             train.switchLight();\r\n             goBack(train,count);\r\n             count++;\r\n             \r\n           }\r\n        }\r\n        \r\n        //we need to reset to the initial state\r\n        if(isFirstWgonLightOn != train.isLightOnInCurrentWagon()){\r\n         train.switchLight();\r\n        }\r\n       \r\n      } \r\n       return count;\r\n      \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59477376/12892553","title":"How could we count the elements inside a doubly linked list (circular list), where we do not know the initial state nor where is head / tail‽","body":"<p><a href=\"https://stackoverflow.com/a/59477376/12892553\">Ole V.V.</a> has provided an excellent solution for this problem and I implemented that algorithm in Java:</p>\n<pre><code>public int howManyWagons(Train train){\n\n  boolean end = false;\n  int count = 1;\n  \n  while(!end){ \n  \n    //save the state of the first wagon\n     boolean isFirstWgonLightOn = train.isLightOnInCurrentWagon();\n    \n    //light off in the first wagon\n    if(train.isLightOnInCurrentWagon()){\n      train.switchLight();\n    }\n    \n    //go n forward\n    goFoward(train,count);\n    \n    if(train.isLightOnInCurrentWagon()){\n      goBack(train,count);\n      count++;\n    }else{\n    \n       train.switchLight();\n       goBack(train,count);\n       \n       if(train.isLightOnInCurrentWagon()){\n         end=true;\n       }else{\n       \n         //we need to reset the ligt state\n         goFoward(train,count);\n         train.switchLight();\n         goBack(train,count);\n         count++;\n         \n       }\n    }\n    \n    //we need to reset to the initial state\n    if(isFirstWgonLightOn != train.isLightOnInCurrentWagon()){\n     train.switchLight();\n    }\n   \n  } \n   return count;\n  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577306958,"creation_date":1577274075,"answer_id":59478075,"question_id":59477187,"body_markdown":"Start two pointers, p1 and p2, at the same wagon initially.  Leave p1 at that wagon and move p2 through the train one wagon at a time, counting the steps.  Stop when p2 returns to the same wagon that p1 is still pointing at.\r\n\r\nWhen p2 moves, if the wagon light is different from the light at p1, then p2 is at a different wagon.  If the lights are the same, then flip the light at p2.  If the light at p1 is unchanged then p2 is at a different wagon.  If the light at p1 changes when you flip p2 then the two pointers are back pointing at the same wagon.  Check how far p2 has moved to see how long the train is.\r\n\r\nETA (thanks Mad Physicist): Declare two wagons instead of two pointers.  Leave w1 (=p1) fixed and move w2 (=p2).  Assuming they start at different points on the train move w2 until flipping w2&#39;s light shows it is at the same wagon as w1.  Then follow the same idea as above.\r\n\r\nCounting how far w2 moved will let you jump start counting the length of the train -- those wagons are known not to be w1.\r\n","title":"How could we count the elements inside a doubly linked list (circular list), where we do not know the initial state nor where is head / tail‽","body":"<p>Start two pointers, p1 and p2, at the same wagon initially.  Leave p1 at that wagon and move p2 through the train one wagon at a time, counting the steps.  Stop when p2 returns to the same wagon that p1 is still pointing at.</p>\n\n<p>When p2 moves, if the wagon light is different from the light at p1, then p2 is at a different wagon.  If the lights are the same, then flip the light at p2.  If the light at p1 is unchanged then p2 is at a different wagon.  If the light at p1 changes when you flip p2 then the two pointers are back pointing at the same wagon.  Check how far p2 has moved to see how long the train is.</p>\n\n<p>ETA (thanks Mad Physicist): Declare two wagons instead of two pointers.  Leave w1 (=p1) fixed and move w2 (=p2).  Assuming they start at different points on the train move w2 until flipping w2's light shows it is at the same wagon as w1.  Then follow the same idea as above.</p>\n\n<p>Counting how far w2 moved will let you jump start counting the length of the train -- those wagons are known not to be w1.</p>\n"}],"owner":{"account_id":6674058,"reputation":2084,"user_id":5149345,"accept_rate":32,"display_name":"Yone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59477873,"answer_count":3,"score":2,"last_activity_date":1639327343,"creation_date":1577267604,"question_id":59477187,"body_markdown":"I am doing the following programming exercise: [How many Wagons Are in the Train?][1]. The statement is:\r\n\r\n&gt; You are in a Train that is permanentely moving in a circle.The Train\r\n&gt; is looped: The head is connected with the tail and you can go from on\r\n&gt; to another directely.\r\n&gt; \r\n&gt; Every Wagon has a light. The initial status of the lights is not\r\n&gt; known. You can switch it on or off if you wish.\r\n&gt; \r\n&gt; Count the Number of Wagons!\r\n&gt; \r\n&gt; You can move between wagons as you wish.\r\n&gt; \r\n&gt; Contraints. After you count the Wagons, the lights in the train should\r\n&gt; be in the initial state. But at the end you dont need to be in the\r\n&gt; same Wagon where you started.\r\n&gt; \r\n&gt; Use the implemented Train methods:\r\n&gt; \r\n&gt; public boolean isLightOnInCurrentWagon()\r\n&gt; \r\n&gt; public void switchLight()\r\n&gt; \r\n&gt; public void goToNextWagon()\r\n&gt; \r\n&gt; public void goToPreviousWagon()\r\n&gt; \r\n&gt; Train notation &quot;1 : 0 : 0&quot; means that you have a train with three\r\n&gt; Wagon. The light is on in the first Wagon and off in the other two.\r\n\r\nFirst I thought to keep three lists of Integers, original, switched and final. Original would store lights as they were at start. Switched would store original&#39;s complement (after switching each wagon&#39;s light). Final would have the lights as original (after switching back to the original state).\r\n\r\n    For example for train: 1:0:1\r\n    \r\n    Original: {1,0,1}\r\n    Switched: {0,1,0}\r\n    Final: {1,0,1}\r\n\r\nHowever the difficulty is, how we know where is the head / start of then train?\r\n\r\nIn addition I attempted some code for the base case, where the train has just one wagon:\r\n\r\n    import java.util.*;\r\n    public class Solution {\r\n        public int howManyWagons/*&#128642;❔&#129300;*/(Train train){\r\n          int haveWeEnded = 0, prev = 0, first = 0, next = 0;\r\n          if(train.isLightOnInCurrentWagon()){\r\n            first = 1;\r\n          }\r\n          System.out.println(&quot;first: &quot;+first);\r\n          train.switchLight();\r\n          train.goToNextWagon();\r\n          if(train.isLightOnInCurrentWagon()){\r\n            next = 1;\r\n          }\r\n          System.out.println(&quot;next: &quot;+next);\r\n          train.switchLight();\r\n          train.goToPreviousWagon();\r\n          if(first != next){\r\n            train.switchLight();\r\n            train.goToPreviousWagon();\r\n            if(train.isLightOnInCurrentWagon()){\r\n              prev = 1;\r\n            }\r\n            System.out.println(&quot;prev: &quot;+prev);\r\n            train.switchLight();\r\n          }\r\n          return prev == next &amp;&amp; first != prev &amp;&amp; first != next ? 1 : 0;\r\n        }\r\n    }\r\n\r\n\r\nBeing the test cases (taken from the challenge):\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.Random;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    class SolutionTest extends Train {\r\n    \r\n        Solution sol = new Solution();\r\n        Random rand = new Random();\r\n    \r\n        @Test\r\n        void howManyWagonsCornerCases() {\r\n        \r\n            String repr;\r\n            Train train;\r\n            \r\n            repr = &quot;1&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(1, sol.howManyWagons(train), repr);\r\n            \r\n            repr = &quot;1 : 0 : 1 : 0 : 0&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(5, sol.howManyWagons(train), repr);\r\n            \r\n            repr = &quot;1 : 0 : 0&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(3, sol.howManyWagons(train), repr);\r\n            \r\n            repr = &quot;1 : 1 : 0 : 0 : 1 : 1&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(6, sol.howManyWagons(train), repr);\r\n            \r\n            repr = &quot;0 : 0 : 0 : 0 : 0&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(5, sol.howManyWagons(train), repr);\r\n    \r\n            repr = &quot;1 : 1 : 1 : 1 : 1&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(5, sol.howManyWagons(train), repr);\r\n    \r\n            \r\n            repr = &quot;1 : 0 : 1 : 0 : 0 : 1 : 1 : 0 : 0&quot;;\r\n            train = Train.fromRepr(repr);\r\n            assertEquals(9, sol.howManyWagons(train), repr);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nSo when there is just one wagon, it does count it. However how could we make this general? Because of if we have 5 wagons (second test), as: &quot;1 : 0 : 1 : 0 : 0&quot;, the code outputs:\r\n\r\n    first: 1\r\n    next: 0\r\n    prev: 0\r\n\r\nBecause of it detects the same patterns as if it were just one wagon, s then it returns 1 instead of 5.\r\n\r\nPlus, I have read:\r\n\r\n - https://stackoverflow.com/questions/36829227/finding-length-of-doubly-linked-list\r\n - https://stackoverflow.com/questions/55487427/circular-linked-list-count-number-of-nodes\r\n - https://www.geeksforgeeks.org/count-nodes-circular-linked-list/\r\n - https://stackoverflow.com/questions/1442008/count-number-of-nodes-in-a-linked-list-that-may-be-circular\r\n\r\nHow could we count the elements inside a doubly linked list (circular list), where we do not know the initial state nor where is head / tail‽\r\n\r\nEDIT: Using @Chamika answer I tried to explain how is the thought process which creates the algorithm\r\n\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n      public int howManyWagons/*&#128642;❔&#129300;*/(Train train){\r\n        boolean end = false;\r\n        int count = 1;\r\n        while(!end){\r\n          //&#128161; We save the light of the initial wagon to be able to reset it later\r\n          boolean isFirstWagonLightOn = train.isLightOnInCurrentWagon();\r\n          //&#128371;️ We turn off the light of the initial wagon, to mark ⛳ where we started this iteration\r\n          if(train.isLightOnInCurrentWagon()){\r\n            train.switchLight();\r\n          }\r\n          goForward(train,count);\r\n          //If the light is on &#128262;, we know we are not in the initial wagon, we go to the initial wagon and count it\r\n          if(train.isLightOnInCurrentWagon()){\r\n            goBack(train,count);\r\n            count++;\r\n          //When the light is off &#128371;️, we may have go back to the initial position\r\n          }else{\r\n            //We switch the light &#128306;,go back\r\n            train.switchLight();\r\n            goBack(train,count);\r\n            //If after going back the wagon light is on &#128262;, it means we stand inside the end wagon\r\n            if(train.isLightOnInCurrentWagon()){\r\n              end=true;\r\n            }else{\r\n              //If light is off &#128371;️, we have not been in the end position yet\r\n              goForward(train,count);\r\n              train.switchLight();\r\n              goBack(train,count);\r\n              count++;\r\n            }\r\n          }\r\n          //Reset end position light\r\n          if(isFirstWagonLightOn != train.isLightOnInCurrentWagon()){\r\n            train.switchLight();\r\n          }\r\n        }\r\n      return count;\r\n      }\r\n      \r\n      public static void goForward(Train train,int count){\r\n        while(count &gt; 0){\r\n          train.goToNextWagon();\r\n          count--;\r\n        }\r\n      }\r\n      public static void goBack(Train train,int count){\r\n        while(count &gt; 0){\r\n          train.goToPreviousWagon();\r\n          count--;\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: https://www.codewars.com/kata/how-many-wagons-are-in-the-train/train/java","title":"How could we count the elements inside a doubly linked list (circular list), where we do not know the initial state nor where is head / tail‽","body":"<p>I am doing the following programming exercise: <a href=\"https://www.codewars.com/kata/how-many-wagons-are-in-the-train/train/java\" rel=\"nofollow noreferrer\">How many Wagons Are in the Train?</a>. The statement is:</p>\n\n<blockquote>\n  <p>You are in a Train that is permanentely moving in a circle.The Train\n  is looped: The head is connected with the tail and you can go from on\n  to another directely.</p>\n  \n  <p>Every Wagon has a light. The initial status of the lights is not\n  known. You can switch it on or off if you wish.</p>\n  \n  <p>Count the Number of Wagons!</p>\n  \n  <p>You can move between wagons as you wish.</p>\n  \n  <p>Contraints. After you count the Wagons, the lights in the train should\n  be in the initial state. But at the end you dont need to be in the\n  same Wagon where you started.</p>\n  \n  <p>Use the implemented Train methods:</p>\n  \n  <p>public boolean isLightOnInCurrentWagon()</p>\n  \n  <p>public void switchLight()</p>\n  \n  <p>public void goToNextWagon()</p>\n  \n  <p>public void goToPreviousWagon()</p>\n  \n  <p>Train notation \"1 : 0 : 0\" means that you have a train with three\n  Wagon. The light is on in the first Wagon and off in the other two.</p>\n</blockquote>\n\n<p>First I thought to keep three lists of Integers, original, switched and final. Original would store lights as they were at start. Switched would store original's complement (after switching each wagon's light). Final would have the lights as original (after switching back to the original state).</p>\n\n<pre><code>For example for train: 1:0:1\n\nOriginal: {1,0,1}\nSwitched: {0,1,0}\nFinal: {1,0,1}\n</code></pre>\n\n<p>However the difficulty is, how we know where is the head / start of then train?</p>\n\n<p>In addition I attempted some code for the base case, where the train has just one wagon:</p>\n\n<pre><code>import java.util.*;\npublic class Solution {\n    public int howManyWagons/*🚂❔🤔*/(Train train){\n      int haveWeEnded = 0, prev = 0, first = 0, next = 0;\n      if(train.isLightOnInCurrentWagon()){\n        first = 1;\n      }\n      System.out.println(\"first: \"+first);\n      train.switchLight();\n      train.goToNextWagon();\n      if(train.isLightOnInCurrentWagon()){\n        next = 1;\n      }\n      System.out.println(\"next: \"+next);\n      train.switchLight();\n      train.goToPreviousWagon();\n      if(first != next){\n        train.switchLight();\n        train.goToPreviousWagon();\n        if(train.isLightOnInCurrentWagon()){\n          prev = 1;\n        }\n        System.out.println(\"prev: \"+prev);\n        train.switchLight();\n      }\n      return prev == next &amp;&amp; first != prev &amp;&amp; first != next ? 1 : 0;\n    }\n}\n</code></pre>\n\n<p>Being the test cases (taken from the challenge):</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.Random;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass SolutionTest extends Train {\n\n    Solution sol = new Solution();\n    Random rand = new Random();\n\n    @Test\n    void howManyWagonsCornerCases() {\n\n        String repr;\n        Train train;\n\n        repr = \"1\";\n        train = Train.fromRepr(repr);\n        assertEquals(1, sol.howManyWagons(train), repr);\n\n        repr = \"1 : 0 : 1 : 0 : 0\";\n        train = Train.fromRepr(repr);\n        assertEquals(5, sol.howManyWagons(train), repr);\n\n        repr = \"1 : 0 : 0\";\n        train = Train.fromRepr(repr);\n        assertEquals(3, sol.howManyWagons(train), repr);\n\n        repr = \"1 : 1 : 0 : 0 : 1 : 1\";\n        train = Train.fromRepr(repr);\n        assertEquals(6, sol.howManyWagons(train), repr);\n\n        repr = \"0 : 0 : 0 : 0 : 0\";\n        train = Train.fromRepr(repr);\n        assertEquals(5, sol.howManyWagons(train), repr);\n\n        repr = \"1 : 1 : 1 : 1 : 1\";\n        train = Train.fromRepr(repr);\n        assertEquals(5, sol.howManyWagons(train), repr);\n\n\n        repr = \"1 : 0 : 1 : 0 : 0 : 1 : 1 : 0 : 0\";\n        train = Train.fromRepr(repr);\n        assertEquals(9, sol.howManyWagons(train), repr);\n    }\n\n\n}\n</code></pre>\n\n<p>So when there is just one wagon, it does count it. However how could we make this general? Because of if we have 5 wagons (second test), as: \"1 : 0 : 1 : 0 : 0\", the code outputs:</p>\n\n<pre><code>first: 1\nnext: 0\nprev: 0\n</code></pre>\n\n<p>Because of it detects the same patterns as if it were just one wagon, s then it returns 1 instead of 5.</p>\n\n<p>Plus, I have read:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36829227/finding-length-of-doubly-linked-list\">Finding Length of Doubly Linked List</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55487427/circular-linked-list-count-number-of-nodes\">Circular Linked List - Count Number of Nodes</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/count-nodes-circular-linked-list/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/count-nodes-circular-linked-list/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1442008/count-number-of-nodes-in-a-linked-list-that-may-be-circular\">Count number of nodes in a linked list that may be circular</a></li>\n</ul>\n\n<p>How could we count the elements inside a doubly linked list (circular list), where we do not know the initial state nor where is head / tail‽</p>\n\n<p>EDIT: Using @Chamika answer I tried to explain how is the thought process which creates the algorithm</p>\n\n<pre><code>import java.util.*;\n\npublic class Solution {\n  public int howManyWagons/*🚂❔🤔*/(Train train){\n    boolean end = false;\n    int count = 1;\n    while(!end){\n      //💡 We save the light of the initial wagon to be able to reset it later\n      boolean isFirstWagonLightOn = train.isLightOnInCurrentWagon();\n      //🕳️ We turn off the light of the initial wagon, to mark ⛳ where we started this iteration\n      if(train.isLightOnInCurrentWagon()){\n        train.switchLight();\n      }\n      goForward(train,count);\n      //If the light is on 🔆, we know we are not in the initial wagon, we go to the initial wagon and count it\n      if(train.isLightOnInCurrentWagon()){\n        goBack(train,count);\n        count++;\n      //When the light is off 🕳️, we may have go back to the initial position\n      }else{\n        //We switch the light 🔲,go back\n        train.switchLight();\n        goBack(train,count);\n        //If after going back the wagon light is on 🔆, it means we stand inside the end wagon\n        if(train.isLightOnInCurrentWagon()){\n          end=true;\n        }else{\n          //If light is off 🕳️, we have not been in the end position yet\n          goForward(train,count);\n          train.switchLight();\n          goBack(train,count);\n          count++;\n        }\n      }\n      //Reset end position light\n      if(isFirstWagonLightOn != train.isLightOnInCurrentWagon()){\n        train.switchLight();\n      }\n    }\n  return count;\n  }\n\n  public static void goForward(Train train,int count){\n    while(count &gt; 0){\n      train.goToNextWagon();\n      count--;\n    }\n  }\n  public static void goBack(Train train,int count){\n    while(count &gt; 0){\n      train.goToPreviousWagon();\n      count--;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","sorting","pseudocode","median"],"comments":[{"owner":{"account_id":6159820,"reputation":66,"user_id":4801789,"display_name":"Razor"},"score":0,"creation_date":1504185614,"post_id":45982435,"comment_id":78924476,"body_markdown":"if the user inputs &#39;n&#39; first, you can just ignore every input before n/2 or (n/2)+1","body":"if the user inputs &#39;n&#39; first, you can just ignore every input before n/2 or (n/2)+1"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":4,"creation_date":1504185619,"post_id":45982435,"comment_id":78924483,"body_markdown":"(pseudo tries showing your effort to solve the problem are welcome too...)","body":"(pseudo tries showing your effort to solve the problem are welcome too...)"},{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":1,"creation_date":1504185675,"post_id":45982435,"comment_id":78924539,"body_markdown":"@LeventeSzab&#243; only if the numbers are sorted","body":"@LeventeSzab&#243; only if the numbers are sorted"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1504185676,"post_id":45982435,"comment_id":78924541,"body_markdown":"Well, what have you tried?","body":"Well, what have you tried?"},{"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"score":1,"creation_date":1504185825,"post_id":45982435,"comment_id":78924645,"body_markdown":"@LeventeSzab&#243; Why is that? The inputs aren&#39;t sorted so, what if the supposed median is one of those n/2 or [ (n/2) + 1 ] values?","body":"@LeventeSzab&#243; Why is that? The inputs aren&#39;t sorted so, what if the supposed median is one of those n/2 or [ (n/2) + 1 ] values?"},{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1504185825,"post_id":45982435,"comment_id":78924646,"body_markdown":"Sort the numbers and pick the middle one","body":"Sort the numbers and pick the middle one"},{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":1,"creation_date":1504185880,"post_id":45982435,"comment_id":78924685,"body_markdown":"@JackFlamp dont forget that if there is an even number of numbers then the median is the mean of the two middle ones","body":"@JackFlamp dont forget that if there is an even number of numbers then the median is the mean of the two middle ones"},{"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"score":0,"creation_date":1504185932,"post_id":45982435,"comment_id":78924722,"body_markdown":"@fge  I&#39;ve tried to find the max. and min. of the values and remove them and keep doing that until i reach to the final 1 or 2 values. But the problem is in remembering(storing) the other values. Like, i don&#39;t what value of n the user is going to input so i wouldn&#39;t know how many variables to create","body":"@fge  I&#39;ve tried to find the max. and min. of the values and remove them and keep doing that until i reach to the final 1 or 2 values. But the problem is in remembering(storing) the other values. Like, i don&#39;t what value of n the user is going to input so i wouldn&#39;t know how many variables to create"},{"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"score":0,"creation_date":1504186029,"post_id":45982435,"comment_id":78924796,"body_markdown":"@JackFlamp Is there a way to sort without using arrays? (like i said in the previous comment, i face difficulty in storing the values for further calculations)","body":"@JackFlamp Is there a way to sort without using arrays? (like i said in the previous comment, i face difficulty in storing the values for further calculations)"},{"owner":{"account_id":6159820,"reputation":66,"user_id":4801789,"display_name":"Razor"},"score":0,"creation_date":1504186562,"post_id":45982435,"comment_id":78925173,"body_markdown":"This is really complicated, because without storing the data you can only iterate once, and I don&#39;t know of any algorithm that could sort in only one iteration, that&#39;s why I assumed that they are going to be sorted.","body":"This is really complicated, because without storing the data you can only iterate once, and I don&#39;t know of any algorithm that could sort in only one iteration, that&#39;s why I assumed that they are going to be sorted."},{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1504187311,"post_id":45982435,"comment_id":78925709,"body_markdown":"This is a weird task. The main method receives the values in an array. So you can&#39;t possibly avoid the array, I don&#39;t know how to solve it without an explicit storage.","body":"This is a weird task. The main method receives the values in an array. So you can&#39;t possibly avoid the array, I don&#39;t know how to solve it without an explicit storage."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1504187959,"post_id":45982435,"comment_id":78926207,"body_markdown":"There are other data structures than arrays that will hold your numbers, like a linked list or a tree. A binary search tree may be pretty well suited.","body":"There are other data structures than arrays that will hold your numbers, like a linked list or a tree. A binary search tree may be pretty well suited."},{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":1,"creation_date":1504188120,"post_id":45982435,"comment_id":78926324,"body_markdown":"Without using arrays?  Sure!  Use a `List` (or any other `Collection`).","body":"Without using arrays?  Sure!  Use a <code>List</code> (or any other <code>Collection</code>)."},{"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"score":0,"creation_date":1504188288,"post_id":45982435,"comment_id":78926442,"body_markdown":"@AJNeufeld Nah, i&#39;m pretty sure i&#39;m not supposed to use that. :/","body":"@AJNeufeld Nah, i&#39;m pretty sure i&#39;m not supposed to use that. :/"},{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1504188351,"post_id":45982435,"comment_id":78926484,"body_markdown":"@Eonm how does the program receive the numbers? in a main method array or from a stream or a file or what?","body":"@Eonm how does the program receive the numbers? in a main method array or from a stream or a file or what?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1504188593,"post_id":45982435,"comment_id":78926671,"body_markdown":"C language version of the question (with answer): [Find mean,median without using arrays](https://stackoverflow.com/questions/27090961/find-mean-median-without-using-arrays). It’s a good idea to search before posting a question.","body":"C language version of the question (with answer): <a href=\"https://stackoverflow.com/questions/27090961/find-mean-median-without-using-arrays\">Find mean,median without using arrays</a>. It’s a good idea to search before posting a question."},{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1504188623,"post_id":45982435,"comment_id":78926692,"body_markdown":"If the numbers come in as a `stream`, then this is easy!  If N is even: `stream.sorted().skip(N/2-1).limit(2).average().getAsDouble()`.  (The N is odd case is even simpler)","body":"If the numbers come in as a <code>stream</code>, then this is easy!  If N is even: <code>stream.sorted().skip(N&#47;2-1).limit(2).average().getAsDouble()</code>&zwnj;&#8203;.  (The N is odd case is even simpler)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1504191555,"post_id":45982435,"comment_id":78928825,"body_markdown":"@AJNeufeld, I would expect `Stream.sorted()` to use an array in its implementation. The asker will have to decide whether this disqualifies you solution.","body":"@AJNeufeld, I would expect <code>Stream.sorted()</code> to use an array in its implementation. The asker will have to decide whether this disqualifies you solution."},{"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"score":0,"creation_date":1504192139,"post_id":45982435,"comment_id":78929245,"body_markdown":"I am not allowed to use beyond for, if and while loops (and basic operands).","body":"I am not allowed to use beyond for, if and while loops (and basic operands)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1504192543,"post_id":45982435,"comment_id":78929536,"body_markdown":"Are classes, objects and references OK? Otherwise I fail to see how it can be done.","body":"Are classes, objects and references OK? Otherwise I fail to see how it can be done."},{"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"score":0,"creation_date":1504194098,"post_id":45982435,"comment_id":78930629,"body_markdown":"@OleV.V. They&#39;re okay","body":"@OleV.V. They&#39;re okay"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504196095,"creation_date":1504187287,"answer_id":45983097,"question_id":45982435,"body_markdown":"You definitely need some storage for at least N/2 places. There&#39;s no way around that.\r\n\r\n**EDITED after OP&#39;s coment:**\r\n\r\nGet some good course on programming, esp. data structures. You can&#39;t rely on Stackoverflow for all your developer career ;-). Having said that, let&#39;s give you a starting point: I&#39;d use an ArrayList here:\r\n\r\n    int n = ...; // get N from the user;\r\n    List&lt;Double&gt; list = new ArrayList&lt;Double&gt;();\r\n    for (int i=0; i&lt;n; i++) {\r\n        double element = ...; // get element from the user;\r\n        list.add(element);\r\n    }\r\n    // Have the Java library sort the list for you\r\n    Collections.sort(list);\r\n    // now pick/compute the median from the sorted list\r\n    // I&#39;ll leave that up to you..\r\n","title":"How to find the median of n values Without using Arrays (or list or any other collection/ function that uses arrays/list)?","body":"<p>You definitely need some storage for at least N/2 places. There's no way around that.</p>\n\n<p><strong>EDITED after OP's coment:</strong></p>\n\n<p>Get some good course on programming, esp. data structures. You can't rely on Stackoverflow for all your developer career ;-). Having said that, let's give you a starting point: I'd use an ArrayList here:</p>\n\n<pre><code>int n = ...; // get N from the user;\nList&lt;Double&gt; list = new ArrayList&lt;Double&gt;();\nfor (int i=0; i&lt;n; i++) {\n    double element = ...; // get element from the user;\n    list.add(element);\n}\n// Have the Java library sort the list for you\nCollections.sort(list);\n// now pick/compute the median from the sorted list\n// I'll leave that up to you..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639327331,"creation_date":1504192320,"answer_id":45984803,"question_id":45982435,"body_markdown":"I suggest that you hand program a binary tree. You probably need to allow duplicates, to Java’s built in `TreeSet` won’t do. It may also be that you can find a suitable tree implementation somewhere on the net. The tree should be sorted. See [*Binary search tree* on Wikipedia](https://en.wikipedia.org/wiki/Binary_search_tree) for more inspiration.\r\n\r\nYour main program will read your numbers one by one and insert them into your tree. After that, it will query the tree for the middle element, or two middle elements if `N` is even.\r\n\r\nYou don’t need any array to implement your tree. For finding the ith element, the tree will perform an inorder traversal counting the elements encountered and returning the ith element.","title":"How to find the median of n values Without using Arrays (or list or any other collection/ function that uses arrays/list)?","body":"<p>I suggest that you hand program a binary tree. You probably need to allow duplicates, to Java’s built in <code>TreeSet</code> won’t do. It may also be that you can find a suitable tree implementation somewhere on the net. The tree should be sorted. See <a href=\"https://en.wikipedia.org/wiki/Binary_search_tree\" rel=\"nofollow noreferrer\"><em>Binary search tree</em> on Wikipedia</a> for more inspiration.</p>\n<p>Your main program will read your numbers one by one and insert them into your tree. After that, it will query the tree for the middle element, or two middle elements if <code>N</code> is even.</p>\n<p>You don’t need any array to implement your tree. For finding the ith element, the tree will perform an inorder traversal counting the elements encountered and returning the ith element.</p>\n"},{"tags":[],"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504192960,"creation_date":1504192416,"answer_id":45984840,"question_id":45982435,"body_markdown":"Without `Array`, without `List`, or any other `Collection`.\r\n\r\n\t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n\t\t\tSystem.out.print(&quot;Number of numbers: &quot;);\r\n\t\t\tint N = scanner.nextInt();\r\n\t\t\tSystem.out.printf(&quot;Enter the %d numbers: &quot;, N);\r\n\t\t\tdouble median = IntStream.range(0, N)\r\n\t\t\t\t\t.mapToDouble(i -&gt; scanner.nextDouble())\r\n\t\t\t\t\t.sorted()\r\n\t\t\t\t\t.skip((N-1)/2)\r\n\t\t\t\t\t.limit(2-N%2)\r\n\t\t\t\t\t.average()\r\n\t\t\t\t\t.getAsDouble();\r\n\t\t\tSystem.out.printf(&quot;The median is %f%n&quot;, median);\r\n\t\t}\r\n\r\n\r\n(Pay no attention to that man behind the `.sorted()` curtain.)\r\n","title":"How to find the median of n values Without using Arrays (or list or any other collection/ function that uses arrays/list)?","body":"<p>Without <code>Array</code>, without <code>List</code>, or any other <code>Collection</code>.</p>\n\n<pre><code>    try (Scanner scanner = new Scanner(System.in)) {\n        System.out.print(\"Number of numbers: \");\n        int N = scanner.nextInt();\n        System.out.printf(\"Enter the %d numbers: \", N);\n        double median = IntStream.range(0, N)\n                .mapToDouble(i -&gt; scanner.nextDouble())\n                .sorted()\n                .skip((N-1)/2)\n                .limit(2-N%2)\n                .average()\n                .getAsDouble();\n        System.out.printf(\"The median is %f%n\", median);\n    }\n</code></pre>\n\n<p>(Pay no attention to that man behind the <code>.sorted()</code> curtain.)</p>\n"}],"owner":{"account_id":11641873,"reputation":39,"user_id":8526012,"display_name":"Eonm"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2062,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1504200524,"answer_count":3,"score":-2,"last_activity_date":1639327331,"creation_date":1504185526,"question_id":45982435,"body_markdown":"Scenario:\r\n\r\nThe user is supposed to enter N (the number of values)\r\nfollowed by N values.\r\n\r\nHow can I output the median?","title":"How to find the median of n values Without using Arrays (or list or any other collection/ function that uses arrays/list)?","body":"<p>Scenario:</p>\n\n<p>The user is supposed to enter N (the number of values)\nfollowed by N values.</p>\n\n<p>How can I output the median?</p>\n"},{"tags":["java","calendar","monthcalendar"],"answers":[{"tags":[],"owner":{"account_id":7940884,"reputation":557,"user_id":5994950,"display_name":"dscham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567909010,"creation_date":1567909010,"answer_id":57838716,"question_id":57838658,"body_markdown":"Didn&#39;t test, but changing ``System.out.println()`` to ``System.out.print()`` shoudl do the trick. Like so:\r\n  \r\n    for (int i = 1; i &lt;= days[month]; i++) {\r\n       System.out.printf(&quot;|   %2d&quot;, i);\r\n\r\n       if (((i + d) % 7 == 0) || (i == days[month])) System.out.print(&quot;|&quot; + &quot;\\n&quot; + &quot;|     |     |     |     |     |     |     |&quot; + &quot;\\n&quot; + &quot;+-----+-----+-----+-----+-----+-----+-----+&quot;);\r\n    }","title":"Calendar formatting in java","body":"<p>Didn't test, but changing <code>System.out.println()</code> to <code>System.out.print()</code> shoudl do the trick. Like so:</p>\n\n<pre><code>for (int i = 1; i &lt;= days[month]; i++) {\n   System.out.printf(\"|   %2d\", i);\n\n   if (((i + d) % 7 == 0) || (i == days[month])) System.out.print(\"|\" + \"\\n\" + \"|     |     |     |     |     |     |     |\" + \"\\n\" + \"+-----+-----+-----+-----+-----+-----+-----+\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639327311,"creation_date":1567922422,"answer_id":57839556,"question_id":57838658,"body_markdown":"You’ve got a separate `for` loop for printing the empty cells before the first of the month. That works. What you need is a similar separate `for` loop that prints the empty cells after the last day of the month.\r\n\r\nFor this to work correctly after your main `for` loop, you first need to take the printing of the bottom horizontal line out of the loop. So the `if` statement inside you loop becomes just `if ((i + d) % 7 == 0)`.\r\n\r\nNow after your main `for` loop insert a new `for` loop for printing the appropriate number of empty cells. You need to find the day of week of the last day of the month (or maybe simpler, of the first day of the next month) to determine how many they are.\r\n\r\nFinally draw the bottom horizontal line using the same print statement as in the `if` statement. You may wrap this statement into a method so you can use it in both places.\r\n\r\nThere’s a special case of the last day of the month being a Sunday. In this case your simplified `if` statement will still draw the line, and you should not draw it again at the end. You’ll find a way to manage.\r\n","title":"Calendar formatting in java","body":"<p>You’ve got a separate <code>for</code> loop for printing the empty cells before the first of the month. That works. What you need is a similar separate <code>for</code> loop that prints the empty cells after the last day of the month.</p>\n<p>For this to work correctly after your main <code>for</code> loop, you first need to take the printing of the bottom horizontal line out of the loop. So the <code>if</code> statement inside you loop becomes just <code>if ((i + d) % 7 == 0)</code>.</p>\n<p>Now after your main <code>for</code> loop insert a new <code>for</code> loop for printing the appropriate number of empty cells. You need to find the day of week of the last day of the month (or maybe simpler, of the first day of the next month) to determine how many they are.</p>\n<p>Finally draw the bottom horizontal line using the same print statement as in the <code>if</code> statement. You may wrap this statement into a method so you can use it in both places.</p>\n<p>There’s a special case of the last day of the month being a Sunday. In this case your simplified <code>if</code> statement will still draw the line, and you should not draw it again at the end. You’ll find a way to manage.</p>\n"}],"owner":{"account_id":15611511,"reputation":41,"user_id":11262816,"display_name":"Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1639327311,"creation_date":1567907980,"question_id":57838658,"body_markdown":"I am trying to make a calendar and this part of the code is supposed to print the days.&lt;br/&gt;\r\nRight now, when the calendar is complete, the line &quot;|&quot; stop at the final date.  &lt;br/&gt;\r\nThe box next to the 31 should have a line.&lt;br/&gt;\r\nThis is what I have so far.\r\n\r\n   \r\n\r\n        \r\n\r\n        System.out.println(&quot;+-----------------------------------------+&quot;);\r\n        System.out.println(&quot;|               &quot; + months[month] + &quot; &quot; + year + &quot;             |&quot;);\r\n        System.out.println(&quot;+-----------------------------------------+&quot;);\r\n        System.out.println(&quot;| Sun | Mon | Tue | Wed | Thu | Fri | Sat |&quot;);\r\n        System.out.println(&quot;+-----------------------------------------+&quot;);\r\n\r\n        int d = day(month, 1, year);\r\n\r\n        // printing the days\r\n        for (int i = 0; i &lt; d; i++)\r\n        System.out.print(&quot;|     &quot;);\r\n        for (int i = 1; i &lt;= days[month]; i++) {\r\n           System.out.printf(&quot;|   %2d&quot;, i);\r\n           \r\n            if (((i + d) % 7 == 0) || (i == days[month])) System.out.println(&quot;|&quot; + &quot;\\n&quot; + &quot;|     |     |     |     |     |     |     |&quot; + &quot;\\n&quot; + &quot;+-----+-----+-----+-----+-----+-----+-----+&quot;);\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n    Expected Output (Bottom part)\r\n\r\n    +-----+-----+-----+-----+-----+-----+-----+\r\n    |  26 |  27 |  28 |  29 |  30 |  31 |     |\r\n    |     |     |     |     |     |     |     |\r\n    +-----+-----+-----+-----+-----+-----+-----+\r\n\r\n    Actual Output (Bottom part)\r\n \r\n\r\n    +-----+-----+-----+-----+-----+-----+-----+\r\n    |   26|   27|   28|   29|   30|   31|\r\n    |     |     |     |     |     |     |     |\r\n    +-----+-----+-----+-----+-----+-----+-----+","title":"Calendar formatting in java","body":"<p>I am trying to make a calendar and this part of the code is supposed to print the days.<br/>\nRight now, when the calendar is complete, the line \"|\" stop at the final date.  <br/>\nThe box next to the 31 should have a line.<br/>\nThis is what I have so far.</p>\n\n<pre><code>    System.out.println(\"+-----------------------------------------+\");\n    System.out.println(\"|               \" + months[month] + \" \" + year + \"             |\");\n    System.out.println(\"+-----------------------------------------+\");\n    System.out.println(\"| Sun | Mon | Tue | Wed | Thu | Fri | Sat |\");\n    System.out.println(\"+-----------------------------------------+\");\n\n    int d = day(month, 1, year);\n\n    // printing the days\n    for (int i = 0; i &lt; d; i++)\n    System.out.print(\"|     \");\n    for (int i = 1; i &lt;= days[month]; i++) {\n       System.out.printf(\"|   %2d\", i);\n\n        if (((i + d) % 7 == 0) || (i == days[month])) System.out.println(\"|\" + \"\\n\" + \"|     |     |     |     |     |     |     |\" + \"\\n\" + \"+-----+-----+-----+-----+-----+-----+-----+\");\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>Expected Output (Bottom part)\n\n+-----+-----+-----+-----+-----+-----+-----+\n|  26 |  27 |  28 |  29 |  30 |  31 |     |\n|     |     |     |     |     |     |     |\n+-----+-----+-----+-----+-----+-----+-----+\n\nActual Output (Bottom part)\n\n\n+-----+-----+-----+-----+-----+-----+-----+\n|   26|   27|   28|   29|   30|   31|\n|     |     |     |     |     |     |     |\n+-----+-----+-----+-----+-----+-----+-----+\n</code></pre>\n"},{"tags":["java","java-8","localtime"],"comments":[{"owner":{"account_id":7792477,"reputation":930,"user_id":5894938,"display_name":"Orin"},"score":0,"creation_date":1572983700,"post_id":58717886,"comment_id":103730026,"body_markdown":"Sounds like you need to pass in the list of already generated times, and regenerate the `randomTime` if the any of the `LocalTime`&#39;s in the list are within 30 minutes.","body":"Sounds like you need to pass in the list of already generated times, and regenerate the <code>randomTime</code> if the any of the <code>LocalTime</code>&#39;s in the list are within 30 minutes."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1572983728,"post_id":58717886,"comment_id":103730037,"body_markdown":"if you you want each (random) time to be beyond this range, then you have to memorize (at least/most) 9 of them... reconsider your algorithm, and plz define &quot;random&quot; more precisely (10 random time points within 10 hours...with this restriction, that&#39;s quite &quot;narrow&quot;, ..you can use it to your/time/space/complexity advantage ...looking at your problem/task, i think more of a &quot;random wheel&quot; ...and a &quot;moving&quot; cursor/&quot;slices&quot;..)","body":"if you you want each (random) time to be beyond this range, then you have to memorize (at least/most) 9 of them... reconsider your algorithm, and plz define &quot;random&quot; more precisely (10 random time points within 10 hours...with this restriction, that&#39;s quite &quot;narrow&quot;, ..you can use it to your/time/space/complexity advantage ...looking at your problem/task, i think more of a &quot;random wheel&quot; ...and a &quot;moving&quot; cursor/&quot;slices&quot;..)"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572984423,"creation_date":1572983365,"answer_id":58718460,"question_id":58717886,"body_markdown":"You can use `isBefore` in `LocalTime`, so check `startTime+30 Min is before result` and `result is before endTime-30 Min`\r\n\r\n    LocalTime result = LocalTime.ofSecondOfDay(randomTime);   \r\n\r\n    if (startTime.plusMinutes(30).isBefore(result) &amp;&amp; result.isBefore(endTime.minusMinutes(30))) {\r\n        return result;\r\n    }\r\n\r\nProbably you can use while loop to loop until it get the valid result\r\n\r\n    while(true) {\r\n\r\n      LocalTime result = LocalTime.ofSecondOfDay(ThreadLocalRandom. current().nextInt(startSeconds, endSeconds));   \r\n\r\n    if (startTime.plusMinutes(30).isBefore(result) &amp;&amp; result.isBefore(endTime.minusMinutes(30))) {\r\n        return result;\r\n        }\r\n      }","title":"Generate random time within a range of two times with condition","body":"<p>You can use <code>isBefore</code> in <code>LocalTime</code>, so check <code>startTime+30 Min is before result</code> and <code>result is before endTime-30 Min</code></p>\n\n<pre><code>LocalTime result = LocalTime.ofSecondOfDay(randomTime);   \n\nif (startTime.plusMinutes(30).isBefore(result) &amp;&amp; result.isBefore(endTime.minusMinutes(30))) {\n    return result;\n}\n</code></pre>\n\n<p>Probably you can use while loop to loop until it get the valid result</p>\n\n<pre><code>while(true) {\n\n  LocalTime result = LocalTime.ofSecondOfDay(ThreadLocalRandom. current().nextInt(startSeconds, endSeconds));   \n\nif (startTime.plusMinutes(30).isBefore(result) &amp;&amp; result.isBefore(endTime.minusMinutes(30))) {\n    return result;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1639327277,"creation_date":1572985198,"answer_id":58718866,"question_id":58717886,"body_markdown":"For a good random distribution: Out of the 7 hours between your start of 10:00 and your end of 17:00 (on a 24 hour clock, “military hours”), 4 hours 30 minutes are already reserved for your minimal gaps (9 gaps @ 30 minutes minimum). So subtract 4:30 from 7, this gives 2 hours 30 minutes of freedom.\r\n\r\n 1. Generate 10 random times within 2 hours 30 minutes, for example the way you already do.\r\n 2. Sort them chronologically.\r\n 2. Add 0 minutes to the first time, 30 minutes to the next, 1 hour to the third, etc. So you will be adding 4 hours 30 minutes to the last time. This will make sure that the gaps become at least 30 minutes each and that the last time is still within the 17:00 end time.","title":"Generate random time within a range of two times with condition","body":"<p>For a good random distribution: Out of the 7 hours between your start of 10:00 and your end of 17:00 (on a 24 hour clock, “military hours”), 4 hours 30 minutes are already reserved for your minimal gaps (9 gaps @ 30 minutes minimum). So subtract 4:30 from 7, this gives 2 hours 30 minutes of freedom.</p>\n<ol>\n<li>Generate 10 random times within 2 hours 30 minutes, for example the way you already do.</li>\n<li>Sort them chronologically.</li>\n<li>Add 0 minutes to the first time, 30 minutes to the next, 1 hour to the third, etc. So you will be adding 4 hours 30 minutes to the last time. This will make sure that the gaps become at least 30 minutes each and that the last time is still within the 17:00 end time.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7383225,"reputation":136,"user_id":7765404,"display_name":"saifulislampi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572985919,"creation_date":1572985919,"answer_id":58719033,"question_id":58717886,"body_markdown":"You can not generate truly random numbers with computers, you always have to have some strategy. And if your numbers are truly random then, they can not be aware of each other. So, you can not generate truly random time 30 minutes apart separately. You have to generate them all together. You have to find a minimum distance. And start time and end time must have enough distance to generate the number of random times you want. \r\n\r\nYou can generate any number of random times by the following method in any given range if they have enough distance - \r\n\r\n```java\r\n\r\npublic List&lt;LocalTime&gt; generateRandomTimes(LocalTime startTime, LocalTime endTime, int n) {\r\n\r\n    if (n &lt; 0) {\r\n        throw new RuntimeException(&quot;Must be greater than zero&quot;);\r\n    }\r\n\r\n    List&lt;LocalTime&gt; localTimeList = new ArrayList&lt;&gt;();\r\n\r\n    int startSeconds = startTime.toSecondOfDay();\r\n    int endSeconds = endTime.toSecondOfDay();\r\n\r\n    int minimumDistance = LocalTime.of(0, 30).toSecondOfDay();\r\n    int standardDistance = (endSeconds - startSeconds) / n;\r\n\r\n    if (standardDistance &lt;= minimumDistance) {\r\n        throw new RuntimeException(&quot;Not enough time distance to generate the required number of random times&quot;);\r\n    }\r\n\r\n    int randomRange = (endSeconds - (n * minimumDistance)) / n;\r\n\r\n    for (int i = 1; i &lt;= 10; i++) {\r\n        int nextInt = ThreadLocalRandom\r\n                .current()\r\n                .nextInt(startSeconds, startSeconds + randomRange);\r\n\r\n        LocalTime time = LocalTime.ofSecondOfDay(nextInt);\r\n        localTimeList.add(time);\r\n\r\n        startSeconds = nextInt + minimumDistance;\r\n    }\r\n\r\n    return localTimeList;\r\n}\r\n```","title":"Generate random time within a range of two times with condition","body":"<p>You can not generate truly random numbers with computers, you always have to have some strategy. And if your numbers are truly random then, they can not be aware of each other. So, you can not generate truly random time 30 minutes apart separately. You have to generate them all together. You have to find a minimum distance. And start time and end time must have enough distance to generate the number of random times you want. </p>\n\n<p>You can generate any number of random times by the following method in any given range if they have enough distance - </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic List&lt;LocalTime&gt; generateRandomTimes(LocalTime startTime, LocalTime endTime, int n) {\n\n    if (n &lt; 0) {\n        throw new RuntimeException(\"Must be greater than zero\");\n    }\n\n    List&lt;LocalTime&gt; localTimeList = new ArrayList&lt;&gt;();\n\n    int startSeconds = startTime.toSecondOfDay();\n    int endSeconds = endTime.toSecondOfDay();\n\n    int minimumDistance = LocalTime.of(0, 30).toSecondOfDay();\n    int standardDistance = (endSeconds - startSeconds) / n;\n\n    if (standardDistance &lt;= minimumDistance) {\n        throw new RuntimeException(\"Not enough time distance to generate the required number of random times\");\n    }\n\n    int randomRange = (endSeconds - (n * minimumDistance)) / n;\n\n    for (int i = 1; i &lt;= 10; i++) {\n        int nextInt = ThreadLocalRandom\n                .current()\n                .nextInt(startSeconds, startSeconds + randomRange);\n\n        LocalTime time = LocalTime.ofSecondOfDay(nextInt);\n        localTimeList.add(time);\n\n        startSeconds = nextInt + minimumDistance;\n    }\n\n    return localTimeList;\n}\n</code></pre>\n"}],"owner":{"account_id":17039900,"reputation":53,"user_id":12328057,"display_name":"Victor Lopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58718866,"answer_count":3,"score":4,"last_activity_date":1639327277,"creation_date":1572980699,"question_id":58717886,"body_markdown":"I&#39;m trying to generate 10 random times within a range of two times, and there is a condition that the times generated cannot have less than 30 minutes between them. So, if i Start at 10:00am and end at 05:00pm, the times between these must be a least 30 minutes between them. \r\n\r\nI already can get the random times, but don&#39;t know how to put the condition there, any ideas? \r\n\r\n``` \r\npublic LocalTime between(LocalTime startTime, LocalTime endTime) {\r\n    int startSeconds = startTime.toSecondOfDay();\r\n    int endSeconds = endTime.toSecondOfDay();\r\n    int randomTime = ThreadLocalRandom\r\n      .current()\r\n      .nextInt(startSeconds, endSeconds);\r\n \r\n    return LocalTime.ofSecondOfDay(randomTime);\r\n}\r\n```\r\n*i put this in a for loop to get 10 of them*","title":"Generate random time within a range of two times with condition","body":"<p>I'm trying to generate 10 random times within a range of two times, and there is a condition that the times generated cannot have less than 30 minutes between them. So, if i Start at 10:00am and end at 05:00pm, the times between these must be a least 30 minutes between them. </p>\n\n<p>I already can get the random times, but don't know how to put the condition there, any ideas? </p>\n\n<pre><code>public LocalTime between(LocalTime startTime, LocalTime endTime) {\n    int startSeconds = startTime.toSecondOfDay();\n    int endSeconds = endTime.toSecondOfDay();\n    int randomTime = ThreadLocalRandom\n      .current()\n      .nextInt(startSeconds, endSeconds);\n\n    return LocalTime.ofSecondOfDay(randomTime);\n}\n</code></pre>\n\n<p><em>i put this in a for loop to get 10 of them</em></p>\n"},{"tags":["java","sql","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1639251451,"post_id":70318339,"comment_id":124302915,"body_markdown":"Please [edit] your question and include all the debug output. Please read [ask]","body":"Please <a href=\"https://stackoverflow.com/posts/70318339/edit\">edit</a> your question and include all the debug output. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":19206172,"reputation":105,"user_id":14033004,"display_name":"tcho1506996"},"score":0,"creation_date":1639251828,"post_id":70318339,"comment_id":124302985,"body_markdown":"@JimGarrison Added the output. Thx for feedback","body":"@JimGarrison Added the output. Thx for feedback"}],"answers":[{"tags":[],"owner":{"account_id":17023411,"reputation":23,"user_id":12315333,"display_name":"DeveloperFassi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639327227,"creation_date":1639327227,"answer_id":70325564,"question_id":70318339,"body_markdown":"It&#39;s because the default *FetchType* in ManyToMany relation is set to *LAZY*.\r\nIf you want your courses you need to implement a query fetching also the courses or set the FetchType to EAGER ( bad practice ).\r\n\r\nTry EntityGraph.","title":"ManyToMany relationship not persisting","body":"<p>It's because the default <em>FetchType</em> in ManyToMany relation is set to <em>LAZY</em>.\nIf you want your courses you need to implement a query fetching also the courses or set the FetchType to EAGER ( bad practice ).</p>\n<p>Try EntityGraph.</p>\n"}],"owner":{"account_id":19206172,"reputation":105,"user_id":14033004,"display_name":"tcho1506996"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639327227,"creation_date":1639250885,"question_id":70318339,"body_markdown":"I am new to Spring data and the world of JPA.\r\n\r\nI have the following entities:\r\n\r\nStudent:\r\n\r\n    @Entity\r\n    @Table(name = &quot;STUDENT&quot;)\r\n    public class Student {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer studentId;\r\n\r\n    @Column\r\n    private boolean fullTime;\r\n\r\n    @Column\r\n    private Integer age;\r\n\r\n    @Embedded\r\n    private Person attendee;\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\r\n\r\n    public Student(Person attendee, boolean fullTime, Integer age) {\r\n        this.attendee = attendee;\r\n        this.fullTime = fullTime;\r\n        this.age = age;\r\n        courses = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    //getter and setters here\r\n    }\r\n\r\n\r\nCourse:\r\n\r\n    @Entity\r\n    @Table(name = &quot;COURSE&quot;)\r\n    public class Course {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn\r\n    private Department department;\r\n\r\n    @ManyToMany\r\n    @JoinTable\r\n    List&lt;Student&gt; students;\r\n\r\n    public Course(String name, Department department) {\r\n        this.name = name;\r\n        this.department = department;\r\n    }\r\n\r\n    //getters and setters\r\n    }\r\n\r\nDepartment:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Department&quot;)\r\n    public class Department {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;department&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\r\n\r\n    public Department(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    //getters and setters\r\n    }\r\n\r\nI have the following test case which explores the springs data&#39;s basic functionality:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class CrudRepositoryDemo {\r\n\r\n    Department department;\r\n    Course course;\r\n    Course course1;\r\n\r\n    @Autowired\r\n    StudentRepository studentRepository;\r\n\r\n    @Autowired\r\n    CourseRepository courseRepository;\r\n\r\n    @Autowired\r\n    DepartmentRepository departmentRepository;\r\n\r\n    /**\r\n     * Exercise CrudRepository methods.\r\n     */\r\n    @Test\r\n    public void simpleStudentCrudExample() {\r\n        boolean fullTime = true;\r\n        studentRepository.save(new Student(new Person(&quot;jane&quot;, &quot;doe&quot;), fullTime, 20));\r\n        studentRepository.save(new Student(new Person(&quot;john&quot;, &quot;doe&quot;), fullTime, 22));\r\n        studentRepository.save(new Student(new Person(&quot;mike&quot;, &quot;smith&quot;), fullTime, 18));\r\n        studentRepository.save(new Student(new Person(&quot;ally&quot;, &quot;kim&quot;), !fullTime, 19));\r\n\r\n        createDepartment();\r\n        createCourse();\r\n\r\n        System.out.println(&quot;\\n*************Original Students*************&quot;);\r\n        studentRepository.findAll().forEach(System.out::println);\r\n\r\n        System.out.println(&quot;\\n*************Printing courses*************&quot;);\r\n        List&lt;Course&gt; all = courseRepository.findAll();\r\n        all.forEach(System.out::println);\r\n\r\n        //age up the students and add course\r\n        studentRepository.findAll().forEach(student -&gt; {\r\n            student.setAge(student.getAge() + 1);\r\n            student.getCourses().addAll(all);\r\n            Student save = studentRepository.save(student);\r\n            System.out.println(save);\r\n        });\r\n\r\n        System.out.println(&quot;\\n*************Students a year older and course added*************&quot;);\r\n        for (Student student : studentRepository.findAll()) {\r\n            System.out.println(&quot;Name of student = &quot; + student.getAttendee().getFirstName() + &quot;. Course = &quot; + student.getCourses());\r\n        }\r\n\r\n        studentRepository.deleteAll();\r\n    }\r\n\r\n    private void createCourse() {\r\n        course = new Course(&quot;Algorithm&quot;, department);\r\n        course1 = new Course(&quot;Databases&quot;, department);\r\n\r\n        courseRepository.save(course);\r\n        courseRepository.save(course1);\r\n    }\r\n\r\n    private void createDepartment() {\r\n        department = new Department(&quot;CompSci&quot;);\r\n        departmentRepository.save(department);\r\n\r\n\r\n        System.out.println(&quot;\\n*************The following department has been saved*************&quot;);\r\n        departmentRepository.findAll().forEach(System.out::println);\r\n    }\r\n    }\r\n\r\n\r\nNow when i run the above test, it compiles and executes BUT for some reason only the last student has a course associated to it based on the output. I can see from the logs that the students do have the course saved to them but when i view all the students, only one student has the courses associated to it and the other students have no courses.\r\n\r\nI&#39;m suspecting it&#39;s because I&#39;m using a `@OneToMany` from the Student to Courses.. but to me it makes sense for it to be a unidirectional OneToMany (in this context) since **A** student can have **MULTIPLE** courses. I&#39;m not to concenered about the courses knowing anything to do with the students hence it&#39;s unidirectional. \r\n\r\nSo my overall question is why don&#39;t the other students have the courses saved to them? Why is it only one student?\r\n\r\n\r\nEdit = This is the output after using Many to Many (I have updated the students and courses entites too. I updated the Student&#39;s toString method so it&#39;s easier to see whats going on in the logs too.):\r\n\r\n\r\n    *************The following department has been saved*************\r\n    2021-12-11 20:56:25.811  INFO 11980 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n    Department{id=5, name=&#39;CompSci&#39;, courses=[]}\r\n    \r\n    *************Original Students*************\r\n    Student{studentId=1,  firstName=&#39;jane&#39;, lastname=&#39;doe&#39; , fullTime=true, age=20 , course=}\r\n    \r\n    Student{studentId=2,  firstName=&#39;john&#39;, lastname=&#39;doe&#39; , fullTime=true, age=22 , course=}\r\n    \r\n    Student{studentId=3,  firstName=&#39;mike&#39;, lastname=&#39;smith&#39; , fullTime=true, age=18 , course=}\r\n    \r\n    Student{studentId=4,  firstName=&#39;ally&#39;, lastname=&#39;kim&#39; , fullTime=false, age=19 , course=}\r\n    \r\n    \r\n    *************Printing courses*************\r\n    Course{id=6, name=&#39;Algorithm&#39;, department=CompSci}\r\n    Course{id=7, name=&#39;Databases&#39;, department=CompSci}\r\n    Student{studentId=1,  firstName=&#39;jane&#39;, lastname=&#39;doe&#39; , fullTime=true, age=21 , course=AlgorithmDatabases}\r\n    \r\n    Student{studentId=2,  firstName=&#39;john&#39;, lastname=&#39;doe&#39; , fullTime=true, age=23 , course=AlgorithmDatabases}\r\n    \r\n    Student{studentId=3,  firstName=&#39;mike&#39;, lastname=&#39;smith&#39; , fullTime=true, age=19 , course=AlgorithmDatabases}\r\n    \r\n    Student{studentId=4,  firstName=&#39;ally&#39;, lastname=&#39;kim&#39; , fullTime=false, age=20 , course=AlgorithmDatabases}\r\n    \r\n    \r\n    *************Students a year older and course added*************\r\n    Student{studentId=1,  firstName=&#39;jane&#39;, lastname=&#39;doe&#39; , fullTime=true, age=21 , course=}\r\n    \r\n    Student{studentId=2,  firstName=&#39;john&#39;, lastname=&#39;doe&#39; , fullTime=true, age=23 , course=}\r\n    \r\n    Student{studentId=3,  firstName=&#39;mike&#39;, lastname=&#39;smith&#39; , fullTime=true, age=19 , course=}\r\n    \r\n    Student{studentId=4,  firstName=&#39;ally&#39;, lastname=&#39;kim&#39; , fullTime=false, age=20 , course=}\r\n\r\n\r\n","title":"ManyToMany relationship not persisting","body":"<p>I am new to Spring data and the world of JPA.</p>\n<p>I have the following entities:</p>\n<p>Student:</p>\n<pre><code>@Entity\n@Table(name = &quot;STUDENT&quot;)\npublic class Student {\n@Id\n@GeneratedValue\nprivate Integer studentId;\n\n@Column\nprivate boolean fullTime;\n\n@Column\nprivate Integer age;\n\n@Embedded\nprivate Person attendee;\n\n@ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\n\npublic Student(Person attendee, boolean fullTime, Integer age) {\n    this.attendee = attendee;\n    this.fullTime = fullTime;\n    this.age = age;\n    courses = new ArrayList&lt;&gt;();\n}\n\n//getter and setters here\n}\n</code></pre>\n<p>Course:</p>\n<pre><code>@Entity\n@Table(name = &quot;COURSE&quot;)\npublic class Course {\n@Id\n@GeneratedValue\nprivate Integer id;\n\n@Column\nprivate String name;\n\n@ManyToOne\n@JoinColumn\nprivate Department department;\n\n@ManyToMany\n@JoinTable\nList&lt;Student&gt; students;\n\npublic Course(String name, Department department) {\n    this.name = name;\n    this.department = department;\n}\n\n//getters and setters\n}\n</code></pre>\n<p>Department:</p>\n<pre><code>@Entity\n@Table(name = &quot;Department&quot;)\npublic class Department {\n@Id\n@GeneratedValue\nprivate Integer id;\n\n@Column\nprivate String name;\n\n@OneToMany(mappedBy = &quot;department&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\n\npublic Department(String name) {\n    this.name = name;\n}\n\n//getters and setters\n}\n</code></pre>\n<p>I have the following test case which explores the springs data's basic functionality:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class CrudRepositoryDemo {\n\nDepartment department;\nCourse course;\nCourse course1;\n\n@Autowired\nStudentRepository studentRepository;\n\n@Autowired\nCourseRepository courseRepository;\n\n@Autowired\nDepartmentRepository departmentRepository;\n\n/**\n * Exercise CrudRepository methods.\n */\n@Test\npublic void simpleStudentCrudExample() {\n    boolean fullTime = true;\n    studentRepository.save(new Student(new Person(&quot;jane&quot;, &quot;doe&quot;), fullTime, 20));\n    studentRepository.save(new Student(new Person(&quot;john&quot;, &quot;doe&quot;), fullTime, 22));\n    studentRepository.save(new Student(new Person(&quot;mike&quot;, &quot;smith&quot;), fullTime, 18));\n    studentRepository.save(new Student(new Person(&quot;ally&quot;, &quot;kim&quot;), !fullTime, 19));\n\n    createDepartment();\n    createCourse();\n\n    System.out.println(&quot;\\n*************Original Students*************&quot;);\n    studentRepository.findAll().forEach(System.out::println);\n\n    System.out.println(&quot;\\n*************Printing courses*************&quot;);\n    List&lt;Course&gt; all = courseRepository.findAll();\n    all.forEach(System.out::println);\n\n    //age up the students and add course\n    studentRepository.findAll().forEach(student -&gt; {\n        student.setAge(student.getAge() + 1);\n        student.getCourses().addAll(all);\n        Student save = studentRepository.save(student);\n        System.out.println(save);\n    });\n\n    System.out.println(&quot;\\n*************Students a year older and course added*************&quot;);\n    for (Student student : studentRepository.findAll()) {\n        System.out.println(&quot;Name of student = &quot; + student.getAttendee().getFirstName() + &quot;. Course = &quot; + student.getCourses());\n    }\n\n    studentRepository.deleteAll();\n}\n\nprivate void createCourse() {\n    course = new Course(&quot;Algorithm&quot;, department);\n    course1 = new Course(&quot;Databases&quot;, department);\n\n    courseRepository.save(course);\n    courseRepository.save(course1);\n}\n\nprivate void createDepartment() {\n    department = new Department(&quot;CompSci&quot;);\n    departmentRepository.save(department);\n\n\n    System.out.println(&quot;\\n*************The following department has been saved*************&quot;);\n    departmentRepository.findAll().forEach(System.out::println);\n}\n}\n</code></pre>\n<p>Now when i run the above test, it compiles and executes BUT for some reason only the last student has a course associated to it based on the output. I can see from the logs that the students do have the course saved to them but when i view all the students, only one student has the courses associated to it and the other students have no courses.</p>\n<p>I'm suspecting it's because I'm using a <code>@OneToMany</code> from the Student to Courses.. but to me it makes sense for it to be a unidirectional OneToMany (in this context) since <strong>A</strong> student can have <strong>MULTIPLE</strong> courses. I'm not to concenered about the courses knowing anything to do with the students hence it's unidirectional.</p>\n<p>So my overall question is why don't the other students have the courses saved to them? Why is it only one student?</p>\n<p>Edit = This is the output after using Many to Many (I have updated the students and courses entites too. I updated the Student's toString method so it's easier to see whats going on in the logs too.):</p>\n<pre><code>*************The following department has been saved*************\n2021-12-11 20:56:25.811  INFO 11980 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\nDepartment{id=5, name='CompSci', courses=[]}\n\n*************Original Students*************\nStudent{studentId=1,  firstName='jane', lastname='doe' , fullTime=true, age=20 , course=}\n\nStudent{studentId=2,  firstName='john', lastname='doe' , fullTime=true, age=22 , course=}\n\nStudent{studentId=3,  firstName='mike', lastname='smith' , fullTime=true, age=18 , course=}\n\nStudent{studentId=4,  firstName='ally', lastname='kim' , fullTime=false, age=19 , course=}\n\n\n*************Printing courses*************\nCourse{id=6, name='Algorithm', department=CompSci}\nCourse{id=7, name='Databases', department=CompSci}\nStudent{studentId=1,  firstName='jane', lastname='doe' , fullTime=true, age=21 , course=AlgorithmDatabases}\n\nStudent{studentId=2,  firstName='john', lastname='doe' , fullTime=true, age=23 , course=AlgorithmDatabases}\n\nStudent{studentId=3,  firstName='mike', lastname='smith' , fullTime=true, age=19 , course=AlgorithmDatabases}\n\nStudent{studentId=4,  firstName='ally', lastname='kim' , fullTime=false, age=20 , course=AlgorithmDatabases}\n\n\n*************Students a year older and course added*************\nStudent{studentId=1,  firstName='jane', lastname='doe' , fullTime=true, age=21 , course=}\n\nStudent{studentId=2,  firstName='john', lastname='doe' , fullTime=true, age=23 , course=}\n\nStudent{studentId=3,  firstName='mike', lastname='smith' , fullTime=true, age=19 , course=}\n\nStudent{studentId=4,  firstName='ally', lastname='kim' , fullTime=false, age=20 , course=}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1639327946,"post_id":70325563,"comment_id":124315241,"body_markdown":"Does using `JSONObject` insted helps ? - https://stackoverflow.com/questions/39979590/a-jsonarray-text-must-start-with-at-1-character-2-line-1","body":"Does using <code>JSONObject</code> insted helps ? - <a href=\"https://stackoverflow.com/questions/39979590/a-jsonarray-text-must-start-with-at-1-character-2-line-1\" title=\"a jsonarray text must start with at 1 character 2 line 1\">stackoverflow.com/questions/39979590/&hellip;</a>"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1639328067,"post_id":70325563,"comment_id":124315276,"body_markdown":"@MauricioGraciaGutierrez already used see my code  JSONObject exprObject = jsonArray.getJSONObject(i);","body":"@MauricioGraciaGutierrez already used see my code  JSONObject exprObject = jsonArray.getJSONObject(i);"},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1639328351,"post_id":70325563,"comment_id":124315352,"body_markdown":"use it instead of `new JSONArray` and also try it removing the square brackets","body":"use it instead of <code>new JSONArray</code> and also try it removing the square brackets"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1639335025,"post_id":70325563,"comment_id":124316965,"body_markdown":"Your date string looks strange: `2021-0916` Shouldn&#39;t that be `2021-09-16` ?","body":"Your date string looks strange: <code>2021-0916</code> Shouldn&#39;t that be <code>2021-09-16</code> ?"},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1639411394,"post_id":70325563,"comment_id":124335803,"body_markdown":"Does this answer your question? [A JSONArray text must start with &#39;\\[&#39; at 1 \\[character 2 line 1\\]](https://stackoverflow.com/questions/39979590/a-jsonarray-text-must-start-with-at-1-character-2-line-1)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39979590/a-jsonarray-text-must-start-with-at-1-character-2-line-1\">A JSONArray text must start with &#39;&#91;&#39; at 1 &#91;character 2 line 1&#93;</a>"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639327213,"creation_date":1639327213,"question_id":70325563,"body_markdown":"I am trying convert a string into a jsonArray and then check a value in that if that is null or not. I have converted the string into jsonArray and using the logic to check the null value but sometimes i am getting the exception   \r\n\r\n    A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1]\r\n\r\nI am posting the code here what i have used\r\n\r\n   \r\n    public static boolean validateRecods(String itemRequest){\r\n     boolean isPrice  =  false;\r\n     if(!itemRequest.equals(&quot;&quot;)){\r\n       JSONArray jsonArray = new JSONArray(itemRequest); //here i am converting it to jsonArray\r\n       for(int i=0;i&lt;jsonArray.length();i++){\r\n         JSONObject exprObject = jsonArray.getJSONObject(i);\r\n         if(!(exprObject.opString(&quot;newP&quot;).isEmpty() || exprObject.opsString(&quot;newP&quot;).equals(&quot;&quot;){\r\n          isPrice = true;\r\n        }\r\n      }\r\n     return isPrice;\r\n    }\r\n\r\nAnd below is the jsonArray string what i am getting \r\n\r\n    &quot;[{&quot;key&quot;:&quot;234&quot;,&quot;Item_no&quot;:&quot;1223&quot;,&quot;newP&quot;:&quot;&quot;,&quot;date&quot;:&quot;2021-0916&quot;}]&quot;\r\n\r\nAnd below is the jsonObject which is forming \r\n\r\n     &quot;{&quot;key&quot;:&quot;234&quot;,&quot;Item_no&quot;:&quot;1223&quot;,&quot;newP&quot;:&quot;&quot;,&quot;date&quot;:&quot;2021-0916&quot;}&quot;\r\n\r\nI can see the JSONArray forming with &#39;[&#39; bracket , but sometimes the exception is occured . I am not sure about the reason why it is causing.\r\n","title":"How to solve &quot;A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1] in java","body":"<p>I am trying convert a string into a jsonArray and then check a value in that if that is null or not. I have converted the string into jsonArray and using the logic to check the null value but sometimes i am getting the exception</p>\n<pre><code>A JSONArray text must start with '[' at 1 [character 2 line 1]\n</code></pre>\n<p>I am posting the code here what i have used</p>\n<pre><code>public static boolean validateRecods(String itemRequest){\n boolean isPrice  =  false;\n if(!itemRequest.equals(&quot;&quot;)){\n   JSONArray jsonArray = new JSONArray(itemRequest); //here i am converting it to jsonArray\n   for(int i=0;i&lt;jsonArray.length();i++){\n     JSONObject exprObject = jsonArray.getJSONObject(i);\n     if(!(exprObject.opString(&quot;newP&quot;).isEmpty() || exprObject.opsString(&quot;newP&quot;).equals(&quot;&quot;){\n      isPrice = true;\n    }\n  }\n return isPrice;\n}\n</code></pre>\n<p>And below is the jsonArray string what i am getting</p>\n<pre><code>&quot;[{&quot;key&quot;:&quot;234&quot;,&quot;Item_no&quot;:&quot;1223&quot;,&quot;newP&quot;:&quot;&quot;,&quot;date&quot;:&quot;2021-0916&quot;}]&quot;\n</code></pre>\n<p>And below is the jsonObject which is forming</p>\n<pre><code> &quot;{&quot;key&quot;:&quot;234&quot;,&quot;Item_no&quot;:&quot;1223&quot;,&quot;newP&quot;:&quot;&quot;,&quot;date&quot;:&quot;2021-0916&quot;}&quot;\n</code></pre>\n<p>I can see the JSONArray forming with '[' bracket , but sometimes the exception is occured . I am not sure about the reason why it is causing.</p>\n"},{"tags":["java","selenium-webdriver","pageobjects","data-driven","page-factory"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1639122040,"post_id":70301136,"comment_id":124272713,"body_markdown":"Please elaborate what does mean &quot;not able to fetch data&quot;. Update your question with URL or page source code and stacktrace.","body":"Please elaborate what does mean &quot;not able to fetch data&quot;. Update your question with URL or page source code and stacktrace."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1639122153,"post_id":70301136,"comment_id":124272743,"body_markdown":"Btw don&#39;t use first letter capital for naming objects. See https://www.javatpoint.com/java-naming-conventions","body":"Btw don&#39;t use first letter capital for naming objects. See <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">javatpoint.com/java-naming-conventions</a>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1639122305,"post_id":70301136,"comment_id":124272786,"body_markdown":"I suggest you to accept given you answers. This may increase your chances to get a good answers...","body":"I suggest you to accept given you answers. This may increase your chances to get a good answers..."},{"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"score":0,"creation_date":1639122616,"post_id":70301136,"comment_id":124272872,"body_markdown":"@pburgr I have updated kindly check it once","body":"@pburgr I have updated kindly check it once"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1639123123,"post_id":70301136,"comment_id":124273006,"body_markdown":"In my case the login page has differrent looks and &#39;wrong credentials&#39; text is between password input and the login button. What browser are you using for the test?","body":"In my case the login page has differrent looks and &#39;wrong credentials&#39; text is between password input and the login button. What browser are you using for the test?"},{"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"score":0,"creation_date":1639125064,"post_id":70301136,"comment_id":124273536,"body_markdown":"@pburgr I have updated with actual code. Using Chrome version  96.0.4664.93\nSo actually what i am doing is Without giving any inputs Cred. directly clicking on login button. error msg is displayed so i need to get that error message and past it in excel sheet.","body":"@pburgr I have updated with actual code. Using Chrome version  96.0.4664.93 So actually what i am doing is Without giving any inputs Cred. directly clicking on login button. error msg is displayed so i need to get that error message and past it in excel sheet."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1639126067,"post_id":70301136,"comment_id":124273833,"body_markdown":"Even witout entering any credentials the error message looks like this https://pasteboard.co/WB3nV81l54xN.png. What exact URL are you entering?","body":"Even witout entering any credentials the error message looks like this <a href=\"https://pasteboard.co/WB3nV81l54xN.png\" rel=\"nofollow noreferrer\">pasteboard.co/WB3nV81l54xN.png</a>. What exact URL are you entering?"},{"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"score":0,"creation_date":1639126867,"post_id":70301136,"comment_id":124274066,"body_markdown":"@pburgr https://www.facebook.com/login/?privacy_mutation_token=eyJ0eXBlIjowLCJjcmVhdGlvbl90aW1lIjoxNjM5MTI2ODUyLCJjYWxsc2l0ZV9pZCI6MzgxMjI5MDc5NTc1OTQ2fQ%3D%3D","body":"@pburgr <a href=\"https://www.facebook.com/login/?privacy_mutation_token=eyJ0eXBlIjowLCJjcmVhdGlvbl90aW1lIjoxNjM5MTI2ODUyLCJjYWxsc2l0ZV9pZCI6MzgxMjI5MDc5NTc1OTQ2fQ%3D%3D\" rel=\"nofollow noreferrer\">facebook.com/login/&hellip;</a>"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1639127015,"post_id":70301136,"comment_id":124274116,"body_markdown":"Still on the same screen I&#39;ve posted.","body":"Still on the same screen I&#39;ve posted."},{"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"score":0,"creation_date":1639127170,"post_id":70301136,"comment_id":124274158,"body_markdown":"@pburgr okay consider this page only https://pasteboard.co/WB3nV81l54xN.png \nTry to get that text (https://pasteboard.co/0ib38vTRfwsC.png) and past it in excel file","body":"@pburgr okay consider this page only <a href=\"https://pasteboard.co/WB3nV81l54xN.png\" rel=\"nofollow noreferrer\">pasteboard.co/WB3nV81l54xN.png</a>  Try to get that text (<a href=\"https://pasteboard.co/0ib38vTRfwsC.png\" rel=\"nofollow noreferrer\">pasteboard.co/0ib38vTRfwsC.png</a>) and past it in excel file"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639132319,"creation_date":1639132319,"answer_id":70303102,"question_id":70301136,"body_markdown":"Code:\r\n\r\n    package selenium;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class SaikumarFbTest extends WebDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// wrapped driver initialization\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\t\r\n    \t\t//entering url\r\n    \t\tdriver.get(&quot;https://www.facebook.com/login&quot;);\r\n    \t\t\r\n    \t\t// accept cookie consent in CZ\r\n    \t\tdriver.findElement(By.xpath(&quot;//button[contains(@data-testid,&#39;cookie-policy-dialog-accept-button&#39;)]&quot;)).click();\t\r\n    \t\t\r\n    \t\t// switch to english using link in footer\r\n    \t\tdriver.findElement(By.xpath(&quot;//a[contains(@href,&#39;https://www.facebook.com/login&#39;)]&quot;)).click();\r\n    \t\t\r\n    \t\t//accept cookie consent in EN\r\n    \t\tdriver.findElement(By.xpath(&quot;//button[contains(@data-testid,&#39;cookie-policy-dialog-accept-button&#39;)]&quot;)).click();\t\r\n    \r\n    \t\t// click login button\r\n    \t\tdriver.findElement(By.id(&quot;loginbutton&quot;)).click();\r\n    \t\t\r\n    \t\t// get &lt;div class=&quot;clearfix _5466 _44mg&quot; id=&quot;email_container&quot;&gt;&lt;/div&gt;\r\n    \t\tWebElement emailContainer = driver.findElement(By.id(&quot;email_container&quot;));\r\n    \t\t\r\n    \t\t// get child divs\r\n    \t\tList&lt;WebElement&gt; emailContainerChildDivs = emailContainer.findElements(By.tagName(&quot;div&quot;));\r\n    \t\t\r\n    \t\t// print error text\r\n    \t\tSystem.out.println(emailContainerChildDivs.get(1).getText());\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nOutput:\r\n\r\n    Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 23066\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Pro 10, 2021 11:30:39 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    The email or mobile number you entered isn’t connected to an account. Find your account and log in.\r\n\r\n\r\nTo save the text to XLSX file, use Apache POI -&gt; https://www.codejava.net/coding/how-to-write-excel-files-in-java-using-apache-poi.","title":"How to fetch data from website and print in excel Page object model, Data driven and page factory this is hybrid framework","body":"<p>Code:</p>\n<pre><code>package selenium;\n\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class SaikumarFbTest extends WebDriverSetup {\n\n    public static void main(String[] args) {\n        \n        // wrapped driver initialization\n        WebDriver driver = startChromeDriver();\n        \n        //entering url\n        driver.get(&quot;https://www.facebook.com/login&quot;);\n        \n        // accept cookie consent in CZ\n        driver.findElement(By.xpath(&quot;//button[contains(@data-testid,'cookie-policy-dialog-accept-button')]&quot;)).click();  \n        \n        // switch to english using link in footer\n        driver.findElement(By.xpath(&quot;//a[contains(@href,'https://www.facebook.com/login')]&quot;)).click();\n        \n        //accept cookie consent in EN\n        driver.findElement(By.xpath(&quot;//button[contains(@data-testid,'cookie-policy-dialog-accept-button')]&quot;)).click();  \n\n        // click login button\n        driver.findElement(By.id(&quot;loginbutton&quot;)).click();\n        \n        // get &lt;div class=&quot;clearfix _5466 _44mg&quot; id=&quot;email_container&quot;&gt;&lt;/div&gt;\n        WebElement emailContainer = driver.findElement(By.id(&quot;email_container&quot;));\n        \n        // get child divs\n        List&lt;WebElement&gt; emailContainerChildDivs = emailContainer.findElements(By.tagName(&quot;div&quot;));\n        \n        // print error text\n        System.out.println(emailContainerChildDivs.get(1).getText());\n        driver.quit();\n    }\n    \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 23066\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nPro 10, 2021 11:30:39 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nThe email or mobile number you entered isn’t connected to an account. Find your account and log in.\n</code></pre>\n<p>To save the text to XLSX file, use Apache POI -&gt; <a href=\"https://www.codejava.net/coding/how-to-write-excel-files-in-java-using-apache-poi\" rel=\"nofollow noreferrer\">https://www.codejava.net/coding/how-to-write-excel-files-in-java-using-apache-poi</a>.</p>\n"},{"tags":[],"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639327149,"creation_date":1639327149,"answer_id":70325558,"question_id":70301136,"body_markdown":"```\r\n**Element Page**\r\npublic class BasePage {\r\n  @FindBy(className = &quot;_42ft _4jy0 _52e0 _4jy6 _4jy1 selected _51sy&quot;)//Signin Button\r\n\tprivate WebElement SigninButton;\r\n\tpublic void clickOnSigninButton() {\r\n\t\tSigninButton.click();\r\n\t}\r\n\r\n\t@FindBy(className= &quot;pam _3-95 _9ay3 uiBoxRed&quot;)//Get Username erroe msg\r\n\tprivate WebElement geterrormsg;\r\n\tpublic String ClickonAdmissionnumber() {\r\n\t   return geterrormsg.getText();\r\n\t}\r\n}\r\n**Another Class Test case page**\r\npublic class Tc_1 {\r\npublic void  LoginTC1() throws Exception\r\n{\t\t\r\n**//create page objects**\r\n  BasePage lp = new BasePage();\t\t\r\n**//invoke the methods**\r\n  lp.clickOnSigninButton();\r\n  String Actualmsg = lp.Errormsg();\r\n**//write actual data to excel**\r\nExcelLibrary.writeData(&quot;Sheet1&quot;, 1, 5, Actualmsg);\r\n}    \r\n```","title":"How to fetch data from website and print in excel Page object model, Data driven and page factory this is hybrid framework","body":"<pre><code>**Element Page**\npublic class BasePage {\n  @FindBy(className = &quot;_42ft _4jy0 _52e0 _4jy6 _4jy1 selected _51sy&quot;)//Signin Button\n    private WebElement SigninButton;\n    public void clickOnSigninButton() {\n        SigninButton.click();\n    }\n\n    @FindBy(className= &quot;pam _3-95 _9ay3 uiBoxRed&quot;)//Get Username erroe msg\n    private WebElement geterrormsg;\n    public String ClickonAdmissionnumber() {\n       return geterrormsg.getText();\n    }\n}\n**Another Class Test case page**\npublic class Tc_1 {\npublic void  LoginTC1() throws Exception\n{       \n**//create page objects**\n  BasePage lp = new BasePage();     \n**//invoke the methods**\n  lp.clickOnSigninButton();\n  String Actualmsg = lp.Errormsg();\n**//write actual data to excel**\nExcelLibrary.writeData(&quot;Sheet1&quot;, 1, 5, Actualmsg);\n}    \n</code></pre>\n"}],"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1639327149,"creation_date":1639121718,"question_id":70301136,"body_markdown":"```\r\n**Element Page**\r\npublic class BasePage {\r\n  @FindBy(className = &quot;_42ft _4jy0 _52e0 _4jy6 _4jy1 selected _51sy&quot;)//Signin Button\r\n\tprivate WebElement SigninButton;\r\n\tpublic void clickOnSigninButton() {\r\n\t\tSigninButton.click();\r\n\t}\r\n\r\n\t@FindBy(className= &quot;pam _3-95 _9ay3 uiBoxRed&quot;)//Get Username erroe msg\r\n\tprivate WebElement geterrormsg;\r\n\tpublic String ClickonAdmissionnumber() {\r\n\t    geterrormsg.getText();\r\n\t}\r\n}\r\n**Another Class Test case page**\r\npublic class Tc_1 {\r\npublic void  LoginTC1() throws Exception\r\n{\t\t\r\n**//create page objects**\r\n  BasePage lp = new BasePage();\t\t\r\n**//invoke the methods**\r\n  lp.clickOnSigninButton();\r\n  lp.Errormsg();\r\n**//write actual data to excel**\r\nExcelLibrary.writeData(&quot;Sheet1&quot;, 1, 5, Actualmsg);\r\n}    \r\n```\r\nTrying to fetch text from this class attribute? I have tried with get attribute value but not able to fetch data. Please help me out....\r\ntext output &quot;Wrong credentials Invalid username &amp; Password&quot;. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5R58E.png","title":"How to fetch data from website and print in excel Page object model, Data driven and page factory this is hybrid framework","body":"<pre><code>**Element Page**\npublic class BasePage {\n  @FindBy(className = &quot;_42ft _4jy0 _52e0 _4jy6 _4jy1 selected _51sy&quot;)//Signin Button\n    private WebElement SigninButton;\n    public void clickOnSigninButton() {\n        SigninButton.click();\n    }\n\n    @FindBy(className= &quot;pam _3-95 _9ay3 uiBoxRed&quot;)//Get Username erroe msg\n    private WebElement geterrormsg;\n    public String ClickonAdmissionnumber() {\n        geterrormsg.getText();\n    }\n}\n**Another Class Test case page**\npublic class Tc_1 {\npublic void  LoginTC1() throws Exception\n{       \n**//create page objects**\n  BasePage lp = new BasePage();     \n**//invoke the methods**\n  lp.clickOnSigninButton();\n  lp.Errormsg();\n**//write actual data to excel**\nExcelLibrary.writeData(&quot;Sheet1&quot;, 1, 5, Actualmsg);\n}    \n</code></pre>\n<p>Trying to fetch text from this class attribute? I have tried with get attribute value but not able to fetch data. Please help me out....\ntext output &quot;Wrong credentials Invalid username &amp; Password&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/5R58E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5R58E.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","bdd","cucumber-jvm"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1549416973,"post_id":54545442,"comment_id":95891678,"body_markdown":"`import cucumber.annotation.en.When;`","body":"<code>import cucumber.annotation.en.When;</code>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":2,"creation_date":1549418982,"post_id":54545442,"comment_id":95892017,"body_markdown":"Standard cucumber practice is to `import cucumber.api.java.en.When;` - eg, see https://docs.cucumber.io/guides/10-minute-tutorial/","body":"Standard cucumber practice is to <code>import cucumber.api.java.en.When;</code> - eg, see <a href=\"https://docs.cucumber.io/guides/10-minute-tutorial/\" rel=\"nofollow noreferrer\">docs.cucumber.io/guides/10-minute-tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549426348,"creation_date":1549426348,"answer_id":54546498,"question_id":54545442,"body_markdown":"Thanks @racraman for the hint. I was using older versions of Cucumber-JVM Maven dependencies:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t    &lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI replaced these for the up-to-date dependencies that use the `io.cucumber` `&lt;groupId&gt;`\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nNow I can import the relevant annotation:\r\n\r\n     import cucumber.api.java.en.When;\r\n","title":"Cucumber-JVM - @When cannot be resolved to a type","body":"<p>Thanks @racraman for the hint. I was using older versions of Cucumber-JVM Maven dependencies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n     --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I replaced these for the up-to-date dependencies that use the <code>io.cucumber</code> <code>&lt;groupId&gt;</code></p>\n\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Now I can import the relevant annotation:</p>\n\n<pre><code> import cucumber.api.java.en.When;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13748481,"reputation":1,"user_id":9921350,"display_name":"Nure bhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639326319,"creation_date":1639314368,"answer_id":70323801,"question_id":54545442,"body_markdown":"The new pom file should be like this:\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n        &lt;version&gt;7.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n        &lt;version&gt;7.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso use import `io.cucumber.java.en.Given;`","title":"Cucumber-JVM - @When cannot be resolved to a type","body":"<p>The new pom file should be like this:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;7.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n    &lt;version&gt;7.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also use import <code>io.cucumber.java.en.Given;</code></p>\n"}],"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639326319,"creation_date":1549416241,"question_id":54545442,"body_markdown":"I&#39;m following [this tutorial][1] to set up BDD using Cucumber-JVM in a Java project. I&#39;ve set up the following test file under my `src/test/java` folder for a Java project that I&#39;m working on in Eclipse:\r\n\r\n**CucumberTest.java**\r\n\r\n    package myPackage;\r\n    \r\n    import static org.junit.Assert.fail;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = &quot;classpath:Feature&quot;)\r\n    public class CucumberTest {\r\n    \r\n        // error on line below &#39;When cannot be resolved to a type&#39;\r\n    \t@When(&quot;^the step is invoked$&quot;)\r\n    \tpublic void myTestMethod() throws IOException {\r\n    \t     \r\n    \t}   \r\n    }\r\n\r\nI&#39;m sure this is something simple (I&#39;m relatively new to Cucumber for Java apps), and I believe I&#39;m doing all of this in the correct place. How do I resolve the error? Using `CTRL+SHIFT+O` (organise imports) doesn&#39;t automatically import whatever it is I need, and I&#39;ve looked for a relevant package I may need to import, under the `cucumber.api`, `cucumber.api.junit` and `cucumber.api.junit.Cucumber` namespaces, and there doesn&#39;t seem to be anything there that I should import. I&#39;ve reviewed similar SO questions and haven&#39;t found any clues, as my issue is more specific.\r\n\r\n\r\n  [1]: https://www.baeldung.com/cucumber-rest-api-testing","title":"Cucumber-JVM - @When cannot be resolved to a type","body":"<p>I'm following <a href=\"https://www.baeldung.com/cucumber-rest-api-testing\" rel=\"nofollow noreferrer\">this tutorial</a> to set up BDD using Cucumber-JVM in a Java project. I've set up the following test file under my <code>src/test/java</code> folder for a Java project that I'm working on in Eclipse:</p>\n\n<p><strong>CucumberTest.java</strong></p>\n\n<pre><code>package myPackage;\n\nimport static org.junit.Assert.fail;\n\nimport java.io.IOException;\n\nimport org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = \"classpath:Feature\")\npublic class CucumberTest {\n\n    // error on line below 'When cannot be resolved to a type'\n    @When(\"^the step is invoked$\")\n    public void myTestMethod() throws IOException {\n\n    }   \n}\n</code></pre>\n\n<p>I'm sure this is something simple (I'm relatively new to Cucumber for Java apps), and I believe I'm doing all of this in the correct place. How do I resolve the error? Using <code>CTRL+SHIFT+O</code> (organise imports) doesn't automatically import whatever it is I need, and I've looked for a relevant package I may need to import, under the <code>cucumber.api</code>, <code>cucumber.api.junit</code> and <code>cucumber.api.junit.Cucumber</code> namespaces, and there doesn't seem to be anything there that I should import. I've reviewed similar SO questions and haven't found any clues, as my issue is more specific.</p>\n"},{"tags":["java","android","android-studio","youtube-api"],"answers":[{"tags":[],"owner":{"account_id":7999034,"reputation":935,"user_id":6034460,"display_name":"Filipe Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639326052,"creation_date":1639326052,"answer_id":70325404,"question_id":70322698,"body_markdown":"Well, It&#39;s hard to tell what&#39;s going on due to missing information (check the logcat, It may have some usefull information)\r\n\r\nBUT\r\n\r\nIf I had to take a bet, I would say that, in your layout, It may have another view overlapping your Youtube player.\r\n\r\nYoutube view needs to be visible to the user while video is played. If you have another view (or even a tiny slice if it) overlapping youtube player, the player will present this pause behaviour.\r\n\r\nIt doesn&#39;t matter which kind of view or even if it&#39;s invisible/colorless. Youtube player can&#39;t have any view overlapping it","title":"Why does YoutubePlayerView stops every 2 second","body":"<p>Well, It's hard to tell what's going on due to missing information (check the logcat, It may have some usefull information)</p>\n<p>BUT</p>\n<p>If I had to take a bet, I would say that, in your layout, It may have another view overlapping your Youtube player.</p>\n<p>Youtube view needs to be visible to the user while video is played. If you have another view (or even a tiny slice if it) overlapping youtube player, the player will present this pause behaviour.</p>\n<p>It doesn't matter which kind of view or even if it's invisible/colorless. Youtube player can't have any view overlapping it</p>\n"}],"owner":{"account_id":5281629,"reputation":1,"user_id":4216780,"display_name":"Badri Rusadze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639326052,"creation_date":1639304842,"question_id":70322698,"body_markdown":"On button click Video starts successfully but, pauses every one second , what might be the problem ? youtubeplayer loadvideo is only called one time it must play the video without interuptions ...\r\n\r\n    public class MainActivity extends YouTubeBaseActivity{\r\n\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    YouTubePlayer.OnInitializedListener mOnInitializedListener;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button buttonPlay = findViewById(R.id.button);\r\n        final YouTubePlayerView youtubePlayerView = findViewById(R.id.youtube_player);\r\n        mOnInitializedListener = new YouTubePlayer.OnInitializedListener() {\r\n            @Override\r\n            public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer youTubePlayer, boolean b) {\r\n                youTubePlayer.loadVideo(&quot;W4hTJybfU7s&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onInitializationFailure(YouTubePlayer.Provider provider, YouTubeInitializationResult youTubeInitializationResult) {\r\n\r\n            }\r\n        };\r\n        buttonPlay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                youtubePlayerView.initialize(PlayerConfig.getApiKey(),mOnInitializedListener);\r\n            }\r\n        });\r\n    }\r\n\r\n}","title":"Why does YoutubePlayerView stops every 2 second","body":"<p>On button click Video starts successfully but, pauses every one second , what might be the problem ? youtubeplayer loadvideo is only called one time it must play the video without interuptions ...</p>\n<pre><code>public class MainActivity extends YouTubeBaseActivity{\n\nprivate static final String TAG = &quot;MainActivity&quot;;\nYouTubePlayer.OnInitializedListener mOnInitializedListener;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Button buttonPlay = findViewById(R.id.button);\n    final YouTubePlayerView youtubePlayerView = findViewById(R.id.youtube_player);\n    mOnInitializedListener = new YouTubePlayer.OnInitializedListener() {\n        @Override\n        public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer youTubePlayer, boolean b) {\n            youTubePlayer.loadVideo(&quot;W4hTJybfU7s&quot;);\n        }\n\n        @Override\n        public void onInitializationFailure(YouTubePlayer.Provider provider, YouTubeInitializationResult youTubeInitializationResult) {\n\n        }\n    };\n    buttonPlay.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            youtubePlayerView.initialize(PlayerConfig.getApiKey(),mOnInitializedListener);\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1639372116,"post_id":70324577,"comment_id":124323225,"body_markdown":"check this,https://android--examples.blogspot.com/2015/05/how-to-use-tablelayout-in-android.html","body":"check this,<a href=\"https://android--examples.blogspot.com/2015/05/how-to-use-tablelayout-in-android.html\" rel=\"nofollow noreferrer\">android--examples.blogspot.com/2015/05/&hellip;</a>"},{"owner":{"account_id":17961053,"reputation":95,"user_id":13052023,"display_name":"Naboki"},"score":0,"creation_date":1639411869,"post_id":70324577,"comment_id":124336000,"body_markdown":"I solved the problem as I described earlier by setting the container&#39;s background to black and margin on the appropriate TextViews.\nProbably not the most beautiful solution, but also not the worst.\nIf someone has a better way to do it, I would appreciate hearing about it :)","body":"I solved the problem as I described earlier by setting the container&#39;s background to black and margin on the appropriate TextViews. Probably not the most beautiful solution, but also not the worst. If someone has a better way to do it, I would appreciate hearing about it :)"}],"owner":{"account_id":17961053,"reputation":95,"user_id":13052023,"display_name":"Naboki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639326051,"creation_date":1639320253,"question_id":70324577,"body_markdown":"I have a matrix-like structure. Each row is a LinearLayout of n-TextViews. Both are created programmatically and added to a LinearLayout &quot;container&quot;. In XML:\r\n\r\n    &lt;LinearLayout\r\n          android:id=&quot;@+id/container&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThis is how it looks in App after building a matrix at runtime:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI always want to add a border to first/last column as well as to the first and second row, for each mxn-matrix. I want it to look like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI think the border / frame has to be added programmatically as well. \\\r\nSo my approach would be something like building a TableLayout as container and replace the LinearLayouts for each row with TableRows. \\\r\nAfter that set the background color of TableLayout to black and give every needed TextView a padding on the right place programmatically. \r\n\r\nBut this seems to be a very stressful task. So I really hope there is a better way to do that. \r\n\r\nI am using Kotlin.\r\n\r\nI am very thankful for every suggestion!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C6yeH.png\r\n  [2]: https://i.stack.imgur.com/oSCnE.png","title":"Set visalbe border to matrix in XML","body":"<p>I have a matrix-like structure. Each row is a LinearLayout of n-TextViews. Both are created programmatically and added to a LinearLayout &quot;container&quot;. In XML:</p>\n<pre><code>&lt;LinearLayout\n      android:id=&quot;@+id/container&quot;\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:orientation=&quot;vertical&quot;&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This is how it looks in App after building a matrix at runtime:</p>\n<p><a href=\"https://i.stack.imgur.com/C6yeH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6yeH.png\" alt=\"enter image description here\" /></a></p>\n<p>I always want to add a border to first/last column as well as to the first and second row, for each mxn-matrix. I want it to look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/oSCnE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSCnE.png\" alt=\"enter image description here\" /></a></p>\n<p>I think the border / frame has to be added programmatically as well. <br />\nSo my approach would be something like building a TableLayout as container and replace the LinearLayouts for each row with TableRows. <br />\nAfter that set the background color of TableLayout to black and give every needed TextView a padding on the right place programmatically.</p>\n<p>But this seems to be a very stressful task. So I really hope there is a better way to do that.</p>\n<p>I am using Kotlin.</p>\n<p>I am very thankful for every suggestion!</p>\n"},{"tags":["java","algorithm","recursion","logic","grand-central-dispatch"],"comments":[{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":2,"creation_date":1600503069,"post_id":63966620,"comment_id":113113445,"body_markdown":"What does this have to do with Python?","body":"What does this have to do with Python?"},{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":2,"creation_date":1600503183,"post_id":63966620,"comment_id":113113472,"body_markdown":"Can you show some simple cases where the problem does not give the correct output? What would be the correct output and what do you get instead?","body":"Can you show some simple cases where the problem does not give the correct output? What would be the correct output and what do you get instead?"}],"answers":[{"tags":[],"owner":{"account_id":18725089,"reputation":1634,"user_id":13651978,"display_name":"Yash Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1600504625,"creation_date":1600503509,"answer_id":63966707,"question_id":63966620,"body_markdown":"Take a look at:\r\n\r\n&gt; if(sol(a, a+b, x, y)) return false;\r\n\r\nThat condition should return true as mentioned in the problem that &quot;you can move only to (a+b,b) or (a,a+b)&quot;.\r\n\r\n    import java.util.*;\r\n    class Solution{\r\n        static boolean sol(int a, int b, int x, int y){\r\n            if( a == x &amp;&amp; b == y)\r\n                return true;\r\n            else if(a &gt; x || b &gt; y)\r\n                return false;\r\n            else{\r\n                if(sol(a+b, a, x, y)) return true;\r\n                if(sol(a, a+b, x, y)) return true;\r\n            }\r\n            return false;\r\n        }\r\n        static String ans(int x, int y){\r\n            if(sol(1, 1, x, y)) return &quot;Yes&quot;;\r\n            return &quot;No&quot;;\r\n        }\r\n        public static void main(String[] args) {\r\n            int x,y;\r\n            Scanner sc = new Scanner(System.in);\r\n                x = sc.nextInt();\r\n                y = sc.nextInt();\r\n                System.out.println(ans(x, y));\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n\r\n**OPTIMAL APPROACH:**\r\n\r\nUse a two-dimensional matrix (x * y) to know whether that cell is visited or not and if visited to store the result.\r\n\r\nNot visited -&gt; -1\r\n\r\nvisited and possible to reach to (x,y) from that position -&gt; 1\r\n\r\nvisited and possible to reach to (x,y) from that position -&gt; 0\r\n\r\n\r\n\r\n    import java.util.*;\r\n    class Solution{\r\n        \r\n        static boolean sol(int a, int b, int x, int y, int[][] dp){\r\n            if( a == x &amp;&amp; b == y)\r\n                return true;\r\n            else if(a &gt; x || b &gt; y)\r\n                return false;\r\n            else if(dp[a][b] == 1)\r\n                return true;\r\n            else if(dp[a][b] == 0)\r\n                return false;\r\n            else if(sol(a+b, a, x, y, dp) || sol(a, a+b, x, y, dp)){\r\n                    dp[a][b] = 1;\r\n                    return true;\r\n            }\r\n            dp[a][b] = 0;\r\n            return false;\r\n        }\r\n        \r\n        static String ans(int x, int y, int[][] dp){\r\n            if(sol(1, 1, x, y, dp)) return &quot;Yes&quot;;\r\n            return &quot;No&quot;;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            int x,y;\r\n            int[][] dp;\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n            x = sc.nextInt();\r\n            y = sc.nextInt();\r\n            \r\n            dp = new int[x+1][y+1];\r\n            for(int[] row : dp)\r\n                Arrays.fill(row,-1);\r\n            \r\n            System.out.println(ans(x, y, dp));\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Assuming initial position is (1, 1), find out if you can reach (x, y) by the following given rules at each step","body":"<p>Take a look at:</p>\n<blockquote>\n<p>if(sol(a, a+b, x, y)) return false;</p>\n</blockquote>\n<p>That condition should return true as mentioned in the problem that &quot;you can move only to (a+b,b) or (a,a+b)&quot;.</p>\n<pre><code>import java.util.*;\nclass Solution{\n    static boolean sol(int a, int b, int x, int y){\n        if( a == x &amp;&amp; b == y)\n            return true;\n        else if(a &gt; x || b &gt; y)\n            return false;\n        else{\n            if(sol(a+b, a, x, y)) return true;\n            if(sol(a, a+b, x, y)) return true;\n        }\n        return false;\n    }\n    static String ans(int x, int y){\n        if(sol(1, 1, x, y)) return &quot;Yes&quot;;\n        return &quot;No&quot;;\n    }\n    public static void main(String[] args) {\n        int x,y;\n        Scanner sc = new Scanner(System.in);\n            x = sc.nextInt();\n            y = sc.nextInt();\n            System.out.println(ans(x, y));\n        \n    }\n    \n}\n</code></pre>\n<p><strong>OPTIMAL APPROACH:</strong></p>\n<p>Use a two-dimensional matrix (x * y) to know whether that cell is visited or not and if visited to store the result.</p>\n<p>Not visited -&gt; -1</p>\n<p>visited and possible to reach to (x,y) from that position -&gt; 1</p>\n<p>visited and possible to reach to (x,y) from that position -&gt; 0</p>\n<pre><code>import java.util.*;\nclass Solution{\n    \n    static boolean sol(int a, int b, int x, int y, int[][] dp){\n        if( a == x &amp;&amp; b == y)\n            return true;\n        else if(a &gt; x || b &gt; y)\n            return false;\n        else if(dp[a][b] == 1)\n            return true;\n        else if(dp[a][b] == 0)\n            return false;\n        else if(sol(a+b, a, x, y, dp) || sol(a, a+b, x, y, dp)){\n                dp[a][b] = 1;\n                return true;\n        }\n        dp[a][b] = 0;\n        return false;\n    }\n    \n    static String ans(int x, int y, int[][] dp){\n        if(sol(1, 1, x, y, dp)) return &quot;Yes&quot;;\n        return &quot;No&quot;;\n    }\n    \n    public static void main(String[] args) {\n        int x,y;\n        int[][] dp;\n        \n        Scanner sc = new Scanner(System.in);\n        x = sc.nextInt();\n        y = sc.nextInt();\n        \n        dp = new int[x+1][y+1];\n        for(int[] row : dp)\n            Arrays.fill(row,-1);\n        \n        System.out.println(ans(x, y, dp));\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2672970,"reputation":331,"user_id":2309920,"display_name":"Viral Lalakia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600510657,"creation_date":1600504175,"answer_id":63966793,"question_id":63966620,"body_markdown":"Your question says:\r\n&gt; If the current position is (a,b) then in the next move, you can move only to (a+b,b) or (a,a+b).\r\n\r\nYour *mistakes* are (highlighted inline in **bold**):\r\n1. &lt;code&gt;if(sol(a+b, **a**, x, y)) return true; // a should be b&lt;/code&gt;\r\n2. &lt;code&gt;if(sol(a, a+b, x, y)) return **false**; // false should be true&lt;/code&gt;\r\n\r\n*Correct both points* with (highlighted inline in **bold**):\r\n1. &lt;code&gt;if(sol(a+b, **b**, x, y)) return true;&lt;/code&gt;\r\n2. &lt;code&gt;if(sol(a, a+b, x, y)) return **true**;&lt;/code&gt;\r\n\r\nOR simplify by combining them:\r\n&lt;code&gt;if(sol(a+b, **b**, x, y) || sol(a, a+b, x, y)) return true;&lt;/code&gt;\r\n\r\nWith above suggestion full code would be:\r\n```java\r\nimport java.util.*;\r\nclass Solution {\r\n    static boolean sol(int a, int b, int x, int y) {\r\n        if(a == x &amp;&amp; b == y)\r\n            return true;\r\n        else if(a &gt; x || b &gt; y)\r\n            return false;\r\n        else if(sol(a+b, b, x, y) || sol(a, a+b, x, y)) // fix applied here\r\n            return true;\r\n        return false;\r\n    }\r\n    static String ans(int x, int y) {\r\n        if(sol(1, 1, x, y)) return &quot;Yes&quot;;\r\n        return &quot;No&quot;;\r\n    }\r\n    public static void main(String[] args) {\r\n        int x, int y;\r\n        Scanner sc = new Scanner(System.in);\r\n        x = sc.nextInt();\r\n        y = sc.nextInt();\r\n        System.out.println(ans(x, y));\r\n    }\r\n}\r\n```\r\n---\r\n### Edit for optimized solution than brute force\r\nWe are starting with `(1, 1)` and any next step of `(a, b)` is `(a+b, b) or (a, a+b)` so `x &gt; 0 and y &gt; 0` is the required condition for any step `(x, y)`.\r\n\r\nNow, let&#39;s say,\r\n\r\n    Step k:   (a, b)  \r\n    Step k+1: (a2, b2) = (a+b, b) OR (a, a+b)\r\n\r\nSo  if we want to derive `step#k` from `step#k+1` then we can say `(a, b)` can be one of these two: `(a2 - b2, b2) OR (a2, b2 - a2)`. We can **easily remove one option** as we know that `a &gt; 0 and b &gt; 0`.\r\n* If `(a2 - b2) &gt; 0` then `(a, b)` must be `(a2 - b2, b2)`.\r\n* Similarly, if `(b2 - a2) &gt; 0` then `(a, b)` must be `(a2, b2 - a2)`.  \r\n* If `a2 == b2` (and not `1`) then `a2 - b2` and `b2 - a2` will be `0` which is impossible as `a &gt; 0 and b &gt; 0` is required condition.\r\n\r\nSo, we will start from destination `(x, y)` and try to reach `(1, 1)` by above observation in **linear time**. The gist will be:\r\n```java\r\nstatic boolean solve(int x, int y) {\r\n    if (x == 1 &amp;&amp; y == 1) {\r\n    \treturn true;\r\n    }\r\n    if (x == y || x &lt; 1 || y &lt; 1) {\r\n    \treturn false;\r\n    }\r\n    if (x &gt; y) {\r\n    \treturn solve(x - y, y);\r\n    } else {\r\n    \treturn solve(x, y - x);\r\n    }\r\n}\r\n```\r\n\r\nAbove solution is recursive and Ole V.V. has a good point in [this answer][1] about possible `StackOverflowError` if input numbers are large and stack memory allocation is relatively less. Based on his suggestion of the need of iterative solution, I am providing below gist for iterative approach:\r\n```java\r\nstatic boolean solve(int x, int y) {\r\n\twhile (x &gt; 0 &amp;&amp; y &gt; 0) {\r\n\t    if (x == y) {\r\n\t        return (x == 1); // x and y can be same if they are 1, otherwise impossible\r\n\t    }\r\n\t    if (x &gt; y) {\r\n\t        x = x - y;\r\n\t    } else {\r\n\t    \ty = y - x;\r\n\t    }\r\n\t}\r\n\treturn false;\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/63967447/2309920","title":"Assuming initial position is (1, 1), find out if you can reach (x, y) by the following given rules at each step","body":"<p>Your question says:</p>\n<blockquote>\n<p>If the current position is (a,b) then in the next move, you can move only to (a+b,b) or (a,a+b).</p>\n</blockquote>\n<p>Your <em>mistakes</em> are (highlighted inline in <strong>bold</strong>):</p>\n<ol>\n<li><code>if(sol(a+b, <strong>a</strong>, x, y)) return true; // a should be b</code></li>\n<li><code>if(sol(a, a+b, x, y)) return <strong>false</strong>; // false should be true</code></li>\n</ol>\n<p><em>Correct both points</em> with (highlighted inline in <strong>bold</strong>):</p>\n<ol>\n<li><code>if(sol(a+b, <strong>b</strong>, x, y)) return true;</code></li>\n<li><code>if(sol(a, a+b, x, y)) return <strong>true</strong>;</code></li>\n</ol>\n<p>OR simplify by combining them:\n<code>if(sol(a+b, <strong>b</strong>, x, y) || sol(a, a+b, x, y)) return true;</code></p>\n<p>With above suggestion full code would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nclass Solution {\n    static boolean sol(int a, int b, int x, int y) {\n        if(a == x &amp;&amp; b == y)\n            return true;\n        else if(a &gt; x || b &gt; y)\n            return false;\n        else if(sol(a+b, b, x, y) || sol(a, a+b, x, y)) // fix applied here\n            return true;\n        return false;\n    }\n    static String ans(int x, int y) {\n        if(sol(1, 1, x, y)) return &quot;Yes&quot;;\n        return &quot;No&quot;;\n    }\n    public static void main(String[] args) {\n        int x, int y;\n        Scanner sc = new Scanner(System.in);\n        x = sc.nextInt();\n        y = sc.nextInt();\n        System.out.println(ans(x, y));\n    }\n}\n</code></pre>\n<hr />\n<h3>Edit for optimized solution than brute force</h3>\n<p>We are starting with <code>(1, 1)</code> and any next step of <code>(a, b)</code> is <code>(a+b, b) or (a, a+b)</code> so <code>x &gt; 0 and y &gt; 0</code> is the required condition for any step <code>(x, y)</code>.</p>\n<p>Now, let's say,</p>\n<pre><code>Step k:   (a, b)  \nStep k+1: (a2, b2) = (a+b, b) OR (a, a+b)\n</code></pre>\n<p>So  if we want to derive <code>step#k</code> from <code>step#k+1</code> then we can say <code>(a, b)</code> can be one of these two: <code>(a2 - b2, b2) OR (a2, b2 - a2)</code>. We can <strong>easily remove one option</strong> as we know that <code>a &gt; 0 and b &gt; 0</code>.</p>\n<ul>\n<li>If <code>(a2 - b2) &gt; 0</code> then <code>(a, b)</code> must be <code>(a2 - b2, b2)</code>.</li>\n<li>Similarly, if <code>(b2 - a2) &gt; 0</code> then <code>(a, b)</code> must be <code>(a2, b2 - a2)</code>.</li>\n<li>If <code>a2 == b2</code> (and not <code>1</code>) then <code>a2 - b2</code> and <code>b2 - a2</code> will be <code>0</code> which is impossible as <code>a &gt; 0 and b &gt; 0</code> is required condition.</li>\n</ul>\n<p>So, we will start from destination <code>(x, y)</code> and try to reach <code>(1, 1)</code> by above observation in <strong>linear time</strong>. The gist will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean solve(int x, int y) {\n    if (x == 1 &amp;&amp; y == 1) {\n        return true;\n    }\n    if (x == y || x &lt; 1 || y &lt; 1) {\n        return false;\n    }\n    if (x &gt; y) {\n        return solve(x - y, y);\n    } else {\n        return solve(x, y - x);\n    }\n}\n</code></pre>\n<p>Above solution is recursive and Ole V.V. has a good point in <a href=\"https://stackoverflow.com/a/63967447/2309920\">this answer</a> about possible <code>StackOverflowError</code> if input numbers are large and stack memory allocation is relatively less. Based on his suggestion of the need of iterative solution, I am providing below gist for iterative approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean solve(int x, int y) {\n    while (x &gt; 0 &amp;&amp; y &gt; 0) {\n        if (x == y) {\n            return (x == 1); // x and y can be same if they are 1, otherwise impossible\n        }\n        if (x &gt; y) {\n            x = x - y;\n        } else {\n            y = y - x;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639325880,"creation_date":1600507197,"answer_id":63967172,"question_id":63966620,"body_markdown":"[Viral Lalakia][1] has already pointed out the logical problems you had, however, the current approach wastes a lot of memory.\r\n\r\n**Explanation**: You are using recursion, which is implicit usage of the [stack][2], where your called methods and their status is stored. If x and y are VERY large numbers, then you will get a stack overflow issue (no pun intended!).\r\n\r\n# Solution\r\n\r\nWe know that\r\n- initially you are on point (1, 1)\r\n- your (a, b) position is either (1, 1), (a&#39; + b, b) or (a, a + b&#39;)\r\n- if a &gt; b, then a = a&#39; + b, so, the previous position is (a - b, b)\r\n- if a &lt; b, then b = a + b&#39;, so, the previous position is (a, b - a)\r\n- if a == b, then you are either on the initial position of (1, 1), or, you cannot determine by the sheer values what was the previous state\r\n\r\nThis allows you to save a LOT of memory, assuming that you implement this iteratively. The ideas you need to comply to are as follows:\r\n\r\n- if you have reached (x, y), then the algorithm ends, no matter what happened, as the question is whether it&#39;s solvable, you do not need to store the actual solution\r\n- when you perform a step, you need to know whether you have added one of the coordinates to the other, or you have taken a step back\r\n- if the point looks like (a, a), then you need to store what the previous value was in a stack, as well as the direction you have taken, so you can go back to it, positions of (a, a) must be treated in a special manner\r\n- if you are NOT just after a backwards move, then try to increase the left coordinate first\r\n- if you are just after a backwards move and before taking a backwards move, either a &gt; b was true, or a == b was true with the condition that in the stack I have mentioned earlier the direction was in the left, then increment the second coordinate instead of the first one and change the direction of the top entry of the stack if it exists\r\n- if you are just after a backwards move and either a &lt; b was true, or a == b was true with the condition that in the stack the first coordinate is higher than the second, then the next move will be backwards as well\r\n- if you perform a backwards move and the position before the backwards move was like (a, a), then you can remove the corresponding entry from your stack\r\n- if, after a backward move you reach (1, 1), then you can end the algorithm, regardless of what the direction was, because having a step of (2, 1) is identical with having the step of (1, 2), including the subtrees, due to the commutative nature of adding\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63966620/assuming-initial-position-is-1-1-find-out-if-you-can-reach-x-y-by-the-fol/63966793#63966793\r\n  [2]: https://gribblelab.org/CBootCamp/7_Memory_Stack_vs_Heap.html","title":"Assuming initial position is (1, 1), find out if you can reach (x, y) by the following given rules at each step","body":"<p><a href=\"https://stackoverflow.com/questions/63966620/assuming-initial-position-is-1-1-find-out-if-you-can-reach-x-y-by-the-fol/63966793#63966793\">Viral Lalakia</a> has already pointed out the logical problems you had, however, the current approach wastes a lot of memory.</p>\n<p><strong>Explanation</strong>: You are using recursion, which is implicit usage of the <a href=\"https://gribblelab.org/CBootCamp/7_Memory_Stack_vs_Heap.html\" rel=\"nofollow noreferrer\">stack</a>, where your called methods and their status is stored. If x and y are VERY large numbers, then you will get a stack overflow issue (no pun intended!).</p>\n<h1>Solution</h1>\n<p>We know that</p>\n<ul>\n<li>initially you are on point (1, 1)</li>\n<li>your (a, b) position is either (1, 1), (a' + b, b) or (a, a + b')</li>\n<li>if a &gt; b, then a = a' + b, so, the previous position is (a - b, b)</li>\n<li>if a &lt; b, then b = a + b', so, the previous position is (a, b - a)</li>\n<li>if a == b, then you are either on the initial position of (1, 1), or, you cannot determine by the sheer values what was the previous state</li>\n</ul>\n<p>This allows you to save a LOT of memory, assuming that you implement this iteratively. The ideas you need to comply to are as follows:</p>\n<ul>\n<li>if you have reached (x, y), then the algorithm ends, no matter what happened, as the question is whether it's solvable, you do not need to store the actual solution</li>\n<li>when you perform a step, you need to know whether you have added one of the coordinates to the other, or you have taken a step back</li>\n<li>if the point looks like (a, a), then you need to store what the previous value was in a stack, as well as the direction you have taken, so you can go back to it, positions of (a, a) must be treated in a special manner</li>\n<li>if you are NOT just after a backwards move, then try to increase the left coordinate first</li>\n<li>if you are just after a backwards move and before taking a backwards move, either a &gt; b was true, or a == b was true with the condition that in the stack I have mentioned earlier the direction was in the left, then increment the second coordinate instead of the first one and change the direction of the top entry of the stack if it exists</li>\n<li>if you are just after a backwards move and either a &lt; b was true, or a == b was true with the condition that in the stack the first coordinate is higher than the second, then the next move will be backwards as well</li>\n<li>if you perform a backwards move and the position before the backwards move was like (a, a), then you can remove the corresponding entry from your stack</li>\n<li>if, after a backward move you reach (1, 1), then you can end the algorithm, regardless of what the direction was, because having a step of (2, 1) is identical with having the step of (1, 2), including the subtrees, due to the commutative nature of adding</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639325513,"creation_date":1600509208,"answer_id":63967447,"question_id":63966620,"body_markdown":"## Optimized iterative solution\r\n\r\n&gt; but still, the code isn&#39;t working. It&#39;s giving me memory limit\r\n&gt; exceeded error. Is there any other logic for this program?\r\n\r\nOn my Java your program with the fixes from the answer from Viral Lalakia crashes with a stack overflow if either input is 10 000 or more. The limit may be adjusted by adjusting the memory allocation for your JVM, but in practice you cannot increase memory to whatever you might like. The effective solution is to avoid recursion and code an iterative solution.\r\n\r\nMy key idea is to iterate backward from the destination (x, y). Viral Lalakia’s optimized solution also goes backward from the destination, which saves *time*, but as long as recursion is used, I suspect that it doesn’t save *space*, which is what the recursive program is running out of.\r\n\r\nSo in a loop find the previous coordinates from x and y.\r\n\r\n - If x &lt; y the previous coordinates must have been (x, y - x). So subtract x from y.\r\n - If conversely x &gt; y do the opposite subtraction.\r\n - If x == y there are no possible previous coordinates. If we are at the starting point (1, 1), we know that a solution exists. Return true. If not, return false.\r\n\r\nFor each time through the loop check whether the number that you have decreased has become less than 1. If it has, there cannot be a solution. Return false.\r\n\r\n\r\nBTW, the algorithm is the same as the algorithm for finding the greatest common divisor of x and y. So the very easy solution would be `BigInteger.valueOf(x).gcd(BigInteger.valueOf(y))` and compare the result to `BigInteger.ONE` to determine whether a path exists.\r\n\r\n**Link:** [Answer by Viral Lalakia containing an optimized recursive solution](https://stackoverflow.com/a/63966793/5772882)","title":"Assuming initial position is (1, 1), find out if you can reach (x, y) by the following given rules at each step","body":"<h2>Optimized iterative solution</h2>\n<blockquote>\n<p>but still, the code isn't working. It's giving me memory limit\nexceeded error. Is there any other logic for this program?</p>\n</blockquote>\n<p>On my Java your program with the fixes from the answer from Viral Lalakia crashes with a stack overflow if either input is 10 000 or more. The limit may be adjusted by adjusting the memory allocation for your JVM, but in practice you cannot increase memory to whatever you might like. The effective solution is to avoid recursion and code an iterative solution.</p>\n<p>My key idea is to iterate backward from the destination (x, y). Viral Lalakia’s optimized solution also goes backward from the destination, which saves <em>time</em>, but as long as recursion is used, I suspect that it doesn’t save <em>space</em>, which is what the recursive program is running out of.</p>\n<p>So in a loop find the previous coordinates from x and y.</p>\n<ul>\n<li>If x &lt; y the previous coordinates must have been (x, y - x). So subtract x from y.</li>\n<li>If conversely x &gt; y do the opposite subtraction.</li>\n<li>If x == y there are no possible previous coordinates. If we are at the starting point (1, 1), we know that a solution exists. Return true. If not, return false.</li>\n</ul>\n<p>For each time through the loop check whether the number that you have decreased has become less than 1. If it has, there cannot be a solution. Return false.</p>\n<p>BTW, the algorithm is the same as the algorithm for finding the greatest common divisor of x and y. So the very easy solution would be <code>BigInteger.valueOf(x).gcd(BigInteger.valueOf(y))</code> and compare the result to <code>BigInteger.ONE</code> to determine whether a path exists.</p>\n<p><strong>Link:</strong> <a href=\"https://stackoverflow.com/a/63966793/5772882\">Answer by Viral Lalakia containing an optimized recursive solution</a></p>\n"}],"owner":{"account_id":14145396,"reputation":71,"user_id":10218878,"display_name":"Keerthi Nandigam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11926,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1600576047,"accepted_answer_id":63966707,"answer_count":4,"score":3,"last_activity_date":1639325880,"creation_date":1600502890,"question_id":63966620,"body_markdown":"&gt; You are given the coordinates (x,y). Initially, you are at (1,1) and\r\n&gt; are required to go to (x,y) using the following rule: If the current\r\n&gt; position is (a,b) then in the next move, you can move only to (a+b,b)\r\n&gt; or (a,a+b).  Write a program to check if you can reach (x,y) using\r\n&gt; only the described moves.\r\n\r\nI have tried to solve this problem that I mentioned above in Java through recursion. But the program was not working for some test cases. I could not find what is wrong. But I know it is a brute force method. \r\n\r\n    import java.util.*;\r\n    class Solution{\r\n    \tstatic boolean sol(int a, int b, int x, int y){\r\n    \t\tif( a == x &amp;&amp; b == y)\r\n    \t\t\treturn true;\r\n    \t\telse if(a &gt; x || b &gt; y)\r\n    \t\t\treturn false;\r\n    \t\telse{\r\n    \t\t\tif(sol(a+b, b, x, y)) return true;\r\n    \t\t\tif(sol(a, a+b, x, y)) return true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \tstatic String ans(int x, int y){\r\n    \t\tif(sol(1, 1, x, y)) return &quot;Yes&quot;;\r\n    \t\treturn &quot;No&quot;;\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint x, int y;\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\t\tx = sc.nextInt();\r\n    \t\t\ty = sc.nextInt();\r\n    \t\t\tSystem.out.println(ans(x, y));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is the code that I wrote. Can someone tell me an efficient for this solving this and tell me what&#39;s wrong with my code?","title":"Assuming initial position is (1, 1), find out if you can reach (x, y) by the following given rules at each step","body":"<blockquote>\n<p>You are given the coordinates (x,y). Initially, you are at (1,1) and\nare required to go to (x,y) using the following rule: If the current\nposition is (a,b) then in the next move, you can move only to (a+b,b)\nor (a,a+b).  Write a program to check if you can reach (x,y) using\nonly the described moves.</p>\n</blockquote>\n<p>I have tried to solve this problem that I mentioned above in Java through recursion. But the program was not working for some test cases. I could not find what is wrong. But I know it is a brute force method.</p>\n<pre><code>import java.util.*;\nclass Solution{\n    static boolean sol(int a, int b, int x, int y){\n        if( a == x &amp;&amp; b == y)\n            return true;\n        else if(a &gt; x || b &gt; y)\n            return false;\n        else{\n            if(sol(a+b, b, x, y)) return true;\n            if(sol(a, a+b, x, y)) return true;\n        }\n        return false;\n    }\n    static String ans(int x, int y){\n        if(sol(1, 1, x, y)) return &quot;Yes&quot;;\n        return &quot;No&quot;;\n    }\n    public static void main(String[] args) {\n        int x, int y;\n        Scanner sc = new Scanner(System.in);\n            x = sc.nextInt();\n            y = sc.nextInt();\n            System.out.println(ans(x, y));\n        \n    }\n    \n}\n</code></pre>\n<p>This is the code that I wrote. Can someone tell me an efficient for this solving this and tell me what's wrong with my code?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639303704,"post_id":70322289,"comment_id":124310173,"body_markdown":"So you say that this line `Log.e(&quot;LogTag&quot;, &quot;list.toString(): &quot; + list.toString());` prints `0`? Besides that, if you use `.equalTo(Integer.toString(76));` are you getting the same result?","body":"So you say that this line <code>Log.e(&quot;LogTag&quot;, &quot;list.toString(): &quot; + list.toString());</code> prints <code>0</code>? Besides that, if you use <code>.equalTo(Integer.toString(76));</code> are you getting the same result?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1639761152,"post_id":70322289,"comment_id":124439482,"body_markdown":"@AlexMamo: Thanks for your answer Alex. Frank has already answered my question. But I have another question to the approach you explained in your video (https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo). In the video you put all the code for the firebase database operations inside the MainActivity and I put all  the code for the firebase database operations inside my fragment. Is it also possible to just have one static database class for firebase that I can use for mutiple fragments? Otherwise I would have to implement your approach in every fragment (mosty copy and paste)?","body":"@AlexMamo: Thanks for your answer Alex. Frank has already answered my question. But I have another question to the approach you explained in your video (<a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo</a>). In the video you put all the code for the firebase database operations inside the MainActivity and I put all  the code for the firebase database operations inside my fragment. Is it also possible to just have one static database class for firebase that I can use for mutiple fragments? Otherwise I would have to implement your approach in every fragment (mosty copy and paste)?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639814494,"post_id":70322289,"comment_id":124448864,"body_markdown":"I think you might be interested in reading this article, [How to read data from Firebase Realtime Database using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"I think you might be interested in reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1639816060,"post_id":70322289,"comment_id":124449083,"body_markdown":"@AlexMamo: Thanks for the answer. I already knew this article. It is however not helpful in my case as I don&#39;t use Kotlin (and everything in this article is explained with Kotlin). Further, I would like to use the approach you explained in the video (https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo) just with a query as I am doing now. I don&#39;t want to change from that to the get approach. So my question is whether I can use the approach explained in your video with a query inside a single Java class for all Firebase queries that has static methods for all Firebase operations?","body":"@AlexMamo: Thanks for the answer. I already knew this article. It is however not helpful in my case as I don&#39;t use Kotlin (and everything in this article is explained with Kotlin). Further, I would like to use the approach you explained in the video (<a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo</a>) just with a query as I am doing now. I don&#39;t want to change from that to the get approach. So my question is whether I can use the approach explained in your video with a query inside a single Java class for all Firebase queries that has static methods for all Firebase operations?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639816956,"post_id":70322289,"comment_id":124449214,"body_markdown":"If I knew the queries that you want to perform, I could answer that. If you want, you can add a new question, here on Stackoverflow.","body":"If I knew the queries that you want to perform, I could answer that. If you want, you can add a new question, here on Stackoverflow."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1639818073,"post_id":70322289,"comment_id":124449361,"body_markdown":"Thanks Alex Mamo for your answer and effort. Actually I was just generally asking whether and how to use your approach explained in the your video (https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo) in one class with (most probably) static methods as you use the Firebase operations for reading data in the video in the MainActivity. One example is the Fragment and the query I posted above (with the tiny corrections from Frank regarding the String in the query). In the code the Firebase read operations are in the Fragment and I&#39;m wondering how to put them in a separate Java class.","body":"Thanks Alex Mamo for your answer and effort. Actually I was just generally asking whether and how to use your approach explained in the your video (<a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo</a>) in one class with (most probably) static methods as you use the Firebase operations for reading data in the video in the MainActivity. One example is the Fragment and the query I posted above (with the tiny corrections from Frank regarding the String in the query). In the code the Firebase read operations are in the Fragment and I&#39;m wondering how to put them in a separate Java class."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639818534,"post_id":70322289,"comment_id":124449424,"body_markdown":"I think I get it. In that case, I recommend you use [Android Architecture Components](https://developer.android.com/topic/architecture) as seen in this [repo](https://github.com/alexmamo/FirebaseApp-Clean-Architecture-MVVM). And that&#39;s Java code.","body":"I think I get it. In that case, I recommend you use <a href=\"https://developer.android.com/topic/architecture\" rel=\"nofollow noreferrer\">Android Architecture Components</a> as seen in this <a href=\"https://github.com/alexmamo/FirebaseApp-Clean-Architecture-MVVM\" rel=\"nofollow noreferrer\">repo</a>. And that&#39;s Java code."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":1,"creation_date":1639819166,"post_id":70322289,"comment_id":124449515,"body_markdown":"Thanks for your answer Alex. I will have a look at it. But think I will later ask a separate question about my code and the approach (it will be exactly the same code as in this question but the question will be a different one).","body":"Thanks for your answer Alex. I will have a look at it. But think I will later ask a separate question about my code and the approach (it will be exactly the same code as in this question but the question will be a different one)."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639324912,"creation_date":1639324912,"answer_id":70325223,"question_id":70322289,"body_markdown":"Your `orderID` field is stored as a number, yet you&#39;re trying to compare it to a string here:\r\n```\r\nQuery query = rootRef.child(&quot;Ratings&quot;).orderByChild(&quot;orderID&quot;).equalTo(Integer.toString(orderId));\r\n```\r\n\r\nComparisons in Firebase are type-sensitive, so a string `&quot;76&quot;` is not the same as the number `76`, which is why you get no results.\r\n\r\nThe solution is to pass the value to the database as a number:\r\n```\r\nQuery query = rootRef.child(&quot;Ratings&quot;).orderByChild(&quot;orderID&quot;).equalTo(orderId);\r\n```\r\n","title":"How to check whether an entry with a value exists in Firebase with asynchronous query handling","body":"<p>Your <code>orderID</code> field is stored as a number, yet you're trying to compare it to a string here:</p>\n<pre><code>Query query = rootRef.child(&quot;Ratings&quot;).orderByChild(&quot;orderID&quot;).equalTo(Integer.toString(orderId));\n</code></pre>\n<p>Comparisons in Firebase are type-sensitive, so a string <code>&quot;76&quot;</code> is not the same as the number <code>76</code>, which is why you get no results.</p>\n<p>The solution is to pass the value to the database as a number:</p>\n<pre><code>Query query = rootRef.child(&quot;Ratings&quot;).orderByChild(&quot;orderID&quot;).equalTo(orderId);\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70325223,"answer_count":1,"score":1,"last_activity_date":1639324912,"creation_date":1639300555,"question_id":70322289,"body_markdown":"I have the following Firebase database.\r\n[![enter image description here][1]][1]\r\n\r\nI would like to query the database &quot;Ratings&quot; sucht that every entry with a certain `orderID` should be returned. For this I tried to combine the asynchronous handling of the Firebase API (explained in this video https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo) with the query approach (explained here https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database/47893879?noredirect=1#comment124309253_47893879). \r\n\r\nHere you can see the code of my Java Fragment (the full name of the database URL is not given due to privacy reasons):\r\n\r\n\r\n    public class FR_Rating extends Fragment implements View.OnClickListener {\r\n        private int orderId =-1;\r\n        private FragmenRateBinding binding;\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n    \r\n            binding = FragmenRateBinding.inflate(inflater, container, false);\r\n            orderId = FR_RatingArgs.fromBundle(getArguments()).getOrderId();\r\n    \r\n            // Set onclick Listeners to the buttoms\r\n            binding.rateButton.setOnClickListener(this);\r\n    \r\n            return binding.getRoot();\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n                float numberOfStars = binding.ratingBar.getRating();\r\n    \r\n                /*\r\n                Read data from the Firebase DB\r\n                 */\r\n                long currentTimeMillis = System.currentTimeMillis();\r\n                SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;dd-MM-yy&quot;);\r\n                sdf1.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n                SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;HH:mm (dd.MM.yy)&quot;);\r\n                sdf2.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n    \r\n                String entryIdPrefix = &quot;table_&quot; + MainActivity.tableNumber + &quot;_rating_&quot; + MainActivity.ratingNumberOfTheSession;\r\n    \r\n                Item_FirebaseDB_Rating currentRating = new Item_FirebaseDB_Rating(MainActivity.ratingNumberOfTheSession, numberOfStars, orderId, MainActivity.tableNumber,currentTimeMillis, sdf2.format(new Date()));\r\n    \r\n                DatabaseReference rootRef;\r\n                DatabaseReference ratingRef;\r\n                ArrayList&lt;String&gt; ratingList;\r\n\r\n                rootRef = FirebaseDatabase.getInstance(&quot;https://...&quot;).getReference();\r\n                Query query = rootRef.child(&quot;Ratings&quot;).orderByChild(&quot;orderID&quot;).equalTo(Integer.toString(orderId));\r\n                \r\n                ratingList = new ArrayList&lt;&gt;();\r\n    \r\n                readDataFirebase(new FirebaseCallback() {\r\n                    @Override\r\n                    public void onCallBack(List&lt;String&gt; list) {\r\n                        Log.e(&quot;LogTag&quot;, &quot;list.toString(): &quot; + list.toString());\r\n                        if (ratingList.size()==0) {\r\n                            Log.e(&quot;LogTag&quot;, &quot;Item will be rated&quot;);\r\n                            writeDataIntoFirebaseDB(currentRating, entryIdPrefix);\r\n                        }\r\n                        if (ratingList.size()&gt;0) {\r\n                            Log.e(&quot;LogTag&quot;, &quot;Item has already been rated&quot;);\r\n                        }\r\n                    }\r\n                }, ratingList, query, Integer.toString(orderId));\r\n    \r\n                Navigation.findNavController(getView()).navigate(FR_RatingDirections.actionFRRatingToFRMyMenu());\r\n        }//End method onClick\r\n    \r\n        private void readDataFirebase (FirebaseCallback firebaseCallback, ArrayList ratingList,Query query, String currentOrderID ) {\r\n            ValueEventListener valueEventListener = new ValueEventListener() {\r\n                int numberOfChildren =0;\r\n                @Override\r\n                public void onDataChange( DataSnapshot dataSnapshot) {\r\n                    for(DataSnapshot ds: dataSnapshot.getChildren()) {\r\n                        numberOfChildren++;\r\n    \r\n                        String itemName = ds.child(&quot;orderID&quot;).getValue(Long.class).toString();\r\n                        if (itemName.equals(currentOrderID)) {\r\n                            ratingList.add(itemName);\r\n                        }\r\n                    }\r\n                    Log.e(&quot;LogTag&quot;, &quot;Method readDataFirebase - numberOfChildren: &quot; + numberOfChildren);\r\n                    firebaseCallback.onCallBack (ratingList);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled( DatabaseError error) {\r\n                }\r\n            };\r\n    \r\n            query.addListenerForSingleValueEvent(valueEventListener);\r\n    \r\n        }\r\n    \r\n        private interface FirebaseCallback  {\r\n            void onCallBack(List&lt;String&gt; list);\r\n        }\r\n        \r\n        public void writeDataIntoFirebaseDB (Item_FirebaseDB_Rating currentRating, String entryIdPrefix) {\r\n    \r\n            MainActivity.ratingNumberOfTheSession++;\r\n            \r\n            //Call of a static method in the class HelpFunctions that just writes the data into the Firebase Database\r\n            boolean internetConnectionWasAvailableWhileWriting = HelpFunctions.writeDataIntoFirebaseDB(currentRating, DataBaseEntries.FIREBASE_TABLE_RATINGS, entryIdPrefix);\r\n        }\r\n    }//End class Fragment\r\n\r\nUnfortunately I always get an empty result of the query, even if the particual entry exists. For example I would like to return the entry whose attribute  &#180;orderID&#180; is 76. But I get an empty result in the method `readDataFirebase`.\r\n\r\nCan some tell me, what to do this properly?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/103JU.png\r\n","title":"How to check whether an entry with a value exists in Firebase with asynchronous query handling","body":"<p>I have the following Firebase database.\n<a href=\"https://i.stack.imgur.com/103JU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/103JU.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to query the database &quot;Ratings&quot; sucht that every entry with a certain <code>orderID</code> should be returned. For this I tried to combine the asynchronous handling of the Firebase API (explained in this video <a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=OvDZVV5CbQg&amp;ab_channel=AlexMamo</a>) with the query approach (explained here <a href=\"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database/47893879?noredirect=1#comment124309253_47893879\">Checking if a particular value exists in the Firebase database</a>).</p>\n<p>Here you can see the code of my Java Fragment (the full name of the database URL is not given due to privacy reasons):</p>\n<pre><code>public class FR_Rating extends Fragment implements View.OnClickListener {\n    private int orderId =-1;\n    private FragmenRateBinding binding;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n        binding = FragmenRateBinding.inflate(inflater, container, false);\n        orderId = FR_RatingArgs.fromBundle(getArguments()).getOrderId();\n\n        // Set onclick Listeners to the buttoms\n        binding.rateButton.setOnClickListener(this);\n\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onClick(View view) {\n            float numberOfStars = binding.ratingBar.getRating();\n\n            /*\n            Read data from the Firebase DB\n             */\n            long currentTimeMillis = System.currentTimeMillis();\n            SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;dd-MM-yy&quot;);\n            sdf1.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\n            SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;HH:mm (dd.MM.yy)&quot;);\n            sdf2.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\n\n            String entryIdPrefix = &quot;table_&quot; + MainActivity.tableNumber + &quot;_rating_&quot; + MainActivity.ratingNumberOfTheSession;\n\n            Item_FirebaseDB_Rating currentRating = new Item_FirebaseDB_Rating(MainActivity.ratingNumberOfTheSession, numberOfStars, orderId, MainActivity.tableNumber,currentTimeMillis, sdf2.format(new Date()));\n\n            DatabaseReference rootRef;\n            DatabaseReference ratingRef;\n            ArrayList&lt;String&gt; ratingList;\n\n            rootRef = FirebaseDatabase.getInstance(&quot;https://...&quot;).getReference();\n            Query query = rootRef.child(&quot;Ratings&quot;).orderByChild(&quot;orderID&quot;).equalTo(Integer.toString(orderId));\n            \n            ratingList = new ArrayList&lt;&gt;();\n\n            readDataFirebase(new FirebaseCallback() {\n                @Override\n                public void onCallBack(List&lt;String&gt; list) {\n                    Log.e(&quot;LogTag&quot;, &quot;list.toString(): &quot; + list.toString());\n                    if (ratingList.size()==0) {\n                        Log.e(&quot;LogTag&quot;, &quot;Item will be rated&quot;);\n                        writeDataIntoFirebaseDB(currentRating, entryIdPrefix);\n                    }\n                    if (ratingList.size()&gt;0) {\n                        Log.e(&quot;LogTag&quot;, &quot;Item has already been rated&quot;);\n                    }\n                }\n            }, ratingList, query, Integer.toString(orderId));\n\n            Navigation.findNavController(getView()).navigate(FR_RatingDirections.actionFRRatingToFRMyMenu());\n    }//End method onClick\n\n    private void readDataFirebase (FirebaseCallback firebaseCallback, ArrayList ratingList,Query query, String currentOrderID ) {\n        ValueEventListener valueEventListener = new ValueEventListener() {\n            int numberOfChildren =0;\n            @Override\n            public void onDataChange( DataSnapshot dataSnapshot) {\n                for(DataSnapshot ds: dataSnapshot.getChildren()) {\n                    numberOfChildren++;\n\n                    String itemName = ds.child(&quot;orderID&quot;).getValue(Long.class).toString();\n                    if (itemName.equals(currentOrderID)) {\n                        ratingList.add(itemName);\n                    }\n                }\n                Log.e(&quot;LogTag&quot;, &quot;Method readDataFirebase - numberOfChildren: &quot; + numberOfChildren);\n                firebaseCallback.onCallBack (ratingList);\n            }\n\n            @Override\n            public void onCancelled( DatabaseError error) {\n            }\n        };\n\n        query.addListenerForSingleValueEvent(valueEventListener);\n\n    }\n\n    private interface FirebaseCallback  {\n        void onCallBack(List&lt;String&gt; list);\n    }\n    \n    public void writeDataIntoFirebaseDB (Item_FirebaseDB_Rating currentRating, String entryIdPrefix) {\n\n        MainActivity.ratingNumberOfTheSession++;\n        \n        //Call of a static method in the class HelpFunctions that just writes the data into the Firebase Database\n        boolean internetConnectionWasAvailableWhileWriting = HelpFunctions.writeDataIntoFirebaseDB(currentRating, DataBaseEntries.FIREBASE_TABLE_RATINGS, entryIdPrefix);\n    }\n}//End class Fragment\n</code></pre>\n<p>Unfortunately I always get an empty result of the query, even if the particual entry exists. For example I would like to return the entry whose attribute  ´orderID´ is 76. But I get an empty result in the method <code>readDataFirebase</code>.</p>\n<p>Can some tell me, what to do this properly?</p>\n"},{"tags":["java","spring","multithreading"],"answers":[{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639084189,"creation_date":1639080283,"answer_id":70296041,"question_id":70295772,"body_markdown":"There are different ways to do it, here is my suggestion:\r\n\r\nCreate a list of `Callable` (see more about it in the [docs][1]):\r\n\r\n    List&lt;Callable&lt;Object&gt;&gt; callables = new ArrayList&lt;&gt;();\r\n\r\nAdd your tasks to this list:\r\n\r\n    callables.add(() -&gt; {\r\n                // do something\r\n            });\r\n\r\nThen invoke those Callables by passing them to the `invokeAll()` method of `ExecutorService` and receive a List of `Future&lt;Object&gt;`. For example:\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(5);\r\n    List&lt;Future&lt;Object&gt;&gt; results = executor.invokeAll(callables);\r\n   \r\nYou can then get each of the thread results by getting them via index call from the `result` list - in the same order as which you passed them to your Callable list.\r\n\r\nSo, to get the result of the first thread that you passed to the Callable list, simply do:\r\n\r\n      CastedResult result = (CastedResult) results.get(0).get(); \r\n\r\nFinally, you can collect all results in a single list as you wish.\r\n\r\nAlso, this is a helpful [article][2] on how to use `ExecutorService` (and remember to shutdown the Executor after you finish working with it, as explained here).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\r\n  [2]: https://www.baeldung.com/java-executor-service-tutorial\r\n","title":"How can I consolidate each thread result - java","body":"<p>There are different ways to do it, here is my suggestion:</p>\n<p>Create a list of <code>Callable</code> (see more about it in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">docs</a>):</p>\n<pre><code>List&lt;Callable&lt;Object&gt;&gt; callables = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Add your tasks to this list:</p>\n<pre><code>callables.add(() -&gt; {\n            // do something\n        });\n</code></pre>\n<p>Then invoke those Callables by passing them to the <code>invokeAll()</code> method of <code>ExecutorService</code> and receive a List of <code>Future&lt;Object&gt;</code>. For example:</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(5);\nList&lt;Future&lt;Object&gt;&gt; results = executor.invokeAll(callables);\n</code></pre>\n<p>You can then get each of the thread results by getting them via index call from the <code>result</code> list - in the same order as which you passed them to your Callable list.</p>\n<p>So, to get the result of the first thread that you passed to the Callable list, simply do:</p>\n<pre><code>  CastedResult result = (CastedResult) results.get(0).get(); \n</code></pre>\n<p>Finally, you can collect all results in a single list as you wish.</p>\n<p>Also, this is a helpful <a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\">article</a> on how to use <code>ExecutorService</code> (and remember to shutdown the Executor after you finish working with it, as explained here).</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639324661,"creation_date":1639249597,"answer_id":70318201,"question_id":70295772,"body_markdown":"&gt; I want execute some java logic with multiple threads and that method return a List. So finally I want all threads result into single List?\r\n\r\nThere are a couple of ways that I can think of to do this.  One way would be to pass a `BlockingQueue` into all of the jobs.  Then they each can be adding results into the same collection.\r\n\r\nAny other solution probably means that each job returns a `List` and as you join with the jobs you add the per-job list into a final list.\r\n\r\n\tExecutorService threadPool = Executors.newFixedThreadPool(NUM_THREADS);\r\n\tList&lt;Future&lt;List&lt;Foo&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\tfor (int i = 0; i &lt; NUM_JOBS; i++) {\r\n\t\t// add another job to the thread-pool and record the future\r\n\t\tfutures.add(threadPool.submit(new Callable&lt;List&lt;Foo&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic List&lt;Foo&gt; call() throws Exception {\r\n\t\t\t\t// create the list here\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// shutdown the pool but the jobs continue running\r\n\tthreadPool.shutdown();\r\n\tList&lt;Foo&gt; finalList = new ArrayList&lt;Foo&gt;();\r\n\tfor (Future&lt;List&lt;Foo&gt;&gt; future : futures) {\r\n\t    // calling get waits for each job to finish in order\r\n\t\t// we add all of the results from the job list into the final list\r\n\t    finalList.addAll(future.get());\r\n\t}\r\n\r\nThis waits for each of the jobs in order.  If you want to add the results into the list as they finish then you can use a [ExecutorCompletionService][1].\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html","title":"How can I consolidate each thread result - java","body":"<blockquote>\n<p>I want execute some java logic with multiple threads and that method return a List. So finally I want all threads result into single List?</p>\n</blockquote>\n<p>There are a couple of ways that I can think of to do this.  One way would be to pass a <code>BlockingQueue</code> into all of the jobs.  Then they each can be adding results into the same collection.</p>\n<p>Any other solution probably means that each job returns a <code>List</code> and as you join with the jobs you add the per-job list into a final list.</p>\n<pre><code>ExecutorService threadPool = Executors.newFixedThreadPool(NUM_THREADS);\nList&lt;Future&lt;List&lt;Foo&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; NUM_JOBS; i++) {\n    // add another job to the thread-pool and record the future\n    futures.add(threadPool.submit(new Callable&lt;List&lt;Foo&gt;&gt;() {\n        @Override\n        public List&lt;Foo&gt; call() throws Exception {\n            // create the list here\n            return list;\n        }\n    });\n}\n// shutdown the pool but the jobs continue running\nthreadPool.shutdown();\nList&lt;Foo&gt; finalList = new ArrayList&lt;Foo&gt;();\nfor (Future&lt;List&lt;Foo&gt;&gt; future : futures) {\n    // calling get waits for each job to finish in order\n    // we add all of the results from the job list into the final list\n    finalList.addAll(future.get());\n}\n</code></pre>\n<p>This waits for each of the jobs in order.  If you want to add the results into the list as they finish then you can use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a>.</p>\n"}],"owner":{"account_id":9615182,"reputation":235,"user_id":7138221,"display_name":"VKR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70296041,"answer_count":2,"score":0,"last_activity_date":1639324661,"creation_date":1639078683,"question_id":70295772,"body_markdown":"I want execute some java logic with multiple threads and that method return a List. So finally I want all threads result into single List? Is it possible with Java ExecutorService or Multithreading ? or any other java frameworks ?","title":"How can I consolidate each thread result - java","body":"<p>I want execute some java logic with multiple threads and that method return a List. So finally I want all threads result into single List? Is it possible with Java ExecutorService or Multithreading ? or any other java frameworks ?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":2719203,"reputation":425,"user_id":2659772,"accept_rate":0,"display_name":"Abhishek2k6"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463680582,"creation_date":1463680582,"answer_id":37330757,"question_id":10104238,"body_markdown":"           ILaunchManager manager = DebugPlugin.getDefault().getLaunchManager();\r\n\t\t\t\t\r\n           ILaunchConfigurationType type =     manager.getLaunchConfigurationType(&quot;org.eclipse.cdt.launch.applicationLaunchType&quot;);\r\n\t       ILaunchConfiguration[] lcs = manager.getLaunchConfigurations(type);\r\n\r\n\t\t\t\tfor (ILaunchConfiguration iLaunchConfiguration : lcs) {\r\n\t\t\t\t\tif (iLaunchConfiguration.getName().equals(&quot;Test PThread&quot;)) {\r\n\t\t\t\t\t\tILaunchConfigurationWorkingCopy t = iLaunchConfiguration.getWorkingCopy();\r\n\t\t\t\t\t\tILaunchConfiguration config = t.doSave();\r\n\t\t\t\t\t\tif (config != null) {\r\n\t\t\t\t\t\t\t// config.launch(ILaunchManager.RUN_MODE, null);\r\n\t\t\t\t\t\t\tDebugUITools.launch(config, ILaunchManager.DEBUG_MODE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}","title":"Eclipse: How can I execute a launch configuration programmatically?","body":"<pre><code>       ILaunchManager manager = DebugPlugin.getDefault().getLaunchManager();\n\n       ILaunchConfigurationType type =     manager.getLaunchConfigurationType(\"org.eclipse.cdt.launch.applicationLaunchType\");\n       ILaunchConfiguration[] lcs = manager.getLaunchConfigurations(type);\n\n            for (ILaunchConfiguration iLaunchConfiguration : lcs) {\n                if (iLaunchConfiguration.getName().equals(\"Test PThread\")) {\n                    ILaunchConfigurationWorkingCopy t = iLaunchConfiguration.getWorkingCopy();\n                    ILaunchConfiguration config = t.doSave();\n                    if (config != null) {\n                        // config.launch(ILaunchManager.RUN_MODE, null);\n                        DebugUITools.launch(config, ILaunchManager.DEBUG_MODE);\n                    }\n                }\n            }\n</code></pre>\n"}],"owner":{"display_name":"anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3877,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1639324383,"creation_date":1334140346,"question_id":10104238,"body_markdown":"I have various launch configuration files in my Eclipse project. Is there any way how I can execute an arbitrary launch configuration programmatically?","title":"Eclipse: How can I execute a launch configuration programmatically?","body":"<p>I have various launch configuration files in my Eclipse project. Is there any way how I can execute an arbitrary launch configuration programmatically?</p>\n"},{"tags":["java","csv","parsing","opencsv"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1639323997,"post_id":70324967,"comment_id":124314365,"body_markdown":"Is `45678&quot;` in second line of your example really correct? I can parse the csv correctly if I remove the double quote.","body":"Is <code>45678&quot;</code> in second line of your example really correct? I can parse the csv correctly if I remove the double quote."},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":0,"creation_date":1639324408,"post_id":70324967,"comment_id":124314469,"body_markdown":"@samabcde Sorry, it was a typo. Good catch. Did you use some specific parameters in the `CSVReader` constructor?","body":"@samabcde Sorry, it was a typo. Good catch. Did you use some specific parameters in the <code>CSVReader</code> constructor?"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1639325157,"post_id":70324967,"comment_id":124314649,"body_markdown":"Just create a reader by default, but I am using [newer version 5.5.1](https://mvnrepository.com/artifact/com.opencsv/opencsv)","body":"Just create a reader by default, but I am using <a href=\"https://mvnrepository.com/artifact/com.opencsv/opencsv\" rel=\"nofollow noreferrer\">newer version 5.5.1</a>"},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":1,"creation_date":1639384678,"post_id":70324967,"comment_id":124325829,"body_markdown":"@samabcde Thanks! I updated the version and succeeded to configure it with `Builders` to work and parse correctly.","body":"@samabcde Thanks! I updated the version and succeeded to configure it with <code>Builders</code> to work and parse correctly."}],"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639324330,"creation_date":1639323039,"question_id":70324967,"body_markdown":"I want to parse a .csv file in java. Most of the lines (rows) in the file are following a typical .csv convention, but there are some cases which causes trouble. I am not actually sure if those cases are allowed or not in a csv-styled document. The biggest troublemaker is the multi-line cell with the text wrapped into quotes:\r\n\r\n    &quot;text&quot;,12345,&quot;text2&quot;\r\n    &quot;text&quot;,45678,&quot;text2&quot;\r\n    &quot;text&quot;,23456,&quot;text\r\n    accross multiple\r\n    lines&quot;\r\n\r\nSo single cell in this case can be uniquely identified by quotes, so I guess it could work, but I cannot make `CSVReader` to parse it correctly. Any ides, how to set it up so it recognize this multi-line fields as a single field?\r\n\r\nThis is how I parse csv file in java:\r\n\r\n\ttry(FileInputStream fio = new FileInputStream(csvFile);\r\n\t\t\t\tInputStreamReader isr =  new InputStreamReader(fio, StandardCharsets.UTF_8);\r\n\t\t\t\tCSVReader reader = new CSVReader(isr, &#39;;&#39;, &#39;&quot;&#39;,true)){\r\n\t\t\t\r\n\t\t\t\tString[] line;\r\n\t\t\t\treader.readNext(); //skip header\r\n\t\t\t\twhile((line = reader.readNext()) != null) {\r\n\t\t\t\t\tupdatedDataTable.add(processOneLine(line, csvFile));\r\n\t\t\t\t}\r\n\r\n\t\t}catch(Exception e) {\r\n\t\t\tlog.error(&quot;Error&quot;, e);\r\n\t\t}\r\n\r\n`CSVReader` has a small set of parameters in the constructor that can define parsing rules, but I cannot configure it in a way so it could tolerate the issue I described above.","title":"Parsing CSV file with multi line fields using au.com.bytecode.opencsv.CSVReader.CSVReader","body":"<p>I want to parse a .csv file in java. Most of the lines (rows) in the file are following a typical .csv convention, but there are some cases which causes trouble. I am not actually sure if those cases are allowed or not in a csv-styled document. The biggest troublemaker is the multi-line cell with the text wrapped into quotes:</p>\n<pre><code>&quot;text&quot;,12345,&quot;text2&quot;\n&quot;text&quot;,45678,&quot;text2&quot;\n&quot;text&quot;,23456,&quot;text\naccross multiple\nlines&quot;\n</code></pre>\n<p>So single cell in this case can be uniquely identified by quotes, so I guess it could work, but I cannot make <code>CSVReader</code> to parse it correctly. Any ides, how to set it up so it recognize this multi-line fields as a single field?</p>\n<p>This is how I parse csv file in java:</p>\n<pre><code>try(FileInputStream fio = new FileInputStream(csvFile);\n            InputStreamReader isr =  new InputStreamReader(fio, StandardCharsets.UTF_8);\n            CSVReader reader = new CSVReader(isr, ';', '&quot;',true)){\n        \n            String[] line;\n            reader.readNext(); //skip header\n            while((line = reader.readNext()) != null) {\n                updatedDataTable.add(processOneLine(line, csvFile));\n            }\n\n    }catch(Exception e) {\n        log.error(&quot;Error&quot;, e);\n    }\n</code></pre>\n<p><code>CSVReader</code> has a small set of parameters in the constructor that can define parsing rules, but I cannot configure it in a way so it could tolerate the issue I described above.</p>\n"},{"tags":["java","javafx","datepicker"],"answers":[{"tags":[],"owner":{"account_id":442447,"reputation":3141,"user_id":833070,"accept_rate":100,"display_name":"Draken"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1567613833,"creation_date":1441180876,"answer_id":32347666,"question_id":32346893,"body_markdown":"[The bug log that I added above had the answer][1]. You can access the string value of the textbox via this code:\r\n\r\n    datePicker.getEditor().getText();\r\n\r\nSo setting the textbox value can be done via:\r\n\r\n    datePicker.setValue(datePicker.getConverter()\r\n        .fromString(datePicker.getEditor().getText()));\r\n\r\n\r\nI&#39;m adding an event to the lost focus event, that will force the datepicker value to be updated\r\n\r\n---\r\nAnd the working code:\r\n\r\n    public DatePicker getDatePicker(DtDate defaultDate, int width){\r\n\t\tDatePicker dtpckr = new DatePicker();\r\n\t\tdtpckr.setMaxWidth(width);\r\n\t\tdtpckr.setMinWidth(width);\r\n\t\tdtpckr.setConverter(new StringConverter&lt;LocalDate&gt;() {\r\n\t\t\tprivate DateTimeFormatter dateTimeFormatter=DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);\r\n\t\t\t@Override\r\n\t\t\tpublic String toString(LocalDate localDate) {\r\n\t\t\t\tif(localDate==null)\r\n\t\t            return &quot;&quot;;\r\n\t\t        return dateTimeFormatter.format(localDate);\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic LocalDate fromString(String dateString) {\r\n\t\t\t\tif(dateString==null || dateString.trim().isEmpty())\r\n\t\t            return null;\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn LocalDate.parse(dateString,dateTimeFormatter);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception e){\r\n\t\t\t\t\t//Bad date value entered\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tdtpckr.setPromptText(&quot;yyyy/MM/dd&quot;);\r\n\t\tdtpckr.setValue(LocalDate.parse(defaultDate.toString(), DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;)));\r\n\t\t//This deals with the bug located here where the datepicker value is not updated on focus lost\r\n\t\t//https://bugs.openjdk.java.net/browse/JDK-8092295?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\r\n\t\tdtpckr.focusedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n\t\t\t\tif (!newValue){\r\n\t\t\t\t\tdtpckr.setValue(dtpckr.getConverter().fromString(dtpckr.getEditor().getText()));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn dtpckr;\r\n\t}\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8092295?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel","title":"JavaFX datepicker not updating value","body":"<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8092295?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel\" rel=\"noreferrer\">The bug log that I added above had the answer</a>. You can access the string value of the textbox via this code:</p>\n\n<pre><code>datePicker.getEditor().getText();\n</code></pre>\n\n<p>So setting the textbox value can be done via:</p>\n\n<pre><code>datePicker.setValue(datePicker.getConverter()\n    .fromString(datePicker.getEditor().getText()));\n</code></pre>\n\n<p>I'm adding an event to the lost focus event, that will force the datepicker value to be updated</p>\n\n<hr>\n\n<p>And the working code:</p>\n\n<pre><code>public DatePicker getDatePicker(DtDate defaultDate, int width){\n    DatePicker dtpckr = new DatePicker();\n    dtpckr.setMaxWidth(width);\n    dtpckr.setMinWidth(width);\n    dtpckr.setConverter(new StringConverter&lt;LocalDate&gt;() {\n        private DateTimeFormatter dateTimeFormatter=DateTimeFormatter.ofPattern(\"yyyy/MM/dd\");\n        @Override\n        public String toString(LocalDate localDate) {\n            if(localDate==null)\n                return \"\";\n            return dateTimeFormatter.format(localDate);\n        }\n        @Override\n        public LocalDate fromString(String dateString) {\n            if(dateString==null || dateString.trim().isEmpty())\n                return null;\n            try{\n                return LocalDate.parse(dateString,dateTimeFormatter);\n            }\n            catch(Exception e){\n                //Bad date value entered\n                return null;\n            }\n        }\n    });\n    dtpckr.setPromptText(\"yyyy/MM/dd\");\n    dtpckr.setValue(LocalDate.parse(defaultDate.toString(), DateTimeFormatter.ofPattern(\"yyyy/MM/dd\")));\n    //This deals with the bug located here where the datepicker value is not updated on focus lost\n    //https://bugs.openjdk.java.net/browse/JDK-8092295?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\n    dtpckr.focusedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\n        @Override\n        public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n            if (!newValue){\n                dtpckr.setValue(dtpckr.getConverter().fromString(dtpckr.getEditor().getText()));\n            }\n        }\n    });\n    return dtpckr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482337969,"creation_date":1458090891,"answer_id":36025152,"question_id":32346893,"body_markdown":"I had the same problem. Did this trick to solve it:\r\n\r\n    Date date = DateConverter.toDate(datePicker.getEditor().getText());\r\n\r\nwhere `DateConverter.toDate()` is a method that converts the string to date.\r\n","title":"JavaFX datepicker not updating value","body":"<p>I had the same problem. Did this trick to solve it:</p>\n\n<pre><code>Date date = DateConverter.toDate(datePicker.getEditor().getText());\n</code></pre>\n\n<p>where <code>DateConverter.toDate()</code> is a method that converts the string to date.</p>\n"},{"tags":[],"owner":{"account_id":15651846,"reputation":41,"user_id":11293088,"display_name":"coffin dodger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564244428,"creation_date":1564244428,"answer_id":57233964,"question_id":32346893,"body_markdown":"@Draken&#39;s answer needs a little extra.  If the user types an invalid date the code will throw a DateTimeParseException.  You can emulate the DatePicker&#39;s own behaviour thus:\r\n````\r\ndtpckr.getEditor().focusedProperty().addListener((obj, wasFocused, isFocused)-&gt;{\r\n      if (!isFocused) {\r\n         try {\r\n             dtpckr.setValue(dtpckr.getConverter().fromString(dtpckr.getEditor().getText()));\r\n         } catch (DateTimeParseException e) {\r\n                dtpckr.getEditor().setText(dtpckr.getConverter().toString(dtpckr.getValue()));\r\n         }\r\n      }\r\n});\r\n````","title":"JavaFX datepicker not updating value","body":"<p>@Draken's answer needs a little extra.  If the user types an invalid date the code will throw a DateTimeParseException.  You can emulate the DatePicker's own behaviour thus:</p>\n\n<pre><code>dtpckr.getEditor().focusedProperty().addListener((obj, wasFocused, isFocused)-&gt;{\n      if (!isFocused) {\n         try {\n             dtpckr.setValue(dtpckr.getConverter().fromString(dtpckr.getEditor().getText()));\n         } catch (DateTimeParseException e) {\n                dtpckr.getEditor().setText(dtpckr.getConverter().toString(dtpckr.getValue()));\n         }\n      }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14981559,"reputation":81,"user_id":10815416,"display_name":"dixdragan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629289551,"creation_date":1629289551,"answer_id":68832390,"question_id":32346893,"body_markdown":"I know it’s a little off topic, but for a while I had users who didn’t press ENTER to submit, so I did this.\r\n\r\n    /**\r\n     * This will automatically submit the input on lost of focus, if it&#39;s typed but not submitted (with ENTER).\r\n     * \r\n     * @param picker to apply\r\n     */\r\n    private void activateAutoSubmit(DatePicker picker) {\r\n    \t// On Focus Leave Listener\r\n    \tpicker.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n    \t\tif (!newValue) {\r\n    \t\t\ttry {\r\n    \t\t\t\t// Set typed text to DatePicker value\r\n    \t\t\t\tpicker.setValue(picker.getConverter().fromString(picker.getEditor().getText()));\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t// For wrong input return old value\r\n    \t\t\t\tpicker.getEditor().setText(picker.getConverter().toString(picker.getValue()));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\nUsage\r\n\r\n    @FXML\r\n\tprivate DatePicker dateStart;\r\n\r\n\t@FXML\r\n\tprivate DatePicker dateEnd;\r\n\r\n    @FXML\r\n    private void initialize() {\r\n    \t...\r\n    \tactivateAutoSubmit(dateStart);\r\n    \tactivateAutoSubmit(dateEnd);\r\n    \t...\r\n    }","title":"JavaFX datepicker not updating value","body":"<p>I know it’s a little off topic, but for a while I had users who didn’t press ENTER to submit, so I did this.</p>\n<pre><code>/**\n * This will automatically submit the input on lost of focus, if it's typed but not submitted (with ENTER).\n * \n * @param picker to apply\n */\nprivate void activateAutoSubmit(DatePicker picker) {\n    // On Focus Leave Listener\n    picker.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n        if (!newValue) {\n            try {\n                // Set typed text to DatePicker value\n                picker.setValue(picker.getConverter().fromString(picker.getEditor().getText()));\n            } catch (Exception e) {\n                // For wrong input return old value\n                picker.getEditor().setText(picker.getConverter().toString(picker.getValue()));\n            }\n        }\n    });\n}\n</code></pre>\n<p>Usage</p>\n<pre><code>@FXML\nprivate DatePicker dateStart;\n\n@FXML\nprivate DatePicker dateEnd;\n\n@FXML\nprivate void initialize() {\n    ...\n    activateAutoSubmit(dateStart);\n    activateAutoSubmit(dateEnd);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14367834,"reputation":226,"user_id":10378322,"display_name":"Maran23"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639323446,"creation_date":1639322826,"answer_id":70324940,"question_id":32346893,"body_markdown":"I recently fixed this issue in the newest JavaFX version: https://github.com/openjdk/jfx/pull/679\r\n\r\nSo when JavaFX 18-ea+9 will be released you can use it and remove the workaround. :-)","title":"JavaFX datepicker not updating value","body":"<p>I recently fixed this issue in the newest JavaFX version: <a href=\"https://github.com/openjdk/jfx/pull/679\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx/pull/679</a></p>\n<p>So when JavaFX 18-ea+9 will be released you can use it and remove the workaround. :-)</p>\n"}],"owner":{"account_id":442447,"reputation":3141,"user_id":833070,"accept_rate":100,"display_name":"Draken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9276,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":32347666,"answer_count":5,"score":19,"last_activity_date":1639323446,"creation_date":1441178483,"question_id":32346893,"body_markdown":"Bit of an odd one, I&#39;m using JavaFX 8 and am having some odd behaviour I picked up during my Jubula testing.\r\n\r\nI have a datepicker control that is created with the following code:\r\n\r\n    public DatePicker getDatePicker(DtDate defaultDate, int width){\r\n\t\tDatePicker dtpckr = new DatePicker();\r\n\t\tdtpckr.setMaxWidth(width);\r\n\t\tdtpckr.setMinWidth(width);\r\n\t\tdtpckr.setConverter(new StringConverter&lt;LocalDate&gt;() {\r\n\t\t\tprivate DateTimeFormatter dateTimeFormatter=DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);\r\n\t\t\t@Override\r\n\t\t\tpublic String toString(LocalDate localDate) {\r\n\t\t\t\tif(localDate==null)\r\n\t\t            return &quot;&quot;;\r\n\t\t        return dateTimeFormatter.format(localDate);\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic LocalDate fromString(String dateString) {\r\n\t\t\t\tif(dateString==null || dateString.trim().isEmpty())\r\n\t\t            return null;\r\n\t\t        return LocalDate.parse(dateString,dateTimeFormatter);\r\n\t\t\t}\r\n\t\t});\r\n\t\tdtpckr.setPromptText(&quot;yyyy/MM/dd&quot;);\r\n\t\tdtpckr.setValue(LocalDate.parse(defaultDate.toString(), DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;)));\r\n\t\treturn dtpckr;\r\n\t}\r\n\r\nThat works fine and the control is created on the form and works as expected. If I use the calendar to pick the date, the value is updated.\r\n\r\nNow, for the odd part, if I enter in the datepicker and manually type the date in (E.g. 2017/10/11) and then exit the control by either tabbing or clicking on the next textbox on the form, the datepicker localdate value doesn&#39;t get updated. The only method to update the date would be to press enter to force the datepicker to realise a new value is present. This causes another problem as I have the following code:\r\n\r\n    public void createSetDateAndTimeControls(){\r\n\t\tDtDateAndTime currentDateAndTime;\r\n\t\ttry {\r\n\t\t\tcurrentDateAndTime = systemstateController.getServerDateTime();\r\n\t\t\t/*\r\n\t\t\t * Creating controls to be used on the form\r\n\t\t\t */\r\n\t\t\tint width = 150;\r\n\t\t\tDatePicker dtpckr = getDatePicker(currentDateAndTime.date, width);\r\n\t\t\tLabel lblDate = new Label(&quot;Date:&quot;);\r\n\t\t\tLabel lblTimeHour = new Label(&quot;Hour:&quot;);\r\n\t\t\tLabel lblTimeMinute = new Label(&quot;Minute:&quot;);\r\n\t\t\tLabel lblTimeSecond = new Label(&quot;Second:&quot;);\r\n\t\t\tTextField txtfldCurrentSetSecond = new TextField();\r\n\t\t\tTextField txtfldCurrentSetMinute = new TextField();\r\n\t\t\tTextField txtfldCurrentSetHour = new TextField();\r\n\t\t\tSlider sldrHourPicker = getSlider(width, SliderType.Hour, txtfldCurrentSetHour, currentDateAndTime.time);\r\n\t\t\tSlider sldrMinutePicker = getSlider(width, SliderType.Minute, txtfldCurrentSetMinute, currentDateAndTime.time);\r\n\t\t\tSlider sldrSecondPicker = getSlider(width, SliderType.Second, txtfldCurrentSetSecond, currentDateAndTime.time);\r\n\t\t\t/*\r\n\t\t\t * Adding a grid pane to keep controls in correct place and aligned correctly\r\n\t\t\t */\r\n\t\t\tGridPane grdpn = new GridPane();\r\n\t\t\tgrdpn.add(lblDate, 1, 1);\r\n\t\t\tgrdpn.add(dtpckr, 2, 1, 2,1);\r\n\t\t\tgrdpn.add(lblTimeHour, 1, 2);\r\n\t\t\tgrdpn.add(sldrHourPicker, 2, 2, 2 ,1);\r\n\t\t\tgrdpn.add(txtfldCurrentSetHour, 4, 2);\r\n\t\t\tgrdpn.add(lblTimeMinute, 1, 3);\r\n\t\t\tgrdpn.add(sldrMinutePicker, 2, 3, 2, 1);\r\n\t\t\tgrdpn.add(txtfldCurrentSetMinute, 4, 3);\r\n\t\t\tgrdpn.add(lblTimeSecond, 1, 4);\r\n\t\t\tgrdpn.add(sldrSecondPicker, 2, 4, 2, 1);\r\n\t\t\tgrdpn.add(txtfldCurrentSetSecond, 4, 4);\r\n\t\t\t/*\r\n\t\t\t * Creating buttons for user to press\r\n\t\t\t */\r\n\t\t\tButton bttnOK = new Button(&quot;Change date and time&quot;);\r\n\t\t\tbttnOK.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(ActionEvent event) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (checkIfAllDialogHasBeenFilledIn(grdpn)){\r\n\t\t\t\t\t\t\tLocalDate test = dtpckr.getValue();\r\n\t\t\t\t\t\t\tif (systemstateController.oeSetClock(ICrashUtils.setDateAndTime(dtpckr.getValue().getYear(), dtpckr.getValue().getMonthValue(), dtpckr.getValue().getDayOfMonth(),\r\n\t\t\t\t\t\t\t\t\t(int)Math.floor(sldrHourPicker.getValue()), (int)Math.floor(sldrMinutePicker.getValue()), (int)Math.floor(sldrSecondPicker.getValue()))).getValue())\r\n\t\t\t\t\t\t\t\tshowOKMessage(&quot;Updated&quot;, &quot;Date and time was updated successfully&quot;);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tshowErrorMessage(&quot;Error&quot;, &quot;There was an error updating the date and time&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tshowUserCancelledActionPopup();\r\n\t\t\t\t\t} catch (ServerOfflineException | ServerNotBoundException e) {\r\n\t\t\t\t\t\tshowExceptionErrorMessage(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbttnOK.setDefaultButton(true);\r\n\t\t\tgrdpn.add(bttnOK, 2, 5, 3, 1);\r\n\t\t\tButton bttnSetNow = new Button(&quot;Now&quot;);\r\n\t\t\tbttnSetNow.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(ActionEvent event) {\r\n\t\t\t\t\tdtpckr.setValue(LocalDate.now());\r\n\t\t\t\t\tLocalTime time = LocalTime.now();\r\n\t\t\t\t\tsldrHourPicker.setValue(time.getHour());\r\n\t\t\t\t\tsldrMinutePicker.setValue(time.getMinute());\r\n\t\t\t\t\tsldrSecondPicker.setValue(time.getSecond());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tgrdpn.add(bttnSetNow, 4, 1);\r\n\t\t\t/*\r\n\t\t\t * End of creating controls to be used on the form\r\n\t\t\t */\r\n\t\t\tanchrpnActivator.getChildren().add(grdpn);\r\n\t\t\tAnchorPane.setTopAnchor(grdpn, 0.0);\r\n\t\t\tAnchorPane.setRightAnchor(grdpn, 0.0);\r\n\t\t\tAnchorPane.setLeftAnchor(grdpn, 0.0);\r\n\t\t\tAnchorPane.setBottomAnchor(grdpn, 0.0);\r\n\t\t} catch (ServerOfflineException | ServerNotBoundException e) {\r\n\t\t\tshowExceptionErrorMessage(e);\r\n\t\t}\r\n\t}\r\n\r\nWhich has the following line:\r\n\r\n    bttnOK.setDefaultButton(true);\r\n\r\nThis means that if a user presses enter during the text entry on the date picker control, it fires off the `onaction` event, before the user has put in data in the other controls, and I don&#39;t particularly want that.\r\n\r\nSo the question is, why doesn&#39;t the `dtpckr.getValue()` change if a user enters text into the box and then leaves the box without pressing enter? I can&#39;t find an event to call on user leaving the datepicker box or a property of the datepicker to get the text value of the control and compare it to the value of `dtpckr.getValue()`. Is there something that I&#39;m missing here?\r\n\r\nLet me know if you need more information!\r\n\r\n**[Edit]**\r\n---\r\n[It appears this might be a bug in the current datepicker setup in JavaFX](https://bugs.openjdk.java.net/browse/JDK-8092295?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel)\r\n\r\n\r\nI might have to remove the default button and put in an enter press in the Jubula test to make this work properly. Unless someone has an alternative?","title":"JavaFX datepicker not updating value","body":"<p>Bit of an odd one, I'm using JavaFX 8 and am having some odd behaviour I picked up during my Jubula testing.</p>\n\n<p>I have a datepicker control that is created with the following code:</p>\n\n<pre><code>public DatePicker getDatePicker(DtDate defaultDate, int width){\n    DatePicker dtpckr = new DatePicker();\n    dtpckr.setMaxWidth(width);\n    dtpckr.setMinWidth(width);\n    dtpckr.setConverter(new StringConverter&lt;LocalDate&gt;() {\n        private DateTimeFormatter dateTimeFormatter=DateTimeFormatter.ofPattern(\"yyyy/MM/dd\");\n        @Override\n        public String toString(LocalDate localDate) {\n            if(localDate==null)\n                return \"\";\n            return dateTimeFormatter.format(localDate);\n        }\n        @Override\n        public LocalDate fromString(String dateString) {\n            if(dateString==null || dateString.trim().isEmpty())\n                return null;\n            return LocalDate.parse(dateString,dateTimeFormatter);\n        }\n    });\n    dtpckr.setPromptText(\"yyyy/MM/dd\");\n    dtpckr.setValue(LocalDate.parse(defaultDate.toString(), DateTimeFormatter.ofPattern(\"yyyy/MM/dd\")));\n    return dtpckr;\n}\n</code></pre>\n\n<p>That works fine and the control is created on the form and works as expected. If I use the calendar to pick the date, the value is updated.</p>\n\n<p>Now, for the odd part, if I enter in the datepicker and manually type the date in (E.g. 2017/10/11) and then exit the control by either tabbing or clicking on the next textbox on the form, the datepicker localdate value doesn't get updated. The only method to update the date would be to press enter to force the datepicker to realise a new value is present. This causes another problem as I have the following code:</p>\n\n<pre><code>public void createSetDateAndTimeControls(){\n    DtDateAndTime currentDateAndTime;\n    try {\n        currentDateAndTime = systemstateController.getServerDateTime();\n        /*\n         * Creating controls to be used on the form\n         */\n        int width = 150;\n        DatePicker dtpckr = getDatePicker(currentDateAndTime.date, width);\n        Label lblDate = new Label(\"Date:\");\n        Label lblTimeHour = new Label(\"Hour:\");\n        Label lblTimeMinute = new Label(\"Minute:\");\n        Label lblTimeSecond = new Label(\"Second:\");\n        TextField txtfldCurrentSetSecond = new TextField();\n        TextField txtfldCurrentSetMinute = new TextField();\n        TextField txtfldCurrentSetHour = new TextField();\n        Slider sldrHourPicker = getSlider(width, SliderType.Hour, txtfldCurrentSetHour, currentDateAndTime.time);\n        Slider sldrMinutePicker = getSlider(width, SliderType.Minute, txtfldCurrentSetMinute, currentDateAndTime.time);\n        Slider sldrSecondPicker = getSlider(width, SliderType.Second, txtfldCurrentSetSecond, currentDateAndTime.time);\n        /*\n         * Adding a grid pane to keep controls in correct place and aligned correctly\n         */\n        GridPane grdpn = new GridPane();\n        grdpn.add(lblDate, 1, 1);\n        grdpn.add(dtpckr, 2, 1, 2,1);\n        grdpn.add(lblTimeHour, 1, 2);\n        grdpn.add(sldrHourPicker, 2, 2, 2 ,1);\n        grdpn.add(txtfldCurrentSetHour, 4, 2);\n        grdpn.add(lblTimeMinute, 1, 3);\n        grdpn.add(sldrMinutePicker, 2, 3, 2, 1);\n        grdpn.add(txtfldCurrentSetMinute, 4, 3);\n        grdpn.add(lblTimeSecond, 1, 4);\n        grdpn.add(sldrSecondPicker, 2, 4, 2, 1);\n        grdpn.add(txtfldCurrentSetSecond, 4, 4);\n        /*\n         * Creating buttons for user to press\n         */\n        Button bttnOK = new Button(\"Change date and time\");\n        bttnOK.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                try {\n                    if (checkIfAllDialogHasBeenFilledIn(grdpn)){\n                        LocalDate test = dtpckr.getValue();\n                        if (systemstateController.oeSetClock(ICrashUtils.setDateAndTime(dtpckr.getValue().getYear(), dtpckr.getValue().getMonthValue(), dtpckr.getValue().getDayOfMonth(),\n                                (int)Math.floor(sldrHourPicker.getValue()), (int)Math.floor(sldrMinutePicker.getValue()), (int)Math.floor(sldrSecondPicker.getValue()))).getValue())\n                            showOKMessage(\"Updated\", \"Date and time was updated successfully\");\n                        else\n                            showErrorMessage(\"Error\", \"There was an error updating the date and time\");\n                    }\n                    else\n                        showUserCancelledActionPopup();\n                } catch (ServerOfflineException | ServerNotBoundException e) {\n                    showExceptionErrorMessage(e);\n                }\n            }\n        });\n        bttnOK.setDefaultButton(true);\n        grdpn.add(bttnOK, 2, 5, 3, 1);\n        Button bttnSetNow = new Button(\"Now\");\n        bttnSetNow.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                dtpckr.setValue(LocalDate.now());\n                LocalTime time = LocalTime.now();\n                sldrHourPicker.setValue(time.getHour());\n                sldrMinutePicker.setValue(time.getMinute());\n                sldrSecondPicker.setValue(time.getSecond());\n            }\n        });\n\n        grdpn.add(bttnSetNow, 4, 1);\n        /*\n         * End of creating controls to be used on the form\n         */\n        anchrpnActivator.getChildren().add(grdpn);\n        AnchorPane.setTopAnchor(grdpn, 0.0);\n        AnchorPane.setRightAnchor(grdpn, 0.0);\n        AnchorPane.setLeftAnchor(grdpn, 0.0);\n        AnchorPane.setBottomAnchor(grdpn, 0.0);\n    } catch (ServerOfflineException | ServerNotBoundException e) {\n        showExceptionErrorMessage(e);\n    }\n}\n</code></pre>\n\n<p>Which has the following line:</p>\n\n<pre><code>bttnOK.setDefaultButton(true);\n</code></pre>\n\n<p>This means that if a user presses enter during the text entry on the date picker control, it fires off the <code>onaction</code> event, before the user has put in data in the other controls, and I don't particularly want that.</p>\n\n<p>So the question is, why doesn't the <code>dtpckr.getValue()</code> change if a user enters text into the box and then leaves the box without pressing enter? I can't find an event to call on user leaving the datepicker box or a property of the datepicker to get the text value of the control and compare it to the value of <code>dtpckr.getValue()</code>. Is there something that I'm missing here?</p>\n\n<p>Let me know if you need more information!</p>\n\n<h2><strong>[Edit]</strong></h2>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8092295?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\" rel=\"noreferrer\">It appears this might be a bug in the current datepicker setup in JavaFX</a></p>\n\n<p>I might have to remove the default button and put in an enter press in the Jubula test to make this work properly. Unless someone has an alternative?</p>\n"},{"tags":["java","android","android-studio","kotlin","floating-action-button"],"owner":{"account_id":22118115,"reputation":71,"user_id":16371850,"display_name":"Aamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1639323401,"creation_date":1639323401,"question_id":70325010,"body_markdown":"How can I implement dragging magnetic like floating action bar in android which is similar to quick ball in MI or Xiaomi devices or in iOS devices? Gallery of Mi device&#39;s too have this.\r\nWhat I want\r\n1. It can be draggable fab\r\n\r\n2. It is like magnetic which means if it is on the left half of the screen and you leave it, it moves to left and same for the right, it moves to right\r\n\r\n3. On clicking it, it expands in circular direction of more buttons\r\n\r\n4. (Optional)it becomes translucent after some amount of seconds on inactivity\r\n\r\n5.(Optional)it becomes an arrow after some more time approx. 10 seconds on inactivity\r\n\r\nIf you want any type of video or image reference you can easily just google **Quick ball in MI devices**.\r\n\r\nI can&#39;t find any of the questions like this, although they had some similarities but not like what I wanted, if you find it please answer the link to it.\r\n\r\nThanks a lot.","title":"How to implement draggable magnetic like floating action button?","body":"<p>How can I implement dragging magnetic like floating action bar in android which is similar to quick ball in MI or Xiaomi devices or in iOS devices? Gallery of Mi device's too have this.\nWhat I want</p>\n<ol>\n<li><p>It can be draggable fab</p>\n</li>\n<li><p>It is like magnetic which means if it is on the left half of the screen and you leave it, it moves to left and same for the right, it moves to right</p>\n</li>\n<li><p>On clicking it, it expands in circular direction of more buttons</p>\n</li>\n<li><p>(Optional)it becomes translucent after some amount of seconds on inactivity</p>\n</li>\n</ol>\n<p>5.(Optional)it becomes an arrow after some more time approx. 10 seconds on inactivity</p>\n<p>If you want any type of video or image reference you can easily just google <strong>Quick ball in MI devices</strong>.</p>\n<p>I can't find any of the questions like this, although they had some similarities but not like what I wanted, if you find it please answer the link to it.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","android","apk","android-sdk-tools"],"comments":[{"owner":{"account_id":5771709,"reputation":177,"user_id":4554976,"accept_rate":71,"display_name":"CodeIK"},"score":0,"creation_date":1560211827,"post_id":53299052,"comment_id":99652674,"body_markdown":"Did you resolve it? I&#39;m having the same error.","body":"Did you resolve it? I&#39;m having the same error."},{"owner":{"account_id":14748916,"reputation":286,"user_id":10651544,"display_name":"Alessio Mora"},"score":0,"creation_date":1560330565,"post_id":53299052,"comment_id":99697028,"body_markdown":"No, unfortunately I did not figure out what was the problem. I just did the analysis that I needed by hand, by writing a little program that unpackages the APKs and extracts the information I was looking for.","body":"No, unfortunately I did not figure out what was the problem. I just did the analysis that I needed by hand, by writing a little program that unpackages the APKs and extracts the information I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":473066,"reputation":373,"user_id":881949,"display_name":"takladev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607367314,"creation_date":1571210822,"answer_id":58407953,"question_id":53299052,"body_markdown":"I had the same issue. All I had to do was set the JAVA_HOME correctly.\r\nI set the JAVA_HOME in my bashrc to $PATH_TO_ANDROIDSTUDIO/jre\r\n\r\nmy exact statement in ~/.bashrc:\r\n\r\n    export JAVA_HOME=/home/rahul/Softwares/android-studio/jre\r\n\r\nSample for Mac users:\r\n\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre&quot;\r\n\r\n","title":"Android apkanalyzer, invoked by command line, gives a &quot;NoClassDefFoundError&quot; exception","body":"<p>I had the same issue. All I had to do was set the JAVA_HOME correctly.\nI set the JAVA_HOME in my bashrc to $PATH_TO_ANDROIDSTUDIO/jre</p>\n<p>my exact statement in ~/.bashrc:</p>\n<pre><code>export JAVA_HOME=/home/rahul/Softwares/android-studio/jre\n</code></pre>\n<p>Sample for Mac users:</p>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4407551,"reputation":1343,"user_id":3591480,"display_name":"Teng-pao Yu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620610935,"creation_date":1620610935,"answer_id":67463800,"question_id":53299052,"body_markdown":"Since [Android Studio 4.2 runs with java 11 instead of java 8][1], you might also notice this error upon your Android Studio upgrade if you are pointing `JAVA_HOME` toward your AS bundled jdk. ([See also][2])\r\n\r\nTo recover:\r\n\r\n 1. Download jdk 8 yourself (https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html)\r\n 2. Find out the 1.8 JAVA_HOME path (/usr/libexec/java_home -V on mac)\r\n```\r\nMatching Java Virtual Machines (2):\r\n    15.0.1, x86_64:\t&quot;OpenJDK 15.0.1&quot;\t&lt;path to have home1&gt;\r\n    1.8.0_291, x86_64:\t&quot;Java SE 8&quot;\t    &lt;path to have home2&gt;\r\n```\r\n 3. Run the following:\r\n\r\n```\r\nexport JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre&quot;\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases#4.2-bundled-jdk-11\r\n  [2]: https://stackoverflow.com/questions/55436585/fix-sdkmanager-java-lang-noclassdeffounderror-batchfile?rq=1","title":"Android apkanalyzer, invoked by command line, gives a &quot;NoClassDefFoundError&quot; exception","body":"<p>Since <a href=\"https://developer.android.com/studio/releases#4.2-bundled-jdk-11\" rel=\"nofollow noreferrer\">Android Studio 4.2 runs with java 11 instead of java 8</a>, you might also notice this error upon your Android Studio upgrade if you are pointing <code>JAVA_HOME</code> toward your AS bundled jdk. (<a href=\"https://stackoverflow.com/questions/55436585/fix-sdkmanager-java-lang-noclassdeffounderror-batchfile?rq=1\">See also</a>)</p>\n<p>To recover:</p>\n<ol>\n<li>Download jdk 8 yourself (<a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a>)</li>\n<li>Find out the 1.8 JAVA_HOME path (/usr/libexec/java_home -V on mac)</li>\n</ol>\n<pre><code>Matching Java Virtual Machines (2):\n    15.0.1, x86_64: &quot;OpenJDK 15.0.1&quot;    &lt;path to have home1&gt;\n    1.8.0_291, x86_64:  &quot;Java SE 8&quot;     &lt;path to have home2&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Run the following:</li>\n</ol>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre&quot;\n</code></pre>\n"}],"owner":{"account_id":14748916,"reputation":286,"user_id":10651544,"display_name":"Alessio Mora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3433,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1639322838,"creation_date":1542194527,"question_id":53299052,"body_markdown":"I am trying to run the apkanalyzer tool provided by Android SDK (under Sdk/tool/bin), but I am not able to make it work. I know that I can also use this tool through AndroidStudio, but I need to automate the apk analysis to cover a lot of APKs. So, I followed this https://developer.android.com/studio/command-line/apkanalyzer to use it.\r\n\r\nAnyway, when I try to launch apkanalyzer (e.g. apkanalyzer apk summary APKname.apk) it gives the following exception:\r\n\r\n\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n\tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n\tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n\tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n\tat com.android.tools.apk.analyzer.ApkAnalyzerCli.getAaptInvokerFromSdk(ApkAnalyzerCli.java:277)\r\n\tat com.android.tools.apk.analyzer.ApkAnalyzerCli.main(ApkAnalyzerCli.java:129)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\r\n\t... 5 more\r\n\r\nWhere is the problem?\r\n\r\n","title":"Android apkanalyzer, invoked by command line, gives a &quot;NoClassDefFoundError&quot; exception","body":"<p>I am trying to run the apkanalyzer tool provided by Android SDK (under Sdk/tool/bin), but I am not able to make it work. I know that I can also use this tool through AndroidStudio, but I need to automate the apk analysis to cover a lot of APKs. So, I followed this <a href=\"https://developer.android.com/studio/command-line/apkanalyzer\" rel=\"noreferrer\">https://developer.android.com/studio/command-line/apkanalyzer</a> to use it.</p>\n\n<p>Anyway, when I try to launch apkanalyzer (e.g. apkanalyzer apk summary APKname.apk) it gives the following exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n      at com.android.repository.api.SchemaModule$SchemaModuleVersion.(SchemaModule.java:156)\n      at com.android.repository.api.SchemaModule.(SchemaModule.java:75)\n      at com.android.sdklib.repository.AndroidSdkHandler.(AndroidSdkHandler.java:81)\n      at com.android.tools.apk.analyzer.ApkAnalyzerCli.getAaptInvokerFromSdk(ApkAnalyzerCli.java:277)\n      at com.android.tools.apk.analyzer.ApkAnalyzerCli.main(ApkAnalyzerCli.java:129)\n  Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n      at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n      at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\n      at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\n      ... 5 more</p>\n</blockquote>\n\n<p>Where is the problem?</p>\n"},{"tags":["java","arraylist","thread-safety","java.util.concurrent"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1586606122,"post_id":61155452,"comment_id":108190638,"body_markdown":"Are there other entries except `0` and `1` ? If not, two separate variables may make more sense than stuffing them into a map.","body":"Are there other entries except <code>0</code> and <code>1</code> ? If not, two separate variables may make more sense than stuffing them into a map."},{"owner":{"account_id":12826277,"reputation":611,"user_id":9279181,"display_name":"Gaurav Agarwal"},"score":0,"creation_date":1586610900,"post_id":61155452,"comment_id":108192275,"body_markdown":"@Thilo Yes there are, I just put in ```0``` and ```1``` to hide some more unrelated logic to calculate the key.","body":"@Thilo Yes there are, I just put in <code>0</code> and <code>1</code> to hide some more unrelated logic to calculate the key."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586602437,"creation_date":1586602437,"answer_id":61155612,"question_id":61155452,"body_markdown":"No, it doesn&#39;t. An `ArrayList` is an `ArrayList`, regardless of where you put it. The `ConcurrentHashMap`&#39;s synchronization extends only to the `get` operation, and from there on, if multiple threads can execute the same piece of code concurrently, you&#39;d need an additional mechanism to protect it.\r\n\r\n```java\r\nList&lt;Object&gt; myList = all_payloads.get(0);\r\nsynchronized (myList) {\r\n    // code that uses myList\r\n```","title":"Is ConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt; Thread safe?","body":"<p>No, it doesn't. An <code>ArrayList</code> is an <code>ArrayList</code>, regardless of where you put it. The <code>ConcurrentHashMap</code>'s synchronization extends only to the <code>get</code> operation, and from there on, if multiple threads can execute the same piece of code concurrently, you'd need an additional mechanism to protect it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; myList = all_payloads.get(0);\nsynchronized (myList) {\n    // code that uses myList\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586605871,"creation_date":1586605871,"answer_id":61156333,"question_id":61155452,"body_markdown":"Even if `ArrayList` was thread-safe (which it is not), you have four different `all_payloads.get` calls in that snippet, and even if those are individually thread-safe, the combination of them is not (the calls can be interleaved in funky ways in the presence of concurrency).","title":"Is ConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt; Thread safe?","body":"<p>Even if <code>ArrayList</code> was thread-safe (which it is not), you have four different <code>all_payloads.get</code> calls in that snippet, and even if those are individually thread-safe, the combination of them is not (the calls can be interleaved in funky ways in the presence of concurrency).</p>\n"}],"owner":{"account_id":12826277,"reputation":611,"user_id":9279181,"display_name":"Gaurav Agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61155612,"answer_count":2,"score":2,"last_activity_date":1639322758,"creation_date":1586601583,"question_id":61155452,"body_markdown":"This is how I have defined a `ConcurrentHashMap`:\r\n\r\n```\r\nConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt; all_payloads = new ConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt;();\r\n```\r\n\r\nI understand that there the blocking operation works only when writing or removing from the ```ConcurrentHashMap```, but will this lock extend to the values which are of ```ArrayList``` type too?\r\n\r\nFor example:\r\n\r\n```\r\nfor(int i = 0; i &lt; all_payloads.get(0).size(); i++) {\r\n        if(all_payloads.get(0).get(i).getBucketNumberCollector() == this.bucket_no) {\r\n            currentPayload = all_payloads.get(0).remove(i);\r\n            currentPayload.setCollector(collector);\r\n            all_payloads.get(1).add(currentPayload);\r\n            break;\r\n        }\r\n    }\r\n```\r\nIn the above snippet, I am only using the ```get​(Object key)``` method to modify the value associated with that key - which in this case is of type ```ArrayList```.\r\n\r\nWill the above snippet be thread-safe? If not then what can be done to make it so?","title":"Is ConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt; Thread safe?","body":"<p>This is how I have defined a <code>ConcurrentHashMap</code>:</p>\n<pre><code>ConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt; all_payloads = new ConcurrentHashMap&lt;Integer, ArrayList&lt;Object&gt;&gt;();\n</code></pre>\n<p>I understand that there the blocking operation works only when writing or removing from the <code>ConcurrentHashMap</code>, but will this lock extend to the values which are of <code>ArrayList</code> type too?</p>\n<p>For example:</p>\n<pre><code>for(int i = 0; i &lt; all_payloads.get(0).size(); i++) {\n        if(all_payloads.get(0).get(i).getBucketNumberCollector() == this.bucket_no) {\n            currentPayload = all_payloads.get(0).remove(i);\n            currentPayload.setCollector(collector);\n            all_payloads.get(1).add(currentPayload);\n            break;\n        }\n    }\n</code></pre>\n<p>In the above snippet, I am only using the <code>get​(Object key)</code> method to modify the value associated with that key - which in this case is of type <code>ArrayList</code>.</p>\n<p>Will the above snippet be thread-safe? If not then what can be done to make it so?</p>\n"},{"tags":["java","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":4151441,"reputation":502,"user_id":3407760,"display_name":"Bernd Farka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1608703766,"creation_date":1608703766,"answer_id":65419784,"question_id":65419630,"body_markdown":"IMHO your machine is not able to serve the gradle process the heap space it requested.\r\n\r\n    Error occurred during initialization of VM\r\n    Could not reserve enough space for 1572864KB object heap\r\n\r\nMeans that the JVM running gradle wants 1.5GB Heap from the OS but it doesn&#39;t get it.\r\n\r\nWhat you can try: \r\n\r\nmodify or create the `gradle.properties` file in the root directory of your build.\r\n\r\nset\r\n\r\n    org.gradle.jvmargs=-Xmx1024M\r\n\r\nso your gradle process only consumes 1GB of Memory.\r\n\r\nrun `./gradlew --stop` to stop all your deamons before running the next build.\r\n\r\nBUT: please make sure your system has enough memory resources to run all your applications/processes you want to run.\r\n\r\nIf you your system has enough memory resources: it seems to me you maybe are using a 32 Bit JVM. 32 Bit Java JVMs have quite low memory limits. Please switch to a 64 Bit JVM and make sure your JAVA_HOME Env Variable is pointing to the 64 Bit JVM. This will allow you to allocate much more memory.\r\n\r\n","title":"problem might be caused by incorrect configuration of the daemon","body":"<p>IMHO your machine is not able to serve the gradle process the heap space it requested.</p>\n<pre><code>Error occurred during initialization of VM\nCould not reserve enough space for 1572864KB object heap\n</code></pre>\n<p>Means that the JVM running gradle wants 1.5GB Heap from the OS but it doesn't get it.</p>\n<p>What you can try:</p>\n<p>modify or create the <code>gradle.properties</code> file in the root directory of your build.</p>\n<p>set</p>\n<pre><code>org.gradle.jvmargs=-Xmx1024M\n</code></pre>\n<p>so your gradle process only consumes 1GB of Memory.</p>\n<p>run <code>./gradlew --stop</code> to stop all your deamons before running the next build.</p>\n<p>BUT: please make sure your system has enough memory resources to run all your applications/processes you want to run.</p>\n<p>If you your system has enough memory resources: it seems to me you maybe are using a 32 Bit JVM. 32 Bit Java JVMs have quite low memory limits. Please switch to a 64 Bit JVM and make sure your JAVA_HOME Env Variable is pointing to the 64 Bit JVM. This will allow you to allocate much more memory.</p>\n"}],"owner":{"account_id":10849789,"reputation":544,"user_id":7977948,"display_name":"Mo Ok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65419784,"answer_count":1,"score":0,"last_activity_date":1639321930,"creation_date":1608702749,"question_id":65419630,"body_markdown":"I am having a problem when running Flutter Project\r\nI&#39;ve tried multiple versions of gradle and all the same error\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/5.6.2/userguide/gradle_daemon.html\r\nProcess command line: C:\\Program Files (x86)\\Java\\jdk1.8.0_271\\bin\\java.exe -Xmx1536M -Dfile.encoding=windows-1256 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\midos\\.gradle\\wrapper\\dists\\gradle-5.6.2-all\\9st6wgf78h16so49nn74lgtbb\\gradle-5.6.2\\lib\\gradle-launcher-5.6.2.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 5.6.2\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 1572864KB object heap\r\n2\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\n```\r\n\r\nOutput of Flutter doctor -v\r\n```\r\n[√] Flutter (Channel stable, 1.22.5, on Microsoft Windows [Version 10.0.19042.685], locale en-US)\r\n    • Flutter version 1.22.5 at C:\\flutter\r\n    • Framework revision 7891006299 (12 days ago), 2020-12-10 11:54:40 -0800\r\n    • Engine revision ae90085a84\r\n    • Dart version 2.10.4\r\n\r\n\r\n[√] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n    • Android SDK at C:\\Users\\midos\\AppData\\Local\\Android\\sdk\r\n    • Platform android-30, build-tools 30.0.3\r\n    • Java binary at: C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_271-b09)\r\n    • All Android licenses accepted.\r\n\r\n[!] Android Studio (not installed)\r\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\r\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\r\n\r\n[√] VS Code, 64-bit edition (version 1.52.1)\r\n    • VS Code at C:\\Program Files\\Microsoft VS Code\r\n    • Flutter extension version 3.17.0\r\n\r\n[√] Connected device (1 available)\r\n    • sdk gphone x86 arm (mobile) • emulator-5554 • android-x86 • Android 11 (API 30) (emulator)\r\n\r\n! Doctor found issues in 1 category.\r\n\r\n```\r\noutput for Java --showversion \r\n```\r\njava version &quot;1.8.0_271&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_271-b09)\r\nJava HotSpot(TM) Client VM (build 25.271-b09, mixed mode)\r\n```\r\nI tried to change gradle to: \r\n`gradle-5.6.2-all`\r\n`gradle-6.1.1-all`\r\n\r\nI tried to add `org.gradle.jvmargs=-Xmx1024m` in gradle-wrapper.properties\r\n\r\n\r\nI tried to delete .gradle and build it again \r\n\r\nI tried to disable windows defender while building and the same problem","title":"problem might be caused by incorrect configuration of the daemon","body":"<p>I am having a problem when running Flutter Project\nI've tried multiple versions of gradle and all the same error</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/5.6.2/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files (x86)\\Java\\jdk1.8.0_271\\bin\\java.exe -Xmx1536M -Dfile.encoding=windows-1256 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\midos\\.gradle\\wrapper\\dists\\gradle-5.6.2-all\\9st6wgf78h16so49nn74lgtbb\\gradle-5.6.2\\lib\\gradle-launcher-5.6.2.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 5.6.2\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 1572864KB object heap\n2\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\nException: Gradle task assembleDebug failed with exit code 1\n\n\n</code></pre>\n<p>Output of Flutter doctor -v</p>\n<pre><code>[√] Flutter (Channel stable, 1.22.5, on Microsoft Windows [Version 10.0.19042.685], locale en-US)\n    • Flutter version 1.22.5 at C:\\flutter\n    • Framework revision 7891006299 (12 days ago), 2020-12-10 11:54:40 -0800\n    • Engine revision ae90085a84\n    • Dart version 2.10.4\n\n\n[√] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n    • Android SDK at C:\\Users\\midos\\AppData\\Local\\Android\\sdk\n    • Platform android-30, build-tools 30.0.3\n    • Java binary at: C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_271-b09)\n    • All Android licenses accepted.\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n\n[√] VS Code, 64-bit edition (version 1.52.1)\n    • VS Code at C:\\Program Files\\Microsoft VS Code\n    • Flutter extension version 3.17.0\n\n[√] Connected device (1 available)\n    • sdk gphone x86 arm (mobile) • emulator-5554 • android-x86 • Android 11 (API 30) (emulator)\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n<p>output for Java --showversion</p>\n<pre><code>java version &quot;1.8.0_271&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_271-b09)\nJava HotSpot(TM) Client VM (build 25.271-b09, mixed mode)\n</code></pre>\n<p>I tried to change gradle to:\n<code>gradle-5.6.2-all</code>\n<code>gradle-6.1.1-all</code></p>\n<p>I tried to add <code>org.gradle.jvmargs=-Xmx1024m</code> in gradle-wrapper.properties</p>\n<p>I tried to delete .gradle and build it again</p>\n<p>I tried to disable windows defender while building and the same problem</p>\n"},{"tags":["java","sonarqube","option-type","nullable"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1639317659,"post_id":70324213,"comment_id":124312926,"body_markdown":"Why do you want this? Just because it is possible to use `Optional`, doesn&#39;t mean you should use it everywhere to replace null-checks.","body":"Why do you want this? Just because it is possible to use <code>Optional</code>, doesn&#39;t mean you should use it everywhere to replace null-checks."},{"owner":{"account_id":15741938,"reputation":25,"user_id":17012602,"display_name":"Ravi"},"score":0,"creation_date":1639317748,"post_id":70324213,"comment_id":124312952,"body_markdown":"@MarkRotteveel - to remove Sonar. there is sonar, this method is having 10 if checks like this .. i need to remove &#39;&amp;&amp;&#39; So as to remove Sonar","body":"@MarkRotteveel - to remove Sonar. there is sonar, this method is having 10 if checks like this .. i need to remove &#39;&amp;&amp;&#39; So as to remove Sonar"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":2,"creation_date":1639318166,"post_id":70324213,"comment_id":124313029,"body_markdown":"It sounds like Sonar is flagging duplicate code, not the fact that you are doing &quot;if&quot; statements to do null checks.","body":"It sounds like Sonar is flagging duplicate code, not the fact that you are doing &quot;if&quot; statements to do null checks."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1639318237,"post_id":70324213,"comment_id":124313050,"body_markdown":"@Ravi Sonars rules are configurable, and not all rules make sense. Just because a tool tells you to do something stupid, doesn&#39;t mean you should.","body":"@Ravi Sonars rules are configurable, and not all rules make sense. Just because a tool tells you to do something stupid, doesn&#39;t mean you should."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639318054,"creation_date":1639318054,"answer_id":70324290,"question_id":70324213,"body_markdown":"Just technically what you want can be achieved the following way\r\n\r\n    if (Optional.ofNullable(getFirstData).isPresent() &amp;&amp; Optional.ofNullable(getSecondData).isPresent() ) {\r\n     ... doing my work here\r\n    } else {\r\n      ... doing my else work here\r\n    }\r\n\r\nBut as other commenters have already pointed out, it does not seem wise to do so.","title":"Java 8 Replace two null check with Optional","body":"<p>Just technically what you want can be achieved the following way</p>\n<pre><code>if (Optional.ofNullable(getFirstData).isPresent() &amp;&amp; Optional.ofNullable(getSecondData).isPresent() ) {\n ... doing my work here\n} else {\n  ... doing my else work here\n}\n</code></pre>\n<p>But as other commenters have already pointed out, it does not seem wise to do so.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639321267,"creation_date":1639321267,"answer_id":70324735,"question_id":70324213,"body_markdown":"It may be a bit overkill, but if there&#39;s need to check _multiple_ values for nulls, it may be done like this _using `Optional`_:\r\n```java\r\nstatic boolean allNonNullsOptional(Object ... items) {\r\n    return Stream.of(items).map(Optional::ofNullable).allMatch(Optional::isPresent);\r\n}\r\n```\r\nBut the same may be achieved with much shorter `Object::nonNull`:\r\n```java\r\nstatic boolean allNonNulls(Object ... items) {\r\n    return Stream.of(items).allMatch(Objects::nonNull);\r\n}\r\n```\r\n","title":"Java 8 Replace two null check with Optional","body":"<p>It may be a bit overkill, but if there's need to check <em>multiple</em> values for nulls, it may be done like this <em>using <code>Optional</code></em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean allNonNullsOptional(Object ... items) {\n    return Stream.of(items).map(Optional::ofNullable).allMatch(Optional::isPresent);\n}\n</code></pre>\n<p>But the same may be achieved with much shorter <code>Object::nonNull</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean allNonNulls(Object ... items) {\n    return Stream.of(items).allMatch(Objects::nonNull);\n}\n</code></pre>\n"}],"owner":{"account_id":15741938,"reputation":25,"user_id":17012602,"display_name":"Ravi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":70324735,"answer_count":2,"score":-5,"last_activity_date":1639321722,"creation_date":1639317545,"question_id":70324213,"body_markdown":"Below is my code which is working as expected. But I need to replace it with Optional.ofNullable\r\n\r\n    if (getFirstData != null &amp;&amp; getSecondData !=null {\r\n     ... doing my work here\r\n    } else {\r\n      ... doing my else work here\r\n    }\r\n\r\nHow can I use `Optionals.ofNullable(..)` to replace two AND null checks?\r\n","title":"Java 8 Replace two null check with Optional","body":"<p>Below is my code which is working as expected. But I need to replace it with Optional.ofNullable</p>\n<pre><code>if (getFirstData != null &amp;&amp; getSecondData !=null {\n ... doing my work here\n} else {\n  ... doing my else work here\n}\n</code></pre>\n<p>How can I use <code>Optionals.ofNullable(..)</code> to replace two AND null checks?</p>\n"},{"tags":["java","firebase","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2781470,"reputation":179,"user_id":2393936,"display_name":"Derrick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639321281,"creation_date":1639321281,"answer_id":70324736,"question_id":70248335,"body_markdown":"Log into your firebase console and create a new server key by pressing add server key and replacing it with the old one.\r\n\r\n  [![Firebase console][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atOCN.png","title":"How to fix exposed Firebase Cloud Messaging (FCM) server keys before my app gets removed from Play Store?","body":"<p>Log into your firebase console and create a new server key by pressing add server key and replacing it with the old one.</p>\n<p><a href=\"https://i.stack.imgur.com/atOCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atOCN.png\" alt=\"Firebase console\" /></a></p>\n"}],"owner":{"account_id":21224853,"reputation":69,"user_id":15610735,"display_name":"Pravin Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639321281,"creation_date":1638806625,"question_id":70248335,"body_markdown":"I have an app on Play Store. I am using Firebase Cloud Messaging for sending Notifications to users. Yesterday, I got email from Google that my key is exposed and I need to fix it or my app will be removed from Play Store by 11 January. Please explain how can I fix this in simple language.","title":"How to fix exposed Firebase Cloud Messaging (FCM) server keys before my app gets removed from Play Store?","body":"<p>I have an app on Play Store. I am using Firebase Cloud Messaging for sending Notifications to users. Yesterday, I got email from Google that my key is exposed and I need to fix it or my app will be removed from Play Store by 11 January. Please explain how can I fix this in simple language.</p>\n"},{"tags":["java","android","android-studio","android-intent"],"comments":[{"owner":{"account_id":15431364,"reputation":770,"user_id":11132702,"display_name":"private static"},"score":0,"creation_date":1639176836,"post_id":70311127,"comment_id":124290594,"body_markdown":"Did you try ```bundle.getStringExtra(&quot;key&quot;)``` instead?","body":"Did you try <code>bundle.getStringExtra(&quot;key&quot;)</code> instead?"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1639181523,"post_id":70311127,"comment_id":124291381,"body_markdown":"What type is your `score` variable? Is it a `String`?","body":"What type is your <code>score</code> variable? Is it a <code>String</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639197713,"creation_date":1639197713,"answer_id":70312665,"question_id":70311127,"body_markdown":"You are receiving as string but you are passing integer as score . So you need to receive as integer .change code like this , it will work.\r\n\r\n            Bundle bundle = getIntent().getExtras();\r\n            int previousscore = bundle.getInt(&quot;key&quot;);\r\n            Toast.makeText(getApplicationContext(), &quot;&quot;+previousscore, Toast.LENGTH_SHORT).show();","title":"Trying to pass data through Bundle always gives null","body":"<p>You are receiving as string but you are passing integer as score . So you need to receive as integer .change code like this , it will work.</p>\n<pre><code>        Bundle bundle = getIntent().getExtras();\n        int previousscore = bundle.getInt(&quot;key&quot;);\n        Toast.makeText(getApplicationContext(), &quot;&quot;+previousscore, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639321034,"creation_date":1639321034,"answer_id":70324702,"question_id":70311127,"body_markdown":"you have passed the data from intent and you are trying to receive the data from bundle. it isn&#39;t possible, you have to use intent to receive data.\r\nYou can use it like this.\r\n\r\n\r\n    Intent intent = getIntent(); \r\n    int previousscore = intent.getIntExtra(“key”);\r\n    \r\n    Toast.makeText(getApplicationContext(), &quot;&quot;+previousscore, Toast.LENGTH_SHORT).show();\r\n\r\n","title":"Trying to pass data through Bundle always gives null","body":"<p>you have passed the data from intent and you are trying to receive the data from bundle. it isn't possible, you have to use intent to receive data.\nYou can use it like this.</p>\n<pre><code>Intent intent = getIntent(); \nint previousscore = intent.getIntExtra(“key”);\n\nToast.makeText(getApplicationContext(), &quot;&quot;+previousscore, Toast.LENGTH_SHORT).show();\n</code></pre>\n"}],"owner":{"account_id":20940477,"reputation":1,"user_id":15384657,"display_name":"Khalil Boubaker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639321034,"creation_date":1639176158,"question_id":70311127,"body_markdown":"so i&#39;m trying to build an android application that pops a button randomly on the screen and the user has to tap the button to get a better score, but there is a timer and when it hits 0 it should start a new activity which shows the final score.\r\n\r\nI implemented a Countdown Timer that when ```onFinish()``` is triggered, the new activity is started through an intent that is also going to send the score variable to the new activity.\r\n\r\nThing is, this all works well except that when i use ```toast.makeText``` i can see that the variable passed is null.\r\n\r\nhere is my code for the countdown timer \r\n\r\n    new CountDownTimer(timeleftinmilliseconds, 1000) {\r\n\r\n            public void onTick(long millisUntilFinished) {\r\n                countdownText.setText(&quot; time left : &quot; + millisUntilFinished / 1000);\r\n                timeleftinmilliseconds=millisUntilFinished;\r\n            }\r\n\r\n            public void onFinish() {\r\n                Intent finalintent;\r\n\r\n                finalintent = new Intent(PlayTime.this,ScoreScreen.class);\r\n                finalintent.putExtra(&quot;key&quot;,score);\r\n\r\n\r\n                startActivity(finalintent);\r\n            }\r\n\r\n        }.start();\r\n\r\n\r\nand this is the code from the ScoreScreen activity that receives the score (now storred in previousscore)\r\n\r\n    void Capture(){\r\n\r\n        Bundle bundle = getIntent().getExtras();\r\n        String previousscore = bundle.getString(&quot;key&quot;);\r\n        Toast.makeText(getApplicationContext(), &quot;&quot;+previousscore, Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n\r\nthank you for any help!","title":"Trying to pass data through Bundle always gives null","body":"<p>so i'm trying to build an android application that pops a button randomly on the screen and the user has to tap the button to get a better score, but there is a timer and when it hits 0 it should start a new activity which shows the final score.</p>\n<p>I implemented a Countdown Timer that when <code>onFinish()</code> is triggered, the new activity is started through an intent that is also going to send the score variable to the new activity.</p>\n<p>Thing is, this all works well except that when i use <code>toast.makeText</code> i can see that the variable passed is null.</p>\n<p>here is my code for the countdown timer</p>\n<pre><code>new CountDownTimer(timeleftinmilliseconds, 1000) {\n\n        public void onTick(long millisUntilFinished) {\n            countdownText.setText(&quot; time left : &quot; + millisUntilFinished / 1000);\n            timeleftinmilliseconds=millisUntilFinished;\n        }\n\n        public void onFinish() {\n            Intent finalintent;\n\n            finalintent = new Intent(PlayTime.this,ScoreScreen.class);\n            finalintent.putExtra(&quot;key&quot;,score);\n\n\n            startActivity(finalintent);\n        }\n\n    }.start();\n</code></pre>\n<p>and this is the code from the ScoreScreen activity that receives the score (now storred in previousscore)</p>\n<pre><code>void Capture(){\n\n    Bundle bundle = getIntent().getExtras();\n    String previousscore = bundle.getString(&quot;key&quot;);\n    Toast.makeText(getApplicationContext(), &quot;&quot;+previousscore, Toast.LENGTH_SHORT).show();\n\n}\n</code></pre>\n<p>thank you for any help!</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1639320053,"post_id":70311126,"comment_id":124313445,"body_markdown":"Why not use Kafka Streams DSL filter function with `num.threads=20`?","body":"Why not use Kafka Streams DSL filter function with <code>num.threads=20</code>?"}],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639178565,"creation_date":1639178565,"answer_id":70311394,"question_id":70311126,"body_markdown":"You need to use the Kafka Parallel Consumer library. Check the library [here](https://github.com/confluentinc/parallel-consumer), and this [blog post](https://www.confluent.io/blog/introducing-confluent-parallel-message-processing-client/).\r\n\r\nIt&#39;s possible to &#39;simulate&#39; parallel consumption with the normal consumar (by having multiple consumers), but you have to hand roll a good amount of code. [This blog post](https://www.confluent.io/blog/kafka-consumer-multi-threaded-messaging/) explains this approach, but I recommend using the parallel consumer.","title":"KafkaConsumer with Multithreading","body":"<p>You need to use the Kafka Parallel Consumer library. Check the library <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">here</a>, and this <a href=\"https://www.confluent.io/blog/introducing-confluent-parallel-message-processing-client/\" rel=\"nofollow noreferrer\">blog post</a>.</p>\n<p>It's possible to 'simulate' parallel consumption with the normal consumar (by having multiple consumers), but you have to hand roll a good amount of code. <a href=\"https://www.confluent.io/blog/kafka-consumer-multi-threaded-messaging/\" rel=\"nofollow noreferrer\">This blog post</a> explains this approach, but I recommend using the parallel consumer.</p>\n"}],"owner":{"account_id":9615182,"reputation":235,"user_id":7138221,"display_name":"VKR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639319989,"creation_date":1639176153,"question_id":70311126,"body_markdown":"Created below KafkaConsumer, that will take topicName, partitionNo, beginOffset and endOffset as parameters. But below logic I can execute for one partition at a time because KafkaConsumer is not thread safe. If I want to complete the all 20 partitions it is taking longer time. So how to implement the KafkaConsumer with multi threads so that I can search all partitions at the same time ?\r\n\r\n &quot;I have a topic with 20 partitions and has employee data. From UI search screen, I will pass employee number and birth Date, Now I want to search all these 20 partitions to find a particular employees data is there are not. If it is matches then I want put in a separate List and download as file.&quot;\r\n\r\n       public List&lt;String&gt; searchMessages(String topicName, int partitionNo, long beginOffset, long endOffset) {\r\n\r\n    List&lt;String&gt; filteredMessages = new ArrayList&lt;&gt;();\r\n    TopicPartition tp = new TopicPartition(&quot;topicName&quot;, partitionNo);\r\n    Properties clusterOneProps = kafkaConsumerConfig.getConsumerProperties();\r\n    KafkaConsumer&lt;String, Object&gt; consumer = new KafkaConsumer&lt;&gt;(clusterOneProps);\r\n\r\n    try {\r\n        consumer.subscribe(Collections.singletonList(&quot;topicName&quot;), new ConsumerRebalanceListener() {\r\n        @Override\r\n        public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\r\n            // TODO Auto-generated method stub\r\n        }\r\n        @Override\r\n        public void onPartitionsAssigned(Collection&lt;TopicPartition&gt; partitions) {\r\n            // TODO Auto-generated method stub\r\n            \r\n            consumer.seek(tp, beginOffset); \r\n        }\r\n    }); \r\n    Thread.sleep(100);    \r\n    boolean flag = true;\r\n    System.out.println(&quot;search started......from offset is &quot;+beginOffset);\r\n    while(flag) {   \r\n    ConsumerRecords&lt;String, Object&gt; crs = consumer.poll(Duration.ofMillis(100L));\r\n     for (ConsumerRecord&lt;String, Object&gt; record : crs) {\r\n              // search criteria\r\n               if(record.value().toString().contains(&quot;01111&quot;) &amp;&amp; record.value().toString().contains(&quot;2021-11-06&quot;)) {\r\n                   System.out.println(&quot;founddddddddddddddddddddddddddddddddddddddd &quot;+record.offset());\r\n                   filteredMessages.add(record.value().toString());\r\n               }\r\n               if (record.offset() == endOffset) {\r\n                   flag = false;\r\n                   break;\r\n               }\r\n        }\r\n     }\r\n     System.out.println(&quot;doneeeeeeeeeeeeeeeee&quot;);\r\n    }catch(Exception e) {\r\n        e.printStackTrace();\r\n    }finally {\r\n        consumer.close();\r\n    }","title":"KafkaConsumer with Multithreading","body":"<p>Created below KafkaConsumer, that will take topicName, partitionNo, beginOffset and endOffset as parameters. But below logic I can execute for one partition at a time because KafkaConsumer is not thread safe. If I want to complete the all 20 partitions it is taking longer time. So how to implement the KafkaConsumer with multi threads so that I can search all partitions at the same time ?</p>\n<p>&quot;I have a topic with 20 partitions and has employee data. From UI search screen, I will pass employee number and birth Date, Now I want to search all these 20 partitions to find a particular employees data is there are not. If it is matches then I want put in a separate List and download as file.&quot;</p>\n<pre><code>   public List&lt;String&gt; searchMessages(String topicName, int partitionNo, long beginOffset, long endOffset) {\n\nList&lt;String&gt; filteredMessages = new ArrayList&lt;&gt;();\nTopicPartition tp = new TopicPartition(&quot;topicName&quot;, partitionNo);\nProperties clusterOneProps = kafkaConsumerConfig.getConsumerProperties();\nKafkaConsumer&lt;String, Object&gt; consumer = new KafkaConsumer&lt;&gt;(clusterOneProps);\n\ntry {\n    consumer.subscribe(Collections.singletonList(&quot;topicName&quot;), new ConsumerRebalanceListener() {\n    @Override\n    public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void onPartitionsAssigned(Collection&lt;TopicPartition&gt; partitions) {\n        // TODO Auto-generated method stub\n        \n        consumer.seek(tp, beginOffset); \n    }\n}); \nThread.sleep(100);    \nboolean flag = true;\nSystem.out.println(&quot;search started......from offset is &quot;+beginOffset);\nwhile(flag) {   \nConsumerRecords&lt;String, Object&gt; crs = consumer.poll(Duration.ofMillis(100L));\n for (ConsumerRecord&lt;String, Object&gt; record : crs) {\n          // search criteria\n           if(record.value().toString().contains(&quot;01111&quot;) &amp;&amp; record.value().toString().contains(&quot;2021-11-06&quot;)) {\n               System.out.println(&quot;founddddddddddddddddddddddddddddddddddddddd &quot;+record.offset());\n               filteredMessages.add(record.value().toString());\n           }\n           if (record.offset() == endOffset) {\n               flag = false;\n               break;\n           }\n    }\n }\n System.out.println(&quot;doneeeeeeeeeeeeeeeee&quot;);\n}catch(Exception e) {\n    e.printStackTrace();\n}finally {\n    consumer.close();\n}\n</code></pre>\n"},{"tags":["java","eclipse","resources","warnings"],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365595320,"creation_date":1365593630,"answer_id":15924691,"question_id":15924630,"body_markdown":"*Edited answer based on updated question:*\r\n\r\nIt&#39;s a bogus warning - based on the use of the ternary operator. If the right hand side of operation does not fire then the `BufferedWriter` is not going to be created, and there is no resource leak. So what the warning describes is really not a possibility. However, if you wanted to &#39;handle&#39; it, just move the creation of the writer inside your try block.\r\n\r\n    boolean useStdout = askUserWhetherToUseStdout();\r\n    Writer writer = null;\r\n    try {\r\n        writer = useStdout ? new OutputStreamWriter(System.out)\r\n                : new BufferedWriter(new FileWriter(new File(\r\n                        askUserForFilename())));\r\n        writer.write(&quot;Hello World!&quot;);\r\n    } finally {\r\n        if (writer != null)\r\n            writer.close();\r\n    }","title":"Why do I get a &quot;potential resource leak&quot; warning with a wrapping writer object?","body":"<p><em>Edited answer based on updated question:</em></p>\n\n<p>It's a bogus warning - based on the use of the ternary operator. If the right hand side of operation does not fire then the <code>BufferedWriter</code> is not going to be created, and there is no resource leak. So what the warning describes is really not a possibility. However, if you wanted to 'handle' it, just move the creation of the writer inside your try block.</p>\n\n<pre><code>boolean useStdout = askUserWhetherToUseStdout();\nWriter writer = null;\ntry {\n    writer = useStdout ? new OutputStreamWriter(System.out)\n            : new BufferedWriter(new FileWriter(new File(\n                    askUserForFilename())));\n    writer.write(\"Hello World!\");\n} finally {\n    if (writer != null)\n        writer.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365593698,"creation_date":1365593698,"answer_id":15924708,"question_id":15924630,"body_markdown":"If ` writer.write(&quot;Hello World!&quot;);` throws an Exception, `writer.close()` is never called.\r\n\r\nTry wrapping it into a try-catch block (probably making use of the auto-closing feature, see http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","title":"Why do I get a &quot;potential resource leak&quot; warning with a wrapping writer object?","body":"<p>If <code>writer.write(\"Hello World!\");</code> throws an Exception, <code>writer.close()</code> is never called.</p>\n\n<p>Try wrapping it into a try-catch block (probably making use of the auto-closing feature, see <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a>).</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365596968,"creation_date":1365594884,"answer_id":15925111,"question_id":15924630,"body_markdown":"Could you check if this code gives you warning? If not then you probably didn&#39;t handle IOException while creating writer which should also be done in try block.\r\n\r\n\tboolean useStdout = askUserWhetherToUseStdout();\r\n\tWriter writer = null;\r\n\ttry {\r\n\t\twriter = useStdout ? new OutputStreamWriter(System.out)\r\n\t\t\t\t: new BufferedWriter(new FileWriter(new File(\r\n\t\t\t\t\t\taskUserForFilename())));\r\n\t\twriter.write(&quot;Hello World!&quot;);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t} finally {\r\n\t\ttry {\r\n\t\t\tif (writer != null)\r\n\t\t\t\twriter.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nYou can also use try-with-resources which will automatically close resource stream after try block.\r\n\r\n\tboolean useStdout = askUserWhetherToUseStdout();\r\n\ttry (Writer writer = useStdout ? new OutputStreamWriter(System.out)\r\n\t\t\t: new BufferedWriter(new FileWriter(new File(\r\n\t\t\t\t\taskUserForFilename())))) {\r\n\t\twriter.write(&quot;Hello World!&quot;);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n","title":"Why do I get a &quot;potential resource leak&quot; warning with a wrapping writer object?","body":"<p>Could you check if this code gives you warning? If not then you probably didn't handle IOException while creating writer which should also be done in try block.</p>\n\n<pre><code>boolean useStdout = askUserWhetherToUseStdout();\nWriter writer = null;\ntry {\n    writer = useStdout ? new OutputStreamWriter(System.out)\n            : new BufferedWriter(new FileWriter(new File(\n                    askUserForFilename())));\n    writer.write(\"Hello World!\");\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    try {\n        if (writer != null)\n            writer.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>You can also use try-with-resources which will automatically close resource stream after try block.</p>\n\n<pre><code>boolean useStdout = askUserWhetherToUseStdout();\ntry (Writer writer = useStdout ? new OutputStreamWriter(System.out)\n        : new BufferedWriter(new FileWriter(new File(\n                askUserForFilename())))) {\n    writer.write(\"Hello World!\");\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":92878,"reputation":8722,"user_id":254343,"accept_rate":64,"display_name":"Armen Michaeli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1999,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1639319204,"creation_date":1365593439,"question_id":15924630,"body_markdown":"I have Eclipse issue the following warning:\r\n\r\n&gt; `Potential resource leak: &#39;&lt;unassigned Closeable value&gt;&#39; may not be closed`\r\n\r\n...for the expression `new BufferedWriter(...)` in the snippet below:\r\n\r\n    boolean useStdout = askUserWhetherToUseStdout();\r\n\tWriter writer = useStdout ? new OutputStreamWriter(System.out) : new BufferedWriter(new FileWriter(new File(askUserForFilename())));\r\n\ttry {\r\n\t\twriter.write(&quot;Hello World!&quot;);\r\n\t}\r\n\tfinally {\r\n\t\twriter.close();\r\n\t}\r\n\r\nIs this a false positive? The way I have understood the whole `Writer` thing is that any writer will close its underlying writers. In my case, `writer` will encapsulate the new buffered writer (which in turn encapsulates a file writer), and so closing `writer` should not leak any resources associated with the buffered writer or its underlying writers? \r\n\r\nWhat am I missing here?","title":"Why do I get a &quot;potential resource leak&quot; warning with a wrapping writer object?","body":"<p>I have Eclipse issue the following warning:</p>\n<blockquote>\n<p><code>Potential resource leak: '&lt;unassigned Closeable value&gt;' may not be closed</code></p>\n</blockquote>\n<p>...for the expression <code>new BufferedWriter(...)</code> in the snippet below:</p>\n<pre><code>boolean useStdout = askUserWhetherToUseStdout();\nWriter writer = useStdout ? new OutputStreamWriter(System.out) : new BufferedWriter(new FileWriter(new File(askUserForFilename())));\ntry {\n    writer.write(&quot;Hello World!&quot;);\n}\nfinally {\n    writer.close();\n}\n</code></pre>\n<p>Is this a false positive? The way I have understood the whole <code>Writer</code> thing is that any writer will close its underlying writers. In my case, <code>writer</code> will encapsulate the new buffered writer (which in turn encapsulates a file writer), and so closing <code>writer</code> should not leak any resources associated with the buffered writer or its underlying writers?</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639319152,"post_id":70323679,"comment_id":124313265,"body_markdown":"Please show us what you have tried.  There are lots of StackOverflow Q&amp;As on reading and sending emails from android.  And tutorials.  And youtube videos.","body":"Please show us what you have tried.  There are lots of StackOverflow Q&amp;As on reading and sending emails from android.  And tutorials.  And youtube videos."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639319381,"post_id":70323679,"comment_id":124313309,"body_markdown":"For example: https://www.tutorialspoint.com/javamail_api/javamail_api_overview.htm","body":"For example: <a href=\"https://www.tutorialspoint.com/javamail_api/javamail_api_overview.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/javamail_api/javamail_api_overview.htm</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639838926,"post_id":70323679,"comment_id":124453222,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22889516,"reputation":1,"user_id":17029857,"display_name":"Maimun Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639318541,"creation_date":1639313341,"question_id":70323679,"body_markdown":"I am trying to make an Android application that can read all the emails (including the unread and read ones) and store it in an array variable. Please help as I am not able to get any answer. ","title":"Reading emails using Java on Android","body":"<p>I am trying to make an Android application that can read all the emails (including the unread and read ones) and store it in an array variable. Please help as I am not able to get any answer.</p>\n"},{"tags":["java","android","xml","date","time"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1595718018,"post_id":63094220,"comment_id":111572241,"body_markdown":"Where exactly does XML come into it?","body":"Where exactly does XML come into it?"},{"owner":{"account_id":7134838,"reputation":336,"user_id":5454852,"display_name":"Tarik Weiss"},"score":0,"creation_date":1595720840,"post_id":63094220,"comment_id":111572714,"body_markdown":"Try converting the date strings into Date objects and then work with looping to find out the last date of the series. see: https://stackoverflow.com/q/15211132/5454852","body":"Try converting the date strings into Date objects and then work with looping to find out the last date of the series. see: <a href=\"https://stackoverflow.com/q/15211132/5454852\">stackoverflow.com/q/15211132/5454852</a>"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1595741748,"post_id":63094220,"comment_id":111575627,"body_markdown":"Looks like a simple programming task, where exactly did you struggle?","body":"Looks like a simple programming task, where exactly did you struggle?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1595784109,"post_id":63094220,"comment_id":111587486,"body_markdown":"By the way, the [standard way to represent](https://en.wikipedia.org/wiki/ISO_8601#Time_intervals) an interval of time textually is with a slash character separating your dates, rather than spaces and a hyphen. `2020-08-15/2020-08-18`","body":"By the way, the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" rel=\"nofollow noreferrer\">standard way to represent</a> an interval of time textually is with a slash character separating your dates, rather than spaces and a hyphen. <code>2020-08-15&#47;2020-08-18</code>"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639317105,"creation_date":1595744255,"answer_id":63096753,"question_id":63094220,"body_markdown":"Parse each string into a `LocalDate` object using a `DateTimeFormatter`. Search for how (if your search leads to a page using the old and troublesome `SimpleDateFormat`, avoid that). Create two variables for the start and end of the current interval. Store the first date into *both*. In a loop over the remaining dates:\r\n\r\n - If the current date is one day after the end, store it into the end, thus extending the interval by one day.\r\n - Otherwise print the current interval, see below for how. Then again store the current date into both start and end.\r\n\r\nAfter the loop terminates, print the current interval.\r\n\r\nHow to print the current interval: if start and end are equal, print only one of them; otherwise print both with an en-dash between them. In either case format each printed date into the desired format, for example the original format using the same `DateTimeFormatter`.\r\n\r\nTo determine whether current date is one day after end, use the `plusDays` and the `isEqual` methods of `LocalDate`.\r\n\r\n\r\n## Question: Doesn’t `LocalDate` require Android API level 26?\r\n\r\n`LocalDate` is part of java.time, the modern Java date and time API. java.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On older Android either use desugaring or the Android edition of ThreeTen Backport. It’s called ThreeTenABP. In the latter case make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Documentation of `DateTimeFormatter`](https://developer.android.com/reference/java/time/format/DateTimeFormatter)\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table)\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.","title":"Print consecutive dates using hyphen","body":"<p>Parse each string into a <code>LocalDate</code> object using a <code>DateTimeFormatter</code>. Search for how (if your search leads to a page using the old and troublesome <code>SimpleDateFormat</code>, avoid that). Create two variables for the start and end of the current interval. Store the first date into <em>both</em>. In a loop over the remaining dates:</p>\n<ul>\n<li>If the current date is one day after the end, store it into the end, thus extending the interval by one day.</li>\n<li>Otherwise print the current interval, see below for how. Then again store the current date into both start and end.</li>\n</ul>\n<p>After the loop terminates, print the current interval.</p>\n<p>How to print the current interval: if start and end are equal, print only one of them; otherwise print both with an en-dash between them. In either case format each printed date into the desired format, for example the original format using the same <code>DateTimeFormatter</code>.</p>\n<p>To determine whether current date is one day after end, use the <code>plusDays</code> and the <code>isEqual</code> methods of <code>LocalDate</code>.</p>\n<h2>Question: Doesn’t <code>LocalDate</code> require Android API level 26?</h2>\n<p><code>LocalDate</code> is part of java.time, the modern Java date and time API. java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On older Android either use desugaring or the Android edition of ThreeTen Backport. It’s called ThreeTenABP. In the latter case make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://developer.android.com/reference/java/time/format/DateTimeFormatter\" rel=\"nofollow noreferrer\">Documentation of <code>DateTimeFormatter</code></a></li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a></li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"}],"owner":{"account_id":17774709,"reputation":195,"user_id":12907351,"display_name":"Akash R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639317105,"creation_date":1595716343,"question_id":63094220,"body_markdown":"I have a list of dates in the form of ddMMMyyyy stored in one single string. The dates may or may not be consecutive\r\nI print those dates as individual dates. I want to remove that and use hyphen if the dates are consecutive.\r\n\r\n**For Example**\r\n\r\n    13Aug2020\r\n    15Aug2020 - 18Aug2020\r\n    22Aug2020\r\n\r\n**Instead of**\r\n\r\n    13Aug2020\r\n    15Aug2020\r\n    16Aug2020\r\n    17Aug2020\r\n    18Aug2020\r\n    22Aug2020\r\n\r\nCode used to Print Dates : \r\n\r\n    mDateView.setText(mDateValue.replace(&quot;,&quot;, &quot;\\n&quot;));\r\n\r\nwhere **mDateView** is a Textview and **mDateValue** is the String containing all the dates seperated by Commas\r\n\r\n","title":"Print consecutive dates using hyphen","body":"<p>I have a list of dates in the form of ddMMMyyyy stored in one single string. The dates may or may not be consecutive\nI print those dates as individual dates. I want to remove that and use hyphen if the dates are consecutive.</p>\n<p><strong>For Example</strong></p>\n<pre><code>13Aug2020\n15Aug2020 - 18Aug2020\n22Aug2020\n</code></pre>\n<p><strong>Instead of</strong></p>\n<pre><code>13Aug2020\n15Aug2020\n16Aug2020\n17Aug2020\n18Aug2020\n22Aug2020\n</code></pre>\n<p>Code used to Print Dates :</p>\n<pre><code>mDateView.setText(mDateValue.replace(&quot;,&quot;, &quot;\\n&quot;));\n</code></pre>\n<p>where <strong>mDateView</strong> is a Textview and <strong>mDateValue</strong> is the String containing all the dates seperated by Commas</p>\n"},{"tags":["java","linux","sorting","compare"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639253558,"post_id":70318593,"comment_id":124303332,"body_markdown":"A Comparator *must* return zero when the two values being compared are equal.  It is not sufficient to only return 1 or -1.  (Side note:  I’ll be surprised if your `iterator()` method works;  how can you cast a TreeNode to an Iterator when TreeNode does not implement Iterator?)","body":"A Comparator <i>must</i> return zero when the two values being compared are equal.  It is not sufficient to only return 1 or -1.  (Side note:  I’ll be surprised if your <code>iterator()</code> method works;  how can you cast a TreeNode to an Iterator when TreeNode does not implement Iterator?)"}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639317048,"creation_date":1639277406,"answer_id":70320581,"question_id":70318593,"body_markdown":"A short version could look something like this.\r\n\r\n    Comparator&lt;File&gt; lexicographicFileComparator = Comparator.comparing(File::isFile)\r\n        .thenComparing(Comparator.naturalOrder());\r\n\r\nYou&#39;ve wrote that `File.compareTo` doesn&#39;t even check whether the file exists or not. I don&#39;t think it&#39;s the job of `compareTo` or `Comparator` to check if a file exists. Files that don&#39;t exist should be filtered before.\r\n\r\n---\r\n\r\nI think your example is overusing static methods. `TreeNode` should be an abstract class, while you have an implementation called `FileTreeNode` that replaces your static methods.\r\n\r\nHere is an example\r\n\r\n\r\n### TreeNode\r\n\r\n    public abstract class TreeNode&lt;N extends TreeNode&lt;N, T&gt;, T&gt; implements Iterable&lt;N&gt; {\r\n    \r\n        private static &lt;N extends TreeNode&lt;N, ?&gt;&gt; Stream&lt;CharSequence&gt; renderBranch(N node) {\r\n            Stream.Builder&lt;CharSequence&gt; result = Stream.builder();\r\n            result.add(node.printNode());\r\n            Iterator&lt;N&gt; iterator = node.getChildren().iterator();\r\n            while (iterator.hasNext()) {\r\n                Stream&lt;CharSequence&gt; subtree = renderBranch(iterator.next());\r\n                Iterator&lt;CharSequence&gt; subtreeIterator = subtree.iterator();\r\n                String branchSplit = &quot;├─ &quot;;\r\n                String branchSpacer = &quot;│  &quot;;\r\n                if (!iterator.hasNext()) {\r\n                    branchSplit = &quot;└─ &quot;;\r\n                    branchSpacer = &quot;   &quot;;\r\n                }\r\n                result.add(branchSplit + subtreeIterator.next());\r\n                while (subtreeIterator.hasNext()) {\r\n                    result.add(branchSpacer + subtreeIterator.next());\r\n                }\r\n            }\r\n            return result.build();\r\n        }\r\n    \r\n        private final T data;\r\n        private final N parent;\r\n    \r\n        private final List&lt;N&gt; children;\r\n    \r\n        public TreeNode(T data) {\r\n            this(data, null);\r\n        }\r\n    \r\n        protected TreeNode(T data, N parent) {\r\n            this.data = data;\r\n            this.parent = parent;\r\n            children = initChildren();\r\n        }\r\n    \r\n        /**\r\n         * Called in constructor to initialize the children list.\r\n         */\r\n        protected abstract List&lt;N&gt; initChildren();\r\n    \r\n        /**\r\n         * Used to avoid unsafe casting.\r\n         *\r\n         * @return This\r\n         */\r\n        protected abstract N instance();\r\n    \r\n        /**\r\n         * TreeNode knows how to print the tree, but not how to print the current element. This way the child class can decide how it wants to be printed in the tree;\r\n         *\r\n         * @return readable text representation of node.\r\n         * @see TreeNode#renderBranch()\r\n         */\r\n        protected abstract CharSequence printNode();\r\n    \r\n        /**\r\n         * @return Returns a string representation of the entire branch starting at this node.\r\n         */\r\n        public String renderBranch() {\r\n            Stream&lt;CharSequence&gt; lines = renderBranch(instance());\r\n            return lines.collect(Collectors.joining(&quot;\\n&quot;));\r\n        }\r\n    \r\n        /**\r\n         * @return Returns a stream of the entire branch starting at this node\r\n         */\r\n        public Stream&lt;N&gt; streamBranch() {\r\n            return Stream.concat(Stream.of(instance()), getChildren().stream().flatMap(TreeNode::streamBranch));\r\n        }\r\n    \r\n        public T getData() {\r\n            return data;\r\n        }\r\n    \r\n        public N getParent() {\r\n            return parent;\r\n        }\r\n    \r\n        public List&lt;N&gt; getChildren() {\r\n            return children;\r\n        }\r\n    \r\n        public boolean isRoot() {\r\n            return parent == null;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return data != null ? data.toString() : &quot;[data null]&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;N&gt; iterator() {\r\n            // No clue what you want to do here, but your method will not work.\r\n            return children.iterator();\r\n        }\r\n    }\r\n\r\n### FileTreeNode\r\n\r\n    public class FileTreeNode extends TreeNode&lt;FileTreeNode, File&gt; {\r\n    \r\n        public FileTreeNode(File root) {\r\n            super(root);\r\n        }\r\n    \r\n        protected FileTreeNode(File data, FileTreeNode parent) {\r\n            super(data, parent);\r\n        }\r\n    \r\n        public long calculateFileSize() {\r\n            return streamBranch().mapToLong(value -&gt; value.getData().length()).sum();\r\n        }\r\n    \r\n        @Override\r\n        protected CharSequence printNode() {\r\n            return getData().getName() + &quot; &quot; + calculateFileSize() + &quot; bytes&quot;;\r\n        }\r\n    \r\n        @Override\r\n        protected List&lt;FileTreeNode&gt; initChildren() {\r\n            File file = getData();\r\n            if (file.isDirectory()) {\r\n                File[] files = file.listFiles();\r\n                if (files != null) {\r\n                    return Arrays.stream(files)\r\n                            .sorted(Comparator.comparing(File::isFile).thenComparing(Comparator.naturalOrder()))\r\n                            .map(path -&gt; new FileTreeNode(path, this))\r\n                            .toList();\r\n                }\r\n            }\r\n            return Collections.emptyList();\r\n        }\r\n    \r\n        @Override\r\n        protected FileTreeNode instance() {\r\n            return this;\r\n        }\r\n    }\r\n\r\n### Usage\r\n\r\n    File file = new File(&quot;C:\\\\dir&quot;);\r\n    FileTreeNode rootNode = new FileTreeNode(file);\r\n    System.out.println(rootNode.renderBranch());\r\n\r\n\r\nThis way you can easily implement a `TreeNode` structure for other classes too. For example `File` is outdated and replaced by `Path` so maybe you will want a `PathTreeNode` in the future. Who knows.","title":"How to sort file\\directory tree in lexicographic order (case-insensitive) on Linux system","body":"<p>A short version could look something like this.</p>\n<pre><code>Comparator&lt;File&gt; lexicographicFileComparator = Comparator.comparing(File::isFile)\n    .thenComparing(Comparator.naturalOrder());\n</code></pre>\n<p>You've wrote that <code>File.compareTo</code> doesn't even check whether the file exists or not. I don't think it's the job of <code>compareTo</code> or <code>Comparator</code> to check if a file exists. Files that don't exist should be filtered before.</p>\n<hr />\n<p>I think your example is overusing static methods. <code>TreeNode</code> should be an abstract class, while you have an implementation called <code>FileTreeNode</code> that replaces your static methods.</p>\n<p>Here is an example</p>\n<h3>TreeNode</h3>\n<pre><code>public abstract class TreeNode&lt;N extends TreeNode&lt;N, T&gt;, T&gt; implements Iterable&lt;N&gt; {\n\n    private static &lt;N extends TreeNode&lt;N, ?&gt;&gt; Stream&lt;CharSequence&gt; renderBranch(N node) {\n        Stream.Builder&lt;CharSequence&gt; result = Stream.builder();\n        result.add(node.printNode());\n        Iterator&lt;N&gt; iterator = node.getChildren().iterator();\n        while (iterator.hasNext()) {\n            Stream&lt;CharSequence&gt; subtree = renderBranch(iterator.next());\n            Iterator&lt;CharSequence&gt; subtreeIterator = subtree.iterator();\n            String branchSplit = &quot;├─ &quot;;\n            String branchSpacer = &quot;│  &quot;;\n            if (!iterator.hasNext()) {\n                branchSplit = &quot;└─ &quot;;\n                branchSpacer = &quot;   &quot;;\n            }\n            result.add(branchSplit + subtreeIterator.next());\n            while (subtreeIterator.hasNext()) {\n                result.add(branchSpacer + subtreeIterator.next());\n            }\n        }\n        return result.build();\n    }\n\n    private final T data;\n    private final N parent;\n\n    private final List&lt;N&gt; children;\n\n    public TreeNode(T data) {\n        this(data, null);\n    }\n\n    protected TreeNode(T data, N parent) {\n        this.data = data;\n        this.parent = parent;\n        children = initChildren();\n    }\n\n    /**\n     * Called in constructor to initialize the children list.\n     */\n    protected abstract List&lt;N&gt; initChildren();\n\n    /**\n     * Used to avoid unsafe casting.\n     *\n     * @return This\n     */\n    protected abstract N instance();\n\n    /**\n     * TreeNode knows how to print the tree, but not how to print the current element. This way the child class can decide how it wants to be printed in the tree;\n     *\n     * @return readable text representation of node.\n     * @see TreeNode#renderBranch()\n     */\n    protected abstract CharSequence printNode();\n\n    /**\n     * @return Returns a string representation of the entire branch starting at this node.\n     */\n    public String renderBranch() {\n        Stream&lt;CharSequence&gt; lines = renderBranch(instance());\n        return lines.collect(Collectors.joining(&quot;\\n&quot;));\n    }\n\n    /**\n     * @return Returns a stream of the entire branch starting at this node\n     */\n    public Stream&lt;N&gt; streamBranch() {\n        return Stream.concat(Stream.of(instance()), getChildren().stream().flatMap(TreeNode::streamBranch));\n    }\n\n    public T getData() {\n        return data;\n    }\n\n    public N getParent() {\n        return parent;\n    }\n\n    public List&lt;N&gt; getChildren() {\n        return children;\n    }\n\n    public boolean isRoot() {\n        return parent == null;\n    }\n\n    @Override\n    public String toString() {\n        return data != null ? data.toString() : &quot;[data null]&quot;;\n    }\n\n    @Override\n    public Iterator&lt;N&gt; iterator() {\n        // No clue what you want to do here, but your method will not work.\n        return children.iterator();\n    }\n}\n</code></pre>\n<h3>FileTreeNode</h3>\n<pre><code>public class FileTreeNode extends TreeNode&lt;FileTreeNode, File&gt; {\n\n    public FileTreeNode(File root) {\n        super(root);\n    }\n\n    protected FileTreeNode(File data, FileTreeNode parent) {\n        super(data, parent);\n    }\n\n    public long calculateFileSize() {\n        return streamBranch().mapToLong(value -&gt; value.getData().length()).sum();\n    }\n\n    @Override\n    protected CharSequence printNode() {\n        return getData().getName() + &quot; &quot; + calculateFileSize() + &quot; bytes&quot;;\n    }\n\n    @Override\n    protected List&lt;FileTreeNode&gt; initChildren() {\n        File file = getData();\n        if (file.isDirectory()) {\n            File[] files = file.listFiles();\n            if (files != null) {\n                return Arrays.stream(files)\n                        .sorted(Comparator.comparing(File::isFile).thenComparing(Comparator.naturalOrder()))\n                        .map(path -&gt; new FileTreeNode(path, this))\n                        .toList();\n            }\n        }\n        return Collections.emptyList();\n    }\n\n    @Override\n    protected FileTreeNode instance() {\n        return this;\n    }\n}\n</code></pre>\n<h3>Usage</h3>\n<pre><code>File file = new File(&quot;C:\\\\dir&quot;);\nFileTreeNode rootNode = new FileTreeNode(file);\nSystem.out.println(rootNode.renderBranch());\n</code></pre>\n<p>This way you can easily implement a <code>TreeNode</code> structure for other classes too. For example <code>File</code> is outdated and replaced by <code>Path</code> so maybe you will want a <code>PathTreeNode</code> in the future. Who knows.</p>\n"}],"owner":{"account_id":23337061,"reputation":133,"user_id":17412555,"display_name":"Richard Walker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70320581,"answer_count":1,"score":0,"last_activity_date":1639317048,"creation_date":1639253080,"question_id":70318593,"body_markdown":"I have a class that do a tree from directory, subdirectory and files. And need to satisfy two conditions. Sort the contents in following way:\r\n-Directories should go first.\r\n-Directories and files are sorted in lexicographic order (case-insensitive).\r\nI work on windows system and code below work fine, all is sorted how I want. Directories go first and are sorted in lexicographic order. But I read that on windows system is automatically sorted in lexicographic order. But this code doesn&#39;t work on Linux, the line `children.sort(Comparator.comparing(file -&gt; file.isDirectory() ? -1 : 1));` do not work and files\\directory aren&#39;t sorted in lexicographic order (case-insensitive). How to solve problem with sort conditions on linux system? How can change sort conditions in code?\r\n\r\n    import static java.util.Comparator.comparing;\r\n    \r\n    public class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\r\n    \r\n        public T data;\r\n        public TreeNode&lt;T&gt; parent;\r\n        public List&lt;TreeNode&lt;T&gt;&gt; children;\r\n    \r\n        public boolean isRoot() {\r\n            return parent == null;\r\n        }\r\n    \r\n        private List&lt;TreeNode&lt;T&gt;&gt; elementsIndex;\r\n    \r\n        public TreeNode(T data) {\r\n            this.data = data;\r\n            this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n            this.elementsIndex = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n            this.elementsIndex.add(this);\r\n        }\r\n    \r\n        public TreeNode&lt;T&gt; addChild(T child) {\r\n            TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\r\n            childNode.parent = this;\r\n            this.children.add(childNode);\r\n            this.registerChildForSearch(childNode);\r\n            return childNode;\r\n    \r\n        }\r\n    \r\n        private void registerChildForSearch(TreeNode&lt;T&gt; node) {\r\n            elementsIndex.add(node);\r\n            if (parent != null)\r\n                parent.registerChildForSearch(node);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return data != null ? data.toString() : &quot;[data null]&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;TreeNode&lt;T&gt;&gt; iterator() {\r\n            TreeNode&lt;T&gt; iter = new TreeNode&lt;T&gt;((T) this);\r\n            return (Iterator&lt;TreeNode&lt;T&gt;&gt;) iter;\r\n        }\r\n    \r\n        public static TreeNode&lt;File&gt; createDirTree(File folder) {\r\n            if (!folder.isDirectory()) {\r\n                throw new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n            }\r\n    \r\n           List&lt;File&gt; children = Arrays.asList(folder.listFiles());\r\n    children.sort(Comparator.comparing(file -&gt; file.isDirectory() ? -1 : 1));\r\n    \r\n            TreeNode&lt;File&gt; DirRoot = new TreeNode&lt;File&gt;(folder);\r\n    for (File file : children) {\r\n                if (file.isDirectory()) {\r\n                    appendDirTree(file, DirRoot);\r\n                } else {\r\n                    appendFile(file, DirRoot);\r\n                }\r\n            }\r\n            return DirRoot;\r\n        }\r\n    \r\n        public static void appendDirTree(File folder, TreeNode&lt;File&gt; dirRoot) {\r\n            dirRoot.addChild(folder);\r\n    \r\n            List&lt;File&gt; children = Arrays.asList(folder.listFiles());\r\n            children.sort(comparing(file -&gt; file.isDirectory() ? -1 : 1));\r\n    for (File file : children) {\r\n                if (file.isDirectory()) {\r\n                    appendDirTree(file, dirRoot.children.get(dirRoot.children.size() - 1));\r\n                } else {\r\n                    appendFile(file, dirRoot.children.get(dirRoot.children.size() - 1));\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void appendFile(File file, TreeNode&lt;File&gt; filenode) {\r\n            filenode.addChild(file);\r\n    \r\n        }\r\n    \r\n    \r\n        public static String renderDirectoryTree(TreeNode&lt;File&gt; tree) {\r\n            List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\r\n            String newline = &quot;\\n&quot;;\r\n            StringBuilder sb = new StringBuilder(lines.size() * 20);\r\n            for (StringBuilder line : lines) {\r\n                sb.append(line);\r\n                sb.append(newline);\r\n            }\r\n            //System.out.println(sb);\r\n            return sb.toString();\r\n        }\r\n    \r\n        public static List&lt;StringBuilder&gt; renderDirectoryTreeLines(TreeNode&lt;File&gt; tree) {\r\n    \r\n            List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\r\n            result.add(new StringBuilder().append(tree.data.getName() + &quot; &quot; + calculateFileSize(tree) + &quot; bytes&quot;));\r\n            Iterator&lt;TreeNode&lt;File&gt;&gt; iterator = tree.children.iterator();\r\n            while (iterator.hasNext()) {\r\n                List&lt;StringBuilder&gt; subtree = renderDirectoryTreeLines(iterator.next());\r\n                if (iterator.hasNext()) {\r\n                    addSubtree(result, subtree);\r\n                } else {\r\n                    addLastSubtree(result, subtree);\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        private static void addSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\r\n            Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n            result.add(iterator.next().insert(0, &quot;├─ &quot;));\r\n            while (iterator.hasNext()) {\r\n                result.add(iterator.next().insert(0, &quot;│  &quot;));\r\n            }\r\n        }\r\n    \r\n        private static void addLastSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\r\n            Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n            result.add(iterator.next().insert(0, &quot;└─ &quot;));\r\n            while (iterator.hasNext()) {\r\n                result.add(iterator.next().insert(0, &quot;   &quot;));\r\n            }\r\n        }\r\n\r\n    public static long calculateFileSize(TreeNode&lt;File&gt; tree) {\r\n        long fileSize = 0;\r\n        if (tree.data.isDirectory()) {\r\n            List&lt;TreeNode&lt;File&gt;&gt; children = tree.children;\r\n\r\n\r\n            for (TreeNode&lt;File&gt; child : children) {\r\n                fileSize += calculateFileSize(child);\r\n            }\r\n\r\n        } else {\r\n            fileSize = tree.data.length();\r\n        }\r\n        return fileSize;\r\n    }\r\n}\r\n\r\n","title":"How to sort file\\directory tree in lexicographic order (case-insensitive) on Linux system","body":"<p>I have a class that do a tree from directory, subdirectory and files. And need to satisfy two conditions. Sort the contents in following way:\n-Directories should go first.\n-Directories and files are sorted in lexicographic order (case-insensitive).\nI work on windows system and code below work fine, all is sorted how I want. Directories go first and are sorted in lexicographic order. But I read that on windows system is automatically sorted in lexicographic order. But this code doesn't work on Linux, the line <code>children.sort(Comparator.comparing(file -&gt; file.isDirectory() ? -1 : 1));</code> do not work and files\\directory aren't sorted in lexicographic order (case-insensitive). How to solve problem with sort conditions on linux system? How can change sort conditions in code?</p>\n<pre><code>import static java.util.Comparator.comparing;\n\npublic class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\n\n    public T data;\n    public TreeNode&lt;T&gt; parent;\n    public List&lt;TreeNode&lt;T&gt;&gt; children;\n\n    public boolean isRoot() {\n        return parent == null;\n    }\n\n    private List&lt;TreeNode&lt;T&gt;&gt; elementsIndex;\n\n    public TreeNode(T data) {\n        this.data = data;\n        this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n        this.elementsIndex = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n        this.elementsIndex.add(this);\n    }\n\n    public TreeNode&lt;T&gt; addChild(T child) {\n        TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\n        childNode.parent = this;\n        this.children.add(childNode);\n        this.registerChildForSearch(childNode);\n        return childNode;\n\n    }\n\n    private void registerChildForSearch(TreeNode&lt;T&gt; node) {\n        elementsIndex.add(node);\n        if (parent != null)\n            parent.registerChildForSearch(node);\n    }\n\n    @Override\n    public String toString() {\n        return data != null ? data.toString() : &quot;[data null]&quot;;\n    }\n\n    @Override\n    public Iterator&lt;TreeNode&lt;T&gt;&gt; iterator() {\n        TreeNode&lt;T&gt; iter = new TreeNode&lt;T&gt;((T) this);\n        return (Iterator&lt;TreeNode&lt;T&gt;&gt;) iter;\n    }\n\n    public static TreeNode&lt;File&gt; createDirTree(File folder) {\n        if (!folder.isDirectory()) {\n            throw new IllegalArgumentException(&quot;folder is not a Directory&quot;);\n        }\n\n       List&lt;File&gt; children = Arrays.asList(folder.listFiles());\nchildren.sort(Comparator.comparing(file -&gt; file.isDirectory() ? -1 : 1));\n\n        TreeNode&lt;File&gt; DirRoot = new TreeNode&lt;File&gt;(folder);\nfor (File file : children) {\n            if (file.isDirectory()) {\n                appendDirTree(file, DirRoot);\n            } else {\n                appendFile(file, DirRoot);\n            }\n        }\n        return DirRoot;\n    }\n\n    public static void appendDirTree(File folder, TreeNode&lt;File&gt; dirRoot) {\n        dirRoot.addChild(folder);\n\n        List&lt;File&gt; children = Arrays.asList(folder.listFiles());\n        children.sort(comparing(file -&gt; file.isDirectory() ? -1 : 1));\nfor (File file : children) {\n            if (file.isDirectory()) {\n                appendDirTree(file, dirRoot.children.get(dirRoot.children.size() - 1));\n            } else {\n                appendFile(file, dirRoot.children.get(dirRoot.children.size() - 1));\n            }\n        }\n    }\n\n    public static void appendFile(File file, TreeNode&lt;File&gt; filenode) {\n        filenode.addChild(file);\n\n    }\n\n\n    public static String renderDirectoryTree(TreeNode&lt;File&gt; tree) {\n        List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\n        String newline = &quot;\\n&quot;;\n        StringBuilder sb = new StringBuilder(lines.size() * 20);\n        for (StringBuilder line : lines) {\n            sb.append(line);\n            sb.append(newline);\n        }\n        //System.out.println(sb);\n        return sb.toString();\n    }\n\n    public static List&lt;StringBuilder&gt; renderDirectoryTreeLines(TreeNode&lt;File&gt; tree) {\n\n        List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\n        result.add(new StringBuilder().append(tree.data.getName() + &quot; &quot; + calculateFileSize(tree) + &quot; bytes&quot;));\n        Iterator&lt;TreeNode&lt;File&gt;&gt; iterator = tree.children.iterator();\n        while (iterator.hasNext()) {\n            List&lt;StringBuilder&gt; subtree = renderDirectoryTreeLines(iterator.next());\n            if (iterator.hasNext()) {\n                addSubtree(result, subtree);\n            } else {\n                addLastSubtree(result, subtree);\n            }\n        }\n\n        return result;\n    }\n\n    private static void addSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n        result.add(iterator.next().insert(0, &quot;├─ &quot;));\n        while (iterator.hasNext()) {\n            result.add(iterator.next().insert(0, &quot;│  &quot;));\n        }\n    }\n\n    private static void addLastSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n        result.add(iterator.next().insert(0, &quot;└─ &quot;));\n        while (iterator.hasNext()) {\n            result.add(iterator.next().insert(0, &quot;   &quot;));\n        }\n    }\n\npublic static long calculateFileSize(TreeNode&lt;File&gt; tree) {\n    long fileSize = 0;\n    if (tree.data.isDirectory()) {\n        List&lt;TreeNode&lt;File&gt;&gt; children = tree.children;\n\n\n        for (TreeNode&lt;File&gt; child : children) {\n            fileSize += calculateFileSize(child);\n        }\n\n    } else {\n        fileSize = tree.data.length();\n    }\n    return fileSize;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","comments","javadoc","setter","getter"],"comments":[{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":58,"creation_date":1245699911,"post_id":1028967,"comment_id":839103,"body_markdown":"As an aside, please don&#39;t use float for anything monetary (such as salary here), ever. See e.g. http://stackoverflow.com/questions/965831/how-to-parse-a-currency-amount-us-or-eu-to-float-value-in-java/965858#965858","body":"As an aside, please don&#39;t use float for anything monetary (such as salary here), ever. See e.g. <a href=\"http://stackoverflow.com/questions/965831/how-to-parse-a-currency-amount-us-or-eu-to-float-value-in-java/965858#965858\" title=\"how to parse a currency amount us or eu to float value in java\">stackoverflow.com/questions/965831/&hellip;</a>"},{"owner":{"account_id":2247238,"reputation":495,"user_id":1980313,"accept_rate":43,"display_name":"Josep"},"score":5,"creation_date":1365084183,"post_id":1028967,"comment_id":22491237,"body_markdown":"Use BigDecimal instead.","body":"Use BigDecimal instead."}],"answers":[{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1245698900,"creation_date":1245698900,"answer_id":1028977,"question_id":1028967,"body_markdown":"it is ok to fill in the (b) part, especially if you put a comment at the field declaration indicating what the field is all about.","title":"Simple Getter/Setter comments","body":"<p>it is ok to fill in the (b) part, especially if you put a comment at the field declaration indicating what the field is all about.</p>\n"},{"tags":[],"owner":{"account_id":12661,"reputation":43443,"user_id":25066,"accept_rate":91,"display_name":"Eric Wendelin"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1245698966,"creation_date":1245698966,"answer_id":1028981,"question_id":1028967,"body_markdown":"Generally nothing, if I can help it. Getters and setters ought to be self-explanatory.\r\n\r\nI know that sounds like a non-answer, but I try to use my time for commenting things that need explanation.","title":"Simple Getter/Setter comments","body":"<p>Generally nothing, if I can help it. Getters and setters ought to be self-explanatory.</p>\n\n<p>I know that sounds like a non-answer, but I try to use my time for commenting things that need explanation.</p>\n"},{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245699006,"creation_date":1245699006,"answer_id":1028986,"question_id":1028967,"body_markdown":"If the javadoc does not add anything, I delete the javadoc and use the auto-generated comments.","title":"Simple Getter/Setter comments","body":"<p>If the javadoc does not add anything, I delete the javadoc and use the auto-generated comments.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1245706329,"creation_date":1245699025,"answer_id":1028988,"question_id":1028967,"body_markdown":"Don&#39;t put anything if the field name is suficiently descriptive of the contents.\r\n\r\nGenerally, let the code be self standing, and avoid commenting if at all possible.  This may require refactoring.\r\n\r\nEDIT:  The above refers to getters and setters only.  I believe anything non trivial should be properly javadoc&#39;ed.","title":"Simple Getter/Setter comments","body":"<p>Don't put anything if the field name is suficiently descriptive of the contents.</p>\n\n<p>Generally, let the code be self standing, and avoid commenting if at all possible.  This may require refactoring.</p>\n\n<p>EDIT:  The above refers to getters and setters only.  I believe anything non trivial should be properly javadoc'ed.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":2,"up_vote_count":101,"is_accepted":true,"score":99,"last_activity_date":1377311430,"creation_date":1245699081,"answer_id":1028993,"question_id":1028967,"body_markdown":"I usually just fill the param part for setters, and the  @return part for getters:\r\n\r\n    /**\r\n     * \r\n     * @param salary salary to set (in cents)\r\n     */\r\n    public void setSalary(float salary);\r\n\r\n    /**\r\n     * @return current salary (in cents, may be imaginary for weird employees)\r\n     */\r\n    public float getSalary();\r\n\r\nThat way javadoc checking tools (such as Eclipse&#39;s warnings) will come out clean, and there&#39;s no duplication.","title":"Simple Getter/Setter comments","body":"<p>I usually just fill the param part for setters, and the  @return part for getters:</p>\n\n<pre><code>/**\n * \n * @param salary salary to set (in cents)\n */\npublic void setSalary(float salary);\n\n/**\n * @return current salary (in cents, may be imaginary for weird employees)\n */\npublic float getSalary();\n</code></pre>\n\n<p>That way javadoc checking tools (such as Eclipse's warnings) will come out clean, and there's no duplication.</p>\n"},{"tags":[],"owner":{"account_id":7863,"reputation":4327,"user_id":13825,"accept_rate":92,"display_name":"Gopherkhan"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1245701777,"creation_date":1245699086,"answer_id":1028996,"question_id":1028967,"body_markdown":"I&#39;d say only worry about commenting getters and setters if they have some sort of side effect, or require some sort of precondition outside of initialization (i.e.: getting will remove an item from a data structure, or in order to set something you need to have x and y in place first). Otherwise the comments here are pretty redundant.\r\n\r\nEdit: In addition, if you do find a lot of side effects are involved in your getter/setter, you might want to change the getter/setter to have a different method name (ie: push and pop for a stack) [Thanks for the comments below]","title":"Simple Getter/Setter comments","body":"<p>I'd say only worry about commenting getters and setters if they have some sort of side effect, or require some sort of precondition outside of initialization (i.e.: getting will remove an item from a data structure, or in order to set something you need to have x and y in place first). Otherwise the comments here are pretty redundant.</p>\n\n<p>Edit: In addition, if you do find a lot of side effects are involved in your getter/setter, you might want to change the getter/setter to have a different method name (ie: push and pop for a stack) [Thanks for the comments below]</p>\n"},{"tags":[],"owner":{"account_id":1662,"reputation":67109,"user_id":2238,"accept_rate":76,"display_name":"Henrik Paul"},"down_vote_count":5,"up_vote_count":6,"is_accepted":false,"score":1,"last_activity_date":1245699110,"creation_date":1245699110,"answer_id":1029002,"question_id":1028967,"body_markdown":"Commenting accessors, especially if they don&#39;t do any operations anywhere, is unnecessary and a waste of fingertips. \r\n\r\nIf someone reading your code can&#39;t understand that `person.getFirstName()` returns the first name of a person, you should try everything in your powers to get him fired. If it does some database magic, throws a few dice, calls the Secretary of First Names to get the first name, It&#39;s safe to assume it&#39;s a non-trivial operation, and document it well.\r\n\r\nIf, on the other hand, your `person.getFirstName()` doesn&#39;t return a person&#39;s first name... well, let&#39;s not go there, shall we?","title":"Simple Getter/Setter comments","body":"<p>Commenting accessors, especially if they don't do any operations anywhere, is unnecessary and a waste of fingertips. </p>\n\n<p>If someone reading your code can't understand that <code>person.getFirstName()</code> returns the first name of a person, you should try everything in your powers to get him fired. If it does some database magic, throws a few dice, calls the Secretary of First Names to get the first name, It's safe to assume it's a non-trivial operation, and document it well.</p>\n\n<p>If, on the other hand, your <code>person.getFirstName()</code> doesn't return a person's first name... well, let's not go there, shall we?</p>\n"},{"tags":[],"owner":{"account_id":13858,"reputation":39079,"user_id":28053,"accept_rate":100,"display_name":"Paul Sonier"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1245699144,"creation_date":1245699144,"answer_id":1029007,"question_id":1028967,"body_markdown":"I always fill in both.  The additional time spent typing is negligible, and more information is better than less, in general.","title":"Simple Getter/Setter comments","body":"<p>I always fill in both.  The additional time spent typing is negligible, and more information is better than less, in general.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1245699594,"creation_date":1245699594,"answer_id":1029046,"question_id":1028967,"body_markdown":"I&#39;m really disappointed about the answers basically saying comprehensive documenting is a waste of time. How are clients of your API supposed to know that a method called `setX` is a *standard JavaBean property setter* unless **you say so clearly in the documentation**? \r\n\r\nWithout documentation, a caller would have no idea whatsoever if the method had any side effects, other than by crossing their fingers about the apparent convention being followed.\r\n\r\nI&#39;m sure I&#39;m not the only one here to have had the misfortune to find out the hard way that a method called `setX` does a whole lot more than just set a property.","title":"Simple Getter/Setter comments","body":"<p>I'm really disappointed about the answers basically saying comprehensive documenting is a waste of time. How are clients of your API supposed to know that a method called <code>setX</code> is a <em>standard JavaBean property setter</em> unless <strong>you say so clearly in the documentation</strong>? </p>\n\n<p>Without documentation, a caller would have no idea whatsoever if the method had any side effects, other than by crossing their fingers about the apparent convention being followed.</p>\n\n<p>I'm sure I'm not the only one here to have had the misfortune to find out the hard way that a method called <code>setX</code> does a whole lot more than just set a property.</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1245699750,"creation_date":1245699750,"answer_id":1029058,"question_id":1028967,"body_markdown":"Ask yourself what do you want people to see when the comments are viewed as JavaDocs (from a browser). Many people say that documentation is not necessary since it&#39;s obvious. This won&#39;t hold if the field is private (unless you explicitly turn on JavaDocs for private fields).\r\n\r\nIn your case:\r\n\r\n    public void setSalary(float s)\r\n    public float getSalary()\r\n\r\nIt&#39;s not clear what salary is expressed in. It is cents, dollars, pounds, RMB?\r\n\r\nWhen documenting setters/getters, I like to separate the what from the encoding. Example:\r\n\r\n    /**\r\n     * Returns the height.\r\n     * @return height in meters\r\n     */\r\n    public double getHeight()\r\n\r\nThe first line says it returns the height. The return parameter documents that height is in meters.","title":"Simple Getter/Setter comments","body":"<p>Ask yourself what do you want people to see when the comments are viewed as JavaDocs (from a browser). Many people say that documentation is not necessary since it's obvious. This won't hold if the field is private (unless you explicitly turn on JavaDocs for private fields).</p>\n\n<p>In your case:</p>\n\n<pre><code>public void setSalary(float s)\npublic float getSalary()\n</code></pre>\n\n<p>It's not clear what salary is expressed in. It is cents, dollars, pounds, RMB?</p>\n\n<p>When documenting setters/getters, I like to separate the what from the encoding. Example:</p>\n\n<pre><code>/**\n * Returns the height.\n * @return height in meters\n */\npublic double getHeight()\n</code></pre>\n\n<p>The first line says it returns the height. The return parameter documents that height is in meters.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":195,"is_accepted":false,"score":195,"last_activity_date":1245700849,"creation_date":1245700849,"answer_id":1029126,"question_id":1028967,"body_markdown":"Absolutely pointless - you&#39;re better off without this kind of crap cluttering your code:\r\n\r\n    /**\r\n     * Sets the foo.\r\n     * \r\n     * @param foo the foo to set\r\n     */\r\n    public void setFoo(float foo);\r\n\r\n\r\nVery useful, if warranted:\r\n\r\n    /**\r\n     * Foo is the adjustment factor used in the Bar-calculation. It has a default\r\n     * value depending on the Baz type, but can be adjusted on a per-case base.\r\n     * \r\n     * @param foo must be greater than 0 and not greater than MAX_FOO.\r\n     */\r\n    public void setFoo(float foo);\r\n\r\nEspecially the explanation of what the property actually means can be crucial in domain models. Whenever I see a bean full of properties with obscure names that only investment bankers, biochemists or quantum physicists understand, and the comments explain that the setGobbledygook() method &quot;sets the gobbledygook.&quot;, I want to strangle someone.\r\n","title":"Simple Getter/Setter comments","body":"<p>Absolutely pointless - you're better off without this kind of crap cluttering your code:</p>\n\n<pre><code>/**\n * Sets the foo.\n * \n * @param foo the foo to set\n */\npublic void setFoo(float foo);\n</code></pre>\n\n<p>Very useful, if warranted:</p>\n\n<pre><code>/**\n * Foo is the adjustment factor used in the Bar-calculation. It has a default\n * value depending on the Baz type, but can be adjusted on a per-case base.\n * \n * @param foo must be greater than 0 and not greater than MAX_FOO.\n */\npublic void setFoo(float foo);\n</code></pre>\n\n<p>Especially the explanation of what the property actually means can be crucial in domain models. Whenever I see a bean full of properties with obscure names that only investment bankers, biochemists or quantum physicists understand, and the comments explain that the setGobbledygook() method \"sets the gobbledygook.\", I want to strangle someone.</p>\n"},{"tags":[],"owner":{"account_id":738161,"reputation":89,"user_id":710713,"display_name":"Steve"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1302916354,"creation_date":1302913385,"answer_id":5683588,"question_id":1028967,"body_markdown":"Why don&#39;t they just include a reference tag to let you comment the field value and the reference from getters and setters.\r\n\r\n    /**\r\n    * The adjustment factor for the bar calculation.\r\n    * @HasGetter\r\n    * @HasSetter\r\n    */\r\n    private String foo;\r\n    \r\n    public String getFoo() {\r\n      return foo;\r\n    }\r\n    \r\n    public void setFoo() {\r\n      this foo = foo;\r\n    }\r\n\r\nSo that the documentation applies to the getter and setter as well as the field (if private javadocs is turned on that is).","title":"Simple Getter/Setter comments","body":"<p>Why don't they just include a reference tag to let you comment the field value and the reference from getters and setters.</p>\n\n<pre><code>/**\n* The adjustment factor for the bar calculation.\n* @HasGetter\n* @HasSetter\n*/\nprivate String foo;\n\npublic String getFoo() {\n  return foo;\n}\n\npublic void setFoo() {\n  this foo = foo;\n}\n</code></pre>\n\n<p>So that the documentation applies to the getter and setter as well as the field (if private javadocs is turned on that is).</p>\n"},{"tags":[],"owner":{"account_id":961435,"reputation":69,"user_id":985714,"display_name":"TermWay"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1327090878,"creation_date":1318721283,"answer_id":7781367,"question_id":1028967,"body_markdown":"If there isn&#39;t special operation in getter/setter I usually write :\r\n\r\nWith Javadoc (with private option):\r\n\r\n    /** Set {@see #salary}. @param {@link #salary}. */\r\n    public void setSalary(float salary);\r\n   \r\n   and/or\r\n   \r\n    /** \r\n     * Get {@see #salary}.\r\n     * @return {@link #salary}.\r\n     */\r\n    public float salary();\r\n    \r\n\r\nWith Doxygen (with private extract option):\r\n\r\n    /** @param[in] #salary. */\r\n    public void setSalary(float salary);\r\n       \r\n    /** @return #salary. */\r\n    public float salary();","title":"Simple Getter/Setter comments","body":"<p>If there isn't special operation in getter/setter I usually write :</p>\n\n<p>With Javadoc (with private option):</p>\n\n<pre><code>/** Set {@see #salary}. @param {@link #salary}. */\npublic void setSalary(float salary);\n</code></pre>\n\n<p>and/or</p>\n\n<pre><code>/** \n * Get {@see #salary}.\n * @return {@link #salary}.\n */\npublic float salary();\n</code></pre>\n\n<p>With Doxygen (with private extract option):</p>\n\n<pre><code>/** @param[in] #salary. */\npublic void setSalary(float salary);\n\n/** @return #salary. */\npublic float salary();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1560281,"reputation":6583,"user_id":1450294,"accept_rate":61,"display_name":"Michael Scheper"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1392084265,"creation_date":1392084265,"answer_id":21691666,"question_id":1028967,"body_markdown":"This kind of boilerplate can be avoided by using [Project Lombok][1]. Just document the field variable, even if it&#39;s `private`, and let Lombok annotations generate properly documented getters and setters.\r\n\r\nFor me, this benefit alone is worth the [costs][2].\r\n\r\n  [1]: http://projectlombok.org/\r\n  [2]: http://jnb.ociweb.com/jnb/jnbJan2010.html#costbenefit","title":"Simple Getter/Setter comments","body":"<p>This kind of boilerplate can be avoided by using <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a>. Just document the field variable, even if it's <code>private</code>, and let Lombok annotations generate properly documented getters and setters.</p>\n\n<p>For me, this benefit alone is worth the <a href=\"http://jnb.ociweb.com/jnb/jnbJan2010.html#costbenefit\" rel=\"noreferrer\">costs</a>.</p>\n"}],"owner":{"account_id":15772,"reputation":7898,"user_id":33689,"accept_rate":84,"display_name":"ThaDon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87114,"favorite_count":0,"down_vote_count":0,"up_vote_count":141,"accepted_answer_id":1028993,"answer_count":14,"score":141,"last_activity_date":1639316751,"creation_date":1245698812,"question_id":1028967,"body_markdown":"What convention do you use to comment getters and setters?  This is something I&#39;ve wondered for quite some time, for instance:\r\n\r\n    /**\r\n     * (1a) what do you put here?\r\n     * @param salary (1b) what do you put here?\r\n     */\r\n    public void setSalary(float salary);\r\n    \r\n    /*\r\n     * (2a) what do you put here?\r\n     * @return (2b)\r\n     */\r\n    public float getSalary();\r\n\r\nI always find I&#39;m pretty much writing the exact same thing for 1a/b and 2a/b, something like 1a) Sets the salary of the employee, 1b) the salary of the employee.  It just seems so redundant.  Now I could see for something more complex you might write more in the (a) parts, to give context, but for a majority of the getters/setters out there the wording is almost exactly the same.\r\n\r\nI&#39;m just curious if, for the simple getters/setters its ok to only fill in either the (a) part OR the (b) part.\r\n\r\nWhat do you think?\r\n","title":"Simple Getter/Setter comments","body":"<p>What convention do you use to comment getters and setters?  This is something I've wondered for quite some time, for instance:</p>\n\n<pre><code>/**\n * (1a) what do you put here?\n * @param salary (1b) what do you put here?\n */\npublic void setSalary(float salary);\n\n/*\n * (2a) what do you put here?\n * @return (2b)\n */\npublic float getSalary();\n</code></pre>\n\n<p>I always find I'm pretty much writing the exact same thing for 1a/b and 2a/b, something like 1a) Sets the salary of the employee, 1b) the salary of the employee.  It just seems so redundant.  Now I could see for something more complex you might write more in the (a) parts, to give context, but for a majority of the getters/setters out there the wording is almost exactly the same.</p>\n\n<p>I'm just curious if, for the simple getters/setters its ok to only fill in either the (a) part OR the (b) part.</p>\n\n<p>What do you think?</p>\n"},{"tags":["java","date","inheritance","calendar"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":2,"creation_date":1602698168,"post_id":64358862,"comment_id":113805654,"body_markdown":"Are you _required_ to use obsolete `Calendar` class when implementing this task?  Or you can use newer [Java Time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)?","body":"Are you <i>required</i> to use obsolete <code>Calendar</code> class when implementing this task?  Or you can use newer <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">Java Time API</a>?"},{"owner":{"account_id":19580740,"reputation":23,"user_id":14329867,"display_name":"acc13241"},"score":1,"creation_date":1602698407,"post_id":64358862,"comment_id":113805754,"body_markdown":"@Alex Rudenko No I can use Java Time API, I was just thinking of using the Calendar class","body":"@Alex Rudenko No I can use Java Time API, I was just thinking of using the Calendar class"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1604479374,"post_id":64358862,"comment_id":114356856,"body_markdown":"@acc13241 - If one of the answers resolved your issue, you can help the community by marking that as accepted. An accepted answer helps future visitors use the solution confidently.","body":"@acc13241 - If one of the answers resolved your issue, you can help the community by marking that as accepted. An accepted answer helps future visitors use the solution confidently."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639314744,"creation_date":1602698811,"answer_id":64359132,"question_id":64358862,"body_markdown":"I absolutely agree with you to use `YearMonth` and `LocalDate` from java.time, the modern Java date and time API.\r\n\r\nPass your month number and year to `YearMonth.of(int, int)`. See the link below for the documentation. Remember to swap the arguments: the year goes first. Store the obtained `YearMonth` object into a variable. Use its `atDay` and `atEndOfMonth` methods for obtaining the first and the last day of the month as `LocalDate` objects. In turn use `LocalDate.getDayOfWeek()` for getting the day of the week.\r\n\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - Documentation:\r\n    - [`YearMonth.of(int, int)`](https://docs.oracle.com/javase/9/docs/api/java/time/YearMonth.html#of-int-int-)\r\n    - [`YearMonth.atDay()`](https://docs.oracle.com/javase/9/docs/api/java/time/YearMonth.html#atDay-int-)\r\n    - [`YearMonth.atEndOfMonth()`](https://docs.oracle.com/javase/9/docs/api/java/time/YearMonth.html#atEndOfMonth--)\r\n    - [`LocalDate.getDayOfWeek()`](https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html#getDayOfWeek--)\r\n","title":"How can I write a method that returns the first and last day of a passed month and year?","body":"<p>I absolutely agree with you to use <code>YearMonth</code> and <code>LocalDate</code> from java.time, the modern Java date and time API.</p>\n<p>Pass your month number and year to <code>YearMonth.of(int, int)</code>. See the link below for the documentation. Remember to swap the arguments: the year goes first. Store the obtained <code>YearMonth</code> object into a variable. Use its <code>atDay</code> and <code>atEndOfMonth</code> methods for obtaining the first and the last day of the month as <code>LocalDate</code> objects. In turn use <code>LocalDate.getDayOfWeek()</code> for getting the day of the week.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li>Documentation:\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/YearMonth.html#of-int-int-\" rel=\"nofollow noreferrer\"><code>YearMonth.of(int, int)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/YearMonth.html#atDay-int-\" rel=\"nofollow noreferrer\"><code>YearMonth.atDay()</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/YearMonth.html#atEndOfMonth--\" rel=\"nofollow noreferrer\"><code>YearMonth.atEndOfMonth()</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html#getDayOfWeek--\" rel=\"nofollow noreferrer\"><code>LocalDate.getDayOfWeek()</code></a></li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602699250,"creation_date":1602699250,"answer_id":64359238,"question_id":64358862,"body_markdown":"You could create instance of `LocalDate` and use its methods `withDayOfMonth / lengthOfMonth`:\r\n```java\r\nstatic void daysOfMonth(int month, int year) {\r\n    LocalDate firstDay = LocalDate.of(year, month, 1);\r\n        \r\n    LocalDate lastDay = firstDay.withDayOfMonth(firstDay.lengthOfMonth());\r\n        \r\n    System.out.printf(&quot;first day is: %s, last day is: %s&quot;, firstDay.getDayOfWeek(), lastDay.getDayOfWeek());\r\n}\r\n```\r\n\r\ntest:\r\n```java\r\ndaysOfMonth(9, 2020);\r\n```\r\nprints:\r\n```\r\nfirst day is: TUESDAY, last day is: WEDNESDAY\r\n```","title":"How can I write a method that returns the first and last day of a passed month and year?","body":"<p>You could create instance of <code>LocalDate</code> and use its methods <code>withDayOfMonth / lengthOfMonth</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void daysOfMonth(int month, int year) {\n    LocalDate firstDay = LocalDate.of(year, month, 1);\n        \n    LocalDate lastDay = firstDay.withDayOfMonth(firstDay.lengthOfMonth());\n        \n    System.out.printf(&quot;first day is: %s, last day is: %s&quot;, firstDay.getDayOfWeek(), lastDay.getDayOfWeek());\n}\n</code></pre>\n<p>test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>daysOfMonth(9, 2020);\n</code></pre>\n<p>prints:</p>\n<pre><code>first day is: TUESDAY, last day is: WEDNESDAY\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602709071,"creation_date":1602708338,"answer_id":64361250,"question_id":64358862,"body_markdown":"There are so many ways to do it using date-time API. I suggest you use the [modern date-time and their corresponding formatting API][1]. \r\n\r\n    import java.time.LocalDate;\r\n    import java.time.temporal.TemporalAdjusters;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Tests\r\n    \t\tdaysOfAnyMonth(9, 2020);\r\n    \t\tdaysOfAnyMonth(10, 2020);\r\n    \t\tdaysOfAnyMonth(12, 2020);\r\n    \t}\r\n    \r\n    \tstatic void daysOfAnyMonth(int month, int year) {\r\n    \t\tLocalDate firstDate = LocalDate.of(year, month, 1);\r\n    \t\tLocalDate lastDate = firstDate.with(TemporalAdjusters.lastDayOfMonth());\r\n    \t\tSystem.out.println(&quot;First day of the month: &quot; + firstDate.getDayOfWeek() + &quot;, Last day of the month: &quot;\r\n    \t\t\t\t+ lastDate.getDayOfWeek());\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    First day of the month: TUESDAY, Last day of the month: WEDNESDAY\r\n    First day of the month: THURSDAY, Last day of the month: SATURDAY\r\n    First day of the month: TUESDAY, Last day of the month: THURSDAY\r\n\r\nThe following table summarizes the [Method Naming Conventions](https://docs.oracle.com/javase/tutorial/datetime/overview/naming.html) of the modern date-time API:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Note:** If you need to print the weekday name in the proper case, you can do so as follows:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.TextStyle;\r\n    import java.time.temporal.TemporalAdjusters;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Tests\r\n    \t\tdaysOfAnyMonth(9, 2020);\r\n    \t\tdaysOfAnyMonth(10, 2020);\r\n    \t\tdaysOfAnyMonth(12, 2020);\r\n    \t}\r\n    \r\n    \tstatic void daysOfAnyMonth(int month, int year) {\r\n    \t\tLocalDate firstDate = LocalDate.of(year, month, 1);\r\n    \t\tLocalDate lastDate = firstDate.with(TemporalAdjusters.lastDayOfMonth());\r\n    \t\tSystem.out.println(&quot;First day of the month: &quot;\r\n    \t\t\t\t+ firstDate.getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH) + &quot;, Last day of the month: &quot;\r\n    \t\t\t\t+ lastDate.getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH));\r\n    \r\n    \t\t// Alternatively: By using DateTimeFormatter\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEEE&quot;, Locale.ENGLISH);\r\n    \t\tSystem.out.println(&quot;First day of the month: &quot; + firstDate.format(formatter) + &quot;, Last day of the month: &quot;\r\n    \t\t\t\t+ lastDate.format(formatter));\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    First day of the month: Tuesday, Last day of the month: Wednesday\r\n    First day of the month: Tuesday, Last day of the month: Wednesday\r\n    \r\n    First day of the month: Thursday, Last day of the month: Saturday\r\n    First day of the month: Thursday, Last day of the month: Saturday\r\n    \r\n    First day of the month: Tuesday, Last day of the month: Thursday\r\n    First day of the month: Tuesday, Last day of the month: Thursday\r\n\r\nLearn more about the modern date-time API at **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\r\n  [2]: https://i.stack.imgur.com/hs5mT.png","title":"How can I write a method that returns the first and last day of a passed month and year?","body":"<p>There are so many ways to do it using date-time API. I suggest you use the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time and their corresponding formatting API</a>.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.temporal.TemporalAdjusters;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Tests\n        daysOfAnyMonth(9, 2020);\n        daysOfAnyMonth(10, 2020);\n        daysOfAnyMonth(12, 2020);\n    }\n\n    static void daysOfAnyMonth(int month, int year) {\n        LocalDate firstDate = LocalDate.of(year, month, 1);\n        LocalDate lastDate = firstDate.with(TemporalAdjusters.lastDayOfMonth());\n        System.out.println(&quot;First day of the month: &quot; + firstDate.getDayOfWeek() + &quot;, Last day of the month: &quot;\n                + lastDate.getDayOfWeek());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>First day of the month: TUESDAY, Last day of the month: WEDNESDAY\nFirst day of the month: THURSDAY, Last day of the month: SATURDAY\nFirst day of the month: TUESDAY, Last day of the month: THURSDAY\n</code></pre>\n<p>The following table summarizes the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/overview/naming.html\" rel=\"nofollow noreferrer\">Method Naming Conventions</a> of the modern date-time API:</p>\n<p><a href=\"https://i.stack.imgur.com/hs5mT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hs5mT.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> If you need to print the weekday name in the proper case, you can do so as follows:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.TextStyle;\nimport java.time.temporal.TemporalAdjusters;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Tests\n        daysOfAnyMonth(9, 2020);\n        daysOfAnyMonth(10, 2020);\n        daysOfAnyMonth(12, 2020);\n    }\n\n    static void daysOfAnyMonth(int month, int year) {\n        LocalDate firstDate = LocalDate.of(year, month, 1);\n        LocalDate lastDate = firstDate.with(TemporalAdjusters.lastDayOfMonth());\n        System.out.println(&quot;First day of the month: &quot;\n                + firstDate.getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH) + &quot;, Last day of the month: &quot;\n                + lastDate.getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH));\n\n        // Alternatively: By using DateTimeFormatter\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEEE&quot;, Locale.ENGLISH);\n        System.out.println(&quot;First day of the month: &quot; + firstDate.format(formatter) + &quot;, Last day of the month: &quot;\n                + lastDate.format(formatter));\n        System.out.println();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>First day of the month: Tuesday, Last day of the month: Wednesday\nFirst day of the month: Tuesday, Last day of the month: Wednesday\n\nFirst day of the month: Thursday, Last day of the month: Saturday\nFirst day of the month: Thursday, Last day of the month: Saturday\n\nFirst day of the month: Tuesday, Last day of the month: Thursday\nFirst day of the month: Tuesday, Last day of the month: Thursday\n</code></pre>\n<p>Learn more about the modern date-time API at <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":19580740,"reputation":23,"user_id":14329867,"display_name":"acc13241"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1639316723,"creation_date":1602697743,"question_id":64358862,"body_markdown":"The `dateTimeInherit` class is an inherited class from `dateTimeAbstract` so it must use the `daysOfAnyMonth` method. I was thinking of using some classes from the `YearMonth` and `LocalDate` classes but was not sure where to go from there.\r\n\r\n    import java.io.IOException;\r\n    public class Driver \r\n    {\r\n    \tpublic static void main(String[] args) throws IOException \r\n    \t{\r\n          DateTimeInherit dateTimeInherit = new DateTimeInherit();\r\n            \r\n             /**\r\n    \t     * From the given line of codes you have to identify the class name and necessary \r\n             constructors/methods\r\n    \t     * In the following method, the first parameter is the month and the second parameter is the \r\n             year.\r\n    \t     * We are going to print the first day and the last day (day of the week) of any given month of \r\n             the year.\r\n    \t     * Output format: for (4, 2020):\r\n    \t     * In the year 2020, for the 4th month: the first day is WEDNESDAY and the last day is \r\n             THURSDAY\t\t\r\n    \t\t */\t    \r\n            \r\n            dateTimeInherit.daysOfAnyMonth(9, 2020);\r\n    \t    dateTimeInherit.daysOfAnyMonth(10, 2020);\r\n    \t    dateTimeInherit.daysOfAnyMonth(12, 2020);\r\n    \t    System.out.print(&quot;\\n&quot;);\r\n\r\n\r\n\r\n\r\n    public abstract class DateTimeAbstract \r\n    {\r\n\tabstract void daysOfAnyMonth(int monthOfYear, int theYear);\r\n    }\r\n\r\n    import java.util.Calendar;\r\n    public class DateTimeInherit extends DateTimeAbstract \r\n    {\r\n      // Method that needs to be written\r\n    }\r\n\r\n\r\n","title":"How can I write a method that returns the first and last day of a passed month and year?","body":"<p>The <code>dateTimeInherit</code> class is an inherited class from <code>dateTimeAbstract</code> so it must use the <code>daysOfAnyMonth</code> method. I was thinking of using some classes from the <code>YearMonth</code> and <code>LocalDate</code> classes but was not sure where to go from there.</p>\n<pre><code>import java.io.IOException;\npublic class Driver \n{\n    public static void main(String[] args) throws IOException \n    {\n      DateTimeInherit dateTimeInherit = new DateTimeInherit();\n        \n         /**\n         * From the given line of codes you have to identify the class name and necessary \n         constructors/methods\n         * In the following method, the first parameter is the month and the second parameter is the \n         year.\n         * We are going to print the first day and the last day (day of the week) of any given month of \n         the year.\n         * Output format: for (4, 2020):\n         * In the year 2020, for the 4th month: the first day is WEDNESDAY and the last day is \n         THURSDAY       \n         */     \n        \n        dateTimeInherit.daysOfAnyMonth(9, 2020);\n        dateTimeInherit.daysOfAnyMonth(10, 2020);\n        dateTimeInherit.daysOfAnyMonth(12, 2020);\n        System.out.print(&quot;\\n&quot;);\n\n\n\n\npublic abstract class DateTimeAbstract \n{\nabstract void daysOfAnyMonth(int monthOfYear, int theYear);\n}\n\nimport java.util.Calendar;\npublic class DateTimeInherit extends DateTimeAbstract \n{\n  // Method that needs to be written\n}\n</code></pre>\n"},{"tags":["java","io","buffer"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639315455,"creation_date":1639315455,"answer_id":70323969,"question_id":70322996,"body_markdown":"It&#39;s true that the simplest concrete `InputStream` is only required to implement just the method that reads a single byte (i.e. the `InputStream.read()` method).\r\n\r\nIt&#39;s also true that for such an underlying `InputStream` using a `BufferedInputStream` doesn&#39;t have any performance benefit, because `BufferedInputStream.read(byte b [], int off, int len)` depends on `InputStream.read(byte b [], int off, int len)` which (in `InputStream`) depends on the `InputStream.read()` method.\r\n\r\n**However**\r\n\r\nMany (most) of the &quot;typical&quot; `InputStream` subclasses that are used (for example `java.io.FileInputStream` for reading files, `java.net.SocketInputStream` for reading from network connections, `java.util.zip.ZipFile.ZipFileInputStrem` for reading data from zip files) do implement the `read(byte b [], int off, int len)` method.\r\n\r\nFor all these `InputStream` subclasses using a `BufferedInputStream` provides a tremendous performance benefit when reading single bytes (i.e. calling the `read()` method) because these classes do either a system call for fetching a single byte (`FileInputStream`), others allocate a byte array of length one and call `read(byte[] b)` (which in turn calls `read(b, 0, b.length)`) to read a single byte (`SocketInputStream`, `ZipFileInputStream`).\r\n\r\n----\r\nNote: the project that I used as base to find `InputStream` subclasses has 326 different `InputStream` subclasses. I didn&#39;t check every one of them to decide whether `BufferedInputStream` is beneficial on them, I just checked those few that I tend to use.","title":"read mthod in BufferedInputStream","body":"<p>It's true that the simplest concrete <code>InputStream</code> is only required to implement just the method that reads a single byte (i.e. the <code>InputStream.read()</code> method).</p>\n<p>It's also true that for such an underlying <code>InputStream</code> using a <code>BufferedInputStream</code> doesn't have any performance benefit, because <code>BufferedInputStream.read(byte b [], int off, int len)</code> depends on <code>InputStream.read(byte b [], int off, int len)</code> which (in <code>InputStream</code>) depends on the <code>InputStream.read()</code> method.</p>\n<p><strong>However</strong></p>\n<p>Many (most) of the &quot;typical&quot; <code>InputStream</code> subclasses that are used (for example <code>java.io.FileInputStream</code> for reading files, <code>java.net.SocketInputStream</code> for reading from network connections, <code>java.util.zip.ZipFile.ZipFileInputStrem</code> for reading data from zip files) do implement the <code>read(byte b [], int off, int len)</code> method.</p>\n<p>For all these <code>InputStream</code> subclasses using a <code>BufferedInputStream</code> provides a tremendous performance benefit when reading single bytes (i.e. calling the <code>read()</code> method) because these classes do either a system call for fetching a single byte (<code>FileInputStream</code>), others allocate a byte array of length one and call <code>read(byte[] b)</code> (which in turn calls <code>read(b, 0, b.length)</code>) to read a single byte (<code>SocketInputStream</code>, <code>ZipFileInputStream</code>).</p>\n<hr />\n<p>Note: the project that I used as base to find <code>InputStream</code> subclasses has 326 different <code>InputStream</code> subclasses. I didn't check every one of them to decide whether <code>BufferedInputStream</code> is beneficial on them, I just checked those few that I tend to use.</p>\n"}],"owner":{"account_id":21885480,"reputation":11,"user_id":16173161,"display_name":"mramz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70323969,"answer_count":1,"score":0,"last_activity_date":1639315455,"creation_date":1639307299,"question_id":70322996,"body_markdown":"I saw in a tutorial that the int **read**(byte b [], int off, int len) in the **BufferedInputStream** class itself uses the read() method to read data.\r\n\r\nSo my question is, what is the difference between the normal mode and without using BufferedInputStream with using buffer? The buffer was supposed to read bytes in blocks to reduce costs, but here it is reading byte by byte.","title":"read mthod in BufferedInputStream","body":"<p>I saw in a tutorial that the int <strong>read</strong>(byte b [], int off, int len) in the <strong>BufferedInputStream</strong> class itself uses the read() method to read data.</p>\n<p>So my question is, what is the difference between the normal mode and without using BufferedInputStream with using buffer? The buffer was supposed to read bytes in blocks to reduce costs, but here it is reading byte by byte.</p>\n"},{"tags":["java","algorithm","data-structures","heap-memory","large-data"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1639314477,"post_id":35567854,"comment_id":124312259,"body_markdown":"Do you know, can you state the size of the heap and the queue?","body":"Do you know, can you state the size of the heap and the queue?"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1456228545,"creation_date":1456228545,"answer_id":35576960,"question_id":35567854,"body_markdown":"Many databases can profitably employ as much memory as you can give them - profile your code before you complain that they are too slow. Also consider using non-RDBMS stores such as REDIS.\r\n\r\nIf you decide to implement it yourself, you can build your own disk-backed Dequeue by implementing a [circular buffer][1] on top of a (huge) [mmaped file](https://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html). You would start with a single `MappedByteBuffer` pointing to the read-write region; as these regions drift further apart, you would begin to keep two non-overlapping `MappedByteBuffer`s pointing to the write-end and the read-end. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Circular_buffer","title":"Java - Very large queue (too big for Heap)","body":"<p>Many databases can profitably employ as much memory as you can give them - profile your code before you complain that they are too slow. Also consider using non-RDBMS stores such as REDIS.</p>\n\n<p>If you decide to implement it yourself, you can build your own disk-backed Dequeue by implementing a <a href=\"https://en.wikipedia.org/wiki/Circular_buffer\" rel=\"nofollow\">circular buffer</a> on top of a (huge) <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html\" rel=\"nofollow\">mmaped file</a>. You would start with a single <code>MappedByteBuffer</code> pointing to the read-write region; as these regions drift further apart, you would begin to keep two non-overlapping <code>MappedByteBuffer</code>s pointing to the write-end and the read-end. </p>\n"}],"owner":{"account_id":762934,"reputation":8611,"user_id":785494,"accept_rate":43,"display_name":"SRobertJames"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":35576960,"answer_count":1,"score":-1,"last_activity_date":1639314296,"creation_date":1456195625,"question_id":35567854,"body_markdown":"I am working on an algorithm that uses a very large queue.  \r\nFor all but toy problems, it&#39;s too big to fit in the heap.  \r\nAs a queue, that&#39;s fine: performance depends only on the first N entries (dequeuing) and the last N entries (enqueueing), so it would be fine to keep all the middle on disk.  \r\n\r\nAre there libraries or middleware that can do this?  \r\nIf not, how can I implement it?\r\n\r\nI could use an RDBMS, but this is an algorithm where I need very fast access to enqueue and dequeue, so I don&#39;t want to use a traditional RDBMS.","title":"Java - Very large queue (too big for Heap)","body":"<p>I am working on an algorithm that uses a very large queue.<br />\nFor all but toy problems, it's too big to fit in the heap.<br />\nAs a queue, that's fine: performance depends only on the first N entries (dequeuing) and the last N entries (enqueueing), so it would be fine to keep all the middle on disk.</p>\n<p>Are there libraries or middleware that can do this?<br />\nIf not, how can I implement it?</p>\n<p>I could use an RDBMS, but this is an algorithm where I need very fast access to enqueue and dequeue, so I don't want to use a traditional RDBMS.</p>\n"},{"tags":["java","selenium-webdriver","robotframework"],"comments":[{"owner":{"account_id":4207563,"reputation":19285,"user_id":3446126,"display_name":"Todor Minakov"},"score":2,"creation_date":1589910841,"post_id":61891977,"comment_id":109479209,"body_markdown":"Please clarify, what is your question? How to run the Java code from RobotFramework? Or, how to replicate it _in_ RobotFramework? Or something different?","body":"Please clarify, what is your question? How to run the Java code from RobotFramework? Or, how to replicate it <i>in</i> RobotFramework? Or something different?"},{"owner":{"account_id":17170600,"reputation":73,"user_id":12427828,"display_name":"Mahendra Vengalam"},"score":0,"creation_date":1590035877,"post_id":61891977,"comment_id":109530060,"body_markdown":"I want to run this java code in Robot Framework? How to import java class","body":"I want to run this java code in Robot Framework? How to import java class"}],"owner":{"account_id":17170600,"reputation":73,"user_id":12427828,"display_name":"Mahendra Vengalam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1639313560,"creation_date":1589894090,"question_id":61891977,"body_markdown":"```\r\npublic void EnterLoginDetails(String userName, String password) throws Exception {\r\n\r\n System.out.println(&quot;User name, &quot; + userName + &quot;!&quot;);\r\n WebElement element = driver.findElement(By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;));\r\n System.out.println(&quot;User name, &quot; + userName + &quot;!&quot;);\r\n element.click();\r\n driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;username&#39;]&quot;)).sendKeys(userName);\r\n\r\n Thread.sleep(1000);\r\n System.out.println(&quot;Password, &quot; + password + &quot;!&quot;);\r\n driver.findElement(By.name(&quot;password&quot;)).sendKeys(password);\r\n Thread.sleep(1000);\r\n}\r\n```\r\nI want to validate this method in robot framework. How can I do that?","title":"How to call java class which has WebDriver elements in Robot Framework?","body":"<pre><code>public void EnterLoginDetails(String userName, String password) throws Exception {\n\n System.out.println(\"User name, \" + userName + \"!\");\n WebElement element = driver.findElement(By.xpath(\"//button[@type='submit']\"));\n System.out.println(\"User name, \" + userName + \"!\");\n element.click();\n driver.findElement(By.xpath(\"//input[@placeholder='username']\")).sendKeys(userName);\n\n Thread.sleep(1000);\n System.out.println(\"Password, \" + password + \"!\");\n driver.findElement(By.name(\"password\")).sendKeys(password);\n Thread.sleep(1000);\n}\n</code></pre>\n\n<p>I want to validate this method in robot framework. How can I do that?</p>\n"},{"tags":["java","jmeter","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543309258,"creation_date":1543309258,"answer_id":53495976,"question_id":53494571,"body_markdown":"Most probably you cannot as heap utilization depends on the nature of your test, request and response sizes, number of [Pre][1]/[Post][2] Processors/[Assertions][3], etc. \r\n\r\n 1. Make sure to follow [JMeter Best Practices][4] \r\n 2. Consider using a profiler tool i.e. [JVisualVM][5] or [JProfiler][6] or [Heap Dump][7] /  [Heap Analyzer][8] to figure out which component(s) is consuming the heap\r\n 3. If you don&#39;t have enough RAM and suffer from intensive [GC][9] activities the only way of speeding your test up is going for [distributed testing][10] - this way you will be able to decrease the number of threads for each JMeter engine. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#preprocessors\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#postprocessors\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#assertions\r\n  [4]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/technotes/guides/visualvm/intro.html\r\n  [6]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [7]: https://dzone.com/articles/memory-analysis-how-to-obtain-java-heat-dump\r\n  [8]: https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=4544bafe-c7a2-455f-9d43-eb866ea60091\r\n  [9]: https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\r\n  [10]: https://www.blazemeter.com/blog/how-to-perform-distributed-testing-in-jmeter","title":"Jmeter startup consuming 14g memory in non gui mode without usage of any listener","body":"<p>Most probably you cannot as heap utilization depends on the nature of your test, request and response sizes, number of <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#preprocessors\" rel=\"nofollow noreferrer\">Pre</a>/<a href=\"https://jmeter.apache.org/usermanual/component_reference.html#postprocessors\" rel=\"nofollow noreferrer\">Post</a> Processors/<a href=\"https://jmeter.apache.org/usermanual/component_reference.html#assertions\" rel=\"nofollow noreferrer\">Assertions</a>, etc. </p>\n\n<ol>\n<li>Make sure to follow <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> </li>\n<li>Consider using a profiler tool i.e. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/visualvm/intro.html\" rel=\"nofollow noreferrer\">JVisualVM</a> or <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> or <a href=\"https://dzone.com/articles/memory-analysis-how-to-obtain-java-heat-dump\" rel=\"nofollow noreferrer\">Heap Dump</a> /  <a href=\"https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=4544bafe-c7a2-455f-9d43-eb866ea60091\" rel=\"nofollow noreferrer\">Heap Analyzer</a> to figure out which component(s) is consuming the heap</li>\n<li>If you don't have enough RAM and suffer from intensive <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">GC</a> activities the only way of speeding your test up is going for <a href=\"https://www.blazemeter.com/blog/how-to-perform-distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">distributed testing</a> - this way you will be able to decrease the number of threads for each JMeter engine. </li>\n</ol>\n"}],"owner":{"account_id":13541689,"reputation":9,"user_id":9769189,"display_name":"Ruchika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639313505,"creation_date":1543303209,"question_id":53494571,"body_markdown":"I am using Jmeter in non GUI and not using any listener as of now. Jmeter is taking 14 g of memory at the time of start up in 4.0 version and 9g of memory in 5.0 version with out passing any configuration file and as the load is increasing (in 1 sec 250 request with loop count of 100) memory utilization is 32g. I do not want to increase heap size, can you tell me the solution how i can reduce the memory consumption?\r\n\r\n[Virtual memory usgae through top command ][1]\r\n\r\n[Simple jmx file ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8CKHR.png\r\n  [2]: https://i.stack.imgur.com/fB26d.png","title":"Jmeter startup consuming 14g memory in non gui mode without usage of any listener","body":"<p>I am using Jmeter in non GUI and not using any listener as of now. Jmeter is taking 14 g of memory at the time of start up in 4.0 version and 9g of memory in 5.0 version with out passing any configuration file and as the load is increasing (in 1 sec 250 request with loop count of 100) memory utilization is 32g. I do not want to increase heap size, can you tell me the solution how i can reduce the memory consumption?</p>\n\n<p><a href=\"https://i.stack.imgur.com/8CKHR.png\" rel=\"nofollow noreferrer\">Virtual memory usgae through top command </a></p>\n\n<p><a href=\"https://i.stack.imgur.com/fB26d.png\" rel=\"nofollow noreferrer\">Simple jmx file </a></p>\n"},{"tags":["java","sudo"],"comments":[{"owner":{"account_id":2398349,"reputation":20041,"user_id":2096695,"accept_rate":94,"display_name":"Tamil Selvan C"},"score":0,"creation_date":1544011582,"post_id":53631258,"comment_id":94123261,"body_markdown":"set an evironment path for jmap in linux","body":"set an evironment path for jmap in linux"},{"owner":{"account_id":12541996,"reputation":11,"user_id":9126641,"display_name":"sameem khan"},"score":0,"creation_date":1544011950,"post_id":53631258,"comment_id":94123508,"body_markdown":"thankyou for fast reply and i will try this but i can&#39;t find jmap so how can set jmap path in environment path","body":"thankyou for fast reply and i will try this but i can&#39;t find jmap so how can set jmap path in environment path"},{"owner":{"account_id":12541996,"reputation":11,"user_id":9126641,"display_name":"sameem khan"},"score":0,"creation_date":1544076375,"post_id":53631258,"comment_id":94149581,"body_markdown":"this is not duplicate question sir i cant found this answer that&#39;s why i ask","body":"this is not duplicate question sir i cant found this answer that&#39;s why i ask"}],"owner":{"account_id":12541996,"reputation":11,"user_id":9126641,"display_name":"sameem khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1544012190,"answer_count":0,"score":1,"last_activity_date":1639313464,"creation_date":1544009254,"question_id":53631258,"body_markdown":"I installed:\r\n\r\n    sudo yum --enablerepo=&#39;*-debug*&#39; install java-1.8.0-openjdk-debuginfo\r\n\r\nThen I ran this command:\r\n\r\n    sudo -u tomcat jmap -F -dump:format=b,file=/usr/tmp/heapdump.bin 27167\r\n\r\nbut error occurred:  \r\n\r\n     jmap: package not found in openjdk-debuginfo \r\n\r\n","title":"jmap: package not found in openjdk-debuginfo in Aws linux","body":"<p>I installed:</p>\n\n<pre><code>sudo yum --enablerepo='*-debug*' install java-1.8.0-openjdk-debuginfo\n</code></pre>\n\n<p>Then I ran this command:</p>\n\n<pre><code>sudo -u tomcat jmap -F -dump:format=b,file=/usr/tmp/heapdump.bin 27167\n</code></pre>\n\n<p>but error occurred:  </p>\n\n<pre><code> jmap: package not found in openjdk-debuginfo \n</code></pre>\n"},{"tags":["java","hibernate","jpa","heap-memory"],"comments":[{"owner":{"account_id":11106855,"reputation":190,"user_id":8153798,"display_name":"B_St"},"score":0,"creation_date":1545048299,"post_id":53813176,"comment_id":94477878,"body_markdown":"Did you use a profiler? To see where the memory is going.","body":"Did you use a profiler? To see where the memory is going."},{"owner":{"account_id":462668,"reputation":6135,"user_id":865107,"display_name":"Selaron"},"score":1,"creation_date":1545048994,"post_id":53813176,"comment_id":94478247,"body_markdown":"Sounds like a leak. Analyzing a HeapDump will help, but don&#39;t wait for heap to be at 20GB before dumping ...","body":"Sounds like a leak. Analyzing a HeapDump will help, but don&#39;t wait for heap to be at 20GB before dumping ..."},{"owner":{"account_id":3984633,"reputation":91,"user_id":3285617,"display_name":"lonwolf"},"score":0,"creation_date":1545055000,"post_id":53813176,"comment_id":94481626,"body_markdown":"yes, I took heap dump for staging env, it&#39;s contains char[] having SQL queries.","body":"yes, I took heap dump for staging env, it&#39;s contains char[] having SQL queries."},{"owner":{"account_id":3984633,"reputation":91,"user_id":3285617,"display_name":"lonwolf"},"score":0,"creation_date":1545215603,"post_id":53813176,"comment_id":94546158,"body_markdown":"came to know that my old gen is continuously increasing, any way to configure major gc?","body":"came to know that my old gen is continuously increasing, any way to configure major gc?"},{"owner":{"account_id":3016931,"reputation":191,"user_id":2558819,"accept_rate":60,"display_name":"Saurabh Gadariya"},"score":0,"creation_date":1699447729,"post_id":53813176,"comment_id":136532022,"body_markdown":"Did you find a solutoin for this? I am having a same problem","body":"Did you find a solutoin for this? I am having a same problem"}],"owner":{"account_id":3984633,"reputation":91,"user_id":3285617,"display_name":"lonwolf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639313428,"creation_date":1545042209,"question_id":53813176,"body_markdown":"My application have lots of native queries, and each query is different as it contains query like DATE(cl.placement_time) = CURDATE(), which I think always results in cache miss of hibernate. Because as per I know whenever there is change in query then hibernate consider it as different.\r\n\r\nI also applied below properties to avoid caching or limit same.\r\n\r\n&gt;spring.jpa.hibernate.query.plan_cache_max_size=16 spring.jpa.hibernate.query.plan_parameter_metadata_max_size=16 spring.jpa.hibernate.cache.use_query_cache=false spring.jpa.hibernate.cache.use_second_level_cache=false\r\n\r\nBut there is no change after this, is there any other way to limit the heap used. I already provided 24GB as max heap and now used heap is reaching 20 GB.","title":"Native query hibernate increasing heap size","body":"<p>My application have lots of native queries, and each query is different as it contains query like DATE(cl.placement_time) = CURDATE(), which I think always results in cache miss of hibernate. Because as per I know whenever there is change in query then hibernate consider it as different.</p>\n\n<p>I also applied below properties to avoid caching or limit same.</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.query.plan_cache_max_size=16 spring.jpa.hibernate.query.plan_parameter_metadata_max_size=16 spring.jpa.hibernate.cache.use_query_cache=false spring.jpa.hibernate.cache.use_second_level_cache=false</p>\n</blockquote>\n\n<p>But there is no change after this, is there any other way to limit the heap used. I already provided 24GB as max heap and now used heap is reaching 20 GB.</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"display_name":"user10762593"},"score":7,"creation_date":1549141104,"post_id":54497425,"comment_id":95800134,"body_markdown":"Is there a question?","body":"Is there a question?"}],"answers":[{"tags":[],"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1549145483,"creation_date":1549145483,"answer_id":54498022,"question_id":54497425,"body_markdown":"This is a healthy looking &#39;saw-tooth&#39; pattern of memory allocation.  Memory is being allocated for objects and being garbage collected when it&#39;s not being referenced.\r\n\r\nThe fact that your program is &quot;doing nothing&quot; doesn&#39;t mean that the libraries\\frameworks\\application servers you&#39;re are using are also doing nothing.  These tools will be using using resources: maintaining threads, waiting for connections on ports, managing resources etc.  This ensures requests to your micro-service are handled as efficiently as possible, but will require system resources.\r\n\r\nProblems occur when resources are allocated but can&#39;t be recovered, which isn&#39;t happening in the graph above.","title":"Java heap when there is no load on the program","body":"<p>This is a healthy looking 'saw-tooth' pattern of memory allocation.  Memory is being allocated for objects and being garbage collected when it's not being referenced.</p>\n\n<p>The fact that your program is \"doing nothing\" doesn't mean that the libraries\\frameworks\\application servers you're are using are also doing nothing.  These tools will be using using resources: maintaining threads, waiting for connections on ports, managing resources etc.  This ensures requests to your micro-service are handled as efficiently as possible, but will require system resources.</p>\n\n<p>Problems occur when resources are allocated but can't be recovered, which isn't happening in the graph above.</p>\n"}],"owner":{"account_id":13231316,"reputation":37,"user_id":9554840,"display_name":"Ashish18"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1549145770,"accepted_answer_id":54498022,"answer_count":1,"score":0,"last_activity_date":1639313406,"creation_date":1549140899,"question_id":54497425,"body_markdown":"We&#39;ve a java program (micro-service) that shows below heap pattern when there&#39;s no load on the program ( program is doing nothing)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fpiCU.png","title":"Java heap when there is no load on the program","body":"<p>We've a java program (micro-service) that shows below heap pattern when there's no load on the program ( program is doing nothing)</p>\n\n<p><a href=\"https://i.stack.imgur.com/fpiCU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fpiCU.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1549367328,"post_id":54533710,"comment_id":95868877,"body_markdown":"Do you use any jvm parameters? What OS and architecture are you using?","body":"Do you use any jvm parameters? What OS and architecture are you using?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1549367615,"post_id":54533710,"comment_id":95869028,"body_markdown":"Which JRE are you using?","body":"Which JRE are you using?"},{"owner":{"account_id":5758158,"reputation":316,"user_id":4545375,"accept_rate":45,"display_name":"Shahrukh Khan"},"score":0,"creation_date":1549370133,"post_id":54533710,"comment_id":95870545,"body_markdown":"Updated the post","body":"Updated the post"},{"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"score":0,"creation_date":1575552873,"post_id":54533710,"comment_id":104610863,"body_markdown":"Does anybody know why it says &quot;In 32 bit mode, the process size limit was hit&quot; but then when specifying VM version indicates that you are using a 64-bit Server (&quot;Java VM: Java HotSpot(TM) 64-Bit Server&quot;)? These messages seem contradictory. I am experiencing the same issue, with the same exact amount of bytes (12288) using Java 8.0_181-b13","body":"Does anybody know why it says &quot;In 32 bit mode, the process size limit was hit&quot; but then when specifying VM version indicates that you are using a 64-bit Server (&quot;Java VM: Java HotSpot(TM) 64-Bit Server&quot;)? These messages seem contradictory. I am experiencing the same issue, with the same exact amount of bytes (12288) using Java 8.0_181-b13"}],"answers":[{"tags":[],"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1549370951,"creation_date":1549370951,"answer_id":54534822,"question_id":54533710,"body_markdown":"You are possibly impacted by [this][1]\n\n\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8187709\n\nAs per the post&#39;s suggested workarounds :\n\n&gt; There are 2 possible workaround here \n&gt;\n&gt;  1. Disable compressed Oops (-XX:-UseCompressedOops) with slight performance penalty. This will instruct JVM to run without the\n&gt; Compressed Oops feature and it would not try to fit the Java Heap in\n&gt; the first 4GB of heap \n&gt;  2. Keep the CompressedOops and set the base of the Java Heap with the JVM option -XX:HeapBaseMinAddress=n to specify the address where the\n&gt; Java Heap should start from set it to a higher address so that there\n&gt; is enough room available for the native mallocs\n\n ","title":"Java program failing to map Native memory allocation","body":"<p>You are possibly impacted by <a href=\"https://bugs.openjdk.java.net/browse/JDK-8187709\" rel=\"nofollow noreferrer\">this</a></p>\n<p>As per the post's suggested workarounds :</p>\n<blockquote>\n<p>There are 2 possible workaround here</p>\n<ol>\n<li>Disable compressed Oops (-XX:-UseCompressedOops) with slight performance penalty. This will instruct JVM to run without the\nCompressed Oops feature and it would not try to fit the Java Heap in\nthe first 4GB of heap</li>\n<li>Keep the CompressedOops and set the base of the Java Heap with the JVM option -XX:HeapBaseMinAddress=n to specify the address where the\nJava Heap should start from set it to a higher address so that there\nis enough room available for the native mallocs</li>\n</ol>\n</blockquote>\n"}],"owner":{"account_id":5758158,"reputation":316,"user_id":4545375,"accept_rate":45,"display_name":"Shahrukh Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10865,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54534822,"answer_count":1,"score":3,"last_activity_date":1639313389,"creation_date":1549367199,"question_id":54533710,"body_markdown":"Java program failing to allocate Native memory even after enough RAM is available.\r\n\r\nThe program crashes repeatedly after failing with os_commit exceptions.\r\n\r\nAny recommendation to update to tune Java Heap etc.\r\n\r\n    #\r\n    # There is insufficient memory for the Java Runtime Environment to continue.\r\n    # Native memory allocation (mmap) failed to map 12288 bytes for committing reserved memory.\r\n    # Possible reasons:\r\n    #   The system is out of physical RAM or swap space\r\n    #   In 32 bit mode, the process size limit was hit\r\n    # Possible solutions:\r\n    #   Reduce memory load on the system\r\n    #   Increase physical memory or swap space\r\n    #   Check if swap backing store is full\r\n    #   Use 64 bit Java on a 64 bit OS\r\n    #   Decrease Java heap size (-Xmx/-Xms)\r\n    #   Decrease number of Java threads\r\n    #   Decrease Java thread stack sizes (-Xss)\r\n    #   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n    # This output file may be truncated or incomplete.\r\n    #\r\n    #  Out of Memory Error (os_linux.cpp:2627), pid=35462, tid=140393234093824\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_65-b17) (build 1.8.0_65-b17)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.65-b01 mixed mode linux-amd64 compressed oops)\r\n    # Core dump written. Default location: /usr/hdp/share/hst/activity-analyzer/core or core.35462\r\n    #\r\n\r\nAs per the logs you can see that there is enough memory available\r\n\r\n\r\n    Memory: 4k page, physical 264266920k(135968600k free), swap 8393468k(8393468k free)\r\n    \r\n    vm_info: Java HotSpot(TM) 64-Bit Server VM (25.65-b01) for linux-amd64 JRE (1.8.0_65-b17), built on Oct  6 2015 17:16:12 by &quot;java_re&quot; with gcc 4.3.0 20080428 (Red Hat 4.3.0-8)\r\n    \r\n    time: Tue Feb  5 05:54:26 2019\r\n    elapsed time: 2928 seconds (0d 0h 48m 48s)\r\n\r\n\r\nResource Utilization \r\n\r\n    # free -mg\r\n                 total       used       free     shared    buffers     cached\r\n    Mem:           252        134        117          0          0         25\r\n    -/+ buffers/cache:        108        143\r\n    Swap:            8          0          8\r\n\r\nJMap Output\r\n\r\n    # jmap -heap 2820\r\n    Attaching to process ID 2820, please wait...\r\n    Debugger attached successfully.\r\n    Server compiler detected.\r\n    JVM version is 25.65-b01\r\n    \r\n    using thread-local object allocation.\r\n    Parallel GC with 33 thread(s)\r\n    \r\n    Heap Configuration:\r\n       MinHeapFreeRatio         = 0\r\n       MaxHeapFreeRatio         = 100\r\n       MaxHeapSize              = 33554432000 (32000.0MB)\r\n       NewSize                  = 44564480 (42.5MB)\r\n       MaxNewSize               = 11184635904 (10666.5MB)\r\n       OldSize                  = 89653248 (85.5MB)\r\n       NewRatio                 = 2\r\n       SurvivorRatio            = 8\r\n       MetaspaceSize            = 21807104 (20.796875MB)\r\n       CompressedClassSpaceSize = 1073741824 (1024.0MB)\r\n       MaxMetaspaceSize         = 17592186044415 MB\r\n       G1HeapRegionSize         = 0 (0.0MB)\r\n    \r\n    Heap Usage:\r\n    PS Young Generation\r\n    Eden Space:\r\n       capacity = 9320267776 (8888.5MB)\r\n       used     = 7558977896 (7208.803077697754MB)\r\n       free     = 1761289880 (1679.696922302246MB)\r\n       81.10258286209995% used\r\n    From Space:\r\n       capacity = 262668288 (250.5MB)\r\n       used     = 242645032 (231.40433502197266MB)\r\n       free     = 20023256 (19.095664978027344MB)\r\n       92.37698004869168% used\r\n    To Space:\r\n       capacity = 346030080 (330.0MB)\r\n       used     = 0 (0.0MB)\r\n       free     = 346030080 (330.0MB)\r\n       0.0% used\r\n    PS Old Generation\r\n       capacity = 715653120 (682.5MB)\r\n       used     = 395523640 (377.2007369995117MB)\r\n       free     = 320129480 (305.2992630004883MB)\r\n       55.267507252675706% used\r\n    \r\n    22626 interned Strings occupying 2218928 bytes.\r\n\r\n\r\nJava Version\r\n\r\n    # java -version\r\n    java version &quot;1.8.0_65&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_65-b17)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.65-b01, mixed mode)\r\n\r\nRedhat Release\r\n\r\n    # cat /etc/redhat-release\r\n    Red Hat Enterprise Linux Server release 6.6 (Santiago)\r\n\r\n","title":"Java program failing to map Native memory allocation","body":"<p>Java program failing to allocate Native memory even after enough RAM is available.</p>\n\n<p>The program crashes repeatedly after failing with os_commit exceptions.</p>\n\n<p>Any recommendation to update to tune Java Heap etc.</p>\n\n<pre><code>#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map 12288 bytes for committing reserved memory.\n# Possible reasons:\n#   The system is out of physical RAM or swap space\n#   In 32 bit mode, the process size limit was hit\n# Possible solutions:\n#   Reduce memory load on the system\n#   Increase physical memory or swap space\n#   Check if swap backing store is full\n#   Use 64 bit Java on a 64 bit OS\n#   Decrease Java heap size (-Xmx/-Xms)\n#   Decrease number of Java threads\n#   Decrease Java thread stack sizes (-Xss)\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\n# This output file may be truncated or incomplete.\n#\n#  Out of Memory Error (os_linux.cpp:2627), pid=35462, tid=140393234093824\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_65-b17) (build 1.8.0_65-b17)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.65-b01 mixed mode linux-amd64 compressed oops)\n# Core dump written. Default location: /usr/hdp/share/hst/activity-analyzer/core or core.35462\n#\n</code></pre>\n\n<p>As per the logs you can see that there is enough memory available</p>\n\n<pre><code>Memory: 4k page, physical 264266920k(135968600k free), swap 8393468k(8393468k free)\n\nvm_info: Java HotSpot(TM) 64-Bit Server VM (25.65-b01) for linux-amd64 JRE (1.8.0_65-b17), built on Oct  6 2015 17:16:12 by \"java_re\" with gcc 4.3.0 20080428 (Red Hat 4.3.0-8)\n\ntime: Tue Feb  5 05:54:26 2019\nelapsed time: 2928 seconds (0d 0h 48m 48s)\n</code></pre>\n\n<p>Resource Utilization </p>\n\n<pre><code># free -mg\n             total       used       free     shared    buffers     cached\nMem:           252        134        117          0          0         25\n-/+ buffers/cache:        108        143\nSwap:            8          0          8\n</code></pre>\n\n<p>JMap Output</p>\n\n<pre><code># jmap -heap 2820\nAttaching to process ID 2820, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.65-b01\n\nusing thread-local object allocation.\nParallel GC with 33 thread(s)\n\nHeap Configuration:\n   MinHeapFreeRatio         = 0\n   MaxHeapFreeRatio         = 100\n   MaxHeapSize              = 33554432000 (32000.0MB)\n   NewSize                  = 44564480 (42.5MB)\n   MaxNewSize               = 11184635904 (10666.5MB)\n   OldSize                  = 89653248 (85.5MB)\n   NewRatio                 = 2\n   SurvivorRatio            = 8\n   MetaspaceSize            = 21807104 (20.796875MB)\n   CompressedClassSpaceSize = 1073741824 (1024.0MB)\n   MaxMetaspaceSize         = 17592186044415 MB\n   G1HeapRegionSize         = 0 (0.0MB)\n\nHeap Usage:\nPS Young Generation\nEden Space:\n   capacity = 9320267776 (8888.5MB)\n   used     = 7558977896 (7208.803077697754MB)\n   free     = 1761289880 (1679.696922302246MB)\n   81.10258286209995% used\nFrom Space:\n   capacity = 262668288 (250.5MB)\n   used     = 242645032 (231.40433502197266MB)\n   free     = 20023256 (19.095664978027344MB)\n   92.37698004869168% used\nTo Space:\n   capacity = 346030080 (330.0MB)\n   used     = 0 (0.0MB)\n   free     = 346030080 (330.0MB)\n   0.0% used\nPS Old Generation\n   capacity = 715653120 (682.5MB)\n   used     = 395523640 (377.2007369995117MB)\n   free     = 320129480 (305.2992630004883MB)\n   55.267507252675706% used\n\n22626 interned Strings occupying 2218928 bytes.\n</code></pre>\n\n<p>Java Version</p>\n\n<pre><code># java -version\njava version \"1.8.0_65\"\nJava(TM) SE Runtime Environment (build 1.8.0_65-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 25.65-b01, mixed mode)\n</code></pre>\n\n<p>Redhat Release</p>\n\n<pre><code># cat /etc/redhat-release\nRed Hat Enterprise Linux Server release 6.6 (Santiago)\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1538494436,"creation_date":1366067546,"answer_id":16026155,"question_id":16019834,"body_markdown":"Ok, so the behavior of @JsonIgnore was radically changed from 1.9 onwards (for the worse imo). Without going into the devilish details of why your property is not being ignore during deserialization, try this code to fix it:\r\n\r\n    public class UserAccount implements HasMoney {\r\n        @JsonIgnore\r\n        private BigDecimal money;\r\n\r\n        // Other variable declarations, constructors\r\n\r\n        @Override\r\n        @JsonProperty\r\n        public BigDecimal getMoney() {\r\n            return money;\r\n        }\r\n    \r\n        @JsonIgnore\r\n        @Override\r\n        public void setMoney(final BigDecimal money) {\r\n            this.money = money;\r\n        }\r\n\r\n        // Other getters/setters\r\n    }\r\n\r\nNote the use of `@JsonIgnore` on the field - its required for a working solution.\r\n\r\n*Note: depending on your environment and use case, you may need additional configuration on your ObjectMapper instance, for example,* USE_GETTERS_AS_SETTERS, AUTO_DETECT_GETTERS, AUTO_DETECT_SETTERS *etc*.","title":"Ignoring property when deserializing","body":"<p>Ok, so the behavior of @JsonIgnore was radically changed from 1.9 onwards (for the worse imo). Without going into the devilish details of why your property is not being ignore during deserialization, try this code to fix it:</p>\n\n<pre><code>public class UserAccount implements HasMoney {\n    @JsonIgnore\n    private BigDecimal money;\n\n    // Other variable declarations, constructors\n\n    @Override\n    @JsonProperty\n    public BigDecimal getMoney() {\n        return money;\n    }\n\n    @JsonIgnore\n    @Override\n    public void setMoney(final BigDecimal money) {\n        this.money = money;\n    }\n\n    // Other getters/setters\n}\n</code></pre>\n\n<p>Note the use of <code>@JsonIgnore</code> on the field - its required for a working solution.</p>\n\n<p><em>Note: depending on your environment and use case, you may need additional configuration on your ObjectMapper instance, for example,</em> USE_GETTERS_AS_SETTERS, AUTO_DETECT_GETTERS, AUTO_DETECT_SETTERS <em>etc</em>.</p>\n"},{"tags":[],"owner":{"account_id":4532532,"reputation":1196,"user_id":3682581,"display_name":"kmek"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1474005323,"creation_date":1474005323,"answer_id":39524572,"question_id":16019834,"body_markdown":"Version 2.6.0+ allows this to be done with @JsonIgnoreProperties at the class level. \r\n\r\n    @JsonIgnoreProperties(value={ &quot;money&quot; }, allowGetters=true)\r\n\r\nTake a look at this closed issue:\r\nhttps://github.com/FasterXML/jackson-databind/issues/95","title":"Ignoring property when deserializing","body":"<p>Version 2.6.0+ allows this to be done with @JsonIgnoreProperties at the class level. </p>\n\n<pre><code>@JsonIgnoreProperties(value={ \"money\" }, allowGetters=true)\n</code></pre>\n\n<p>Take a look at this closed issue:\n<a href=\"https://github.com/FasterXML/jackson-databind/issues/95\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/issues/95</a></p>\n"},{"tags":[],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1541243099,"creation_date":1541243099,"answer_id":53130691,"question_id":16019834,"body_markdown":"In a case of you don&#39;t own or can&#39;t change the class by adding `@JsonIgnore` annotation, you would get expected result by using mixin starting from version *2.5* in your implementation.\r\n\r\n    public abstract class HasMoneyMixin {\r\n        @JsonIgnore\r\n        public abstract Money getMoney();\r\n    }\r\n\r\nconfigure mapper to use mixin,\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.addMixIn(HasMoney.class, HasMoneyMixin.class);\r\n    // avoid failing if all properties are empty\r\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);","title":"Ignoring property when deserializing","body":"<p>In a case of you don't own or can't change the class by adding <code>@JsonIgnore</code> annotation, you would get expected result by using mixin starting from version <em>2.5</em> in your implementation.</p>\n\n<pre><code>public abstract class HasMoneyMixin {\n    @JsonIgnore\n    public abstract Money getMoney();\n}\n</code></pre>\n\n<p>configure mapper to use mixin,</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.addMixIn(HasMoney.class, HasMoneyMixin.class);\n// avoid failing if all properties are empty\nmapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1639313364,"creation_date":1601967428,"answer_id":64220774,"question_id":16019834,"body_markdown":"With Jackson 2.10 you can implement a read-only field like this:\r\n\r\n## A real field ##\r\n```java\r\npublic class UserAccount implements HasMoney {\r\n\r\n   @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n   private Money money;\r\n   \r\n   // getter and setter\r\n\r\n}\r\n```\r\n\r\n## A virtual field ##\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true) // to ignore ALL unknown properties\r\n// OR\r\n@JsonIgnoreProperties(value = {&quot;money&quot;}, allowGetters = true) // to ignore only &#39;money&#39; input\r\npublic class UserAccount implements HasMoney {\r\n\r\n   @JsonProperty\r\n   public Money getMoney() {\r\n       // some calculation\r\n   }\r\n\r\n}\r\n```\r\nThe value will be serialized but ignored during deserialization.","title":"Ignoring property when deserializing","body":"<p>With Jackson 2.10 you can implement a read-only field like this:</p>\n<h2>A real field</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserAccount implements HasMoney {\n\n   @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n   private Money money;\n   \n   // getter and setter\n\n}\n</code></pre>\n<h2>A virtual field</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true) // to ignore ALL unknown properties\n// OR\n@JsonIgnoreProperties(value = {&quot;money&quot;}, allowGetters = true) // to ignore only 'money' input\npublic class UserAccount implements HasMoney {\n\n   @JsonProperty\n   public Money getMoney() {\n       // some calculation\n   }\n\n}\n</code></pre>\n<p>The value will be serialized but ignored during deserialization.</p>\n"},{"tags":[],"owner":{"account_id":17821142,"reputation":81,"user_id":12943499,"display_name":"tyoma17"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608143783,"creation_date":1608143783,"answer_id":65329163,"question_id":16019834,"body_markdown":"Apparently my solution is late, but definitely will be helpful for others.\r\n\r\n**Prehistory**:\r\nin my project there is a class reading a JSON string directly into an entity. The JSON contains a property which is not a variable of the class. Because of\r\n\r\n    objectMapper.enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\r\nan instance of the entity will not be created during deserialization (an exception in such a case is desired in our project).\r\n\r\n**Solution**:\r\n\r\n```\r\nobjectMapper.addHandler(new DeserializationProblemHandler() {\r\n    @Override\r\n    public boolean handleUnknownProperty(DeserializationContext ctxt, JsonParser p, JsonDeserializer&lt;?&gt; deserializer, Object beanOrClass, String propertyName) throws IOException {\r\n       if( (propertyName.equals(&quot;propertyToBeIgnored&quot;) &amp;&amp; beanOrClass.getClass().equals(ClassOfTheProperty.class)) {\r\n           p.skipChildren();\r\n           return true;\r\n       } else {\r\n           return false;\r\n       }\r\n    }\r\n});\r\n```","title":"Ignoring property when deserializing","body":"<p>Apparently my solution is late, but definitely will be helpful for others.</p>\n<p><strong>Prehistory</strong>:\nin my project there is a class reading a JSON string directly into an entity. The JSON contains a property which is not a variable of the class. Because of</p>\n<pre><code>objectMapper.enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n<p>an instance of the entity will not be created during deserialization (an exception in such a case is desired in our project).</p>\n<p><strong>Solution</strong>:</p>\n<pre><code>objectMapper.addHandler(new DeserializationProblemHandler() {\n    @Override\n    public boolean handleUnknownProperty(DeserializationContext ctxt, JsonParser p, JsonDeserializer&lt;?&gt; deserializer, Object beanOrClass, String propertyName) throws IOException {\n       if( (propertyName.equals(&quot;propertyToBeIgnored&quot;) &amp;&amp; beanOrClass.getClass().equals(ClassOfTheProperty.class)) {\n           p.skipChildren();\n           return true;\n       } else {\n           return false;\n       }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":1100887,"reputation":1190,"user_id":1093308,"accept_rate":70,"display_name":"Nishant Nagwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90071,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":16026155,"answer_count":5,"score":58,"last_activity_date":1639313364,"creation_date":1366042102,"question_id":16019834,"body_markdown":"I have a simple interface with getter and setter for a property. \r\n\r\n    public interface HasMoney { \r\n         \r\n          Money getMoney();\r\n  \r\n          void setMoney(Money money);\r\n\r\n     }\r\n\r\nI have another class UserAccount which implements this interface. \r\n\r\n    public class UserAccount implements HasMoney {\r\n\r\n           private Money money;\r\n   \r\n           @Override\r\n           Money getMoney() // fill in the blanks\r\n\r\n           @Override\r\n           void setMoney(Money money) // fill in the blanks\r\n\r\n    }\r\n\r\nMy problem is that I want to serialize the money property but ignore while deserializing it i.e., dont accept any values from the user for this property. I have tried @JsonIgnore on setter and @JsonIgnore(false) on the getter, it does ignore it but it does so while serializing it also. \r\n\r\nI tried @JsonIgnore on the setter and @JsonProperty on the getter just to explicitly tell Jackson that we intend to track this property, that seems to crash the application when money property is sent to the server and Jackson tries to deserialize it throwing up MalformedJsonException : cannot construct object of type Money. \r\n\r\nThe most wierd thing is that putting @JsonIgnore on the setter and @JsonProperty on the setter works for most cases when the property is primitive. \r\n","title":"Ignoring property when deserializing","body":"<p>I have a simple interface with getter and setter for a property. </p>\n\n<pre><code>public interface HasMoney { \n\n      Money getMoney();\n\n      void setMoney(Money money);\n\n }\n</code></pre>\n\n<p>I have another class UserAccount which implements this interface. </p>\n\n<pre><code>public class UserAccount implements HasMoney {\n\n       private Money money;\n\n       @Override\n       Money getMoney() // fill in the blanks\n\n       @Override\n       void setMoney(Money money) // fill in the blanks\n\n}\n</code></pre>\n\n<p>My problem is that I want to serialize the money property but ignore while deserializing it i.e., dont accept any values from the user for this property. I have tried @JsonIgnore on setter and @JsonIgnore(false) on the getter, it does ignore it but it does so while serializing it also. </p>\n\n<p>I tried @JsonIgnore on the setter and @JsonProperty on the getter just to explicitly tell Jackson that we intend to track this property, that seems to crash the application when money property is sent to the server and Jackson tries to deserialize it throwing up MalformedJsonException : cannot construct object of type Money. </p>\n\n<p>The most wierd thing is that putting @JsonIgnore on the setter and @JsonProperty on the setter works for most cases when the property is primitive. </p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1553088456,"post_id":55261658,"comment_id":97255044,"body_markdown":"Unrelated to just OOME the OP knows how to fix it. It&#39;s about `citygml-tools`","body":"Unrelated to just OOME the OP knows how to fix it. It&#39;s about <code>citygml-tools</code>"}],"answers":[{"tags":[],"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553088085,"creation_date":1553088085,"answer_id":55261734,"question_id":55261658,"body_markdown":"`java -Xmx6144M -d64`\r\n\r\nGo to command line and execute this command, it will set it to 64 GB\r\n\r\nSource: https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\r\n","title":"java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;main&quot;’ for a file of more than 4GB","body":"<p><code>java -Xmx6144M -d64</code></p>\n\n<p>Go to command line and execute this command, it will set it to 64 GB</p>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\">Increase heap size in Java</a></p>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553088258,"creation_date":1553088258,"answer_id":55261778,"question_id":55261658,"body_markdown":"You can use `JAVA_OPTS` or `CITYGML_TOOLS_OPTS` environment variable which is read by `citygml-tools` executable. Or you can modify the `DEFAULT_JVM_OPTS` option in the `citygml-tools` code:\r\n\r\n```bash\r\n# Add default JVM options here. You can also use JAVA_OPTS and CITYGML_TOOLS_OPTS to pass JVM options to this script.\r\nDEFAULT_JVM_OPTS=&#39;&quot;-Xms1G&quot;&#39;\r\n```\r\n\r\n\r\nIf you are using Linux you can set in the terminal:\r\n\r\n```bash\r\nexport JAVA_OPTS=&quot;-Xmx15G&quot;\r\ncitygml-tools &lt;file&gt;\r\n```\r\n","title":"java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;main&quot;’ for a file of more than 4GB","body":"<p>You can use <code>JAVA_OPTS</code> or <code>CITYGML_TOOLS_OPTS</code> environment variable which is read by <code>citygml-tools</code> executable. Or you can modify the <code>DEFAULT_JVM_OPTS</code> option in the <code>citygml-tools</code> code:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># Add default JVM options here. You can also use JAVA_OPTS and CITYGML_TOOLS_OPTS to pass JVM options to this script.\nDEFAULT_JVM_OPTS='\"-Xms1G\"'\n</code></pre>\n\n<p>If you are using Linux you can set in the terminal:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_OPTS=\"-Xmx15G\"\ncitygml-tools &lt;file&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553088571,"creation_date":1553088571,"answer_id":55261888,"question_id":55261658,"body_markdown":"You can try a brute Force approach and assign a very large healthy space\r\n\r\nGrep for the line \r\n\r\n     defaultJvmOpts = [&#39;-Xms1G&#39;] \r\n\r\nonly 1 GiB of heap space\r\n\r\nAlso make sure you are using a 64 bit Java and have enough ram","title":"java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;main&quot;’ for a file of more than 4GB","body":"<p>You can try a brute Force approach and assign a very large healthy space</p>\n\n<p>Grep for the line </p>\n\n<pre><code> defaultJvmOpts = ['-Xms1G'] \n</code></pre>\n\n<p>only 1 GiB of heap space</p>\n\n<p>Also make sure you are using a 64 bit Java and have enough ram</p>\n"},{"tags":[],"owner":{"account_id":22644906,"reputation":1,"user_id":16903012,"display_name":"Arqu&#237;medes-X9000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631567551,"creation_date":1631567551,"answer_id":69169147,"question_id":55261658,"body_markdown":"Buddy Another option if you are using eclipse is the following.\r\n\r\n[This worked for me, I hope it helps you (click over here).][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://crunchify.com/how-to-increase-tomcat-heapsize-jvm-heap-in-eclipse-ede/","title":"java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;main&quot;’ for a file of more than 4GB","body":"<p>Buddy Another option if you are using eclipse is the following.</p>\n<p><a href=\"https://crunchify.com/how-to-increase-tomcat-heapsize-jvm-heap-in-eclipse-ede/\" rel=\"nofollow noreferrer\">This worked for me, I hope it helps you (click over here).</a></p>\n"}],"owner":{"account_id":15569318,"reputation":43,"user_id":11232186,"display_name":"karin "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23740,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1639313355,"creation_date":1553087836,"question_id":55261658,"body_markdown":"Using this tool, https://github.com/citygml4j/citygml-tools, which is called to-cityjson. I want to convert a `cityGML` file to a `cityJSON` file. The file is 4.36 GB, but i get the following error: \r\n\r\n`java.lang.OutOfMemoryError` thrown from the `UncaughtExceptionHandler` in thread `main` or \r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat jdk.internal.reflect.GeneratedConstructorAccessor183.newInstance(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat com.sun.xml.bind.v2.ClassFactory.create0(ClassFactory.java:102)\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.createInstance(ClassBeanInfoImpl.java:255)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:672)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:158)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.ProxyLoader.startElement(ProxyLoader.java:30)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$IntercepterLoader.startElement(ElementBeanInfoImpl.java:223)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:547)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:526)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:45)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:216)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:150)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:385)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:356)\r\n    \tat org.citygml4j.builder.jaxb.xml.io.reader.JAXBSimpleReader.nextFeature(JAXBSimpleReader.java:133)\r\n    \tat org.citygml4j.tools.command.ToCityJSONCommand.execute(ToCityJSONCommand.java:133)\r\n    \tat org.citygml4j.tools.CityGMLTools.handleParseResult(CityGMLTools.java:102)\r\n    \tat org.citygml4j.tools.CityGMLTools.handleParseResult(CityGMLTools.java:35)\r\n    \tat picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)\r\n    \tat org.citygml4j.tools.CityGMLTools.main(CityGMLTools.java:44)\r\n\r\nI found one solution, which would be to use `java -Xmx15G`, but i don&#39;t know how to implement it.","title":"java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;main&quot;’ for a file of more than 4GB","body":"<p>Using this tool, <a href=\"https://github.com/citygml4j/citygml-tools\" rel=\"nofollow noreferrer\">https://github.com/citygml4j/citygml-tools</a>, which is called to-cityjson. I want to convert a <code>cityGML</code> file to a <code>cityJSON</code> file. The file is 4.36 GB, but i get the following error: </p>\n\n<p><code>java.lang.OutOfMemoryError</code> thrown from the <code>UncaughtExceptionHandler</code> in thread <code>main</code> or </p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at jdk.internal.reflect.GeneratedConstructorAccessor183.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at com.sun.xml.bind.v2.ClassFactory.create0(ClassFactory.java:102)\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.createInstance(ClassBeanInfoImpl.java:255)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:672)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:158)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.ProxyLoader.startElement(ProxyLoader.java:30)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$IntercepterLoader.startElement(ElementBeanInfoImpl.java:223)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:547)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:526)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:45)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:216)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:150)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:385)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:356)\n    at org.citygml4j.builder.jaxb.xml.io.reader.JAXBSimpleReader.nextFeature(JAXBSimpleReader.java:133)\n    at org.citygml4j.tools.command.ToCityJSONCommand.execute(ToCityJSONCommand.java:133)\n    at org.citygml4j.tools.CityGMLTools.handleParseResult(CityGMLTools.java:102)\n    at org.citygml4j.tools.CityGMLTools.handleParseResult(CityGMLTools.java:35)\n    at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)\n    at org.citygml4j.tools.CityGMLTools.main(CityGMLTools.java:44)\n</code></pre>\n\n<p>I found one solution, which would be to use <code>java -Xmx15G</code>, but i don't know how to implement it.</p>\n"},{"tags":["java","google-app-engine","heap-memory"],"comments":[{"owner":{"account_id":6346093,"reputation":9512,"user_id":4926605,"display_name":"LundinCast"},"score":0,"creation_date":1559029041,"post_id":56331340,"comment_id":99280081,"body_markdown":"Possible duplicate of [How to increase the heap size of the google cloud app engine?](https://stackoverflow.com/questions/48314063/how-to-increase-the-heap-size-of-the-google-cloud-app-engine)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/48314063/how-to-increase-the-heap-size-of-the-google-cloud-app-engine\">How to increase the heap size of the google cloud app engine?</a>"}],"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639313319,"creation_date":1558984223,"question_id":56331340,"body_markdown":"How can I manage the value of heap size for a java app on AppEngine in the standard version?","title":"Java App on Standard GAE randomly get out of space. How to set up Heap?","body":"<p>How can I manage the value of heap size for a java app on AppEngine in the standard version?</p>\n"},{"tags":["java","heap-memory","jvisualvm"],"comments":[{"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"score":1,"creation_date":1561652632,"post_id":56795165,"comment_id":100145010,"body_markdown":"are you using a 32 or 64 bit jvm ?","body":"are you using a 32 or 64 bit jvm ?"},{"owner":{"account_id":18514,"reputation":7704,"user_id":42473,"accept_rate":52,"display_name":"Mark Booth"},"score":0,"creation_date":1561653307,"post_id":56795165,"comment_id":100145300,"body_markdown":"64bit @DrPhil. I meant to mention this but forgot, question edited to add environment info.","body":"64bit @DrPhil. I meant to mention this but forgot, question edited to add environment info."}],"owner":{"account_id":18514,"reputation":7704,"user_id":42473,"accept_rate":52,"display_name":"Mark Booth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639313308,"creation_date":1561652380,"question_id":56795165,"body_markdown":"I&#39;m currently having a problem with my Eclipse IDE dying when it receives too much console output.\r\n\r\nIf I set &quot;Run/Debug &#187; Console &#187; Console buffer size (characters)&quot; too big, then I start getting &quot;IOConsole Updater&quot; errors citing &quot;Java heap space&quot; as the cause.\r\n\r\nWhen I attach `jvisualvm` to the Eclipse process, I can see that &quot;Used&quot; keeps cycling, peaking ever closer to &quot;Size&quot; until it eventually falls over, what I don&#39;t understand is that &quot;Size&quot; never even gets close to &quot;Max&quot;.\r\n\r\nI&#39;ve told the JVM (using `-Xmx2g`) to use up to 2GB (Max), but it&#39;s allocating 1GB (Size) and using between 300MB and 1GB (Used), yet returning &quot;Java heap space&quot; when the process briefly tries to go over that artificially low 1GB heap &quot;Size&quot;.\r\n\r\nWhat is causing this behaviour?\r\n\r\nWhy is &quot;IOConsole Updater&quot; (and sometimes &quot;Trim Job&quot;) reporting &quot;Java heap size&quot; errors rather than causing the java heap to be expanded to the max size allowed?\r\n\r\n\r\n----------\r\nEnvironment (thanks for the reminder @Dr Phil), from the `jvisualvm` overview page (with paths elided):\r\n\r\n    Host: localhost\r\n    Main class: org.eclipse.equinox.launcher.Main\r\n    Arguments: -os linux -ws gtk -arch x86_64 -showsplash /.../eclipse473a_linux64_20180903//plugins/org.eclipse.epp.package.common_4.7.3.20180405-1200/splash.bmp -launcher /.../eclipse473a_linux64_20180903/eclipse -name Eclipse --launcher.library /.../eclipse473a_linux64_20180903//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.551.v20171108-1834/eclipse_1630.so -startup /.../eclipse473a_linux64_20180903//plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar --launcher.appendVmargs -exitdata 205001f -product org.eclipse.epp.package.rcp.product -data /.../workspace -keyring /.../.eclipseauth/.keyring -showlocation -vm /.../java -vmargs -Dosgi.requiredJavaVersion=1.8 -Dosgi.instance.area.default=@user.home/eclipse-work\r\n    \r\n    JVM: Java HotSpot(TM) 64-Bit Server VM (25.211-b12, mixed mode)\r\n    Java: version 1.8.0_211, vendor Oracle Corporation\r\n    Java Home: /.../java/x64/jdk1.8.0_211/jre\r\n    JVM Flags: &lt;none&gt;","title":"Java heap space error when Heap hasn&#39;t expanded to max size","body":"<p>I'm currently having a problem with my Eclipse IDE dying when it receives too much console output.</p>\n\n<p>If I set \"Run/Debug » Console » Console buffer size (characters)\" too big, then I start getting \"IOConsole Updater\" errors citing \"Java heap space\" as the cause.</p>\n\n<p>When I attach <code>jvisualvm</code> to the Eclipse process, I can see that \"Used\" keeps cycling, peaking ever closer to \"Size\" until it eventually falls over, what I don't understand is that \"Size\" never even gets close to \"Max\".</p>\n\n<p>I've told the JVM (using <code>-Xmx2g</code>) to use up to 2GB (Max), but it's allocating 1GB (Size) and using between 300MB and 1GB (Used), yet returning \"Java heap space\" when the process briefly tries to go over that artificially low 1GB heap \"Size\".</p>\n\n<p>What is causing this behaviour?</p>\n\n<p>Why is \"IOConsole Updater\" (and sometimes \"Trim Job\") reporting \"Java heap size\" errors rather than causing the java heap to be expanded to the max size allowed?</p>\n\n<hr>\n\n<p>Environment (thanks for the reminder @Dr Phil), from the <code>jvisualvm</code> overview page (with paths elided):</p>\n\n<pre><code>Host: localhost\nMain class: org.eclipse.equinox.launcher.Main\nArguments: -os linux -ws gtk -arch x86_64 -showsplash /.../eclipse473a_linux64_20180903//plugins/org.eclipse.epp.package.common_4.7.3.20180405-1200/splash.bmp -launcher /.../eclipse473a_linux64_20180903/eclipse -name Eclipse --launcher.library /.../eclipse473a_linux64_20180903//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.551.v20171108-1834/eclipse_1630.so -startup /.../eclipse473a_linux64_20180903//plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar --launcher.appendVmargs -exitdata 205001f -product org.eclipse.epp.package.rcp.product -data /.../workspace -keyring /.../.eclipseauth/.keyring -showlocation -vm /.../java -vmargs -Dosgi.requiredJavaVersion=1.8 -Dosgi.instance.area.default=@user.home/eclipse-work\n\nJVM: Java HotSpot(TM) 64-Bit Server VM (25.211-b12, mixed mode)\nJava: version 1.8.0_211, vendor Oracle Corporation\nJava Home: /.../java/x64/jdk1.8.0_211/jre\nJVM Flags: &lt;none&gt;\n</code></pre>\n"},{"tags":["java","heap-memory","ignite"],"comments":[{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":1,"creation_date":1579082049,"post_id":59748696,"comment_id":105644377,"body_markdown":"Please include the output, not a picture of it, as some screens will not display the image well and it causes other accessibility issues.","body":"Please include the output, not a picture of it, as some screens will not display the image well and it causes other accessibility issues."},{"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"score":0,"creation_date":1579097276,"post_id":59748696,"comment_id":105652402,"body_markdown":"Is there any reason you&#39;re not using the G1 garbage collector? It&#39;s much better for these kinds of workloads than the parallel GC you have configured.","body":"Is there any reason you&#39;re not using the G1 garbage collector? It&#39;s much better for these kinds of workloads than the parallel GC you have configured."},{"owner":{"account_id":14800445,"reputation":3,"user_id":10688829,"display_name":"zhangzl"},"score":0,"creation_date":1579098061,"post_id":59748696,"comment_id":105652882,"body_markdown":"G1 has the same problem","body":"G1 has the same problem"}],"answers":[{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579082500,"creation_date":1579082500,"answer_id":59749022,"question_id":59748696,"body_markdown":"Apache Ignite does not use too much heap, unless you happen to use on-heap caching.\r\n\r\nPlease make sure you&#39;re not retaining too much data on heap during your test.\r\n\r\nI recommend gathering a heap dump, analyzing it with e.g. Eclipse MAT to see what happens there.","title":"Ignite heap not release, this is a memery leak?","body":"<p>Apache Ignite does not use too much heap, unless you happen to use on-heap caching.</p>\n\n<p>Please make sure you're not retaining too much data on heap during your test.</p>\n\n<p>I recommend gathering a heap dump, analyzing it with e.g. Eclipse MAT to see what happens there.</p>\n"},{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1579257247,"creation_date":1579257247,"answer_id":59785637,"question_id":59748696,"body_markdown":"I can see the heap is held by `ConnectionManager.usedConns`.\r\n\r\nHowever, there are no released Apache Ignite versions which have `ConnectionManager` class. It&#39;s certainly not in 2.7.\r\n\r\nIf you are using some kind of your own builds from master branch, you&#39;re kind of on your own. Consider upgrading to the latest builds from `ignite-2.8` branch, this problem may be fixed there. The release is not there yet, but code is available and presumably more stable than whatever you are using.\r\n\r\nEither way. You&#39;re not really running Apache Ignite and certainly not AI 2.7.","title":"Ignite heap not release, this is a memery leak?","body":"<p>I can see the heap is held by <code>ConnectionManager.usedConns</code>.</p>\n\n<p>However, there are no released Apache Ignite versions which have <code>ConnectionManager</code> class. It's certainly not in 2.7.</p>\n\n<p>If you are using some kind of your own builds from master branch, you're kind of on your own. Consider upgrading to the latest builds from <code>ignite-2.8</code> branch, this problem may be fixed there. The release is not there yet, but code is available and presumably more stable than whatever you are using.</p>\n\n<p>Either way. You're not really running Apache Ignite and certainly not AI 2.7.</p>\n"},{"tags":[],"owner":{"account_id":1827523,"reputation":46,"user_id":1659840,"display_name":"Taras Ledkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580395733,"creation_date":1580395733,"answer_id":59988608,"question_id":59748696,"body_markdown":"If you don’t have enouhg time to provide small reproducer please describe your pressure scenario. It is really important to investigate.\r\nThe most reason of huge counts of connection at the `ConnectionManager.usedConn` is not closed JDBC connection and query cursors (`QueryCursor`) at the native API.\r\n\r\nAI 2.7 use ThreadLocal connections and has less potential leaks for simple cases.\r\nWe have had to change connection manager logic to perform &quot;lazy&quot; mode (to reduce heap usage for huge result sets).\r\n","title":"Ignite heap not release, this is a memery leak?","body":"<p>If you don’t have enouhg time to provide small reproducer please describe your pressure scenario. It is really important to investigate.\nThe most reason of huge counts of connection at the <code>ConnectionManager.usedConn</code> is not closed JDBC connection and query cursors (<code>QueryCursor</code>) at the native API.</p>\n\n<p>AI 2.7 use ThreadLocal connections and has less potential leaks for simple cases.\nWe have had to change connection manager logic to perform \"lazy\" mode (to reduce heap usage for huge result sets).</p>\n"}],"owner":{"account_id":14800445,"reputation":3,"user_id":10688829,"display_name":"zhangzl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59785637,"answer_count":3,"score":0,"last_activity_date":1639313260,"creation_date":1579081429,"question_id":59748696,"body_markdown":"I have a 20 minute pressure test during which the free JVM heap size drops from 97% to 3%. Even if I wait 5 hours, the amount of free space does not change. If I try to have a test again, the GC has too much work and causes a long JVM pause. I use 2.7 Ignite, I do not save data on tje heap, I save data with jdbcthin.  \r\nI thought that when my test is over, the JVM heap will realize, but it doesn&#39;t look like it.\r\n\r\nI attached the JVM properties and the configuration below.\r\n\r\nJVM property\r\n\r\n    JVM_OPTS=&quot;$JVM_OPTS -Xms10g -Xmx10g -server&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+AlwaysPreTouch&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+UseParNewGC&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+UseConcMarkSweepGC&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+CMSClassUnloadingEnabled&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+CMSPermGenSweepingEnabled&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+ScavengeBeforeFullGC&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+CMSScavengeBeforeRemark&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/alidata/soft/ignite/heapdump -XX:+ExitOnOutOfMemoryError&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintAdaptiveSizePolicy&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=100M -Xloggc:/alidata/soft/ignite/gc/gc.log&quot;\r\n\r\n\r\nconfig properties \r\n\r\n```xml\r\n&lt;bean id=&quot;grid.cfg&quot; class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\r\n\t\r\n\t&lt;!-- Configure internal thread pool. --&gt;\r\n    &lt;property name=&quot;publicThreadPoolSize&quot; value=&quot;96&quot;/&gt;\r\n    \r\n    &lt;!-- Configure system thread pool. --&gt;\r\n    &lt;property name=&quot;systemThreadPoolSize&quot; value=&quot;16&quot;/&gt;\r\n\t\r\n\t&lt;!-- Configure query thread pool. --&gt;\r\n    &lt;property name=&quot;queryThreadPoolSize&quot; value=&quot;96&quot;/&gt;\r\n\t\r\n\t&lt;property name=&quot;systemWorkerBlockedTimeout&quot; value=&quot;#{60 * 60 * 1000}&quot;/&gt;\r\n\t\r\n\t&lt;property name=&quot;failureHandler&quot;&gt;\r\n        &lt;bean class=&quot;org.apache.ignite.failure.StopNodeFailureHandler&quot;/&gt;\r\n    &lt;/property&gt;\r\n        &lt;!-- Enabling Apache Ignite native persistence. --&gt;\r\n  &lt;property name=&quot;dataStorageConfiguration&quot;&gt;\r\n    &lt;bean class=&quot;org.apache.ignite.configuration.DataStorageConfiguration&quot;&gt;\r\n\t  &lt;!-- Enable write throttling.--&gt;\r\n      &lt;property name=&quot;writeThrottlingEnabled&quot; value=&quot;true&quot;/&gt;\r\n\t  &lt;!-- Set concurrency level --&gt;\r\n      &lt;property name=&quot;concurrencyLevel&quot; value=&quot;4&quot;/&gt;\r\n\t  \r\n      &lt;property name=&quot;defaultDataRegionConfiguration&quot;&gt;\r\n        &lt;bean class=&quot;org.apache.ignite.configuration.DataRegionConfiguration&quot;&gt;\r\n          &lt;property name=&quot;persistenceEnabled&quot; value=&quot;true&quot;/&gt;\r\n\t\t  &lt;!-- Increasing the buffer size to 1 GB. --&gt;\r\n          &lt;property name=&quot;checkpointPageBufferSize&quot;\r\n                    value=&quot;#{1 * 1024L * 1024 * 1024}&quot;/&gt;\r\n\t\t  &lt;!-- Setting the size of the default region to 4GB. --&gt;\r\n           &lt;!-- 1 GB initial size. --&gt;\r\n          &lt;property name=&quot;initialSize&quot; value=&quot;#{1L * 1024 * 1024 * 1024}&quot;/&gt;\r\n          &lt;property name=&quot;maxSize&quot; value=&quot;#{8L * 1024 * 1024 * 1024}&quot;/&gt;\r\n\t\t  \r\n\t\t  &lt;!-- Enabling RANDOM_2_LRU eviction for this region.  --&gt;\r\n            &lt;property name=&quot;pageEvictionMode&quot; value=&quot;RANDOM_2_LRU&quot;/&gt;\r\n        &lt;/bean&gt;\r\n      &lt;/property&gt;\r\n      &lt;!-- Size of the WAL (Write Ahead Log) segment --&gt;\r\n      &lt;property name=&quot;walSegmentSize&quot; value=&quot;#{1 * 1024 * 1024 * 1024}&quot;/&gt;\r\n\t \r\n\t  &lt;property name=&quot;walCompactionEnabled&quot; value=&quot;true&quot; /&gt;\r\n\t  \r\n      &lt;property name=&quot;walCompactionLevel&quot; value=&quot;1&quot; /&gt;\r\n\t  \r\n\t  &lt;!-- Set the page size to 4 KB --&gt;\r\n\t  &lt;property name=&quot;pageSize&quot; value=&quot;#{4 * 1024}&quot;/&gt;\r\n\t  &lt;!--\r\n          Sets a path to the root directory where data and indexes are\r\n          to be persisted. It&#39;s assumed the directory is on a separated SSD.\r\n      --&gt;\r\n      &lt;property name=&quot;storagePath&quot; value=&quot;/alidata/soft/ignite/persistence&quot;/&gt;\r\n\r\n      &lt;!--\r\n          Sets a path to the directory where WAL is stored.\r\n          It&#39;s assumed the directory is on a separated HDD.\r\n      --&gt;\r\n      &lt;property name=&quot;walPath&quot; value=&quot;/alidata/soft/ignite/wal&quot;/&gt;\r\n\r\n      &lt;!--\r\n          Sets a path to the directory where WAL archive is stored.\r\n          The directory is on the same HDD as the WAL.\r\n      --&gt;\r\n      &lt;property name=&quot;walArchivePath&quot; value=&quot;/alidata/soft/ignite/wal/&quot;/&gt;\r\n    &lt;/bean&gt;\r\n  &lt;/property&gt;\r\n  &lt;property name=&quot;discoverySpi&quot;&gt;\r\n    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\r\n\t  &lt;property name=&quot;failureDetectionTimeout&quot; value=&quot;60000&quot;/&gt;\r\n      &lt;property name=&quot;ipFinder&quot;&gt;\r\n        &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\r\n          &lt;property name=&quot;addresses&quot;&gt;\r\n            &lt;list&gt;\r\n\t\t\t  &lt;value&gt;172.16.14.14:47500..47509&lt;/value&gt;\r\n              &lt;value&gt;172.16.14.15:47500..47509&lt;/value&gt;\r\n              &lt;value&gt;172.16.14.16:47500..47509&lt;/value&gt;\r\n\t\t      &lt;value&gt;172.16.14.17:47500..47509&lt;/value&gt;\r\n            &lt;/list&gt;\r\n          &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n  &lt;/property&gt;\r\n   &lt;/bean&gt;\r\n```\r\n\r\n3% picture\r\n[![Console output showing the 3% free heap space stat][1]][1]\r\n\r\nCan you give me any suggestions on how to fix this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iVrMD.png","title":"Ignite heap not release, this is a memery leak?","body":"<p>I have a 20 minute pressure test during which the free JVM heap size drops from 97% to 3%. Even if I wait 5 hours, the amount of free space does not change. If I try to have a test again, the GC has too much work and causes a long JVM pause. I use 2.7 Ignite, I do not save data on tje heap, I save data with jdbcthin.<br>\nI thought that when my test is over, the JVM heap will realize, but it doesn't look like it.</p>\n\n<p>I attached the JVM properties and the configuration below.</p>\n\n<p>JVM property</p>\n\n<pre><code>JVM_OPTS=\"$JVM_OPTS -Xms10g -Xmx10g -server\"\nJVM_OPTS=\"$JVM_OPTS -XX:+AlwaysPreTouch\"\nJVM_OPTS=\"$JVM_OPTS -XX:+UseParNewGC\"\nJVM_OPTS=\"$JVM_OPTS -XX:+UseConcMarkSweepGC\"\nJVM_OPTS=\"$JVM_OPTS -XX:+CMSClassUnloadingEnabled\"\nJVM_OPTS=\"$JVM_OPTS -XX:+CMSPermGenSweepingEnabled\"\nJVM_OPTS=\"$JVM_OPTS -XX:+ScavengeBeforeFullGC\"\nJVM_OPTS=\"$JVM_OPTS -XX:+CMSScavengeBeforeRemark\"\nJVM_OPTS=\"$JVM_OPTS -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/alidata/soft/ignite/heapdump -XX:+ExitOnOutOfMemoryError\"\nJVM_OPTS=\"$JVM_OPTS -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintAdaptiveSizePolicy\"\nJVM_OPTS=\"$JVM_OPTS -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=100M -Xloggc:/alidata/soft/ignite/gc/gc.log\"\n</code></pre>\n\n<p>config properties </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"grid.cfg\" class=\"org.apache.ignite.configuration.IgniteConfiguration\"&gt;\n\n    &lt;!-- Configure internal thread pool. --&gt;\n    &lt;property name=\"publicThreadPoolSize\" value=\"96\"/&gt;\n\n    &lt;!-- Configure system thread pool. --&gt;\n    &lt;property name=\"systemThreadPoolSize\" value=\"16\"/&gt;\n\n    &lt;!-- Configure query thread pool. --&gt;\n    &lt;property name=\"queryThreadPoolSize\" value=\"96\"/&gt;\n\n    &lt;property name=\"systemWorkerBlockedTimeout\" value=\"#{60 * 60 * 1000}\"/&gt;\n\n    &lt;property name=\"failureHandler\"&gt;\n        &lt;bean class=\"org.apache.ignite.failure.StopNodeFailureHandler\"/&gt;\n    &lt;/property&gt;\n        &lt;!-- Enabling Apache Ignite native persistence. --&gt;\n  &lt;property name=\"dataStorageConfiguration\"&gt;\n    &lt;bean class=\"org.apache.ignite.configuration.DataStorageConfiguration\"&gt;\n      &lt;!-- Enable write throttling.--&gt;\n      &lt;property name=\"writeThrottlingEnabled\" value=\"true\"/&gt;\n      &lt;!-- Set concurrency level --&gt;\n      &lt;property name=\"concurrencyLevel\" value=\"4\"/&gt;\n\n      &lt;property name=\"defaultDataRegionConfiguration\"&gt;\n        &lt;bean class=\"org.apache.ignite.configuration.DataRegionConfiguration\"&gt;\n          &lt;property name=\"persistenceEnabled\" value=\"true\"/&gt;\n          &lt;!-- Increasing the buffer size to 1 GB. --&gt;\n          &lt;property name=\"checkpointPageBufferSize\"\n                    value=\"#{1 * 1024L * 1024 * 1024}\"/&gt;\n          &lt;!-- Setting the size of the default region to 4GB. --&gt;\n           &lt;!-- 1 GB initial size. --&gt;\n          &lt;property name=\"initialSize\" value=\"#{1L * 1024 * 1024 * 1024}\"/&gt;\n          &lt;property name=\"maxSize\" value=\"#{8L * 1024 * 1024 * 1024}\"/&gt;\n\n          &lt;!-- Enabling RANDOM_2_LRU eviction for this region.  --&gt;\n            &lt;property name=\"pageEvictionMode\" value=\"RANDOM_2_LRU\"/&gt;\n        &lt;/bean&gt;\n      &lt;/property&gt;\n      &lt;!-- Size of the WAL (Write Ahead Log) segment --&gt;\n      &lt;property name=\"walSegmentSize\" value=\"#{1 * 1024 * 1024 * 1024}\"/&gt;\n\n      &lt;property name=\"walCompactionEnabled\" value=\"true\" /&gt;\n\n      &lt;property name=\"walCompactionLevel\" value=\"1\" /&gt;\n\n      &lt;!-- Set the page size to 4 KB --&gt;\n      &lt;property name=\"pageSize\" value=\"#{4 * 1024}\"/&gt;\n      &lt;!--\n          Sets a path to the root directory where data and indexes are\n          to be persisted. It's assumed the directory is on a separated SSD.\n      --&gt;\n      &lt;property name=\"storagePath\" value=\"/alidata/soft/ignite/persistence\"/&gt;\n\n      &lt;!--\n          Sets a path to the directory where WAL is stored.\n          It's assumed the directory is on a separated HDD.\n      --&gt;\n      &lt;property name=\"walPath\" value=\"/alidata/soft/ignite/wal\"/&gt;\n\n      &lt;!--\n          Sets a path to the directory where WAL archive is stored.\n          The directory is on the same HDD as the WAL.\n      --&gt;\n      &lt;property name=\"walArchivePath\" value=\"/alidata/soft/ignite/wal/\"/&gt;\n    &lt;/bean&gt;\n  &lt;/property&gt;\n  &lt;property name=\"discoverySpi\"&gt;\n    &lt;bean class=\"org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi\"&gt;\n      &lt;property name=\"failureDetectionTimeout\" value=\"60000\"/&gt;\n      &lt;property name=\"ipFinder\"&gt;\n        &lt;bean class=\"org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder\"&gt;\n          &lt;property name=\"addresses\"&gt;\n            &lt;list&gt;\n              &lt;value&gt;172.16.14.14:47500..47509&lt;/value&gt;\n              &lt;value&gt;172.16.14.15:47500..47509&lt;/value&gt;\n              &lt;value&gt;172.16.14.16:47500..47509&lt;/value&gt;\n              &lt;value&gt;172.16.14.17:47500..47509&lt;/value&gt;\n            &lt;/list&gt;\n          &lt;/property&gt;\n        &lt;/bean&gt;\n      &lt;/property&gt;\n    &lt;/bean&gt;\n  &lt;/property&gt;\n   &lt;/bean&gt;\n</code></pre>\n\n<p>3% picture\n<a href=\"https://i.stack.imgur.com/iVrMD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iVrMD.png\" alt=\"Console output showing the 3% free heap space stat\"></a></p>\n\n<p>Can you give me any suggestions on how to fix this issue?</p>\n"},{"tags":["java","stream","jersey","heap-memory","multipartform-data"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1579149749,"post_id":59760614,"comment_id":105671069,"body_markdown":"The data is already stored in the heap. It isn&#39;t sent to you twice.","body":"The data is already stored in the heap. It isn&#39;t sent to you twice."}],"owner":{"account_id":17538172,"reputation":11,"user_id":12720831,"display_name":"nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639313233,"creation_date":1579128293,"question_id":59760614,"body_markdown":"Using FormaDataParam annotation twice on the different variables in jersey lets me read the content twice. Does it mean the consumer will send me data twice or It&#39;s stored in memory somewhere? I&#39;m trying to read InputStream twice to perform two different I/O operation without storing the data in the heap \r\n\r\n    @POST\r\n    @Path(&quot;/new&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response saveNew(\r\n            @FormDataParam(&quot;metada&quot;) FormDataBodyPart metadata,\r\n            @FormDataParam(&quot;content&quot;) InputStream content,\r\n            @FormDataParam(&quot;content&quot;) FormDataContentDisposition contentDetails,\r\n            @FormDataParam(&quot;content&quot;) InputStream content2) throws IOException {","title":"Read Inputsream twice using Jersey FormDataParam","body":"<p>Using FormaDataParam annotation twice on the different variables in jersey lets me read the content twice. Does it mean the consumer will send me data twice or It's stored in memory somewhere? I'm trying to read InputStream twice to perform two different I/O operation without storing the data in the heap </p>\n\n<pre><code>@POST\n@Path(\"/new\")\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response saveNew(\n        @FormDataParam(\"metada\") FormDataBodyPart metadata,\n        @FormDataParam(\"content\") InputStream content,\n        @FormDataParam(\"content\") FormDataContentDisposition contentDetails,\n        @FormDataParam(\"content\") InputStream content2) throws IOException {\n</code></pre>\n"},{"tags":["java","android","android-studio","geolocation"],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639313232,"creation_date":1639252426,"answer_id":70318525,"question_id":70317557,"body_markdown":"Please correct me if I&#39;m wrong, but it appears that you are getting lat long as a single string for the address. Inside `run()` method for the thread, there are these lines: \r\n\r\n    sb.append(address.getLatitude()).append(&quot;\\n&quot;);\r\n    sb.append(address.getLongitude()).append(&quot;\\n&quot;);\r\n    result = sb.toString();\r\n\r\nAs you can see, you can get latitued and longitude from the address object here directly! There are many ways you can go about this. You can stick the lat and long values into the bundle if you wish. According to [documentation], `getLatitude()` and `getLongitude()` return `double`: \r\n    \r\n    public double getLatitude()\r\n\r\nYou could try putting the values independantly into the bundle, and give them appropriate keys. Or, if you don&#39;t want to mess with the geo code, you could in `onCreate()` method simply do: \r\n\r\n    String address = editText.getText().toString();\r\n    String[] values = address.split(&quot;\\\\n&quot;); //we know that we need to split by \\\\n because we did sb.append(address.getLatitude()).append(&quot;\\n&quot;)\r\n    //N.b: make sure to include \\\\n double backslash!\r\n    String lat = values[0];\r\n    String long = values[1];\r\n\r\nHope this helps! Please let me know if this works :D\r\n\r\nEDIT: I have tried implementing it myself and it seems to work no problem! Here is a screenshot: [![enter image description here][1]][1]\r\n\r\nHere is main activity: \r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.location.Address;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button addressButton;\r\n        TextView addressTV;\r\n        TextView latTV;\r\n        TextView longTV;\r\n        EditText editText;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            addressTV = findViewById(R.id.addressTV);\r\n            latTV = findViewById(R.id.latTV);\r\n            longTV = findViewById(R.id.longTV);\r\n            addressButton = findViewById(R.id.addressButton);\r\n            editText = (EditText) findViewById(R.id.addressET);\r\n    \r\n            addressButton.setOnClickListener(arg0 -&gt; {\r\n                String address = editText.getText().toString();\r\n    \r\n                GeocodingLocation locationAddress = new GeocodingLocation();\r\n                locationAddress.getAddressFromLocation(address,\r\n                        getApplicationContext(), new GeocoderHandler());\r\n            });\r\n        }\r\n    \r\n        private class GeocoderHandler extends Handler {\r\n            @Override\r\n            public void handleMessage(Message message) {\r\n                switch (message.what) {\r\n                    case 1:\r\n                        Bundle bundle = message.getData();\r\n                        Address address = bundle.getParcelable(&quot;address&quot;);\r\n                        latTV.setText(address.getLatitude()+&quot;&quot;);\r\n                        longTV.setText(address.getLongitude()+&quot;&quot;);\r\n                        break;\r\n                    case 2:\r\n                        addressTV.setText(&quot;unable to get address&quot;);\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nNotes: I simplified some things here for you, but its essentially the same. Important point however is that you can stick `Parcable` objects directly into the bundle, and since `Address` objects are `Parcable`, you can put the `Address` object directly into the bundle! \r\n\r\nHere is the geo coding location class: \r\n\r\n    import android.content.Context;\r\n    import android.location.Address;\r\n    import android.location.Geocoder;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n    import android.util.Log;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class GeocodingLocation {\r\n    \r\n        private static final String TAG = &quot;GeocodingLocation&quot;;\r\n    \r\n        public static void getAddressFromLocation(final String locationAddress,\r\n                                                  final Context context, final Handler handler) {\r\n            Thread thread = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    Geocoder geocoder = new Geocoder(context, Locale.getDefault());\r\n                    Message message = Message.obtain();\r\n                    message.setTarget(handler);\r\n    \r\n                    try {\r\n                        List addressList = geocoder.getFromLocationName(locationAddress, 1);\r\n                        if (addressList != null &amp;&amp; addressList.size() &gt; 0) {\r\n                            Address address = (Address) addressList.get(0);\r\n    \r\n                            message.what = 1;\r\n                            Bundle bundle = new Bundle();\r\n                            bundle.putParcelable(&quot;address&quot;, address);\r\n                            message.setData(bundle);\r\n                        }\r\n                    } catch (IOException e) {\r\n                        Log.e(TAG, &quot;IOException&quot;, e);\r\n                        message.what = 2;\r\n                    }\r\n                    message.sendToTarget();\r\n                }\r\n            };\r\n            thread.start();\r\n        }\r\n    }\r\n\r\nNote: here I simplified your code a little bit also. Personally (and I think most people will agree), I like to code in a way that uses least indentations, but is still interpretable. Instead of doing `try catch finally` I just placed the correct pieces of code in `try` and `catch` separately, so there is no longer the need for `finally` clause at all. \r\n\r\nBefore you had a message with address string, and in the catch clause you would put the string &quot;unable to get address for location&quot; into bundle with key &quot;address&quot;:\r\n\r\n    Bundle bundle = new Bundle();\r\n    result = &quot;Address: &quot; + locationAddress +\r\n             &quot;\\n\\nLatitude and Longitude :\\n&quot; + result;\r\n    bundle.putString(&quot;address&quot;, result);\r\n\r\nThe `result` string doesn&#39;t contain an address, but rather an error message, so its probably not a good idea to put it in bundle with &quot;address&quot; key (because its an error message). I did it slightly differently, I set message.what property to `message.what = 2;`, and made that a `case` in the `switch` inside the main activity. \r\n\r\nI hope this helps you further! :D\r\n\r\n[documentation]:https://developer.android.com/reference/android/location/Address#getLatitude()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BL70s.png","title":"How to get latitude and longitude separately in 2 textviews in android studio JAVA?","body":"<p>Please correct me if I'm wrong, but it appears that you are getting lat long as a single string for the address. Inside <code>run()</code> method for the thread, there are these lines:</p>\n<pre><code>sb.append(address.getLatitude()).append(&quot;\\n&quot;);\nsb.append(address.getLongitude()).append(&quot;\\n&quot;);\nresult = sb.toString();\n</code></pre>\n<p>As you can see, you can get latitued and longitude from the address object here directly! There are many ways you can go about this. You can stick the lat and long values into the bundle if you wish. According to <a href=\"https://developer.android.com/reference/android/location/Address#getLatitude()\" rel=\"nofollow noreferrer\">documentation</a>, <code>getLatitude()</code> and <code>getLongitude()</code> return <code>double</code>:</p>\n<pre><code>public double getLatitude()\n</code></pre>\n<p>You could try putting the values independantly into the bundle, and give them appropriate keys. Or, if you don't want to mess with the geo code, you could in <code>onCreate()</code> method simply do:</p>\n<pre><code>String address = editText.getText().toString();\nString[] values = address.split(&quot;\\\\n&quot;); //we know that we need to split by \\\\n because we did sb.append(address.getLatitude()).append(&quot;\\n&quot;)\n//N.b: make sure to include \\\\n double backslash!\nString lat = values[0];\nString long = values[1];\n</code></pre>\n<p>Hope this helps! Please let me know if this works :D</p>\n<p>EDIT: I have tried implementing it myself and it seems to work no problem! Here is a screenshot: <a href=\"https://i.stack.imgur.com/BL70s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BL70s.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is main activity:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.location.Address;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button addressButton;\n    TextView addressTV;\n    TextView latTV;\n    TextView longTV;\n    EditText editText;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        addressTV = findViewById(R.id.addressTV);\n        latTV = findViewById(R.id.latTV);\n        longTV = findViewById(R.id.longTV);\n        addressButton = findViewById(R.id.addressButton);\n        editText = (EditText) findViewById(R.id.addressET);\n\n        addressButton.setOnClickListener(arg0 -&gt; {\n            String address = editText.getText().toString();\n\n            GeocodingLocation locationAddress = new GeocodingLocation();\n            locationAddress.getAddressFromLocation(address,\n                    getApplicationContext(), new GeocoderHandler());\n        });\n    }\n\n    private class GeocoderHandler extends Handler {\n        @Override\n        public void handleMessage(Message message) {\n            switch (message.what) {\n                case 1:\n                    Bundle bundle = message.getData();\n                    Address address = bundle.getParcelable(&quot;address&quot;);\n                    latTV.setText(address.getLatitude()+&quot;&quot;);\n                    longTV.setText(address.getLongitude()+&quot;&quot;);\n                    break;\n                case 2:\n                    addressTV.setText(&quot;unable to get address&quot;);\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>Notes: I simplified some things here for you, but its essentially the same. Important point however is that you can stick <code>Parcable</code> objects directly into the bundle, and since <code>Address</code> objects are <code>Parcable</code>, you can put the <code>Address</code> object directly into the bundle!</p>\n<p>Here is the geo coding location class:</p>\n<pre><code>import android.content.Context;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.util.Log;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class GeocodingLocation {\n\n    private static final String TAG = &quot;GeocodingLocation&quot;;\n\n    public static void getAddressFromLocation(final String locationAddress,\n                                              final Context context, final Handler handler) {\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n                Geocoder geocoder = new Geocoder(context, Locale.getDefault());\n                Message message = Message.obtain();\n                message.setTarget(handler);\n\n                try {\n                    List addressList = geocoder.getFromLocationName(locationAddress, 1);\n                    if (addressList != null &amp;&amp; addressList.size() &gt; 0) {\n                        Address address = (Address) addressList.get(0);\n\n                        message.what = 1;\n                        Bundle bundle = new Bundle();\n                        bundle.putParcelable(&quot;address&quot;, address);\n                        message.setData(bundle);\n                    }\n                } catch (IOException e) {\n                    Log.e(TAG, &quot;IOException&quot;, e);\n                    message.what = 2;\n                }\n                message.sendToTarget();\n            }\n        };\n        thread.start();\n    }\n}\n</code></pre>\n<p>Note: here I simplified your code a little bit also. Personally (and I think most people will agree), I like to code in a way that uses least indentations, but is still interpretable. Instead of doing <code>try catch finally</code> I just placed the correct pieces of code in <code>try</code> and <code>catch</code> separately, so there is no longer the need for <code>finally</code> clause at all.</p>\n<p>Before you had a message with address string, and in the catch clause you would put the string &quot;unable to get address for location&quot; into bundle with key &quot;address&quot;:</p>\n<pre><code>Bundle bundle = new Bundle();\nresult = &quot;Address: &quot; + locationAddress +\n         &quot;\\n\\nLatitude and Longitude :\\n&quot; + result;\nbundle.putString(&quot;address&quot;, result);\n</code></pre>\n<p>The <code>result</code> string doesn't contain an address, but rather an error message, so its probably not a good idea to put it in bundle with &quot;address&quot; key (because its an error message). I did it slightly differently, I set message.what property to <code>message.what = 2;</code>, and made that a <code>case</code> in the <code>switch</code> inside the main activity.</p>\n<p>I hope this helps you further! :D</p>\n"}],"owner":{"account_id":21576434,"reputation":17,"user_id":15908480,"display_name":"Francis Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70318525,"answer_count":1,"score":0,"last_activity_date":1639313232,"creation_date":1639244750,"question_id":70317557,"body_markdown":"from this i&#39;m getting latitude and longitude in a single textview. But I want the latitude to be in 1 textview and longitude in another text view. Please help me on this.\r\n\r\nMy main activity \r\n\r\n````\r\n    package com.shopping.myapplication;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Message;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button addressButton;\r\n    TextView addressTV;\r\n    TextView latLongTV;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        addressTV = (TextView) findViewById(R.id.addressTV);\r\n       \r\n\r\n        addressButton = (Button) findViewById(R.id.addressButton);\r\n\r\n        addressButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View arg0) {\r\n\r\n                EditText editText = (EditText) findViewById(R.id.addressET);\r\n                String address = editText.getText().toString();\r\n\r\n                GeocodingLocation locationAddress = new GeocodingLocation();\r\n                locationAddress.getAddressFromLocation(address,\r\n                        getApplicationContext(), new GeocoderHandler());\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private class GeocoderHandler extends Handler {\r\n        @Override\r\n        public void handleMessage(Message message) {\r\n            String locationAddress;\r\n            switch (message.what) {\r\n                case 1:\r\n                    Bundle bundle = message.getData();\r\n                    locationAddress = bundle.getString(&quot;address&quot;);\r\n                    break;\r\n                default:\r\n                    locationAddress = null;\r\n            }\r\n            latLongTV.setText(locationAddress);\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n````\r\n\r\nmy geocodinglocation class.java\r\n````\r\n    package com.shopping.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Message;\r\nimport android.util.Log;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class GeocodingLocation {\r\n\r\n    private static final String TAG = &quot;GeocodingLocation&quot;;\r\n\r\n    public static void getAddressFromLocation(final String locationAddress,\r\n                                              final Context context, final Handler handler) {\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                Geocoder geocoder = new Geocoder(context, Locale.getDefault());\r\n                String result = null;\r\n\r\n                try {\r\n                    List\r\n                            addressList = geocoder.getFromLocationName(locationAddress, 1);\r\n                    if (addressList != null &amp;&amp; addressList.size() &gt; 0) {\r\n                        Address address = (Address) addressList.get(0);\r\n                        StringBuilder sb = new StringBuilder();\r\n\r\n\r\n\r\n                        sb.append(address.getLatitude()).append(&quot;\\n&quot;);\r\n                        sb.append(address.getLongitude()).append(&quot;\\n&quot;);\r\n                        result = sb.toString();\r\n                    }\r\n                } catch (IOException e) {\r\n                    Log.e(TAG, &quot;Unable to connect to Geocoder&quot;, e);\r\n                } finally {\r\n                    Message message = Message.obtain();\r\n                    message.setTarget(handler);\r\n                    if (result != null) {\r\n                        message.what = 1;\r\n                        Bundle bundle = new Bundle();\r\n                        result = &quot;Address: &quot; + locationAddress +\r\n                                &quot;\\n\\nLatitude and Longitude :\\n&quot; + result;\r\n                        bundle.putString(&quot;address&quot;, result);\r\n                        message.setData(bundle);\r\n                    } else {\r\n                        message.what = 1;\r\n                        Bundle bundle = new Bundle();\r\n                        result = &quot;Address: &quot; + locationAddress +\r\n                                &quot;\\n Unable to get Latitude and Longitude for this address location.&quot;;\r\n                        bundle.putString(&quot;address&quot;, result);\r\n                        message.setData(bundle);\r\n                    }\r\n                    message.sendToTarget();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n}\r\n\r\n\r\n````\r\n\r\n\r\nfrom this i&#39;m getting latitude and longitude in a single textview. But I want the latitude to be in 1 textview and longitude in another text view. Please help me on this.\r\n\r\n\r\n","title":"How to get latitude and longitude separately in 2 textviews in android studio JAVA?","body":"<p>from this i'm getting latitude and longitude in a single textview. But I want the latitude to be in 1 textview and longitude in another text view. Please help me on this.</p>\n<p>My main activity</p>\n<pre><code>    package com.shopping.myapplication;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button addressButton;\n    TextView addressTV;\n    TextView latLongTV;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        addressTV = (TextView) findViewById(R.id.addressTV);\n       \n\n        addressButton = (Button) findViewById(R.id.addressButton);\n\n        addressButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View arg0) {\n\n                EditText editText = (EditText) findViewById(R.id.addressET);\n                String address = editText.getText().toString();\n\n                GeocodingLocation locationAddress = new GeocodingLocation();\n                locationAddress.getAddressFromLocation(address,\n                        getApplicationContext(), new GeocoderHandler());\n            }\n        });\n\n    }\n\n    private class GeocoderHandler extends Handler {\n        @Override\n        public void handleMessage(Message message) {\n            String locationAddress;\n            switch (message.what) {\n                case 1:\n                    Bundle bundle = message.getData();\n                    locationAddress = bundle.getString(&quot;address&quot;);\n                    break;\n                default:\n                    locationAddress = null;\n            }\n            latLongTV.setText(locationAddress);\n        }\n    }\n    }\n\n\n\n\n</code></pre>\n<p>my geocodinglocation class.java</p>\n<pre><code>    package com.shopping.myapplication;\n\nimport android.content.Context;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.util.Log;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class GeocodingLocation {\n\n    private static final String TAG = &quot;GeocodingLocation&quot;;\n\n    public static void getAddressFromLocation(final String locationAddress,\n                                              final Context context, final Handler handler) {\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n                Geocoder geocoder = new Geocoder(context, Locale.getDefault());\n                String result = null;\n\n                try {\n                    List\n                            addressList = geocoder.getFromLocationName(locationAddress, 1);\n                    if (addressList != null &amp;&amp; addressList.size() &gt; 0) {\n                        Address address = (Address) addressList.get(0);\n                        StringBuilder sb = new StringBuilder();\n\n\n\n                        sb.append(address.getLatitude()).append(&quot;\\n&quot;);\n                        sb.append(address.getLongitude()).append(&quot;\\n&quot;);\n                        result = sb.toString();\n                    }\n                } catch (IOException e) {\n                    Log.e(TAG, &quot;Unable to connect to Geocoder&quot;, e);\n                } finally {\n                    Message message = Message.obtain();\n                    message.setTarget(handler);\n                    if (result != null) {\n                        message.what = 1;\n                        Bundle bundle = new Bundle();\n                        result = &quot;Address: &quot; + locationAddress +\n                                &quot;\\n\\nLatitude and Longitude :\\n&quot; + result;\n                        bundle.putString(&quot;address&quot;, result);\n                        message.setData(bundle);\n                    } else {\n                        message.what = 1;\n                        Bundle bundle = new Bundle();\n                        result = &quot;Address: &quot; + locationAddress +\n                                &quot;\\n Unable to get Latitude and Longitude for this address location.&quot;;\n                        bundle.putString(&quot;address&quot;, result);\n                        message.setData(bundle);\n                    }\n                    message.sendToTarget();\n                }\n            }\n        };\n        thread.start();\n    }\n}\n\n\n</code></pre>\n<p>from this i'm getting latitude and longitude in a single textview. But I want the latitude to be in 1 textview and longitude in another text view. Please help me on this.</p>\n"},{"tags":["java","heap-memory","visualvm"],"comments":[{"owner":{"account_id":2307261,"reputation":7757,"user_id":2026293,"display_name":"pczeus"},"score":0,"creation_date":1588269270,"post_id":61529692,"comment_id":108841182,"body_markdown":"Maybe you could provide some screen shots of yoru heap graph that visuamVM is showing you?","body":"Maybe you could provide some screen shots of yoru heap graph that visuamVM is showing you?"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1589361459,"post_id":61529692,"comment_id":109260249,"body_markdown":"The following post gives you some guidance: [How to find a Java Memory Leak](https://stackoverflow.com/questions/40119/) It might even be a duplicate.","body":"The following post gives you some guidance: <a href=\"https://stackoverflow.com/questions/40119/\">How to find a Java Memory Leak</a> It might even be a duplicate."},{"owner":{"account_id":1618403,"reputation":125,"user_id":1495483,"accept_rate":56,"display_name":"Joshua"},"score":0,"creation_date":1593586687,"post_id":61529692,"comment_id":110829320,"body_markdown":"Had you found the reason? I met similar problem. I create NO int[] in my code, but in dump file I still found the int[] used huge memery. And I&#39;m trying to find out the reason now. Thks","body":"Had you found the reason? I met similar problem. I create NO int[] in my code, but in dump file I still found the int[] used huge memery. And I&#39;m trying to find out the reason now. Thks"},{"owner":{"account_id":17667203,"reputation":45,"user_id":13442348,"display_name":"Jonathan Shaw"},"score":0,"creation_date":1593698949,"post_id":61529692,"comment_id":110876328,"body_markdown":"The int[]s that were causing my issue ended up being images. Each one was an array of the image&#39;s pixel colors. I do remember, however having a ton of int[]s that did not have any discernible origin. At least not using VisualVM","body":"The int[]s that were causing my issue ended up being images. Each one was an array of the image&#39;s pixel colors. I do remember, however having a ton of int[]s that did not have any discernible origin. At least not using VisualVM"}],"answers":[{"tags":[],"owner":{"account_id":1108575,"reputation":796,"user_id":1099452,"accept_rate":100,"display_name":"lucasvc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589358969,"creation_date":1588269415,"answer_id":61529784,"question_id":61529692,"body_markdown":"1. With JDK&#39;s tool `jmap`, extract a memory dump with the command,\r\n```\r\njmap -dump:live,format=b,file=dumplive.hprof &lt;PID&gt;\r\n```\r\n2. Import the `hprof` file into the [Eclipse Memory Analyzer (MAT)](https://www.eclipse.org/mat/).\r\n  &gt; **NOTE** Can be installed as a plugin in a Eclipse installation, but I don&#39;t recommend if the dump is too big.\r\n\r\nWith the analyzer you can see all information about memory usage in the moment of capture.\r\n\r\n","title":"What is leaking int arrays in my program?","body":"<ol>\n<li>With JDK's tool <code>jmap</code>, extract a memory dump with the command,</li>\n</ol>\n\n<pre><code>jmap -dump:live,format=b,file=dumplive.hprof &lt;PID&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>Import the <code>hprof</code> file into the <a href=\"https://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer (MAT)</a>.\n\n<blockquote>\n  <p><strong>NOTE</strong> Can be installed as a plugin in a Eclipse installation, but I don't recommend if the dump is too big.</p>\n</blockquote></li>\n</ol>\n\n<p>With the analyzer you can see all information about memory usage in the moment of capture.</p>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589360807,"creation_date":1589360470,"answer_id":61770396,"question_id":61529692,"body_markdown":"In VisualVM you can find the references to objects. This should give you a clue about what part of your program that is leaking those int arrays.\r\n\r\nInstructions:\r\n\r\n1. Let your program run for a long time, so that there are many leaked int array instances on the heap for you to find.\r\n\r\n2. Make a heap dump in VisualVM: *Main menu &gt; Applications &gt; Heap Dump*. A heap dump tab should open.\r\n\r\n3. In the heap dump tab, click the *Summary* field and change it to *Objects*. A list of the types of heap objects should open.\r\n\r\n4. Expand the `int[]` entry to see a list of instances.\r\n\r\n5. Expand one of the instances.\r\n\r\n6. Expand the *references* entry.\r\n\r\nA list of fields with references to that int array instance will open. The information here might give you a clue.\r\n\r\nRepeat step 5-6 for different instances until you find one of the leaked arrays.\r\n\r\nThe following image shows the references to an int array in a heap dump of my Eclipse.\r\n\r\n[![e][1]][1]\r\n\r\nIn this example the int array instance was stored in the `valueTable` field of some internal Eclipse `OffsetTable` class, which in turn was used by a `RegistryObjectManager`. \r\n\r\n  [1]: https://i.stack.imgur.com/iI1tz.png","title":"What is leaking int arrays in my program?","body":"<p>In VisualVM you can find the references to objects. This should give you a clue about what part of your program that is leaking those int arrays.</p>\n\n<p>Instructions:</p>\n\n<ol>\n<li><p>Let your program run for a long time, so that there are many leaked int array instances on the heap for you to find.</p></li>\n<li><p>Make a heap dump in VisualVM: <em>Main menu > Applications > Heap Dump</em>. A heap dump tab should open.</p></li>\n<li><p>In the heap dump tab, click the <em>Summary</em> field and change it to <em>Objects</em>. A list of the types of heap objects should open.</p></li>\n<li><p>Expand the <code>int[]</code> entry to see a list of instances.</p></li>\n<li><p>Expand one of the instances.</p></li>\n<li><p>Expand the <em>references</em> entry.</p></li>\n</ol>\n\n<p>A list of fields with references to that int array instance will open. The information here might give you a clue.</p>\n\n<p>Repeat step 5-6 for different instances until you find one of the leaked arrays.</p>\n\n<p>The following image shows the references to an int array in a heap dump of my Eclipse.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iI1tz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iI1tz.png\" alt=\"e\"></a></p>\n\n<p>In this example the int array instance was stored in the <code>valueTable</code> field of some internal Eclipse <code>OffsetTable</code> class, which in turn was used by a <code>RegistryObjectManager</code>. </p>\n"}],"owner":{"account_id":17667203,"reputation":45,"user_id":13442348,"display_name":"Jonathan Shaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61770396,"answer_count":2,"score":1,"last_activity_date":1639313199,"creation_date":1588269043,"question_id":61529692,"body_markdown":"I have Java program that, over about 16 hours, is slowly filling the heap with integer arrays that the GC is not getting rid of. \r\n\r\nI only have VisualVM available to diagnose the problem, which is how I found that it&#39;s `int[]` that is filling the heap.\r\n\r\nAny ideas how I can find the source of the `int[]` creation?\r\n\r\nI&#39;m new to using the profiler so maybe I missed that function but I&#39;ve used it&#39;s heap dump, snapshot, and profiler to look at this and all it&#39;s telling me is that `int[]` is in high use.","title":"What is leaking int arrays in my program?","body":"<p>I have Java program that, over about 16 hours, is slowly filling the heap with integer arrays that the GC is not getting rid of. </p>\n\n<p>I only have VisualVM available to diagnose the problem, which is how I found that it's <code>int[]</code> that is filling the heap.</p>\n\n<p>Any ideas how I can find the source of the <code>int[]</code> creation?</p>\n\n<p>I'm new to using the profiler so maybe I missed that function but I've used it's heap dump, snapshot, and profiler to look at this and all it's telling me is that <code>int[]</code> is in high use.</p>\n"},{"tags":["java","exception","heap-memory","orientdb","depth"],"comments":[{"owner":{"account_id":2075051,"reputation":2171,"user_id":1848662,"display_name":"pabrantes"},"score":0,"creation_date":1503500794,"post_id":45843297,"comment_id":78644612,"body_markdown":"You have to increase the max heap value of your java process.","body":"You have to increase the max heap value of your java process."},{"owner":{"account_id":11152711,"reputation":353,"user_id":8185401,"accept_rate":41,"display_name":"Muna arr"},"score":0,"creation_date":1503572542,"post_id":45843297,"comment_id":78677570,"body_markdown":"@pabrantes I increased the max value to 10G per 4G for disk still getting GC exeeded","body":"@pabrantes I increased the max value to 10G per 4G for disk still getting GC exeeded"}],"answers":[{"tags":[],"owner":{"account_id":183283,"reputation":8938,"user_id":418563,"display_name":"Lvca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503507225,"creation_date":1503507225,"answer_id":45845398,"question_id":45843297,"body_markdown":"Try using:\r\n\r\n    TRAVERSE out(&quot;Re&quot;) FROM #21:39161 MAXDEPTH 3 STRATEGY BREADTH_FIRST\r\n\r\nMAXDEPTH is more efficient in terms of RAM and speed. If doesn&#39;t work, reduce the DISKCACHE and put the cut into the heap. So:\r\n\r\n\r\n    set MAXHEAP=-Xmx10G \r\n    set MAXDISKCACHE=4GB \r\n","title":"Gettig OrientDB Java heap","body":"<p>Try using:</p>\n\n<pre><code>TRAVERSE out(\"Re\") FROM #21:39161 MAXDEPTH 3 STRATEGY BREADTH_FIRST\n</code></pre>\n\n<p>MAXDEPTH is more efficient in terms of RAM and speed. If doesn't work, reduce the DISKCACHE and put the cut into the heap. So:</p>\n\n<pre><code>set MAXHEAP=-Xmx10G \nset MAXDISKCACHE=4GB \n</code></pre>\n"}],"owner":{"account_id":11152711,"reputation":353,"user_id":8185401,"accept_rate":41,"display_name":"Muna arr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639313179,"creation_date":1503500566,"question_id":45843297,"body_markdown":"I&#39;m running this query to traverse a graph\r\n\r\n**Query :**\r\n\r\n    TRAVERSE out(&quot;Re&quot;) FROM #21:39161 WHILE $depth &lt;= 3 \r\n              STRATEGY BREADTH_FIRST\r\n\r\n\r\n**My dataset is 11M edges and 20000 nodes** .\r\n\r\nI&#39;m getting this java exception \r\n\r\n \r\n\r\n       \r\n     [OServer]java.lang.OutOfMemoryError: Java heap space\r\n    Dumping heap to java_pid3920.hprof ...\r\n    Heap dump file created [911684234 bytes in 26,730 secs]\r\n\r\nI&#39;m using this configuration\r\n\r\n    rem ORIENTDB MAXIMUM HEAP. USE SYNTAX -Xmx&lt;memory&gt;, WHERE &lt;memory&gt; HAS THE TOTAL MEMORY AND SIZE UNIT. EXAMPLE: -Xmx512m\r\n    set MAXHEAP=-Xmx6G \r\n    rem ORIENTDB MAXIMUM DISKCACHE IN MB, EXAMPLE: &quot;-Dstorage.diskCache.bufferSize=8192&quot; FOR 8GB of DISKCACHE\r\n    set MAXDISKCACHE=8GB \r\n\r\n\r\nHow Can i fix this?\r\n\r\n\r\n","title":"Gettig OrientDB Java heap","body":"<p>I'm running this query to traverse a graph</p>\n\n<p><strong>Query :</strong></p>\n\n<pre><code>TRAVERSE out(\"Re\") FROM #21:39161 WHILE $depth &lt;= 3 \n          STRATEGY BREADTH_FIRST\n</code></pre>\n\n<p><strong>My dataset is 11M edges and 20000 nodes</strong> .</p>\n\n<p>I'm getting this java exception </p>\n\n<pre><code> [OServer]java.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid3920.hprof ...\nHeap dump file created [911684234 bytes in 26,730 secs]\n</code></pre>\n\n<p>I'm using this configuration</p>\n\n<pre><code>rem ORIENTDB MAXIMUM HEAP. USE SYNTAX -Xmx&lt;memory&gt;, WHERE &lt;memory&gt; HAS THE TOTAL MEMORY AND SIZE UNIT. EXAMPLE: -Xmx512m\nset MAXHEAP=-Xmx6G \nrem ORIENTDB MAXIMUM DISKCACHE IN MB, EXAMPLE: \"-Dstorage.diskCache.bufferSize=8192\" FOR 8GB of DISKCACHE\nset MAXDISKCACHE=8GB \n</code></pre>\n\n<p>How Can i fix this?</p>\n"},{"tags":["java","xml","heap-memory","jdom-2"],"answers":[{"tags":[],"owner":{"account_id":11214662,"reputation":229,"user_id":8227693,"display_name":"Henry Martens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503586576,"creation_date":1503586189,"answer_id":45864708,"question_id":45864493,"body_markdown":"DOM reads the full xml document and load it into your RAM. If you have problems with the size of your RAM you should thinking about to use another xml parsing library like [SAX](https://docs.oracle.com/javase/tutorial/jaxp/sax/parsing.html) or [StAX](https://docs.oracle.com/javase/tutorial/jaxp/stax/using.html).\r\n\r\nTo use one of these will also speed up your code because you can read selectively from your xml file.\r\nFor further information about the difference have a look at this question: [https://stackoverflow.com/questions/21019509/java-parsing-xml-files-dom-sax-or-stax](https://stackoverflow.com/questions/21019509/java-parsing-xml-files-dom-sax-or-stax)\r\n\r\nThis [tutorial](https://www.javacodegeeks.com/2013/05/parsing-xml-using-dom-sax-and-stax-parser-in-java.html) explains the usage of all those.","title":"Heap space getting children with JDOM2","body":"<p>DOM reads the full xml document and load it into your RAM. If you have problems with the size of your RAM you should thinking about to use another xml parsing library like <a href=\"https://docs.oracle.com/javase/tutorial/jaxp/sax/parsing.html\" rel=\"nofollow noreferrer\">SAX</a> or <a href=\"https://docs.oracle.com/javase/tutorial/jaxp/stax/using.html\" rel=\"nofollow noreferrer\">StAX</a>.</p>\n\n<p>To use one of these will also speed up your code because you can read selectively from your xml file.\nFor further information about the difference have a look at this question: <a href=\"https://stackoverflow.com/questions/21019509/java-parsing-xml-files-dom-sax-or-stax\">Java: Parsing XML files: DOM, SAX or StAX?</a></p>\n\n<p>This <a href=\"https://www.javacodegeeks.com/2013/05/parsing-xml-using-dom-sax-and-stax-parser-in-java.html\" rel=\"nofollow noreferrer\">tutorial</a> explains the usage of all those.</p>\n"},{"tags":[],"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503586892,"creation_date":1503586892,"answer_id":45864954,"question_id":45864493,"body_markdown":"Java will consume as much memory as you allow it to on the Java commandline. Adding memory to the VM only will not allow Java to use that memory.\r\n\r\nYou need to use the Java Commandline&#39;s `-Xmx` flags to add more memory. Consider adding `-Xmx512m` to allow Java to use 512MB of memory (which should be more than enough to contain the 128MB XML (which typically takes at least 256MB of character space, plus some more for overheads).\r\n\r\nSee the [Java `java` commandline help](http://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABHDABI).","title":"Heap space getting children with JDOM2","body":"<p>Java will consume as much memory as you allow it to on the Java commandline. Adding memory to the VM only will not allow Java to use that memory.</p>\n\n<p>You need to use the Java Commandline's <code>-Xmx</code> flags to add more memory. Consider adding <code>-Xmx512m</code> to allow Java to use 512MB of memory (which should be more than enough to contain the 128MB XML (which typically takes at least 256MB of character space, plus some more for overheads).</p>\n\n<p>See the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABHDABI\" rel=\"nofollow noreferrer\">Java <code>java</code> commandline help</a>.</p>\n"}],"owner":{"account_id":11007548,"reputation":39,"user_id":8086056,"display_name":"Jaume"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1639313159,"creation_date":1503585552,"question_id":45864493,"body_markdown":"I&#39;m trying to read an XML using JDOM2, \r\nI was testing on my computer and it worked without problem. \r\nThe problem has started when I tried to use this program on a Windows Server 2012 because is giving an error &quot;Heap space&quot; when it tries to get the children from the Document. \r\nI tried to add more memory to the virtual machine on Windows Server but it didn&#39;t work. \r\n\r\nI tried to use the option &quot;SlimJDOMFactory&quot; without success. \r\n\r\nThe size of the document is almost 150MB, and there is a total of 20.000 elements more or less. \r\n\r\nWhat Can I do ? \r\n\r\nHere is a part of my code. \r\n\r\n\r\n\r\n    List&lt;prescription&gt; medicamentos = new ArrayList&lt;prescription&gt;();\r\n    SAXBuilder builder = new SAXBuilder();\r\n    builder.setJDOMFactory(new SlimJDOMFactory()); \r\n    File prescriptionFile = new File(&quot;Download&quot; + File.separator + &quot;Prescripcion.xml&quot;);\r\n    try {\r\n       Document document = (Document) builder.build(prescriptionFile);\r\n       Element rootNode = document.getRootElement();\r\n       List&lt;Element&gt; list = rootNode.getChildren();    \r\n\r\n       .........\r\n\r\n    } catch(Exception a) {\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Heap space getting children with JDOM2","body":"<p>I'm trying to read an XML using JDOM2, \nI was testing on my computer and it worked without problem. \nThe problem has started when I tried to use this program on a Windows Server 2012 because is giving an error \"Heap space\" when it tries to get the children from the Document. \nI tried to add more memory to the virtual machine on Windows Server but it didn't work. </p>\n\n<p>I tried to use the option \"SlimJDOMFactory\" without success. </p>\n\n<p>The size of the document is almost 150MB, and there is a total of 20.000 elements more or less. </p>\n\n<p>What Can I do ? </p>\n\n<p>Here is a part of my code. </p>\n\n<pre><code>List&lt;prescription&gt; medicamentos = new ArrayList&lt;prescription&gt;();\nSAXBuilder builder = new SAXBuilder();\nbuilder.setJDOMFactory(new SlimJDOMFactory()); \nFile prescriptionFile = new File(\"Download\" + File.separator + \"Prescripcion.xml\");\ntry {\n   Document document = (Document) builder.build(prescriptionFile);\n   Element rootNode = document.getRootElement();\n   List&lt;Element&gt; list = rootNode.getChildren();    \n\n   .........\n\n} catch(Exception a) {\n}\n</code></pre>\n"},{"tags":["java","heap-memory","yourkit"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1504105539,"post_id":45963846,"comment_id":78886564,"body_markdown":"What is the problem you&#39;re trying to debug? What are the symptoms?","body":"What is the problem you&#39;re trying to debug? What are the symptoms?"},{"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1504105573,"post_id":45963846,"comment_id":78886586,"body_markdown":"@biziclop GC time is about 10% of the whole application running time...","body":"@biziclop GC time is about 10% of the whole application running time..."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1504105672,"post_id":45963846,"comment_id":78886662,"body_markdown":"So what you need to tune is not your garbage collection but the number of objects that you are creating and get discarded.","body":"So what you need to tune is not your garbage collection but the number of objects that you are creating and get discarded."},{"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1504105721,"post_id":45963846,"comment_id":78886700,"body_markdown":"@RealSkeptic The issue is that is a spark application. I don&#39;t kind of control all this objects","body":"@RealSkeptic The issue is that is a spark application. I don&#39;t kind of control all this objects"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1504105755,"post_id":45963846,"comment_id":78886734,"body_markdown":"Okay, in that case you need to look at how that time is distributed: do you have a few massive GC rounds or many tiny ones all the time? (From the data I suspect it&#39;s the former.) Ideally you also need to identify what objects make up the unreachable part of the heap. And yeah, ideally you should just not allocate that many objects.","body":"Okay, in that case you need to look at how that time is distributed: do you have a few massive GC rounds or many tiny ones all the time? (From the data I suspect it&#39;s the former.) Ideally you also need to identify what objects make up the unreachable part of the heap. And yeah, ideally you should just not allocate that many objects."},{"owner":{"account_id":2075051,"reputation":2171,"user_id":1848662,"display_name":"pabrantes"},"score":0,"creation_date":1504106254,"post_id":45963846,"comment_id":78887092,"body_markdown":"Just adding to @biziclop suggestion, if you&#39;re using oracle&#39;s JVM, you can add the following options to your VM `-verbosegc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -Xloggc:&lt;FOLDER_YOU_WANT&gt;/gc.log` to have a pretty verbose gc log. To analyse it, in my opinion, I found [gceasy.io](http://gceasy.io/) to be pretty helpful","body":"Just adding to @biziclop suggestion, if you&#39;re using oracle&#39;s JVM, you can add the following options to your VM <code>-verbosegc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -Xloggc:&lt;FOLDER_YOU_WANT&gt;&#47;gc.log</code> to have a pretty verbose gc log. To analyse it, in my opinion, I found <a href=\"http://gceasy.io/\" rel=\"nofollow noreferrer\">gceasy.io</a> to be pretty helpful"},{"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1504106349,"post_id":45963846,"comment_id":78887162,"body_markdown":"@pabrantes Is it true that unreachable objects are ones that can be garbage collected?","body":"@pabrantes Is it true that unreachable objects are ones that can be garbage collected?"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1504106500,"post_id":45963846,"comment_id":78887266,"body_markdown":"@St.Antario Yes, unreachable objects (objects with no hard/strong references) are collected when GC runs.","body":"@St.Antario Yes, unreachable objects (objects with no hard/strong references) are collected when GC runs."},{"owner":{"account_id":2075051,"reputation":2171,"user_id":1848662,"display_name":"pabrantes"},"score":0,"creation_date":1504106533,"post_id":45963846,"comment_id":78887289,"body_markdown":"@St.Antario yes. In Java terminology an object is said to be unreachable when there are no reachable path to it using only strong references from a GC Root. This means it&#39;s eligible to be garbage collected.","body":"@St.Antario yes. In Java terminology an object is said to be unreachable when there are no reachable path to it using only strong references from a GC Root. This means it&#39;s eligible to be garbage collected."},{"owner":{"account_id":2075051,"reputation":2171,"user_id":1848662,"display_name":"pabrantes"},"score":0,"creation_date":1504106833,"post_id":45963846,"comment_id":78887491,"body_markdown":"@St.Antario you should also check this [yourkit memory analysis documentation](https://www.yourkit.com/docs/java/help/inspections_mem.jsp) where they show how to explore your heap. It will help you out finding which objects are unreachable, maybe it will give you a few more points on where to look.","body":"@St.Antario you should also check this <a href=\"https://www.yourkit.com/docs/java/help/inspections_mem.jsp\" rel=\"nofollow noreferrer\">yourkit memory analysis documentation</a> where they show how to explore your heap. It will help you out finding which objects are unreachable, maybe it will give you a few more points on where to look."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1504106942,"post_id":45963846,"comment_id":78887574,"body_markdown":"You aren&#39;t exposing enough details for anyone to even make proper assumpsions. If you can use JMC, I highly recommend using it, as you can easily view where the allocations are coming from (VisualVM also allows this, but it seems to be bugged). Show us the heap dump so we can see what types of objects are being allocated. Show us your side of the code that&#39;s involved.","body":"You aren&#39;t exposing enough details for anyone to even make proper assumpsions. If you can use JMC, I highly recommend using it, as you can easily view where the allocations are coming from (VisualVM also allows this, but it seems to be bugged). Show us the heap dump so we can see what types of objects are being allocated. Show us your side of the code that&#39;s involved."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1504106960,"post_id":45963846,"comment_id":78887589,"body_markdown":"One thing that you definitely need to check is if you&#39;ve got objects that have `finalize()` methods. Overuse of `finalize()` can cause exactly the kind of symptoms you&#39;re describing.","body":"One thing that you definitely need to check is if you&#39;ve got objects that have <code>finalize()</code> methods. Overuse of <code>finalize()</code> can cause exactly the kind of symptoms you&#39;re describing."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1504112635,"post_id":45963846,"comment_id":78891005,"body_markdown":"@bizclop VisualVM &amp; Yourkit gives that notice when objects are ready to be finalized, whether you create a custom implementation of `finalize` or not. His notification suggests `finalize` is definitely not the issue. Albeit it was suggested &quot;*tuning the GC is not right solution*&quot;, that statement was made without any real basis - tuning the GC may be what is required. We can&#39;t really determine until OP releases the heap dump and allocations.","body":"@bizclop VisualVM &amp; Yourkit gives that notice when objects are ready to be finalized, whether you create a custom implementation of <code>finalize</code> or not. His notification suggests <code>finalize</code> is definitely not the issue. Albeit it was suggested &quot;<i>tuning the GC is not right solution</i>&quot;, that statement was made without any real basis - tuning the GC may be what is required. We can&#39;t really determine until OP releases the heap dump and allocations."},{"owner":{"account_id":2075051,"reputation":2171,"user_id":1848662,"display_name":"pabrantes"},"score":0,"creation_date":1504167270,"post_id":45963846,"comment_id":78911597,"body_markdown":"I ran your gc log through [gceasy](http://gceasy.io) and noticed that it reports 77.94gb of created bytes total, with an average creation of 1.69gb/s, that&#39;s way too much. I would say that the best bet would be to check the creation of temporary objects.","body":"I ran your gc log through <a href=\"http://gceasy.io\" rel=\"nofollow noreferrer\">gceasy</a> and noticed that it reports 77.94gb of created bytes total, with an average creation of 1.69gb/s, that&#39;s way too much. I would say that the best bet would be to check the creation of temporary objects."}],"answers":[{"tags":[],"owner":{"account_id":1738115,"reputation":717,"user_id":1590214,"display_name":"Vladimir Kondratyev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504166457,"creation_date":1504166457,"answer_id":45976259,"question_id":45963846,"body_markdown":"Your application creates a lot of temporary objects. That is why GC takes so much time. Please take a look at article &quot;Excessive garbage allocation&quot; https://www.yourkit.com/docs/java/help/excessive_gc.jsp You will be able to find places that create temporary objects.","title":"Why does my heap consist mostly of unreachable objects?","body":"<p>Your application creates a lot of temporary objects. That is why GC takes so much time. Please take a look at article \"Excessive garbage allocation\" <a href=\"https://www.yourkit.com/docs/java/help/excessive_gc.jsp\" rel=\"nofollow noreferrer\">https://www.yourkit.com/docs/java/help/excessive_gc.jsp</a> You will be able to find places that create temporary objects.</p>\n"}],"owner":{"account_id":3313246,"reputation":26479,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1639313145,"creation_date":1504105397,"question_id":45963846,"body_markdown":"I just looked at my heap dump in YourKit profiler and saw the following reachable/unreachable statistics.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m not quite sure about this. Does it mean that almost all my heap consists of some garbage data and I need to strongly tune my G1. Or this is usual statistic?\r\n\r\n***Problem***: GC time is about 10% of the application running time.\r\n\r\nIs my understanding correct about that unreachable objects are ones which can be Garbage Collected or YourKit meant something different about it? Here is the piece of GC log (Using CMS):\r\n\r\n    2.823: [GC (Metadata GC Threshold) [PSYoungGen: 420257K-&gt;52400K(564736K)] 420257K-&gt;52488K(1854976K), 0.0607756 secs] [Times: user=0.18 sys=0.01, real=0.06 secs] \r\n    2.884: [Full GC (Metadata GC Threshold) [PSYoungGen: 52400K-&gt;0K(564736K)] [ParOldGen: 88K-&gt;51480K(903680K)] 52488K-&gt;51480K(1468416K), [Metaspace: 20809K-&gt;20809K(1067008K)], 0.1990115 secs] [Times: user=0.59 sys=0.01, real=0.20 secs] \r\n    5.760: [GC (Metadata GC Threshold) [PSYoungGen: 287353K-&gt;65545K(664576K)] 338833K-&gt;117033K(1568256K), 0.0571198 secs] [Times: user=0.13 sys=0.02, real=0.06 secs] \r\n    5.818: [Full GC (Metadata GC Threshold) [PSYoungGen: 65545K-&gt;0K(664576K)] [ParOldGen: 51488K-&gt;103745K(1605120K)] 117033K-&gt;103745K(2269696K), [Metaspace: 34820K-&gt;34772K(1079296K)], 0.1841317 secs] [Times: user=0.51 sys=0.02, real=0.18 secs] \r\n    9.099: [GC (Allocation Failure) [PSYoungGen: 598528K-&gt;61614K(796672K)] 702273K-&gt;165367K(2401792K), 0.0557993 secs] [Times: user=0.23 sys=0.03, real=0.06 secs] \r\n    9.965: [GC (Allocation Failure) [PSYoungGen: 796334K-&gt;33251K(969216K)] 900087K-&gt;173388K(2574336K), 0.0492724 secs] [Times: user=0.22 sys=0.04, real=0.05 secs] \r\n    11.085: [GC (Allocation Failure) [PSYoungGen: 969187K-&gt;49292K(1016320K)] 1109324K-&gt;189430K(2621440K), 0.0904503 secs] [Times: user=0.40 sys=0.00, real=0.09 secs] \r\n    11.855: [GC (Allocation Failure) [PSYoungGen: 985228K-&gt;64233K(1375232K)] 1125366K-&gt;204379K(2980352K), 0.1003579 secs] [Times: user=0.38 sys=0.06, real=0.10 secs] \r\n    12.625: [GC (Allocation Failure) [PSYoungGen: 1363689K-&gt;75774K(1375232K)] 1503835K-&gt;227247K(2980352K), 0.0790738 secs] [Times: user=0.37 sys=0.16, real=0.08 secs] \r\n    13.341: [GC (Allocation Failure) [PSYoungGen: 1375230K-&gt;87028K(2066944K)] 1526703K-&gt;249534K(3672064K), 0.1147762 secs] [Times: user=0.55 sys=0.09, real=0.12 secs] \r\n    14.375: [GC (Allocation Failure) [PSYoungGen: 2066932K-&gt;98795K(2078720K)] 2229438K-&gt;284557K(3683840K), 0.1174134 secs] [Times: user=0.57 sys=0.18, real=0.12 secs] \r\n    15.465: [GC (Allocation Failure) [PSYoungGen: 2078699K-&gt;117243K(2798080K)] 2264461K-&gt;317809K(4403200K), 0.1130871 secs] [Times: user=0.76 sys=0.19, real=0.11 secs] \r\n    16.769: [GC (Allocation Failure) [PSYoungGen: 2798075K-&gt;134647K(2815488K)] 2998641K-&gt;363601K(4420608K), 0.1855432 secs] [Times: user=1.05 sys=0.29, real=0.19 secs] \r\n    18.117: [GC (Allocation Failure) [PSYoungGen: 2815479K-&gt;133511K(3842560K)] 3044433K-&gt;411609K(5447680K), 0.2329040 secs] [Times: user=0.81 sys=0.13, real=0.23 secs] \r\n    19.965: [GC (Allocation Failure) [PSYoungGen: 3816327K-&gt;117907K(3852288K)] 4094425K-&gt;476525K(5457408K), 0.1902845 secs] [Times: user=1.06 sys=0.33, real=0.19 secs] \r\n    21.745: [GC (Allocation Failure) [PSYoungGen: 3800723K-&gt;70957K(4020224K)] 4159341K-&gt;541079K(5625344K), 0.1766376 secs] [Times: user=1.02 sys=0.33, real=0.17 secs] \r\n    23.425: [GC (Allocation Failure) [PSYoungGen: 3924781K-&gt;73249K(4021760K)] 4394903K-&gt;607715K(5626880K), 0.1285575 secs] [Times: user=0.70 sys=0.18, real=0.13 secs] \r\n    25.186: [GC (Allocation Failure) [PSYoungGen: 3927073K-&gt;73147K(4021248K)] 4461539K-&gt;674821K(5626368K), 0.1243413 secs] [Times: user=0.69 sys=0.21, real=0.12 secs] \r\n    26.906: [GC (Allocation Failure) [PSYoungGen: 3936187K-&gt;72831K(4022272K)] 4537861K-&gt;741865K(5627392K), 0.1476289 secs] [Times: user=0.85 sys=0.29, real=0.15 secs] \r\n    28.644: [GC (Allocation Failure) [PSYoungGen: 3935871K-&gt;74110K(4028928K)] 4604905K-&gt;811056K(5634048K), 0.1401820 secs] [Times: user=0.58 sys=0.38, real=0.14 secs] \r\n    30.420: [GC (Allocation Failure) [PSYoungGen: 3954046K-&gt;74890K(4030464K)] 4690992K-&gt;880140K(5635584K), 0.1217263 secs] [Times: user=1.02 sys=0.14, real=0.12 secs] \r\n    32.119: [GC (Allocation Failure) [PSYoungGen: 3954826K-&gt;74036K(4038656K)] 4760076K-&gt;947726K(5643776K), 0.1349601 secs] [Times: user=0.79 sys=0.17, real=0.14 secs] \r\n    33.844: [GC (Allocation Failure) [PSYoungGen: 3971892K-&gt;74611K(4039680K)] 4845582K-&gt;1016221K(5644800K), 0.1579372 secs] [Times: user=1.31 sys=0.18, real=0.16 secs] \r\n    35.604: [GC (Allocation Failure) [PSYoungGen: 3972467K-&gt;73896K(4047360K)] 4914077K-&gt;1084130K(5652480K), 0.1553432 secs] [Times: user=0.89 sys=0.09, real=0.16 secs] \r\n    37.416: [GC (GCLocker Initiated GC) [PSYoungGen: 3988648K-&gt;73759K(4048384K)] 4998892K-&gt;1152107K(5653504K), 0.1948397 secs] [Times: user=0.94 sys=0.18, real=0.19 secs] \r\n    39.315: [GC (Allocation Failure) [PSYoungGen: 3988511K-&gt;74582K(4056064K)] 5066932K-&gt;1221883K(5661184K), 0.1410819 secs] [Times: user=0.83 sys=0.34, real=0.14 secs] \r\n    41.105: [GC (Allocation Failure) [PSYoungGen: 4005206K-&gt;76174K(4057088K)] 5152507K-&gt;1292051K(5662208K), 0.1966487 secs] [Times: user=0.96 sys=0.23, real=0.19 secs] \r\n    42.866: [GC (Allocation Failure) [PSYoungGen: 4006798K-&gt;75063K(4064768K)] 5222675K-&gt;1361707K(5669888K), 0.1755286 secs] [Times: user=0.77 sys=0.13, real=0.17 secs] \r\n    44.841: [GC (Allocation Failure) [PSYoungGen: 4020535K-&gt;76560K(4064768K)] 5307179K-&gt;1432324K(5669888K), 0.1492622 secs] [Times: user=0.93 sys=0.23, real=0.15 secs] \r\n    46.652: [GC (Allocation Failure) [PSYoungGen: 4022032K-&gt;76593K(4071936K)] 5377796K-&gt;1503428K(5677056K), 0.1457041 secs] [Times: user=0.92 sys=0.07, real=0.15 secs] \r\n    48.803: [GC (Allocation Failure) [PSYoungGen: 4035377K-&gt;72513K(4071424K)] 5462212K-&gt;1570356K(5676544K), 0.1883641 secs] [Times: user=1.09 sys=0.18, real=0.19 secs] \r\n    48.992: [Full GC (Ergonomics) [PSYoungGen: 72513K-&gt;0K(4071424K)] [ParOldGen: 1497843K-&gt;1521336K(3507200K)] 1570356K-&gt;1521336K(7578624K), [Metaspace: 41385K-&gt;41378K(1085440K)], 2.5937473 secs] [Times: user=23.36 sys=0.04, real=2.60 secs] \r\n\r\n  [1]: https://i.stack.imgur.com/HpsPx.png\r\n","title":"Why does my heap consist mostly of unreachable objects?","body":"<p>I just looked at my heap dump in YourKit profiler and saw the following reachable/unreachable statistics.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HpsPx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpsPx.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm not quite sure about this. Does it mean that almost all my heap consists of some garbage data and I need to strongly tune my G1. Or this is usual statistic?</p>\n\n<p><strong><em>Problem</em></strong>: GC time is about 10% of the application running time.</p>\n\n<p>Is my understanding correct about that unreachable objects are ones which can be Garbage Collected or YourKit meant something different about it? Here is the piece of GC log (Using CMS):</p>\n\n<pre><code>2.823: [GC (Metadata GC Threshold) [PSYoungGen: 420257K-&gt;52400K(564736K)] 420257K-&gt;52488K(1854976K), 0.0607756 secs] [Times: user=0.18 sys=0.01, real=0.06 secs] \n2.884: [Full GC (Metadata GC Threshold) [PSYoungGen: 52400K-&gt;0K(564736K)] [ParOldGen: 88K-&gt;51480K(903680K)] 52488K-&gt;51480K(1468416K), [Metaspace: 20809K-&gt;20809K(1067008K)], 0.1990115 secs] [Times: user=0.59 sys=0.01, real=0.20 secs] \n5.760: [GC (Metadata GC Threshold) [PSYoungGen: 287353K-&gt;65545K(664576K)] 338833K-&gt;117033K(1568256K), 0.0571198 secs] [Times: user=0.13 sys=0.02, real=0.06 secs] \n5.818: [Full GC (Metadata GC Threshold) [PSYoungGen: 65545K-&gt;0K(664576K)] [ParOldGen: 51488K-&gt;103745K(1605120K)] 117033K-&gt;103745K(2269696K), [Metaspace: 34820K-&gt;34772K(1079296K)], 0.1841317 secs] [Times: user=0.51 sys=0.02, real=0.18 secs] \n9.099: [GC (Allocation Failure) [PSYoungGen: 598528K-&gt;61614K(796672K)] 702273K-&gt;165367K(2401792K), 0.0557993 secs] [Times: user=0.23 sys=0.03, real=0.06 secs] \n9.965: [GC (Allocation Failure) [PSYoungGen: 796334K-&gt;33251K(969216K)] 900087K-&gt;173388K(2574336K), 0.0492724 secs] [Times: user=0.22 sys=0.04, real=0.05 secs] \n11.085: [GC (Allocation Failure) [PSYoungGen: 969187K-&gt;49292K(1016320K)] 1109324K-&gt;189430K(2621440K), 0.0904503 secs] [Times: user=0.40 sys=0.00, real=0.09 secs] \n11.855: [GC (Allocation Failure) [PSYoungGen: 985228K-&gt;64233K(1375232K)] 1125366K-&gt;204379K(2980352K), 0.1003579 secs] [Times: user=0.38 sys=0.06, real=0.10 secs] \n12.625: [GC (Allocation Failure) [PSYoungGen: 1363689K-&gt;75774K(1375232K)] 1503835K-&gt;227247K(2980352K), 0.0790738 secs] [Times: user=0.37 sys=0.16, real=0.08 secs] \n13.341: [GC (Allocation Failure) [PSYoungGen: 1375230K-&gt;87028K(2066944K)] 1526703K-&gt;249534K(3672064K), 0.1147762 secs] [Times: user=0.55 sys=0.09, real=0.12 secs] \n14.375: [GC (Allocation Failure) [PSYoungGen: 2066932K-&gt;98795K(2078720K)] 2229438K-&gt;284557K(3683840K), 0.1174134 secs] [Times: user=0.57 sys=0.18, real=0.12 secs] \n15.465: [GC (Allocation Failure) [PSYoungGen: 2078699K-&gt;117243K(2798080K)] 2264461K-&gt;317809K(4403200K), 0.1130871 secs] [Times: user=0.76 sys=0.19, real=0.11 secs] \n16.769: [GC (Allocation Failure) [PSYoungGen: 2798075K-&gt;134647K(2815488K)] 2998641K-&gt;363601K(4420608K), 0.1855432 secs] [Times: user=1.05 sys=0.29, real=0.19 secs] \n18.117: [GC (Allocation Failure) [PSYoungGen: 2815479K-&gt;133511K(3842560K)] 3044433K-&gt;411609K(5447680K), 0.2329040 secs] [Times: user=0.81 sys=0.13, real=0.23 secs] \n19.965: [GC (Allocation Failure) [PSYoungGen: 3816327K-&gt;117907K(3852288K)] 4094425K-&gt;476525K(5457408K), 0.1902845 secs] [Times: user=1.06 sys=0.33, real=0.19 secs] \n21.745: [GC (Allocation Failure) [PSYoungGen: 3800723K-&gt;70957K(4020224K)] 4159341K-&gt;541079K(5625344K), 0.1766376 secs] [Times: user=1.02 sys=0.33, real=0.17 secs] \n23.425: [GC (Allocation Failure) [PSYoungGen: 3924781K-&gt;73249K(4021760K)] 4394903K-&gt;607715K(5626880K), 0.1285575 secs] [Times: user=0.70 sys=0.18, real=0.13 secs] \n25.186: [GC (Allocation Failure) [PSYoungGen: 3927073K-&gt;73147K(4021248K)] 4461539K-&gt;674821K(5626368K), 0.1243413 secs] [Times: user=0.69 sys=0.21, real=0.12 secs] \n26.906: [GC (Allocation Failure) [PSYoungGen: 3936187K-&gt;72831K(4022272K)] 4537861K-&gt;741865K(5627392K), 0.1476289 secs] [Times: user=0.85 sys=0.29, real=0.15 secs] \n28.644: [GC (Allocation Failure) [PSYoungGen: 3935871K-&gt;74110K(4028928K)] 4604905K-&gt;811056K(5634048K), 0.1401820 secs] [Times: user=0.58 sys=0.38, real=0.14 secs] \n30.420: [GC (Allocation Failure) [PSYoungGen: 3954046K-&gt;74890K(4030464K)] 4690992K-&gt;880140K(5635584K), 0.1217263 secs] [Times: user=1.02 sys=0.14, real=0.12 secs] \n32.119: [GC (Allocation Failure) [PSYoungGen: 3954826K-&gt;74036K(4038656K)] 4760076K-&gt;947726K(5643776K), 0.1349601 secs] [Times: user=0.79 sys=0.17, real=0.14 secs] \n33.844: [GC (Allocation Failure) [PSYoungGen: 3971892K-&gt;74611K(4039680K)] 4845582K-&gt;1016221K(5644800K), 0.1579372 secs] [Times: user=1.31 sys=0.18, real=0.16 secs] \n35.604: [GC (Allocation Failure) [PSYoungGen: 3972467K-&gt;73896K(4047360K)] 4914077K-&gt;1084130K(5652480K), 0.1553432 secs] [Times: user=0.89 sys=0.09, real=0.16 secs] \n37.416: [GC (GCLocker Initiated GC) [PSYoungGen: 3988648K-&gt;73759K(4048384K)] 4998892K-&gt;1152107K(5653504K), 0.1948397 secs] [Times: user=0.94 sys=0.18, real=0.19 secs] \n39.315: [GC (Allocation Failure) [PSYoungGen: 3988511K-&gt;74582K(4056064K)] 5066932K-&gt;1221883K(5661184K), 0.1410819 secs] [Times: user=0.83 sys=0.34, real=0.14 secs] \n41.105: [GC (Allocation Failure) [PSYoungGen: 4005206K-&gt;76174K(4057088K)] 5152507K-&gt;1292051K(5662208K), 0.1966487 secs] [Times: user=0.96 sys=0.23, real=0.19 secs] \n42.866: [GC (Allocation Failure) [PSYoungGen: 4006798K-&gt;75063K(4064768K)] 5222675K-&gt;1361707K(5669888K), 0.1755286 secs] [Times: user=0.77 sys=0.13, real=0.17 secs] \n44.841: [GC (Allocation Failure) [PSYoungGen: 4020535K-&gt;76560K(4064768K)] 5307179K-&gt;1432324K(5669888K), 0.1492622 secs] [Times: user=0.93 sys=0.23, real=0.15 secs] \n46.652: [GC (Allocation Failure) [PSYoungGen: 4022032K-&gt;76593K(4071936K)] 5377796K-&gt;1503428K(5677056K), 0.1457041 secs] [Times: user=0.92 sys=0.07, real=0.15 secs] \n48.803: [GC (Allocation Failure) [PSYoungGen: 4035377K-&gt;72513K(4071424K)] 5462212K-&gt;1570356K(5676544K), 0.1883641 secs] [Times: user=1.09 sys=0.18, real=0.19 secs] \n48.992: [Full GC (Ergonomics) [PSYoungGen: 72513K-&gt;0K(4071424K)] [ParOldGen: 1497843K-&gt;1521336K(3507200K)] 1570356K-&gt;1521336K(7578624K), [Metaspace: 41385K-&gt;41378K(1085440K)], 2.5937473 secs] [Times: user=23.36 sys=0.04, real=2.60 secs] \n</code></pre>\n"},{"tags":["java","maven","module"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1639311043,"post_id":70322819,"comment_id":124311586,"body_markdown":"Yes of course you can. create appropriate directories one for `model`, one for `controllers` one for `dao` and one for `ui` and parent which which handles it... this is so called a multi module build...","body":"Yes of course you can. create appropriate directories one for <code>model</code>, one for <code>controllers</code> one for <code>dao</code> and one for <code>ui</code> and parent which which handles it... this is so called a multi module build..."}],"answers":[{"tags":[],"owner":{"account_id":23440806,"reputation":21,"user_id":17498322,"display_name":"mottig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639313115,"creation_date":1639312788,"answer_id":70323620,"question_id":70322819,"body_markdown":"yes it is possible.\r\ncreate a directory per each module in your project, and add for every one of the separate POM.\r\nAt the project root level at the main POM(reactor) you will reference each one of them.\r\nExample for reactor :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;...&lt;/groupId&gt;\r\n        &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n        &lt;version&gt;...&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;name&gt;...&lt;/name&gt;\r\n        \r\n       &lt;modules&gt;\r\n            &lt;module&gt;sub-module-a&lt;/module&gt;\r\n            &lt;module&gt;sub-module-b&lt;/module&gt;\r\n            &lt;module&gt;sub-module-c&lt;/module&gt;\r\n \r\n        &lt;/modules&gt;\r\n        \r\n    &lt;/project&gt; \r\n\r\n\r\nAnd when you will build your project, you will do it from the reactor.\r\nfor more details you can check maven documentation:\r\nhttps://books.sonatype.com/mvnex-book/reference/multimodule.html","title":"How to break mvn project into multimodules?","body":"<p>yes it is possible.\ncreate a directory per each module in your project, and add for every one of the separate POM.\nAt the project root level at the main POM(reactor) you will reference each one of them.\nExample for reactor :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;...&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;...&lt;/name&gt;\n    \n   &lt;modules&gt;\n        &lt;module&gt;sub-module-a&lt;/module&gt;\n        &lt;module&gt;sub-module-b&lt;/module&gt;\n        &lt;module&gt;sub-module-c&lt;/module&gt;\n\n    &lt;/modules&gt;\n    \n&lt;/project&gt; \n</code></pre>\n<p>And when you will build your project, you will do it from the reactor.\nfor more details you can check maven documentation:\n<a href=\"https://books.sonatype.com/mvnex-book/reference/multimodule.html\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnex-book/reference/multimodule.html</a></p>\n"}],"owner":{"account_id":20559259,"reputation":89,"user_id":15090115,"display_name":"A_X"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639313115,"creation_date":1639305783,"question_id":70322819,"body_markdown":"Is there any way to break a standard Spring Boot Maven project into multi modules?\r\n\r\nLet&#39;s say i have a package for models, one for controllers, one for dao and another one for ui. Can i split them to separate modules somehow?\r\n\r\nI am using IntelliJ Ultimate if matters.\r\n\r\n","title":"How to break mvn project into multimodules?","body":"<p>Is there any way to break a standard Spring Boot Maven project into multi modules?</p>\n<p>Let's say i have a package for models, one for controllers, one for dao and another one for ui. Can i split them to separate modules somehow?</p>\n<p>I am using IntelliJ Ultimate if matters.</p>\n"},{"tags":["java","serialization","deserialization","heap-memory"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1506113986,"post_id":46373039,"comment_id":79705888,"body_markdown":"What do you mean by _status_?","body":"What do you mean by <i>status</i>?"},{"owner":{"account_id":11831633,"reputation":125,"user_id":8658199,"display_name":"SwampThing"},"score":0,"creation_date":1506114231,"post_id":46373039,"comment_id":79705977,"body_markdown":"@SotiriosDelimanolis: I mean everything about the class before the serialize and when restore it back.","body":"@SotiriosDelimanolis: I mean everything about the class before the serialize and when restore it back."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1506122448,"post_id":46373039,"comment_id":79708213,"body_markdown":"&#39;Everything about the class&#39; doesn&#39;t change by serialization or deserialization, and it is stored *in the class*. Unclear what you&#39;re asking.","body":"&#39;Everything about the class&#39; doesn&#39;t change by serialization or deserialization, and it is stored <i>in the class</i>. Unclear what you&#39;re asking."},{"owner":{"account_id":11831633,"reputation":125,"user_id":8658199,"display_name":"SwampThing"},"score":0,"creation_date":1506142909,"post_id":46373039,"comment_id":79711389,"body_markdown":"@EJP: I talked about the heap, where the objects live! For example what happens if the serialization or deserialization goes wrong? The JVM create another object from zero? Or if we have saved before something about the class, how can restored everything? In this way I mean the status","body":"@EJP: I talked about the heap, where the objects live! For example what happens if the serialization or deserialization goes wrong? The JVM create another object from zero? Or if we have saved before something about the class, how can restored everything? In this way I mean the status"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506113934,"creation_date":1506113934,"answer_id":46373104,"question_id":46373039,"body_markdown":"When you serialise an object (I suppose you are using `ObjectIn/OutputStream`), you are turning a Java object into binary data in a stream. This is stream can go to anywhere. It can go to a web server or a file or something else. Serializing an object to a file is the most common, in my experience.\r\n\r\nAfter the object is serialised, it is stored on your hard disc/SSD. However, there is also an independent copy of your object in memory, until your program finishes. It can&#39;t just disappear from memory because you might want to use it again.","title":"When you serialized and deserialized an Object where is saved the status of it?","body":"<p>When you serialise an object (I suppose you are using <code>ObjectIn/OutputStream</code>), you are turning a Java object into binary data in a stream. This is stream can go to anywhere. It can go to a web server or a file or something else. Serializing an object to a file is the most common, in my experience.</p>\n\n<p>After the object is serialised, it is stored on your hard disc/SSD. However, there is also an independent copy of your object in memory, until your program finishes. It can't just disappear from memory because you might want to use it again.</p>\n"}],"owner":{"account_id":11831633,"reputation":125,"user_id":8658199,"display_name":"SwampThing"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1506155765,"accepted_answer_id":46373104,"answer_count":1,"score":-1,"last_activity_date":1639313109,"creation_date":1506113603,"question_id":46373039,"body_markdown":"I know that the objects in Java live on the Heap, but when I start to serialize the object and after to deserialize the status of it is keeps on heap? Or in different place?\r\n\r\nEdit:\r\nI mean, how the JVM can recreate a new object on the heap? Just reading the file?\r\n\r\nI wanted to know what&#39;s happens on the heap, before and after, the JVM destroys an object and after it comes back? To do this action, there is something in memory stored or all the information are on the file serialized and deserialized?","title":"When you serialized and deserialized an Object where is saved the status of it?","body":"<p>I know that the objects in Java live on the Heap, but when I start to serialize the object and after to deserialize the status of it is keeps on heap? Or in different place?</p>\n\n<p>Edit:\nI mean, how the JVM can recreate a new object on the heap? Just reading the file?</p>\n\n<p>I wanted to know what's happens on the heap, before and after, the JVM destroys an object and after it comes back? To do this action, there is something in memory stored or all the information are on the file serialized and deserialized?</p>\n"},{"tags":["java","jms","heap-memory","activemq","amq"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1518091016,"post_id":48684837,"comment_id":84367010,"body_markdown":"Are you sure this even compiles? `byte[]` is not the same thing as `Byte[]`.","body":"Are you sure this even compiles? <code>byte[]</code> is not the same thing as <code>Byte[]</code>."},{"owner":{"account_id":11040042,"reputation":750,"user_id":8108352,"display_name":"Gianfrancesco Aurecchia"},"score":0,"creation_date":1518091181,"post_id":48684837,"comment_id":84367116,"body_markdown":"Besides, I made some accounts and the memory allocated by that array is about 0.0009 GB\n&quot;http://www.matisse.net/bitcalc/?input_amount=1000000&amp;input_units=bytes&amp;notation=legacy&quot; which makes me think that the problem is not the ram allocated to the VM","body":"Besides, I made some accounts and the memory allocated by that array is about 0.0009 GB &quot;<a href=\"http://www.matisse.net/bitcalc/?input_amount=1000000&amp;input_units=bytes&amp;notation=legacy\" rel=\"nofollow noreferrer\">matisse.net/bitcalc/&hellip;</a>&quot; which makes me think that the problem is not the ram allocated to the VM"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1518091285,"post_id":48684837,"comment_id":84367179,"body_markdown":"@GianfrancescoAurecchia, it&#39;s 150 million bytes, actually. If I understand what `BytesMessage` does.","body":"@GianfrancescoAurecchia, it&#39;s 150 million bytes, actually. If I understand what <code>BytesMessage</code> does."},{"owner":{"account_id":11040042,"reputation":750,"user_id":8108352,"display_name":"Gianfrancesco Aurecchia"},"score":0,"creation_date":1518091307,"post_id":48684837,"comment_id":84367201,"body_markdown":"so i would say to use -Xmx when i jung the execution command, let me know how it goes","body":"so i would say to use -Xmx when i jung the execution command, let me know how it goes"},{"owner":{"account_id":11040042,"reputation":750,"user_id":8108352,"display_name":"Gianfrancesco Aurecchia"},"score":0,"creation_date":1518091497,"post_id":48684837,"comment_id":84367325,"body_markdown":"sorry I did not give importance to the cycle, in all cases occupies only 0.1396 GB","body":"sorry I did not give importance to the cycle, in all cases occupies only 0.1396 GB"},{"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"score":0,"creation_date":1518093185,"post_id":48684837,"comment_id":84368504,"body_markdown":"@M.Prokhorov it compiles I&#39;m sure, it goes in heap space error if the value of the cycle is &gt;104, unde that works just fine.","body":"@M.Prokhorov it compiles I&#39;m sure, it goes in heap space error if the value of the cycle is &gt;104, unde that works just fine."},{"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"score":0,"creation_date":1518093230,"post_id":48684837,"comment_id":84368536,"body_markdown":"@GianfrancescoAurecchia I already set the -Xms and -Xmx to 16Gb","body":"@GianfrancescoAurecchia I already set the -Xms and -Xmx to 16Gb"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1518093303,"post_id":48684837,"comment_id":84368589,"body_markdown":"@Ayeyebraso, doesn&#39;t compile on my end, just as I thought. You must have either `byte[]` or `Byte[]`, assigning one to another will not work (and should not work for that matter).","body":"@Ayeyebraso, doesn&#39;t compile on my end, just as I thought. You must have either <code>byte[]</code> or <code>Byte[]</code>, assigning one to another will not work (and should not work for that matter)."},{"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"score":0,"creation_date":1518093982,"post_id":48684837,"comment_id":84369068,"body_markdown":"@M.Prokhorov oh man, I have to write code on an offline pc so I couldn&#39;t copy/paste the code and had to type it by hand and made a typo... it&#39;s byte[] contentBuilder=new byte[1000*1000*1];","body":"@M.Prokhorov oh man, I have to write code on an offline pc so I couldn&#39;t copy/paste the code and had to type it by hand and made a typo... it&#39;s byte[] contentBuilder=new byte[1000*1000*1];"}],"answers":[{"tags":[],"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518108755,"creation_date":1518108755,"answer_id":48690765,"question_id":48684837,"body_markdown":"Still me, the problem was on the AMQ side of things and increasing it&#39;s memory in the bin/win64/wrapper.conf did the job. thanks to all who answered.","title":"java heap space when space is actually available","body":"<p>Still me, the problem was on the AMQ side of things and increasing it's memory in the bin/win64/wrapper.conf did the job. thanks to all who answered.</p>\n"}],"owner":{"account_id":12890408,"reputation":11,"user_id":9322596,"display_name":"Ayeyebraso"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48690765,"answer_count":1,"score":0,"last_activity_date":1639313053,"creation_date":1518090736,"question_id":48684837,"body_markdown":"I&#39;m trying to send a BytesMessage on AMQ (5.15.2) but I run in a heap space exception even if the memory is clearly available. Here is the \r\n&lt;!-- language: java--&gt;\r\n\r\n    byte[] contcentBuilder = new Byte[1000*1000*1];\r\n    Array.fill(contentBuilder, (byte) 1);\r\n    BytesMessage message = session.createBytesMessage();\r\n    for(int i=0;i&lt;150;i++){\r\n        message.writeBytes(contentBuilder);\r\n    }\r\n    contentBuilder=null;\r\n    producer.send(message); //here it gets the heap space memory error\r\n    Runtime.getRunTime().freeMemory(); //this is in debug\r\n\r\nIn the bug the memory available is over 15Gb (I allocated 16Gb to this VM).\r\n\r\nAny ideas are welcome, thank you. \r\n\r\n\r\nEDIT: I&#39;m basically dumb, the problem was on the AMQ side of things and increasing it&#39;s memory in the bin/win64/wrapper.conf did the job. thanks to all who answered.\r\n\r\nNew here I don&#39;t know how to close this answer!","title":"java heap space when space is actually available","body":"<p>I'm trying to send a BytesMessage on AMQ (5.15.2) but I run in a heap space exception even if the memory is clearly available. Here is the \n</p>\n\n<pre><code>byte[] contcentBuilder = new Byte[1000*1000*1];\nArray.fill(contentBuilder, (byte) 1);\nBytesMessage message = session.createBytesMessage();\nfor(int i=0;i&lt;150;i++){\n    message.writeBytes(contentBuilder);\n}\ncontentBuilder=null;\nproducer.send(message); //here it gets the heap space memory error\nRuntime.getRunTime().freeMemory(); //this is in debug\n</code></pre>\n\n<p>In the bug the memory available is over 15Gb (I allocated 16Gb to this VM).</p>\n\n<p>Any ideas are welcome, thank you. </p>\n\n<p>EDIT: I'm basically dumb, the problem was on the AMQ side of things and increasing it's memory in the bin/win64/wrapper.conf did the job. thanks to all who answered.</p>\n\n<p>New here I don't know how to close this answer!</p>\n"},{"tags":["java","elasticsearch","jdbc","logstash","heap-memory"],"comments":[{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1518700549,"post_id":48808174,"comment_id":84619230,"body_markdown":"Probably a programming error. Instead of caching everything in memory, you should load and transfer it in chunks.","body":"Probably a programming error. Instead of caching everything in memory, you should load and transfer it in chunks."},{"owner":{"account_id":2666382,"reputation":745,"user_id":2304741,"accept_rate":75,"display_name":"Sandeep Singh"},"score":1,"creation_date":1518700947,"post_id":48808174,"comment_id":84619522,"body_markdown":"Post the code that you are using and also use small batches to push data into Elastic Search and keep track of rows you have pushed in.","body":"Post the code that you are using and also use small batches to push data into Elastic Search and keep track of rows you have pushed in."},{"owner":{"account_id":8109086,"reputation":4085,"user_id":6113627,"display_name":"baudsp"},"score":0,"creation_date":1518702672,"post_id":48808174,"comment_id":84620765,"body_markdown":"Also why are you using only one worker thread?","body":"Also why are you using only one worker thread?"},{"owner":{"account_id":4944171,"reputation":129,"user_id":3980075,"accept_rate":20,"display_name":"Fatemeh Moh"},"score":0,"creation_date":1518717182,"post_id":48808174,"comment_id":84630400,"body_markdown":"I edited the question . In fact , i don&#39;t know how many worker I should use . I just write one worker because of the link mentioned it .","body":"I edited the question . In fact , i don&#39;t know how many worker I should use . I just write one worker because of the link mentioned it ."},{"owner":{"account_id":8109086,"reputation":4085,"user_id":6113627,"display_name":"baudsp"},"score":0,"creation_date":1518775521,"post_id":48808174,"comment_id":84652032,"body_markdown":"Ok. Apparently it&#39;s because of the aggregation.","body":"Ok. Apparently it&#39;s because of the aggregation."},{"owner":{"account_id":4944171,"reputation":129,"user_id":3980075,"accept_rate":20,"display_name":"Fatemeh Moh"},"score":0,"creation_date":1518927116,"post_id":48808174,"comment_id":84700551,"body_markdown":"I thought aggregations was necessary for transferring data from sql to elasticsearch. isn&#39;t it ?","body":"I thought aggregations was necessary for transferring data from sql to elasticsearch. isn&#39;t it ?"},{"owner":{"account_id":4944171,"reputation":129,"user_id":3980075,"accept_rate":20,"display_name":"Fatemeh Moh"},"score":0,"creation_date":1518927283,"post_id":48808174,"comment_id":84700576,"body_markdown":"actually i test with 7 worker because i my system is corei7 but it don&#39;t make any change it performance . How can I reduce memory usage in this process?","body":"actually i test with 7 worker because i my system is corei7 but it don&#39;t make any change it performance . How can I reduce memory usage in this process?"},{"owner":{"account_id":4944171,"reputation":129,"user_id":3980075,"accept_rate":20,"display_name":"Fatemeh Moh"},"score":0,"creation_date":1518934358,"post_id":48808174,"comment_id":84701719,"body_markdown":"@baudsp i removed aggregation but again i have outOfMemoryError","body":"@baudsp i removed aggregation but again i have outOfMemoryError"}],"answers":[{"tags":[],"owner":{"account_id":2825709,"reputation":45,"user_id":2428403,"display_name":"DrSeuthberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622114230,"creation_date":1622113247,"answer_id":67720798,"question_id":48808174,"body_markdown":"This is a bit old, but I just had the same issue and increasing the heap size of logstash helped me here. I added this to my logstash service in the docker-compose file:\r\n\r\n    environment:\r\n      LS_JAVA_OPTS: &quot;-Xmx2048m -Xms2048m&quot;\r\n\r\nFurther read: https://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvm","title":"java.lang.OutOfMemoryError: Java heap space when transferring data from jdbc to elasticsearch via logstash","body":"<p>This is a bit old, but I just had the same issue and increasing the heap size of logstash helped me here. I added this to my logstash service in the docker-compose file:</p>\n<pre><code>environment:\n  LS_JAVA_OPTS: &quot;-Xmx2048m -Xms2048m&quot;\n</code></pre>\n<p>Further read: <a href=\"https://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvm\">What are the -Xms and -Xmx parameters when starting JVM?</a></p>\n"}],"owner":{"account_id":4944171,"reputation":129,"user_id":3980075,"accept_rate":20,"display_name":"Fatemeh Moh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1639318581,"answer_count":1,"score":1,"last_activity_date":1639313037,"creation_date":1518700398,"question_id":48808174,"body_markdown":"I have a huge postgres database with 20 million rows and i want to transfer it to elasticsearch via logstash . I followed the advice mentioned [here](https://dzone.com/articles/aggregate-and-index-data-into-elasticsearch-using) and I test it for a simple database with 300 rows and all things worked fine but when i tested it for my main database i allways  cross with error: \r\n \r\n\r\n    nargess@nargess-Surface-Book:/usr/share/logstash/bin$  sudo ./logstash -w 1 -f students.conf --path.data /usr/share/logstash/data/students/ --path.settings /etc/logstash\r\n    Sending Logstash&#39;s logs to /var/log/logstash which is now configured via log4j2.properties\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    Dumping heap to java_pid3453.hprof ...\r\n    Heap dump file created [13385912484 bytes in 53.304 secs]\r\n    Exception in thread &quot;Ruby-0-Thread-11: /usr/share/logstash/vendor/bundle/jruby/1.9/gems/puma-2.16.0-java/lib/puma/thread_pool.rb:216&quot;  java.lang.ArrayIndexOutOfBoundsException: -1\r\n\tat org.jruby.runtime.ThreadContext.popRubyClass(ThreadContext.java:729)\r\n\tat org.jruby.runtime.ThreadContext.postYield(ThreadContext.java:1292)\r\n\tat org.jruby.runtime.ContextAwareBlockBody.post(ContextAwareBlockBody.java:29)\r\n\tat org.jruby.runtime.Interpreted19Block.yield(Interpreted19Block.java:198)\r\n\tat org.jruby.runtime.Interpreted19Block.call(Interpreted19Block.java:125)\r\n\tat org.jruby.runtime.Block.call(Block.java:101)\r\n\tat org.jruby.RubyProc.call(RubyProc.java:300)\r\n\tat org.jruby.RubyProc.call(RubyProc.java:230)\r\n\tat org.jruby.internal.runtime.RubyRunnable.run(RubyRunnable.java:103)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    The signal INT is in use by the JVM and will not work correctly on this platform\r\n    Error: Your application used more memory than the safety cap of 12G.\r\n    Specify -J-Xmx####m to increase it (#### = cap size in MB).\r\n    Specify -w for full OutOfMemoryError stack trace\r\n\r\n\r\nAlthough I go  to file /etc/logstash/jvm.options and set `-Xms256m\r\n-Xmx12000m`, but I have had these errors yet. I have 13g memory free. how can i send my data to elastic search with this memory ? \r\nthis is the student-index.json that i use in elasticsearch\r\n\r\n    {\r\n    &quot;aliases&quot;: {},\r\n    &quot;warmers&quot;: {},\r\n    &quot;mappings&quot;: {\r\n        &quot;tab_students_dfe&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;stcode&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;\r\n                },\r\n                &quot;voroodi&quot;: {\r\n                    &quot;type&quot;: &quot;integer&quot;\r\n                },\r\n                &quot;name&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;\r\n                },\r\n                &quot;family&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;\r\n                },\r\n                &quot;namp&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;\r\n                },\r\n                &quot;lastupdate&quot;: {\r\n                    &quot;type&quot;: &quot;date&quot;\r\n                },\r\n                &quot;picture&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;\r\n                },\r\n                &quot;uniquename&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    &quot;settings&quot;: {\r\n        &quot;index&quot;: {\r\n            &quot;number_of_shards&quot;: &quot;5&quot;,\r\n            &quot;number_of_replicas&quot;: &quot;1&quot;\r\n        }\r\n    }\r\n    }\r\n\r\nthen i try to insert this index in elastic search by : \r\n\r\n    curl -XPUT --header &quot;Content-Type: application/json&quot; \r\n\r\n    http://localhost:9200/students -d @postgres-index.json\r\n\r\n\r\nand next, this is my configuration fil in /usr/shar/logstash/bin/students.conf file :\r\n\r\n    input {\r\n      jdbc {\r\n    jdbc_connection_string =&gt; &quot;jdbc:postgresql://localhost:5432/postgres&quot;\r\n    jdbc_user =&gt; &quot;postgres&quot;\r\n    jdbc_password =&gt; &quot;postgres&quot;\r\n    # The path to downloaded jdbc driver\r\n    jdbc_driver_library =&gt; &quot;./postgresql-42.2.1.jar&quot;\r\n    jdbc_driver_class =&gt; &quot;org.postgresql.Driver&quot;\r\n    # The path to the file containing the query\r\n    statement =&gt; &quot;select * from students&quot;\r\n      }\r\n    }\r\n    filter {\r\n      aggregate {\r\n        task_id =&gt; &quot;%{stcode}&quot;\r\n    code =&gt; &quot;\r\n      map[&#39;stcode&#39;] = event.get(&#39;stcode&#39;)\r\n      map[&#39;voroodi&#39;] = event.get(&#39;voroodi&#39;)\r\n      map[&#39;name&#39;] = event.get(&#39;name&#39;)\r\n      map[&#39;family&#39;] = event.get(&#39;family&#39;)\r\n      map[&#39;namp&#39;] = event.get(&#39;namp&#39;)\r\n      map[&#39;uniquename&#39;] = event.get(&#39;uniquename&#39;)\r\n      event.cancel()\r\n    &quot;\r\n    push_previous_map_as_event =&gt; true\r\n    timeout =&gt; 5\r\n      }\r\n    }\r\n    output {\r\n       elasticsearch {\r\n    document_id =&gt; &quot;%{stcode}&quot;\r\n    document_type =&gt; &quot;postgres&quot;\r\n    index =&gt; &quot;students&quot;\r\n    codec =&gt; &quot;json&quot;\r\n    hosts =&gt; [&quot;127.0.0.1:9200&quot;]\r\n      }\r\n    }\r\n\r\n Thank you for your help","title":"java.lang.OutOfMemoryError: Java heap space when transferring data from jdbc to elasticsearch via logstash","body":"<p>I have a huge postgres database with 20 million rows and i want to transfer it to elasticsearch via logstash . I followed the advice mentioned <a href=\"https://dzone.com/articles/aggregate-and-index-data-into-elasticsearch-using\" rel=\"nofollow noreferrer\">here</a> and I test it for a simple database with 300 rows and all things worked fine but when i tested it for my main database i allways  cross with error: </p>\n\n<pre><code>nargess@nargess-Surface-Book:/usr/share/logstash/bin$  sudo ./logstash -w 1 -f students.conf --path.data /usr/share/logstash/data/students/ --path.settings /etc/logstash\nSending Logstash's logs to /var/log/logstash which is now configured via log4j2.properties\njava.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid3453.hprof ...\nHeap dump file created [13385912484 bytes in 53.304 secs]\nException in thread \"Ruby-0-Thread-11: /usr/share/logstash/vendor/bundle/jruby/1.9/gems/puma-2.16.0-java/lib/puma/thread_pool.rb:216\"  java.lang.ArrayIndexOutOfBoundsException: -1\nat org.jruby.runtime.ThreadContext.popRubyClass(ThreadContext.java:729)\nat org.jruby.runtime.ThreadContext.postYield(ThreadContext.java:1292)\nat org.jruby.runtime.ContextAwareBlockBody.post(ContextAwareBlockBody.java:29)\nat org.jruby.runtime.Interpreted19Block.yield(Interpreted19Block.java:198)\nat org.jruby.runtime.Interpreted19Block.call(Interpreted19Block.java:125)\nat org.jruby.runtime.Block.call(Block.java:101)\nat org.jruby.RubyProc.call(RubyProc.java:300)\nat org.jruby.RubyProc.call(RubyProc.java:230)\nat org.jruby.internal.runtime.RubyRunnable.run(RubyRunnable.java:103)\nat java.lang.Thread.run(Thread.java:748)\nThe signal INT is in use by the JVM and will not work correctly on this platform\nError: Your application used more memory than the safety cap of 12G.\nSpecify -J-Xmx####m to increase it (#### = cap size in MB).\nSpecify -w for full OutOfMemoryError stack trace\n</code></pre>\n\n<p>Although I go  to file /etc/logstash/jvm.options and set <code>-Xms256m\n-Xmx12000m</code>, but I have had these errors yet. I have 13g memory free. how can i send my data to elastic search with this memory ? \nthis is the student-index.json that i use in elasticsearch</p>\n\n<pre><code>{\n\"aliases\": {},\n\"warmers\": {},\n\"mappings\": {\n    \"tab_students_dfe\": {\n        \"properties\": {\n            \"stcode\": {\n                \"type\": \"text\"\n            },\n            \"voroodi\": {\n                \"type\": \"integer\"\n            },\n            \"name\": {\n                \"type\": \"text\"\n            },\n            \"family\": {\n                \"type\": \"text\"\n            },\n            \"namp\": {\n                \"type\": \"text\"\n            },\n            \"lastupdate\": {\n                \"type\": \"date\"\n            },\n            \"picture\": {\n                \"type\": \"text\"\n            },\n            \"uniquename\": {\n                \"type\": \"text\"\n            }\n        }\n    }\n},\n\"settings\": {\n    \"index\": {\n        \"number_of_shards\": \"5\",\n        \"number_of_replicas\": \"1\"\n    }\n}\n}\n</code></pre>\n\n<p>then i try to insert this index in elastic search by : </p>\n\n<pre><code>curl -XPUT --header \"Content-Type: application/json\" \n\nhttp://localhost:9200/students -d @postgres-index.json\n</code></pre>\n\n<p>and next, this is my configuration fil in /usr/shar/logstash/bin/students.conf file :</p>\n\n<pre><code>input {\n  jdbc {\njdbc_connection_string =&gt; \"jdbc:postgresql://localhost:5432/postgres\"\njdbc_user =&gt; \"postgres\"\njdbc_password =&gt; \"postgres\"\n# The path to downloaded jdbc driver\njdbc_driver_library =&gt; \"./postgresql-42.2.1.jar\"\njdbc_driver_class =&gt; \"org.postgresql.Driver\"\n# The path to the file containing the query\nstatement =&gt; \"select * from students\"\n  }\n}\nfilter {\n  aggregate {\n    task_id =&gt; \"%{stcode}\"\ncode =&gt; \"\n  map['stcode'] = event.get('stcode')\n  map['voroodi'] = event.get('voroodi')\n  map['name'] = event.get('name')\n  map['family'] = event.get('family')\n  map['namp'] = event.get('namp')\n  map['uniquename'] = event.get('uniquename')\n  event.cancel()\n\"\npush_previous_map_as_event =&gt; true\ntimeout =&gt; 5\n  }\n}\noutput {\n   elasticsearch {\ndocument_id =&gt; \"%{stcode}\"\ndocument_type =&gt; \"postgres\"\nindex =&gt; \"students\"\ncodec =&gt; \"json\"\nhosts =&gt; [\"127.0.0.1:9200\"]\n  }\n}\n</code></pre>\n\n<p>Thank you for your help</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1519648258,"post_id":48986432,"comment_id":84981726,"body_markdown":"does it create files with PID in the name, if you ,ale the dump path a directory?","body":"does it create files with PID in the name, if you ,ale the dump path a directory?"},{"owner":{"account_id":7723307,"reputation":3631,"user_id":5848808,"display_name":"Boris Schegolev"},"score":0,"creation_date":1519649020,"post_id":48986432,"comment_id":84982179,"body_markdown":"Yes, it does: `Dumping heap to ./java_pid16739.hprof`.","body":"Yes, it does: <code>Dumping heap to .&#47;java_pid16739.hprof</code>."},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1519649572,"post_id":48986432,"comment_id":84982511,"body_markdown":"great! so can you just run with that, or do you require/want a custom heap dump filename with the pid embedded in it?","body":"great! so can you just run with that, or do you require/want a custom heap dump filename with the pid embedded in it?"},{"owner":{"account_id":7723307,"reputation":3631,"user_id":5848808,"display_name":"Boris Schegolev"},"score":0,"creation_date":1519652910,"post_id":48986432,"comment_id":84984573,"body_markdown":"I really need a custom heap dump filename, either with PID or some random value in it. I just need to make sure the filename is unique.","body":"I really need a custom heap dump filename, either with PID or some random value in it. I just need to make sure the filename is unique."}],"answers":[{"tags":[],"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519644744,"creation_date":1519644744,"answer_id":48987527,"question_id":48986432,"body_markdown":"The setting requires the path only. Do not append the expected file name. This is generated automatically by the VM.\r\n\r\nSee https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\r\n\r\n","title":"HeapDumpPath: %p not working","body":"<p>The setting requires the path only. Do not append the expected file name. This is generated automatically by the VM.</p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html</a></p>\n"},{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1519653656,"creation_date":1519648919,"answer_id":48988782,"question_id":48986432,"body_markdown":"You can always set heap dump path to point at a directory and add commands in `OnOutOfMemoryError` option: \r\n\r\n    -XX:HeapDumpPath=&quot;heapdumps/&quot;\r\n    -XX:OnOutOfMemoryError=&quot;...&quot;\r\n\r\nAccording to [JVM troubleshooting guide by Oracle][1] you can use `%p` in `-XX:OnOutOfMemoryError` option.\r\n\r\nTherfore I would try something like this (assumes custom location and default filename of the heap dump): \r\n\r\n     -XX:OnOutOfMemoryError=&quot;mv heapdumps/java_pid%p.hprof heapdumps/myenv_heapdump_%p.hprof&quot;\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html","title":"HeapDumpPath: %p not working","body":"<p>You can always set heap dump path to point at a directory and add commands in <code>OnOutOfMemoryError</code> option: </p>\n\n<pre><code>-XX:HeapDumpPath=\"heapdumps/\"\n-XX:OnOutOfMemoryError=\"...\"\n</code></pre>\n\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\" rel=\"nofollow noreferrer\">JVM troubleshooting guide by Oracle</a> you can use <code>%p</code> in <code>-XX:OnOutOfMemoryError</code> option.</p>\n\n<p>Therfore I would try something like this (assumes custom location and default filename of the heap dump): </p>\n\n<pre><code> -XX:OnOutOfMemoryError=\"mv heapdumps/java_pid%p.hprof heapdumps/myenv_heapdump_%p.hprof\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621259609,"creation_date":1621259609,"answer_id":67571096,"question_id":48986432,"body_markdown":"Answer for Java 8. [tested on 17-May-2021]\r\n------------------------------------------\r\n\r\nYou only need to give directory name in `-XX:HeapDumpPath` option. \r\n\r\nSo if your directory is : C:/work/myCustomFolder, simply give : -`XX:HeapDumpPath=&quot;C:/work/mycustomFolder&quot;`. a file will be created with the name : &quot;java_pid1234.hprof&quot; in this folder. (1234 is just an example for pid.)","title":"HeapDumpPath: %p not working","body":"<h2>Answer for Java 8. [tested on 17-May-2021]</h2>\n<p>You only need to give directory name in <code>-XX:HeapDumpPath</code> option.</p>\n<p>So if your directory is : C:/work/myCustomFolder, simply give : -<code>XX:HeapDumpPath=&quot;C:/work/mycustomFolder&quot;</code>. a file will be created with the name : &quot;java_pid1234.hprof&quot; in this folder. (1234 is just an example for pid.)</p>\n"}],"owner":{"account_id":7723307,"reputation":3631,"user_id":5848808,"display_name":"Boris Schegolev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48988782,"answer_count":3,"score":1,"last_activity_date":1639312994,"creation_date":1519641359,"question_id":48986432,"body_markdown":"I am trying to assign a custom `HeapDumpPath` when running my java app. The new path is applied, but `%p` placeholder is not replaced by a real value (process ID is expected here).\r\n\r\nUse of `%p` is described [here][1] - look for `-XX:HeapDumpPath=./java_pid%p.hprof`\r\n\r\nI wrote this simple app to test the behavior:\r\n\r\n    public class MainOverflow {\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n            String last = &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;;\r\n            for (int i=0; i&lt;100; i++) {\r\n                last = last + last;\r\n                strings.add(last);\r\n                System.out.println(strings.size());\r\n            }\r\n        }\r\n    }\r\n\r\nRunning it like this on standard Oracle Java 8 installation (on Linux):\r\n\r\n    /usr/lib/jvm/java-8-oracle$ ./bin/java \\\r\n        -XX:+HeapDumpOnOutOfMemoryError \\\r\n        -XX:HeapDumpPath=./java_pid%p.hprof \\\r\n        -classpath jre/lib/rt.jar:/path/to/project/target/classes \\\r\n        package.name.MainOverflow\r\n\r\nBut the result is:\r\n\r\n&gt; ...\r\n&gt;\r\n&gt; java.lang.OutOfMemoryError: Java heap space\r\n&gt;\r\n&gt; Dumping heap to ./java_pid%p.hprof ...\r\n\r\nSomething like ./java_pid**2504**.hprof was expected. So, the question is: what am I doing wrong?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html","title":"HeapDumpPath: %p not working","body":"<p>I am trying to assign a custom <code>HeapDumpPath</code> when running my java app. The new path is applied, but <code>%p</code> placeholder is not replaced by a real value (process ID is expected here).</p>\n\n<p>Use of <code>%p</code> is described <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\" rel=\"nofollow noreferrer\">here</a> - look for <code>-XX:HeapDumpPath=./java_pid%p.hprof</code></p>\n\n<p>I wrote this simple app to test the behavior:</p>\n\n<pre><code>public class MainOverflow {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n        String last = \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\";\n        for (int i=0; i&lt;100; i++) {\n            last = last + last;\n            strings.add(last);\n            System.out.println(strings.size());\n        }\n    }\n}\n</code></pre>\n\n<p>Running it like this on standard Oracle Java 8 installation (on Linux):</p>\n\n<pre><code>/usr/lib/jvm/java-8-oracle$ ./bin/java \\\n    -XX:+HeapDumpOnOutOfMemoryError \\\n    -XX:HeapDumpPath=./java_pid%p.hprof \\\n    -classpath jre/lib/rt.jar:/path/to/project/target/classes \\\n    package.name.MainOverflow\n</code></pre>\n\n<p>But the result is:</p>\n\n<blockquote>\n  <p>...</p>\n  \n  <p>java.lang.OutOfMemoryError: Java heap space</p>\n  \n  <p>Dumping heap to ./java_pid%p.hprof ...</p>\n</blockquote>\n\n<p>Something like ./java_pid<strong>2504</strong>.hprof was expected. So, the question is: what am I doing wrong?</p>\n"},{"tags":["java","android","android-wifi","wifimanager"],"comments":[{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1639313765,"post_id":70323641,"comment_id":124312121,"body_markdown":"You are adding &quot;&quot; to the password. instead of trying nida1234 it tries &quot;nida1234&quot; (with qoutes)","body":"You are adding &quot;&quot; to the password. instead of trying nida1234 it tries &quot;nida1234&quot; (with qoutes)"},{"owner":{"account_id":7245730,"reputation":672,"user_id":7223676,"accept_rate":83,"display_name":"Moin Khan"},"score":0,"creation_date":1639314266,"post_id":70323641,"comment_id":124312223,"body_markdown":"Thanks @Dan for your reply. I have tried but still connecting with last connected network","body":"Thanks @Dan for your reply. I have tried but still connecting with last connected network"},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1639320441,"post_id":70323641,"comment_id":124313523,"body_markdown":"Well, first of all, are you targeting Q or lower? so we will know which part of the code to focus on","body":"Well, first of all, are you targeting Q or lower? so we will know which part of the code to focus on"},{"owner":{"account_id":7245730,"reputation":672,"user_id":7223676,"accept_rate":83,"display_name":"Moin Khan"},"score":0,"creation_date":1639324082,"post_id":70323641,"comment_id":124314393,"body_markdown":"I am targeting both Android Q and lower","body":"I am targeting both Android Q and lower"}],"owner":{"account_id":7245730,"reputation":672,"user_id":7223676,"accept_rate":83,"display_name":"Moin Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639312988,"creation_date":1639312988,"question_id":70323641,"body_markdown":"I am creating an application in which I want to switch between two WIFI. I have already configured both the two WIFI manually from WIFI settings in device. Now only I want to connect the WIFI from SSID.\r\n\r\nfrom below code I am connecting wifi.\r\n\r\n    wifiList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    \r\n                        connectToWifi(&quot;Android Keeda&quot;, &quot;nida1234&quot;);\r\n                }\r\n            });\r\n\r\nI am calling below function in setOnItemClickListener and when I click on list view item then current WIFI disconnected but within second it is connect with last connected WIFI network and not connecting with WIFI name given in function parameter. How can I achieve this ?\r\n\r\n    private void connectToWifi(String ssid, String password)\r\n        {\r\n            WifiManager wifiManager = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);\r\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n                try {\r\n                    Log.e(&quot;TAG&quot;,&quot;connection wifi pre Q&quot;);\r\n                    WifiConfiguration wifiConfig = new WifiConfiguration();\r\n                    wifiConfig.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;;\r\n                    wifiConfig.preSharedKey = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\r\n                    int netId = wifiManager.addNetwork(wifiConfig);\r\n                    wifiManager.disconnect();\r\n                    wifiManager.enableNetwork(netId, true);\r\n                    wifiManager.reconnect();\r\n    \r\n                } catch ( Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                Log.e(&quot;TAG&quot;,&quot;connection wifi  Q&quot;);\r\n    \r\n                WifiNetworkSpecifier wifiNetworkSpecifier = new WifiNetworkSpecifier.Builder()\r\n                        .setSsid( ssid )\r\n                        .setWpa2Passphrase(password)\r\n                        .build();\r\n    \r\n                NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n                        .setNetworkSpecifier(wifiNetworkSpecifier)\r\n                        .build();\r\n    \r\n                ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n    \r\n                ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\r\n                    @Override\r\n                    public void onAvailable(Network network) {\r\n                        super.onAvailable(network);\r\n    \r\n                        connectivityManager.bindProcessToNetwork(network);\r\n                        Log.e(&quot;TAG&quot;,&quot;onAvailable&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onLosing(@NonNull Network network, int maxMsToLive) {\r\n                        super.onLosing(network, maxMsToLive);\r\n                        Log.e(&quot;TAG&quot;,&quot;onLosing&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onLost(Network network) {\r\n                        super.onLost(network);\r\n                        Log.e(&quot;TAG&quot;, &quot;losing active connection&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onUnavailable() {\r\n                        super.onUnavailable();\r\n                        Log.e(&quot;TAG&quot;,&quot;onUnavailable&quot;);\r\n                    }\r\n                };\r\n                connectivityManager.requestNetwork(networkRequest,networkCallback);\r\n    \r\n    \r\n            }\r\n        }","title":"Wifi not connecting on click on list view item","body":"<p>I am creating an application in which I want to switch between two WIFI. I have already configured both the two WIFI manually from WIFI settings in device. Now only I want to connect the WIFI from SSID.</p>\n<p>from below code I am connecting wifi.</p>\n<pre><code>wifiList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                \n                    connectToWifi(&quot;Android Keeda&quot;, &quot;nida1234&quot;);\n            }\n        });\n</code></pre>\n<p>I am calling below function in setOnItemClickListener and when I click on list view item then current WIFI disconnected but within second it is connect with last connected WIFI network and not connecting with WIFI name given in function parameter. How can I achieve this ?</p>\n<pre><code>private void connectToWifi(String ssid, String password)\n    {\n        WifiManager wifiManager = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n            try {\n                Log.e(&quot;TAG&quot;,&quot;connection wifi pre Q&quot;);\n                WifiConfiguration wifiConfig = new WifiConfiguration();\n                wifiConfig.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;;\n                wifiConfig.preSharedKey = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\n                int netId = wifiManager.addNetwork(wifiConfig);\n                wifiManager.disconnect();\n                wifiManager.enableNetwork(netId, true);\n                wifiManager.reconnect();\n\n            } catch ( Exception e) {\n                e.printStackTrace();\n            }\n        } else {\n            Log.e(&quot;TAG&quot;,&quot;connection wifi  Q&quot;);\n\n            WifiNetworkSpecifier wifiNetworkSpecifier = new WifiNetworkSpecifier.Builder()\n                    .setSsid( ssid )\n                    .setWpa2Passphrase(password)\n                    .build();\n\n            NetworkRequest networkRequest = new NetworkRequest.Builder()\n                    .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n                    .setNetworkSpecifier(wifiNetworkSpecifier)\n                    .build();\n\n            ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n\n\n            ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\n                @Override\n                public void onAvailable(Network network) {\n                    super.onAvailable(network);\n\n                    connectivityManager.bindProcessToNetwork(network);\n                    Log.e(&quot;TAG&quot;,&quot;onAvailable&quot;);\n                }\n\n                @Override\n                public void onLosing(@NonNull Network network, int maxMsToLive) {\n                    super.onLosing(network, maxMsToLive);\n                    Log.e(&quot;TAG&quot;,&quot;onLosing&quot;);\n                }\n\n                @Override\n                public void onLost(Network network) {\n                    super.onLost(network);\n                    Log.e(&quot;TAG&quot;, &quot;losing active connection&quot;);\n                }\n\n                @Override\n                public void onUnavailable() {\n                    super.onUnavailable();\n                    Log.e(&quot;TAG&quot;,&quot;onUnavailable&quot;);\n                }\n            };\n            connectivityManager.requestNetwork(networkRequest,networkCallback);\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","loops","for-loop","substring","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639312632,"creation_date":1592039077,"answer_id":62357597,"question_id":62357271,"body_markdown":"You’ve done everything correctly this far. You need to do some more.\r\n\r\nFirst approach to a programming task is to write clear code that solves it. In this case write code that generates the substrings and counts the vowels in the generated substrings. Every programmer can understand this. Very good work.\r\n\r\nNext, if the coded solution turns out not to perform well enough, it’s time for optimization (for 99.9 % of real-world programming we will never reach this point, but in coding challenges like yours it’s commonplace). You will want code that performs well enough that no timeout error occurs.\r\n\r\nFor an optimized solution we don’t need to generate the substrings. Instead we observe: For your example string 5 characters long: The first character (index 0) can be part of 5 substrings: `b`, `ba`, `bac`, `bace` and `baceb`. However, it’s a consonant, so it doesn’t really matter how many. The next character, `a` at index 1, is part of 8 substrings: 4 beginning at index 0 and 4 beginning at index 1. So it contributes 8 towards the total of 16 vowels in all substrings. Had the next character (`c` at index 2) been a vowel, we would have needed to calculate that it goes into 9 substrings: 3 beginning at index 0, 3 beginning at index 1 and 3 beginning at index 2. Can you begin to see a pattern? I think that we can calculate the number of substrings that a character contributes to by multiplying the number of characters up to and including that character by the number of characters from that character inclusive to the end of the string. Please check if I am correct.\r\n\r\nSo an efficient algorithm can be: iterate through the string indices. If the character at a given index is a vowel, calculate how many substrings it is in, and add this count to a total.\r\n\r\nEdit:\r\n\r\n&gt; But without constructing the substring how is one going to know how\r\n&gt; many vowels actually are in the substring?\r\n\r\nThe point is: You *do not* need to know how many vowels are in each substring. You only need to know *the sum* of all those counts. So we are obtaining that sum in quite a different manner. We are exploiting the fact that every time there’s a vowel in a substring, that vowel must come from one particular index in the original string. So instead of counting the vowels in each substring we are counting the substrings that each vowel is in. The result has got to be the same.\r\n\r\nTake the example string from your question, `baceb`. There are two vowels, `a` at index 1 and `e` at index 3. `a` is in substrings `ba`, `bac`, `bace`, `baceb`, `a`, `ac`, `ace` and `aceb`, 8 in total. So contributes 8 to the count of vowels in all substrings. `e` too is in 8 substrings. 8 + 8 equals 16, which is the sum of counts of vowels in all substings.\r\n\r\nLet me try a more formal argument. Consider a vowel at index `i` in a string of length `len` (`0 &lt;= i &lt; len`). Now the question is: out of the substrings of the string, in how many is this particular vowel included? For it to be included in a substring, that substring must being at index 0, 1, … `i` (inclusive), so there are `i + 1` possible start indices. The substring must end at index `i + 1`, `i + 2`, … `len`, giving `len - i` possibilities. Since every possible start index can be combined with any possible end index to define a substring, we can multiply the two numbers. The product gives the number of substrings that this vowel is in. And hence the contribution from this vowel towards the sum of counts of vowels in all substrings. So what’s left to do is add up all the products for the vowels in the original string. Then you’ve got your result.\r\n\r\n\r\nPS I have assumed that substrings need not be unique. In the string `bobo` the substring `bo` comes twice and `o` constributes to the vowel count both times. I see from your code that this disagrees with your understanding, but I would still assume that mine is correct.\r\n\r\nPPS Also be aware that for strings of length up to 100 000 the total may overflow an `int`. Use a `long` for the total count.\r\n\r\nPPPS For an addition slight optimization you may make a faster check on whether a character is a vowel. Create a `BitSet` once, and set the 10 bits corresponding to the upper case and lower case variants of each vowel. Now to check whether a character is a vowel simply inquire whether the corresponding bit in the `BitSet` is set. No need to convert to lower case first.","title":"How can I count the total vowels in substring of a given string using Java?","body":"<p>You’ve done everything correctly this far. You need to do some more.</p>\n<p>First approach to a programming task is to write clear code that solves it. In this case write code that generates the substrings and counts the vowels in the generated substrings. Every programmer can understand this. Very good work.</p>\n<p>Next, if the coded solution turns out not to perform well enough, it’s time for optimization (for 99.9 % of real-world programming we will never reach this point, but in coding challenges like yours it’s commonplace). You will want code that performs well enough that no timeout error occurs.</p>\n<p>For an optimized solution we don’t need to generate the substrings. Instead we observe: For your example string 5 characters long: The first character (index 0) can be part of 5 substrings: <code>b</code>, <code>ba</code>, <code>bac</code>, <code>bace</code> and <code>baceb</code>. However, it’s a consonant, so it doesn’t really matter how many. The next character, <code>a</code> at index 1, is part of 8 substrings: 4 beginning at index 0 and 4 beginning at index 1. So it contributes 8 towards the total of 16 vowels in all substrings. Had the next character (<code>c</code> at index 2) been a vowel, we would have needed to calculate that it goes into 9 substrings: 3 beginning at index 0, 3 beginning at index 1 and 3 beginning at index 2. Can you begin to see a pattern? I think that we can calculate the number of substrings that a character contributes to by multiplying the number of characters up to and including that character by the number of characters from that character inclusive to the end of the string. Please check if I am correct.</p>\n<p>So an efficient algorithm can be: iterate through the string indices. If the character at a given index is a vowel, calculate how many substrings it is in, and add this count to a total.</p>\n<p>Edit:</p>\n<blockquote>\n<p>But without constructing the substring how is one going to know how\nmany vowels actually are in the substring?</p>\n</blockquote>\n<p>The point is: You <em>do not</em> need to know how many vowels are in each substring. You only need to know <em>the sum</em> of all those counts. So we are obtaining that sum in quite a different manner. We are exploiting the fact that every time there’s a vowel in a substring, that vowel must come from one particular index in the original string. So instead of counting the vowels in each substring we are counting the substrings that each vowel is in. The result has got to be the same.</p>\n<p>Take the example string from your question, <code>baceb</code>. There are two vowels, <code>a</code> at index 1 and <code>e</code> at index 3. <code>a</code> is in substrings <code>ba</code>, <code>bac</code>, <code>bace</code>, <code>baceb</code>, <code>a</code>, <code>ac</code>, <code>ace</code> and <code>aceb</code>, 8 in total. So contributes 8 to the count of vowels in all substrings. <code>e</code> too is in 8 substrings. 8 + 8 equals 16, which is the sum of counts of vowels in all substings.</p>\n<p>Let me try a more formal argument. Consider a vowel at index <code>i</code> in a string of length <code>len</code> (<code>0 &lt;= i &lt; len</code>). Now the question is: out of the substrings of the string, in how many is this particular vowel included? For it to be included in a substring, that substring must being at index 0, 1, … <code>i</code> (inclusive), so there are <code>i + 1</code> possible start indices. The substring must end at index <code>i + 1</code>, <code>i + 2</code>, … <code>len</code>, giving <code>len - i</code> possibilities. Since every possible start index can be combined with any possible end index to define a substring, we can multiply the two numbers. The product gives the number of substrings that this vowel is in. And hence the contribution from this vowel towards the sum of counts of vowels in all substrings. So what’s left to do is add up all the products for the vowels in the original string. Then you’ve got your result.</p>\n<p>PS I have assumed that substrings need not be unique. In the string <code>bobo</code> the substring <code>bo</code> comes twice and <code>o</code> constributes to the vowel count both times. I see from your code that this disagrees with your understanding, but I would still assume that mine is correct.</p>\n<p>PPS Also be aware that for strings of length up to 100 000 the total may overflow an <code>int</code>. Use a <code>long</code> for the total count.</p>\n<p>PPPS For an addition slight optimization you may make a faster check on whether a character is a vowel. Create a <code>BitSet</code> once, and set the 10 bits corresponding to the upper case and lower case variants of each vowel. Now to check whether a character is a vowel simply inquire whether the corresponding bit in the <code>BitSet</code> is set. No need to convert to lower case first.</p>\n"}],"owner":{"account_id":16663067,"reputation":131,"user_id":12042545,"display_name":"Nithin Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639312979,"creation_date":1592036634,"question_id":62357271,"body_markdown":"You are given a string, One has to constitute all the substring of a given string,\r\n\r\nExample, String &quot;baceb&quot; is given, the substrings are {b, ba, bac, bace, a, ac, ace, aceb, c, ce, ceb, e, eb, baceb} and each element in the list contains, {0, 1, 1, 2, 1, 1, 2, 2, 0, 1, 1, 1, 1, 2} number of vowels, the sum is 16. \r\nThe size of the string goes up to 10^5.\r\n\r\nThis is how far I have come, works for smaller case files, for bigger cases,I get timeout error.\r\n\r\n        Scanner sc=new Scanner(System.in);\r\n        int n=sc.nextInt();\r\n        sc.nextLine();\r\n        \r\n        while(n--&gt;0){\r\n            ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n            String s=sc.nextLine();\r\n            int len=s.length();\r\n            s=s.toLowerCase();\r\n            for(int i=0;i&lt;len;i++){\r\n                for(int j=i+1;j&lt;=len;j++){\r\n                    String temp=s.substring(i,j);\r\n                    if(!list.contains(temp)){\r\n                        list.add(temp);\r\n                    }\r\n                }\r\n            }\r\n        \r\n        // System.out.println(list);\r\n        int count=0;\r\n        for(String str:list){\r\n            for(int k=0;k&lt;str.length();k++){\r\n                char ch=str.charAt(k);\r\n                if(ch==&#39;a&#39;||ch==&#39;e&#39;||ch==&#39;i&#39;||ch==&#39;o&#39;||ch==&#39;u&#39;){\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(count);\r\n        }\r\n\r\nn is the number of test cases.","title":"How can I count the total vowels in substring of a given string using Java?","body":"<p>You are given a string, One has to constitute all the substring of a given string,</p>\n<p>Example, String &quot;baceb&quot; is given, the substrings are {b, ba, bac, bace, a, ac, ace, aceb, c, ce, ceb, e, eb, baceb} and each element in the list contains, {0, 1, 1, 2, 1, 1, 2, 2, 0, 1, 1, 1, 1, 2} number of vowels, the sum is 16.\nThe size of the string goes up to 10^5.</p>\n<p>This is how far I have come, works for smaller case files, for bigger cases,I get timeout error.</p>\n<pre><code>    Scanner sc=new Scanner(System.in);\n    int n=sc.nextInt();\n    sc.nextLine();\n    \n    while(n--&gt;0){\n        ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\n        String s=sc.nextLine();\n        int len=s.length();\n        s=s.toLowerCase();\n        for(int i=0;i&lt;len;i++){\n            for(int j=i+1;j&lt;=len;j++){\n                String temp=s.substring(i,j);\n                if(!list.contains(temp)){\n                    list.add(temp);\n                }\n            }\n        }\n    \n    // System.out.println(list);\n    int count=0;\n    for(String str:list){\n        for(int k=0;k&lt;str.length();k++){\n            char ch=str.charAt(k);\n            if(ch=='a'||ch=='e'||ch=='i'||ch=='o'||ch=='u'){\n                count++;\n            }\n        }\n    }\n    System.out.println(count);\n    }\n</code></pre>\n<p>n is the number of test cases.</p>\n"},{"tags":["java","heap","heapsort"],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522762416,"creation_date":1522762416,"answer_id":49631475,"question_id":49622638,"body_markdown":"Your `add` method doesn&#39;t add anything to the heap; there&#39;s no code that puts the value of `n` into the array. And the code that&#39;s supposed to sift things up through the heap is incorrect. A correct version of `add` would be:\r\n\r\n    public void add(int n) {\r\n        if (size &gt;= heap.length) {\r\n            throw new HeapFullException();\r\n        }\r\n\r\n        // place the item in the heap\r\n        int pos = size;\r\n        heap[pos] = n;\r\n        size++;\r\n\r\n        // move the item into position\r\n        int parent = (pos-1)/2;\r\n        while (pos &gt; 0 &amp;&amp; heap[parent] &gt; heap[pos]) {\r\n            swap(parent, pos);\r\n            pos = parent;\r\n            parent = (pos-1)/2;\r\n        }\r\n    }\r\n\r\nYour `smallestChild` method has several bugs.\r\n\r\n    private int smallestChild(int current) {\r\n        if(size &lt; heap.length) {\r\n            int left = current *2+2;\r\n            int right = current * 2 +1;\r\n            if(heap[left]&gt;heap[right]) {\r\n                return left;\r\n            } else if(heap[right]&gt;heap[left]) {\r\n                return right;\r\n            } else {\r\n                return left;\r\n            }\r\n        } else {\r\n            return -1;\r\n        }       \r\n    }\r\n\r\nFirst, your have the left and right child indexes reversed. The left child should be `(current * 2) + 1)`, and the right child is `left +1`.\r\n\r\nSecond, you unconditionally check the children, even if doing so would index off the end of the heap. You need to make sure that the `current` node actually has children before you go checking to see which child is smaller. Something like this will do it:\r\n\r\n    private int smallestChild(int current) {\r\n        int left = current*2+1;\r\n        if (left &gt;= size) {\r\n            return current;\r\n        }\r\n        int smallest = left;\r\n        int right = left+1;\r\n        if (right &lt; size &amp;&amp; heap[right] &lt; heap[left]) {\r\n            smallest = right;\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nFor your `sortHeap` method, I think you want something like:\r\n\r\n    public static void testMinHeap(){\r\n        int[] a = initRandom();\r\n        MinHeap h = new MinHeap(a.length);\r\n        for(int i=0; i&lt;a.length; i++) {\r\n            h.add(a[i]);\r\n        }\r\n\r\n        // now remove things in order and add them back to the array\r\n        int ix = 0;\r\n        while (!h.isEmpty) {\r\n          a[ix] = h.remove();\r\n          ix++;\r\n        }\r\n\r\n        print(a);\r\n    }\r\n\r\n","title":"understanding minheap and heapSort method","body":"<p>Your <code>add</code> method doesn't add anything to the heap; there's no code that puts the value of <code>n</code> into the array. And the code that's supposed to sift things up through the heap is incorrect. A correct version of <code>add</code> would be:</p>\n\n<pre><code>public void add(int n) {\n    if (size &gt;= heap.length) {\n        throw new HeapFullException();\n    }\n\n    // place the item in the heap\n    int pos = size;\n    heap[pos] = n;\n    size++;\n\n    // move the item into position\n    int parent = (pos-1)/2;\n    while (pos &gt; 0 &amp;&amp; heap[parent] &gt; heap[pos]) {\n        swap(parent, pos);\n        pos = parent;\n        parent = (pos-1)/2;\n    }\n}\n</code></pre>\n\n<p>Your <code>smallestChild</code> method has several bugs.</p>\n\n<pre><code>private int smallestChild(int current) {\n    if(size &lt; heap.length) {\n        int left = current *2+2;\n        int right = current * 2 +1;\n        if(heap[left]&gt;heap[right]) {\n            return left;\n        } else if(heap[right]&gt;heap[left]) {\n            return right;\n        } else {\n            return left;\n        }\n    } else {\n        return -1;\n    }       \n}\n</code></pre>\n\n<p>First, your have the left and right child indexes reversed. The left child should be <code>(current * 2) + 1)</code>, and the right child is <code>left +1</code>.</p>\n\n<p>Second, you unconditionally check the children, even if doing so would index off the end of the heap. You need to make sure that the <code>current</code> node actually has children before you go checking to see which child is smaller. Something like this will do it:</p>\n\n<pre><code>private int smallestChild(int current) {\n    int left = current*2+1;\n    if (left &gt;= size) {\n        return current;\n    }\n    int smallest = left;\n    int right = left+1;\n    if (right &lt; size &amp;&amp; heap[right] &lt; heap[left]) {\n        smallest = right;\n    }\n    return smallest;\n}\n</code></pre>\n\n<p>For your <code>sortHeap</code> method, I think you want something like:</p>\n\n<pre><code>public static void testMinHeap(){\n    int[] a = initRandom();\n    MinHeap h = new MinHeap(a.length);\n    for(int i=0; i&lt;a.length; i++) {\n        h.add(a[i]);\n    }\n\n    // now remove things in order and add them back to the array\n    int ix = 0;\n    while (!h.isEmpty) {\n      a[ix] = h.remove();\n      ix++;\n    }\n\n    print(a);\n}\n</code></pre>\n"}],"owner":{"account_id":7251851,"reputation":39,"user_id":5531829,"display_name":"3noo6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1639312977,"creation_date":1522732170,"question_id":49622638,"body_markdown":"I have this two classes and I am asking about the `heapSort()` method. how to implement it in the the `Test` calss, also, can you please check my `add()` method and my `smallestChild()` method? \r\n\r\nFor the `heapSort()` method, the method should sort the array in ascending order the algorithm is to traverse the array and add all the numbers to the array and them remove all the numbers and put them back into the array!! Honestly this algorithm confused me and I don&#39;t know exactly how to do that? does the `heapSort()` need a helper method? or how?\r\n\r\nthis is the first class `MinHeap`\r\n\r\n    import java.util.NoSuchElementException;\r\n    public class MinHeap {\r\n\t    private int[] heap;   // The heap.\r\n\t    private int size; // the next index\r\n        public MinHeap(int capacity) {\r\n    \t\theap = new int[capacity];\r\n\t    \tsize = 0;\r\n\t    }\r\n\r\n        public boolean isEmpty() {\r\n\t        return size == 0;\r\n\t    }\r\n\r\n        public void add(int n) {\r\n\t    \tif (size &lt; heap.length) {\r\n\t\t    \tsize++;\r\n\t\t\t    n = heap[size-1];\r\n\t\t\t    int p = (size -1)/2;\r\n\t\t\t    while(n != 0 &amp;&amp; n &lt; heap[p]) {\r\n\t\t\t\t    swap(size, p);\r\n\t\t\t\t    size = p;\r\n\t\t\t\t    p=(size-1)/2;\r\n\t    \t\t}\r\n\t\t    \tsize++;\t\r\n\t\t    } else {\r\n\t\t\t    throw new HeapFullException();\r\n\t\t    }\r\n\t    }\r\n\r\n        private int smallestChild(int current) {\r\n\t    \tif(size &lt; heap.length) {\r\n\t\t    \tint left = current *2+2;\r\n\t\t\t    int right = current * 2 +1;\r\n\t\t\t    if(heap[left]&gt;heap[right]) {\r\n\t\t\t\t    return left;\r\n\t\t\t    } else if(heap[right]&gt;heap[left]) {\r\n\t\t\t\t    return right;\r\n    \t\t\t} else {\r\n\t    \t\t\treturn left;\r\n\t\t    \t}\r\n\t\t    } else {\r\n\t\t\t    return -1;\r\n    \t\t}\t\t\r\n\t    }\r\n\r\n        public int remove() {\r\n\t    \tif (size == 0) {\r\n\t\t    \t// if size has no element to remove throw exception\r\n\t\t\t    throw new NoSuchElementException();\r\n    \t\t} else {\r\n\t    \t\t// hold the minimum element\r\n\t\t    \tint minElement = heap[0];\r\n\t\t\t    // set the minimum index to the highest index and decrement the size\r\n\t    \t\theap[0] = heap[size-1];\r\n    \t\t\tsize--;\r\n\t\t\t    int p = 0;\r\n\t\t\t       while(heap[p] &gt; heap[smallestChild(p)]) {\r\n\t\t\t\t    int c = smallestChild(p);\r\n\t\t\t\t    swap(p, c);\r\n\t\t\t\t    p = c;\r\n    \t\t\t}\r\n\t    \t\treturn minElement;\r\n    \t\t}\r\n\t    }\r\n\r\n        public String toString() {\r\n\t    \tString s = &quot;&quot;;\r\n\t\t    for(int i=0; i&lt;size; i++) {\r\n\t\t\t    s += i + &quot;: &quot; + heap[i] + &quot;\\n&quot;;\r\n    \t\t}\r\n\t    \treturn s;\r\n    \t}\r\n\r\n        public int[] toArray() {\r\n\t        int[] a = new int[size];\r\n\t        for(int i=0; i&lt;size; i++) {\r\n\t            a[i] = heap[i];\r\n    \t    }\r\n\t        return a;\r\n\t    }\r\n\r\n        private void swap(int x, int y) {\r\n\t\t    int temp = heap[x];\r\n\t\t    heap[x] = heap[y];\r\n\t\t    heap[y] = temp;\r\n    \t}\r\n    \r\n        class HeapFullException extends RuntimeException {\r\n\t\t    public static final long serialVersionUID = 8320632366082135L;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nthe `Test` class where I should write `sortHeap()` method is:\r\n\r\n    import java.util.Random;\r\n    public class Test {\r\n\r\n        private static Random rand = new Random();\r\n    \r\n        public static void main(String[] args) {\r\n    \ttestMinHeap();\r\n        }\r\n    \r\n\r\n        public static void testMinHeap(){\r\n    \t    int[] a = initRandom();\r\n            MinHeap h = new MinHeap(a.length);\r\n            for(int i=0; i&lt;a.length; i++) {\r\n                h.add(a[i]);\r\n            }\r\n            print(a);\r\n            System.out.println(&quot;Smallest: &quot; + h.remove());\r\n            int[] b = h.toArray();\r\n            print(b);\r\n        }\r\n  \r\n        private static int[] initRandom() {\r\n            int[] a = new int[rand.nextInt(40)];\r\n            for(int i=0; i&lt;a.length; i++) {\r\n                a[i] = rand.nextInt(100);\r\n            }\r\n            return a;\r\n        }\r\n    \r\n  \r\n        private static void print(int[] a) {\r\n            for(int i=0; i&lt;a.length; i++) {\r\n                System.out.print(a[i] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nhow to writhe the `sortHeap()`?? \r\nplease help me to understand it and get ready for my exam\r\nthank you","title":"understanding minheap and heapSort method","body":"<p>I have this two classes and I am asking about the <code>heapSort()</code> method. how to implement it in the the <code>Test</code> calss, also, can you please check my <code>add()</code> method and my <code>smallestChild()</code> method? </p>\n\n<p>For the <code>heapSort()</code> method, the method should sort the array in ascending order the algorithm is to traverse the array and add all the numbers to the array and them remove all the numbers and put them back into the array!! Honestly this algorithm confused me and I don't know exactly how to do that? does the <code>heapSort()</code> need a helper method? or how?</p>\n\n<p>this is the first class <code>MinHeap</code></p>\n\n<pre><code>import java.util.NoSuchElementException;\npublic class MinHeap {\n    private int[] heap;   // The heap.\n    private int size; // the next index\n    public MinHeap(int capacity) {\n        heap = new int[capacity];\n        size = 0;\n    }\n\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    public void add(int n) {\n        if (size &lt; heap.length) {\n            size++;\n            n = heap[size-1];\n            int p = (size -1)/2;\n            while(n != 0 &amp;&amp; n &lt; heap[p]) {\n                swap(size, p);\n                size = p;\n                p=(size-1)/2;\n            }\n            size++; \n        } else {\n            throw new HeapFullException();\n        }\n    }\n\n    private int smallestChild(int current) {\n        if(size &lt; heap.length) {\n            int left = current *2+2;\n            int right = current * 2 +1;\n            if(heap[left]&gt;heap[right]) {\n                return left;\n            } else if(heap[right]&gt;heap[left]) {\n                return right;\n            } else {\n                return left;\n            }\n        } else {\n            return -1;\n        }       \n    }\n\n    public int remove() {\n        if (size == 0) {\n            // if size has no element to remove throw exception\n            throw new NoSuchElementException();\n        } else {\n            // hold the minimum element\n            int minElement = heap[0];\n            // set the minimum index to the highest index and decrement the size\n            heap[0] = heap[size-1];\n            size--;\n            int p = 0;\n               while(heap[p] &gt; heap[smallestChild(p)]) {\n                int c = smallestChild(p);\n                swap(p, c);\n                p = c;\n            }\n            return minElement;\n        }\n    }\n\n    public String toString() {\n        String s = \"\";\n        for(int i=0; i&lt;size; i++) {\n            s += i + \": \" + heap[i] + \"\\n\";\n        }\n        return s;\n    }\n\n    public int[] toArray() {\n        int[] a = new int[size];\n        for(int i=0; i&lt;size; i++) {\n            a[i] = heap[i];\n        }\n        return a;\n    }\n\n    private void swap(int x, int y) {\n        int temp = heap[x];\n        heap[x] = heap[y];\n        heap[y] = temp;\n    }\n\n    class HeapFullException extends RuntimeException {\n        public static final long serialVersionUID = 8320632366082135L;\n    }\n}\n</code></pre>\n\n<p>the <code>Test</code> class where I should write <code>sortHeap()</code> method is:</p>\n\n<pre><code>import java.util.Random;\npublic class Test {\n\n    private static Random rand = new Random();\n\n    public static void main(String[] args) {\n    testMinHeap();\n    }\n\n\n    public static void testMinHeap(){\n        int[] a = initRandom();\n        MinHeap h = new MinHeap(a.length);\n        for(int i=0; i&lt;a.length; i++) {\n            h.add(a[i]);\n        }\n        print(a);\n        System.out.println(\"Smallest: \" + h.remove());\n        int[] b = h.toArray();\n        print(b);\n    }\n\n    private static int[] initRandom() {\n        int[] a = new int[rand.nextInt(40)];\n        for(int i=0; i&lt;a.length; i++) {\n            a[i] = rand.nextInt(100);\n        }\n        return a;\n    }\n\n\n    private static void print(int[] a) {\n        for(int i=0; i&lt;a.length; i++) {\n            System.out.print(a[i] + \" \");\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>how to writhe the <code>sortHeap()</code>?? \nplease help me to understand it and get ready for my exam\nthank you</p>\n"},{"tags":["java","utf-8","heap-memory","ansi"],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1526315509,"creation_date":1526315251,"answer_id":50334981,"question_id":50334820,"body_markdown":"Don&#39;t read the whole file at once:\r\n\r\n    ByteBuffer bb = ByteBuffer.wrap(Files.readAllBytes(p));\r\n\r\nInstead, try to read line-by-line:\r\n\r\n    Files.lines(p, Charset.forName(&quot;windows-1252&quot;)).forEach(line -&gt; {\r\n       // Convert your line, write to file\r\n    });","title":"Converting ANSI to UTF-8 &amp; java.lang.OutOfMemoryError: Java heap space","body":"<p>Don't read the whole file at once:</p>\n\n<pre><code>ByteBuffer bb = ByteBuffer.wrap(Files.readAllBytes(p));\n</code></pre>\n\n<p>Instead, try to read line-by-line:</p>\n\n<pre><code>Files.lines(p, Charset.forName(\"windows-1252\")).forEach(line -&gt; {\n   // Convert your line, write to file\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526317705,"creation_date":1526316849,"answer_id":50335391,"question_id":50334820,"body_markdown":"If you have a large file, which is larger then available random access memory you should convert characters chunk-by-chunk.\r\n \r\nFollowing you can found the example:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.FileChannel;\r\n    import java.nio.channels.ReadableByteChannel;\r\n    import java.nio.channels.WritableByteChannel;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.CharsetDecoder;\r\n    import java.nio.charset.CharsetEncoder;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardOpenOption;\r\n    \r\n    public class Iconv {\r\n    \r\n    \tprivate static void iconv(Charset toCode, Charset fromCode, Path src, Path dst) throws IOException {\r\n    \t\tCharsetDecoder decoder = fromCode.newDecoder();\r\n    \t\tCharsetEncoder encoder = toCode.newEncoder();\r\n    \t\ttry (ReadableByteChannel source = FileChannel.open(src, StandardOpenOption.READ);\r\n    \t\t\t\tWritableByteChannel destination = FileChannel.open(dst, StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING,\r\n    \t\t\t\t\t\tStandardOpenOption.WRITE);) {\r\n    \t\t\tByteBuffer readBytes = ByteBuffer.allocate(4096);\r\n    \t\t\twhile (source.read(readBytes) &gt; 0) {\r\n    \t\t\t\treadBytes.flip();\r\n    \t\t\t\tdestination.write(encoder.encode(decoder.decode(readBytes)));\r\n    \t\t\t\treadBytes.clear();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\ticonv(Charset.forName(&quot;UTF-8&quot;), Charset.forName(&quot;Windows-1252&quot;), Paths.get(&quot;test.csv&quot;) , Paths.get(&quot;test-utf8.csv&quot;) );\r\n    \t}\r\n    \r\n    }\r\n\r\n  ","title":"Converting ANSI to UTF-8 &amp; java.lang.OutOfMemoryError: Java heap space","body":"<p>If you have a large file, which is larger then available random access memory you should convert characters chunk-by-chunk.</p>\n\n<p>Following you can found the example:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.FileChannel;\nimport java.nio.channels.ReadableByteChannel;\nimport java.nio.channels.WritableByteChannel;\nimport java.nio.charset.Charset;\nimport java.nio.charset.CharsetDecoder;\nimport java.nio.charset.CharsetEncoder;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\npublic class Iconv {\n\n    private static void iconv(Charset toCode, Charset fromCode, Path src, Path dst) throws IOException {\n        CharsetDecoder decoder = fromCode.newDecoder();\n        CharsetEncoder encoder = toCode.newEncoder();\n        try (ReadableByteChannel source = FileChannel.open(src, StandardOpenOption.READ);\n                WritableByteChannel destination = FileChannel.open(dst, StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING,\n                        StandardOpenOption.WRITE);) {\n            ByteBuffer readBytes = ByteBuffer.allocate(4096);\n            while (source.read(readBytes) &gt; 0) {\n                readBytes.flip();\n                destination.write(encoder.encode(decoder.decode(readBytes)));\n                readBytes.clear();\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        iconv(Charset.forName(\"UTF-8\"), Charset.forName(\"Windows-1252\"), Paths.get(\"test.csv\") , Paths.get(\"test-utf8.csv\") );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526320677,"creation_date":1526320677,"answer_id":50336369,"question_id":50334820,"body_markdown":"Stream the input, convert the character encoding, and write the output as you go. This way, you don&#39;t need to read the entire file into memory, but only as much as you want. \r\n\r\nIf you want to minimize the number of (slowish) system calls, you could use a similar approach, but explicitly create a `BufferedInputStream` with a larger internal buffer, and then wrap that in an `InputStreamReader`. But the simple approach shown here is unlikely to be a critical point in many applications.\r\n\r\n    private static final Charset WINDOWS1252 = Charset.forName(&quot;windows-1252&quot;);\r\n\r\n    private static final int DEFAULT_BUF_SIZE = 8192;\r\n\r\n    public static void transcode(Path input, Path output) throws IOException {\r\n        try (Reader r = Files.newBufferedReader(input, WINDOWS1252);\r\n             Writer w = Files.newBufferedWriter(output, StandardCharsets.UTF_8, StandardOpenOption.CREATE_NEW)) {\r\n            char[] buf = new char[DEFAULT_BUF_SIZE];\r\n            while (true) {\r\n                int n = r.read(buf);\r\n                if (n &lt; 0) break;\r\n                w.write(buf, 0, n);\r\n            }\r\n        }\r\n    }\r\n","title":"Converting ANSI to UTF-8 &amp; java.lang.OutOfMemoryError: Java heap space","body":"<p>Stream the input, convert the character encoding, and write the output as you go. This way, you don't need to read the entire file into memory, but only as much as you want. </p>\n\n<p>If you want to minimize the number of (slowish) system calls, you could use a similar approach, but explicitly create a <code>BufferedInputStream</code> with a larger internal buffer, and then wrap that in an <code>InputStreamReader</code>. But the simple approach shown here is unlikely to be a critical point in many applications.</p>\n\n<pre><code>private static final Charset WINDOWS1252 = Charset.forName(\"windows-1252\");\n\nprivate static final int DEFAULT_BUF_SIZE = 8192;\n\npublic static void transcode(Path input, Path output) throws IOException {\n    try (Reader r = Files.newBufferedReader(input, WINDOWS1252);\n         Writer w = Files.newBufferedWriter(output, StandardCharsets.UTF_8, StandardOpenOption.CREATE_NEW)) {\n        char[] buf = new char[DEFAULT_BUF_SIZE];\n        while (true) {\n            int n = r.read(buf);\n            if (n &lt; 0) break;\n            w.write(buf, 0, n);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12447979,"reputation":43,"user_id":9063597,"display_name":"SDJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1639312936,"creation_date":1526314565,"question_id":50334820,"body_markdown":"My final goal is to convert a file from ANSI to UTF-8. To do so, I use some code with Java : \r\n\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.CharBuffer;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class ConvertFromAnsiToUtf8 {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\ttry {\r\n    \t\t\tPath p = Paths.get(&quot;C:\\\\shared_to_vm\\\\test_encode\\\\test.csv&quot;);\r\n    \t\t\tByteBuffer bb = ByteBuffer.wrap(Files.readAllBytes(p));\r\n    \t\t\tCharBuffer cb = Charset.forName(&quot;windows-1252&quot;).decode(bb);\r\n    \t\t\tbb = Charset.forName(&quot;UTF-8&quot;).encode(cb);\r\n    \t\t\tFiles.write(p, bb.array());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t} \r\n    \r\n\t\t} \r\n    \r\n    }\r\n\t\t\t  \t\r\nThe code works perfectly when I test it on small files. My file is convert from ANSI to UTF-8 and all characters are recognize and well encoded. But as soon as I try to use it on the file I need to convert, I get the error java.lang.OutOfMemoryError: Java heap space. \r\n\r\nSo far as my understanding goes, I got like 1.5 million lines in my file so I am pretty sure I create too many objects with my application. \r\n\r\nOf course, I have checked what this error means and how I could solve it (like [here][1] or [here][2] for example) but is improving the memory capacity of my JVM the only way to solve it ? And if it is, how much more should i use ? \r\n\r\nAny kind of help (tip, advice, link or else) would be greatly appreciated ! \r\n\r\n\r\n  [1]: https://javarevisited.blogspot.fr/2011/09/javalangoutofmemoryerror-permgen-space.html\r\n  [2]: https://javarevisited.blogspot.fr/2011/05/java-heap-space-memory-size-jvm.html","title":"Converting ANSI to UTF-8 &amp; java.lang.OutOfMemoryError: Java heap space","body":"<p>My final goal is to convert a file from ANSI to UTF-8. To do so, I use some code with Java : </p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.Charset;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class ConvertFromAnsiToUtf8 {\n\n    public static void main(String[] args) throws IOException {\n\n        try {\n            Path p = Paths.get(\"C:\\\\shared_to_vm\\\\test_encode\\\\test.csv\");\n            ByteBuffer bb = ByteBuffer.wrap(Files.readAllBytes(p));\n            CharBuffer cb = Charset.forName(\"windows-1252\").decode(bb);\n            bb = Charset.forName(\"UTF-8\").encode(cb);\n            Files.write(p, bb.array());\n        } catch (Exception e) {\n            System.out.println(e);\n        } \n\n    } \n\n}\n</code></pre>\n\n<p>The code works perfectly when I test it on small files. My file is convert from ANSI to UTF-8 and all characters are recognize and well encoded. But as soon as I try to use it on the file I need to convert, I get the error java.lang.OutOfMemoryError: Java heap space. </p>\n\n<p>So far as my understanding goes, I got like 1.5 million lines in my file so I am pretty sure I create too many objects with my application. </p>\n\n<p>Of course, I have checked what this error means and how I could solve it (like <a href=\"https://javarevisited.blogspot.fr/2011/09/javalangoutofmemoryerror-permgen-space.html\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://javarevisited.blogspot.fr/2011/05/java-heap-space-memory-size-jvm.html\" rel=\"nofollow noreferrer\">here</a> for example) but is improving the memory capacity of my JVM the only way to solve it ? And if it is, how much more should i use ? </p>\n\n<p>Any kind of help (tip, advice, link or else) would be greatly appreciated ! </p>\n"},{"tags":["java","heap-memory","drools","wildfly-10","kie"],"owner":{"account_id":1528355,"reputation":742,"user_id":1426222,"accept_rate":50,"display_name":"Kim Zeevaarders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639312890,"creation_date":1527846081,"question_id":50640529,"body_markdown":"We are using **drools 6.3.0** and implemented our **kiemodule** as a deployable maven artifact (kjar). Our application uses this kiemodule and runs in Wildfly-10.\r\n\r\nIn production, newer version of the kiemodule are automatically  detected and loaded in the application by a kieScanner that runs at regular intervals.\r\n\r\nIf the scanner sees a new version of the kiemodule it will load it on-the-fly and at runtime. \r\n\r\nThis is very cool functionality, but recently we discovered that every time a new ZipKieModule is loaded, **the old ZipKieModule remains on the heap and is not GC&#39;ed!** \r\n\r\nThat means if we do not restart the servers AND deploy a lot of new KieModules we are susceptible to out-of-memory exceptions since each kiemodule-upgrade consumes appr. 150mb on the heap.\r\n\r\nCan anybody point me in the right direction how to analzye why these ZipKieModukles are not gc&#39;ed?\r\n\r\nI attached a screenshot to this post that shows the report the Eclipse Memory Analyzer (MAT, http://www.eclipse.org/mat/downloads.php) created that clearly indicates that 6 instances of the ZipKieModule are clogging the heap and are suspects for a memory leak:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHope anybody can help :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ah4aM.png","title":"Drools 6.3.0: Old ZiPKieModules remain in the heap after upgrading (executing scanNow in kiescanner JMX bean)","body":"<p>We are using <strong>drools 6.3.0</strong> and implemented our <strong>kiemodule</strong> as a deployable maven artifact (kjar). Our application uses this kiemodule and runs in Wildfly-10.</p>\n\n<p>In production, newer version of the kiemodule are automatically  detected and loaded in the application by a kieScanner that runs at regular intervals.</p>\n\n<p>If the scanner sees a new version of the kiemodule it will load it on-the-fly and at runtime. </p>\n\n<p>This is very cool functionality, but recently we discovered that every time a new ZipKieModule is loaded, <strong>the old ZipKieModule remains on the heap and is not GC'ed!</strong> </p>\n\n<p>That means if we do not restart the servers AND deploy a lot of new KieModules we are susceptible to out-of-memory exceptions since each kiemodule-upgrade consumes appr. 150mb on the heap.</p>\n\n<p>Can anybody point me in the right direction how to analzye why these ZipKieModukles are not gc'ed?</p>\n\n<p>I attached a screenshot to this post that shows the report the Eclipse Memory Analyzer (MAT, <a href=\"http://www.eclipse.org/mat/downloads.php\" rel=\"nofollow noreferrer\">http://www.eclipse.org/mat/downloads.php</a>) created that clearly indicates that 6 instances of the ZipKieModule are clogging the heap and are suspects for a memory leak:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ah4aM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ah4aM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope anybody can help :)</p>\n"},{"tags":["java","class","heap-memory","final","instance-variables"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1538653525,"post_id":52645825,"comment_id":92223679,"body_markdown":"A final instance variable does take up memory. It can be different for every instance, and that value must be stored somewhere. The information in the quote is wrong.","body":"A final instance variable does take up memory. It can be different for every instance, and that value must be stored somewhere. The information in the quote is wrong."},{"owner":{"account_id":12587808,"reputation":43,"user_id":9155914,"display_name":"Himanshu"},"score":0,"creation_date":1538653796,"post_id":52645825,"comment_id":92223823,"body_markdown":"Thanks! Is book&#39;s line really wrong? Is there is any other way to justify that it is correct, if any? just curious!","body":"Thanks! Is book&#39;s line really wrong? Is there is any other way to justify that it is correct, if any? just curious!"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1538653861,"post_id":52645825,"comment_id":92223873,"body_markdown":"[The book](http://iiti.ac.in/people/~tanimad/JavaTheCompleteReference.pdf#%5B%7B%22num%22%3A2577%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2C-27%2C670%2Cnull%5D) seems to be assuming that a final variable must be a compile-time constant. It appears to be a mistake. It also says &quot;This means that you must initialize a\nfinal variable when it is declared.&quot; which is also not necessarily true, in particular for final instance variables that can be assigned in the constructor.","body":"<a href=\"http://iiti.ac.in/people/~tanimad/JavaTheCompleteReference.pdf#%5B%7B%22num%22%3A2577%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2C-27%2C670%2Cnull%5D\" rel=\"nofollow noreferrer\">The book</a> seems to be assuming that a final variable must be a compile-time constant. It appears to be a mistake. It also says &quot;This means that you must initialize a final variable when it is declared.&quot; which is also not necessarily true, in particular for final instance variables that can be assigned in the constructor."},{"owner":{"account_id":12587808,"reputation":43,"user_id":9155914,"display_name":"Himanshu"},"score":0,"creation_date":1538654165,"post_id":52645825,"comment_id":92224078,"body_markdown":"Can this assumption be made by the compiler if final variables are initialized at their declaration itself and allocate memory to it only one time because obviously every instance created will have the same value for that final variable.is compiler  smart enough to do this kind of optimization? and whether it is allowed in some version of java or not?","body":"Can this assumption be made by the compiler if final variables are initialized at their declaration itself and allocate memory to it only one time because obviously every instance created will have the same value for that final variable.is compiler  smart enough to do this kind of optimization? and whether it is allowed in some version of java or not?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1538709094,"creation_date":1538654432,"answer_id":52646174,"question_id":52645825,"body_markdown":"The first statement is correct ... though limited to `final` fields of instances.\r\n\r\nThe second statement is incorrect.\r\n\r\nA `final` variable will occupy memory *somewhere* at runtime.  However where that memory is depends on the kind of variable that you declare as `final`.\r\n\r\n - If the variable is a local variable or a method&#39;s formal argument variable, then the memory cell will be on the stack.\r\n\r\n - If the variable is a non-static field, then the memory cell will be part of an object, and will be in the heap.\r\n\r\n - If the variable is a static field, then the location of the memory cell will be implementation dependent.  (It could be in the heap, or it could be somewhere else.)\r\n\r\nIt should be noted that some (but not all!) kinds of `static final` fields are compile constants, and their values are effectively inlined by the compiler.  But even when that happens, there will still be an actual field that occupies a memory cell at runtime, and the contents of that memory cell can be accessed reflectively.  \r\n\r\n(Indeed, you can even modify a `final` field reflectively.  When you do that, the behavior is not specified by the JVM spec, and can be rather surprising in some cases.) \r\n\r\n-----------------------\r\n\r\n&gt; Does final variables occupy memory on a per-instance basis?\r\n\r\nNo, because:\r\n\r\n  - static variables don&#39;t &quot;occupy memory on a per-instance&quot; whether or not they are `final`.\r\n  - local variables and parameters can be `final` too, and they don&#39;t  &quot;occupy memory on a per-instance&quot; \r\n\r\n-----------------------\r\n\r\n&gt; Can this assumption be made by the compiler if `final` variables are initialized at their declaration itself and allocate memory to it only one time because obviously every instance created will have the same value for that final variable.   Is compiler smart enough to do this kind of optimization?\r\n\r\nConsider this\r\n\r\n    public class Test\r\n        public static test(final int val) {\r\n            System.out.println(val);\r\n        }\r\n    }\r\n\r\nNow `val` is `final`, but its value depends on how you call `test` method.  That is not known at (`javac`) compile time, and typically it is not known to the JIT compiler either.  Indeed, assuming that `test` is called with different parameters, you can&#39;t directly optimize away the `val` memory cell.\r\n\r\nThe same applies to every case apart from `static final` variables that qualify as compile-time constants (as per the JLS definition).  \r\n\r\nIt is theoretically possible that the JIT compiler could see that `Test.test` is only ever called with the same constant value, and inline that value into the native code so that no memory cell is needed.  However, that optimization has minimal performance benefit, and is unlikely to be applicable in real-life code.  So I doubt that it is *worth* implementing it.\r\n\r\n(It is more likely for `val` to be optimized away due to inlining the body of `test` into its call site.  That is a more general optimization an is definitely worthwhile.  That may then allow the peephole optimizer to deduce that `val` is not needed in the inlined code.)\r\n            ","title":"Does final variables occupy memory on a per-instance basis?","body":"<p>The first statement is correct ... though limited to <code>final</code> fields of instances.</p>\n\n<p>The second statement is incorrect.</p>\n\n<p>A <code>final</code> variable will occupy memory <em>somewhere</em> at runtime.  However where that memory is depends on the kind of variable that you declare as <code>final</code>.</p>\n\n<ul>\n<li><p>If the variable is a local variable or a method's formal argument variable, then the memory cell will be on the stack.</p></li>\n<li><p>If the variable is a non-static field, then the memory cell will be part of an object, and will be in the heap.</p></li>\n<li><p>If the variable is a static field, then the location of the memory cell will be implementation dependent.  (It could be in the heap, or it could be somewhere else.)</p></li>\n</ul>\n\n<p>It should be noted that some (but not all!) kinds of <code>static final</code> fields are compile constants, and their values are effectively inlined by the compiler.  But even when that happens, there will still be an actual field that occupies a memory cell at runtime, and the contents of that memory cell can be accessed reflectively.  </p>\n\n<p>(Indeed, you can even modify a <code>final</code> field reflectively.  When you do that, the behavior is not specified by the JVM spec, and can be rather surprising in some cases.) </p>\n\n<hr>\n\n<blockquote>\n  <p>Does final variables occupy memory on a per-instance basis?</p>\n</blockquote>\n\n<p>No, because:</p>\n\n<ul>\n<li>static variables don't \"occupy memory on a per-instance\" whether or not they are <code>final</code>.</li>\n<li>local variables and parameters can be <code>final</code> too, and they don't  \"occupy memory on a per-instance\" </li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p>Can this assumption be made by the compiler if <code>final</code> variables are initialized at their declaration itself and allocate memory to it only one time because obviously every instance created will have the same value for that final variable.   Is compiler smart enough to do this kind of optimization?</p>\n</blockquote>\n\n<p>Consider this</p>\n\n<pre><code>public class Test\n    public static test(final int val) {\n        System.out.println(val);\n    }\n}\n</code></pre>\n\n<p>Now <code>val</code> is <code>final</code>, but its value depends on how you call <code>test</code> method.  That is not known at (<code>javac</code>) compile time, and typically it is not known to the JIT compiler either.  Indeed, assuming that <code>test</code> is called with different parameters, you can't directly optimize away the <code>val</code> memory cell.</p>\n\n<p>The same applies to every case apart from <code>static final</code> variables that qualify as compile-time constants (as per the JLS definition).  </p>\n\n<p>It is theoretically possible that the JIT compiler could see that <code>Test.test</code> is only ever called with the same constant value, and inline that value into the native code so that no memory cell is needed.  However, that optimization has minimal performance benefit, and is unlikely to be applicable in real-life code.  So I doubt that it is <em>worth</em> implementing it.</p>\n\n<p>(It is more likely for <code>val</code> to be optimized away due to inlining the body of <code>test</code> into its call site.  That is a more general optimization an is definitely worthwhile.  That may then allow the peephole optimizer to deduce that <code>val</code> is not needed in the inlined code.)</p>\n"}],"owner":{"account_id":12587808,"reputation":43,"user_id":9155914,"display_name":"Himanshu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52646174,"answer_count":1,"score":1,"last_activity_date":1639312847,"creation_date":1538653349,"question_id":52645825,"body_markdown":"I have read other question-answers regarding final instance variables and  i came to knew that ***non-static final instance variables are created in heap for every instance of the class*** but in *java -the complete reference by herbert schildt* it is said that :\r\n\r\n&gt; Variables declared as final do not occupy memory on a per-instance basis .thus, a final variable is essentially a constant\r\n\r\nWhich is correct?","title":"Does final variables occupy memory on a per-instance basis?","body":"<p>I have read other question-answers regarding final instance variables and  i came to knew that <strong><em>non-static final instance variables are created in heap for every instance of the class</em></strong> but in <em>java -the complete reference by herbert schildt</em> it is said that :</p>\n\n<blockquote>\n  <p>Variables declared as final do not occupy memory on a per-instance basis .thus, a final variable is essentially a constant</p>\n</blockquote>\n\n<p>Which is correct?</p>\n"},{"tags":["java","heap-memory","guava"],"comments":[{"owner":{"account_id":125045,"reputation":1133,"user_id":320550,"accept_rate":42,"display_name":"user320550"},"score":0,"creation_date":1476989913,"post_id":40098123,"comment_id":67593746,"body_markdown":"Anyone has any ideas on this?","body":"Anyone has any ideas on this?"}],"answers":[{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491895290,"creation_date":1490260032,"answer_id":42971481,"question_id":40098123,"body_markdown":"Under the covers a `Cache` is just a fancy `Map`, so it has similar space limitations. Like `Map` it can&#39;t contain more than than `Integer.MAX_VALUE` entries (since that&#39;s the return type of `size()`), so your theoretical upper-bound cache size is ~2 billion elements. You might also be interested in  Guava&#39;s [awesome element-cost analysis][1], which details the exact number of bytes used by different data structures.\r\n\r\nOf course in practice the real concern isn&#39;t usually the number of elements in the cache (its size), but the amount of memory consumed by the objects *being cached*. This is independent from the cache&#39;s size - a single cached object could be large enough consume all your heap.\r\n\r\nBy default `Cache` doesn&#39;t do anything special in this case, and the JVM crashes. Most of the time *this is what you want* - dropping elements from the cache silently could break your program&#39;s assumptions.\r\n\r\nIf you really do want to drop entries as you approach out-of-memory conditions you can [use soft references][2] with [`CacheBuilder.softValues()`][3]. The JVM will attempt to garbage collect soft references when it&#39;s at risk of running out of free heap space. I would encourage you to only use this option as a last resort - the JVM has to do extra work to handle soft references, and needing to use them is often a hint that you could be doing something else a different way.\r\n\r\n\r\n  [1]: https://github.com/DimitrisAndreou/memory-measurer/blob/master/ElementCostInDataStructures.txt\r\n  [2]: https://github.com/google/guava/wiki/CachesExplained#reference-based-eviction\r\n  [3]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/cache/CacheBuilder.html#softValues()","title":"Guava maximum cache size","body":"<p>Under the covers a <code>Cache</code> is just a fancy <code>Map</code>, so it has similar space limitations. Like <code>Map</code> it can't contain more than than <code>Integer.MAX_VALUE</code> entries (since that's the return type of <code>size()</code>), so your theoretical upper-bound cache size is ~2 billion elements. You might also be interested in  Guava's <a href=\"https://github.com/DimitrisAndreou/memory-measurer/blob/master/ElementCostInDataStructures.txt\" rel=\"nofollow noreferrer\">awesome element-cost analysis</a>, which details the exact number of bytes used by different data structures.</p>\n\n<p>Of course in practice the real concern isn't usually the number of elements in the cache (its size), but the amount of memory consumed by the objects <em>being cached</em>. This is independent from the cache's size - a single cached object could be large enough consume all your heap.</p>\n\n<p>By default <code>Cache</code> doesn't do anything special in this case, and the JVM crashes. Most of the time <em>this is what you want</em> - dropping elements from the cache silently could break your program's assumptions.</p>\n\n<p>If you really do want to drop entries as you approach out-of-memory conditions you can <a href=\"https://github.com/google/guava/wiki/CachesExplained#reference-based-eviction\" rel=\"nofollow noreferrer\">use soft references</a> with <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/cache/CacheBuilder.html#softValues()\" rel=\"nofollow noreferrer\"><code>CacheBuilder.softValues()</code></a>. The JVM will attempt to garbage collect soft references when it's at risk of running out of free heap space. I would encourage you to only use this option as a last resort - the JVM has to do extra work to handle soft references, and needing to use them is often a hint that you could be doing something else a different way.</p>\n"}],"owner":{"account_id":125045,"reputation":1133,"user_id":320550,"accept_rate":42,"display_name":"user320550"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3481,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639312810,"creation_date":1476754172,"question_id":40098123,"body_markdown":"I&#39;m using Guava cache for my application and was wondering the what the default behavior would be if the maximumSize was not set. I understand the behavior when the maximumSize is set as it&#39;s explained in https://github.com/google/guava/wiki/CachesExplained#size-based-eviction.\r\n\r\nBut what happens when the maximumSize is not set and JVM run out of heap space? I assume that garbage collector will run and will free up space which means that entries will be dropped from the cache? ","title":"Guava maximum cache size","body":"<p>I'm using Guava cache for my application and was wondering the what the default behavior would be if the maximumSize was not set. I understand the behavior when the maximumSize is set as it's explained in <a href=\"https://github.com/google/guava/wiki/CachesExplained#size-based-eviction\" rel=\"nofollow\">https://github.com/google/guava/wiki/CachesExplained#size-based-eviction</a>.</p>\n\n<p>But what happens when the maximumSize is not set and JVM run out of heap space? I assume that garbage collector will run and will free up space which means that entries will be dropped from the cache? </p>\n"},{"tags":["java","heap-memory","visualvm"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1476990399,"post_id":40162517,"comment_id":67594024,"body_markdown":"Which GC are you using?","body":"Which GC are you using?"},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1476992737,"post_id":40162517,"comment_id":67595357,"body_markdown":"Whatever the default one is in Java 1.8.0_71, Tomcat 7.0.54, RHEL 7.2","body":"Whatever the default one is in Java 1.8.0_71, Tomcat 7.0.54, RHEL 7.2"},{"owner":{"account_id":2476969,"reputation":1552,"user_id":2157401,"accept_rate":100,"display_name":"MordechayS"},"score":0,"creation_date":1477029336,"post_id":40162517,"comment_id":67606634,"body_markdown":"Is this a repeating pattern?","body":"Is this a repeating pattern?"},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1477053181,"post_id":40162517,"comment_id":67620621,"body_markdown":"@MordechayS - no, it seems to only happen like this after a JVM restart.","body":"@MordechayS - no, it seems to only happen like this after a JVM restart."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1477057579,"post_id":40162517,"comment_id":67623739,"body_markdown":"@Matt What&#39;s the odd part in this to you? The GC isn&#39;t dumb. If you&#39;re doing a repeating process, then the GC will learn it and become very repetitive itself. What you&#39;re seeing is the beginning when the GC is &quot;testing the waters&quot;. Presumably observing the memory usage after 10 minutes you&#39;ll just see a regular sawtooth pattern.","body":"@Matt What&#39;s the odd part in this to you? The GC isn&#39;t dumb. If you&#39;re doing a repeating process, then the GC will learn it and become very repetitive itself. What you&#39;re seeing is the beginning when the GC is &quot;testing the waters&quot;. Presumably observing the memory usage after 10 minutes you&#39;ll just see a regular sawtooth pattern."},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1477058122,"post_id":40162517,"comment_id":67624133,"body_markdown":"@Kayaman - I didn&#39;t know the GC worked that way. I&#39;m just used to seeing a regular sawtooth pattern, so of course the beginning looks odd to me. I just hope the GC doesn&#39;t become self-aware...","body":"@Kayaman - I didn&#39;t know the GC worked that way. I&#39;m just used to seeing a regular sawtooth pattern, so of course the beginning looks odd to me. I just hope the GC doesn&#39;t become self-aware..."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477058927,"creation_date":1477058927,"answer_id":40178823,"question_id":40162517,"body_markdown":"I&#39;m not as big of an expert on GC as some are, but the general idea is that when you&#39;ve started the program you&#39;ve given it the initial heap size, max heap size and other relevant parameters and then it&#39;s go time.\r\n\r\nHowever the GC has plenty of intelligence and different algorithms that are optimized for different kinds of tasks. A naive implementation would just keep the heap size static and then collect the garbage when it&#39;s full. That&#39;s known as a &quot;stop the world&quot; collection, because the collector needs to stop everything so it can perform a little (or big) clean up.\r\n\r\nModern GC doesn&#39;t just cause long pauses into running programs because it needs to clean up, so there&#39;s always a little clean up going on as seen from the sawtooth. But when you start a program the GC has no idea what the program is going to do and how it will use memory. Therefore it has to  observe what&#39;s happening, analyze memory usage and then decide what amounts of memory it needs to keep available for immediate use, whether it needs to grow the current heap size or if it can decrease the current heap size.\r\n\r\nDepending on the behaviour of your program and the GC algorithm being used you can see a lot of different patterns. As long as you&#39;re not experiencing linear growth that ends up in an `OutOfMemoryError`, you should be relatively safe. Unless of course you want to optimize what&#39;s happening to increase throughput, responsiveness etc., but that&#39;s a more advanced subject and is more relevant when you&#39;ve gotten your code working the way you want it.","title":"Odd heap usage pattern","body":"<p>I'm not as big of an expert on GC as some are, but the general idea is that when you've started the program you've given it the initial heap size, max heap size and other relevant parameters and then it's go time.</p>\n\n<p>However the GC has plenty of intelligence and different algorithms that are optimized for different kinds of tasks. A naive implementation would just keep the heap size static and then collect the garbage when it's full. That's known as a \"stop the world\" collection, because the collector needs to stop everything so it can perform a little (or big) clean up.</p>\n\n<p>Modern GC doesn't just cause long pauses into running programs because it needs to clean up, so there's always a little clean up going on as seen from the sawtooth. But when you start a program the GC has no idea what the program is going to do and how it will use memory. Therefore it has to  observe what's happening, analyze memory usage and then decide what amounts of memory it needs to keep available for immediate use, whether it needs to grow the current heap size or if it can decrease the current heap size.</p>\n\n<p>Depending on the behaviour of your program and the GC algorithm being used you can see a lot of different patterns. As long as you're not experiencing linear growth that ends up in an <code>OutOfMemoryError</code>, you should be relatively safe. Unless of course you want to optimize what's happening to increase throughput, responsiveness etc., but that's a more advanced subject and is more relevant when you've gotten your code working the way you want it.</p>\n"}],"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40178823,"answer_count":1,"score":1,"last_activity_date":1639312749,"creation_date":1476990056,"question_id":40162517,"body_markdown":"I have a repeating process that:\n\n1. gets some data from the database\n2. builds some objects in memory, adding to a Collection\n3. writes the data from the Collection to a file\n\nAll of the objects/Collections go out of scope or are set to null after each iteration. (The Collection is reused for each iteration.)\n\nUsing Java VisualVM, I see a graph that looks like this, which seems very odd considering that it&#39;s a repeating process. Yes, the data coming back from the database is different, but it&#39;s generally the same *amount*.\n\n### Why does the heap size decrease at first? ###\n### Why does the used heap get so close to the heap size in the middle? ###\n\n[![enter image description here][1]][1]\n*(the ~30-second blip at 1:43 was just when VisualVM froze momentarily)*\n\n\n  [1]: https://i.stack.imgur.com/CABYV.png","title":"Odd heap usage pattern","body":"<p>I have a repeating process that:</p>\n<ol>\n<li>gets some data from the database</li>\n<li>builds some objects in memory, adding to a Collection</li>\n<li>writes the data from the Collection to a file</li>\n</ol>\n<p>All of the objects/Collections go out of scope or are set to null after each iteration. (The Collection is reused for each iteration.)</p>\n<p>Using Java VisualVM, I see a graph that looks like this, which seems very odd considering that it's a repeating process. Yes, the data coming back from the database is different, but it's generally the same <em>amount</em>.</p>\n<h3>Why does the heap size decrease at first?</h3>\n<h3>Why does the used heap get so close to the heap size in the middle?</h3>\n<p><a href=\"https://i.stack.imgur.com/CABYV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CABYV.png\" alt=\"enter image description here\" /></a>\n<em>(the ~30-second blip at 1:43 was just when VisualVM froze momentarily)</em></p>\n"},{"tags":["java","css","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1639291745,"post_id":70321477,"comment_id":124308395,"body_markdown":"This sounds like an [X-Y problem](http://xyproblem.info/). Instead of asking for help with your solution to the problem, edit your question and ask about the actual problem. What are you trying to do?","body":"This sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">X-Y problem</a>. Instead of asking for help with your solution to the problem, edit your question and ask about the actual problem. What are you trying to do?"},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1639291856,"post_id":70321477,"comment_id":124308411,"body_markdown":"@DebanjanB I need to identify a certain element but only if `display: none` is not set in the CSS class.","body":"@DebanjanB I need to identify a certain element but only if <code>display: none</code> is not set in the CSS class."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1639294794,"post_id":70321477,"comment_id":124308840,"body_markdown":"@BradfordGriggs I&#39;d advice you accepting and upvoting given you answers. This may increase your chances to get an answers..","body":"@BradfordGriggs I&#39;d advice you accepting and upvoting given you answers. This may increase your chances to get an answers.."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1639327497,"post_id":70321477,"comment_id":124315132,"body_markdown":"@Prophet I have upvoted almost every answer given to my question (at least 1 upvote is mine for almost every answer). I have also accepted everyone except for one. One answer did not actually answer the question but was informative so I up voted but I didn&#39;t accept as answer.","body":"@Prophet I have upvoted almost every answer given to my question (at least 1 upvote is mine for almost every answer). I have also accepted everyone except for one. One answer did not actually answer the question but was informative so I up voted but I didn&#39;t accept as answer."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1639327818,"post_id":70321477,"comment_id":124315211,"body_markdown":"You did that not for me, my friend. i really don&#39;t care. It may help you.","body":"You did that not for me, my friend. i really don&#39;t care. It may help you."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1639328260,"post_id":70321477,"comment_id":124315322,"body_markdown":"@Prophet Can you kindly share which answer you replied to that I did not accept? I apologize if I missed it. The only answer I did not accept was this one: https://stackoverflow.com/questions/70100400/remove-bot-identyfing-features-from-firefox-webdriver-source-code It was highly informative (so I up-voted it) but it addressed .net, not Java version as the OP stated.","body":"@Prophet Can you kindly share which answer you replied to that I did not accept? I apologize if I missed it. The only answer I did not accept was this one: <a href=\"https://stackoverflow.com/questions/70100400/remove-bot-identyfing-features-from-firefox-webdriver-source-code\" title=\"remove bot identyfing features from firefox webdriver source code\">stackoverflow.com/questions/70100400/&hellip;</a> It was highly informative (so I up-voted it) but it addressed .net, not Java version as the OP stated."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1639328842,"post_id":70321477,"comment_id":124315492,"body_markdown":"@Prophet If you are looking at my profile you will see several questions with unaccepted answers - that&#39;s because there were only comments to those questions, no actual answer - please take a look at the actual question page and you will see","body":"@Prophet If you are looking at my profile you will see several questions with unaccepted answers - that&#39;s because there were only comments to those questions, no actual answer - please take a look at the actual question page and you will see"}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639312733,"creation_date":1639312733,"answer_id":70323610,"question_id":70321477,"body_markdown":"Xpath executed against the page source scope.\r\nIt will work only if you able to find the display property in style attribute for the element in page source text (the result value of `driver.getPageSource()`)\r\n\r\nUnfortunately, in many cases css styles not reflected by the page source, so you should execute additional driver commands like `element.getCssValue(&#39;displayed&#39;)`. (But for check visibility I suggest to use `isDisplayed()`).\r\n\r\nIt means, you should iterate by the elements list and get sublist by some condition, which increases driver requests amount, but it&#39;s the only way to solve this.","title":"Exclude non visible elements with XPath when display: none; is set in CSS class?","body":"<p>Xpath executed against the page source scope.\nIt will work only if you able to find the display property in style attribute for the element in page source text (the result value of <code>driver.getPageSource()</code>)</p>\n<p>Unfortunately, in many cases css styles not reflected by the page source, so you should execute additional driver commands like <code>element.getCssValue('displayed')</code>. (But for check visibility I suggest to use <code>isDisplayed()</code>).</p>\n<p>It means, you should iterate by the elements list and get sublist by some condition, which increases driver requests amount, but it's the only way to solve this.</p>\n"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639312733,"creation_date":1639291123,"question_id":70321477,"body_markdown":"I need to exclude elements from `XPath` where `display: none;` is set in the CSS class. The [solution suggested here][1] will not work when the given element has a CSS class in which the `display: none;` is set [as pointed out in this comment][2].\r\n\r\nIn my specific example, the element has a class named error-result with CSS set to:\r\n\r\n    .error-result {\r\n        display: none;\r\n    }\r\n\r\nHere&#39;s the XPath I tried:\r\n\r\n    .//*[contains(text(),&#39;XXXXXX&#39;)][not(ancestor::div[contains(@style,&#39;display: none&#39;)])][not(descendant::div[contains(@style,&#39;display: none&#39;)])]\r\n\r\n\r\nThe problem is, `Selenium` still identifies the undesired element since display: none; is set only in CSS class.\r\n\r\nHow can I exclude such elements? \r\n\r\n\r\nI&#39;m using `Selenium WebDriver` with Java.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/651801\r\n  [2]: https://stackoverflow.com/questions/651783/how-do-i-select-only-visible-elements-using-xpath#comment37423318_651801","title":"Exclude non visible elements with XPath when display: none; is set in CSS class?","body":"<p>I need to exclude elements from <code>XPath</code> where <code>display: none;</code> is set in the CSS class. The <a href=\"https://stackoverflow.com/a/651801\">solution suggested here</a> will not work when the given element has a CSS class in which the <code>display: none;</code> is set <a href=\"https://stackoverflow.com/questions/651783/how-do-i-select-only-visible-elements-using-xpath#comment37423318_651801\">as pointed out in this comment</a>.</p>\n<p>In my specific example, the element has a class named error-result with CSS set to:</p>\n<pre><code>.error-result {\n    display: none;\n}\n</code></pre>\n<p>Here's the XPath I tried:</p>\n<pre><code>.//*[contains(text(),'XXXXXX')][not(ancestor::div[contains(@style,'display: none')])][not(descendant::div[contains(@style,'display: none')])]\n</code></pre>\n<p>The problem is, <code>Selenium</code> still identifies the undesired element since display: none; is set only in CSS class.</p>\n<p>How can I exclude such elements?</p>\n<p>I'm using <code>Selenium WebDriver</code> with Java.</p>\n<p>Thanks</p>\n"},{"tags":["java","graph","heap-memory","dijkstra","graphhopper"],"comments":[{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1478732488,"post_id":40517351,"comment_id":68276537,"body_markdown":"Well, have you tried increasing your heap space?  (How large is the graph and what is the current heap size?)  One assumes if your (not-shown) `isMaxVisitedNodesExceeded()` is working correctly that you are not running your `heap` field variable into infinity...","body":"Well, have you tried increasing your heap space?  (How large is the graph and what is the current heap size?)  One assumes if your (not-shown) <code>isMaxVisitedNodesExceeded()</code> is working correctly that you are not running your <code>heap</code> field variable into infinity..."},{"owner":{"account_id":4682931,"reputation":89,"user_id":3791180,"display_name":"Chadderall"},"score":0,"creation_date":1478802295,"post_id":40517351,"comment_id":68308762,"body_markdown":"I set the heap size to 27gb via jvm args.  The graph of the north america pbf is 4gb.  Maybe I can lower the max number of nodes visited, but I don&#39;t think I am using the algorithm classes correctly.","body":"I set the heap size to 27gb via jvm args.  The graph of the north america pbf is 4gb.  Maybe I can lower the max number of nodes visited, but I don&#39;t think I am using the algorithm classes correctly."}],"answers":[{"tags":[],"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478762019,"creation_date":1478762019,"answer_id":40521840,"question_id":40517351,"body_markdown":"The DijkstraOneToMany class is currently not intended to be (easily) used from outside e.g. it is not thread safe. You could switch to a simple Dijkstra without a different finish condition to lower your memory requirements for simple cases.\r\n\r\nThat said ... there can be the following issues:\r\n\r\n * make sure that you cache the calls to DijkstraOneToMany as it creates big initial datastructures\r\n * again: use it from one thread only (e.g. via ThreadLocal)\r\n * *It seems to never find the end node* -&gt; Maybe you use the QueryGraph with it? That will not really work as we create so called virtual nodes in the QueryGraph which DijkstraOneToMany does not know, instead try to pick the next tower node e.g. via avoiding QueryGraph completely or manually via an EdgeIterator\r\n\r\n&gt; Thank you Peter for putting together an awesome piece of open source software.\r\n\r\nIt was not just me - it is a community effort :) !","title":"Graphhopper Dijkstra One-To-Many Memory Error","body":"<p>The DijkstraOneToMany class is currently not intended to be (easily) used from outside e.g. it is not thread safe. You could switch to a simple Dijkstra without a different finish condition to lower your memory requirements for simple cases.</p>\n\n<p>That said ... there can be the following issues:</p>\n\n<ul>\n<li>make sure that you cache the calls to DijkstraOneToMany as it creates big initial datastructures</li>\n<li>again: use it from one thread only (e.g. via ThreadLocal)</li>\n<li><em>It seems to never find the end node</em> -> Maybe you use the QueryGraph with it? That will not really work as we create so called virtual nodes in the QueryGraph which DijkstraOneToMany does not know, instead try to pick the next tower node e.g. via avoiding QueryGraph completely or manually via an EdgeIterator</li>\n</ul>\n\n<blockquote>\n  <p>Thank you Peter for putting together an awesome piece of open source software.</p>\n</blockquote>\n\n<p>It was not just me - it is a community effort :) !</p>\n"}],"owner":{"account_id":4682931,"reputation":89,"user_id":3791180,"display_name":"Chadderall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639312717,"creation_date":1478731995,"question_id":40517351,"body_markdown":"No matter the size of the graph and the server I use, any time I attempt to route by the dijkstra_one_to_many algorithm, I overflow my heap.  Test environment is a m3.2xlarge with 30gb of RAM and 2x80gb SSD drives.\r\n\r\n`java.lang.OutOfMemoryError: Java heap space`\r\n\r\nI&#39;ve tracked down the code block that is the problem inside `com.graphhopper.routing.DijkstraOneToMany` in the findEndNode method:\r\n\r\n        while (true) {\r\n            visitedNodes++;\r\n            EdgeIterator iter = outEdgeExplorer.setBaseNode(currNode);\r\n            while (iter.next()) {\r\n                int adjNode = iter.getAdjNode();\r\n                int prevEdgeId = edgeIds[adjNode];\r\n                if (!accept(iter, prevEdgeId))\r\n                    continue;\r\n\r\n                double tmpWeight = weighting.calcWeight(iter, false, prevEdgeId) + weights[currNode];\r\n                if (Double.isInfinite(tmpWeight))\r\n                    continue;\r\n\r\n                double w = weights[adjNode];\r\n                if (w == Double.MAX_VALUE) {\r\n                    parents[adjNode] = currNode;\r\n                    weights[adjNode] = tmpWeight;\r\n                    heap.insert_(tmpWeight, adjNode);\r\n                    changedNodes.add(adjNode);\r\n                    edgeIds[adjNode] = iter.getEdge();\r\n\r\n                } else if (w &gt; tmpWeight) {\r\n                    parents[adjNode] = currNode;\r\n                    weights[adjNode] = tmpWeight;\r\n                    heap.update_(tmpWeight, adjNode);\r\n                    changedNodes.add(adjNode);\r\n                    edgeIds[adjNode] = iter.getEdge();\r\n                }\r\n            }\r\n\r\n            if (heap.isEmpty() || isMaxVisitedNodesExceeded() || isWeightLimitExceeded())\r\n                return NOT_FOUND;\r\n\r\n            // calling just peek and not poll is important if the next query is cached\r\n            currNode = heap.peek_element();\r\n            if (finished())\r\n                return currNode;\r\n\r\n            heap.poll_element();\r\n    }\r\n    ```\r\nIt seems to never find the end node and the internal data structure (min heap?) grows and grows and grows until I run out of heap space.  Why is this happening?\r\n\r\nI can post my config.properties as well if that is needed.  Thank you Peter for putting together an awesome piece of open source software.","title":"Graphhopper Dijkstra One-To-Many Memory Error","body":"<p>No matter the size of the graph and the server I use, any time I attempt to route by the dijkstra_one_to_many algorithm, I overflow my heap.  Test environment is a m3.2xlarge with 30gb of RAM and 2x80gb SSD drives.</p>\n\n<p><code>java.lang.OutOfMemoryError: Java heap space</code></p>\n\n<p>I've tracked down the code block that is the problem inside <code>com.graphhopper.routing.DijkstraOneToMany</code> in the findEndNode method:</p>\n\n<pre><code>    while (true) {\n        visitedNodes++;\n        EdgeIterator iter = outEdgeExplorer.setBaseNode(currNode);\n        while (iter.next()) {\n            int adjNode = iter.getAdjNode();\n            int prevEdgeId = edgeIds[adjNode];\n            if (!accept(iter, prevEdgeId))\n                continue;\n\n            double tmpWeight = weighting.calcWeight(iter, false, prevEdgeId) + weights[currNode];\n            if (Double.isInfinite(tmpWeight))\n                continue;\n\n            double w = weights[adjNode];\n            if (w == Double.MAX_VALUE) {\n                parents[adjNode] = currNode;\n                weights[adjNode] = tmpWeight;\n                heap.insert_(tmpWeight, adjNode);\n                changedNodes.add(adjNode);\n                edgeIds[adjNode] = iter.getEdge();\n\n            } else if (w &gt; tmpWeight) {\n                parents[adjNode] = currNode;\n                weights[adjNode] = tmpWeight;\n                heap.update_(tmpWeight, adjNode);\n                changedNodes.add(adjNode);\n                edgeIds[adjNode] = iter.getEdge();\n            }\n        }\n\n        if (heap.isEmpty() || isMaxVisitedNodesExceeded() || isWeightLimitExceeded())\n            return NOT_FOUND;\n\n        // calling just peek and not poll is important if the next query is cached\n        currNode = heap.peek_element();\n        if (finished())\n            return currNode;\n\n        heap.poll_element();\n}\n```\n</code></pre>\n\n<p>It seems to never find the end node and the internal data structure (min heap?) grows and grows and grows until I run out of heap space.  Why is this happening?</p>\n\n<p>I can post my config.properties as well if that is needed.  Thank you Peter for putting together an awesome piece of open source software.</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":8091151,"reputation":823,"user_id":6097040,"display_name":"Yaroslav Rudykh"},"score":0,"creation_date":1480245154,"post_id":40828175,"comment_id":68874415,"body_markdown":"If you want to get an answer to your question try to post your code. Without the code I can only suggest you to try to increase you heap size: - Xmx option. If problem is still there you should take a look at how you free your resources: do you really need all those Integer and Integer[] while the program is running?","body":"If you want to get an answer to your question try to post your code. Without the code I can only suggest you to try to increase you heap size: - Xmx option. If problem is still there you should take a look at how you free your resources: do you really need all those Integer and Integer[] while the program is running?"}],"answers":[{"tags":[],"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480245330,"creation_date":1480245330,"answer_id":40828287,"question_id":40828175,"body_markdown":"Assuming that you have a full heap dump, what you will want to do is calculate the fully retained sizes of your objects.  This will tell you the full size of all instances of your class, including the other objects to which it&#39;s holding a reference.  Take the largest ones and start from there.\r\n\r\n[![Retained sizes in Visual VM][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rlyWY.png","title":"java process hangs, jvisualvm shows the process is using the all of the heap space","body":"<p>Assuming that you have a full heap dump, what you will want to do is calculate the fully retained sizes of your objects.  This will tell you the full size of all instances of your class, including the other objects to which it's holding a reference.  Take the largest ones and start from there.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rlyWY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlyWY.png\" alt=\"Retained sizes in Visual VM\"></a></p>\n"}],"owner":{"account_id":2774526,"reputation":3527,"user_id":2580474,"accept_rate":85,"display_name":"syko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40828287,"answer_count":1,"score":0,"last_activity_date":1639312693,"creation_date":1480244528,"question_id":40828175,"body_markdown":"My java process hangs. It reads input data and parses it into Integer[] and write them into disks.\r\n\r\njvisualvm shows the process is fully using the heap space.\r\n(java.lang.Integer and java.lang.Integer[] use 77% and 22% of the heap space respecitvely)\r\n\r\nAFAIK the java process dies showing OutOfMemory error messages when the memory capacity is not enough.\r\n\r\nWhy my process hangs there?\r\nHow can I resolve this issue?","title":"java process hangs, jvisualvm shows the process is using the all of the heap space","body":"<p>My java process hangs. It reads input data and parses it into Integer[] and write them into disks.</p>\n\n<p>jvisualvm shows the process is fully using the heap space.\n(java.lang.Integer and java.lang.Integer[] use 77% and 22% of the heap space respecitvely)</p>\n\n<p>AFAIK the java process dies showing OutOfMemory error messages when the memory capacity is not enough.</p>\n\n<p>Why my process hangs there?\nHow can I resolve this issue?</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":7379850,"reputation":751,"user_id":5923757,"accept_rate":40,"display_name":"SmashCode"},"score":0,"creation_date":1482171926,"post_id":41228705,"comment_id":69656612,"body_markdown":"Try instead Printwriter it can handle for your 2GB data ....","body":"Try instead Printwriter it can handle for your 2GB data ...."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1482172293,"post_id":41228705,"comment_id":69656745,"body_markdown":"The answer here may be strikingly simple: Don&#39;t read the whole file when you need only a small part of it! Is there any reason to use `InputStream`? Although streams are often more versatile, this particular use case could be solved far more easily with a `RandomAccessFile`...","body":"The answer here may be strikingly simple: Don&#39;t read the whole file when you need only a small part of it! Is there any reason to use <code>InputStream</code>? Although streams are often more versatile, this particular use case could be solved far more easily with a <code>RandomAccessFile</code>..."},{"owner":{"account_id":1262462,"reputation":3143,"user_id":1220409,"display_name":"roby"},"score":0,"creation_date":1482173890,"post_id":41228705,"comment_id":69657538,"body_markdown":"You need to eliminate `bufferis`. You could do `int bytesRead = is.read(buffer);`","body":"You need to eliminate <code>bufferis</code>. You could do <code>int bytesRead = is.read(buffer);</code>"},{"owner":{"account_id":2691375,"reputation":43,"user_id":2324644,"accept_rate":75,"display_name":"user2324644"},"score":0,"creation_date":1482202467,"post_id":41228705,"comment_id":69667892,"body_markdown":"@Marco13 the reason i have to use InputStream is that the file is encrypted","body":"@Marco13 the reason i have to use InputStream is that the file is encrypted"},{"owner":{"account_id":2691375,"reputation":43,"user_id":2324644,"accept_rate":75,"display_name":"user2324644"},"score":0,"creation_date":1482203995,"post_id":41228705,"comment_id":69668295,"body_markdown":"i suppose there is a way to strip some bytes from inputstream ?","body":"i suppose there is a way to strip some bytes from inputstream ?"}],"answers":[{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482172398,"creation_date":1482172398,"answer_id":41228846,"question_id":41228705,"body_markdown":"The maximum array length is slightly less than `Integer.MAX_VALUE`, i.e., about `2e9`. So you can&#39;t read the whole into a `byte[]` and have to use something else. A `ByteByffer` is probably the fastest solution (memory mapped file).","title":"InputStream read part of file and output","body":"<p>The maximum array length is slightly less than <code>Integer.MAX_VALUE</code>, i.e., about <code>2e9</code>. So you can't read the whole into a <code>byte[]</code> and have to use something else. A <code>ByteByffer</code> is probably the fastest solution (memory mapped file).</p>\n"},{"tags":[],"owner":{"account_id":9882226,"reputation":11,"user_id":7317956,"display_name":"SaneResponder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482174239,"creation_date":1482174239,"answer_id":41229313,"question_id":41228705,"body_markdown":"You don&#39;t show `getBytesFromIS(is)` but assuming that it reads the entire file, that&#39;s not necessary.\r\n\r\nThe easiest way is to use a library that already provides this functionality and is fully tested. For example, [Apache Commons IOUtils](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/IOUtils.html#read(java.io.InputStream,%20byte[],%20int,%20int)).\r\n\r\nOtherwise, you can use [InputStream.read(b, off, len)](http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#read-byte:A-int-int-), starting from an offset of 0 and with your desired length. *Beware, however, that this function is **not** guaranteed to read the entire amount of data that you want.*","title":"InputStream read part of file and output","body":"<p>You don't show <code>getBytesFromIS(is)</code> but assuming that it reads the entire file, that's not necessary.</p>\n\n<p>The easiest way is to use a library that already provides this functionality and is fully tested. For example, <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/IOUtils.html#read(java.io.InputStream,%20byte[],%20int,%20int)\" rel=\"nofollow noreferrer\">Apache Commons IOUtils</a>.</p>\n\n<p>Otherwise, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#read-byte:A-int-int-\" rel=\"nofollow noreferrer\">InputStream.read(b, off, len)</a>, starting from an offset of 0 and with your desired length. <em>Beware, however, that this function is <strong>not</strong> guaranteed to read the entire amount of data that you want.</em></p>\n"}],"owner":{"account_id":2691375,"reputation":43,"user_id":2324644,"accept_rate":75,"display_name":"user2324644"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639312653,"creation_date":1482171719,"question_id":41228705,"body_markdown":"I have a set of large files ( about 2-3GB each) and I need to use `InputStream` to read it and output part of it to a new file.\r\n            \r\n    //this is just for example\r\n    int size=100; \r\n    String src=&quot;pathtofile&quot;;\r\n    OutputStream os = null; \r\n    Inputstream is = new FileInputStream(new File(src));\r\n    byte[] buffer = new byte[size];\r\n    byte[] bufferis = getBytesFromIS(is); \r\n     \r\n    buffer=Arrays.copyOfRange(bufferis,0,buffer.length);\r\n     \r\n    String tempstr=new String(buffer);  \r\n    byte[] tempBytes=Arrays.copyOfRange(bufferis, buffer.length,is.available());\r\n    os = new FileOutputStream(new File(dest));\r\n    copy(new ByteArrayInputStream(tempBytes), os); //function writing to file\r\n\r\nThis works fine with small files but when using on large files, I keep getting `OutOfMemoryError`, even when I set `-Xmx6114m`, still getting `OutOfMemoryError`.\r\n","title":"InputStream read part of file and output","body":"<p>I have a set of large files ( about 2-3GB each) and I need to use <code>InputStream</code> to read it and output part of it to a new file.</p>\n\n<pre><code>//this is just for example\nint size=100; \nString src=\"pathtofile\";\nOutputStream os = null; \nInputstream is = new FileInputStream(new File(src));\nbyte[] buffer = new byte[size];\nbyte[] bufferis = getBytesFromIS(is); \n\nbuffer=Arrays.copyOfRange(bufferis,0,buffer.length);\n\nString tempstr=new String(buffer);  \nbyte[] tempBytes=Arrays.copyOfRange(bufferis, buffer.length,is.available());\nos = new FileOutputStream(new File(dest));\ncopy(new ByteArrayInputStream(tempBytes), os); //function writing to file\n</code></pre>\n\n<p>This works fine with small files but when using on large files, I keep getting <code>OutOfMemoryError</code>, even when I set <code>-Xmx6114m</code>, still getting <code>OutOfMemoryError</code>.</p>\n"},{"tags":["java","soap","heap-memory","saaj"],"answers":[{"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484951955,"creation_date":1484777034,"answer_id":41730273,"question_id":41694877,"body_markdown":"Assuming that IBM&#39;s SAAJ implementation isn&#39;t totally braindead, I would expect that it only converts the message to a byte array if HTTP chunking is not enabled and it needs to compute the length of the message before sending it. Therefore, the first thing to do is to make sure that chunking is enabled.\r\n\r\nI don&#39;t think SAAJ defines a standard way to enable chunking, but you may want to try setting the corresponding HTTP header on the message:\r\n\r\n    soapMessage.getMimeHeaders().addHeader(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;);\r\n\r\nChances are that the SAAJ implementation will honor this.","title":"Heap overuse by IBM implementation of SAAJ","body":"<p>Assuming that IBM's SAAJ implementation isn't totally braindead, I would expect that it only converts the message to a byte array if HTTP chunking is not enabled and it needs to compute the length of the message before sending it. Therefore, the first thing to do is to make sure that chunking is enabled.</p>\n\n<p>I don't think SAAJ defines a standard way to enable chunking, but you may want to try setting the corresponding HTTP header on the message:</p>\n\n<pre><code>soapMessage.getMimeHeaders().addHeader(\"Transfer-Encoding\", \"chunked\");\n</code></pre>\n\n<p>Chances are that the SAAJ implementation will honor this.</p>\n"}],"owner":{"account_id":4576229,"reputation":1231,"user_id":3714601,"accept_rate":43,"display_name":"user3714601"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639312634,"creation_date":1484649473,"question_id":41694877,"body_markdown":"We need to send really huge SOAP messages (multiparts, MTOM), say about 1 or 2 Gigabytes.\r\nSometimes the process ends up with the following OOM: \r\n\r\n    java.lang.OutOfMemoryError: Java Heap Space\r\n    at java.util.Arrays.copyOf(Arrays.java:2479)\r\n    at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:203)\r\n    at com.ibm.ws.webservices.engine.transport.channel.OutboundOutputStream.toByteArray(OutboundOutputStream.java:100)\r\n    at com.ibm.ws.webservices.engine.transport.http.HttpOutboundChannelConnection.prepareHttpRequestHeaders(HttpOutboundChannelConnection.java:2027)\r\n    at com.ibm.ws.webservices.engine.transport.http.HttpOutboundChannelConnection.sendSOAPRequest(HttpOutboundChannelConnection.java:374)\r\n    at com.ibm.ws.webservices.engine.transport.http.HTTPSender.invoke(HTTPSender.java:745)\r\n    at com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:264)\r\n    at com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:264)\r\n    at com.ibm.ws.webservices.engine.WebServicesEngine.invoke(WebServicesEngine.java:336)\r\n    at com.ibm.ws.webservices.engine.client.Connection.invokeEngine(Connection.java:970)\r\n    at com.ibm.ws.webservices.engine.client.Connection.invoke(Connection.java:761)\r\n    at com.ibm.ws.webservices.engine.soap.SOAPConnectionImpl.call(SOAPConnectionImpl.java:223)\r\n    at com.ibm.ws.webservices.engine.soap.SOAPConnectionImpl.call(SOAPConnectionImpl.java:163)\r\n\r\nAs of my understanding, the problem is due to using ByteArrayOutputStream, which looks inappropriate when working with really huge streams. \r\n\r\nFollowing the stacktrace, it requires at least 2 copies of the whole message contents (as byte arrays) in the heap.\r\n\r\nSo the question, does anyone know a better implementation of SAAJ, by means of heap consumption?\r\nOr may be some workaround for this IBM implementation of SAAJ?\r\n ","title":"Heap overuse by IBM implementation of SAAJ","body":"<p>We need to send really huge SOAP messages (multiparts, MTOM), say about 1 or 2 Gigabytes.\nSometimes the process ends up with the following OOM: </p>\n\n<pre><code>java.lang.OutOfMemoryError: Java Heap Space\nat java.util.Arrays.copyOf(Arrays.java:2479)\nat java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:203)\nat com.ibm.ws.webservices.engine.transport.channel.OutboundOutputStream.toByteArray(OutboundOutputStream.java:100)\nat com.ibm.ws.webservices.engine.transport.http.HttpOutboundChannelConnection.prepareHttpRequestHeaders(HttpOutboundChannelConnection.java:2027)\nat com.ibm.ws.webservices.engine.transport.http.HttpOutboundChannelConnection.sendSOAPRequest(HttpOutboundChannelConnection.java:374)\nat com.ibm.ws.webservices.engine.transport.http.HTTPSender.invoke(HTTPSender.java:745)\nat com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:264)\nat com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:264)\nat com.ibm.ws.webservices.engine.WebServicesEngine.invoke(WebServicesEngine.java:336)\nat com.ibm.ws.webservices.engine.client.Connection.invokeEngine(Connection.java:970)\nat com.ibm.ws.webservices.engine.client.Connection.invoke(Connection.java:761)\nat com.ibm.ws.webservices.engine.soap.SOAPConnectionImpl.call(SOAPConnectionImpl.java:223)\nat com.ibm.ws.webservices.engine.soap.SOAPConnectionImpl.call(SOAPConnectionImpl.java:163)\n</code></pre>\n\n<p>As of my understanding, the problem is due to using ByteArrayOutputStream, which looks inappropriate when working with really huge streams. </p>\n\n<p>Following the stacktrace, it requires at least 2 copies of the whole message contents (as byte arrays) in the heap.</p>\n\n<p>So the question, does anyone know a better implementation of SAAJ, by means of heap consumption?\nOr may be some workaround for this IBM implementation of SAAJ?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1529412902,"post_id":50363612,"comment_id":88856779,"body_markdown":"you can add your edit as an answer and accept it, because that&#39;s the best solution IMO. Implementing `FluxSink` won&#39;t help, as it is not a `Flux`. Plus you need one sink per subscriber, to keep track of subscriber request.","body":"you can add your edit as an answer and accept it, because that&#39;s the best solution IMO. Implementing <code>FluxSink</code> won&#39;t help, as it is not a <code>Flux</code>. Plus you need one sink per subscriber, to keep track of subscriber request."}],"answers":[{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639312626,"creation_date":1639273363,"answer_id":70320341,"question_id":50363612,"body_markdown":"You can create a single `Flux` instance that bridges the messages observed by the `MessageListener`, e.g.\r\n\r\n```java\r\npublic class SimpleMessageListener implements MessageListener {\r\n   private FluxSink&lt;Message&gt; handler;\r\n   private Flux&lt;Message&gt; flux;\r\n\r\n   public SimpleMessageListener() {\r\n      flux = Flux.create(emitter -&gt; {\r\n          handler = emitter;\r\n      }, OverflowStrategy.DROP); // or some other overflow strategy\r\n   }\r\n\r\n   public void onMessage(Message message) {\r\n       if (handler != null) {\r\n           /* \r\n            * null check is required to avoid NPE if a message is received \r\n            * before any subscription occurs since handler is instantiated\r\n            * lazily when the first subscription is requested\r\n            */\r\n           handler.next(message);\r\n       }\r\n   }\r\n\r\n   public Flux&lt;Message&gt; messagePublisher() {\r\n       return flux;\r\n   }\r\n}\r\n```\r\n\r\nNow all listeners can subscribe on the same `messsagePublisher()` `Flux` instance using Flux&#39; [publish()][1] method and its returned [ConnectableFlux][2]:\r\n\r\n\r\n```java\r\n// fetch message publisher\r\nFlux&lt;Message&gt; messagePublisher = messageListener.messagePublisher();\r\n\r\n// prepare ConenctableFlux\r\nConnectableFlux&lt;Message&gt; connectableFlux = messagePublisher().publish();\r\n\r\n// register subscribers\r\nconnectableFlux.subscribe(/* aConsumer */);\r\nconnectableFlux.subscribe(/* aCoreSubscriber */);\r\nconnectableFlux.subscribe(/* aSubscriber */);\r\n\r\n// connect the ConnectableFlux to messagePublisher\r\nconnectableFlux.connect();\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#publish--\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/ConnectableFlux.html","title":"Convert a callback into a reactive publisher (Flux)","body":"<p>You can create a single <code>Flux</code> instance that bridges the messages observed by the <code>MessageListener</code>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleMessageListener implements MessageListener {\n   private FluxSink&lt;Message&gt; handler;\n   private Flux&lt;Message&gt; flux;\n\n   public SimpleMessageListener() {\n      flux = Flux.create(emitter -&gt; {\n          handler = emitter;\n      }, OverflowStrategy.DROP); // or some other overflow strategy\n   }\n\n   public void onMessage(Message message) {\n       if (handler != null) {\n           /* \n            * null check is required to avoid NPE if a message is received \n            * before any subscription occurs since handler is instantiated\n            * lazily when the first subscription is requested\n            */\n           handler.next(message);\n       }\n   }\n\n   public Flux&lt;Message&gt; messagePublisher() {\n       return flux;\n   }\n}\n</code></pre>\n<p>Now all listeners can subscribe on the same <code>messsagePublisher()</code> <code>Flux</code> instance using Flux' <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#publish--\" rel=\"nofollow noreferrer\">publish()</a> method and its returned <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/ConnectableFlux.html\" rel=\"nofollow noreferrer\">ConnectableFlux</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// fetch message publisher\nFlux&lt;Message&gt; messagePublisher = messageListener.messagePublisher();\n\n// prepare ConenctableFlux\nConnectableFlux&lt;Message&gt; connectableFlux = messagePublisher().publish();\n\n// register subscribers\nconnectableFlux.subscribe(/* aConsumer */);\nconnectableFlux.subscribe(/* aCoreSubscriber */);\nconnectableFlux.subscribe(/* aSubscriber */);\n\n// connect the ConnectableFlux to messagePublisher\nconnectableFlux.connect();\n</code></pre>\n"}],"owner":{"account_id":5361793,"reputation":1612,"user_id":4272814,"display_name":"Kevin Hussey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2019,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1639312626,"creation_date":1526451269,"question_id":50363612,"body_markdown":"I&#39;m using a third party library to register a MessageListener, and when certain events occur they call registered listeners onMessage method\r\n\r\n    public interface MessageListener {  \r\n       // third party code, it auto-scans for all MessageListeners and registers them\r\n        void onMessage(Message message);\r\n    }\r\n \r\n\r\n    public class SimpleMessageListener implements MessageListener {\r\n       public void onMessage(Message message) {\r\n          //do something non blocking\r\n          //is it possible to &#39;transmit&#39; to messagePublisher\r\n    }\r\n       public Flux&lt;Message&gt; messagePublisher() {\r\n           // a method to which to subscribeOn    \r\n       }\r\n    }\r\n\r\n So my question is what is the best approach to turn this into a Flux&lt;Message&gt;\r\n\r\nat the end I&#39;d like to be able to do something like this\r\n\r\n    messagePublisher().subscribe(System.out::println);\r\n\r\n************** edit\r\nMy first attempt is something like this\r\n\r\n    private List&lt;FluxSink&lt;Message&gt;&gt; handlers = new ArrayList&lt;&gt;();\r\n    public void onMessage(Message message) {\r\n       handlers.forEach(han -&gt; han.next(message));\r\n    }\r\n    public Flux&lt;Message&gt; messagePublisher() {\r\n            return Flux.create(sink -&gt; {\r\n                handlers.add(sink);\r\n                sink.onDispose(() -&gt; handlers.remove(sink));\r\n            });\r\n        }\r\n\r\nwhich works - but I feel like it&#39;s not a great solution, is it better to have the class implement FluxSink, and manually handle - currently I don&#39;t expect to have many subscribers. \r\nBut many MessageListeners (one for each type)","title":"Convert a callback into a reactive publisher (Flux)","body":"<p>I'm using a third party library to register a MessageListener, and when certain events occur they call registered listeners onMessage method</p>\n\n<pre><code>public interface MessageListener {  \n   // third party code, it auto-scans for all MessageListeners and registers them\n    void onMessage(Message message);\n}\n\n\npublic class SimpleMessageListener implements MessageListener {\n   public void onMessage(Message message) {\n      //do something non blocking\n      //is it possible to 'transmit' to messagePublisher\n}\n   public Flux&lt;Message&gt; messagePublisher() {\n       // a method to which to subscribeOn    \n   }\n}\n</code></pre>\n\n<p>So my question is what is the best approach to turn this into a Flux</p>\n\n<p>at the end I'd like to be able to do something like this</p>\n\n<pre><code>messagePublisher().subscribe(System.out::println);\n</code></pre>\n\n<p>************** edit\nMy first attempt is something like this</p>\n\n<pre><code>private List&lt;FluxSink&lt;Message&gt;&gt; handlers = new ArrayList&lt;&gt;();\npublic void onMessage(Message message) {\n   handlers.forEach(han -&gt; han.next(message));\n}\npublic Flux&lt;Message&gt; messagePublisher() {\n        return Flux.create(sink -&gt; {\n            handlers.add(sink);\n            sink.onDispose(() -&gt; handlers.remove(sink));\n        });\n    }\n</code></pre>\n\n<p>which works - but I feel like it's not a great solution, is it better to have the class implement FluxSink, and manually handle - currently I don't expect to have many subscribers. \nBut many MessageListeners (one for each type)</p>\n"},{"tags":["java","spring-batch","heap-memory"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1485973810,"post_id":41986973,"comment_id":71151717,"body_markdown":"Maybe you just need more memory. If those batch jobs are doing heavy work, executing 12 at a time might just be too much for your server. Kick it up a notch with more memory, more CPU or scale horizontally.","body":"Maybe you just need more memory. If those batch jobs are doing heavy work, executing 12 at a time might just be too much for your server. Kick it up a notch with more memory, more CPU or scale horizontally."},{"owner":{"account_id":10157259,"reputation":91,"user_id":7501952,"display_name":"Harry"},"score":0,"creation_date":1495037945,"post_id":41986973,"comment_id":75086694,"body_markdown":"Thanks Kayaman.  Though am late in responding, we got to resolve this by increasing the heap memory.  As none of the profiling tool have indicated any issue in the code.","body":"Thanks Kayaman.  Though am late in responding, we got to resolve this by increasing the heap memory.  As none of the profiling tool have indicated any issue in the code."}],"owner":{"account_id":10157259,"reputation":91,"user_id":7501952,"display_name":"Harry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639312616,"creation_date":1485973543,"question_id":41986973,"body_markdown":"We are using `JBOSS 6.4` - `jdk1.8`, `spring 4.2.1 (batch and integration)`.\r\nRunning on `Linux`\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -server -Xms3g -Xmx3g \r\nWe have 12 spring batch jobs running parallelly.\r\nThey run for about 3 hours fine, after which we start getting GC overhead limit reached errors.\r\n\r\nSteps followed so far\r\n\r\n1. Increased heap memory from 2g to 3g to find out really how much application would need, even 3g is not sufficing.  We see that the old gen heap space gets filled up after around 3 hours of continuous running of job.\r\n\r\n2. Code review to identify any potential leaks, couldn&#39;t find any.  Have set some objects to null once their usage is done, but that&#39;s pretty much we could get.\r\n\r\n3. Added command to generate heap dump on OutOfMemory error\r\n Below link has details heap dump.  they all point to framework classes, which are not directly referenced within our application.\r\n\r\n[Biggest Contributers][1] \r\n[Unreachableobjects][1]\r\n\r\n        o\tJavaZipFileSystem 28 MB\r\n        o\tDefaultListableBeanFactory – 32 MB\r\n        o\tModuleClassLoader – 7 MB\r\n        o\tSessionFactoryImpl – 9 MB\r\n        o\tString – 6 MB\r\n        o\tThreadGroupContext – 3 MB\r\n\r\n\r\nAny pointers on how to approach identifying the exact root cause please?\r\nCurrently we are attempting use Java flight Recorder to get more specific details.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SaLlN.png","title":"Spring batch GC Overhead limit | Spring Batch | JBOSS 6.4","body":"<p>We are using <code>JBOSS 6.4</code> - <code>jdk1.8</code>, <code>spring 4.2.1 (batch and integration)</code>.\nRunning on <code>Linux</code></p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -server -Xms3g -Xmx3g \n</code></pre>\n\n<p>We have 12 spring batch jobs running parallelly.\nThey run for about 3 hours fine, after which we start getting GC overhead limit reached errors.</p>\n\n<p>Steps followed so far</p>\n\n<ol>\n<li><p>Increased heap memory from 2g to 3g to find out really how much application would need, even 3g is not sufficing.  We see that the old gen heap space gets filled up after around 3 hours of continuous running of job.</p></li>\n<li><p>Code review to identify any potential leaks, couldn't find any.  Have set some objects to null once their usage is done, but that's pretty much we could get.</p></li>\n<li><p>Added command to generate heap dump on OutOfMemory error\nBelow link has details heap dump.  they all point to framework classes, which are not directly referenced within our application.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/SaLlN.png\" rel=\"nofollow noreferrer\">Biggest Contributers</a> \n<a href=\"https://i.stack.imgur.com/SaLlN.png\" rel=\"nofollow noreferrer\">Unreachableobjects</a></p>\n\n<pre><code>    o   JavaZipFileSystem 28 MB\n    o   DefaultListableBeanFactory – 32 MB\n    o   ModuleClassLoader – 7 MB\n    o   SessionFactoryImpl – 9 MB\n    o   String – 6 MB\n    o   ThreadGroupContext – 3 MB\n</code></pre>\n\n<p>Any pointers on how to approach identifying the exact root cause please?\nCurrently we are attempting use Java flight Recorder to get more specific details.</p>\n"},{"tags":["java","tree","heap","comparable"],"answers":[{"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493147361,"creation_date":1493147049,"answer_id":43618941,"question_id":43618652,"body_markdown":"`this` refers to the instance of `EmployeeCOMP` which does not have an `id`.  In this context the `compareTo` method should be part of the `Employee` class (not a separate class):\r\n\r\n    public class Employee {\r\n      ...\r\n\r\n        public int compareTo(Employee emp) {\r\n            return this.id.compareToIgnoreCase(emp.id);  // **this** refers to an Employee instance\r\n        }   \r\n    }\r\n\r\nAttempting to use through a separate class suggests you might be needing to implement a `Comparator`.","title":"I keep on getting Cannot find Symbol Error when using Comparable","body":"<p><code>this</code> refers to the instance of <code>EmployeeCOMP</code> which does not have an <code>id</code>.  In this context the <code>compareTo</code> method should be part of the <code>Employee</code> class (not a separate class):</p>\n\n<pre><code>public class Employee {\n  ...\n\n    public int compareTo(Employee emp) {\n        return this.id.compareToIgnoreCase(emp.id);  // **this** refers to an Employee instance\n    }   \n}\n</code></pre>\n\n<p>Attempting to use through a separate class suggests you might be needing to implement a <code>Comparator</code>.</p>\n"}],"owner":{"account_id":7063657,"reputation":43,"user_id":5407820,"accept_rate":50,"display_name":"McDodger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639312531,"creation_date":1493145981,"question_id":43618652,"body_markdown":"I keep on getting an error saying Cannot find symbol when trying to compile. The files are both in the same folder, i&#39;m not really sure where i went wrong here. \r\nIn this assignment im supposed to write a program that reads a list of employees from a file. The name of the file will be ‘Employee.txt’. The program should output the *sorted* array to a file called “SortedEmployee.txt”. I already have the Heap class done. Need assistance please.\r\n\r\n    public class Employee\r\n    {\r\n       String id;\r\n       String name;\r\n       String department;\r\n       String position;\r\n       double salary;\r\n       int yos; //Year of Service\r\n       \r\n       //constructor w/ no args\r\n       public Employee()\r\n       {  salary = 0.0;\r\n          id = name = department = position = &quot;&quot;;\r\n          yos = 0;\r\n       \r\n       }\r\n       \r\n       //constructor w/ args\r\n       public Employee(String i, String n, String d, String p, double s, int y)\r\n       {\r\n          id = i;\r\n          name = n;\r\n          department = d;\r\n          position = p;\r\n          salary = s;\r\n          yos = y;\r\n       }\r\n       \r\n       public void setID(String i)\r\n       {  id = i;}\r\n       public void setName(String n)\r\n       {  name = n;}\r\n       public void setDepartment(String d)\r\n       {department = d;}\r\n       public void setPosition(String p)\r\n       {position = p;}\r\n       public void setSalary(double s)\r\n       {salary =s;}\r\n       public void setYOS(int y)\r\n       {yos = y;}\r\n       \r\n       public String getID()\r\n       {  return id;}\r\n       public String getName()\r\n       {  return name;}\r\n       public String getDepartment()\r\n       {return department;}\r\n       public String getPosition()\r\n       {return position;}\r\n       public double getSalary()\r\n       {return salary;}\r\n       public int getYOS()\r\n       {return yos;}\r\n       \r\n       \r\n        public String toString()\r\n       {\r\n          String str =  &quot;Emplyee Id: &quot; + id + &quot;\\nName: &quot; + name + \r\n                         &quot;\\nDepartment:  &quot; + department + &quot;\\nPosition: &quot; + position\r\n                         + &quot;\\nSalary: &quot; + salary;\r\n                         \r\n    \t\t\t\t\t\t\t\r\n    \t\treturn str;\r\n        }\r\n         public int compareTo(Employee emp)\r\n    {\r\n      int idONE = id.compareToIgnoreCase(emp.id);\r\n      if (idONE != 0)\r\n         return idONE;\r\n      return 0;\r\n    }                  \r\n       \r\n    \r\n    }\r\n\r\n\r\n    public class EmployeeCOMP implements Comparable&lt;Employee&gt;{\r\n        @Override\r\n        public int compareTo(Employee emp){\r\n           return this.id.compareToIgnoreCase(emp.id);\r\n        }\r\n    } \r\nThis is the error I keep on getting. \r\n\r\n    EmployeeCOMP.java:4: error: cannot find symbol\r\n           return this.id.compareToIgnoreCase(emp.id);\r\n                      ^\r\n      symbol: variable id\r\n    1 error\r\n\r\n","title":"I keep on getting Cannot find Symbol Error when using Comparable","body":"<p>I keep on getting an error saying Cannot find symbol when trying to compile. The files are both in the same folder, i'm not really sure where i went wrong here.\nIn this assignment im supposed to write a program that reads a list of employees from a file. The name of the file will be ‘Employee.txt’. The program should output the <em>sorted</em> array to a file called “SortedEmployee.txt”. I already have the Heap class done. Need assistance please.</p>\n<pre><code>public class Employee\n{\n   String id;\n   String name;\n   String department;\n   String position;\n   double salary;\n   int yos; //Year of Service\n   \n   //constructor w/ no args\n   public Employee()\n   {  salary = 0.0;\n      id = name = department = position = &quot;&quot;;\n      yos = 0;\n   \n   }\n   \n   //constructor w/ args\n   public Employee(String i, String n, String d, String p, double s, int y)\n   {\n      id = i;\n      name = n;\n      department = d;\n      position = p;\n      salary = s;\n      yos = y;\n   }\n   \n   public void setID(String i)\n   {  id = i;}\n   public void setName(String n)\n   {  name = n;}\n   public void setDepartment(String d)\n   {department = d;}\n   public void setPosition(String p)\n   {position = p;}\n   public void setSalary(double s)\n   {salary =s;}\n   public void setYOS(int y)\n   {yos = y;}\n   \n   public String getID()\n   {  return id;}\n   public String getName()\n   {  return name;}\n   public String getDepartment()\n   {return department;}\n   public String getPosition()\n   {return position;}\n   public double getSalary()\n   {return salary;}\n   public int getYOS()\n   {return yos;}\n   \n   \n    public String toString()\n   {\n      String str =  &quot;Emplyee Id: &quot; + id + &quot;\\nName: &quot; + name + \n                     &quot;\\nDepartment:  &quot; + department + &quot;\\nPosition: &quot; + position\n                     + &quot;\\nSalary: &quot; + salary;\n                     \n                            \n        return str;\n    }\n     public int compareTo(Employee emp)\n{\n  int idONE = id.compareToIgnoreCase(emp.id);\n  if (idONE != 0)\n     return idONE;\n  return 0;\n}                  \n   \n\n}\n\n\npublic class EmployeeCOMP implements Comparable&lt;Employee&gt;{\n    @Override\n    public int compareTo(Employee emp){\n       return this.id.compareToIgnoreCase(emp.id);\n    }\n} \n</code></pre>\n<p>This is the error I keep on getting.</p>\n<pre><code>EmployeeCOMP.java:4: error: cannot find symbol\n       return this.id.compareToIgnoreCase(emp.id);\n                  ^\n  symbol: variable id\n1 error\n</code></pre>\n"},{"tags":["java","exception","heap-memory"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1494506574,"post_id":43915588,"comment_id":74864583,"body_markdown":"One of those strange questions on the surface; but giving interesting food for thought ...","body":"One of those strange questions on the surface; but giving interesting food for thought ..."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1494506622,"post_id":43915588,"comment_id":74864618,"body_markdown":"Not exactly identical to your *question*, but many of the answers provide the kind of insight you&#39;re looking for.","body":"Not exactly identical to your <i>question</i>, but many of the answers provide the kind of insight you&#39;re looking for."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1494506662,"post_id":43915588,"comment_id":74864658,"body_markdown":"@Michael Good point here!","body":"@Michael Good point here!"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494506403,"creation_date":1494506403,"answer_id":43915685,"question_id":43915588,"body_markdown":"Very broad question, but one simple answer: when implementing a JVM, you probably wouldn&#39;t want to wait until you ran out of 100% of your memory. \r\n\r\nMeaning: you might simply pull the &quot;emergency break&quot; when you are at 99.99% of your limit. Because then you know that you have that &quot;tiny&quot; reserve required to allow for a (somehow) coordinated &quot;emergency shutdown&quot;.\r\n\r\nBeyond that: this might be &quot;less&quot; about some message strings given to the exception ... keep in mind that the JVM also collects stack trace information; and attaches that to exceptions/errors. (imho) that is *more* expensive then making room for some message strings!","title":"Why is it possible to log OutOfMemory error in Java?","body":"<p>Very broad question, but one simple answer: when implementing a JVM, you probably wouldn't want to wait until you ran out of 100% of your memory. </p>\n\n<p>Meaning: you might simply pull the \"emergency break\" when you are at 99.99% of your limit. Because then you know that you have that \"tiny\" reserve required to allow for a (somehow) coordinated \"emergency shutdown\".</p>\n\n<p>Beyond that: this might be \"less\" about some message strings given to the exception ... keep in mind that the JVM also collects stack trace information; and attaches that to exceptions/errors. (imho) that is <em>more</em> expensive then making room for some message strings!</p>\n"}],"owner":{"account_id":10769487,"reputation":51,"user_id":7923354,"display_name":"Sandeep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1494512403,"answer_count":1,"score":4,"last_activity_date":1639312463,"creation_date":1494506143,"question_id":43915588,"body_markdown":"For logging anything in a catch block, we need text which is a String object but  JVM has already run out of memory. Two possible reasons which I can think of are: \r\n\r\n 1. OutOfMemory error signifies heap space and String object can be saved in String pool.\r\n 2. OutOfMemory error signifies that very little space is left in contrast to heap is completely full and that very little space is available for storing the string to be logged.\r\n","title":"Why is it possible to log OutOfMemory error in Java?","body":"<p>For logging anything in a catch block, we need text which is a String object but  JVM has already run out of memory. Two possible reasons which I can think of are: </p>\n\n<ol>\n<li>OutOfMemory error signifies heap space and String object can be saved in String pool.</li>\n<li>OutOfMemory error signifies that very little space is left in contrast to heap is completely full and that very little space is available for storing the string to be logged.</li>\n</ol>\n"},{"tags":["java","cassandra","heap-memory","thrift","cassandra-2.1"],"comments":[{"owner":{"account_id":7877935,"reputation":2938,"user_id":5953105,"accept_rate":75,"display_name":"dilsingi"},"score":0,"creation_date":1497228913,"post_id":44488778,"comment_id":75974235,"body_markdown":"If you already have the heapdump, try loading it into eclipse memory analyzer tool (MAT) (http://www.eclipse.org/mat/downloads.php). It gives a nice pie-chart output which could help visualize what is in the memory. Also what is the number of cores in the machine, concurrent_writes can be a multiple of the no. of cores * 8. And what is the config value on memtable_flush_writers? Probably you should be increasing it if storage is backed by SSDs.","body":"If you already have the heapdump, try loading it into eclipse memory analyzer tool (MAT) (<a href=\"http://www.eclipse.org/mat/downloads.php\" rel=\"nofollow noreferrer\">eclipse.org/mat/downloads.php</a>). It gives a nice pie-chart output which could help visualize what is in the memory. Also what is the number of cores in the machine, concurrent_writes can be a multiple of the no. of cores * 8. And what is the config value on memtable_flush_writers? Probably you should be increasing it if storage is backed by SSDs."},{"owner":{"account_id":4746619,"reputation":563,"user_id":3837797,"display_name":"Shoban Sundar"},"score":1,"creation_date":1497249026,"post_id":44488778,"comment_id":75978947,"body_markdown":"It seems you are using a thrift client. What is the thrift client you have used. And also post how you have created your connection using your thrift client. Are you using any batch statements?","body":"It seems you are using a thrift client. What is the thrift client you have used. And also post how you have created your connection using your thrift client. Are you using any batch statements?"},{"owner":{"account_id":4010311,"reputation":13,"user_id":3303897,"display_name":"rilott"},"score":0,"creation_date":1497273362,"post_id":44488778,"comment_id":75994266,"body_markdown":"@dilsingi I&#39;ve just got the heapdump today, looking at the pie chart:\n\n`The thread java.lang.Thread @ 0x356384718 Thrift:242 keeps local variables with total size 5,988,684,488 (83.16%) bytes.\n\nThe memory is accumulated in one instance of &quot;java.util.HashMap$Node[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.`\n\nThe machine has 8 cores (16 with HT), memtable_flush_writers is currently commented out, so according to the comments will be set to 2?\n\nStorage is not backed by SSD, just a large amount of 1TB disks in RAID6","body":"@dilsingi I&#39;ve just got the heapdump today, looking at the pie chart:  <code>The thread java.lang.Thread @ 0x356384718 Thrift:242 keeps local variables with total size 5,988,684,488 (83.16%) bytes.  The memory is accumulated in one instance of &quot;java.util.HashMap$Node[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.</code>  The machine has 8 cores (16 with HT), memtable_flush_writers is currently commented out, so according to the comments will be set to 2?  Storage is not backed by SSD, just a large amount of 1TB disks in RAID6"},{"owner":{"account_id":4010311,"reputation":13,"user_id":3303897,"display_name":"rilott"},"score":0,"creation_date":1497273557,"post_id":44488778,"comment_id":75994412,"body_markdown":"@ShobanSundar The thrift client is Kairosdb 1.1.3, I&#39;m not sure whether that uses batch statements but I believe it does","body":"@ShobanSundar The thrift client is Kairosdb 1.1.3, I&#39;m not sure whether that uses batch statements but I believe it does"},{"owner":{"account_id":7877935,"reputation":2938,"user_id":5953105,"accept_rate":75,"display_name":"dilsingi"},"score":0,"creation_date":1497283575,"post_id":44488778,"comment_id":76001524,"body_markdown":"Wow 6GB of data in single could mean a huge partition from Kairos. How many millions of metrics/tags is used via Kairos? Try &quot;nodetool cfhistogram&quot; on the Kairos data table to check partition size in C*. Only other Cassandra yaml we had to change was thrift_framed_transport_size_in_mb (we set it at 150MB). Check the values from Kairos cluster on kairosdb.datastore.cassandra.write_delay and\nkairosdb.datastore.cassandra.write_buffer_max_size. The write_buffer controls how much data is being pushed to Cassandra at a stretch. Try reducing it to stabilize the write throughput on Cassandra side.","body":"Wow 6GB of data in single could mean a huge partition from Kairos. How many millions of metrics/tags is used via Kairos? Try &quot;nodetool cfhistogram&quot; on the Kairos data table to check partition size in C*. Only other Cassandra yaml we had to change was thrift_framed_transport_size_in_mb (we set it at 150MB). Check the values from Kairos cluster on kairosdb.datastore.cassandra.write_delay and kairosdb.datastore.cassandra.write_buffer_max_size. The write_buffer controls how much data is being pushed to Cassandra at a stretch. Try reducing it to stabilize the write throughput on Cassandra side."},{"owner":{"account_id":4010311,"reputation":13,"user_id":3303897,"display_name":"rilott"},"score":0,"creation_date":1497297653,"post_id":44488778,"comment_id":76008795,"body_markdown":"@dilsingi :) it&#39;s a 5 node cluster, it&#39;s become extremely popular. It&#39;s only used via Kairos, for submission and reads (via grafana). I&#39;m not sure of the exact number, although it will be millions of reads I&#39;m sure! Ah, I was just rolling back my thrift_framed_transport_size_in_mb change from 150 down to 30 because I thought that might be causing it (I assume you looked at [this](https://github.com/kairosdb/kairosdb/issues/354) issue?). kairosdb.datastore.cassandra.write_delay=10000, kairosdb.datastore.cassandra.write_buffer_max_size=2000000. Those two settings weren&#39;t set by me.","body":"@dilsingi :) it&#39;s a 5 node cluster, it&#39;s become extremely popular. It&#39;s only used via Kairos, for submission and reads (via grafana). I&#39;m not sure of the exact number, although it will be millions of reads I&#39;m sure! Ah, I was just rolling back my thrift_framed_transport_size_in_mb change from 150 down to 30 because I thought that might be causing it (I assume you looked at <a href=\"https://github.com/kairosdb/kairosdb/issues/354\" rel=\"nofollow noreferrer\">this</a> issue?). kairosdb.datastore.cassandra.write_delay=10000, kairosdb.datastore.cassandra.write_buffer_max_size=2000000. Those two settings weren&#39;t set by me."},{"owner":{"account_id":7877935,"reputation":2938,"user_id":5953105,"accept_rate":75,"display_name":"dilsingi"},"score":0,"creation_date":1497297934,"post_id":44488778,"comment_id":76008909,"body_markdown":"We had similar issue dealing with our kairos cluster. But the write buffer seems way too much on kairos side. Try reducing it by magnitude, we have it at 10,000 and write-delay is only 500","body":"We had similar issue dealing with our kairos cluster. But the write buffer seems way too much on kairos side. Try reducing it by magnitude, we have it at 10,000 and write-delay is only 500"},{"owner":{"account_id":4010311,"reputation":13,"user_id":3303897,"display_name":"rilott"},"score":0,"creation_date":1497299637,"post_id":44488778,"comment_id":76009737,"body_markdown":"What cluster size do you have and what&#39;s your load like? In comparison. Will probably try experimenting with that","body":"What cluster size do you have and what&#39;s your load like? In comparison. Will probably try experimenting with that"}],"owner":{"account_id":4010311,"reputation":13,"user_id":3303897,"display_name":"rilott"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639312444,"creation_date":1497215222,"question_id":44488778,"body_markdown":"I have a Cassandra node with 64G ram (16GB heap, G1GC), and occasionally this happens:\r\n\r\n    ERROR [Thrift:74] 2017-06-11 13:20:25,710 CassandraDaemon.java:229 - Exception in thread Thread[Thrift:74,5,main]\r\n    java.lang.OutOfMemoryError: Java heap space\r\n            at java.util.Arrays.copyOf(Arrays.java:3236) ~[na:1.8.0_45]\r\n            at java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118) ~[na:1.8.0_45]\r\n            at java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93) ~[na:1.8.0_45]\r\n            at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153) ~[na:1.8.0_45]\r\n            at org.apache.thrift.transport.TFramedTransport.write(TFramedTransport.java:146) ~[libthrift-0.9.2.jar:0.9.2]\r\n            at org.apache.thrift.protocol.TBinaryProtocol.writeBinary(TBinaryProtocol.java:211) ~[libthrift-0.9.2.jar:0.9.2]\r\n            at org.apache.cassandra.thrift.Column$ColumnStandardScheme.write(Column.java:678) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.Column$ColumnStandardScheme.write(Column.java:611) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.Column.write(Column.java:538) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.ColumnOrSuperColumn$ColumnOrSuperColumnStandardScheme.write(ColumnOrSuperColumn.java:673) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.ColumnOrSuperColumn$ColumnOrSuperColumnStandardScheme.write(ColumnOrSuperColumn.java:607) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.ColumnOrSuperColumn.write(ColumnOrSuperColumn.java:517) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.Cassandra$multiget_slice_result$multiget_slice_resultStandardScheme.write(Cassandra.java:14729) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.Cassandra$multiget_slice_result$multiget_slice_resultStandardScheme.write(Cassandra.java:14633) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.cassandra.thrift.Cassandra$multiget_slice_result.write(Cassandra.java:14563) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\r\n            at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:53) ~[libthrift-0.9.2.jar:0.9.2]\r\n            at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39) ~[libthrift-0.9.2.jar:0.9.2]\r\n            at org.apache.cassandra.thrift.CustomTThreadPoolServer$WorkerProcess.run(CustomTThreadPoolServer.java:205) ~[apache-cassandra-2.1.13.jar:2.1.13]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]\r\n            at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_45]\r\n\r\nNow it seems like an obvious message to increase my heap, but I am reluctant to do so without knowing why.\r\n\r\nIt looks like it was trying to do a write, and ran out of space on the heap. Here&#39;s a view of jconsole of the node when it crashed:\r\n\r\n[jconsole_output][1]\r\n\r\nWe&#39;re using kairosdb and that&#39;s showing about 5k writes/s for this node (kairsdb.datastore.write_size)\r\n\r\nIn the meantime I&#39;ve set CASSANDRA_HEAPDUMP_DIR somewhere it&#39;s allowed to write so I can take a look further.\r\n\r\nSome config vars:\r\n\r\n - key_cache_size_in_mb: 256\r\n - row_cache_size_in_mb: 0\r\n - concurrent_reads: 128\r\n - concurrent_writes: 64\r\n - concurrent_counter_writes: 64\r\n - memtable_allocation_type: offheap_objects\r\n - concurrent_compactors: 1\r\n - compaction_throughput_mb_per_sec: 48\r\n\r\nAny ideas/advice/pointers?\r\n\r\nThanks!\r\n\r\nEDIT:\r\nAnother node died, with this heap output, pointing at JMX??\r\n[screenshot][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rGxwn.png\r\n  [2]: http://i.stack.imgur.com/nHbuG.jpg\r\n","title":"Cassandra 2.1 OutOfMemory","body":"<p>I have a Cassandra node with 64G ram (16GB heap, G1GC), and occasionally this happens:</p>\n\n<pre><code>ERROR [Thrift:74] 2017-06-11 13:20:25,710 CassandraDaemon.java:229 - Exception in thread Thread[Thrift:74,5,main]\njava.lang.OutOfMemoryError: Java heap space\n        at java.util.Arrays.copyOf(Arrays.java:3236) ~[na:1.8.0_45]\n        at java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118) ~[na:1.8.0_45]\n        at java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93) ~[na:1.8.0_45]\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153) ~[na:1.8.0_45]\n        at org.apache.thrift.transport.TFramedTransport.write(TFramedTransport.java:146) ~[libthrift-0.9.2.jar:0.9.2]\n        at org.apache.thrift.protocol.TBinaryProtocol.writeBinary(TBinaryProtocol.java:211) ~[libthrift-0.9.2.jar:0.9.2]\n        at org.apache.cassandra.thrift.Column$ColumnStandardScheme.write(Column.java:678) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.Column$ColumnStandardScheme.write(Column.java:611) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.Column.write(Column.java:538) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.ColumnOrSuperColumn$ColumnOrSuperColumnStandardScheme.write(ColumnOrSuperColumn.java:673) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.ColumnOrSuperColumn$ColumnOrSuperColumnStandardScheme.write(ColumnOrSuperColumn.java:607) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.ColumnOrSuperColumn.write(ColumnOrSuperColumn.java:517) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.Cassandra$multiget_slice_result$multiget_slice_resultStandardScheme.write(Cassandra.java:14729) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.Cassandra$multiget_slice_result$multiget_slice_resultStandardScheme.write(Cassandra.java:14633) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.cassandra.thrift.Cassandra$multiget_slice_result.write(Cassandra.java:14563) ~[apache-cassandra-thrift-2.1.13.jar:2.1.13]\n        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:53) ~[libthrift-0.9.2.jar:0.9.2]\n        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39) ~[libthrift-0.9.2.jar:0.9.2]\n        at org.apache.cassandra.thrift.CustomTThreadPoolServer$WorkerProcess.run(CustomTThreadPoolServer.java:205) ~[apache-cassandra-2.1.13.jar:2.1.13]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]\n        at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_45]\n</code></pre>\n\n<p>Now it seems like an obvious message to increase my heap, but I am reluctant to do so without knowing why.</p>\n\n<p>It looks like it was trying to do a write, and ran out of space on the heap. Here's a view of jconsole of the node when it crashed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rGxwn.png\" rel=\"nofollow noreferrer\">jconsole_output</a></p>\n\n<p>We're using kairosdb and that's showing about 5k writes/s for this node (kairsdb.datastore.write_size)</p>\n\n<p>In the meantime I've set CASSANDRA_HEAPDUMP_DIR somewhere it's allowed to write so I can take a look further.</p>\n\n<p>Some config vars:</p>\n\n<ul>\n<li>key_cache_size_in_mb: 256</li>\n<li>row_cache_size_in_mb: 0</li>\n<li>concurrent_reads: 128</li>\n<li>concurrent_writes: 64</li>\n<li>concurrent_counter_writes: 64</li>\n<li>memtable_allocation_type: offheap_objects</li>\n<li>concurrent_compactors: 1</li>\n<li>compaction_throughput_mb_per_sec: 48</li>\n</ul>\n\n<p>Any ideas/advice/pointers?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT:\nAnother node died, with this heap output, pointing at JMX??\n<a href=\"https://i.stack.imgur.com/nHbuG.jpg\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"},{"tags":["java","heap-memory","static-methods"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1499249908,"post_id":44923387,"comment_id":76822311,"body_markdown":"You need to revisit your first assumption: an *object* doesn&#39;t contain methods at all. It&#39;s not part of the *state* of the object.","body":"You need to revisit your first assumption: an <i>object</i> doesn&#39;t contain methods at all. It&#39;s not part of the <i>state</i> of the object."},{"owner":{"account_id":1824747,"reputation":350,"user_id":1657864,"accept_rate":0,"display_name":"harry potter"},"score":0,"creation_date":1499249970,"post_id":44923387,"comment_id":76822363,"body_markdown":"Then where does the method code exist since we place a call to the method. Are there two spaces called the program space and the data space. And when we place a call to a method, the instance variables are copied from the data space to the registers and the program counter points to the begin address of the method from the program space.","body":"Then where does the method code exist since we place a call to the method. Are there two spaces called the program space and the data space. And when we place a call to a method, the instance variables are copied from the data space to the registers and the program counter points to the begin address of the method from the program space."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1499250113,"post_id":44923387,"comment_id":76822457,"body_markdown":"Each object has information saying its actual type, and the JVM associates that with the methods. But it would be pointless and *really* wasteful to have to populate an object with the same information as all the other objects of the same type. (Think of all the methods in `java.lang.String` - do you really want every string object to separately contain copies of some representation of each method?)","body":"Each object has information saying its actual type, and the JVM associates that with the methods. But it would be pointless and <i>really</i> wasteful to have to populate an object with the same information as all the other objects of the same type. (Think of all the methods in <code>java.lang.String</code> - do you really want every string object to separately contain copies of some representation of each method?)"}],"answers":[{"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499266477,"creation_date":1499261797,"answer_id":44927851,"question_id":44923387,"body_markdown":"All methods, both static and non-static, are part of the *class*, and classes are stored in non-heap memory.\r\n\r\nAll that resides in the heap is a structure containing:\r\n\r\n - a pointer to the class of which this object is an instance\r\n - The current values for each non-static field (references for object fields, values for primitive fields)\r\n\r\nSo for example:\r\n\r\n     public class Person {\r\n         private String name;\r\n         private int age;\r\n\r\n         public String getName() {\r\n             return name;\r\n         }\r\n\r\n         // ... etc.\r\n     }\r\n\r\n**One** structure in non-heap memory contains:\r\n\r\n   - Metadata about the class e.g. its name `Person`, a pointer to its superclass etc.\r\n   - The bytecode for `getName()` and any other methods\r\n   - JIT optimised versions of the bytecode\r\n\r\nFor each *instance* of `Person`, we get in the heap:\r\n\r\n   - A reference to the class entry\r\n   - An int value for `age`\r\n   - A reference to a `String` object `name`\r\n\r\nSo, at least conceptually, you could see the runtime handling a call to `aPerson.getName()` as:\r\n\r\n   - Look at the object&#39;s record in heap\r\n   - Follow the reference to its class\r\n   - In the class, find the method `getName()`\r\n   - Run the method, using the object&#39;s record in the heap for fields\r\n\r\nThis means that if you have 1000 instances of `Person`, you still only have one copy of the code from the class, which is perfect because it does not change from one instance to the next.\r\n\r\nIf `Doctor`, `Nurse`, `Patient` are all subclasses of `Person`, and if none of them override `getName()`, then the code for `getName()` still only exists once in memory. (Conceptually) when you call `aNurse.getName()` the runtime will look in `Nurse` for `getName()`, if found, run that, otherwise look in the superclass `Person`, find it, and run that.\r\n\r\n---\r\n\r\nI&#39;ve said &quot;conceptually&quot; a couple of times. In reality some of what I&#39;ve described as happening dynamically may happen statically at compile time. This doesn&#39;t really matter as far as understanding the effect on memory and performance.","title":"In Java where do the static methods go during the creation of an object in java?","body":"<p>All methods, both static and non-static, are part of the <em>class</em>, and classes are stored in non-heap memory.</p>\n\n<p>All that resides in the heap is a structure containing:</p>\n\n<ul>\n<li>a pointer to the class of which this object is an instance</li>\n<li>The current values for each non-static field (references for object fields, values for primitive fields)</li>\n</ul>\n\n<p>So for example:</p>\n\n<pre><code> public class Person {\n     private String name;\n     private int age;\n\n     public String getName() {\n         return name;\n     }\n\n     // ... etc.\n }\n</code></pre>\n\n<p><strong>One</strong> structure in non-heap memory contains:</p>\n\n<ul>\n<li>Metadata about the class e.g. its name <code>Person</code>, a pointer to its superclass etc.</li>\n<li>The bytecode for <code>getName()</code> and any other methods</li>\n<li>JIT optimised versions of the bytecode</li>\n</ul>\n\n<p>For each <em>instance</em> of <code>Person</code>, we get in the heap:</p>\n\n<ul>\n<li>A reference to the class entry</li>\n<li>An int value for <code>age</code></li>\n<li>A reference to a <code>String</code> object <code>name</code></li>\n</ul>\n\n<p>So, at least conceptually, you could see the runtime handling a call to <code>aPerson.getName()</code> as:</p>\n\n<ul>\n<li>Look at the object's record in heap</li>\n<li>Follow the reference to its class</li>\n<li>In the class, find the method <code>getName()</code></li>\n<li>Run the method, using the object's record in the heap for fields</li>\n</ul>\n\n<p>This means that if you have 1000 instances of <code>Person</code>, you still only have one copy of the code from the class, which is perfect because it does not change from one instance to the next.</p>\n\n<p>If <code>Doctor</code>, <code>Nurse</code>, <code>Patient</code> are all subclasses of <code>Person</code>, and if none of them override <code>getName()</code>, then the code for <code>getName()</code> still only exists once in memory. (Conceptually) when you call <code>aNurse.getName()</code> the runtime will look in <code>Nurse</code> for <code>getName()</code>, if found, run that, otherwise look in the superclass <code>Person</code>, find it, and run that.</p>\n\n<hr>\n\n<p>I've said \"conceptually\" a couple of times. In reality some of what I've described as happening dynamically may happen statically at compile time. This doesn't really matter as far as understanding the effect on memory and performance.</p>\n"}],"owner":{"account_id":1824747,"reputation":350,"user_id":1657864,"accept_rate":0,"display_name":"harry potter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639312423,"creation_date":1499249845,"question_id":44923387,"body_markdown":"If there is a class with some methods, whenever we create a new object then that object gets created on the heap with the fields and methods. If we have a class with static and normal methods and we create an object of this class, the instance variables and normal methods still exist but how are the static methods created ?","title":"In Java where do the static methods go during the creation of an object in java?","body":"<p>If there is a class with some methods, whenever we create a new object then that object gets created on the heap with the fields and methods. If we have a class with static and normal methods and we create an object of this class, the instance variables and normal methods still exist but how are the static methods created ?</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":2043977,"reputation":3670,"user_id":1824510,"display_name":"ogres"},"score":5,"creation_date":1451074770,"post_id":34466091,"comment_id":56674206,"body_markdown":"Can you check the memory usage of that Process ? It will be growing, but not that fast to be out of memory instantly","body":"Can you check the memory usage of that Process ? It will be growing, but not that fast to be out of memory instantly"},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1451074978,"post_id":34466091,"comment_id":56674272,"body_markdown":"Todays machines have a lot of memory and you don&#39;t know the speed of your while loop. If you try to allocate a few million ints in an array at once you will quickly run out of memory, but allocating 1 object reference at a time would take a few million times longer.","body":"Todays machines have a lot of memory and you don&#39;t know the speed of your while loop. If you try to allocate a few million ints in an array at once you will quickly run out of memory, but allocating 1 object reference at a time would take a few million times longer."},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1451075155,"post_id":34466091,"comment_id":56674306,"body_markdown":"x64 program would take some time to throw OOM :) Also even 32 bit one would take some time to fill 2-4GB with ~30 byte items. You likely just need to wait long enough - so no repro.","body":"x64 program would take some time to throw OOM :) Also even 32 bit one would take some time to fill 2-4GB with ~30 byte items. You likely just need to wait long enough - so no repro."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1451075316,"post_id":34466091,"comment_id":56674345,"body_markdown":"The array has only one place to keep the reference.","body":"The array has only one place to keep the reference."}],"answers":[{"tags":[],"owner":{"account_id":6388289,"reputation":35625,"user_id":4955425,"display_name":"sstan"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1451078127,"creation_date":1451075443,"answer_id":34466190,"question_id":34466091,"body_markdown":"There is no memory leak here.\r\n\r\nConsider the steps:\r\n\r\n1. `Object[] ref = new Object[1];`  \r\nMemory: `ref --&gt; array 1`\r\n2. `ref[0] = new Object[]{ref};`  \r\nMemory: `ref --&gt; array 1 --&gt; array 2 --&gt; array 1`\r\n3. `ref = (Object[]) ref[0];`  \r\nMemory: `ref --&gt; array 2 --&gt; array 1 --&gt; array 2 --&gt; ...`  \r\n4. `ref[0] = new Object[]{ref};`  \r\nMemory: `ref --&gt; array 2 --&gt; array 3 --&gt; array 2 --&gt; ...`  \r\n***At this point, `array 1` is no longer referenced, so it can be GC collected.***  \r\n5. `ref = (Object[]) ref[0];`  \r\nMemory: `ref --&gt; array 3 --&gt; array 2 --&gt; array 3 --&gt; ...`  \r\n6. `ref[0] = new Object[]{ref};`  \r\nMemory: `ref --&gt; array 3 --&gt; array 4 --&gt; array 3 --&gt; ...`  \r\n***At this point, `array 2` is no longer referenced, so it can be GC collected.***  \r\n\r\n... and the cycle continues.  After each loop, there is an array that is no longer referenced and that becomes eligible for garbage collection.  As long as the GC does its job, you will never run out of memory.\r\n\r\n**EDIT:** Corrected the details of how the arrays are linked in memory. Thanks to Javier for pointing that out.","title":"Why there is no OutOfMemoryError","body":"<p>There is no memory leak here.</p>\n\n<p>Consider the steps:</p>\n\n<ol>\n<li><code>Object[] ref = new Object[1];</code><br>\nMemory: <code>ref --&gt; array 1</code></li>\n<li><code>ref[0] = new Object[]{ref};</code><br>\nMemory: <code>ref --&gt; array 1 --&gt; array 2 --&gt; array 1</code></li>\n<li><code>ref = (Object[]) ref[0];</code><br>\nMemory: <code>ref --&gt; array 2 --&gt; array 1 --&gt; array 2 --&gt; ...</code>  </li>\n<li><code>ref[0] = new Object[]{ref};</code><br>\nMemory: <code>ref --&gt; array 2 --&gt; array 3 --&gt; array 2 --&gt; ...</code><br>\n<strong><em>At this point, <code>array 1</code> is no longer referenced, so it can be GC collected.</em></strong>  </li>\n<li><code>ref = (Object[]) ref[0];</code><br>\nMemory: <code>ref --&gt; array 3 --&gt; array 2 --&gt; array 3 --&gt; ...</code>  </li>\n<li><code>ref[0] = new Object[]{ref};</code><br>\nMemory: <code>ref --&gt; array 3 --&gt; array 4 --&gt; array 3 --&gt; ...</code><br>\n<strong><em>At this point, <code>array 2</code> is no longer referenced, so it can be GC collected.</em></strong>  </li>\n</ol>\n\n<p>... and the cycle continues.  After each loop, there is an array that is no longer referenced and that becomes eligible for garbage collection.  As long as the GC does its job, you will never run out of memory.</p>\n\n<p><strong>EDIT:</strong> Corrected the details of how the arrays are linked in memory. Thanks to Javier for pointing that out.</p>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451076210,"creation_date":1451076210,"answer_id":34466265,"question_id":34466091,"body_markdown":"### Explaining with your own assumption, ###\n\n    Start:\n       ref = new Object[1];\n    Loop:\n       ref[0] = new Object []{ new Object[1] }\n       ref = new Object []{ new Object[1] }\n       // at this point ref is re-allocated\n       ref[0] = new Object []{ new Object []{ new Object[1] } }\n       ref = new Object []{ new Object []{ new Object[1] } }\n       // at this point ref is re-allocated\n\nAt both above mentioned points `ref` is being re-allocated hence previous reference of `ref` is lost. As the `ref` is lost that means java garbage collector is ready to de-reference the memory pointed by the previous `ref`.\n\n### Thus there is no memory leak in your code ##","title":"Why there is no OutOfMemoryError","body":"<h3>Explaining with your own assumption,</h3>\n<pre><code>Start:\n   ref = new Object[1];\nLoop:\n   ref[0] = new Object []{ new Object[1] }\n   ref = new Object []{ new Object[1] }\n   // at this point ref is re-allocated\n   ref[0] = new Object []{ new Object []{ new Object[1] } }\n   ref = new Object []{ new Object []{ new Object[1] } }\n   // at this point ref is re-allocated\n</code></pre>\n<p>At both above mentioned points <code>ref</code> is being re-allocated hence previous reference of <code>ref</code> is lost. As the <code>ref</code> is lost that means java garbage collector is ready to de-reference the memory pointed by the previous <code>ref</code>.</p>\n<h3>Thus there is no memory leak in your code</h3>\n"}],"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34466190,"answer_count":2,"score":2,"last_activity_date":1639312312,"creation_date":1451074582,"question_id":34466091,"body_markdown":"I can not understand why there is NO OutOfMemoryError in this code\r\n\r\n    public static void main(String[] args) {\r\n        Object[] ref = new Object[1];\r\n        while (true) {\r\n            ref[0] = new Object[]{ref};\r\n            ref = (Object[]) ref[0];\r\n        }\r\n    }\r\n\r\nAs for me the above mentioned code has to be work on the following way:\r\n\r\n\r\n\r\n    Start:\r\n       ref = new Object[1];\r\n    Loop:\r\n       ref[0] = new Object []{ new Object[1] }\r\n       ref = new Object []{ new Object[1] }\r\n       ref[0] = new Object []{ new Object []{ new Object[1] } }\r\n       ref = new Object []{ new Object []{ new Object[1] } }\r\n\r\nI mean that links for each new Object are saved and garbage collector cannot delete not used object and consequently there must be OutOfMemoryError. But if code be run, it will work ages...\r\n\r\nWhat I do not understand or where I am wrong? Please explain me.","title":"Why there is no OutOfMemoryError","body":"<p>I can not understand why there is NO OutOfMemoryError in this code</p>\n\n<pre><code>public static void main(String[] args) {\n    Object[] ref = new Object[1];\n    while (true) {\n        ref[0] = new Object[]{ref};\n        ref = (Object[]) ref[0];\n    }\n}\n</code></pre>\n\n<p>As for me the above mentioned code has to be work on the following way:</p>\n\n<pre><code>Start:\n   ref = new Object[1];\nLoop:\n   ref[0] = new Object []{ new Object[1] }\n   ref = new Object []{ new Object[1] }\n   ref[0] = new Object []{ new Object []{ new Object[1] } }\n   ref = new Object []{ new Object []{ new Object[1] } }\n</code></pre>\n\n<p>I mean that links for each new Object are saved and garbage collector cannot delete not used object and consequently there must be OutOfMemoryError. But if code be run, it will work ages...</p>\n\n<p>What I do not understand or where I am wrong? Please explain me.</p>\n"},{"tags":["java","operating-system","heap-memory"],"comments":[{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":0,"creation_date":1453131025,"post_id":34858289,"comment_id":57456029,"body_markdown":"Out of curiosity, what was your swap size before you increased it?","body":"Out of curiosity, what was your swap size before you increased it?"},{"owner":{"account_id":4070844,"reputation":20798,"user_id":3344003,"accept_rate":52,"display_name":"user3344003"},"score":0,"creation_date":1453158846,"post_id":34858289,"comment_id":57470891,"body_markdown":"If you have a process with 8 GB of heap and only 11 GB of swap space, you are living life on the edge (unless this web server is the only thing that will run on the system. The entire virtual address space of a process has to be backed to disk (even if there is memory available).","body":"If you have a process with 8 GB of heap and only 11 GB of swap space, you are living life on the edge (unless this web server is the only thing that will run on the system. The entire virtual address space of a process has to be backed to disk (even if there is memory available)."}],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1453133371,"creation_date":1453131085,"answer_id":34858395,"question_id":34858289,"body_markdown":"Do. Not. Do this.\r\n\r\nGet more memory.\r\n\r\nJava and Swap Do. Not. Mix. Java and Swap are like &quot;Crossing the Streams&quot; Bad.\r\n\r\nPart of the Java heap will be swapped out, then Java will GC, which will thrash the box terribly, and still part of the heap will be swapped out, and Java will GC again.\r\n\r\nRinse and repeat until you finally kill -9 Weblogic.\r\n\r\nGet more memory, or do without. Swap is not an option.\r\n\r\nAddenda:\r\n\r\nYou machine has &quot;Virtual Memory&quot; (VM). By adding swap, you extend that VM. When you have more VM than actual memory, then the machine will &quot;swap out&quot; inactive memory pages to the swap space, and then &quot;swap in&quot; pages that want to be active from swap space in to RAM. If you have a bunch of idle processes that rarely need time, this isn&#39;t super terrible.\r\n\r\nBut Java magnifies the problem. When you run out of physical RAM, some of that RAM is swapped out to disk. When some of that RAM is Java heap, then you have a big problem when the garbage collector kicks in. Because, in general, the GC touches every page of the heap. That means that all of the heaps pages need to be &quot;active&quot;, and thus, &quot;swapped in&quot;.\r\n\r\nBut if they don&#39;t fit, then you have a problem like the 8 puzzle. Where you&#39;re shifting memory in and out from disk. This is called thrashing.\r\n\r\nA swapped JVM heap that is GC is the text book case of worst case thrashing.\r\n\r\nThe machine is letting you allocate the extra memory because it thinks you have more, since your Virtual Memory (physical RAM + swap) is greater.\r\n","title":"How increasing swap size allow me to increase the heap size?","body":"<p>Do. Not. Do this.</p>\n\n<p>Get more memory.</p>\n\n<p>Java and Swap Do. Not. Mix. Java and Swap are like \"Crossing the Streams\" Bad.</p>\n\n<p>Part of the Java heap will be swapped out, then Java will GC, which will thrash the box terribly, and still part of the heap will be swapped out, and Java will GC again.</p>\n\n<p>Rinse and repeat until you finally kill -9 Weblogic.</p>\n\n<p>Get more memory, or do without. Swap is not an option.</p>\n\n<p>Addenda:</p>\n\n<p>You machine has \"Virtual Memory\" (VM). By adding swap, you extend that VM. When you have more VM than actual memory, then the machine will \"swap out\" inactive memory pages to the swap space, and then \"swap in\" pages that want to be active from swap space in to RAM. If you have a bunch of idle processes that rarely need time, this isn't super terrible.</p>\n\n<p>But Java magnifies the problem. When you run out of physical RAM, some of that RAM is swapped out to disk. When some of that RAM is Java heap, then you have a big problem when the garbage collector kicks in. Because, in general, the GC touches every page of the heap. That means that all of the heaps pages need to be \"active\", and thus, \"swapped in\".</p>\n\n<p>But if they don't fit, then you have a problem like the 8 puzzle. Where you're shifting memory in and out from disk. This is called thrashing.</p>\n\n<p>A swapped JVM heap that is GC is the text book case of worst case thrashing.</p>\n\n<p>The machine is letting you allocate the extra memory because it thinks you have more, since your Virtual Memory (physical RAM + swap) is greater.</p>\n"}],"owner":{"account_id":2042921,"reputation":10170,"user_id":3222249,"accept_rate":73,"display_name":"emilly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34858395,"answer_count":1,"score":1,"last_activity_date":1639312282,"creation_date":1453130800,"question_id":34858289,"body_markdown":"I have ubuntu server where i have 8 GB of RAM. When i try to give the heap size as 8GB, my web server(weblogic) does not start. But if i increase the swap size\r\nto Size to 11 GB, webserver got started.\r\n\r\nSo my question is how i can allocate 8GB heap size to my web server (when ihave 8 GB RAM out of which 1 to 2 GB is required for OS) after increaing\r\nthe swap size ?","title":"How increasing swap size allow me to increase the heap size?","body":"<p>I have ubuntu server where i have 8 GB of RAM. When i try to give the heap size as 8GB, my web server(weblogic) does not start. But if i increase the swap size\nto Size to 11 GB, webserver got started.</p>\n\n<p>So my question is how i can allocate 8GB heap size to my web server (when ihave 8 GB RAM out of which 1 to 2 GB is required for OS) after increaing\nthe swap size ?</p>\n"},{"tags":["java","class","heap-memory"],"comments":[{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1453222050,"post_id":34882241,"comment_id":57502607,"body_markdown":"I could well be wrong, but I do not think there are any tools that let you retrieve class definitions. It might be possible to do this by writing out the class bits from the program itself, using an agent or custom class loader.","body":"I could well be wrong, but I do not think there are any tools that let you retrieve class definitions. It might be possible to do this by writing out the class bits from the program itself, using an agent or custom class loader."}],"answers":[{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453228355,"creation_date":1453228355,"answer_id":34884405,"question_id":34882241,"body_markdown":"There do not seem to be any tools that readily allow you to retrieve the class bits from a VM, let alone from a heap dump. Nor is it clear that the class definition is even available in the exact same format as the contents of the .class in the VM.\r\n\r\nBut there are multiple options for saving the class definition before it is loaded in the VM. You could have an agent which can store the class definition, either in heap or external storage. This should also be possible with a custom classloader, but it is possible that it is bypassed by some other customer classloader. \r\n\r\nThe popular AOP tool AspectJ has an option to save the definition of instrumented class; it can probably be used for your use-case. ","title":"How to extract java class definitions from a heap dump of a running application?","body":"<p>There do not seem to be any tools that readily allow you to retrieve the class bits from a VM, let alone from a heap dump. Nor is it clear that the class definition is even available in the exact same format as the contents of the .class in the VM.</p>\n\n<p>But there are multiple options for saving the class definition before it is loaded in the VM. You could have an agent which can store the class definition, either in heap or external storage. This should also be possible with a custom classloader, but it is possible that it is bypassed by some other customer classloader. </p>\n\n<p>The popular AOP tool AspectJ has an option to save the definition of instrumented class; it can probably be used for your use-case. </p>\n"}],"owner":{"account_id":7668496,"reputation":41,"user_id":5811551,"display_name":"Kenny Yu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1639312271,"creation_date":1453221723,"question_id":34882241,"body_markdown":"The need for extracting class definitions from a heap dump comes from the way some classes are loaded dynamically, not from static lib jars, but compiled dynamically or loaded over the network. The heap dump has the same size as the actually heap so I assume all the classes are there, possibly in the permgen. The objective is to extract the definitions in the form of .class files for further examination.","title":"How to extract java class definitions from a heap dump of a running application?","body":"<p>The need for extracting class definitions from a heap dump comes from the way some classes are loaded dynamically, not from static lib jars, but compiled dynamically or loaded over the network. The heap dump has the same size as the actually heap so I assume all the classes are there, possibly in the permgen. The objective is to extract the definitions in the form of .class files for further examination.</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":325434,"reputation":25037,"user_id":646619,"accept_rate":90,"display_name":"Colonel Thirty Two"},"score":5,"creation_date":1455244517,"post_id":35353778,"comment_id":58414602,"body_markdown":"_&quot;faster than other Heaps&#39; implementation, such that of C.&quot;_ Gonna need some benchmarks. Also, the heap implementation depends on the particular JVM you are using, and for any of the popular ones, an in-depth analysis would be too long for an SO answer.","body":"<i>&quot;faster than other Heaps&#39; implementation, such that of C.&quot;</i> Gonna need some benchmarks. Also, the heap implementation depends on the particular JVM you are using, and for any of the popular ones, an in-depth analysis would be too long for an SO answer."},{"owner":{"account_id":7778124,"reputation":411,"user_id":5885523,"accept_rate":60,"display_name":"Judismar Arpini Junior"},"score":0,"creation_date":1455244923,"post_id":35353778,"comment_id":58414706,"body_markdown":"I learned years ago in a Programming Language&#39;s Concepts class that it simulates a stack structure for the objects, using garbage collector for reallocation (although I don&#39;t understand how it works). I wonder if this is default in JVMs. If not, I suppose asking how it works is useless... thanks anyway, @Colonel Thirty Two. I&#39;ll wait for more feedback and possible answers. I&#39;ll also see if I can again write a small algorithm in both Java and C that requires a lot of memory allocation in their Heap structure to have something to compare.","body":"I learned years ago in a Programming Language&#39;s Concepts class that it simulates a stack structure for the objects, using garbage collector for reallocation (although I don&#39;t understand how it works). I wonder if this is default in JVMs. If not, I suppose asking how it works is useless... thanks anyway, @Colonel Thirty Two. I&#39;ll wait for more feedback and possible answers. I&#39;ll also see if I can again write a small algorithm in both Java and C that requires a lot of memory allocation in their Heap structure to have something to compare."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1455245351,"post_id":35353778,"comment_id":58414832,"body_markdown":"The ability to move objects around freely is _extremely_ valuable in making memory allocation easy.  Most of the time a heap allocation just allocates the next chunk of memory and increments a pointer somewhere, and then the GC moves all retained objects out of the way so you continue to have just a giant chunk of free memory.","body":"The ability to move objects around freely is <i>extremely</i> valuable in making memory allocation easy.  Most of the time a heap allocation just allocates the next chunk of memory and increments a pointer somewhere, and then the GC moves all retained objects out of the way so you continue to have just a giant chunk of free memory."},{"owner":{"account_id":7778124,"reputation":411,"user_id":5885523,"accept_rate":60,"display_name":"Judismar Arpini Junior"},"score":0,"creation_date":1455246590,"post_id":35353778,"comment_id":58415167,"body_markdown":"I ran some small and simple experiments of memory allocation in loops, and got too the conclusion that not necessarily Java&#39;s Heap is faster than C&#39;s, in therms of allocation. I&#39;m editing the question.\n\nThanks for the feedback, @Louis Wasserman.","body":"I ran some small and simple experiments of memory allocation in loops, and got too the conclusion that not necessarily Java&#39;s Heap is faster than C&#39;s, in therms of allocation. I&#39;m editing the question.  Thanks for the feedback, @Louis Wasserman."}],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1455248490,"creation_date":1455248490,"answer_id":35354439,"question_id":35353778,"body_markdown":"The HotSpot JVM uses a collection of different garbage collectors in tandem with one another to increase efficiency. Since most objects have extremely short lifetimes, it uses a stop-and-copy garbage collector with a small size for most allocations. Since stop-and-copy allows for almost instantaneous allocations (usually one or two assembly instructions), this makes most allocations fast. The cost of doing a &quot;copy&quot; step is low because most objects are reclaimed and the small size reserved for the copy collector gives a good upper-bound on the maximum time spent copying.\r\n\r\nFor objects that survive a long time in the first layer of the stop-and-copy collector, the HotSpot has a second level of stop-and-copied memory where it relocates those objects. This frees up more space in the top-level copy collector. Objects that survive long enough there are then moved to an area that uses mark-and-sweep collection. The idea is that anything that ends up there is likely to be around a long time because it&#39;s survived so long.\r\n\r\nThis hybrid approach - plus a bunch of other optimizations - explains why allocations and deallocations are so fast. Notice that the key tricks used here - namely, relocating objects - are hard to implement in low-level languages because of exposed pointers.","title":"Java&#39;s Heap Structure Implementation","body":"<p>The HotSpot JVM uses a collection of different garbage collectors in tandem with one another to increase efficiency. Since most objects have extremely short lifetimes, it uses a stop-and-copy garbage collector with a small size for most allocations. Since stop-and-copy allows for almost instantaneous allocations (usually one or two assembly instructions), this makes most allocations fast. The cost of doing a \"copy\" step is low because most objects are reclaimed and the small size reserved for the copy collector gives a good upper-bound on the maximum time spent copying.</p>\n\n<p>For objects that survive a long time in the first layer of the stop-and-copy collector, the HotSpot has a second level of stop-and-copied memory where it relocates those objects. This frees up more space in the top-level copy collector. Objects that survive long enough there are then moved to an area that uses mark-and-sweep collection. The idea is that anything that ends up there is likely to be around a long time because it's survived so long.</p>\n\n<p>This hybrid approach - plus a bunch of other optimizations - explains why allocations and deallocations are so fast. Notice that the key tricks used here - namely, relocating objects - are hard to implement in low-level languages because of exposed pointers.</p>\n"}],"owner":{"account_id":7778124,"reputation":411,"user_id":5885523,"accept_rate":60,"display_name":"Judismar Arpini Junior"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1455249340,"accepted_answer_id":35354439,"answer_count":1,"score":2,"last_activity_date":1639312251,"creation_date":1455243947,"question_id":35353778,"body_markdown":"I understand that Java allocates objects in the Heap and why. I understand that primitive data types and references variables are allocated on the Stack structure.\r\n\r\nWhat I don&#39;t understand is it&#39;s efficiency. It seems to work pretty fast, in comparison to others&#39;.\r\n\r\nMy questions are related to each other: What makes Java&#39;s Heap structure efficient? How is it implemented?","title":"Java&#39;s Heap Structure Implementation","body":"<p>I understand that Java allocates objects in the Heap and why. I understand that primitive data types and references variables are allocated on the Stack structure.</p>\n\n<p>What I don't understand is it's efficiency. It seems to work pretty fast, in comparison to others'.</p>\n\n<p>My questions are related to each other: What makes Java's Heap structure efficient? How is it implemented?</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639311822,"creation_date":1639311822,"answer_id":70323495,"question_id":70323428,"body_markdown":"Use a `while` loop, to add numbers in a `Set` (no duplicate) until you reach the good size \r\n\r\n    private static Integer[] readArray(int arraySize) {\r\n        Set&lt;Integer&gt; unique = new LinkedHashSet&lt;&gt;();\r\n        Random r = new Random();\r\n        while (unique.size() != arraySize)\r\n            unique.add(r.nextInt(arraySize));\r\n        return unique.toArray(new Integer[0]);\r\n    }\r\n","title":"How to create an array of random elements without duplicates?","body":"<p>Use a <code>while</code> loop, to add numbers in a <code>Set</code> (no duplicate) until you reach the good size</p>\n<pre><code>private static Integer[] readArray(int arraySize) {\n    Set&lt;Integer&gt; unique = new LinkedHashSet&lt;&gt;();\n    Random r = new Random();\n    while (unique.size() != arraySize)\n        unique.add(r.nextInt(arraySize));\n    return unique.toArray(new Integer[0]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639311903,"creation_date":1639311903,"answer_id":70323511,"question_id":70323428,"body_markdown":"Use `Set` to keep track of elements present in the `array` till now and make use of it to avoid duplicates\r\n\r\n    private static int[] readArray(int arraySize) {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        Random r = new Random();\r\n        int[] arr = new int[arraySize];\r\n        int random;\r\n        for (int i=0; i&lt;arr.length; i++) {\r\n            while (set.contains(random = r.nextInt(arraySize)));\r\n            arr[i] = random;\r\n            set.add(random);\r\n        }\r\n        return arr;\r\n    }","title":"How to create an array of random elements without duplicates?","body":"<p>Use <code>Set</code> to keep track of elements present in the <code>array</code> till now and make use of it to avoid duplicates</p>\n<pre><code>private static int[] readArray(int arraySize) {\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    Random r = new Random();\n    int[] arr = new int[arraySize];\n    int random;\n    for (int i=0; i&lt;arr.length; i++) {\n        while (set.contains(random = r.nextInt(arraySize)));\n        arr[i] = random;\n        set.add(random);\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639312245,"creation_date":1639312245,"answer_id":70323543,"question_id":70323428,"body_markdown":"Question is duplicated: https://stackoverflow.com/questions/4040001/creating-random-numbers-with-no-duplicates\r\n\r\nChange this:\r\n\r\n    for (int i=0; i&lt;arr.length; i++) {\r\n        arr[i] = r.nextInt(arraySize);\r\n    }\r\n\r\nto this:\r\n    \r\n    arr = r.ints(0, arraySize).distinct().limit(arraySize).toArray();\r\n\r\nor \r\n\r\n    arr = r.ints(0, 10000).distinct().limit(arraySize).toArray();\r\n\r\n10000 is upper limit.\r\n","title":"How to create an array of random elements without duplicates?","body":"<p>Question is duplicated: <a href=\"https://stackoverflow.com/questions/4040001/creating-random-numbers-with-no-duplicates\">Creating random numbers with no duplicates</a></p>\n<p>Change this:</p>\n<pre><code>for (int i=0; i&lt;arr.length; i++) {\n    arr[i] = r.nextInt(arraySize);\n}\n</code></pre>\n<p>to this:</p>\n<pre><code>arr = r.ints(0, arraySize).distinct().limit(arraySize).toArray();\n</code></pre>\n<p>or</p>\n<pre><code>arr = r.ints(0, 10000).distinct().limit(arraySize).toArray();\n</code></pre>\n<p>10000 is upper limit.</p>\n"}],"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1639312627,"accepted_answer_id":70323511,"answer_count":3,"score":-1,"last_activity_date":1639312245,"creation_date":1639311305,"question_id":70323428,"body_markdown":"```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n\r\n        private static int[] readArray(int arraySize) {\r\n            Random r = new Random();\r\n            int[] arr = new int[arraySize];\r\n\r\n            for (int i=0; i&lt;arr.length; i++) {\r\n                arr[i] = r.nextInt(arraySize);\r\n            }\r\n            return arr;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter array size: &quot;);\r\n            int size = sc.nextInt();\r\n            int[] arr = readArray(size);\r\n            System.out.println(Arrays.toString(arr));\r\n        }\r\n}\r\n```\r\nHow to modify above code, so that if I input 100, I have an array of 100 numbers without duplicates ?\r\n\r\nThank you.\r\n","title":"How to create an array of random elements without duplicates?","body":"<pre><code>import java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Test {\n\n        private static int[] readArray(int arraySize) {\n            Random r = new Random();\n            int[] arr = new int[arraySize];\n\n            for (int i=0; i&lt;arr.length; i++) {\n                arr[i] = r.nextInt(arraySize);\n            }\n            return arr;\n        }\n\n        public static void main(String[] args) {\n            Scanner sc = new Scanner(System.in);\n            System.out.println(&quot;Enter array size: &quot;);\n            int size = sc.nextInt();\n            int[] arr = readArray(size);\n            System.out.println(Arrays.toString(arr));\n        }\n}\n</code></pre>\n<p>How to modify above code, so that if I input 100, I have an array of 100 numbers without duplicates ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","inheritance","constructor","heap-memory"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1455540781,"post_id":35409829,"comment_id":58520482,"body_markdown":"The short answer is yes. New object instances are created with the `dup` opcode, constructors are only called after that. You can create your own objects without invoking a constructor too, using deserialization for example.","body":"The short answer is yes. New object instances are created with the <code>dup</code> opcode, constructors are only called after that. You can create your own objects without invoking a constructor too, using deserialization for example."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":1,"creation_date":1455543514,"post_id":35409829,"comment_id":58522296,"body_markdown":"@nits.kk, have a look at this article: https://www.artima.com/designtechniques/initializationP.html","body":"@nits.kk, have a look at this article: <a href=\"https://www.artima.com/designtechniques/initializationP.html\" rel=\"nofollow noreferrer\">artima.com/designtechniques/initializationP.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1455540783,"creation_date":1455540783,"answer_id":35409890,"question_id":35409829,"body_markdown":"&gt; Does object in java created before Constructor is invoked ?\r\n\r\nYes, otherwise you would not have an object to initialise.\r\n\r\nAt the byte code level, the object is created first, and then the constructor is called, passing in the object to initialise. The internal name for a constructor is `&lt;init&gt;` and it&#39;s return type is always `void` meaning it doesn&#39;t return the object, only initialise it.\r\n\r\nNote: `Unsafe.allocateInstance` will create an object without calling a constructor and is useful for de-serialization.","title":"Does object in java created on heap before Constructor is invoked?","body":"<blockquote>\n  <p>Does object in java created before Constructor is invoked ?</p>\n</blockquote>\n\n<p>Yes, otherwise you would not have an object to initialise.</p>\n\n<p>At the byte code level, the object is created first, and then the constructor is called, passing in the object to initialise. The internal name for a constructor is <code>&lt;init&gt;</code> and it's return type is always <code>void</code> meaning it doesn't return the object, only initialise it.</p>\n\n<p>Note: <code>Unsafe.allocateInstance</code> will create an object without calling a constructor and is useful for de-serialization.</p>\n"}],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35409890,"answer_count":1,"score":5,"last_activity_date":1639312217,"creation_date":1455540536,"question_id":35409829,"body_markdown":"When overridden methods are called from the Constructor of the base class then also as per the run time polymorphism concept the method defined in the sub class gets invoked. I wonder as how this is taken care of in the JVM, when control is in the base class constructor the constructor of the sub class is yet to be called and hence Object is not yet completely constructed. \r\n\r\nI understand the ill effects of calling overriden methods from base class constructor but just wish to understand as how this is made possible. \r\n\r\nI feel object in the heap is created before constructor is invoked and as constructor is invoked the properties are initialized.  Please provide your valuable inputs for the above.\r\n\r\nBelow is the code demonstrating the same. \r\n\r\n**Base.java**\r\n\r\n    public class Base {\r\n        public Base() {\r\n                System.out.println(&quot;Base constructor is executing...&quot;);\r\n                someMethod();\r\n        }\r\n\r\n        public void someMethod() {\r\n                System.out.println(&quot;someMethod defined in Base class executing...&quot;);\r\n        }\r\n    }\r\n\r\n**Sub.java**\r\n\r\n    public class Sub extends Base{\r\n        public Sub() {\r\n                System.out.println(&quot;Sub constructor is executing...&quot;);\r\n        }\r\n        @Override\r\n        public void someMethod() {\r\n                System.out.println(&quot;someMethod defined in Sub class executing...&quot;);\r\n        }\r\n    }\r\n\r\n**Client.java**\r\n\r\n    public class Client {\r\n        public static void main(String[] args) {\r\n                Sub obj = new Sub();\r\n        }\r\n    }\r\n\r\n**Output on console is** \r\n\r\nBase constructor is executing...\r\n\r\nsomeMethod defined in Sub class executing...\r\n\r\nSub constructor is executing...\r\n\r\n","title":"Does object in java created on heap before Constructor is invoked?","body":"<p>When overridden methods are called from the Constructor of the base class then also as per the run time polymorphism concept the method defined in the sub class gets invoked. I wonder as how this is taken care of in the JVM, when control is in the base class constructor the constructor of the sub class is yet to be called and hence Object is not yet completely constructed. </p>\n\n<p>I understand the ill effects of calling overriden methods from base class constructor but just wish to understand as how this is made possible. </p>\n\n<p>I feel object in the heap is created before constructor is invoked and as constructor is invoked the properties are initialized.  Please provide your valuable inputs for the above.</p>\n\n<p>Below is the code demonstrating the same. </p>\n\n<p><strong>Base.java</strong></p>\n\n<pre><code>public class Base {\n    public Base() {\n            System.out.println(\"Base constructor is executing...\");\n            someMethod();\n    }\n\n    public void someMethod() {\n            System.out.println(\"someMethod defined in Base class executing...\");\n    }\n}\n</code></pre>\n\n<p><strong>Sub.java</strong></p>\n\n<pre><code>public class Sub extends Base{\n    public Sub() {\n            System.out.println(\"Sub constructor is executing...\");\n    }\n    @Override\n    public void someMethod() {\n            System.out.println(\"someMethod defined in Sub class executing...\");\n    }\n}\n</code></pre>\n\n<p><strong>Client.java</strong></p>\n\n<pre><code>public class Client {\n    public static void main(String[] args) {\n            Sub obj = new Sub();\n    }\n}\n</code></pre>\n\n<p><strong>Output on console is</strong> </p>\n\n<p>Base constructor is executing...</p>\n\n<p>someMethod defined in Sub class executing...</p>\n\n<p>Sub constructor is executing...</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8225,"page":1767,"page_size":100}
